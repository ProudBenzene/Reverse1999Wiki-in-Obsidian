# 自动化创建角色档案

## 需求

- ==烦恼==：角色的 metadata 元信息很多，且各个角色都不相同，反复查看浪费时间，重复输入浪费精力
- ==诉求==：部分元数据**只需要输入一次，就可以在不同的位置被我复用**。
- ==解决方案==：
	- **涉及插件**：QuickAdd，Templater，linter
	- 下面将根据插件起效果的时间顺序，对自动化流程进行说明。

## 解决方案

首先，最基础的一点，我们需要创建并编辑好角色人物模板文件（[[UTTU人物合辑]]）的大部分内容。

### Templater

Templater 插件提供了大量可供使用的行内函数。可以简单将这些行内函数理解为「标」。在创建模板后，这些「标」就会自动被当前环境中预设好的值替代。例如：

> - 我将 `<% tp.file.title %>` 这个行内函数提前粘贴到角色模板的某个位置；这个函数名中"title"说明它是用来指代这篇新角色档案的标题的
> - 之后我使用该角色模板创建新角色档案，标题名为“十四行诗”
> - 原来 `<% tp.file.title %>` 的位置自动变成了“十四行诗”

解释完原理，下面是本自动化中使用到的 Templater 行内函数及其功能：

```md
<% tp.file.title.split("：")[0] %> // 角色档案标题中冒号前的文本
<% tp.file.title.split("：")[1] %> // 角色档案标题中冒号后的文本
<% tp.file.folder() %> // 角色档案文件所在的文件夹名称
<% tp.frontmatter.name %> // name字段属性的对应值
```