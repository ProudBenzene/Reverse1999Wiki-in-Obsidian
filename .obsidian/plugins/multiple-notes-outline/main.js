/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// src/main.ts
__export(exports, {
  DEFAULT_SETTINGS: () => DEFAULT_SETTINGS,
  FILE_TITLE_BACKGROUND_COLOR: () => FILE_TITLE_BACKGROUND_COLOR,
  FILE_TITLE_BACKGROUND_COLOR_HOVER: () => FILE_TITLE_BACKGROUND_COLOR_HOVER,
  LIST_CALLOUT_DEFAULT: () => LIST_CALLOUT_DEFAULT,
  default: () => MultipleNotesOutlinePlugin3
});
var import_obsidian13 = __toModule(require("obsidian"));

// src/fileView.ts
var import_obsidian8 = __toModule(require("obsidian"));
var import_obsidian9 = __toModule(require("obsidian"));

// src/getTargetFiles.ts
var import_obsidian = __toModule(require("obsidian"));
function getOutgoingLinkFiles(app2, file, info, cache) {
  var _a;
  const files = [];
  for (let i = 0; i < ((_a = info == null ? void 0 : info.frontmatterLinks) == null ? void 0 : _a.length); i++) {
    const fileobj = app2.metadataCache.getFirstLinkpathDest(info.frontmatterLinks[i].link, file.path);
    if (fileobj instanceof import_obsidian.TFile) {
      files.push(fileobj);
    }
  }
  for (let i = 0; i < (cache == null ? void 0 : cache.length); i++) {
    if (cache[i].typeOfElement != "link") {
      continue;
    }
    const fileobj = app2.metadataCache.getFirstLinkpathDest(cache[i].link, file.path);
    if (fileobj instanceof import_obsidian.TFile) {
      files.push(fileobj);
    }
  }
  return files;
}
function getBacklinkFiles(app2, file) {
  const files = [];
  const backlinks = app2.metadataCache.getBacklinksForFile(file).data;
  for (const key in backlinks) {
    const fileobj = app2.vault.getAbstractFileByPath(key);
    if (fileobj instanceof import_obsidian.TFile) {
      files.push(fileobj);
    }
  }
  return files;
}
function getBacklinkFilesDataview(app2, file, isDataviewEnabled) {
  var _a, _b, _c, _d;
  const files = [];
  if (!isDataviewEnabled) {
    return getBacklinkFiles(app2, file);
  }
  const backlinks = (_d = (_c = (_b = (_a = app2.plugins.plugins.dataview) == null ? void 0 : _a.api) == null ? void 0 : _b.pages(`"${file.path}"`)) == null ? void 0 : _c.values[0]) == null ? void 0 : _d.file.inlinks.values;
  if (!backlinks) {
    return getBacklinkFiles(app2, file);
  }
  for (let i = 0; i < backlinks.length; i++) {
    const fileobj = app2.vault.getAbstractFileByPath(backlinks[i].path);
    if (fileobj instanceof import_obsidian.TFile) {
      files.push(fileobj);
    }
  }
  return files;
}

// src/getOutline.ts
var import_obsidian2 = __toModule(require("obsidian"));
function initFileStatus(files) {
  const status = [];
  for (let i = 0; i < files.length; i++) {
    const flagFolder = Boolean(files[i] instanceof import_obsidian2.TFolder);
    status.push({
      isFolded: false,
      isTop: false,
      duplicated: {
        main: false,
        outgoing: false,
        backlink: false,
        self: false
      },
      outlineReady: false,
      isFolder: flagFolder
    });
  }
  return status;
}
function getFileInfo(app2, file, settings, forceGetBacklinks = false, isDataviewEnabled) {
  return __async(this, null, function* () {
    if (file.extension == "md") {
      const content = yield this.app.vault.cachedRead(file);
      const lines = content.split("\n");
      const backlinkFiles = settings.showBacklinks || forceGetBacklinks ? getBacklinkFilesDataview(app2, file, isDataviewEnabled) : void 0;
      const info = {
        lines,
        numOfLines: lines.length,
        backlinks: backlinkFiles,
        frontmatterLinks: void 0
      };
      return info;
    } else {
      const backlinkFiles = settings.showBacklinks || forceGetBacklinks ? getBacklinkFilesDataview(app2, file, isDataviewEnabled) : void 0;
      const info = {
        lines: [""],
        numOfLines: 0,
        backlinks: backlinkFiles,
        frontmatterLinks: void 0
      };
      return info;
    }
  });
}
function getOutline(app2, file, status, info, settings) {
  return __async(this, null, function* () {
    const data = [];
    const cache = app2.metadataCache.getFileCache(file);
    if (file.extension == "canvas") {
      return yield getCanvasOutline(app2, file);
    }
    if (file.extension != "md") {
      return data;
    }
    if (!cache) {
      return null;
    }
    info.frontmatterLinks = cache == null ? void 0 : cache.frontmatterLinks;
    if (cache.hasOwnProperty("headings")) {
      for (let j = 0; j < cache.headings.length; j++) {
        const element = {
          typeOfElement: "heading",
          position: cache.headings[j].position,
          displayText: cache.headings[j].heading,
          level: cache.headings[j].level
        };
        data.push(element);
      }
    }
    if (cache.hasOwnProperty("links")) {
      for (let j = 0; j < cache.links.length; j++) {
        const element = {
          typeOfElement: "link",
          position: cache.links[j].position,
          displayText: cache.links[j].displayText == "" ? cache.links[j].original.substring(1, cache.links[j].original.indexOf("]")) : cache.links[j].displayText,
          link: cache.links[j].link
        };
        data.push(element);
      }
    }
    if (cache.hasOwnProperty("embeds")) {
      for (let j = 0; j < cache.embeds.length; j++) {
        const element = {
          typeOfElement: "link",
          position: cache.embeds[j].position,
          displayText: cache.embeds[j].displayText == "" ? cache.embeds[j].original.substring(1, cache.embeds[j].original.indexOf("]")) : cache.embeds[j].displayText,
          link: cache.embeds[j].link
        };
        data.push(element);
      }
    }
    if (cache.hasOwnProperty("listItems")) {
      for (let j = 0; j < cache.listItems.length; j++) {
        let listLevel = 0;
        if (cache.listItems[j].parent > 0) {
          listLevel = 2;
        } else if (j > 0) {
          if (!(Math.abs(cache.listItems[j].parent) == cache.listItems[j].position.start.line) && cache.listItems[j].position.start.line - cache.listItems[j - 1].position.start.line == 1) {
            listLevel = 1;
          }
        }
        const element = {
          typeOfElement: "listItems",
          position: cache.listItems[j].position,
          displayText: info == null ? void 0 : info.lines[cache.listItems[j].position.start.line].replace(/^(\s|\t)*-\s(\[.+\]\s)*/, ""),
          level: listLevel,
          task: cache.listItems[j].task
        };
        data.push(element);
      }
    }
    if (cache.hasOwnProperty("tags")) {
      for (let j = 0; j < cache.tags.length; j++) {
        const element = {
          typeOfElement: "tag",
          position: cache.tags[j].position,
          displayText: cache.tags[j].tag.substring(1)
        };
        data.push(element);
        for (const value of settings.tagsAOT) {
          if (value && cache.tags[j].tag == value) {
            status.isTop = true;
          }
        }
      }
    }
    data.sort((a, b) => {
      return a.position.start.offset - b.position.start.offset;
    });
    return data;
  });
}
function getCanvasOutline(app2, file) {
  return __async(this, null, function* () {
    const data = [];
    const canvas = yield app2.vault.read(file);
    const canvasData = JSON.parse(canvas);
    if (!(canvasData == null ? void 0 : canvasData.nodes)) {
      return data;
    }
    for (const node of canvasData.nodes) {
      if (node.type == "file") {
        const element = {
          typeOfElement: "link",
          position: void 0,
          displayText: app2.vault.getAbstractFileByPath(node.file).name,
          link: app2.vault.getAbstractFileByPath(node.file).name
        };
        data.push(element);
      }
      if (node.type == "text") {
        const element = {
          typeOfElement: "listItems",
          position: void 0,
          displayText: node.text,
          level: 0,
          task: void 0
        };
        data.push(element);
      }
    }
    data.sort((a, b) => {
      if (a.typeOfElement != b.typeOfElement) {
        return a.typeOfElement == "link" ? -1 : 1;
      }
      return a.displayText < b.displayText ? -1 : 1;
    });
    return data;
  });
}

// src/util.ts
var import_obsidian3 = __toModule(require("obsidian"));
function cleanRelatedFiles(srcFile, dstFile, settings) {
  if (Object.keys(settings.relatedFiles[srcFile.path][dstFile.path]).length == 0) {
    delete settings.relatedFiles[srcFile.path][dstFile.path];
  }
  if (Object.keys(settings.relatedFiles[srcFile.path]).length === 0) {
    delete settings.relatedFiles[srcFile.path];
  }
}
function checkFlag(srcFile, dstFile, flag, settings) {
  var _a, _b;
  return (_b = (_a = settings.relatedFiles[srcFile.path]) == null ? void 0 : _a[dstFile.path]) == null ? void 0 : _b[flag];
}
function addFlag(srcFile, dstFile, flag, settings) {
  if (!settings.relatedFiles.hasOwnProperty(srcFile.path)) {
    settings.relatedFiles[srcFile.path] = {};
  }
  if (!settings.relatedFiles[srcFile.path].hasOwnProperty(dstFile.path)) {
    settings.relatedFiles[srcFile.path][dstFile.path] = {};
  }
  settings.relatedFiles[srcFile.path][dstFile.path][flag] = true;
}
function removeFlag(srcFile, dstFile, flag, settings) {
  delete settings.relatedFiles[srcFile.path][dstFile.path][flag];
  cleanRelatedFiles(srcFile, dstFile, settings);
}
function handleRenameRelatedFiles(renamedFile, oldPath, settings) {
  let renamed = false;
  for (const srcFilePath in settings.relatedFiles) {
    for (const dstFilePath in settings.relatedFiles[srcFilePath]) {
      if (dstFilePath == oldPath) {
        settings.relatedFiles[srcFilePath][renamedFile.path] = settings.relatedFiles[srcFilePath][dstFilePath];
        delete settings.relatedFiles[srcFilePath][dstFilePath];
        renamed = true;
      }
    }
    if (srcFilePath == oldPath) {
      settings.relatedFiles[renamedFile.path] = settings.relatedFiles[srcFilePath];
      delete settings.relatedFiles[srcFilePath];
      renamed = true;
    }
  }
  return renamed;
}
function handleDeleteRelatedFiles(deletedFile, settings) {
  let deleted = false;
  for (const srcFilePath in settings.relatedFiles) {
    for (const dstFilePath in settings.relatedFiles[srcFilePath]) {
      if (dstFilePath == deletedFile.path) {
        delete settings.relatedFiles[srcFilePath][dstFilePath];
        deleted = true;
      }
    }
    if (srcFilePath == deletedFile.path) {
      delete settings.relatedFiles[srcFilePath];
      deleted = true;
    }
  }
  return deleted;
}
function getTheme() {
  var _a;
  const theme = ((_a = app.vault.config) == null ? void 0 : _a.theme) === "moonstone" ? "light" : "dark";
  return theme;
}
function setNoteTitleBackgroundColor(theme, settings) {
  switch (settings.noteTitleBackgroundColor) {
    case "none":
      break;
    case "custom":
      document.getElementsByTagName("body")[0].style.setProperty("--MNO-filetitle-background", settings.customNoteTitleBackgroundColor[theme]);
      document.getElementsByTagName("body")[0].style.setProperty("--MNO-filetitle-background-hover", settings.customNoteTitleBackgroundColorHover[theme]);
      break;
    default:
      document.getElementsByTagName("body")[0].style.setProperty("--MNO-filetitle-background", FILE_TITLE_BACKGROUND_COLOR[settings.noteTitleBackgroundColor][theme]);
      document.getElementsByTagName("body")[0].style.setProperty("--MNO-filetitle-background-hover", FILE_TITLE_BACKGROUND_COLOR_HOVER[settings.noteTitleBackgroundColor][theme]);
      break;
  }
}
function sortFileOrder(order, files, status, info, settings) {
  switch (settings.sortType) {
    case "alphabetAscending":
      order.sort((val1, val2) => {
        if (status[val1].isFolder != status[val2].isFolder) {
          return status[val1].isFolder == true ? 1 : -1;
        }
        return files[val1].name.localeCompare(files[val2].name);
      });
      break;
    case "alphabetDescending":
      order.sort((val1, val2) => {
        if (status[val1].isFolder != status[val2].isFolder) {
          return status[val1].isFolder == true ? 1 : -1;
        }
        return files[val2].name.localeCompare(files[val1].name);
      });
      break;
    case "ctimeDescending":
      order.sort((val1, val2) => {
        var _a, _b;
        if (status[val1].isFolder != status[val2].isFolder) {
          return status[val1].isFolder == true ? 1 : -1;
        }
        if (status[val1].isFolder == true) {
          return files[val1].name.localeCompare(files[val2].name);
        }
        return ((_a = files[val2]) == null ? void 0 : _a.stat.ctime) - ((_b = files[val1]) == null ? void 0 : _b.stat.ctime);
      });
      break;
    case "ctimeAscending":
      order.sort((val1, val2) => {
        var _a, _b;
        if (status[val1].isFolder != status[val2].isFolder) {
          return status[val1].isFolder == true ? 1 : -1;
        }
        if (status[val1].isFolder == true) {
          return files[val1].name.localeCompare(files[val2].name);
        }
        return ((_a = files[val1]) == null ? void 0 : _a.stat.ctime) - ((_b = files[val2]) == null ? void 0 : _b.stat.ctime);
      });
      break;
    case "mtimeDescending":
      order.sort((val1, val2) => {
        if (status[val1].isFolder != status[val2].isFolder) {
          return status[val1].isFolder == true ? 1 : -1;
        }
        if (status[val1].isFolder == true) {
          return files[val1].name.localeCompare(files[val2].name);
        }
        return files[val2].stat.mtime - files[val1].stat.mtime;
      });
      break;
    case "mtimeAscending":
      order.sort((val1, val2) => {
        if (status[val1].isFolder != status[val2].isFolder) {
          return status[val1].isFolder == true ? 1 : -1;
        }
        if (status[val1].isFolder == true) {
          return files[val1].name.localeCompare(files[val2].name);
        }
        return files[val1].stat.mtime - files[val2].stat.mtime;
      });
      break;
    default:
      break;
  }
}
var ModalConfirm = class extends import_obsidian3.Modal {
  constructor(app2, plugin, instruction, onSubmit) {
    super(app2);
    this.plugin = plugin;
    this.instruction = instruction;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("br");
    contentEl.createEl("p", {
      text: this.instruction
    });
    new import_obsidian3.Setting(contentEl).addButton((btn) => btn.setButtonText("Execute").setCta().onClick(() => __async(this, null, function* () {
      this.execute();
    }))).addButton((btn) => btn.setButtonText("Cancel").onClick(() => {
      this.close();
    }));
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
  execute() {
    return __async(this, null, function* () {
      this.close();
      this.onSubmit();
    });
  }
};
function checkRelatedFiles(app2, settings) {
  for (const srcFilePath in settings.relatedFiles) {
    for (const dstFilePath in settings.relatedFiles[srcFilePath]) {
      if (!app2.vault.getAbstractFileByPath(dstFilePath)) {
        delete settings.relatedFiles[srcFilePath][dstFilePath];
        if (Object.keys(settings.relatedFiles[srcFilePath]).length === 0) {
          delete settings.relatedFiles[srcFilePath];
        }
      }
    }
    if (!app2.vault.getAbstractFileByPath(srcFilePath)) {
      delete settings.relatedFiles[srcFilePath];
    }
  }
}
function getSubpathPosition(app2, file, subpath) {
  var _a, _b;
  if (!subpath) {
    return null;
  }
  const cache = app2.metadataCache.getFileCache(file);
  if (!cache) {
    return null;
  }
  const checkpath = (0, import_obsidian3.stripHeading)(subpath);
  if ((_a = cache.headings) == null ? void 0 : _a.length) {
    const index = cache.headings.findIndex((element) => (0, import_obsidian3.stripHeading)(element.heading) == checkpath);
    if (index >= 0) {
      return cache.headings[index].position;
    }
  }
  if ((_b = cache.sections) == null ? void 0 : _b.length) {
    const index = cache.sections.findIndex((element) => {
      element.id ? (0, import_obsidian3.stripHeading)(element.id) : checkpath == null;
    });
    if (index >= 0) {
      return cache.sections[index].position;
    }
  }
  return null;
}
function checkDataview(app2) {
  if (app2.plugins.plugins["dataview"]) {
    return true;
  } else {
    return false;
  }
}
function checkListCallouts(checkString, callouts) {
  if (!callouts)
    return null;
  for (let i = 0; i < callouts.length; i++) {
    if (checkString.startsWith(callouts[i].char + " ")) {
      return i;
    }
  }
  return null;
}
function shouldDisplayListItem(data, settings, calloutsIndex) {
  if (settings.hideCompletedTasks == true && data.task == "x") {
    return false;
  }
  if (settings.taskOnly == true && data.task === void 0) {
    return false;
  }
  if (settings.allTasks == true && data.task !== void 0) {
    return true;
  }
  if (settings.dispListCallouts == true && typeof calloutsIndex === "number") {
    return true;
  }
  if (data.level == 2 || data.level == 1 && settings.allRootItems == false) {
    return false;
  }
  return true;
}

// src/drawUI.ts
var import_obsidian5 = __toModule(require("obsidian"));

// src/FavAndRecent.ts
var import_obsidian4 = __toModule(require("obsidian"));
function updateFavAndRecent(targetPath, category, suggestType) {
  return __async(this, null, function* () {
    this.settings[suggestType][category] = this.settings[suggestType][category].filter((value) => targetPath !== value);
    this.settings[suggestType][category].unshift(targetPath);
    if (this.settings.recent[category].length > this.settings.numOfRecentFiles) {
      const numToDelete = this.settings.recent[category].length - this.settings.numOfRecentFiles;
      for (let i = 0; i < numToDelete; i++) {
        this.settings.recent[category].pop();
      }
    }
    if (this.settings.saveRecentView || this.suggestType == "favorite") {
      yield this.plugin.saveSettings();
    }
  });
}
function deleteFavAndRecent(targetPath, category, suggestType) {
  return __async(this, null, function* () {
    this.settings[suggestType][category] = this.settings[suggestType][category].filter((value) => targetPath !== value);
    if (this.settings.saveRecentView || this.suggestType == "favorite") {
      yield this.plugin.saveSettings();
    }
  });
}
var ModalJump = class extends import_obsidian4.SuggestModal {
  constructor(app2, view, category, suggestType, onSubmit) {
    super(app2);
    this.view = view;
    this.category = category;
    this.suggestType = suggestType;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    this.setPlaceholder("Jump to " + this.suggestType + " " + this.category + "s");
    this.setInstructions([
      { command: "Enter", purpose: "Jump to item" },
      { command: "Ctrl + Enter", purpose: "Add to Favorites" },
      { command: "Delete", purpose: "Remove from the list" },
      { command: "ESC", purpose: "Dismiss" }
    ]);
    this.scope.register(["Ctrl"], "Enter", (evt) => {
      var _a;
      const item = (_a = this.chooser.values) == null ? void 0 : _a[this.chooser.selectedItem];
      updateFavAndRecent.call(this.view, item, this.category, "favorite");
      this.close();
    });
    this.scope.register([], "Delete", (evt) => {
      var _a;
      const item = (_a = this.chooser.values) == null ? void 0 : _a[this.chooser.selectedItem];
      deleteFavAndRecent.call(this.view, item, this.category, this.suggestType);
      this.close();
    });
    super.onOpen();
  }
  getSuggestions(query) {
    return this.view.plugin.settings[this.suggestType][this.category].filter((target) => target.toLowerCase().includes(query.toLowerCase()));
  }
  renderSuggestion(value, el) {
    el.createEl("div", { text: value });
  }
  onChooseSuggestion(item, evt) {
    return __async(this, null, function* () {
      updateFavAndRecent.call(this.view, item, this.category, this.suggestType);
      if (this.view.settings.saveRecentView || this.suggestType == "favorite") {
        yield this.view.plugin.saveSettings();
      }
      this.onSubmit(item);
    });
  }
};
function handleRenameFavAndRecentFiles(renamedFile, oldPath, settings) {
  const renameType = renamedFile instanceof import_obsidian4.TFile ? "file" : "folder";
  let renamed = false;
  for (let i = 0; i < settings.recent[renameType].length; i++) {
    if (settings.recent[renameType][i] == oldPath) {
      settings.recent[renameType][i] = renamedFile.path;
      renamed = true;
    }
  }
  for (let i = 0; i < settings.favorite[renameType].length; i++) {
    if (settings.favorite[renameType][i] == oldPath) {
      settings.favorite[renameType][i] = renamedFile.path;
      renamed = true;
    }
  }
  return renamed;
}
function handleDeleteFavAndRecentFiles(deletedFile, settings) {
  const deleteType = deletedFile instanceof import_obsidian4.TFile ? "file" : "folder";
  let deleted = false;
  for (let i = 0; i < settings.recent[deleteType].length; i++) {
    if (settings.recent[deleteType][i] == deletedFile.path) {
      settings.recent[deleteType].splice(i, 1);
      deleted = true;
    }
  }
  for (let i = 0; i < settings.favorite[deleteType].length; i++) {
    if (settings.favorite[deleteType][i] == deletedFile.path) {
      settings.favorite[deleteType].splice(i, 1);
      deleted = true;
    }
  }
  return deleted;
}
function checkFavAndRecentFiles(app2, settings, checkType) {
  for (let i = 0; i < settings.favorite[checkType].length; i++) {
    if (!app2.vault.getAbstractFileByPath(settings.favorite[checkType][i])) {
      settings.favorite[checkType].splice(i, 1);
    }
  }
  for (let i = 0; i < settings.recent[checkType].length; i++) {
    if (!app2.vault.getAbstractFileByPath(settings.recent[checkType][i])) {
      settings.recent[checkType].splice(i, 1);
    }
  }
}

// src/drawUI.ts
function drawUI() {
  const navHeader = createDiv("nav-header");
  const navButtonContainer = navHeader.createDiv("nav-buttons-container");
  uiUpdate.call(this, navButtonContainer);
  uiFavAndRecent.call(this, navButtonContainer);
  uiSetting.call(this, navButtonContainer);
  uiToggleHeading.call(this, navButtonContainer);
  uiToggleLink.call(this, navButtonContainer);
  uiToggleListItems.call(this, navButtonContainer);
  uiToggleBacklinks.call(this, navButtonContainer);
  uiCollapse.call(this, navButtonContainer);
  this.contentEl.empty();
  this.contentEl.appendChild(navHeader);
}
function drawUIFolderView() {
  const navHeader = createDiv("nav-header");
  const navButtonContainer = navHeader.createDiv("nav-buttons-container");
  uiUpdateFolderView.call(this, navButtonContainer);
  uiFavAndRecent.call(this, navButtonContainer);
  uiSettingFolderView.call(this, navButtonContainer);
  uiToggleHeading.call(this, navButtonContainer);
  uiToggleLink.call(this, navButtonContainer);
  uiToggleListItems.call(this, navButtonContainer);
  uiToggleBacklinks.call(this, navButtonContainer);
  uiCollapse.call(this, navButtonContainer);
  this.contentEl.empty();
  this.contentEl.appendChild(navHeader);
}
function uiUpdate(parentEl) {
  const navActionButton = parentEl.createDiv("clickable-icon nav-action-button");
  if (this.pinnedMode == false) {
    navActionButton.ariaLabel = "update view";
    (0, import_obsidian5.setIcon)(navActionButton, "refresh-cw");
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      const file = this.app.workspace.getActiveFile();
      if (file instanceof import_obsidian5.TFile) {
        this.activeFile = file;
        this.targetFiles.main[0] = this.activeFile;
        updateFavAndRecent.call(this, this.activeFile.path, "file", "recent");
        yield this.refreshView(true, true);
      }
    }));
    navActionButton.addEventListener("contextmenu", (event) => {
      const menu = new import_obsidian5.Menu();
      menu.addItem((item) => item.setTitle("Pin").setIcon("pin").onClick(() => __async(this, null, function* () {
        this.pinnedMode = true;
        yield this.refreshView(false, false);
      })));
      menu.showAtMouseEvent(event);
    });
  } else {
    navActionButton.ariaLabel = "unpin and update view";
    (0, import_obsidian5.setIcon)(navActionButton, "pin");
    navActionButton.classList.add("is-active");
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      this.pinnedMode = false;
      const file = this.app.workspace.getActiveFile();
      if (file instanceof import_obsidian5.TFile) {
        this.activeFile = file;
        this.targetFiles.main[0] = this.activeFile;
        updateFavAndRecent.call(this, this.activeFile.path, "file", "recent");
        yield this.refreshView(true, true);
      }
    }));
    navActionButton.addEventListener("contextmenu", (event) => {
      const menu = new import_obsidian5.Menu();
      menu.addItem((item) => item.setTitle("Unpin").setIcon("pin-off").onClick(() => {
        this.pinnedMode = false;
        this.refreshView(false, false);
      }));
      menu.showAtMouseEvent(event);
    });
  }
}
function uiUpdateFolderView(parentEl) {
  const navActionButton = parentEl.createDiv("clickable-icon nav-action-button");
  navActionButton.ariaLabel = "update view";
  (0, import_obsidian5.setIcon)(navActionButton, "refresh-cw");
  navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
    const file = this.app.workspace.getActiveFile();
    if (file instanceof import_obsidian5.TFile) {
      this.targetFolder = file.parent;
      this.hasMainChanged = true;
      updateFavAndRecent.call(this, this.targetFolder.path, "folder", "recent");
      this.refreshView(true, true);
    }
  }));
}
function uiFavAndRecent(parentEl) {
  const navActionButton = parentEl.createDiv("clickable-icon nav-action-button");
  navActionButton.ariaLabel = "favorite/recent";
  (0, import_obsidian5.setIcon)(navActionButton, "bookmark");
  navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
    const onSubmit = (target) => {
      const targetObj = this.app.vault.getAbstractFileByPath(target);
      if (targetObj instanceof import_obsidian5.TFile) {
        this.targetFiles.main[0] = targetObj;
        this.hasMainChanged = true;
        if (this.settings.pinAfterJump && this.settings.autoupdateFileView) {
          this.pinnedMode = true;
        }
        updateFavAndRecent.call(this, targetObj.path, "file", "recent");
        this.refreshView(true, true);
      }
      if (targetObj instanceof import_obsidian5.TFolder) {
        this.targetFolder = targetObj;
        this.hasMainChanged = true;
        updateFavAndRecent.call(this, targetObj.path, "folder", "recent");
        this.refreshView(true, true);
      }
    };
    new ModalJump(this.app, this, this.viewType, "favorite", onSubmit).open();
  }));
  navActionButton.addEventListener("contextmenu", (event) => __async(this, null, function* () {
    event.preventDefault();
    const onSubmit = (target) => {
      const targetObj = this.app.vault.getAbstractFileByPath(target);
      if (targetObj instanceof import_obsidian5.TFile) {
        this.targetFiles.main[0] = targetObj;
        this.hasMainChanged = true;
        if (this.settings.pinAfterJump && this.settings.autoupdateFileView) {
          this.pinnedMode = true;
        }
        updateFavAndRecent.call(this, targetObj.path, "file", "recent");
        this.refreshView(true, true);
      }
      if (targetObj instanceof import_obsidian5.TFolder) {
        this.targetFolder = targetObj;
        this.hasMainChanged = true;
        updateFavAndRecent.call(this, targetObj.path, "folder", "recent");
        this.refreshView(true, true);
      }
    };
    new ModalJump(this.app, this, this.viewType, "recent", onSubmit).open();
  }));
}
function uiSetting(parentEl) {
  const navActionButton = parentEl.createDiv("clickable-icon nav-action-button");
  navActionButton.ariaLabel = "open settings";
  (0, import_obsidian5.setIcon)(navActionButton, "settings");
  navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
    this.app.setting.open();
    this.app.setting.openTabById(this.plugin.manifest.id);
  }));
  navActionButton.addEventListener("contextmenu", (event) => {
    const menu = new import_obsidian5.Menu();
    for (const category in this.settings.showFiles) {
      const icon2 = this.settings.showFiles[category] == true ? "check" : "";
      menu.addItem((item) => item.setTitle(`show ${category} section`).setIcon(icon2).onClick(() => __async(this, null, function* () {
        this.settings.showFiles[category] = !this.settings.showFiles[category];
        yield this.plugin.saveSettings();
        this.refreshView(false, false);
      })));
    }
    menu.addSeparator();
    for (const element in this.settings.showElements) {
      const icon2 = this.settings.showElements[element] == true ? "check" : "";
      menu.addItem((item) => item.setTitle(`show ${element}`).setIcon(icon2).onClick(() => __async(this, null, function* () {
        this.settings.showElements[element] = !this.settings.showElements[element];
        yield this.plugin.saveSettings();
        this.refreshView(false, false);
      })));
    }
    if (this.settings.showElements.listItems) {
      const icon2 = this.settings.taskOnly ? "check" : "";
      menu.addItem((item) => item.setTitle("tasks only").setIcon(icon2).onClick(() => __async(this, null, function* () {
        this.settings.taskOnly = !this.settings.taskOnly;
        yield this.plugin.saveSettings();
        this.refreshView(false, false);
      })));
    }
    let icon = this.settings.showBacklinks ? "check" : "";
    menu.addItem((item) => item.setTitle("show 2-hop backlinks").setIcon(icon).onClick(() => __async(this, null, function* () {
      this.settings.showBacklinks = !this.settings.showBacklinks;
      yield this.plugin.saveSettings();
      this.refreshView(false, false);
    })));
    menu.addSeparator();
    icon = this.settings.tooltipPreview ? "check" : "";
    menu.addItem((item) => item.setTitle("show tooltip preview").setIcon(icon).onClick(() => __async(this, null, function* () {
      this.settings.tooltipPreview = !this.settings.tooltipPreview;
      yield this.plugin.saveSettings();
      this.refreshView(false, false);
    })));
    menu.showAtMouseEvent(event);
  });
}
function uiSettingFolderView(parentEl, instance) {
  const navActionButton = parentEl.createDiv("clickable-icon nav-action-button");
  navActionButton.ariaLabel = "open settings";
  (0, import_obsidian5.setIcon)(navActionButton, "settings");
  navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
    this.app.setting.open();
    this.app.setting.openTabById(this.plugin.manifest.id);
  }));
  navActionButton.addEventListener("contextmenu", (event) => {
    const menu = new import_obsidian5.Menu();
    for (const element in this.settings.showElements) {
      const icon2 = this.settings.showElements[element] == true ? "check" : "";
      menu.addItem((item) => item.setTitle(`show ${element}`).setIcon(icon2).onClick(() => __async(this, null, function* () {
        this.settings.showElements[element] = !this.settings.showElements[element];
        yield this.plugin.saveSettings();
        this.refreshView(false, false);
      })));
    }
    if (this.settings.showElements.listItems) {
      const icon2 = this.settings.taskOnly ? "check" : "";
      menu.addItem((item) => item.setTitle("tasks only").setIcon(icon2).onClick(() => __async(this, null, function* () {
        this.settings.taskOnly = !this.settings.taskOnly;
        yield this.plugin.saveSettings();
        this.refreshView(false, false);
      })));
    }
    let icon = this.settings.showBacklinks ? "check" : "";
    menu.addItem((item) => item.setTitle("show 2-hop backlinks").setIcon(icon).onClick(() => __async(this, null, function* () {
      this.settings.showBacklinks = !this.settings.showBacklinks;
      yield this.plugin.saveSettings();
      this.refreshView(false, false);
    })));
    menu.addSeparator();
    icon = this.settings.tooltipPreview ? "check" : "";
    menu.addItem((item) => item.setTitle("show tooltip preview").setIcon(icon).onClick(() => __async(this, null, function* () {
      this.settings.tooltipPreview = !this.settings.tooltipPreview;
      yield this.plugin.saveSettings();
      this.refreshView(false, false);
    })));
    menu.addSeparator();
    icon = this.settings.collapseFolder ? "check" : "";
    menu.addItem((item) => item.setTitle("collapse subfolder").setIcon(icon).onClick(() => __async(this, null, function* () {
      this.settings.collapseFolder = !this.settings.collapseFolder;
      yield this.plugin.saveSettings();
      this.refreshView(true, true);
    })));
    menu.showAtMouseEvent(event);
  });
}
function uiToggleHeading(parentEl) {
  const navActionButton = parentEl.createDiv("clickable-icon nav-action-button");
  navActionButton.ariaLabel = "toggle headings";
  (0, import_obsidian5.setIcon)(navActionButton, "heading");
  if (this.settings.showElements.heading) {
    navActionButton.classList.add("is-active");
  }
  navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
    this.settings.showElements.heading = !this.settings.showElements.heading;
    this.refreshView(false, false);
  }));
  navActionButton.addEventListener("contextmenu", (event) => {
    const menu = new import_obsidian5.Menu();
    menu.addItem((item) => item.setTitle("heading level to display"));
    for (let i = 0; i < 6; i++) {
      const dispText = i == 0 ? "H1" : "H1 - H" + (i + 1).toString();
      menu.addItem((item) => item.setTitle(dispText).onClick(() => __async(this, null, function* () {
        this.settings.maxHeadingLevel = i + 1;
        yield this.plugin.saveSettings();
        this.refreshView(false, false);
      })));
    }
    menu.showAtMouseEvent(event);
  });
}
function uiToggleLink(parentEl) {
  const navActionButton = parentEl.createDiv("clickable-icon nav-action-button");
  navActionButton.ariaLabel = "toggle links";
  (0, import_obsidian5.setIcon)(navActionButton, "link");
  if (this.settings.showElements.link) {
    navActionButton.classList.add("is-active");
  }
  navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
    this.settings.showElements.link = !this.settings.showElements.link;
    this.refreshView(false, false);
  }));
}
function uiToggleListItems(parentEl) {
  const navActionButton = parentEl.createDiv("clickable-icon nav-action-button");
  navActionButton.ariaLabel = "toggle list items";
  (0, import_obsidian5.setIcon)(navActionButton, "list");
  if (this.settings.showElements.listItems) {
    navActionButton.classList.add("is-active");
  }
  navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
    this.settings.showElements.listItems = !this.settings.showElements.listItems;
    this.refreshView(false, false);
  }));
}
function uiToggleBacklinks(parentEl) {
  const navActionButton = parentEl.createDiv("clickable-icon nav-action-button");
  navActionButton.ariaLabel = "toggle backlinks";
  (0, import_obsidian5.setIcon)(navActionButton, "links-coming-in");
  if (this.settings.showBacklinks) {
    navActionButton.classList.add("is-active");
  }
  navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
    this.settings.showBacklinks = !this.settings.showBacklinks;
    this.refreshView(false, false);
  }));
}
function uiCollapse(parentEl) {
  const navActionButton = parentEl.createDiv("clickable-icon nav-action-button");
  if (this.collapseAll) {
    navActionButton.classList.add("is-active");
  }
  if (!this.collapseAll) {
    navActionButton.ariaLabel = "collapse all";
    (0, import_obsidian5.setIcon)(navActionButton, "chevrons-down-up");
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      this.collapseAll = true;
      this.refreshView(false, false);
    }));
  } else {
    navActionButton.ariaLabel = "expand";
    (0, import_obsidian5.setIcon)(navActionButton, "chevrons-down-up");
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      this.collapseAll = false;
      this.refreshView(false, false);
    }));
  }
}

// src/constructOutlineDOM.ts
var import_obsidian6 = __toModule(require("obsidian"));
var import_electron = __toModule(require("electron"));
function constructOutlineDOM(file, info, data, parentEl, category) {
  var _a, _b, _c, _d, _e, _f;
  const isCanvas = Boolean(file.extension == "canvas");
  if (this.settings.showPropertyLinks && info.frontmatterLinks && !(category == "outgoing" && this.settings.hideMinor2hopLink)) {
    for (let j = 0; j < info.frontmatterLinks.length; j++) {
      const linkTarget = this.app.metadataCache.getFirstLinkpathDest((0, import_obsidian6.parseLinktext)(info.frontmatterLinks[j].link).path, file.path);
      if (!(linkTarget instanceof import_obsidian6.TFile)) {
        continue;
      }
      const linkSubpath = (0, import_obsidian6.parseLinktext)(info.frontmatterLinks[j].link).subpath;
      const subPathPosition = getSubpathPosition(this.app, linkTarget, linkSubpath);
      if (!checkLinksBetweenRelatedFiles(linkTarget, category, this.settings, this.targetFiles)) {
        continue;
      }
      const outlineEl = parentEl.createDiv("tree-item nav-file");
      const outlineTitle = outlineEl.createDiv("tree-item-self is-clickable nav-file-title");
      (0, import_obsidian6.setIcon)(outlineTitle, "link");
      outlineTitle.style.paddingLeft = "0.5em";
      outlineTitle.createDiv("tree-item-inner nav-file-title-content").setText(info.frontmatterLinks[j].displayText);
      outlineTitle.addEventListener("click", (event) => __async(this, null, function* () {
        if (this.settings.openLinkByClick) {
          yield openElementPosition(linkTarget, subPathPosition, void 0, this.app);
          this.holdUpdateOnce = Boolean(linkTarget != this.activeFile);
        } else {
          yield openElementPosition(file, null, void 0, this.app);
          this.holdUpdateOnce = Boolean(file != this.activeFile);
        }
      }), false);
      outlineTitle.addEventListener("mouseover", (event) => {
        var _a2;
        if (linkTarget) {
          this.app.workspace.trigger("hover-link", {
            event,
            source: MultipleNotesOutlineViewType,
            hoverParent: parentEl,
            targetEl: outlineTitle,
            linktext: linkTarget.path,
            state: { scroll: (_a2 = subPathPosition == null ? void 0 : subPathPosition.start) == null ? void 0 : _a2.line }
          });
        }
      });
      outlineTitle.addEventListener("contextmenu", (event) => {
        const menu = new import_obsidian6.Menu();
        menu.addItem((item) => item.setTitle("Open linked file").setIcon("links-going-out").onClick(() => __async(this, null, function* () {
          yield openElementPosition(linkTarget, subPathPosition, void 0, this.app);
          this.holdUpdateOnce = Boolean(linkTarget != this.activeFile);
        })));
        menu.addSeparator();
        menu.addItem((item) => item.setTitle("Open linked file in new tab").setIcon("file-plus").onClick(() => __async(this, null, function* () {
          yield openElementPosition(linkTarget, subPathPosition, "tab", this.app);
          this.holdUpdateOnce = Boolean(linkTarget != this.activeFile);
        })));
        menu.addItem((item) => item.setTitle("Open linked file to the right").setIcon("separator-vertical").onClick(() => __async(this, null, function* () {
          yield openElementPosition(linkTarget, subPathPosition, "split", this.app);
          this.holdUpdateOnce = Boolean(linkTarget != this.activeFile);
        })));
        menu.addItem((item) => item.setTitle("Open linked file in new window").setIcon("scan").onClick(() => __async(this, null, function* () {
          yield openElementPositionInPopoutWindow(linkTarget, subPathPosition, this.settings, this.app);
          this.holdUpdateOnce = Boolean(linkTarget != this.activeFile);
        })));
        menu.addSeparator();
        menu.addItem((item) => item.setTitle("Open in new tab").setIcon("file-plus").onClick(() => __async(this, null, function* () {
          yield openElementPosition(file, null, "tab", this.app);
          this.holdUpdateOnce = Boolean(file != this.activeFile);
        })));
        menu.addItem((item) => item.setTitle("Open to the right").setIcon("separator-vertical").onClick(() => __async(this, null, function* () {
          yield openElementPosition(file, null, "split", this.app);
          this.holdUpdateOnce = Boolean(file != this.activeFile);
        })));
        menu.addItem((item) => item.setTitle("Open in new window").setIcon("scan").onClick(() => __async(this, null, function* () {
          yield openElementPositionInPopoutWindow(file, null, this.settings, this.app);
          this.holdUpdateOnce = Boolean(file != this.activeFile);
        })));
        menu.showAtMouseEvent(event);
      });
    }
  }
  let latestHeadingLevel = 0;
  if (data.length > 0) {
    for (let j = 0; j < data.length; j++) {
      const element = data[j].typeOfElement;
      let displayText = data[j].displayText;
      const linkTarget = element !== "link" ? null : this.app.metadataCache.getFirstLinkpathDest((0, import_obsidian6.parseLinktext)((_a = data[j]) == null ? void 0 : _a.link).path, file.path);
      const linkSubpath = !linkTarget ? null : (0, import_obsidian6.parseLinktext)((_b = data[j]) == null ? void 0 : _b.link).subpath;
      const subPathPosition = getSubpathPosition(this.app, linkTarget, linkSubpath);
      if (this.settings.showElements[element] == false) {
        continue;
      }
      if (element == "heading") {
        latestHeadingLevel = data[j].level;
        if (data[j].level > this.settings.maxHeadingLevel) {
          continue;
        }
      }
      if (element == "link") {
        if (checkLinksBetweenRelatedFiles(linkTarget, category, this.settings, this.targetFiles) == false) {
          continue;
        }
        if (this.settings.hideMinor2hopLink && category == "outgoing") {
          continue;
        }
      }
      let calloutsIndex = void 0;
      if (element == "listItems") {
        if (this.settings.dispListCallouts) {
          calloutsIndex = checkListCallouts(displayText, (_d = (_c = this.app.plugins.plugins) == null ? void 0 : _c["obsidian-list-callouts"]) == null ? void 0 : _d.settings);
        }
        if (shouldDisplayListItem(data[j], this.settings, calloutsIndex) == false) {
          continue;
        }
      }
      const outlineEl = parentEl.createDiv("tree-item nav-file");
      const outlineTitle = outlineEl.createDiv("tree-item-self is-clickable nav-file-title");
      switch (this.settings.icon[element]) {
        case "none":
          break;
        case "headingwithnumber":
          (0, import_obsidian6.setIcon)(outlineTitle, `heading-${data[j].level}`);
          break;
        case "custom":
          (0, import_obsidian6.setIcon)(outlineTitle, this.settings.customIcon[element]);
          break;
        default:
          (0, import_obsidian6.setIcon)(outlineTitle, this.settings.icon[element]);
          break;
      }
      if (element == "listItems" && data[j].task !== void 0) {
        if (data[j].task == "x") {
          (0, import_obsidian6.setIcon)(outlineTitle, this.settings.icon.taskDone == "custom" ? this.settings.customIcon.taskDone : this.settings.icon.taskDone);
        } else {
          (0, import_obsidian6.setIcon)(outlineTitle, this.settings.icon.task == "custom" ? this.settings.customIcon.task : this.settings.icon.task);
        }
      }
      if (element == "listItems") {
        if (data[j].task !== void 0) {
          if (data[j].task == "x") {
            (0, import_obsidian6.setIcon)(outlineTitle, this.settings.icon.taskDone == "custom" ? this.settings.customIcon.taskDone : this.settings.icon.taskDone);
          } else {
            (0, import_obsidian6.setIcon)(outlineTitle, this.settings.icon.task == "custom" ? this.settings.customIcon.task : this.settings.icon.task);
          }
        }
        if (typeof calloutsIndex == "number") {
          outlineTitle.style.backgroundColor = `RGBA(${this.app.plugins.plugins["obsidian-list-callouts"].settings[calloutsIndex].color},0.15)`;
          if (this.app.plugins.plugins["obsidian-list-callouts"].settings[calloutsIndex].hasOwnProperty("icon") && data[j].task === void 0) {
            (0, import_obsidian6.setIcon)(outlineTitle, this.app.plugins.plugins["obsidian-list-callouts"].settings[calloutsIndex].icon);
            displayText = displayText.replace(/^.\s/, "");
          }
        }
      }
      let prefix = this.settings.prefix[element];
      if (element == "heading") {
        switch (this.settings.repeatHeadingPrefix) {
          case "level":
            prefix = prefix.repeat(data[j].level);
            break;
          case "levelminus1":
            prefix = prefix.repeat(data[j].level - 1);
            break;
        }
      }
      let indent = 0.5;
      if (element == "heading" && this.settings.indent.heading == true) {
        indent = indent + (data[j].level - 1) * 1.5;
      }
      if (element != "heading" && this.settings.indentFollowHeading) {
        const additionalIndent = (latestHeadingLevel - 1 + (this.settings.indentFollowHeading == 2 ? 1 : 0)) * 1.5;
        indent = indent + (additionalIndent > 0 ? additionalIndent : 0);
      }
      if (!isCanvas && element == "link" && data[j].position.start.line == ((_e = data[j - 1]) == null ? void 0 : _e.position.start.line)) {
        indent = indent + 1.5;
      }
      outlineTitle.style.paddingLeft = `${indent}em`;
      if (element == "listItems" && data[j].task !== void 0) {
        prefix = data[j].task == "x" ? this.settings.prefix.taskDone : this.settings.prefix.task;
        if (this.settings.addCheckboxText) {
          prefix = prefix + "[" + data[j].task + "] ";
        }
      }
      const outlineTitleContent = outlineTitle.createDiv("tree-item-inner nav-file-title-content");
      outlineTitleContent.setText(prefix + displayText);
      if (this.settings.wrapLine) {
        outlineTitleContent.classList.add("wrap-line");
      }
      if (!isCanvas && this.settings.inlinePreview) {
        let previewText = "";
        if ((element == "link" || element == "tag") && data[j].position.end.col < info.lines[data[j].position.start.line].length) {
          previewText = info.lines[data[j].position.start.line].slice(data[j].position.end.col);
        } else {
          previewText = data[j].position.start.line < info.numOfLines - 1 ? info.lines[data[j].position.start.line + 1] : "";
        }
        outlineTitle.createDiv("nav-file-title-preview").setText(previewText);
      }
      if (this.settings.tooltipPreview) {
        if (!isCanvas) {
          const previewText2 = makeTooltipPreviewText(j, info, data, this.settings);
          (0, import_obsidian6.setTooltip)(outlineTitle, previewText2, { classes: ["MNO-preview"] });
          outlineTitle.dataset.tooltipPosition = this.settings.tooltipPreviewDirection;
          outlineTitle.setAttribute("data-tooltip-delay", "10");
        } else {
          if (data[j].typeOfElement == "listItems") {
            (0, import_obsidian6.setTooltip)(outlineTitle, data[j].displayText, { classes: ["MNO-preview"] });
            outlineTitle.dataset.tooltipPosition = this.settings.tooltipPreviewDirection;
            outlineTitle.setAttribute("data-tooltip-delay", "10");
          }
        }
      }
      if (element == "link") {
        outlineTitle.setAttr("draggable", "true");
        outlineTitle.addEventListener("dragstart", (event) => {
          const linkText = data[j].link;
          const dragManager = this.app.dragManager;
          const dragData = dragManager.dragLink(event, linkText, "\u30BF\u30A4\u30C8\u30EB", linkText);
          dragManager.onDragStart(event, dragData);
        });
      } else if (element == "heading") {
        outlineTitle.setAttr("draggable", "true");
        outlineTitle.addEventListener("dragstart", (event) => {
          const linkText = file.path + "#" + (0, import_obsidian6.stripHeadingForLink)(data[j].displayText);
          const dragManager = this.app.dragManager;
          const dragData = dragManager.dragLink(event, linkText, "\u30BF\u30A4\u30C8\u30EB", linkText);
          dragManager.onDragStart(event, dragData);
        });
      }
      outlineTitle.addEventListener("click", (event) => __async(this, null, function* () {
        if (this.settings.openLinkByClick == true && element == "link") {
          yield openElementPosition(linkTarget, subPathPosition, void 0, this.app);
          this.holdUpdateOnce = Boolean(linkTarget != this.activeFile);
        } else if (!isCanvas) {
          yield openElementPosition(file, data[j].position, void 0, this.app);
          this.holdUpdateOnce = Boolean(file != this.activeFile);
        }
      }), false);
      outlineTitle.addEventListener("mouseover", (event) => {
        var _a2;
        if (element == "link" && linkTarget) {
          this.app.workspace.trigger("hover-link", {
            event,
            source: MultipleNotesOutlineViewType,
            hoverParent: parentEl,
            targetEl: outlineTitle,
            linktext: linkTarget.path,
            state: { scroll: (_a2 = subPathPosition == null ? void 0 : subPathPosition.start) == null ? void 0 : _a2.line }
          });
        } else {
          if (!isCanvas) {
            this.app.workspace.trigger("hover-link", {
              event,
              source: MultipleNotesOutlineViewType,
              hoverParent: parentEl,
              targetEl: outlineTitle,
              linktext: file.path,
              state: { scroll: data[j].position.start.line }
            });
          }
        }
      });
      outlineTitle.addEventListener("contextmenu", (event) => {
        const menu = new import_obsidian6.Menu();
        if (element == "link") {
          menu.addItem((item) => item.setTitle("Open linked file").setIcon("links-going-out").onClick(() => __async(this, null, function* () {
            yield openElementPosition(linkTarget, subPathPosition, void 0, this.app);
            this.holdUpdateOnce = Boolean(linkTarget != this.activeFile);
          })));
          menu.addSeparator();
          menu.addItem((item) => item.setTitle("Open linked file in new tab").setIcon("file-plus").onClick(() => __async(this, null, function* () {
            yield openElementPosition(linkTarget, subPathPosition, "tab", this.app);
            this.holdUpdateOnce = Boolean(linkTarget != this.activeFile);
          })));
          menu.addItem((item) => item.setTitle("Open linked file to the right").setIcon("separator-vertical").onClick(() => __async(this, null, function* () {
            yield openElementPosition(linkTarget, subPathPosition, "split", this.app);
            this.holdUpdateOnce = Boolean(linkTarget != this.activeFile);
          })));
          menu.addItem((item) => item.setTitle("Open linked file in new window").setIcon("scan").onClick(() => __async(this, null, function* () {
            yield openElementPositionInPopoutWindow(linkTarget, subPathPosition, this.settings, this.app);
            this.holdUpdateOnce = Boolean(linkTarget != this.activeFile);
          })));
          menu.addSeparator();
        }
        if (element == "tag") {
          menu.addItem((item) => item.setTitle("Search this tag").setIcon("search").onClick(() => __async(this, null, function* () {
            var _a2;
            const searchString = "tag: #" + displayText;
            (_a2 = this.app.internalPlugins.plugins["global-search"]) == null ? void 0 : _a2.instance.openGlobalSearch(searchString);
          })));
          menu.addSeparator();
        }
        if (!isCanvas) {
          menu.addItem((item) => item.setTitle("Open in new tab").setIcon("file-plus").onClick(() => __async(this, null, function* () {
            yield openElementPosition(file, data[j].position, "tab", this.app);
            this.holdUpdateOnce = Boolean(file != this.activeFile);
          })));
          menu.addItem((item) => item.setTitle("Open to the right").setIcon("separator-vertical").onClick(() => __async(this, null, function* () {
            yield openElementPosition(file, data[j].position, "split", this.app);
            this.holdUpdateOnce = Boolean(file != this.activeFile);
          })));
          menu.addItem((item) => item.setTitle("Open in new window").setIcon("scan").onClick(() => __async(this, null, function* () {
            yield openElementPositionInPopoutWindow(file, data[j].position, this.settings, this.app);
            this.holdUpdateOnce = Boolean(file != this.activeFile);
          })));
          if (element == "heading" || element == "link") {
            menu.addSeparator();
            menu.addItem((item) => item.setTitle("Copy link").setIcon("copy").onClick(() => __async(this, null, function* () {
              if (this.app.vault.config.useMarkdownLinks) {
                const linkText = element == "link" ? this.app.fileManager.generateMarkdownLink(linkTarget, "", linkSubpath, linkTarget.basename + linkSubpath) : this.app.fileManager.generateMarkdownLink(file, "", "#" + (0, import_obsidian6.stripHeadingForLink)(data[j].displayText), file.basename + "#" + (0, import_obsidian6.stripHeadingForLink)(data[j].displayText));
                yield navigator.clipboard.writeText(linkText);
              } else {
                const linkText = element == "link" ? `[[${data[j].link}]]` : `[[${file.basename}#${(0, import_obsidian6.stripHeadingForLink)(data[j].displayText)}]]`;
                yield navigator.clipboard.writeText(linkText);
              }
            })));
          }
        }
        menu.showAtMouseEvent(event);
      });
    }
  } else {
    if (true) {
      for (let j = 0; j < info.lines.length; j++) {
        if (info.lines[j] == "") {
          continue;
        } else {
          const outlineEl = parentEl.createDiv("tree-item nav-file");
          const outlineTitle = outlineEl.createDiv("tree-item-self is-clickable nav-file-title");
          outlineTitle.createDiv("tree-item-inner nav-file-title-content").setText(info.lines[j]);
          outlineTitle.addEventListener("click", (event) => __async(this, null, function* () {
            if (file != this.activeFile) {
              this.holdUpdateOnce = true;
            }
            event.preventDefault();
            yield this.app.workspace.getLeaf().openFile(file);
          }), false);
          const previewText2 = info.lines.join("\n");
          (0, import_obsidian6.setTooltip)(outlineTitle, previewText2, { classes: ["MNO-preview"] });
          outlineTitle.dataset.tooltipPosition = this.settings.tooltipPreviewDirection;
          outlineTitle.setAttribute("data-tooltip-delay", "10");
          break;
        }
      }
    }
  }
  if (category == "main" || this.settings.showBacklinks == false || !info.backlinks || category == "backlink" && this.settings.hideMinor2hopLink) {
    return;
  }
  backlinkfileloop:
    for (let i = 0; i < ((_f = info.backlinks) == null ? void 0 : _f.length); i++) {
      for (const targetCategory in this.targetFiles) {
        if (this.targetFiles[targetCategory].includes(info.backlinks[i])) {
          continue backlinkfileloop;
        }
      }
      const outlineEl = parentEl.createDiv("tree-item nav-file");
      const outlineTitle = outlineEl.createDiv("tree-item-self is-clickable nav-file-title");
      switch (this.settings.icon.backlink) {
        case "none":
          break;
        case "custom":
          (0, import_obsidian6.setIcon)(outlineTitle, this.settings.customIcon.backlink);
          break;
        default:
          (0, import_obsidian6.setIcon)(outlineTitle, this.settings.icon.backlink);
          break;
      }
      outlineTitle.style.paddingLeft = "0.5em";
      outlineTitle.createDiv("tree-item-inner nav-file-title-content").setText(info.backlinks[i].basename);
      outlineTitle.addEventListener("click", (event) => __async(this, null, function* () {
        yield openElementPosition(info.backlinks[i], null, void 0, this.app);
        this.holdUpdateOnce = Boolean(info.backlinks[i] != this.activeFile);
      }), false);
      outlineTitle.addEventListener("mouseover", (event) => {
        this.app.workspace.trigger("hover-link", {
          event,
          source: MultipleNotesOutlineViewType,
          hoverParent: parentEl,
          targetEl: outlineTitle,
          linktext: info.backlinks[i].path
        });
      });
      outlineTitle.addEventListener("contextmenu", (event) => {
        const menu = new import_obsidian6.Menu();
        menu.addItem((item) => item.setTitle("Open backlink file in new tab").setIcon("file-plus").onClick(() => __async(this, null, function* () {
          yield openElementPosition(info.backlinks[i], null, "tab", this.app);
          this.holdUpdateOnce = Boolean(info.backlinks[i] != this.activeFile);
        })));
        menu.addItem((item) => item.setTitle("Open backlink file to the right").setIcon("separator-vertical").onClick(() => __async(this, null, function* () {
          yield openElementPosition(info.backlinks[i], null, "split", this.app);
          this.holdUpdateOnce = Boolean(info.backlinks[i] != this.activeFile);
        })));
        menu.addItem((item) => item.setTitle("Open backlink file in new window").setIcon("scan").onClick(() => __async(this, null, function* () {
          yield openElementPositionInPopoutWindow(info.backlinks[i], null, this.settings, this.app);
          this.holdUpdateOnce = Boolean(info.backlinks[i] != this.activeFile);
        })));
        menu.showAtMouseEvent(event);
      });
    }
}
function openElementPosition(file, position, method, app2) {
  return __async(this, null, function* () {
    var _a;
    yield app2.workspace.getLeaf(method).openFile(file);
    if (position) {
      scrollToElement((_a = position.start) == null ? void 0 : _a.line, 0, app2);
    }
  });
}
function openElementPositionInPopoutWindow(file, position, settings, app2) {
  return __async(this, null, function* () {
    var _a;
    yield this.app.workspace.openPopoutLeaf({
      size: {
        width: settings.popoutSize.width,
        height: settings.popoutSize.height
      }
    }).openFile(file);
    if (position) {
      scrollToElement((_a = position.start) == null ? void 0 : _a.line, 0, this.app);
    }
    if (settings.popoutAlwaysOnTop) {
      setPopoutAlwaysOnTop2();
    }
  });
}
function scrollToElement(line, col, app2) {
  const view = app2.workspace.getActiveViewOfType(import_obsidian6.MarkdownView);
  if (view) {
    view.setEphemeralState({ line });
  }
}
function setPopoutAlwaysOnTop2() {
  const activeWindow = import_electron.remote.BrowserWindow.getFocusedWindow();
  activeWindow.setAlwaysOnTop(true);
}
function checkLinksBetweenRelatedFiles(linkTarget, category, settings, targetFiles) {
  var _a, _b;
  if (!linkTarget) {
    return true;
  }
  if (settings.hideLinksBetweenRelatedFiles == "mainOnly") {
    if (category == "main") {
      return false;
    }
    if (linkTarget.path == ((_a = targetFiles.main) == null ? void 0 : _a[0].path)) {
      return false;
    }
  }
  if (settings.hideLinksBetweenRelatedFiles == "toMainOnly") {
    if (linkTarget.path == ((_b = targetFiles.main) == null ? void 0 : _b[0].path)) {
      return false;
    }
  }
  if (settings.hideLinksBetweenRelatedFiles == "all") {
    for (const category2 in targetFiles) {
      if (targetFiles[category2].some((targetfile) => targetfile.path == linkTarget.path)) {
        return false;
      }
    }
  }
  return true;
}
function makeTooltipPreviewText(j, info, data, settings) {
  let previewText = "";
  let endLine = info.numOfLines - 1;
  let k = j + 1;
  while (k < data.length) {
    if (settings.showElements[data[k].typeOfElement]) {
      if (data[k].typeOfElement == "listItems" && (data[k].level >= 2 || settings.allRootItems == false && data[k].level == 1 && (settings.allTasks == false || data[k].task === void 0) || settings.taskOnly && data[k].task === void 0 || settings.hideCompletedTasks && data[k].task == "x")) {
        k++;
        continue;
      } else if (data[k].typeOfElement == "heading" && data[k].level > settings.maxHeadingLevel) {
        k++;
        continue;
      } else {
        endLine = data[k].position.start.line - 1;
        break;
      }
    }
    k++;
  }
  for (let l = data[j].position.start.line; l <= endLine; l++) {
    previewText = previewText + info.lines[l] + "\n";
  }
  previewText = previewText.replace(/\n$|\n(?=\n)/g, "");
  return previewText;
}

// src/constructNoteDOM.ts
var import_obsidian7 = __toModule(require("obsidian"));
function constructNoteDOM(files, status, info, data, parentEl, category, aotEl, srcFile, order) {
  var _a, _b, _c;
  for (let i = 0; i < files.length; i++) {
    const si = order[i];
    if (Object.values(status[si].duplicated).includes(true) && this.settings.hideDuplicated) {
      continue;
    }
    const noteType = status[si].isFolder ? "folder" : "file";
    const belongsAOT = Boolean(status[si].isTop == true && !Object.values(status[si].duplicated).includes(true)) && category != "main";
    let noteEl;
    if (belongsAOT) {
      noteEl = aotEl.createDiv("tree-item nav-folder");
    } else {
      noteEl = parentEl.createDiv("tree-item nav-folder");
    }
    const noteTitleEl = noteEl.createDiv("tree-item-self is-clickable mod-collapsible nav-folder-title");
    let nIcon;
    if (belongsAOT) {
      nIcon = "pin";
    } else {
      if (noteType == "folder") {
        nIcon = "folder";
      } else {
        nIcon = "file";
      }
    }
    (0, import_obsidian7.setIcon)(noteTitleEl, nIcon);
    if (!noteEl.parentElement.classList.contains("mod-root")) {
      noteTitleEl.classList.add("is-subfolder");
    }
    const noteChildrenEl = noteEl.createDiv("tree-item-children nav-folder-children");
    noteChildrenEl.id = "MNO" + this.viewType + files[si].path;
    const noteCollapseIcon = noteTitleEl.createDiv("tree-item-icon collapse-icon nav-folder-collapse-indicator");
    (0, import_obsidian7.setIcon)(noteCollapseIcon, "right-triangle");
    noteCollapseIcon.addEventListener("click", (event) => __async(this, null, function* () {
      var _a2;
      event.stopPropagation();
      if (!status[si].outlineReady) {
        if (noteType == "folder") {
          yield this.processFolder(files[si]);
          status[si].outlineReady = true;
          noteEl.classList.remove("is-collapsed");
          noteCollapseIcon.classList.remove("is-collapsed");
          constructNoteDOM.call(this, this.targetFiles[files[si].path], this.fileStatus[files[si].path], this.fileInfo[files[si].path], this.outlineData[files[si].path], noteChildrenEl, "folder", aotEl, srcFile, this.fileOrder[files[si].path]);
          noteEl.appendChild(noteChildrenEl);
        } else if (((_a2 = files[si]) == null ? void 0 : _a2.extension) == "md") {
          info[si] = yield getFileInfo(this.app, files[si], this.settings, false, this.isDataviewEnabled);
          data[si] = yield getOutline(this.app, files[si], status[si], info[si], this.settings);
          status[si].outlineReady = true;
          noteEl.classList.remove("is-collapsed");
          noteCollapseIcon.classList.remove("is-collapsed");
          attachFileInfo(noteTitleEl, status[si], info[si], data[si], this.settings.displayFileInfo);
          constructOutlineDOM.call(this, files[si], info[si], data[si], noteChildrenEl, category);
        } else {
        }
      } else if (status[si].isFolded) {
        if (!this.collapseAll && (!status[si].duplicated.main || !this.settings.showFiles.main) && (!status[si].duplicated.outgoing || !this.settings.showFiles.outgoing) && !status[si].duplicated.self) {
          if (checkFlag(srcFile, files[si], "fold", this.settings)) {
            removeFlag(srcFile, files[si], "fold", this.settings);
            yield this.plugin.saveSettings();
          }
        }
        noteEl.classList.remove("is-collapsed");
        noteCollapseIcon.classList.remove("is-collapsed");
        status[si].isFolded = false;
        noteChildrenEl.style.display = "block";
      } else {
        if (!this.collapseAll && (!status[si].duplicated.main || !this.settings.showFiles.main) && (!status[si].duplicated.outgoing || !this.settings.showFiles.outgoing) && !status[si].duplicated.self) {
          addFlag(srcFile, files[si], "fold", this.settings);
        }
        yield this.plugin.saveSettings();
        noteEl.classList.add("is-collapsed");
        noteCollapseIcon.classList.add("is-collapsed");
        status[si].isFolded = true;
        noteChildrenEl.style.display = "none";
      }
    }));
    let nameLabel = noteType == "folder" ? files[si].name : files[si].basename;
    if (noteType == "folder") {
      nameLabel = files[si].name;
    } else {
      nameLabel = files[si].basename;
      if (files[si].extension !== "md") {
        nameLabel = nameLabel + "." + files[si].extension;
      }
    }
    noteTitleEl.createDiv("tree-item-inner nav-folder-title-content").setText(nameLabel);
    attachFileInfo(noteTitleEl, status[si], info[si], data[si], this.settings.displayFileInfo);
    if (files[si] instanceof import_obsidian7.TFile) {
      noteTitleEl.setAttr("draggable", "true");
      noteTitleEl.addEventListener("dragstart", (event) => {
        const dragManager = this.app.dragManager;
        const dragData = dragManager.dragFile(event, files[si]);
        dragManager.onDragStart(event, dragData);
      });
    }
    if (noteType == "file") {
      noteTitleEl.addEventListener("click", (event) => {
        if (files[si] != this.activeFile) {
          this.holdUpdateOnce = true;
        }
        this.app.workspace.getLeaf().openFile(files[si]);
      }, false);
      noteTitleEl.addEventListener("mouseover", (event) => {
        this.app.workspace.trigger("hover-link", {
          event,
          source: MultipleNotesOutlineViewType,
          hoverParent: parentEl,
          targetEl: noteTitleEl,
          linktext: files[si].path
        });
      });
    }
    noteTitleEl.addEventListener("contextmenu", (event) => {
      const menu = new import_obsidian7.Menu();
      menu.addSeparator();
      if (checkFlag(srcFile, files[si], "top", this.settings)) {
        menu.addItem((item) => item.setTitle("MNO: Stop displaying at the top").setIcon("pin-off").onClick(() => __async(this, null, function* () {
          removeFlag(srcFile, files[si], "top", this.settings);
          yield this.plugin.saveSettings();
          yield this.refreshView(true, true);
        })));
      } else {
        menu.addItem((item) => item.setTitle("MNO: Always display at the top").setIcon("pin").onClick(() => __async(this, null, function* () {
          addFlag(srcFile, files[si], "top", this.settings);
          yield this.plugin.saveSettings();
          yield this.refreshView(true, true);
        })));
      }
      if (this.settings.favorite[noteType].includes(files[si].path)) {
        menu.addItem((item) => item.setTitle("MNO: Remove from favorites").setIcon("bookmark-minus").onClick(() => __async(this, null, function* () {
          deleteFavAndRecent.call(this, files[si].path, noteType, "favorite");
          yield this.plugin.saveSettings();
        })));
      } else {
        menu.addItem((item) => item.setTitle("MNO: Add to favorites").setIcon("bookmark-plus").onClick(() => __async(this, null, function* () {
          updateFavAndRecent.call(this, files[si].path, noteType, "favorite");
          yield this.plugin.saveSettings();
        })));
      }
      menu.addSeparator();
      if (noteType == "file") {
        menu.addItem((item) => item.setTitle("Open in new tab").setIcon("file-plus").onClick(() => {
          if (files[si] != this.activeFile) {
            this.holdUpdateOnce = true;
          }
          event.preventDefault();
          this.app.workspace.getLeaf("tab").openFile(files[si]);
        }));
        menu.addItem((item) => item.setTitle("Open to the right").setIcon("separator-vertical").onClick(() => {
          if (files[si] != this.activeFile) {
            this.holdUpdateOnce = true;
          }
          event.preventDefault();
          this.app.workspace.getLeaf("split").openFile(files[si]);
        }));
        menu.addItem((item) => item.setTitle("Open in new window").setIcon("scan").onClick(() => __async(this, null, function* () {
          if (files[si] != this.activeFile) {
            this.holdUpdateOnce = true;
          }
          yield this.app.workspace.openPopoutLeaf({
            size: {
              width: this.settings.popoutSize.width,
              height: this.settings.popoutSize.height
            }
          }).openFile(files[si]);
          if (this.settings.popoutAlwaysOnTop) {
            setPopoutAlwaysOnTop();
          }
        })));
      }
      menu.showAtMouseEvent(event);
    });
    if (!status[si].outlineReady) {
      noteEl.classList.add("is-collapsed");
      noteCollapseIcon.classList.add("is-collapsed");
      continue;
    }
    if (noteType == "folder") {
      constructNoteDOM.call(this, this.targetFiles[files[si].path], this.fileStatus[files[si].path], this.fileInfo[files[si].path], this.outlineData[files[si].path], noteChildrenEl, "folder", aotEl, srcFile, this.fileOrder[files[si].path]);
    } else {
      constructOutlineDOM.call(this, files[si], info[si], data[si], noteChildrenEl, category);
    }
    if (this.collapseAll || status[si].duplicated.main && this.settings.showFiles.main || status[si].duplicated.outgoing && this.settings.showFiles.outgoing || status[si].duplicated.self || ((_c = (_b = (_a = this.settings.relatedFiles) == null ? void 0 : _a[srcFile.path]) == null ? void 0 : _b[files[si].path]) == null ? void 0 : _c.fold)) {
      noteEl.classList.add("is-collapsed");
      noteCollapseIcon.classList.add("is-collapsed");
      status[si].isFolded = true;
      noteChildrenEl.style.display = "none";
    } else {
      status[si].isFolded = false;
    }
  }
}
function attachFileInfo(targetEl, status, info, data, displayFileInfo) {
  if (!status.isFolder) {
    switch (displayFileInfo) {
      case "lines":
        targetEl.dataset.subinfo = status.outlineReady ? info.numOfLines.toString() : "";
        break;
      case "tag":
        if (status.outlineReady) {
          const firsttagIndex = data.findIndex((element, index) => data[index].typeOfElement == "tag");
          if (firsttagIndex >= 0) {
            targetEl.dataset.subinfo = data[firsttagIndex].displayText;
          }
        }
        break;
      case "none":
        break;
      default:
        break;
    }
  }
}

// src/fileView.ts
var MultipleNotesOutlineViewType = "multiple-notes-outline";
var MultipleNotesOutlineView = class extends import_obsidian9.ItemView {
  constructor(leaf, plugin, settings) {
    super(leaf);
    this.targetFiles = {
      main: [],
      outgoing: [],
      backlink: []
    };
    this.fileStatus = {
      main: [],
      outgoing: [],
      backlink: []
    };
    this.fileInfo = {
      main: [],
      outgoing: [],
      backlink: []
    };
    this.outlineData = {
      main: [],
      outgoing: [],
      backlink: []
    };
    this.fileOrder = {
      main: [],
      outgoing: [],
      backlink: []
    };
    this.flagChanged = false;
    this.flagRegetTarget = false;
    this.flagSaveSettings = false;
    this.extractMode = false;
    this.extractTask = false;
    this.collapseAll = false;
    this.collapseCategory = {
      outgoing: false,
      backlink: false
    };
    this.holdUpdateOnce = false;
    this.hasMainChanged = false;
    this.filecount = 0;
    this.changedFiles = [];
    this.viewType = "file";
    this.pinnedMode = false;
    this.isDataviewEnabled = false;
    this.plugin = plugin;
    this.settings = settings;
  }
  getViewType() {
    return MultipleNotesOutlineViewType;
  }
  getDisplayText() {
    return "MNO - file view";
  }
  getIcon() {
    return "files";
  }
  onOpen() {
    return __async(this, null, function* () {
      yield this.initView();
    });
  }
  updateSettings() {
    this.settings = this.plugin.settings;
  }
  onClose() {
    return __async(this, null, function* () {
    });
  }
  initView() {
    return __async(this, null, function* () {
      var _a, _b, _c, _d;
      yield this.bootDelay();
      checkRelatedFiles(this.app, this.settings);
      checkFavAndRecentFiles(this.app, this.settings, this.viewType);
      this.collapseAll = this.settings.collapseAllAtStartup;
      this.theme = getTheme();
      setNoteTitleBackgroundColor(this.theme, this.settings);
      this.activeFile = this.app.workspace.getActiveFile();
      if (this.activeFile) {
        if (this.settings.openRecentAtStartup.file && this.app.vault.getAbstractFileByPath((_a = this.settings.recent.file) == null ? void 0 : _a[0]) instanceof import_obsidian9.TFile) {
          this.targetFiles.main[0] = this.app.vault.getAbstractFileByPath((_b = this.settings.recent.file) == null ? void 0 : _b[0]);
          if (this.settings.pinAfterJump && this.settings.autoupdateFileView) {
            this.pinnedMode = true;
          }
        } else {
          this.targetFiles.main[0] = this.activeFile;
        }
      } else {
        if (this.app.vault.getAbstractFileByPath((_c = this.settings.recent.file) == null ? void 0 : _c[0]) instanceof import_obsidian9.TFile) {
          this.targetFiles.main[0] = this.app.vault.getAbstractFileByPath((_d = this.settings.recent.file) == null ? void 0 : _d[0]);
          if (this.settings.pinAfterJump && this.settings.autoupdateFileView) {
            this.pinnedMode = true;
          }
        } else {
          this.targetFiles.main[0] = null;
        }
      }
      this.refreshView(true, true);
      const debouncerRequestRefresh = (0, import_obsidian8.debounce)(this.autoRefresh, 3e3, true);
      this.flagChanged = false;
      this.flagRegetTarget = false;
      this.registerEvent(this.app.workspace.on("file-open", (file) => {
        if (file instanceof import_obsidian9.TFile && file !== this.activeFile) {
          this.activeFile = file;
          if (!this.settings.autoupdateFileView || this.settings.suspendUpdateByClickingView && this.holdUpdateOnce || this.pinnedMode == true) {
          } else if (this.targetFiles.main[0].extension == "canvas" && this.targetFiles.outgoing.includes(this.activeFile)) {
          } else {
            this.targetFiles.main[0] = this.activeFile;
            this.hasMainChanged = true;
            updateFavAndRecent.call(this, this.activeFile.path, "file", "recent");
            this.refreshView(true, true);
          }
          this.holdUpdateOnce = false;
        }
      }));
      this.registerEvent(this.app.metadataCache.on("changed", (file) => {
        let category;
        for (category in this.targetFiles) {
          if (this.targetFiles[category].includes(file)) {
            if (!this.changedFiles.includes(file)) {
              this.changedFiles.push(file);
            }
            this.flagChanged = true;
            debouncerRequestRefresh.call(this);
            break;
          }
        }
      }));
      this.registerEvent(this.app.vault.on("delete", (file) => {
        if (file instanceof import_obsidian9.TFile) {
          if (file == this.activeFile && file != this.targetFiles.main[0]) {
            this.holdUpdateOnce = true;
          }
          const changedRelatedFiles = handleDeleteRelatedFiles(file, this.settings);
          if (changedRelatedFiles) {
            this.flagSaveSettings = true;
          }
          const changedFavAndRecent = handleDeleteFavAndRecentFiles(file, this.settings);
          if (changedFavAndRecent) {
            this.flagSaveSettings = true;
          }
          this.flagRegetTarget = true;
          debouncerRequestRefresh.call(this);
        }
      }));
      this.registerEvent(this.app.vault.on("rename", (file, oldPath) => {
        if (file instanceof import_obsidian9.TFile) {
          const changedRelatedFiles = handleRenameRelatedFiles(file, oldPath, this.settings);
          if (changedRelatedFiles) {
            this.flagSaveSettings = true;
          }
          const changedFavAndRecent = handleRenameFavAndRecentFiles(file, oldPath, this.settings);
          if (changedFavAndRecent) {
            this.flagSaveSettings = true;
          }
          this.flagRegetTarget = true;
          debouncerRequestRefresh.call(this);
        }
      }));
      this.registerEvent(this.app.workspace.on("css-change", (e) => {
        const newTheme = getTheme();
        if (newTheme !== this.theme) {
          this.theme = newTheme;
          setNoteTitleBackgroundColor(this.theme, this.settings);
        }
      }));
    });
  }
  bootDelay() {
    return __async(this, null, function* () {
      return new Promise((resolve) => {
        setTimeout(resolve, this.settings.bootDelayTime);
      });
    });
  }
  autoRefresh() {
    return __async(this, null, function* () {
      const startTime = performance.now();
      if (!(this.flagChanged || this.flagRegetTarget || this.flagSaveSettings)) {
        return;
      }
      if (this.flagChanged && !this.flagRegetTarget) {
        for (let i = 0; i < this.changedFiles.length; i++) {
          let category;
          for (category in this.targetFiles) {
            const index = this.targetFiles[category].indexOf(this.changedFiles[i]);
            if (index < 0) {
              continue;
            }
            this.fileInfo[category][index] = yield getFileInfo(this.app, this.targetFiles[category][index], this.settings, true, this.isDataviewEnabled);
            const newData = yield getOutline(this.app, this.targetFiles[category][index], this.fileStatus[category][index], this.fileInfo[category][index], this.settings);
            if (newData) {
              this.outlineData[category][index] = newData;
              this.fileStatus[category][index].outlineReady = true;
            }
            const updateNoteChildrenEl = document.getElementById("MNO" + this.viewType + this.targetFiles[category][index].path);
            updateNoteChildrenEl.empty();
            constructOutlineDOM.call(this, this.targetFiles[category][index], this.fileInfo[category][index], this.outlineData[category][index], updateNoteChildrenEl, category);
          }
        }
      }
      if (this.flagSaveSettings) {
        yield this.plugin.saveSettings();
      }
      if (this.flagRegetTarget) {
        yield this.refreshView(this.flagRegetTarget, this.flagRegetTarget);
      }
      this.changedFiles = [];
      this.flagRegetTarget = false;
      this.flagChanged = false;
      this.flagSaveSettings = false;
      const endTime = performance.now();
      if (this.settings.showDebugInfo) {
        console.log("Multiple Notes Outline: time required to auto refresh, file view: ", endTime - startTime);
      }
    });
  }
  refreshView(flagGetTarget, flagGetOutline) {
    return __async(this, null, function* () {
      var _a;
      const startTime = performance.now();
      this.isDataviewEnabled = checkDataview(this.app);
      const containerEl = document.getElementById("MNOfileview-listcontainer");
      const previousY = (containerEl == null ? void 0 : containerEl.scrollTop) ? containerEl.scrollTop : 0;
      if (!this.targetFiles.main[0]) {
        drawUI.call(this);
        return;
      }
      this.filecount = 0;
      if (this.targetFiles.main[0] && flagGetTarget) {
        this.fileStatus.main = initFileStatus(this.targetFiles.main);
        this.fileOrder.main = [...Array(this.targetFiles.main.length)].map((_, i) => i);
        [this.fileStatus.main, this.fileInfo.main, this.outlineData.main] = yield this.getOutlines(this.targetFiles.main, this.fileStatus.main);
        this.targetFiles.outgoing = getOutgoingLinkFiles(this.app, this.targetFiles.main[0], this.fileInfo.main[0], this.outlineData.main[0]);
        this.fileStatus.outgoing = initFileStatus(this.targetFiles.outgoing);
        this.fileOrder.outgoing = [...Array(this.targetFiles.outgoing.length)].map((_, i) => i);
        this.targetFiles.backlink = (_a = this.fileInfo.main[0]) == null ? void 0 : _a.backlinks;
        this.fileStatus.backlink = initFileStatus(this.targetFiles.backlink);
        this.fileOrder.backlink = [...Array(this.targetFiles.backlink.length)].map((_, i) => i);
        this.checkDuplicated(this.targetFiles.outgoing, this.targetFiles.main, "main", this.fileStatus.outgoing);
        this.checkDuplicated(this.targetFiles.outgoing, this.targetFiles.outgoing, "self", this.fileStatus.outgoing);
        this.checkDuplicated(this.targetFiles.backlink, this.targetFiles.main, "main", this.fileStatus.backlink);
        this.checkDuplicated(this.targetFiles.backlink, this.targetFiles.outgoing, "outgoing", this.fileStatus.backlink);
        this.checkDuplicated(this.targetFiles.backlink, this.targetFiles.backlink, "self", this.fileStatus.backlink);
      }
      if (flagGetOutline && this.targetFiles.outgoing.length + this.targetFiles.backlink.length <= this.settings.processLimit) {
        [this.fileStatus.outgoing, this.fileInfo.outgoing, this.outlineData.outgoing] = yield this.getOutlines(this.targetFiles.outgoing, this.fileStatus.outgoing);
        [this.fileStatus.backlink, this.fileInfo.backlink, this.outlineData.backlink] = yield this.getOutlines(this.targetFiles.backlink, this.fileStatus.backlink);
        sortFileOrder(this.fileOrder.backlink, this.targetFiles.backlink, this.fileStatus.backlink, this.fileInfo.backlink, this.settings);
      }
      const midTime = performance.now();
      if (this.settings.showDebugInfo) {
        console.log("Multiple Notes Outline: time required to get outlines, file view: ", this.targetFiles.main[0].path, midTime - startTime);
      }
      drawUI.call(this);
      this.drawOutline(previousY);
      const endTime = performance.now();
      if (this.settings.showDebugInfo) {
        console.log("Multiple Notes Outline: time required to draw outlines, file view: ", this.targetFiles.main[0].path, endTime - midTime, previousY);
        console.log("Multiple Notes Outline: time required to refresh view, file view", this.targetFiles.main[0].path, endTime - startTime);
      }
    });
  }
  getOutlines(files, status) {
    return __async(this, null, function* () {
      const fileInfo = [];
      const outlineData = [];
      for (let i = 0; i < files.length; i++) {
        if (checkFlag(this.targetFiles.main[0], files[i], "top", this.settings) == true) {
          status[i].isTop = true;
        }
        if ((this.filecount < this.settings.readLimit || status[i].isTop) && !Object.values(status[i].duplicated).includes(true)) {
          const info = yield getFileInfo(this.app, files[i], this.settings, Boolean(files.length == 1), this.isDataviewEnabled);
          fileInfo.push(info);
          const data = yield getOutline(this.app, files[i], status[i], info, this.settings);
          if (data) {
            outlineData.push(data);
            status[i].outlineReady = true;
          } else {
            outlineData.push(void 0);
          }
        } else {
          fileInfo.push(void 0);
          outlineData.push(void 0);
        }
        this.filecount++;
      }
      return [status, fileInfo, outlineData];
    });
  }
  drawOutline(previousY) {
    const containerEl = createDiv("nav-files-container node-insert-event");
    const rootEl = containerEl.createDiv("tree-item nav-folder mod-root");
    const rootChildrenEl = rootEl.createDiv("tree-item-children nav-folder-children");
    containerEl.id = "MNOfileview-listcontainer";
    const categoryAOTEl = rootChildrenEl.createDiv("tree-item nav-folder mod-root");
    if (this.settings.showFiles.main) {
      const categoryMainEl = rootChildrenEl.createDiv("tree-item nav-folder mod-root");
      constructNoteDOM.call(this, this.targetFiles.main, this.fileStatus.main, this.fileInfo.main, this.outlineData.main, categoryMainEl, "main", categoryAOTEl, this.targetFiles.main[0], this.fileOrder.main);
    }
    if (this.settings.showFiles.outgoing) {
      this.constructCategoryDOM("outgoing", "links-going-out", "Outgoing Link Files", rootChildrenEl, categoryAOTEl);
    }
    if (this.settings.showFiles.backlink) {
      this.constructCategoryDOM("backlink", "links-coming-in", "Backlink Files", rootChildrenEl, categoryAOTEl);
    }
    this.contentEl.appendChild(containerEl);
    if (this.hasMainChanged == false && previousY != 0) {
      containerEl.scrollTop = previousY;
    }
    this.hasMainChanged = false;
  }
  constructCategoryDOM(category, cIcon, cText, parentEl, aotEl) {
    const categoryEl = parentEl.createDiv("tree-item nav-folder");
    const categoryTitleEl = categoryEl.createDiv("tree-item-self is-clickable mod-collapsible nav-folder-title");
    (0, import_obsidian8.setIcon)(categoryTitleEl, cIcon);
    categoryTitleEl.createDiv("tree-item-inner nav-folder-title-content").setText(cText);
    const categoryCollapseIcon = categoryTitleEl.createDiv("tree-item-icon collapse-icon nav-folder-collapse-indicator");
    (0, import_obsidian8.setIcon)(categoryCollapseIcon, "right-triangle");
    categoryCollapseIcon.addEventListener("click", (event) => __async(this, null, function* () {
      event.stopPropagation();
      if (this.collapseCategory[category]) {
        this.collapseCategory[category] = false;
        this.refreshView(false, false);
      } else {
        this.collapseCategory[category] = true;
        categoryEl.classList.add("is-collapsed");
        categoryCollapseIcon.classList.add("is-collapsed");
        categoryChildrenEl.style.display = "none";
      }
    }));
    const categoryChildrenEl = categoryEl.createDiv("tree-item-children nav-folder-children");
    if (!this.collapseCategory[category]) {
      constructNoteDOM.call(this, this.targetFiles[category], this.fileStatus[category], this.fileInfo[category], this.outlineData[category], categoryChildrenEl, category, aotEl, this.targetFiles.main[0], this.fileOrder[category]);
    } else {
      categoryEl.classList.add("is-collapsed");
      categoryCollapseIcon.classList.add("is-collapsed");
    }
  }
  checkDuplicated(files, compare, category, status) {
    fileloop:
      for (let i = 0; i < files.length; i++) {
        for (let j = 0; j < compare.length; j++) {
          if (category == "self" && j >= i) {
            break;
          }
          if (compare[j].path === files[i].path) {
            status[i].duplicated[category] = true;
            continue fileloop;
          }
        }
      }
    return status;
  }
};

// src/setting.ts
var import_obsidian10 = __toModule(require("obsidian"));
var MultipleNotesOutlineSettingTab = class extends import_obsidian10.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian10.Setting(containerEl).setName("Show headings").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.heading).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.heading = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Show links").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.link).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.link = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Show tags").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.tag).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.tag = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Show list items & tasks").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.listItems).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.listItems = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    if (this.plugin.settings.showElements.listItems) {
      new import_obsidian10.Setting(containerEl).setName("Show all root list items").setDesc("if disabled, only top item of the list is displayed").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.allRootItems).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.allRootItems = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
      new import_obsidian10.Setting(containerEl).setName("Show all tasks").setDesc("show all task items regardless of their level").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.allTasks).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.allTasks = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
      new import_obsidian10.Setting(containerEl).setName("Task only").setDesc("if enabled, normal list items are hidden").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.taskOnly).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.taskOnly = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
      new import_obsidian10.Setting(containerEl).setName("Hide completed tasks").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.hideCompletedTasks).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.hideCompletedTasks = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
      new import_obsidian10.Setting(containerEl).setName("Show list callouts").setDesc("shows list items marked with List Callouts plugin").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.dispListCallouts).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.dispListCallouts = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
    }
    new import_obsidian10.Setting(containerEl).setName("Show backlink files").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showBacklinks).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showBacklinks = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Collapse all at startup").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.collapseAllAtStartup).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.collapseAllAtStartup = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Display file information").setDesc("display the number of lines of the file / the first tag with the file name").addDropdown((dropdown) => {
      dropdown.addOption("none", "none").addOption("lines", "lines of the note").addOption("tag", "first tag").setValue(this.plugin.settings.displayFileInfo).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.displayFileInfo = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Position of the plugin view").setDesc("Specify default position where this plugin's view appears").addDropdown((dropdown) => {
      dropdown.addOption("right", "right side pane").addOption("left", "left side pane").addOption("tab", "new tab in main pane").addOption("split", "splitted pane").addOption("popout", "popout window").setValue(this.plugin.settings.viewPosition).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.viewPosition = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Sort type").setDesc("Specify sort order").addDropdown((dropdown) => {
      dropdown.addOption("alphabetAscending", "File name (A to Z)").addOption("alphabetDescending", "File name (Z to A)").addOption("mtimeDescending", "Modified time (new to old) ").addOption("mtimeAscending", "Modified time (old to new) ").addOption("ctimeDescending", "Created time (new to old) ").addOption("ctimeAscending", "Created time (old to new) ").setValue(this.plugin.settings.sortType).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.sortType = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(true);
      }));
    });
    this.containerEl.createEl("h4", {
      text: "File View",
      cls: "setting-category"
    });
    new import_obsidian10.Setting(containerEl).setName("Open File View at startup").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.openAtStartup.file).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.openAtStartup.file = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Open last view at startup").setDesc("If enabled, the most recently opened view is opened when File View is launched.").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.openRecentAtStartup.file).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.openRecentAtStartup.file = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Show the main target file section").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showFiles.main).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showFiles.main = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Show the the outgoing files section").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showFiles.outgoing).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showFiles.outgoing = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Show the the backlink files section").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showFiles.backlink).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showFiles.backlink = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Update File View when another file becomes active").setDesc("Automatically update the view when another file becomes active(default = on). The view is not updated if the transition is made via clicking on the MNO view items.").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.autoupdateFileView).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.autoupdateFileView = value;
        this.display();
        yield this.plugin.saveSettings();
      }));
    });
    if (this.plugin.settings.autoupdateFileView) {
      new import_obsidian10.Setting(containerEl).setName("Suspend update by clicking on view item").setClass("setting-indent").setDesc("suspend updating the view when the active file is changed by clicking on items in the File View(default = on)").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.suspendUpdateByClickingView).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.suspendUpdateByClickingView = value;
          this.display();
          yield this.plugin.saveSettings();
        }));
      });
    }
    new import_obsidian10.Setting(containerEl).setName("Hide duplicate notes").setDesc("hides notes that appear multiple times in the outline.(default = on)").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.hideDuplicated).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.hideDuplicated = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Hide link elements between displayed files").setDesc("main file only: hide links between the main file and other displayed. other files to main file only: hide links from other displayed files to the main file. all: hide links between all displayed files.").addDropdown((dropdown) => {
      dropdown.addOption("none", "none").addOption("mainOnly", "main file only").addOption("toMainOnly", "other files to main file only").addOption("all", "all").setValue(this.plugin.settings.hideLinksBetweenRelatedFiles).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.hideLinksBetweenRelatedFiles = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Hide minor 2 hop links").setDesc("hides outgoing links in outgoing files section and backlinks in backlink files section.(default = off)").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.hideMinor2hopLink).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.hideMinor2hopLink = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    this.containerEl.createEl("h4", {
      text: "Folder View",
      cls: "setting-category"
    });
    new import_obsidian10.Setting(containerEl).setName("Open Folder View at startup").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.openAtStartup.folder).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.openAtStartup.folder = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Open last view at startup").setDesc("If enabled, the most recently opened view is opened when Folder View is launched.").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.openRecentAtStartup.folder).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.openRecentAtStartup.folder = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Collapse subfolder").setDesc("display subfolders in collapsed state").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.collapseFolder).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.collapseFolder = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    this.containerEl.createEl("h4", {
      text: "Headings",
      cls: "setting-category"
    });
    if (this.plugin.settings.showElements.heading) {
      new import_obsidian10.Setting(containerEl).setName("Max heading level to display").setDesc("specify the maximum heading level to display").addDropdown((dropdown) => {
        dropdown.addOption("1", "1 #").addOption("2", "2 ##").addOption("3", "3 ###").addOption("4", "4 ####").addOption("5", "5 #####").addOption("6", "6 ######").setValue(String(this.plugin.settings.maxHeadingLevel)).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.maxHeadingLevel = Number(value);
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
    } else {
      this.containerEl.createEl("p", {
        text: "To display this section, activate 'Show headings' in Basics section.",
        cls: "setting-item-description"
      });
    }
    this.containerEl.createEl("h4", {
      text: "Links",
      cls: "setting-category"
    });
    new import_obsidian10.Setting(containerEl).setName("Open link by clicking link element").setDesc("If enabled, clicking on a link element opens the linked file instead of opening the element's position.").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.openLinkByClick).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.openLinkByClick = value;
        this.display();
        yield this.plugin.saveSettings();
      }));
    });
    this.containerEl.createEl("h4", {
      text: "Preview"
    });
    new import_obsidian10.Setting(containerEl).setName("Inline preview").setDesc("Show a few subsequent words next to the outline element name").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.inlinePreview).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.inlinePreview = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Tooltip preview").setDesc("Show subsequent sentences as a tooltip when hover").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.tooltipPreview).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.tooltipPreview = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    if (this.plugin.settings.tooltipPreview) {
      new import_obsidian10.Setting(containerEl).setName("Tooltip preview direction").setClass("setting-indent").setDesc("specify the direction to display tooltip preview").addDropdown((dropdown) => {
        dropdown.addOption("left", "left").addOption("right", "right").addOption("bottom", "bottom").addOption("top", "top").setValue(this.plugin.settings.tooltipPreviewDirection).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.tooltipPreviewDirection = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
    }
    this.containerEl.createEl("h4", {
      text: "Popout window",
      cls: "setting-category"
    });
    this.containerEl.createEl("p", {
      text: "Popout window size",
      cls: "setting-category"
    });
    new import_obsidian10.Setting(containerEl).setName("Width").setDesc("default & min = 600").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder(String(DEFAULT_SETTINGS.popoutSize.width)).setValue(String(this.plugin.settings.popoutSize.width));
      text.inputEl.onblur = (e) => __async(this, null, function* () {
        let parsed = parseInt(e.target.value, 10);
        if (parsed <= 600) {
          parsed = DEFAULT_SETTINGS.popoutSize.width;
        }
        this.plugin.settings.popoutSize.width = parsed;
        yield this.plugin.saveSettings();
      });
    });
    new import_obsidian10.Setting(containerEl).setName("Height").setDesc("default = 800 min = 600").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder(String(DEFAULT_SETTINGS.popoutSize.height)).setValue(String(this.plugin.settings.popoutSize.height));
      text.inputEl.onblur = (e) => __async(this, null, function* () {
        let parsed = parseInt(e.target.value, 10);
        if (parsed <= 600) {
          parsed = DEFAULT_SETTINGS.popoutSize.height;
        }
        this.plugin.settings.popoutSize.height = parsed;
        yield this.plugin.saveSettings();
      });
    });
    new import_obsidian10.Setting(containerEl).setName("Set popout window always on top").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.popoutAlwaysOnTop).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.popoutAlwaysOnTop = value;
        this.display();
        yield this.plugin.saveSettings();
      }));
    });
    this.containerEl.createEl("h4", {
      text: "Always on top",
      cls: "setting-category"
    });
    new import_obsidian10.Setting(containerEl).setName("Tags").setDesc("Notes with tags which match listed words are displayed on the top of the list. Separate with a new line.").addTextArea((textArea) => {
      textArea.setValue(this.plugin.settings.tagsAOT.join("\n"));
      textArea.inputEl.onblur = (e) => __async(this, null, function* () {
        const inputedValue = e.target.value;
        this.plugin.settings.tagsAOT = inputedValue.split("\n");
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      });
    });
    this.containerEl.createEl("h4", {
      text: "Recent/favorites",
      cls: "setting-category"
    });
    new import_obsidian10.Setting(containerEl).setName("Number of recent files/folders to be stored").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder(String(DEFAULT_SETTINGS.numOfRecentFiles)).setValue(String(this.plugin.settings.numOfRecentFiles));
      text.inputEl.onblur = (e) => __async(this, null, function* () {
        let parsed = parseInt(e.target.value, 10);
        if (parsed <= 0) {
          parsed = DEFAULT_SETTINGS.numOfRecentFiles;
        }
        this.plugin.settings.numOfRecentFiles = parsed;
        yield this.plugin.saveSettings();
      });
    });
    new import_obsidian10.Setting(containerEl).setName("Auto pin").setDesc("When File View is updated from recent/favorite files, automatically pin the view.").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.pinAfterJump).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.pinAfterJump = value;
        this.display();
        yield this.plugin.saveSettings();
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Save recent view").setDesc("If disabled, the history of views displayed will not be saved sequentially. History is sometimes lost, but the frequency of data.json rewriting and subsequent synchronization is reduced.").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.saveRecentView).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.saveRecentView = value;
        this.display();
        yield this.plugin.saveSettings();
      }));
    });
    this.containerEl.createEl("h4", {
      text: "Appearnce",
      cls: "setting-category"
    });
    new import_obsidian10.Setting(containerEl).setName("Wrap outline element text").setDesc("If enabled, long element names are displayed wrapped on multiple lines").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.wrapLine).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.wrapLine = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Indent other than headings").setDesc("Whether other elements should be indented to preceding headings (default = preceding heading +1)").addDropdown((dropdown) => {
      dropdown.addOption("0", "none").addOption("1", "follow preceding heading").addOption("2", "preceding heading + 1").setValue(String(this.plugin.settings.indentFollowHeading)).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.indentFollowHeading = Number(value);
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    new import_obsidian10.Setting(containerEl).setName("Note title background color").setDesc("No change: use the current CSS theme setting values(Texts may be overlapped). Same as outlines: default theme explorer color. Accent: highlight file names. Custom: Specify any color code. Please update the view when you toggled Obsidian's base theme(light/dark). (default = accent)").addDropdown((dropdown) => {
      dropdown.addOption("none", "no change").addOption("default", "same as outlines").addOption("accent", "accent").addOption("custom", "custom").setValue(this.plugin.settings.noteTitleBackgroundColor).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.noteTitleBackgroundColor = value;
        this.display();
        yield this.plugin.saveSettings();
        this.callRefreshView(false);
      }));
    });
    if (this.plugin.settings.noteTitleBackgroundColor == "custom") {
      new import_obsidian10.Setting(containerEl).setName("Custom note title background color (light)").setClass("setting-indent").setDesc("Specify background color (ex. #FFFFFF or rgb(255,255,255))").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setValue(this.plugin.settings.customNoteTitleBackgroundColor.light);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.customNoteTitleBackgroundColor.light = inputedValue;
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        });
      });
      new import_obsidian10.Setting(containerEl).setName("Custom note title background color (light, on hover)").setClass("setting-indent").setDesc("Specify background color on hover (ex. #FFFFFF or rgb(255,255,255))").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setValue(this.plugin.settings.customNoteTitleBackgroundColorHover.light);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.customNoteTitleBackgroundColorHover.light = inputedValue;
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        });
      });
      new import_obsidian10.Setting(containerEl).setName("Custom note title background color (dark)").setClass("setting-indent").setDesc("Specify background color (ex. #FFFFFF or rgb(255,255,255))").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setValue(this.plugin.settings.customNoteTitleBackgroundColor.dark);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.customNoteTitleBackgroundColor.dark = inputedValue;
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        });
      });
      new import_obsidian10.Setting(containerEl).setName("Custom note title background color (dark, on hover)").setClass("setting-indent").setDesc("Specify background color on hover (ex. #FFFFFF or rgb(255,255,255))").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setValue(this.plugin.settings.customNoteTitleBackgroundColorHover.dark);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.customNoteTitleBackgroundColorHover.dark = inputedValue;
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        });
      });
    }
    if (this.plugin.settings.showElements.heading) {
      this.containerEl.createEl("p", {
        text: "Headings",
        cls: "setting-category"
      });
      new import_obsidian10.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("heading", "heading").addOption("hash", "hash").addOption("chevron-right", "chevron-right").addOption("headingwithnumber", "heading with number").addOption("custom", "custom").setValue(this.plugin.settings.icon.heading).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.heading = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
      if (this.plugin.settings.icon.heading == "custom") {
        new import_obsidian10.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.heading).setValue(this.plugin.settings.customIcon.heading);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.heading = inputedValue;
            yield this.plugin.saveSettings();
            this.callRefreshView(false);
          });
        });
      }
      new import_obsidian10.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.heading).setValue(this.plugin.settings.prefix.heading);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.heading = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        });
      });
      if (this.plugin.settings.prefix.heading != "") {
        new import_obsidian10.Setting(containerEl).setName("Repeat heading prefix").setClass("setting-indent-2").addDropdown((dropdown) => {
          dropdown.addOption("none", "none").addOption("level", "as many times as its level").addOption("levelminus1", "level - 1").setValue(this.plugin.settings.repeatHeadingPrefix).onChange((value) => __async(this, null, function* () {
            this.plugin.settings.repeatHeadingPrefix = value;
            this.display();
            yield this.plugin.saveSettings();
            this.callRefreshView(false);
          }));
        });
      }
      new import_obsidian10.Setting(containerEl).setName("Add indent").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.indent.heading).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.indent.heading = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
    }
    if (this.plugin.settings.showElements.link) {
      this.containerEl.createEl("p", {
        text: "Links",
        cls: "setting-category"
      });
      new import_obsidian10.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("link", "link").addOption("link-2", "link-2").addOption("custom", "custom").setValue(this.plugin.settings.icon.link).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.link = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
      if (this.plugin.settings.icon.link == "custom") {
        new import_obsidian10.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.link).setValue(this.plugin.settings.customIcon.link);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.link = inputedValue;
            yield this.plugin.saveSettings();
            this.callRefreshView(false);
          });
        });
      }
      new import_obsidian10.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.link).setValue(this.plugin.settings.prefix.link);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.link = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        });
      });
    }
    if (this.plugin.settings.showElements.tag) {
      this.containerEl.createEl("p", {
        text: "Tags",
        cls: "setting-category"
      });
      new import_obsidian10.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("tag", "tag").addOption("hash", "hash").addOption("custom", "custom").setValue(this.plugin.settings.icon.tag).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.tag = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
      if (this.plugin.settings.icon.tag == "custom") {
        new import_obsidian10.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.tag).setValue(this.plugin.settings.customIcon.tag);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.tag = inputedValue;
            yield this.plugin.saveSettings();
            this.callRefreshView(false);
          });
        });
      }
      new import_obsidian10.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.tag).setValue(this.plugin.settings.prefix.tag);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.tag = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        });
      });
    }
    if (this.plugin.settings.showElements.link) {
      this.containerEl.createEl("p", {
        text: "List items",
        cls: "setting-category"
      });
      new import_obsidian10.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("list", "list").addOption("chevron-right", "chevron-right").addOption("minus", "minus").addOption("circle-dot", "circle-dot").addOption("asterisk", "asterisk").addOption("custom", "custom").setValue(this.plugin.settings.icon.listItems).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.listItems = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
      if (this.plugin.settings.icon.listItems == "custom") {
        new import_obsidian10.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.listItems).setValue(this.plugin.settings.customIcon.listItems);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.listItems = inputedValue;
            yield this.plugin.saveSettings();
            this.callRefreshView(false);
          });
        });
      }
      new import_obsidian10.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.listItems).setValue(this.plugin.settings.prefix.listItems);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.listItems = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        });
      });
      this.containerEl.createEl("p", {
        text: "Tasks",
        cls: "setting-category"
      });
      new import_obsidian10.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("square", "square").addOption("circle", "circle").addOption("list-checks", "list-checks").addOption("custom", "custom").setValue(this.plugin.settings.icon.task).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.task = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
      if (this.plugin.settings.icon.task == "custom") {
        new import_obsidian10.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.task).setValue(this.plugin.settings.customIcon.task);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.task = inputedValue;
            yield this.plugin.saveSettings();
            this.callRefreshView(false);
          });
        });
      }
      new import_obsidian10.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.task).setValue(this.plugin.settings.prefix.task);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.task = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        });
      });
      new import_obsidian10.Setting(containerEl).setName("Add checkbox text to prefix").setDesc("add [ ] or [x]").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.addCheckboxText).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.addCheckboxText = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
      this.containerEl.createEl("p", {
        text: "Completed tasks",
        cls: "setting-category"
      });
      new import_obsidian10.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("check-square", "check-square").addOption("check-circle", "check-circle").addOption("check", "check").addOption("custom", "custom").setValue(this.plugin.settings.icon.taskDone).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.taskDone = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
      if (this.plugin.settings.icon.taskDone == "custom") {
        new import_obsidian10.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.taskDone).setValue(this.plugin.settings.customIcon.taskDone);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.taskDone = inputedValue;
            yield this.plugin.saveSettings();
            this.callRefreshView(false);
          });
        });
      }
      new import_obsidian10.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.taskDone).setValue(this.plugin.settings.prefix.taskDone);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.taskDone = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        });
      });
    }
    if (this.plugin.settings.showBacklinks) {
      this.containerEl.createEl("p", {
        text: "Backlinks",
        cls: "setting-category"
      });
      new import_obsidian10.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("links-coming-in", "links-coming-in").addOption("file", "file").addOption("corner-up-left", "corner-up-left").addOption("custom", "custom").setValue(this.plugin.settings.icon.backlink).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.backlink = value;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        }));
      });
      if (this.plugin.settings.icon.backlink == "custom") {
        new import_obsidian10.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.backlink).setValue(this.plugin.settings.customIcon.backlink);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.backlink = inputedValue;
            yield this.plugin.saveSettings();
            this.callRefreshView(false);
          });
        });
      }
      new import_obsidian10.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.backlink).setValue(this.plugin.settings.prefix.backlink);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.backlink = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.callRefreshView(false);
        });
      });
    }
    this.containerEl.createEl("h4", {
      text: "Others",
      cls: "setting-category"
    });
    new import_obsidian10.Setting(containerEl).setName("Maximum number of files to read").setDesc("To avoid overloading, files that exceed this number will be initially collapsed. (default = 50)").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder(String(DEFAULT_SETTINGS.readLimit)).setValue(String(this.plugin.settings.readLimit));
      text.inputEl.onblur = (e) => __async(this, null, function* () {
        let parsed = parseInt(e.target.value, 10);
        if (parsed <= 0) {
          parsed = DEFAULT_SETTINGS.readLimit;
        }
        this.plugin.settings.readLimit = parsed;
        yield this.plugin.saveSettings();
        this.callRefreshView(true);
      });
    });
    new import_obsidian10.Setting(containerEl).setName("Maximum number of files to process").setDesc("To avoid overloading, if the number of files to be displayed exceeds this number, all files will be initially collapsed. (default = 100)").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder(String(DEFAULT_SETTINGS.processLimit)).setValue(String(this.plugin.settings.processLimit));
      text.inputEl.onblur = (e) => __async(this, null, function* () {
        let parsed = parseInt(e.target.value, 10);
        if (parsed <= 0) {
          parsed = DEFAULT_SETTINGS.processLimit;
        }
        this.plugin.settings.processLimit = parsed;
        yield this.plugin.saveSettings();
        this.callRefreshView(true);
      });
    });
    new import_obsidian10.Setting(containerEl).setName("Startup delay time(ms)").setDesc("Wait for the specified time at startup. (default = 300)").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder(String(DEFAULT_SETTINGS.bootDelayTime)).setValue(String(this.plugin.settings.bootDelayTime));
      text.inputEl.onblur = (e) => __async(this, null, function* () {
        let parsed = parseInt(e.target.value, 10);
        if (parsed <= 0 || parsed >= 2e5) {
          parsed = DEFAULT_SETTINGS.bootDelayTime;
        }
        this.plugin.settings.bootDelayTime = parsed;
        yield this.plugin.saveSettings();
      });
    });
    new import_obsidian10.Setting(containerEl).setName("show debug information").setDesc("display debug information in the console").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showDebugInfo).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showDebugInfo = value;
        this.display();
        yield this.plugin.saveSettings();
      }));
    });
  }
  callRefreshView(reload) {
    if (this.plugin.view) {
      this.plugin.view.refreshView(reload, reload);
    }
    if (this.plugin.folderview) {
      this.plugin.folderview.refreshView(reload, reload);
    }
  }
};

// src/folderView.ts
var import_obsidian11 = __toModule(require("obsidian"));
var import_obsidian12 = __toModule(require("obsidian"));
var MultipleNotesOutlineFolderViewType = "multiple-notes-outline-folder-view";
var MultipleNotesOutlineFolderView = class extends import_obsidian12.ItemView {
  constructor(leaf, plugin, settings) {
    super(leaf);
    this.targetFiles = {};
    this.fileStatus = {};
    this.fileInfo = {};
    this.outlineData = {};
    this.fileOrder = {};
    this.flagChanged = false;
    this.flagRegetTarget = false;
    this.flagSaveSettings = false;
    this.extractMode = false;
    this.extractTask = false;
    this.collapseAll = false;
    this.hasMainChanged = false;
    this.filecount = 0;
    this.changedFiles = [];
    this.viewType = "folder";
    this.pinnedMode = false;
    this.isDataviewEnabled = false;
    this.plugin = plugin;
    this.settings = settings;
  }
  getViewType() {
    return MultipleNotesOutlineFolderViewType;
  }
  getDisplayText() {
    return "MNO - folder view";
  }
  getIcon() {
    return "folders";
  }
  onOpen() {
    return __async(this, null, function* () {
      yield this.initView();
    });
  }
  updateSettings() {
    this.settings = this.plugin.settings;
  }
  onClose() {
    return __async(this, null, function* () {
    });
  }
  initView() {
    return __async(this, null, function* () {
      var _a, _b, _c, _d;
      yield this.bootDelay();
      checkRelatedFiles(this.app, this.settings);
      checkFavAndRecentFiles(this.app, this.settings, this.viewType);
      this.collapseAll = this.settings.collapseAllAtStartup;
      this.theme = getTheme();
      setNoteTitleBackgroundColor(this.theme, this.settings);
      this.activeFile = this.app.workspace.getActiveFile();
      if (this.activeFile) {
        if (this.settings.openRecentAtStartup.folder && this.app.vault.getAbstractFileByPath((_a = this.settings.recent.folder) == null ? void 0 : _a[0]) instanceof import_obsidian11.TFolder) {
          this.targetFolder = this.app.vault.getAbstractFileByPath((_b = this.settings.recent.folder) == null ? void 0 : _b[0]);
        } else {
          this.targetFolder = this.activeFile.parent;
        }
      } else {
        if (this.app.vault.getAbstractFileByPath((_c = this.settings.recent.folder) == null ? void 0 : _c[0]) instanceof import_obsidian11.TFolder) {
          this.targetFolder = this.app.vault.getAbstractFileByPath((_d = this.settings.recent.folder) == null ? void 0 : _d[0]);
        } else {
          this.targetFolder = null;
        }
      }
      this.refreshView(true, true);
      const debouncerRequestRefresh = (0, import_obsidian11.debounce)(this.autoRefresh, 3e3, true);
      this.flagChanged = false;
      this.flagRegetTarget = false;
      this.registerEvent(this.app.metadataCache.on("changed", (file) => {
        for (const folder in this.targetFiles) {
          if (this.targetFiles[folder].includes(file)) {
            if (!this.changedFiles.includes(file)) {
              this.changedFiles.push(file);
            }
            this.flagChanged = true;
            debouncerRequestRefresh.call(this);
            break;
          }
        }
      }));
      this.registerEvent(this.app.vault.on("create", (file) => {
        this.flagRegetTarget = true;
        debouncerRequestRefresh.call(this);
      }));
      this.registerEvent(this.app.vault.on("delete", (file) => {
        const changedRelatedFiles = handleDeleteRelatedFiles(file, this.settings);
        if (changedRelatedFiles) {
          this.flagSaveSettings = true;
        }
        const changedFavAndRecent = handleDeleteFavAndRecentFiles(file, this.settings);
        if (changedFavAndRecent) {
          this.flagSaveSettings = true;
        }
        this.flagRegetTarget = true;
        debouncerRequestRefresh.call(this);
      }));
      this.registerEvent(this.app.vault.on("rename", (file, oldPath) => {
        const changedRelatedFiles = handleRenameRelatedFiles(file, oldPath, this.settings);
        if (changedRelatedFiles) {
          this.flagSaveSettings = true;
        }
        const changedFavAndRecent = handleRenameFavAndRecentFiles(file, oldPath, this.settings);
        if (changedFavAndRecent) {
          this.flagSaveSettings = true;
        }
        this.flagRegetTarget = true;
        debouncerRequestRefresh.call(this);
      }));
      this.registerEvent(this.app.workspace.on("css-change", (e) => {
        const newTheme = getTheme();
        if (newTheme !== this.theme) {
          this.theme = newTheme;
          setNoteTitleBackgroundColor(this.theme, this.settings);
        }
      }));
    });
  }
  bootDelay() {
    return __async(this, null, function* () {
      return new Promise((resolve) => {
        setTimeout(resolve, this.settings.bootDelayTime);
      });
    });
  }
  autoRefresh() {
    return __async(this, null, function* () {
      if (!(this.flagChanged || this.flagRegetTarget || this.flagSaveSettings)) {
        return;
      }
      if (this.flagChanged && !this.flagRegetTarget) {
        for (let i = 0; i < this.changedFiles.length; i++) {
          for (const folder in this.targetFiles) {
            const index = this.targetFiles[folder].indexOf(this.changedFiles[i]);
            if (index < 0) {
              continue;
            }
            this.fileInfo[folder][index] = yield getFileInfo(this.app, this.targetFiles[folder][index], this.settings, false, this.isDataviewEnabled);
            const newData = yield getOutline(this.app, this.targetFiles[folder][index], this.fileStatus[folder][index], this.fileInfo[folder][index], this.settings);
            if (newData) {
              this.outlineData[folder][index] = newData;
              this.fileStatus[folder][index].outlineReady = true;
            }
            const updateNoteChildrenEl = document.getElementById("MNO" + this.viewType + this.targetFiles[folder][index].path);
            updateNoteChildrenEl.empty();
            constructOutlineDOM.call(this, this.targetFiles[folder][index], this.fileInfo[folder][index], this.outlineData[folder][index], updateNoteChildrenEl, "folder");
          }
        }
      }
      if (this.flagSaveSettings) {
        yield this.plugin.saveSettings();
      }
      if (this.flagRegetTarget) {
        this.refreshView(this.flagRegetTarget, this.flagRegetTarget);
      }
      this.changedFiles = [];
      this.flagRegetTarget = false;
      this.flagChanged = false;
      this.flagSaveSettings = false;
    });
  }
  refreshView(flagGetTarget, flagGetOutline) {
    return __async(this, null, function* () {
      const startTime = performance.now();
      this.isDataviewEnabled = checkDataview(this.app);
      const containerEl = document.getElementById("MNOfolderview-listcontainer");
      const previousY = (containerEl == null ? void 0 : containerEl.scrollTop) ? containerEl.scrollTop : 0;
      if (!this.targetFolder) {
        drawUIFolderView.call(this);
        return;
      }
      this.filecount = 0;
      if (flagGetTarget) {
        if (this.targetFolder) {
          this.clearDatas();
          yield this.processFolder(this.targetFolder);
        }
      }
      const midTime = performance.now();
      if (this.settings.showDebugInfo) {
        console.log("Multiple Notes Outline: time required to get outlines, folder view: ", this.targetFolder.path, midTime - startTime);
      }
      drawUIFolderView.call(this);
      this.drawOutline(previousY);
      const endTime = performance.now();
      if (this.settings.showDebugInfo) {
        console.log("Multiple Notes Outline: time required to draw outlines, folder view: ", this.targetFolder.path, endTime - midTime);
        console.log("Multiple Notes Outline: time required to refresh view, folder view: ", this.targetFolder.path, endTime - startTime);
      }
    });
  }
  processFolder(folder) {
    return __async(this, null, function* () {
      this.targetFiles[folder.path] = folder.children;
      this.fileStatus[folder.path] = initFileStatus(this.targetFiles[folder.path]);
      this.fileOrder[folder.path] = [...Array(this.targetFiles[folder.path].length)].map((_, i) => i);
      sortFileOrder(this.fileOrder[folder.path], this.targetFiles[folder.path], this.fileStatus[folder.path], this.fileInfo[folder.path], this.settings);
      this.fileInfo[folder.path] = [];
      this.outlineData[folder.path] = [];
      if (folder.children.length <= this.settings.processLimit) {
        [this.fileStatus[folder.path], this.fileInfo[folder.path], this.outlineData[folder.path]] = yield this.getOutlines(this.targetFiles[folder.path], this.fileStatus[folder.path]);
      }
    });
  }
  getOutlines(files, status) {
    return __async(this, null, function* () {
      const fileInfo = [];
      const outlineData = [];
      for (let i = 0; i < files.length; i++) {
        if (checkFlag(this.targetFolder, files[i], "top", this.settings) == true) {
          status[i].isTop = true;
        }
        if (status[i].isFolder) {
          fileInfo.push(void 0);
          outlineData.push(void 0);
          if (!this.settings.collapseFolder) {
            yield this.processFolder(files[i]);
            status[i].outlineReady = true;
          }
        } else {
          if (this.filecount < this.settings.readLimit || status[i].isTop) {
            const info = yield getFileInfo(this.app, files[i], this.settings, false, this.isDataviewEnabled);
            fileInfo.push(info);
            const data = yield getOutline(this.app, files[i], status[i], info, this.settings);
            if (data) {
              outlineData.push(data);
              status[i].outlineReady = true;
            } else {
              outlineData.push(void 0);
            }
          } else {
            fileInfo.push(void 0);
            outlineData.push(void 0);
          }
          this.filecount++;
        }
      }
      return [status, fileInfo, outlineData];
    });
  }
  drawOutline(previousY) {
    const containerEl = createDiv("nav-files-container node-insert-event");
    const rootEl = containerEl.createDiv("tree-item nav-folder mod-root");
    const rootChildrenEl = rootEl.createDiv("tree-item-children nav-folder-children");
    containerEl.id = "MNOfolderview-listcontainer";
    const folderEl = rootChildrenEl.createDiv("tree-itme nav-folder");
    const folderTitleEl = folderEl.createDiv("tree-item-self is-clickable mod-collapsible nav-folder-title is-targetfolder");
    folderTitleEl.createDiv("tree-item-inner nav-folder-title-content").setText(this.targetFolder.path);
    folderTitleEl.addEventListener("contextmenu", (event) => {
      const menu = new import_obsidian11.Menu();
      if (this.settings.favorite.folder.includes(this.targetFolder.path)) {
        menu.addItem((item) => item.setTitle("MNO: Remove from favorites").setIcon("bookmark-minus").onClick(() => __async(this, null, function* () {
          deleteFavAndRecent.call(this, this.targetFolder.path, "folder", "favorite");
          yield this.plugin.saveSettings();
        })));
      } else {
        menu.addItem((item) => item.setTitle("MNO: Add to favorites").setIcon("bookmark-plus").onClick(() => __async(this, null, function* () {
          updateFavAndRecent.call(this, this.targetFolder.path, "folder", "favorite");
          yield this.plugin.saveSettings();
        })));
      }
      menu.showAtMouseEvent(event);
    });
    const folderChildrenEl = folderEl.createDiv("tree-item-children nav-folder-children");
    const categoryAOTEl = folderChildrenEl.createDiv("tree-item nav-folder");
    const categoryMainEl = folderChildrenEl.createDiv("tree-item nav-folder");
    constructNoteDOM.call(this, this.targetFiles[this.targetFolder.path], this.fileStatus[this.targetFolder.path], this.fileInfo[this.targetFolder.path], this.outlineData[this.targetFolder.path], categoryMainEl, "folder", categoryAOTEl, this.targetFolder, this.fileOrder[this.targetFolder.path]);
    this.contentEl.appendChild(containerEl);
    if (this.hasMainChanged == false && previousY != 0) {
      containerEl.scrollTop = previousY;
    }
    this.hasMainChanged = false;
  }
  clearDatas() {
    this.targetFiles = {};
    this.fileStatus = {};
    this.fileInfo = {};
    this.outlineData = {};
    this.fileOrder = {};
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  autoupdateFileView: true,
  suspendUpdateByClickingView: true,
  autoupdateFolderView: false,
  showFiles: {
    main: true,
    outgoing: true,
    backlink: true
  },
  showElements: {
    heading: true,
    link: true,
    tag: true,
    listItems: true,
    task: true
  },
  maxHeadingLevel: 6,
  hideLinksBetweenRelatedFiles: "none",
  allRootItems: false,
  allTasks: true,
  taskOnly: false,
  hideCompletedTasks: false,
  displayFileInfo: "lines",
  viewPosition: "right",
  inlinePreview: true,
  tooltipPreview: true,
  tooltipPreviewDirection: "left",
  wordsToExtract: "",
  icon: {
    heading: "none",
    link: "link",
    tag: "tag",
    listItems: "list",
    note: "file",
    task: "square",
    taskDone: "check-square",
    backlink: "links-coming-in"
  },
  customIcon: {
    heading: "hash",
    link: "link",
    tag: "tag",
    listItems: "list",
    note: "file",
    task: "square",
    taskDone: "check-square",
    backlink: "links-coming-in"
  },
  indent: {
    heading: true,
    link: true,
    tag: true,
    listItems: true
  },
  indentFollowHeading: 2,
  prefix: {
    heading: "",
    link: "",
    tag: "",
    listItems: "",
    task: "",
    taskDone: "",
    backlink: ""
  },
  repeatHeadingPrefix: "none",
  addCheckboxText: false,
  hideDuplicated: true,
  readLimit: 50,
  processLimit: 100,
  noteTitleBackgroundColor: "accent",
  customNoteTitleBackgroundColor: {
    light: "#BEBEBE",
    dark: "#4E4E4E"
  },
  customNoteTitleBackgroundColorHover: {
    light: "#AEAEAE",
    dark: "#5E5E5E"
  },
  tagsAOT: [],
  showBacklinks: true,
  relatedFiles: {},
  openAtStartup: {
    file: false,
    folder: false
  },
  collapseFolder: true,
  sortType: "alphabetAscending",
  showDebugInfo: false,
  collapseAllAtStartup: false,
  showPropertyLinks: true,
  recent: {
    file: [],
    folder: []
  },
  favorite: {
    file: [],
    folder: []
  },
  numOfRecentFiles: 30,
  pinAfterJump: true,
  openRecentAtStartup: {
    file: false,
    folder: false
  },
  popoutSize: {
    width: 600,
    height: 800
  },
  popoutAlwaysOnTop: false,
  openLinkByClick: false,
  hideMinor2hopLink: false,
  dispListCallouts: true,
  saveRecentView: true,
  wrapLine: false,
  bootDelayTime: 300
};
var FILE_TITLE_BACKGROUND_COLOR = {
  default: {
    light: "#F6F6F6",
    dark: "#262626"
  },
  accent: {
    light: "#E3E3E3",
    dark: "#363636"
  }
};
var FILE_TITLE_BACKGROUND_COLOR_HOVER = {
  default: {
    light: "#E3E3E3",
    dark: "#363636"
  },
  accent: {
    light: "#D3D3D3",
    dark: "#464646"
  }
};
var LIST_CALLOUT_DEFAULT = [
  {
    color: "255, 214, 0",
    char: "&"
  },
  {
    color: "255, 145, 0",
    char: "?"
  },
  {
    color: "255, 23, 68",
    char: "!",
    icon: "lucide-alert-circle"
  },
  {
    color: "124, 77, 255",
    char: "~",
    icon: "lucide-crosshair"
  },
  {
    color: "0, 184, 212",
    char: "@"
  },
  {
    color: "0, 200, 83",
    char: "$"
  },
  {
    color: "158, 158, 158",
    char: "%"
  }
];
var MultipleNotesOutlinePlugin3 = class extends import_obsidian13.Plugin {
  constructor() {
    super(...arguments);
    this.checkFileView = (activateView) => __async(this, null, function* () {
      let [leaf] = this.app.workspace.getLeavesOfType(MultipleNotesOutlineViewType);
      if (!leaf) {
        switch (this.settings.viewPosition) {
          case "right":
            leaf = this.app.workspace.getRightLeaf(false);
            break;
          case "left":
            leaf = this.app.workspace.getLeftLeaf(false);
            break;
          case "tab":
            leaf = this.app.workspace.getLeaf("tab");
            break;
          case "split":
            leaf = this.app.workspace.getLeaf("split");
            break;
          case "popout":
            leaf = this.app.workspace.getLeaf("window");
            break;
        }
        yield leaf.setViewState({ type: MultipleNotesOutlineViewType });
      }
      if (activateView) {
        this.app.workspace.revealLeaf(leaf);
      }
    });
    this.checkFolderView = (activateView) => __async(this, null, function* () {
      let [leaf] = this.app.workspace.getLeavesOfType(MultipleNotesOutlineFolderViewType);
      if (!leaf) {
        switch (this.settings.viewPosition) {
          case "right":
            leaf = this.app.workspace.getRightLeaf(false);
            break;
          case "left":
            leaf = this.app.workspace.getLeftLeaf(false);
            break;
          case "tab":
            leaf = this.app.workspace.getLeaf("tab");
            break;
          case "split":
            leaf = this.app.workspace.getLeaf("split");
            break;
          case "popout":
            leaf = this.app.workspace.getLeaf("window");
            break;
        }
        yield leaf.setViewState({ type: MultipleNotesOutlineFolderViewType });
      }
      if (activateView) {
        this.app.workspace.revealLeaf(leaf);
      }
    });
  }
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      this.registerView(MultipleNotesOutlineViewType, (leaf) => this.view = new MultipleNotesOutlineView(leaf, this, this.settings));
      this.registerView(MultipleNotesOutlineFolderViewType, (leaf) => this.folderview = new MultipleNotesOutlineFolderView(leaf, this, this.settings));
      this.addCommand({
        id: "open-file-view",
        name: "Open File View",
        callback: () => __async(this, null, function* () {
          this.checkFileView(true);
        })
      });
      this.addCommand({
        id: "open-folder-view",
        name: "Open Folder View",
        callback: () => __async(this, null, function* () {
          this.checkFolderView(true);
        })
      });
      this.addCommand({
        id: "erase-all-fold-AOT-information",
        name: "Erase all folding/always-on-top information",
        callback: () => __async(this, null, function* () {
          const onSubmit = () => __async(this, null, function* () {
            this.settings.relatedFiles = {};
            yield this.saveSettings();
          });
          new ModalConfirm(this.app, this, "Are you sure you want to erase all folding/always-on-top information?", onSubmit).open();
        })
      });
      this.addCommand({
        id: "erase-non-favorite-fold-AOT-information",
        name: "Erase folding/always-on-top information except favorite files/folders",
        callback: () => __async(this, null, function* () {
          const onSubmit = () => __async(this, null, function* () {
            for (const srcFilePath in this.settings.relatedFiles) {
              if (!this.settings.favorite.file.includes(srcFilePath) && !this.settings.favorite.folder.includes(srcFilePath)) {
                delete this.settings.relatedFiles[srcFilePath];
              } else {
              }
            }
            yield this.saveSettings();
          });
          new ModalConfirm(this.app, this, "Are you sure you want to erase folding/always-on-top information of not favorite files/folders?", onSubmit).open();
        })
      });
      this.app.workspace.onLayoutReady(() => __async(this, null, function* () {
        if (this.settings.openAtStartup.file) {
          this.checkFileView(false);
        }
        if (this.settings.openAtStartup.folder) {
          this.checkFolderView(false);
        }
      }));
      this.addSettingTab(new MultipleNotesOutlineSettingTab(this.app, this));
    });
  }
  onunload() {
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
      if (!this.settings.icon.hasOwnProperty("backlink")) {
        this.settings.icon.backlink = DEFAULT_SETTINGS.icon.backlink;
        this.settings.customIcon.backlink = DEFAULT_SETTINGS.customIcon.backlink;
        this.settings.prefix.backlink = DEFAULT_SETTINGS.prefix.backlink;
      }
      if (!this.settings.showElements.hasOwnProperty("task")) {
        this.settings.showElements.task = DEFAULT_SETTINGS.showElements.task;
      }
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
  onExternalSettingsChange() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      this.view.updateSettings();
      this.folderview.updateSettings();
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL2ZpbGVWaWV3LnRzIiwgInNyYy9nZXRUYXJnZXRGaWxlcy50cyIsICJzcmMvZ2V0T3V0bGluZS50cyIsICJzcmMvdXRpbC50cyIsICJzcmMvZHJhd1VJLnRzIiwgInNyYy9GYXZBbmRSZWNlbnQudHMiLCAic3JjL2NvbnN0cnVjdE91dGxpbmVET00udHMiLCAic3JjL2NvbnN0cnVjdE5vdGVET00udHMiLCAic3JjL3NldHRpbmcudHMiLCAic3JjL2ZvbGRlclZpZXcudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiwgUG9zLCBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuaW1wb3J0IHsgTXVsdGlwbGVOb3Rlc091dGxpbmVWaWV3LCBNdWx0aXBsZU5vdGVzT3V0bGluZVZpZXdUeXBlIH0gZnJvbSBcInNyYy9maWxlVmlld1wiO1xyXG5pbXBvcnQgeyBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdUYWIgfSBmcm9tIFwic3JjL3NldHRpbmdcIjtcclxuXHJcbmltcG9ydCB7IE11bHRpcGxlTm90ZXNPdXRsaW5lRm9sZGVyVmlldywgTXVsdGlwbGVOb3Rlc091dGxpbmVGb2xkZXJWaWV3VHlwZSB9IGZyb20gXCJzcmMvZm9sZGVyVmlld1wiO1xyXG5pbXBvcnQgeyBNb2RhbENvbmZpcm0gfSBmcm9tIFwiLi91dGlsXCI7XHJcblxyXG4vLyBcdThBMkRcdTVCOUFcdTk4MDVcdTc2RUVcclxuZXhwb3J0IGludGVyZmFjZSBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzIHtcclxuXHRhdXRvdXBkYXRlRmlsZVZpZXc6IGJvb2xlYW47XHJcblx0c3VzcGVuZFVwZGF0ZUJ5Q2xpY2tpbmdWaWV3OiBib29sZWFuO1xyXG5cdGF1dG91cGRhdGVGb2xkZXJWaWV3OiBib29sZWFuO1xyXG5cclxuXHRzaG93RmlsZXM6IHtcclxuXHRcdG1haW46IGJvb2xlYW47XHJcblx0XHRvdXRnb2luZzogYm9vbGVhbjtcclxuXHRcdGJhY2tsaW5rOiBib29sZWFuO1xyXG5cdH07XHJcblxyXG5cdHNob3dFbGVtZW50czoge1xyXG5cdFx0aGVhZGluZzogYm9vbGVhbjtcclxuXHRcdGxpbms6IGJvb2xlYW47XHJcblx0XHR0YWc6IGJvb2xlYW47XHJcblx0XHRsaXN0SXRlbXM6IGJvb2xlYW47XHJcblx0XHR0YXNrOiBib29sZWFuO1xyXG5cdH07XHJcblxyXG5cdC8vaGVhZGluZ0xldmVsOiBib29sZWFuW107XHJcblx0bWF4SGVhZGluZ0xldmVsOiBudW1iZXI7XHJcblxyXG5cdGhpZGVMaW5rc0JldHdlZW5SZWxhdGVkRmlsZXM6IFwibm9uZVwiIHwgXCJtYWluT25seVwiIHwgXCJ0b01haW5Pbmx5XCIgfCBcImFsbFwiO1xyXG5cclxuXHRhbGxSb290SXRlbXM6IGJvb2xlYW47XHJcblx0YWxsVGFza3M6IGJvb2xlYW47XHJcblx0dGFza09ubHk6IGJvb2xlYW47XHJcblx0aGlkZUNvbXBsZXRlZFRhc2tzOiBib29sZWFuO1xyXG5cdGRpc3BsYXlGaWxlSW5mbzogc3RyaW5nOyAvLyBub25lIHx8IGxpbmVzIHx8IHRhZ1xyXG5cdHZpZXdQb3NpdGlvbjogc3RyaW5nOyAvL3JpZ2h0IHx8IGxlZnQgfHwgdGFiIHx8IHNwbGl0IHx8IHBvcG91dFxyXG5cclxuXHRpbmxpbmVQcmV2aWV3OiBib29sZWFuO1xyXG5cdHRvb2x0aXBQcmV2aWV3OiBib29sZWFuO1xyXG5cdHRvb2x0aXBQcmV2aWV3RGlyZWN0aW9uOiBzdHJpbmc7IC8vIGxlZnQgfHwgcmlnaHQgfHwgYm90dG9tIHx8IHRvcFxyXG5cclxuXHR3b3Jkc1RvRXh0cmFjdDogc3RyaW5nO1xyXG5cclxuXHRpY29uOiB7XHJcblx0XHQvL2ljb24gZm9yIGVhY2ggdHlwZSBvZiBlbGVtZW50XHJcblx0XHRoZWFkaW5nOiBzdHJpbmc7XHJcblx0XHRsaW5rOiBzdHJpbmc7XHJcblx0XHR0YWc6IHN0cmluZztcclxuXHRcdGxpc3RJdGVtczogc3RyaW5nO1xyXG5cdFx0bm90ZTogc3RyaW5nO1xyXG5cdFx0dGFzazogc3RyaW5nO1xyXG5cdFx0dGFza0RvbmU6IHN0cmluZztcclxuXHRcdGJhY2tsaW5rOiBzdHJpbmc7XHJcblx0fTtcclxuXHJcblx0Y3VzdG9tSWNvbjoge1xyXG5cdFx0aGVhZGluZzogc3RyaW5nO1xyXG5cdFx0bGluazogc3RyaW5nO1xyXG5cdFx0dGFnOiBzdHJpbmc7XHJcblx0XHRsaXN0SXRlbXM6IHN0cmluZztcclxuXHRcdG5vdGU6IHN0cmluZztcclxuXHRcdHRhc2s6IHN0cmluZztcclxuXHRcdHRhc2tEb25lOiBzdHJpbmc7XHJcblx0XHRiYWNrbGluazogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdGluZGVudDoge1xyXG5cdFx0aGVhZGluZzogYm9vbGVhbjtcclxuXHRcdGxpbms6IGJvb2xlYW47XHJcblx0XHR0YWc6IGJvb2xlYW47XHJcblx0XHRsaXN0SXRlbXM6IGJvb2xlYW47XHJcblx0fTtcclxuXHRpbmRlbnRGb2xsb3dIZWFkaW5nOiBudW1iZXI7IC8vIDAgZG9uJ3QgZm9sbG93IDE6c2FtZSBsZXZlbCAyOiBsZXZlbCsxXHJcblxyXG5cdHByZWZpeDoge1xyXG5cdFx0aGVhZGluZzogc3RyaW5nO1xyXG5cdFx0bGluazogc3RyaW5nO1xyXG5cdFx0dGFnOiBzdHJpbmc7XHJcblx0XHRsaXN0SXRlbXM6IHN0cmluZztcclxuXHRcdHRhc2s6IHN0cmluZztcclxuXHRcdHRhc2tEb25lOiBzdHJpbmc7XHJcblx0XHRiYWNrbGluazogc3RyaW5nO1xyXG5cdH07XHJcblx0cmVwZWF0SGVhZGluZ1ByZWZpeDogc3RyaW5nOyAvLyBub25lLCBsZXZlbCwgbGV2ZWwtMVxyXG5cdGFkZENoZWNrYm94VGV4dDogYm9vbGVhbjtcclxuXHJcblx0cmVhZExpbWl0OiBudW1iZXI7XHJcblx0cHJvY2Vzc0xpbWl0OiBudW1iZXI7XHJcblxyXG5cdGhpZGVEdXBsaWNhdGVkOiBib29sZWFuO1xyXG5cclxuXHQvLyBcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwQkZcdTMwQTRcdTMwQzhcdTMwRUJcdTMwNkVcdTgwQ0NcdTY2NkZcdTgyNzJcclxuXHRub3RlVGl0bGVCYWNrZ3JvdW5kQ29sb3I6IHN0cmluZztcclxuXHRjdXN0b21Ob3RlVGl0bGVCYWNrZ3JvdW5kQ29sb3I6IHtcclxuXHRcdGxpZ2h0OiBzdHJpbmc7XHJcblx0XHRkYXJrOiBzdHJpbmc7XHJcblx0fTtcclxuXHRjdXN0b21Ob3RlVGl0bGVCYWNrZ3JvdW5kQ29sb3JIb3Zlcjoge1xyXG5cdFx0bGlnaHQ6IHN0cmluZztcclxuXHRcdGRhcms6IHN0cmluZztcclxuXHR9O1xyXG5cclxuXHR0YWdzQU9UOiBzdHJpbmdbXTtcclxuXHJcblx0c2hvd0JhY2tsaW5rczogYm9vbGVhbjtcclxuXHJcblx0Ly8gXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDZFXHU5NUEyXHU0RkMyXHU2MDI3XHUzMDZCXHU5NUEyXHUzMDU5XHUzMDhCXHU2MEM1XHU1ODMxIHNyY1BhdGhcdTMwNkVcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwNENcdTMwRTFcdTMwQTRcdTMwRjNcdTMwNkVcdTU4MzRcdTU0MDhcdTMwMDFkc3RQYXRoXHUzMDZFXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDRDZm9sZFx1RkYxQVx1NjI5OFx1MzA4QVx1MzA1Rlx1MzA1Rlx1MzA3RVx1MzA4Q1x1MzA4Qlx1MzAwMXRvcFx1RkYxQVx1MzBDOFx1MzBDM1x1MzBEN1x1MzA2Qlx1ODg2OFx1NzkzQVxyXG5cdHJlbGF0ZWRGaWxlczoge1xyXG5cdFx0W3NyY1BhdGg6IHN0cmluZ106IHtcclxuXHRcdFx0W2RzdFBhdGg6IHN0cmluZ106IHtcclxuXHRcdFx0XHRmb2xkPzogYm9vbGVhbjtcclxuXHRcdFx0XHR0b3A/OiBib29sZWFuO1xyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRvcGVuQXRTdGFydHVwOiB7XHJcblx0XHRmaWxlOiBib29sZWFuO1xyXG5cdFx0Zm9sZGVyOiBib29sZWFuO1xyXG5cdH07XHJcblxyXG5cdGNvbGxhcHNlRm9sZGVyOiBib29sZWFuO1xyXG5cdHNvcnRUeXBlOlxyXG5cdFx0fCBcImFscGhhYmV0QXNjZW5kaW5nXCJcclxuXHRcdHwgXCJhbHBoYWJldERlc2NlbmRpbmdcIlxyXG5cdFx0fCBcImN0aW1lRGVzY2VuZGluZ1wiXHJcblx0XHR8IFwiY3RpbWVBc2NlbmRpbmdcIlxyXG5cdFx0fCBcIm10aW1lRGVzY2VuZGluZ1wiXHJcblx0XHR8IFwibXRpbWVBc2NlbmRpbmdcIjtcclxuXHJcblx0c2hvd0RlYnVnSW5mbzogYm9vbGVhbjtcclxuXHJcblx0Y29sbGFwc2VBbGxBdFN0YXJ0dXA6IGJvb2xlYW47XHJcblxyXG5cdHNob3dQcm9wZXJ0eUxpbmtzOiBib29sZWFuO1xyXG5cclxuXHRyZWNlbnQ6IHtcclxuXHRcdGZpbGU6IHN0cmluZ1tdO1xyXG5cdFx0Zm9sZGVyOiBzdHJpbmdbXTtcclxuXHR9O1xyXG5cdGZhdm9yaXRlOiB7XHJcblx0XHRmaWxlOiBzdHJpbmdbXTtcclxuXHRcdGZvbGRlcjogc3RyaW5nW107XHJcblx0fTtcclxuXHJcblx0bnVtT2ZSZWNlbnRGaWxlczogbnVtYmVyO1xyXG5cdHBpbkFmdGVySnVtcDogYm9vbGVhbjsgLy8gZmlsZVZpZXdcdTMwNkJcdTMwNEFcdTMwNDRcdTMwNjZcdTVDNjVcdTZCNzQvXHUzMDRBXHU2QzE3XHUzMDZCXHU1MTY1XHUzMDhBXHUzMDkyXHU5NThCXHUzMDQ0XHUzMDVGXHUzMDY4XHUzMDREXHUzMDZCXHUzMEQ0XHUzMEYzXHUzMDkyXHU0RUQ4XHU1MkEwXHUzMDU5XHUzMDhCXHUzMDRCXHUzMDY5XHUzMDQ2XHUzMDRCXHJcblxyXG5cdG9wZW5SZWNlbnRBdFN0YXJ0dXA6IHtcclxuXHRcdGZpbGU6IGJvb2xlYW47XHJcblx0XHRmb2xkZXI6IGJvb2xlYW47XHJcblx0fTtcclxuXHJcblx0cG9wb3V0U2l6ZToge1xyXG5cdFx0d2lkdGg6IG51bWJlcjtcclxuXHRcdGhlaWdodDogbnVtYmVyO1xyXG5cdH07XHJcblxyXG5cdHBvcG91dEFsd2F5c09uVG9wOiBib29sZWFuO1xyXG5cclxuXHRvcGVuTGlua0J5Q2xpY2s6IGJvb2xlYW47XHJcblxyXG5cdGhpZGVNaW5vcjJob3BMaW5rOiBib29sZWFuO1xyXG5cdGRpc3BMaXN0Q2FsbG91dHM6IGJvb2xlYW47XHJcblx0c2F2ZVJlY2VudFZpZXc6IGJvb2xlYW47XHJcblxyXG5cdHdyYXBMaW5lOiBib29sZWFuO1xyXG5cdGJvb3REZWxheVRpbWU6IG51bWJlcjtcclxufVxyXG5cclxuLy8gXHU4QTJEXHU1QjlBXHU5ODA1XHU3NkVFXHUzMEM3XHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEM4XHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzID0ge1xyXG5cdGF1dG91cGRhdGVGaWxlVmlldzogdHJ1ZSxcclxuXHRzdXNwZW5kVXBkYXRlQnlDbGlja2luZ1ZpZXc6IHRydWUsXHJcblx0YXV0b3VwZGF0ZUZvbGRlclZpZXc6IGZhbHNlLFxyXG5cclxuXHRzaG93RmlsZXM6IHtcclxuXHRcdG1haW46IHRydWUsXHJcblx0XHRvdXRnb2luZzogdHJ1ZSxcclxuXHRcdGJhY2tsaW5rOiB0cnVlLFxyXG5cdH0sXHJcblxyXG5cdHNob3dFbGVtZW50czoge1xyXG5cdFx0aGVhZGluZzogdHJ1ZSxcclxuXHRcdGxpbms6IHRydWUsXHJcblx0XHR0YWc6IHRydWUsXHJcblx0XHRsaXN0SXRlbXM6IHRydWUsXHJcblx0XHR0YXNrOiB0cnVlLFxyXG5cdH0sXHJcblxyXG5cdC8vaGVhZGluZ0xldmVsOiBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV0sXHJcblx0bWF4SGVhZGluZ0xldmVsOiA2LFxyXG5cclxuXHRoaWRlTGlua3NCZXR3ZWVuUmVsYXRlZEZpbGVzOiBcIm5vbmVcIixcclxuXHJcblx0YWxsUm9vdEl0ZW1zOiBmYWxzZSxcclxuXHRhbGxUYXNrczogdHJ1ZSxcclxuXHR0YXNrT25seTogZmFsc2UsXHJcblx0aGlkZUNvbXBsZXRlZFRhc2tzOiBmYWxzZSxcclxuXHRkaXNwbGF5RmlsZUluZm86IFwibGluZXNcIixcclxuXHR2aWV3UG9zaXRpb246IFwicmlnaHRcIixcclxuXHJcblx0aW5saW5lUHJldmlldzogdHJ1ZSxcclxuXHR0b29sdGlwUHJldmlldzogdHJ1ZSxcclxuXHR0b29sdGlwUHJldmlld0RpcmVjdGlvbjogXCJsZWZ0XCIsXHJcblxyXG5cdHdvcmRzVG9FeHRyYWN0OiBcIlwiLFxyXG5cclxuXHRpY29uOiB7XHJcblx0XHRoZWFkaW5nOiBcIm5vbmVcIixcclxuXHRcdGxpbms6IFwibGlua1wiLFxyXG5cdFx0dGFnOiBcInRhZ1wiLFxyXG5cdFx0bGlzdEl0ZW1zOiBcImxpc3RcIixcclxuXHRcdG5vdGU6IFwiZmlsZVwiLFxyXG5cdFx0dGFzazogXCJzcXVhcmVcIixcclxuXHRcdHRhc2tEb25lOiBcImNoZWNrLXNxdWFyZVwiLFxyXG5cdFx0YmFja2xpbms6IFwibGlua3MtY29taW5nLWluXCIsXHJcblx0fSxcclxuXHRjdXN0b21JY29uOiB7XHJcblx0XHRoZWFkaW5nOiBcImhhc2hcIixcclxuXHRcdGxpbms6IFwibGlua1wiLFxyXG5cdFx0dGFnOiBcInRhZ1wiLFxyXG5cdFx0bGlzdEl0ZW1zOiBcImxpc3RcIixcclxuXHRcdG5vdGU6IFwiZmlsZVwiLFxyXG5cdFx0dGFzazogXCJzcXVhcmVcIixcclxuXHRcdHRhc2tEb25lOiBcImNoZWNrLXNxdWFyZVwiLFxyXG5cdFx0YmFja2xpbms6IFwibGlua3MtY29taW5nLWluXCIsXHJcblx0fSxcclxuXHJcblx0aW5kZW50OiB7XHJcblx0XHRoZWFkaW5nOiB0cnVlLFxyXG5cdFx0bGluazogdHJ1ZSxcclxuXHRcdHRhZzogdHJ1ZSxcclxuXHRcdGxpc3RJdGVtczogdHJ1ZSxcclxuXHR9LFxyXG5cdGluZGVudEZvbGxvd0hlYWRpbmc6IDIsXHJcblx0cHJlZml4OiB7XHJcblx0XHRoZWFkaW5nOiBcIlwiLFxyXG5cdFx0bGluazogXCJcIixcclxuXHRcdHRhZzogXCJcIixcclxuXHRcdGxpc3RJdGVtczogXCJcIixcclxuXHRcdHRhc2s6IFwiXCIsXHJcblx0XHR0YXNrRG9uZTogXCJcIixcclxuXHRcdGJhY2tsaW5rOiBcIlwiLFxyXG5cdH0sXHJcblx0cmVwZWF0SGVhZGluZ1ByZWZpeDogXCJub25lXCIsXHJcblx0YWRkQ2hlY2tib3hUZXh0OiBmYWxzZSxcclxuXHJcblx0aGlkZUR1cGxpY2F0ZWQ6IHRydWUsXHJcblxyXG5cdHJlYWRMaW1pdDogNTAsXHJcblx0cHJvY2Vzc0xpbWl0OiAxMDAsXHJcblxyXG5cdG5vdGVUaXRsZUJhY2tncm91bmRDb2xvcjogXCJhY2NlbnRcIixcclxuXHRjdXN0b21Ob3RlVGl0bGVCYWNrZ3JvdW5kQ29sb3I6IHtcclxuXHRcdGxpZ2h0OiBcIiNCRUJFQkVcIixcclxuXHRcdGRhcms6IFwiIzRFNEU0RVwiLFxyXG5cdH0sXHJcblx0Y3VzdG9tTm90ZVRpdGxlQmFja2dyb3VuZENvbG9ySG92ZXI6IHtcclxuXHRcdGxpZ2h0OiBcIiNBRUFFQUVcIixcclxuXHRcdGRhcms6IFwiIzVFNUU1RVwiLFxyXG5cdH0sXHJcblxyXG5cdHRhZ3NBT1Q6IFtdLFxyXG5cclxuXHRzaG93QmFja2xpbmtzOiB0cnVlLFxyXG5cclxuXHRyZWxhdGVkRmlsZXM6IHt9LFxyXG5cclxuXHRvcGVuQXRTdGFydHVwOiB7XHJcblx0XHRmaWxlOiBmYWxzZSxcclxuXHRcdGZvbGRlcjogZmFsc2UsXHJcblx0fSxcclxuXHJcblx0Y29sbGFwc2VGb2xkZXI6IHRydWUsXHJcblx0c29ydFR5cGU6IFwiYWxwaGFiZXRBc2NlbmRpbmdcIixcclxuXHJcblx0c2hvd0RlYnVnSW5mbzogZmFsc2UsXHJcblx0Y29sbGFwc2VBbGxBdFN0YXJ0dXA6IGZhbHNlLFxyXG5cclxuXHRzaG93UHJvcGVydHlMaW5rczogdHJ1ZSxcclxuXHJcblx0cmVjZW50OiB7XHJcblx0XHRmaWxlOiBbXSxcclxuXHRcdGZvbGRlcjogW10sXHJcblx0fSxcclxuXHRmYXZvcml0ZToge1xyXG5cdFx0ZmlsZTogW10sXHJcblx0XHRmb2xkZXI6IFtdLFxyXG5cdH0sXHJcblxyXG5cdG51bU9mUmVjZW50RmlsZXM6IDMwLFxyXG5cdHBpbkFmdGVySnVtcDogdHJ1ZSxcclxuXHJcblx0b3BlblJlY2VudEF0U3RhcnR1cDoge1xyXG5cdFx0ZmlsZTogZmFsc2UsXHJcblx0XHRmb2xkZXI6IGZhbHNlLFxyXG5cdH0sXHJcblxyXG5cdHBvcG91dFNpemU6IHtcclxuXHRcdHdpZHRoOiA2MDAsXHJcblx0XHRoZWlnaHQ6IDgwMCxcclxuXHR9LFxyXG5cdHBvcG91dEFsd2F5c09uVG9wOiBmYWxzZSxcclxuXHJcblx0b3BlbkxpbmtCeUNsaWNrOiBmYWxzZSxcclxuXHJcblx0aGlkZU1pbm9yMmhvcExpbms6IGZhbHNlLFxyXG5cdGRpc3BMaXN0Q2FsbG91dHM6IHRydWUsXHJcblxyXG5cdHNhdmVSZWNlbnRWaWV3OiB0cnVlLFxyXG5cclxuXHR3cmFwTGluZTogZmFsc2UsXHJcblx0Ym9vdERlbGF5VGltZTogMzAwLFxyXG59O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBGaWxlU3RhdHVzIHtcclxuXHRpc0ZvbGRlZDogYm9vbGVhbjsgLy8gXHU3M0ZFXHU1NzI4XHUzMEQ1XHUzMEE5XHUzMEZDXHUzMEVCXHUzMEM5XHUzMDU1XHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDhCXHUzMDRCXHJcblx0aXNUb3A6IGJvb2xlYW47IC8vIEFsd2F5cyBvbiB0b3AgXHUzMEQ1XHUzMEU5XHUzMEIwXHUzMDRDXHU3QUNCXHUzMDYzXHUzMDY2XHUzMDQ0XHUzMDhCXHUzMDRCXHJcblx0ZHVwbGljYXRlZDoge1xyXG5cdFx0bWFpbjogYm9vbGVhbjtcclxuXHRcdG91dGdvaW5nOiBib29sZWFuO1xyXG5cdFx0YmFja2xpbms6IGJvb2xlYW47XHJcblx0XHRzZWxmOiBib29sZWFuO1xyXG5cdH07IC8vIFx1NTQwQ1x1MzA1OFx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA0Q1x1NjVFMlx1MzA2Qlx1MzBFQVx1MzBCOVx1MzBDOFx1NTE4NVx1MzA2Qlx1MzA0Mlx1MzA4Qlx1MzA0QiAoZmlsZSB2aWV3KVxyXG5cdG91dGxpbmVSZWFkeTogYm9vbGVhbjsgLy8gb3V0bGluZVx1MzA5Mlx1NTNENlx1NUY5N1x1MzA1N1x1MzA1Rlx1MzA0Qlx1MzA2OVx1MzA0Nlx1MzA0QlxyXG5cdGlzRm9sZGVyOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVJbmZvIHtcclxuXHRsaW5lczogc3RyaW5nW107XHJcblx0bnVtT2ZMaW5lczogbnVtYmVyO1xyXG5cdGJhY2tsaW5rcz86IFRGaWxlW107XHJcblx0ZnJvbnRtYXR0ZXJMaW5rcz86IHtcclxuXHRcdGRpc3BsYXlUZXh0Pzogc3RyaW5nO1xyXG5cdFx0a2V5OiBzdHJpbmc7XHJcblx0XHRsaW5rOiBzdHJpbmc7XHJcblx0XHRvcmlnaW5hbDogc3RyaW5nO1xyXG5cdH1bXTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBPdXRsaW5lRGF0YSB7XHJcblx0dHlwZU9mRWxlbWVudDogXCJoZWFkaW5nXCIgfCBcImxpbmtcIiB8IFwidGFnXCIgfCBcImxpc3RJdGVtc1wiO1xyXG5cdHBvc2l0aW9uOiBQb3M7XHJcblx0bGluaz86IHN0cmluZztcclxuXHRkaXNwbGF5VGV4dD86IHN0cmluZztcclxuXHQvLyBsZXZlbCBcdUZGMUFsaXN0SXRlbXNcdTMwNkJcdTMwNjRcdTMwNDRcdTMwNjZcdTMwNkYwXHVGRjFBXHUzMEM4XHUzMEMzXHUzMEQ3XHUzMDAxMVx1RkYxQVx1MzBFQlx1MzBGQ1x1MzBDOFx1MzAwMTJcdUZGMUFcdTMwNURcdTMwOENcdTRFRTVcdTRFMEJcclxuXHRsZXZlbD86IG51bWJlcjtcclxuXHR0YXNrPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRklMRV9USVRMRV9CQUNLR1JPVU5EX0NPTE9SID0ge1xyXG5cdGRlZmF1bHQ6IHtcclxuXHRcdGxpZ2h0OiBcIiNGNkY2RjZcIixcclxuXHRcdGRhcms6IFwiIzI2MjYyNlwiLFxyXG5cdH0sXHJcblx0YWNjZW50OiB7XHJcblx0XHRsaWdodDogXCIjRTNFM0UzXCIsXHJcblx0XHRkYXJrOiBcIiMzNjM2MzZcIixcclxuXHR9LFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IEZJTEVfVElUTEVfQkFDS0dST1VORF9DT0xPUl9IT1ZFUiA9IHtcclxuXHRkZWZhdWx0OiB7XHJcblx0XHRsaWdodDogXCIjRTNFM0UzXCIsXHJcblx0XHRkYXJrOiBcIiMzNjM2MzZcIixcclxuXHR9LFxyXG5cdGFjY2VudDoge1xyXG5cdFx0bGlnaHQ6IFwiI0QzRDNEM1wiLFxyXG5cdFx0ZGFyazogXCIjNDY0NjQ2XCIsXHJcblx0fSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBMSVNUX0NBTExPVVRfREVGQVVMVCA9IFtcclxuXHR7XHJcblx0XHRjb2xvcjogXCIyNTUsIDIxNCwgMFwiLFxyXG5cdFx0Y2hhcjogXCImXCIsXHJcblx0fSxcclxuXHR7XHJcblx0XHRjb2xvcjogXCIyNTUsIDE0NSwgMFwiLFxyXG5cdFx0Y2hhcjogXCI/XCIsXHJcblx0fSxcclxuXHR7XHJcblx0XHRjb2xvcjogXCIyNTUsIDIzLCA2OFwiLFxyXG5cdFx0Y2hhcjogXCIhXCIsXHJcblx0XHRpY29uOiBcImx1Y2lkZS1hbGVydC1jaXJjbGVcIixcclxuXHR9LFxyXG5cdHtcclxuXHRcdGNvbG9yOiBcIjEyNCwgNzcsIDI1NVwiLFxyXG5cdFx0Y2hhcjogXCJ+XCIsXHJcblx0XHRpY29uOiBcImx1Y2lkZS1jcm9zc2hhaXJcIixcclxuXHR9LFxyXG5cdHtcclxuXHRcdGNvbG9yOiBcIjAsIDE4NCwgMjEyXCIsXHJcblx0XHRjaGFyOiBcIkBcIixcclxuXHR9LFxyXG5cdHtcclxuXHRcdGNvbG9yOiBcIjAsIDIwMCwgODNcIixcclxuXHRcdGNoYXI6IFwiJFwiLFxyXG5cdH0sXHJcblx0e1xyXG5cdFx0Y29sb3I6IFwiMTU4LCAxNTgsIDE1OFwiLFxyXG5cdFx0Y2hhcjogXCIlXCIsXHJcblx0fSxcclxuXTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE11bHRpcGxlTm90ZXNPdXRsaW5lUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogTXVsdGlwbGVOb3Rlc091dGxpbmVTZXR0aW5ncztcclxuXHR2aWV3OiBNdWx0aXBsZU5vdGVzT3V0bGluZVZpZXc7XHJcblxyXG5cdGZvbGRlcnZpZXc6IE11bHRpcGxlTm90ZXNPdXRsaW5lRm9sZGVyVmlldztcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdC8vcmVnaXN0ZXIgY3VzdG9tZSB2aWV3IGFjY29yZGluZyB0byBEZXZsb3BlciBEb2NzXHJcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcclxuXHRcdFx0TXVsdGlwbGVOb3Rlc091dGxpbmVWaWV3VHlwZSxcclxuXHRcdFx0KGxlYWYpID0+ICh0aGlzLnZpZXcgPSBuZXcgTXVsdGlwbGVOb3Rlc091dGxpbmVWaWV3KGxlYWYsIHRoaXMsIHRoaXMuc2V0dGluZ3MpKSxcclxuXHRcdCk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlclZpZXcoXHJcblx0XHRcdE11bHRpcGxlTm90ZXNPdXRsaW5lRm9sZGVyVmlld1R5cGUsXHJcblx0XHRcdChsZWFmKSA9PiAodGhpcy5mb2xkZXJ2aWV3ID0gbmV3IE11bHRpcGxlTm90ZXNPdXRsaW5lRm9sZGVyVmlldyhsZWFmLCB0aGlzLCB0aGlzLnNldHRpbmdzKSksXHJcblx0XHQpO1xyXG5cclxuXHRcdC8vXHUzMEIzXHUzMERFXHUzMEYzXHUzMEM5XHU4RkZEXHU1MkEwXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogXCJvcGVuLWZpbGUtdmlld1wiLFxyXG5cdFx0XHRuYW1lOiBcIk9wZW4gRmlsZSBWaWV3XCIsXHJcblxyXG5cdFx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2hlY2tGaWxlVmlldyh0cnVlKTtcclxuXHRcdFx0fSxcclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6IFwib3Blbi1mb2xkZXItdmlld1wiLFxyXG5cdFx0XHRuYW1lOiBcIk9wZW4gRm9sZGVyIFZpZXdcIixcclxuXHJcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5jaGVja0ZvbGRlclZpZXcodHJ1ZSk7XHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogXCJlcmFzZS1hbGwtZm9sZC1BT1QtaW5mb3JtYXRpb25cIixcclxuXHRcdFx0bmFtZTogXCJFcmFzZSBhbGwgZm9sZGluZy9hbHdheXMtb24tdG9wIGluZm9ybWF0aW9uXCIsXHJcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgb25TdWJtaXQgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnJlbGF0ZWRGaWxlcyA9IHt9O1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdG5ldyBNb2RhbENvbmZpcm0oXHJcblx0XHRcdFx0XHR0aGlzLmFwcCxcclxuXHRcdFx0XHRcdHRoaXMsXHJcblx0XHRcdFx0XHRcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBlcmFzZSBhbGwgZm9sZGluZy9hbHdheXMtb24tdG9wIGluZm9ybWF0aW9uP1wiLFxyXG5cdFx0XHRcdFx0b25TdWJtaXQsXHJcblx0XHRcdFx0KS5vcGVuKCk7XHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiBcImVyYXNlLW5vbi1mYXZvcml0ZS1mb2xkLUFPVC1pbmZvcm1hdGlvblwiLFxyXG5cdFx0XHRuYW1lOiBcIkVyYXNlIGZvbGRpbmcvYWx3YXlzLW9uLXRvcCBpbmZvcm1hdGlvbiBleGNlcHQgZmF2b3JpdGUgZmlsZXMvZm9sZGVyc1wiLFxyXG5cdFx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG9uU3VibWl0ID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0Zm9yIChjb25zdCBzcmNGaWxlUGF0aCBpbiB0aGlzLnNldHRpbmdzLnJlbGF0ZWRGaWxlcykge1xyXG5cdFx0XHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHRcdFx0IXRoaXMuc2V0dGluZ3MuZmF2b3JpdGUuZmlsZS5pbmNsdWRlcyhzcmNGaWxlUGF0aCkgJiZcclxuXHRcdFx0XHRcdFx0XHQhdGhpcy5zZXR0aW5ncy5mYXZvcml0ZS5mb2xkZXIuaW5jbHVkZXMoc3JjRmlsZVBhdGgpXHJcblx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdGRlbGV0ZSB0aGlzLnNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlUGF0aF07XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0LyogZW1wdHkgKi9cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdG5ldyBNb2RhbENvbmZpcm0oXHJcblx0XHRcdFx0XHR0aGlzLmFwcCxcclxuXHRcdFx0XHRcdHRoaXMsXHJcblx0XHRcdFx0XHRcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBlcmFzZSBmb2xkaW5nL2Fsd2F5cy1vbi10b3AgaW5mb3JtYXRpb24gb2Ygbm90IGZhdm9yaXRlIGZpbGVzL2ZvbGRlcnM/XCIsXHJcblx0XHRcdFx0XHRvblN1Ym1pdCxcclxuXHRcdFx0XHQpLm9wZW4oKTtcclxuXHRcdFx0fSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIHZpZXdcdTMwNkVcdTY2RjRcdTY1QjAoXHUzMEEyXHUzMEMzXHUzMEQ3XHUzMEM3XHUzMEZDXHUzMEM4XHU2NjQyXHU3NTI4KVxyXG5cclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KGFzeW5jICgpID0+IHtcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Mub3BlbkF0U3RhcnR1cC5maWxlKSB7XHJcblx0XHRcdFx0dGhpcy5jaGVja0ZpbGVWaWV3KGZhbHNlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5vcGVuQXRTdGFydHVwLmZvbGRlcikge1xyXG5cdFx0XHRcdHRoaXMuY2hlY2tGb2xkZXJWaWV3KGZhbHNlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgTXVsdGlwbGVOb3Rlc091dGxpbmVTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHt9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG5cdFx0Ly8gdjAuNS4xXHUyMTkydjAuNlx1MzA2N3NldHRpbmdzLmljb24oY3VzdG9tSWNvbikuYmFja2xpbmsgLyBzaG93RWxlbWVudHMudGFza1x1MzA5Mlx1OEZGRFx1NTJBMFx1MzA1N1x1MzA1Rlx1MzA1M1x1MzA2OFx1MzA3OFx1MzA2RVx1NUJGRVx1NUZEQ1xyXG5cdFx0aWYgKCF0aGlzLnNldHRpbmdzLmljb24uaGFzT3duUHJvcGVydHkoXCJiYWNrbGlua1wiKSkge1xyXG5cdFx0XHR0aGlzLnNldHRpbmdzLmljb24uYmFja2xpbmsgPSBERUZBVUxUX1NFVFRJTkdTLmljb24uYmFja2xpbms7XHJcblx0XHRcdHRoaXMuc2V0dGluZ3MuY3VzdG9tSWNvbi5iYWNrbGluayA9IERFRkFVTFRfU0VUVElOR1MuY3VzdG9tSWNvbi5iYWNrbGluaztcclxuXHRcdFx0dGhpcy5zZXR0aW5ncy5wcmVmaXguYmFja2xpbmsgPSBERUZBVUxUX1NFVFRJTkdTLnByZWZpeC5iYWNrbGluaztcclxuXHRcdH1cclxuXHRcdGlmICghdGhpcy5zZXR0aW5ncy5zaG93RWxlbWVudHMuaGFzT3duUHJvcGVydHkoXCJ0YXNrXCIpKSB7XHJcblx0XHRcdHRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzLnRhc2sgPSBERUZBVUxUX1NFVFRJTkdTLnNob3dFbGVtZW50cy50YXNrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9uRXh0ZXJuYWxTZXR0aW5nc0NoYW5nZSgpIHtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblx0XHR0aGlzLnZpZXcudXBkYXRlU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMuZm9sZGVydmlldy51cGRhdGVTZXR0aW5ncygpO1xyXG5cdH1cclxuXHJcblx0Y2hlY2tGaWxlVmlldyA9IGFzeW5jIChhY3RpdmF0ZVZpZXc6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuXHRcdGxldCBbbGVhZl0gPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKE11bHRpcGxlTm90ZXNPdXRsaW5lVmlld1R5cGUpO1xyXG5cdFx0aWYgKCFsZWFmKSB7XHJcblx0XHRcdHN3aXRjaCAodGhpcy5zZXR0aW5ncy52aWV3UG9zaXRpb24pIHtcclxuXHRcdFx0XHRjYXNlIFwicmlnaHRcIjpcclxuXHRcdFx0XHRcdGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgXCJsZWZ0XCI6XHJcblx0XHRcdFx0XHRsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlZnRMZWFmKGZhbHNlKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgXCJ0YWJcIjpcclxuXHRcdFx0XHRcdGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZihcInRhYlwiKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgXCJzcGxpdFwiOlxyXG5cdFx0XHRcdFx0bGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKFwic3BsaXRcIik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIFwicG9wb3V0XCI6XHJcblx0XHRcdFx0XHRsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoXCJ3aW5kb3dcIik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7IHR5cGU6IE11bHRpcGxlTm90ZXNPdXRsaW5lVmlld1R5cGUgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGFjdGl2YXRlVmlldykge1xyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjaGVja0ZvbGRlclZpZXcgPSBhc3luYyAoYWN0aXZhdGVWaWV3OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcblx0XHRsZXQgW2xlYWZdID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShNdWx0aXBsZU5vdGVzT3V0bGluZUZvbGRlclZpZXdUeXBlKTtcclxuXHRcdGlmICghbGVhZikge1xyXG5cdFx0XHRzd2l0Y2ggKHRoaXMuc2V0dGluZ3Mudmlld1Bvc2l0aW9uKSB7XHJcblx0XHRcdFx0Y2FzZSBcInJpZ2h0XCI6XHJcblx0XHRcdFx0XHRsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIFwibGVmdFwiOlxyXG5cdFx0XHRcdFx0bGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWZ0TGVhZihmYWxzZSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIFwidGFiXCI6XHJcblx0XHRcdFx0XHRsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoXCJ0YWJcIik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIFwic3BsaXRcIjpcclxuXHRcdFx0XHRcdGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZihcInNwbGl0XCIpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSBcInBvcG91dFwiOlxyXG5cdFx0XHRcdFx0bGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKFwid2luZG93XCIpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0YXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoeyB0eXBlOiBNdWx0aXBsZU5vdGVzT3V0bGluZUZvbGRlclZpZXdUeXBlIH0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGFjdGl2YXRlVmlldykge1xyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcbiIsICJpbXBvcnQgeyBzZXRJY29uLCBkZWJvdW5jZSwgRGVib3VuY2VyIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG5pbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmltcG9ydCBNdWx0aXBsZU5vdGVzT3V0bGluZVBsdWdpbiwgeyBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzLCBPdXRsaW5lRGF0YSwgRmlsZUluZm8sIEZpbGVTdGF0dXMgfSBmcm9tIFwic3JjL21haW5cIjtcclxuXHJcbmltcG9ydCB7IGdldE91dGdvaW5nTGlua0ZpbGVzIH0gZnJvbSBcInNyYy9nZXRUYXJnZXRGaWxlc1wiO1xyXG5pbXBvcnQgeyBpbml0RmlsZVN0YXR1cywgZ2V0RmlsZUluZm8sIGdldE91dGxpbmUgfSBmcm9tIFwic3JjL2dldE91dGxpbmVcIjtcclxuaW1wb3J0IHtcclxuXHRjaGVja0ZsYWcsXHJcblx0c29ydEZpbGVPcmRlcixcclxuXHRnZXRUaGVtZSxcclxuXHRzZXROb3RlVGl0bGVCYWNrZ3JvdW5kQ29sb3IsXHJcblx0aGFuZGxlRGVsZXRlUmVsYXRlZEZpbGVzLFxyXG5cdGhhbmRsZVJlbmFtZVJlbGF0ZWRGaWxlcyxcclxuXHRjaGVja1JlbGF0ZWRGaWxlcyxcclxuXHRjaGVja0RhdGF2aWV3LFxyXG59IGZyb20gXCJzcmMvdXRpbFwiO1xyXG5cclxuaW1wb3J0IHsgZHJhd1VJIH0gZnJvbSBcInNyYy9kcmF3VUlcIjtcclxuaW1wb3J0IHsgY29uc3RydWN0T3V0bGluZURPTSB9IGZyb20gXCJzcmMvY29uc3RydWN0T3V0bGluZURPTVwiO1xyXG5cclxuaW1wb3J0IHtcclxuXHRjaGVja0ZhdkFuZFJlY2VudEZpbGVzLFxyXG5cdGhhbmRsZURlbGV0ZUZhdkFuZFJlY2VudEZpbGVzLFxyXG5cdGhhbmRsZVJlbmFtZUZhdkFuZFJlY2VudEZpbGVzLFxyXG5cdHVwZGF0ZUZhdkFuZFJlY2VudCxcclxufSBmcm9tIFwiLi9GYXZBbmRSZWNlbnRcIjtcclxuaW1wb3J0IHsgY29uc3RydWN0Tm90ZURPTSB9IGZyb20gXCIuL2NvbnN0cnVjdE5vdGVET01cIjtcclxuXHJcbmV4cG9ydCBjb25zdCBNdWx0aXBsZU5vdGVzT3V0bGluZVZpZXdUeXBlID0gXCJtdWx0aXBsZS1ub3Rlcy1vdXRsaW5lXCI7XHJcblxyXG5leHBvcnQgdHlwZSBDYXRlZ29yeSA9IFwibWFpblwiIHwgXCJvdXRnb2luZ1wiIHwgXCJiYWNrbGlua1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE11bHRpcGxlTm90ZXNPdXRsaW5lVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuXHRwbHVnaW46IE11bHRpcGxlTm90ZXNPdXRsaW5lUGx1Z2luO1xyXG5cdHNldHRpbmdzOiBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzO1xyXG5cclxuXHRhY3RpdmVGaWxlOiBURmlsZTtcclxuXHR0YXJnZXRGaWxlczoge1xyXG5cdFx0bWFpbjogVEZpbGVbXTtcclxuXHRcdG91dGdvaW5nOiBURmlsZVtdO1xyXG5cdFx0YmFja2xpbms6IFRGaWxlW107XHJcblx0fSA9IHtcclxuXHRcdG1haW46IFtdLFxyXG5cdFx0b3V0Z29pbmc6IFtdLFxyXG5cdFx0YmFja2xpbms6IFtdLFxyXG5cdH07XHJcblxyXG5cdGZpbGVTdGF0dXM6IHtcclxuXHRcdG1haW46IEZpbGVTdGF0dXNbXTtcclxuXHRcdG91dGdvaW5nOiBGaWxlU3RhdHVzW107XHJcblx0XHRiYWNrbGluazogRmlsZVN0YXR1c1tdO1xyXG5cdH0gPSB7XHJcblx0XHRtYWluOiBbXSxcclxuXHRcdG91dGdvaW5nOiBbXSxcclxuXHRcdGJhY2tsaW5rOiBbXSxcclxuXHR9O1xyXG5cclxuXHRmaWxlSW5mbzoge1xyXG5cdFx0bWFpbjogRmlsZUluZm9bXTtcclxuXHRcdG91dGdvaW5nOiBGaWxlSW5mb1tdO1xyXG5cdFx0YmFja2xpbms6IEZpbGVJbmZvW107XHJcblx0fSA9IHtcclxuXHRcdG1haW46IFtdLFxyXG5cdFx0b3V0Z29pbmc6IFtdLFxyXG5cdFx0YmFja2xpbms6IFtdLFxyXG5cdH07XHJcblxyXG5cdG91dGxpbmVEYXRhOiB7XHJcblx0XHRtYWluOiBPdXRsaW5lRGF0YVtdW107XHJcblx0XHRvdXRnb2luZzogT3V0bGluZURhdGFbXVtdO1xyXG5cdFx0YmFja2xpbms6IE91dGxpbmVEYXRhW11bXTtcclxuXHR9ID0ge1xyXG5cdFx0bWFpbjogW10sXHJcblx0XHRvdXRnb2luZzogW10sXHJcblx0XHRiYWNrbGluazogW10sXHJcblx0fTtcclxuXHJcblx0ZmlsZU9yZGVyOiB7XHJcblx0XHRtYWluOiBudW1iZXJbXTtcclxuXHRcdG91dGdvaW5nOiBudW1iZXJbXTtcclxuXHRcdGJhY2tsaW5rOiBudW1iZXJbXTtcclxuXHR9ID0ge1xyXG5cdFx0bWFpbjogW10sXHJcblx0XHRvdXRnb2luZzogW10sXHJcblx0XHRiYWNrbGluazogW10sXHJcblx0fTtcclxuXHJcblx0ZmxhZ0NoYW5nZWQgPSBmYWxzZTtcclxuXHRmbGFnUmVnZXRUYXJnZXQgPSBmYWxzZTtcclxuXHQvLyBmbGFnUmVuYW1lZDogYm9vbGVhbjtcclxuXHRmbGFnU2F2ZVNldHRpbmdzID0gZmFsc2U7XHJcblxyXG5cdGV4dHJhY3RNb2RlID0gZmFsc2U7XHJcblx0ZXh0cmFjdFRhc2sgPSBmYWxzZTtcclxuXHJcblx0Ly8gaW5jbHVkZSBtb2RlIFx1MzBENVx1MzBBM1x1MzBFQlx1MzBCRlx1MzBGQ1x1OTVBMlx1OTAyMyBcdTMwQjNcdTMwRTFcdTMwRjNcdTMwQzhcdTMwQTJcdTMwQTZcdTMwQzhcclxuXHQvLyBpbmNsdWRlTW9kZTogYm9vbGVhbjtcclxuXHJcblx0Ly9tYXhMZXZlbDogbnVtYmVyO1xyXG5cclxuXHQvL1x1NTE2OFx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA2RVx1NjI5OFx1MzA4QVx1MzA1Rlx1MzA1Rlx1MzA3RlxyXG5cdGNvbGxhcHNlQWxsID0gZmFsc2U7XHJcblx0Ly9cdTMwQUJcdTMwQzZcdTMwQjRcdTMwRUFcdTUzNThcdTRGNERcdTMwNkVcdTYyOThcdTMwOEFcdTMwNUZcdTMwNUZcdTMwN0ZcclxuXHRjb2xsYXBzZUNhdGVnb3J5OiB7IG91dGdvaW5nOiBib29sZWFuOyBiYWNrbGluazogYm9vbGVhbiB9ID0ge1xyXG5cdFx0b3V0Z29pbmc6IGZhbHNlLFxyXG5cdFx0YmFja2xpbms6IGZhbHNlLFxyXG5cdH07XHJcblxyXG5cdC8vXHUzMEQ3XHUzMEU5XHUzMEIwXHUzMEE0XHUzMEYzXHUzMEQzXHUzMEU1XHUzMEZDXHU3RDRDXHU3NTMxXHUzMDY3XHU1MjI1XHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDkyXHU5NThCXHUzMDQ0XHUzMDVGXHU5NjlCXHUzMDZCXHUzMDAxXHUzMEQzXHUzMEU1XHUzMEZDXHUzMDZFXHU2NkY0XHU2NUIwXHUzMDkyXHU0RkREXHU3NTU5XHUzMDU5XHUzMDhCXHUzMDVGXHUzMDgxXHUzMDZFXHUzMEQ1XHUzMEU5XHUzMEIwXHUzMDAyXHJcblx0Ly9cdTMwRDNcdTMwRTVcdTMwRkNcdTMwNEJcdTMwODlcdTUyMjVcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwNkJcdTc5RkJcdTUyRDVcdTMwNTdcdTMwNUZcdTMwODl0cnVlXHUzMDZCXHUzMDU3XHUzMDY2XHUzMDAxXHU0RTAwXHU1NkRFXHUzMDYwXHUzMDUxXHUzMEQzXHUzMEU1XHUzMEZDXHUzMDZFXHU2NkY0XHU2NUIwXHUzMDkyXHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHUzMDU5XHUzMDhCXHUzMDAyXHJcblx0aG9sZFVwZGF0ZU9uY2UgPSBmYWxzZTtcclxuXHJcblx0Ly8gdGFyZ2V0RmlsZXMubWFpbiBcdTMwNENcdTU5MDlcdTY2RjRcdTMwNTVcdTMwOENcdTMwNUZcdTMwODl0cnVlXHUzMDZCXHUzMDU3XHUzMDY2XHUzMDAxXHUzMEI5XHUzMEFGXHUzMEVEXHUzMEZDXHUzMEVCXHU0RjREXHU3RjZFXHUzMDkyXHU0RkREXHU2MzAxXHUzMDU3XHUzMDZBXHUzMDQ0XHUzMDVGXHUzMDgxXHUzMDZFXHUzMEQ1XHUzMEU5XHUzMEIwXHUzMDAyXHJcblx0aGFzTWFpbkNoYW5nZWQgPSBmYWxzZTtcclxuXHJcblx0Ly9cdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTMwOTJcdTUzRDZcdTVGOTdcdTMwNTdcdTMwNUZcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTY1NzBcdTMwNkVcdTMwQUJcdTMwQTZcdTMwRjNcdTMwQzhcdTMwMDJcdThBMkRcdTVCOUFcdTUwMjQocmVhZExpbWl0KVx1MzA5Mlx1OEQ4NVx1MzA0OFx1MzA1Rlx1MzA4OVx1OEFBRFx1MzA3Rlx1OEZCQ1x1MzA3Rlx1MzA5Mlx1NkI2Mlx1MzA4MVx1MzA4Qlx1MzAwMlxyXG5cdGZpbGVjb3VudCA9IDA7XHJcblxyXG5cdC8vIFx1NTkwOVx1NjZGNFx1MzA1NVx1MzA4Q1x1MzA1Rlx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA2RVx1OTE0RFx1NTIxN1x1MzAwMiBcdTRFMDBcdTVCOUFcdTk1OTNcdTk2OTRcdTMwNTRcdTMwNjhcdTMwNkJcdTMwNTNcdTMwNkVcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwNkVcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTMwOTJcdTUxOERcdThBQURcdTMwN0ZcdThGQkNcdTMwN0ZcdTMwNTdcdTMwNjZcdTMwMDFcdTY2RjRcdTY1QjBcdTMwNTdcdTMwNUZcdTMwODlcdTMwNTNcdTMwNkVcdTkxNERcdTUyMTdcdTMwOTJcdTdBN0FcdTMwNkJcdTMwNTlcdTMwOEJcclxuXHRjaGFuZ2VkRmlsZXM6IFRGaWxlW10gPSBbXTtcclxuXHQvLyByZW5hbWVkRmlsZXM6IHsgZmlsZTogVEZpbGUsIG9sZFBhdGg6IHN0cmluZyB9W10gPSBbXTtcclxuXHJcblx0Ly8gdmlld1x1MzBCRlx1MzBBNFx1MzBENyBET01cdTMwNkVpZFx1MzA2Qlx1MzA4Mlx1NEVEOFx1NTJBMFxyXG5cdHZpZXdUeXBlOiBcImZpbGVcIiB8IFwiZm9sZGVyXCIgPSBcImZpbGVcIjtcclxuXHJcblx0Ly8gXHU3M0ZFXHU1NzI4XHUzMDZFXHUzMEU5XHUzMEE0XHUzMEM4XHUzMEUyXHUzMEZDXHUzMEM5L1x1MzBDMFx1MzBGQ1x1MzBBRlx1MzBFMlx1MzBGQ1x1MzBDOVx1MzA2RVx1NzJCNlx1NjE0QlxyXG5cdHRoZW1lOiBcImxpZ2h0XCIgfCBcImRhcmtcIjtcclxuXHJcblx0cGlubmVkTW9kZSA9IGZhbHNlO1xyXG5cclxuXHRpc0RhdGF2aWV3RW5hYmxlZCA9IGZhbHNlO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwbHVnaW46IE11bHRpcGxlTm90ZXNPdXRsaW5lUGx1Z2luLCBzZXR0aW5nczogTXVsdGlwbGVOb3Rlc091dGxpbmVTZXR0aW5ncykge1xyXG5cdFx0c3VwZXIobGVhZik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuXHR9XHJcblxyXG5cdGdldFZpZXdUeXBlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gTXVsdGlwbGVOb3Rlc091dGxpbmVWaWV3VHlwZTtcclxuXHR9XHJcblxyXG5cdGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gXCJNTk8gLSBmaWxlIHZpZXdcIjtcclxuXHR9XHJcblxyXG5cdGdldEljb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBcImZpbGVzXCI7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbk9wZW4oKSB7XHJcblx0XHRhd2FpdCB0aGlzLmluaXRWaWV3KCk7XHJcblxyXG5cdFx0Ly8gRGF0YXZpZXdcdTMwNkVcdTMwRURcdTMwRkNcdTMwQzlcdTMwOTJcdTVGODVcdTZBNUZcdTMwNTdcdTMwNUZcdTMwNjhcdTMwNTNcdTMwOERcdTMwMDFcdTUzNzRcdTMwNjNcdTMwNjZcdTkwNDVcdTMwNEJcdTMwNjNcdTMwNUZcdTMwMDJcclxuXHRcdC8vIGlmIChjaGVja0RhdGF2aWV3KHRoaXMuYXBwKSl7XHJcblx0XHQvLyBcdGNvbnN0IGRhdGF2aWV3QVBJID0gZ2V0QVBJKCk7XHJcblx0XHQvLyBcdC8vIGRhdGF2aWV3XHUzMDRDaW5kZXgtcmVhZHlcdTMwNjdcdTMwNkFcdTMwNDRcdTU4MzRcdTU0MDhcdTMwNkVcdTMwN0ZcdTYzQ0ZcdTc1M0JcdTMwOTJcdTVGODVcdTZBNUZcclxuXHRcdC8vIFx0aWYgKCFkYXRhdmlld0FQSS5pbmRleC5pbml0aWFsaXplZCl7XHJcblx0XHQvLyBcdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUub24oXCJkYXRhdmlldzppbmRleC1yZWFkeVwiLCBhc3luYygpID0+IHtcclxuXHRcdC8vIFx0XHRcdGF3YWl0IHRoaXMuaW5pdFZpZXcoKTtcclxuXHRcdC8vIFx0XHR9KSk7XHJcblx0XHQvLyBcdH0gZWxzZSB7XHJcblx0XHQvLyBcdFx0YXdhaXQgdGhpcy5pbml0VmlldygpO1xyXG5cdFx0Ly8gXHR9XHJcblx0XHQvLyB9IGVsc2Uge1xyXG5cdFx0Ly8gXHRhd2FpdCB0aGlzLmluaXRWaWV3KCk7XHJcblx0XHQvLyB9XHJcblx0fVxyXG5cclxuXHR1cGRhdGVTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncztcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9uQ2xvc2UoKSB7XHJcblx0XHQvLyBOb3RoaW4gdG8gY2xlYW4gdXBcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgaW5pdFZpZXcoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmJvb3REZWxheSgpO1xyXG5cclxuXHRcdGNoZWNrUmVsYXRlZEZpbGVzKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzKTtcclxuXHRcdGNoZWNrRmF2QW5kUmVjZW50RmlsZXModGhpcy5hcHAsIHRoaXMuc2V0dGluZ3MsIHRoaXMudmlld1R5cGUpO1xyXG5cclxuXHRcdHRoaXMuY29sbGFwc2VBbGwgPSB0aGlzLnNldHRpbmdzLmNvbGxhcHNlQWxsQXRTdGFydHVwO1xyXG5cclxuXHRcdC8vIFx1MzBDRVx1MzBGQ1x1MzBDOFx1MzBCRlx1MzBBNFx1MzBDOFx1MzBFQlx1ODBDQ1x1NjY2Rlx1ODI3Mlx1MzA2RVx1OEEyRFx1NUI5QVxyXG5cdFx0dGhpcy50aGVtZSA9IGdldFRoZW1lKCk7XHJcblx0XHRzZXROb3RlVGl0bGVCYWNrZ3JvdW5kQ29sb3IodGhpcy50aGVtZSwgdGhpcy5zZXR0aW5ncyk7XHJcblxyXG5cdFx0Ly8gXHU1MjFEXHU2NzFGXHUzMDZFXHU4ODY4XHU3OTNBXHU1QkZFXHU4QzYxXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDkyXHU1M0Q2XHU1Rjk3XHVGRjA4XHUzMEEyXHUzMEFGXHUzMEM2XHUzMEEzXHUzMEQ2XHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDdFXHUzMDVGXHUzMDZGXHU2NzAwXHU1RjhDXHUzMDZCXHU4ODY4XHU3OTNBXHUzMDU3XHUzMDVGXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHVGRjA5XHJcblx0XHR0aGlzLmFjdGl2ZUZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xyXG5cdFx0aWYgKHRoaXMuYWN0aXZlRmlsZSkge1xyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5vcGVuUmVjZW50QXRTdGFydHVwLmZpbGUgJiZcclxuXHRcdFx0XHR0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGhpcy5zZXR0aW5ncy5yZWNlbnQuZmlsZT8uWzBdKSBpbnN0YW5jZW9mIFRGaWxlXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMubWFpblswXSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChcclxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MucmVjZW50LmZpbGU/LlswXSxcclxuXHRcdFx0XHQpIGFzIFRGaWxlO1xyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnBpbkFmdGVySnVtcCAmJiB0aGlzLnNldHRpbmdzLmF1dG91cGRhdGVGaWxlVmlldykge1xyXG5cdFx0XHRcdFx0dGhpcy5waW5uZWRNb2RlID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy50YXJnZXRGaWxlcy5tYWluWzBdID0gdGhpcy5hY3RpdmVGaWxlO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAodGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRoaXMuc2V0dGluZ3MucmVjZW50LmZpbGU/LlswXSkgaW5zdGFuY2VvZiBURmlsZSkge1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMubWFpblswXSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChcclxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MucmVjZW50LmZpbGU/LlswXSxcclxuXHRcdFx0XHQpIGFzIFRGaWxlO1xyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnBpbkFmdGVySnVtcCAmJiB0aGlzLnNldHRpbmdzLmF1dG91cGRhdGVGaWxlVmlldykge1xyXG5cdFx0XHRcdFx0dGhpcy5waW5uZWRNb2RlID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy50YXJnZXRGaWxlcy5tYWluWzBdID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dGhpcy5yZWZyZXNoVmlldyh0cnVlLCB0cnVlKTtcclxuXHJcblx0XHQvL1x1ODFFQVx1NTJENVx1NjZGNFx1NjVCMFx1MzA2RVx1MzA1Rlx1MzA4MVx1MzA2RVx1MzBDN1x1MzBGQ1x1MzBCRlx1NTkwOVx1NjZGNFx1MzAwMVx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1OEZGRFx1NTJBMC9cdTUyNEFcdTk2NjRcdTMwNkVcdTc2RTNcdTg5OTYgb2JzZXJ2ZSBmaWxlIGNoYW5nZS9jcmVhdGUvZGVsZXRlXHJcblx0XHRjb25zdCBkZWJvdW5jZXJSZXF1ZXN0UmVmcmVzaDogRGVib3VuY2VyPFtdLCBudWxsPiA9IGRlYm91bmNlKHRoaXMuYXV0b1JlZnJlc2gsIDMwMDAsIHRydWUpO1xyXG5cclxuXHRcdHRoaXMuZmxhZ0NoYW5nZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuZmxhZ1JlZ2V0VGFyZ2V0ID0gZmFsc2U7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW9wZW5cIiwgKGZpbGUpID0+IHtcclxuXHRcdFx0XHRpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmIGZpbGUgIT09IHRoaXMuYWN0aXZlRmlsZSkge1xyXG5cdFx0XHRcdFx0dGhpcy5hY3RpdmVGaWxlID0gZmlsZTtcclxuXHJcblx0XHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHRcdCF0aGlzLnNldHRpbmdzLmF1dG91cGRhdGVGaWxlVmlldyB8fFxyXG5cdFx0XHRcdFx0XHQodGhpcy5zZXR0aW5ncy5zdXNwZW5kVXBkYXRlQnlDbGlja2luZ1ZpZXcgJiYgdGhpcy5ob2xkVXBkYXRlT25jZSkgfHxcclxuXHRcdFx0XHRcdFx0dGhpcy5waW5uZWRNb2RlID09IHRydWVcclxuXHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHQvLyBhdXRvdXBkYXRlXHUzMDRDZmFsc2VcdTMwNEJcdTMwMDEgdmlld1x1MzA0Qlx1MzA4OVx1MzA2RVx1NzZGNFx1NjNBNVx1MzA2RVx1OTA3N1x1NzlGQlx1MzA2RVx1NTgzNFx1NTQwOFx1NjZGNFx1NjVCMFx1MzA1N1x1MzA2QVx1MzA0NFx1OEEyRFx1NUI5QVx1MzA2N1x1MzA0Mlx1MzA4Q1x1MzA3MFx1NjZGNFx1NjVCMFx1MzA5Mlx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChcclxuXHRcdFx0XHRcdFx0dGhpcy50YXJnZXRGaWxlcy5tYWluWzBdLmV4dGVuc2lvbiA9PSBcImNhbnZhc1wiICYmXHJcblx0XHRcdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMub3V0Z29pbmcuaW5jbHVkZXModGhpcy5hY3RpdmVGaWxlKVxyXG5cdFx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRcdC8vIGNhbnZhc1x1MzA0Q1x1MzBFMVx1MzBBNFx1MzBGM1x1MzA2RVx1OTY5Qlx1MzAwMWNhbnZhc1x1MzA2Qlx1NTQyQlx1MzA3RVx1MzA4Q1x1MzA4Qlx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA5Mlx1OTU4Qlx1MzA0NFx1MzA2Nlx1MzA4MnZpZXdcdTMwOTJcdTY2RjRcdTY1QjBcdTMwNTdcdTMwNkFcdTMwNDRcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMubWFpblswXSA9IHRoaXMuYWN0aXZlRmlsZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5oYXNNYWluQ2hhbmdlZCA9IHRydWU7XHJcblxyXG5cdFx0XHRcdFx0XHR1cGRhdGVGYXZBbmRSZWNlbnQuY2FsbCh0aGlzLCB0aGlzLmFjdGl2ZUZpbGUucGF0aCwgXCJmaWxlXCIsIFwicmVjZW50XCIpO1xyXG5cclxuXHRcdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyh0cnVlLCB0cnVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLFxyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcblx0XHRcdHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUub24oXCJjaGFuZ2VkXCIsIChmaWxlKSA9PiB7XHJcblx0XHRcdFx0bGV0IGNhdGVnb3J5OiBDYXRlZ29yeTtcclxuXHRcdFx0XHRmb3IgKGNhdGVnb3J5IGluIHRoaXMudGFyZ2V0RmlsZXMpIHtcclxuXHRcdFx0XHRcdGlmICh0aGlzLnRhcmdldEZpbGVzW2NhdGVnb3J5XS5pbmNsdWRlcyhmaWxlKSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXRoaXMuY2hhbmdlZEZpbGVzLmluY2x1ZGVzKGZpbGUpKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jaGFuZ2VkRmlsZXMucHVzaChmaWxlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR0aGlzLmZsYWdDaGFuZ2VkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0ZGVib3VuY2VyUmVxdWVzdFJlZnJlc2guY2FsbCh0aGlzKTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KSxcclxuXHRcdCk7XHJcblxyXG5cdFx0Ly8gXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMEQzXHUzMEU1XHUzMEZDXHUzMDZCXHUzMDRBXHUzMDQ0XHUzMDY2XHUzMDZGY3JlYXRlXHUzMDZGXHU3M0ZFXHU3MkI2XHU3MTIxXHU5NUEyXHU0RkMyXHJcblx0XHQvLyB0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAudmF1bHQub24oJ2NyZWF0ZScsKGZpbGUpPT57XHJcblx0XHQvLyBcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0Ly8gXHRcdHRoaXMuZmxhZ1JlZ2V0QWxsID0gdHJ1ZTtcclxuXHRcdC8vIFx0XHRkZWJvdW5jZXJSZXF1ZXN0UmVmcmVzaC5jYWxsKHRoaXMpO1xyXG5cdFx0Ly8gXHR9XHJcblx0XHQvLyB9KSk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5vbihcImRlbGV0ZVwiLCAoZmlsZSkgPT4ge1xyXG5cdFx0XHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcclxuXHRcdFx0XHRcdC8vIFx1MzBFMVx1MzBBNFx1MzBGM1x1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1NEVFNVx1NTkxNlx1MzA2RVx1NTI0QVx1OTY2NFx1MzA2RVx1NTgzNFx1NTQwOFx1MzBEM1x1MzBFNVx1MzBGQ1x1MzA5MiBcdTkwNzdcdTc5RkJcdTMwNTdcdTMwNkFcdTMwNDRcdTUxRTZcdTc0MDZcclxuXHRcdFx0XHRcdGlmIChmaWxlID09IHRoaXMuYWN0aXZlRmlsZSAmJiBmaWxlICE9IHRoaXMudGFyZ2V0RmlsZXMubWFpblswXSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmhvbGRVcGRhdGVPbmNlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNvbnN0IGNoYW5nZWRSZWxhdGVkRmlsZXMgPSBoYW5kbGVEZWxldGVSZWxhdGVkRmlsZXMoZmlsZSwgdGhpcy5zZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRpZiAoY2hhbmdlZFJlbGF0ZWRGaWxlcykge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmZsYWdTYXZlU2V0dGluZ3MgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGNoYW5nZWRGYXZBbmRSZWNlbnQgPSBoYW5kbGVEZWxldGVGYXZBbmRSZWNlbnRGaWxlcyhmaWxlLCB0aGlzLnNldHRpbmdzKTtcclxuXHRcdFx0XHRcdGlmIChjaGFuZ2VkRmF2QW5kUmVjZW50KSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZmxhZ1NhdmVTZXR0aW5ncyA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGlzLmZsYWdSZWdldFRhcmdldCA9IHRydWU7XHJcblx0XHRcdFx0XHRkZWJvdW5jZXJSZXF1ZXN0UmVmcmVzaC5jYWxsKHRoaXMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSksXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAudmF1bHQub24oXCJyZW5hbWVcIiwgKGZpbGUsIG9sZFBhdGgpID0+IHtcclxuXHRcdFx0XHRpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcblx0XHRcdFx0XHRjb25zdCBjaGFuZ2VkUmVsYXRlZEZpbGVzID0gaGFuZGxlUmVuYW1lUmVsYXRlZEZpbGVzKGZpbGUsIG9sZFBhdGgsIHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0aWYgKGNoYW5nZWRSZWxhdGVkRmlsZXMpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5mbGFnU2F2ZVNldHRpbmdzID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRjb25zdCBjaGFuZ2VkRmF2QW5kUmVjZW50ID0gaGFuZGxlUmVuYW1lRmF2QW5kUmVjZW50RmlsZXMoZmlsZSwgb2xkUGF0aCwgdGhpcy5zZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRpZiAoY2hhbmdlZEZhdkFuZFJlY2VudCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmZsYWdTYXZlU2V0dGluZ3MgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHRoaXMuZmxhZ1JlZ2V0VGFyZ2V0ID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRkZWJvdW5jZXJSZXF1ZXN0UmVmcmVzaC5jYWxsKHRoaXMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSksXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiY3NzLWNoYW5nZVwiLCAoZSkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG5ld1RoZW1lID0gZ2V0VGhlbWUoKTtcclxuXHRcdFx0XHRpZiAobmV3VGhlbWUgIT09IHRoaXMudGhlbWUpIHtcclxuXHRcdFx0XHRcdHRoaXMudGhlbWUgPSBuZXdUaGVtZTtcclxuXHRcdFx0XHRcdHNldE5vdGVUaXRsZUJhY2tncm91bmRDb2xvcih0aGlzLnRoZW1lLCB0aGlzLnNldHRpbmdzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLFxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgYm9vdERlbGF5KCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcblx0XHRcdHNldFRpbWVvdXQocmVzb2x2ZSwgdGhpcy5zZXR0aW5ncy5ib290RGVsYXlUaW1lKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8gXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU0RkVFXHU2QjYzXHUzMDAxXHU1MjRBXHU5NjY0XHUzMDAxXHUzMEVBXHUzMENEXHUzMEZDXHUzMEUwXHUzMDZBXHUzMDY5XHUzMDZFXHU5NjlCXHUzMDZFXHU4MUVBXHU1MkQ1XHU2NkY0XHU2NUIwXHJcblx0cHJpdmF0ZSBhc3luYyBhdXRvUmVmcmVzaCgpIHtcclxuXHRcdGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cclxuXHRcdGlmICghKHRoaXMuZmxhZ0NoYW5nZWQgfHwgdGhpcy5mbGFnUmVnZXRUYXJnZXQgfHwgdGhpcy5mbGFnU2F2ZVNldHRpbmdzKSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuZmxhZ0NoYW5nZWQgJiYgIXRoaXMuZmxhZ1JlZ2V0VGFyZ2V0KSB7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGFuZ2VkRmlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRsZXQgY2F0ZWdvcnk6IENhdGVnb3J5O1xyXG5cdFx0XHRcdGZvciAoY2F0ZWdvcnkgaW4gdGhpcy50YXJnZXRGaWxlcykge1xyXG5cdFx0XHRcdFx0Y29uc3QgaW5kZXggPSB0aGlzLnRhcmdldEZpbGVzW2NhdGVnb3J5XS5pbmRleE9mKHRoaXMuY2hhbmdlZEZpbGVzW2ldKTtcclxuXHRcdFx0XHRcdGlmIChpbmRleCA8IDApIHtcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly9cdTU5MDlcdTY2RjRcdTMwNTdcdTMwNUZcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwNkVcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTYwQzVcdTU4MzFcdTMwNjhcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTMwOTJcdTY2RjRcdTY1QjBcclxuXHRcdFx0XHRcdHRoaXMuZmlsZUluZm9bY2F0ZWdvcnldW2luZGV4XSA9IGF3YWl0IGdldEZpbGVJbmZvKFxyXG5cdFx0XHRcdFx0XHR0aGlzLmFwcCxcclxuXHRcdFx0XHRcdFx0dGhpcy50YXJnZXRGaWxlc1tjYXRlZ29yeV1baW5kZXhdLFxyXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLFxyXG5cdFx0XHRcdFx0XHR0cnVlLFxyXG5cdFx0XHRcdFx0XHR0aGlzLmlzRGF0YXZpZXdFbmFibGVkLFxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdGNvbnN0IG5ld0RhdGEgPSBhd2FpdCBnZXRPdXRsaW5lKFxyXG5cdFx0XHRcdFx0XHR0aGlzLmFwcCxcclxuXHRcdFx0XHRcdFx0dGhpcy50YXJnZXRGaWxlc1tjYXRlZ29yeV1baW5kZXhdLFxyXG5cdFx0XHRcdFx0XHR0aGlzLmZpbGVTdGF0dXNbY2F0ZWdvcnldW2luZGV4XSxcclxuXHRcdFx0XHRcdFx0dGhpcy5maWxlSW5mb1tjYXRlZ29yeV1baW5kZXhdLFxyXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLFxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdGlmIChuZXdEYXRhKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMub3V0bGluZURhdGFbY2F0ZWdvcnldW2luZGV4XSA9IG5ld0RhdGE7XHJcblx0XHRcdFx0XHRcdHRoaXMuZmlsZVN0YXR1c1tjYXRlZ29yeV1baW5kZXhdLm91dGxpbmVSZWFkeSA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gRE9NXHUzMDkyXHU2NkY0XHU2NUIwXHJcblx0XHRcdFx0XHRjb25zdCB1cGRhdGVOb3RlQ2hpbGRyZW5FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG5cdFx0XHRcdFx0XHRcIk1OT1wiICsgdGhpcy52aWV3VHlwZSArIHRoaXMudGFyZ2V0RmlsZXNbY2F0ZWdvcnldW2luZGV4XS5wYXRoLFxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdHVwZGF0ZU5vdGVDaGlsZHJlbkVsLmVtcHR5KCk7XHJcblx0XHRcdFx0XHRjb25zdHJ1Y3RPdXRsaW5lRE9NLmNhbGwoXHJcblx0XHRcdFx0XHRcdHRoaXMsXHJcblx0XHRcdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXNbY2F0ZWdvcnldW2luZGV4XSxcclxuXHRcdFx0XHRcdFx0dGhpcy5maWxlSW5mb1tjYXRlZ29yeV1baW5kZXhdLFxyXG5cdFx0XHRcdFx0XHR0aGlzLm91dGxpbmVEYXRhW2NhdGVnb3J5XVtpbmRleF0sXHJcblx0XHRcdFx0XHRcdHVwZGF0ZU5vdGVDaGlsZHJlbkVsLFxyXG5cdFx0XHRcdFx0XHRjYXRlZ29yeSxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gaWYgKHRoaXMuZmxhZ1JlbmFtZWQpe1xyXG5cdFx0Ly8gXHRmb3IgKGxldCBpPTA7IGkgPCB0aGlzLnJlbmFtZWRGaWxlcy5sZW5ndGg7IGkrKyl7XHJcblxyXG5cdFx0Ly8gXHRcdC8vIFx1NjZBQlx1NUI5QVx1NzY4NFx1MzA2QnJlbmFtZVx1NjY0Mlx1MzA2Rlx1MzBFQVx1MzBFRFx1MzBGQ1x1MzBDOVx1MzA1OVx1MzA4Qlx1NTFFNlx1NzQwNlx1MzA2Qlx1NTkwOVx1NjZGNFxyXG5cdFx0Ly8gXHRcdC8vIHZpZXdcdTMwNkJcdTVCRkVcdThDNjFcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwNENcdTMwNDJcdTMwOENcdTMwNzBcdTMwQTJcdTMwQzNcdTMwRDdcdTMwQzdcdTMwRkNcdTMwQzhcclxuXHRcdC8vIFx0XHQvLyBsZXQgY2F0ZWdvcnk6IENhdGVnb3J5O1xyXG5cdFx0Ly8gXHRcdC8vIGZvciAoY2F0ZWdvcnkgaW4gdGhpcy50YXJnZXRGaWxlcyl7XHJcblx0XHQvLyBcdFx0Ly8gXHRsZXQgaW5kZXggPSB0aGlzLnRhcmdldEZpbGVzW2NhdGVnb3J5XS5maW5kSW5kZXgoICh0YXJnZXRmaWxlKT0+IHRhcmdldGZpbGUucGF0aCA9PSB0aGlzLnJlbmFtZWRGaWxlc1tpXS5vbGRQYXRoKTsgIC8vIFRGaWxlXHUzMDRCcGF0aFx1MzA2Qlx1MzA0Mlx1MzA4Rlx1MzA1Qlx1MzA2Nlx1NkJENFx1OEYwM1x1MzA1OVx1MzA4Qlx1NUZDNVx1ODk4MVxyXG5cdFx0Ly8gXHRcdC8vIFx0aWYgKGluZGV4PDApe1xyXG5cdFx0Ly8gXHRcdC8vIFx0XHRjb250aW51ZTtcclxuXHRcdC8vIFx0XHQvLyBcdH1cclxuXHJcblx0XHQvLyBcdFx0Ly8gXHQvL1x1NTkwOVx1NjZGNFx1MzA1N1x1MzA1Rlx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA2RVx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1NjBDNVx1NTgzMVx1MzA2OFx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1MzA5Mlx1NjZGNFx1NjVCMFxyXG5cdFx0Ly8gXHRcdC8vIFx0dGhpcy50YXJnZXRGaWxlc1tjYXRlZ29yeV1baW5kZXhdID0gdGhpcy5yZW5hbWVkRmlsZXNbaV0uZmlsZTtcclxuXHRcdC8vIFx0XHQvLyBcdHRoaXMuZmlsZUluZm9bY2F0ZWdvcnldW2luZGV4XSA9IGF3YWl0IGdldEZpbGVJbmZvKHRoaXMuYXBwLCB0aGlzLnRhcmdldEZpbGVzW2NhdGVnb3J5XVtpbmRleF0sIHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0Ly8gXHRcdC8vIFx0Y29uc3QgbmV3RGF0YSA9IGF3YWl0IGdldE91dGxpbmUodGhpcy5hcHAsIHRoaXMudGFyZ2V0RmlsZXNbY2F0ZWdvcnldW2luZGV4XSx0aGlzLmZpbGVTdGF0dXNbY2F0ZWdvcnldW2luZGV4XSwgdGhpcy5maWxlSW5mb1tjYXRlZ29yeV1baW5kZXhdLCB0aGlzLnNldHRpbmdzKTtcclxuXHRcdC8vIFx0XHQvLyBcdGlmIChuZXdEYXRhKXtcclxuXHRcdC8vIFx0XHQvLyBcdFx0dGhpcy5vdXRsaW5lRGF0YVtjYXRlZ29yeV1baW5kZXhdID0gbmV3RGF0YTtcclxuXHRcdC8vIFx0XHQvLyBcdFx0dGhpcy5maWxlU3RhdHVzW2NhdGVnb3J5XVtpbmRleF0ub3V0bGluZVJlYWR5ID0gdHJ1ZTtcclxuXHRcdC8vIFx0XHQvLyBcdH1cclxuXHJcblx0XHQvLyBcdFx0Ly8gfVxyXG5cclxuXHRcdC8vIFx0XHQvLyByZWxhdGVkRmlsZXNcdTMwOTJcdTMwQTJcdTMwQzNcdTMwRDdcdTMwQzdcdTMwRkNcdTMwQzhcclxuXHRcdC8vIFx0XHRmb3IgKGxldCBzcmNGaWxlUGF0aCBpbiB0aGlzLnNldHRpbmdzLnJlbGF0ZWRGaWxlcyl7XHJcblxyXG5cdFx0Ly8gXHRcdFx0Zm9yIChsZXQgZHN0RmlsZVBhdGggaW4gdGhpcy5zZXR0aW5ncy5yZWxhdGVkRmlsZXNbc3JjRmlsZVBhdGhdKXtcclxuXHRcdC8vIFx0XHRcdFx0aWYgKGRzdEZpbGVQYXRoID09IHRoaXMucmVuYW1lZEZpbGVzW2ldLm9sZFBhdGgpe1xyXG5cdFx0Ly8gXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MucmVsYXRlZEZpbGVzW3NyY0ZpbGVQYXRoXVt0aGlzLnJlbmFtZWRGaWxlc1tpXS5maWxlLnBhdGhdPSB0aGlzLnNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlUGF0aF1bZHN0RmlsZVBhdGhdO1xyXG5cdFx0Ly8gXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLnNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlUGF0aF1bZHN0RmlsZVBhdGhdO1xyXG5cdFx0Ly8gXHRcdFx0XHR9XHJcblx0XHQvLyBcdFx0XHR9XHJcblxyXG5cdFx0Ly8gXHRcdFx0aWYgKHNyY0ZpbGVQYXRoID09IHRoaXMucmVuYW1lZEZpbGVzW2ldLm9sZFBhdGgpe1xyXG5cdFx0Ly8gXHRcdFx0XHR0aGlzLnNldHRpbmdzLnJlbGF0ZWRGaWxlc1t0aGlzLnJlbmFtZWRGaWxlc1tpXS5maWxlLnBhdGhdPSB0aGlzLnNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlUGF0aF07XHJcblx0XHQvLyBcdFx0XHRcdGRlbGV0ZSB0aGlzLnNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlUGF0aF07XHJcblx0XHQvLyBcdFx0XHR9XHJcblx0XHQvLyBcdFx0fVxyXG5cdFx0Ly8gXHR9XHJcblx0XHQvLyBcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0Ly8gfVxyXG5cclxuXHRcdGlmICh0aGlzLmZsYWdTYXZlU2V0dGluZ3MpIHtcclxuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuZmxhZ1JlZ2V0VGFyZ2V0KSB7XHJcblx0XHRcdGF3YWl0IHRoaXMucmVmcmVzaFZpZXcodGhpcy5mbGFnUmVnZXRUYXJnZXQsIHRoaXMuZmxhZ1JlZ2V0VGFyZ2V0KTtcclxuXHRcdH1cclxuXHRcdHRoaXMuY2hhbmdlZEZpbGVzID0gW107XHJcblx0XHR0aGlzLmZsYWdSZWdldFRhcmdldCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5mbGFnQ2hhbmdlZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5mbGFnU2F2ZVNldHRpbmdzID0gZmFsc2U7XHJcblx0XHRjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RGVidWdJbmZvKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiTXVsdGlwbGUgTm90ZXMgT3V0bGluZTogdGltZSByZXF1aXJlZCB0byBhdXRvIHJlZnJlc2gsIGZpbGUgdmlldzogXCIsIGVuZFRpbWUgLSBzdGFydFRpbWUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gXHUzMEVBXHUzMEQ1XHUzMEVDXHUzMEMzXHUzMEI3XHUzMEU1XHUzMEJCXHUzMEYzXHUzMEJGXHUzMEZDXHJcblx0Ly8gZmxhZ0dldFRhcmdldFx1MzA0Q3RydWU6IFx1NUJGRVx1OEM2MVx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA5Mlx1NTE4RFx1NTNENlx1NUY5N1xyXG5cdC8vIGZsYWdHZXRPdXRsaW5lXHUzMDRDdHJ1ZTogXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU2MEM1XHU1ODMxXHUzMDkyXHU1MThEXHU1M0Q2XHU1Rjk3XHJcblx0Ly8gXHUzMDVEXHUzMDZFXHU1RjhDVUlcdTkwRThcdTUyMDZcdTMwNjhcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTkwRThcdTUyMDZcdTMwOTJcdTYzQ0ZcdTc1M0JcclxuXHRhc3luYyByZWZyZXNoVmlldyhmbGFnR2V0VGFyZ2V0OiBib29sZWFuLCBmbGFnR2V0T3V0bGluZTogYm9vbGVhbikge1xyXG5cdFx0Ly8gXHU2M0NGXHU3NTNCXHU2MjQwXHU4OTgxXHU2NjQyXHU5NTkzXHUzMDkyXHU2RTJDXHU1QjlBXHJcblx0XHRjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHJcblx0XHQvL2RhdGF2aWV3XHUzMEFBXHUzMEYzXHUzMEFBXHUzMEQ1XHUzMEMxXHUzMEE3XHUzMEMzXHUzMEFGXHJcblx0XHR0aGlzLmlzRGF0YXZpZXdFbmFibGVkID0gY2hlY2tEYXRhdmlldyh0aGlzLmFwcCk7XHJcblxyXG5cdFx0Ly8gXHUzMEI5XHUzMEFGXHUzMEVEXHUzMEZDXHUzMEVCXHU0RjREXHU3RjZFXHUzMDZFXHU1M0Q2XHU1Rjk3XHJcblx0XHRjb25zdCBjb250YWluZXJFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiTU5PZmlsZXZpZXctbGlzdGNvbnRhaW5lclwiKTtcclxuXHJcblx0XHRjb25zdCBwcmV2aW91c1kgPSBjb250YWluZXJFbD8uc2Nyb2xsVG9wID8gY29udGFpbmVyRWwuc2Nyb2xsVG9wIDogMDtcclxuXHJcblx0XHQvLyBcdTMwRTFcdTMwQTRcdTMwRjNcdTMwQkZcdTMwRkNcdTMwQjJcdTMwQzNcdTMwQzhcdTMwNENcdTUzRDZcdTVGOTdcdTMwNjdcdTMwNERcdTMwNjZcdTMwNDRcdTMwNkFcdTMwNTFcdTMwOENcdTMwNzBVSVx1MzBBMlx1MzBBNFx1MzBCM1x1MzBGM1x1MzA2RVx1MzA3Rlx1NjNDRlx1NzUzQlxyXG5cdFx0aWYgKCF0aGlzLnRhcmdldEZpbGVzLm1haW5bMF0pIHtcclxuXHRcdFx0ZHJhd1VJLmNhbGwodGhpcyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBcdTMwRTFcdTMwQTRcdTMwRjNcdTMwQkZcdTMwRkNcdTMwQjJcdTMwQzNcdTMwQzhcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwNkVmaWxlSW5mb1x1MzA2OG91dGxpbmVcdTMwOTJcdTUzRDZcdTVGOTdcclxuXHRcdHRoaXMuZmlsZWNvdW50ID0gMDtcclxuXHRcdGlmICh0aGlzLnRhcmdldEZpbGVzLm1haW5bMF0gJiYgZmxhZ0dldFRhcmdldCkge1xyXG5cdFx0XHR0aGlzLmZpbGVTdGF0dXMubWFpbiA9IGluaXRGaWxlU3RhdHVzKHRoaXMudGFyZ2V0RmlsZXMubWFpbik7XHJcblx0XHRcdHRoaXMuZmlsZU9yZGVyLm1haW4gPSBbLi4uQXJyYXkodGhpcy50YXJnZXRGaWxlcy5tYWluLmxlbmd0aCldLm1hcCgoXywgaSkgPT4gaSk7XHJcblx0XHRcdFt0aGlzLmZpbGVTdGF0dXMubWFpbiwgdGhpcy5maWxlSW5mby5tYWluLCB0aGlzLm91dGxpbmVEYXRhLm1haW5dID0gYXdhaXQgdGhpcy5nZXRPdXRsaW5lcyhcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZpbGVzLm1haW4sXHJcblx0XHRcdFx0dGhpcy5maWxlU3RhdHVzLm1haW4sXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHQvLyBcdTczRkVcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTYwQzVcdTU4MzFcdTMwOTJcdTMwODJcdTMwNjhcdTMwNkJcdTMwQTJcdTMwQTZcdTMwQzhcdTMwQjRcdTMwRkNcdTMwQTRcdTMwRjNcdTMwQjBcdTMwRUFcdTMwRjNcdTMwQUYvXHUzMEQwXHUzMEMzXHUzMEFGXHUzMEVBXHUzMEYzXHUzMEFGXHU1MTQ4XHUzMDZFXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDkyXHU1M0Q2XHU1Rjk3XHJcblx0XHRcdHRoaXMudGFyZ2V0RmlsZXMub3V0Z29pbmcgPSBnZXRPdXRnb2luZ0xpbmtGaWxlcyhcclxuXHRcdFx0XHR0aGlzLmFwcCxcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZpbGVzLm1haW5bMF0sXHJcblx0XHRcdFx0dGhpcy5maWxlSW5mby5tYWluWzBdLFxyXG5cdFx0XHRcdHRoaXMub3V0bGluZURhdGEubWFpblswXSxcclxuXHRcdFx0KTtcclxuXHRcdFx0dGhpcy5maWxlU3RhdHVzLm91dGdvaW5nID0gaW5pdEZpbGVTdGF0dXModGhpcy50YXJnZXRGaWxlcy5vdXRnb2luZyk7XHJcblx0XHRcdHRoaXMuZmlsZU9yZGVyLm91dGdvaW5nID0gWy4uLkFycmF5KHRoaXMudGFyZ2V0RmlsZXMub3V0Z29pbmcubGVuZ3RoKV0ubWFwKChfLCBpKSA9PiBpKTtcclxuXHJcblx0XHRcdHRoaXMudGFyZ2V0RmlsZXMuYmFja2xpbmsgPSB0aGlzLmZpbGVJbmZvLm1haW5bMF0/LmJhY2tsaW5rcztcclxuXHRcdFx0dGhpcy5maWxlU3RhdHVzLmJhY2tsaW5rID0gaW5pdEZpbGVTdGF0dXModGhpcy50YXJnZXRGaWxlcy5iYWNrbGluayk7XHJcblx0XHRcdHRoaXMuZmlsZU9yZGVyLmJhY2tsaW5rID0gWy4uLkFycmF5KHRoaXMudGFyZ2V0RmlsZXMuYmFja2xpbmsubGVuZ3RoKV0ubWFwKChfLCBpKSA9PiBpKTtcclxuXHJcblx0XHRcdC8vXHU5MUNEXHU4OTA3XHUzMEMxXHUzMEE3XHUzMEMzXHUzMEFGXHJcblx0XHRcdHRoaXMuY2hlY2tEdXBsaWNhdGVkKHRoaXMudGFyZ2V0RmlsZXMub3V0Z29pbmcsIHRoaXMudGFyZ2V0RmlsZXMubWFpbiwgXCJtYWluXCIsIHRoaXMuZmlsZVN0YXR1cy5vdXRnb2luZyk7XHJcblx0XHRcdHRoaXMuY2hlY2tEdXBsaWNhdGVkKFxyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMub3V0Z29pbmcsXHJcblx0XHRcdFx0dGhpcy50YXJnZXRGaWxlcy5vdXRnb2luZyxcclxuXHRcdFx0XHRcInNlbGZcIixcclxuXHRcdFx0XHR0aGlzLmZpbGVTdGF0dXMub3V0Z29pbmcsXHJcblx0XHRcdCk7XHJcblx0XHRcdHRoaXMuY2hlY2tEdXBsaWNhdGVkKHRoaXMudGFyZ2V0RmlsZXMuYmFja2xpbmssIHRoaXMudGFyZ2V0RmlsZXMubWFpbiwgXCJtYWluXCIsIHRoaXMuZmlsZVN0YXR1cy5iYWNrbGluayk7XHJcblx0XHRcdHRoaXMuY2hlY2tEdXBsaWNhdGVkKFxyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMuYmFja2xpbmssXHJcblx0XHRcdFx0dGhpcy50YXJnZXRGaWxlcy5vdXRnb2luZyxcclxuXHRcdFx0XHRcIm91dGdvaW5nXCIsXHJcblx0XHRcdFx0dGhpcy5maWxlU3RhdHVzLmJhY2tsaW5rLFxyXG5cdFx0XHQpO1xyXG5cdFx0XHR0aGlzLmNoZWNrRHVwbGljYXRlZChcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZpbGVzLmJhY2tsaW5rLFxyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMuYmFja2xpbmssXHJcblx0XHRcdFx0XCJzZWxmXCIsXHJcblx0XHRcdFx0dGhpcy5maWxlU3RhdHVzLmJhY2tsaW5rLFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEI0XHUzMEZDXHUzMEE0XHUzMEYzXHUzMEIwL1x1MzBEMFx1MzBDM1x1MzBBRlx1MzBFQVx1MzBGM1x1MzBBRlx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA2RWZpbGVJbmZvXHUzMDY4b3V0bGluZVx1MzA5Mlx1NTNENlx1NUY5N1xyXG5cdFx0Ly8gXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU2NTcwXHUzMDRDcHJvY2Vzc0xpbWl0XHUzMDkyXHU4RDg1XHU5MDRFXHUzMDU3XHUzMDY2XHUzMDQ0XHUzMDZBXHUzMDQ0XHUzMDY4XHUzMDREXHUzMDZFXHUzMDdGXHU4QUFEXHUzMDdGXHU4RkJDXHUzMDgwXHJcblx0XHRpZiAoXHJcblx0XHRcdGZsYWdHZXRPdXRsaW5lICYmXHJcblx0XHRcdHRoaXMudGFyZ2V0RmlsZXMub3V0Z29pbmcubGVuZ3RoICsgdGhpcy50YXJnZXRGaWxlcy5iYWNrbGluay5sZW5ndGggPD0gdGhpcy5zZXR0aW5ncy5wcm9jZXNzTGltaXRcclxuXHRcdCkge1xyXG5cdFx0XHRbdGhpcy5maWxlU3RhdHVzLm91dGdvaW5nLCB0aGlzLmZpbGVJbmZvLm91dGdvaW5nLCB0aGlzLm91dGxpbmVEYXRhLm91dGdvaW5nXSA9IGF3YWl0IHRoaXMuZ2V0T3V0bGluZXMoXHJcblx0XHRcdFx0dGhpcy50YXJnZXRGaWxlcy5vdXRnb2luZyxcclxuXHRcdFx0XHR0aGlzLmZpbGVTdGF0dXMub3V0Z29pbmcsXHJcblx0XHRcdCk7XHJcblx0XHRcdFt0aGlzLmZpbGVTdGF0dXMuYmFja2xpbmssIHRoaXMuZmlsZUluZm8uYmFja2xpbmssIHRoaXMub3V0bGluZURhdGEuYmFja2xpbmtdID0gYXdhaXQgdGhpcy5nZXRPdXRsaW5lcyhcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZpbGVzLmJhY2tsaW5rLFxyXG5cdFx0XHRcdHRoaXMuZmlsZVN0YXR1cy5iYWNrbGluayxcclxuXHRcdFx0KTtcclxuXHRcdFx0c29ydEZpbGVPcmRlcihcclxuXHRcdFx0XHR0aGlzLmZpbGVPcmRlci5iYWNrbGluayxcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZpbGVzLmJhY2tsaW5rLFxyXG5cdFx0XHRcdHRoaXMuZmlsZVN0YXR1cy5iYWNrbGluayxcclxuXHRcdFx0XHR0aGlzLmZpbGVJbmZvLmJhY2tsaW5rLFxyXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MsXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgbWlkVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3Muc2hvd0RlYnVnSW5mbykge1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRcIk11bHRpcGxlIE5vdGVzIE91dGxpbmU6IHRpbWUgcmVxdWlyZWQgdG8gZ2V0IG91dGxpbmVzLCBmaWxlIHZpZXc6IFwiLFxyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMubWFpblswXS5wYXRoLFxyXG5cdFx0XHRcdG1pZFRpbWUgLSBzdGFydFRpbWUsXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZHJhd1VJLmNhbGwodGhpcyk7XHJcblx0XHR0aGlzLmRyYXdPdXRsaW5lKHByZXZpb3VzWSk7XHJcblxyXG5cdFx0Ly8gXHU2M0NGXHU3NTNCXHU2MjQwXHU4OTgxXHU2NjQyXHU5NTkzXHUzMDkyXHU2RTJDXHU1QjlBXHJcblx0XHRjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RGVidWdJbmZvKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdFwiTXVsdGlwbGUgTm90ZXMgT3V0bGluZTogdGltZSByZXF1aXJlZCB0byBkcmF3IG91dGxpbmVzLCBmaWxlIHZpZXc6IFwiLFxyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMubWFpblswXS5wYXRoLFxyXG5cdFx0XHRcdGVuZFRpbWUgLSBtaWRUaW1lLFxyXG5cdFx0XHRcdHByZXZpb3VzWSxcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdFwiTXVsdGlwbGUgTm90ZXMgT3V0bGluZTogdGltZSByZXF1aXJlZCB0byByZWZyZXNoIHZpZXcsIGZpbGUgdmlld1wiLFxyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMubWFpblswXS5wYXRoLFxyXG5cdFx0XHRcdGVuZFRpbWUgLSBzdGFydFRpbWUsXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvL1x1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1NjBDNVx1NTgzMVx1MzAwMVx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1NjBDNVx1NTgzMVx1MzA5Mlx1NEY1Q1x1NjIxMFx1MzBGQlx1NTNENlx1NUY5N1xyXG5cdGFzeW5jIGdldE91dGxpbmVzKGZpbGVzOiBURmlsZVtdLCBzdGF0dXM6IEZpbGVTdGF0dXNbXSk6IFByb21pc2U8W0ZpbGVTdGF0dXNbXSwgRmlsZUluZm9bXSwgT3V0bGluZURhdGFbXVtdXT4ge1xyXG5cdFx0Y29uc3QgZmlsZUluZm86IEZpbGVJbmZvW10gPSBbXTtcclxuXHRcdGNvbnN0IG91dGxpbmVEYXRhOiBPdXRsaW5lRGF0YVtdW10gPSBbXTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Ly9cdTUwMEJcdTUyMjVcdTMwNkVBbHdheXMgb24gVG9wXHUzMDZFXHU1MjI0XHU1QjlBXHJcblx0XHRcdGlmIChjaGVja0ZsYWcodGhpcy50YXJnZXRGaWxlcy5tYWluWzBdLCBmaWxlc1tpXSwgXCJ0b3BcIiwgdGhpcy5zZXR0aW5ncykgPT0gdHJ1ZSkge1xyXG5cdFx0XHRcdHN0YXR1c1tpXS5pc1RvcCA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHQodGhpcy5maWxlY291bnQgPCB0aGlzLnNldHRpbmdzLnJlYWRMaW1pdCB8fCBzdGF0dXNbaV0uaXNUb3ApICYmXHJcblx0XHRcdFx0IU9iamVjdC52YWx1ZXMoc3RhdHVzW2ldLmR1cGxpY2F0ZWQpLmluY2x1ZGVzKHRydWUpXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdC8vIGZpbGVzLmxlbmd0aCA9PTEgXHUzMDZFXHU1ODM0XHU1NDA4XHUzMDAxXHUzMEUxXHUzMEE0XHUzMEYzXHUzMEJGXHUzMEZDXHUzMEIyXHUzMEMzXHUzMEM4XHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDkyXHU1QkZFXHU4QzYxXHUzMDZCXHUzMDU3XHUzMDY2XHUzMDQ0XHUzMDhCXHU1M0VGXHU4MEZEXHU2MDI3XHUzMDRDXHUzMDQyXHUzMDhCXHUzMDVGXHUzMDgxXHUzMDAxXHU1RkM1XHUzMDVBYmFja2xpbmsgZmlsZXNcdTMwOTJcdTUzRDZcdTVGOTdcdTMwNTlcdTMwOEJcdTMwMDJcclxuXHRcdFx0XHRjb25zdCBpbmZvID0gYXdhaXQgZ2V0RmlsZUluZm8oXHJcblx0XHRcdFx0XHR0aGlzLmFwcCxcclxuXHRcdFx0XHRcdGZpbGVzW2ldLFxyXG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncyxcclxuXHRcdFx0XHRcdEJvb2xlYW4oZmlsZXMubGVuZ3RoID09IDEpLFxyXG5cdFx0XHRcdFx0dGhpcy5pc0RhdGF2aWV3RW5hYmxlZCxcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGZpbGVJbmZvLnB1c2goaW5mbyk7XHJcblx0XHRcdFx0Y29uc3QgZGF0YSA9IGF3YWl0IGdldE91dGxpbmUodGhpcy5hcHAsIGZpbGVzW2ldLCBzdGF0dXNbaV0sIGluZm8sIHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0XHRcdGlmIChkYXRhKSB7XHJcblx0XHRcdFx0XHRvdXRsaW5lRGF0YS5wdXNoKGRhdGEpO1xyXG5cdFx0XHRcdFx0c3RhdHVzW2ldLm91dGxpbmVSZWFkeSA9IHRydWU7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG91dGxpbmVEYXRhLnB1c2godW5kZWZpbmVkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZmlsZUluZm8ucHVzaCh1bmRlZmluZWQpO1xyXG5cdFx0XHRcdG91dGxpbmVEYXRhLnB1c2godW5kZWZpbmVkKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5maWxlY291bnQrKztcclxuXHRcdH1cclxuXHRcdHJldHVybiBbc3RhdHVzLCBmaWxlSW5mbywgb3V0bGluZURhdGFdO1xyXG5cdH1cclxuXHJcblx0Ly8gIFx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1NjNDRlx1NzUzQlxyXG5cdHByaXZhdGUgZHJhd091dGxpbmUocHJldmlvdXNZOiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdGNvbnN0IGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCA9IGNyZWF0ZURpdihcIm5hdi1maWxlcy1jb250YWluZXIgbm9kZS1pbnNlcnQtZXZlbnRcIik7XHJcblx0XHRjb25zdCByb290RWw6IEhUTUxFbGVtZW50ID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtIG5hdi1mb2xkZXIgbW9kLXJvb3RcIik7XHJcblx0XHRjb25zdCByb290Q2hpbGRyZW5FbDogSFRNTEVsZW1lbnQgPSByb290RWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtLWNoaWxkcmVuIG5hdi1mb2xkZXItY2hpbGRyZW5cIik7XHJcblxyXG5cdFx0Ly8gaWQgXHUzMDkyXHU0RUQ4XHU1MkEwXHVGRjA4XHUzMEI5XHUzMEFGXHUzMEVEXHUzMEZDXHUzMEVCXHU0RjREXHU3RjZFXHUzMDZFXHU2MjhBXHU2M0UxXHU3NTI4XHVGRjA5XHJcblx0XHRjb250YWluZXJFbC5pZCA9IFwiTU5PZmlsZXZpZXctbGlzdGNvbnRhaW5lclwiO1xyXG5cclxuXHRcdC8vIEFsd2F5cyBvbiBUb3BcclxuXHRcdGNvbnN0IGNhdGVnb3J5QU9URWw6IEhUTUxFbGVtZW50ID0gcm9vdENoaWxkcmVuRWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtIG5hdi1mb2xkZXIgbW9kLXJvb3RcIik7XHJcblxyXG5cdFx0Ly8gbWFpbiBmaWxlXHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RmlsZXMubWFpbikge1xyXG5cdFx0XHRjb25zdCBjYXRlZ29yeU1haW5FbDogSFRNTEVsZW1lbnQgPSByb290Q2hpbGRyZW5FbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0gbmF2LWZvbGRlciBtb2Qtcm9vdFwiKTtcclxuXHRcdFx0Y29uc3RydWN0Tm90ZURPTS5jYWxsKFxyXG5cdFx0XHRcdHRoaXMsXHJcblx0XHRcdFx0dGhpcy50YXJnZXRGaWxlcy5tYWluLFxyXG5cdFx0XHRcdHRoaXMuZmlsZVN0YXR1cy5tYWluLFxyXG5cdFx0XHRcdHRoaXMuZmlsZUluZm8ubWFpbixcclxuXHRcdFx0XHR0aGlzLm91dGxpbmVEYXRhLm1haW4sXHJcblx0XHRcdFx0Y2F0ZWdvcnlNYWluRWwsXHJcblx0XHRcdFx0XCJtYWluXCIsXHJcblx0XHRcdFx0Y2F0ZWdvcnlBT1RFbCxcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZpbGVzLm1haW5bMF0sXHJcblx0XHRcdFx0dGhpcy5maWxlT3JkZXIubWFpbixcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBvdXRnb2luZyBsaW5rIGZpbGVzXHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RmlsZXMub3V0Z29pbmcpIHtcclxuXHRcdFx0dGhpcy5jb25zdHJ1Y3RDYXRlZ29yeURPTShcclxuXHRcdFx0XHRcIm91dGdvaW5nXCIsXHJcblx0XHRcdFx0XCJsaW5rcy1nb2luZy1vdXRcIixcclxuXHRcdFx0XHRcIk91dGdvaW5nIExpbmsgRmlsZXNcIixcclxuXHRcdFx0XHRyb290Q2hpbGRyZW5FbCxcclxuXHRcdFx0XHRjYXRlZ29yeUFPVEVsLFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGJhY2tsaW5rIGZpbGVzXHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RmlsZXMuYmFja2xpbmspIHtcclxuXHRcdFx0dGhpcy5jb25zdHJ1Y3RDYXRlZ29yeURPTShcImJhY2tsaW5rXCIsIFwibGlua3MtY29taW5nLWluXCIsIFwiQmFja2xpbmsgRmlsZXNcIiwgcm9vdENoaWxkcmVuRWwsIGNhdGVnb3J5QU9URWwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1OTBFOFx1NTIwNlx1MzA2RVx1NjNDRlx1NzUzQlx1NUI5Rlx1ODg0Q1xyXG5cdFx0dGhpcy5jb250ZW50RWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyRWwpO1xyXG5cclxuXHRcdC8vIFx1MzBCOVx1MzBBRlx1MzBFRFx1MzBGQ1x1MzBFQlx1NEY0RFx1N0Y2RVx1MzA5Mlx1NUZBOVx1NTE0M1xyXG5cdFx0aWYgKHRoaXMuaGFzTWFpbkNoYW5nZWQgPT0gZmFsc2UgJiYgcHJldmlvdXNZICE9IDApIHtcclxuXHRcdFx0Y29udGFpbmVyRWwuc2Nyb2xsVG9wID0gcHJldmlvdXNZO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5oYXNNYWluQ2hhbmdlZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Ly8gY2F0ZWdvcnlcdTMwNkVET01cdTMwOTJcdTRGNUNcdTYyMTBcclxuXHRwcml2YXRlIGNvbnN0cnVjdENhdGVnb3J5RE9NKFxyXG5cdFx0Y2F0ZWdvcnk6IFwib3V0Z29pbmdcIiB8IFwiYmFja2xpbmtcIixcclxuXHRcdGNJY29uOiBzdHJpbmcsXHJcblx0XHRjVGV4dDogc3RyaW5nLFxyXG5cdFx0cGFyZW50RWw6IEhUTUxFbGVtZW50LFxyXG5cdFx0YW90RWw6IEhUTUxFbGVtZW50LFxyXG5cdCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgY2F0ZWdvcnlFbDogSFRNTEVsZW1lbnQgPSBwYXJlbnRFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0gbmF2LWZvbGRlclwiKTtcclxuXHRcdGNvbnN0IGNhdGVnb3J5VGl0bGVFbDogSFRNTEVsZW1lbnQgPSBjYXRlZ29yeUVsLmNyZWF0ZURpdihcclxuXHRcdFx0XCJ0cmVlLWl0ZW0tc2VsZiBpcy1jbGlja2FibGUgbW9kLWNvbGxhcHNpYmxlIG5hdi1mb2xkZXItdGl0bGVcIixcclxuXHRcdCk7XHJcblx0XHRzZXRJY29uKGNhdGVnb3J5VGl0bGVFbCwgY0ljb24pO1xyXG5cclxuXHRcdGNhdGVnb3J5VGl0bGVFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0taW5uZXIgbmF2LWZvbGRlci10aXRsZS1jb250ZW50XCIpLnNldFRleHQoY1RleHQpO1xyXG5cclxuXHRcdC8vXHU2Mjk4XHUzMDhBXHUzMDVGXHUzMDVGXHUzMDdGXHUzMEEyXHUzMEE0XHUzMEIzXHUzMEYzXHJcblx0XHRjb25zdCBjYXRlZ29yeUNvbGxhcHNlSWNvbjogSFRNTEVsZW1lbnQgPSBjYXRlZ29yeVRpdGxlRWwuY3JlYXRlRGl2KFxyXG5cdFx0XHRcInRyZWUtaXRlbS1pY29uIGNvbGxhcHNlLWljb24gbmF2LWZvbGRlci1jb2xsYXBzZS1pbmRpY2F0b3JcIixcclxuXHRcdCk7XHJcblx0XHRzZXRJY29uKGNhdGVnb3J5Q29sbGFwc2VJY29uLCBcInJpZ2h0LXRyaWFuZ2xlXCIpO1xyXG5cdFx0Y2F0ZWdvcnlDb2xsYXBzZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0aWYgKHRoaXMuY29sbGFwc2VDYXRlZ29yeVtjYXRlZ29yeV0pIHtcclxuXHRcdFx0XHR0aGlzLmNvbGxhcHNlQ2F0ZWdvcnlbY2F0ZWdvcnldID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgZmFsc2UpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuY29sbGFwc2VDYXRlZ29yeVtjYXRlZ29yeV0gPSB0cnVlO1xyXG5cdFx0XHRcdGNhdGVnb3J5RWwuY2xhc3NMaXN0LmFkZChcImlzLWNvbGxhcHNlZFwiKTtcclxuXHRcdFx0XHRjYXRlZ29yeUNvbGxhcHNlSWNvbi5jbGFzc0xpc3QuYWRkKFwiaXMtY29sbGFwc2VkXCIpO1xyXG5cdFx0XHRcdGNhdGVnb3J5Q2hpbGRyZW5FbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IGNhdGVnb3J5Q2hpbGRyZW5FbDogSFRNTEVsZW1lbnQgPSBjYXRlZ29yeUVsLmNyZWF0ZURpdihcInRyZWUtaXRlbS1jaGlsZHJlbiBuYXYtZm9sZGVyLWNoaWxkcmVuXCIpO1xyXG5cclxuXHRcdC8vIFx1NjI5OFx1MzA4QVx1MzA1Rlx1MzA1Rlx1MzA3RVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA4Q1x1MzA3MFx1NUI1MFx1ODk4MVx1N0QyMFx1MzA5Mlx1OTc1RVx1ODg2OFx1NzkzQVx1MzA2Qlx1MzA1OVx1MzA4QlxyXG5cdFx0aWYgKCF0aGlzLmNvbGxhcHNlQ2F0ZWdvcnlbY2F0ZWdvcnldKSB7XHJcblx0XHRcdGNvbnN0cnVjdE5vdGVET00uY2FsbChcclxuXHRcdFx0XHR0aGlzLFxyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXNbY2F0ZWdvcnldLFxyXG5cdFx0XHRcdHRoaXMuZmlsZVN0YXR1c1tjYXRlZ29yeV0sXHJcblx0XHRcdFx0dGhpcy5maWxlSW5mb1tjYXRlZ29yeV0sXHJcblx0XHRcdFx0dGhpcy5vdXRsaW5lRGF0YVtjYXRlZ29yeV0sXHJcblx0XHRcdFx0Y2F0ZWdvcnlDaGlsZHJlbkVsLFxyXG5cdFx0XHRcdGNhdGVnb3J5LFxyXG5cdFx0XHRcdGFvdEVsLFxyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMubWFpblswXSxcclxuXHRcdFx0XHR0aGlzLmZpbGVPcmRlcltjYXRlZ29yeV0sXHJcblx0XHRcdCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjYXRlZ29yeUVsLmNsYXNzTGlzdC5hZGQoXCJpcy1jb2xsYXBzZWRcIik7XHJcblx0XHRcdGNhdGVnb3J5Q29sbGFwc2VJY29uLmNsYXNzTGlzdC5hZGQoXCJpcy1jb2xsYXBzZWRcIik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyB0YXJnZXRGaWxlc1x1MzA2RVx1OTFDRFx1ODkwN1x1MzBDMVx1MzBBN1x1MzBDM1x1MzBBRiAgIGNhdGVnb3J5Olx1NTIyNVx1MzBBQlx1MzBDNlx1MzBCNFx1MzBFQVx1MzA2N1x1MzA0Mlx1MzA4Q1x1MzA3MFx1MzA1RFx1MzA2RVx1MzBBQlx1MzBDNlx1MzBCNFx1MzBFQVx1NTQwRFx1MzA5Mlx1MzAwMVx1NTQwQ1x1NEUwMFx1MzBBQlx1MzBDNlx1MzBCNFx1MzBFQVx1MzA2N1x1MzA0Mlx1MzA4Q1x1MzA3MHNlbGZcdTMwOTJcdTYzMDdcdTVCOUFcclxuXHRjaGVja0R1cGxpY2F0ZWQoXHJcblx0XHRmaWxlczogVEZpbGVbXSxcclxuXHRcdGNvbXBhcmU6IFRGaWxlW10sXHJcblx0XHRjYXRlZ29yeTogXCJtYWluXCIgfCBcIm91dGdvaW5nXCIgfCBcImJhY2tsaW5rXCIgfCBcInNlbGZcIixcclxuXHRcdHN0YXR1czogRmlsZVN0YXR1c1tdLFxyXG5cdCk6IEZpbGVTdGF0dXNbXSB7XHJcblx0XHRmaWxlbG9vcDogZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGNvbXBhcmUubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRpZiAoY2F0ZWdvcnkgPT0gXCJzZWxmXCIgJiYgaiA+PSBpKSB7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChjb21wYXJlW2pdLnBhdGggPT09IGZpbGVzW2ldLnBhdGgpIHtcclxuXHRcdFx0XHRcdHN0YXR1c1tpXS5kdXBsaWNhdGVkW2NhdGVnb3J5XSA9IHRydWU7XHJcblx0XHRcdFx0XHRjb250aW51ZSBmaWxlbG9vcDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBzdGF0dXM7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IEZpbGVJbmZvLCBPdXRsaW5lRGF0YSB9IGZyb20gXCJzcmMvbWFpblwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE91dGdvaW5nTGlua0ZpbGVzKFxyXG5cdGFwcDogQXBwLFxyXG5cdGZpbGU6IFRGaWxlLFxyXG5cdGluZm86IEZpbGVJbmZvLFxyXG5cdGNhY2hlOiBPdXRsaW5lRGF0YVtdLFxyXG4pOiBURmlsZVtdIHwgbnVsbCB7XHJcblx0Y29uc3QgZmlsZXM6IFRGaWxlW10gPSBbXTtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGluZm8/LmZyb250bWF0dGVyTGlua3M/Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRjb25zdCBmaWxlb2JqID0gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Rmlyc3RMaW5rcGF0aERlc3QoXHJcblx0XHRcdGluZm8uZnJvbnRtYXR0ZXJMaW5rc1tpXS5saW5rLFxyXG5cdFx0XHRmaWxlLnBhdGgsXHJcblx0XHQpO1xyXG5cdFx0aWYgKGZpbGVvYmogaW5zdGFuY2VvZiBURmlsZSkge1xyXG5cdFx0XHRmaWxlcy5wdXNoKGZpbGVvYmopO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjYWNoZT8ubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmIChjYWNoZVtpXS50eXBlT2ZFbGVtZW50ICE9IFwibGlua1wiKSB7XHJcblx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgZmlsZW9iaiA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpcnN0TGlua3BhdGhEZXN0KGNhY2hlW2ldLmxpbmssIGZpbGUucGF0aCk7XHJcblx0XHRpZiAoZmlsZW9iaiBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcblx0XHRcdGZpbGVzLnB1c2goZmlsZW9iaik7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBmaWxlcztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJhY2tsaW5rRmlsZXMoYXBwOiBBcHAsIGZpbGU6IFRGaWxlKTogVEZpbGVbXSB7XHJcblx0Y29uc3QgZmlsZXM6IFRGaWxlW10gPSBbXTtcclxuXHRjb25zdCBiYWNrbGlua3MgPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRCYWNrbGlua3NGb3JGaWxlKGZpbGUpLmRhdGE7XHJcblx0Zm9yIChjb25zdCBrZXkgaW4gYmFja2xpbmtzKSB7XHJcblx0XHRjb25zdCBmaWxlb2JqID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChrZXkpO1xyXG5cdFx0aWYgKGZpbGVvYmogaW5zdGFuY2VvZiBURmlsZSkge1xyXG5cdFx0XHRmaWxlcy5wdXNoKGZpbGVvYmopO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gZmlsZXM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRCYWNrbGlua0ZpbGVzRGF0YXZpZXcoXHJcblx0YXBwOiBBcHAsXHJcblx0ZmlsZTogVEZpbGUsXHJcblx0aXNEYXRhdmlld0VuYWJsZWQ6IGJvb2xlYW4sXHJcbik6IFRGaWxlW10ge1xyXG5cdGNvbnN0IGZpbGVzOiBURmlsZVtdID0gW107XHJcblxyXG5cdGlmICghaXNEYXRhdmlld0VuYWJsZWQpIHtcclxuXHRcdHJldHVybiBnZXRCYWNrbGlua0ZpbGVzKGFwcCwgZmlsZSk7XHJcblx0fVxyXG5cclxuXHRjb25zdCBiYWNrbGlua3MgPSBhcHAucGx1Z2lucy5wbHVnaW5zLmRhdGF2aWV3Py5hcGk/LnBhZ2VzKGBcIiR7ZmlsZS5wYXRofVwiYCk/LnZhbHVlc1swXT8uZmlsZVxyXG5cdFx0LmlubGlua3MudmFsdWVzO1xyXG5cdGlmICghYmFja2xpbmtzKSB7XHJcblx0XHRyZXR1cm4gZ2V0QmFja2xpbmtGaWxlcyhhcHAsIGZpbGUpO1xyXG5cdH1cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGJhY2tsaW5rcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0Y29uc3QgZmlsZW9iaiA9IGFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoYmFja2xpbmtzW2ldLnBhdGgpO1xyXG5cdFx0aWYgKGZpbGVvYmogaW5zdGFuY2VvZiBURmlsZSkge1xyXG5cdFx0XHRmaWxlcy5wdXNoKGZpbGVvYmopO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gZmlsZXM7XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgVEFic3RyYWN0RmlsZSwgVEZpbGUsIFRGb2xkZXIgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgRmlsZUluZm8sIEZpbGVTdGF0dXMsIE11bHRpcGxlTm90ZXNPdXRsaW5lU2V0dGluZ3MsIE91dGxpbmVEYXRhIH0gZnJvbSBcInNyYy9tYWluXCI7XHJcbmltcG9ydCB7IGdldEJhY2tsaW5rRmlsZXNEYXRhdmlldyB9IGZyb20gXCJzcmMvZ2V0VGFyZ2V0RmlsZXNcIjtcclxuXHJcbi8vIFx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzBCOVx1MzBDNlx1MzBGQ1x1MzBCRlx1MzBCOVx1MzA2RVx1NTIxRFx1NjcxRlx1NTMxNlxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdEZpbGVTdGF0dXMoZmlsZXM6IFRBYnN0cmFjdEZpbGVbXSk6IEZpbGVTdGF0dXNbXSB7XHJcblx0Y29uc3Qgc3RhdHVzOiBGaWxlU3RhdHVzW10gPSBbXTtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRjb25zdCBmbGFnRm9sZGVyID0gQm9vbGVhbihmaWxlc1tpXSBpbnN0YW5jZW9mIFRGb2xkZXIpO1xyXG5cdFx0c3RhdHVzLnB1c2goe1xyXG5cdFx0XHRpc0ZvbGRlZDogZmFsc2UsXHJcblx0XHRcdGlzVG9wOiBmYWxzZSxcclxuXHRcdFx0ZHVwbGljYXRlZDoge1xyXG5cdFx0XHRcdG1haW46IGZhbHNlLFxyXG5cdFx0XHRcdG91dGdvaW5nOiBmYWxzZSxcclxuXHRcdFx0XHRiYWNrbGluazogZmFsc2UsXHJcblx0XHRcdFx0c2VsZjogZmFsc2UsXHJcblx0XHRcdH0sXHJcblx0XHRcdG91dGxpbmVSZWFkeTogZmFsc2UsXHJcblx0XHRcdGlzRm9sZGVyOiBmbGFnRm9sZGVyLFxyXG5cdFx0fSk7XHJcblx0fVxyXG5cdHJldHVybiBzdGF0dXM7XHJcbn1cclxuXHJcbi8vIFx1NTM1OFx1NEUwMFx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA2RVx1NjBDNVx1NTgzMVx1NTNENlx1NUY5N1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RmlsZUluZm8oXHJcblx0YXBwOiBBcHAsXHJcblx0ZmlsZTogVEZpbGUsXHJcblx0c2V0dGluZ3M6IE11bHRpcGxlTm90ZXNPdXRsaW5lU2V0dGluZ3MsXHJcblx0Zm9yY2VHZXRCYWNrbGlua3MgPSBmYWxzZSxcclxuXHRpc0RhdGF2aWV3RW5hYmxlZDogYm9vbGVhbixcclxuKTogUHJvbWlzZTxGaWxlSW5mbz4ge1xyXG5cdGlmIChmaWxlLmV4dGVuc2lvbiA9PSBcIm1kXCIpIHtcclxuXHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xyXG5cdFx0Y29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KFwiXFxuXCIpO1xyXG5cdFx0Y29uc3QgYmFja2xpbmtGaWxlcyA9XHJcblx0XHRcdHNldHRpbmdzLnNob3dCYWNrbGlua3MgfHwgZm9yY2VHZXRCYWNrbGlua3NcclxuXHRcdFx0XHQ/IGdldEJhY2tsaW5rRmlsZXNEYXRhdmlldyhhcHAsIGZpbGUsIGlzRGF0YXZpZXdFbmFibGVkKVxyXG5cdFx0XHRcdDogdW5kZWZpbmVkO1xyXG5cdFx0Y29uc3QgaW5mbzogRmlsZUluZm8gPSB7XHJcblx0XHRcdGxpbmVzOiBsaW5lcyxcclxuXHRcdFx0bnVtT2ZMaW5lczogbGluZXMubGVuZ3RoLFxyXG5cdFx0XHRiYWNrbGlua3M6IGJhY2tsaW5rRmlsZXMsXHJcblx0XHRcdGZyb250bWF0dGVyTGlua3M6IHVuZGVmaW5lZCxcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gaW5mbztcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8gLm1kIFx1NEVFNVx1NTkxNlxyXG5cdFx0Y29uc3QgYmFja2xpbmtGaWxlcyA9XHJcblx0XHRcdHNldHRpbmdzLnNob3dCYWNrbGlua3MgfHwgZm9yY2VHZXRCYWNrbGlua3NcclxuXHRcdFx0XHQ/IGdldEJhY2tsaW5rRmlsZXNEYXRhdmlldyhhcHAsIGZpbGUsIGlzRGF0YXZpZXdFbmFibGVkKVxyXG5cdFx0XHRcdDogdW5kZWZpbmVkO1xyXG5cdFx0Y29uc3QgaW5mbzogRmlsZUluZm8gPSB7XHJcblx0XHRcdGxpbmVzOiBbXCJcIl0sXHJcblx0XHRcdG51bU9mTGluZXM6IDAsXHJcblx0XHRcdGJhY2tsaW5rczogYmFja2xpbmtGaWxlcyxcclxuXHRcdFx0ZnJvbnRtYXR0ZXJMaW5rczogdW5kZWZpbmVkLFxyXG5cdFx0fTtcclxuXHRcdHJldHVybiBpbmZvO1xyXG5cdH1cclxufVxyXG5cclxuLy8gXHU1MzU4XHU0RTAwXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDZFXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU1M0Q2XHU1Rjk3XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRPdXRsaW5lKFxyXG5cdGFwcDogQXBwLFxyXG5cdGZpbGU6IFRGaWxlLFxyXG5cdHN0YXR1czogRmlsZVN0YXR1cyxcclxuXHRpbmZvOiBGaWxlSW5mbyxcclxuXHRzZXR0aW5nczogTXVsdGlwbGVOb3Rlc091dGxpbmVTZXR0aW5ncyxcclxuKTogUHJvbWlzZTxPdXRsaW5lRGF0YVtdPiB7XHJcblx0Y29uc3QgZGF0YTogT3V0bGluZURhdGFbXSA9IFtdO1xyXG5cdGNvbnN0IGNhY2hlID0gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xyXG5cclxuXHQvLyBjYW52YXNcdTMwNkZcdTcyRUNcdTgxRUFcdTMwNkVcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTMwOTJcdThGRDRcdTMwNTlcclxuXHRpZiAoZmlsZS5leHRlbnNpb24gPT0gXCJjYW52YXNcIikge1xyXG5cdFx0cmV0dXJuIGF3YWl0IGdldENhbnZhc091dGxpbmUoYXBwLCBmaWxlKTtcclxuXHR9XHJcblx0Ly8gLm1kXHU0RUU1XHU1OTE2XHUzMDZGXHU3QTdBXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHUzMDkyXHU4RkQ0XHUzMDU5XHJcblx0aWYgKGZpbGUuZXh0ZW5zaW9uICE9IFwibWRcIikge1xyXG5cdFx0cmV0dXJuIGRhdGE7XHJcblx0fVxyXG5cdC8vIGNhY2hlXHUzMDZGbnVsbFx1MzA2RVx1NTgzNFx1NTQwOFx1MzA0Q1x1MzA0Mlx1MzA4QlxyXG5cdGlmICghY2FjaGUpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHQvLyBwcm9wZXJ0aWVzKGZyb250bWF0dGVyKVx1MzA0Qlx1MzA4OVx1MzBFQVx1MzBGM1x1MzBBRlx1MzA5Mlx1NTNENlx1NUY5N1xyXG5cdGluZm8uZnJvbnRtYXR0ZXJMaW5rcyA9IGNhY2hlPy5mcm9udG1hdHRlckxpbmtzO1xyXG5cclxuXHQvLyBoZWFkaW5ncyxsaW5rcyx0YWdzIFx1MzA5Mlx1NjJCRFx1NTFGQVxyXG5cclxuXHQvLyBjb25zb2xlLmxvZygnY2hlY2sgaGVhZGluZ3MnLGNhY2hlLmhhc093blByb3BlcnR5KFwiaGVhZGluZ3NcIikgKTtcclxuXHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJoZWFkaW5nc1wiKSkge1xyXG5cdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBjYWNoZS5oZWFkaW5ncy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRjb25zdCBlbGVtZW50OiBPdXRsaW5lRGF0YSA9IHtcclxuXHRcdFx0XHR0eXBlT2ZFbGVtZW50OiBcImhlYWRpbmdcIixcclxuXHRcdFx0XHRwb3NpdGlvbjogY2FjaGUuaGVhZGluZ3Nbal0ucG9zaXRpb24sXHJcblx0XHRcdFx0ZGlzcGxheVRleHQ6IGNhY2hlLmhlYWRpbmdzW2pdLmhlYWRpbmcsXHJcblx0XHRcdFx0bGV2ZWw6IGNhY2hlLmhlYWRpbmdzW2pdLmxldmVsLFxyXG5cdFx0XHR9O1xyXG5cdFx0XHRkYXRhLnB1c2goZWxlbWVudCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBjb25zb2xlLmxvZygnY2hlY2sgbGlua3MnLGNhY2hlLmhhc093blByb3BlcnR5KFwibGlua3NcIikgKTtcclxuXHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJsaW5rc1wiKSkge1xyXG5cdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBjYWNoZS5saW5rcy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRjb25zdCBlbGVtZW50OiBPdXRsaW5lRGF0YSA9IHtcclxuXHRcdFx0XHR0eXBlT2ZFbGVtZW50OiBcImxpbmtcIixcclxuXHRcdFx0XHRwb3NpdGlvbjogY2FjaGUubGlua3Nbal0ucG9zaXRpb24sXHJcblx0XHRcdFx0Ly9cdTMwREVcdTMwRkNcdTMwQUZcdTMwQzBcdTMwQTZcdTMwRjNcdTMwRUFcdTMwRjNcdTMwQUYgXHUzMDZCXHU1QkZFXHU1RkRDXHJcblx0XHRcdFx0ZGlzcGxheVRleHQ6XHJcblx0XHRcdFx0XHRjYWNoZS5saW5rc1tqXS5kaXNwbGF5VGV4dCA9PSBcIlwiXHJcblx0XHRcdFx0XHRcdD8gY2FjaGUubGlua3Nbal0ub3JpZ2luYWwuc3Vic3RyaW5nKDEsIGNhY2hlLmxpbmtzW2pdLm9yaWdpbmFsLmluZGV4T2YoXCJdXCIpKVxyXG5cdFx0XHRcdFx0XHQ6IGNhY2hlLmxpbmtzW2pdLmRpc3BsYXlUZXh0LFxyXG5cdFx0XHRcdGxpbms6IGNhY2hlLmxpbmtzW2pdLmxpbmssXHJcblx0XHRcdH07XHJcblx0XHRcdGRhdGEucHVzaChlbGVtZW50KTtcclxuXHRcdH1cclxuXHR9XHJcblx0Ly9lbWJlZHNcdTMwNkJcdTVCRkVcdTVGRENcclxuXHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJlbWJlZHNcIikpIHtcclxuXHRcdGZvciAobGV0IGogPSAwOyBqIDwgY2FjaGUuZW1iZWRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdGNvbnN0IGVsZW1lbnQ6IE91dGxpbmVEYXRhID0ge1xyXG5cdFx0XHRcdHR5cGVPZkVsZW1lbnQ6IFwibGlua1wiLFxyXG5cdFx0XHRcdHBvc2l0aW9uOiBjYWNoZS5lbWJlZHNbal0ucG9zaXRpb24sXHJcblx0XHRcdFx0Ly9cdTMwREVcdTMwRkNcdTMwQUZcdTMwQzBcdTMwQTZcdTMwRjNcdTMwRUFcdTMwRjNcdTMwQUYgXHUzMDZCXHU1QkZFXHU1RkRDXHJcblx0XHRcdFx0ZGlzcGxheVRleHQ6XHJcblx0XHRcdFx0XHRjYWNoZS5lbWJlZHNbal0uZGlzcGxheVRleHQgPT0gXCJcIlxyXG5cdFx0XHRcdFx0XHQ/IGNhY2hlLmVtYmVkc1tqXS5vcmlnaW5hbC5zdWJzdHJpbmcoXHJcblx0XHRcdFx0XHRcdFx0XHQxLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y2FjaGUuZW1iZWRzW2pdLm9yaWdpbmFsLmluZGV4T2YoXCJdXCIpLFxyXG5cdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0OiBjYWNoZS5lbWJlZHNbal0uZGlzcGxheVRleHQsXHJcblx0XHRcdFx0bGluazogY2FjaGUuZW1iZWRzW2pdLmxpbmssXHJcblx0XHRcdH07XHJcblx0XHRcdGRhdGEucHVzaChlbGVtZW50KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIGNvbnNvbGUubG9nKCdjaGVjayBsaXN0cycpO1xyXG5cdGlmIChjYWNoZS5oYXNPd25Qcm9wZXJ0eShcImxpc3RJdGVtc1wiKSkge1xyXG5cdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBjYWNoZS5saXN0SXRlbXMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0Ly9cdTRFRTVcdTRFMEJcdTMwNjdcdTMwRUFcdTMwQjlcdTMwQzhcdTMwQTJcdTMwQTRcdTMwQzZcdTMwRTBcdTMwNkVcdTk2OEVcdTVDNjRcdTMwNkVcdTUyMjRcdTVCOUFcdTMwOTJcdTg4NENcdTMwNDZcdTMwMDJcclxuXHRcdFx0Ly9cdTMwRUFcdTMwQjlcdTMwQzhcdTMwNkVcdTUxNDhcdTk4MkRcdTMwNkVcdTk4MDVcdTc2RUU6MFx1MzAwMVx1NTE0OFx1OTgyRFx1MzA2N1x1MzA2Rlx1MzA2QVx1MzA0NFx1MzA0Q1x1MzBFQlx1MzBGQ1x1MzBDOFx1MzBFQ1x1MzBEOVx1MzBFQjoxXHUzMDAxXHU3QjJDMlx1OTY4RVx1NUM2NFx1NEVFNVx1NEUwQlx1RkYxQTJcdTMwNjhcdTMwNTdcdTMwNjZcdTMwNDRcdTMwOEJcdTMwMDJcclxuXHRcdFx0Ly9wYXJlbnRcdTMwNENcdTZCNjNcdTMwNkVcdTY1NzBcdTMwNkFcdTMwODlcdTdCMkMyXHU5NjhFXHU1QzY0XHU0RUU1XHU0RTBCXHJcblx0XHRcdC8vXHU4Q0EwXHUzMDZFXHU2NTcwXHUzMDY3XHUzMDAxXHU3RDc2XHU1QkZFXHU1MDI0XHUzMDRDcG9zaXRpb24uc3RhcnQubGluZVx1MzA2OFx1NEUwMFx1ODFGNFx1MzA1N1x1MzA2Nlx1MzA0NFx1MzA4Q1x1MzA3MFx1MzBDOFx1MzBDM1x1MzBEN1x1MzBBMlx1MzBBNFx1MzBDNlx1MzBFMCgwKVx1MzAwMVx1OTc1RVx1NEUwMFx1ODFGNFx1MzA2QVx1MzA4OVx1MzBFQlx1MzBGQ1x1MzBDOFx1RkYwODFcdUZGMDlcclxuXHRcdFx0Ly9cdTMwNUZcdTMwNjBcdTMwNTdcdTg5OTZcdTg5OUFcdTc2ODRcdTMwNkJcdTk2RTJcdTMwOENcdTMwNUZcdTMwQzhcdTMwQzNcdTMwRDdcdTMwRUNcdTMwRDlcdTMwRUJcdTMwNkVcdTMwQTJcdTMwQTRcdTMwQzZcdTMwRTBcdTMwNjdcdTMwODJcdTMwMDFcdTk1OTNcdTMwNkJoZWFkaW5nXHUzMDRDXHUzMDZBXHUzMDQ0XHUzMDY4XHUzMEVCXHUzMEZDXHUzMEM4XHUzMEEyXHUzMEE0XHUzMEM2XHUzMEUwXHUzMDY4XHUzMDU3XHUzMDY2XHU1MjI0XHU1QjlBXHUzMDU1XHUzMDhDXHUzMDY2XHUzMDU3XHUzMDdFXHUzMDQ2XHUzMDZFXHUzMDY3XHUzMDAxXHJcblx0XHRcdC8vXHU1MjREXHUzMDZFXHUzMEVBXHUzMEI5XHUzMEM4XHUzMEEyXHUzMEE0XHUzMEM2XHUzMEUwXHUzMDY4XHUzMDZFXHU4ODRDXHUzMDZFXHU1REVFXHUzMDRDMVx1MzA2RVx1NjY0Mlx1MzA2RVx1MzA3Rlx1MzBFQlx1MzBGQ1x1MzBDOFx1MzBBMlx1MzBBNFx1MzBDNlx1MzBFMFx1MzA2OFx1MzA1N1x1MzA2Nlx1NTIyNFx1NUI5QVx1MzA1OVx1MzA4Qlx1MzA4OFx1MzA0Nlx1NEZFRVx1NkI2M1x1MzA1OVx1MzA4Qlx1MzAwMlxyXG5cdFx0XHRsZXQgbGlzdExldmVsID0gMDsgLy8gMDp0b3AgaXRlbSBvZiBhIGxpc3QgMTpyb290IGxldmUgMjpvdGhlclxyXG5cdFx0XHRpZiAoY2FjaGUubGlzdEl0ZW1zW2pdLnBhcmVudCA+IDApIHtcclxuXHRcdFx0XHRsaXN0TGV2ZWwgPSAyO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGogPiAwKSB7XHJcblx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0IShcclxuXHRcdFx0XHRcdFx0TWF0aC5hYnMoY2FjaGUubGlzdEl0ZW1zW2pdLnBhcmVudCkgPT1cclxuXHRcdFx0XHRcdFx0Y2FjaGUubGlzdEl0ZW1zW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmVcclxuXHRcdFx0XHRcdCkgJiZcclxuXHRcdFx0XHRcdGNhY2hlLmxpc3RJdGVtc1tqXS5wb3NpdGlvbi5zdGFydC5saW5lIC1cclxuXHRcdFx0XHRcdFx0Y2FjaGUubGlzdEl0ZW1zW2ogLSAxXS5wb3NpdGlvbi5zdGFydC5saW5lID09XHJcblx0XHRcdFx0XHRcdDFcclxuXHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdGxpc3RMZXZlbCA9IDE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IGVsZW1lbnQ6IE91dGxpbmVEYXRhID0ge1xyXG5cdFx0XHRcdHR5cGVPZkVsZW1lbnQ6IFwibGlzdEl0ZW1zXCIsXHJcblx0XHRcdFx0cG9zaXRpb246IGNhY2hlLmxpc3RJdGVtc1tqXS5wb3NpdGlvbixcclxuXHRcdFx0XHRkaXNwbGF5VGV4dDogaW5mbz8ubGluZXNbY2FjaGUubGlzdEl0ZW1zW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmVdLnJlcGxhY2UoXHJcblx0XHRcdFx0XHQvXihcXHN8XFx0KSotXFxzKFxcWy4rXFxdXFxzKSovLFxyXG5cdFx0XHRcdFx0XCJcIixcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRcdGxldmVsOiBsaXN0TGV2ZWwsXHJcblx0XHRcdFx0dGFzazogY2FjaGUubGlzdEl0ZW1zW2pdLnRhc2ssXHJcblx0XHRcdH07XHJcblx0XHRcdGRhdGEucHVzaChlbGVtZW50KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIGNvbnNvbGUubG9nKCdjaGVjayB0YWdzJyxjYWNoZS5oYXNPd25Qcm9wZXJ0eShcInRhZ3NcIikgKTtcclxuXHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJ0YWdzXCIpKSB7XHJcblx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGNhY2hlLnRhZ3MubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0Y29uc3QgZWxlbWVudDogT3V0bGluZURhdGEgPSB7XHJcblx0XHRcdFx0dHlwZU9mRWxlbWVudDogXCJ0YWdcIixcclxuXHRcdFx0XHRwb3NpdGlvbjogY2FjaGUudGFnc1tqXS5wb3NpdGlvbixcclxuXHRcdFx0XHRkaXNwbGF5VGV4dDogY2FjaGUudGFnc1tqXS50YWcuc3Vic3RyaW5nKDEpLFxyXG5cdFx0XHR9O1xyXG5cdFx0XHRkYXRhLnB1c2goZWxlbWVudCk7XHJcblxyXG5cdFx0XHQvL0FPVFx1MzBCRlx1MzBCMFx1MzA2RVx1NTIyNFx1NUI5QVxyXG5cdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIHNldHRpbmdzLnRhZ3NBT1QpIHtcclxuXHRcdFx0XHRpZiAodmFsdWUgJiYgY2FjaGUudGFnc1tqXS50YWcgPT0gdmFsdWUpIHtcclxuXHRcdFx0XHRcdHN0YXR1cy5pc1RvcCA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdC8vIFx1ODk4MVx1N0QyMFx1MzA2RVx1NzY3Qlx1NTgzNFx1OTgwNlx1MzA2Qlx1MzBCRFx1MzBGQ1x1MzBDOFxyXG5cdGRhdGEuc29ydCgoYSwgYikgPT4ge1xyXG5cdFx0cmV0dXJuIGEucG9zaXRpb24uc3RhcnQub2Zmc2V0IC0gYi5wb3NpdGlvbi5zdGFydC5vZmZzZXQ7XHJcblx0fSk7XHJcblx0cmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbi8vIGNhbnZhc1x1MzA2Qlx1MzA2NFx1MzA0NFx1MzA2Nlx1MzAwMVx1MzBDRVx1MzBGQ1x1MzBDOFx1MzA5Mlx1MzBFQVx1MzBGM1x1MzBBRlx1MzA2OFx1MzA1N1x1MzA2Nlx1MzAwMVx1MzBBQlx1MzBGQ1x1MzBDOVx1MzA5Mlx1MzBFQVx1MzBCOVx1MzBDOFx1OTgwNVx1NzZFRVx1MzA2OFx1MzA1N1x1MzA2Nlx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1MzA5Mlx1NjlDQlx1NjIxMFxyXG5hc3luYyBmdW5jdGlvbiBnZXRDYW52YXNPdXRsaW5lKGFwcDogQXBwLCBmaWxlOiBURmlsZSk6IFByb21pc2U8T3V0bGluZURhdGFbXT4ge1xyXG5cdGNvbnN0IGRhdGE6IE91dGxpbmVEYXRhW10gPSBbXTtcclxuXHRjb25zdCBjYW52YXMgPSBhd2FpdCBhcHAudmF1bHQucmVhZChmaWxlKTtcclxuXHRjb25zdCBjYW52YXNEYXRhID0gSlNPTi5wYXJzZShjYW52YXMpO1xyXG5cdGlmICghY2FudmFzRGF0YT8ubm9kZXMpIHtcclxuXHRcdHJldHVybiBkYXRhO1xyXG5cdH1cclxuXHRmb3IgKGNvbnN0IG5vZGUgb2YgY2FudmFzRGF0YS5ub2Rlcykge1xyXG5cdFx0aWYgKG5vZGUudHlwZSA9PSBcImZpbGVcIikge1xyXG5cdFx0XHRjb25zdCBlbGVtZW50OiBPdXRsaW5lRGF0YSA9IHtcclxuXHRcdFx0XHR0eXBlT2ZFbGVtZW50OiBcImxpbmtcIixcclxuXHRcdFx0XHRwb3NpdGlvbjogdW5kZWZpbmVkLFxyXG5cdFx0XHRcdGRpc3BsYXlUZXh0OiBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vZGUuZmlsZSkubmFtZSxcclxuXHRcdFx0XHRsaW5rOiBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vZGUuZmlsZSkubmFtZSxcclxuXHRcdFx0fTtcclxuXHRcdFx0ZGF0YS5wdXNoKGVsZW1lbnQpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKG5vZGUudHlwZSA9PSBcInRleHRcIikge1xyXG5cdFx0XHRjb25zdCBlbGVtZW50OiBPdXRsaW5lRGF0YSA9IHtcclxuXHRcdFx0XHR0eXBlT2ZFbGVtZW50OiBcImxpc3RJdGVtc1wiLFxyXG5cdFx0XHRcdHBvc2l0aW9uOiB1bmRlZmluZWQsXHJcblx0XHRcdFx0ZGlzcGxheVRleHQ6IG5vZGUudGV4dCxcclxuXHRcdFx0XHRsZXZlbDogMCxcclxuXHRcdFx0XHR0YXNrOiB1bmRlZmluZWQsXHJcblx0XHRcdH07XHJcblx0XHRcdGRhdGEucHVzaChlbGVtZW50KTtcclxuXHRcdH1cclxuXHR9XHJcblx0ZGF0YS5zb3J0KChhLCBiKSA9PiB7XHJcblx0XHRpZiAoYS50eXBlT2ZFbGVtZW50ICE9IGIudHlwZU9mRWxlbWVudCkge1xyXG5cdFx0XHRyZXR1cm4gYS50eXBlT2ZFbGVtZW50ID09IFwibGlua1wiID8gLTEgOiAxO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGEuZGlzcGxheVRleHQgPCBiLmRpc3BsYXlUZXh0ID8gLTEgOiAxO1xyXG5cdH0pO1xyXG5cdHJldHVybiBkYXRhO1xyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIFRGaWxlLCBUQWJzdHJhY3RGaWxlLCBTY29wZSwgU2V0dGluZywgTW9kYWwsIFBvcywgc3RyaXBIZWFkaW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCBNdWx0aXBsZU5vdGVzT3V0bGluZVBsdWdpbiwge1xyXG5cdEZJTEVfVElUTEVfQkFDS0dST1VORF9DT0xPUixcclxuXHRGSUxFX1RJVExFX0JBQ0tHUk9VTkRfQ09MT1JfSE9WRVIsXHJcblx0RmlsZUluZm8sXHJcblx0RmlsZVN0YXR1cyxcclxuXHRNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzLFxyXG59IGZyb20gXCJzcmMvbWFpblwiO1xyXG5cclxuLy8gZGF0YS5qc29uXHUzMDZFcmVsYXRlZEZpbGVzXHUzMDkyXHU2MzgzXHU5NjY0XHVGRjFBXHU1MDI0XHUzMDRDXHU3QTdBXHU5MTREXHU1MjE3XHUzMDZFXHUzMEQ3XHUzMEVEXHUzMEQxXHUzMEM2XHUzMEEzXHUzMDkyXHU1MjRBXHU5NjY0XHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhblJlbGF0ZWRGaWxlcyhcclxuXHRzcmNGaWxlOiBUQWJzdHJhY3RGaWxlLFxyXG5cdGRzdEZpbGU6IFRBYnN0cmFjdEZpbGUsXHJcblx0c2V0dGluZ3M6IE11bHRpcGxlTm90ZXNPdXRsaW5lU2V0dGluZ3MsXHJcbik6IHZvaWQge1xyXG5cdGlmIChPYmplY3Qua2V5cyhzZXR0aW5ncy5yZWxhdGVkRmlsZXNbc3JjRmlsZS5wYXRoXVtkc3RGaWxlLnBhdGhdKS5sZW5ndGggPT0gMCkge1xyXG5cdFx0ZGVsZXRlIHNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlLnBhdGhdW2RzdEZpbGUucGF0aF07XHJcblx0fVxyXG5cdGlmIChPYmplY3Qua2V5cyhzZXR0aW5ncy5yZWxhdGVkRmlsZXNbc3JjRmlsZS5wYXRoXSkubGVuZ3RoID09PSAwKSB7XHJcblx0XHRkZWxldGUgc2V0dGluZ3MucmVsYXRlZEZpbGVzW3NyY0ZpbGUucGF0aF07XHJcblx0fVxyXG59XHJcblxyXG4vLyBkYXRhLmpzb25cdTMwNkVyZWxhdGVkRmlsZXNcdTMwNkJcdTMwNjRcdTMwNDRcdTMwNjZcdTMwMDFzcmNGaWxlXHUzMDY4ZHN0RmlsZVx1MzA2RVx1N0Q0NFx1MzA3Rlx1NTQwOFx1MzA4Rlx1MzA1Qlx1MzA2N1x1MzAwMWZsYWdcdTMwNjdcdTYzMDdcdTVCOUFcdTMwNTdcdTMwNUZcdTMwRDVcdTMwRTlcdTMwQjBcdTMwNENcdTVCNThcdTU3MjhcdTMwNTlcdTMwOEJcdTMwNEJcdTMwQzFcdTMwQTdcdTMwQzNcdTMwQUZcclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRmxhZyhcclxuXHRzcmNGaWxlOiBUQWJzdHJhY3RGaWxlLFxyXG5cdGRzdEZpbGU6IFRBYnN0cmFjdEZpbGUsXHJcblx0ZmxhZzogXCJmb2xkXCIgfCBcInRvcFwiLFxyXG5cdHNldHRpbmdzOiBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzLFxyXG4pOiBib29sZWFuIHtcclxuXHRyZXR1cm4gc2V0dGluZ3MucmVsYXRlZEZpbGVzW3NyY0ZpbGUucGF0aF0/Lltkc3RGaWxlLnBhdGhdPy5bZmxhZ107XHJcbn1cclxuXHJcbi8vIHJlbGF0ZWRGaWxlc1x1MzA2Qlx1NjMwN1x1NUI5QVx1MzA1N1x1MzA1Rlx1MzBENVx1MzBFOVx1MzBCMFx1MzA5Mlx1OEZGRFx1NTJBMFxyXG5leHBvcnQgZnVuY3Rpb24gYWRkRmxhZyhcclxuXHRzcmNGaWxlOiBUQWJzdHJhY3RGaWxlLFxyXG5cdGRzdEZpbGU6IFRBYnN0cmFjdEZpbGUsXHJcblx0ZmxhZzogXCJmb2xkXCIgfCBcInRvcFwiLFxyXG5cdHNldHRpbmdzOiBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzLFxyXG4pOiB2b2lkIHtcclxuXHRpZiAoIXNldHRpbmdzLnJlbGF0ZWRGaWxlcy5oYXNPd25Qcm9wZXJ0eShzcmNGaWxlLnBhdGgpKSB7XHJcblx0XHRzZXR0aW5ncy5yZWxhdGVkRmlsZXNbc3JjRmlsZS5wYXRoXSA9IHt9O1xyXG5cdH1cclxuXHRpZiAoIXNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlLnBhdGhdLmhhc093blByb3BlcnR5KGRzdEZpbGUucGF0aCkpIHtcclxuXHRcdHNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlLnBhdGhdW2RzdEZpbGUucGF0aF0gPSB7fTtcclxuXHR9XHJcblx0c2V0dGluZ3MucmVsYXRlZEZpbGVzW3NyY0ZpbGUucGF0aF1bZHN0RmlsZS5wYXRoXVtmbGFnXSA9IHRydWU7XHJcbn1cclxuXHJcbi8vcmVsYXRlZEZpbGVzXHUzMDRCXHUzMDg5XHU2MzA3XHU1QjlBXHUzMDU3XHUzMDVGXHUzMEQ1XHUzMEU5XHUzMEIwXHUzMDkyXHU5NjY0XHU1M0JCXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGbGFnKFxyXG5cdHNyY0ZpbGU6IFRBYnN0cmFjdEZpbGUsXHJcblx0ZHN0RmlsZTogVEFic3RyYWN0RmlsZSxcclxuXHRmbGFnOiBcImZvbGRcIiB8IFwidG9wXCIsXHJcblx0c2V0dGluZ3M6IE11bHRpcGxlTm90ZXNPdXRsaW5lU2V0dGluZ3MsXHJcbik6IHZvaWQge1xyXG5cdGRlbGV0ZSBzZXR0aW5ncy5yZWxhdGVkRmlsZXNbc3JjRmlsZS5wYXRoXVtkc3RGaWxlLnBhdGhdW2ZsYWddO1xyXG5cdGNsZWFuUmVsYXRlZEZpbGVzKHNyY0ZpbGUsIGRzdEZpbGUsIHNldHRpbmdzKTtcclxufVxyXG5cclxuLy9yZWxhdGVkRmlsZXNcdTMwNkVcdTYzMDdcdTVCOUFcdTMwNTdcdTMwNUZcdTMwRDVcdTMwRTlcdTMwQjBcdTMwOTJcdTMwQzhcdTMwQjBcdTMwRUJcclxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZUZsYWcoXHJcblx0c3JjRmlsZTogVEFic3RyYWN0RmlsZSxcclxuXHRkc3RGaWxlOiBUQWJzdHJhY3RGaWxlLFxyXG5cdGZsYWc6IFwiZm9sZFwiIHwgXCJ0b3BcIixcclxuXHRzZXR0aW5nczogTXVsdGlwbGVOb3Rlc091dGxpbmVTZXR0aW5ncyxcclxuKTogdm9pZCB7XHJcblx0aWYgKGNoZWNrRmxhZyhzcmNGaWxlLCBkc3RGaWxlLCBmbGFnLCBzZXR0aW5ncykgPT0gdHJ1ZSkge1xyXG5cdFx0cmVtb3ZlRmxhZyhzcmNGaWxlLCBkc3RGaWxlLCBmbGFnLCBzZXR0aW5ncyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGFkZEZsYWcoc3JjRmlsZSwgZHN0RmlsZSwgZmxhZywgc2V0dGluZ3MpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gcmVsYXRlZEZpbGVzXHUzMDZFcmVuYW1lXHUzMDZCXHU1QkZFXHU1RkRDXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVSZW5hbWVSZWxhdGVkRmlsZXMoXHJcblx0cmVuYW1lZEZpbGU6IFRBYnN0cmFjdEZpbGUsXHJcblx0b2xkUGF0aDogc3RyaW5nLFxyXG5cdHNldHRpbmdzOiBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzLFxyXG4pOiBib29sZWFuIHtcclxuXHRsZXQgcmVuYW1lZCA9IGZhbHNlO1xyXG5cdGZvciAoY29uc3Qgc3JjRmlsZVBhdGggaW4gc2V0dGluZ3MucmVsYXRlZEZpbGVzKSB7XHJcblx0XHRmb3IgKGNvbnN0IGRzdEZpbGVQYXRoIGluIHNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlUGF0aF0pIHtcclxuXHRcdFx0aWYgKGRzdEZpbGVQYXRoID09IG9sZFBhdGgpIHtcclxuXHRcdFx0XHRzZXR0aW5ncy5yZWxhdGVkRmlsZXNbc3JjRmlsZVBhdGhdW3JlbmFtZWRGaWxlLnBhdGhdID0gc2V0dGluZ3MucmVsYXRlZEZpbGVzW3NyY0ZpbGVQYXRoXVtkc3RGaWxlUGF0aF07XHJcblx0XHRcdFx0ZGVsZXRlIHNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlUGF0aF1bZHN0RmlsZVBhdGhdO1xyXG5cdFx0XHRcdHJlbmFtZWQgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHNyY0ZpbGVQYXRoID09IG9sZFBhdGgpIHtcclxuXHRcdFx0c2V0dGluZ3MucmVsYXRlZEZpbGVzW3JlbmFtZWRGaWxlLnBhdGhdID0gc2V0dGluZ3MucmVsYXRlZEZpbGVzW3NyY0ZpbGVQYXRoXTtcclxuXHRcdFx0ZGVsZXRlIHNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlUGF0aF07XHJcblx0XHRcdHJlbmFtZWQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gcmVuYW1lZDtcclxufVxyXG5cclxuLy8gcmVsYXRlZEZpbGVzXHUzMDZFZGVsZXRlXHUzMDZCXHU1QkZFXHU1RkRDXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVEZWxldGVSZWxhdGVkRmlsZXMoZGVsZXRlZEZpbGU6IFRBYnN0cmFjdEZpbGUsIHNldHRpbmdzOiBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzKSB7XHJcblx0bGV0IGRlbGV0ZWQgPSBmYWxzZTtcclxuXHRmb3IgKGNvbnN0IHNyY0ZpbGVQYXRoIGluIHNldHRpbmdzLnJlbGF0ZWRGaWxlcykge1xyXG5cdFx0Zm9yIChjb25zdCBkc3RGaWxlUGF0aCBpbiBzZXR0aW5ncy5yZWxhdGVkRmlsZXNbc3JjRmlsZVBhdGhdKSB7XHJcblx0XHRcdGlmIChkc3RGaWxlUGF0aCA9PSBkZWxldGVkRmlsZS5wYXRoKSB7XHJcblx0XHRcdFx0ZGVsZXRlIHNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlUGF0aF1bZHN0RmlsZVBhdGhdO1xyXG5cdFx0XHRcdGRlbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHNyY0ZpbGVQYXRoID09IGRlbGV0ZWRGaWxlLnBhdGgpIHtcclxuXHRcdFx0ZGVsZXRlIHNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlUGF0aF07XHJcblx0XHRcdGRlbGV0ZWQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gZGVsZXRlZDtcclxufVxyXG5cclxuLy8gXHUzMEM2XHUzMEZDXHUzMERFXHVGRjA4XHUzMEU5XHUzMEE0XHUzMEM4L1x1MzBDMFx1MzBGQ1x1MzBBRlx1RkYwOVx1MzA5Mlx1NTNENlx1NUY5N1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGhlbWUoKTogXCJsaWdodFwiIHwgXCJkYXJrXCIge1xyXG5cdGNvbnN0IHRoZW1lID0gYXBwLnZhdWx0LmNvbmZpZz8udGhlbWUgPT09IFwibW9vbnN0b25lXCIgPyBcImxpZ2h0XCIgOiBcImRhcmtcIjtcclxuXHRyZXR1cm4gdGhlbWU7XHJcbn1cclxuXHJcbi8vIFx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzBCRlx1MzBBNFx1MzBDOFx1MzBFQlx1MzA2RVx1ODBDQ1x1NjY2Rlx1ODI3Mlx1MzA5Mlx1NjMwN1x1NUI5QXZlcjJcdUZGMDhjc3NcdTU5MDlcdTY1NzBcdTMwOTJcdThBMkRcdTVCOUFcdTUwMjRcdTMwNkJcdTU3RkFcdTMwNjVcdTMwNDRcdTMwNjZcdTU5MDlcdTY2RjRcdUZGMDkgIFx1MjAzQlx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzBBOFx1MzBBRlx1MzBCOVx1MzBEN1x1MzBFRFx1MzBGQ1x1MzBFOVx1MzA2RVx1MzBENVx1MzBBOVx1MzBFQlx1MzBDMFx1MzA2RVx1ODBDQ1x1NjY2Rlx1ODI3Mlx1MzA2Qlx1NzZGOFx1NUY1M1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Tm90ZVRpdGxlQmFja2dyb3VuZENvbG9yKHRoZW1lOiBcImxpZ2h0XCIgfCBcImRhcmtcIiwgc2V0dGluZ3M6IE11bHRpcGxlTm90ZXNPdXRsaW5lU2V0dGluZ3MpIHtcclxuXHRzd2l0Y2ggKHNldHRpbmdzLm5vdGVUaXRsZUJhY2tncm91bmRDb2xvcikge1xyXG5cdFx0Y2FzZSBcIm5vbmVcIjpcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwiY3VzdG9tXCI6XHJcblx0XHRcdGRvY3VtZW50XHJcblx0XHRcdFx0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXVxyXG5cdFx0XHRcdC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tTU5PLWZpbGV0aXRsZS1iYWNrZ3JvdW5kXCIsIHNldHRpbmdzLmN1c3RvbU5vdGVUaXRsZUJhY2tncm91bmRDb2xvclt0aGVtZV0pO1xyXG5cdFx0XHRkb2N1bWVudFxyXG5cdFx0XHRcdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF1cclxuXHRcdFx0XHQuc3R5bGUuc2V0UHJvcGVydHkoXHJcblx0XHRcdFx0XHRcIi0tTU5PLWZpbGV0aXRsZS1iYWNrZ3JvdW5kLWhvdmVyXCIsXHJcblx0XHRcdFx0XHRzZXR0aW5ncy5jdXN0b21Ob3RlVGl0bGVCYWNrZ3JvdW5kQ29sb3JIb3Zlclt0aGVtZV0sXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHRkb2N1bWVudFxyXG5cdFx0XHRcdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF1cclxuXHRcdFx0XHQuc3R5bGUuc2V0UHJvcGVydHkoXHJcblx0XHRcdFx0XHRcIi0tTU5PLWZpbGV0aXRsZS1iYWNrZ3JvdW5kXCIsXHJcblx0XHRcdFx0XHRGSUxFX1RJVExFX0JBQ0tHUk9VTkRfQ09MT1Jbc2V0dGluZ3Mubm90ZVRpdGxlQmFja2dyb3VuZENvbG9yXVt0aGVtZV0sXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0ZG9jdW1lbnRcclxuXHRcdFx0XHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdXHJcblx0XHRcdFx0LnN0eWxlLnNldFByb3BlcnR5KFxyXG5cdFx0XHRcdFx0XCItLU1OTy1maWxldGl0bGUtYmFja2dyb3VuZC1ob3ZlclwiLFxyXG5cdFx0XHRcdFx0RklMRV9USVRMRV9CQUNLR1JPVU5EX0NPTE9SX0hPVkVSW3NldHRpbmdzLm5vdGVUaXRsZUJhY2tncm91bmRDb2xvcl1bdGhlbWVdLFxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxufVxyXG5cclxuLy8gXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU5ODA2XHUzMEJEXHUzMEZDXHUzMEM4XHJcbmV4cG9ydCBmdW5jdGlvbiBzb3J0RmlsZU9yZGVyKFxyXG5cdG9yZGVyOiBudW1iZXJbXSxcclxuXHRmaWxlczogVEFic3RyYWN0RmlsZVtdLFxyXG5cdHN0YXR1czogRmlsZVN0YXR1c1tdLFxyXG5cdGluZm86IEZpbGVJbmZvW10sXHJcblx0c2V0dGluZ3M6IE11bHRpcGxlTm90ZXNPdXRsaW5lU2V0dGluZ3MsXHJcbik6IHZvaWQge1xyXG5cdHN3aXRjaCAoc2V0dGluZ3Muc29ydFR5cGUpIHtcclxuXHRcdGNhc2UgXCJhbHBoYWJldEFzY2VuZGluZ1wiOlxyXG5cdFx0XHRvcmRlci5zb3J0KCh2YWwxLCB2YWwyKSA9PiB7XHJcblx0XHRcdFx0aWYgKHN0YXR1c1t2YWwxXS5pc0ZvbGRlciAhPSBzdGF0dXNbdmFsMl0uaXNGb2xkZXIpIHtcclxuXHRcdFx0XHRcdHJldHVybiBzdGF0dXNbdmFsMV0uaXNGb2xkZXIgPT0gdHJ1ZSA/IDEgOiAtMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGZpbGVzW3ZhbDFdLm5hbWUubG9jYWxlQ29tcGFyZShmaWxlc1t2YWwyXS5uYW1lKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcImFscGhhYmV0RGVzY2VuZGluZ1wiOlxyXG5cdFx0XHRvcmRlci5zb3J0KCh2YWwxLCB2YWwyKSA9PiB7XHJcblx0XHRcdFx0aWYgKHN0YXR1c1t2YWwxXS5pc0ZvbGRlciAhPSBzdGF0dXNbdmFsMl0uaXNGb2xkZXIpIHtcclxuXHRcdFx0XHRcdHJldHVybiBzdGF0dXNbdmFsMV0uaXNGb2xkZXIgPT0gdHJ1ZSA/IDEgOiAtMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGZpbGVzW3ZhbDJdLm5hbWUubG9jYWxlQ29tcGFyZShmaWxlc1t2YWwxXS5uYW1lKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcImN0aW1lRGVzY2VuZGluZ1wiOlxyXG5cdFx0XHRvcmRlci5zb3J0KCh2YWwxLCB2YWwyKSA9PiB7XHJcblx0XHRcdFx0Ly8gZmlsZSB2cyBmb2xkZXIgXHUzMDZBXHUzMDg5ZmlsZVx1MzA5Mlx1NTI0RFx1MzA2QlxyXG5cdFx0XHRcdGlmIChzdGF0dXNbdmFsMV0uaXNGb2xkZXIgIT0gc3RhdHVzW3ZhbDJdLmlzRm9sZGVyKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gc3RhdHVzW3ZhbDFdLmlzRm9sZGVyID09IHRydWUgPyAxIDogLTE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIGZvbGRlciBcdTMwNkFcdTMwODlcdTMwQTJcdTMwRUJcdTMwRDVcdTMwQTFcdTMwRDlcdTMwQzNcdTMwQzhcdTY2MDdcdTk4MDZcdTMwNkJcclxuXHRcdFx0XHRpZiAoc3RhdHVzW3ZhbDFdLmlzRm9sZGVyID09IHRydWUpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmaWxlc1t2YWwxXS5uYW1lLmxvY2FsZUNvbXBhcmUoZmlsZXNbdmFsMl0ubmFtZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIGZpbGUgXHUzMDZBXHUzMDg5Y3RpbWVcdTk2NERcdTk4MDZcdTMwNkJcclxuXHRcdFx0XHRyZXR1cm4gKGZpbGVzW3ZhbDJdIGFzIFRGaWxlKT8uc3RhdC5jdGltZSAtIChmaWxlc1t2YWwxXSBhcyBURmlsZSk/LnN0YXQuY3RpbWU7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRicmVhaztcclxuXHJcblx0XHRjYXNlIFwiY3RpbWVBc2NlbmRpbmdcIjpcclxuXHRcdFx0b3JkZXIuc29ydCgodmFsMSwgdmFsMikgPT4ge1xyXG5cdFx0XHRcdGlmIChzdGF0dXNbdmFsMV0uaXNGb2xkZXIgIT0gc3RhdHVzW3ZhbDJdLmlzRm9sZGVyKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gc3RhdHVzW3ZhbDFdLmlzRm9sZGVyID09IHRydWUgPyAxIDogLTE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChzdGF0dXNbdmFsMV0uaXNGb2xkZXIgPT0gdHJ1ZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZpbGVzW3ZhbDFdLm5hbWUubG9jYWxlQ29tcGFyZShmaWxlc1t2YWwyXS5uYW1lKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIChmaWxlc1t2YWwxXSBhcyBURmlsZSk/LnN0YXQuY3RpbWUgLSAoZmlsZXNbdmFsMl0gYXMgVEZpbGUpPy5zdGF0LmN0aW1lO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0Y2FzZSBcIm10aW1lRGVzY2VuZGluZ1wiOlxyXG5cdFx0XHRvcmRlci5zb3J0KCh2YWwxLCB2YWwyKSA9PiB7XHJcblx0XHRcdFx0aWYgKHN0YXR1c1t2YWwxXS5pc0ZvbGRlciAhPSBzdGF0dXNbdmFsMl0uaXNGb2xkZXIpIHtcclxuXHRcdFx0XHRcdHJldHVybiBzdGF0dXNbdmFsMV0uaXNGb2xkZXIgPT0gdHJ1ZSA/IDEgOiAtMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHN0YXR1c1t2YWwxXS5pc0ZvbGRlciA9PSB0cnVlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmlsZXNbdmFsMV0ubmFtZS5sb2NhbGVDb21wYXJlKGZpbGVzW3ZhbDJdLm5hbWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gKGZpbGVzW3ZhbDJdIGFzIFRGaWxlKS5zdGF0Lm10aW1lIC0gKGZpbGVzW3ZhbDFdIGFzIFRGaWxlKS5zdGF0Lm10aW1lO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0Y2FzZSBcIm10aW1lQXNjZW5kaW5nXCI6XHJcblx0XHRcdG9yZGVyLnNvcnQoKHZhbDEsIHZhbDIpID0+IHtcclxuXHRcdFx0XHRpZiAoc3RhdHVzW3ZhbDFdLmlzRm9sZGVyICE9IHN0YXR1c1t2YWwyXS5pc0ZvbGRlcikge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHN0YXR1c1t2YWwxXS5pc0ZvbGRlciA9PSB0cnVlID8gMSA6IC0xO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoc3RhdHVzW3ZhbDFdLmlzRm9sZGVyID09IHRydWUpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmaWxlc1t2YWwxXS5uYW1lLmxvY2FsZUNvbXBhcmUoZmlsZXNbdmFsMl0ubmFtZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiAoZmlsZXNbdmFsMV0gYXMgVEZpbGUpLnN0YXQubXRpbWUgLSAoZmlsZXNbdmFsMl0gYXMgVEZpbGUpLnN0YXQubXRpbWU7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRicmVhaztcclxuXHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcbn1cclxuXHJcbi8vIHJlbGF0ZWQgRmlsZXNcdTUxNjhcdTZEODhcdTUzQkJcclxuZXhwb3J0IGNsYXNzIE1vZGFsQ29uZmlybSBleHRlbmRzIE1vZGFsIHtcclxuXHRwbHVnaW46IE11bHRpcGxlTm90ZXNPdXRsaW5lUGx1Z2luO1xyXG5cdHNjb3BlOiBTY29wZTtcclxuXHRpbnN0cnVjdGlvbjogc3RyaW5nO1xyXG5cclxuXHRvblN1Ym1pdDogKCkgPT4gdm9pZDtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTXVsdGlwbGVOb3Rlc091dGxpbmVQbHVnaW4sIGluc3RydWN0aW9uOiBzdHJpbmcsIG9uU3VibWl0OiAoKSA9PiB2b2lkKSB7XHJcblx0XHRzdXBlcihhcHApO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLmluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XHJcblx0XHR0aGlzLm9uU3VibWl0ID0gb25TdWJtaXQ7XHJcblx0fVxyXG5cclxuXHRvbk9wZW4oKSB7XHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbChcImJyXCIpO1xyXG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKFwicFwiLCB7XHJcblx0XHRcdHRleHQ6IHRoaXMuaW5zdHJ1Y3Rpb24sXHJcblx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcblx0XHRcdC5hZGRCdXR0b24oKGJ0bikgPT5cclxuXHRcdFx0XHRidG5cclxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KFwiRXhlY3V0ZVwiKVxyXG5cdFx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZXhlY3V0ZSgpO1xyXG5cdFx0XHRcdFx0fSksXHJcblx0XHRcdClcclxuXHRcdFx0LmFkZEJ1dHRvbigoYnRuKSA9PlxyXG5cdFx0XHRcdGJ0bi5zZXRCdXR0b25UZXh0KFwiQ2FuY2VsXCIpLm9uQ2xpY2soKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0XHRcdH0pLFxyXG5cdFx0XHQpO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBleGVjdXRlKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0dGhpcy5vblN1Ym1pdCgpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gXHU1QjU4XHU1NzI4XHUzMDU3XHUzMDZBXHUzMDQ0cmVsYXRlZEZpbGVzXHUzMDZFXHUzMEQxXHUzMEI5XHUzMDkyXHUzMEFGXHUzMEVBXHUzMEZDXHUzMEYzXHUzMEEyXHUzMEMzXHUzMEQ3XHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja1JlbGF0ZWRGaWxlcyhhcHA6IEFwcCwgc2V0dGluZ3M6IE11bHRpcGxlTm90ZXNPdXRsaW5lU2V0dGluZ3MpOiB2b2lkIHtcclxuXHRmb3IgKGNvbnN0IHNyY0ZpbGVQYXRoIGluIHNldHRpbmdzLnJlbGF0ZWRGaWxlcykge1xyXG5cdFx0Zm9yIChjb25zdCBkc3RGaWxlUGF0aCBpbiBzZXR0aW5ncy5yZWxhdGVkRmlsZXNbc3JjRmlsZVBhdGhdKSB7XHJcblx0XHRcdC8vXHU1QkZFXHU4QzYxXHUzMEQxXHUzMEI5XHUzMDZFXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCL1x1MzBENVx1MzBBOVx1MzBFQlx1MzBDMFx1MzA0Q1x1NUI1OFx1NTcyOFx1MzA1N1x1MzA2QVx1MzA1MVx1MzA4Q1x1MzA3MFx1NTI0QVx1OTY2NFxyXG5cdFx0XHRpZiAoIWFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZHN0RmlsZVBhdGgpKSB7XHJcblx0XHRcdFx0ZGVsZXRlIHNldHRpbmdzLnJlbGF0ZWRGaWxlc1tzcmNGaWxlUGF0aF1bZHN0RmlsZVBhdGhdO1xyXG5cdFx0XHRcdGlmIChPYmplY3Qua2V5cyhzZXR0aW5ncy5yZWxhdGVkRmlsZXNbc3JjRmlsZVBhdGhdKS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRcdGRlbGV0ZSBzZXR0aW5ncy5yZWxhdGVkRmlsZXNbc3JjRmlsZVBhdGhdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Ly8gXHU1MTQzXHUzMEQxXHUzMEI5XHUzMDZFXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCL1x1MzBENVx1MzBBOVx1MzBFQlx1MzBDMFx1MzA0Q1x1NUI1OFx1NTcyOFx1MzA1N1x1MzA2QVx1MzA1MVx1MzA4Q1x1MzA3MFx1NTI0QVx1OTY2NFxyXG5cdFx0aWYgKCFhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHNyY0ZpbGVQYXRoKSkge1xyXG5cdFx0XHRkZWxldGUgc2V0dGluZ3MucmVsYXRlZEZpbGVzW3NyY0ZpbGVQYXRoXTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbi8vIHN1YnBhdGhcdTMwOTJcdTU0MkJcdTMwODBcdTMwRUFcdTMwRjNcdTMwQUZcdTMwNkVcdTMwRUFcdTMwRjNcdTMwQUZcdTUxNDhcdTMwNkVwb3NpdGlvblx1MzA5Mlx1NTNENlx1NUY5N1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VicGF0aFBvc2l0aW9uKGFwcDogQXBwLCBmaWxlOiBURmlsZSwgc3VicGF0aDogc3RyaW5nKTogUG9zIHwgbnVsbCB7XHJcblx0aWYgKCFzdWJwYXRoKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0Y29uc3QgY2FjaGUgPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XHJcblx0aWYgKCFjYWNoZSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdGNvbnN0IGNoZWNrcGF0aCA9IHN0cmlwSGVhZGluZyhzdWJwYXRoKTtcclxuXHRpZiAoY2FjaGUuaGVhZGluZ3M/Lmxlbmd0aCkge1xyXG5cdFx0Y29uc3QgaW5kZXggPSBjYWNoZS5oZWFkaW5ncy5maW5kSW5kZXgoKGVsZW1lbnQpID0+IHN0cmlwSGVhZGluZyhlbGVtZW50LmhlYWRpbmcpID09IGNoZWNrcGF0aCk7XHJcblx0XHRpZiAoaW5kZXggPj0gMCkge1xyXG5cdFx0XHRyZXR1cm4gY2FjaGUuaGVhZGluZ3NbaW5kZXhdLnBvc2l0aW9uO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAoY2FjaGUuc2VjdGlvbnM/Lmxlbmd0aCkge1xyXG5cdFx0Y29uc3QgaW5kZXggPSBjYWNoZS5zZWN0aW9ucy5maW5kSW5kZXgoKGVsZW1lbnQpID0+IHtcclxuXHRcdFx0ZWxlbWVudC5pZCA/IHN0cmlwSGVhZGluZyhlbGVtZW50LmlkKSA6IG51bGwgPT0gY2hlY2twYXRoO1xyXG5cdFx0fSk7XHJcblx0XHRpZiAoaW5kZXggPj0gMCkge1xyXG5cdFx0XHRyZXR1cm4gY2FjaGUuc2VjdGlvbnNbaW5kZXhdLnBvc2l0aW9uO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufVxyXG5cclxuLy8gZGF0YXZpZXdcdTMwNkVcdTMwQzFcdTMwQTdcdTMwQzNcdTMwQUZcclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRGF0YXZpZXcoYXBwOiBBcHApOiBib29sZWFuIHtcclxuXHRpZiAoYXBwLnBsdWdpbnMucGx1Z2luc1tcImRhdGF2aWV3XCJdKSB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxufVxyXG5cclxuLy8gbGlzdCBjYWxsb3V0XHUzMDZFXHUzMEMxXHUzMEE3XHUzMEMzXHUzMEFGXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja0xpc3RDYWxsb3V0cyhjaGVja1N0cmluZzogc3RyaW5nLCBjYWxsb3V0cykge1xyXG5cdGlmICghY2FsbG91dHMpIHJldHVybiBudWxsO1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgY2FsbG91dHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmIChjaGVja1N0cmluZy5zdGFydHNXaXRoKGNhbGxvdXRzW2ldLmNoYXIgKyBcIiBcIikpIHtcclxuXHRcdFx0cmV0dXJuIGk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59XHJcblxyXG4vLyBsaXN0IGl0ZW1cdTMwOTJcdTYzQ0ZcdTc1M0JcdTMwNTlcdTMwOEJcdTMwNEJcdTUyMjRcdTVCOUFcclxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZERpc3BsYXlMaXN0SXRlbShkYXRhLCBzZXR0aW5ncywgY2FsbG91dHNJbmRleCk6IGJvb2xlYW4ge1xyXG5cdC8vIFx1NUI4Q1x1NEU4Nlx1MzBCRlx1MzBCOVx1MzBBRlx1OTc1RVx1ODg2OFx1NzkzQVx1OEEyRFx1NUI5QVx1MzA2N1x1MzA0Mlx1MzA4Q1x1MzA3MFx1NUI4Q1x1NEU4Nlx1MzBCRlx1MzBCOVx1MzBBRlx1MzA2Rlx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdGlmIChzZXR0aW5ncy5oaWRlQ29tcGxldGVkVGFza3MgPT0gdHJ1ZSAmJiBkYXRhLnRhc2sgPT0gXCJ4XCIpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHRcdC8vIFx1OTc1RVx1MzBCRlx1MzBCOVx1MzBBRlx1OTc1RVx1ODg2OFx1NzkzQVx1OEEyRFx1NUI5QVx1MzA2N1x1MzA0Mlx1MzA4Q1x1MzA3MFx1OTc1RVx1MzBCRlx1MzBCOVx1MzBBRlx1MzA2Rlx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdH1cclxuXHRpZiAoc2V0dGluZ3MudGFza09ubHkgPT0gdHJ1ZSAmJiBkYXRhLnRhc2sgPT09IHZvaWQgMCkge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHQvLyBcdTUxNjhcdTMwQkZcdTMwQjlcdTMwQUZcdTg4NjhcdTc5M0FcdThBMkRcdTVCOUFcdTMwNjdcdTMwQkZcdTMwQjlcdTMwQUZcdTMwNkFcdTMwODlcdTg4NjhcdTc5M0FcclxuXHRpZiAoc2V0dGluZ3MuYWxsVGFza3MgPT0gdHJ1ZSAmJiBkYXRhLnRhc2sgIT09IHZvaWQgMCkge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cdGlmIChzZXR0aW5ncy5kaXNwTGlzdENhbGxvdXRzID09IHRydWUgJiYgdHlwZW9mIGNhbGxvdXRzSW5kZXggPT09IFwibnVtYmVyXCIpIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHQvLyBcdTMwRUNcdTMwRDlcdTMwRUJcdTMwNkJcdTVGRENcdTMwNThcdTMwNjZcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRpZiAoZGF0YS5sZXZlbCA9PSAyIHx8IChkYXRhLmxldmVsID09IDEgJiYgc2V0dGluZ3MuYWxsUm9vdEl0ZW1zID09IGZhbHNlKSkge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHRyZXR1cm4gdHJ1ZTtcclxufVxyXG4iLCAiaW1wb3J0IHsgTXVsdGlwbGVOb3Rlc091dGxpbmVGb2xkZXJWaWV3IH0gZnJvbSBcIi4vZm9sZGVyVmlld1wiO1xyXG5cclxuaW1wb3J0IHsgc2V0SWNvbiwgVEZpbGUsIE1lbnUsIFRGb2xkZXIgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgTW9kYWxKdW1wLCB1cGRhdGVGYXZBbmRSZWNlbnQgfSBmcm9tIFwiLi9GYXZBbmRSZWNlbnRcIjtcclxuXHJcbi8vICBcdTY0Q0RcdTRGNUNcdTMwQTJcdTMwQTRcdTMwQjNcdTMwRjNcdTkwRThcdTUyMDZcdTMwOTJcdTYzQ0ZcdTc1M0JcclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdVSSgpOiB2b2lkIHtcclxuXHRjb25zdCBuYXZIZWFkZXI6IEhUTUxFbGVtZW50ID0gY3JlYXRlRGl2KFwibmF2LWhlYWRlclwiKTtcclxuXHRjb25zdCBuYXZCdXR0b25Db250YWluZXI6IEhUTUxFbGVtZW50ID0gbmF2SGVhZGVyLmNyZWF0ZURpdihcIm5hdi1idXR0b25zLWNvbnRhaW5lclwiKTtcclxuXHJcblx0Ly8gXHUzMEEyXHUzMEE0XHUzMEIzXHUzMEYzXHU2M0NGXHU3NTNCXHJcblx0dWlVcGRhdGUuY2FsbCh0aGlzLCBuYXZCdXR0b25Db250YWluZXIpO1xyXG5cdHVpRmF2QW5kUmVjZW50LmNhbGwodGhpcywgbmF2QnV0dG9uQ29udGFpbmVyKTtcclxuXHR1aVNldHRpbmcuY2FsbCh0aGlzLCBuYXZCdXR0b25Db250YWluZXIpO1xyXG5cdHVpVG9nZ2xlSGVhZGluZy5jYWxsKHRoaXMsIG5hdkJ1dHRvbkNvbnRhaW5lcik7XHJcblx0dWlUb2dnbGVMaW5rLmNhbGwodGhpcywgbmF2QnV0dG9uQ29udGFpbmVyKTtcclxuXHR1aVRvZ2dsZUxpc3RJdGVtcy5jYWxsKHRoaXMsIG5hdkJ1dHRvbkNvbnRhaW5lcik7XHJcblx0dWlUb2dnbGVCYWNrbGlua3MuY2FsbCh0aGlzLCBuYXZCdXR0b25Db250YWluZXIpO1xyXG5cdC8vdWlFeHRyYWN0LmNhbGwodGhpcywgbmF2QnV0dG9uQ29udGFpbmVyKTtcclxuXHR1aUNvbGxhcHNlLmNhbGwodGhpcywgbmF2QnV0dG9uQ29udGFpbmVyKTtcclxuXHJcblx0Ly8gXHU2M0NGXHU3NTNCXHU1QjlGXHU4ODRDXHJcblx0dGhpcy5jb250ZW50RWwuZW1wdHkoKTtcclxuXHR0aGlzLmNvbnRlbnRFbC5hcHBlbmRDaGlsZChuYXZIZWFkZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd1VJRm9sZGVyVmlldygpOiB2b2lkIHtcclxuXHRjb25zdCBuYXZIZWFkZXI6IEhUTUxFbGVtZW50ID0gY3JlYXRlRGl2KFwibmF2LWhlYWRlclwiKTtcclxuXHRjb25zdCBuYXZCdXR0b25Db250YWluZXI6IEhUTUxFbGVtZW50ID0gbmF2SGVhZGVyLmNyZWF0ZURpdihcIm5hdi1idXR0b25zLWNvbnRhaW5lclwiKTtcclxuXHJcblx0Ly8gXHUzMEEyXHUzMEE0XHUzMEIzXHUzMEYzXHU2M0NGXHU3NTNCXHJcblx0dWlVcGRhdGVGb2xkZXJWaWV3LmNhbGwodGhpcywgbmF2QnV0dG9uQ29udGFpbmVyKTtcclxuXHR1aUZhdkFuZFJlY2VudC5jYWxsKHRoaXMsIG5hdkJ1dHRvbkNvbnRhaW5lcik7XHJcblx0dWlTZXR0aW5nRm9sZGVyVmlldy5jYWxsKHRoaXMsIG5hdkJ1dHRvbkNvbnRhaW5lcik7XHJcblx0dWlUb2dnbGVIZWFkaW5nLmNhbGwodGhpcywgbmF2QnV0dG9uQ29udGFpbmVyKTtcclxuXHR1aVRvZ2dsZUxpbmsuY2FsbCh0aGlzLCBuYXZCdXR0b25Db250YWluZXIpO1xyXG5cdHVpVG9nZ2xlTGlzdEl0ZW1zLmNhbGwodGhpcywgbmF2QnV0dG9uQ29udGFpbmVyKTtcclxuXHR1aVRvZ2dsZUJhY2tsaW5rcy5jYWxsKHRoaXMsIG5hdkJ1dHRvbkNvbnRhaW5lcik7XHJcblx0Ly91aUV4dHJhY3QuY2FsbCh0aGlzLCBuYXZCdXR0b25Db250YWluZXIpO1xyXG5cdHVpQ29sbGFwc2UuY2FsbCh0aGlzLCBuYXZCdXR0b25Db250YWluZXIpO1xyXG5cclxuXHQvLyBcdTYzQ0ZcdTc1M0JcdTVCOUZcdTg4NENcclxuXHR0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cdHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKG5hdkhlYWRlcik7XHJcbn1cclxuXHJcbi8vIFx1NjZGNFx1NjVCMFx1MzBEQ1x1MzBCRlx1MzBGMyBmaWxlIHZpZXdcclxuZnVuY3Rpb24gdWlVcGRhdGUocGFyZW50RWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0Y29uc3QgbmF2QWN0aW9uQnV0dG9uID0gcGFyZW50RWwuY3JlYXRlRGl2KFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIik7XHJcblxyXG5cdGlmICh0aGlzLnBpbm5lZE1vZGUgPT0gZmFsc2UpIHtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcInVwZGF0ZSB2aWV3XCI7XHJcblx0XHRzZXRJY29uKG5hdkFjdGlvbkJ1dHRvbiwgXCJyZWZyZXNoLWN3XCIpO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcblx0XHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcclxuXHRcdFx0XHR0aGlzLmFjdGl2ZUZpbGUgPSBmaWxlO1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMubWFpblswXSA9IHRoaXMuYWN0aXZlRmlsZTtcclxuXHJcblx0XHRcdFx0dXBkYXRlRmF2QW5kUmVjZW50LmNhbGwodGhpcywgdGhpcy5hY3RpdmVGaWxlLnBhdGgsIFwiZmlsZVwiLCBcInJlY2VudFwiKTtcclxuXHJcblx0XHRcdFx0YXdhaXQgdGhpcy5yZWZyZXNoVmlldyh0cnVlLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuXHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdC5zZXRUaXRsZShcIlBpblwiKVxyXG5cdFx0XHRcdFx0LnNldEljb24oXCJwaW5cIilcclxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5waW5uZWRNb2RlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgZmFsc2UpO1xyXG5cdFx0XHRcdFx0fSksXHJcblx0XHRcdCk7XHJcblx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHR9KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8gXHUzMEQ0XHUzMEYzXHU3NTU5XHUzMDgxXHUzMDU1XHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDhCXHU1ODM0XHU1NDA4XHUzMDZGXHU2NkY0XHU2NUIwXHUzMERDXHUzMEJGXHUzMEYzXHUzMDY3XHUzMDZBXHUzMDRGXHUzMEQ0XHUzMEYzXHUzMDkyXHU4ODY4XHU3OTNBXHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYXJpYUxhYmVsID0gXCJ1bnBpbiBhbmQgdXBkYXRlIHZpZXdcIjtcclxuXHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLCBcInBpblwiKTtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0dGhpcy5waW5uZWRNb2RlID0gZmFsc2U7XHJcblx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xyXG5cdFx0XHRpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmVGaWxlID0gZmlsZTtcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZpbGVzLm1haW5bMF0gPSB0aGlzLmFjdGl2ZUZpbGU7XHJcblxyXG5cdFx0XHRcdHVwZGF0ZUZhdkFuZFJlY2VudC5jYWxsKHRoaXMsIHRoaXMuYWN0aXZlRmlsZS5wYXRoLCBcImZpbGVcIiwgXCJyZWNlbnRcIik7XHJcblxyXG5cdFx0XHRcdGF3YWl0IHRoaXMucmVmcmVzaFZpZXcodHJ1ZSwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0Y29uc3QgbWVudSA9IG5ldyBNZW51KCk7XHJcblx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHQuc2V0VGl0bGUoXCJVbnBpblwiKVxyXG5cdFx0XHRcdFx0LnNldEljb24oXCJwaW4tb2ZmXCIpXHJcblx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGlubmVkTW9kZSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLCBmYWxzZSk7XHJcblx0XHRcdFx0XHR9KSxcclxuXHRcdFx0KTtcclxuXHRcdFx0bWVudS5zaG93QXRNb3VzZUV2ZW50KGV2ZW50KTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4vLyBcdTY2RjRcdTY1QjBcdTMwRENcdTMwQkZcdTMwRjMgZm9sZGVyIHZpZXdcclxuZnVuY3Rpb24gdWlVcGRhdGVGb2xkZXJWaWV3KHBhcmVudEVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdGNvbnN0IG5hdkFjdGlvbkJ1dHRvbiA9IHBhcmVudEVsLmNyZWF0ZURpdihcImNsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uXCIpO1xyXG5cdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcInVwZGF0ZSB2aWV3XCI7XHJcblx0c2V0SWNvbihuYXZBY3Rpb25CdXR0b24sIFwicmVmcmVzaC1jd1wiKTtcclxuXHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0Y29uc3QgZmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcblx0XHRpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcblx0XHRcdHRoaXMudGFyZ2V0Rm9sZGVyID0gZmlsZS5wYXJlbnQ7XHJcblx0XHRcdHRoaXMuaGFzTWFpbkNoYW5nZWQgPSB0cnVlO1xyXG5cclxuXHRcdFx0dXBkYXRlRmF2QW5kUmVjZW50LmNhbGwodGhpcywgdGhpcy50YXJnZXRGb2xkZXIucGF0aCwgXCJmb2xkZXJcIiwgXCJyZWNlbnRcIik7XHJcblxyXG5cdFx0XHQvLyBcdTRGRERcdTc1NTlcclxuXHRcdFx0Ly8gdGhpcy5hcHAud29ya3NwYWNlLnJlcXVlc3RTYXZlTGF5b3V0KCk7XHJcblxyXG5cdFx0XHR0aGlzLnJlZnJlc2hWaWV3KHRydWUsIHRydWUpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59XHJcblxyXG4vLyBcdTVDNjVcdTZCNzQvXHUzMDRBXHU2QzE3XHUzMDZCXHU1MTY1XHUzMDhBXHJcbmZ1bmN0aW9uIHVpRmF2QW5kUmVjZW50KHBhcmVudEVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdGNvbnN0IG5hdkFjdGlvbkJ1dHRvbiA9IHBhcmVudEVsLmNyZWF0ZURpdihcImNsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uXCIpO1xyXG5cdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcImZhdm9yaXRlL3JlY2VudFwiO1xyXG5cdHNldEljb24obmF2QWN0aW9uQnV0dG9uLCBcImJvb2ttYXJrXCIpO1xyXG5cdC8vIFx1NURFNlx1MzBBRlx1MzBFQVx1MzBDM1x1MzBBRlx1MzA2N2Zhdm9yaXRlc1xyXG5cdG5hdkFjdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRjb25zdCBvblN1Ym1pdCA9ICh0YXJnZXQ6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRjb25zdCB0YXJnZXRPYmogPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGFyZ2V0KTtcclxuXHRcdFx0aWYgKHRhcmdldE9iaiBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcblx0XHRcdFx0dGhpcy50YXJnZXRGaWxlcy5tYWluWzBdID0gdGFyZ2V0T2JqO1xyXG5cdFx0XHRcdHRoaXMuaGFzTWFpbkNoYW5nZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnBpbkFmdGVySnVtcCAmJiB0aGlzLnNldHRpbmdzLmF1dG91cGRhdGVGaWxlVmlldykge1xyXG5cdFx0XHRcdFx0dGhpcy5waW5uZWRNb2RlID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dXBkYXRlRmF2QW5kUmVjZW50LmNhbGwodGhpcywgdGFyZ2V0T2JqLnBhdGgsIFwiZmlsZVwiLCBcInJlY2VudFwiKTtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KHRydWUsIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0YXJnZXRPYmogaW5zdGFuY2VvZiBURm9sZGVyKSB7XHJcblx0XHRcdFx0dGhpcy50YXJnZXRGb2xkZXIgPSB0YXJnZXRPYmo7XHJcblx0XHRcdFx0dGhpcy5oYXNNYWluQ2hhbmdlZCA9IHRydWU7XHJcblxyXG5cdFx0XHRcdHVwZGF0ZUZhdkFuZFJlY2VudC5jYWxsKHRoaXMsIHRhcmdldE9iai5wYXRoLCBcImZvbGRlclwiLCBcInJlY2VudFwiKTtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KHRydWUsIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0bmV3IE1vZGFsSnVtcCh0aGlzLmFwcCwgdGhpcywgdGhpcy52aWV3VHlwZSwgXCJmYXZvcml0ZVwiLCBvblN1Ym1pdCkub3BlbigpO1xyXG5cdH0pO1xyXG5cdC8vIFx1NTNGM1x1MzBBRlx1MzBFQVx1MzBDM1x1MzBBRlx1MzA2N1x1NUM2NVx1NkI3NFxyXG5cdG5hdkFjdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgYXN5bmMgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0Y29uc3Qgb25TdWJtaXQgPSAodGFyZ2V0OiBzdHJpbmcpID0+IHtcclxuXHRcdFx0Y29uc3QgdGFyZ2V0T2JqID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRhcmdldCk7XHJcblx0XHRcdGlmICh0YXJnZXRPYmogaW5zdGFuY2VvZiBURmlsZSkge1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMubWFpblswXSA9IHRhcmdldE9iajtcclxuXHRcdFx0XHR0aGlzLmhhc01haW5DaGFuZ2VkID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5waW5BZnRlckp1bXAgJiYgdGhpcy5zZXR0aW5ncy5hdXRvdXBkYXRlRmlsZVZpZXcpIHtcclxuXHRcdFx0XHRcdHRoaXMucGlubmVkTW9kZSA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR1cGRhdGVGYXZBbmRSZWNlbnQuY2FsbCh0aGlzLCB0YXJnZXRPYmoucGF0aCwgXCJmaWxlXCIsIFwicmVjZW50XCIpO1xyXG5cdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcodHJ1ZSwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRhcmdldE9iaiBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZvbGRlciA9IHRhcmdldE9iajtcclxuXHRcdFx0XHR0aGlzLmhhc01haW5DaGFuZ2VkID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0dXBkYXRlRmF2QW5kUmVjZW50LmNhbGwodGhpcywgdGFyZ2V0T2JqLnBhdGgsIFwiZm9sZGVyXCIsIFwicmVjZW50XCIpO1xyXG5cdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcodHJ1ZSwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRuZXcgTW9kYWxKdW1wKHRoaXMuYXBwLCB0aGlzLCB0aGlzLnZpZXdUeXBlLCBcInJlY2VudFwiLCBvblN1Ym1pdCkub3BlbigpO1xyXG5cdH0pO1xyXG59XHJcblxyXG4vLyBcdThBMkRcdTVCOUFcdTMwRENcdTMwQkZcdTMwRjNcclxuZnVuY3Rpb24gdWlTZXR0aW5nKHBhcmVudEVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdGNvbnN0IG5hdkFjdGlvbkJ1dHRvbiA9IHBhcmVudEVsLmNyZWF0ZURpdihcImNsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uXCIpO1xyXG5cdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcIm9wZW4gc2V0dGluZ3NcIjtcclxuXHRzZXRJY29uKG5hdkFjdGlvbkJ1dHRvbiwgXCJzZXR0aW5nc1wiKTtcclxuXHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0dGhpcy5hcHAuc2V0dGluZy5vcGVuKCk7XHJcblx0XHR0aGlzLmFwcC5zZXR0aW5nLm9wZW5UYWJCeUlkKHRoaXMucGx1Z2luLm1hbmlmZXN0LmlkKTtcclxuXHR9KTtcclxuXHJcblx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xyXG5cdFx0Ly9cdTU0MDRcdTMwQUJcdTMwQzZcdTMwQjRcdTMwRUFcdTMwNkVcdTg4NjhcdTc5M0EvXHU5NzVFXHU4ODY4XHU3OTNBXHJcblx0XHRmb3IgKGNvbnN0IGNhdGVnb3J5IGluIHRoaXMuc2V0dGluZ3Muc2hvd0ZpbGVzKSB7XHJcblx0XHRcdGNvbnN0IGljb24gPSB0aGlzLnNldHRpbmdzLnNob3dGaWxlc1tjYXRlZ29yeV0gPT0gdHJ1ZSA/IFwiY2hlY2tcIiA6IFwiXCI7XHJcblx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHQuc2V0VGl0bGUoYHNob3cgJHtjYXRlZ29yeX0gc2VjdGlvbmApXHJcblx0XHRcdFx0XHQuc2V0SWNvbihpY29uKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnNob3dGaWxlc1tjYXRlZ29yeV0gPSAhdGhpcy5zZXR0aW5ncy5zaG93RmlsZXNbY2F0ZWdvcnldO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgZmFsc2UpO1xyXG5cdFx0XHRcdFx0fSksXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0bWVudS5hZGRTZXBhcmF0b3IoKTtcclxuXHRcdC8vIFx1NTQwNFx1ODk4MVx1N0QyMFx1MzA2RVx1ODg2OFx1NzkzQVx1OTc1RVx1ODg2OFx1NzkzQVxyXG5cdFx0Zm9yIChjb25zdCBlbGVtZW50IGluIHRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzKSB7XHJcblx0XHRcdGNvbnN0IGljb24gPSB0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50c1tlbGVtZW50XSA9PSB0cnVlID8gXCJjaGVja1wiIDogXCJcIjtcclxuXHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdC5zZXRUaXRsZShgc2hvdyAke2VsZW1lbnR9YClcclxuXHRcdFx0XHRcdC5zZXRJY29uKGljb24pXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzW2VsZW1lbnRdID0gIXRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzW2VsZW1lbnRdO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgZmFsc2UpO1xyXG5cdFx0XHRcdFx0fSksXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RWxlbWVudHMubGlzdEl0ZW1zKSB7XHJcblx0XHRcdGNvbnN0IGljb24gPSB0aGlzLnNldHRpbmdzLnRhc2tPbmx5ID8gXCJjaGVja1wiIDogXCJcIjtcclxuXHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdC5zZXRUaXRsZShcInRhc2tzIG9ubHlcIilcclxuXHRcdFx0XHRcdC5zZXRJY29uKGljb24pXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MudGFza09ubHkgPSAhdGhpcy5zZXR0aW5ncy50YXNrT25seTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsIGZhbHNlKTtcclxuXHRcdFx0XHRcdH0pLFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBpY29uID0gdGhpcy5zZXR0aW5ncy5zaG93QmFja2xpbmtzID8gXCJjaGVja1wiIDogXCJcIjtcclxuXHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0aXRlbVxyXG5cdFx0XHRcdC5zZXRUaXRsZShcInNob3cgMi1ob3AgYmFja2xpbmtzXCIpXHJcblx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnNob3dCYWNrbGlua3MgPSAhdGhpcy5zZXR0aW5ncy5zaG93QmFja2xpbmtzO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLCBmYWxzZSk7XHJcblx0XHRcdFx0fSksXHJcblx0XHQpO1xyXG5cclxuXHRcdG1lbnUuYWRkU2VwYXJhdG9yKCk7XHJcblxyXG5cdFx0aWNvbiA9IHRoaXMuc2V0dGluZ3MudG9vbHRpcFByZXZpZXcgPyBcImNoZWNrXCIgOiBcIlwiO1xyXG5cdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRpdGVtXHJcblx0XHRcdFx0LnNldFRpdGxlKFwic2hvdyB0b29sdGlwIHByZXZpZXdcIilcclxuXHRcdFx0XHQuc2V0SWNvbihpY29uKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MudG9vbHRpcFByZXZpZXcgPSAhdGhpcy5zZXR0aW5ncy50b29sdGlwUHJldmlldztcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgZmFsc2UpO1xyXG5cdFx0XHRcdH0pLFxyXG5cdFx0KTtcclxuXHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0fSk7XHJcbn1cclxuXHJcbi8vIFx1OEEyRFx1NUI5QVx1MzBEQ1x1MzBCRlx1MzBGMyBGb2xkZXIgdmlld1xyXG5mdW5jdGlvbiB1aVNldHRpbmdGb2xkZXJWaWV3KHBhcmVudEVsOiBIVE1MRWxlbWVudCwgaW5zdGFuY2U6IE11bHRpcGxlTm90ZXNPdXRsaW5lRm9sZGVyVmlldyk6IHZvaWQge1xyXG5cdGNvbnN0IG5hdkFjdGlvbkJ1dHRvbiA9IHBhcmVudEVsLmNyZWF0ZURpdihcImNsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uXCIpO1xyXG5cdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcIm9wZW4gc2V0dGluZ3NcIjtcclxuXHRzZXRJY29uKG5hdkFjdGlvbkJ1dHRvbiwgXCJzZXR0aW5nc1wiKTtcclxuXHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0dGhpcy5hcHAuc2V0dGluZy5vcGVuKCk7XHJcblx0XHR0aGlzLmFwcC5zZXR0aW5nLm9wZW5UYWJCeUlkKHRoaXMucGx1Z2luLm1hbmlmZXN0LmlkKTtcclxuXHR9KTtcclxuXHJcblx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xyXG5cclxuXHRcdC8vIFx1NTQwNFx1ODk4MVx1N0QyMFx1MzA2RVx1ODg2OFx1NzkzQVx1OTc1RVx1ODg2OFx1NzkzQVxyXG5cdFx0Zm9yIChjb25zdCBlbGVtZW50IGluIHRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzKSB7XHJcblx0XHRcdGNvbnN0IGljb24gPSB0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50c1tlbGVtZW50XSA9PSB0cnVlID8gXCJjaGVja1wiIDogXCJcIjtcclxuXHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdC5zZXRUaXRsZShgc2hvdyAke2VsZW1lbnR9YClcclxuXHRcdFx0XHRcdC5zZXRJY29uKGljb24pXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzW2VsZW1lbnRdID0gIXRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzW2VsZW1lbnRdO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgZmFsc2UpO1xyXG5cdFx0XHRcdFx0fSksXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RWxlbWVudHMubGlzdEl0ZW1zKSB7XHJcblx0XHRcdGNvbnN0IGljb24gPSB0aGlzLnNldHRpbmdzLnRhc2tPbmx5ID8gXCJjaGVja1wiIDogXCJcIjtcclxuXHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdC5zZXRUaXRsZShcInRhc2tzIG9ubHlcIilcclxuXHRcdFx0XHRcdC5zZXRJY29uKGljb24pXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MudGFza09ubHkgPSAhdGhpcy5zZXR0aW5ncy50YXNrT25seTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsIGZhbHNlKTtcclxuXHRcdFx0XHRcdH0pLFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBpY29uID0gdGhpcy5zZXR0aW5ncy5zaG93QmFja2xpbmtzID8gXCJjaGVja1wiIDogXCJcIjtcclxuXHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0aXRlbVxyXG5cdFx0XHRcdC5zZXRUaXRsZShcInNob3cgMi1ob3AgYmFja2xpbmtzXCIpXHJcblx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnNob3dCYWNrbGlua3MgPSAhdGhpcy5zZXR0aW5ncy5zaG93QmFja2xpbmtzO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLCBmYWxzZSk7XHJcblx0XHRcdFx0fSksXHJcblx0XHQpO1xyXG5cclxuXHRcdG1lbnUuYWRkU2VwYXJhdG9yKCk7XHJcblxyXG5cdFx0aWNvbiA9IHRoaXMuc2V0dGluZ3MudG9vbHRpcFByZXZpZXcgPyBcImNoZWNrXCIgOiBcIlwiO1xyXG5cdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRpdGVtXHJcblx0XHRcdFx0LnNldFRpdGxlKFwic2hvdyB0b29sdGlwIHByZXZpZXdcIilcclxuXHRcdFx0XHQuc2V0SWNvbihpY29uKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MudG9vbHRpcFByZXZpZXcgPSAhdGhpcy5zZXR0aW5ncy50b29sdGlwUHJldmlldztcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgZmFsc2UpO1xyXG5cdFx0XHRcdH0pLFxyXG5cdFx0KTtcclxuXHJcblx0XHRtZW51LmFkZFNlcGFyYXRvcigpO1xyXG5cclxuXHRcdGljb24gPSB0aGlzLnNldHRpbmdzLmNvbGxhcHNlRm9sZGVyID8gXCJjaGVja1wiIDogXCJcIjtcclxuXHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0aXRlbVxyXG5cdFx0XHRcdC5zZXRUaXRsZShcImNvbGxhcHNlIHN1YmZvbGRlclwiKVxyXG5cdFx0XHRcdC5zZXRJY29uKGljb24pXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5jb2xsYXBzZUZvbGRlciA9ICF0aGlzLnNldHRpbmdzLmNvbGxhcHNlRm9sZGVyO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KHRydWUsIHRydWUpO1xyXG5cdFx0XHRcdH0pLFxyXG5cdFx0KTtcclxuXHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVpVG9nZ2xlSGVhZGluZyhwYXJlbnRFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRjb25zdCBuYXZBY3Rpb25CdXR0b24gPSBwYXJlbnRFbC5jcmVhdGVEaXYoXCJjbGlja2FibGUtaWNvbiBuYXYtYWN0aW9uLWJ1dHRvblwiKTtcclxuXHRuYXZBY3Rpb25CdXR0b24uYXJpYUxhYmVsID0gXCJ0b2dnbGUgaGVhZGluZ3NcIjtcclxuXHRzZXRJY29uKG5hdkFjdGlvbkJ1dHRvbiwgXCJoZWFkaW5nXCIpO1xyXG5cdGlmICh0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50cy5oZWFkaW5nKSB7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uY2xhc3NMaXN0LmFkZChcImlzLWFjdGl2ZVwiKTtcclxuXHR9XHJcblx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdHRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmhlYWRpbmcgPSAhdGhpcy5zZXR0aW5ncy5zaG93RWxlbWVudHMuaGVhZGluZztcclxuXHRcdC8vIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgZmFsc2UpO1xyXG5cdH0pO1xyXG5cdG5hdkFjdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuXHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4gaXRlbS5zZXRUaXRsZShcImhlYWRpbmcgbGV2ZWwgdG8gZGlzcGxheVwiKSk7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuXHRcdFx0Y29uc3QgZGlzcFRleHQgPSBpID09IDAgPyBcIkgxXCIgOiBcIkgxIC0gSFwiICsgKGkgKyAxKS50b1N0cmluZygpO1xyXG5cdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XHJcblx0XHRcdFx0aXRlbS5zZXRUaXRsZShkaXNwVGV4dCkub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLm1heEhlYWRpbmdMZXZlbCA9IGkgKyAxO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLCBmYWxzZSk7XHJcblx0XHRcdFx0fSksXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0XHRtZW51LnNob3dBdE1vdXNlRXZlbnQoZXZlbnQpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1aVRvZ2dsZUxpbmsocGFyZW50RWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0Y29uc3QgbmF2QWN0aW9uQnV0dG9uID0gcGFyZW50RWwuY3JlYXRlRGl2KFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIik7XHJcblx0bmF2QWN0aW9uQnV0dG9uLmFyaWFMYWJlbCA9IFwidG9nZ2xlIGxpbmtzXCI7XHJcblx0c2V0SWNvbihuYXZBY3Rpb25CdXR0b24sIFwibGlua1wiKTtcclxuXHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RWxlbWVudHMubGluaykge1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJpcy1hY3RpdmVcIik7XHJcblx0fVxyXG5cdG5hdkFjdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHR0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50cy5saW5rID0gIXRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpbms7XHJcblx0XHQvLyBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsIGZhbHNlKTtcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdWlUb2dnbGVMaXN0SXRlbXMocGFyZW50RWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0Y29uc3QgbmF2QWN0aW9uQnV0dG9uID0gcGFyZW50RWwuY3JlYXRlRGl2KFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIik7XHJcblx0bmF2QWN0aW9uQnV0dG9uLmFyaWFMYWJlbCA9IFwidG9nZ2xlIGxpc3QgaXRlbXNcIjtcclxuXHRzZXRJY29uKG5hdkFjdGlvbkJ1dHRvbiwgXCJsaXN0XCIpO1xyXG5cdGlmICh0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50cy5saXN0SXRlbXMpIHtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpO1xyXG5cdH1cclxuXHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0dGhpcy5zZXR0aW5ncy5zaG93RWxlbWVudHMubGlzdEl0ZW1zID0gIXRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpc3RJdGVtcztcclxuXHRcdC8vIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgZmFsc2UpO1xyXG5cdH0pO1xyXG59XHJcblxyXG4vLyBcdTMwRDBcdTMwQzNcdTMwQUZcdTMwRUFcdTMwRjNcdTMwQUZcdTMwQUFcdTMwRjNcdTMwQUFcdTMwRDVcclxuZnVuY3Rpb24gdWlUb2dnbGVCYWNrbGlua3MocGFyZW50RWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0Y29uc3QgbmF2QWN0aW9uQnV0dG9uID0gcGFyZW50RWwuY3JlYXRlRGl2KFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIik7XHJcblx0bmF2QWN0aW9uQnV0dG9uLmFyaWFMYWJlbCA9IFwidG9nZ2xlIGJhY2tsaW5rc1wiO1xyXG5cdHNldEljb24obmF2QWN0aW9uQnV0dG9uLCBcImxpbmtzLWNvbWluZy1pblwiKTtcclxuXHRpZiAodGhpcy5zZXR0aW5ncy5zaG93QmFja2xpbmtzKSB7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uY2xhc3NMaXN0LmFkZChcImlzLWFjdGl2ZVwiKTtcclxuXHR9XHJcblx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdHRoaXMuc2V0dGluZ3Muc2hvd0JhY2tsaW5rcyA9ICF0aGlzLnNldHRpbmdzLnNob3dCYWNrbGlua3M7XHJcblx0XHQvLyBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsIGZhbHNlKTtcclxuXHR9KTtcclxufVxyXG5cclxuLy9cdTYyQkRcdTUxRkFcclxuLy8gZnVuY3Rpb24gdWlFeHRyYWN0IChwYXJlbnRFbDpIVE1MRWxlbWVudCk6dm9pZHtcclxuLy8gICAgIGxldCBuYXZBY3Rpb25CdXR0b24gPSBwYXJlbnRFbC5jcmVhdGVEaXYoXCJjbGlja2FibGUtaWNvbiBuYXYtYWN0aW9uLWJ1dHRvblwiKTtcclxuLy8gICAgIGlmICghdGhpcy5leHRyYWN0TW9kZSl7XHJcbi8vICAgICAgICAgLy9cdTYyQkRcdTUxRkFcdTMwOTJcdTMwQUFcdTMwRjNcdTMwNkJcclxuLy8gICAgICAgICBuYXZBY3Rpb25CdXR0b24uYXJpYUxhYmVsID0gXCJleHRyYWN0XCI7XHJcbi8vICAgICAgICAgc2V0SWNvbihuYXZBY3Rpb25CdXR0b24sXCJzZWFyY2hcIik7XHJcbi8vICAgICAgICAgbmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcbi8vICAgICAgICAgICAgIFwiY2xpY2tcIixcclxuLy8gICAgICAgICAgICAgYXN5bmMgKGV2ZW50Ok1vdXNlRXZlbnQpID0+e1xyXG4vLyAgICAgICAgICAgICAgICAgLy9cdTUxNjVcdTUyOUJcdTMwRTJcdTMwRkNcdTMwQzBcdTMwRUJcdTMwOTJcdTk1OEJcdTMwNEZcclxuLy8gICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0O1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc3Qgb25TdWJtaXQgPSAoZW5hYmxlRXh0cmFjdDogYm9vbGVhbikgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmIChlbmFibGVFeHRyYWN0KXtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRyYWN0TW9kZSA9IHRydWU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgICAgICBuZXcgTW9kYWxFeHRyYWN0KHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgb25TdWJtaXQpLm9wZW4oKTtcclxuLy8gICAgICAgICAgICAgfSk7XHJcbi8vICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgIC8vXHU2MkJEXHU1MUZBXHUzMDkyXHUzMEFBXHUzMEQ1XHUzMDZCXHJcbi8vICAgICAgICAgbmF2QWN0aW9uQnV0dG9uLmFyaWFMYWJlbCA9IFwidW5leHRyYWN0XCI7XHJcbi8vICAgICAgICAgc2V0SWNvbihuYXZBY3Rpb25CdXR0b24sXCJ4LWNpcmNsZVwiKTtcclxuLy8gICAgICAgICBuYXZBY3Rpb25CdXR0b24uY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XHJcbi8vICAgICAgICAgbmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcbi8vICAgICAgICAgXCJjbGlja1wiLFxyXG4vLyAgICAgICAgICAgICBhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmV4dHJhY3RNb2RlID0gZmFsc2U7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmV4dHJhY3RUYXNrID0gZmFsc2U7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlKTtcclxuXHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgbmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcbi8vICAgICAgICAgXCJjb250ZXh0bWVudVwiLFxyXG4vLyAgICAgICAgIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4vLyAgICAgICAgICAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuLy8gICAgICAgICAgICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG4vLyAgICAgICAgICAgICAgICAgaXRlbVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIC5zZXRUaXRsZShcImV4dHJhY3QgdGFza3NcIilcclxuLy8gICAgICAgICAgICAgICAgICAgICAuc2V0SWNvbihcImNoZWNrLXNxdWFyZVwiKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dHJhY3RNb2RlID0gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRyYWN0VGFzayA9IHRydWU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICk7XHJcbi8vICAgICAgICAgICAgIG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgKTtcclxuLy8gfVxyXG5cclxuLy9cdTUxNjhcdTRGNTNcdTMwRDVcdTMwQTlcdTMwRkNcdTMwRUJcdTMwQzlcclxuXHJcbmZ1bmN0aW9uIHVpQ29sbGFwc2UocGFyZW50RWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0Y29uc3QgbmF2QWN0aW9uQnV0dG9uID0gcGFyZW50RWwuY3JlYXRlRGl2KFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIik7XHJcblx0aWYgKHRoaXMuY29sbGFwc2VBbGwpIHtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpO1xyXG5cdH1cclxuXHRpZiAoIXRoaXMuY29sbGFwc2VBbGwpIHtcclxuXHRcdC8vXHU1MTY4XHU0RjUzXHUzMEQ1XHUzMEE5XHUzMEZDXHUzMEVCXHUzMEM5XHUzMDkyXHUzMEFBXHUzMEYzXHUzMDZCXHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYXJpYUxhYmVsID0gXCJjb2xsYXBzZSBhbGxcIjtcclxuXHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLCBcImNoZXZyb25zLWRvd24tdXBcIik7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHR0aGlzLmNvbGxhcHNlQWxsID0gdHJ1ZTtcclxuXHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgZmFsc2UpO1xyXG5cdFx0fSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdC8vXHU1MTY4XHU0RjUzXHUzMEQ1XHUzMEE5XHUzMEZDXHUzMEVCXHUzMEM5XHUzMDkyXHUzMEFBXHUzMEQ1XHUzMDZCXHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYXJpYUxhYmVsID0gXCJleHBhbmRcIjtcclxuXHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLCBcImNoZXZyb25zLWRvd24tdXBcIik7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHR0aGlzLmNvbGxhcHNlQWxsID0gZmFsc2U7XHJcblx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsIGZhbHNlKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwLCBTdWdnZXN0TW9kYWwsIFRBYnN0cmFjdEZpbGUsIFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IE11bHRpcGxlTm90ZXNPdXRsaW5lVmlldyB9IGZyb20gXCIuL2ZpbGVWaWV3XCI7XHJcbmltcG9ydCB7IE11bHRpcGxlTm90ZXNPdXRsaW5lRm9sZGVyVmlldyB9IGZyb20gXCIuL2ZvbGRlclZpZXdcIjtcclxuaW1wb3J0IHsgTXVsdGlwbGVOb3Rlc091dGxpbmVTZXR0aW5ncyB9IGZyb20gXCIuL21haW5cIjtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVGYXZBbmRSZWNlbnQodGFyZ2V0UGF0aDogc3RyaW5nLCBjYXRlZ29yeTogJ2ZpbGUnfCdmb2xkZXInLCBzdWdnZXN0VHlwZTogJ3JlY2VudCd8J2Zhdm9yaXRlJyk6UHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0aGlzLnNldHRpbmdzW3N1Z2dlc3RUeXBlXVtjYXRlZ29yeV0gPSB0aGlzLnNldHRpbmdzW3N1Z2dlc3RUeXBlXVtjYXRlZ29yeV0uZmlsdGVyKFxyXG4gICAgICAgICh2YWx1ZTogc3RyaW5nKSA9PiB0YXJnZXRQYXRoICE9PSB2YWx1ZVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLnNldHRpbmdzW3N1Z2dlc3RUeXBlXVtjYXRlZ29yeV0udW5zaGlmdCh0YXJnZXRQYXRoKTtcclxuXHJcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5yZWNlbnRbY2F0ZWdvcnldLmxlbmd0aCA+IHRoaXMuc2V0dGluZ3MubnVtT2ZSZWNlbnRGaWxlcyl7XHJcbiAgICAgICAgY29uc3QgbnVtVG9EZWxldGUgPSB0aGlzLnNldHRpbmdzLnJlY2VudFtjYXRlZ29yeV0ubGVuZ3RoIC0gdGhpcy5zZXR0aW5ncy5udW1PZlJlY2VudEZpbGVzO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTwgbnVtVG9EZWxldGU7IGkrKyl7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucmVjZW50W2NhdGVnb3J5XS5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5zYXZlUmVjZW50VmlldyB8fCB0aGlzLnN1Z2dlc3RUeXBlID09J2Zhdm9yaXRlJyl7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVGYXZBbmRSZWNlbnQodGFyZ2V0UGF0aDogc3RyaW5nLCBjYXRlZ29yeTogJ2ZpbGUnfCdmb2xkZXInLCBzdWdnZXN0VHlwZTogJ3JlY2VudCd8J2Zhdm9yaXRlJyk6UHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0aGlzLnNldHRpbmdzW3N1Z2dlc3RUeXBlXVtjYXRlZ29yeV0gPSB0aGlzLnNldHRpbmdzW3N1Z2dlc3RUeXBlXVtjYXRlZ29yeV0uZmlsdGVyKFxyXG4gICAgICAgICh2YWx1ZTogc3RyaW5nKSA9PiB0YXJnZXRQYXRoICE9PSB2YWx1ZVxyXG4gICAgKTtcclxuICAgIGlmICh0aGlzLnNldHRpbmdzLnNhdmVSZWNlbnRWaWV3IHx8IHRoaXMuc3VnZ2VzdFR5cGUgPT0nZmF2b3JpdGUnKXtcclxuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1vZGFsSnVtcCBleHRlbmRzIFN1Z2dlc3RNb2RhbDxzdHJpbmc+e1xyXG5cclxuICAgIC8vcGx1Z2luOiBNdWx0aXBsZU5vdGVzT3V0bGluZVBsdWdpbjtcclxuICAgIHZpZXc6IE11bHRpcGxlTm90ZXNPdXRsaW5lVmlldyB8IE11bHRpcGxlTm90ZXNPdXRsaW5lRm9sZGVyVmlldztcclxuICAgIGNhdGVnb3J5OiAnZmlsZSd8J2ZvbGRlcic7XHJcbiAgICBzdWdnZXN0VHlwZTogJ3JlY2VudCd8J2Zhdm9yaXRlJztcclxuICAgIG9uU3VibWl0OiAoaXRlbTogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICBcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIGFwcDogQXBwLFxyXG4gICAgICAgIHZpZXc6IE11bHRpcGxlTm90ZXNPdXRsaW5lVmlldyB8IE11bHRpcGxlTm90ZXNPdXRsaW5lRm9sZGVyVmlldyxcclxuICAgICAgICBjYXRlZ29yeTogJ2ZpbGUnfCdmb2xkZXInLFxyXG4gICAgICAgIHN1Z2dlc3RUeXBlOiAncmVjZW50J3wnZmF2b3JpdGUnLFxyXG4gICAgICAgIG9uU3VibWl0OiAoaXRlbTogc3RyaW5nKSA9PiB2b2lkLFxyXG4gICAgKXtcclxuICAgICAgICBzdXBlcihhcHApO1xyXG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XHJcbiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IGNhdGVnb3J5O1xyXG4gICAgICAgIHRoaXMuc3VnZ2VzdFR5cGUgPSBzdWdnZXN0VHlwZTtcclxuICAgICAgICB0aGlzLm9uU3VibWl0ID0gb25TdWJtaXQ7XHJcbiAgICB9XHJcblxyXG4gICAgb25PcGVuKCk6IHZvaWR7XHJcbiAgICAgICAgdGhpcy5zZXRQbGFjZWhvbGRlcihcIkp1bXAgdG8gXCIrdGhpcy5zdWdnZXN0VHlwZStcIiBcIit0aGlzLmNhdGVnb3J5K1wic1wiKTtcclxuICAgICAgICB0aGlzLnNldEluc3RydWN0aW9ucyhbXHJcbiAgICAgICAgICAgIHsgY29tbWFuZDogXCJFbnRlclwiLCBwdXJwb3NlOiBcIkp1bXAgdG8gaXRlbVwifSxcclxuICAgICAgICAgICAgeyBjb21tYW5kOiBcIkN0cmwgKyBFbnRlclwiLCBwdXJwb3NlOiBcIkFkZCB0byBGYXZvcml0ZXNcIn0sXHJcbiAgICAgICAgICAgIHsgY29tbWFuZDogXCJEZWxldGVcIiwgcHVycG9zZTogXCJSZW1vdmUgZnJvbSB0aGUgbGlzdFwifSxcclxuICAgICAgICAgICAgeyBjb21tYW5kOiBcIkVTQ1wiLCBwdXJwb3NlOiBcIkRpc21pc3NcIn1cclxuICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgdGhpcy5zY29wZS5yZWdpc3RlcihbJ0N0cmwnXSwgJ0VudGVyJywgXHJcblx0XHRcdChldnQ6IEtleWJvYXJkRXZlbnQpPT57XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5jaG9vc2VyLnZhbHVlcz8uW3RoaXMuY2hvb3Nlci5zZWxlY3RlZEl0ZW1dO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlRmF2QW5kUmVjZW50LmNhbGwodGhpcy52aWV3LCBpdGVtLCB0aGlzLmNhdGVnb3J5LCAnZmF2b3JpdGUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0fVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5zY29wZS5yZWdpc3RlcihbXSwgJ0RlbGV0ZScsIFxyXG5cdFx0XHQoZXZ0OiBLZXlib2FyZEV2ZW50KT0+e1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuY2hvb3Nlci52YWx1ZXM/Llt0aGlzLmNob29zZXIuc2VsZWN0ZWRJdGVtXTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZUZhdkFuZFJlY2VudC5jYWxsKHRoaXMudmlldywgaXRlbSwgdGhpcy5jYXRlZ29yeSwgdGhpcy5zdWdnZXN0VHlwZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcblx0XHRcdH1cclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHN1cGVyLm9uT3BlbigpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXRTdWdnZXN0aW9ucyhxdWVyeTpzdHJpbmcpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5wbHVnaW4uc2V0dGluZ3NbdGhpcy5zdWdnZXN0VHlwZV1bdGhpcy5jYXRlZ29yeV0uZmlsdGVyKCh0YXJnZXQpPT5cclxuICAgICAgICAgICAgdGFyZ2V0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyU3VnZ2VzdGlvbih2YWx1ZTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBlbC5jcmVhdGVFbChcImRpdlwiLCB7IHRleHQ6IHZhbHVlfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25DaG9vc2VTdWdnZXN0aW9uKGl0ZW06IHN0cmluZywgZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgICAgIHVwZGF0ZUZhdkFuZFJlY2VudC5jYWxsKHRoaXMudmlldywgaXRlbSwgdGhpcy5jYXRlZ29yeSwgdGhpcy5zdWdnZXN0VHlwZSk7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldy5zZXR0aW5ncy5zYXZlUmVjZW50VmlldyB8fCB0aGlzLnN1Z2dlc3RUeXBlID09ICdmYXZvcml0ZScpe1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnZpZXcucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIH1cclxuXHRcdHRoaXMub25TdWJtaXQoaXRlbSk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbi8vIGZhdm9yaXRlXHUzMDg0cmVjZW50XHUzMDZFcmVuYW1lXHUzMDZCXHU1QkZFXHU1RkRDXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUmVuYW1lRmF2QW5kUmVjZW50RmlsZXMocmVuYW1lZEZpbGU6IFRBYnN0cmFjdEZpbGUsIG9sZFBhdGg6IHN0cmluZywgc2V0dGluZ3M6IE11bHRpcGxlTm90ZXNPdXRsaW5lU2V0dGluZ3MpOmJvb2xlYW57XHJcbiAgICBjb25zdCByZW5hbWVUeXBlOidmaWxlJ3wnZm9sZGVyJyA9IChyZW5hbWVkRmlsZSBpbnN0YW5jZW9mIFRGaWxlKT8gJ2ZpbGUnOiAnZm9sZGVyJztcclxuICAgIGxldCByZW5hbWVkID0gZmFsc2U7XHJcbiAgICBmb3IgKGxldCBpPTA7IGk8IHNldHRpbmdzLnJlY2VudFtyZW5hbWVUeXBlXS5sZW5ndGg7IGkrKyApe1xyXG4gICAgICAgIGlmIChzZXR0aW5ncy5yZWNlbnRbcmVuYW1lVHlwZV1baV0gPT0gb2xkUGF0aCl7XHJcbiAgICAgICAgICAgIHNldHRpbmdzLnJlY2VudFtyZW5hbWVUeXBlXVtpXSA9IHJlbmFtZWRGaWxlLnBhdGg7XHJcbiAgICAgICAgICAgIHJlbmFtZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZvciAobGV0IGk9MDsgaTwgc2V0dGluZ3MuZmF2b3JpdGVbcmVuYW1lVHlwZV0ubGVuZ3RoOyBpKysgKXtcclxuICAgICAgICBpZiAoc2V0dGluZ3MuZmF2b3JpdGVbcmVuYW1lVHlwZV1baV0gPT0gb2xkUGF0aCl7XHJcbiAgICAgICAgICAgIHNldHRpbmdzLmZhdm9yaXRlW3JlbmFtZVR5cGVdW2ldID0gcmVuYW1lZEZpbGUucGF0aDtcclxuICAgICAgICAgICAgcmVuYW1lZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlbmFtZWQ7XHJcbn1cclxuXHJcbi8vIGZhdm9yaXRlXHUzMDg0cmVjZW50XHUzMDZFZGVsZXRlXHUzMDZCXHU1QkZFXHU1RkRDXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRGVsZXRlRmF2QW5kUmVjZW50RmlsZXMoZGVsZXRlZEZpbGU6IFRBYnN0cmFjdEZpbGUsIHNldHRpbmdzOiBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzKTpib29sZWFue1xyXG4gICAgY29uc3QgZGVsZXRlVHlwZTonZmlsZSd8J2ZvbGRlcicgPSAoZGVsZXRlZEZpbGUgaW5zdGFuY2VvZiBURmlsZSk/ICdmaWxlJzogJ2ZvbGRlcic7XHJcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xyXG4gICAgZm9yIChsZXQgaT0wOyBpPCBzZXR0aW5ncy5yZWNlbnRbZGVsZXRlVHlwZV0ubGVuZ3RoOyBpKysgKXtcclxuICAgICAgICBpZiAoc2V0dGluZ3MucmVjZW50W2RlbGV0ZVR5cGVdW2ldID09IGRlbGV0ZWRGaWxlLnBhdGgpe1xyXG4gICAgICAgICAgICBzZXR0aW5ncy5yZWNlbnRbZGVsZXRlVHlwZV0uc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZvciAobGV0IGk9MDsgaTwgc2V0dGluZ3MuZmF2b3JpdGVbZGVsZXRlVHlwZV0ubGVuZ3RoOyBpKysgKXtcclxuICAgICAgICBpZiAoc2V0dGluZ3MuZmF2b3JpdGVbZGVsZXRlVHlwZV1baV0gPT0gZGVsZXRlZEZpbGUucGF0aCl7XHJcbiAgICAgICAgICAgIHNldHRpbmdzLmZhdm9yaXRlW2RlbGV0ZVR5cGVdLnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICBkZWxldGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGVsZXRlZDtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja0ZhdkFuZFJlY2VudEZpbGVzKGFwcDpBcHAsIHNldHRpbmdzOiBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzLCBjaGVja1R5cGU6ICdmaWxlJ3wnZm9sZGVyJyk6dm9pZHtcclxuICAgIGZvciAobGV0IGk9MDsgaTwgc2V0dGluZ3MuZmF2b3JpdGVbY2hlY2tUeXBlXS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgaWYoIWFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoc2V0dGluZ3MuZmF2b3JpdGVbY2hlY2tUeXBlXVtpXSkpe1xyXG4gICAgICAgICAgICBzZXR0aW5ncy5mYXZvcml0ZVtjaGVja1R5cGVdLnNwbGljZShpLDEpO1xyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpPTA7IGk8IHNldHRpbmdzLnJlY2VudFtjaGVja1R5cGVdLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICBpZighYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChzZXR0aW5ncy5yZWNlbnRbY2hlY2tUeXBlXVtpXSkpe1xyXG4gICAgICAgICAgICBzZXR0aW5ncy5yZWNlbnRbY2hlY2tUeXBlXS5zcGxpY2UoaSwxKTtcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IFRGaWxlLCBzZXRJY29uLCBNZW51LCBNYXJrZG93blZpZXcsIEFwcCwgc2V0VG9vbHRpcCwgcGFyc2VMaW5rdGV4dCwgc3RyaXBIZWFkaW5nRm9yTGluaywgUG9zIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG5pbXBvcnQgeyBPdXRsaW5lRGF0YSwgRmlsZUluZm8sIE11bHRpcGxlTm90ZXNPdXRsaW5lU2V0dGluZ3MgfSBmcm9tIFwic3JjL21haW5cIjtcclxuaW1wb3J0IHsgTXVsdGlwbGVOb3Rlc091dGxpbmVWaWV3VHlwZSwgQ2F0ZWdvcnkgfSBmcm9tIFwiLi9maWxlVmlld1wiO1xyXG5pbXBvcnQgeyBjaGVja0xpc3RDYWxsb3V0cywgZ2V0U3VicGF0aFBvc2l0aW9uLCBzaG91bGREaXNwbGF5TGlzdEl0ZW0gfSBmcm9tIFwic3JjL3V0aWxcIjtcclxuXHJcbmltcG9ydCB7IHJlbW90ZSB9IGZyb20gXCJlbGVjdHJvblwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0cnVjdE91dGxpbmVET00oXHJcblx0ZmlsZTogVEZpbGUsXHJcblx0aW5mbzogRmlsZUluZm8sXHJcblx0ZGF0YTogT3V0bGluZURhdGFbXSxcclxuXHRwYXJlbnRFbDogSFRNTEVsZW1lbnQsXHJcblx0Y2F0ZWdvcnk6IENhdGVnb3J5LFxyXG4pOiB2b2lkIHtcclxuXHQvLyBpbmNsdWRlIG1vZGUgXHU3NTI4XHUzMDZFXHU1OTA5XHU2NTcwXHUzMDkyXHU1QkEzXHU4QTAwIGZpbHRlclx1OTVBMlx1OTAyM1x1MzBCM1x1MzBFMVx1MzBGM1x1MzBDOFx1MzBBMlx1MzBBNlx1MzBDOFxyXG5cdC8vIGxldCBpc0luY2x1ZGVkID0gdGhpcy5zZXR0aW5ncy5pbmNsdWRlQmVnaW5uaW5nO1xyXG5cdC8vIGxldCBpbmNsdWRlTW9kZUhlYWRpbmdMZXZlbDogbnVtYmVyO1xyXG5cclxuXHQvLyBleGNsdWRlIG1vZGUgXHU3NTI4XHU1OTA5XHU2NTcwIGZpbHRlclx1OTVBMlx1OTAyM1x1MzBCM1x1MzBFMVx1MzBGM1x1MzBDOFx1MzBBMlx1MzBBNlx1MzBDOFxyXG5cdC8vIGxldCBpc0V4Y2x1ZGVkID0gZmFsc2U7XHJcblx0Ly8gbGV0IGV4Y2x1ZGVUeXBlOiBzdHJpbmc7XHJcblx0Ly8gbGV0IGV4Y2x1ZGVNb2RlSGVhZGluZ0xldmVsOiBudW1iZXI7XHJcblx0Ly8gbGV0IHByaW1lVHlwZSA9IHRoaXMuc2V0dGluZ3MuaW5jbHVkZU9ubHkgPT0gJ25vbmUnID8gdGhpcy5zZXR0aW5ncy5wcmltZUVsZW1lbnQgOiB0aGlzLnNldHRpbmdzLmluY2x1ZGVPbmx5O1xyXG5cclxuXHQvLyBleHRyYWN0IFx1MzBERVx1MzBDM1x1MzBDMVx1MzA1OVx1MzA4Qlx1OTgwNVx1NzZFRVx1MzA0Q1x1MzA0Mlx1MzA2M1x1MzA1Rlx1MzA0Qlx1MzA2OVx1MzA0Nlx1MzA0QiBmaWx0ZXJcdTk1QTJcdTkwMjNcdTMwQjNcdTMwRTFcdTMwRjNcdTMwQzhcdTMwQTJcdTMwQTZcdTMwQzhcclxuXHQvLyBsZXQgaXNFeHRyYWN0ZWQgPSBmYWxzZTtcclxuXHJcblx0Y29uc3QgaXNDYW52YXMgPSBCb29sZWFuKGZpbGUuZXh0ZW5zaW9uID09IFwiY2FudmFzXCIpO1xyXG5cclxuXHQvLyBwcm9wZXJ0aWVzXHUzMDZFXHU1MUU2XHU3NDA2XHJcblx0aWYgKFxyXG5cdFx0dGhpcy5zZXR0aW5ncy5zaG93UHJvcGVydHlMaW5rcyAmJlxyXG5cdFx0aW5mby5mcm9udG1hdHRlckxpbmtzICYmXHJcblx0XHQhKGNhdGVnb3J5ID09IFwib3V0Z29pbmdcIiAmJiB0aGlzLnNldHRpbmdzLmhpZGVNaW5vcjJob3BMaW5rKVxyXG5cdCkge1xyXG5cdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBpbmZvLmZyb250bWF0dGVyTGlua3MubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0Y29uc3QgbGlua1RhcmdldCA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Rmlyc3RMaW5rcGF0aERlc3QoXHJcblx0XHRcdFx0cGFyc2VMaW5rdGV4dChpbmZvLmZyb250bWF0dGVyTGlua3Nbal0ubGluaykucGF0aCxcclxuXHRcdFx0XHRmaWxlLnBhdGgsXHJcblx0XHRcdCk7XHJcblx0XHRcdGlmICghKGxpbmtUYXJnZXQgaW5zdGFuY2VvZiBURmlsZSkpIHtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCBsaW5rU3VicGF0aCA9IHBhcnNlTGlua3RleHQoaW5mby5mcm9udG1hdHRlckxpbmtzW2pdLmxpbmspLnN1YnBhdGg7XHJcblx0XHRcdGNvbnN0IHN1YlBhdGhQb3NpdGlvbiA9IGdldFN1YnBhdGhQb3NpdGlvbih0aGlzLmFwcCwgbGlua1RhcmdldCwgbGlua1N1YnBhdGgpO1xyXG5cdFx0XHQvLyBcdTYyQkRcdTUxRkEgZXh0cmFjdCAgZmlsdGVyXHU5NUEyXHU5MDIzXHUzMEIzXHUzMEUxXHUzMEYzXHUzMEM4XHUzMEEyXHUzMEE2XHUzMEM4XHJcblx0XHRcdC8vIGlmICh0aGlzLmV4dHJhY3RNb2RlID09IHRydWUpIHtcclxuXHRcdFx0Ly8gXHRpZiAodGhpcy5leHRyYWN0VGFzayA9PSB0cnVlIHx8ICFpbmZvW2ldLmZyb250bWF0dGVyTGlua3Nbal0uZGlzcGxheVRleHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0aGlzLnNldHRpbmdzLndvcmRzVG9FeHRyYWN0LnRvTG93ZXJDYXNlKCkpKXtcclxuXHRcdFx0Ly8gXHRcdGNvbnRpbnVlO1xyXG5cdFx0XHQvLyBcdH0gZWxzZSB7XHJcblx0XHRcdC8vIFx0XHRpc0V4dHJhY3RlZCA9IHRydWU7XHJcblx0XHRcdC8vIFx0fVxyXG5cdFx0XHQvLyB9XHJcblxyXG5cdFx0XHQvLyBoaWRlTGlua3NCZXR3ZWVuUmVsYXRlZEZpbGVzXHUzMDZFXHU4QTJEXHU1QjlBXHUzMDZCXHU1RjkzXHUzMDYzXHUzMDY2XHU5MUNEXHU4OTA3XHU5NjY0XHU1OTE2XHJcblx0XHRcdGlmICghY2hlY2tMaW5rc0JldHdlZW5SZWxhdGVkRmlsZXMobGlua1RhcmdldCwgY2F0ZWdvcnksIHRoaXMuc2V0dGluZ3MsIHRoaXMudGFyZ2V0RmlsZXMpKSB7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gaWYgKHRoaXMuc2V0dGluZ3MuaGlkZUxpbmtzQmV0d2VlblJlbGF0ZWRGaWxlcyA9PSBcIm1haW5Pbmx5XCIpIHtcclxuXHRcdFx0Ly8gXHRpZiAoY2F0ZWdvcnkgPT0gXCJtYWluXCIpIHtcclxuXHRcdFx0Ly8gXHRcdGNvbnRpbnVlO1xyXG5cdFx0XHQvLyBcdH1cclxuXHRcdFx0Ly8gXHRpZiAobGlua1RhcmdldC5wYXRoID09IHRoaXMudGFyZ2V0RmlsZXMubWFpbj8uWzBdLnBhdGgpIHtcclxuXHRcdFx0Ly8gXHRcdGNvbnRpbnVlO1xyXG5cdFx0XHQvLyBcdH1cclxuXHRcdFx0Ly8gfVxyXG5cdFx0XHQvLyBpZiAodGhpcy5zZXR0aW5ncy5oaWRlTGlua3NCZXR3ZWVuUmVsYXRlZEZpbGVzID09IFwidG9NYWluT25seVwiKSB7XHJcblx0XHRcdC8vIFx0aWYgKGxpbmtUYXJnZXQucGF0aCA9PSB0aGlzLnRhcmdldEZpbGVzLm1haW4/LlswXS5wYXRoKSB7XHJcblx0XHRcdC8vIFx0XHRjb250aW51ZTtcclxuXHRcdFx0Ly8gXHR9XHJcblx0XHRcdC8vIH1cclxuXHRcdFx0Ly8gaWYgKHRoaXMuc2V0dGluZ3MuaGlkZUxpbmtzQmV0d2VlblJlbGF0ZWRGaWxlcyA9PSBcImFsbFwiKSB7XHJcblx0XHRcdC8vIFx0Zm9yIChjb25zdCBjYXRlZ29yeSBpbiB0aGlzLnRhcmdldEZpbGVzKSB7XHJcblx0XHRcdC8vIFx0XHQvLyBpbmZvLmZyb250bWF0dGVyTGlua3Nbal0ubGlua1x1MzA2Qlx1NEUwMFx1ODFGNFx1MzA1OVx1MzA4Qlx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1NTQwRFx1MzA0Q1x1MzA0Mlx1MzA4Qlx1MzA0Qlx1MzA2OVx1MzA0Nlx1MzA0Qlx1MzA2RVx1NTFFNlx1NzQwNlx1MzAwMlxyXG5cdFx0XHQvLyBcdFx0aWYgKHRoaXMudGFyZ2V0RmlsZXNbY2F0ZWdvcnldLnNvbWUoKHRhcmdldGZpbGUpID0+IHRhcmdldGZpbGUucGF0aCA9PSBsaW5rVGFyZ2V0LnBhdGgpKSB7XHJcblx0XHRcdC8vIFx0XHRcdGNvbnRpbnVlIGZyb250bWF0dGVybGlua3Nsb29wO1xyXG5cdFx0XHQvLyBcdFx0fVxyXG5cdFx0XHQvLyBcdH1cclxuXHRcdFx0Ly8gfVxyXG5cclxuXHRcdFx0Y29uc3Qgb3V0bGluZUVsOiBIVE1MRWxlbWVudCA9IHBhcmVudEVsLmNyZWF0ZURpdihcInRyZWUtaXRlbSBuYXYtZmlsZVwiKTtcclxuXHRcdFx0Y29uc3Qgb3V0bGluZVRpdGxlOiBIVE1MRWxlbWVudCA9IG91dGxpbmVFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0tc2VsZiBpcy1jbGlja2FibGUgbmF2LWZpbGUtdGl0bGVcIik7XHJcblx0XHRcdHNldEljb24ob3V0bGluZVRpdGxlLCBcImxpbmtcIik7XHJcblxyXG5cdFx0XHRvdXRsaW5lVGl0bGUuc3R5bGUucGFkZGluZ0xlZnQgPSBcIjAuNWVtXCI7XHJcblx0XHRcdG91dGxpbmVUaXRsZVxyXG5cdFx0XHRcdC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0taW5uZXIgbmF2LWZpbGUtdGl0bGUtY29udGVudFwiKVxyXG5cdFx0XHRcdC5zZXRUZXh0KGluZm8uZnJvbnRtYXR0ZXJMaW5rc1tqXS5kaXNwbGF5VGV4dCk7XHJcblxyXG5cdFx0XHQvL1x1MzBBRlx1MzBFQVx1MzBDM1x1MzBBRlx1NjY0MlxyXG5cdFx0XHRvdXRsaW5lVGl0bGUuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdFx0YXN5bmMgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5vcGVuTGlua0J5Q2xpY2spIHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgb3BlbkVsZW1lbnRQb3NpdGlvbihsaW5rVGFyZ2V0LCBzdWJQYXRoUG9zaXRpb24sIHVuZGVmaW5lZCwgdGhpcy5hcHApO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmhvbGRVcGRhdGVPbmNlID0gQm9vbGVhbihsaW5rVGFyZ2V0ICE9IHRoaXMuYWN0aXZlRmlsZSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCBvcGVuRWxlbWVudFBvc2l0aW9uKGZpbGUsIG51bGwsIHVuZGVmaW5lZCwgdGhpcy5hcHApO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmhvbGRVcGRhdGVPbmNlID0gQm9vbGVhbihmaWxlICE9IHRoaXMuYWN0aXZlRmlsZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRmYWxzZSxcclxuXHRcdFx0KTtcclxuXHRcdFx0Ly9ob3ZlciBwcmV2aWV3XHJcblx0XHRcdG91dGxpbmVUaXRsZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdGlmIChsaW5rVGFyZ2V0KSB7XHJcblx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UudHJpZ2dlcihcImhvdmVyLWxpbmtcIiwge1xyXG5cdFx0XHRcdFx0XHRldmVudCxcclxuXHRcdFx0XHRcdFx0c291cmNlOiBNdWx0aXBsZU5vdGVzT3V0bGluZVZpZXdUeXBlLFxyXG5cdFx0XHRcdFx0XHRob3ZlclBhcmVudDogcGFyZW50RWwsIC8vIHJvb3RFbFx1MjE5MnBhcmVudEVsXHUzMDZCXHUzMDU3XHUzMDVGXHJcblx0XHRcdFx0XHRcdHRhcmdldEVsOiBvdXRsaW5lVGl0bGUsXHJcblx0XHRcdFx0XHRcdGxpbmt0ZXh0OiBsaW5rVGFyZ2V0LnBhdGgsXHJcblx0XHRcdFx0XHRcdHN0YXRlOiB7IHNjcm9sbDogc3ViUGF0aFBvc2l0aW9uPy5zdGFydD8ubGluZSB9LFxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGNvbnRleHRtZW51XHJcblx0XHRcdG91dGxpbmVUaXRsZS5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgbWVudSA9IG5ldyBNZW51KCk7XHJcblxyXG5cdFx0XHRcdC8vXHU2MkJEXHU1MUZBIGZpbHRlclx1OTVBMlx1OTAyM1x1MzBCM1x1MzBFMVx1MzBGM1x1MzBDOFx1MzBBMlx1MzBBNlx1MzBDOFxyXG5cdFx0XHRcdC8vIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHQvLyBcdGl0ZW1cclxuXHRcdFx0XHQvLyBcdFx0LnNldFRpdGxlKFwiRXh0cmFjdFwiKVxyXG5cdFx0XHRcdC8vIFx0XHQuc2V0SWNvbihcInNlYXJjaFwiKVxyXG5cdFx0XHRcdC8vIFx0XHQub25DbGljayhhc3luYyAoKT0+e1xyXG5cdFx0XHRcdC8vIFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9FeHRyYWN0ID0gZGF0YVtqXS5kaXNwbGF5VGV4dDtcclxuXHRcdFx0XHQvLyBcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHQvLyBcdFx0XHR0aGlzLmV4dHJhY3RNb2RlID0gdHJ1ZTtcclxuXHRcdFx0XHQvLyBcdFx0XHR0aGlzLmV4dHJhY3RUYXNrID0gZmFsc2U7XHJcblx0XHRcdFx0Ly8gXHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSk7XHJcblx0XHRcdFx0Ly8gXHRcdH0pXHJcblx0XHRcdFx0Ly8gKTtcclxuXHRcdFx0XHQvLyBtZW51LmFkZFNlcGFyYXRvcigpO1xyXG5cclxuXHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XHJcblx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk9wZW4gbGlua2VkIGZpbGVcIilcclxuXHRcdFx0XHRcdFx0LnNldEljb24oXCJsaW5rcy1nb2luZy1vdXRcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IG9wZW5FbGVtZW50UG9zaXRpb24obGlua1RhcmdldCwgc3ViUGF0aFBvc2l0aW9uLCB1bmRlZmluZWQsIHRoaXMuYXBwKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmhvbGRVcGRhdGVPbmNlID0gQm9vbGVhbihsaW5rVGFyZ2V0ICE9IHRoaXMuYWN0aXZlRmlsZSk7XHJcblx0XHRcdFx0XHRcdH0pLFxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0bWVudS5hZGRTZXBhcmF0b3IoKTtcclxuXHJcblx0XHRcdFx0Ly9cdTMwRUFcdTMwRjNcdTMwQUZcdTUxNDhcdTMwOTJcdTY1QjBcdTg5OEZcdTMwQkZcdTMwRDZcdTMwNkJcdTk1OEJcdTMwNEZcclxuXHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XHJcblx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk9wZW4gbGlua2VkIGZpbGUgaW4gbmV3IHRhYlwiKVxyXG5cdFx0XHRcdFx0XHQuc2V0SWNvbihcImZpbGUtcGx1c1wiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgb3BlbkVsZW1lbnRQb3NpdGlvbihsaW5rVGFyZ2V0LCBzdWJQYXRoUG9zaXRpb24sIFwidGFiXCIsIHRoaXMuYXBwKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmhvbGRVcGRhdGVPbmNlID0gQm9vbGVhbihsaW5rVGFyZ2V0ICE9IHRoaXMuYWN0aXZlRmlsZSk7XHJcblx0XHRcdFx0XHRcdH0pLFxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0Ly9cdTMwRUFcdTMwRjNcdTMwQUZcdTUxNDhcdTMwOTJcdTUzRjNcdTMwNkJcdTk1OEJcdTMwNEZcclxuXHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XHJcblx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk9wZW4gbGlua2VkIGZpbGUgdG8gdGhlIHJpZ2h0XCIpXHJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwic2VwYXJhdG9yLXZlcnRpY2FsXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCBvcGVuRWxlbWVudFBvc2l0aW9uKGxpbmtUYXJnZXQsIHN1YlBhdGhQb3NpdGlvbiwgXCJzcGxpdFwiLCB0aGlzLmFwcCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5ob2xkVXBkYXRlT25jZSA9IEJvb2xlYW4obGlua1RhcmdldCAhPSB0aGlzLmFjdGl2ZUZpbGUpO1xyXG5cdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdC8vXHUzMEVBXHUzMEYzXHUzMEFGXHU1MTQ4XHUzMDkyXHU2NUIwXHU4OThGXHUzMEE2XHUzMEEzXHUzMEYzXHUzMEM5XHUzMEE2XHUzMDZCXHU5NThCXHUzMDRGXHJcblx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIGxpbmtlZCBmaWxlIGluIG5ldyB3aW5kb3dcIilcclxuXHRcdFx0XHRcdFx0LnNldEljb24oXCJzY2FuXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCBvcGVuRWxlbWVudFBvc2l0aW9uSW5Qb3BvdXRXaW5kb3coXHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rVGFyZ2V0LFxyXG5cdFx0XHRcdFx0XHRcdFx0c3ViUGF0aFBvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncyxcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwLFxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5ob2xkVXBkYXRlT25jZSA9IEJvb2xlYW4obGlua1RhcmdldCAhPSB0aGlzLmFjdGl2ZUZpbGUpO1xyXG5cdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdG1lbnUuYWRkU2VwYXJhdG9yKCk7XHJcblxyXG5cdFx0XHRcdC8vXHU2NUIwXHU4OThGXHUzMEJGXHUzMEQ2XHUzMDZCXHU5NThCXHUzMDRGXHJcblx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIGluIG5ldyB0YWJcIilcclxuXHRcdFx0XHRcdFx0LnNldEljb24oXCJmaWxlLXBsdXNcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IG9wZW5FbGVtZW50UG9zaXRpb24oZmlsZSwgbnVsbCwgXCJ0YWJcIiwgdGhpcy5hcHApO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSBCb29sZWFuKGZpbGUgIT0gdGhpcy5hY3RpdmVGaWxlKTtcclxuXHRcdFx0XHRcdFx0fSksXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHQvL1x1NTNGM1x1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiT3BlbiB0byB0aGUgcmlnaHRcIilcclxuXHRcdFx0XHRcdFx0LnNldEljb24oXCJzZXBhcmF0b3ItdmVydGljYWxcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IG9wZW5FbGVtZW50UG9zaXRpb24oZmlsZSwgbnVsbCwgXCJzcGxpdFwiLCB0aGlzLmFwcCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5ob2xkVXBkYXRlT25jZSA9IEJvb2xlYW4oZmlsZSAhPSB0aGlzLmFjdGl2ZUZpbGUpO1xyXG5cdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdC8vXHU2NUIwXHU4OThGXHUzMEE2XHUzMEEzXHUzMEYzXHUzMEM5XHUzMEE2XHUzMDZCXHU5NThCXHUzMDRGXHJcblx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIGluIG5ldyB3aW5kb3dcIilcclxuXHRcdFx0XHRcdFx0LnNldEljb24oXCJzY2FuXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCBvcGVuRWxlbWVudFBvc2l0aW9uSW5Qb3BvdXRXaW5kb3coZmlsZSwgbnVsbCwgdGhpcy5zZXR0aW5ncywgdGhpcy5hcHApO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSBCb29sZWFuKGZpbGUgIT0gdGhpcy5hY3RpdmVGaWxlKTtcclxuXHRcdFx0XHRcdFx0fSksXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0bWVudS5zaG93QXRNb3VzZUV2ZW50KGV2ZW50KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBcdTY3MDBcdTY1QjBcdTMwNkVcdTg5OEJcdTUxRkFcdTMwNTdcdTMwRUNcdTMwRDlcdTMwRUJcclxuXHRsZXQgbGF0ZXN0SGVhZGluZ0xldmVsID0gMDtcclxuXHJcblx0Ly9cdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTg5ODFcdTdEMjBcdTMwNkVcdTYzQ0ZcdTc1M0JcdTMwMDJkYXRhW2ldXHUzMDRDXHU4OTgxXHU3RDIwMFx1MzA2QVx1MzA4OVx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdC8vXHU0RThDXHU5MUNEXHUzMEVCXHUzMEZDXHUzMEQ3XHUzMDRCXHUzMDg5XHU2MjlDXHUzMDUxXHUzMDhCXHUzMDVGXHUzMDgxXHUzMEU5XHUzMEQ5XHUzMEVCZWxlbWVudGxvb3BcdTMwOTJcdTMwNjRcdTMwNTFcdTMwNUZcclxuXHRpZiAoZGF0YS5sZW5ndGggPiAwKSB7XHJcblx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGRhdGEubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0Ly8gXHU3M0ZFXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU4OTgxXHU3RDIwXHUzMDZFXHU3QTJFXHU1MjI1XHUzMDkyXHU1M0Q2XHU1Rjk3XHJcblx0XHRcdGNvbnN0IGVsZW1lbnQgPSBkYXRhW2pdLnR5cGVPZkVsZW1lbnQ7XHJcblx0XHRcdGxldCBkaXNwbGF5VGV4dCA9IGRhdGFbal0uZGlzcGxheVRleHQ7XHJcblx0XHRcdGNvbnN0IGxpbmtUYXJnZXQgPVxyXG5cdFx0XHRcdGVsZW1lbnQgIT09IFwibGlua1wiXHJcblx0XHRcdFx0XHQ/IG51bGxcclxuXHRcdFx0XHRcdDogdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdChwYXJzZUxpbmt0ZXh0KGRhdGFbal0/LmxpbmspLnBhdGgsIGZpbGUucGF0aCk7XHJcblx0XHRcdGNvbnN0IGxpbmtTdWJwYXRoID0gIWxpbmtUYXJnZXQgPyBudWxsIDogcGFyc2VMaW5rdGV4dChkYXRhW2pdPy5saW5rKS5zdWJwYXRoO1xyXG5cdFx0XHRjb25zdCBzdWJQYXRoUG9zaXRpb24gPSBnZXRTdWJwYXRoUG9zaXRpb24odGhpcy5hcHAsIGxpbmtUYXJnZXQsIGxpbmtTdWJwYXRoKTtcclxuXHJcblx0XHRcdC8vXHU4OTgxXHU3RDIwXHUzMDU0XHUzMDY4XHUzMDZFXHU5NzVFXHU4ODY4XHU3OTNBXHU1MjI0XHU1QjlBICBcdThBMkRcdTVCOUFcdTMwNjdcdTk3NUVcdTg4NjhcdTc5M0FcdTMwNkJcdTMwNkFcdTMwNjNcdTMwNjZcdTMwNDRcdTMwOENcdTMwNzBcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50c1tlbGVtZW50XSA9PSBmYWxzZSkge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLy8vIFx1NjJCRFx1NTFGQSBleHRyYWN0IGZpbHRlclx1OTVBMlx1OTAyM1x1MzBCM1x1MzBFMVx1MzBGM1x1MzBDOFx1MzBBMlx1MzBBNlx1MzBDOFxyXG5cdFx0XHQvLyBpZiAodGhpcy5leHRyYWN0TW9kZSA9PSB0cnVlKSB7XHJcblx0XHRcdC8vIFx0aWYgKHRoaXMuZXh0cmFjdFRhc2sgPT0gZmFsc2UgJiYgIWRhdGFbal0uZGlzcGxheVRleHQuaW5jbHVkZXModGhpcy5zZXR0aW5ncy53b3Jkc1RvRXh0cmFjdCkpe1xyXG5cdFx0XHQvLyBcdFx0Y29udGludWU7XHJcblx0XHRcdC8vIFx0fSBlbHNlIGlmICh0aGlzLmV4dHJhY3RUYXNrID09IHRydWUgJiYgZGF0YVtqXS50YXNrID09PSB2b2lkIDApe1xyXG5cdFx0XHQvLyBcdFx0Y29udGludWU7XHJcblx0XHRcdC8vIFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gXHRcdGlzRXh0cmFjdGVkID0gdHJ1ZTtcclxuXHRcdFx0Ly8gXHR9XHJcblx0XHRcdC8vIH1cclxuXHJcblx0XHRcdC8vLy8gXHU4OTgxXHU3RDIwXHU3QTJFXHU1MjI1XHUzMDU0XHUzMDY4XHUzMDZFIFx1NTFFNlx1NzQwNlxyXG5cclxuXHRcdFx0Ly8gaGVhZGluZ3NcclxuXHRcdFx0aWYgKGVsZW1lbnQgPT0gXCJoZWFkaW5nXCIpIHtcclxuXHRcdFx0XHQvLyBcdTY3MDBcdTY1QjBcdTMwNkVcdTg5OEJcdTUxRkFcdTMwNTdcdTMwRUNcdTMwRDlcdTMwRUJcdTMwOTJcdTUzRDZcdTVGOTdcclxuXHRcdFx0XHRsYXRlc3RIZWFkaW5nTGV2ZWwgPSBkYXRhW2pdLmxldmVsO1xyXG5cdFx0XHRcdC8vIFx1NzI3OVx1NUI5QVx1MzA2RVx1ODk4Qlx1NTFGQVx1MzA1N1x1MzBFQ1x1MzBEOVx1MzBFQlx1MzA0Q1x1OTc1RVx1ODg2OFx1NzkzQVx1MzA2RVx1NTgzNFx1NTQwOFx1MzAwMVx1OEE3Mlx1NUY1M1x1MzA1OVx1MzA4Q1x1MzA3MFx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdFx0XHRcdGlmIChkYXRhW2pdLmxldmVsID4gdGhpcy5zZXR0aW5ncy5tYXhIZWFkaW5nTGV2ZWwpIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gbGlua3NcclxuXHRcdFx0aWYgKGVsZW1lbnQgPT0gXCJsaW5rXCIpIHtcclxuXHRcdFx0XHRpZiAoY2hlY2tMaW5rc0JldHdlZW5SZWxhdGVkRmlsZXMobGlua1RhcmdldCwgY2F0ZWdvcnksIHRoaXMuc2V0dGluZ3MsIHRoaXMudGFyZ2V0RmlsZXMpID09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuaGlkZU1pbm9yMmhvcExpbmsgJiYgY2F0ZWdvcnkgPT0gXCJvdXRnb2luZ1wiKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHRhZ3NcclxuXHRcdFx0Ly8gaWYgKGVsZW1lbnQgPT0gJ3RhZycpe1xyXG5cdFx0XHQvLyB9XHJcblxyXG5cdFx0XHQvLyBsaXN0SXRlbXNcclxuXHRcdFx0bGV0IGNhbGxvdXRzSW5kZXggPSB1bmRlZmluZWQ7XHJcblx0XHRcdGlmIChlbGVtZW50ID09IFwibGlzdEl0ZW1zXCIpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5kaXNwTGlzdENhbGxvdXRzKSB7XHJcblx0XHRcdFx0XHRjYWxsb3V0c0luZGV4ID0gY2hlY2tMaXN0Q2FsbG91dHMoXHJcblx0XHRcdFx0XHRcdGRpc3BsYXlUZXh0LFxyXG5cdFx0XHRcdFx0XHR0aGlzLmFwcC5wbHVnaW5zLnBsdWdpbnM/LltcIm9ic2lkaWFuLWxpc3QtY2FsbG91dHNcIl0/LnNldHRpbmdzLFxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHNob3VsZERpc3BsYXlMaXN0SXRlbShkYXRhW2pdLCB0aGlzLnNldHRpbmdzLCBjYWxsb3V0c0luZGV4KSA9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU4OTgxXHU3RDIwXHU5MEU4XHU1MjA2XHU0RjVDXHU2MjEwXHJcblx0XHRcdGNvbnN0IG91dGxpbmVFbDogSFRNTEVsZW1lbnQgPSBwYXJlbnRFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0gbmF2LWZpbGVcIik7XHJcblx0XHRcdC8vXHU0RTJEXHU4RUFCXHUzMDkyXHU4QTJEXHU1QjlBXHJcblx0XHRcdGNvbnN0IG91dGxpbmVUaXRsZTogSFRNTEVsZW1lbnQgPSBvdXRsaW5lRWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtLXNlbGYgaXMtY2xpY2thYmxlIG5hdi1maWxlLXRpdGxlXCIpO1xyXG5cclxuXHRcdFx0Ly9cdTMwQTJcdTMwQTRcdTMwQjNcdTMwRjMgaWNvblxyXG5cdFx0XHRzd2l0Y2ggKHRoaXMuc2V0dGluZ3MuaWNvbltlbGVtZW50XSkge1xyXG5cdFx0XHRcdGNhc2UgXCJub25lXCI6XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIFwiaGVhZGluZ3dpdGhudW1iZXJcIjpcclxuXHRcdFx0XHRcdHNldEljb24ob3V0bGluZVRpdGxlLCBgaGVhZGluZy0ke2RhdGFbal0ubGV2ZWx9YCk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIFwiY3VzdG9tXCI6XHJcblx0XHRcdFx0XHRzZXRJY29uKG91dGxpbmVUaXRsZSwgdGhpcy5zZXR0aW5ncy5jdXN0b21JY29uW2VsZW1lbnRdKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRzZXRJY29uKG91dGxpbmVUaXRsZSwgdGhpcy5zZXR0aW5ncy5pY29uW2VsZW1lbnRdKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBcdTMwQkZcdTMwQjlcdTMwQUZcdTMwNjBcdTMwNjNcdTMwNUZcdTU4MzRcdTU0MDhcdTMwQTJcdTMwQTRcdTMwQjNcdTMwRjNcdTRFMEFcdTY2RjhcdTMwNERcclxuXHRcdFx0aWYgKGVsZW1lbnQgPT0gXCJsaXN0SXRlbXNcIiAmJiBkYXRhW2pdLnRhc2sgIT09IHZvaWQgMCkge1xyXG5cdFx0XHRcdGlmIChkYXRhW2pdLnRhc2sgPT0gXCJ4XCIpIHtcclxuXHRcdFx0XHRcdHNldEljb24oXHJcblx0XHRcdFx0XHRcdG91dGxpbmVUaXRsZSxcclxuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5pY29uLnRhc2tEb25lID09IFwiY3VzdG9tXCJcclxuXHRcdFx0XHRcdFx0XHQ/IHRoaXMuc2V0dGluZ3MuY3VzdG9tSWNvbi50YXNrRG9uZVxyXG5cdFx0XHRcdFx0XHRcdDogdGhpcy5zZXR0aW5ncy5pY29uLnRhc2tEb25lLFxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0c2V0SWNvbihcclxuXHRcdFx0XHRcdFx0b3V0bGluZVRpdGxlLFxyXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmljb24udGFzayA9PSBcImN1c3RvbVwiID8gdGhpcy5zZXR0aW5ncy5jdXN0b21JY29uLnRhc2sgOiB0aGlzLnNldHRpbmdzLmljb24udGFzayxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBcdTMwRUFcdTMwQjlcdTMwQzhcdTMwNkJcdTVCRkVcdTMwNTlcdTMwOEJcdTUxRTZcdTc0MDZcdTMwQkZcdTMwQjlcdTMwQUZcdTMwNjBcdTMwNjNcdTMwNUZcdTU4MzRcdTU0MDhcdTMwQTJcdTMwQTRcdTMwQjNcdTMwRjNcdTRFMEFcdTY2RjhcdTMwNERcclxuXHRcdFx0aWYgKGVsZW1lbnQgPT0gXCJsaXN0SXRlbXNcIikge1xyXG5cdFx0XHRcdC8vXHUzMEJGXHUzMEI5XHUzMEFGXHUzMDYwXHUzMDYzXHUzMDVGXHU1ODM0XHU1NDA4XHUzMEEyXHUzMEE0XHUzMEIzXHUzMEYzXHU0RTBBXHU2NkY4XHUzMDREXHJcblx0XHRcdFx0aWYgKGRhdGFbal0udGFzayAhPT0gdm9pZCAwKSB7XHJcblx0XHRcdFx0XHRpZiAoZGF0YVtqXS50YXNrID09IFwieFwiKSB7XHJcblx0XHRcdFx0XHRcdHNldEljb24oXHJcblx0XHRcdFx0XHRcdFx0b3V0bGluZVRpdGxlLFxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuaWNvbi50YXNrRG9uZSA9PSBcImN1c3RvbVwiXHJcblx0XHRcdFx0XHRcdFx0XHQ/IHRoaXMuc2V0dGluZ3MuY3VzdG9tSWNvbi50YXNrRG9uZVxyXG5cdFx0XHRcdFx0XHRcdFx0OiB0aGlzLnNldHRpbmdzLmljb24udGFza0RvbmUsXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRzZXRJY29uKFxyXG5cdFx0XHRcdFx0XHRcdG91dGxpbmVUaXRsZSxcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmljb24udGFzayA9PSBcImN1c3RvbVwiXHJcblx0XHRcdFx0XHRcdFx0XHQ/IHRoaXMuc2V0dGluZ3MuY3VzdG9tSWNvbi50YXNrXHJcblx0XHRcdFx0XHRcdFx0XHQ6IHRoaXMuc2V0dGluZ3MuaWNvbi50YXNrLFxyXG5cdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly9cdTMwRUFcdTMwQjlcdTMwQzhcdTMwQjNcdTMwRkNcdTMwRUJcdTMwQTJcdTMwQTZcdTMwQzhcdTMwNzhcdTMwNkVcdTVCRkVcdTVGRENcclxuXHRcdFx0XHRpZiAodHlwZW9mIGNhbGxvdXRzSW5kZXggPT0gXCJudW1iZXJcIikge1xyXG5cdFx0XHRcdFx0b3V0bGluZVRpdGxlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGBSR0JBKCR7dGhpcy5hcHAucGx1Z2lucy5wbHVnaW5zW1wib2JzaWRpYW4tbGlzdC1jYWxsb3V0c1wiXS5zZXR0aW5nc1tjYWxsb3V0c0luZGV4XS5jb2xvcn0sMC4xNSlgO1xyXG5cdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHR0aGlzLmFwcC5wbHVnaW5zLnBsdWdpbnNbXCJvYnNpZGlhbi1saXN0LWNhbGxvdXRzXCJdLnNldHRpbmdzW2NhbGxvdXRzSW5kZXhdLmhhc093blByb3BlcnR5KFxyXG5cdFx0XHRcdFx0XHRcdFwiaWNvblwiLFxyXG5cdFx0XHRcdFx0XHQpICYmXHJcblx0XHRcdFx0XHRcdGRhdGFbal0udGFzayA9PT0gdm9pZCAwXHJcblx0XHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdFx0c2V0SWNvbihcclxuXHRcdFx0XHRcdFx0XHRvdXRsaW5lVGl0bGUsXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5hcHAucGx1Z2lucy5wbHVnaW5zW1wib2JzaWRpYW4tbGlzdC1jYWxsb3V0c1wiXS5zZXR0aW5nc1tjYWxsb3V0c0luZGV4XS5pY29uLFxyXG5cdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRkaXNwbGF5VGV4dCA9IGRpc3BsYXlUZXh0LnJlcGxhY2UoL14uXFxzLywgXCJcIik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL3ByZWZpeFxyXG5cdFx0XHRsZXQgcHJlZml4ID0gdGhpcy5zZXR0aW5ncy5wcmVmaXhbZWxlbWVudF07XHJcblx0XHRcdGlmIChlbGVtZW50ID09IFwiaGVhZGluZ1wiKSB7XHJcblx0XHRcdFx0c3dpdGNoICh0aGlzLnNldHRpbmdzLnJlcGVhdEhlYWRpbmdQcmVmaXgpIHtcclxuXHRcdFx0XHRcdGNhc2UgXCJsZXZlbFwiOlxyXG5cdFx0XHRcdFx0XHRwcmVmaXggPSBwcmVmaXgucmVwZWF0KGRhdGFbal0ubGV2ZWwpO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgXCJsZXZlbG1pbnVzMVwiOlxyXG5cdFx0XHRcdFx0XHRwcmVmaXggPSBwcmVmaXgucmVwZWF0KGRhdGFbal0ubGV2ZWwgLSAxKTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBcdTMwQTRcdTMwRjNcdTMwQzdcdTMwRjNcdTMwQzhcclxuXHRcdFx0bGV0IGluZGVudCA9IDAuNTtcclxuXHRcdFx0Ly9cdTg5OEJcdTUxRkFcdTMwNTdcdTMwNkVcdTMwQTRcdTMwRjNcdTMwQzdcdTMwRjNcdTMwQzhcclxuXHRcdFx0aWYgKGVsZW1lbnQgPT0gXCJoZWFkaW5nXCIgJiYgdGhpcy5zZXR0aW5ncy5pbmRlbnQuaGVhZGluZyA9PSB0cnVlKSB7XHJcblx0XHRcdFx0aW5kZW50ID0gaW5kZW50ICsgKGRhdGFbal0ubGV2ZWwgLSAxKSAqIDEuNTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBcdTg5OEJcdTUxRkFcdTMwNTdcdTRFRTVcdTU5MTZcdTMwNkVcdTMwQTRcdTMwRjNcdTMwQzdcdTMwRjNcdTMwQzhcclxuXHRcdFx0aWYgKGVsZW1lbnQgIT0gXCJoZWFkaW5nXCIgJiYgdGhpcy5zZXR0aW5ncy5pbmRlbnRGb2xsb3dIZWFkaW5nKSB7XHJcblx0XHRcdFx0Y29uc3QgYWRkaXRpb25hbEluZGVudCA9XHJcblx0XHRcdFx0XHQobGF0ZXN0SGVhZGluZ0xldmVsIC0gMSArICh0aGlzLnNldHRpbmdzLmluZGVudEZvbGxvd0hlYWRpbmcgPT0gMiA/IDEgOiAwKSkgKiAxLjU7XHJcblx0XHRcdFx0aW5kZW50ID0gaW5kZW50ICsgKGFkZGl0aW9uYWxJbmRlbnQgPiAwID8gYWRkaXRpb25hbEluZGVudCA6IDApO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIFx1MzBFQVx1MzBGM1x1MzBBRlx1MzA0Q1x1NTI0RFx1MzA2RVx1MzBBOFx1MzBFQ1x1MzBFMVx1MzBGM1x1MzBDOFx1MzA2OFx1NTQwQ1x1MzA1OFx1ODg0Q1x1MzA2MFx1MzA2M1x1MzA1Rlx1NTgzNFx1NTQwOFx1MzBBNFx1MzBGM1x1MzBDN1x1MzBGM1x1MzBDOFx1NEVEOFx1NTJBMFxyXG5cdFx0XHRpZiAoIWlzQ2FudmFzICYmIGVsZW1lbnQgPT0gXCJsaW5rXCIgJiYgZGF0YVtqXS5wb3NpdGlvbi5zdGFydC5saW5lID09IGRhdGFbaiAtIDFdPy5wb3NpdGlvbi5zdGFydC5saW5lKSB7XHJcblx0XHRcdFx0aW5kZW50ID0gaW5kZW50ICsgMS41O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRvdXRsaW5lVGl0bGUuc3R5bGUucGFkZGluZ0xlZnQgPSBgJHtpbmRlbnR9ZW1gO1xyXG5cclxuXHRcdFx0aWYgKGVsZW1lbnQgPT0gXCJsaXN0SXRlbXNcIiAmJiBkYXRhW2pdLnRhc2sgIT09IHZvaWQgMCkge1xyXG5cdFx0XHRcdHByZWZpeCA9IGRhdGFbal0udGFzayA9PSBcInhcIiA/IHRoaXMuc2V0dGluZ3MucHJlZml4LnRhc2tEb25lIDogdGhpcy5zZXR0aW5ncy5wcmVmaXgudGFzaztcclxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5hZGRDaGVja2JveFRleHQpIHtcclxuXHRcdFx0XHRcdHByZWZpeCA9IHByZWZpeCArIFwiW1wiICsgZGF0YVtqXS50YXNrICsgXCJdIFwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3Qgb3V0bGluZVRpdGxlQ29udGVudCA9IG91dGxpbmVUaXRsZS5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0taW5uZXIgbmF2LWZpbGUtdGl0bGUtY29udGVudFwiKTtcclxuXHRcdFx0b3V0bGluZVRpdGxlQ29udGVudC5zZXRUZXh0KHByZWZpeCArIGRpc3BsYXlUZXh0KTtcclxuXHRcdFx0Ly8gd3JhcExpbmUgdHJ1ZVx1MzA2QVx1MzA4OVx1NjI5OFx1MzA4QVx1OEZENFx1MzA1N1x1OEEyRFx1NUI5QVxyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy53cmFwTGluZSkge1xyXG5cdFx0XHRcdG91dGxpbmVUaXRsZUNvbnRlbnQuY2xhc3NMaXN0LmFkZChcIndyYXAtbGluZVwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gXHUzMEE0XHUzMEYzXHUzMEU5XHUzMEE0XHUzMEYzXHUzMEQ3XHUzMEVDXHUzMEQzXHUzMEU1XHUzMEZDXHJcblx0XHRcdC8vIFx1MzBFQVx1MzBGM1x1MzBBRlx1MzA2OFx1MzBCRlx1MzBCMFx1MzA2Rlx1MzAwMVx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1ODk4MVx1N0QyMFx1MzA2RVx1MzA0Mlx1MzA2OFx1MzA2Qlx1NjU4N1x1NUI1N1x1NTIxN1x1MzA0Q1x1N0Q5QVx1MzA0Rlx1NTgzNFx1NTQwOFx1MzA1RFx1MzA2RVx1ODg0Q1x1MzA5Mlx1MzBEN1x1MzBFQ1x1MzBEM1x1MzBFNVx1MzBGQ1x1MzAwMVx1MzA1RFx1MzA0Nlx1MzA2N1x1MzA2QVx1MzA1MVx1MzA4Q1x1MzA3MFx1NkIyMVx1MzA2RVx1ODg0Q1x1MzA5Mlx1MzBEN1x1MzBFQ1x1MzBEM1x1MzBFNVx1MzBGQ1xyXG5cdFx0XHRpZiAoIWlzQ2FudmFzICYmIHRoaXMuc2V0dGluZ3MuaW5saW5lUHJldmlldykge1xyXG5cdFx0XHRcdGxldCBwcmV2aWV3VGV4dCA9IFwiXCI7XHJcblxyXG5cdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdChlbGVtZW50ID09IFwibGlua1wiIHx8IGVsZW1lbnQgPT0gXCJ0YWdcIikgJiZcclxuXHRcdFx0XHRcdGRhdGFbal0ucG9zaXRpb24uZW5kLmNvbCA8IGluZm8ubGluZXNbZGF0YVtqXS5wb3NpdGlvbi5zdGFydC5saW5lXS5sZW5ndGhcclxuXHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdHByZXZpZXdUZXh0ID0gaW5mby5saW5lc1tkYXRhW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmVdLnNsaWNlKGRhdGFbal0ucG9zaXRpb24uZW5kLmNvbCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHByZXZpZXdUZXh0ID1cclxuXHRcdFx0XHRcdFx0ZGF0YVtqXS5wb3NpdGlvbi5zdGFydC5saW5lIDwgaW5mby5udW1PZkxpbmVzIC0gMVxyXG5cdFx0XHRcdFx0XHRcdD8gaW5mby5saW5lc1tkYXRhW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmUgKyAxXVxyXG5cdFx0XHRcdFx0XHRcdDogXCJcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0b3V0bGluZVRpdGxlLmNyZWF0ZURpdihcIm5hdi1maWxlLXRpdGxlLXByZXZpZXdcIikuc2V0VGV4dChwcmV2aWV3VGV4dCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFx1MzBDNFx1MzBGQ1x1MzBFQlx1MzBDMVx1MzBDM1x1MzBEN1x1MzBEN1x1MzBFQ1x1MzBEM1x1MzBFNVx1MzBGQ1xyXG5cdFx0XHQvLyBcdTMwNURcdTMwNkVcdTg5ODFcdTdEMjBcdTMwNkVcdTg4NENcdTMwNEJcdTMwODlcdTZCMjFcdTMwNkVcdTg5ODFcdTdEMjBcdTMwNkVcdTUyNERcdTMwN0VcdTMwNjdcdTMwOTJcdTMwRDdcdTMwRUNcdTMwRDNcdTMwRTVcdTMwRkNcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MudG9vbHRpcFByZXZpZXcpIHtcclxuXHRcdFx0XHRpZiAoIWlzQ2FudmFzKSB7XHJcblx0XHRcdFx0XHRjb25zdCBwcmV2aWV3VGV4dDIgPSBtYWtlVG9vbHRpcFByZXZpZXdUZXh0KGosIGluZm8sIGRhdGEsIHRoaXMuc2V0dGluZ3MpO1xyXG5cclxuXHRcdFx0XHRcdHNldFRvb2x0aXAob3V0bGluZVRpdGxlLCBwcmV2aWV3VGV4dDIsIHsgY2xhc3NlczogW1wiTU5PLXByZXZpZXdcIl0gfSk7XHJcblx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuZGF0YXNldC50b29sdGlwUG9zaXRpb24gPSB0aGlzLnNldHRpbmdzLnRvb2x0aXBQcmV2aWV3RGlyZWN0aW9uO1xyXG5cdFx0XHRcdFx0b3V0bGluZVRpdGxlLnNldEF0dHJpYnV0ZShcImRhdGEtdG9vbHRpcC1kZWxheVwiLCBcIjEwXCIpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvL2NhbnZhcyBcdTMwNjBcdTMwNjNcdTMwNUZcdTU4MzRcdTU0MDhcdTMwMDFcdTMwQUJcdTMwRkNcdTMwQzlcdTMwNkJcdTc2RjhcdTVGNTNcdTMwNTlcdTMwOEJsaXN0SXRlbXNcdTMwNkJcdTMwRDdcdTMwRUNcdTMwRDNcdTMwRTVcdTMwRkNcdTMwOTJcdTRFRDhcdTUyQTBcclxuXHRcdFx0XHRcdGlmIChkYXRhW2pdLnR5cGVPZkVsZW1lbnQgPT0gXCJsaXN0SXRlbXNcIikge1xyXG5cdFx0XHRcdFx0XHRzZXRUb29sdGlwKG91dGxpbmVUaXRsZSwgZGF0YVtqXS5kaXNwbGF5VGV4dCwgeyBjbGFzc2VzOiBbXCJNTk8tcHJldmlld1wiXSB9KTtcclxuXHRcdFx0XHRcdFx0b3V0bGluZVRpdGxlLmRhdGFzZXQudG9vbHRpcFBvc2l0aW9uID0gdGhpcy5zZXR0aW5ncy50b29sdGlwUHJldmlld0RpcmVjdGlvbjtcclxuXHRcdFx0XHRcdFx0b3V0bGluZVRpdGxlLnNldEF0dHJpYnV0ZShcImRhdGEtdG9vbHRpcC1kZWxheVwiLCBcIjEwXCIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZHJhZyZkcm9wXHJcblx0XHRcdGlmIChlbGVtZW50ID09IFwibGlua1wiKSB7XHJcblx0XHRcdFx0b3V0bGluZVRpdGxlLnNldEF0dHIoXCJkcmFnZ2FibGVcIiwgXCJ0cnVlXCIpO1xyXG5cdFx0XHRcdG91dGxpbmVUaXRsZS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBsaW5rVGV4dCA9IGRhdGFbal0ubGluaztcclxuXHRcdFx0XHRcdGNvbnN0IGRyYWdNYW5hZ2VyID0gKHRoaXMuYXBwIGFzIGFueSkuZHJhZ01hbmFnZXI7XHJcblx0XHRcdFx0XHRjb25zdCBkcmFnRGF0YSA9IGRyYWdNYW5hZ2VyLmRyYWdMaW5rKGV2ZW50LCBsaW5rVGV4dCwgXCJcdTMwQkZcdTMwQTRcdTMwQzhcdTMwRUJcIiwgbGlua1RleHQpO1xyXG5cdFx0XHRcdFx0ZHJhZ01hbmFnZXIub25EcmFnU3RhcnQoZXZlbnQsIGRyYWdEYXRhKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIGlmIChlbGVtZW50ID09IFwiaGVhZGluZ1wiKSB7XHJcblx0XHRcdFx0b3V0bGluZVRpdGxlLnNldEF0dHIoXCJkcmFnZ2FibGVcIiwgXCJ0cnVlXCIpO1xyXG5cdFx0XHRcdG91dGxpbmVUaXRsZS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBsaW5rVGV4dCA9IGZpbGUucGF0aCArIFwiI1wiICsgc3RyaXBIZWFkaW5nRm9yTGluayhkYXRhW2pdLmRpc3BsYXlUZXh0KTsgLy8ucmVwbGFjZSgvWyN8XFxeXFxcXCVcXDpdfFxcW1xcW3xcXF1cXF0vZywgXCIgXCIpO1xyXG5cdFx0XHRcdFx0Y29uc3QgZHJhZ01hbmFnZXIgPSAodGhpcy5hcHAgYXMgYW55KS5kcmFnTWFuYWdlcjtcclxuXHRcdFx0XHRcdGNvbnN0IGRyYWdEYXRhID0gZHJhZ01hbmFnZXIuZHJhZ0xpbmsoZXZlbnQsIGxpbmtUZXh0LCBcIlx1MzBCRlx1MzBBNFx1MzBDOFx1MzBFQlwiLCBsaW5rVGV4dCk7XHJcblx0XHRcdFx0XHRkcmFnTWFuYWdlci5vbkRyYWdTdGFydChldmVudCwgZHJhZ0RhdGEpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL1x1MzBBRlx1MzBFQVx1MzBDM1x1MzBBRlx1NjY0MlxyXG5cdFx0XHRvdXRsaW5lVGl0bGUuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdFx0YXN5bmMgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5vcGVuTGlua0J5Q2xpY2sgPT0gdHJ1ZSAmJiBlbGVtZW50ID09IFwibGlua1wiKSB7XHJcblx0XHRcdFx0XHRcdC8vIG9wZW5MaW5rQnlDbGljayB0cnVlIFx1MzA0Qlx1MzA2NFx1MzBBOFx1MzBFQ1x1MzBFMVx1MzBGM1x1MzBDOFx1MzA0Q1x1MzBFQVx1MzBGM1x1MzBBRlx1MzA2QVx1MzA4OVx1MzBFQVx1MzBGM1x1MzBBRlx1NTE0OFx1MzA5Mlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdFx0XHRhd2FpdCBvcGVuRWxlbWVudFBvc2l0aW9uKGxpbmtUYXJnZXQsIHN1YlBhdGhQb3NpdGlvbiwgdW5kZWZpbmVkLCB0aGlzLmFwcCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSBCb29sZWFuKGxpbmtUYXJnZXQgIT0gdGhpcy5hY3RpdmVGaWxlKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIWlzQ2FudmFzKSB7XHJcblx0XHRcdFx0XHRcdGF3YWl0IG9wZW5FbGVtZW50UG9zaXRpb24oZmlsZSwgZGF0YVtqXS5wb3NpdGlvbiwgdW5kZWZpbmVkLCB0aGlzLmFwcCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSBCb29sZWFuKGZpbGUgIT0gdGhpcy5hY3RpdmVGaWxlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGZhbHNlLFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly9ob3ZlciBwcmV2aWV3XHJcblx0XHRcdG91dGxpbmVUaXRsZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdC8vIFx1MzBFQVx1MzBGM1x1MzBBRlx1MzBBOFx1MzBFQ1x1MzBFMVx1MzBGM1x1MzBDOFx1MzA2N1x1MzBFQVx1MzBGM1x1MzBBRlx1NTE0OFx1MzA0Q1x1NUI1OFx1NTcyOFx1MzA1OVx1MzA4Qlx1MzA2OFx1MzA0RFx1MzA2Rlx1MzA1RFx1MzA2MVx1MzA4OVx1MzA5Mlx1MzBEN1x1MzBFQ1x1MzBEM1x1MzBFNVx1MzBGQ1xyXG5cdFx0XHRcdGlmIChlbGVtZW50ID09IFwibGlua1wiICYmIGxpbmtUYXJnZXQpIHtcclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS50cmlnZ2VyKFwiaG92ZXItbGlua1wiLCB7XHJcblx0XHRcdFx0XHRcdGV2ZW50LFxyXG5cdFx0XHRcdFx0XHRzb3VyY2U6IE11bHRpcGxlTm90ZXNPdXRsaW5lVmlld1R5cGUsXHJcblx0XHRcdFx0XHRcdGhvdmVyUGFyZW50OiBwYXJlbnRFbCxcclxuXHRcdFx0XHRcdFx0dGFyZ2V0RWw6IG91dGxpbmVUaXRsZSxcclxuXHRcdFx0XHRcdFx0bGlua3RleHQ6IGxpbmtUYXJnZXQucGF0aCxcclxuXHRcdFx0XHRcdFx0c3RhdGU6IHsgc2Nyb2xsOiBzdWJQYXRoUG9zaXRpb24/LnN0YXJ0Py5saW5lIH0sXHJcblx0XHRcdFx0XHRcdC8vc3RhdGU6IHBvc0luZm8sXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKCFpc0NhbnZhcykge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UudHJpZ2dlcihcImhvdmVyLWxpbmtcIiwge1xyXG5cdFx0XHRcdFx0XHRcdGV2ZW50LFxyXG5cdFx0XHRcdFx0XHRcdHNvdXJjZTogTXVsdGlwbGVOb3Rlc091dGxpbmVWaWV3VHlwZSxcclxuXHRcdFx0XHRcdFx0XHRob3ZlclBhcmVudDogcGFyZW50RWwsXHJcblx0XHRcdFx0XHRcdFx0dGFyZ2V0RWw6IG91dGxpbmVUaXRsZSxcclxuXHRcdFx0XHRcdFx0XHRsaW5rdGV4dDogZmlsZS5wYXRoLFxyXG5cdFx0XHRcdFx0XHRcdHN0YXRlOiB7IHNjcm9sbDogZGF0YVtqXS5wb3NpdGlvbi5zdGFydC5saW5lIH0sXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBjb250ZXh0bWVudVxyXG5cdFx0XHRvdXRsaW5lVGl0bGUuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xyXG5cclxuXHRcdFx0XHQvL1x1NjJCRFx1NTFGQSBmaWx0ZXJcdTk1QTJcdTkwMjNcdTMwQjNcdTMwRTFcdTMwRjNcdTMwQzhcdTMwQTJcdTMwQTZcdTMwQzhcclxuXHRcdFx0XHQvLyBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XHJcblx0XHRcdFx0Ly8gXHRpdGVtXHJcblx0XHRcdFx0Ly8gXHRcdC5zZXRUaXRsZShcIkV4dHJhY3RcIilcclxuXHRcdFx0XHQvLyBcdFx0LnNldEljb24oXCJzZWFyY2hcIilcclxuXHRcdFx0XHQvLyBcdFx0Lm9uQ2xpY2soYXN5bmMgKCk9PntcclxuXHRcdFx0XHQvLyBcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXh0cmFjdCA9IGRhdGFbal0uZGlzcGxheVRleHQ7XHJcblx0XHRcdFx0Ly8gXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0Ly8gXHRcdFx0dGhpcy5leHRyYWN0TW9kZSA9IHRydWU7XHJcblx0XHRcdFx0Ly8gXHRcdFx0dGhpcy5leHRyYWN0VGFzayA9IGZhbHNlO1xyXG5cdFx0XHRcdC8vIFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UpO1xyXG5cdFx0XHRcdC8vIFx0XHR9KVxyXG5cdFx0XHRcdC8vICk7XHJcblx0XHRcdFx0Ly8gbWVudS5hZGRTZXBhcmF0b3IoKTtcclxuXHJcblx0XHRcdFx0aWYgKGVsZW1lbnQgPT0gXCJsaW5rXCIpIHtcclxuXHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk9wZW4gbGlua2VkIGZpbGVcIilcclxuXHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcImxpbmtzLWdvaW5nLW91dFwiKVxyXG5cdFx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IG9wZW5FbGVtZW50UG9zaXRpb24obGlua1RhcmdldCwgc3ViUGF0aFBvc2l0aW9uLCB1bmRlZmluZWQsIHRoaXMuYXBwKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSBCb29sZWFuKGxpbmtUYXJnZXQgIT0gdGhpcy5hY3RpdmVGaWxlKTtcclxuXHRcdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRtZW51LmFkZFNlcGFyYXRvcigpO1xyXG5cdFx0XHRcdFx0Ly9cdTMwRUFcdTMwRjNcdTMwQUZcdTUxNDhcdTMwOTJcdTY1QjBcdTg5OEZcdTMwQkZcdTMwRDZcdTMwNkJcdTk1OEJcdTMwNEZcclxuXHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk9wZW4gbGlua2VkIGZpbGUgaW4gbmV3IHRhYlwiKVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRJY29uKFwiZmlsZS1wbHVzXCIpXHJcblx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgb3BlbkVsZW1lbnRQb3NpdGlvbihsaW5rVGFyZ2V0LCBzdWJQYXRoUG9zaXRpb24sIFwidGFiXCIsIHRoaXMuYXBwKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSBCb29sZWFuKGxpbmtUYXJnZXQgIT0gdGhpcy5hY3RpdmVGaWxlKTtcclxuXHRcdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHQvL1x1MzBFQVx1MzBGM1x1MzBBRlx1NTE0OFx1MzA5Mlx1NTNGM1x1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiT3BlbiBsaW5rZWQgZmlsZSB0byB0aGUgcmlnaHRcIilcclxuXHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcInNlcGFyYXRvci12ZXJ0aWNhbFwiKVxyXG5cdFx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IG9wZW5FbGVtZW50UG9zaXRpb24obGlua1RhcmdldCwgc3ViUGF0aFBvc2l0aW9uLCBcInNwbGl0XCIsIHRoaXMuYXBwKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSBCb29sZWFuKGxpbmtUYXJnZXQgIT0gdGhpcy5hY3RpdmVGaWxlKTtcclxuXHRcdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHQvL1x1MzBFQVx1MzBGM1x1MzBBRlx1NTE0OFx1MzA5Mlx1NjVCMFx1ODk4Rlx1MzBBNlx1MzBBM1x1MzBGM1x1MzBDOVx1MzBBNlx1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiT3BlbiBsaW5rZWQgZmlsZSBpbiBuZXcgd2luZG93XCIpXHJcblx0XHRcdFx0XHRcdFx0LnNldEljb24oXCJzY2FuXCIpXHJcblx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgb3BlbkVsZW1lbnRQb3NpdGlvbkluUG9wb3V0V2luZG93KFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRsaW5rVGFyZ2V0LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzdWJQYXRoUG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwLFxyXG5cdFx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSBCb29sZWFuKGxpbmtUYXJnZXQgIT0gdGhpcy5hY3RpdmVGaWxlKTtcclxuXHRcdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRtZW51LmFkZFNlcGFyYXRvcigpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBcdTMwQkZcdTMwQjBcdTMwNkVcdTU4MzRcdTU0MDhcclxuXHRcdFx0XHRpZiAoZWxlbWVudCA9PSBcInRhZ1wiKSB7XHJcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJTZWFyY2ggdGhpcyB0YWdcIilcclxuXHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcInNlYXJjaFwiKVxyXG5cdFx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHNlYXJjaFN0cmluZyA9IFwidGFnOiAjXCIgKyBkaXNwbGF5VGV4dDtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwLmludGVybmFsUGx1Z2lucy5wbHVnaW5zW1wiZ2xvYmFsLXNlYXJjaFwiXT8uaW5zdGFuY2Uub3Blbkdsb2JhbFNlYXJjaChcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2VhcmNoU3RyaW5nLFxyXG5cdFx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRtZW51LmFkZFNlcGFyYXRvcigpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBcdTRFRTVcdTRFMEJcdTMwNkZjYW52YXNcdTMwNjdcdTMwNkZcdTk3NUVcdTg4NjhcdTc5M0FcclxuXHRcdFx0XHRpZiAoIWlzQ2FudmFzKSB7XHJcblx0XHRcdFx0XHQvL1x1NjVCMFx1ODk4Rlx1MzBCRlx1MzBENlx1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiT3BlbiBpbiBuZXcgdGFiXCIpXHJcblx0XHRcdFx0XHRcdFx0LnNldEljb24oXCJmaWxlLXBsdXNcIilcclxuXHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCBvcGVuRWxlbWVudFBvc2l0aW9uKGZpbGUsIGRhdGFbal0ucG9zaXRpb24sIFwidGFiXCIsIHRoaXMuYXBwKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSBCb29sZWFuKGZpbGUgIT0gdGhpcy5hY3RpdmVGaWxlKTtcclxuXHRcdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHQvL1x1NTNGM1x1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiT3BlbiB0byB0aGUgcmlnaHRcIilcclxuXHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcInNlcGFyYXRvci12ZXJ0aWNhbFwiKVxyXG5cdFx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IG9wZW5FbGVtZW50UG9zaXRpb24oZmlsZSwgZGF0YVtqXS5wb3NpdGlvbiwgXCJzcGxpdFwiLCB0aGlzLmFwcCk7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmhvbGRVcGRhdGVPbmNlID0gQm9vbGVhbihmaWxlICE9IHRoaXMuYWN0aXZlRmlsZSk7XHJcblx0XHRcdFx0XHRcdFx0fSksXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0Ly9cdTY1QjBcdTg5OEZcdTMwQTZcdTMwQTNcdTMwRjNcdTMwQzlcdTMwQTZcdTMwNkJcdTk1OEJcdTMwNEZcclxuXHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk9wZW4gaW4gbmV3IHdpbmRvd1wiKVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRJY29uKFwic2NhblwiKVxyXG5cdFx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IG9wZW5FbGVtZW50UG9zaXRpb25JblBvcG91dFdpbmRvdyhcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YVtqXS5wb3NpdGlvbixcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5hcHAsXHJcblx0XHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ob2xkVXBkYXRlT25jZSA9IEJvb2xlYW4oZmlsZSAhPSB0aGlzLmFjdGl2ZUZpbGUpO1xyXG5cdFx0XHRcdFx0XHRcdH0pLFxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdGlmIChlbGVtZW50ID09IFwiaGVhZGluZ1wiIHx8IGVsZW1lbnQgPT0gXCJsaW5rXCIpIHtcclxuXHRcdFx0XHRcdFx0bWVudS5hZGRTZXBhcmF0b3IoKTtcclxuXHRcdFx0XHRcdFx0Ly8gXHUzMEVBXHUzMEYzXHUzMEFGXHUzMDY4XHUzMDU3XHUzMDY2XHUzMEIzXHUzMEQ0XHUzMEZDXHJcblx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJDb3B5IGxpbmtcIilcclxuXHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKFwiY29weVwiKVxyXG5cdFx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5hcHAudmF1bHQuY29uZmlnLnVzZU1hcmtkb3duTGlua3MpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBsaW5rVGV4dCA9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbGVtZW50ID09IFwibGlua1wiXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdD8gdGhpcy5hcHAuZmlsZU1hbmFnZXIuZ2VuZXJhdGVNYXJrZG93bkxpbmsoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsaW5rVGFyZ2V0LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCJcIixcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGxpbmtTdWJwYXRoLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGlua1RhcmdldC5iYXNlbmFtZSArIGxpbmtTdWJwYXRoLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0OiB0aGlzLmFwcC5maWxlTWFuYWdlci5nZW5lcmF0ZU1hcmtkb3duTGluayhcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZpbGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIlwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIjXCIgKyBzdHJpcEhlYWRpbmdGb3JMaW5rKGRhdGFbal0uZGlzcGxheVRleHQpLCAvLy5yZXBsYWNlKC9bI3xcXF5cXFxcJVxcOl18XFxbXFxbfFxcXVxcXS9nLFwiIFwiLClcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZpbGUuYmFzZW5hbWUgKyBcIiNcIiArIHN0cmlwSGVhZGluZ0ZvckxpbmsoZGF0YVtqXS5kaXNwbGF5VGV4dCksIC8vLnJlcGxhY2UoL1sjfFxcXlxcXFwlXFw6XXxcXFtcXFt8XFxdXFxdL2csXCIgXCIsKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGxpbmtUZXh0KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBsaW5rVGV4dCA9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbGVtZW50ID09IFwibGlua1wiXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdD8gYFtbJHtkYXRhW2pdLmxpbmt9XV1gXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDogYFtbJHtmaWxlLmJhc2VuYW1lfSMke3N0cmlwSGVhZGluZ0ZvckxpbmsoZGF0YVtqXS5kaXNwbGF5VGV4dCl9XV1gO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGxpbmtUZXh0KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSksXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRtZW51LnNob3dBdE1vdXNlRXZlbnQoZXZlbnQpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly9cdTg5ODFcdTdEMjAwXHUzMDYwXHUzMDYzXHUzMDVGXHUzMDY4XHUzMDREXHUzMDZFIFx1NTFFNlx1NzQwNlxyXG5cdFx0Ly9cdTU0MDRcdTg4NENcdTMwOTJcdTMwQzFcdTMwQTdcdTMwQzNcdTMwQUZcdTMwNTdcdTMwMDFcdTdBN0FcdTg4NENcdTMwNjdcdTMwNkFcdTMwNDRcdTUyMURcdTMwODFcdTMwNkVcdTg4NENcdTMwOTJcdTg4NjhcdTc5M0FcdTMwNTlcdTMwOEIoXHU2MkJEXHU1MUZBXHUzMEUyXHUzMEZDXHUzMEM5XHUzMDY3XHUzMDZGXHU4ODRDXHUzMDhGXHUzMDZBXHUzMDQ0KVxyXG5cdFx0Ly9pZiAodGhpcy5leHRyYWN0TW9kZSA9PSBmYWxzZSl7ICAgICAgIC8vZmlsdGVyXHU5NUEyXHU5MDIzXHUzMEIzXHUzMEUxXHUzMEYzXHUzMEM4XHUzMEEyXHUzMEE2XHUzMEM4XHJcblx0XHRpZiAodHJ1ZSkge1xyXG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGluZm8ubGluZXMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRpZiAoaW5mby5saW5lc1tqXSA9PSBcIlwiKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y29uc3Qgb3V0bGluZUVsOiBIVE1MRWxlbWVudCA9IHBhcmVudEVsLmNyZWF0ZURpdihcInRyZWUtaXRlbSBuYXYtZmlsZVwiKTtcclxuXHRcdFx0XHRcdGNvbnN0IG91dGxpbmVUaXRsZTogSFRNTEVsZW1lbnQgPSBvdXRsaW5lRWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtLXNlbGYgaXMtY2xpY2thYmxlIG5hdi1maWxlLXRpdGxlXCIpO1xyXG5cdFx0XHRcdFx0b3V0bGluZVRpdGxlLmNyZWF0ZURpdihcInRyZWUtaXRlbS1pbm5lciBuYXYtZmlsZS10aXRsZS1jb250ZW50XCIpLnNldFRleHQoaW5mby5saW5lc1tqXSk7XHJcblx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRcdFx0XHRhc3luYyAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZmlsZSAhPSB0aGlzLmFjdGl2ZUZpbGUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUoZmlsZSk7XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGZhbHNlLFxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdC8vIFx1MzBDNFx1MzBGQ1x1MzBFQlx1MzBDMVx1MzBDM1x1MzBEN1x1MzBEN1x1MzBFQ1x1MzBEM1x1MzBFNVx1MzBGQ1xyXG5cdFx0XHRcdFx0Y29uc3QgcHJldmlld1RleHQyOiBzdHJpbmcgPSBpbmZvLmxpbmVzLmpvaW4oXCJcXG5cIik7XHJcblx0XHRcdFx0XHRzZXRUb29sdGlwKG91dGxpbmVUaXRsZSwgcHJldmlld1RleHQyLCB7IGNsYXNzZXM6IFtcIk1OTy1wcmV2aWV3XCJdIH0pO1xyXG5cdFx0XHRcdFx0b3V0bGluZVRpdGxlLmRhdGFzZXQudG9vbHRpcFBvc2l0aW9uID0gdGhpcy5zZXR0aW5ncy50b29sdGlwUHJldmlld0RpcmVjdGlvbjtcclxuXHRcdFx0XHRcdG91dGxpbmVUaXRsZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRvb2x0aXAtZGVsYXlcIiwgXCIxMFwiKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHQvLyBtYWluXHU0RUU1XHU1OTE2XHUzMDZFXHU1ODM0XHU1NDA4XHUzMDAxYmFja2xpbmsgZmlsZXNcdTMwNkVcdTUxRTZcdTc0MDZcclxuXHRpZiAoXHJcblx0XHRjYXRlZ29yeSA9PSBcIm1haW5cIiB8fFxyXG5cdFx0dGhpcy5zZXR0aW5ncy5zaG93QmFja2xpbmtzID09IGZhbHNlIHx8XHJcblx0XHQhaW5mby5iYWNrbGlua3MgfHxcclxuXHRcdChjYXRlZ29yeSA9PSBcImJhY2tsaW5rXCIgJiYgdGhpcy5zZXR0aW5ncy5oaWRlTWlub3IyaG9wTGluaylcclxuXHQpIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblx0YmFja2xpbmtmaWxlbG9vcDogZm9yIChsZXQgaSA9IDA7IGkgPCBpbmZvLmJhY2tsaW5rcz8ubGVuZ3RoOyBpKyspIHtcclxuXHRcdC8vIHRhcmdldEZpbGVzXHUzMDZCXHU1NDJCXHUzMDdFXHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDhDXHUzMDcwXHU5NjY0XHU1OTE2XHUzMDU5XHUzMDhCXHJcblxyXG5cdFx0Zm9yIChjb25zdCB0YXJnZXRDYXRlZ29yeSBpbiB0aGlzLnRhcmdldEZpbGVzKSB7XHJcblx0XHRcdGlmICh0aGlzLnRhcmdldEZpbGVzW3RhcmdldENhdGVnb3J5XS5pbmNsdWRlcyhpbmZvLmJhY2tsaW5rc1tpXSkpIHtcclxuXHRcdFx0XHRjb250aW51ZSBiYWNrbGlua2ZpbGVsb29wO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgb3V0bGluZUVsOiBIVE1MRWxlbWVudCA9IHBhcmVudEVsLmNyZWF0ZURpdihcInRyZWUtaXRlbSBuYXYtZmlsZVwiKTtcclxuXHRcdGNvbnN0IG91dGxpbmVUaXRsZTogSFRNTEVsZW1lbnQgPSBvdXRsaW5lRWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtLXNlbGYgaXMtY2xpY2thYmxlIG5hdi1maWxlLXRpdGxlXCIpO1xyXG5cclxuXHRcdC8vXHUzMEEyXHUzMEE0XHUzMEIzXHUzMEYzIGljb25cclxuXHRcdHN3aXRjaCAodGhpcy5zZXR0aW5ncy5pY29uLmJhY2tsaW5rKSB7XHJcblx0XHRcdGNhc2UgXCJub25lXCI6XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgXCJjdXN0b21cIjpcclxuXHRcdFx0XHRzZXRJY29uKG91dGxpbmVUaXRsZSwgdGhpcy5zZXR0aW5ncy5jdXN0b21JY29uLmJhY2tsaW5rKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRzZXRJY29uKG91dGxpbmVUaXRsZSwgdGhpcy5zZXR0aW5ncy5pY29uLmJhY2tsaW5rKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHJcblx0XHRvdXRsaW5lVGl0bGUuc3R5bGUucGFkZGluZ0xlZnQgPSBcIjAuNWVtXCI7XHJcblx0XHRvdXRsaW5lVGl0bGUuY3JlYXRlRGl2KFwidHJlZS1pdGVtLWlubmVyIG5hdi1maWxlLXRpdGxlLWNvbnRlbnRcIikuc2V0VGV4dChpbmZvLmJhY2tsaW5rc1tpXS5iYXNlbmFtZSk7XHJcblxyXG5cdFx0Ly9cdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTY2NDJcclxuXHRcdG91dGxpbmVUaXRsZS5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdGFzeW5jIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdGF3YWl0IG9wZW5FbGVtZW50UG9zaXRpb24oaW5mby5iYWNrbGlua3NbaV0sIG51bGwsIHVuZGVmaW5lZCwgdGhpcy5hcHApO1xyXG5cdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSBCb29sZWFuKGluZm8uYmFja2xpbmtzW2ldICE9IHRoaXMuYWN0aXZlRmlsZSk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGZhbHNlLFxyXG5cdFx0KTtcclxuXHJcblx0XHQvL2hvdmVyIHByZXZpZXdcclxuXHRcdG91dGxpbmVUaXRsZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UudHJpZ2dlcihcImhvdmVyLWxpbmtcIiwge1xyXG5cdFx0XHRcdGV2ZW50LFxyXG5cdFx0XHRcdHNvdXJjZTogTXVsdGlwbGVOb3Rlc091dGxpbmVWaWV3VHlwZSxcclxuXHRcdFx0XHRob3ZlclBhcmVudDogcGFyZW50RWwsIC8vIHJvb3RFbFx1MjE5MnBhcmVudEVsXHUzMDZCXHUzMDU3XHUzMDVGXHJcblx0XHRcdFx0dGFyZ2V0RWw6IG91dGxpbmVUaXRsZSxcclxuXHRcdFx0XHRsaW5rdGV4dDogaW5mby5iYWNrbGlua3NbaV0ucGF0aCxcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBjb250ZXh0bWVudVxyXG5cdFx0b3V0bGluZVRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0Y29uc3QgbWVudSA9IG5ldyBNZW51KCk7XHJcblx0XHRcdC8vXHUzMEVBXHUzMEYzXHUzMEFGXHU1MTQ4XHUzMDkyXHU2NUIwXHU4OThGXHUzMEJGXHUzMEQ2XHUzMDZCXHU5NThCXHUzMDRGXHJcblx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIGJhY2tsaW5rIGZpbGUgaW4gbmV3IHRhYlwiKVxyXG5cdFx0XHRcdFx0LnNldEljb24oXCJmaWxlLXBsdXNcIilcclxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgb3BlbkVsZW1lbnRQb3NpdGlvbihpbmZvLmJhY2tsaW5rc1tpXSwgbnVsbCwgXCJ0YWJcIiwgdGhpcy5hcHApO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmhvbGRVcGRhdGVPbmNlID0gQm9vbGVhbihpbmZvLmJhY2tsaW5rc1tpXSAhPSB0aGlzLmFjdGl2ZUZpbGUpO1xyXG5cdFx0XHRcdFx0fSksXHJcblx0XHRcdCk7XHJcblx0XHRcdC8vXHUzMEVBXHUzMEYzXHUzMEFGXHU1MTQ4XHUzMDkyXHU1M0YzXHUzMDZCXHU5NThCXHUzMDRGXHJcblx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIGJhY2tsaW5rIGZpbGUgdG8gdGhlIHJpZ2h0XCIpXHJcblx0XHRcdFx0XHQuc2V0SWNvbihcInNlcGFyYXRvci12ZXJ0aWNhbFwiKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCBvcGVuRWxlbWVudFBvc2l0aW9uKGluZm8uYmFja2xpbmtzW2ldLCBudWxsLCBcInNwbGl0XCIsIHRoaXMuYXBwKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5ob2xkVXBkYXRlT25jZSA9IEJvb2xlYW4oaW5mby5iYWNrbGlua3NbaV0gIT0gdGhpcy5hY3RpdmVGaWxlKTtcclxuXHRcdFx0XHRcdH0pLFxyXG5cdFx0XHQpO1xyXG5cdFx0XHQvL1x1MzBFQVx1MzBGM1x1MzBBRlx1NTE0OFx1MzA5Mlx1NjVCMFx1ODk4Rlx1MzBBNlx1MzBBM1x1MzBGM1x1MzBDOVx1MzBBNlx1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XHJcblx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0LnNldFRpdGxlKFwiT3BlbiBiYWNrbGluayBmaWxlIGluIG5ldyB3aW5kb3dcIilcclxuXHRcdFx0XHRcdC5zZXRJY29uKFwic2NhblwiKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCBvcGVuRWxlbWVudFBvc2l0aW9uSW5Qb3BvdXRXaW5kb3coaW5mby5iYWNrbGlua3NbaV0sIG51bGwsIHRoaXMuc2V0dGluZ3MsIHRoaXMuYXBwKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5ob2xkVXBkYXRlT25jZSA9IEJvb2xlYW4oaW5mby5iYWNrbGlua3NbaV0gIT0gdGhpcy5hY3RpdmVGaWxlKTtcclxuXHRcdFx0XHRcdH0pLFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRtZW51LnNob3dBdE1vdXNlRXZlbnQoZXZlbnQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBcdTMwQThcdTMwRUNcdTMwRTFcdTMwRjNcdTMwQzhcdTMwNkVcdTRGNERcdTdGNkVcdTMwOTJcdTk1OEJcdTMwNEZcclxuYXN5bmMgZnVuY3Rpb24gb3BlbkVsZW1lbnRQb3NpdGlvbihcclxuXHRmaWxlOiBURmlsZSB8IG51bGwsXHJcblx0cG9zaXRpb246IG51bGwgfCBQb3MsXHJcblx0bWV0aG9kOiB1bmRlZmluZWQgfCBcInRhYlwiIHwgXCJzcGxpdFwiLFxyXG5cdGFwcDogQXBwLFxyXG4pIHtcclxuXHRhd2FpdCBhcHAud29ya3NwYWNlLmdldExlYWYobWV0aG9kKS5vcGVuRmlsZShmaWxlKTtcclxuXHRpZiAocG9zaXRpb24pIHtcclxuXHRcdHNjcm9sbFRvRWxlbWVudChwb3NpdGlvbi5zdGFydD8ubGluZSwgMCwgYXBwKTtcclxuXHR9XHJcbn1cclxuLy8gXHUzMEE4XHUzMEVDXHUzMEUxXHUzMEYzXHUzMEM4XHUzMDZFXHU0RjREXHU3RjZFXHUzMDkyXHU2NUIwXHU4OThGXHUzMEE2XHUzMEEzXHUzMEYzXHUzMEM5XHUzMEE2XHUzMDY3XHU5NThCXHUzMDRGXHJcbmFzeW5jIGZ1bmN0aW9uIG9wZW5FbGVtZW50UG9zaXRpb25JblBvcG91dFdpbmRvdyhcclxuXHRmaWxlOiBURmlsZSxcclxuXHRwb3NpdGlvbjogbnVsbCB8IFBvcyxcclxuXHRzZXR0aW5nczogTXVsdGlwbGVOb3Rlc091dGxpbmVTZXR0aW5ncyxcclxuXHRhcHA6IEFwcCxcclxuKSB7XHJcblx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlXHJcblx0XHQub3BlblBvcG91dExlYWYoe1xyXG5cdFx0XHRzaXplOiB7XHJcblx0XHRcdFx0d2lkdGg6IHNldHRpbmdzLnBvcG91dFNpemUud2lkdGgsXHJcblx0XHRcdFx0aGVpZ2h0OiBzZXR0aW5ncy5wb3BvdXRTaXplLmhlaWdodCxcclxuXHRcdFx0fSxcclxuXHRcdH0pXHJcblx0XHQub3BlbkZpbGUoZmlsZSk7XHJcblx0aWYgKHBvc2l0aW9uKSB7XHJcblx0XHRzY3JvbGxUb0VsZW1lbnQocG9zaXRpb24uc3RhcnQ/LmxpbmUsIDAsIHRoaXMuYXBwKTtcclxuXHR9XHJcblx0aWYgKHNldHRpbmdzLnBvcG91dEFsd2F5c09uVG9wKSB7XHJcblx0XHRzZXRQb3BvdXRBbHdheXNPblRvcCgpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gIFx1MzBBOFx1MzBFQ1x1MzBFMVx1MzBGM1x1MzBDOFx1MzA2RVx1NEY0RFx1N0Y2RVx1MzA3RVx1MzA2N1x1MzBCOVx1MzBBRlx1MzBFRFx1MzBGQ1x1MzBFQlxyXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsVG9FbGVtZW50KGxpbmU6IG51bWJlciwgY29sOiBudW1iZXIsIGFwcDogQXBwKTogdm9pZCB7XHJcblx0Y29uc3QgdmlldyA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xyXG5cdGlmICh2aWV3KSB7XHJcblx0XHR2aWV3LnNldEVwaGVtZXJhbFN0YXRlKHsgbGluZSB9KTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFBvcG91dEFsd2F5c09uVG9wKCkge1xyXG5cdGNvbnN0IGFjdGl2ZVdpbmRvdyA9IHJlbW90ZS5Ccm93c2VyV2luZG93LmdldEZvY3VzZWRXaW5kb3coKTtcclxuXHRhY3RpdmVXaW5kb3cuc2V0QWx3YXlzT25Ub3AodHJ1ZSk7XHJcbn1cclxuXHJcbi8vIHRhcmdldEZpbGVzXHU5NTkzXHUzMDZFXHUzMEVBXHUzMEYzXHUzMEFGXHUzMDkyXHU4ODY4XHU3OTNBXHUzMDU5XHUzMDc5XHUzMDREXHUzMDRCXHU1MjI0XHU1QjlBXHJcbmZ1bmN0aW9uIGNoZWNrTGlua3NCZXR3ZWVuUmVsYXRlZEZpbGVzKFxyXG5cdGxpbmtUYXJnZXQ6IFRGaWxlIHwgbnVsbCxcclxuXHRjYXRlZ29yeTogc3RyaW5nLFxyXG5cdHNldHRpbmdzOiBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzLFxyXG5cdHRhcmdldEZpbGVzOiB7IFtjYXRlZ29yeTogc3RyaW5nXTogVEZpbGVbXSB9LFxyXG4pOiBib29sZWFuIHtcclxuXHRpZiAoIWxpbmtUYXJnZXQpIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHRpZiAoc2V0dGluZ3MuaGlkZUxpbmtzQmV0d2VlblJlbGF0ZWRGaWxlcyA9PSBcIm1haW5Pbmx5XCIpIHtcclxuXHRcdGlmIChjYXRlZ29yeSA9PSBcIm1haW5cIikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRpZiAobGlua1RhcmdldC5wYXRoID09IHRhcmdldEZpbGVzLm1haW4/LlswXS5wYXRoKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHNldHRpbmdzLmhpZGVMaW5rc0JldHdlZW5SZWxhdGVkRmlsZXMgPT0gXCJ0b01haW5Pbmx5XCIpIHtcclxuXHRcdGlmIChsaW5rVGFyZ2V0LnBhdGggPT0gdGFyZ2V0RmlsZXMubWFpbj8uWzBdLnBhdGgpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAoc2V0dGluZ3MuaGlkZUxpbmtzQmV0d2VlblJlbGF0ZWRGaWxlcyA9PSBcImFsbFwiKSB7XHJcblx0XHRmb3IgKGNvbnN0IGNhdGVnb3J5IGluIHRhcmdldEZpbGVzKSB7XHJcblx0XHRcdGlmICh0YXJnZXRGaWxlc1tjYXRlZ29yeV0uc29tZSgodGFyZ2V0ZmlsZSkgPT4gdGFyZ2V0ZmlsZS5wYXRoID09IGxpbmtUYXJnZXQucGF0aCkpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8vIFx1MzBDNFx1MzBGQ1x1MzBFQlx1MzBDMVx1MzBDM1x1MzBEN1x1MzBEN1x1MzBFQ1x1MzBEM1x1MzBFNVx1MzBGQ1x1MzA2RVx1MzBDNlx1MzBBRFx1MzBCOVx1MzBDOFx1MzA5Mlx1NzUxRlx1NjIxMFxyXG5mdW5jdGlvbiBtYWtlVG9vbHRpcFByZXZpZXdUZXh0KFxyXG5cdGo6IG51bWJlcixcclxuXHRpbmZvOiBGaWxlSW5mbyxcclxuXHRkYXRhOiBPdXRsaW5lRGF0YVtdLFxyXG5cdHNldHRpbmdzOiBNdWx0aXBsZU5vdGVzT3V0bGluZVNldHRpbmdzLFxyXG4pOiBzdHJpbmcge1xyXG5cdGxldCBwcmV2aWV3VGV4dCA9IFwiXCI7XHJcblxyXG5cdC8vIFx1MzA3RVx1MzA1QVx1NkIyMVx1MzA2RVx1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1ODk4MVx1N0QyMFx1MzA2RVx1NUYxNVx1NjU3MFx1MzA5Mlx1NzI3OVx1NUI5QVxyXG5cdGxldCBlbmRMaW5lOiBudW1iZXIgPSBpbmZvLm51bU9mTGluZXMgLSAxOyAvL1x1NTIxRFx1NjcxRlx1NTAyNFx1MzA2Rlx1NjU4N1x1N0FFMFx1NjcyQlxyXG5cdGxldCBrID0gaiArIDE7IC8vIFx1NzNGRVx1NTcyOFx1MzA2RVx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1NUYxNVx1NjU3MCsxXHUzMDRCXHUzMDg5XHUzMEVCXHUzMEZDXHUzMEQ3XHU5NThCXHU1OUNCXHJcblx0d2hpbGUgKGsgPCBkYXRhLmxlbmd0aCkge1xyXG5cdFx0Ly9cdTg4NjhcdTc5M0FcdTMwNTlcdTMwOEJcdTMwQThcdTMwRUNcdTMwRTFcdTMwRjNcdTMwQzhcdTMwQkZcdTMwQTRcdTMwRDdcdTMwNjdcdTMwNDJcdTMwOENcdTMwNzBcdTg4NENcdTMwOTJcdTUzRDZcdTVGOTdcdTMwNTdcdTMwNjZcdTMwRUJcdTMwRkNcdTMwRDdcdTMwOTJcdTYyNTNcdTMwNjFcdTUyMDdcdTMwOEJcclxuXHRcdGlmIChzZXR0aW5ncy5zaG93RWxlbWVudHNbZGF0YVtrXS50eXBlT2ZFbGVtZW50XSkge1xyXG5cdFx0XHQvL1x1MzA1Rlx1MzA2MFx1MzA1N1x1NTQwNFx1N0EyRVx1MzA2RVx1NUI5Rlx1OTY5Qlx1MzA2Qlx1MzA2Rlx1OTc1RVx1ODg2OFx1NzkzQVx1MzA2OFx1MzA2QVx1MzA4Qlx1Njc2MVx1NEVGNlx1MzA5Mlx1NkU4MFx1MzA1Rlx1MzA1N1x1MzA2Nlx1MzA0NFx1MzA1Rlx1MzA4OVx1NjI1M1x1MzA2MVx1NTIwN1x1MzA4OVx1MzA2QVx1MzA0NFxyXG5cdFx0XHQvLyBcdTMwRUFcdTMwQjlcdTMwQzhcdTMwNkVcdThBMkRcdTVCOUFcdTMwNkJcdTMwODhcdTMwOEJcdTk3NUVcdTg4NjhcdTc5M0FcclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdGRhdGFba10udHlwZU9mRWxlbWVudCA9PSBcImxpc3RJdGVtc1wiICYmXHJcblx0XHRcdFx0KGRhdGFba10ubGV2ZWwgPj0gMiB8fFxyXG5cdFx0XHRcdFx0KHNldHRpbmdzLmFsbFJvb3RJdGVtcyA9PSBmYWxzZSAmJlxyXG5cdFx0XHRcdFx0XHRkYXRhW2tdLmxldmVsID09IDEgJiZcclxuXHRcdFx0XHRcdFx0KHNldHRpbmdzLmFsbFRhc2tzID09IGZhbHNlIHx8IGRhdGFba10udGFzayA9PT0gdm9pZCAwKSkgfHxcclxuXHRcdFx0XHRcdChzZXR0aW5ncy50YXNrT25seSAmJiBkYXRhW2tdLnRhc2sgPT09IHZvaWQgMCkgfHxcclxuXHRcdFx0XHRcdChzZXR0aW5ncy5oaWRlQ29tcGxldGVkVGFza3MgJiYgZGF0YVtrXS50YXNrID09IFwieFwiKSlcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0aysrO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdC8vIFx1ODk4Qlx1NTFGQVx1MzA1N1x1MzA2RVx1MzBFQ1x1MzBEOVx1MzBFQlx1MzA2Qlx1MzA4OFx1MzA4Qlx1OTc1RVx1ODg2OFx1NzkzQVxyXG5cdFx0XHR9IGVsc2UgaWYgKGRhdGFba10udHlwZU9mRWxlbWVudCA9PSBcImhlYWRpbmdcIiAmJiBkYXRhW2tdLmxldmVsID4gc2V0dGluZ3MubWF4SGVhZGluZ0xldmVsKSB7XHJcblx0XHRcdFx0aysrO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVuZExpbmUgPSBkYXRhW2tdLnBvc2l0aW9uLnN0YXJ0LmxpbmUgLSAxO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRrKys7XHJcblx0fVxyXG5cdGZvciAobGV0IGwgPSBkYXRhW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmU7IGwgPD0gZW5kTGluZTsgbCsrKSB7XHJcblx0XHRwcmV2aWV3VGV4dCA9IHByZXZpZXdUZXh0ICsgaW5mby5saW5lc1tsXSArIFwiXFxuXCI7XHJcblx0fVxyXG5cdC8vIFx1N0E3QVx1ODg0Q1x1MzA5Mlx1OTY2NFx1NTNCQlxyXG5cdHByZXZpZXdUZXh0ID0gcHJldmlld1RleHQucmVwbGFjZSgvXFxuJHxcXG4oPz1cXG4pL2csIFwiXCIpO1xyXG5cdHJldHVybiBwcmV2aWV3VGV4dDtcclxufVxyXG4iLCAiaW1wb3J0IHsgVEFic3RyYWN0RmlsZSwgc2V0SWNvbiwgVEZvbGRlciwgVEZpbGUsIE1lbnUgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgZGVsZXRlRmF2QW5kUmVjZW50LCB1cGRhdGVGYXZBbmRSZWNlbnQgfSBmcm9tIFwiLi9GYXZBbmRSZWNlbnRcIjtcclxuaW1wb3J0IHsgY29uc3RydWN0T3V0bGluZURPTSB9IGZyb20gXCIuL2NvbnN0cnVjdE91dGxpbmVET01cIjtcclxuaW1wb3J0IHsgQ2F0ZWdvcnksIE11bHRpcGxlTm90ZXNPdXRsaW5lVmlld1R5cGUgfSBmcm9tIFwiLi9maWxlVmlld1wiO1xyXG5pbXBvcnQgeyBnZXRGaWxlSW5mbywgZ2V0T3V0bGluZSB9IGZyb20gXCIuL2dldE91dGxpbmVcIjtcclxuaW1wb3J0IHsgRmlsZVN0YXR1cywgRmlsZUluZm8sIE91dGxpbmVEYXRhIH0gZnJvbSBcIi4vbWFpblwiO1xyXG5pbXBvcnQgeyBjaGVja0ZsYWcsIHJlbW92ZUZsYWcsIGFkZEZsYWcgfSBmcm9tIFwiLi91dGlsXCI7XHJcblxyXG5pbXBvcnQgeyByZW1vdGUgfSBmcm9tIFwiZWxlY3Ryb25cIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb25zdHJ1Y3ROb3RlRE9NKFxyXG5cdGZpbGVzOiBUQWJzdHJhY3RGaWxlW10sXHJcblx0c3RhdHVzOiBGaWxlU3RhdHVzW10sXHJcblx0aW5mbzogRmlsZUluZm9bXSxcclxuXHRkYXRhOiBPdXRsaW5lRGF0YVtdW10sXHJcblx0cGFyZW50RWw6IEhUTUxFbGVtZW50LFxyXG5cdGNhdGVnb3J5OiBDYXRlZ29yeSxcclxuXHRhb3RFbDogSFRNTEVsZW1lbnQsXHJcblx0c3JjRmlsZTogVEFic3RyYWN0RmlsZSxcclxuXHRvcmRlcjogbnVtYmVyW10sXHJcbik6IHZvaWQge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGNvbnN0IHNpID0gb3JkZXJbaV07IC8vIHNvcnRlZCBpXHJcblxyXG5cdFx0Ly8gXHU5MUNEXHU4OTA3XHUzMDU3XHUzMDY2XHUzMDRBXHUzMDhBXHUzMDAxXHUzMDRCXHUzMDY0XHU5MUNEXHU4OTA3XHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDZGXHU5NzVFXHU4ODY4XHU3OTNBXHU4QTJEXHU1QjlBXHUzMDY3XHUzMDQyXHUzMDhDXHUzMDcwXHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHJcblx0XHRpZiAoT2JqZWN0LnZhbHVlcyhzdGF0dXNbc2ldLmR1cGxpY2F0ZWQpLmluY2x1ZGVzKHRydWUpICYmIHRoaXMuc2V0dGluZ3MuaGlkZUR1cGxpY2F0ZWQpIHtcclxuXHRcdFx0Y29udGludWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgbm90ZVR5cGUgPSBzdGF0dXNbc2ldLmlzRm9sZGVyID8gXCJmb2xkZXJcIiA6IFwiZmlsZVwiO1xyXG5cclxuXHRcdC8vIFx1MzBDRVx1MzBGQ1x1MzBDOFx1MzA2RVx1MzBCRlx1MzBBNFx1MzBDOFx1MzBFQlx1OTBFOFx1NTIwNlx1NEY1Q1x1NjIxMCAoRXhwbG9yZXJcdTMwNkVcdTMwRDVcdTMwQTlcdTMwRUJcdTMwQzBcdTMwNkJcdTc2RjhcdTVGNTNcdUZGMDlcclxuXHRcdC8vIEFPVFx1MzBENVx1MzBFOVx1MzBCMFx1MzBBQVx1MzBGM1x1MzA2QVx1MzA4OVx1MzBDOFx1MzBDM1x1MzBEN1x1MzA2QlxyXG5cdFx0Y29uc3QgYmVsb25nc0FPVCA9XHJcblx0XHRcdEJvb2xlYW4oc3RhdHVzW3NpXS5pc1RvcCA9PSB0cnVlICYmICFPYmplY3QudmFsdWVzKHN0YXR1c1tzaV0uZHVwbGljYXRlZCkuaW5jbHVkZXModHJ1ZSkpICYmXHJcblx0XHRcdGNhdGVnb3J5ICE9IFwibWFpblwiO1xyXG5cdFx0bGV0IG5vdGVFbDogSFRNTEVsZW1lbnQ7XHJcblx0XHRpZiAoYmVsb25nc0FPVCkge1xyXG5cdFx0XHRub3RlRWwgPSBhb3RFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0gbmF2LWZvbGRlclwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5vdGVFbCA9IHBhcmVudEVsLmNyZWF0ZURpdihcInRyZWUtaXRlbSBuYXYtZm9sZGVyXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IG5vdGVUaXRsZUVsOiBIVE1MRWxlbWVudCA9IG5vdGVFbC5jcmVhdGVEaXYoXHJcblx0XHRcdFwidHJlZS1pdGVtLXNlbGYgaXMtY2xpY2thYmxlIG1vZC1jb2xsYXBzaWJsZSBuYXYtZm9sZGVyLXRpdGxlXCIsXHJcblx0XHQpO1xyXG5cclxuXHRcdC8vIFx1MzBBMlx1MzBBNFx1MzBCM1x1MzBGM1x1MzA2RVx1OEEyRFx1NUI5QVxyXG5cdFx0bGV0IG5JY29uO1xyXG5cdFx0aWYgKGJlbG9uZ3NBT1QpIHtcclxuXHRcdFx0bkljb24gPSBcInBpblwiO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKG5vdGVUeXBlID09IFwiZm9sZGVyXCIpIHtcclxuXHRcdFx0XHRuSWNvbiA9IFwiZm9sZGVyXCI7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bkljb24gPSBcImZpbGVcIjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0c2V0SWNvbihub3RlVGl0bGVFbCwgbkljb24pO1xyXG5cclxuXHRcdC8vXHUzMENFXHUzMEZDXHUzMEM4XHUzMEJGXHUzMEE0XHUzMEM4XHUzMEVCXHUzMDZFXHU4OUFBXHU4OTgxXHU3RDIwXHUzMDRDbW9kLXJvb3RcdTMwQUZcdTMwRTlcdTMwQjlcdTMwOTJcdTU0MkJcdTMwN0VcdTMwNkFcdTMwNDRcdTMwNkFcdTMwODlcdTMwMDF2aWV3XHU0RTBBXHUzMDZGMlx1OTY4RVx1NUM2NFx1NzZFRVx1MzA2Qlx1NEY0RFx1N0Y2RVx1MzA1OVx1MzA4Qlx1MzA2RVx1MzA2N1x1MzAwMXN0aWNreVx1MzA2RVx1ODg2OFx1NzkzQVx1NEY0RFx1N0Y2RVx1MzA5Mlx1NEUwQlx1MzA1Mlx1MzA4QmlzLXN1YmZvbGRlclx1MzBBRlx1MzBFOVx1MzBCOVx1MzA5Mlx1NEVEOFx1NEUwRVx1MzA1OVx1MzA4QlxyXG5cdFx0aWYgKCFub3RlRWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2Qtcm9vdFwiKSkge1xyXG5cdFx0XHRub3RlVGl0bGVFbC5jbGFzc0xpc3QuYWRkKFwiaXMtc3ViZm9sZGVyXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IG5vdGVDaGlsZHJlbkVsOiBIVE1MRWxlbWVudCA9IG5vdGVFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0tY2hpbGRyZW4gbmF2LWZvbGRlci1jaGlsZHJlblwiKTtcclxuXHJcblx0XHQvLyBpZCBcdTRFRDhcdTUyQTBcclxuXHRcdG5vdGVDaGlsZHJlbkVsLmlkID0gXCJNTk9cIiArIHRoaXMudmlld1R5cGUgKyBmaWxlc1tzaV0ucGF0aDtcclxuXHJcblx0XHQvLyBcdTYyOThcdTMwOEFcdTMwNUZcdTMwNUZcdTMwN0ZcdTMwQTJcdTMwQTRcdTMwQjNcdTMwRjNcclxuXHRcdGNvbnN0IG5vdGVDb2xsYXBzZUljb246IEhUTUxFbGVtZW50ID0gbm90ZVRpdGxlRWwuY3JlYXRlRGl2KFxyXG5cdFx0XHRcInRyZWUtaXRlbS1pY29uIGNvbGxhcHNlLWljb24gbmF2LWZvbGRlci1jb2xsYXBzZS1pbmRpY2F0b3JcIixcclxuXHRcdCk7XHJcblx0XHRzZXRJY29uKG5vdGVDb2xsYXBzZUljb24sIFwicmlnaHQtdHJpYW5nbGVcIik7XHJcblxyXG5cdFx0Ly8gIFx1NjI5OFx1MzA4QVx1MzA1Rlx1MzA1Rlx1MzA3Rlx1MzBBMlx1MzBBNFx1MzBCM1x1MzBGM1x1MzBBRlx1MzBFQVx1MzBDM1x1MzBBRlx1NjY0Mlx1MzA2RVx1NTFFNlx1NzQwNlxyXG5cdFx0bm90ZUNvbGxhcHNlSWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdFx0Ly8gXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHUzMDRDXHU4QUFEXHUzMDdGXHU4RkJDXHUzMDdFXHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDZBXHUzMDQ0XHU1ODM0XHU1NDA4XHJcblx0XHRcdGlmICghc3RhdHVzW3NpXS5vdXRsaW5lUmVhZHkpIHtcclxuXHRcdFx0XHRpZiAobm90ZVR5cGUgPT0gXCJmb2xkZXJcIikge1xyXG5cdFx0XHRcdFx0Ly8gXHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEMwXHUzMDZFXHU1ODM0XHU1NDA4XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnByb2Nlc3NGb2xkZXIoZmlsZXNbc2ldIGFzIFRGb2xkZXIpO1xyXG5cdFx0XHRcdFx0c3RhdHVzW3NpXS5vdXRsaW5lUmVhZHkgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdG5vdGVFbC5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtY29sbGFwc2VkXCIpO1xyXG5cdFx0XHRcdFx0bm90ZUNvbGxhcHNlSWNvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtY29sbGFwc2VkXCIpO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0cnVjdE5vdGVET00uY2FsbChcclxuXHRcdFx0XHRcdFx0dGhpcyxcclxuXHRcdFx0XHRcdFx0dGhpcy50YXJnZXRGaWxlc1tmaWxlc1tzaV0ucGF0aF0sXHJcblx0XHRcdFx0XHRcdHRoaXMuZmlsZVN0YXR1c1tmaWxlc1tzaV0ucGF0aF0sXHJcblx0XHRcdFx0XHRcdHRoaXMuZmlsZUluZm9bZmlsZXNbc2ldLnBhdGhdLFxyXG5cdFx0XHRcdFx0XHR0aGlzLm91dGxpbmVEYXRhW2ZpbGVzW3NpXS5wYXRoXSxcclxuXHRcdFx0XHRcdFx0bm90ZUNoaWxkcmVuRWwsXHJcblx0XHRcdFx0XHRcdFwiZm9sZGVyXCIsXHJcblx0XHRcdFx0XHRcdGFvdEVsLFxyXG5cdFx0XHRcdFx0XHRzcmNGaWxlLFxyXG5cdFx0XHRcdFx0XHR0aGlzLmZpbGVPcmRlcltmaWxlc1tzaV0ucGF0aF0sXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0bm90ZUVsLmFwcGVuZENoaWxkKG5vdGVDaGlsZHJlbkVsKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKChmaWxlc1tzaV0gYXMgVEZpbGUpPy5leHRlbnNpb24gPT0gXCJtZFwiKSB7XHJcblx0XHRcdFx0XHRpbmZvW3NpXSA9IGF3YWl0IGdldEZpbGVJbmZvKFxyXG5cdFx0XHRcdFx0XHR0aGlzLmFwcCxcclxuXHRcdFx0XHRcdFx0ZmlsZXNbc2ldIGFzIFRGaWxlLFxyXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLFxyXG5cdFx0XHRcdFx0XHRmYWxzZSxcclxuXHRcdFx0XHRcdFx0dGhpcy5pc0RhdGF2aWV3RW5hYmxlZCxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRkYXRhW3NpXSA9IGF3YWl0IGdldE91dGxpbmUodGhpcy5hcHAsIGZpbGVzW3NpXSBhcyBURmlsZSwgc3RhdHVzW3NpXSwgaW5mb1tzaV0sIHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0c3RhdHVzW3NpXS5vdXRsaW5lUmVhZHkgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdG5vdGVFbC5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtY29sbGFwc2VkXCIpO1xyXG5cdFx0XHRcdFx0bm90ZUNvbGxhcHNlSWNvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtY29sbGFwc2VkXCIpO1xyXG5cclxuXHRcdFx0XHRcdC8vIG5vdGVET01cdTMwNkJcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTYwQzVcdTU4MzFcdTMwOTJcdThGRkRcdTUyQTBcclxuXHRcdFx0XHRcdGF0dGFjaEZpbGVJbmZvKG5vdGVUaXRsZUVsLCBzdGF0dXNbc2ldLCBpbmZvW3NpXSwgZGF0YVtzaV0sIHRoaXMuc2V0dGluZ3MuZGlzcGxheUZpbGVJbmZvKTtcclxuXHJcblx0XHRcdFx0XHRjb25zdHJ1Y3RPdXRsaW5lRE9NLmNhbGwodGhpcywgZmlsZXNbc2ldLCBpbmZvW3NpXSwgZGF0YVtzaV0sIG5vdGVDaGlsZHJlbkVsLCBjYXRlZ29yeSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vbWRcdTRFRTVcdTU5MTZcdTMwNkVcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAoc3RhdHVzW3NpXS5pc0ZvbGRlZCkge1xyXG5cdFx0XHRcdC8vIFx1MzBENVx1MzBBOVx1MzBGQ1x1MzBFQlx1MzBDOVx1MzA1NVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA4Qlx1NTgzNFx1NTQwOFxyXG5cclxuXHRcdFx0XHQvLyBcdTUwMEJcdTUyMjVcdTMwRDVcdTMwQTlcdTMwRkNcdTMwRUJcdTMwQzlcdTMwRDVcdTMwRTlcdTMwQjBcdTMwOTJcdTk2NjRcdTUzQkJcclxuXHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHQhdGhpcy5jb2xsYXBzZUFsbCAmJlxyXG5cdFx0XHRcdFx0KCFzdGF0dXNbc2ldLmR1cGxpY2F0ZWQubWFpbiB8fCAhdGhpcy5zZXR0aW5ncy5zaG93RmlsZXMubWFpbikgJiZcclxuXHRcdFx0XHRcdCghc3RhdHVzW3NpXS5kdXBsaWNhdGVkLm91dGdvaW5nIHx8ICF0aGlzLnNldHRpbmdzLnNob3dGaWxlcy5vdXRnb2luZykgJiZcclxuXHRcdFx0XHRcdCFzdGF0dXNbc2ldLmR1cGxpY2F0ZWQuc2VsZlxyXG5cdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0aWYgKGNoZWNrRmxhZyhzcmNGaWxlLCBmaWxlc1tzaV0sIFwiZm9sZFwiLCB0aGlzLnNldHRpbmdzKSkge1xyXG5cdFx0XHRcdFx0XHRyZW1vdmVGbGFnKHNyY0ZpbGUsIGZpbGVzW3NpXSwgXCJmb2xkXCIsIHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFx1MzBBQVx1MzBGQ1x1MzBEN1x1MzBGM1x1NTFFNlx1NzQwNlxyXG5cdFx0XHRcdG5vdGVFbC5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtY29sbGFwc2VkXCIpO1xyXG5cdFx0XHRcdG5vdGVDb2xsYXBzZUljb24uY2xhc3NMaXN0LnJlbW92ZShcImlzLWNvbGxhcHNlZFwiKTtcclxuXHRcdFx0XHRzdGF0dXNbc2ldLmlzRm9sZGVkID0gZmFsc2U7XHJcblx0XHRcdFx0bm90ZUNoaWxkcmVuRWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBcdTk1OEJcdTMwNDRcdTMwNjZcdTMwNDRcdTMwOEJcdTU4MzRcdTU0MDhcclxuXHJcblx0XHRcdFx0Ly8gXHU1MDBCXHU1MjI1XHUzMEQ1XHUzMEE5XHUzMEZDXHUzMEVCXHUzMEM5XHUzMEQ1XHUzMEU5XHUzMEIwXHUzMDkyXHU4RkZEXHU1MkEwXHJcblx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0IXRoaXMuY29sbGFwc2VBbGwgJiZcclxuXHRcdFx0XHRcdCghc3RhdHVzW3NpXS5kdXBsaWNhdGVkLm1haW4gfHwgIXRoaXMuc2V0dGluZ3Muc2hvd0ZpbGVzLm1haW4pICYmXHJcblx0XHRcdFx0XHQoIXN0YXR1c1tzaV0uZHVwbGljYXRlZC5vdXRnb2luZyB8fCAhdGhpcy5zZXR0aW5ncy5zaG93RmlsZXMub3V0Z29pbmcpICYmXHJcblx0XHRcdFx0XHQhc3RhdHVzW3NpXS5kdXBsaWNhdGVkLnNlbGZcclxuXHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdGFkZEZsYWcoc3JjRmlsZSwgZmlsZXNbc2ldLCBcImZvbGRcIiwgdGhpcy5zZXR0aW5ncyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cclxuXHRcdFx0XHQvLyBcdTMwRDVcdTMwQTlcdTMwRkNcdTMwRUJcdTMwQzlcdTUxRTZcdTc0MDZcclxuXHRcdFx0XHRub3RlRWwuY2xhc3NMaXN0LmFkZChcImlzLWNvbGxhcHNlZFwiKTtcclxuXHRcdFx0XHRub3RlQ29sbGFwc2VJY29uLmNsYXNzTGlzdC5hZGQoXCJpcy1jb2xsYXBzZWRcIik7XHJcblx0XHRcdFx0c3RhdHVzW3NpXS5pc0ZvbGRlZCA9IHRydWU7XHJcblx0XHRcdFx0bm90ZUNoaWxkcmVuRWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTU0MERcclxuXHRcdGxldCBuYW1lTGFiZWwgPSBub3RlVHlwZSA9PSBcImZvbGRlclwiID8gZmlsZXNbc2ldLm5hbWUgOiAoZmlsZXNbc2ldIGFzIFRGaWxlKS5iYXNlbmFtZTtcclxuXHRcdGlmIChub3RlVHlwZSA9PSBcImZvbGRlclwiKSB7XHJcblx0XHRcdG5hbWVMYWJlbCA9IGZpbGVzW3NpXS5uYW1lO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bmFtZUxhYmVsID0gKGZpbGVzW3NpXSBhcyBURmlsZSkuYmFzZW5hbWU7XHJcblx0XHRcdGlmICgoZmlsZXNbc2ldIGFzIFRGaWxlKS5leHRlbnNpb24gIT09IFwibWRcIikge1xyXG5cdFx0XHRcdG5hbWVMYWJlbCA9IG5hbWVMYWJlbCArIFwiLlwiICsgKGZpbGVzW3NpXSBhcyBURmlsZSkuZXh0ZW5zaW9uO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRub3RlVGl0bGVFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0taW5uZXIgbmF2LWZvbGRlci10aXRsZS1jb250ZW50XCIpLnNldFRleHQobmFtZUxhYmVsKTtcclxuXHJcblx0XHQvL1x1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1NTQwRFx1MzA2RVx1NUY4Q1x1MzA2RVx1NjBDNVx1NTgzMVx1MzA5Mlx1ODg2OFx1NzkzQVxyXG5cdFx0YXR0YWNoRmlsZUluZm8obm90ZVRpdGxlRWwsIHN0YXR1c1tzaV0sIGluZm9bc2ldLCBkYXRhW3NpXSwgdGhpcy5zZXR0aW5ncy5kaXNwbGF5RmlsZUluZm8pO1xyXG5cclxuXHRcdC8vIGRyYWcmZHJvcFxyXG5cdFx0aWYgKGZpbGVzW3NpXSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcblx0XHRcdG5vdGVUaXRsZUVsLnNldEF0dHIoXCJkcmFnZ2FibGVcIiwgXCJ0cnVlXCIpO1xyXG5cdFx0XHRub3RlVGl0bGVFbC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgZHJhZ01hbmFnZXIgPSAodGhpcy5hcHAgYXMgYW55KS5kcmFnTWFuYWdlcjtcclxuXHRcdFx0XHRjb25zdCBkcmFnRGF0YSA9IGRyYWdNYW5hZ2VyLmRyYWdGaWxlKGV2ZW50LCBmaWxlc1tzaV0pO1xyXG5cdFx0XHRcdGRyYWdNYW5hZ2VyLm9uRHJhZ1N0YXJ0KGV2ZW50LCBkcmFnRGF0YSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vXHUzMENFXHUzMEZDXHUzMEM4XHUzMEJGXHUzMEE0XHUzMEM4XHUzMEVCXHUzMDkyXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDVGXHUzMDg5XHUzMDVEXHUzMDZFXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDkyb3BlblxyXG5cdFx0aWYgKG5vdGVUeXBlID09IFwiZmlsZVwiKSB7XHJcblx0XHRcdG5vdGVUaXRsZUVsLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRcdChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGZpbGVzW3NpXSAhPSB0aGlzLmFjdGl2ZUZpbGUpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5ob2xkVXBkYXRlT25jZSA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpLm9wZW5GaWxlKGZpbGVzW3NpXSk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRmYWxzZSxcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vaG92ZXIgcHJldmlld1xyXG5cdFx0XHRub3RlVGl0bGVFbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS50cmlnZ2VyKFwiaG92ZXItbGlua1wiLCB7XHJcblx0XHRcdFx0XHRldmVudCxcclxuXHRcdFx0XHRcdHNvdXJjZTogTXVsdGlwbGVOb3Rlc091dGxpbmVWaWV3VHlwZSxcclxuXHRcdFx0XHRcdGhvdmVyUGFyZW50OiBwYXJlbnRFbCwgLy8gcm9vdEVsXHUyMTkycGFyZW50RWxcdTMwNkJcdTMwNTdcdTMwNUZcclxuXHRcdFx0XHRcdHRhcmdldEVsOiBub3RlVGl0bGVFbCxcclxuXHRcdFx0XHRcdGxpbmt0ZXh0OiBmaWxlc1tzaV0ucGF0aCxcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gXHUzMEIzXHUzMEYzXHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHUzMEUxXHUzMENCXHUzMEU1XHUzMEZDXHJcblx0XHRub3RlVGl0bGVFbC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xyXG5cclxuXHRcdFx0bWVudS5hZGRTZXBhcmF0b3IoKTtcclxuXHJcblx0XHRcdC8vQWx3YXlzIG9uIFRvcCBcdTMwNkJcdTYzMDdcdTVCOUEvXHU4OUUzXHU5NjY0XHJcblx0XHRcdGlmIChjaGVja0ZsYWcoc3JjRmlsZSwgZmlsZXNbc2ldLCBcInRvcFwiLCB0aGlzLnNldHRpbmdzKSkge1xyXG5cdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiTU5POiBTdG9wIGRpc3BsYXlpbmcgYXQgdGhlIHRvcFwiKVxyXG5cdFx0XHRcdFx0XHQuc2V0SWNvbihcInBpbi1vZmZcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHJlbW92ZUZsYWcoc3JjRmlsZSwgZmlsZXNbc2ldLCBcInRvcFwiLCB0aGlzLnNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnJlZnJlc2hWaWV3KHRydWUsIHRydWUpO1xyXG5cdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiTU5POiBBbHdheXMgZGlzcGxheSBhdCB0aGUgdG9wXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwicGluXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRhZGRGbGFnKHNyY0ZpbGUsIGZpbGVzW3NpXSwgXCJ0b3BcIiwgdGhpcy5zZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5yZWZyZXNoVmlldyh0cnVlLCB0cnVlKTtcclxuXHRcdFx0XHRcdFx0fSksXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZmF2b3JpdGVcdTMwNkJcdThGRkRcdTUyQTAvXHU1MjRBXHU5NjY0XHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmZhdm9yaXRlW25vdGVUeXBlXS5pbmNsdWRlcyhmaWxlc1tzaV0ucGF0aCkpIHtcclxuXHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XHJcblx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk1OTzogUmVtb3ZlIGZyb20gZmF2b3JpdGVzXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwiYm9va21hcmstbWludXNcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGRlbGV0ZUZhdkFuZFJlY2VudC5jYWxsKHRoaXMsIGZpbGVzW3NpXS5wYXRoLCBub3RlVHlwZSwgXCJmYXZvcml0ZVwiKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSksXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XHJcblx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk1OTzogQWRkIHRvIGZhdm9yaXRlc1wiKVxyXG5cdFx0XHRcdFx0XHQuc2V0SWNvbihcImJvb2ttYXJrLXBsdXNcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHVwZGF0ZUZhdkFuZFJlY2VudC5jYWxsKHRoaXMsIGZpbGVzW3NpXS5wYXRoLCBub3RlVHlwZSwgXCJmYXZvcml0ZVwiKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSksXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRtZW51LmFkZFNlcGFyYXRvcigpO1xyXG5cclxuXHRcdFx0aWYgKG5vdGVUeXBlID09IFwiZmlsZVwiKSB7XHJcblx0XHRcdFx0Ly9cdTY1QjBcdTg5OEZcdTMwQkZcdTMwRDYgXHUzMDZCXHU5NThCXHUzMDRGXHJcblx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIGluIG5ldyB0YWJcIilcclxuXHRcdFx0XHRcdFx0LnNldEljb24oXCJmaWxlLXBsdXNcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChmaWxlc1tzaV0gIT0gdGhpcy5hY3RpdmVGaWxlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmhvbGRVcGRhdGVPbmNlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZihcInRhYlwiKS5vcGVuRmlsZShmaWxlc1tzaV0pO1xyXG5cdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdC8vXHU1M0YzXHUzMDZCXHU5NThCXHUzMDRGXHJcblx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIHRvIHRoZSByaWdodFwiKVxyXG5cdFx0XHRcdFx0XHQuc2V0SWNvbihcInNlcGFyYXRvci12ZXJ0aWNhbFwiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGZpbGVzW3NpXSAhPSB0aGlzLmFjdGl2ZUZpbGUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKFwic3BsaXRcIikub3BlbkZpbGUoZmlsZXNbc2ldKTtcclxuXHRcdFx0XHRcdFx0fSksXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHQvL1x1NjVCMFx1ODk4Rlx1MzBBNlx1MzBBM1x1MzBGM1x1MzBDOVx1MzBBNlx1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiT3BlbiBpbiBuZXcgd2luZG93XCIpXHJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwic2NhblwiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGZpbGVzW3NpXSAhPSB0aGlzLmFjdGl2ZUZpbGUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuaG9sZFVwZGF0ZU9uY2UgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHQvLyBhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZignd2luZG93Jykub3BlbkZpbGUobGlua1RhcmdldCk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlXHJcblx0XHRcdFx0XHRcdFx0XHQub3BlblBvcG91dExlYWYoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplOiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2lkdGg6IHRoaXMuc2V0dGluZ3MucG9wb3V0U2l6ZS53aWR0aCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ6IHRoaXMuc2V0dGluZ3MucG9wb3V0U2l6ZS5oZWlnaHQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0Lm9wZW5GaWxlKGZpbGVzW3NpXSk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MucG9wb3V0QWx3YXlzT25Ub3ApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHNldFBvcG91dEFsd2F5c09uVG9wKCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBcdTMwODJcdTMwNTdcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTMwNENcdTZFOTZcdTUwOTlcdTMwNjdcdTMwNERcdTMwNjZcdTMwNDRcdTMwNkFcdTMwNTFcdTMwOENcdTMwNzBcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcdTMwNTlcdTMwOEJcclxuXHRcdGlmICghc3RhdHVzW3NpXS5vdXRsaW5lUmVhZHkpIHtcclxuXHRcdFx0bm90ZUVsLmNsYXNzTGlzdC5hZGQoXCJpcy1jb2xsYXBzZWRcIik7XHJcblx0XHRcdG5vdGVDb2xsYXBzZUljb24uY2xhc3NMaXN0LmFkZChcImlzLWNvbGxhcHNlZFwiKTtcclxuXHRcdFx0Y29udGludWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG5vdGVUeXBlID09IFwiZm9sZGVyXCIpIHtcclxuXHRcdFx0Ly8gXHUzMEI1XHUzMEQ2XHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEMwXHUzMDZFRE9NXHUzMDkyXHU0RjVDXHU2MjEwXHJcblx0XHRcdGNvbnN0cnVjdE5vdGVET00uY2FsbChcclxuXHRcdFx0XHR0aGlzLFxyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXNbZmlsZXNbc2ldLnBhdGhdLFxyXG5cdFx0XHRcdHRoaXMuZmlsZVN0YXR1c1tmaWxlc1tzaV0ucGF0aF0sXHJcblx0XHRcdFx0dGhpcy5maWxlSW5mb1tmaWxlc1tzaV0ucGF0aF0sXHJcblx0XHRcdFx0dGhpcy5vdXRsaW5lRGF0YVtmaWxlc1tzaV0ucGF0aF0sXHJcblx0XHRcdFx0bm90ZUNoaWxkcmVuRWwsXHJcblx0XHRcdFx0XCJmb2xkZXJcIixcclxuXHRcdFx0XHRhb3RFbCxcclxuXHRcdFx0XHRzcmNGaWxlLFxyXG5cdFx0XHRcdHRoaXMuZmlsZU9yZGVyW2ZpbGVzW3NpXS5wYXRoXSxcclxuXHRcdFx0KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIFx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM0RPTVx1MzA5Mlx1NEY1Q1x1NjIxMFxyXG5cdFx0XHRjb25zdHJ1Y3RPdXRsaW5lRE9NLmNhbGwodGhpcywgZmlsZXNbc2ldLCBpbmZvW3NpXSwgZGF0YVtzaV0sIG5vdGVDaGlsZHJlbkVsLCBjYXRlZ29yeSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gXHU2Mjk4XHUzMDhBXHUzMDVGXHUzMDVGXHUzMDdFXHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDhDXHUzMDcwXHU1QjUwXHU4OTgxXHU3RDIwXHUzMDkyXHU5NzVFXHU4ODY4XHU3OTNBXHUzMDZCXHUzMDU5XHUzMDhCXHJcblx0XHQvLyBcdTYyOThcdTMwOEFcdTMwNUZcdTMwNUZcdTMwN0VcdTMwOENcdTMwNjZcdTMwNDRcdTMwOEJcdTMwNkVcdTMwNkZcdTRFRTVcdTRFMEJcdTMwNkVcdTMwQjFcdTMwRkNcdTMwQjlcclxuXHRcdC8vIGNvbGxwYXNlQWxsXHUzMDRDXHU2NzA5XHU1MkI5XHUzMDZBXHU1ODM0XHU1NDA4XHUzMDAxXHJcblx0XHQvLyBcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwRDNcdTMwRTVcdTMwRkNcdTMwNjdcdTU0MDRcdTMwQUJcdTMwQzZcdTMwQjRcdTMwRUFcdUZGMDhcdTMwRTFcdTMwQTRcdTMwRjMvXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEI0XHUzMEZDXHUzMEE0XHUzMEYzXHUzMEIwL1x1ODFFQVx1MzBBQlx1MzBDNlx1MzBCNFx1MzBFQVx1RkYwOVx1MzA2Qlx1OTFDRFx1ODkwN1x1MzA0Q1x1MzA0Mlx1MzA4Qlx1NTgzNFx1NTQwOFx1MzAwMVxyXG5cdFx0Ly8gcmVsYXRlZEZpbGVzXHUzMDY3XHU2Mjk4XHUzMDhBXHUzMDVGXHUzMDVGXHUzMDdGXHUzMEQ1XHUzMEU5XHUzMEIwXHUzMDRDXHU3QUNCXHUzMDYzXHUzMDY2XHUzMDQ0XHUzMDhCXHU1ODM0XHU1NDA4XHJcblx0XHRpZiAoXHJcblx0XHRcdHRoaXMuY29sbGFwc2VBbGwgfHxcclxuXHRcdFx0KHN0YXR1c1tzaV0uZHVwbGljYXRlZC5tYWluICYmIHRoaXMuc2V0dGluZ3Muc2hvd0ZpbGVzLm1haW4pIHx8XHJcblx0XHRcdChzdGF0dXNbc2ldLmR1cGxpY2F0ZWQub3V0Z29pbmcgJiYgdGhpcy5zZXR0aW5ncy5zaG93RmlsZXMub3V0Z29pbmcpIHx8XHJcblx0XHRcdHN0YXR1c1tzaV0uZHVwbGljYXRlZC5zZWxmIHx8XHJcblx0XHRcdHRoaXMuc2V0dGluZ3MucmVsYXRlZEZpbGVzPy5bc3JjRmlsZS5wYXRoXT8uW2ZpbGVzW3NpXS5wYXRoXT8uZm9sZFxyXG5cdFx0KSB7XHJcblx0XHRcdG5vdGVFbC5jbGFzc0xpc3QuYWRkKFwiaXMtY29sbGFwc2VkXCIpO1xyXG5cdFx0XHRub3RlQ29sbGFwc2VJY29uLmNsYXNzTGlzdC5hZGQoXCJpcy1jb2xsYXBzZWRcIik7XHJcblx0XHRcdHN0YXR1c1tzaV0uaXNGb2xkZWQgPSB0cnVlO1xyXG5cdFx0XHRub3RlQ2hpbGRyZW5FbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdGF0dXNbc2ldLmlzRm9sZGVkID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG4vLyBcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTYwQzVcdTU4MzFcdTMwOTJcdTRFRDhcdTUyQTBcdTg4NjhcdTc5M0FcclxuZnVuY3Rpb24gYXR0YWNoRmlsZUluZm8oXHJcblx0dGFyZ2V0RWw6IEhUTUxFbGVtZW50LFxyXG5cdHN0YXR1czogRmlsZVN0YXR1cyxcclxuXHRpbmZvOiBGaWxlSW5mbyxcclxuXHRkYXRhOiBPdXRsaW5lRGF0YVtdLFxyXG5cdGRpc3BsYXlGaWxlSW5mbzogc3RyaW5nLFxyXG4pOiB2b2lkIHtcclxuXHRpZiAoIXN0YXR1cy5pc0ZvbGRlcikge1xyXG5cdFx0c3dpdGNoIChkaXNwbGF5RmlsZUluZm8pIHtcclxuXHRcdFx0Y2FzZSBcImxpbmVzXCI6XHJcblx0XHRcdFx0dGFyZ2V0RWwuZGF0YXNldC5zdWJpbmZvID0gc3RhdHVzLm91dGxpbmVSZWFkeSA/IGluZm8ubnVtT2ZMaW5lcy50b1N0cmluZygpIDogXCJcIjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBcInRhZ1wiOlxyXG5cdFx0XHRcdGlmIChzdGF0dXMub3V0bGluZVJlYWR5KSB7XHJcblx0XHRcdFx0XHRjb25zdCBmaXJzdHRhZ0luZGV4ID0gZGF0YS5maW5kSW5kZXgoKGVsZW1lbnQsIGluZGV4KSA9PiBkYXRhW2luZGV4XS50eXBlT2ZFbGVtZW50ID09IFwidGFnXCIpO1xyXG5cdFx0XHRcdFx0aWYgKGZpcnN0dGFnSW5kZXggPj0gMCkge1xyXG5cdFx0XHRcdFx0XHR0YXJnZXRFbC5kYXRhc2V0LnN1YmluZm8gPSBkYXRhW2ZpcnN0dGFnSW5kZXhdLmRpc3BsYXlUZXh0O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBcIm5vbmVcIjpcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCBNdWx0aXBsZU5vdGVzT3V0bGluZVBsdWdpbiwgeyBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSBcInNyYy9tYWluXCI7XHJcbmltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE11bHRpcGxlTm90ZXNPdXRsaW5lU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogTXVsdGlwbGVOb3Rlc091dGxpbmVQbHVnaW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE11bHRpcGxlTm90ZXNPdXRsaW5lUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJTaG93IGhlYWRpbmdzXCIpLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMuaGVhZGluZykub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmhlYWRpbmcgPSB2YWx1ZTtcclxuXHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJTaG93IGxpbmtzXCIpLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMubGluaykub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpbmsgPSB2YWx1ZTtcclxuXHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJTaG93IHRhZ3NcIikuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy50YWcpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy50YWcgPSB2YWx1ZTtcclxuXHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJTaG93IGxpc3QgaXRlbXMgJiB0YXNrc1wiKS5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpc3RJdGVtcykub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpc3RJdGVtcyA9IHZhbHVlO1xyXG5cdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpc3RJdGVtcykge1xyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZShcIlNob3cgYWxsIHJvb3QgbGlzdCBpdGVtc1wiKVxyXG5cdFx0XHRcdC5zZXREZXNjKFwiaWYgZGlzYWJsZWQsIG9ubHkgdG9wIGl0ZW0gb2YgdGhlIGxpc3QgaXMgZGlzcGxheWVkXCIpXHJcblx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxSb290SXRlbXMpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxSb290SXRlbXMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKFwiU2hvdyBhbGwgdGFza3NcIilcclxuXHRcdFx0XHQuc2V0RGVzYyhcInNob3cgYWxsIHRhc2sgaXRlbXMgcmVnYXJkbGVzcyBvZiB0aGVpciBsZXZlbFwiKVxyXG5cdFx0XHRcdC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYWxsVGFza3MpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxUYXNrcyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJUYXNrIG9ubHlcIilcclxuXHRcdFx0XHQuc2V0RGVzYyhcImlmIGVuYWJsZWQsIG5vcm1hbCBsaXN0IGl0ZW1zIGFyZSBoaWRkZW5cIilcclxuXHRcdFx0XHQuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRhc2tPbmx5KS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudGFza09ubHkgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKFwiSGlkZSBjb21wbGV0ZWQgdGFza3NcIilcclxuXHRcdFx0XHQuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZGVDb21wbGV0ZWRUYXNrcykub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZGVDb21wbGV0ZWRUYXNrcyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJTaG93IGxpc3QgY2FsbG91dHNcIilcclxuXHRcdFx0XHQuc2V0RGVzYyhcInNob3dzIGxpc3QgaXRlbXMgbWFya2VkIHdpdGggTGlzdCBDYWxsb3V0cyBwbHVnaW5cIilcclxuXHRcdFx0XHQuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRpc3BMaXN0Q2FsbG91dHMpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kaXNwTGlzdENhbGxvdXRzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJTaG93IGJhY2tsaW5rIGZpbGVzXCIpLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93QmFja2xpbmtzKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93QmFja2xpbmtzID0gdmFsdWU7XHJcblx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKFwiQ29sbGFwc2UgYWxsIGF0IHN0YXJ0dXBcIikuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbGxhcHNlQWxsQXRTdGFydHVwKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb2xsYXBzZUFsbEF0U3RhcnR1cCA9IHZhbHVlO1xyXG5cdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBcdTg4NjhcdTc5M0FcdTMwNTlcdTMwOEJcdTYwQzVcdTU4MzFcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIkRpc3BsYXkgZmlsZSBpbmZvcm1hdGlvblwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcImRpc3BsYXkgdGhlIG51bWJlciBvZiBsaW5lcyBvZiB0aGUgZmlsZSAvIHRoZSBmaXJzdCB0YWcgd2l0aCB0aGUgZmlsZSBuYW1lXCIpXHJcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuXHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKFwibGluZXNcIiwgXCJsaW5lcyBvZiB0aGUgbm90ZVwiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcInRhZ1wiLCBcImZpcnN0IHRhZ1wiKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRpc3BsYXlGaWxlSW5mbylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGlzcGxheUZpbGVJbmZvID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdC8vIHZpZXdcdTMwOTJcdTg4NjhcdTc5M0FcdTMwNTlcdTMwOEJcdTRGNERcdTdGNkUgXHVGRjA4XHU1M0YzXHUzMEI1XHUzMEE0XHUzMEM5XHUzMEQwXHUzMEZDXHUzMDAxXHU1REU2XHUzMEI1XHUzMEE0XHUzMEM5XHUzMEQwXHUzMEZDXHUzMDAxXHUzMEUxXHUzMEE0XHUzMEYzXHUzMERBXHUzMEE0XHUzMEYzXHVGRjA5XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJQb3NpdGlvbiBvZiB0aGUgcGx1Z2luIHZpZXdcIilcclxuXHRcdFx0LnNldERlc2MoXCJTcGVjaWZ5IGRlZmF1bHQgcG9zaXRpb24gd2hlcmUgdGhpcyBwbHVnaW4ncyB2aWV3IGFwcGVhcnNcIilcclxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG5cdFx0XHRcdGRyb3Bkb3duXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKFwicmlnaHRcIiwgXCJyaWdodCBzaWRlIHBhbmVcIilcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oXCJsZWZ0XCIsIFwibGVmdCBzaWRlIHBhbmVcIilcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oXCJ0YWJcIiwgXCJuZXcgdGFiIGluIG1haW4gcGFuZVwiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcInNwbGl0XCIsIFwic3BsaXR0ZWQgcGFuZVwiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcInBvcG91dFwiLCBcInBvcG91dCB3aW5kb3dcIilcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy52aWV3UG9zaXRpb24pXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnZpZXdQb3NpdGlvbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQvLyBzb3J0IHR5cGVcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIlNvcnQgdHlwZVwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIlNwZWNpZnkgc29ydCBvcmRlclwiKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcblx0XHRcdFx0ZHJvcGRvd25cclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oXCJhbHBoYWJldEFzY2VuZGluZ1wiLCBcIkZpbGUgbmFtZSAoQSB0byBaKVwiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcImFscGhhYmV0RGVzY2VuZGluZ1wiLCBcIkZpbGUgbmFtZSAoWiB0byBBKVwiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcIm10aW1lRGVzY2VuZGluZ1wiLCBcIk1vZGlmaWVkIHRpbWUgKG5ldyB0byBvbGQpIFwiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcIm10aW1lQXNjZW5kaW5nXCIsIFwiTW9kaWZpZWQgdGltZSAob2xkIHRvIG5ldykgXCIpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKFwiY3RpbWVEZXNjZW5kaW5nXCIsIFwiQ3JlYXRlZCB0aW1lIChuZXcgdG8gb2xkKSBcIilcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oXCJjdGltZUFzY2VuZGluZ1wiLCBcIkNyZWF0ZWQgdGltZSAob2xkIHRvIG5ldykgXCIpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc29ydFR5cGUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoXHJcblx0XHRcdFx0XHRcdGFzeW5jIChcclxuXHRcdFx0XHRcdFx0XHR2YWx1ZTpcclxuXHRcdFx0XHRcdFx0XHRcdHwgXCJhbHBoYWJldEFzY2VuZGluZ1wiXHJcblx0XHRcdFx0XHRcdFx0XHR8IFwiYWxwaGFiZXREZXNjZW5kaW5nXCJcclxuXHRcdFx0XHRcdFx0XHRcdHwgXCJjdGltZURlc2NlbmRpbmdcIlxyXG5cdFx0XHRcdFx0XHRcdFx0fCBcImN0aW1lQXNjZW5kaW5nXCJcclxuXHRcdFx0XHRcdFx0XHRcdHwgXCJtdGltZURlc2NlbmRpbmdcIlxyXG5cdFx0XHRcdFx0XHRcdFx0fCBcIm10aW1lQXNjZW5kaW5nXCIsXHJcblx0XHRcdFx0XHRcdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNvcnRUeXBlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcodHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG5cdFx0XHR0ZXh0OiBcIkZpbGUgVmlld1wiLFxyXG5cdFx0XHRjbHM6IFwic2V0dGluZy1jYXRlZ29yeVwiLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJPcGVuIEZpbGUgVmlldyBhdCBzdGFydHVwXCIpLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuQXRTdGFydHVwLmZpbGUpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5BdFN0YXJ0dXAuZmlsZSA9IHZhbHVlO1xyXG5cdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJPcGVuIGxhc3QgdmlldyBhdCBzdGFydHVwXCIpXHJcblx0XHRcdC5zZXREZXNjKFwiSWYgZW5hYmxlZCwgdGhlIG1vc3QgcmVjZW50bHkgb3BlbmVkIHZpZXcgaXMgb3BlbmVkIHdoZW4gRmlsZSBWaWV3IGlzIGxhdW5jaGVkLlwiKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlblJlY2VudEF0U3RhcnR1cC5maWxlKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5SZWNlbnRBdFN0YXJ0dXAuZmlsZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gXHU1NDA0XHUzMEFCXHUzMEM2XHUzMEI0XHUzMEVBXHUzMDZFXHU4ODY4XHU3OTNBL1x1OTc1RVx1ODg2OFx1NzkzQVxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJTaG93IHRoZSBtYWluIHRhcmdldCBmaWxlIHNlY3Rpb25cIikuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dGaWxlcy5tYWluKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RmlsZXMubWFpbiA9IHZhbHVlO1xyXG5cdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIlNob3cgdGhlIHRoZSBvdXRnb2luZyBmaWxlcyBzZWN0aW9uXCIpLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RmlsZXMub3V0Z29pbmcpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dGaWxlcy5vdXRnb2luZyA9IHZhbHVlO1xyXG5cdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIlNob3cgdGhlIHRoZSBiYWNrbGluayBmaWxlcyBzZWN0aW9uXCIpLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RmlsZXMuYmFja2xpbmspLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dGaWxlcy5iYWNrbGluayA9IHZhbHVlO1xyXG5cdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJVcGRhdGUgRmlsZSBWaWV3IHdoZW4gYW5vdGhlciBmaWxlIGJlY29tZXMgYWN0aXZlXCIpXHJcblx0XHRcdC5zZXREZXNjKFxyXG5cdFx0XHRcdFwiQXV0b21hdGljYWxseSB1cGRhdGUgdGhlIHZpZXcgd2hlbiBhbm90aGVyIGZpbGUgYmVjb21lcyBhY3RpdmUoZGVmYXVsdCA9IG9uKS4gVGhlIHZpZXcgaXMgbm90IHVwZGF0ZWQgaWYgdGhlIHRyYW5zaXRpb24gaXMgbWFkZSB2aWEgY2xpY2tpbmcgb24gdGhlIE1OTyB2aWV3IGl0ZW1zLlwiLFxyXG5cdFx0XHQpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvdXBkYXRlRmlsZVZpZXcpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b3VwZGF0ZUZpbGVWaWV3ID0gdmFsdWU7XHJcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQvLyBNTk8gdmlld1x1N0Q0Q1x1NzUzMVx1MzA2N1x1OTA3N1x1NzlGQlx1MzA1N1x1MzA1Rlx1NTgzNFx1NTQwOHZpZXdcdTMwNkVcdTY2RjRcdTY1QjBcdTMwOTJcdTRGRERcdTc1NTlcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvdXBkYXRlRmlsZVZpZXcpIHtcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJTdXNwZW5kIHVwZGF0ZSBieSBjbGlja2luZyBvbiB2aWV3IGl0ZW1cIilcclxuXHRcdFx0XHQuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG5cdFx0XHRcdC5zZXREZXNjKFxyXG5cdFx0XHRcdFx0XCJzdXNwZW5kIHVwZGF0aW5nIHRoZSB2aWV3IHdoZW4gdGhlIGFjdGl2ZSBmaWxlIGlzIGNoYW5nZWQgYnkgY2xpY2tpbmcgb24gaXRlbXMgaW4gdGhlIEZpbGUgVmlldyhkZWZhdWx0ID0gb24pXCIsXHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnN1c3BlbmRVcGRhdGVCeUNsaWNraW5nVmlldykub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnN1c3BlbmRVcGRhdGVCeUNsaWNraW5nVmlldyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJIaWRlIGR1cGxpY2F0ZSBub3Rlc1wiKVxyXG5cdFx0XHQuc2V0RGVzYyhcImhpZGVzIG5vdGVzIHRoYXQgYXBwZWFyIG11bHRpcGxlIHRpbWVzIGluIHRoZSBvdXRsaW5lLihkZWZhdWx0ID0gb24pXCIpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWRlRHVwbGljYXRlZCkub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWRlRHVwbGljYXRlZCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiSGlkZSBsaW5rIGVsZW1lbnRzIGJldHdlZW4gZGlzcGxheWVkIGZpbGVzXCIpXHJcblx0XHRcdC5zZXREZXNjKFxyXG5cdFx0XHRcdFwibWFpbiBmaWxlIG9ubHk6IGhpZGUgbGlua3MgYmV0d2VlbiB0aGUgbWFpbiBmaWxlIGFuZCBvdGhlciBkaXNwbGF5ZWQuIG90aGVyIGZpbGVzIHRvIG1haW4gZmlsZSBvbmx5OiBoaWRlIGxpbmtzIGZyb20gb3RoZXIgZGlzcGxheWVkIGZpbGVzIHRvIHRoZSBtYWluIGZpbGUuIGFsbDogaGlkZSBsaW5rcyBiZXR3ZWVuIGFsbCBkaXNwbGF5ZWQgZmlsZXMuXCIsXHJcblx0XHRcdClcclxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG5cdFx0XHRcdGRyb3Bkb3duXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oXCJtYWluT25seVwiLCBcIm1haW4gZmlsZSBvbmx5XCIpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKFwidG9NYWluT25seVwiLCBcIm90aGVyIGZpbGVzIHRvIG1haW4gZmlsZSBvbmx5XCIpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKFwiYWxsXCIsIFwiYWxsXCIpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlkZUxpbmtzQmV0d2VlblJlbGF0ZWRGaWxlcylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWU6IFwibm9uZVwiIHwgXCJtYWluT25seVwiIHwgXCJhbGxcIikgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWRlTGlua3NCZXR3ZWVuUmVsYXRlZEZpbGVzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIkhpZGUgbWlub3IgMiBob3AgbGlua3NcIilcclxuXHRcdFx0LnNldERlc2MoXHJcblx0XHRcdFx0XCJoaWRlcyBvdXRnb2luZyBsaW5rcyBpbiBvdXRnb2luZyBmaWxlcyBzZWN0aW9uIGFuZCBiYWNrbGlua3MgaW4gYmFja2xpbmsgZmlsZXMgc2VjdGlvbi4oZGVmYXVsdCA9IG9mZilcIixcclxuXHRcdFx0KVxyXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlkZU1pbm9yMmhvcExpbmspLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlkZU1pbm9yMmhvcExpbmsgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcblx0XHRcdHRleHQ6IFwiRm9sZGVyIFZpZXdcIixcclxuXHRcdFx0Y2xzOiBcInNldHRpbmctY2F0ZWdvcnlcIixcclxuXHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKFwiT3BlbiBGb2xkZXIgVmlldyBhdCBzdGFydHVwXCIpLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuQXRTdGFydHVwLmZvbGRlcikub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbkF0U3RhcnR1cC5mb2xkZXIgPSB2YWx1ZTtcclxuXHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiT3BlbiBsYXN0IHZpZXcgYXQgc3RhcnR1cFwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIklmIGVuYWJsZWQsIHRoZSBtb3N0IHJlY2VudGx5IG9wZW5lZCB2aWV3IGlzIG9wZW5lZCB3aGVuIEZvbGRlciBWaWV3IGlzIGxhdW5jaGVkLlwiKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlblJlY2VudEF0U3RhcnR1cC5mb2xkZXIpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlblJlY2VudEF0U3RhcnR1cC5mb2xkZXIgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdC8vIFx1NTQwNFx1MzBBQlx1MzBDNlx1MzBCNFx1MzBFQVx1MzA2RVx1ODg2OFx1NzkzQS9cdTk3NUVcdTg4NjhcdTc5M0FcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIkNvbGxhcHNlIHN1YmZvbGRlclwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcImRpc3BsYXkgc3ViZm9sZGVycyBpbiBjb2xsYXBzZWQgc3RhdGVcIilcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbGxhcHNlRm9sZGVyKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbGxhcHNlRm9sZGVyID0gdmFsdWU7XHJcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQvL1x1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1ODk4Qlx1NTFGQVx1MzA1N1x1MzBFQ1x1MzBEOVx1MzBFQlxyXG5cdFx0Ly8gVE9ETzogXHUzMEFEXHUzMEUzXHUzMEQ3XHUzMEI3XHUzMEU3XHUzMEYzXHUzMDkyXHU1OTA5XHU2NkY0XHJcblx0XHR0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG5cdFx0XHR0ZXh0OiBcIkhlYWRpbmdzXCIsXHJcblx0XHRcdGNsczogXCJzZXR0aW5nLWNhdGVnb3J5XCIsXHJcblx0XHR9KTtcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMuaGVhZGluZykge1xyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZShcIk1heCBoZWFkaW5nIGxldmVsIHRvIGRpc3BsYXlcIilcclxuXHRcdFx0XHQuc2V0RGVzYyhcInNwZWNpZnkgdGhlIG1heGltdW0gaGVhZGluZyBsZXZlbCB0byBkaXNwbGF5XCIpXHJcblx0XHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG5cdFx0XHRcdFx0ZHJvcGRvd25cclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcIjFcIiwgXCIxICNcIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcIjJcIiwgXCIyICMjXCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCIzXCIsIFwiMyAjIyNcIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcIjRcIiwgXCI0ICMjIyNcIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcIjVcIiwgXCI1ICMjIyMjXCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCI2XCIsIFwiNiAjIyMjIyNcIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYXhIZWFkaW5nTGV2ZWwpKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWF4SGVhZGluZ0xldmVsID0gTnVtYmVyKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG5cdFx0XHRcdHRleHQ6IFwiVG8gZGlzcGxheSB0aGlzIHNlY3Rpb24sIGFjdGl2YXRlICdTaG93IGhlYWRpbmdzJyBpbiBCYXNpY3Mgc2VjdGlvbi5cIixcclxuXHRcdFx0XHRjbHM6IFwic2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uXCIsXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0Ly9cdTMwRUFcdTMwRjNcdTMwQUZcclxuXHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcblx0XHRcdHRleHQ6IFwiTGlua3NcIixcclxuXHRcdFx0Y2xzOiBcInNldHRpbmctY2F0ZWdvcnlcIixcclxuXHRcdH0pO1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiT3BlbiBsaW5rIGJ5IGNsaWNraW5nIGxpbmsgZWxlbWVudFwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcclxuXHRcdFx0XHRcIklmIGVuYWJsZWQsIGNsaWNraW5nIG9uIGEgbGluayBlbGVtZW50IG9wZW5zIHRoZSBsaW5rZWQgZmlsZSBpbnN0ZWFkIG9mIG9wZW5pbmcgdGhlIGVsZW1lbnQncyBwb3NpdGlvbi5cIixcclxuXHRcdFx0KVxyXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbkxpbmtCeUNsaWNrKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5MaW5rQnlDbGljayA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gXHUzMEQ3XHUzMEVDXHUzMEQzXHUzMEU1XHUzMEZDXHJcblx0XHR0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG5cdFx0XHR0ZXh0OiBcIlByZXZpZXdcIixcclxuXHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIklubGluZSBwcmV2aWV3XCIpXHJcblx0XHRcdC5zZXREZXNjKFwiU2hvdyBhIGZldyBzdWJzZXF1ZW50IHdvcmRzIG5leHQgdG8gdGhlIG91dGxpbmUgZWxlbWVudCBuYW1lXCIpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmxpbmVQcmV2aWV3KS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmlubGluZVByZXZpZXcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIlRvb2x0aXAgcHJldmlld1wiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIlNob3cgc3Vic2VxdWVudCBzZW50ZW5jZXMgYXMgYSB0b29sdGlwIHdoZW4gaG92ZXJcIilcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRvb2x0aXBQcmV2aWV3KS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnRvb2x0aXBQcmV2aWV3ID0gdmFsdWU7XHJcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MudG9vbHRpcFByZXZpZXcpIHtcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJUb29sdGlwIHByZXZpZXcgZGlyZWN0aW9uXCIpXHJcblx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuXHRcdFx0XHQuc2V0RGVzYyhcInNwZWNpZnkgdGhlIGRpcmVjdGlvbiB0byBkaXNwbGF5IHRvb2x0aXAgcHJldmlld1wiKVxyXG5cdFx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuXHRcdFx0XHRcdGRyb3Bkb3duXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJsZWZ0XCIsIFwibGVmdFwiKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwicmlnaHRcIiwgXCJyaWdodFwiKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwiYm90dG9tXCIsIFwiYm90dG9tXCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJ0b3BcIiwgXCJ0b3BcIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRvb2x0aXBQcmV2aWV3RGlyZWN0aW9uKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudG9vbHRpcFByZXZpZXdEaXJlY3Rpb24gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0Ly8gUG9wb3V0IFdpbmRvd1xyXG5cdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuXHRcdFx0dGV4dDogXCJQb3BvdXQgd2luZG93XCIsXHJcblx0XHRcdGNsczogXCJzZXR0aW5nLWNhdGVnb3J5XCIsXHJcblx0XHR9KTtcclxuXHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuXHRcdFx0dGV4dDogXCJQb3BvdXQgd2luZG93IHNpemVcIixcclxuXHRcdFx0Y2xzOiBcInNldHRpbmctY2F0ZWdvcnlcIixcclxuXHRcdH0pO1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiV2lkdGhcIilcclxuXHRcdFx0LnNldERlc2MoXCJkZWZhdWx0ICYgbWluID0gNjAwXCIpXHJcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcblx0XHRcdFx0dGV4dC5pbnB1dEVsLnNldEF0dHIoXCJ0eXBlXCIsIFwibnVtYmVyXCIpO1xyXG5cdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoU3RyaW5nKERFRkFVTFRfU0VUVElOR1MucG9wb3V0U2l6ZS53aWR0aCkpLnNldFZhbHVlKFxyXG5cdFx0XHRcdFx0U3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLnBvcG91dFNpemUud2lkdGgpLFxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0bGV0IHBhcnNlZCA9IHBhcnNlSW50KChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSwgMTApO1xyXG5cdFx0XHRcdFx0aWYgKHBhcnNlZCA8PSA2MDApIHtcclxuXHRcdFx0XHRcdFx0cGFyc2VkID0gREVGQVVMVF9TRVRUSU5HUy5wb3BvdXRTaXplLndpZHRoO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucG9wb3V0U2l6ZS53aWR0aCA9IHBhcnNlZDtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIkhlaWdodFwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcImRlZmF1bHQgPSA4MDAgbWluID0gNjAwXCIpXHJcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcblx0XHRcdFx0dGV4dC5pbnB1dEVsLnNldEF0dHIoXCJ0eXBlXCIsIFwibnVtYmVyXCIpO1xyXG5cdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoU3RyaW5nKERFRkFVTFRfU0VUVElOR1MucG9wb3V0U2l6ZS5oZWlnaHQpKS5zZXRWYWx1ZShcclxuXHRcdFx0XHRcdFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wb3BvdXRTaXplLmhlaWdodCksXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0dGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRsZXQgcGFyc2VkID0gcGFyc2VJbnQoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLCAxMCk7XHJcblx0XHRcdFx0XHRpZiAocGFyc2VkIDw9IDYwMCkge1xyXG5cdFx0XHRcdFx0XHRwYXJzZWQgPSBERUZBVUxUX1NFVFRJTkdTLnBvcG91dFNpemUuaGVpZ2h0O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucG9wb3V0U2l6ZS5oZWlnaHQgPSBwYXJzZWQ7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIlNldCBwb3BvdXQgd2luZG93IGFsd2F5cyBvbiB0b3BcIikuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnBvcG91dEFsd2F5c09uVG9wKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wb3BvdXRBbHdheXNPblRvcCA9IHZhbHVlO1xyXG5cdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEFsd2F5cyBvbiBUb3BcclxuXHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcblx0XHRcdHRleHQ6IFwiQWx3YXlzIG9uIHRvcFwiLFxyXG5cdFx0XHRjbHM6IFwic2V0dGluZy1jYXRlZ29yeVwiLFxyXG5cdFx0fSk7XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJUYWdzXCIpXHJcblx0XHRcdC5zZXREZXNjKFxyXG5cdFx0XHRcdFwiTm90ZXMgd2l0aCB0YWdzIHdoaWNoIG1hdGNoIGxpc3RlZCB3b3JkcyBhcmUgZGlzcGxheWVkIG9uIHRoZSB0b3Agb2YgdGhlIGxpc3QuIFNlcGFyYXRlIHdpdGggYSBuZXcgbGluZS5cIixcclxuXHRcdFx0KVxyXG5cdFx0XHQuYWRkVGV4dEFyZWEoKHRleHRBcmVhKSA9PiB7XHJcblx0XHRcdFx0dGV4dEFyZWEuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudGFnc0FPVC5qb2luKFwiXFxuXCIpKTtcclxuXHRcdFx0XHR0ZXh0QXJlYS5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50YWdzQU9UID0gaW5wdXRlZFZhbHVlLnNwbGl0KFwiXFxuXCIpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gUmVjZW50L2Zhdm9yaXRlXHJcblx0XHR0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG5cdFx0XHR0ZXh0OiBcIlJlY2VudC9mYXZvcml0ZXNcIixcclxuXHRcdFx0Y2xzOiBcInNldHRpbmctY2F0ZWdvcnlcIixcclxuXHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKFwiTnVtYmVyIG9mIHJlY2VudCBmaWxlcy9mb2xkZXJzIHRvIGJlIHN0b3JlZFwiKS5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcblx0XHRcdHRleHQuaW5wdXRFbC5zZXRBdHRyKFwidHlwZVwiLCBcIm51bWJlclwiKTtcclxuXHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihTdHJpbmcoREVGQVVMVF9TRVRUSU5HUy5udW1PZlJlY2VudEZpbGVzKSkuc2V0VmFsdWUoXHJcblx0XHRcdFx0U3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLm51bU9mUmVjZW50RmlsZXMpLFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0dGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0bGV0IHBhcnNlZCA9IHBhcnNlSW50KChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSwgMTApO1xyXG5cdFx0XHRcdGlmIChwYXJzZWQgPD0gMCkge1xyXG5cdFx0XHRcdFx0cGFyc2VkID0gREVGQVVMVF9TRVRUSU5HUy5udW1PZlJlY2VudEZpbGVzO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5udW1PZlJlY2VudEZpbGVzID0gcGFyc2VkO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiQXV0byBwaW5cIilcclxuXHRcdFx0LnNldERlc2MoXCJXaGVuIEZpbGUgVmlldyBpcyB1cGRhdGVkIGZyb20gcmVjZW50L2Zhdm9yaXRlIGZpbGVzLCBhdXRvbWF0aWNhbGx5IHBpbiB0aGUgdmlldy5cIilcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnBpbkFmdGVySnVtcCkub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5waW5BZnRlckp1bXAgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIlNhdmUgcmVjZW50IHZpZXdcIilcclxuXHRcdFx0LnNldERlc2MoXHJcblx0XHRcdFx0XCJJZiBkaXNhYmxlZCwgdGhlIGhpc3Rvcnkgb2Ygdmlld3MgZGlzcGxheWVkIHdpbGwgbm90IGJlIHNhdmVkIHNlcXVlbnRpYWxseS4gSGlzdG9yeSBpcyBzb21ldGltZXMgbG9zdCwgYnV0IHRoZSBmcmVxdWVuY3kgb2YgZGF0YS5qc29uIHJld3JpdGluZyBhbmQgc3Vic2VxdWVudCBzeW5jaHJvbml6YXRpb24gaXMgcmVkdWNlZC5cIixcclxuXHRcdFx0KVxyXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZVJlY2VudFZpZXcpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZVJlY2VudFZpZXcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdC8vIFx1NTkxNlx1ODlCM1xyXG5cdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuXHRcdFx0dGV4dDogXCJBcHBlYXJuY2VcIixcclxuXHRcdFx0Y2xzOiBcInNldHRpbmctY2F0ZWdvcnlcIixcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFx1ODk4MVx1N0QyMFx1NTQwRFx1MzA2RVx1NjI5OFx1MzA4QVx1OEZENFx1MzA1N1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiV3JhcCBvdXRsaW5lIGVsZW1lbnQgdGV4dFwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIklmIGVuYWJsZWQsIGxvbmcgZWxlbWVudCBuYW1lcyBhcmUgZGlzcGxheWVkIHdyYXBwZWQgb24gbXVsdGlwbGUgbGluZXNcIilcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndyYXBMaW5lKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLndyYXBMaW5lID0gdmFsdWU7XHJcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQvLyBoZWFkaW5nXHUzMDZFXHUzMEE0XHUzMEYzXHUzMEM3XHUzMEYzXHUzMEM4XHUzMEVDXHUzMEQ5XHUzMEVCXHUzMDZCXHUzMDQyXHUzMDhGXHUzMDVCXHUzMDY2XHU0RUQ2XHUzMDZFXHU4OTgxXHU3RDIwXHUzMDkyXHUzMEE0XHUzMEYzXHUzMEM3XHUzMEYzXHUzMEM4XHUzMDU5XHUzMDhCXHUzMDRCXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJJbmRlbnQgb3RoZXIgdGhhbiBoZWFkaW5nc1wiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIldoZXRoZXIgb3RoZXIgZWxlbWVudHMgc2hvdWxkIGJlIGluZGVudGVkIHRvIHByZWNlZGluZyBoZWFkaW5ncyAoZGVmYXVsdCA9IHByZWNlZGluZyBoZWFkaW5nICsxKVwiKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcblx0XHRcdFx0ZHJvcGRvd25cclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oXCIwXCIsIFwibm9uZVwiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcIjFcIiwgXCJmb2xsb3cgcHJlY2VkaW5nIGhlYWRpbmdcIilcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oXCIyXCIsIFwicHJlY2VkaW5nIGhlYWRpbmcgKyAxXCIpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLmluZGVudEZvbGxvd0hlYWRpbmcpKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmRlbnRGb2xsb3dIZWFkaW5nID0gTnVtYmVyKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gXHUzMENFXHUzMEZDXHUzMEM4XHUzMEJGXHUzMEE0XHUzMEM4XHUzMEVCXHUzMDZFXHU4MENDXHU2NjZGXHU4MjcyXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJOb3RlIHRpdGxlIGJhY2tncm91bmQgY29sb3JcIilcclxuXHRcdFx0LnNldERlc2MoXHJcblx0XHRcdFx0XCJObyBjaGFuZ2U6IHVzZSB0aGUgY3VycmVudCBDU1MgdGhlbWUgc2V0dGluZyB2YWx1ZXMoVGV4dHMgbWF5IGJlIG92ZXJsYXBwZWQpLiBTYW1lIGFzIG91dGxpbmVzOiBkZWZhdWx0IHRoZW1lIGV4cGxvcmVyIGNvbG9yLiBBY2NlbnQ6IGhpZ2hsaWdodCBmaWxlIG5hbWVzLiBDdXN0b206IFNwZWNpZnkgYW55IGNvbG9yIGNvZGUuIFBsZWFzZSB1cGRhdGUgdGhlIHZpZXcgd2hlbiB5b3UgdG9nZ2xlZCBPYnNpZGlhbidzIGJhc2UgdGhlbWUobGlnaHQvZGFyaykuIChkZWZhdWx0ID0gYWNjZW50KVwiLFxyXG5cdFx0XHQpXHJcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuXHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcIm5vbmVcIiwgXCJubyBjaGFuZ2VcIilcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oXCJkZWZhdWx0XCIsIFwic2FtZSBhcyBvdXRsaW5lc1wiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcImFjY2VudFwiLCBcImFjY2VudFwiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihcImN1c3RvbVwiLCBcImN1c3RvbVwiKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm5vdGVUaXRsZUJhY2tncm91bmRDb2xvcilcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mubm90ZVRpdGxlQmFja2dyb3VuZENvbG9yID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5ub3RlVGl0bGVCYWNrZ3JvdW5kQ29sb3IgPT0gXCJjdXN0b21cIikge1xyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZShcIkN1c3RvbSBub3RlIHRpdGxlIGJhY2tncm91bmQgY29sb3IgKGxpZ2h0KVwiKVxyXG5cdFx0XHRcdC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcblx0XHRcdFx0LnNldERlc2MoXCJTcGVjaWZ5IGJhY2tncm91bmQgY29sb3IgKGV4LiAjRkZGRkZGIG9yIHJnYigyNTUsMjU1LDI1NSkpXCIpXHJcblx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHtcclxuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5zZXRBdHRyKFwidHlwZVwiLCBcInN0cmluZ1wiKTtcclxuXHRcdFx0XHRcdHRleHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tTm90ZVRpdGxlQmFja2dyb3VuZENvbG9yLmxpZ2h0KTtcclxuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbU5vdGVUaXRsZUJhY2tncm91bmRDb2xvci5saWdodCA9IGlucHV0ZWRWYWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZShcIkN1c3RvbSBub3RlIHRpdGxlIGJhY2tncm91bmQgY29sb3IgKGxpZ2h0LCBvbiBob3ZlcilcIilcclxuXHRcdFx0XHQuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG5cdFx0XHRcdC5zZXREZXNjKFwiU3BlY2lmeSBiYWNrZ3JvdW5kIGNvbG9yIG9uIGhvdmVyIChleC4gI0ZGRkZGRiBvciByZ2IoMjU1LDI1NSwyNTUpKVwiKVxyXG5cdFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuc2V0QXR0cihcInR5cGVcIiwgXCJzdHJpbmdcIik7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbU5vdGVUaXRsZUJhY2tncm91bmRDb2xvckhvdmVyLmxpZ2h0KTtcclxuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbU5vdGVUaXRsZUJhY2tncm91bmRDb2xvckhvdmVyLmxpZ2h0ID0gaW5wdXRlZFZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJDdXN0b20gbm90ZSB0aXRsZSBiYWNrZ3JvdW5kIGNvbG9yIChkYXJrKVwiKVxyXG5cdFx0XHRcdC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcblx0XHRcdFx0LnNldERlc2MoXCJTcGVjaWZ5IGJhY2tncm91bmQgY29sb3IgKGV4LiAjRkZGRkZGIG9yIHJnYigyNTUsMjU1LDI1NSkpXCIpXHJcblx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHtcclxuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5zZXRBdHRyKFwidHlwZVwiLCBcInN0cmluZ1wiKTtcclxuXHRcdFx0XHRcdHRleHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tTm90ZVRpdGxlQmFja2dyb3VuZENvbG9yLmRhcmspO1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tTm90ZVRpdGxlQmFja2dyb3VuZENvbG9yLmRhcmsgPSBpbnB1dGVkVmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJDdXN0b20gbm90ZSB0aXRsZSBiYWNrZ3JvdW5kIGNvbG9yIChkYXJrLCBvbiBob3ZlcilcIilcclxuXHRcdFx0XHQuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG5cdFx0XHRcdC5zZXREZXNjKFwiU3BlY2lmeSBiYWNrZ3JvdW5kIGNvbG9yIG9uIGhvdmVyIChleC4gI0ZGRkZGRiBvciByZ2IoMjU1LDI1NSwyNTUpKVwiKVxyXG5cdFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuc2V0QXR0cihcInR5cGVcIiwgXCJzdHJpbmdcIik7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbU5vdGVUaXRsZUJhY2tncm91bmRDb2xvckhvdmVyLmRhcmspO1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tTm90ZVRpdGxlQmFja2dyb3VuZENvbG9ySG92ZXIuZGFyayA9IGlucHV0ZWRWYWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gXHU4OThCXHU1MUZBXHUzMDU3XHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmhlYWRpbmcpIHtcclxuXHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG5cdFx0XHRcdHRleHQ6IFwiSGVhZGluZ3NcIixcclxuXHRcdFx0XHRjbHM6IFwic2V0dGluZy1jYXRlZ29yeVwiLFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJJY29uXCIpXHJcblx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcblx0XHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcImhlYWRpbmdcIiwgXCJoZWFkaW5nXCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJoYXNoXCIsIFwiaGFzaFwiKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwiY2hldnJvbi1yaWdodFwiLCBcImNoZXZyb24tcmlnaHRcIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcImhlYWRpbmd3aXRobnVtYmVyXCIsIFwiaGVhZGluZyB3aXRoIG51bWJlclwiKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwiY3VzdG9tXCIsIFwiY3VzdG9tXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmhlYWRpbmcpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmhlYWRpbmcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24uaGVhZGluZyA9PSBcImN1c3RvbVwiKSB7XHJcblx0XHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0XHQuc2V0TmFtZShcIkN1c3RvbSBpY29uXCIpXHJcblx0XHRcdFx0XHQuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudC0yXCIpXHJcblx0XHRcdFx0XHQuc2V0RGVzYyhcImVudGVyIEx1Y2lkZSBJY29uIG5hbWVcIilcclxuXHRcdFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcblx0XHRcdFx0XHRcdHRleHQuaW5wdXRFbC5zZXRBdHRyKFwidHlwZVwiLCBcInN0cmluZ1wiKTtcclxuXHRcdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLmN1c3RvbUljb24uaGVhZGluZykuc2V0VmFsdWUoXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5oZWFkaW5nLFxyXG5cdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHR0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5oZWFkaW5nID0gaW5wdXRlZFZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZShcIlByZWZpeFwiKVxyXG5cdFx0XHRcdC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcblx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHtcclxuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5zZXRBdHRyKFwidHlwZVwiLCBcInN0cmluZ1wiKTtcclxuXHRcdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5wcmVmaXguaGVhZGluZykuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LmhlYWRpbmcpO1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LmhlYWRpbmcgPSBpbnB1dGVkVmFsdWU7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXguaGVhZGluZyAhPSBcIlwiKSB7XHJcblx0XHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0XHQuc2V0TmFtZShcIlJlcGVhdCBoZWFkaW5nIHByZWZpeFwiKVxyXG5cdFx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnQtMlwiKVxyXG5cdFx0XHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG5cdFx0XHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJub25lXCIsIFwibm9uZVwiKVxyXG5cdFx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJsZXZlbFwiLCBcImFzIG1hbnkgdGltZXMgYXMgaXRzIGxldmVsXCIpXHJcblx0XHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcImxldmVsbWludXMxXCIsIFwibGV2ZWwgLSAxXCIpXHJcblx0XHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJlcGVhdEhlYWRpbmdQcmVmaXgpXHJcblx0XHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucmVwZWF0SGVhZGluZ1ByZWZpeCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKFwiQWRkIGluZGVudFwiKVxyXG5cdFx0XHRcdC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5kZW50LmhlYWRpbmcpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmRlbnQuaGVhZGluZyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1MzBFQVx1MzBGM1x1MzBBRlxyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5saW5rKSB7XHJcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuXHRcdFx0XHR0ZXh0OiBcIkxpbmtzXCIsXHJcblx0XHRcdFx0Y2xzOiBcInNldHRpbmctY2F0ZWdvcnlcIixcclxuXHRcdFx0fSk7XHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKFwiSWNvblwiKVxyXG5cdFx0XHRcdC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcblx0XHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG5cdFx0XHRcdFx0ZHJvcGRvd25cclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJsaW5rXCIsIFwibGlua1wiKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwibGluay0yXCIsIFwibGluay0yXCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJjdXN0b21cIiwgXCJjdXN0b21cIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24ubGluaylcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24ubGluayA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5saW5rID09IFwiY3VzdG9tXCIpIHtcclxuXHRcdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHRcdC5zZXROYW1lKFwiQ3VzdG9tIGljb25cIilcclxuXHRcdFx0XHRcdC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuXHRcdFx0XHRcdC5zZXREZXNjKFwiZW50ZXIgTHVjaWRlIEljb24gbmFtZVwiKVxyXG5cdFx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHtcclxuXHRcdFx0XHRcdFx0dGV4dC5pbnB1dEVsLnNldEF0dHIoXCJ0eXBlXCIsIFwic3RyaW5nXCIpO1xyXG5cdFx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MuY3VzdG9tSWNvbi5saW5rKS5zZXRWYWx1ZShcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLmxpbmssXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLmxpbmsgPSBpbnB1dGVkVmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKFwiUHJlZml4XCIpXHJcblx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuXHRcdFx0XHQuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLnNldEF0dHIoXCJ0eXBlXCIsIFwic3RyaW5nXCIpO1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLnByZWZpeC5saW5rKS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgubGluayk7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgubGluayA9IGlucHV0ZWRWYWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1MzBCRlx1MzBCMFxyXG5cclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMudGFnKSB7XHJcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuXHRcdFx0XHR0ZXh0OiBcIlRhZ3NcIixcclxuXHRcdFx0XHRjbHM6IFwic2V0dGluZy1jYXRlZ29yeVwiLFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJJY29uXCIpXHJcblx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcblx0XHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcInRhZ1wiLCBcInRhZ1wiKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwiaGFzaFwiLCBcImhhc2hcIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcImN1c3RvbVwiLCBcImN1c3RvbVwiKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi50YWcpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLnRhZyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi50YWcgPT0gXCJjdXN0b21cIikge1xyXG5cdFx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdFx0LnNldE5hbWUoXCJDdXN0b20gaWNvblwiKVxyXG5cdFx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnQtMlwiKVxyXG5cdFx0XHRcdFx0LnNldERlc2MoXCJlbnRlciBMdWNpZGUgSWNvbiBuYW1lXCIpXHJcblx0XHRcdFx0XHQuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuc2V0QXR0cihcInR5cGVcIiwgXCJzdHJpbmdcIik7XHJcblx0XHRcdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5jdXN0b21JY29uLnRhZykuc2V0VmFsdWUoXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi50YWcsXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLnRhZyA9IGlucHV0ZWRWYWx1ZTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJQcmVmaXhcIilcclxuXHRcdFx0XHQuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG5cdFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuc2V0QXR0cihcInR5cGVcIiwgXCJzdHJpbmdcIik7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MucHJlZml4LnRhZykuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LnRhZyk7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgudGFnID0gaW5wdXRlZFZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gXHUzMEVBXHUzMEI5XHUzMEM4XHJcblxyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5saW5rKSB7XHJcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuXHRcdFx0XHR0ZXh0OiBcIkxpc3QgaXRlbXNcIixcclxuXHRcdFx0XHRjbHM6IFwic2V0dGluZy1jYXRlZ29yeVwiLFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJJY29uXCIpXHJcblx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcblx0XHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcImxpc3RcIiwgXCJsaXN0XCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJjaGV2cm9uLXJpZ2h0XCIsIFwiY2hldnJvbi1yaWdodFwiKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwibWludXNcIiwgXCJtaW51c1wiKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwiY2lyY2xlLWRvdFwiLCBcImNpcmNsZS1kb3RcIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcImFzdGVyaXNrXCIsIFwiYXN0ZXJpc2tcIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcImN1c3RvbVwiLCBcImN1c3RvbVwiKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5saXN0SXRlbXMpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmxpc3RJdGVtcyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5saXN0SXRlbXMgPT0gXCJjdXN0b21cIikge1xyXG5cdFx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdFx0LnNldE5hbWUoXCJDdXN0b20gaWNvblwiKVxyXG5cdFx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnQtMlwiKVxyXG5cdFx0XHRcdFx0LnNldERlc2MoXCJlbnRlciBMdWNpZGUgSWNvbiBuYW1lXCIpXHJcblx0XHRcdFx0XHQuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuc2V0QXR0cihcInR5cGVcIiwgXCJzdHJpbmdcIik7XHJcblx0XHRcdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5jdXN0b21JY29uLmxpc3RJdGVtcykuc2V0VmFsdWUoXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5saXN0SXRlbXMsXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLmxpc3RJdGVtcyA9IGlucHV0ZWRWYWx1ZTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJQcmVmaXhcIilcclxuXHRcdFx0XHQuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG5cdFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuc2V0QXR0cihcInR5cGVcIiwgXCJzdHJpbmdcIik7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MucHJlZml4Lmxpc3RJdGVtcykuc2V0VmFsdWUoXHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5saXN0SXRlbXMsXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4Lmxpc3RJdGVtcyA9IGlucHV0ZWRWYWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly9cdTY3MkFcdTVCOENcdTRFODZcdTMwQkZcdTMwQjlcdTMwQUZcclxuXHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG5cdFx0XHRcdHRleHQ6IFwiVGFza3NcIixcclxuXHRcdFx0XHRjbHM6IFwic2V0dGluZy1jYXRlZ29yeVwiLFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJJY29uXCIpXHJcblx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcblx0XHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcInNxdWFyZVwiLCBcInNxdWFyZVwiKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwiY2lyY2xlXCIsIFwiY2lyY2xlXCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJsaXN0LWNoZWNrc1wiLCBcImxpc3QtY2hlY2tzXCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJjdXN0b21cIiwgXCJjdXN0b21cIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24udGFzaylcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24udGFzayA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi50YXNrID09IFwiY3VzdG9tXCIpIHtcclxuXHRcdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHRcdC5zZXROYW1lKFwiQ3VzdG9tIGljb25cIilcclxuXHRcdFx0XHRcdC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuXHRcdFx0XHRcdC5zZXREZXNjKFwiZW50ZXIgTHVjaWRlIEljb24gbmFtZVwiKVxyXG5cdFx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHtcclxuXHRcdFx0XHRcdFx0dGV4dC5pbnB1dEVsLnNldEF0dHIoXCJ0eXBlXCIsIFwic3RyaW5nXCIpO1xyXG5cdFx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MuY3VzdG9tSWNvbi50YXNrKS5zZXRWYWx1ZShcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLnRhc2ssXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLnRhc2sgPSBpbnB1dGVkVmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKFwiUHJlZml4XCIpXHJcblx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuXHRcdFx0XHQuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLnNldEF0dHIoXCJ0eXBlXCIsIFwic3RyaW5nXCIpO1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLnByZWZpeC50YXNrKS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgudGFzayk7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgudGFzayA9IGlucHV0ZWRWYWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmNhbGxSZWZyZXNoVmlldyhmYWxzZSk7XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZShcIkFkZCBjaGVja2JveCB0ZXh0IHRvIHByZWZpeFwiKVxyXG5cdFx0XHRcdC5zZXREZXNjKFwiYWRkIFsgXSBvciBbeF1cIilcclxuXHRcdFx0XHQuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFkZENoZWNrYm94VGV4dCkub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFkZENoZWNrYm94VGV4dCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KGZhbHNlKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHQvL1x1NUI4Q1x1NEU4Nlx1NkUwOFx1MzA3Rlx1MzBCRlx1MzBCOVx1MzBBRlxyXG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XHJcblx0XHRcdFx0dGV4dDogXCJDb21wbGV0ZWQgdGFza3NcIixcclxuXHRcdFx0XHRjbHM6IFwic2V0dGluZy1jYXRlZ29yeVwiLFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJJY29uXCIpXHJcblx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcblx0XHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcImNoZWNrLXNxdWFyZVwiLCBcImNoZWNrLXNxdWFyZVwiKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwiY2hlY2stY2lyY2xlXCIsIFwiY2hlY2stY2lyY2xlXCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJjaGVja1wiLCBcImNoZWNrXCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJjdXN0b21cIiwgXCJjdXN0b21cIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24udGFza0RvbmUpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLnRhc2tEb25lID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLnRhc2tEb25lID09IFwiY3VzdG9tXCIpIHtcclxuXHRcdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHRcdC5zZXROYW1lKFwiQ3VzdG9tIGljb25cIilcclxuXHRcdFx0XHRcdC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuXHRcdFx0XHRcdC5zZXREZXNjKFwiZW50ZXIgTHVjaWRlIEljb24gbmFtZVwiKVxyXG5cdFx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHtcclxuXHRcdFx0XHRcdFx0dGV4dC5pbnB1dEVsLnNldEF0dHIoXCJ0eXBlXCIsIFwic3RyaW5nXCIpO1xyXG5cdFx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MuY3VzdG9tSWNvbi50YXNrRG9uZSkuc2V0VmFsdWUoXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi50YXNrRG9uZSxcclxuXHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0dGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24udGFza0RvbmUgPSBpbnB1dGVkVmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKFwiUHJlZml4XCIpXHJcblx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuXHRcdFx0XHQuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLnNldEF0dHIoXCJ0eXBlXCIsIFwic3RyaW5nXCIpO1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLnByZWZpeC50YXNrRG9uZSkuc2V0VmFsdWUoXHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC50YXNrRG9uZSxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgudGFza0RvbmUgPSBpbnB1dGVkVmFsdWU7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvL1x1MzBEMFx1MzBDM1x1MzBBRlx1MzBFQVx1MzBGM1x1MzBBRlxyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dCYWNrbGlua3MpIHtcclxuXHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG5cdFx0XHRcdHRleHQ6IFwiQmFja2xpbmtzXCIsXHJcblx0XHRcdFx0Y2xzOiBcInNldHRpbmctY2F0ZWdvcnlcIixcclxuXHRcdFx0fSk7XHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKFwiSWNvblwiKVxyXG5cdFx0XHRcdC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcblx0XHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG5cdFx0XHRcdFx0ZHJvcGRvd25cclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJsaW5rcy1jb21pbmctaW5cIiwgXCJsaW5rcy1jb21pbmctaW5cIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcImZpbGVcIiwgXCJmaWxlXCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJjb3JuZXItdXAtbGVmdFwiLCBcImNvcm5lci11cC1sZWZ0XCIpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oXCJjdXN0b21cIiwgXCJjdXN0b21cIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24uYmFja2xpbmspXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmJhY2tsaW5rID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmJhY2tsaW5rID09IFwiY3VzdG9tXCIpIHtcclxuXHRcdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHRcdC5zZXROYW1lKFwiQ3VzdG9tIGljb25cIilcclxuXHRcdFx0XHRcdC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuXHRcdFx0XHRcdC5zZXREZXNjKFwiZW50ZXIgTHVjaWRlIEljb24gbmFtZVwiKVxyXG5cdFx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHtcclxuXHRcdFx0XHRcdFx0dGV4dC5pbnB1dEVsLnNldEF0dHIoXCJ0eXBlXCIsIFwic3RyaW5nXCIpO1xyXG5cdFx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MuY3VzdG9tSWNvbi5iYWNrbGluaykuc2V0VmFsdWUoXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5iYWNrbGluayxcclxuXHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0dGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24uYmFja2xpbmsgPSBpbnB1dGVkVmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKFwiUHJlZml4XCIpXHJcblx0XHRcdFx0LnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuXHRcdFx0XHQuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLnNldEF0dHIoXCJ0eXBlXCIsIFwic3RyaW5nXCIpO1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLnByZWZpeC5iYWNrbGluaykuc2V0VmFsdWUoXHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5iYWNrbGluayxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXguYmFja2xpbmsgPSBpbnB1dGVkVmFsdWU7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYWxsUmVmcmVzaFZpZXcoZmFsc2UpO1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG5cdFx0XHR0ZXh0OiBcIk90aGVyc1wiLFxyXG5cdFx0XHRjbHM6IFwic2V0dGluZy1jYXRlZ29yeVwiLFxyXG5cdFx0fSk7XHJcblx0XHQvLyBcdThBQURcdTMwN0ZcdThGQkNcdTMwN0ZcdTRFMEFcdTk2NTBcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIk1heGltdW0gbnVtYmVyIG9mIGZpbGVzIHRvIHJlYWRcIilcclxuXHRcdFx0LnNldERlc2MoXCJUbyBhdm9pZCBvdmVybG9hZGluZywgZmlsZXMgdGhhdCBleGNlZWQgdGhpcyBudW1iZXIgd2lsbCBiZSBpbml0aWFsbHkgY29sbGFwc2VkLiAoZGVmYXVsdCA9IDUwKVwiKVxyXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG5cdFx0XHRcdHRleHQuaW5wdXRFbC5zZXRBdHRyKFwidHlwZVwiLCBcIm51bWJlclwiKTtcclxuXHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKFN0cmluZyhERUZBVUxUX1NFVFRJTkdTLnJlYWRMaW1pdCkpLnNldFZhbHVlKFxyXG5cdFx0XHRcdFx0U3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLnJlYWRMaW1pdCksXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0dGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRsZXQgcGFyc2VkID0gcGFyc2VJbnQoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLCAxMCk7XHJcblx0XHRcdFx0XHRpZiAocGFyc2VkIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0cGFyc2VkID0gREVGQVVMVF9TRVRUSU5HUy5yZWFkTGltaXQ7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWFkTGltaXQgPSBwYXJzZWQ7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KHRydWUpO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdC8vIFx1NTFFNlx1NzQwNlx1NEUwQVx1OTY1MFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiTWF4aW11bSBudW1iZXIgb2YgZmlsZXMgdG8gcHJvY2Vzc1wiKVxyXG5cdFx0XHQuc2V0RGVzYyhcclxuXHRcdFx0XHRcIlRvIGF2b2lkIG92ZXJsb2FkaW5nLCBpZiB0aGUgbnVtYmVyIG9mIGZpbGVzIHRvIGJlIGRpc3BsYXllZCBleGNlZWRzIHRoaXMgbnVtYmVyLCBhbGwgZmlsZXMgd2lsbCBiZSBpbml0aWFsbHkgY29sbGFwc2VkLiAoZGVmYXVsdCA9IDEwMClcIixcclxuXHRcdFx0KVxyXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG5cdFx0XHRcdHRleHQuaW5wdXRFbC5zZXRBdHRyKFwidHlwZVwiLCBcIm51bWJlclwiKTtcclxuXHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKFN0cmluZyhERUZBVUxUX1NFVFRJTkdTLnByb2Nlc3NMaW1pdCkpLnNldFZhbHVlKFxyXG5cdFx0XHRcdFx0U3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb2Nlc3NMaW1pdCksXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0dGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRsZXQgcGFyc2VkID0gcGFyc2VJbnQoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLCAxMCk7XHJcblx0XHRcdFx0XHRpZiAocGFyc2VkIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0cGFyc2VkID0gREVGQVVMVF9TRVRUSU5HUy5wcm9jZXNzTGltaXQ7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9jZXNzTGltaXQgPSBwYXJzZWQ7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdHRoaXMuY2FsbFJlZnJlc2hWaWV3KHRydWUpO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIlN0YXJ0dXAgZGVsYXkgdGltZShtcylcIilcclxuXHRcdFx0LnNldERlc2MoXCJXYWl0IGZvciB0aGUgc3BlY2lmaWVkIHRpbWUgYXQgc3RhcnR1cC4gKGRlZmF1bHQgPSAzMDApXCIpXHJcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcblx0XHRcdFx0dGV4dC5pbnB1dEVsLnNldEF0dHIoXCJ0eXBlXCIsIFwibnVtYmVyXCIpO1xyXG5cdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoU3RyaW5nKERFRkFVTFRfU0VUVElOR1MuYm9vdERlbGF5VGltZSkpLnNldFZhbHVlKFxyXG5cdFx0XHRcdFx0U3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLmJvb3REZWxheVRpbWUpLFxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0bGV0IHBhcnNlZCA9IHBhcnNlSW50KChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSwgMTApO1xyXG5cdFx0XHRcdFx0aWYgKHBhcnNlZCA8PSAwIHx8IHBhcnNlZCA+PSAyMDAwMDApIHtcclxuXHRcdFx0XHRcdFx0cGFyc2VkID0gREVGQVVMVF9TRVRUSU5HUy5ib290RGVsYXlUaW1lO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYm9vdERlbGF5VGltZSA9IHBhcnNlZDtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcInNob3cgZGVidWcgaW5mb3JtYXRpb25cIilcclxuXHRcdFx0LnNldERlc2MoXCJkaXNwbGF5IGRlYnVnIGluZm9ybWF0aW9uIGluIHRoZSBjb25zb2xlXCIpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RGVidWdJbmZvKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dEZWJ1Z0luZm8gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Y2FsbFJlZnJlc2hWaWV3KHJlbG9hZDogYm9vbGVhbik6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnZpZXcpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhyZWxvYWQsIHJlbG9hZCk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5wbHVnaW4uZm9sZGVydmlldykge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5mb2xkZXJ2aWV3LnJlZnJlc2hWaWV3KHJlbG9hZCwgcmVsb2FkKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IGRlYm91bmNlLCBEZWJvdW5jZXIsIE1lbnUsIFRGb2xkZXIgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmLCBURmlsZSwgVEFic3RyYWN0RmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuaW1wb3J0IE11bHRpcGxlTm90ZXNPdXRsaW5lUGx1Z2luLCB7IE11bHRpcGxlTm90ZXNPdXRsaW5lU2V0dGluZ3MsIE91dGxpbmVEYXRhLCBGaWxlSW5mbywgRmlsZVN0YXR1cyB9IGZyb20gXCJzcmMvbWFpblwiO1xyXG5cclxuaW1wb3J0IHsgaW5pdEZpbGVTdGF0dXMsIGdldEZpbGVJbmZvLCBnZXRPdXRsaW5lIH0gZnJvbSBcInNyYy9nZXRPdXRsaW5lXCI7XHJcbmltcG9ydCB7XHJcblx0Y2hlY2tGbGFnLFxyXG5cdHNvcnRGaWxlT3JkZXIsXHJcblx0Z2V0VGhlbWUsXHJcblx0c2V0Tm90ZVRpdGxlQmFja2dyb3VuZENvbG9yLFxyXG5cdGhhbmRsZURlbGV0ZVJlbGF0ZWRGaWxlcyxcclxuXHRoYW5kbGVSZW5hbWVSZWxhdGVkRmlsZXMsXHJcblx0Y2hlY2tSZWxhdGVkRmlsZXMsXHJcblx0Y2hlY2tEYXRhdmlldyxcclxufSBmcm9tIFwic3JjL3V0aWxcIjtcclxuXHJcbmltcG9ydCB7IGRyYXdVSUZvbGRlclZpZXcgfSBmcm9tIFwic3JjL2RyYXdVSVwiO1xyXG5pbXBvcnQgeyBjb25zdHJ1Y3RPdXRsaW5lRE9NIH0gZnJvbSBcInNyYy9jb25zdHJ1Y3RPdXRsaW5lRE9NXCI7XHJcbmltcG9ydCB7XHJcblx0Y2hlY2tGYXZBbmRSZWNlbnRGaWxlcyxcclxuXHRkZWxldGVGYXZBbmRSZWNlbnQsXHJcblx0aGFuZGxlRGVsZXRlRmF2QW5kUmVjZW50RmlsZXMsXHJcblx0aGFuZGxlUmVuYW1lRmF2QW5kUmVjZW50RmlsZXMsXHJcblx0dXBkYXRlRmF2QW5kUmVjZW50LFxyXG59IGZyb20gXCIuL0ZhdkFuZFJlY2VudFwiO1xyXG5pbXBvcnQgeyBjb25zdHJ1Y3ROb3RlRE9NIH0gZnJvbSBcIi4vY29uc3RydWN0Tm90ZURPTVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IE11bHRpcGxlTm90ZXNPdXRsaW5lRm9sZGVyVmlld1R5cGUgPSBcIm11bHRpcGxlLW5vdGVzLW91dGxpbmUtZm9sZGVyLXZpZXdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNdWx0aXBsZU5vdGVzT3V0bGluZUZvbGRlclZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XHJcblx0cGx1Z2luOiBNdWx0aXBsZU5vdGVzT3V0bGluZVBsdWdpbjtcclxuXHRzZXR0aW5nczogTXVsdGlwbGVOb3Rlc091dGxpbmVTZXR0aW5ncztcclxuXHJcblx0YWN0aXZlRmlsZTogVEZpbGU7XHJcblxyXG5cdHRhcmdldEZvbGRlcjogVEZvbGRlcjtcclxuXHJcblx0dGFyZ2V0RmlsZXM6IHtcclxuXHRcdFtmb2xkZXJQYXRoOiBzdHJpbmddOiBUQWJzdHJhY3RGaWxlW107XHJcblx0fSA9IHt9O1xyXG5cclxuXHRmaWxlU3RhdHVzOiB7XHJcblx0XHRbZm9sZGVyUGF0aDogc3RyaW5nXTogRmlsZVN0YXR1c1tdO1xyXG5cdH0gPSB7fTtcclxuXHJcblx0ZmlsZUluZm86IHtcclxuXHRcdFtmb2xkZXJQYXRoOiBzdHJpbmddOiBGaWxlSW5mb1tdO1xyXG5cdH0gPSB7fTtcclxuXHJcblx0b3V0bGluZURhdGE6IHtcclxuXHRcdFtmb2xkZXJQYXRoOiBzdHJpbmddOiBPdXRsaW5lRGF0YVtdW107XHJcblx0fSA9IHt9O1xyXG5cclxuXHRmaWxlT3JkZXI6IHtcclxuXHRcdFtmb2xkZXJQYXRoOiBzdHJpbmddOiBudW1iZXJbXTtcclxuXHR9ID0ge307XHJcblxyXG5cdGZsYWdDaGFuZ2VkID0gZmFsc2U7XHJcblx0ZmxhZ1JlZ2V0VGFyZ2V0ID0gZmFsc2U7XHJcblx0Ly9mbGFnUmVuYW1lZDogYm9vbGVhbjtcclxuXHRmbGFnU2F2ZVNldHRpbmdzID0gZmFsc2U7XHJcblxyXG5cdGV4dHJhY3RNb2RlID0gZmFsc2U7XHJcblx0ZXh0cmFjdFRhc2sgPSBmYWxzZTtcclxuXHJcblx0Ly8gaW5jbHVkZSBtb2RlIGZpbHRlclx1OTVBMlx1OTAyM1x1MzBCM1x1MzBFMVx1MzBGM1x1MzBDOFx1MzBBMlx1MzBBNlx1MzBDOFxyXG5cdC8vIGluY2x1ZGVNb2RlOiBib29sZWFuO1xyXG5cclxuXHQvL21heExldmVsOiBudW1iZXI7XHJcblxyXG5cdC8vXHU1MTY4XHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDZFXHU2Mjk4XHUzMDhBXHUzMDVGXHUzMDVGXHUzMDdGXHJcblx0Y29sbGFwc2VBbGwgPSBmYWxzZTtcclxuXHJcblx0Ly8gdGFyZ2V0Rm9sZGVyIFx1MzA0Q1x1NTkwOVx1NjZGNFx1MzA1NVx1MzA4Q1x1MzA1Rlx1MzA4OXRydWVcdTMwNkJcdTMwNTdcdTMwNjZcdTMwMDFcdTMwQjlcdTMwQUZcdTMwRURcdTMwRkNcdTMwRUJcdTRGNERcdTdGNkVcdTMwOTJcdTRGRERcdTYzMDFcdTMwNTdcdTMwNkFcdTMwNDRcdTMwNUZcdTMwODFcdTMwNkVcdTMwRDVcdTMwRTlcdTMwQjBcdTMwMDJcclxuXHRoYXNNYWluQ2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuXHQvL1x1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1MzA5Mlx1NTNENlx1NUY5N1x1MzA1N1x1MzA1Rlx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1NjU3MFx1MzA2RVx1MzBBQlx1MzBBNlx1MzBGM1x1MzBDOFx1MzAwMlx1OEEyRFx1NUI5QVx1NTAyNChyZWFkTGltaXQpXHUzMDkyXHU4RDg1XHUzMDQ4XHUzMDVGXHUzMDg5XHU4QUFEXHUzMDdGXHU4RkJDXHUzMDdGXHUzMDkyXHU2QjYyXHUzMDgxXHUzMDhCXHUzMDAyXHJcblx0ZmlsZWNvdW50ID0gMDtcclxuXHJcblx0Ly8gXHU1OTA5XHU2NkY0XHUzMDU1XHUzMDhDXHUzMDVGXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDZFXHU5MTREXHU1MjE3XHUzMDAyIFx1NEUwMFx1NUI5QVx1OTU5M1x1OTY5NFx1MzA1NFx1MzA2OFx1MzA2Qlx1MzA1M1x1MzA2RVx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA2RVx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1MzA5Mlx1NTE4RFx1OEFBRFx1MzA3Rlx1OEZCQ1x1MzA3Rlx1MzA1N1x1MzA2Nlx1MzAwMVx1NjZGNFx1NjVCMFx1MzA1N1x1MzA1Rlx1MzA4OVx1MzA1M1x1MzA2RVx1OTE0RFx1NTIxN1x1MzA5Mlx1N0E3QVx1MzA2Qlx1MzA1OVx1MzA4QlxyXG5cdGNoYW5nZWRGaWxlczogVEZpbGVbXSA9IFtdO1xyXG5cdC8vIHJlbmFtZWRGaWxlczogeyBmaWxlOiBUQWJzdHJhY3RGaWxlLCBvbGRQYXRoOiBzdHJpbmcgfVtdID0gW107XHJcblxyXG5cdC8vIHZpZXdcdTMwQkZcdTMwQTRcdTMwRDcgRE9NXHUzMDZFaWRcdTMwNkJcdTRFRDhcdTUyQTBcclxuXHR2aWV3VHlwZTogXCJmaWxlXCIgfCBcImZvbGRlclwiID0gXCJmb2xkZXJcIjtcclxuXHJcblx0Ly8gXHU3M0ZFXHU1NzI4XHUzMDZFXHUzMEU5XHUzMEE0XHUzMEM4XHUzMEUyXHUzMEZDXHUzMEM5L1x1MzBDMFx1MzBGQ1x1MzBBRlx1MzBFMlx1MzBGQ1x1MzBDOVx1MzA2RVx1NzJCNlx1NjE0QlxyXG5cdHRoZW1lOiBcImxpZ2h0XCIgfCBcImRhcmtcIjtcclxuXHJcblx0cGlubmVkTW9kZSA9IGZhbHNlO1xyXG5cclxuXHRpc0RhdGF2aWV3RW5hYmxlZCA9IGZhbHNlO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwbHVnaW46IE11bHRpcGxlTm90ZXNPdXRsaW5lUGx1Z2luLCBzZXR0aW5nczogTXVsdGlwbGVOb3Rlc091dGxpbmVTZXR0aW5ncykge1xyXG5cdFx0c3VwZXIobGVhZik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuXHR9XHJcblxyXG5cdGdldFZpZXdUeXBlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gTXVsdGlwbGVOb3Rlc091dGxpbmVGb2xkZXJWaWV3VHlwZTtcclxuXHR9XHJcblxyXG5cdGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gXCJNTk8gLSBmb2xkZXIgdmlld1wiO1xyXG5cdH1cclxuXHJcblx0Z2V0SWNvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFwiZm9sZGVyc1wiO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgb25PcGVuKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5pbml0VmlldygpO1xyXG5cclxuXHRcdC8vIERhdGF2aWV3XHUzMDZFXHUzMEVEXHUzMEZDXHUzMEM5XHUzMDkyXHU1Rjg1XHU2QTVGXHUzMDU3XHUzMDVGXHUzMDY4XHUzMDUzXHUzMDhEXHUzMDAxXHU1Mzc0XHUzMDYzXHUzMDY2XHU5MDQ1XHUzMDRCXHUzMDYzXHUzMDVGXHUzMDAyXHJcblx0XHQvLyBpZiAoY2hlY2tEYXRhdmlldyh0aGlzLmFwcCkpe1xyXG5cdFx0Ly8gXHRjb25zdCBkYXRhdmlld0FQSSA9IGdldEFQSSgpO1xyXG5cdFx0Ly8gXHQvLyBkYXRhdmlld1x1MzA0Q2luZGV4LXJlYWR5XHUzMDY3XHUzMDZBXHUzMDQ0XHU1ODM0XHU1NDA4XHUzMDZFXHUzMDdGXHU2M0NGXHU3NTNCXHUzMDkyXHU1Rjg1XHU2QTVGXHJcblx0XHQvLyBcdGlmICghZGF0YXZpZXdBUEkuaW5kZXguaW5pdGlhbGl6ZWQpe1xyXG5cdFx0Ly8gXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uKFwiZGF0YXZpZXc6aW5kZXgtcmVhZHlcIiwgYXN5bmMoKSA9PiB7XHJcblx0XHQvLyBcdFx0XHRhd2FpdCB0aGlzLmluaXRWaWV3KCk7XHJcblx0XHQvLyBcdFx0fSkpO1xyXG5cdFx0Ly8gXHR9IGVsc2Uge1xyXG5cdFx0Ly8gXHRcdGF3YWl0IHRoaXMuaW5pdFZpZXcoKTtcclxuXHRcdC8vIFx0fVxyXG5cdFx0Ly8gfSBlbHNlIHtcclxuXHRcdC8vIFx0YXdhaXQgdGhpcy5pbml0VmlldygpO1xyXG5cdFx0Ly8gfVxyXG5cdH1cclxuXHJcblx0dXBkYXRlU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3M7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbkNsb3NlKCkge1xyXG5cdFx0Ly8gTm90aGluIHRvIGNsZWFuIHVwXHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGluaXRWaWV3KCkge1xyXG5cdFx0YXdhaXQgdGhpcy5ib290RGVsYXkoKTtcclxuXHJcblx0XHRjaGVja1JlbGF0ZWRGaWxlcyh0aGlzLmFwcCwgdGhpcy5zZXR0aW5ncyk7XHJcblx0XHRjaGVja0ZhdkFuZFJlY2VudEZpbGVzKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzLCB0aGlzLnZpZXdUeXBlKTtcclxuXHJcblx0XHR0aGlzLmNvbGxhcHNlQWxsID0gdGhpcy5zZXR0aW5ncy5jb2xsYXBzZUFsbEF0U3RhcnR1cDtcclxuXHJcblx0XHQvLyBcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwQkZcdTMwQTRcdTMwQzhcdTMwRUJcdTgwQ0NcdTY2NkZcdTgyNzJcdTMwNkVcdThBMkRcdTVCOUFcclxuXHRcdHRoaXMudGhlbWUgPSBnZXRUaGVtZSgpO1xyXG5cdFx0c2V0Tm90ZVRpdGxlQmFja2dyb3VuZENvbG9yKHRoaXMudGhlbWUsIHRoaXMuc2V0dGluZ3MpO1xyXG5cclxuXHRcdC8vIFx1NTIxRFx1NjcxRlx1MzA2RVx1ODg2OFx1NzkzQVx1NUJGRVx1OEM2MVx1MzBENVx1MzBBOVx1MzBFQlx1MzBDMFx1MzA5Mlx1NTNENlx1NUY5N1x1RkYwOFx1MzBBMlx1MzBBRlx1MzBDNlx1MzBBM1x1MzBENlx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA2RVx1MzBENVx1MzBBOVx1MzBFQlx1MzBDMFx1MzA3RVx1MzA1Rlx1MzA2Rlx1NjcwMFx1NUY4Q1x1MzA2Qlx1ODg2OFx1NzkzQVx1MzA1N1x1MzA1Rlx1MzBENVx1MzBBOVx1MzBFQlx1MzBDMFx1RkYwOVxyXG5cdFx0dGhpcy5hY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuXHRcdGlmICh0aGlzLmFjdGl2ZUZpbGUpIHtcclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3Mub3BlblJlY2VudEF0U3RhcnR1cC5mb2xkZXIgJiZcclxuXHRcdFx0XHR0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGhpcy5zZXR0aW5ncy5yZWNlbnQuZm9sZGVyPy5bMF0pIGluc3RhbmNlb2YgVEZvbGRlclxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGlzLnNldHRpbmdzLnJlY2VudC5mb2xkZXI/LlswXSkgYXMgVEZvbGRlcjtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZvbGRlciA9IHRoaXMuYWN0aXZlRmlsZS5wYXJlbnQ7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICh0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGhpcy5zZXR0aW5ncy5yZWNlbnQuZm9sZGVyPy5bMF0pIGluc3RhbmNlb2YgVEZvbGRlcikge1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0Rm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRoaXMuc2V0dGluZ3MucmVjZW50LmZvbGRlcj8uWzBdKSBhcyBURm9sZGVyO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0Rm9sZGVyID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMucmVmcmVzaFZpZXcodHJ1ZSwgdHJ1ZSk7XHJcblxyXG5cdFx0Ly9cdTgxRUFcdTUyRDVcdTY2RjRcdTY1QjBcdTMwNkVcdTMwNUZcdTMwODFcdTMwNkVcdTMwQzdcdTMwRkNcdTMwQkZcdTU5MDlcdTY2RjRcdTMwMDFcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdThGRkRcdTUyQTAvXHU1MjRBXHU5NjY0XHUzMDZFXHU3NkUzXHU4OTk2IG9ic2VydmUgZmlsZSBjaGFuZ2UvY3JlYXRlL2RlbGV0ZVxyXG5cdFx0Y29uc3QgZGVib3VuY2VyUmVxdWVzdFJlZnJlc2g6IERlYm91bmNlcjxbXT4gPSBkZWJvdW5jZSh0aGlzLmF1dG9SZWZyZXNoLCAzMDAwLCB0cnVlKTtcclxuXHRcdHRoaXMuZmxhZ0NoYW5nZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuZmxhZ1JlZ2V0VGFyZ2V0ID0gZmFsc2U7XHJcblxyXG5cdFx0Ly9cdTRFQ0FcdTVGOENcdTMwQTJcdTMwQUZcdTMwQzZcdTMwQTNcdTMwRDZcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwNkJcdTgyNzJcdTMwNjVcdTMwNTFcdTMwNTlcdTMwOEJcdTU4MzRcdTU0MDhcdTMwNkFcdTMwNjlcdTMwNkZcdTUxRTZcdTc0MDZcdTMwOTJcdThGRkRcdTUyQTBcclxuXHRcdC8vIHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2ZpbGUtb3BlbicsIChmaWxlKSA9PiB7XHJcblx0XHQvLyB9KSk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uKFwiY2hhbmdlZFwiLCAoZmlsZSkgPT4ge1xyXG5cdFx0XHRcdGZvciAoY29uc3QgZm9sZGVyIGluIHRoaXMudGFyZ2V0RmlsZXMpIHtcclxuXHRcdFx0XHRcdGlmICh0aGlzLnRhcmdldEZpbGVzW2ZvbGRlcl0uaW5jbHVkZXMoZmlsZSkpIHtcclxuXHRcdFx0XHRcdFx0aWYgKCF0aGlzLmNoYW5nZWRGaWxlcy5pbmNsdWRlcyhmaWxlKSkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuY2hhbmdlZEZpbGVzLnB1c2goZmlsZSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dGhpcy5mbGFnQ2hhbmdlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdGRlYm91bmNlclJlcXVlc3RSZWZyZXNoLmNhbGwodGhpcyk7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSksXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAudmF1bHQub24oXCJjcmVhdGVcIiwgKGZpbGUpID0+IHtcclxuXHRcdFx0XHR0aGlzLmZsYWdSZWdldFRhcmdldCA9IHRydWU7XHJcblx0XHRcdFx0ZGVib3VuY2VyUmVxdWVzdFJlZnJlc2guY2FsbCh0aGlzKTtcclxuXHRcdFx0fSksXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAudmF1bHQub24oXCJkZWxldGVcIiwgKGZpbGUpID0+IHtcclxuXHRcdFx0XHRjb25zdCBjaGFuZ2VkUmVsYXRlZEZpbGVzID0gaGFuZGxlRGVsZXRlUmVsYXRlZEZpbGVzKGZpbGUsIHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0XHRcdGlmIChjaGFuZ2VkUmVsYXRlZEZpbGVzKSB7XHJcblx0XHRcdFx0XHR0aGlzLmZsYWdTYXZlU2V0dGluZ3MgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc3QgY2hhbmdlZEZhdkFuZFJlY2VudCA9IGhhbmRsZURlbGV0ZUZhdkFuZFJlY2VudEZpbGVzKGZpbGUsIHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0XHRcdGlmIChjaGFuZ2VkRmF2QW5kUmVjZW50KSB7XHJcblx0XHRcdFx0XHR0aGlzLmZsYWdTYXZlU2V0dGluZ3MgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLmZsYWdSZWdldFRhcmdldCA9IHRydWU7XHJcblx0XHRcdFx0ZGVib3VuY2VyUmVxdWVzdFJlZnJlc2guY2FsbCh0aGlzKTtcclxuXHRcdFx0fSksXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAudmF1bHQub24oXCJyZW5hbWVcIiwgKGZpbGUsIG9sZFBhdGgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBjaGFuZ2VkUmVsYXRlZEZpbGVzID0gaGFuZGxlUmVuYW1lUmVsYXRlZEZpbGVzKGZpbGUsIG9sZFBhdGgsIHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0XHRcdGlmIChjaGFuZ2VkUmVsYXRlZEZpbGVzKSB7XHJcblx0XHRcdFx0XHR0aGlzLmZsYWdTYXZlU2V0dGluZ3MgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb25zdCBjaGFuZ2VkRmF2QW5kUmVjZW50ID0gaGFuZGxlUmVuYW1lRmF2QW5kUmVjZW50RmlsZXMoZmlsZSwgb2xkUGF0aCwgdGhpcy5zZXR0aW5ncyk7XHJcblx0XHRcdFx0aWYgKGNoYW5nZWRGYXZBbmRSZWNlbnQpIHtcclxuXHRcdFx0XHRcdHRoaXMuZmxhZ1NhdmVTZXR0aW5ncyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMuZmxhZ1JlZ2V0VGFyZ2V0ID0gdHJ1ZTtcclxuXHRcdFx0XHRkZWJvdW5jZXJSZXF1ZXN0UmVmcmVzaC5jYWxsKHRoaXMpO1xyXG5cdFx0XHR9KSxcclxuXHRcdCk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJjc3MtY2hhbmdlXCIsIChlKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgbmV3VGhlbWUgPSBnZXRUaGVtZSgpO1xyXG5cdFx0XHRcdGlmIChuZXdUaGVtZSAhPT0gdGhpcy50aGVtZSkge1xyXG5cdFx0XHRcdFx0dGhpcy50aGVtZSA9IG5ld1RoZW1lO1xyXG5cdFx0XHRcdFx0c2V0Tm90ZVRpdGxlQmFja2dyb3VuZENvbG9yKHRoaXMudGhlbWUsIHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSksXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBib290RGVsYXkoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuXHRcdFx0c2V0VGltZW91dChyZXNvbHZlLCB0aGlzLnNldHRpbmdzLmJvb3REZWxheVRpbWUpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyBcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTRGRUVcdTZCNjNcdTMwMDFcdTUyNEFcdTk2NjRcdTMwMDFcdTMwRUFcdTMwQ0RcdTMwRkNcdTMwRTBcdTMwNkFcdTMwNjlcdTMwNkVcdTk2OUJcdTMwNkVcdTgxRUFcdTUyRDVcdTY2RjRcdTY1QjBcclxuXHRwcml2YXRlIGFzeW5jIGF1dG9SZWZyZXNoKCkge1xyXG5cdFx0aWYgKCEodGhpcy5mbGFnQ2hhbmdlZCB8fCB0aGlzLmZsYWdSZWdldFRhcmdldCB8fCB0aGlzLmZsYWdTYXZlU2V0dGluZ3MpKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLmZsYWdDaGFuZ2VkICYmICF0aGlzLmZsYWdSZWdldFRhcmdldCkge1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hhbmdlZEZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Zm9yIChjb25zdCBmb2xkZXIgaW4gdGhpcy50YXJnZXRGaWxlcykge1xyXG5cdFx0XHRcdFx0Y29uc3QgaW5kZXggPSB0aGlzLnRhcmdldEZpbGVzW2ZvbGRlcl0uaW5kZXhPZih0aGlzLmNoYW5nZWRGaWxlc1tpXSk7XHJcblx0XHRcdFx0XHRpZiAoaW5kZXggPCAwKSB7XHJcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vXHU1OTA5XHU2NkY0XHUzMDU3XHUzMDVGXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDZFXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU2MEM1XHU1ODMxXHUzMDY4XHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHUzMDkyXHU2NkY0XHU2NUIwXHJcblx0XHRcdFx0XHR0aGlzLmZpbGVJbmZvW2ZvbGRlcl1baW5kZXhdID0gYXdhaXQgZ2V0RmlsZUluZm8oXHJcblx0XHRcdFx0XHRcdHRoaXMuYXBwLFxyXG5cdFx0XHRcdFx0XHR0aGlzLnRhcmdldEZpbGVzW2ZvbGRlcl1baW5kZXhdIGFzIFRGaWxlLFxyXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLFxyXG5cdFx0XHRcdFx0XHRmYWxzZSxcclxuXHRcdFx0XHRcdFx0dGhpcy5pc0RhdGF2aWV3RW5hYmxlZCxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRjb25zdCBuZXdEYXRhID0gYXdhaXQgZ2V0T3V0bGluZShcclxuXHRcdFx0XHRcdFx0dGhpcy5hcHAsXHJcblx0XHRcdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXNbZm9sZGVyXVtpbmRleF0gYXMgVEZpbGUsXHJcblx0XHRcdFx0XHRcdHRoaXMuZmlsZVN0YXR1c1tmb2xkZXJdW2luZGV4XSxcclxuXHRcdFx0XHRcdFx0dGhpcy5maWxlSW5mb1tmb2xkZXJdW2luZGV4XSxcclxuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncyxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRpZiAobmV3RGF0YSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm91dGxpbmVEYXRhW2ZvbGRlcl1baW5kZXhdID0gbmV3RGF0YTtcclxuXHRcdFx0XHRcdFx0dGhpcy5maWxlU3RhdHVzW2ZvbGRlcl1baW5kZXhdLm91dGxpbmVSZWFkeSA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gRE9NXHUzMDkyXHU2NkY0XHU2NUIwXHJcblx0XHRcdFx0XHRjb25zdCB1cGRhdGVOb3RlQ2hpbGRyZW5FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG5cdFx0XHRcdFx0XHRcIk1OT1wiICsgdGhpcy52aWV3VHlwZSArIHRoaXMudGFyZ2V0RmlsZXNbZm9sZGVyXVtpbmRleF0ucGF0aCxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR1cGRhdGVOb3RlQ2hpbGRyZW5FbC5lbXB0eSgpO1xyXG5cdFx0XHRcdFx0Y29uc3RydWN0T3V0bGluZURPTS5jYWxsKFxyXG5cdFx0XHRcdFx0XHR0aGlzLFxyXG5cdFx0XHRcdFx0XHR0aGlzLnRhcmdldEZpbGVzW2ZvbGRlcl1baW5kZXhdLFxyXG5cdFx0XHRcdFx0XHR0aGlzLmZpbGVJbmZvW2ZvbGRlcl1baW5kZXhdLFxyXG5cdFx0XHRcdFx0XHR0aGlzLm91dGxpbmVEYXRhW2ZvbGRlcl1baW5kZXhdLFxyXG5cdFx0XHRcdFx0XHR1cGRhdGVOb3RlQ2hpbGRyZW5FbCxcclxuXHRcdFx0XHRcdFx0XCJmb2xkZXJcIixcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuZmxhZ1NhdmVTZXR0aW5ncykge1xyXG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLmZsYWdSZWdldFRhcmdldCkge1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hWaWV3KHRoaXMuZmxhZ1JlZ2V0VGFyZ2V0LCB0aGlzLmZsYWdSZWdldFRhcmdldCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmNoYW5nZWRGaWxlcyA9IFtdO1xyXG5cdFx0Ly8gdGhpcy5yZW5hbWVkRmlsZXMgPSBbXTtcclxuXHRcdHRoaXMuZmxhZ1JlZ2V0VGFyZ2V0ID0gZmFsc2U7XHJcblx0XHR0aGlzLmZsYWdDaGFuZ2VkID0gZmFsc2U7XHJcblx0XHQvLyB0aGlzLmZsYWdSZW5hbWVkID0gZmFsc2U7XHJcblx0XHR0aGlzLmZsYWdTYXZlU2V0dGluZ3MgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8vIFx1MzBFQVx1MzBENVx1MzBFQ1x1MzBDM1x1MzBCN1x1MzBFNVx1MzBCQlx1MzBGM1x1MzBCRlx1MzBGQ1xyXG5cdC8vIGZsYWdHZXRUYXJnZXRcdTMwNEN0cnVlOiBcdTVCRkVcdThDNjFcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwOTJcdTUxOERcdTUzRDZcdTVGOTdcclxuXHQvLyBmbGFnR2V0T3V0bGluZVx1MzA0Q3RydWU6IFx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1NjBDNVx1NTgzMVx1MzA5Mlx1NTE4RFx1NTNENlx1NUY5N1xyXG5cdC8vIFx1MzA1RFx1MzA2RVx1NUY4Q1VJXHU5MEU4XHU1MjA2XHUzMDY4XHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU5MEU4XHU1MjA2XHUzMDkyXHU2M0NGXHU3NTNCXHJcblx0YXN5bmMgcmVmcmVzaFZpZXcoZmxhZ0dldFRhcmdldDogYm9vbGVhbiwgZmxhZ0dldE91dGxpbmU6IGJvb2xlYW4pIHtcclxuXHRcdC8vIFx1NjNDRlx1NzUzQlx1NjI0MFx1ODk4MVx1NjY0Mlx1OTU5M1x1MzA5Mlx1NkUyQ1x1NUI5QVxyXG5cdFx0Y29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcblxyXG5cdFx0Ly9kYXRhdmlld1x1MzBBQVx1MzBGM1x1MzBBQVx1MzBENVx1MzBDMVx1MzBBN1x1MzBDM1x1MzBBRlxyXG5cdFx0dGhpcy5pc0RhdGF2aWV3RW5hYmxlZCA9IGNoZWNrRGF0YXZpZXcodGhpcy5hcHApO1xyXG5cclxuXHRcdC8vIFx1MzBCOVx1MzBBRlx1MzBFRFx1MzBGQ1x1MzBFQlx1NEY0RFx1N0Y2RVx1MzA2RVx1NTNENlx1NUY5N1xyXG5cdFx0Y29uc3QgY29udGFpbmVyRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIk1OT2ZvbGRlcnZpZXctbGlzdGNvbnRhaW5lclwiKTtcclxuXHJcblx0XHRjb25zdCBwcmV2aW91c1kgPSBjb250YWluZXJFbD8uc2Nyb2xsVG9wID8gY29udGFpbmVyRWwuc2Nyb2xsVG9wIDogMDtcclxuXHRcdC8vIG5ldyBOb3RpY2UoJ3Njcm9sbCBkb25lJyk7XHJcblxyXG5cdFx0Ly9cdTMwQkZcdTMwRkNcdTMwQjJcdTMwQzNcdTMwQzhcdTMwRDVcdTMwQTlcdTMwRUJcdTMwQzBcdTMwNENcdTUzRDZcdTVGOTdcdTMwNjdcdTMwNERcdTMwNjZcdTMwNDRcdTMwNkFcdTMwNTFcdTMwOENcdTMwNzBVSVx1MzBBMlx1MzBBNFx1MzBCM1x1MzBGM1x1MzA2RVx1MzA3Rlx1NjNDRlx1NzUzQlxyXG5cdFx0aWYgKCF0aGlzLnRhcmdldEZvbGRlcikge1xyXG5cdFx0XHRkcmF3VUlGb2xkZXJWaWV3LmNhbGwodGhpcyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdC8vIFx1MzBENVx1MzBBOVx1MzBFQlx1MzBDMFx1MzA2Qlx1NTQyQlx1MzA3RVx1MzA4Q1x1MzA4Qlx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA5Mlx1NTNENlx1NUY5N1xyXG5cdFx0dGhpcy5maWxlY291bnQgPSAwO1xyXG5cdFx0aWYgKGZsYWdHZXRUYXJnZXQpIHtcclxuXHRcdFx0aWYgKHRoaXMudGFyZ2V0Rm9sZGVyKSB7XHJcblx0XHRcdFx0dGhpcy5jbGVhckRhdGFzKCk7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5wcm9jZXNzRm9sZGVyKHRoaXMudGFyZ2V0Rm9sZGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IG1pZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dEZWJ1Z0luZm8pIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0XCJNdWx0aXBsZSBOb3RlcyBPdXRsaW5lOiB0aW1lIHJlcXVpcmVkIHRvIGdldCBvdXRsaW5lcywgZm9sZGVyIHZpZXc6IFwiLFxyXG5cdFx0XHRcdHRoaXMudGFyZ2V0Rm9sZGVyLnBhdGgsXHJcblx0XHRcdFx0bWlkVGltZSAtIHN0YXJ0VGltZSxcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHRcdGRyYXdVSUZvbGRlclZpZXcuY2FsbCh0aGlzKTtcclxuXHRcdHRoaXMuZHJhd091dGxpbmUocHJldmlvdXNZKTtcclxuXHJcblx0XHQvLyBcdTYzQ0ZcdTc1M0JcdTYyNDBcdTg5ODFcdTY2NDJcdTk1OTNcdTMwOTJcdTZFMkNcdTVCOUFcclxuXHRcdGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dEZWJ1Z0luZm8pIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0XCJNdWx0aXBsZSBOb3RlcyBPdXRsaW5lOiB0aW1lIHJlcXVpcmVkIHRvIGRyYXcgb3V0bGluZXMsIGZvbGRlciB2aWV3OiBcIixcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZvbGRlci5wYXRoLFxyXG5cdFx0XHRcdGVuZFRpbWUgLSBtaWRUaW1lLFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRcIk11bHRpcGxlIE5vdGVzIE91dGxpbmU6IHRpbWUgcmVxdWlyZWQgdG8gcmVmcmVzaCB2aWV3LCBmb2xkZXIgdmlldzogXCIsXHJcblx0XHRcdFx0dGhpcy50YXJnZXRGb2xkZXIucGF0aCxcclxuXHRcdFx0XHRlbmRUaW1lIC0gc3RhcnRUaW1lLFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gXHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEMwXHU1MTg1XHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDkyXHU1MUU2XHU3NDA2XHVGRjA4XHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU1M0Q2XHU1Rjk3XHUzMDAxXHUzMEI5XHUzMEM2XHUzMEZDXHUzMEJGXHUzMEI5XHU1MjFEXHU2NzFGXHU1MzE2XHUzMDAxXHU2MEM1XHU1ODMxXHUzMDAxXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU1M0Q2XHU1Rjk3XHVGRjA5XHJcblx0YXN5bmMgcHJvY2Vzc0ZvbGRlcihmb2xkZXI6IFRGb2xkZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHRoaXMudGFyZ2V0RmlsZXNbZm9sZGVyLnBhdGhdID0gZm9sZGVyLmNoaWxkcmVuO1xyXG5cdFx0dGhpcy5maWxlU3RhdHVzW2ZvbGRlci5wYXRoXSA9IGluaXRGaWxlU3RhdHVzKHRoaXMudGFyZ2V0RmlsZXNbZm9sZGVyLnBhdGhdKTtcclxuXHRcdHRoaXMuZmlsZU9yZGVyW2ZvbGRlci5wYXRoXSA9IFsuLi5BcnJheSh0aGlzLnRhcmdldEZpbGVzW2ZvbGRlci5wYXRoXS5sZW5ndGgpXS5tYXAoKF8sIGkpID0+IGkpO1xyXG5cdFx0c29ydEZpbGVPcmRlcihcclxuXHRcdFx0dGhpcy5maWxlT3JkZXJbZm9sZGVyLnBhdGhdLFxyXG5cdFx0XHR0aGlzLnRhcmdldEZpbGVzW2ZvbGRlci5wYXRoXSxcclxuXHRcdFx0dGhpcy5maWxlU3RhdHVzW2ZvbGRlci5wYXRoXSxcclxuXHRcdFx0dGhpcy5maWxlSW5mb1tmb2xkZXIucGF0aF0sXHJcblx0XHRcdHRoaXMuc2V0dGluZ3MsXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMuZmlsZUluZm9bZm9sZGVyLnBhdGhdID0gW107XHJcblx0XHR0aGlzLm91dGxpbmVEYXRhW2ZvbGRlci5wYXRoXSA9IFtdO1xyXG5cclxuXHRcdGlmIChmb2xkZXIuY2hpbGRyZW4ubGVuZ3RoIDw9IHRoaXMuc2V0dGluZ3MucHJvY2Vzc0xpbWl0KSB7XHJcblx0XHRcdFt0aGlzLmZpbGVTdGF0dXNbZm9sZGVyLnBhdGhdLCB0aGlzLmZpbGVJbmZvW2ZvbGRlci5wYXRoXSwgdGhpcy5vdXRsaW5lRGF0YVtmb2xkZXIucGF0aF1dID1cclxuXHRcdFx0XHRhd2FpdCB0aGlzLmdldE91dGxpbmVzKHRoaXMudGFyZ2V0RmlsZXNbZm9sZGVyLnBhdGhdLCB0aGlzLmZpbGVTdGF0dXNbZm9sZGVyLnBhdGhdKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU2MEM1XHU1ODMxXHUzMDAxXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU2MEM1XHU1ODMxXHUzMDkyXHU0RjVDXHU2MjEwXHUzMEZCXHU1M0Q2XHU1Rjk3XHJcblx0YXN5bmMgZ2V0T3V0bGluZXMoXHJcblx0XHRmaWxlczogVEFic3RyYWN0RmlsZVtdLFxyXG5cdFx0c3RhdHVzOiBGaWxlU3RhdHVzW10sXHJcblx0KTogUHJvbWlzZTxbRmlsZVN0YXR1c1tdLCBGaWxlSW5mb1tdLCBPdXRsaW5lRGF0YVtdW11dPiB7XHJcblx0XHRjb25zdCBmaWxlSW5mbzogRmlsZUluZm9bXSA9IFtdO1xyXG5cdFx0Y29uc3Qgb3V0bGluZURhdGE6IE91dGxpbmVEYXRhW11bXSA9IFtdO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHQvL1x1NTAwQlx1NTIyNVx1MzA2RUFsd2F5cyBvbiBUb3BcdTMwNkVcdTUyMjRcdTVCOUFcclxuXHRcdFx0aWYgKGNoZWNrRmxhZyh0aGlzLnRhcmdldEZvbGRlciwgZmlsZXNbaV0sIFwidG9wXCIsIHRoaXMuc2V0dGluZ3MpID09IHRydWUpIHtcclxuXHRcdFx0XHRzdGF0dXNbaV0uaXNUb3AgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vbmV3IE5vdGljZShgY2hlY2tGbGFnXHUzMDQ0XHUzMDUxXHUzMDVGICR7aX0gJHtzdGF0dXNbaV0uaXNGb2xkZXJ9YCk7XHJcblx0XHRcdGlmIChzdGF0dXNbaV0uaXNGb2xkZXIpIHtcclxuXHRcdFx0XHQvLyBcdTMwRDVcdTMwQTlcdTMwRUJcdTMwQzBcdTMwRkNcdTMwNkFcdTMwODlcdTY1QjBcdTMwNUZcdTMwNkJcdTMwNURcdTMwNkVcdTMwRDVcdTMwQTlcdTMwRUJcdTMwQzBcdTMwRkNcdTMwOTJcdTUxRTZcdTc0MDZcclxuXHRcdFx0XHRmaWxlSW5mby5wdXNoKHVuZGVmaW5lZCk7XHJcblx0XHRcdFx0b3V0bGluZURhdGEucHVzaCh1bmRlZmluZWQpO1xyXG5cdFx0XHRcdGlmICghdGhpcy5zZXR0aW5ncy5jb2xsYXBzZUZvbGRlcikge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wcm9jZXNzRm9sZGVyKGZpbGVzW2ldIGFzIFRGb2xkZXIpO1xyXG5cdFx0XHRcdFx0c3RhdHVzW2ldLm91dGxpbmVSZWFkeSA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIFx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA2QVx1MzA4OVx1NjBDNVx1NTgzMVx1MzA5Mlx1NTNENlx1NUY5N1xyXG5cdFx0XHRcdGlmICh0aGlzLmZpbGVjb3VudCA8IHRoaXMuc2V0dGluZ3MucmVhZExpbWl0IHx8IHN0YXR1c1tpXS5pc1RvcCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgaW5mbyA9IGF3YWl0IGdldEZpbGVJbmZvKFxyXG5cdFx0XHRcdFx0XHR0aGlzLmFwcCxcclxuXHRcdFx0XHRcdFx0ZmlsZXNbaV0gYXMgVEZpbGUsXHJcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MsXHJcblx0XHRcdFx0XHRcdGZhbHNlLFxyXG5cdFx0XHRcdFx0XHR0aGlzLmlzRGF0YXZpZXdFbmFibGVkLFxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdGZpbGVJbmZvLnB1c2goaW5mbyk7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgZGF0YSA9IGF3YWl0IGdldE91dGxpbmUodGhpcy5hcHAsIGZpbGVzW2ldIGFzIFRGaWxlLCBzdGF0dXNbaV0sIGluZm8sIHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0aWYgKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0b3V0bGluZURhdGEucHVzaChkYXRhKTtcclxuXHRcdFx0XHRcdFx0c3RhdHVzW2ldLm91dGxpbmVSZWFkeSA9IHRydWU7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRvdXRsaW5lRGF0YS5wdXNoKHVuZGVmaW5lZCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGZpbGVJbmZvLnB1c2godW5kZWZpbmVkKTtcclxuXHRcdFx0XHRcdG91dGxpbmVEYXRhLnB1c2godW5kZWZpbmVkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5maWxlY291bnQrKztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIFtzdGF0dXMsIGZpbGVJbmZvLCBvdXRsaW5lRGF0YV07XHJcblx0fVxyXG5cclxuXHQvLyAgXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU2M0NGXHU3NTNCXHJcblx0cHJpdmF0ZSBkcmF3T3V0bGluZShwcmV2aW91c1k6IG51bWJlcik6IHZvaWQge1xyXG5cdFx0Ly8gaW5jbHVkZSBvbmx5IG1vZGVcdTMwNEIgIGZpbHRlclx1OTVBMlx1OTAyM1x1MzBCM1x1MzBFMVx1MzBGM1x1MzBDOFx1MzBBMlx1MzBBNlx1MzBDOFxyXG5cdFx0Ly8gdGhpcy5pbmNsdWRlTW9kZSA9ICh0aGlzLnNldHRpbmdzLmluY2x1ZGVPbmx5ICE9ICdub25lJykgJiYgKEJvb2xlYW4odGhpcy5zZXR0aW5ncy53b3Jkc1RvSW5jbHVkZS5sZW5ndGgpIHx8ICh0aGlzLnNldHRpbmdzLmluY2x1ZGVCZWdpbm5pbmcpKTtcclxuXHJcblx0XHQvLyBcdTg4NjhcdTc5M0FcdTMwQUFcdTMwRjNcdTMwNkJcdTMwNkFcdTMwNjNcdTMwNjZcdTMwNDRcdTMwOEJcdTg5OEJcdTUxRkFcdTMwNTdcdTMwRUNcdTMwRDlcdTMwRUJcdTMwNkVcdTY3MDBcdTlBRDhcdTUwMjRcclxuXHRcdC8vdGhpcy5tYXhMZXZlbCA9IHRoaXMuc2V0dGluZ3MuaGVhZGluZ0xldmVsLmluZGV4T2YodHJ1ZSk7XHJcblxyXG5cdFx0Y29uc3QgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50ID0gY3JlYXRlRGl2KFwibmF2LWZpbGVzLWNvbnRhaW5lciBub2RlLWluc2VydC1ldmVudFwiKTtcclxuXHRcdGNvbnN0IHJvb3RFbDogSFRNTEVsZW1lbnQgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0gbmF2LWZvbGRlciBtb2Qtcm9vdFwiKTtcclxuXHRcdGNvbnN0IHJvb3RDaGlsZHJlbkVsOiBIVE1MRWxlbWVudCA9IHJvb3RFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0tY2hpbGRyZW4gbmF2LWZvbGRlci1jaGlsZHJlblwiKTtcclxuXHJcblx0XHQvLyBpZCBcdTMwOTJcdTRFRDhcdTUyQTBcdUZGMDhcdTMwQjlcdTMwQUZcdTMwRURcdTMwRkNcdTMwRUJcdTRGNERcdTdGNkVcdTMwNkVcdTYyOEFcdTYzRTFcdTc1MjhcdUZGMDlcclxuXHRcdGNvbnRhaW5lckVsLmlkID0gXCJNTk9mb2xkZXJ2aWV3LWxpc3Rjb250YWluZXJcIjtcclxuXHJcblx0XHQvLyBcdTMwQkZcdTMwRkNcdTMwQjJcdTMwQzNcdTMwQzhcdTMwNkVcdTMwRDVcdTMwQTlcdTMwRUJcdTMwQzBcdTU0MERcclxuXHRcdGNvbnN0IGZvbGRlckVsOiBIVE1MRWxlbWVudCA9IHJvb3RDaGlsZHJlbkVsLmNyZWF0ZURpdihcInRyZWUtaXRtZSBuYXYtZm9sZGVyXCIpO1xyXG5cdFx0Y29uc3QgZm9sZGVyVGl0bGVFbDogSFRNTEVsZW1lbnQgPSBmb2xkZXJFbC5jcmVhdGVEaXYoXHJcblx0XHRcdFwidHJlZS1pdGVtLXNlbGYgaXMtY2xpY2thYmxlIG1vZC1jb2xsYXBzaWJsZSBuYXYtZm9sZGVyLXRpdGxlIGlzLXRhcmdldGZvbGRlclwiLFxyXG5cdFx0KTtcclxuXHRcdC8vIHNldEljb24oZm9sZGVyVGl0bGVFbCwgJ2ZvbGRlcicpO1xyXG5cdFx0Zm9sZGVyVGl0bGVFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0taW5uZXIgbmF2LWZvbGRlci10aXRsZS1jb250ZW50XCIpLnNldFRleHQodGhpcy50YXJnZXRGb2xkZXIucGF0aCk7XHJcblxyXG5cdFx0Zm9sZGVyVGl0bGVFbC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xyXG5cdFx0XHQvLyBmYXZvcml0ZVx1MzA2Qlx1OEZGRFx1NTJBMC9cdTUyNEFcdTk2NjRcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZmF2b3JpdGUuZm9sZGVyLmluY2x1ZGVzKHRoaXMudGFyZ2V0Rm9sZGVyLnBhdGgpKSB7XHJcblx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJNTk86IFJlbW92ZSBmcm9tIGZhdm9yaXRlc1wiKVxyXG5cdFx0XHRcdFx0XHQuc2V0SWNvbihcImJvb2ttYXJrLW1pbnVzXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRkZWxldGVGYXZBbmRSZWNlbnQuY2FsbCh0aGlzLCB0aGlzLnRhcmdldEZvbGRlci5wYXRoLCBcImZvbGRlclwiLCBcImZhdm9yaXRlXCIpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiTU5POiBBZGQgdG8gZmF2b3JpdGVzXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwiYm9va21hcmstcGx1c1wiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dXBkYXRlRmF2QW5kUmVjZW50LmNhbGwodGhpcywgdGhpcy50YXJnZXRGb2xkZXIucGF0aCwgXCJmb2xkZXJcIiwgXCJmYXZvcml0ZVwiKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSksXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRtZW51LnNob3dBdE1vdXNlRXZlbnQoZXZlbnQpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3QgZm9sZGVyQ2hpbGRyZW5FbDogSFRNTEVsZW1lbnQgPSBmb2xkZXJFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0tY2hpbGRyZW4gbmF2LWZvbGRlci1jaGlsZHJlblwiKTtcclxuXHJcblx0XHQvLyBBbHdheXMgb24gVG9wXHJcblx0XHRjb25zdCBjYXRlZ29yeUFPVEVsOiBIVE1MRWxlbWVudCA9IGZvbGRlckNoaWxkcmVuRWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtIG5hdi1mb2xkZXJcIik7XHJcblxyXG5cdFx0Ly8gXHUzMEUxXHUzMEE0XHUzMEYzXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHJcblx0XHRjb25zdCBjYXRlZ29yeU1haW5FbDogSFRNTEVsZW1lbnQgPSBmb2xkZXJDaGlsZHJlbkVsLmNyZWF0ZURpdihcInRyZWUtaXRlbSBuYXYtZm9sZGVyXCIpOyAvLyBtb2Qtcm9vdCBcdTMwOTJcdTk2NjRcdTUzQkJcdTMwNTdcdTMwNUZcclxuXHRcdGNvbnN0cnVjdE5vdGVET00uY2FsbChcclxuXHRcdFx0dGhpcyxcclxuXHRcdFx0dGhpcy50YXJnZXRGaWxlc1t0aGlzLnRhcmdldEZvbGRlci5wYXRoXSxcclxuXHRcdFx0dGhpcy5maWxlU3RhdHVzW3RoaXMudGFyZ2V0Rm9sZGVyLnBhdGhdLFxyXG5cdFx0XHR0aGlzLmZpbGVJbmZvW3RoaXMudGFyZ2V0Rm9sZGVyLnBhdGhdLFxyXG5cdFx0XHR0aGlzLm91dGxpbmVEYXRhW3RoaXMudGFyZ2V0Rm9sZGVyLnBhdGhdLFxyXG5cdFx0XHRjYXRlZ29yeU1haW5FbCxcclxuXHRcdFx0XCJmb2xkZXJcIixcclxuXHRcdFx0Y2F0ZWdvcnlBT1RFbCxcclxuXHRcdFx0dGhpcy50YXJnZXRGb2xkZXIsXHJcblx0XHRcdHRoaXMuZmlsZU9yZGVyW3RoaXMudGFyZ2V0Rm9sZGVyLnBhdGhdLFxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTkwRThcdTUyMDZcdTMwNkVcdTYzQ0ZcdTc1M0JcdTVCOUZcdTg4NENcclxuXHRcdHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKGNvbnRhaW5lckVsKTtcclxuXHJcblx0XHQvLyBcdTMwQjlcdTMwQUZcdTMwRURcdTMwRkNcdTMwRUJcdTRGNERcdTdGNkVcdTMwOTJcdTVGQTlcdTUxNDNcclxuXHRcdGlmICh0aGlzLmhhc01haW5DaGFuZ2VkID09IGZhbHNlICYmIHByZXZpb3VzWSAhPSAwKSB7XHJcblx0XHRcdGNvbnRhaW5lckVsLnNjcm9sbFRvcCA9IHByZXZpb3VzWTtcclxuXHRcdH1cclxuXHRcdHRoaXMuaGFzTWFpbkNoYW5nZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdGNsZWFyRGF0YXMoKTogdm9pZCB7XHJcblx0XHR0aGlzLnRhcmdldEZpbGVzID0ge307XHJcblx0XHR0aGlzLmZpbGVTdGF0dXMgPSB7fTtcclxuXHRcdHRoaXMuZmlsZUluZm8gPSB7fTtcclxuXHRcdHRoaXMub3V0bGluZURhdGEgPSB7fTtcclxuXHRcdHRoaXMuZmlsZU9yZGVyID0ge307XHJcblx0fVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSx3QkFBbUM7OztBQ0FuQyx1QkFBNkM7QUFFN0MsdUJBQStDOzs7QUNGL0Msc0JBQTJCO0FBR3BCLDhCQUNOLE1BQ0EsTUFDQSxNQUNBLE9BQ2lCO0FBUmxCO0FBU0MsUUFBTSxRQUFpQjtBQUN2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
