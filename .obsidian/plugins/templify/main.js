"use strict";var EC=Object.defineProperty;var CC=(e,n,t)=>n in e?EC(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var me=(e,n,t)=>(CC(e,typeof n!="symbol"?n+"":n,t),t);const ge=require("obsidian");function SC(e,n){for(var t=0;t<n.length;t++){const o=n[t];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(o,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function NC(e){const n=Object.keys(e),t={};for(const o of n)typeof e[o]=="function"&&(t[o]=e[o]);return(o={},i)=>{let s=!1;const c={};for(const u of n){const f=o[u],v=t[u](f,i);c[u]=v,s=s||v!==f}return s?c:o}}function PC(e,n){const t=[];let o=e;return{dispatch:u=>{const f=n(o,u),v=o;o=f;for(const m of t)m(o,v)},getState:()=>o,subscribe:u=>{let f=!0;return t.push(u),()=>{if(!f)return;const v=t.indexOf(u);t.splice(v,1),f=!1}}}}function TC(e,n){switch(n.type){case"SET_PLUGIN":return n.payload.plugin===e.plugin?e:{...e,plugin:n.payload.plugin};case"SET_APP":return n.payload.app===e.app?e:{...e,app:n.payload.app};case"SET_EDITOR":return n.payload.editor===e.editor?e:{...e,editor:n.payload.editor};case"SET_ACTIVE_EDITOR":return n.payload.instance===e.instance?e:{...e,instance:n.payload.instance};case"SET_LIGHT_OR_DARK_MODE":return n.payload.mode===e.lightOrDarkMode?e:{...e,lightOrDarkMode:n.payload.mode};case"SET_CLOSE_BY_TEMPLIFY":return n.payload.closedBySelf===e.closedBySelf?e:{...e,closedBySelf:n.payload.closedBySelf};case"SET_PLUGIN_MANIFEST":return{...e,manifest:n.payload.manifest};case"SET_SETTING":return{...e,settings:n.payload.settings};case"SET_EDITING_FILE":return{...e,editingFile:n.payload.file};case"SET_MODIFIED_BY_SELF":return{...e,modifiedBySelf:n.payload.modifiedBySelf};case"SET_INSTANCE":return e.instanceList.has(n.payload.id)?e:{...e,instanceList:e.instanceList.set(n.payload.id,n.payload.instance)};default:return e}}const DC={settings:null,plugin:null,app:null,editor:null,instance:null,closedBySelf:!1,lightOrDarkMode:"light",manifest:null,editingFile:null,modifiedBySelf:!1,instanceList:new Map};function OC(e,n){switch(n.type){case"SET_FILES":return n.payload.files===e.files?e:{...e,files:n.payload.files};case"DELETE_FILE":{const t=e.files.filter(o=>o.path!==n.payload.file.path);return{...e,files:t}}case"INSERT_FILE":return{...e,files:[...e.files,n.payload.file]};case"UPDATE_FILE":{const t=e.files.map(o=>o.path===n.payload.path?n.payload.file:o);return{...e,files:t}}case"CLEAR_FILES":return{...e,files:null};default:return e}}const MC={files:null},lt=PC({globalState:DC,fileState:MC},NC({globalState:TC,fileState:OC}));class RC{constructor(){me(this,"getState",()=>lt.getState().globalState);me(this,"setClosedByCacheArea",n=>{lt.dispatch({type:"SET_CLOSE_BY_TEMPLIFY",payload:{closedBySelf:n}})});me(this,"setApp",n=>{lt.dispatch({type:"SET_APP",payload:{app:n}})});me(this,"setPlugin",n=>{lt.dispatch({type:"SET_PLUGIN",payload:{plugin:n}})});me(this,"setSetting",n=>{lt.dispatch({type:"SET_SETTING",payload:{settings:n}})});me(this,"setEditor",n=>{lt.dispatch({type:"SET_EDITOR",payload:{editor:n}})});me(this,"setPluginManifest",n=>{lt.dispatch({type:"SET_PLUGIN_MANIFEST",payload:{manifest:n}})});me(this,"setEditingFile",n=>{lt.dispatch({type:"SET_EDITING_FILE",payload:{file:n}})});me(this,"setLightOrDarkMode",n=>{lt.dispatch({type:"SET_LIGHT_OR_DARK_MODE",payload:{mode:n}})});me(this,"setModifiedBySelf",n=>{lt.dispatch({type:"SET_MODIFIED_BY_SELF",payload:{modifiedBySelf:n}})});me(this,"setActiveEditor",n=>{lt.dispatch({type:"SET_ACTIVE_EDITOR",payload:{instance:n}})});me(this,"setInstance",(n,t)=>{lt.dispatch({type:"SET_INSTANCE",payload:{id:n,instance:t}})});me(this,"getInstance",n=>this.getState().instanceList.get(n))}}const Ke=new RC;function _C(e){return()=>{const n=()=>{const t=e.embedRegistry;if(!t)return!1;const o=t.embedByExtension.md,i=createEl("div"),s=o({app:e,containerEl:i},null,null);if(s.editable=!0,s.set(""),s.showEditor(),!s.editMode)return!1;const c=Object.getPrototypeOf(Object.getPrototypeOf(s.editMode));return Ke.setEditor(c),s.editMode.destroy(),i.detach(),!0};e.workspace.onLayoutReady(()=>{n()||e.workspace.onLayoutReady(()=>{setTimeout(()=>{n()},100)})})}}var LC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pb(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var i=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:function(){return e[o]}})}),t}var Po={},Tb={exports:{}},Vt={},Db={exports:{}},Ve={},$g;function zC(){if($g)return Ve;$g=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=g&&P[g]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,x={};function E(P,z,j){this.props=P,this.context=z,this.refs=x,this.updater=j||w}E.prototype.isReactComponent={},E.prototype.setState=function(P,z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,z,"setState")},E.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=E.prototype;function T(P,z,j){this.props=P,this.context=z,this.refs=x,this.updater=j||w}var D=T.prototype=new C;D.constructor=T,k(D,E.prototype),D.isPureReactComponent=!0;var O=Array.isArray,M=Object.prototype.hasOwnProperty,R={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function B(P,z,j){var W,Z={},ae=null,ie=null;if(z!=null)for(W in z.ref!==void 0&&(ie=z.ref),z.key!==void 0&&(ae=""+z.key),z)M.call(z,W)&&!L.hasOwnProperty(W)&&(Z[W]=z[W]);var te=arguments.length-2;if(te===1)Z.children=j;else if(1<te){for(var $=Array(te),oe=0;oe<te;oe++)$[oe]=arguments[oe+2];Z.children=$}if(P&&P.defaultProps)for(W in te=P.defaultProps,te)Z[W]===void 0&&(Z[W]=te[W]);return{$$typeof:e,type:P,key:ae,ref:ie,props:Z,_owner:R.current}}function G(P,z){return{$$typeof:e,type:P.type,key:z,ref:P.ref,props:P.props,_owner:P._owner}}function Q(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function re(P){var z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(j){return z[j]})}var Y=/\/+/g;function se(P,z){return typeof P=="object"&&P!==null&&P.key!=null?re(""+P.key):z.toString(36)}function ne(P,z,j,W,Z){var ae=typeof P;(ae==="undefined"||ae==="boolean")&&(P=null);var ie=!1;if(P===null)ie=!0;else switch(ae){case"string":case"number":ie=!0;break;case"object":switch(P.$$typeof){case e:case n:ie=!0}}if(ie)return ie=P,Z=Z(ie),P=W===""?"."+se(ie,0):W,O(Z)?(j="",P!=null&&(j=P.replace(Y,"$&/")+"/"),ne(Z,z,j,"",function(oe){return oe})):Z!=null&&(Q(Z)&&(Z=G(Z,j+(!Z.key||ie&&ie.key===Z.key?"":(""+Z.key).replace(Y,"$&/")+"/")+P)),z.push(Z)),1;if(ie=0,W=W===""?".":W+":",O(P))for(var te=0;te<P.length;te++){ae=P[te];var $=W+se(ae,te);ie+=ne(ae,z,j,$,Z)}else if($=b(P),typeof $=="function")for(P=$.call(P),te=0;!(ae=P.next()).done;)ae=ae.value,$=W+se(ae,te++),ie+=ne(ae,z,j,$,Z);else if(ae==="object")throw z=String(P),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ie}function J(P,z,j){if(P==null)return P;var W=[],Z=0;return ne(P,W,"","",function(ae){return z.call(j,ae,Z++)}),W}function de(P){if(P._status===-1){var z=P._result;z=z(),z.then(function(j){(P._status===0||P._status===-1)&&(P._status=1,P._result=j)},function(j){(P._status===0||P._status===-1)&&(P._status=2,P._result=j)}),P._status===-1&&(P._status=0,P._result=z)}if(P._status===1)return P._result.default;throw P._result}var le={current:null},H={transition:null},I={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:H,ReactCurrentOwner:R};return Ve.Children={map:J,forEach:function(P,z,j){J(P,function(){z.apply(this,arguments)},j)},count:function(P){var z=0;return J(P,function(){z++}),z},toArray:function(P){return J(P,function(z){return z})||[]},only:function(P){if(!Q(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ve.Component=E,Ve.Fragment=t,Ve.Profiler=i,Ve.PureComponent=T,Ve.StrictMode=o,Ve.Suspense=f,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,Ve.cloneElement=function(P,z,j){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var W=k({},P.props),Z=P.key,ae=P.ref,ie=P._owner;if(z!=null){if(z.ref!==void 0&&(ae=z.ref,ie=R.current),z.key!==void 0&&(Z=""+z.key),P.type&&P.type.defaultProps)var te=P.type.defaultProps;for($ in z)M.call(z,$)&&!L.hasOwnProperty($)&&(W[$]=z[$]===void 0&&te!==void 0?te[$]:z[$])}var $=arguments.length-2;if($===1)W.children=j;else if(1<$){te=Array($);for(var oe=0;oe<$;oe++)te[oe]=arguments[oe+2];W.children=te}return{$$typeof:e,type:P.type,key:Z,ref:ae,props:W,_owner:ie}},Ve.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:s,_context:P},P.Consumer=P},Ve.createElement=B,Ve.createFactory=function(P){var z=B.bind(null,P);return z.type=P,z},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(P){return{$$typeof:u,render:P}},Ve.isValidElement=Q,Ve.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:de}},Ve.memo=function(P,z){return{$$typeof:v,type:P,compare:z===void 0?null:z}},Ve.startTransition=function(P){var z=H.transition;H.transition={};try{P()}finally{H.transition=z}},Ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ve.useCallback=function(P,z){return le.current.useCallback(P,z)},Ve.useContext=function(P){return le.current.useContext(P)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(P){return le.current.useDeferredValue(P)},Ve.useEffect=function(P,z){return le.current.useEffect(P,z)},Ve.useId=function(){return le.current.useId()},Ve.useImperativeHandle=function(P,z,j){return le.current.useImperativeHandle(P,z,j)},Ve.useInsertionEffect=function(P,z){return le.current.useInsertionEffect(P,z)},Ve.useLayoutEffect=function(P,z){return le.current.useLayoutEffect(P,z)},Ve.useMemo=function(P,z){return le.current.useMemo(P,z)},Ve.useReducer=function(P,z,j){return le.current.useReducer(P,z,j)},Ve.useRef=function(P){return le.current.useRef(P)},Ve.useState=function(P){return le.current.useState(P)},Ve.useSyncExternalStore=function(P,z,j){return le.current.useSyncExternalStore(P,z,j)},Ve.useTransition=function(){return le.current.useTransition()},Ve.version="18.2.0",Ve}Db.exports=zC();var d=Db.exports;const Ae=Vp(d),Zc=SC({__proto__:null,default:Ae},[d]);var Pf={exports:{}},Tf={},Ug;function IC(){return Ug||(Ug=1,function(e){function n(H,I){var P=H.length;H.push(I);e:for(;0<P;){var z=P-1>>>1,j=H[z];if(0<i(j,I))H[z]=I,H[P]=j,P=z;else break e}}function t(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var I=H[0],P=H.pop();if(P!==I){H[0]=P;e:for(var z=0,j=H.length,W=j>>>1;z<W;){var Z=2*(z+1)-1,ae=H[Z],ie=Z+1,te=H[ie];if(0>i(ae,P))ie<j&&0>i(te,ae)?(H[z]=te,H[ie]=P,z=ie):(H[z]=ae,H[Z]=P,z=Z);else if(ie<j&&0>i(te,P))H[z]=te,H[ie]=P,z=ie;else break e}}return I}function i(H,I){var P=H.sortIndex-I.sortIndex;return P!==0?P:H.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],v=[],m=1,g=null,b=3,w=!1,k=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(H){for(var I=t(v);I!==null;){if(I.callback===null)o(v);else if(I.startTime<=H)o(v),I.sortIndex=I.expirationTime,n(f,I);else break;I=t(v)}}function O(H){if(x=!1,D(H),!k)if(t(f)!==null)k=!0,de(M);else{var I=t(v);I!==null&&le(O,I.startTime-H)}}function M(H,I){k=!1,x&&(x=!1,C(B),B=-1),w=!0;var P=b;try{for(D(I),g=t(f);g!==null&&(!(g.expirationTime>I)||H&&!re());){var z=g.callback;if(typeof z=="function"){g.callback=null,b=g.priorityLevel;var j=z(g.expirationTime<=I);I=e.unstable_now(),typeof j=="function"?g.callback=j:g===t(f)&&o(f),D(I)}else o(f);g=t(f)}if(g!==null)var W=!0;else{var Z=t(v);Z!==null&&le(O,Z.startTime-I),W=!1}return W}finally{g=null,b=P,w=!1}}var R=!1,L=null,B=-1,G=5,Q=-1;function re(){return!(e.unstable_now()-Q<G)}function Y(){if(L!==null){var H=e.unstable_now();Q=H;var I=!0;try{I=L(!0,H)}finally{I?se():(R=!1,L=null)}}else R=!1}var se;if(typeof T=="function")se=function(){T(Y)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,J=ne.port2;ne.port1.onmessage=Y,se=function(){J.postMessage(null)}}else se=function(){E(Y,0)};function de(H){L=H,R||(R=!0,se())}function le(H,I){B=E(function(){H(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){k||w||(k=!0,de(M))},e.unstable_forceFrameRate=function(H){0>H||125<H||(G=0<H?Math.floor(1e3/H):5)},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return t(f)},e.unstable_next=function(H){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var P=b;b=I;try{return H()}finally{b=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,I){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var P=b;b=H;try{return I()}finally{b=P}},e.unstable_scheduleCallback=function(H,I,P){var z=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?z+P:z):P=z,H){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=P+j,H={id:m++,callback:I,priorityLevel:H,startTime:P,expirationTime:j,sortIndex:-1},P>z?(H.sortIndex=P,n(v,H),t(f)===null&&H===t(v)&&(x?(C(B),B=-1):x=!0,le(O,P-z))):(H.sortIndex=j,n(f,H),k||w||(k=!0,de(M))),H},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(H){var I=b;return function(){var P=b;b=I;try{return H.apply(this,arguments)}finally{b=P}}}}(Tf)),Tf}var qg;function AC(){return qg||(qg=1,Pf.exports=IC()),Pf.exports}var Gg;function FC(){if(Gg)return Vt;Gg=1;var e=d,n=AC();function t(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function s(r,a){c(r,a),c(r+"Capture",a)}function c(r,a){for(i[r]=a,r=0;r<a.length;r++)o.add(a[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function b(r){return f.call(g,r)?!0:f.call(m,r)?!1:v.test(r)?g[r]=!0:(m[r]=!0,!1)}function w(r,a,l,p){if(l!==null&&l.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,a,l,p){if(a===null||typeof a>"u"||w(r,a,l,p))return!0;if(p)return!1;if(l!==null)switch(l.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function x(r,a,l,p,h,y,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=h,this.mustUseProperty=l,this.propertyName=r,this.type=a,this.sanitizeURL=y,this.removeEmptyString=S}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){E[r]=new x(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];E[a]=new x(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){E[r]=new x(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){E[r]=new x(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){E[r]=new x(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){E[r]=new x(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){E[r]=new x(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){E[r]=new x(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){E[r]=new x(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(C,T);E[a]=new x(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(C,T);E[a]=new x(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(C,T);E[a]=new x(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){E[r]=new x(r,1,!1,r.toLowerCase(),null,!1,!1)}),E.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){E[r]=new x(r,1,!1,r.toLowerCase(),null,!0,!0)});function D(r,a,l,p){var h=E.hasOwnProperty(a)?E[a]:null;(h!==null?h.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,l,h,p)&&(l=null),p||h===null?b(a)&&(l===null?r.removeAttribute(a):r.setAttribute(a,""+l)):h.mustUseProperty?r[h.propertyName]=l===null?h.type===3?!1:"":l:(a=h.attributeName,p=h.attributeNamespace,l===null?r.removeAttribute(a):(h=h.type,l=h===3||h===4&&l===!0?"":""+l,p?r.setAttributeNS(p,a,l):r.setAttribute(a,l))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),R=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),re=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),H=Symbol.iterator;function I(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var P=Object.assign,z;function j(r){if(z===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+r}var W=!1;function Z(r,a){if(!r||W)return"";W=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(q){var p=q}Reflect.construct(r,[],a)}else{try{a.call()}catch(q){p=q}r.call(a.prototype)}else{try{throw Error()}catch(q){p=q}r()}}catch(q){if(q&&p&&typeof q.stack=="string"){for(var h=q.stack.split(`
`),y=p.stack.split(`
`),S=h.length-1,_=y.length-1;1<=S&&0<=_&&h[S]!==y[_];)_--;for(;1<=S&&0<=_;S--,_--)if(h[S]!==y[_]){if(S!==1||_!==1)do if(S--,_--,0>_||h[S]!==y[_]){var A=`
`+h[S].replace(" at new "," at ");return r.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",r.displayName)),A}while(1<=S&&0<=_);break}}}finally{W=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?j(r):""}function ae(r){switch(r.tag){case 5:return j(r.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return r=Z(r.type,!1),r;case 11:return r=Z(r.type.render,!1),r;case 1:return r=Z(r.type,!0),r;default:return""}}function ie(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case R:return"Portal";case G:return"Profiler";case B:return"StrictMode";case se:return"Suspense";case ne:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case re:return(r.displayName||"Context")+".Consumer";case Q:return(r._context.displayName||"Context")+".Provider";case Y:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case J:return a=r.displayName||null,a!==null?a:ie(r.type)||"Memo";case de:a=r._payload,r=r._init;try{return ie(r(a))}catch{}}return null}function te(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(a);case 8:return a===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function $(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function oe(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xe(r){var a=oe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),p=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,y=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return h.call(this)},set:function(S){p=""+S,y.call(this,S)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function ye(r){r._valueTracker||(r._valueTracker=xe(r))}function ve(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),p="";return r&&(p=oe(r)?r.checked?"true":"false":r.value),r=p,r!==l?(a.setValue(r),!0):!1}function Me(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function K(r,a){var l=a.checked;return P({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function fe(r,a){var l=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;l=$(a.value!=null?a.value:l),r._wrapperState={initialChecked:p,initialValue:l,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ke(r,a){a=a.checked,a!=null&&D(r,"checked",a,!1)}function De(r,a){ke(r,a);var l=$(a.value),p=a.type;if(l!=null)p==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?Le(r,a.type,l):a.hasOwnProperty("defaultValue")&&Le(r,a.type,$(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function Oe(r,a,l){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,l||a===r.value||(r.value=a),r.defaultValue=a}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Le(r,a,l){(a!=="number"||Me(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var qe=Array.isArray;function ot(r,a,l,p){if(r=r.options,a){a={};for(var h=0;h<l.length;h++)a["$"+l[h]]=!0;for(l=0;l<r.length;l++)h=a.hasOwnProperty("$"+r[l].value),r[l].selected!==h&&(r[l].selected=h),h&&p&&(r[l].defaultSelected=!0)}else{for(l=""+$(l),a=null,h=0;h<r.length;h++){if(r[h].value===l){r[h].selected=!0,p&&(r[h].defaultSelected=!0);return}a!==null||r[h].disabled||(a=r[h])}a!==null&&(a.selected=!0)}}function Nn(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return P({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function gt(r,a){var l=a.value;if(l==null){if(l=a.children,a=a.defaultValue,l!=null){if(a!=null)throw Error(t(92));if(qe(l)){if(1<l.length)throw Error(t(93));l=l[0]}a=l}a==null&&(a=""),l=a}r._wrapperState={initialValue:$(l)}}function Ao(r,a){var l=$(a.value),p=$(a.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),a.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),p!=null&&(r.defaultValue=""+p)}function Ya(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function Ka(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fo(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?Ka(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Kr,rh=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,l,p,h){MSApp.execUnsafeLocalFunction(function(){return r(a,l,p,h)})}:r}(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Kr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function Xa(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pk=["Webkit","ms","Moz","O"];Object.keys(Qa).forEach(function(r){Pk.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),Qa[a]=Qa[r]})});function oh(r,a,l){return a==null||typeof a=="boolean"||a===""?"":l||typeof a!="number"||a===0||Qa.hasOwnProperty(r)&&Qa[r]?(""+a).trim():a+"px"}function ah(r,a){r=r.style;for(var l in a)if(a.hasOwnProperty(l)){var p=l.indexOf("--")===0,h=oh(l,a[l],p);l==="float"&&(l="cssFloat"),p?r.setProperty(l,h):r[l]=h}}var Tk=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fu(r,a){if(a){if(Tk[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function ju(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=null;function Bu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Wu=null,jo=null,Ho=null;function ih(r){if(r=bi(r)){if(typeof Wu!="function")throw Error(t(280));var a=r.stateNode;a&&(a=gl(a),Wu(r.stateNode,r.type,a))}}function sh(r){jo?Ho?Ho.push(r):Ho=[r]:jo=r}function lh(){if(jo){var r=jo,a=Ho;if(Ho=jo=null,ih(r),a)for(r=0;r<a.length;r++)ih(a[r])}}function ch(r,a){return r(a)}function uh(){}var Vu=!1;function dh(r,a,l){if(Vu)return r(a,l);Vu=!0;try{return ch(r,a,l)}finally{Vu=!1,(jo!==null||Ho!==null)&&(uh(),lh())}}function Za(r,a){var l=r.stateNode;if(l===null)return null;var p=gl(l);if(p===null)return null;l=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,a,typeof l));return l}var $u=!1;if(u)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){$u=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{$u=!1}function Dk(r,a,l,p,h,y,S,_,A){var q=Array.prototype.slice.call(arguments,3);try{a.apply(l,q)}catch(ue){this.onError(ue)}}var ei=!1,Ks=null,Xs=!1,Uu=null,Ok={onError:function(r){ei=!0,Ks=r}};function Mk(r,a,l,p,h,y,S,_,A){ei=!1,Ks=null,Dk.apply(Ok,arguments)}function Rk(r,a,l,p,h,y,S,_,A){if(Mk.apply(this,arguments),ei){if(ei){var q=Ks;ei=!1,Ks=null}else throw Error(t(198));Xs||(Xs=!0,Uu=q)}}function Xr(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,a.flags&4098&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function fh(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function ph(r){if(Xr(r)!==r)throw Error(t(188))}function _k(r){var a=r.alternate;if(!a){if(a=Xr(r),a===null)throw Error(t(188));return a!==r?null:r}for(var l=r,p=a;;){var h=l.return;if(h===null)break;var y=h.alternate;if(y===null){if(p=h.return,p!==null){l=p;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===l)return ph(h),r;if(y===p)return ph(h),a;y=y.sibling}throw Error(t(188))}if(l.return!==p.return)l=h,p=y;else{for(var S=!1,_=h.child;_;){if(_===l){S=!0,l=h,p=y;break}if(_===p){S=!0,p=h,l=y;break}_=_.sibling}if(!S){for(_=y.child;_;){if(_===l){S=!0,l=y,p=h;break}if(_===p){S=!0,p=y,l=h;break}_=_.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==p)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:a}function vh(r){return r=_k(r),r!==null?hh(r):null}function hh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=hh(r);if(a!==null)return a;r=r.sibling}return null}var mh=n.unstable_scheduleCallback,gh=n.unstable_cancelCallback,Lk=n.unstable_shouldYield,zk=n.unstable_requestPaint,vt=n.unstable_now,Ik=n.unstable_getCurrentPriorityLevel,qu=n.unstable_ImmediatePriority,yh=n.unstable_UserBlockingPriority,Qs=n.unstable_NormalPriority,Ak=n.unstable_LowPriority,bh=n.unstable_IdlePriority,Zs=null,Wn=null;function Fk(r){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Zs,r,void 0,(r.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:Bk,jk=Math.log,Hk=Math.LN2;function Bk(r){return r>>>=0,r===0?32:31-(jk(r)/Hk|0)|0}var Js=64,el=4194304;function ti(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function tl(r,a){var l=r.pendingLanes;if(l===0)return 0;var p=0,h=r.suspendedLanes,y=r.pingedLanes,S=l&268435455;if(S!==0){var _=S&~h;_!==0?p=ti(_):(y&=S,y!==0&&(p=ti(y)))}else S=l&~h,S!==0?p=ti(S):y!==0&&(p=ti(y));if(p===0)return 0;if(a!==0&&a!==p&&!(a&h)&&(h=p&-p,y=a&-a,h>=y||h===16&&(y&4194240)!==0))return a;if(p&4&&(p|=l&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=p;0<a;)l=31-Pn(a),h=1<<l,p|=r[l],a&=~h;return p}function Wk(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vk(r,a){for(var l=r.suspendedLanes,p=r.pingedLanes,h=r.expirationTimes,y=r.pendingLanes;0<y;){var S=31-Pn(y),_=1<<S,A=h[S];A===-1?(!(_&l)||_&p)&&(h[S]=Wk(_,a)):A<=a&&(r.expiredLanes|=_),y&=~_}}function Gu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function wh(){var r=Js;return Js<<=1,!(Js&4194240)&&(Js=64),r}function Yu(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function ni(r,a,l){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-Pn(a),r[a]=l}function $k(r,a){var l=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<l;){var h=31-Pn(l),y=1<<h;a[h]=0,p[h]=-1,r[h]=-1,l&=~y}}function Ku(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var p=31-Pn(l),h=1<<p;h&a|r[p]&a&&(r[p]|=a),l&=~h}}var Ze=0;function xh(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var kh,Xu,Eh,Ch,Sh,Qu=!1,nl=[],xr=null,kr=null,Er=null,ri=new Map,oi=new Map,Cr=[],Uk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nh(r,a){switch(r){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":ri.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(a.pointerId)}}function ai(r,a,l,p,h,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:p,nativeEvent:y,targetContainers:[h]},a!==null&&(a=bi(a),a!==null&&Xu(a)),r):(r.eventSystemFlags|=p,a=r.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),r)}function qk(r,a,l,p,h){switch(a){case"focusin":return xr=ai(xr,r,a,l,p,h),!0;case"dragenter":return kr=ai(kr,r,a,l,p,h),!0;case"mouseover":return Er=ai(Er,r,a,l,p,h),!0;case"pointerover":var y=h.pointerId;return ri.set(y,ai(ri.get(y)||null,r,a,l,p,h)),!0;case"gotpointercapture":return y=h.pointerId,oi.set(y,ai(oi.get(y)||null,r,a,l,p,h)),!0}return!1}function Ph(r){var a=Qr(r.target);if(a!==null){var l=Xr(a);if(l!==null){if(a=l.tag,a===13){if(a=fh(l),a!==null){r.blockedOn=a,Sh(r.priority,function(){Eh(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function rl(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=Ju(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var p=new l.constructor(l.type,l);Hu=p,l.target.dispatchEvent(p),Hu=null}else return a=bi(l),a!==null&&Xu(a),r.blockedOn=l,!1;a.shift()}return!0}function Th(r,a,l){rl(r)&&l.delete(a)}function Gk(){Qu=!1,xr!==null&&rl(xr)&&(xr=null),kr!==null&&rl(kr)&&(kr=null),Er!==null&&rl(Er)&&(Er=null),ri.forEach(Th),oi.forEach(Th)}function ii(r,a){r.blockedOn===a&&(r.blockedOn=null,Qu||(Qu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Gk)))}function si(r){function a(h){return ii(h,r)}if(0<nl.length){ii(nl[0],r);for(var l=1;l<nl.length;l++){var p=nl[l];p.blockedOn===r&&(p.blockedOn=null)}}for(xr!==null&&ii(xr,r),kr!==null&&ii(kr,r),Er!==null&&ii(Er,r),ri.forEach(a),oi.forEach(a),l=0;l<Cr.length;l++)p=Cr[l],p.blockedOn===r&&(p.blockedOn=null);for(;0<Cr.length&&(l=Cr[0],l.blockedOn===null);)Ph(l),l.blockedOn===null&&Cr.shift()}var Bo=O.ReactCurrentBatchConfig,ol=!0;function Yk(r,a,l,p){var h=Ze,y=Bo.transition;Bo.transition=null;try{Ze=1,Zu(r,a,l,p)}finally{Ze=h,Bo.transition=y}}function Kk(r,a,l,p){var h=Ze,y=Bo.transition;Bo.transition=null;try{Ze=4,Zu(r,a,l,p)}finally{Ze=h,Bo.transition=y}}function Zu(r,a,l,p){if(ol){var h=Ju(r,a,l,p);if(h===null)md(r,a,p,al,l),Nh(r,p);else if(qk(h,r,a,l,p))p.stopPropagation();else if(Nh(r,p),a&4&&-1<Uk.indexOf(r)){for(;h!==null;){var y=bi(h);if(y!==null&&kh(y),y=Ju(r,a,l,p),y===null&&md(r,a,p,al,l),y===h)break;h=y}h!==null&&p.stopPropagation()}else md(r,a,p,null,l)}}var al=null;function Ju(r,a,l,p){if(al=null,r=Bu(p),r=Qr(r),r!==null)if(a=Xr(r),a===null)r=null;else if(l=a.tag,l===13){if(r=fh(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return al=r,null}function Dh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ik()){case qu:return 1;case yh:return 4;case Qs:case Ak:return 16;case bh:return 536870912;default:return 16}default:return 16}}var Sr=null,ed=null,il=null;function Oh(){if(il)return il;var r,a=ed,l=a.length,p,h="value"in Sr?Sr.value:Sr.textContent,y=h.length;for(r=0;r<l&&a[r]===h[r];r++);var S=l-r;for(p=1;p<=S&&a[l-p]===h[y-p];p++);return il=h.slice(r,1<p?1-p:void 0)}function sl(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function ll(){return!0}function Mh(){return!1}function Xt(r){function a(l,p,h,y,S){this._reactName=l,this._targetInst=h,this.type=p,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var _ in r)r.hasOwnProperty(_)&&(l=r[_],this[_]=l?l(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ll:Mh,this.isPropagationStopped=Mh,this}return P(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),a}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=Xt(Wo),li=P({},Wo,{view:0,detail:0}),Xk=Xt(li),nd,rd,ci,cl=P({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ci&&(ci&&r.type==="mousemove"?(nd=r.screenX-ci.screenX,rd=r.screenY-ci.screenY):rd=nd=0,ci=r),nd)},movementY:function(r){return"movementY"in r?r.movementY:rd}}),Rh=Xt(cl),Qk=P({},cl,{dataTransfer:0}),Zk=Xt(Qk),Jk=P({},li,{relatedTarget:0}),od=Xt(Jk),eE=P({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),tE=Xt(eE),nE=P({},Wo,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rE=Xt(nE),oE=P({},Wo,{data:0}),_h=Xt(oE),aE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lE(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=sE[r])?!!a[r]:!1}function ad(){return lE}var cE=P({},li,{key:function(r){if(r.key){var a=aE[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=sl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?iE[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(r){return r.type==="keypress"?sl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?sl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),uE=Xt(cE),dE=P({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lh=Xt(dE),fE=P({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),pE=Xt(fE),vE=P({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),hE=Xt(vE),mE=P({},cl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),gE=Xt(mE),yE=[9,13,27,32],id=u&&"CompositionEvent"in window,ui=null;u&&"documentMode"in document&&(ui=document.documentMode);var bE=u&&"TextEvent"in window&&!ui,zh=u&&(!id||ui&&8<ui&&11>=ui),Ih=String.fromCharCode(32),Ah=!1;function Fh(r,a){switch(r){case"keyup":return yE.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Vo=!1;function wE(r,a){switch(r){case"compositionend":return jh(a);case"keypress":return a.which!==32?null:(Ah=!0,Ih);case"textInput":return r=a.data,r===Ih&&Ah?null:r;default:return null}}function xE(r,a){if(Vo)return r==="compositionend"||!id&&Fh(r,a)?(r=Oh(),il=ed=Sr=null,Vo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return zh&&a.locale!=="ko"?null:a.data;default:return null}}var kE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hh(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!kE[r.type]:a==="textarea"}function Bh(r,a,l,p){sh(p),a=vl(a,"onChange"),0<a.length&&(l=new td("onChange","change",null,l,p),r.push({event:l,listeners:a}))}var di=null,fi=null;function EE(r){am(r,0)}function ul(r){var a=Yo(r);if(ve(a))return r}function CE(r,a){if(r==="change")return a}var Wh=!1;if(u){var sd;if(u){var ld="oninput"in document;if(!ld){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),ld=typeof Vh.oninput=="function"}sd=ld}else sd=!1;Wh=sd&&(!document.documentMode||9<document.documentMode)}function $h(){di&&(di.detachEvent("onpropertychange",Uh),fi=di=null)}function Uh(r){if(r.propertyName==="value"&&ul(fi)){var a=[];Bh(a,fi,r,Bu(r)),dh(EE,a)}}function SE(r,a,l){r==="focusin"?($h(),di=a,fi=l,di.attachEvent("onpropertychange",Uh)):r==="focusout"&&$h()}function NE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ul(fi)}function PE(r,a){if(r==="click")return ul(a)}function TE(r,a){if(r==="input"||r==="change")return ul(a)}function DE(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Tn=typeof Object.is=="function"?Object.is:DE;function pi(r,a){if(Tn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),p=Object.keys(a);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var h=l[p];if(!f.call(a,h)||!Tn(r[h],a[h]))return!1}return!0}function qh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Gh(r,a){var l=qh(r);r=0;for(var p;l;){if(l.nodeType===3){if(p=r+l.textContent.length,r<=a&&p>=a)return{node:l,offset:a-r};r=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qh(l)}}function Yh(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Yh(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Kh(){for(var r=window,a=Me();a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Me(r.document)}return a}function cd(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function OE(r){var a=Kh(),l=r.focusedElem,p=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&Yh(l.ownerDocument.documentElement,l)){if(p!==null&&cd(l)){if(a=p.start,r=p.end,r===void 0&&(r=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(r,l.value.length);else if(r=(a=l.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var h=l.textContent.length,y=Math.min(p.start,h);p=p.end===void 0?y:Math.min(p.end,h),!r.extend&&y>p&&(h=p,p=y,y=h),h=Gh(l,y);var S=Gh(l,p);h&&S&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==S.node||r.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(h.node,h.offset),r.removeAllRanges(),y>p?(r.addRange(a),r.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),r.addRange(a)))}}for(a=[],r=l;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)r=a[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ME=u&&"documentMode"in document&&11>=document.documentMode,$o=null,ud=null,vi=null,dd=!1;function Xh(r,a,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dd||$o==null||$o!==Me(p)||(p=$o,"selectionStart"in p&&cd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),vi&&pi(vi,p)||(vi=p,p=vl(ud,"onSelect"),0<p.length&&(a=new td("onSelect","select",null,a,l),r.push({event:a,listeners:p}),a.target=$o)))}function dl(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var Uo={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},fd={},Qh={};u&&(Qh=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function fl(r){if(fd[r])return fd[r];if(!Uo[r])return r;var a=Uo[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in Qh)return fd[r]=a[l];return r}var Zh=fl("animationend"),Jh=fl("animationiteration"),em=fl("animationstart"),tm=fl("transitionend"),nm=new Map,rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(r,a){nm.set(r,a),s(a,[r])}for(var pd=0;pd<rm.length;pd++){var vd=rm[pd],RE=vd.toLowerCase(),_E=vd[0].toUpperCase()+vd.slice(1);Nr(RE,"on"+_E)}Nr(Zh,"onAnimationEnd"),Nr(Jh,"onAnimationIteration"),Nr(em,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(tm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LE=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function om(r,a,l){var p=r.type||"unknown-event";r.currentTarget=l,Rk(p,a,void 0,r),r.currentTarget=null}function am(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var p=r[l],h=p.event;p=p.listeners;e:{var y=void 0;if(a)for(var S=p.length-1;0<=S;S--){var _=p[S],A=_.instance,q=_.currentTarget;if(_=_.listener,A!==y&&h.isPropagationStopped())break e;om(h,_,q),y=A}else for(S=0;S<p.length;S++){if(_=p[S],A=_.instance,q=_.currentTarget,_=_.listener,A!==y&&h.isPropagationStopped())break e;om(h,_,q),y=A}}}if(Xs)throw r=Uu,Xs=!1,Uu=null,r}function tt(r,a){var l=a[kd];l===void 0&&(l=a[kd]=new Set);var p=r+"__bubble";l.has(p)||(im(a,r,2,!1),l.add(p))}function hd(r,a,l){var p=0;a&&(p|=4),im(l,r,p,a)}var pl="_reactListening"+Math.random().toString(36).slice(2);function mi(r){if(!r[pl]){r[pl]=!0,o.forEach(function(l){l!=="selectionchange"&&(LE.has(l)||hd(l,!1,r),hd(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[pl]||(a[pl]=!0,hd("selectionchange",!1,a))}}function im(r,a,l,p){switch(Dh(a)){case 1:var h=Yk;break;case 4:h=Kk;break;default:h=Zu}l=h.bind(null,a,l,r),h=void 0,!$u||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),p?h!==void 0?r.addEventListener(a,l,{capture:!0,passive:h}):r.addEventListener(a,l,!0):h!==void 0?r.addEventListener(a,l,{passive:h}):r.addEventListener(a,l,!1)}function md(r,a,l,p,h){var y=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var _=p.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(S===4)for(S=p.return;S!==null;){var A=S.tag;if((A===3||A===4)&&(A=S.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;S=S.return}for(;_!==null;){if(S=Qr(_),S===null)return;if(A=S.tag,A===5||A===6){p=y=S;continue e}_=_.parentNode}}p=p.return}dh(function(){var q=y,ue=Bu(l),pe=[];e:{var ce=nm.get(r);if(ce!==void 0){var Ee=td,Ne=r;switch(r){case"keypress":if(sl(l)===0)break e;case"keydown":case"keyup":Ee=uE;break;case"focusin":Ne="focus",Ee=od;break;case"focusout":Ne="blur",Ee=od;break;case"beforeblur":case"afterblur":Ee=od;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Zk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=pE;break;case Zh:case Jh:case em:Ee=tE;break;case tm:Ee=hE;break;case"scroll":Ee=Xk;break;case"wheel":Ee=gE;break;case"copy":case"cut":case"paste":Ee=rE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=Lh}var Pe=(a&4)!==0,ht=!Pe&&r==="scroll",V=Pe?ce!==null?ce+"Capture":null:ce;Pe=[];for(var F=q,U;F!==null;){U=F;var he=U.stateNode;if(U.tag===5&&he!==null&&(U=he,V!==null&&(he=Za(F,V),he!=null&&Pe.push(gi(F,he,U)))),ht)break;F=F.return}0<Pe.length&&(ce=new Ee(ce,Ne,null,l,ue),pe.push({event:ce,listeners:Pe}))}}if(!(a&7)){e:{if(ce=r==="mouseover"||r==="pointerover",Ee=r==="mouseout"||r==="pointerout",ce&&l!==Hu&&(Ne=l.relatedTarget||l.fromElement)&&(Qr(Ne)||Ne[rr]))break e;if((Ee||ce)&&(ce=ue.window===ue?ue:(ce=ue.ownerDocument)?ce.defaultView||ce.parentWindow:window,Ee?(Ne=l.relatedTarget||l.toElement,Ee=q,Ne=Ne?Qr(Ne):null,Ne!==null&&(ht=Xr(Ne),Ne!==ht||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Ee=null,Ne=q),Ee!==Ne)){if(Pe=Rh,he="onMouseLeave",V="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=Lh,he="onPointerLeave",V="onPointerEnter",F="pointer"),ht=Ee==null?ce:Yo(Ee),U=Ne==null?ce:Yo(Ne),ce=new Pe(he,F+"leave",Ee,l,ue),ce.target=ht,ce.relatedTarget=U,he=null,Qr(ue)===q&&(Pe=new Pe(V,F+"enter",Ne,l,ue),Pe.target=U,Pe.relatedTarget=ht,he=Pe),ht=he,Ee&&Ne)t:{for(Pe=Ee,V=Ne,F=0,U=Pe;U;U=qo(U))F++;for(U=0,he=V;he;he=qo(he))U++;for(;0<F-U;)Pe=qo(Pe),F--;for(;0<U-F;)V=qo(V),U--;for(;F--;){if(Pe===V||V!==null&&Pe===V.alternate)break t;Pe=qo(Pe),V=qo(V)}Pe=null}else Pe=null;Ee!==null&&sm(pe,ce,Ee,Pe,!1),Ne!==null&&ht!==null&&sm(pe,ht,Ne,Pe,!0)}}e:{if(ce=q?Yo(q):window,Ee=ce.nodeName&&ce.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&ce.type==="file")var Te=CE;else if(Hh(ce))if(Wh)Te=TE;else{Te=NE;var Re=SE}else(Ee=ce.nodeName)&&Ee.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Te=PE);if(Te&&(Te=Te(r,q))){Bh(pe,Te,l,ue);break e}Re&&Re(r,ce,q),r==="focusout"&&(Re=ce._wrapperState)&&Re.controlled&&ce.type==="number"&&Le(ce,"number",ce.value)}switch(Re=q?Yo(q):window,r){case"focusin":(Hh(Re)||Re.contentEditable==="true")&&($o=Re,ud=q,vi=null);break;case"focusout":vi=ud=$o=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,Xh(pe,l,ue);break;case"selectionchange":if(ME)break;case"keydown":case"keyup":Xh(pe,l,ue)}var _e;if(id)e:{switch(r){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Vo?Fh(r,l)&&(ze="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(zh&&l.locale!=="ko"&&(Vo||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Vo&&(_e=Oh()):(Sr=ue,ed="value"in Sr?Sr.value:Sr.textContent,Vo=!0)),Re=vl(q,ze),0<Re.length&&(ze=new _h(ze,r,null,l,ue),pe.push({event:ze,listeners:Re}),_e?ze.data=_e:(_e=jh(l),_e!==null&&(ze.data=_e)))),(_e=bE?wE(r,l):xE(r,l))&&(q=vl(q,"onBeforeInput"),0<q.length&&(ue=new _h("onBeforeInput","beforeinput",null,l,ue),pe.push({event:ue,listeners:q}),ue.data=_e))}am(pe,a)})}function gi(r,a,l){return{instance:r,listener:a,currentTarget:l}}function vl(r,a){for(var l=a+"Capture",p=[];r!==null;){var h=r,y=h.stateNode;h.tag===5&&y!==null&&(h=y,y=Za(r,l),y!=null&&p.unshift(gi(r,y,h)),y=Za(r,a),y!=null&&p.push(gi(r,y,h))),r=r.return}return p}function qo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function sm(r,a,l,p,h){for(var y=a._reactName,S=[];l!==null&&l!==p;){var _=l,A=_.alternate,q=_.stateNode;if(A!==null&&A===p)break;_.tag===5&&q!==null&&(_=q,h?(A=Za(l,y),A!=null&&S.unshift(gi(l,A,_))):h||(A=Za(l,y),A!=null&&S.push(gi(l,A,_)))),l=l.return}S.length!==0&&r.push({event:a,listeners:S})}var zE=/\r\n?/g,IE=/\u0000|\uFFFD/g;function lm(r){return(typeof r=="string"?r:""+r).replace(zE,`
`).replace(IE,"")}function hl(r,a,l){if(a=lm(a),lm(r)!==a&&l)throw Error(t(425))}function ml(){}var gd=null,yd=null;function bd(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,AE=typeof clearTimeout=="function"?clearTimeout:void 0,cm=typeof Promise=="function"?Promise:void 0,FE=typeof queueMicrotask=="function"?queueMicrotask:typeof cm<"u"?function(r){return cm.resolve(null).then(r).catch(jE)}:wd;function jE(r){setTimeout(function(){throw r})}function xd(r,a){var l=a,p=0;do{var h=l.nextSibling;if(r.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(p===0){r.removeChild(h),si(a);return}p--}else l!=="$"&&l!=="$?"&&l!=="$!"||p++;l=h}while(l);si(a)}function Pr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function um(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}var Go=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Go,yi="__reactProps$"+Go,rr="__reactContainer$"+Go,kd="__reactEvents$"+Go,HE="__reactListeners$"+Go,BE="__reactHandles$"+Go;function Qr(r){var a=r[Vn];if(a)return a;for(var l=r.parentNode;l;){if(a=l[rr]||l[Vn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=um(r);r!==null;){if(l=r[Vn])return l;r=um(r)}return a}r=l,l=r.parentNode}return null}function bi(r){return r=r[Vn]||r[rr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Yo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function gl(r){return r[yi]||null}var Ed=[],Ko=-1;function Tr(r){return{current:r}}function nt(r){0>Ko||(r.current=Ed[Ko],Ed[Ko]=null,Ko--)}function et(r,a){Ko++,Ed[Ko]=r.current,r.current=a}var Dr={},Pt=Tr(Dr),Ft=Tr(!1),Zr=Dr;function Xo(r,a){var l=r.type.contextTypes;if(!l)return Dr;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var h={},y;for(y in l)h[y]=a[y];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=h),h}function jt(r){return r=r.childContextTypes,r!=null}function yl(){nt(Ft),nt(Pt)}function dm(r,a,l){if(Pt.current!==Dr)throw Error(t(168));et(Pt,a),et(Ft,l)}function fm(r,a,l){var p=r.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var h in p)if(!(h in a))throw Error(t(108,te(r)||"Unknown",h));return P({},l,p)}function bl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Dr,Zr=Pt.current,et(Pt,r),et(Ft,Ft.current),!0}function pm(r,a,l){var p=r.stateNode;if(!p)throw Error(t(169));l?(r=fm(r,a,Zr),p.__reactInternalMemoizedMergedChildContext=r,nt(Ft),nt(Pt),et(Pt,r)):nt(Ft),et(Ft,l)}var or=null,wl=!1,Cd=!1;function vm(r){or===null?or=[r]:or.push(r)}function WE(r){wl=!0,vm(r)}function Or(){if(!Cd&&or!==null){Cd=!0;var r=0,a=Ze;try{var l=or;for(Ze=1;r<l.length;r++){var p=l[r];do p=p(!0);while(p!==null)}or=null,wl=!1}catch(h){throw or!==null&&(or=or.slice(r+1)),mh(qu,Or),h}finally{Ze=a,Cd=!1}}return null}var Qo=[],Zo=0,xl=null,kl=0,un=[],dn=0,Jr=null,ar=1,ir="";function eo(r,a){Qo[Zo++]=kl,Qo[Zo++]=xl,xl=r,kl=a}function hm(r,a,l){un[dn++]=ar,un[dn++]=ir,un[dn++]=Jr,Jr=r;var p=ar;r=ir;var h=32-Pn(p)-1;p&=~(1<<h),l+=1;var y=32-Pn(a)+h;if(30<y){var S=h-h%5;y=(p&(1<<S)-1).toString(32),p>>=S,h-=S,ar=1<<32-Pn(a)+h|l<<h|p,ir=y+r}else ar=1<<y|l<<h|p,ir=r}function Sd(r){r.return!==null&&(eo(r,1),hm(r,1,0))}function Nd(r){for(;r===xl;)xl=Qo[--Zo],Qo[Zo]=null,kl=Qo[--Zo],Qo[Zo]=null;for(;r===Jr;)Jr=un[--dn],un[dn]=null,ir=un[--dn],un[dn]=null,ar=un[--dn],un[dn]=null}var Qt=null,Zt=null,at=!1,Dn=null;function mm(r,a){var l=hn(5,null,null,0);l.elementType="DELETED",l.stateNode=a,l.return=r,a=r.deletions,a===null?(r.deletions=[l],r.flags|=16):a.push(l)}function gm(r,a){switch(r.tag){case 5:var l=r.type;return a=a.nodeType!==1||l.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,Qt=r,Zt=Pr(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,Qt=r,Zt=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(l=Jr!==null?{id:ar,overflow:ir}:null,r.memoizedState={dehydrated:a,treeContext:l,retryLane:1073741824},l=hn(18,null,null,0),l.stateNode=a,l.return=r,r.child=l,Qt=r,Zt=null,!0):!1;default:return!1}}function Pd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Td(r){if(at){var a=Zt;if(a){var l=a;if(!gm(r,a)){if(Pd(r))throw Error(t(418));a=Pr(l.nextSibling);var p=Qt;a&&gm(r,a)?mm(p,l):(r.flags=r.flags&-4097|2,at=!1,Qt=r)}}else{if(Pd(r))throw Error(t(418));r.flags=r.flags&-4097|2,at=!1,Qt=r}}}function ym(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Qt=r}function El(r){if(r!==Qt)return!1;if(!at)return ym(r),at=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!bd(r.type,r.memoizedProps)),a&&(a=Zt)){if(Pd(r))throw bm(),Error(t(418));for(;a;)mm(r,a),a=Pr(a.nextSibling)}if(ym(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(a===0){Zt=Pr(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++}r=r.nextSibling}Zt=null}}else Zt=Qt?Pr(r.stateNode.nextSibling):null;return!0}function bm(){for(var r=Zt;r;)r=Pr(r.nextSibling)}function Jo(){Zt=Qt=null,at=!1}function Dd(r){Dn===null?Dn=[r]:Dn.push(r)}var VE=O.ReactCurrentBatchConfig;function On(r,a){if(r&&r.defaultProps){a=P({},a),r=r.defaultProps;for(var l in r)a[l]===void 0&&(a[l]=r[l]);return a}return a}var Cl=Tr(null),Sl=null,ea=null,Od=null;function Md(){Od=ea=Sl=null}function Rd(r){var a=Cl.current;nt(Cl),r._currentValue=a}function _d(r,a,l){for(;r!==null;){var p=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),r===l)break;r=r.return}}function ta(r,a){Sl=r,Od=ea=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&a&&(Ht=!0),r.firstContext=null)}function fn(r){var a=r._currentValue;if(Od!==r)if(r={context:r,memoizedValue:a,next:null},ea===null){if(Sl===null)throw Error(t(308));ea=r,Sl.dependencies={lanes:0,firstContext:r}}else ea=ea.next=r;return a}var to=null;function Ld(r){to===null?to=[r]:to.push(r)}function wm(r,a,l,p){var h=a.interleaved;return h===null?(l.next=l,Ld(a)):(l.next=h.next,h.next=l),a.interleaved=l,sr(r,p)}function sr(r,a){r.lanes|=a;var l=r.alternate;for(l!==null&&(l.lanes|=a),l=r,r=r.return;r!==null;)r.childLanes|=a,l=r.alternate,l!==null&&(l.childLanes|=a),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Mr=!1;function zd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function lr(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Rr(r,a,l){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,Ge&2){var h=p.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),p.pending=a,sr(r,l)}return h=p.interleaved,h===null?(a.next=a,Ld(p)):(a.next=h.next,h.next=a),p.interleaved=a,sr(r,l)}function Nl(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194240)!==0)){var p=a.lanes;p&=r.pendingLanes,l|=p,a.lanes=l,Ku(r,l)}}function km(r,a){var l=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var h=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?h=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?h=y=a:y=y.next=a}else h=y=a;l={baseState:p.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:p.shared,effects:p.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}function Pl(r,a,l,p){var h=r.updateQueue;Mr=!1;var y=h.firstBaseUpdate,S=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var A=_,q=A.next;A.next=null,S===null?y=q:S.next=q,S=A;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,_=ue.lastBaseUpdate,_!==S&&(_===null?ue.firstBaseUpdate=q:_.next=q,ue.lastBaseUpdate=A))}if(y!==null){var pe=h.baseState;S=0,ue=q=A=null,_=y;do{var ce=_.lane,Ee=_.eventTime;if((p&ce)===ce){ue!==null&&(ue=ue.next={eventTime:Ee,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var Ne=r,Pe=_;switch(ce=a,Ee=l,Pe.tag){case 1:if(Ne=Pe.payload,typeof Ne=="function"){pe=Ne.call(Ee,pe,ce);break e}pe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Pe.payload,ce=typeof Ne=="function"?Ne.call(Ee,pe,ce):Ne,ce==null)break e;pe=P({},pe,ce);break e;case 2:Mr=!0}}_.callback!==null&&_.lane!==0&&(r.flags|=64,ce=h.effects,ce===null?h.effects=[_]:ce.push(_))}else Ee={eventTime:Ee,lane:ce,tag:_.tag,payload:_.payload,callback:_.callback,next:null},ue===null?(q=ue=Ee,A=pe):ue=ue.next=Ee,S|=ce;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;ce=_,_=ce.next,ce.next=null,h.lastBaseUpdate=ce,h.shared.pending=null}}while(1);if(ue===null&&(A=pe),h.baseState=A,h.firstBaseUpdate=q,h.lastBaseUpdate=ue,a=h.shared.interleaved,a!==null){h=a;do S|=h.lane,h=h.next;while(h!==a)}else y===null&&(h.shared.lanes=0);oo|=S,r.lanes=S,r.memoizedState=pe}}function Em(r,a,l){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var p=r[a],h=p.callback;if(h!==null){if(p.callback=null,p=l,typeof h!="function")throw Error(t(191,h));h.call(p)}}}var Cm=new e.Component().refs;function Id(r,a,l,p){a=r.memoizedState,l=l(p,a),l=l==null?a:P({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Tl={isMounted:function(r){return(r=r._reactInternals)?Xr(r)===r:!1},enqueueSetState:function(r,a,l){r=r._reactInternals;var p=zt(),h=Ir(r),y=lr(p,h);y.payload=a,l!=null&&(y.callback=l),a=Rr(r,y,h),a!==null&&(_n(a,r,h,p),Nl(a,r,h))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var p=zt(),h=Ir(r),y=lr(p,h);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=Rr(r,y,h),a!==null&&(_n(a,r,h,p),Nl(a,r,h))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=zt(),p=Ir(r),h=lr(l,p);h.tag=2,a!=null&&(h.callback=a),a=Rr(r,h,p),a!==null&&(_n(a,r,p,l),Nl(a,r,p))}};function Sm(r,a,l,p,h,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,y,S):a.prototype&&a.prototype.isPureReactComponent?!pi(l,p)||!pi(h,y):!0}function Nm(r,a,l){var p=!1,h=Dr,y=a.contextType;return typeof y=="object"&&y!==null?y=fn(y):(h=jt(a)?Zr:Pt.current,p=a.contextTypes,y=(p=p!=null)?Xo(r,h):Dr),a=new a(l,y),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Tl,r.stateNode=a,a._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=y),a}function Pm(r,a,l,p){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,p),a.state!==r&&Tl.enqueueReplaceState(a,a.state,null)}function Ad(r,a,l,p){var h=r.stateNode;h.props=l,h.state=r.memoizedState,h.refs=Cm,zd(r);var y=a.contextType;typeof y=="object"&&y!==null?h.context=fn(y):(y=jt(a)?Zr:Pt.current,h.context=Xo(r,y)),h.state=r.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Id(r,a,y,l),h.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(a=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),a!==h.state&&Tl.enqueueReplaceState(h,h.state,null),Pl(r,l,h,p),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function wi(r,a,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var p=l.stateNode}if(!p)throw Error(t(147,r));var h=p,y=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(S){var _=h.refs;_===Cm&&(_=h.refs={}),S===null?delete _[y]:_[y]=S},a._stringRef=y,a)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Dl(r,a){throw r=Object.prototype.toString.call(a),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function Tm(r){var a=r._init;return a(r._payload)}function Dm(r){function a(V,F){if(r){var U=V.deletions;U===null?(V.deletions=[F],V.flags|=16):U.push(F)}}function l(V,F){if(!r)return null;for(;F!==null;)a(V,F),F=F.sibling;return null}function p(V,F){for(V=new Map;F!==null;)F.key!==null?V.set(F.key,F):V.set(F.index,F),F=F.sibling;return V}function h(V,F){return V=Fr(V,F),V.index=0,V.sibling=null,V}function y(V,F,U){return V.index=U,r?(U=V.alternate,U!==null?(U=U.index,U<F?(V.flags|=2,F):U):(V.flags|=2,F)):(V.flags|=1048576,F)}function S(V){return r&&V.alternate===null&&(V.flags|=2),V}function _(V,F,U,he){return F===null||F.tag!==6?(F=xf(U,V.mode,he),F.return=V,F):(F=h(F,U),F.return=V,F)}function A(V,F,U,he){var Te=U.type;return Te===L?ue(V,F,U.props.children,he,U.key):F!==null&&(F.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===de&&Tm(Te)===F.type)?(he=h(F,U.props),he.ref=wi(V,F,U),he.return=V,he):(he=Yl(U.type,U.key,U.props,null,V.mode,he),he.ref=wi(V,F,U),he.return=V,he)}function q(V,F,U,he){return F===null||F.tag!==4||F.stateNode.containerInfo!==U.containerInfo||F.stateNode.implementation!==U.implementation?(F=kf(U,V.mode,he),F.return=V,F):(F=h(F,U.children||[]),F.return=V,F)}function ue(V,F,U,he,Te){return F===null||F.tag!==7?(F=lo(U,V.mode,he,Te),F.return=V,F):(F=h(F,U),F.return=V,F)}function pe(V,F,U){if(typeof F=="string"&&F!==""||typeof F=="number")return F=xf(""+F,V.mode,U),F.return=V,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case M:return U=Yl(F.type,F.key,F.props,null,V.mode,U),U.ref=wi(V,null,F),U.return=V,U;case R:return F=kf(F,V.mode,U),F.return=V,F;case de:var he=F._init;return pe(V,he(F._payload),U)}if(qe(F)||I(F))return F=lo(F,V.mode,U,null),F.return=V,F;Dl(V,F)}return null}function ce(V,F,U,he){var Te=F!==null?F.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return Te!==null?null:_(V,F,""+U,he);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case M:return U.key===Te?A(V,F,U,he):null;case R:return U.key===Te?q(V,F,U,he):null;case de:return Te=U._init,ce(V,F,Te(U._payload),he)}if(qe(U)||I(U))return Te!==null?null:ue(V,F,U,he,null);Dl(V,U)}return null}function Ee(V,F,U,he,Te){if(typeof he=="string"&&he!==""||typeof he=="number")return V=V.get(U)||null,_(F,V,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case M:return V=V.get(he.key===null?U:he.key)||null,A(F,V,he,Te);case R:return V=V.get(he.key===null?U:he.key)||null,q(F,V,he,Te);case de:var Re=he._init;return Ee(V,F,U,Re(he._payload),Te)}if(qe(he)||I(he))return V=V.get(U)||null,ue(F,V,he,Te,null);Dl(F,he)}return null}function Ne(V,F,U,he){for(var Te=null,Re=null,_e=F,ze=F=0,kt=null;_e!==null&&ze<U.length;ze++){_e.index>ze?(kt=_e,_e=null):kt=_e.sibling;var Ye=ce(V,_e,U[ze],he);if(Ye===null){_e===null&&(_e=kt);break}r&&_e&&Ye.alternate===null&&a(V,_e),F=y(Ye,F,ze),Re===null?Te=Ye:Re.sibling=Ye,Re=Ye,_e=kt}if(ze===U.length)return l(V,_e),at&&eo(V,ze),Te;if(_e===null){for(;ze<U.length;ze++)_e=pe(V,U[ze],he),_e!==null&&(F=y(_e,F,ze),Re===null?Te=_e:Re.sibling=_e,Re=_e);return at&&eo(V,ze),Te}for(_e=p(V,_e);ze<U.length;ze++)kt=Ee(_e,V,ze,U[ze],he),kt!==null&&(r&&kt.alternate!==null&&_e.delete(kt.key===null?ze:kt.key),F=y(kt,F,ze),Re===null?Te=kt:Re.sibling=kt,Re=kt);return r&&_e.forEach(function(jr){return a(V,jr)}),at&&eo(V,ze),Te}function Pe(V,F,U,he){var Te=I(U);if(typeof Te!="function")throw Error(t(150));if(U=Te.call(U),U==null)throw Error(t(151));for(var Re=Te=null,_e=F,ze=F=0,kt=null,Ye=U.next();_e!==null&&!Ye.done;ze++,Ye=U.next()){_e.index>ze?(kt=_e,_e=null):kt=_e.sibling;var jr=ce(V,_e,Ye.value,he);if(jr===null){_e===null&&(_e=kt);break}r&&_e&&jr.alternate===null&&a(V,_e),F=y(jr,F,ze),Re===null?Te=jr:Re.sibling=jr,Re=jr,_e=kt}if(Ye.done)return l(V,_e),at&&eo(V,ze),Te;if(_e===null){for(;!Ye.done;ze++,Ye=U.next())Ye=pe(V,Ye.value,he),Ye!==null&&(F=y(Ye,F,ze),Re===null?Te=Ye:Re.sibling=Ye,Re=Ye);return at&&eo(V,ze),Te}for(_e=p(V,_e);!Ye.done;ze++,Ye=U.next())Ye=Ee(_e,V,ze,Ye.value,he),Ye!==null&&(r&&Ye.alternate!==null&&_e.delete(Ye.key===null?ze:Ye.key),F=y(Ye,F,ze),Re===null?Te=Ye:Re.sibling=Ye,Re=Ye);return r&&_e.forEach(function(kC){return a(V,kC)}),at&&eo(V,ze),Te}function ht(V,F,U,he){if(typeof U=="object"&&U!==null&&U.type===L&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case M:e:{for(var Te=U.key,Re=F;Re!==null;){if(Re.key===Te){if(Te=U.type,Te===L){if(Re.tag===7){l(V,Re.sibling),F=h(Re,U.props.children),F.return=V,V=F;break e}}else if(Re.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===de&&Tm(Te)===Re.type){l(V,Re.sibling),F=h(Re,U.props),F.ref=wi(V,Re,U),F.return=V,V=F;break e}l(V,Re);break}else a(V,Re);Re=Re.sibling}U.type===L?(F=lo(U.props.children,V.mode,he,U.key),F.return=V,V=F):(he=Yl(U.type,U.key,U.props,null,V.mode,he),he.ref=wi(V,F,U),he.return=V,V=he)}return S(V);case R:e:{for(Re=U.key;F!==null;){if(F.key===Re)if(F.tag===4&&F.stateNode.containerInfo===U.containerInfo&&F.stateNode.implementation===U.implementation){l(V,F.sibling),F=h(F,U.children||[]),F.return=V,V=F;break e}else{l(V,F);break}else a(V,F);F=F.sibling}F=kf(U,V.mode,he),F.return=V,V=F}return S(V);case de:return Re=U._init,ht(V,F,Re(U._payload),he)}if(qe(U))return Ne(V,F,U,he);if(I(U))return Pe(V,F,U,he);Dl(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,F!==null&&F.tag===6?(l(V,F.sibling),F=h(F,U),F.return=V,V=F):(l(V,F),F=xf(U,V.mode,he),F.return=V,V=F),S(V)):l(V,F)}return ht}var na=Dm(!0),Om=Dm(!1),xi={},$n=Tr(xi),ki=Tr(xi),Ei=Tr(xi);function no(r){if(r===xi)throw Error(t(174));return r}function Fd(r,a){switch(et(Ei,a),et(ki,r),et($n,xi),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Fo(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=Fo(a,r)}nt($n),et($n,a)}function ra(){nt($n),nt(ki),nt(Ei)}function Mm(r){no(Ei.current);var a=no($n.current),l=Fo(a,r.type);a!==l&&(et(ki,r),et($n,l))}function jd(r){ki.current===r&&(nt($n),nt(ki))}var it=Tr(0);function Ol(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Hd=[];function Bd(){for(var r=0;r<Hd.length;r++)Hd[r]._workInProgressVersionPrimary=null;Hd.length=0}var Ml=O.ReactCurrentDispatcher,Wd=O.ReactCurrentBatchConfig,ro=0,st=null,yt=null,wt=null,Rl=!1,Ci=!1,Si=0,$E=0;function Tt(){throw Error(t(321))}function Vd(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Tn(r[l],a[l]))return!1;return!0}function $d(r,a,l,p,h,y){if(ro=y,st=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ml.current=r===null||r.memoizedState===null?YE:KE,r=l(p,h),Ci){y=0;do{if(Ci=!1,Si=0,25<=y)throw Error(t(301));y+=1,wt=yt=null,a.updateQueue=null,Ml.current=XE,r=l(p,h)}while(Ci)}if(Ml.current=zl,a=yt!==null&&yt.next!==null,ro=0,wt=yt=st=null,Rl=!1,a)throw Error(t(300));return r}function Ud(){var r=Si!==0;return Si=0,r}function Un(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?st.memoizedState=wt=r:wt=wt.next=r,wt}function pn(){if(yt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var a=wt===null?st.memoizedState:wt.next;if(a!==null)wt=a,yt=r;else{if(r===null)throw Error(t(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},wt===null?st.memoizedState=wt=r:wt=wt.next=r}return wt}function Ni(r,a){return typeof a=="function"?a(r):a}function qd(r){var a=pn(),l=a.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var p=yt,h=p.baseQueue,y=l.pending;if(y!==null){if(h!==null){var S=h.next;h.next=y.next,y.next=S}p.baseQueue=h=y,l.pending=null}if(h!==null){y=h.next,p=p.baseState;var _=S=null,A=null,q=y;do{var ue=q.lane;if((ro&ue)===ue)A!==null&&(A=A.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),p=q.hasEagerState?q.eagerState:r(p,q.action);else{var pe={lane:ue,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};A===null?(_=A=pe,S=p):A=A.next=pe,st.lanes|=ue,oo|=ue}q=q.next}while(q!==null&&q!==y);A===null?S=p:A.next=_,Tn(p,a.memoizedState)||(Ht=!0),a.memoizedState=p,a.baseState=S,a.baseQueue=A,l.lastRenderedState=p}if(r=l.interleaved,r!==null){h=r;do y=h.lane,st.lanes|=y,oo|=y,h=h.next;while(h!==r)}else h===null&&(l.lanes=0);return[a.memoizedState,l.dispatch]}function Gd(r){var a=pn(),l=a.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var p=l.dispatch,h=l.pending,y=a.memoizedState;if(h!==null){l.pending=null;var S=h=h.next;do y=r(y,S.action),S=S.next;while(S!==h);Tn(y,a.memoizedState)||(Ht=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,p]}function Rm(){}function _m(r,a){var l=st,p=pn(),h=a(),y=!Tn(p.memoizedState,h);if(y&&(p.memoizedState=h,Ht=!0),p=p.queue,Yd(Im.bind(null,l,p,r),[r]),p.getSnapshot!==a||y||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Pi(9,zm.bind(null,l,p,h,a),void 0,null),xt===null)throw Error(t(349));ro&30||Lm(l,a,h)}return h}function Lm(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=st.updateQueue,a===null?(a={lastEffect:null,stores:null},st.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function zm(r,a,l,p){a.value=l,a.getSnapshot=p,Am(a)&&Fm(r)}function Im(r,a,l){return l(function(){Am(a)&&Fm(r)})}function Am(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Tn(r,l)}catch{return!0}}function Fm(r){var a=sr(r,1);a!==null&&_n(a,r,1,-1)}function jm(r){var a=Un();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:r},a.queue=r,r=r.dispatch=GE.bind(null,st,r),[a.memoizedState,r]}function Pi(r,a,l,p){return r={tag:r,create:a,destroy:l,deps:p,next:null},a=st.updateQueue,a===null?(a={lastEffect:null,stores:null},st.updateQueue=a,a.lastEffect=r.next=r):(l=a.lastEffect,l===null?a.lastEffect=r.next=r:(p=l.next,l.next=r,r.next=p,a.lastEffect=r)),r}function Hm(){return pn().memoizedState}function _l(r,a,l,p){var h=Un();st.flags|=r,h.memoizedState=Pi(1|a,l,void 0,p===void 0?null:p)}function Ll(r,a,l,p){var h=pn();p=p===void 0?null:p;var y=void 0;if(yt!==null){var S=yt.memoizedState;if(y=S.destroy,p!==null&&Vd(p,S.deps)){h.memoizedState=Pi(a,l,y,p);return}}st.flags|=r,h.memoizedState=Pi(1|a,l,y,p)}function Bm(r,a){return _l(8390656,8,r,a)}function Yd(r,a){return Ll(2048,8,r,a)}function Wm(r,a){return Ll(4,2,r,a)}function Vm(r,a){return Ll(4,4,r,a)}function $m(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Um(r,a,l){return l=l!=null?l.concat([r]):null,Ll(4,4,$m.bind(null,a,r),l)}function Kd(){}function qm(r,a){var l=pn();a=a===void 0?null:a;var p=l.memoizedState;return p!==null&&a!==null&&Vd(a,p[1])?p[0]:(l.memoizedState=[r,a],r)}function Gm(r,a){var l=pn();a=a===void 0?null:a;var p=l.memoizedState;return p!==null&&a!==null&&Vd(a,p[1])?p[0]:(r=r(),l.memoizedState=[r,a],r)}function Ym(r,a,l){return ro&21?(Tn(l,a)||(l=wh(),st.lanes|=l,oo|=l,r.baseState=!0),a):(r.baseState&&(r.baseState=!1,Ht=!0),r.memoizedState=l)}function UE(r,a){var l=Ze;Ze=l!==0&&4>l?l:4,r(!0);var p=Wd.transition;Wd.transition={};try{r(!1),a()}finally{Ze=l,Wd.transition=p}}function Km(){return pn().memoizedState}function qE(r,a,l){var p=Ir(r);if(l={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null},Xm(r))Qm(a,l);else if(l=wm(r,a,l,p),l!==null){var h=zt();_n(l,r,p,h),Zm(l,a,p)}}function GE(r,a,l){var p=Ir(r),h={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xm(r))Qm(a,h);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,_=y(S,l);if(h.hasEagerState=!0,h.eagerState=_,Tn(_,S)){var A=a.interleaved;A===null?(h.next=h,Ld(a)):(h.next=A.next,A.next=h),a.interleaved=h;return}}catch{}l=wm(r,a,h,p),l!==null&&(h=zt(),_n(l,r,p,h),Zm(l,a,p))}}function Xm(r){var a=r.alternate;return r===st||a!==null&&a===st}function Qm(r,a){Ci=Rl=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function Zm(r,a,l){if(l&4194240){var p=a.lanes;p&=r.pendingLanes,l|=p,a.lanes=l,Ku(r,l)}}var zl={readContext:fn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},YE={readContext:fn,useCallback:function(r,a){return Un().memoizedState=[r,a===void 0?null:a],r},useContext:fn,useEffect:Bm,useImperativeHandle:function(r,a,l){return l=l!=null?l.concat([r]):null,_l(4194308,4,$m.bind(null,a,r),l)},useLayoutEffect:function(r,a){return _l(4194308,4,r,a)},useInsertionEffect:function(r,a){return _l(4,2,r,a)},useMemo:function(r,a){var l=Un();return a=a===void 0?null:a,r=r(),l.memoizedState=[r,a],r},useReducer:function(r,a,l){var p=Un();return a=l!==void 0?l(a):a,p.memoizedState=p.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},p.queue=r,r=r.dispatch=qE.bind(null,st,r),[p.memoizedState,r]},useRef:function(r){var a=Un();return r={current:r},a.memoizedState=r},useState:jm,useDebugValue:Kd,useDeferredValue:function(r){return Un().memoizedState=r},useTransition:function(){var r=jm(!1),a=r[0];return r=UE.bind(null,r[1]),Un().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,l){var p=st,h=Un();if(at){if(l===void 0)throw Error(t(407));l=l()}else{if(l=a(),xt===null)throw Error(t(349));ro&30||Lm(p,a,l)}h.memoizedState=l;var y={value:l,getSnapshot:a};return h.queue=y,Bm(Im.bind(null,p,y,r),[r]),p.flags|=2048,Pi(9,zm.bind(null,p,y,l,a),void 0,null),l},useId:function(){var r=Un(),a=xt.identifierPrefix;if(at){var l=ir,p=ar;l=(p&~(1<<32-Pn(p)-1)).toString(32)+l,a=":"+a+"R"+l,l=Si++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=$E++,a=":"+a+"r"+l.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},KE={readContext:fn,useCallback:qm,useContext:fn,useEffect:Yd,useImperativeHandle:Um,useInsertionEffect:Wm,useLayoutEffect:Vm,useMemo:Gm,useReducer:qd,useRef:Hm,useState:function(){return qd(Ni)},useDebugValue:Kd,useDeferredValue:function(r){var a=pn();return Ym(a,yt.memoizedState,r)},useTransition:function(){var r=qd(Ni)[0],a=pn().memoizedState;return[r,a]},useMutableSource:Rm,useSyncExternalStore:_m,useId:Km,unstable_isNewReconciler:!1},XE={readContext:fn,useCallback:qm,useContext:fn,useEffect:Yd,useImperativeHandle:Um,useInsertionEffect:Wm,useLayoutEffect:Vm,useMemo:Gm,useReducer:Gd,useRef:Hm,useState:function(){return Gd(Ni)},useDebugValue:Kd,useDeferredValue:function(r){var a=pn();return yt===null?a.memoizedState=r:Ym(a,yt.memoizedState,r)},useTransition:function(){var r=Gd(Ni)[0],a=pn().memoizedState;return[r,a]},useMutableSource:Rm,useSyncExternalStore:_m,useId:Km,unstable_isNewReconciler:!1};function oa(r,a){try{var l="",p=a;do l+=ae(p),p=p.return;while(p);var h=l}catch(y){h=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:a,stack:h,digest:null}}function Xd(r,a,l){return{value:r,source:null,stack:l??null,digest:a??null}}function Qd(r,a){try{}catch(l){setTimeout(function(){throw l})}}var QE=typeof WeakMap=="function"?WeakMap:Map;function Jm(r,a,l){l=lr(-1,l),l.tag=3,l.payload={element:null};var p=a.value;return l.callback=function(){Wl||(Wl=!0,pf=p),Qd(r,a)},l}function eg(r,a,l){l=lr(-1,l),l.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var h=a.value;l.payload=function(){return p(h)},l.callback=function(){Qd(r,a)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Qd(r,a),typeof p!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),l}function tg(r,a,l){var p=r.pingCache;if(p===null){p=r.pingCache=new QE;var h=new Set;p.set(a,h)}else h=p.get(a),h===void 0&&(h=new Set,p.set(a,h));h.has(l)||(h.add(l),r=dC.bind(null,r,a,l),a.then(r,r))}function ng(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function rg(r,a,l,p,h){return r.mode&1?(r.flags|=65536,r.lanes=h,r):(r===a?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(a=lr(-1,1),a.tag=2,Rr(l,a,1))),l.lanes|=1),r)}var ZE=O.ReactCurrentOwner,Ht=!1;function Lt(r,a,l,p){a.child=r===null?Om(a,null,l,p):na(a,r.child,l,p)}function og(r,a,l,p,h){l=l.render;var y=a.ref;return ta(a,h),p=$d(r,a,l,p,y,h),l=Ud(),r!==null&&!Ht?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~h,cr(r,a,h)):(at&&l&&Sd(a),a.flags|=1,Lt(r,a,p,h),a.child)}function ag(r,a,l,p,h){if(r===null){var y=l.type;return typeof y=="function"&&!wf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(a.tag=15,a.type=y,ig(r,a,y,p,h)):(r=Yl(l.type,null,p,a,a.mode,h),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!(r.lanes&h)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:pi,l(S,p)&&r.ref===a.ref)return cr(r,a,h)}return a.flags|=1,r=Fr(y,p),r.ref=a.ref,r.return=a,a.child=r}function ig(r,a,l,p,h){if(r!==null){var y=r.memoizedProps;if(pi(y,p)&&r.ref===a.ref)if(Ht=!1,a.pendingProps=p=y,(r.lanes&h)!==0)r.flags&131072&&(Ht=!0);else return a.lanes=r.lanes,cr(r,a,h)}return Zd(r,a,l,p,h)}function sg(r,a,l){var p=a.pendingProps,h=p.children,y=r!==null?r.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(ia,Jt),Jt|=l;else{if(!(l&1073741824))return r=y!==null?y.baseLanes|l:l,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,et(ia,Jt),Jt|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=y!==null?y.baseLanes:l,et(ia,Jt),Jt|=p}else y!==null?(p=y.baseLanes|l,a.memoizedState=null):p=l,et(ia,Jt),Jt|=p;return Lt(r,a,h,l),a.child}function lg(r,a){var l=a.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(a.flags|=512,a.flags|=2097152)}function Zd(r,a,l,p,h){var y=jt(l)?Zr:Pt.current;return y=Xo(a,y),ta(a,h),l=$d(r,a,l,p,y,h),p=Ud(),r!==null&&!Ht?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~h,cr(r,a,h)):(at&&p&&Sd(a),a.flags|=1,Lt(r,a,l,h),a.child)}function cg(r,a,l,p,h){if(jt(l)){var y=!0;bl(a)}else y=!1;if(ta(a,h),a.stateNode===null)Al(r,a),Nm(a,l,p),Ad(a,l,p,h),p=!0;else if(r===null){var S=a.stateNode,_=a.memoizedProps;S.props=_;var A=S.context,q=l.contextType;typeof q=="object"&&q!==null?q=fn(q):(q=jt(l)?Zr:Pt.current,q=Xo(a,q));var ue=l.getDerivedStateFromProps,pe=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function";pe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(_!==p||A!==q)&&Pm(a,S,p,q),Mr=!1;var ce=a.memoizedState;S.state=ce,Pl(a,p,S,h),A=a.memoizedState,_!==p||ce!==A||Ft.current||Mr?(typeof ue=="function"&&(Id(a,l,ue,p),A=a.memoizedState),(_=Mr||Sm(a,l,_,p,ce,A,q))?(pe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=A),S.props=p,S.state=A,S.context=q,p=_):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{S=a.stateNode,xm(r,a),_=a.memoizedProps,q=a.type===a.elementType?_:On(a.type,_),S.props=q,pe=a.pendingProps,ce=S.context,A=l.contextType,typeof A=="object"&&A!==null?A=fn(A):(A=jt(l)?Zr:Pt.current,A=Xo(a,A));var Ee=l.getDerivedStateFromProps;(ue=typeof Ee=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(_!==pe||ce!==A)&&Pm(a,S,p,A),Mr=!1,ce=a.memoizedState,S.state=ce,Pl(a,p,S,h);var Ne=a.memoizedState;_!==pe||ce!==Ne||Ft.current||Mr?(typeof Ee=="function"&&(Id(a,l,Ee,p),Ne=a.memoizedState),(q=Mr||Sm(a,l,q,p,ce,Ne,A)||!1)?(ue||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,Ne,A),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,Ne,A)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||_===r.memoizedProps&&ce===r.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&ce===r.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Ne),S.props=p,S.state=Ne,S.context=A,p=q):(typeof S.componentDidUpdate!="function"||_===r.memoizedProps&&ce===r.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&ce===r.memoizedState||(a.flags|=1024),p=!1)}return Jd(r,a,l,p,y,h)}function Jd(r,a,l,p,h,y){lg(r,a);var S=(a.flags&128)!==0;if(!p&&!S)return h&&pm(a,l,!1),cr(r,a,y);p=a.stateNode,ZE.current=a;var _=S&&typeof l.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,r!==null&&S?(a.child=na(a,r.child,null,y),a.child=na(a,null,_,y)):Lt(r,a,_,y),a.memoizedState=p.state,h&&pm(a,l,!0),a.child}function ug(r){var a=r.stateNode;a.pendingContext?dm(r,a.pendingContext,a.pendingContext!==a.context):a.context&&dm(r,a.context,!1),Fd(r,a.containerInfo)}function dg(r,a,l,p,h){return Jo(),Dd(h),a.flags|=256,Lt(r,a,l,p),a.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(r){return{baseLanes:r,cachePool:null,transitions:null}}function fg(r,a,l){var p=a.pendingProps,h=it.current,y=!1,S=(a.flags&128)!==0,_;if((_=S)||(_=r!==null&&r.memoizedState===null?!1:(h&2)!==0),_?(y=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),et(it,h&1),r===null)return Td(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(a.mode&1?r.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(S=p.children,r=p.fallback,y?(p=a.mode,y=a.child,S={mode:"hidden",children:S},!(p&1)&&y!==null?(y.childLanes=0,y.pendingProps=S):y=Kl(S,p,0,null),r=lo(r,p,l,null),y.return=a,r.return=a,y.sibling=r,a.child=y,a.child.memoizedState=tf(l),a.memoizedState=ef,r):nf(a,S));if(h=r.memoizedState,h!==null&&(_=h.dehydrated,_!==null))return JE(r,a,S,p,_,h,l);if(y){y=p.fallback,S=a.mode,h=r.child,_=h.sibling;var A={mode:"hidden",children:p.children};return!(S&1)&&a.child!==h?(p=a.child,p.childLanes=0,p.pendingProps=A,a.deletions=null):(p=Fr(h,A),p.subtreeFlags=h.subtreeFlags&14680064),_!==null?y=Fr(_,y):(y=lo(y,S,l,null),y.flags|=2),y.return=a,p.return=a,p.sibling=y,a.child=p,p=y,y=a.child,S=r.child.memoizedState,S=S===null?tf(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=r.childLanes&~l,a.memoizedState=ef,p}return y=r.child,r=y.sibling,p=Fr(y,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=l),p.return=a,p.sibling=null,r!==null&&(l=a.deletions,l===null?(a.deletions=[r],a.flags|=16):l.push(r)),a.child=p,a.memoizedState=null,p}function nf(r,a){return a=Kl({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function Il(r,a,l,p){return p!==null&&Dd(p),na(a,r.child,null,l),r=nf(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function JE(r,a,l,p,h,y,S){if(l)return a.flags&256?(a.flags&=-257,p=Xd(Error(t(422))),Il(r,a,S,p)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(y=p.fallback,h=a.mode,p=Kl({mode:"visible",children:p.children},h,0,null),y=lo(y,h,S,null),y.flags|=2,p.return=a,y.return=a,p.sibling=y,a.child=p,a.mode&1&&na(a,r.child,null,S),a.child.memoizedState=tf(S),a.memoizedState=ef,y);if(!(a.mode&1))return Il(r,a,S,null);if(h.data==="$!"){if(p=h.nextSibling&&h.nextSibling.dataset,p)var _=p.dgst;return p=_,y=Error(t(419)),p=Xd(y,p,void 0),Il(r,a,S,p)}if(_=(S&r.childLanes)!==0,Ht||_){if(p=xt,p!==null){switch(S&-S){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(p.suspendedLanes|S)?0:h,h!==0&&h!==y.retryLane&&(y.retryLane=h,sr(r,h),_n(p,r,h,-1))}return bf(),p=Xd(Error(t(421))),Il(r,a,S,p)}return h.data==="$?"?(a.flags|=128,a.child=r.child,a=fC.bind(null,r),h._reactRetry=a,null):(r=y.treeContext,Zt=Pr(h.nextSibling),Qt=a,at=!0,Dn=null,r!==null&&(un[dn++]=ar,un[dn++]=ir,un[dn++]=Jr,ar=r.id,ir=r.overflow,Jr=a),a=nf(a,p.children),a.flags|=4096,a)}function pg(r,a,l){r.lanes|=a;var p=r.alternate;p!==null&&(p.lanes|=a),_d(r.return,a,l)}function rf(r,a,l,p,h){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:h}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=p,y.tail=l,y.tailMode=h)}function vg(r,a,l){var p=a.pendingProps,h=p.revealOrder,y=p.tail;if(Lt(r,a,p.children,l),p=it.current,p&2)p=p&1|2,a.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&pg(r,l,a);else if(r.tag===19)pg(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(et(it,p),!(a.mode&1))a.memoizedState=null;else switch(h){case"forwards":for(l=a.child,h=null;l!==null;)r=l.alternate,r!==null&&Ol(r)===null&&(h=l),l=l.sibling;l=h,l===null?(h=a.child,a.child=null):(h=l.sibling,l.sibling=null),rf(a,!1,h,l,y);break;case"backwards":for(l=null,h=a.child,a.child=null;h!==null;){if(r=h.alternate,r!==null&&Ol(r)===null){a.child=h;break}r=h.sibling,h.sibling=l,l=h,h=r}rf(a,!0,l,null,y);break;case"together":rf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Al(r,a){!(a.mode&1)&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function cr(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),oo|=a.lanes,!(l&a.childLanes))return null;if(r!==null&&a.child!==r.child)throw Error(t(153));if(a.child!==null){for(r=a.child,l=Fr(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Fr(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function eC(r,a,l){switch(a.tag){case 3:ug(a),Jo();break;case 5:Mm(a);break;case 1:jt(a.type)&&bl(a);break;case 4:Fd(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,h=a.memoizedProps.value;et(Cl,p._currentValue),p._currentValue=h;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(et(it,it.current&1),a.flags|=128,null):l&a.child.childLanes?fg(r,a,l):(et(it,it.current&1),r=cr(r,a,l),r!==null?r.sibling:null);et(it,it.current&1);break;case 19:if(p=(l&a.childLanes)!==0,r.flags&128){if(p)return vg(r,a,l);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(it,it.current),p)break;return null;case 22:case 23:return a.lanes=0,sg(r,a,l)}return cr(r,a,l)}var hg,of,mg,gg;hg=function(r,a){for(var l=a.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},of=function(){},mg=function(r,a,l,p){var h=r.memoizedProps;if(h!==p){r=a.stateNode,no($n.current);var y=null;switch(l){case"input":h=K(r,h),p=K(r,p),y=[];break;case"select":h=P({},h,{value:void 0}),p=P({},p,{value:void 0}),y=[];break;case"textarea":h=Nn(r,h),p=Nn(r,p),y=[];break;default:typeof h.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=ml)}Fu(l,p);var S;l=null;for(q in h)if(!p.hasOwnProperty(q)&&h.hasOwnProperty(q)&&h[q]!=null)if(q==="style"){var _=h[q];for(S in _)_.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?y||(y=[]):(y=y||[]).push(q,null));for(q in p){var A=p[q];if(_=h!=null?h[q]:void 0,p.hasOwnProperty(q)&&A!==_&&(A!=null||_!=null))if(q==="style")if(_){for(S in _)!_.hasOwnProperty(S)||A&&A.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in A)A.hasOwnProperty(S)&&_[S]!==A[S]&&(l||(l={}),l[S]=A[S])}else l||(y||(y=[]),y.push(q,l)),l=A;else q==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,_=_?_.__html:void 0,A!=null&&_!==A&&(y=y||[]).push(q,A)):q==="children"?typeof A!="string"&&typeof A!="number"||(y=y||[]).push(q,""+A):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(A!=null&&q==="onScroll"&&tt("scroll",r),y||_===A||(y=[])):(y=y||[]).push(q,A))}l&&(y=y||[]).push("style",l);var q=y;(a.updateQueue=q)&&(a.flags|=4)}},gg=function(r,a,l,p){l!==p&&(a.flags|=4)};function Ti(r,a){if(!at)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function Dt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,p=0;if(a)for(var h=r.child;h!==null;)l|=h.lanes|h.childLanes,p|=h.subtreeFlags&14680064,p|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)l|=h.lanes|h.childLanes,p|=h.subtreeFlags,p|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=p,r.childLanes=l,a}function tC(r,a,l){var p=a.pendingProps;switch(Nd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(a),null;case 1:return jt(a.type)&&yl(),Dt(a),null;case 3:return p=a.stateNode,ra(),nt(Ft),nt(Pt),Bd(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(El(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Dn!==null&&(mf(Dn),Dn=null))),of(r,a),Dt(a),null;case 5:jd(a);var h=no(Ei.current);if(l=a.type,r!==null&&a.stateNode!=null)mg(r,a,l,p,h),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Dt(a),null}if(r=no($n.current),El(a)){p=a.stateNode,l=a.type;var y=a.memoizedProps;switch(p[Vn]=a,p[yi]=y,r=(a.mode&1)!==0,l){case"dialog":tt("cancel",p),tt("close",p);break;case"iframe":case"object":case"embed":tt("load",p);break;case"video":case"audio":for(h=0;h<hi.length;h++)tt(hi[h],p);break;case"source":tt("error",p);break;case"img":case"image":case"link":tt("error",p),tt("load",p);break;case"details":tt("toggle",p);break;case"input":fe(p,y),tt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!y.multiple},tt("invalid",p);break;case"textarea":gt(p,y),tt("invalid",p)}Fu(l,y),h=null;for(var S in y)if(y.hasOwnProperty(S)){var _=y[S];S==="children"?typeof _=="string"?p.textContent!==_&&(y.suppressHydrationWarning!==!0&&hl(p.textContent,_,r),h=["children",_]):typeof _=="number"&&p.textContent!==""+_&&(y.suppressHydrationWarning!==!0&&hl(p.textContent,_,r),h=["children",""+_]):i.hasOwnProperty(S)&&_!=null&&S==="onScroll"&&tt("scroll",p)}switch(l){case"input":ye(p),Oe(p,y,!0);break;case"textarea":ye(p),Ya(p);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(p.onclick=ml)}p=h,a.updateQueue=p,p!==null&&(a.flags|=4)}else{S=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ka(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=S.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=S.createElement(l,{is:p.is}):(r=S.createElement(l),l==="select"&&(S=r,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):r=S.createElementNS(r,l),r[Vn]=a,r[yi]=p,hg(r,a,!1,!1),a.stateNode=r;e:{switch(S=ju(l,p),l){case"dialog":tt("cancel",r),tt("close",r),h=p;break;case"iframe":case"object":case"embed":tt("load",r),h=p;break;case"video":case"audio":for(h=0;h<hi.length;h++)tt(hi[h],r);h=p;break;case"source":tt("error",r),h=p;break;case"img":case"image":case"link":tt("error",r),tt("load",r),h=p;break;case"details":tt("toggle",r),h=p;break;case"input":fe(r,p),h=K(r,p),tt("invalid",r);break;case"option":h=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},h=P({},p,{value:void 0}),tt("invalid",r);break;case"textarea":gt(r,p),h=Nn(r,p),tt("invalid",r);break;default:h=p}Fu(l,h),_=h;for(y in _)if(_.hasOwnProperty(y)){var A=_[y];y==="style"?ah(r,A):y==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&rh(r,A)):y==="children"?typeof A=="string"?(l!=="textarea"||A!=="")&&Xa(r,A):typeof A=="number"&&Xa(r,""+A):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?A!=null&&y==="onScroll"&&tt("scroll",r):A!=null&&D(r,y,A,S))}switch(l){case"input":ye(r),Oe(r,p,!1);break;case"textarea":ye(r),Ya(r);break;case"option":p.value!=null&&r.setAttribute("value",""+$(p.value));break;case"select":r.multiple=!!p.multiple,y=p.value,y!=null?ot(r,!!p.multiple,y,!1):p.defaultValue!=null&&ot(r,!!p.multiple,p.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=ml)}switch(l){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Dt(a),null;case 6:if(r&&a.stateNode!=null)gg(r,a,r.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(l=no(Ei.current),no($n.current),El(a)){if(p=a.stateNode,l=a.memoizedProps,p[Vn]=a,(y=p.nodeValue!==l)&&(r=Qt,r!==null))switch(r.tag){case 3:hl(p.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&hl(p.nodeValue,l,(r.mode&1)!==0)}y&&(a.flags|=4)}else p=(l.nodeType===9?l:l.ownerDocument).createTextNode(p),p[Vn]=a,a.stateNode=p}return Dt(a),null;case 13:if(nt(it),p=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(at&&Zt!==null&&a.mode&1&&!(a.flags&128))bm(),Jo(),a.flags|=98560,y=!1;else if(y=El(a),p!==null&&p.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Vn]=a}else Jo(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Dt(a),y=!1}else Dn!==null&&(mf(Dn),Dn=null),y=!0;if(!y)return a.flags&65536?a:null}return a.flags&128?(a.lanes=l,a):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(r===null||it.current&1?bt===0&&(bt=3):bf())),a.updateQueue!==null&&(a.flags|=4),Dt(a),null);case 4:return ra(),of(r,a),r===null&&mi(a.stateNode.containerInfo),Dt(a),null;case 10:return Rd(a.type._context),Dt(a),null;case 17:return jt(a.type)&&yl(),Dt(a),null;case 19:if(nt(it),y=a.memoizedState,y===null)return Dt(a),null;if(p=(a.flags&128)!==0,S=y.rendering,S===null)if(p)Ti(y,!1);else{if(bt!==0||r!==null&&r.flags&128)for(r=a.child;r!==null;){if(S=Ol(r),S!==null){for(a.flags|=128,Ti(y,!1),p=S.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=l,l=a.child;l!==null;)y=l,r=p,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,r=S.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return et(it,it.current&1|2),a.child}r=r.sibling}y.tail!==null&&vt()>sa&&(a.flags|=128,p=!0,Ti(y,!1),a.lanes=4194304)}else{if(!p)if(r=Ol(S),r!==null){if(a.flags|=128,p=!0,l=r.updateQueue,l!==null&&(a.updateQueue=l,a.flags|=4),Ti(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!at)return Dt(a),null}else 2*vt()-y.renderingStartTime>sa&&l!==1073741824&&(a.flags|=128,p=!0,Ti(y,!1),a.lanes=4194304);y.isBackwards?(S.sibling=a.child,a.child=S):(l=y.last,l!==null?l.sibling=S:a.child=S,y.last=S)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=vt(),a.sibling=null,l=it.current,et(it,p?l&1|2:l&1),a):(Dt(a),null);case 22:case 23:return yf(),p=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?Jt&1073741824&&(Dt(a),a.subtreeFlags&6&&(a.flags|=8192)):Dt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function nC(r,a){switch(Nd(a),a.tag){case 1:return jt(a.type)&&yl(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return ra(),nt(Ft),nt(Pt),Bd(),r=a.flags,r&65536&&!(r&128)?(a.flags=r&-65537|128,a):null;case 5:return jd(a),null;case 13:if(nt(it),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Jo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return nt(it),null;case 4:return ra(),null;case 10:return Rd(a.type._context),null;case 22:case 23:return yf(),null;case 24:return null;default:return null}}var Fl=!1,Ot=!1,rC=typeof WeakSet=="function"?WeakSet:Set,Se=null;function aa(r,a){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(p){dt(r,a,p)}else l.current=null}function af(r,a,l){try{l()}catch(p){dt(r,a,p)}}var yg=!1;function oC(r,a){if(gd=ol,r=Kh(),cd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var p=l.getSelection&&l.getSelection();if(p&&p.rangeCount!==0){l=p.anchorNode;var h=p.anchorOffset,y=p.focusNode;p=p.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,_=-1,A=-1,q=0,ue=0,pe=r,ce=null;t:for(;;){for(var Ee;pe!==l||h!==0&&pe.nodeType!==3||(_=S+h),pe!==y||p!==0&&pe.nodeType!==3||(A=S+p),pe.nodeType===3&&(S+=pe.nodeValue.length),(Ee=pe.firstChild)!==null;)ce=pe,pe=Ee;for(;;){if(pe===r)break t;if(ce===l&&++q===h&&(_=S),ce===y&&++ue===p&&(A=S),(Ee=pe.nextSibling)!==null)break;pe=ce,ce=pe.parentNode}pe=Ee}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(yd={focusedElem:r,selectionRange:l},ol=!1,Se=a;Se!==null;)if(a=Se,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,Se=r;else for(;Se!==null;){a=Se;try{var Ne=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Pe=Ne.memoizedProps,ht=Ne.memoizedState,V=a.stateNode,F=V.getSnapshotBeforeUpdate(a.elementType===a.type?Pe:On(a.type,Pe),ht);V.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var U=a.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){dt(a,a.return,he)}if(r=a.sibling,r!==null){r.return=a.return,Se=r;break}Se=a.return}return Ne=yg,yg=!1,Ne}function Di(r,a,l){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var h=p=p.next;do{if((h.tag&r)===r){var y=h.destroy;h.destroy=void 0,y!==void 0&&af(a,l,y)}h=h.next}while(h!==p)}}function jl(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&r)===r){var p=l.create;l.destroy=p()}l=l.next}while(l!==a)}}function sf(r){var a=r.ref;if(a!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof a=="function"?a(r):a.current=r}}function bg(r){var a=r.alternate;a!==null&&(r.alternate=null,bg(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[Vn],delete a[yi],delete a[kd],delete a[HE],delete a[BE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function wg(r){return r.tag===5||r.tag===3||r.tag===4}function xg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||wg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function lf(r,a,l){var p=r.tag;if(p===5||p===6)r=r.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(r,a):l.insertBefore(r,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(r,l)):(a=l,a.appendChild(r)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ml));else if(p!==4&&(r=r.child,r!==null))for(lf(r,a,l),r=r.sibling;r!==null;)lf(r,a,l),r=r.sibling}function cf(r,a,l){var p=r.tag;if(p===5||p===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(cf(r,a,l),r=r.sibling;r!==null;)cf(r,a,l),r=r.sibling}var Et=null,Mn=!1;function _r(r,a,l){for(l=l.child;l!==null;)kg(r,a,l),l=l.sibling}function kg(r,a,l){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Zs,l)}catch{}switch(l.tag){case 5:Ot||aa(l,a);case 6:var p=Et,h=Mn;Et=null,_r(r,a,l),Et=p,Mn=h,Et!==null&&(Mn?(r=Et,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Et.removeChild(l.stateNode));break;case 18:Et!==null&&(Mn?(r=Et,l=l.stateNode,r.nodeType===8?xd(r.parentNode,l):r.nodeType===1&&xd(r,l),si(r)):xd(Et,l.stateNode));break;case 4:p=Et,h=Mn,Et=l.stateNode.containerInfo,Mn=!0,_r(r,a,l),Et=p,Mn=h;break;case 0:case 11:case 14:case 15:if(!Ot&&(p=l.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){h=p=p.next;do{var y=h,S=y.destroy;y=y.tag,S!==void 0&&(y&2||y&4)&&af(l,a,S),h=h.next}while(h!==p)}_r(r,a,l);break;case 1:if(!Ot&&(aa(l,a),p=l.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=l.memoizedProps,p.state=l.memoizedState,p.componentWillUnmount()}catch(_){dt(l,a,_)}_r(r,a,l);break;case 21:_r(r,a,l);break;case 22:l.mode&1?(Ot=(p=Ot)||l.memoizedState!==null,_r(r,a,l),Ot=p):_r(r,a,l);break;default:_r(r,a,l)}}function Eg(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new rC),a.forEach(function(p){var h=pC.bind(null,r,p);l.has(p)||(l.add(p),p.then(h,h))})}}function Rn(r,a){var l=a.deletions;if(l!==null)for(var p=0;p<l.length;p++){var h=l[p];try{var y=r,S=a,_=S;e:for(;_!==null;){switch(_.tag){case 5:Et=_.stateNode,Mn=!1;break e;case 3:Et=_.stateNode.containerInfo,Mn=!0;break e;case 4:Et=_.stateNode.containerInfo,Mn=!0;break e}_=_.return}if(Et===null)throw Error(t(160));kg(y,S,h),Et=null,Mn=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch(q){dt(h,a,q)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Cg(a,r),a=a.sibling}function Cg(r,a){var l=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Rn(a,r),qn(r),p&4){try{Di(3,r,r.return),jl(3,r)}catch(Pe){dt(r,r.return,Pe)}try{Di(5,r,r.return)}catch(Pe){dt(r,r.return,Pe)}}break;case 1:Rn(a,r),qn(r),p&512&&l!==null&&aa(l,l.return);break;case 5:if(Rn(a,r),qn(r),p&512&&l!==null&&aa(l,l.return),r.flags&32){var h=r.stateNode;try{Xa(h,"")}catch(Pe){dt(r,r.return,Pe)}}if(p&4&&(h=r.stateNode,h!=null)){var y=r.memoizedProps,S=l!==null?l.memoizedProps:y,_=r.type,A=r.updateQueue;if(r.updateQueue=null,A!==null)try{_==="input"&&y.type==="radio"&&y.name!=null&&ke(h,y),ju(_,S);var q=ju(_,y);for(S=0;S<A.length;S+=2){var ue=A[S],pe=A[S+1];ue==="style"?ah(h,pe):ue==="dangerouslySetInnerHTML"?rh(h,pe):ue==="children"?Xa(h,pe):D(h,ue,pe,q)}switch(_){case"input":De(h,y);break;case"textarea":Ao(h,y);break;case"select":var ce=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!y.multiple;var Ee=y.value;Ee!=null?ot(h,!!y.multiple,Ee,!1):ce!==!!y.multiple&&(y.defaultValue!=null?ot(h,!!y.multiple,y.defaultValue,!0):ot(h,!!y.multiple,y.multiple?[]:"",!1))}h[yi]=y}catch(Pe){dt(r,r.return,Pe)}}break;case 6:if(Rn(a,r),qn(r),p&4){if(r.stateNode===null)throw Error(t(162));h=r.stateNode,y=r.memoizedProps;try{h.nodeValue=y}catch(Pe){dt(r,r.return,Pe)}}break;case 3:if(Rn(a,r),qn(r),p&4&&l!==null&&l.memoizedState.isDehydrated)try{si(a.containerInfo)}catch(Pe){dt(r,r.return,Pe)}break;case 4:Rn(a,r),qn(r);break;case 13:Rn(a,r),qn(r),h=r.child,h.flags&8192&&(y=h.memoizedState!==null,h.stateNode.isHidden=y,!y||h.alternate!==null&&h.alternate.memoizedState!==null||(ff=vt())),p&4&&Eg(r);break;case 22:if(ue=l!==null&&l.memoizedState!==null,r.mode&1?(Ot=(q=Ot)||ue,Rn(a,r),Ot=q):Rn(a,r),qn(r),p&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!ue&&r.mode&1)for(Se=r,ue=r.child;ue!==null;){for(pe=Se=ue;Se!==null;){switch(ce=Se,Ee=ce.child,ce.tag){case 0:case 11:case 14:case 15:Di(4,ce,ce.return);break;case 1:aa(ce,ce.return);var Ne=ce.stateNode;if(typeof Ne.componentWillUnmount=="function"){p=ce,l=ce.return;try{a=p,Ne.props=a.memoizedProps,Ne.state=a.memoizedState,Ne.componentWillUnmount()}catch(Pe){dt(p,l,Pe)}}break;case 5:aa(ce,ce.return);break;case 22:if(ce.memoizedState!==null){Pg(pe);continue}}Ee!==null?(Ee.return=ce,Se=Ee):Pg(pe)}ue=ue.sibling}e:for(ue=null,pe=r;;){if(pe.tag===5){if(ue===null){ue=pe;try{h=pe.stateNode,q?(y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(_=pe.stateNode,A=pe.memoizedProps.style,S=A!=null&&A.hasOwnProperty("display")?A.display:null,_.style.display=oh("display",S))}catch(Pe){dt(r,r.return,Pe)}}}else if(pe.tag===6){if(ue===null)try{pe.stateNode.nodeValue=q?"":pe.memoizedProps}catch(Pe){dt(r,r.return,Pe)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===r)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===r)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===r)break e;ue===pe&&(ue=null),pe=pe.return}ue===pe&&(ue=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Rn(a,r),qn(r),p&4&&Eg(r);break;case 21:break;default:Rn(a,r),qn(r)}}function qn(r){var a=r.flags;if(a&2){try{e:{for(var l=r.return;l!==null;){if(wg(l)){var p=l;break e}l=l.return}throw Error(t(160))}switch(p.tag){case 5:var h=p.stateNode;p.flags&32&&(Xa(h,""),p.flags&=-33);var y=xg(r);cf(r,y,h);break;case 3:case 4:var S=p.stateNode.containerInfo,_=xg(r);lf(r,_,S);break;default:throw Error(t(161))}}catch(A){dt(r,r.return,A)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function aC(r,a,l){Se=r,Sg(r)}function Sg(r,a,l){for(var p=(r.mode&1)!==0;Se!==null;){var h=Se,y=h.child;if(h.tag===22&&p){var S=h.memoizedState!==null||Fl;if(!S){var _=h.alternate,A=_!==null&&_.memoizedState!==null||Ot;_=Fl;var q=Ot;if(Fl=S,(Ot=A)&&!q)for(Se=h;Se!==null;)S=Se,A=S.child,S.tag===22&&S.memoizedState!==null?Tg(h):A!==null?(A.return=S,Se=A):Tg(h);for(;y!==null;)Se=y,Sg(y),y=y.sibling;Se=h,Fl=_,Ot=q}Ng(r)}else h.subtreeFlags&8772&&y!==null?(y.return=h,Se=y):Ng(r)}}function Ng(r){for(;Se!==null;){var a=Se;if(a.flags&8772){var l=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Ot||jl(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Ot)if(l===null)p.componentDidMount();else{var h=a.elementType===a.type?l.memoizedProps:On(a.type,l.memoizedProps);p.componentDidUpdate(h,l.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&Em(a,y,p);break;case 3:var S=a.updateQueue;if(S!==null){if(l=null,a.child!==null)switch(a.child.tag){case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}Em(a,S,l)}break;case 5:var _=a.stateNode;if(l===null&&a.flags&4){l=_;var A=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&l.focus();break;case"img":A.src&&(l.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var q=a.alternate;if(q!==null){var ue=q.memoizedState;if(ue!==null){var pe=ue.dehydrated;pe!==null&&si(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ot||a.flags&512&&sf(a)}catch(ce){dt(a,a.return,ce)}}if(a===r){Se=null;break}if(l=a.sibling,l!==null){l.return=a.return,Se=l;break}Se=a.return}}function Pg(r){for(;Se!==null;){var a=Se;if(a===r){Se=null;break}var l=a.sibling;if(l!==null){l.return=a.return,Se=l;break}Se=a.return}}function Tg(r){for(;Se!==null;){var a=Se;try{switch(a.tag){case 0:case 11:case 15:var l=a.return;try{jl(4,a)}catch(A){dt(a,l,A)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var h=a.return;try{p.componentDidMount()}catch(A){dt(a,h,A)}}var y=a.return;try{sf(a)}catch(A){dt(a,y,A)}break;case 5:var S=a.return;try{sf(a)}catch(A){dt(a,S,A)}}}catch(A){dt(a,a.return,A)}if(a===r){Se=null;break}var _=a.sibling;if(_!==null){_.return=a.return,Se=_;break}Se=a.return}}var iC=Math.ceil,Hl=O.ReactCurrentDispatcher,uf=O.ReactCurrentOwner,vn=O.ReactCurrentBatchConfig,Ge=0,xt=null,mt=null,Ct=0,Jt=0,ia=Tr(0),bt=0,Oi=null,oo=0,Bl=0,df=0,Mi=null,Bt=null,ff=0,sa=1/0,ur=null,Wl=!1,pf=null,Lr=null,Vl=!1,zr=null,$l=0,Ri=0,vf=null,Ul=-1,ql=0;function zt(){return Ge&6?vt():Ul!==-1?Ul:Ul=vt()}function Ir(r){return r.mode&1?Ge&2&&Ct!==0?Ct&-Ct:VE.transition!==null?(ql===0&&(ql=wh()),ql):(r=Ze,r!==0||(r=window.event,r=r===void 0?16:Dh(r.type)),r):1}function _n(r,a,l,p){if(50<Ri)throw Ri=0,vf=null,Error(t(185));ni(r,l,p),(!(Ge&2)||r!==xt)&&(r===xt&&(!(Ge&2)&&(Bl|=l),bt===4&&Ar(r,Ct)),Wt(r,p),l===1&&Ge===0&&!(a.mode&1)&&(sa=vt()+500,wl&&Or()))}function Wt(r,a){var l=r.callbackNode;Vk(r,a);var p=tl(r,r===xt?Ct:0);if(p===0)l!==null&&gh(l),r.callbackNode=null,r.callbackPriority=0;else if(a=p&-p,r.callbackPriority!==a){if(l!=null&&gh(l),a===1)r.tag===0?WE(Og.bind(null,r)):vm(Og.bind(null,r)),FE(function(){!(Ge&6)&&Or()}),l=null;else{switch(xh(p)){case 1:l=qu;break;case 4:l=yh;break;case 16:l=Qs;break;case 536870912:l=bh;break;default:l=Qs}l=Fg(l,Dg.bind(null,r))}r.callbackPriority=a,r.callbackNode=l}}function Dg(r,a){if(Ul=-1,ql=0,Ge&6)throw Error(t(327));var l=r.callbackNode;if(la()&&r.callbackNode!==l)return null;var p=tl(r,r===xt?Ct:0);if(p===0)return null;if(p&30||p&r.expiredLanes||a)a=Gl(r,p);else{a=p;var h=Ge;Ge|=2;var y=Rg();(xt!==r||Ct!==a)&&(ur=null,sa=vt()+500,io(r,a));do try{cC();break}catch(_){Mg(r,_)}while(1);Md(),Hl.current=y,Ge=h,mt!==null?a=0:(xt=null,Ct=0,a=bt)}if(a!==0){if(a===2&&(h=Gu(r),h!==0&&(p=h,a=hf(r,h))),a===1)throw l=Oi,io(r,0),Ar(r,p),Wt(r,vt()),l;if(a===6)Ar(r,p);else{if(h=r.current.alternate,!(p&30)&&!sC(h)&&(a=Gl(r,p),a===2&&(y=Gu(r),y!==0&&(p=y,a=hf(r,y))),a===1))throw l=Oi,io(r,0),Ar(r,p),Wt(r,vt()),l;switch(r.finishedWork=h,r.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:so(r,Bt,ur);break;case 3:if(Ar(r,p),(p&130023424)===p&&(a=ff+500-vt(),10<a)){if(tl(r,0)!==0)break;if(h=r.suspendedLanes,(h&p)!==p){zt(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=wd(so.bind(null,r,Bt,ur),a);break}so(r,Bt,ur);break;case 4:if(Ar(r,p),(p&4194240)===p)break;for(a=r.eventTimes,h=-1;0<p;){var S=31-Pn(p);y=1<<S,S=a[S],S>h&&(h=S),p&=~y}if(p=h,p=vt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*iC(p/1960))-p,10<p){r.timeoutHandle=wd(so.bind(null,r,Bt,ur),p);break}so(r,Bt,ur);break;case 5:so(r,Bt,ur);break;default:throw Error(t(329))}}}return Wt(r,vt()),r.callbackNode===l?Dg.bind(null,r):null}function hf(r,a){var l=Mi;return r.current.memoizedState.isDehydrated&&(io(r,a).flags|=256),r=Gl(r,a),r!==2&&(a=Bt,Bt=l,a!==null&&mf(a)),r}function mf(r){Bt===null?Bt=r:Bt.push.apply(Bt,r)}function sC(r){for(var a=r;;){if(a.flags&16384){var l=a.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var p=0;p<l.length;p++){var h=l[p],y=h.getSnapshot;h=h.value;try{if(!Tn(y(),h))return!1}catch{return!1}}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ar(r,a){for(a&=~df,a&=~Bl,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var l=31-Pn(a),p=1<<l;r[l]=-1,a&=~p}}function Og(r){if(Ge&6)throw Error(t(327));la();var a=tl(r,0);if(!(a&1))return Wt(r,vt()),null;var l=Gl(r,a);if(r.tag!==0&&l===2){var p=Gu(r);p!==0&&(a=p,l=hf(r,p))}if(l===1)throw l=Oi,io(r,0),Ar(r,a),Wt(r,vt()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,so(r,Bt,ur),Wt(r,vt()),null}function gf(r,a){var l=Ge;Ge|=1;try{return r(a)}finally{Ge=l,Ge===0&&(sa=vt()+500,wl&&Or())}}function ao(r){zr!==null&&zr.tag===0&&!(Ge&6)&&la();var a=Ge;Ge|=1;var l=vn.transition,p=Ze;try{if(vn.transition=null,Ze=1,r)return r()}finally{Ze=p,vn.transition=l,Ge=a,!(Ge&6)&&Or()}}function yf(){Jt=ia.current,nt(ia)}function io(r,a){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,AE(l)),mt!==null)for(l=mt.return;l!==null;){var p=l;switch(Nd(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&yl();break;case 3:ra(),nt(Ft),nt(Pt),Bd();break;case 5:jd(p);break;case 4:ra();break;case 13:nt(it);break;case 19:nt(it);break;case 10:Rd(p.type._context);break;case 22:case 23:yf()}l=l.return}if(xt=r,mt=r=Fr(r.current,null),Ct=Jt=a,bt=0,Oi=null,df=Bl=oo=0,Bt=Mi=null,to!==null){for(a=0;a<to.length;a++)if(l=to[a],p=l.interleaved,p!==null){l.interleaved=null;var h=p.next,y=l.pending;if(y!==null){var S=y.next;y.next=h,p.next=S}l.pending=p}to=null}return r}function Mg(r,a){do{var l=mt;try{if(Md(),Ml.current=zl,Rl){for(var p=st.memoizedState;p!==null;){var h=p.queue;h!==null&&(h.pending=null),p=p.next}Rl=!1}if(ro=0,wt=yt=st=null,Ci=!1,Si=0,uf.current=null,l===null||l.return===null){bt=1,Oi=a,mt=null;break}e:{var y=r,S=l.return,_=l,A=a;if(a=Ct,_.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=A,ue=_,pe=ue.tag;if(!(ue.mode&1)&&(pe===0||pe===11||pe===15)){var ce=ue.alternate;ce?(ue.updateQueue=ce.updateQueue,ue.memoizedState=ce.memoizedState,ue.lanes=ce.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var Ee=ng(S);if(Ee!==null){Ee.flags&=-257,rg(Ee,S,_,y,a),Ee.mode&1&&tg(y,q,a),a=Ee,A=q;var Ne=a.updateQueue;if(Ne===null){var Pe=new Set;Pe.add(A),a.updateQueue=Pe}else Ne.add(A);break e}else{if(!(a&1)){tg(y,q,a),bf();break e}A=Error(t(426))}}else if(at&&_.mode&1){var ht=ng(S);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),rg(ht,S,_,y,a),Dd(oa(A,_));break e}}y=A=oa(A,_),bt!==4&&(bt=2),Mi===null?Mi=[y]:Mi.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var V=Jm(y,A,a);km(y,V);break e;case 1:_=A;var F=y.type,U=y.stateNode;if(!(y.flags&128)&&(typeof F.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Lr===null||!Lr.has(U)))){y.flags|=65536,a&=-a,y.lanes|=a;var he=eg(y,_,a);km(y,he);break e}}y=y.return}while(y!==null)}Lg(l)}catch(Te){a=Te,mt===l&&l!==null&&(mt=l=l.return);continue}break}while(1)}function Rg(){var r=Hl.current;return Hl.current=zl,r===null?zl:r}function bf(){(bt===0||bt===3||bt===2)&&(bt=4),xt===null||!(oo&268435455)&&!(Bl&268435455)||Ar(xt,Ct)}function Gl(r,a){var l=Ge;Ge|=2;var p=Rg();(xt!==r||Ct!==a)&&(ur=null,io(r,a));do try{lC();break}catch(h){Mg(r,h)}while(1);if(Md(),Ge=l,Hl.current=p,mt!==null)throw Error(t(261));return xt=null,Ct=0,bt}function lC(){for(;mt!==null;)_g(mt)}function cC(){for(;mt!==null&&!Lk();)_g(mt)}function _g(r){var a=Ag(r.alternate,r,Jt);r.memoizedProps=r.pendingProps,a===null?Lg(r):mt=a,uf.current=null}function Lg(r){var a=r;do{var l=a.alternate;if(r=a.return,a.flags&32768){if(l=nC(l,a),l!==null){l.flags&=32767,mt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,mt=null;return}}else if(l=tC(l,a,Jt),l!==null){mt=l;return}if(a=a.sibling,a!==null){mt=a;return}mt=a=r}while(a!==null);bt===0&&(bt=5)}function so(r,a,l){var p=Ze,h=vn.transition;try{vn.transition=null,Ze=1,uC(r,a,l,p)}finally{vn.transition=h,Ze=p}return null}function uC(r,a,l,p){do la();while(zr!==null);if(Ge&6)throw Error(t(327));l=r.finishedWork;var h=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if($k(r,y),r===xt&&(mt=xt=null,Ct=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Vl||(Vl=!0,Fg(Qs,function(){return la(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=vn.transition,vn.transition=null;var S=Ze;Ze=1;var _=Ge;Ge|=4,uf.current=null,oC(r,l),Cg(l,r),OE(yd),ol=!!gd,yd=gd=null,r.current=l,aC(l),zk(),Ge=_,Ze=S,vn.transition=y}else r.current=l;if(Vl&&(Vl=!1,zr=r,$l=h),y=r.pendingLanes,y===0&&(Lr=null),Fk(l.stateNode),Wt(r,vt()),a!==null)for(p=r.onRecoverableError,l=0;l<a.length;l++)h=a[l],p(h.value,{componentStack:h.stack,digest:h.digest});if(Wl)throw Wl=!1,r=pf,pf=null,r;return $l&1&&r.tag!==0&&la(),y=r.pendingLanes,y&1?r===vf?Ri++:(Ri=0,vf=r):Ri=0,Or(),null}function la(){if(zr!==null){var r=xh($l),a=vn.transition,l=Ze;try{if(vn.transition=null,Ze=16>r?16:r,zr===null)var p=!1;else{if(r=zr,zr=null,$l=0,Ge&6)throw Error(t(331));var h=Ge;for(Ge|=4,Se=r.current;Se!==null;){var y=Se,S=y.child;if(Se.flags&16){var _=y.deletions;if(_!==null){for(var A=0;A<_.length;A++){var q=_[A];for(Se=q;Se!==null;){var ue=Se;switch(ue.tag){case 0:case 11:case 15:Di(8,ue,y)}var pe=ue.child;if(pe!==null)pe.return=ue,Se=pe;else for(;Se!==null;){ue=Se;var ce=ue.sibling,Ee=ue.return;if(bg(ue),ue===q){Se=null;break}if(ce!==null){ce.return=Ee,Se=ce;break}Se=Ee}}}var Ne=y.alternate;if(Ne!==null){var Pe=Ne.child;if(Pe!==null){Ne.child=null;do{var ht=Pe.sibling;Pe.sibling=null,Pe=ht}while(Pe!==null)}}Se=y}}if(y.subtreeFlags&2064&&S!==null)S.return=y,Se=S;else e:for(;Se!==null;){if(y=Se,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Di(9,y,y.return)}var V=y.sibling;if(V!==null){V.return=y.return,Se=V;break e}Se=y.return}}var F=r.current;for(Se=F;Se!==null;){S=Se;var U=S.child;if(S.subtreeFlags&2064&&U!==null)U.return=S,Se=U;else e:for(S=F;Se!==null;){if(_=Se,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:jl(9,_)}}catch(Te){dt(_,_.return,Te)}if(_===S){Se=null;break e}var he=_.sibling;if(he!==null){he.return=_.return,Se=he;break e}Se=_.return}}if(Ge=h,Or(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Zs,r)}catch{}p=!0}return p}finally{Ze=l,vn.transition=a}}return!1}function zg(r,a,l){a=oa(l,a),a=Jm(r,a,1),r=Rr(r,a,1),a=zt(),r!==null&&(ni(r,1,a),Wt(r,a))}function dt(r,a,l){if(r.tag===3)zg(r,r,l);else for(;a!==null;){if(a.tag===3){zg(a,r,l);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Lr===null||!Lr.has(p))){r=oa(l,r),r=eg(a,r,1),a=Rr(a,r,1),r=zt(),a!==null&&(ni(a,1,r),Wt(a,r));break}}a=a.return}}function dC(r,a,l){var p=r.pingCache;p!==null&&p.delete(a),a=zt(),r.pingedLanes|=r.suspendedLanes&l,xt===r&&(Ct&l)===l&&(bt===4||bt===3&&(Ct&130023424)===Ct&&500>vt()-ff?io(r,0):df|=l),Wt(r,a)}function Ig(r,a){a===0&&(r.mode&1?(a=el,el<<=1,!(el&130023424)&&(el=4194304)):a=1);var l=zt();r=sr(r,a),r!==null&&(ni(r,a,l),Wt(r,l))}function fC(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),Ig(r,l)}function pC(r,a){var l=0;switch(r.tag){case 13:var p=r.stateNode,h=r.memoizedState;h!==null&&(l=h.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),Ig(r,l)}var Ag;Ag=function(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps||Ft.current)Ht=!0;else{if(!(r.lanes&l)&&!(a.flags&128))return Ht=!1,eC(r,a,l);Ht=!!(r.flags&131072)}else Ht=!1,at&&a.flags&1048576&&hm(a,kl,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Al(r,a),r=a.pendingProps;var h=Xo(a,Pt.current);ta(a,l),h=$d(null,a,p,r,h,l);var y=Ud();return a.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,jt(p)?(y=!0,bl(a)):y=!1,a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,zd(a),h.updater=Tl,a.stateNode=h,h._reactInternals=a,Ad(a,p,r,l),a=Jd(null,a,p,!0,y,l)):(a.tag=0,at&&y&&Sd(a),Lt(null,a,h,l),a=a.child),a;case 16:p=a.elementType;e:{switch(Al(r,a),r=a.pendingProps,h=p._init,p=h(p._payload),a.type=p,h=a.tag=hC(p),r=On(p,r),h){case 0:a=Zd(null,a,p,r,l);break e;case 1:a=cg(null,a,p,r,l);break e;case 11:a=og(null,a,p,r,l);break e;case 14:a=ag(null,a,p,On(p.type,r),l);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,h=a.pendingProps,h=a.elementType===p?h:On(p,h),Zd(r,a,p,h,l);case 1:return p=a.type,h=a.pendingProps,h=a.elementType===p?h:On(p,h),cg(r,a,p,h,l);case 3:e:{if(ug(a),r===null)throw Error(t(387));p=a.pendingProps,y=a.memoizedState,h=y.element,xm(r,a),Pl(a,p,null,l);var S=a.memoizedState;if(p=S.element,y.isDehydrated)if(y={element:p,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){h=oa(Error(t(423)),a),a=dg(r,a,p,l,h);break e}else if(p!==h){h=oa(Error(t(424)),a),a=dg(r,a,p,l,h);break e}else for(Zt=Pr(a.stateNode.containerInfo.firstChild),Qt=a,at=!0,Dn=null,l=Om(a,null,p,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Jo(),p===h){a=cr(r,a,l);break e}Lt(r,a,p,l)}a=a.child}return a;case 5:return Mm(a),r===null&&Td(a),p=a.type,h=a.pendingProps,y=r!==null?r.memoizedProps:null,S=h.children,bd(p,h)?S=null:y!==null&&bd(p,y)&&(a.flags|=32),lg(r,a),Lt(r,a,S,l),a.child;case 6:return r===null&&Td(a),null;case 13:return fg(r,a,l);case 4:return Fd(a,a.stateNode.containerInfo),p=a.pendingProps,r===null?a.child=na(a,null,p,l):Lt(r,a,p,l),a.child;case 11:return p=a.type,h=a.pendingProps,h=a.elementType===p?h:On(p,h),og(r,a,p,h,l);case 7:return Lt(r,a,a.pendingProps,l),a.child;case 8:return Lt(r,a,a.pendingProps.children,l),a.child;case 12:return Lt(r,a,a.pendingProps.children,l),a.child;case 10:e:{if(p=a.type._context,h=a.pendingProps,y=a.memoizedProps,S=h.value,et(Cl,p._currentValue),p._currentValue=S,y!==null)if(Tn(y.value,S)){if(y.children===h.children&&!Ft.current){a=cr(r,a,l);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var _=y.dependencies;if(_!==null){S=y.child;for(var A=_.firstContext;A!==null;){if(A.context===p){if(y.tag===1){A=lr(-1,l&-l),A.tag=2;var q=y.updateQueue;if(q!==null){q=q.shared;var ue=q.pending;ue===null?A.next=A:(A.next=ue.next,ue.next=A),q.pending=A}}y.lanes|=l,A=y.alternate,A!==null&&(A.lanes|=l),_d(y.return,l,a),_.lanes|=l;break}A=A.next}}else if(y.tag===10)S=y.type===a.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=l,_=S.alternate,_!==null&&(_.lanes|=l),_d(S,l,a),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===a){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}Lt(r,a,h.children,l),a=a.child}return a;case 9:return h=a.type,p=a.pendingProps.children,ta(a,l),h=fn(h),p=p(h),a.flags|=1,Lt(r,a,p,l),a.child;case 14:return p=a.type,h=On(p,a.pendingProps),h=On(p.type,h),ag(r,a,p,h,l);case 15:return ig(r,a,a.type,a.pendingProps,l);case 17:return p=a.type,h=a.pendingProps,h=a.elementType===p?h:On(p,h),Al(r,a),a.tag=1,jt(p)?(r=!0,bl(a)):r=!1,ta(a,l),Nm(a,p,h),Ad(a,p,h,l),Jd(null,a,p,!0,r,l);case 19:return vg(r,a,l);case 22:return sg(r,a,l)}throw Error(t(156,a.tag))};function Fg(r,a){return mh(r,a)}function vC(r,a,l,p){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(r,a,l,p){return new vC(r,a,l,p)}function wf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function hC(r){if(typeof r=="function")return wf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Y)return 11;if(r===J)return 14}return 2}function Fr(r,a){var l=r.alternate;return l===null?(l=hn(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Yl(r,a,l,p,h,y){var S=2;if(p=r,typeof r=="function")wf(r)&&(S=1);else if(typeof r=="string")S=5;else e:switch(r){case L:return lo(l.children,h,y,a);case B:S=8,h|=8;break;case G:return r=hn(12,l,a,h|2),r.elementType=G,r.lanes=y,r;case se:return r=hn(13,l,a,h),r.elementType=se,r.lanes=y,r;case ne:return r=hn(19,l,a,h),r.elementType=ne,r.lanes=y,r;case le:return Kl(l,h,y,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Q:S=10;break e;case re:S=9;break e;case Y:S=11;break e;case J:S=14;break e;case de:S=16,p=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return a=hn(S,l,a,h),a.elementType=r,a.type=p,a.lanes=y,a}function lo(r,a,l,p){return r=hn(7,r,p,a),r.lanes=l,r}function Kl(r,a,l,p){return r=hn(22,r,p,a),r.elementType=le,r.lanes=l,r.stateNode={isHidden:!1},r}function xf(r,a,l){return r=hn(6,r,null,a),r.lanes=l,r}function kf(r,a,l){return a=hn(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function mC(r,a,l,p,h){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yu(0),this.expirationTimes=Yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yu(0),this.identifierPrefix=p,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ef(r,a,l,p,h,y,S,_,A){return r=new mC(r,a,l,_,A),a===1?(a=1,y===!0&&(a|=8)):a=0,y=hn(3,null,null,a),r.current=y,y.stateNode=r,y.memoizedState={element:p,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},zd(y),r}function gC(r,a,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:p==null?null:""+p,children:r,containerInfo:a,implementation:l}}function jg(r){if(!r)return Dr;r=r._reactInternals;e:{if(Xr(r)!==r||r.tag!==1)throw Error(t(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(jt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(jt(l))return fm(r,l,a)}return a}function Hg(r,a,l,p,h,y,S,_,A){return r=Ef(l,p,!0,r,h,y,S,_,A),r.context=jg(null),l=r.current,p=zt(),h=Ir(l),y=lr(p,h),y.callback=a??null,Rr(l,y,h),r.current.lanes=h,ni(r,h,p),Wt(r,p),r}function Xl(r,a,l,p){var h=a.current,y=zt(),S=Ir(h);return l=jg(l),a.context===null?a.context=l:a.pendingContext=l,a=lr(y,S),a.payload={element:r},p=p===void 0?null:p,p!==null&&(a.callback=p),r=Rr(h,a,S),r!==null&&(_n(r,h,S,y),Nl(r,h,S)),S}function Ql(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Bg(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Cf(r,a){Bg(r,a),(r=r.alternate)&&Bg(r,a)}function yC(){return null}var Wg=typeof reportError=="function"?reportError:function(r){};function Sf(r){this._internalRoot=r}Zl.prototype.render=Sf.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(t(409));Xl(r,a,null,null)},Zl.prototype.unmount=Sf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;ao(function(){Xl(null,r,null,null)}),a[rr]=null}};function Zl(r){this._internalRoot=r}Zl.prototype.unstable_scheduleHydration=function(r){if(r){var a=Ch();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Cr.length&&a!==0&&a<Cr[l].priority;l++);Cr.splice(l,0,r),l===0&&Ph(r)}};function Nf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Jl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Vg(){}function bC(r,a,l,p,h){if(h){if(typeof p=="function"){var y=p;p=function(){var q=Ql(S);y.call(q)}}var S=Hg(a,p,r,0,null,!1,!1,"",Vg);return r._reactRootContainer=S,r[rr]=S.current,mi(r.nodeType===8?r.parentNode:r),ao(),S}for(;h=r.lastChild;)r.removeChild(h);if(typeof p=="function"){var _=p;p=function(){var q=Ql(A);_.call(q)}}var A=Ef(r,0,!1,null,null,!1,!1,"",Vg);return r._reactRootContainer=A,r[rr]=A.current,mi(r.nodeType===8?r.parentNode:r),ao(function(){Xl(a,A,l,p)}),A}function ec(r,a,l,p,h){var y=l._reactRootContainer;if(y){var S=y;if(typeof h=="function"){var _=h;h=function(){var A=Ql(S);_.call(A)}}Xl(a,S,r,h)}else S=bC(l,a,r,h,p);return Ql(S)}kh=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var l=ti(a.pendingLanes);l!==0&&(Ku(a,l|1),Wt(a,vt()),!(Ge&6)&&(sa=vt()+500,Or()))}break;case 13:ao(function(){var p=sr(r,1);if(p!==null){var h=zt();_n(p,r,1,h)}}),Cf(r,1)}},Xu=function(r){if(r.tag===13){var a=sr(r,134217728);if(a!==null){var l=zt();_n(a,r,134217728,l)}Cf(r,134217728)}},Eh=function(r){if(r.tag===13){var a=Ir(r),l=sr(r,a);if(l!==null){var p=zt();_n(l,r,a,p)}Cf(r,a)}},Ch=function(){return Ze},Sh=function(r,a){var l=Ze;try{return Ze=r,a()}finally{Ze=l}},Wu=function(r,a,l){switch(a){case"input":if(De(r,l),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<l.length;a++){var p=l[a];if(p!==r&&p.form===r.form){var h=gl(p);if(!h)throw Error(t(90));ve(p),De(p,h)}}}break;case"textarea":Ao(r,l);break;case"select":a=l.value,a!=null&&ot(r,!!l.multiple,a,!1)}},ch=gf,uh=ao;var wC={usingClientEntryPoint:!1,Events:[bi,Yo,gl,sh,lh,gf]},_i={findFiberByHostInstance:Qr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xC={bundleType:_i.bundleType,version:_i.version,rendererPackageName:_i.rendererPackageName,rendererConfig:_i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=vh(r),r===null?null:r.stateNode},findFiberByHostInstance:_i.findFiberByHostInstance||yC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{Zs=tc.inject(xC),Wn=tc}catch{}}return Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wC,Vt.createPortal=function(r,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nf(a))throw Error(t(200));return gC(r,a,null,l)},Vt.createRoot=function(r,a){if(!Nf(r))throw Error(t(299));var l=!1,p="",h=Wg;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(h=a.onRecoverableError)),a=Ef(r,1,!1,null,null,l,!1,p,h),r[rr]=a.current,mi(r.nodeType===8?r.parentNode:r),new Sf(a)},Vt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=vh(a),r=r===null?null:r.stateNode,r},Vt.flushSync=function(r){return ao(r)},Vt.hydrate=function(r,a,l){if(!Jl(a))throw Error(t(200));return ec(null,r,a,!0,l)},Vt.hydrateRoot=function(r,a,l){if(!Nf(r))throw Error(t(405));var p=l!=null&&l.hydratedSources||null,h=!1,y="",S=Wg;if(l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),a=Hg(a,null,r,1,l??null,h,!1,y,S),r[rr]=a.current,mi(r),p)for(r=0;r<p.length;r++)l=p[r],h=l._getVersion,h=h(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,h]:a.mutableSourceEagerHydrationData.push(l,h);return new Zl(a)},Vt.render=function(r,a,l){if(!Jl(a))throw Error(t(200));return ec(null,r,a,!1,l)},Vt.unmountComponentAtNode=function(r){if(!Jl(r))throw Error(t(40));return r._reactRootContainer?(ao(function(){ec(null,null,r,!1,function(){r._reactRootContainer=null,r[rr]=null})}),!0):!1},Vt.unstable_batchedUpdates=gf,Vt.unstable_renderSubtreeIntoContainer=function(r,a,l,p){if(!Jl(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ec(r,a,l,!1,p)},Vt.version="18.2.0-next-9e3b772b8-20220608",Vt}function Ob(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ob)}catch{}}Ob();Tb.exports=FC();var Hn=Tb.exports;const Mb=Vp(Hn);var Rb=Hn;Po.createRoot=Rb.createRoot;Po.hydrateRoot=Rb.hydrateRoot;const At=d.createContext(lt.getState());function tn(e,n){const t=Object.keys(n).map(o=>jC(e,o,n[o]));return t.length===1?t[0]:function(){t.forEach(o=>o())}}function jC(e,n,t){const o=e[n],i=e.hasOwnProperty(n),s=i?o:function(){return Object.getPrototypeOf(e)[n].apply(this,arguments)};let c=t(s);return o&&Object.setPrototypeOf(c,o),Object.setPrototypeOf(u,c),e[n]=u,f;function u(...v){return c===s&&e[n]===u&&f(),c.apply(this,v)}function f(){e[n]===u&&(i?e[n]=s:delete e[n]),c!==s&&(c=s,Object.setPrototypeOf(u,o||Function))}}var rs;(e=>{function n(s){const c={};for(const u of s)try{const f=localStorage.getItem(u);if(f!==null){const v=JSON.parse(f);c[u]=v}}catch{}return c}e.get=n;function t(s){for(const c in s)try{const u=JSON.stringify(s[c]);localStorage.setItem(c,u)}catch{}}e.set=t;function o(s){for(const c of s)try{localStorage.removeItem(c)}catch{}}e.remove=o;function i(){var c;const s=document.createElement("iframe");s.style.display="none",document.body.appendChild(s),(c=s.contentWindow)==null||c.localStorage.setItem("t",Date.now().toString()),s.remove()}e.emitStorageChangedEvent=i})(rs||(rs={}));const Yg=ge.debounce((e,n,t,o)=>{WC(e,n,t,o),t.view.titleEl.setText(e.split(`
`)[0]),t.tabHeaderInnerTitleEl.setText(e.split(`
`)[0])},500,!0),HC=(e,n,t)=>{const{globalState:{editor:o}}=d.useContext(At),i=e.app,[s,c]=d.useState(null),[u,f]=d.useState(!1),[v,m]=d.useState(""),[g,b]=d.useState(null),w=d.useRef(e);d.useEffect(()=>{w.current=e},[e]),d.useEffect(()=>{var B;if(!i)return;const L=(B=i.vault.getMarkdownFiles())==null?void 0:B[0];L&&b(L)},[i]),d.useEffect(()=>{if(!s)return;const L=BC(i,e.leaf,t);(s==null?void 0:s.editor).replaceSelection(L),R()},[s,e,t]),d.useEffect(()=>{if(!(!n||!o)&&!u)return E(n,t),()=>{f(!1),C()}},[o,n]);const k=()=>{s&&s.toggleSource()},x=(L,B,G)=>{L&&(G&&G!=="normal"?Yg(B,i,L.leaf,G):Yg(B,i,L.leaf),m(B))},E=(L,B)=>{if(o&&e){e.register(tn(o.constructor.prototype,{onUpdate:Q=>function(...re){var se,ne,J;const Y=Q.call(this,re);if(re[1]===!0&&(((se=this.owner)==null?void 0:se.view)instanceof Ji||((ne=this.owner)==null?void 0:ne.view)instanceof CacheAreaTemplateView)){const de=this.get();x((J=this.owner)==null?void 0:J.view,de,this.contentType)}return Y},getMode:()=>function(){return"source"}})),e.register(tn(ge.Workspace.prototype,{setActiveLeaf:Q=>function(re,Y){Q.call(this,re,Y),re.view instanceof Ji&&G&&(this.activeEditor=G)},getActiveFile:Q=>function(){var Y;const re=Q.call(this);return((Y=this.activeLeaf)==null?void 0:Y.view)instanceof Ji&&g||re}}));const G=new o.constructor(e.app,L,e.leaf);G.owner.editor=G.editor,G.set("",!0),G.contentType=B||"normal",G.owner.onMarkdownScroll=()=>{},G.toggleMode=()=>{},i.workspace.trigger("cache-area-editor-created",L,G.editor),f(!0),c(G)}},C=()=>{s&&(s.destroy(),c(null))},T=()=>{s&&(s.clear(),m(""))},D=L=>{if(!s)return;const B=s.get()||"",G=B+L;B&&!B.endsWith(`
`)&&(L=`
`+L),(s==null?void 0:s.editor).replaceSelection(L),m(G)},O=L=>{try{s&&(s.clear(),(s==null?void 0:s.editor).replaceSelection(L),m(L))}catch{}},M=()=>s?s.get():"",R=()=>{s&&(s==null||s.editor.focus())};return{instance:s,value:v,set:O,get:M,append:D,clear:T,toggleSource:k,destroy:C,focus:R}};function $p(e,n,t){return`editorContentCache:${e}:${n}`+(t?`:${t}`:"")}function BC(e,n,t){try{const o=$p(e.appId,n.id,t);return rs.get([o])[o]??""}catch{return""}}function bo(e,n,t){try{const o=$p(e.appId,n.id,t);rs.remove([o])}catch{}}function WC(e,n,t,o){try{const i=$p(n.appId,t.id,o);rs.set({[i]:e})}catch{}}function _b(e){var n,t,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=_b(e[n]))&&(o&&(o+=" "),o+=t)}else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function VC(){for(var e,n,t=0,o="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=_b(e))&&(o&&(o+=" "),o+=n);return o}function $C(){for(var e=0,n,t,o="";e<arguments.length;)(n=arguments[e++])&&(t=Lb(n))&&(o&&(o+=" "),o+=t);return o}function Lb(e){if(typeof e=="string")return e;for(var n,t="",o=0;o<e.length;o++)e[o]&&(n=Lb(e[o]))&&(t&&(t+=" "),t+=n);return t}var Up="-";function UC(e){var n=GC(e),t=e.conflictingClassGroups,o=e.conflictingClassGroupModifiers,i=o===void 0?{}:o;function s(u){var f=u.split(Up);return f[0]===""&&f.length!==1&&f.shift(),zb(f,n)||qC(u)}function c(u,f){var v=t[u]||[];return f&&i[u]?[].concat(v,i[u]):v}return{getClassGroupId:s,getConflictingClassGroupIds:c}}function zb(e,n){var c;if(e.length===0)return n.classGroupId;var t=e[0],o=n.nextPart.get(t),i=o?zb(e.slice(1),o):void 0;if(i)return i;if(n.validators.length!==0){var s=e.join(Up);return(c=n.validators.find(function(u){var f=u.validator;return f(s)}))==null?void 0:c.classGroupId}}var Kg=/^\[(.+)\]$/;function qC(e){if(Kg.test(e)){var n=Kg.exec(e)[1],t=n==null?void 0:n.substring(0,n.indexOf(":"));if(t)return"arbitrary.."+t}}function GC(e){var n=e.theme,t=e.prefix,o={nextPart:new Map,validators:[]},i=KC(Object.entries(e.classGroups),t);return i.forEach(function(s){var c=s[0],u=s[1];rp(u,o,c,n)}),o}function rp(e,n,t,o){e.forEach(function(i){if(typeof i=="string"){var s=i===""?n:Xg(n,i);s.classGroupId=t;return}if(typeof i=="function"){if(YC(i)){rp(i(o),n,t,o);return}n.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(function(c){var u=c[0],f=c[1];rp(f,Xg(n,u),t,o)})})}function Xg(e,n){var t=e;return n.split(Up).forEach(function(o){t.nextPart.has(o)||t.nextPart.set(o,{nextPart:new Map,validators:[]}),t=t.nextPart.get(o)}),t}function YC(e){return e.isThemeGetter}function KC(e,n){return n?e.map(function(t){var o=t[0],i=t[1],s=i.map(function(c){return typeof c=="string"?n+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(function(u){var f=u[0],v=u[1];return[n+f,v]})):c});return[o,s]}):e}function XC(e){if(e<1)return{get:function(){},set:function(){}};var n=0,t=new Map,o=new Map;function i(s,c){t.set(s,c),n++,n>e&&(n=0,o=t,t=new Map)}return{get:function(c){var u=t.get(c);if(u!==void 0)return u;if((u=o.get(c))!==void 0)return i(c,u),u},set:function(c,u){t.has(c)?t.set(c,u):i(c,u)}}}var Ib="!";function QC(e){var n=e.separator||":",t=n.length===1,o=n[0],i=n.length;return function(c){for(var u=[],f=0,v=0,m,g=0;g<c.length;g++){var b=c[g];if(f===0){if(b===o&&(t||c.slice(g,g+i)===n)){u.push(c.slice(v,g)),v=g+i;continue}if(b==="/"){m=g;continue}}b==="["?f++:b==="]"&&f--}var w=u.length===0?c:c.substring(v),k=w.startsWith(Ib),x=k?w.substring(1):w,E=m&&m>v?m-v:void 0;return{modifiers:u,hasImportantModifier:k,baseClassName:x,maybePostfixModifierPosition:E}}}function ZC(e){if(e.length<=1)return e;var n=[],t=[];return e.forEach(function(o){var i=o[0]==="[";i?(n.push.apply(n,t.sort().concat([o])),t=[]):t.push(o)}),n.push.apply(n,t.sort()),n}function JC(e){return{cache:XC(e.cacheSize),splitModifiers:QC(e),...UC(e)}}var eS=/\s+/;function tS(e,n){var t=n.splitModifiers,o=n.getClassGroupId,i=n.getConflictingClassGroupIds,s=new Set;return e.trim().split(eS).map(function(c){var u=t(c),f=u.modifiers,v=u.hasImportantModifier,m=u.baseClassName,g=u.maybePostfixModifierPosition,b=o(g?m.substring(0,g):m),w=!!g;if(!b){if(!g)return{isTailwindClass:!1,originalClassName:c};if(b=o(m),!b)return{isTailwindClass:!1,originalClassName:c};w=!1}var k=ZC(f).join(":"),x=v?k+Ib:k;return{isTailwindClass:!0,modifierId:x,classGroupId:b,originalClassName:c,hasPostfixModifier:w}}).reverse().filter(function(c){if(!c.isTailwindClass)return!0;var u=c.modifierId,f=c.classGroupId,v=c.hasPostfixModifier,m=u+f;return s.has(m)?!1:(s.add(m),i(f,v).forEach(function(g){return s.add(u+g)}),!0)}).reverse().map(function(c){return c.originalClassName}).join(" ")}function nS(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o,i,s,c=u;function u(v){var m=n[0],g=n.slice(1),b=g.reduce(function(w,k){return k(w)},m());return o=JC(b),i=o.cache.get,s=o.cache.set,c=f,f(v)}function f(v){var m=i(v);if(m)return m;var g=tS(v,o);return s(v,g),g}return function(){return c($C.apply(null,arguments))}}function rt(e){var n=function(o){return o[e]||[]};return n.isThemeGetter=!0,n}var Ab=/^\[(?:([a-z-]+):)?(.+)\]$/i,rS=/^\d+\/\d+$/,oS=new Set(["px","full","screen"]),aS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sS=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Ln(e){return vo(e)||oS.has(e)||rS.test(e)||op(e)}function op(e){return To(e,"length",pS)}function lS(e){return To(e,"size",Fb)}function cS(e){return To(e,"position",Fb)}function uS(e){return To(e,"url",vS)}function nc(e){return To(e,"number",vo)}function vo(e){return!Number.isNaN(Number(e))}function dS(e){return e.endsWith("%")&&vo(e.slice(0,-1))}function Li(e){return Qg(e)||To(e,"number",Qg)}function Ue(e){return Ab.test(e)}function zi(){return!0}function Hr(e){return aS.test(e)}function fS(e){return To(e,"",hS)}function To(e,n,t){var o=Ab.exec(e);return o?o[1]?o[1]===n:t(o[2]):!1}function pS(e){return iS.test(e)}function Fb(){return!1}function vS(e){return e.startsWith("url(")}function Qg(e){return Number.isInteger(Number(e))}function hS(e){return sS.test(e)}function mS(){var e=rt("colors"),n=rt("spacing"),t=rt("blur"),o=rt("brightness"),i=rt("borderColor"),s=rt("borderRadius"),c=rt("borderSpacing"),u=rt("borderWidth"),f=rt("contrast"),v=rt("grayscale"),m=rt("hueRotate"),g=rt("invert"),b=rt("gap"),w=rt("gradientColorStops"),k=rt("gradientColorStopPositions"),x=rt("inset"),E=rt("margin"),C=rt("opacity"),T=rt("padding"),D=rt("saturate"),O=rt("scale"),M=rt("sepia"),R=rt("skew"),L=rt("space"),B=rt("translate"),G=function(){return["auto","contain","none"]},Q=function(){return["auto","hidden","clip","visible","scroll"]},re=function(){return["auto",Ue,n]},Y=function(){return[Ue,n]},se=function(){return["",Ln]},ne=function(){return["auto",vo,Ue]},J=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},de=function(){return["solid","dashed","dotted","double","none"]},le=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},H=function(){return["start","end","center","between","around","evenly","stretch"]},I=function(){return["","0",Ue]},P=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},z=function(){return[vo,nc]},j=function(){return[vo,Ue]};return{cacheSize:500,theme:{colors:[zi],spacing:[Ln],blur:["none","",Hr,Ue],brightness:z(),borderColor:[e],borderRadius:["none","","full",Hr,Ue],borderSpacing:Y(),borderWidth:se(),contrast:z(),grayscale:I(),hueRotate:j(),invert:I(),gap:Y(),gradientColorStops:[e],gradientColorStopPositions:[dS,op],inset:re(),margin:re(),opacity:z(),padding:Y(),saturate:z(),scale:z(),sepia:I(),skew:j(),space:Y(),translate:Y()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[Hr]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(J(),[Ue])}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Li]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Li]}],"grid-cols":[{"grid-cols":[zi]}],"col-start-end":[{col:["auto",{span:["full",Li]},Ue]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[zi]}],"row-start-end":[{row:["auto",{span:[Li]},Ue]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal"].concat(H())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(H(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(H(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ue,n]}],"min-w":[{"min-w":["min","max","fit",Ue,Ln]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Hr]},Hr,Ue]}],h:[{h:[Ue,n,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ue,Ln]}],"max-h":[{"max-h":[Ue,n,"min","max","fit"]}],"font-size":[{text:["base",Hr,op]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nc]}],"font-family":[{font:[zi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",vo,nc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ue,Ln]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(de(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Ln]}],"underline-offset":[{"underline-offset":["auto",Ue,Ln]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(J(),[cS])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[].concat(de(),["hidden"])}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:de()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(de())}],"outline-offset":[{"outline-offset":[Ue,Ln]}],"outline-w":[{outline:[Ln]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Ln]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hr,fS]}],"shadow-color":[{shadow:[zi]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":le()}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[o]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Hr,Ue]}],grayscale:[{grayscale:[v]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[g]}],saturate:[{saturate:[D]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[v]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[D]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Li,Ue]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ln,nc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var gS=nS(mS);function yS(e){const n=e.match(/---\n([\s\S]*?)\n---/),t=n?n[1]:"";let o=e;t&&(o=e.slice(n[0].length));const s=o.split(/^# /gm).slice(1).map(c=>{const[u,...f]=c.split(`
`),v=f.join(`
`);return{title:u.trim(),content:v}});return{frontmatter:t,contents:s}}function we(...e){return gS(VC(e))}var jb={exports:{}},Ii={},Zg;function bS(){if(Zg)return Ii;Zg=1;var e=d,n=Symbol.for("react.element"),t=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,v){var m,g={},b=null,w=null;v!==void 0&&(b=""+v),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(w=f.ref);for(m in f)o.call(f,m)&&!s.hasOwnProperty(m)&&(g[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)g[m]===void 0&&(g[m]=f[m]);return{$$typeof:n,type:u,key:b,ref:w,props:g,_owner:i.current}}return Ii.Fragment=t,Ii.jsx=c,Ii.jsxs=c,Ii}jb.exports=bS();var qp=jb.exports;const N=qp.jsx,X=qp.jsxs,ct=qp.Fragment,Ea=d.forwardRef((e,n)=>{const{view:t,onSaveBtnClick:o,type:i}=e,s=d.useRef(null),{instance:c,value:u,set:f,get:v,append:m,clear:g,toggleSource:b,destroy:w}=HC(t,s.current,i);d.useEffect(()=>{c&&focus()},[c]),d.useEffect(()=>{if(!t||!c)return;const x=t.app.workspace.on("cache-area-save-to-file",async E=>{c&&E===t.leaf.id&&k()});t.registerEvent(x)},[t,c]),d.useImperativeHandle(n,()=>({blur:()=>{var x;c&&((x=c.editor)==null||x.blur())},focus:()=>{var x;c&&((x=c.editor)==null||x.focus())},insertText:x=>{c&&m(x)},setContent:x=>{c&&f(x)},getContent:()=>v(),toggleSource:()=>{b()},clear:()=>{g()},destroy:()=>{w()}}),[c]);const k=()=>{o(u||v())};return N("div",{className:we("templify-editor-wrapper","tv-h-full tv-w-full tv-flex tv-flex-col tv-mt-1 tv-pt-0 tv-pr-0"),children:N("div",{className:"tv-h-full tv-p-2 tv-pt-0 tv-pr-0 tv-rounded-sm dark:tv-border-slate-600 mod-cm6",ref:s,onKeyDown:x=>{x.key==="s"&&(x.ctrlKey||x.metaKey)&&(x.preventDefault(),k())}})})});function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ee.apply(this,arguments)}function be(e,n,{checkForDefaultPrevented:t=!0}={}){return function(i){if(e==null||e(i),t===!1||!i.defaultPrevented)return n==null?void 0:n(i)}}function wS(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function Jc(...e){return n=>e.forEach(t=>wS(t,n))}function Qe(...e){return d.useCallback(Jc(...e),e)}function En(e,n=[]){let t=[];function o(s,c){const u=d.createContext(c),f=t.length;t=[...t,c];function v(g){const{scope:b,children:w,...k}=g,x=(b==null?void 0:b[e][f])||u,E=d.useMemo(()=>k,Object.values(k));return d.createElement(x.Provider,{value:E},w)}function m(g,b){const w=(b==null?void 0:b[e][f])||u,k=d.useContext(w);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${s}\``)}return v.displayName=s+"Provider",[v,m]}const i=()=>{const s=t.map(c=>d.createContext(c));return function(u){const f=(u==null?void 0:u[e])||s;return d.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return i.scopeName=e,[o,xS(i,...n)]}function xS(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const o=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const c=o.reduce((u,{useScope:f,scopeName:v})=>{const g=f(s)[`__scope${v}`];return{...u,...g}},{});return d.useMemo(()=>({[`__scope${n.scopeName}`]:c}),[c])}};return t.scopeName=n.scopeName,t}const Kt=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},kS=Zc["useId".toString()]||(()=>{});let ES=0;function gn(e){const[n,t]=d.useState(kS());return Kt(()=>{e||t(o=>o??String(ES++))},[e]),e||(n?`radix-${n}`:"")}function bn(e){const n=d.useRef(e);return d.useEffect(()=>{n.current=e}),d.useMemo(()=>(...t)=>{var o;return(o=n.current)===null||o===void 0?void 0:o.call(n,...t)},[])}function vr({prop:e,defaultProp:n,onChange:t=()=>{}}){const[o,i]=CS({defaultProp:n,onChange:t}),s=e!==void 0,c=s?e:o,u=bn(t),f=d.useCallback(v=>{if(s){const g=typeof v=="function"?v(e):v;g!==e&&u(g)}else i(v)},[s,e,i,u]);return[c,f]}function CS({defaultProp:e,onChange:n}){const t=d.useState(e),[o]=t,i=d.useRef(o),s=bn(n);return d.useEffect(()=>{i.current!==o&&(s(o),i.current=o)},[o,i,s]),t}const hr=d.forwardRef((e,n)=>{const{children:t,...o}=e,i=d.Children.toArray(t),s=i.find(SS);if(s){const c=s.props.children,u=i.map(f=>f===s?d.Children.count(c)>1?d.Children.only(null):d.isValidElement(c)?c.props.children:null:f);return d.createElement(ap,ee({},o,{ref:n}),d.isValidElement(c)?d.cloneElement(c,void 0,u):null)}return d.createElement(ap,ee({},o,{ref:n}),t)});hr.displayName="Slot";const ap=d.forwardRef((e,n)=>{const{children:t,...o}=e;return d.isValidElement(t)?d.cloneElement(t,{...NS(o,t.props),ref:n?Jc(n,t.ref):t.ref}):d.Children.count(t)>1?d.Children.only(null):null});ap.displayName="SlotClone";const Hb=({children:e})=>d.createElement(d.Fragment,null,e);function SS(e){return d.isValidElement(e)&&e.type===Hb}function NS(e,n){const t={...n};for(const o in n){const i=e[o],s=n[o];/^on[A-Z]/.test(o)?i&&s?t[o]=(...u)=>{s(...u),i(...u)}:i&&(t[o]=i):o==="style"?t[o]={...i,...s}:o==="className"&&(t[o]=[i,s].filter(Boolean).join(" "))}return{...e,...t}}const PS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Be=PS.reduce((e,n)=>{const t=d.forwardRef((o,i)=>{const{asChild:s,...c}=o,u=s?hr:n;return d.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),d.createElement(u,ee({},c,{ref:i}))});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function Bb(e,n){e&&Hn.flushSync(()=>e.dispatchEvent(n))}function TS(e,n=globalThis==null?void 0:globalThis.document){const t=bn(e);d.useEffect(()=>{const o=i=>{i.key==="Escape"&&t(i)};return n.addEventListener("keydown",o),()=>n.removeEventListener("keydown",o)},[t,n])}const ip="dismissableLayer.update",DS="dismissableLayer.pointerDownOutside",OS="dismissableLayer.focusOutside";let Jg;const MS=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fa=d.forwardRef((e,n)=>{var t;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...v}=e,m=d.useContext(MS),[g,b]=d.useState(null),w=(t=g==null?void 0:g.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,k]=d.useState({}),x=Qe(n,B=>b(B)),E=Array.from(m.layers),[C]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),T=E.indexOf(C),D=g?E.indexOf(g):-1,O=m.layersWithOutsidePointerEventsDisabled.size>0,M=D>=T,R=RS(B=>{const G=B.target,Q=[...m.branches].some(re=>re.contains(G));!M||Q||(s==null||s(B),u==null||u(B),B.defaultPrevented||f==null||f())},w),L=_S(B=>{const G=B.target;[...m.branches].some(re=>re.contains(G))||(c==null||c(B),u==null||u(B),B.defaultPrevented||f==null||f())},w);return TS(B=>{D===m.layers.size-1&&(i==null||i(B),!B.defaultPrevented&&f&&(B.preventDefault(),f()))},w),d.useEffect(()=>{if(g)return o&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Jg=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),ey(),()=>{o&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Jg)}},[g,w,o,m]),d.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),ey())},[g,m]),d.useEffect(()=>{const B=()=>k({});return document.addEventListener(ip,B),()=>document.removeEventListener(ip,B)},[]),d.createElement(Be.div,ee({},v,{ref:x,style:{pointerEvents:O?M?"auto":"none":void 0,...e.style},onFocusCapture:be(e.onFocusCapture,L.onFocusCapture),onBlurCapture:be(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:be(e.onPointerDownCapture,R.onPointerDownCapture)}))});function RS(e,n=globalThis==null?void 0:globalThis.document){const t=bn(e),o=d.useRef(!1),i=d.useRef(()=>{});return d.useEffect(()=>{const s=u=>{if(u.target&&!o.current){let v=function(){Wb(DS,t,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(n.removeEventListener("click",i.current),i.current=v,n.addEventListener("click",i.current,{once:!0})):v()}else n.removeEventListener("click",i.current);o.current=!1},c=window.setTimeout(()=>{n.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(c),n.removeEventListener("pointerdown",s),n.removeEventListener("click",i.current)}},[n,t]),{onPointerDownCapture:()=>o.current=!0}}function _S(e,n=globalThis==null?void 0:globalThis.document){const t=bn(e),o=d.useRef(!1);return d.useEffect(()=>{const i=s=>{s.target&&!o.current&&Wb(OS,t,{originalEvent:s},{discrete:!1})};return n.addEventListener("focusin",i),()=>n.removeEventListener("focusin",i)},[n,t]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function ey(){const e=new CustomEvent(ip);document.dispatchEvent(e)}function Wb(e,n,t,{discrete:o}){const i=t.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&i.addEventListener(e,n,{once:!0}),o?Bb(i,s):i.dispatchEvent(s)}const Df="focusScope.autoFocusOnMount",Of="focusScope.autoFocusOnUnmount",ty={bubbles:!1,cancelable:!0},eu=d.forwardRef((e,n)=>{const{loop:t=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...c}=e,[u,f]=d.useState(null),v=bn(i),m=bn(s),g=d.useRef(null),b=Qe(n,x=>f(x)),w=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(o){let x=function(D){if(w.paused||!u)return;const O=D.target;u.contains(O)?g.current=O:Vr(g.current,{select:!0})},E=function(D){if(w.paused||!u)return;const O=D.relatedTarget;O!==null&&(u.contains(O)||Vr(g.current,{select:!0}))},C=function(D){if(document.activeElement===document.body)for(const M of D)M.removedNodes.length>0&&Vr(u)};document.addEventListener("focusin",x),document.addEventListener("focusout",E);const T=new MutationObserver(C);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",E),T.disconnect()}}},[o,u,w.paused]),d.useEffect(()=>{if(u){ry.add(w);const x=document.activeElement;if(!u.contains(x)){const C=new CustomEvent(Df,ty);u.addEventListener(Df,v),u.dispatchEvent(C),C.defaultPrevented||(LS(jS(Vb(u)),{select:!0}),document.activeElement===x&&Vr(u))}return()=>{u.removeEventListener(Df,v),setTimeout(()=>{const C=new CustomEvent(Of,ty);u.addEventListener(Of,m),u.dispatchEvent(C),C.defaultPrevented||Vr(x??document.body,{select:!0}),u.removeEventListener(Of,m),ry.remove(w)},0)}}},[u,v,m,w]);const k=d.useCallback(x=>{if(!t&&!o||w.paused)return;const E=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,C=document.activeElement;if(E&&C){const T=x.currentTarget,[D,O]=zS(T);D&&O?!x.shiftKey&&C===O?(x.preventDefault(),t&&Vr(D,{select:!0})):x.shiftKey&&C===D&&(x.preventDefault(),t&&Vr(O,{select:!0})):C===T&&x.preventDefault()}},[t,o,w.paused]);return d.createElement(Be.div,ee({tabIndex:-1},c,{ref:b,onKeyDown:k}))});function LS(e,{select:n=!1}={}){const t=document.activeElement;for(const o of e)if(Vr(o,{select:n}),document.activeElement!==t)return}function zS(e){const n=Vb(e),t=ny(n,e),o=ny(n.reverse(),e);return[t,o]}function Vb(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function ny(e,n){for(const t of e)if(!IS(t,{upTo:n}))return t}function IS(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function AS(e){return e instanceof HTMLInputElement&&"select"in e}function Vr(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&AS(e)&&n&&e.select()}}const ry=FS();function FS(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=oy(e,n),e.unshift(n)},remove(n){var t;e=oy(e,n),(t=e[0])===null||t===void 0||t.resume()}}}function oy(e,n){const t=[...e],o=t.indexOf(n);return o!==-1&&t.splice(o,1),t}function jS(e){return e.filter(n=>n.tagName!=="A")}const tu=d.forwardRef((e,n)=>{var t;const{container:o=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=e;return o?Mb.createPortal(d.createElement(Be.div,ee({},i,{ref:n})),o):null});function HS(e,n){return d.useReducer((t,o)=>{const i=n[t][o];return i??t},e)}const cn=e=>{const{present:n,children:t}=e,o=BS(n),i=typeof t=="function"?t({present:o.isPresent}):d.Children.only(t),s=Qe(o.ref,i.ref);return typeof t=="function"||o.isPresent?d.cloneElement(i,{ref:s}):null};cn.displayName="Presence";function BS(e){const[n,t]=d.useState(),o=d.useRef({}),i=d.useRef(e),s=d.useRef("none"),c=e?"mounted":"unmounted",[u,f]=HS(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const v=rc(o.current);s.current=u==="mounted"?v:"none"},[u]),Kt(()=>{const v=o.current,m=i.current;if(m!==e){const b=s.current,w=rc(v);e?f("MOUNT"):w==="none"||(v==null?void 0:v.display)==="none"?f("UNMOUNT"):f(m&&b!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),Kt(()=>{if(n){const v=g=>{const w=rc(o.current).includes(g.animationName);g.target===n&&w&&Hn.flushSync(()=>f("ANIMATION_END"))},m=g=>{g.target===n&&(s.current=rc(o.current))};return n.addEventListener("animationstart",m),n.addEventListener("animationcancel",v),n.addEventListener("animationend",v),()=>{n.removeEventListener("animationstart",m),n.removeEventListener("animationcancel",v),n.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[n,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:d.useCallback(v=>{v&&(o.current=getComputedStyle(v)),t(v)},[])}}function rc(e){return(e==null?void 0:e.animationName)||"none"}let Mf=0;function nu(){d.useEffect(()=>{var e,n;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!==null&&e!==void 0?e:ay()),document.body.insertAdjacentElement("beforeend",(n=t[1])!==null&&n!==void 0?n:ay()),Mf++,()=>{Mf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),Mf--}},[])}function ay(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var _t=function(){return _t=Object.assign||function(n){for(var t,o=1,i=arguments.length;o<i;o++){t=arguments[o];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},_t.apply(this,arguments)};function Gp(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(t[o[i]]=e[o[i]]);return t}function $b(e,n,t){if(t||arguments.length===2)for(var o=0,i=n.length,s;o<i;o++)(s||!(o in n))&&(s||(s=Array.prototype.slice.call(n,0,o)),s[o]=n[o]);return e.concat(s||Array.prototype.slice.call(n))}var Qi="right-scroll-bar-position",Zi="width-before-scroll-bar",WS="with-scroll-bars-hidden",VS="--removed-body-scroll-bar-size";function Rf(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function $S(e,n){var t=d.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(o){var i=t.value;i!==o&&(t.value=o,t.callback(o,i))}}}})[0];return t.callback=n,t.facade}var iy=new WeakMap;function Ub(e,n){var t=$S(n||null,function(o){return e.forEach(function(i){return Rf(i,o)})});return d.useLayoutEffect(function(){var o=iy.get(t);if(o){var i=new Set(o),s=new Set(e),c=t.current;i.forEach(function(u){s.has(u)||Rf(u,null)}),s.forEach(function(u){i.has(u)||Rf(u,c)})}iy.set(t,e)},[e]),t}function US(e){return e}function qS(e,n){n===void 0&&(n=US);var t=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(s){var c=n(s,o);return t.push(c),function(){t=t.filter(function(u){return u!==c})}},assignSyncMedium:function(s){for(o=!0;t.length;){var c=t;t=[],c.forEach(s)}t={push:function(u){return s(u)},filter:function(){return t}}},assignMedium:function(s){o=!0;var c=[];if(t.length){var u=t;t=[],u.forEach(s),c=t}var f=function(){var m=c;c=[],m.forEach(s)},v=function(){return Promise.resolve().then(f)};v(),t={push:function(m){c.push(m),v()},filter:function(m){return c=c.filter(m),t}}}};return i}function qb(e){e===void 0&&(e={});var n=qS(null);return n.options=_t({async:!0,ssr:!1},e),n}var Gb=function(e){var n=e.sideCar,t=Gp(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=n.read();if(!o)throw new Error("Sidecar medium not found");return d.createElement(o,_t({},t))};Gb.isSideCarExport=!0;function Yb(e,n){return e.useMedium(n),Gb}var Kb=qb(),_f=function(){},ru=d.forwardRef(function(e,n){var t=d.useRef(null),o=d.useState({onScrollCapture:_f,onWheelCapture:_f,onTouchMoveCapture:_f}),i=o[0],s=o[1],c=e.forwardProps,u=e.children,f=e.className,v=e.removeScrollBar,m=e.enabled,g=e.shards,b=e.sideCar,w=e.noIsolation,k=e.inert,x=e.allowPinchZoom,E=e.as,C=E===void 0?"div":E,T=Gp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),D=b,O=Ub([t,n]),M=_t(_t({},T),i);return d.createElement(d.Fragment,null,m&&d.createElement(D,{sideCar:Kb,removeScrollBar:v,shards:g,noIsolation:w,inert:k,setCallbacks:s,allowPinchZoom:!!x,lockRef:t}),c?d.cloneElement(d.Children.only(u),_t(_t({},M),{ref:O})):d.createElement(C,_t({},M,{className:f,ref:O}),u))});ru.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ru.classNames={fullWidth:Zi,zeroRight:Qi};var sy,GS=function(){if(sy)return sy;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YS(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=GS();return n&&e.setAttribute("nonce",n),e}function KS(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function XS(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var QS=function(){var e=0,n=null;return{add:function(t){e==0&&(n=YS())&&(KS(n,t),XS(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},ZS=function(){var e=QS();return function(n,t){d.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},Yp=function(){var e=ZS(),n=function(t){var o=t.styles,i=t.dynamic;return e(o,i),null};return n},JS={left:0,top:0,right:0,gap:0},Lf=function(e){return parseInt(e||"",10)||0},e2=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],o=n[e==="padding"?"paddingTop":"marginTop"],i=n[e==="padding"?"paddingRight":"marginRight"];return[Lf(t),Lf(o),Lf(i)]},t2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return JS;var n=e2(e),t=document.documentElement.clientWidth,o=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,o-t+n[2]-n[0])}},n2=Yp(),Rc="data-scroll-locked",r2=function(e,n,t,o){var i=e.left,s=e.top,c=e.right,u=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(WS,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(u,"px ").concat(o,`;
  }
  body[`).concat(Rc,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(o,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(o,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qi,` {
    right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat(Zi,` {
    margin-right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat(Qi," .").concat(Qi,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Zi," .").concat(Zi,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Rc,`] {
    `).concat(VS,": ").concat(u,`px;
  }
`)},Xb=function(e){var n=e.noRelative,t=e.noImportant,o=e.gapMode,i=o===void 0?"margin":o,s=d.useMemo(function(){return t2(i)},[i]);return d.useEffect(function(){return document.body.setAttribute(Rc,""),function(){document.body.removeAttribute(Rc)}},[]),d.createElement(n2,{styles:r2(s,!n,i,t?"":"!important")})},sp=!1;if(typeof window<"u")try{var oc=Object.defineProperty({},"passive",{get:function(){return sp=!0,!0}});window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{sp=!1}var ca=sp?{passive:!1}:!1,o2=function(e){return e.tagName==="TEXTAREA"},Qb=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!o2(e)&&t[n]==="visible")},a2=function(e){return Qb(e,"overflowY")},i2=function(e){return Qb(e,"overflowX")},ly=function(e,n){var t=n;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var o=Zb(e,t);if(o){var i=Jb(e,t),s=i[1],c=i[2];if(s>c)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},s2=function(e){var n=e.scrollTop,t=e.scrollHeight,o=e.clientHeight;return[n,t,o]},l2=function(e){var n=e.scrollLeft,t=e.scrollWidth,o=e.clientWidth;return[n,t,o]},Zb=function(e,n){return e==="v"?a2(n):i2(n)},Jb=function(e,n){return e==="v"?s2(n):l2(n)},c2=function(e,n){return e==="h"&&n==="rtl"?-1:1},u2=function(e,n,t,o,i){var s=c2(e,window.getComputedStyle(n).direction),c=s*o,u=t.target,f=n.contains(u),v=!1,m=c>0,g=0,b=0;do{var w=Jb(e,u),k=w[0],x=w[1],E=w[2],C=x-E-s*k;(k||C)&&Zb(e,u)&&(g+=C,b+=k),u=u.parentNode}while(!f&&u!==document.body||f&&(n.contains(u)||n===u));return(m&&(i&&g===0||!i&&c>g)||!m&&(i&&b===0||!i&&-c>b))&&(v=!0),v},ac=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cy=function(e){return[e.deltaX,e.deltaY]},uy=function(e){return e&&"current"in e?e.current:e},d2=function(e,n){return e[0]===n[0]&&e[1]===n[1]},f2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},p2=0,ua=[];function v2(e){var n=d.useRef([]),t=d.useRef([0,0]),o=d.useRef(),i=d.useState(p2++)[0],s=d.useState(function(){return Yp()})[0],c=d.useRef(e);d.useEffect(function(){c.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=$b([e.lockRef.current],(e.shards||[]).map(uy),!0).filter(Boolean);return x.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=d.useCallback(function(x,E){if("touches"in x&&x.touches.length===2)return!c.current.allowPinchZoom;var C=ac(x),T=t.current,D="deltaX"in x?x.deltaX:T[0]-C[0],O="deltaY"in x?x.deltaY:T[1]-C[1],M,R=x.target,L=Math.abs(D)>Math.abs(O)?"h":"v";if("touches"in x&&L==="h"&&R.type==="range")return!1;var B=ly(L,R);if(!B)return!0;if(B?M=L:(M=L==="v"?"h":"v",B=ly(L,R)),!B)return!1;if(!o.current&&"changedTouches"in x&&(D||O)&&(o.current=M),!M)return!0;var G=o.current||M;return u2(G,E,x,G==="h"?D:O,!0)},[]),f=d.useCallback(function(x){var E=x;if(!(!ua.length||ua[ua.length-1]!==s)){var C="deltaY"in E?cy(E):ac(E),T=n.current.filter(function(M){return M.name===E.type&&M.target===E.target&&d2(M.delta,C)})[0];if(T&&T.should){E.cancelable&&E.preventDefault();return}if(!T){var D=(c.current.shards||[]).map(uy).filter(Boolean).filter(function(M){return M.contains(E.target)}),O=D.length>0?u(E,D[0]):!c.current.noIsolation;O&&E.cancelable&&E.preventDefault()}}},[]),v=d.useCallback(function(x,E,C,T){var D={name:x,delta:E,target:C,should:T};n.current.push(D),setTimeout(function(){n.current=n.current.filter(function(O){return O!==D})},1)},[]),m=d.useCallback(function(x){t.current=ac(x),o.current=void 0},[]),g=d.useCallback(function(x){v(x.type,cy(x),x.target,u(x,e.lockRef.current))},[]),b=d.useCallback(function(x){v(x.type,ac(x),x.target,u(x,e.lockRef.current))},[]);d.useEffect(function(){return ua.push(s),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",f,ca),document.addEventListener("touchmove",f,ca),document.addEventListener("touchstart",m,ca),function(){ua=ua.filter(function(x){return x!==s}),document.removeEventListener("wheel",f,ca),document.removeEventListener("touchmove",f,ca),document.removeEventListener("touchstart",m,ca)}},[]);var w=e.removeScrollBar,k=e.inert;return d.createElement(d.Fragment,null,k?d.createElement(s,{styles:f2(i)}):null,w?d.createElement(Xb,{gapMode:"margin"}):null)}const h2=Yb(Kb,v2);var e0=d.forwardRef(function(e,n){return d.createElement(ru,_t({},e,{ref:n,sideCar:h2}))});e0.classNames=ru.classNames;const ou=e0;var m2=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},da=new WeakMap,ic=new WeakMap,sc={},zf=0,t0=function(e){return e&&(e.host||t0(e.parentNode))},g2=function(e,n){return n.map(function(t){if(e.contains(t))return t;var o=t0(t);return o&&e.contains(o)?o:null}).filter(function(t){return!!t})},y2=function(e,n,t,o){var i=g2(n,Array.isArray(e)?e:[e]);sc[t]||(sc[t]=new WeakMap);var s=sc[t],c=[],u=new Set,f=new Set(i),v=function(g){!g||u.has(g)||(u.add(g),v(g.parentNode))};i.forEach(v);var m=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(b){if(u.has(b))m(b);else{var w=b.getAttribute(o),k=w!==null&&w!=="false",x=(da.get(b)||0)+1,E=(s.get(b)||0)+1;da.set(b,x),s.set(b,E),c.push(b),x===1&&k&&ic.set(b,!0),E===1&&b.setAttribute(t,"true"),k||b.setAttribute(o,"true")}})};return m(n),u.clear(),zf++,function(){c.forEach(function(g){var b=da.get(g)-1,w=s.get(g)-1;da.set(g,b),s.set(g,w),b||(ic.has(g)||g.removeAttribute(o),ic.delete(g)),w||g.removeAttribute(t)}),zf--,zf||(da=new WeakMap,da=new WeakMap,ic=new WeakMap,sc={})}},Cs=function(e,n,t){t===void 0&&(t="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),i=n||m2(e);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live]"))),y2(o,i,t,"aria-hidden")):function(){return null}};const n0="Dialog",[r0,A8]=En(n0),[b2,Qn]=r0(n0),w2=e=>{const{__scopeDialog:n,children:t,open:o,defaultOpen:i,onOpenChange:s,modal:c=!0}=e,u=d.useRef(null),f=d.useRef(null),[v=!1,m]=vr({prop:o,defaultProp:i,onChange:s});return d.createElement(b2,{scope:n,triggerRef:u,contentRef:f,contentId:gn(),titleId:gn(),descriptionId:gn(),open:v,onOpenChange:m,onOpenToggle:d.useCallback(()=>m(g=>!g),[m]),modal:c},t)},o0="DialogPortal",[x2,a0]=r0(o0,{forceMount:void 0}),k2=e=>{const{__scopeDialog:n,forceMount:t,children:o,container:i}=e,s=Qn(o0,n);return d.createElement(x2,{scope:n,forceMount:t},d.Children.map(o,c=>d.createElement(cn,{present:t||s.open},d.createElement(tu,{asChild:!0,container:i},c))))},lp="DialogOverlay",E2=d.forwardRef((e,n)=>{const t=a0(lp,e.__scopeDialog),{forceMount:o=t.forceMount,...i}=e,s=Qn(lp,e.__scopeDialog);return s.modal?d.createElement(cn,{present:o||s.open},d.createElement(C2,ee({},i,{ref:n}))):null}),C2=d.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,i=Qn(lp,t);return d.createElement(ou,{as:hr,allowPinchZoom:!0,shards:[i.contentRef]},d.createElement(Be.div,ee({"data-state":s0(i.open)},o,{ref:n,style:{pointerEvents:"auto",...o.style}})))}),os="DialogContent",S2=d.forwardRef((e,n)=>{const t=a0(os,e.__scopeDialog),{forceMount:o=t.forceMount,...i}=e,s=Qn(os,e.__scopeDialog);return d.createElement(cn,{present:o||s.open},s.modal?d.createElement(N2,ee({},i,{ref:n})):d.createElement(P2,ee({},i,{ref:n})))}),N2=d.forwardRef((e,n)=>{const t=Qn(os,e.__scopeDialog),o=d.useRef(null),i=Qe(n,t.contentRef,o);return d.useEffect(()=>{const s=o.current;if(s)return Cs(s)},[]),d.createElement(i0,ee({},e,{ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,s=>{var c;s.preventDefault(),(c=t.triggerRef.current)===null||c===void 0||c.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&s.preventDefault()}),onFocusOutside:be(e.onFocusOutside,s=>s.preventDefault())}))}),P2=d.forwardRef((e,n)=>{const t=Qn(os,e.__scopeDialog),o=d.useRef(!1),i=d.useRef(!1);return d.createElement(i0,ee({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c;if((c=e.onCloseAutoFocus)===null||c===void 0||c.call(e,s),!s.defaultPrevented){var u;o.current||(u=t.triggerRef.current)===null||u===void 0||u.focus(),s.preventDefault()}o.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)===null||c===void 0||c.call(e,s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const f=s.target;((u=t.triggerRef.current)===null||u===void 0?void 0:u.contains(f))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}}))}),i0=d.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,...c}=e,u=Qn(os,t),f=d.useRef(null),v=Qe(n,f);return nu(),d.createElement(d.Fragment,null,d.createElement(eu,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:s},d.createElement(Fa,ee({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":s0(u.open)},c,{ref:v,onDismiss:()=>u.onOpenChange(!1)}))),!1)}),T2="DialogTitle",D2=d.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,i=Qn(T2,t);return d.createElement(Be.h2,ee({id:i.titleId},o,{ref:n}))}),O2="DialogDescription",M2=d.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,i=Qn(O2,t);return d.createElement(Be.p,ee({id:i.descriptionId},o,{ref:n}))}),R2="DialogClose",_2=d.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,i=Qn(R2,t);return d.createElement(Be.button,ee({type:"button"},o,{ref:n,onClick:be(e.onClick,()=>i.onOpenChange(!1))}))});function s0(e){return e?"open":"closed"}const L2=w2,z2=k2,l0=E2,c0=S2,u0=D2,d0=M2,I2=_2;function Zn(e,n){if(e==null)return{};var t={},o=Object.keys(e),i,s;for(s=0;s<o.length;s++)i=o[s],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}var A2=["color"],F2=d.forwardRef(function(e,n){var t=e.color,o=t===void 0?"currentColor":t,i=Zn(e,A2);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),d.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),j2=["color"],Kp=d.forwardRef(function(e,n){var t=e.color,o=t===void 0?"currentColor":t,i=Zn(e,j2);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),d.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),H2=["color"],B2=d.forwardRef(function(e,n){var t=e.color,o=t===void 0?"currentColor":t,i=Zn(e,H2);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),d.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),W2=["color"],f0=d.forwardRef(function(e,n){var t=e.color,o=t===void 0?"currentColor":t,i=Zn(e,W2);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),d.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),V2=["color"],$2=d.forwardRef(function(e,n){var t=e.color,o=t===void 0?"currentColor":t,i=Zn(e,V2);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),d.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),U2=["color"],q2=d.forwardRef(function(e,n){var t=e.color,o=t===void 0?"currentColor":t,i=Zn(e,U2);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),d.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),G2=["color"],p0=d.forwardRef(function(e,n){var t=e.color,o=t===void 0?"currentColor":t,i=Zn(e,G2);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),d.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:o}))}),Y2=["color"],K2=d.forwardRef(function(e,n){var t=e.color,o=t===void 0?"currentColor":t,i=Zn(e,Y2);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),d.createElement("path",{d:"M5.5 4.625C6.12132 4.625 6.625 4.12132 6.625 3.5C6.625 2.87868 6.12132 2.375 5.5 2.375C4.87868 2.375 4.375 2.87868 4.375 3.5C4.375 4.12132 4.87868 4.625 5.5 4.625ZM9.5 4.625C10.1213 4.625 10.625 4.12132 10.625 3.5C10.625 2.87868 10.1213 2.375 9.5 2.375C8.87868 2.375 8.375 2.87868 8.375 3.5C8.375 4.12132 8.87868 4.625 9.5 4.625ZM10.625 7.5C10.625 8.12132 10.1213 8.625 9.5 8.625C8.87868 8.625 8.375 8.12132 8.375 7.5C8.375 6.87868 8.87868 6.375 9.5 6.375C10.1213 6.375 10.625 6.87868 10.625 7.5ZM5.5 8.625C6.12132 8.625 6.625 8.12132 6.625 7.5C6.625 6.87868 6.12132 6.375 5.5 6.375C4.87868 6.375 4.375 6.87868 4.375 7.5C4.375 8.12132 4.87868 8.625 5.5 8.625ZM10.625 11.5C10.625 12.1213 10.1213 12.625 9.5 12.625C8.87868 12.625 8.375 12.1213 8.375 11.5C8.375 10.8787 8.87868 10.375 9.5 10.375C10.1213 10.375 10.625 10.8787 10.625 11.5ZM5.5 12.625C6.12132 12.625 6.625 12.1213 6.625 11.5C6.625 10.8787 6.12132 10.375 5.5 10.375C4.87868 10.375 4.375 10.8787 4.375 11.5C4.375 12.1213 4.87868 12.625 5.5 12.625Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),X2=["color"],Q2=d.forwardRef(function(e,n){var t=e.color,o=t===void 0?"currentColor":t,i=Zn(e,X2);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),d.createElement("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Z2=["color"],J2=d.forwardRef(function(e,n){var t=e.color,o=t===void 0?"currentColor":t,i=Zn(e,Z2);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),d.createElement("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))});const ja=L2,eN=z2,v0=d.forwardRef(({className:e,...n},t)=>N(l0,{ref:t,className:we("dialog-background tv-fixed tv-inset-0 tv-z-50 tv-bg-black/80 tv- data-[state=open]:tv-animate-in data-[state=closed]:tv-animate-out data-[state=closed]:tv-fade-out-0 data-[state=open]:tv-fade-in-0",e),...n}));v0.displayName=l0.displayName;const Do=d.forwardRef(({className:e,children:n,...t},o)=>X(eN,{children:[N(v0,{}),X(c0,{ref:o,className:we("tv-fixed tv-left-[40vw] tv-top-[35vh] tv-z-50 tv-grid tv-w-full tv-max-w-lg tv-translate-x-[-50%] tv-translate-y-[-50%] tv-gap-4 tv-border tv-bg-background tv-p-6 tv-shadow-lg tv-duration-200 data-[state=open]:tv-animate-in data-[state=closed]:tv-animate-out data-[state=closed]:tv-fade-out-0 data-[state=open]:tv-fade-in-0 data-[state=closed]:tv-zoom-out-95 data-[state=open]:tv-zoom-in-95 data-[state=closed]:tv-slide-out-to-left-1/2 data-[state=closed]:tv-slide-out-to-top-[48%] data-[state=open]:tv-slide-in-from-left-1/2 data-[state=open]:tv-slide-in-from-top-[48%] sm:tv-rounded-lg",e),...t,children:[n,X(I2,{className:"tv-absolute tv-shadow-none tv-right-4 tv-top-4 tv-rounded-sm tv-opacity-70 tv-ring-offset-background tv-transition-opacity hover:tv-opacity-100 focus:tv-outline-none focus:tv-ring-2 focus:tv-ring-ring focus:tv-ring-offset-2 disabled:tv-pointer-events-none data-[state=open]:tv-bg-accent data-[state=open]:tv-text-muted-foreground",children:[N(q2,{className:"tv-h-4 tv-w-4"}),N("span",{className:"tv-sr-only",children:"Close"})]})]})]}));Do.displayName=c0.displayName;const Ss=({className:e,...n})=>N("div",{className:we("tv-flex tv-flex-col tv-space-y-1.5 tv-text-center sm:tv-text-left",e),...n});Ss.displayName="DialogHeader";const au=({className:e,...n})=>N("div",{className:we("tv-flex tv-flex-col-reverse sm:tv-flex-row sm:tv-justify-end sm:tv-space-x-2",e),...n});au.displayName="DialogFooter";const Ns=d.forwardRef(({className:e,...n},t)=>N(u0,{ref:t,className:we("tv-text-lg tv-font-semibold tv-leading-none tv-tracking-tight",e),...n}));Ns.displayName=u0.displayName;const Ps=d.forwardRef(({className:e,...n},t)=>N(d0,{ref:t,className:we("tv-text-sm tv-text-muted-foreground",e),...n}));Ps.displayName=d0.displayName;async function iu({content:e,path:n,view:t,cb:o}){if(!n)return;const i=Ke.getState().app;try{let s=i.metadataCache.getFirstLinkpathDest(n,"");s?await i.vault.append(s,`
`+e):s=await i.vault.create(n.endsWith(".md")?n:n+".md",e),o==null||o();const c=t.leaf;await c.setViewState({type:"markdown"}),await c.openFile(s)}catch{}}const Ha=d.forwardRef(({className:e,type:n,...t},o)=>N("input",{type:n,className:we("tv-flex tv-h-9 tv-w-full tv-rounded-md tv-border-0 tv-border-solid !tv-border-input tv-bg-transparent tv-px-3 tv-py-1 tv-text-sm tv-shadow-sm tv-transition-colors file:tv-border-0 file:tv-bg-transparent file:tv-text-sm file:tv-font-medium placeholder:tv-text-muted-foreground focus-visible:tv-outline-none focus-visible:tv-ring-1 focus-visible:tv-ring-ring disabled:tv-cursor-not-allowed disabled:tv-opacity-50",e),ref:o,...t}));Ha.displayName="Input";const tN=["top","right","bottom","left"],$r=Math.min,on=Math.max,_c=Math.round,lc=Math.floor,Ur=e=>({x:e,y:e}),nN={left:"right",right:"left",bottom:"top",top:"bottom"},rN={start:"end",end:"start"};function cp(e,n,t){return on(e,$r(n,t))}function mr(e,n){return typeof e=="function"?e(n):e}function gr(e){return e.split("-")[0]}function Ba(e){return e.split("-")[1]}function Xp(e){return e==="x"?"y":"x"}function Qp(e){return e==="y"?"height":"width"}function Wa(e){return["top","bottom"].includes(gr(e))?"y":"x"}function Zp(e){return Xp(Wa(e))}function oN(e,n,t){t===void 0&&(t=!1);const o=Ba(e),i=Zp(e),s=Qp(i);let c=i==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[s]>n.floating[s]&&(c=Lc(c)),[c,Lc(c)]}function aN(e){const n=Lc(e);return[up(e),n,up(n)]}function up(e){return e.replace(/start|end/g,n=>rN[n])}function iN(e,n,t){const o=["left","right"],i=["right","left"],s=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return t?n?i:o:n?o:i;case"left":case"right":return n?s:c;default:return[]}}function sN(e,n,t,o){const i=Ba(e);let s=iN(gr(e),t==="start",o);return i&&(s=s.map(c=>c+"-"+i),n&&(s=s.concat(s.map(up)))),s}function Lc(e){return e.replace(/left|right|bottom|top/g,n=>nN[n])}function lN(e){return{top:0,right:0,bottom:0,left:0,...e}}function h0(e){return typeof e!="number"?lN(e):{top:e,right:e,bottom:e,left:e}}function zc(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function dy(e,n,t){let{reference:o,floating:i}=e;const s=Wa(n),c=Zp(n),u=Qp(c),f=gr(n),v=s==="y",m=o.x+o.width/2-i.width/2,g=o.y+o.height/2-i.height/2,b=o[u]/2-i[u]/2;let w;switch(f){case"top":w={x:m,y:o.y-i.height};break;case"bottom":w={x:m,y:o.y+o.height};break;case"right":w={x:o.x+o.width,y:g};break;case"left":w={x:o.x-i.width,y:g};break;default:w={x:o.x,y:o.y}}switch(Ba(n)){case"start":w[c]-=b*(t&&v?-1:1);break;case"end":w[c]+=b*(t&&v?-1:1);break}return w}const cN=async(e,n,t)=>{const{placement:o="bottom",strategy:i="absolute",middleware:s=[],platform:c}=t,u=s.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(n));let v=await c.getElementRects({reference:e,floating:n,strategy:i}),{x:m,y:g}=dy(v,o,f),b=o,w={},k=0;for(let x=0;x<u.length;x++){const{name:E,fn:C}=u[x],{x:T,y:D,data:O,reset:M}=await C({x:m,y:g,initialPlacement:o,placement:b,strategy:i,middlewareData:w,rects:v,platform:c,elements:{reference:e,floating:n}});m=T??m,g=D??g,w={...w,[E]:{...w[E],...O}},M&&k<=50&&(k++,typeof M=="object"&&(M.placement&&(b=M.placement),M.rects&&(v=M.rects===!0?await c.getElementRects({reference:e,floating:n,strategy:i}):M.rects),{x:m,y:g}=dy(v,b,f)),x=-1)}return{x:m,y:g,placement:b,strategy:i,middlewareData:w}};async function as(e,n){var t;n===void 0&&(n={});const{x:o,y:i,platform:s,rects:c,elements:u,strategy:f}=e,{boundary:v="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:b=!1,padding:w=0}=mr(n,e),k=h0(w),E=u[b?g==="floating"?"reference":"floating":g],C=zc(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(E)))==null||t?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:v,rootBoundary:m,strategy:f})),T=g==="floating"?{...c.floating,x:o,y:i}:c.reference,D=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),O=await(s.isElement==null?void 0:s.isElement(D))?await(s.getScale==null?void 0:s.getScale(D))||{x:1,y:1}:{x:1,y:1},M=zc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:D,strategy:f}):T);return{top:(C.top-M.top+k.top)/O.y,bottom:(M.bottom-C.bottom+k.bottom)/O.y,left:(C.left-M.left+k.left)/O.x,right:(M.right-C.right+k.right)/O.x}}const uN=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:o,placement:i,rects:s,platform:c,elements:u,middlewareData:f}=n,{element:v,padding:m=0}=mr(e,n)||{};if(v==null)return{};const g=h0(m),b={x:t,y:o},w=Zp(i),k=Qp(w),x=await c.getDimensions(v),E=w==="y",C=E?"top":"left",T=E?"bottom":"right",D=E?"clientHeight":"clientWidth",O=s.reference[k]+s.reference[w]-b[w]-s.floating[k],M=b[w]-s.reference[w],R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(v));let L=R?R[D]:0;(!L||!await(c.isElement==null?void 0:c.isElement(R)))&&(L=u.floating[D]||s.floating[k]);const B=O/2-M/2,G=L/2-x[k]/2-1,Q=$r(g[C],G),re=$r(g[T],G),Y=Q,se=L-x[k]-re,ne=L/2-x[k]/2+B,J=cp(Y,ne,se),de=!f.arrow&&Ba(i)!=null&&ne!==J&&s.reference[k]/2-(ne<Y?Q:re)-x[k]/2<0,le=de?ne<Y?ne-Y:ne-se:0;return{[w]:b[w]+le,data:{[w]:J,centerOffset:ne-J-le,...de&&{alignmentOffset:le}},reset:de}}}),dN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,o;const{placement:i,middlewareData:s,rects:c,initialPlacement:u,platform:f,elements:v}=n,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:x=!0,...E}=mr(e,n);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const C=gr(i),T=gr(u)===u,D=await(f.isRTL==null?void 0:f.isRTL(v.floating)),O=b||(T||!x?[Lc(u)]:aN(u));!b&&k!=="none"&&O.push(...sN(u,x,k,D));const M=[u,...O],R=await as(n,E),L=[];let B=((o=s.flip)==null?void 0:o.overflows)||[];if(m&&L.push(R[C]),g){const Y=oN(i,c,D);L.push(R[Y[0]],R[Y[1]])}if(B=[...B,{placement:i,overflows:L}],!L.every(Y=>Y<=0)){var G,Q;const Y=(((G=s.flip)==null?void 0:G.index)||0)+1,se=M[Y];if(se)return{data:{index:Y,overflows:B},reset:{placement:se}};let ne=(Q=B.filter(J=>J.overflows[0]<=0).sort((J,de)=>J.overflows[1]-de.overflows[1])[0])==null?void 0:Q.placement;if(!ne)switch(w){case"bestFit":{var re;const J=(re=B.map(de=>[de.placement,de.overflows.filter(le=>le>0).reduce((le,H)=>le+H,0)]).sort((de,le)=>de[1]-le[1])[0])==null?void 0:re[0];J&&(ne=J);break}case"initialPlacement":ne=u;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};function fy(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function py(e){return tN.some(n=>e[n]>=0)}const fN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:t}=n,{strategy:o="referenceHidden",...i}=mr(e,n);switch(o){case"referenceHidden":{const s=await as(n,{...i,elementContext:"reference"}),c=fy(s,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:py(c)}}}case"escaped":{const s=await as(n,{...i,altBoundary:!0}),c=fy(s,t.floating);return{data:{escapedOffsets:c,escaped:py(c)}}}default:return{}}}}};async function pN(e,n){const{placement:t,platform:o,elements:i}=e,s=await(o.isRTL==null?void 0:o.isRTL(i.floating)),c=gr(t),u=Ba(t),f=Wa(t)==="y",v=["left","top"].includes(c)?-1:1,m=s&&f?-1:1,g=mr(n,e);let{mainAxis:b,crossAxis:w,alignmentAxis:k}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return u&&typeof k=="number"&&(w=u==="end"?k*-1:k),f?{x:w*m,y:b*v}:{x:b*v,y:w*m}}const vN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,o;const{x:i,y:s,placement:c,middlewareData:u}=n,f=await pN(n,e);return c===((t=u.offset)==null?void 0:t.placement)&&(o=u.arrow)!=null&&o.alignmentOffset?{}:{x:i+f.x,y:s+f.y,data:{...f,placement:c}}}}},hN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:t,y:o,placement:i}=n,{mainAxis:s=!0,crossAxis:c=!1,limiter:u={fn:E=>{let{x:C,y:T}=E;return{x:C,y:T}}},...f}=mr(e,n),v={x:t,y:o},m=await as(n,f),g=Wa(gr(i)),b=Xp(g);let w=v[b],k=v[g];if(s){const E=b==="y"?"top":"left",C=b==="y"?"bottom":"right",T=w+m[E],D=w-m[C];w=cp(T,w,D)}if(c){const E=g==="y"?"top":"left",C=g==="y"?"bottom":"right",T=k+m[E],D=k-m[C];k=cp(T,k,D)}const x=u.fn({...n,[b]:w,[g]:k});return{...x,data:{x:x.x-t,y:x.y-o}}}}},mN=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:t,y:o,placement:i,rects:s,middlewareData:c}=n,{offset:u=0,mainAxis:f=!0,crossAxis:v=!0}=mr(e,n),m={x:t,y:o},g=Wa(i),b=Xp(g);let w=m[b],k=m[g];const x=mr(u,n),E=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(f){const D=b==="y"?"height":"width",O=s.reference[b]-s.floating[D]+E.mainAxis,M=s.reference[b]+s.reference[D]-E.mainAxis;w<O?w=O:w>M&&(w=M)}if(v){var C,T;const D=b==="y"?"width":"height",O=["top","left"].includes(gr(i)),M=s.reference[g]-s.floating[D]+(O&&((C=c.offset)==null?void 0:C[g])||0)+(O?0:E.crossAxis),R=s.reference[g]+s.reference[D]+(O?0:((T=c.offset)==null?void 0:T[g])||0)-(O?E.crossAxis:0);k<M?k=M:k>R&&(k=R)}return{[b]:w,[g]:k}}}},gN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){const{placement:t,rects:o,platform:i,elements:s}=n,{apply:c=()=>{},...u}=mr(e,n),f=await as(n,u),v=gr(t),m=Ba(t),g=Wa(t)==="y",{width:b,height:w}=o.floating;let k,x;v==="top"||v==="bottom"?(k=v,x=m===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(x=v,k=m==="end"?"top":"bottom");const E=w-f[k],C=b-f[x],T=!n.middlewareData.shift;let D=E,O=C;if(g){const R=b-f.left-f.right;O=m||T?$r(C,R):R}else{const R=w-f.top-f.bottom;D=m||T?$r(E,R):R}if(T&&!m){const R=on(f.left,0),L=on(f.right,0),B=on(f.top,0),G=on(f.bottom,0);g?O=b-2*(R!==0||L!==0?R+L:on(f.left,f.right)):D=w-2*(B!==0||G!==0?B+G:on(f.top,f.bottom))}await c({...n,availableWidth:O,availableHeight:D});const M=await i.getDimensions(s.floating);return b!==M.width||w!==M.height?{reset:{rects:!0}}:{}}}};function qr(e){return m0(e)?(e.nodeName||"").toLowerCase():"#document"}function an(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function wr(e){var n;return(n=(m0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function m0(e){return e instanceof Node||e instanceof an(e).Node}function yr(e){return e instanceof Element||e instanceof an(e).Element}function Kn(e){return e instanceof HTMLElement||e instanceof an(e).HTMLElement}function vy(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof an(e).ShadowRoot}function Ts(e){const{overflow:n,overflowX:t,overflowY:o,display:i}=wn(e);return/auto|scroll|overlay|hidden|clip/.test(n+o+t)&&!["inline","contents"].includes(i)}function yN(e){return["table","td","th"].includes(qr(e))}function Jp(e){const n=ev(),t=wn(e);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(t.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(t.contain||"").includes(o))}function bN(e){let n=Ta(e);for(;Kn(n)&&!su(n);){if(Jp(n))return n;n=Ta(n)}return null}function ev(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function su(e){return["html","body","#document"].includes(qr(e))}function wn(e){return an(e).getComputedStyle(e)}function lu(e){return yr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ta(e){if(qr(e)==="html")return e;const n=e.assignedSlot||e.parentNode||vy(e)&&e.host||wr(e);return vy(n)?n.host:n}function g0(e){const n=Ta(e);return su(n)?e.ownerDocument?e.ownerDocument.body:e.body:Kn(n)&&Ts(n)?n:g0(n)}function is(e,n,t){var o;n===void 0&&(n=[]),t===void 0&&(t=!0);const i=g0(e),s=i===((o=e.ownerDocument)==null?void 0:o.body),c=an(i);return s?n.concat(c,c.visualViewport||[],Ts(i)?i:[],c.frameElement&&t?is(c.frameElement):[]):n.concat(i,is(i,[],t))}function y0(e){const n=wn(e);let t=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const i=Kn(e),s=i?e.offsetWidth:t,c=i?e.offsetHeight:o,u=_c(t)!==s||_c(o)!==c;return u&&(t=s,o=c),{width:t,height:o,$:u}}function tv(e){return yr(e)?e:e.contextElement}function Ca(e){const n=tv(e);if(!Kn(n))return Ur(1);const t=n.getBoundingClientRect(),{width:o,height:i,$:s}=y0(n);let c=(s?_c(t.width):t.width)/o,u=(s?_c(t.height):t.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const wN=Ur(0);function b0(e){const n=an(e);return!ev()||!n.visualViewport?wN:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function xN(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==an(e)?!1:n}function Eo(e,n,t,o){n===void 0&&(n=!1),t===void 0&&(t=!1);const i=e.getBoundingClientRect(),s=tv(e);let c=Ur(1);n&&(o?yr(o)&&(c=Ca(o)):c=Ca(e));const u=xN(s,t,o)?b0(s):Ur(0);let f=(i.left+u.x)/c.x,v=(i.top+u.y)/c.y,m=i.width/c.x,g=i.height/c.y;if(s){const b=an(s),w=o&&yr(o)?an(o):o;let k=b,x=k.frameElement;for(;x&&o&&w!==k;){const E=Ca(x),C=x.getBoundingClientRect(),T=wn(x),D=C.left+(x.clientLeft+parseFloat(T.paddingLeft))*E.x,O=C.top+(x.clientTop+parseFloat(T.paddingTop))*E.y;f*=E.x,v*=E.y,m*=E.x,g*=E.y,f+=D,v+=O,k=an(x),x=k.frameElement}}return zc({width:m,height:g,x:f,y:v})}const kN=[":popover-open",":modal"];function w0(e){return kN.some(n=>{try{return e.matches(n)}catch{return!1}})}function EN(e){let{elements:n,rect:t,offsetParent:o,strategy:i}=e;const s=i==="fixed",c=wr(o),u=n?w0(n.floating):!1;if(o===c||u&&s)return t;let f={scrollLeft:0,scrollTop:0},v=Ur(1);const m=Ur(0),g=Kn(o);if((g||!g&&!s)&&((qr(o)!=="body"||Ts(c))&&(f=lu(o)),Kn(o))){const b=Eo(o);v=Ca(o),m.x=b.x+o.clientLeft,m.y=b.y+o.clientTop}return{width:t.width*v.x,height:t.height*v.y,x:t.x*v.x-f.scrollLeft*v.x+m.x,y:t.y*v.y-f.scrollTop*v.y+m.y}}function CN(e){return Array.from(e.getClientRects())}function x0(e){return Eo(wr(e)).left+lu(e).scrollLeft}function SN(e){const n=wr(e),t=lu(e),o=e.ownerDocument.body,i=on(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),s=on(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let c=-t.scrollLeft+x0(e);const u=-t.scrollTop;return wn(o).direction==="rtl"&&(c+=on(n.clientWidth,o.clientWidth)-i),{width:i,height:s,x:c,y:u}}function NN(e,n){const t=an(e),o=wr(e),i=t.visualViewport;let s=o.clientWidth,c=o.clientHeight,u=0,f=0;if(i){s=i.width,c=i.height;const v=ev();(!v||v&&n==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:s,height:c,x:u,y:f}}function PN(e,n){const t=Eo(e,!0,n==="fixed"),o=t.top+e.clientTop,i=t.left+e.clientLeft,s=Kn(e)?Ca(e):Ur(1),c=e.clientWidth*s.x,u=e.clientHeight*s.y,f=i*s.x,v=o*s.y;return{width:c,height:u,x:f,y:v}}function hy(e,n,t){let o;if(n==="viewport")o=NN(e,t);else if(n==="document")o=SN(wr(e));else if(yr(n))o=PN(n,t);else{const i=b0(e);o={...n,x:n.x-i.x,y:n.y-i.y}}return zc(o)}function k0(e,n){const t=Ta(e);return t===n||!yr(t)||su(t)?!1:wn(t).position==="fixed"||k0(t,n)}function TN(e,n){const t=n.get(e);if(t)return t;let o=is(e,[],!1).filter(u=>yr(u)&&qr(u)!=="body"),i=null;const s=wn(e).position==="fixed";let c=s?Ta(e):e;for(;yr(c)&&!su(c);){const u=wn(c),f=Jp(c);!f&&u.position==="fixed"&&(i=null),(s?!f&&!i:!f&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ts(c)&&!f&&k0(e,c))?o=o.filter(m=>m!==c):i=u,c=Ta(c)}return n.set(e,o),o}function DN(e){let{element:n,boundary:t,rootBoundary:o,strategy:i}=e;const c=[...t==="clippingAncestors"?TN(n,this._c):[].concat(t),o],u=c[0],f=c.reduce((v,m)=>{const g=hy(n,m,i);return v.top=on(g.top,v.top),v.right=$r(g.right,v.right),v.bottom=$r(g.bottom,v.bottom),v.left=on(g.left,v.left),v},hy(n,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function ON(e){const{width:n,height:t}=y0(e);return{width:n,height:t}}function MN(e,n,t){const o=Kn(n),i=wr(n),s=t==="fixed",c=Eo(e,!0,s,n);let u={scrollLeft:0,scrollTop:0};const f=Ur(0);if(o||!o&&!s)if((qr(n)!=="body"||Ts(i))&&(u=lu(n)),o){const g=Eo(n,!0,s,n);f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}else i&&(f.x=x0(i));const v=c.left+u.scrollLeft-f.x,m=c.top+u.scrollTop-f.y;return{x:v,y:m,width:c.width,height:c.height}}function my(e,n){return!Kn(e)||wn(e).position==="fixed"?null:n?n(e):e.offsetParent}function E0(e,n){const t=an(e);if(!Kn(e)||w0(e))return t;let o=my(e,n);for(;o&&yN(o)&&wn(o).position==="static";)o=my(o,n);return o&&(qr(o)==="html"||qr(o)==="body"&&wn(o).position==="static"&&!Jp(o))?t:o||bN(e)||t}const RN=async function(e){const n=this.getOffsetParent||E0,t=this.getDimensions;return{reference:MN(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,...await t(e.floating)}}};function _N(e){return wn(e).direction==="rtl"}const LN={convertOffsetParentRelativeRectToViewportRelativeRect:EN,getDocumentElement:wr,getClippingRect:DN,getOffsetParent:E0,getElementRects:RN,getClientRects:CN,getDimensions:ON,getScale:Ca,isElement:yr,isRTL:_N};function zN(e,n){let t=null,o;const i=wr(e);function s(){var u;clearTimeout(o),(u=t)==null||u.disconnect(),t=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),s();const{left:v,top:m,width:g,height:b}=e.getBoundingClientRect();if(u||n(),!g||!b)return;const w=lc(m),k=lc(i.clientWidth-(v+g)),x=lc(i.clientHeight-(m+b)),E=lc(v),T={rootMargin:-w+"px "+-k+"px "+-x+"px "+-E+"px",threshold:on(0,$r(1,f))||1};let D=!0;function O(M){const R=M[0].intersectionRatio;if(R!==f){if(!D)return c();R?c(!1,R):o=setTimeout(()=>{c(!1,1e-7)},100)}D=!1}try{t=new IntersectionObserver(O,{...T,root:i.ownerDocument})}catch{t=new IntersectionObserver(O,T)}t.observe(e)}return c(!0),s}function IN(e,n,t,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,v=tv(e),m=i||s?[...v?is(v):[],...is(n)]:[];m.forEach(C=>{i&&C.addEventListener("scroll",t,{passive:!0}),s&&C.addEventListener("resize",t)});const g=v&&u?zN(v,t):null;let b=-1,w=null;c&&(w=new ResizeObserver(C=>{let[T]=C;T&&T.target===v&&w&&(w.unobserve(n),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var D;(D=w)==null||D.observe(n)})),t()}),v&&!f&&w.observe(v),w.observe(n));let k,x=f?Eo(e):null;f&&E();function E(){const C=Eo(e);x&&(C.x!==x.x||C.y!==x.y||C.width!==x.width||C.height!==x.height)&&t(),x=C,k=requestAnimationFrame(E)}return t(),()=>{var C;m.forEach(T=>{i&&T.removeEventListener("scroll",t),s&&T.removeEventListener("resize",t)}),g==null||g(),(C=w)==null||C.disconnect(),w=null,f&&cancelAnimationFrame(k)}}const AN=hN,FN=dN,jN=gN,HN=fN,gy=uN,BN=mN,WN=(e,n,t)=>{const o=new Map,i={platform:LN,...t},s={...i.platform,_c:o};return cN(e,n,{...i,platform:s})},VN=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:o,padding:i}=typeof e=="function"?e(t):e;return o&&n(o)?o.current!=null?gy({element:o.current,padding:i}).fn(t):{}:o?gy({element:o,padding:i}).fn(t):{}}}};var Nc=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Ic(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,o,i;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(o=t;o--!==0;)if(!Ic(e[o],n[o]))return!1;return!0}if(i=Object.keys(e),t=i.length,t!==Object.keys(n).length)return!1;for(o=t;o--!==0;)if(!{}.hasOwnProperty.call(n,i[o]))return!1;for(o=t;o--!==0;){const s=i[o];if(!(s==="_owner"&&e.$$typeof)&&!Ic(e[s],n[s]))return!1}return!0}return e!==e&&n!==n}function C0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yy(e,n){const t=C0(e);return Math.round(n*t)/t}function by(e){const n=d.useRef(e);return Nc(()=>{n.current=e}),n}function $N(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:o=[],platform:i,elements:{reference:s,floating:c}={},transform:u=!0,whileElementsMounted:f,open:v}=e,[m,g]=d.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[b,w]=d.useState(o);Ic(b,o)||w(o);const[k,x]=d.useState(null),[E,C]=d.useState(null),T=d.useCallback(le=>{le!==R.current&&(R.current=le,x(le))},[]),D=d.useCallback(le=>{le!==L.current&&(L.current=le,C(le))},[]),O=s||k,M=c||E,R=d.useRef(null),L=d.useRef(null),B=d.useRef(m),G=f!=null,Q=by(f),re=by(i),Y=d.useCallback(()=>{if(!R.current||!L.current)return;const le={placement:n,strategy:t,middleware:b};re.current&&(le.platform=re.current),WN(R.current,L.current,le).then(H=>{const I={...H,isPositioned:!0};se.current&&!Ic(B.current,I)&&(B.current=I,Hn.flushSync(()=>{g(I)}))})},[b,n,t,re]);Nc(()=>{v===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,g(le=>({...le,isPositioned:!1})))},[v]);const se=d.useRef(!1);Nc(()=>(se.current=!0,()=>{se.current=!1}),[]),Nc(()=>{if(O&&(R.current=O),M&&(L.current=M),O&&M){if(Q.current)return Q.current(O,M,Y);Y()}},[O,M,Y,Q,G]);const ne=d.useMemo(()=>({reference:R,floating:L,setReference:T,setFloating:D}),[T,D]),J=d.useMemo(()=>({reference:O,floating:M}),[O,M]),de=d.useMemo(()=>{const le={position:t,left:0,top:0};if(!J.floating)return le;const H=yy(J.floating,m.x),I=yy(J.floating,m.y);return u?{...le,transform:"translate("+H+"px, "+I+"px)",...C0(J.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:H,top:I}},[t,u,J.floating,m.x,m.y]);return d.useMemo(()=>({...m,update:Y,refs:ne,elements:J,floatingStyles:de}),[m,Y,ne,J,de])}function UN(e){const[n,t]=d.useState(void 0);return Kt(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let c,u;if("borderBoxSize"in s){const f=s.borderBoxSize,v=Array.isArray(f)?f[0]:f;c=v.inlineSize,u=v.blockSize}else c=e.offsetWidth,u=e.offsetHeight;t({width:c,height:u})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else t(void 0)},[e]),n}const S0="Popper",[N0,Jn]=En(S0),[qN,P0]=N0(S0),GN=e=>{const{__scopePopper:n,children:t}=e,[o,i]=d.useState(null);return d.createElement(qN,{scope:n,anchor:o,onAnchorChange:i},t)},YN="PopperAnchor",KN=d.forwardRef((e,n)=>{const{__scopePopper:t,virtualRef:o,...i}=e,s=P0(YN,t),c=d.useRef(null),u=Qe(n,c);return d.useEffect(()=>{s.onAnchorChange((o==null?void 0:o.current)||c.current)}),o?null:d.createElement(Be.div,ee({},i,{ref:u}))}),T0="PopperContent",[XN,F8]=N0(T0),QN=d.forwardRef((e,n)=>{var t,o,i,s,c,u,f,v;const{__scopePopper:m,side:g="bottom",sideOffset:b=0,align:w="center",alignOffset:k=0,arrowPadding:x=0,avoidCollisions:E=!0,collisionBoundary:C=[],collisionPadding:T=0,sticky:D="partial",hideWhenDetached:O=!1,updatePositionStrategy:M="optimized",onPlaced:R,...L}=e,B=P0(T0,m),[G,Q]=d.useState(null),re=Qe(n,fe=>Q(fe)),[Y,se]=d.useState(null),ne=UN(Y),J=(t=ne==null?void 0:ne.width)!==null&&t!==void 0?t:0,de=(o=ne==null?void 0:ne.height)!==null&&o!==void 0?o:0,le=g+(w!=="center"?"-"+w:""),H=typeof T=="number"?T:{top:0,right:0,bottom:0,left:0,...T},I=Array.isArray(C)?C:[C],P=I.length>0,z={padding:H,boundary:I.filter(ZN),altBoundary:P},{refs:j,floatingStyles:W,placement:Z,isPositioned:ae,middlewareData:ie}=$N({strategy:"fixed",placement:le,whileElementsMounted:(...fe)=>IN(...fe,{animationFrame:M==="always"}),elements:{reference:B.anchor},middleware:[vN({mainAxis:b+de,alignmentAxis:k}),E&&AN({mainAxis:!0,crossAxis:!1,limiter:D==="partial"?BN():void 0,...z}),E&&FN({...z}),jN({...z,apply:({elements:fe,rects:ke,availableWidth:De,availableHeight:Oe})=>{const{width:Le,height:qe}=ke.reference,ot=fe.floating.style;ot.setProperty("--radix-popper-available-width",`${De}px`),ot.setProperty("--radix-popper-available-height",`${Oe}px`),ot.setProperty("--radix-popper-anchor-width",`${Le}px`),ot.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),Y&&VN({element:Y,padding:x}),JN({arrowWidth:J,arrowHeight:de}),O&&HN({strategy:"referenceHidden",...z})]}),[te,$]=D0(Z),oe=bn(R);Kt(()=>{ae&&(oe==null||oe())},[ae,oe]);const xe=(i=ie.arrow)===null||i===void 0?void 0:i.x,ye=(s=ie.arrow)===null||s===void 0?void 0:s.y,ve=((c=ie.arrow)===null||c===void 0?void 0:c.centerOffset)!==0,[Me,K]=d.useState();return Kt(()=>{G&&K(window.getComputedStyle(G).zIndex)},[G]),d.createElement("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:ae?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(u=ie.transformOrigin)===null||u===void 0?void 0:u.x,(f=ie.transformOrigin)===null||f===void 0?void 0:f.y].join(" ")},dir:e.dir},d.createElement(XN,{scope:m,placedSide:te,onArrowChange:se,arrowX:xe,arrowY:ye,shouldHideArrow:ve},d.createElement(Be.div,ee({"data-side":te,"data-align":$},L,{ref:re,style:{...L.style,animation:ae?void 0:"none",opacity:(v=ie.hide)!==null&&v!==void 0&&v.referenceHidden?0:void 0}}))))});function ZN(e){return e!==null}const JN=e=>({name:"transformOrigin",options:e,fn(n){var t,o,i,s,c;const{placement:u,rects:f,middlewareData:v}=n,g=((t=v.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,b=g?0:e.arrowWidth,w=g?0:e.arrowHeight,[k,x]=D0(u),E={start:"0%",center:"50%",end:"100%"}[x],C=((o=(i=v.arrow)===null||i===void 0?void 0:i.x)!==null&&o!==void 0?o:0)+b/2,T=((s=(c=v.arrow)===null||c===void 0?void 0:c.y)!==null&&s!==void 0?s:0)+w/2;let D="",O="";return k==="bottom"?(D=g?E:`${C}px`,O=`${-w}px`):k==="top"?(D=g?E:`${C}px`,O=`${f.floating.height+w}px`):k==="right"?(D=`${-w}px`,O=g?E:`${T}px`):k==="left"&&(D=`${f.floating.width+w}px`,O=g?E:`${T}px`),{data:{x:D,y:O}}}});function D0(e){const[n,t="center"]=e.split("-");return[n,t]}const Ds=GN,Os=KN,Ms=QN,O0=d.forwardRef((e,n)=>d.createElement(Be.span,ee({},e,{ref:n,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),eP=O0,[cu,j8]=En("Tooltip",[Jn]),nv=Jn(),tP="TooltipProvider",nP=700,dp="tooltip.open",[rP,rv]=cu(tP),oP=e=>{const{__scopeTooltip:n,delayDuration:t=nP,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:s}=e,[c,u]=d.useState(!0),f=d.useRef(!1),v=d.useRef(0);return d.useEffect(()=>{const m=v.current;return()=>window.clearTimeout(m)},[]),d.createElement(rP,{scope:n,isOpenDelayed:c,delayDuration:t,onOpen:d.useCallback(()=>{window.clearTimeout(v.current),u(!1)},[]),onClose:d.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>u(!0),o)},[o]),isPointerInTransitRef:f,onPointerInTransitChange:d.useCallback(m=>{f.current=m},[]),disableHoverableContent:i},s)},ov="Tooltip",[aP,uu]=cu(ov),iP=e=>{const{__scopeTooltip:n,children:t,open:o,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:c,delayDuration:u}=e,f=rv(ov,e.__scopeTooltip),v=nv(n),[m,g]=d.useState(null),b=gn(),w=d.useRef(0),k=c??f.disableHoverableContent,x=u??f.delayDuration,E=d.useRef(!1),[C=!1,T]=vr({prop:o,defaultProp:i,onChange:L=>{L?(f.onOpen(),document.dispatchEvent(new CustomEvent(dp))):f.onClose(),s==null||s(L)}}),D=d.useMemo(()=>C?E.current?"delayed-open":"instant-open":"closed",[C]),O=d.useCallback(()=>{window.clearTimeout(w.current),E.current=!1,T(!0)},[T]),M=d.useCallback(()=>{window.clearTimeout(w.current),T(!1)},[T]),R=d.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{E.current=!0,T(!0)},x)},[x,T]);return d.useEffect(()=>()=>window.clearTimeout(w.current),[]),d.createElement(Ds,v,d.createElement(aP,{scope:n,contentId:b,open:C,stateAttribute:D,trigger:m,onTriggerChange:g,onTriggerEnter:d.useCallback(()=>{f.isOpenDelayed?R():O()},[f.isOpenDelayed,R,O]),onTriggerLeave:d.useCallback(()=>{k?M():window.clearTimeout(w.current)},[M,k]),onOpen:O,onClose:M,disableHoverableContent:k},t))},wy="TooltipTrigger",sP=d.forwardRef((e,n)=>{const{__scopeTooltip:t,...o}=e,i=uu(wy,t),s=rv(wy,t),c=nv(t),u=d.useRef(null),f=Qe(n,u,i.onTriggerChange),v=d.useRef(!1),m=d.useRef(!1),g=d.useCallback(()=>v.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),d.createElement(Os,ee({asChild:!0},c),d.createElement(Be.button,ee({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},o,{ref:f,onPointerMove:be(e.onPointerMove,b=>{b.pointerType!=="touch"&&!m.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:be(e.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:be(e.onPointerDown,()=>{v.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:be(e.onFocus,()=>{v.current||i.onOpen()}),onBlur:be(e.onBlur,i.onClose),onClick:be(e.onClick,i.onClose)})))}),lP="TooltipPortal",[H8,cP]=cu(lP,{forceMount:void 0}),ss="TooltipContent",uP=d.forwardRef((e,n)=>{const t=cP(ss,e.__scopeTooltip),{forceMount:o=t.forceMount,side:i="top",...s}=e,c=uu(ss,e.__scopeTooltip);return d.createElement(cn,{present:o||c.open},c.disableHoverableContent?d.createElement(M0,ee({side:i},s,{ref:n})):d.createElement(dP,ee({side:i},s,{ref:n})))}),dP=d.forwardRef((e,n)=>{const t=uu(ss,e.__scopeTooltip),o=rv(ss,e.__scopeTooltip),i=d.useRef(null),s=Qe(n,i),[c,u]=d.useState(null),{trigger:f,onClose:v}=t,m=i.current,{onPointerInTransitChange:g}=o,b=d.useCallback(()=>{u(null),g(!1)},[g]),w=d.useCallback((k,x)=>{const E=k.currentTarget,C={x:k.clientX,y:k.clientY},T=pP(C,E.getBoundingClientRect()),D=vP(C,T),O=hP(x.getBoundingClientRect()),M=gP([...D,...O]);u(M),g(!0)},[g]);return d.useEffect(()=>()=>b(),[b]),d.useEffect(()=>{if(f&&m){const k=E=>w(E,m),x=E=>w(E,f);return f.addEventListener("pointerleave",k),m.addEventListener("pointerleave",x),()=>{f.removeEventListener("pointerleave",k),m.removeEventListener("pointerleave",x)}}},[f,m,w,b]),d.useEffect(()=>{if(c){const k=x=>{const E=x.target,C={x:x.clientX,y:x.clientY},T=(f==null?void 0:f.contains(E))||(m==null?void 0:m.contains(E)),D=!mP(C,c);T?b():D&&(b(),v())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[f,m,c,v,b]),d.createElement(M0,ee({},e,{ref:s}))}),[fP,B8]=cu(ov,{isInside:!1}),M0=d.forwardRef((e,n)=>{const{__scopeTooltip:t,children:o,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:c,...u}=e,f=uu(ss,t),v=nv(t),{onClose:m}=f;return d.useEffect(()=>(document.addEventListener(dp,m),()=>document.removeEventListener(dp,m)),[m]),d.useEffect(()=>{if(f.trigger){const g=b=>{const w=b.target;w!=null&&w.contains(f.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,m]),d.createElement(Fa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:m},d.createElement(Ms,ee({"data-state":f.stateAttribute},v,u,{ref:n,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),d.createElement(Hb,null,o),d.createElement(fP,{scope:t,isInside:!0},d.createElement(eP,{id:f.contentId,role:"tooltip"},i||o))))});function pP(e,n){const t=Math.abs(n.top-e.y),o=Math.abs(n.bottom-e.y),i=Math.abs(n.right-e.x),s=Math.abs(n.left-e.x);switch(Math.min(t,o,i,s)){case s:return"left";case i:return"right";case t:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function vP(e,n,t=5){const o=[];switch(n){case"top":o.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":o.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":o.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":o.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return o}function hP(e){const{top:n,right:t,bottom:o,left:i}=e;return[{x:i,y:n},{x:t,y:n},{x:t,y:o},{x:i,y:o}]}function mP(e,n){const{x:t,y:o}=e;let i=!1;for(let s=0,c=n.length-1;s<n.length;c=s++){const u=n[s].x,f=n[s].y,v=n[c].x,m=n[c].y;f>o!=m>o&&t<(v-u)*(o-f)/(m-f)+u&&(i=!i)}return i}function gP(e){const n=e.slice();return n.sort((t,o)=>t.x<o.x?-1:t.x>o.x?1:t.y<o.y?-1:t.y>o.y?1:0),yP(n)}function yP(e){if(e.length<=1)return e.slice();const n=[];for(let o=0;o<e.length;o++){const i=e[o];for(;n.length>=2;){const s=n[n.length-1],c=n[n.length-2];if((s.x-c.x)*(i.y-c.y)>=(s.y-c.y)*(i.x-c.x))n.pop();else break}n.push(i)}n.pop();const t=[];for(let o=e.length-1;o>=0;o--){const i=e[o];for(;t.length>=2;){const s=t[t.length-1],c=t[t.length-2];if((s.x-c.x)*(i.y-c.y)>=(s.y-c.y)*(i.x-c.x))t.pop();else break}t.push(i)}return t.pop(),n.length===1&&t.length===1&&n[0].x===t[0].x&&n[0].y===t[0].y?n:n.concat(t)}const bP=oP,wP=iP,xP=sP,R0=uP,kP=bP,EP=wP,CP=xP,_0=d.forwardRef(({className:e,sideOffset:n=4,...t},o)=>N(R0,{ref:o,sideOffset:n,className:we("tv-z-50 tv-overflow-hidden tv-rounded-md tv-bg-primary tv-px-3 tv-py-1.5 tv-text-xs tv-text-primary-foreground tv-animate-in tv-fade-in-0 tv-zoom-in-95 data-[state=closed]:tv-animate-out data-[state=closed]:tv-fade-out-0 data-[state=closed]:tv-zoom-out-95 data-[side=bottom]:tv-slide-in-from-top-2 data-[side=left]:tv-slide-in-from-right-2 data-[side=right]:tv-slide-in-from-left-2 data-[side=top]:tv-slide-in-from-bottom-2",e),...t}));_0.displayName=R0.displayName;function L0(e){var n,t,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=L0(e[n]))&&(o&&(o+=" "),o+=t);else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function SP(){for(var e,n,t=0,o="";t<arguments.length;)(e=arguments[t++])&&(n=L0(e))&&(o&&(o+=" "),o+=n);return o}const xy=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,ky=SP,z0=(e,n)=>t=>{var o;if((n==null?void 0:n.variants)==null)return ky(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=n,c=Object.keys(i).map(v=>{const m=t==null?void 0:t[v],g=s==null?void 0:s[v];if(m===null)return null;const b=xy(m)||xy(g);return i[v][b]}),u=t&&Object.entries(t).reduce((v,m)=>{let[g,b]=m;return b===void 0||(v[g]=b),v},{}),f=n==null||(o=n.compoundVariants)===null||o===void 0?void 0:o.reduce((v,m)=>{let{class:g,className:b,...w}=m;return Object.entries(w).every(k=>{let[x,E]=k;return Array.isArray(E)?E.includes({...s,...u}[x]):{...s,...u}[x]===E})?[...v,g,b]:v},[]);return ky(e,c,f,t==null?void 0:t.class,t==null?void 0:t.className)},NP=z0("tv-inline-flex tv-items-center tv-border tv-border-solid tv-border-input tv-justify-center tv-whitespace-nowrap tv-rounded-md tv-text-sm tv-font-medium tv-transition-colors focus-visible:tv-outline-none focus-visible:tv-ring-1 focus-visible:tv-ring-ring disabled:tv-pointer-events-none disabled:tv-opacity-50",{variants:{variant:{default:"tv-bg-primary tv-text-primary-foreground tv-shadow hover:tv-bg-primary/90",destructive:"tv-bg-destructive tv-text-destructive-foreground tv-shadow-sm hover:tv-bg-destructive/90",outline:"tv-border tv-border-input tv-bg-background tv-shadow-sm hover:tv-bg-accent hover:tv-text-accent-foreground",secondary:"tv-bg-secondary tv-text-secondary-foreground tv-shadow-sm hover:tv-bg-secondary/80",ghost:"hover:tv-bg-accent hover:tv-text-accent-foreground",link:"tv-text-primary tv-underline-offset-4 hover:tv-underline"},size:{default:"tv-h-9 tv-px-4 tv-py-2",sm:"tv-h-8 tv-rounded-md tv-px-3 tv-text-xs",lg:"tv-h-10 tv-rounded-md tv-px-8",icon:"tv-h-9 tv-w-9"}},defaultVariants:{variant:"default",size:"default"}}),ft=d.forwardRef(({className:e,variant:n,size:t,asChild:o=!1,...i},s)=>N(o?hr:"button",{className:we(NP({variant:n,size:t,className:e})),ref:s,...i}));ft.displayName="Button";const du=({saveContent:e,value:n,handleValueChange:t,handleCloseDialog:o})=>X(Ss,{children:[N(Ns,{children:"Save file name"}),N(Ps,{children:"Set a file name to save"}),X("div",{className:"tv-flex tv-flex-col tv-justify-between tv-items-center tv-pt-2 tv-gap-2 sm:tv-flex-row",children:[N(Ha,{placeholder:"File name",value:n,onChange:i=>{t(i.target.value)},onKeyDown:async i=>{i.key==="Enter"&&(i.preventDefault(),await e())},className:we("search-bar tv-border tv-h-9 tv-w-[calc(100%-0.5rem)] sm:tv-w-[250px] lg:tv-w-[300px] tv-flex tv-rounded-md tv-bg-transparent tv-py-3 tv-text-sm tv-outline-none tv-shadow-none active:tv-shadow-none focus-visible:tv-ring-0 dark:focus-visible:tv-border-slate-800")}),N(kP,{children:X(EP,{children:[N(CP,{asChild:!0,children:N(ft,{variant:"outline",size:"default",onClick:()=>{o(),e()},children:"Save"})}),N(_0,{children:N("p",{children:"Ctrl + Enter to save"})})]})})]})]}),fu=({handleCloseDialog:e,handleCloseView:n,handleSwitchDialogType:t,removeAllContentCache:o,removeAllContent:i})=>X(ct,{children:[X(Ss,{children:[N(Ns,{children:"Close file"}),N(Ps,{children:"Do you want to save the file?"})]}),X(au,{className:"tv-flex tv-flex-col tv-items-center tv-gap-2 tv-w-full sm:tv-flex-row sm:tv-justify-between",children:[N("div",{children:N(ft,{variant:"destructive",size:"default",onClick:()=>{e(),Ke.setClosedByCacheArea(!0),o(),i(),n()},children:"Discard"})}),X("div",{className:"tv-flex tv-flex-col tv-gap-2 sm:tv-flex-row",children:[N(ft,{variant:"outline",size:"default",onClick:()=>{t("save")},children:"Save"}),N(ft,{variant:"secondary",size:"default",onClick:()=>{e()},children:"Cancel"})]})]})]}),Ey=({view:e})=>{const n=d.useRef(null),[t,o]=d.useState(!1),[i,s]=d.useState(""),[c,u]=d.useState(""),[f,v]=d.useState("save");d.useEffect(()=>{e&&(e.registerEvent(e.app.workspace.on("cache-area-confirm-close",O=>{if(O===e.leaf.id&&!t){if(n.current.getContent()===""){Ke.setClosedByCacheArea(!0),bo(e.app,e.leaf),e.leaf.detach();return}e.app.workspace.setActiveLeaf(e.leaf),v("close"),o(!0)}})),e.registerEvent(e.app.workspace.on("cache-area-append",(O,M)=>{var R;O===e.leaf.id&&((R=n.current)==null||R.insertText(M))})),e.registerEvent(e.app.workspace.on("cache-area-focus",O=>{var M;O===e.leaf.id&&((M=n.current)==null||M.focus())})))},[e]);const m=async()=>{await iu({content:c||n.current.getContent(),path:i,view:e,cb:()=>{var O;s(""),u(""),o(!1),bo(e.app,e.leaf),(O=n.current)==null||O.clear()}})},g=d.useMemo(()=>({view:e,onSaveBtnClick:O=>{v("save"),o(!0),u(O)}}),[n,e]),b=d.useCallback(()=>{bo(e.app,e.leaf)},[e]),w=d.useCallback(()=>{var O;(O=n.current)==null||O.clear()},[n]),k=()=>{o(!1)},x=O=>{s(O)},E=()=>{e.leaf.detach()},C=O=>{v(O)},T=d.useMemo(()=>({saveContent:m,handleValueChange:x,handleCloseDialog:k,handleCloseView:E,handleSwitchDialogType:C,removeAllContentCache:b,removeAllContent:w}),[f,i]),D=d.useMemo(()=>({handleCloseDialog:k,handleCloseView:E,handleSwitchDialogType:C,handleValueChange:x,saveContent:m,removeAllContentCache:b,removeAllContent:w}),[f,i]);return X(ct,{children:[N("div",{className:"tv-flex tv-flex-col tv-h-full tv-w-full tv-gap-2 tv-p-2 tv-pt-0 tv-pr-0",children:N(Ea,{ref:n,...g})}),N(ja,{open:t,defaultOpen:t,onOpenChange:O=>{o(O)},children:N(Do,{children:f==="close"?N(fu,{value:i,...D}):N(du,{value:i,...T})})})]})},PP={importantAndEmergency:"tv-bg-rose-50",importantAndNotEmergency:"tv-bg-blue-50",notImportantAndEmergency:"tv-bg-yellow-50",notImportantAndNotEmergency:"tv-bg-gray-50"},Pc={importantAndEmergency:"重要且紧急",importantAndNotEmergency:"重要但不紧急",notImportantAndEmergency:"不重要但紧急",notImportantAndNotEmergency:"不重要且不紧急"},Ai=Object.keys(Pc),TP=({view:e})=>{const n=Ai.reduce((R,L)=>(R[L]={ref:d.useRef(null),type:L},R),{}),[t,o]=d.useState(!1),[i,s]=Ae.useState(""),[c,u]=Ae.useState(""),[f,v]=Ae.useState("save"),m=d.useCallback(()=>Ai.every(R=>n[R].ref.current.getContent()===""),[n]);d.useEffect(()=>{e&&e.registerEvent(e.app.workspace.on("cache-area-confirm-close",R=>{if(R===e.leaf.id&&!t){if(m()){Ke.setClosedByCacheArea(!0),w(),e.leaf.detach();return}e.app.workspace.setActiveLeaf(e.leaf),v("close"),o(!0)}}))},[e,m,t]);const g=()=>{let R="";return Ai.forEach(B=>{const G=n[B].ref.current.getContent();R+=`# ${Pc[B]}

${G}

`}),R=`---
templify: eisenhower-matrix
---

`+R,R},b=d.useCallback(async()=>{await iu({content:g(),path:i,view:e,cb:()=>{s(""),o(!1),w(),k()}})},[n,e,i]),w=d.useCallback(()=>{Ai.forEach(R=>{bo(e.app,e.leaf,R)})},[e]),k=d.useCallback(()=>{Ai.forEach(R=>{var L;(L=n[R].ref.current)==null||L.clear()})},[n]),x=d.useMemo(()=>({view:e,onSaveBtnClick:R=>{v("save"),o(!0),u(R)}}),[e]),E=()=>{o(!1)},C=R=>{s(R)},T=()=>{e.leaf.detach()},D=R=>{v(R)},O=d.useMemo(()=>({saveContent:b,handleValueChange:C,handleCloseDialog:E,handleCloseView:T,handleSwitchDialogType:D,removeAllContentCache:w,removeAllContent:k}),[f,i]),M=d.useMemo(()=>({handleCloseDialog:E,handleCloseView:T,handleSwitchDialogType:D,handleValueChange:C,saveContent:b,removeAllContentCache:w,removeAllContent:k}),[f,i]);return X(ct,{children:[N("div",{className:"tv-flex tv-flex-col tv-h-full tv-w-full tv-p-2 tv-pt-0",children:N("div",{className:"tv-grid tv-grid-cols-2 tv-h-full tv-w-full",children:Object.keys(Pc).map((R,L)=>N(ct,{children:X("div",{className:we("tv-flex tv-flex-col tv-h-full tv-w-full tv-gap-2 tv-p-2 tv-pt-0 tv-border tv-border-solid tv-border-gray-50 ",PP[R]),children:[N("div",{className:"tv-text-lg tv-font-bold tv-text-muted-foreground tv-font-sans",children:Pc[R]},L),N(Ea,{ref:n[R].ref,...x})]})}))})}),N(ja,{open:t,defaultOpen:t,onOpenChange:R=>{o(R)},children:N(Do,{children:f==="close"?N(fu,{value:i,...M}):N(du,{value:i,...O})})})]})};function av(e){const n=e+"CollectionProvider",[t,o]=En(n),[i,s]=t(n,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:k,children:x}=w,E=Ae.useRef(null),C=Ae.useRef(new Map).current;return Ae.createElement(i,{scope:k,itemMap:C,collectionRef:E},x)},u=e+"CollectionSlot",f=Ae.forwardRef((w,k)=>{const{scope:x,children:E}=w,C=s(u,x),T=Qe(k,C.collectionRef);return Ae.createElement(hr,{ref:T},E)}),v=e+"CollectionItemSlot",m="data-radix-collection-item",g=Ae.forwardRef((w,k)=>{const{scope:x,children:E,...C}=w,T=Ae.useRef(null),D=Qe(k,T),O=s(v,x);return Ae.useEffect(()=>(O.itemMap.set(T,{ref:T,...C}),()=>void O.itemMap.delete(T))),Ae.createElement(hr,{[m]:"",ref:D},E)});function b(w){const k=s(e+"CollectionConsumer",w);return Ae.useCallback(()=>{const E=k.collectionRef.current;if(!E)return[];const C=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(k.itemMap.values()).sort((O,M)=>C.indexOf(O.ref.current)-C.indexOf(M.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:c,Slot:f,ItemSlot:g},b,o]}const DP=d.createContext(void 0);function pu(e){const n=d.useContext(DP);return e||n||"ltr"}const If="rovingFocusGroup.onEntryFocus",OP={bubbles:!1,cancelable:!0},iv="RovingFocusGroup",[fp,I0,MP]=av(iv),[RP,vu]=En(iv,[MP]),[_P,LP]=RP(iv),zP=d.forwardRef((e,n)=>d.createElement(fp.Provider,{scope:e.__scopeRovingFocusGroup},d.createElement(fp.Slot,{scope:e.__scopeRovingFocusGroup},d.createElement(IP,ee({},e,{ref:n}))))),IP=d.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,orientation:o,loop:i=!1,dir:s,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:v,...m}=e,g=d.useRef(null),b=Qe(n,g),w=pu(s),[k=null,x]=vr({prop:c,defaultProp:u,onChange:f}),[E,C]=d.useState(!1),T=bn(v),D=I0(t),O=d.useRef(!1),[M,R]=d.useState(0);return d.useEffect(()=>{const L=g.current;if(L)return L.addEventListener(If,T),()=>L.removeEventListener(If,T)},[T]),d.createElement(_P,{scope:t,orientation:o,dir:w,loop:i,currentTabStopId:k,onItemFocus:d.useCallback(L=>x(L),[x]),onItemShiftTab:d.useCallback(()=>C(!0),[]),onFocusableItemAdd:d.useCallback(()=>R(L=>L+1),[]),onFocusableItemRemove:d.useCallback(()=>R(L=>L-1),[])},d.createElement(Be.div,ee({tabIndex:E||M===0?-1:0,"data-orientation":o},m,{ref:b,style:{outline:"none",...e.style},onMouseDown:be(e.onMouseDown,()=>{O.current=!0}),onFocus:be(e.onFocus,L=>{const B=!O.current;if(L.target===L.currentTarget&&B&&!E){const G=new CustomEvent(If,OP);if(L.currentTarget.dispatchEvent(G),!G.defaultPrevented){const Q=D().filter(J=>J.focusable),re=Q.find(J=>J.active),Y=Q.find(J=>J.id===k),ne=[re,Y,...Q].filter(Boolean).map(J=>J.ref.current);A0(ne)}}O.current=!1}),onBlur:be(e.onBlur,()=>C(!1))})))}),AP="RovingFocusGroupItem",FP=d.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,focusable:o=!0,active:i=!1,tabStopId:s,...c}=e,u=gn(),f=s||u,v=LP(AP,t),m=v.currentTabStopId===f,g=I0(t),{onFocusableItemAdd:b,onFocusableItemRemove:w}=v;return d.useEffect(()=>{if(o)return b(),()=>w()},[o,b,w]),d.createElement(fp.ItemSlot,{scope:t,id:f,focusable:o,active:i},d.createElement(Be.span,ee({tabIndex:m?0:-1,"data-orientation":v.orientation},c,{ref:n,onMouseDown:be(e.onMouseDown,k=>{o?v.onItemFocus(f):k.preventDefault()}),onFocus:be(e.onFocus,()=>v.onItemFocus(f)),onKeyDown:be(e.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){v.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const x=BP(k,v.orientation,v.dir);if(x!==void 0){k.preventDefault();let C=g().filter(T=>T.focusable).map(T=>T.ref.current);if(x==="last")C.reverse();else if(x==="prev"||x==="next"){x==="prev"&&C.reverse();const T=C.indexOf(k.currentTarget);C=v.loop?WP(C,T+1):C.slice(T+1)}setTimeout(()=>A0(C))}})})))}),jP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function HP(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function BP(e,n,t){const o=HP(e.key,t);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return jP[o]}function A0(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function WP(e,n){return e.map((t,o)=>e[(n+o)%e.length])}const F0=zP,j0=FP,pp=["Enter"," "],VP=["ArrowDown","PageUp","Home"],H0=["ArrowUp","PageDown","End"],$P=[...VP,...H0],UP={ltr:[...pp,"ArrowRight"],rtl:[...pp,"ArrowLeft"]},qP={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hu="Menu",[ls,GP,YP]=av(hu),[Oo,mu]=En(hu,[YP,Jn,vu]),sv=Jn(),B0=vu(),[KP,Mo]=Oo(hu),[XP,Rs]=Oo(hu),QP=e=>{const{__scopeMenu:n,open:t=!1,children:o,dir:i,onOpenChange:s,modal:c=!0}=e,u=sv(n),[f,v]=d.useState(null),m=d.useRef(!1),g=bn(s),b=pu(i);return d.useEffect(()=>{const w=()=>{m.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>m.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),d.createElement(Ds,u,d.createElement(KP,{scope:n,open:t,onOpenChange:g,content:f,onContentChange:v},d.createElement(XP,{scope:n,onClose:d.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:b,modal:c},o)))},W0=d.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e,i=sv(t);return d.createElement(Os,ee({},i,o,{ref:n}))}),V0="MenuPortal",[ZP,$0]=Oo(V0,{forceMount:void 0}),JP=e=>{const{__scopeMenu:n,forceMount:t,children:o,container:i}=e,s=Mo(V0,n);return d.createElement(ZP,{scope:n,forceMount:t},d.createElement(cn,{present:t||s.open},d.createElement(tu,{asChild:!0,container:i},o)))},jn="MenuContent",[eT,lv]=Oo(jn),tT=d.forwardRef((e,n)=>{const t=$0(jn,e.__scopeMenu),{forceMount:o=t.forceMount,...i}=e,s=Mo(jn,e.__scopeMenu),c=Rs(jn,e.__scopeMenu);return d.createElement(ls.Provider,{scope:e.__scopeMenu},d.createElement(cn,{present:o||s.open},d.createElement(ls.Slot,{scope:e.__scopeMenu},c.modal?d.createElement(nT,ee({},i,{ref:n})):d.createElement(rT,ee({},i,{ref:n})))))}),nT=d.forwardRef((e,n)=>{const t=Mo(jn,e.__scopeMenu),o=d.useRef(null),i=Qe(n,o);return d.useEffect(()=>{const s=o.current;if(s)return Cs(s)},[]),d.createElement(cv,ee({},e,{ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:be(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)}))}),rT=d.forwardRef((e,n)=>{const t=Mo(jn,e.__scopeMenu);return d.createElement(cv,ee({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)}))}),cv=d.forwardRef((e,n)=>{const{__scopeMenu:t,loop:o=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:v,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:b,onDismiss:w,disableOutsideScroll:k,...x}=e,E=Mo(jn,t),C=Rs(jn,t),T=sv(t),D=B0(t),O=GP(t),[M,R]=d.useState(null),L=d.useRef(null),B=Qe(n,L,E.onContentChange),G=d.useRef(0),Q=d.useRef(""),re=d.useRef(0),Y=d.useRef(null),se=d.useRef("right"),ne=d.useRef(0),J=k?ou:d.Fragment,de=k?{as:hr,allowPinchZoom:!0}:void 0,le=I=>{var P,z;const j=Q.current+I,W=O().filter(oe=>!oe.disabled),Z=document.activeElement,ae=(P=W.find(oe=>oe.ref.current===Z))===null||P===void 0?void 0:P.textValue,ie=W.map(oe=>oe.textValue),te=bT(ie,j,ae),$=(z=W.find(oe=>oe.textValue===te))===null||z===void 0?void 0:z.ref.current;(function oe(xe){Q.current=xe,window.clearTimeout(G.current),xe!==""&&(G.current=window.setTimeout(()=>oe(""),1e3))})(j),$&&setTimeout(()=>$.focus())};d.useEffect(()=>()=>window.clearTimeout(G.current),[]),nu();const H=d.useCallback(I=>{var P,z;return se.current===((P=Y.current)===null||P===void 0?void 0:P.side)&&xT(I,(z=Y.current)===null||z===void 0?void 0:z.area)},[]);return d.createElement(eT,{scope:t,searchRef:Q,onItemEnter:d.useCallback(I=>{H(I)&&I.preventDefault()},[H]),onItemLeave:d.useCallback(I=>{var P;H(I)||((P=L.current)===null||P===void 0||P.focus(),R(null))},[H]),onTriggerLeave:d.useCallback(I=>{H(I)&&I.preventDefault()},[H]),pointerGraceTimerRef:re,onPointerGraceIntentChange:d.useCallback(I=>{Y.current=I},[])},d.createElement(J,de,d.createElement(eu,{asChild:!0,trapped:i,onMountAutoFocus:be(s,I=>{var P;I.preventDefault(),(P=L.current)===null||P===void 0||P.focus()}),onUnmountAutoFocus:c},d.createElement(Fa,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:v,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:b,onDismiss:w},d.createElement(F0,ee({asChild:!0},D,{dir:C.dir,orientation:"vertical",loop:o,currentTabStopId:M,onCurrentTabStopIdChange:R,onEntryFocus:be(f,I=>{C.isUsingKeyboardRef.current||I.preventDefault()})}),d.createElement(Ms,ee({role:"menu","aria-orientation":"vertical","data-state":K0(E.open),"data-radix-menu-content":"",dir:C.dir},T,x,{ref:B,style:{outline:"none",...x.style},onKeyDown:be(x.onKeyDown,I=>{const z=I.target.closest("[data-radix-menu-content]")===I.currentTarget,j=I.ctrlKey||I.altKey||I.metaKey,W=I.key.length===1;z&&(I.key==="Tab"&&I.preventDefault(),!j&&W&&le(I.key));const Z=L.current;if(I.target!==Z||!$P.includes(I.key))return;I.preventDefault();const ie=O().filter(te=>!te.disabled).map(te=>te.ref.current);H0.includes(I.key)&&ie.reverse(),gT(ie)}),onBlur:be(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(G.current),Q.current="")}),onPointerMove:be(e.onPointerMove,cs(I=>{const P=I.target,z=ne.current!==I.clientX;if(I.currentTarget.contains(P)&&z){const j=I.clientX>ne.current?"right":"left";se.current=j,ne.current=I.clientX}}))})))))))}),oT=d.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return d.createElement(Be.div,ee({},o,{ref:n}))}),vp="MenuItem",Cy="menu.itemSelect",uv=d.forwardRef((e,n)=>{const{disabled:t=!1,onSelect:o,...i}=e,s=d.useRef(null),c=Rs(vp,e.__scopeMenu),u=lv(vp,e.__scopeMenu),f=Qe(n,s),v=d.useRef(!1),m=()=>{const g=s.current;if(!t&&g){const b=new CustomEvent(Cy,{bubbles:!0,cancelable:!0});g.addEventListener(Cy,w=>o==null?void 0:o(w),{once:!0}),Bb(g,b),b.defaultPrevented?v.current=!1:c.onClose()}};return d.createElement(U0,ee({},i,{ref:f,disabled:t,onClick:be(e.onClick,m),onPointerDown:g=>{var b;(b=e.onPointerDown)===null||b===void 0||b.call(e,g),v.current=!0},onPointerUp:be(e.onPointerUp,g=>{var b;v.current||(b=g.currentTarget)===null||b===void 0||b.click()}),onKeyDown:be(e.onKeyDown,g=>{const b=u.searchRef.current!=="";t||b&&g.key===" "||pp.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})}))}),U0=d.forwardRef((e,n)=>{const{__scopeMenu:t,disabled:o=!1,textValue:i,...s}=e,c=lv(vp,t),u=B0(t),f=d.useRef(null),v=Qe(n,f),[m,g]=d.useState(!1),[b,w]=d.useState("");return d.useEffect(()=>{const k=f.current;if(k){var x;w(((x=k.textContent)!==null&&x!==void 0?x:"").trim())}},[s.children]),d.createElement(ls.ItemSlot,{scope:t,disabled:o,textValue:i??b},d.createElement(j0,ee({asChild:!0},u,{focusable:!o}),d.createElement(Be.div,ee({role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0},s,{ref:v,onPointerMove:be(e.onPointerMove,cs(k=>{o?c.onItemLeave(k):(c.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus())})),onPointerLeave:be(e.onPointerLeave,cs(k=>c.onItemLeave(k))),onFocus:be(e.onFocus,()=>g(!0)),onBlur:be(e.onBlur,()=>g(!1))}))))}),aT=d.forwardRef((e,n)=>{const{checked:t=!1,onCheckedChange:o,...i}=e;return d.createElement(G0,{scope:e.__scopeMenu,checked:t},d.createElement(uv,ee({role:"menuitemcheckbox","aria-checked":Ac(t)?"mixed":t},i,{ref:n,"data-state":dv(t),onSelect:be(i.onSelect,()=>o==null?void 0:o(Ac(t)?!0:!t),{checkForDefaultPrevented:!1})})))}),iT="MenuRadioGroup",[W8,sT]=Oo(iT,{value:void 0,onValueChange:()=>{}}),lT="MenuRadioItem",cT=d.forwardRef((e,n)=>{const{value:t,...o}=e,i=sT(lT,e.__scopeMenu),s=t===i.value;return d.createElement(G0,{scope:e.__scopeMenu,checked:s},d.createElement(uv,ee({role:"menuitemradio","aria-checked":s},o,{ref:n,"data-state":dv(s),onSelect:be(o.onSelect,()=>{var c;return(c=i.onValueChange)===null||c===void 0?void 0:c.call(i,t)},{checkForDefaultPrevented:!1})})))}),q0="MenuItemIndicator",[G0,uT]=Oo(q0,{checked:!1}),dT=d.forwardRef((e,n)=>{const{__scopeMenu:t,forceMount:o,...i}=e,s=uT(q0,t);return d.createElement(cn,{present:o||Ac(s.checked)||s.checked===!0},d.createElement(Be.span,ee({},i,{ref:n,"data-state":dv(s.checked)})))}),fT=d.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return d.createElement(Be.div,ee({role:"separator","aria-orientation":"horizontal"},o,{ref:n}))}),pT="MenuSub",[V8,Y0]=Oo(pT),cc="MenuSubTrigger",vT=d.forwardRef((e,n)=>{const t=Mo(cc,e.__scopeMenu),o=Rs(cc,e.__scopeMenu),i=Y0(cc,e.__scopeMenu),s=lv(cc,e.__scopeMenu),c=d.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=s,v={__scopeMenu:e.__scopeMenu},m=d.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return d.useEffect(()=>m,[m]),d.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),f(null)}},[u,f]),d.createElement(W0,ee({asChild:!0},v),d.createElement(U0,ee({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":K0(t.open)},e,{ref:Jc(n,i.onTriggerChange),onClick:g=>{var b;(b=e.onClick)===null||b===void 0||b.call(e,g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:be(e.onPointerMove,cs(g=>{s.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!t.open&&!c.current&&(s.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{t.onOpenChange(!0),m()},100))})),onPointerLeave:be(e.onPointerLeave,cs(g=>{var b;m();const w=(b=t.content)===null||b===void 0?void 0:b.getBoundingClientRect();if(w){var k;const x=(k=t.content)===null||k===void 0?void 0:k.dataset.side,E=x==="right",C=E?-5:5,T=w[E?"left":"right"],D=w[E?"right":"left"];s.onPointerGraceIntentChange({area:[{x:g.clientX+C,y:g.clientY},{x:T,y:w.top},{x:D,y:w.top},{x:D,y:w.bottom},{x:T,y:w.bottom}],side:x}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(g),g.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:be(e.onKeyDown,g=>{const b=s.searchRef.current!=="";if(!(e.disabled||b&&g.key===" ")&&UP[o.dir].includes(g.key)){var w;t.onOpenChange(!0),(w=t.content)===null||w===void 0||w.focus(),g.preventDefault()}})})))}),hT="MenuSubContent",mT=d.forwardRef((e,n)=>{const t=$0(jn,e.__scopeMenu),{forceMount:o=t.forceMount,...i}=e,s=Mo(jn,e.__scopeMenu),c=Rs(jn,e.__scopeMenu),u=Y0(hT,e.__scopeMenu),f=d.useRef(null),v=Qe(n,f);return d.createElement(ls.Provider,{scope:e.__scopeMenu},d.createElement(cn,{present:o||s.open},d.createElement(ls.Slot,{scope:e.__scopeMenu},d.createElement(cv,ee({id:u.contentId,"aria-labelledby":u.triggerId},i,{ref:v,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var g;c.isUsingKeyboardRef.current&&((g=f.current)===null||g===void 0||g.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:be(e.onFocusOutside,m=>{m.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:be(e.onEscapeKeyDown,m=>{c.onClose(),m.preventDefault()}),onKeyDown:be(e.onKeyDown,m=>{const g=m.currentTarget.contains(m.target),b=qP[c.dir].includes(m.key);if(g&&b){var w;s.onOpenChange(!1),(w=u.trigger)===null||w===void 0||w.focus(),m.preventDefault()}})})))))});function K0(e){return e?"open":"closed"}function Ac(e){return e==="indeterminate"}function dv(e){return Ac(e)?"indeterminate":e?"checked":"unchecked"}function gT(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function yT(e,n){return e.map((t,o)=>e[(n+o)%e.length])}function bT(e,n,t){const i=n.length>1&&Array.from(n).every(v=>v===n[0])?n[0]:n,s=t?e.indexOf(t):-1;let c=yT(e,Math.max(s,0));i.length===1&&(c=c.filter(v=>v!==t));const f=c.find(v=>v.toLowerCase().startsWith(i.toLowerCase()));return f!==t?f:void 0}function wT(e,n){const{x:t,y:o}=e;let i=!1;for(let s=0,c=n.length-1;s<n.length;c=s++){const u=n[s].x,f=n[s].y,v=n[c].x,m=n[c].y;f>o!=m>o&&t<(v-u)*(o-f)/(m-f)+u&&(i=!i)}return i}function xT(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return wT(t,n)}function cs(e){return n=>n.pointerType==="mouse"?e(n):void 0}const X0=QP,Q0=W0,Z0=JP,J0=tT,ew=oT,tw=uv,nw=aT,rw=cT,ow=dT,aw=fT,iw=vT,sw=mT,lw="DropdownMenu",[kT,$8]=En(lw,[mu]),Cn=mu(),[ET,cw]=kT(lw),CT=e=>{const{__scopeDropdownMenu:n,children:t,dir:o,open:i,defaultOpen:s,onOpenChange:c,modal:u=!0}=e,f=Cn(n),v=d.useRef(null),[m=!1,g]=vr({prop:i,defaultProp:s,onChange:c});return d.createElement(ET,{scope:n,triggerId:gn(),triggerRef:v,contentId:gn(),open:m,onOpenChange:g,onOpenToggle:d.useCallback(()=>g(b=>!b),[g]),modal:u},d.createElement(X0,ee({},f,{open:m,onOpenChange:g,dir:o,modal:u}),t))},ST="DropdownMenuTrigger",NT=d.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,disabled:o=!1,...i}=e,s=cw(ST,t),c=Cn(t);return d.createElement(Q0,ee({asChild:!0},c),d.createElement(Be.button,ee({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":o?"":void 0,disabled:o},i,{ref:Jc(n,s.triggerRef),onPointerDown:be(e.onPointerDown,u=>{!o&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:be(e.onKeyDown,u=>{o||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})))}),PT=e=>{const{__scopeDropdownMenu:n,...t}=e,o=Cn(n);return d.createElement(Z0,ee({},o,t))},TT="DropdownMenuContent",DT=d.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,i=cw(TT,t),s=Cn(t),c=d.useRef(!1);return d.createElement(J0,ee({id:i.contentId,"aria-labelledby":i.triggerId},s,o,{ref:n,onCloseAutoFocus:be(e.onCloseAutoFocus,u=>{var f;c.current||(f=i.triggerRef.current)===null||f===void 0||f.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:be(e.onInteractOutside,u=>{const f=u.detail.originalEvent,v=f.button===0&&f.ctrlKey===!0,m=f.button===2||v;(!i.modal||m)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),OT=d.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,i=Cn(t);return d.createElement(ew,ee({},i,o,{ref:n}))}),MT=d.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,i=Cn(t);return d.createElement(tw,ee({},i,o,{ref:n}))}),RT=d.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,i=Cn(t);return d.createElement(nw,ee({},i,o,{ref:n}))}),_T=d.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,i=Cn(t);return d.createElement(rw,ee({},i,o,{ref:n}))}),LT=d.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,i=Cn(t);return d.createElement(ow,ee({},i,o,{ref:n}))}),zT=d.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,i=Cn(t);return d.createElement(aw,ee({},i,o,{ref:n}))}),IT=d.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,i=Cn(t);return d.createElement(iw,ee({},i,o,{ref:n}))}),AT=d.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,i=Cn(t);return d.createElement(sw,ee({},i,o,{ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),FT=CT,jT=NT,HT=PT,uw=DT,dw=OT,fw=MT,pw=RT,vw=_T,hw=LT,mw=zT,gw=IT,yw=AT,Fc=FT,jc=jT,BT=d.forwardRef(({className:e,inset:n,children:t,...o},i)=>X(gw,{ref:i,className:we("tv-flex tv-cursor-default tv-select-none tv-items-center tv-rounded-sm tv-px-2 tv-py-1.5 tv-text-sm tv-outline-none focus:tv-bg-accent data-[state=open]:tv-bg-accent",n&&"tv-pl-8",e),...o,children:[t,N(f0,{className:"tv-ml-auto tv-h-4 tv-w-4"})]}));BT.displayName=gw.displayName;const WT=d.forwardRef(({className:e,...n},t)=>N(yw,{ref:t,className:we("tv-z-50 tv-min-w-[8rem] tv-overflow-hidden tv-rounded-md tv-border tv-bg-popover tv-p-1 tv-text-popover-foreground tv-shadow-lg data-[state=open]:tv-animate-in data-[state=closed]:tv-animate-out data-[state=closed]:tv-fade-out-0 data-[state=open]:tv-fade-in-0 data-[state=closed]:tv-zoom-out-95 data-[state=open]:tv-zoom-in-95 data-[side=bottom]:tv-slide-in-from-top-2 data-[side=left]:tv-slide-in-from-right-2 data-[side=right]:tv-slide-in-from-left-2 data-[side=top]:tv-slide-in-from-bottom-2",e),...n}));WT.displayName=yw.displayName;const us=d.forwardRef(({className:e,sideOffset:n=4,...t},o)=>N(HT,{children:N(uw,{ref:o,sideOffset:n,className:we("tv-z-50 tv-min-w-[8rem] tv-overflow-hidden tv-rounded-md tv-border tv-bg-popover tv-p-1 tv-text-popover-foreground tv-shadow-md","data-[state=open]:tv-animate-in data-[state=closed]:tv-animate-out data-[state=closed]:tv-fade-out-0 data-[state=open]:tv-fade-in-0 data-[state=closed]:tv-zoom-out-95 data-[state=open]:tv-zoom-in-95 data-[side=bottom]:tv-slide-in-from-top-2 data-[side=left]:tv-slide-in-from-right-2 data-[side=right]:tv-slide-in-from-left-2 data-[side=top]:tv-slide-in-from-bottom-2",e),...t})}));us.displayName=uw.displayName;const ds=d.forwardRef(({className:e,inset:n,...t},o)=>N(fw,{ref:o,className:we("tv-relative tv-flex tv-cursor-default tv-select-none tv-items-center tv-rounded-sm tv-px-2 tv-py-1.5 tv-text-sm tv-outline-none tv-transition-colors focus:tv-bg-accent focus:tv-text-accent-foreground data-[disabled]:tv-pointer-events-none data-[disabled]:tv-opacity-50",n&&"tv-pl-8",e),...t}));ds.displayName=fw.displayName;const VT=d.forwardRef(({className:e,children:n,checked:t,...o},i)=>X(pw,{ref:i,className:we("tv-relative tv-flex tv-cursor-default tv-select-none tv-items-center tv-rounded-sm tv-py-1.5 tv-pl-8 tv-pr-2 tv-text-sm tv-outline-none tv-transition-colors focus:tv-bg-accent focus:tv-text-accent-foreground data-[disabled]:tv-pointer-events-none data-[disabled]:tv-opacity-50",e),checked:t,...o,children:[N("span",{className:"tv-absolute tv-left-2 tv-flex tv-h-3.5 tv-w-3.5 tv-items-center tv-justify-center",children:N(hw,{children:N(Kp,{className:"tv-h-4 tv-w-4"})})}),n]}));VT.displayName=pw.displayName;const $T=d.forwardRef(({className:e,children:n,...t},o)=>X(vw,{ref:o,className:we("tv-relative tv-flex tv-cursor-default tv-select-none tv-items-center tv-rounded-sm tv-py-1.5 tv-pl-8 tv-pr-2 tv-text-sm tv-outline-none tv-transition-colors focus:tv-bg-accent focus:tv-text-accent-foreground data-[disabled]:tv-pointer-events-none data-[disabled]:tv-opacity-50",e),...t,children:[N("span",{className:"tv-absolute tv-left-2 tv-flex tv-h-3.5 tv-w-3.5 tv-items-center tv-justify-center",children:N(hw,{children:N(p0,{className:"tv-h-4 tv-w-4 tv-fill-current"})})}),n]}));$T.displayName=vw.displayName;const UT=d.forwardRef(({className:e,inset:n,...t},o)=>N(dw,{ref:o,className:we("tv-px-2 tv-py-1.5 tv-text-sm tv-font-semibold",n&&"tv-pl-8",e),...t}));UT.displayName=dw.displayName;const qT=d.forwardRef(({className:e,...n},t)=>N(mw,{ref:t,className:we("tv--mx-1 tv-my-1 tv-h-px tv-bg-muted",e),...n}));qT.displayName=mw.displayName;const Tc={work:"工作中遇到了什么问题，如何解决的？",mood:"今天什么让我感到了快乐/难过的？",sport:"今天做了什么运动？",love:"今天的爱情观是什么？",get:"今天的收获是什么？",learn:"今天学到了什么？",help:"今天帮助了谁？",important:"今天最重要的事情是什么？"},Hc={Sunny:"☀️",Rainy:"🌧️",Cloudy:"☁️",Snowy:"❄️"},Bc={Happy:"😊",Sad:"😢",Angry:"😡",Excited:"😆"},Fi=Object.keys(Tc),GT=({view:e})=>{const n=Fi.reduce((Q,re)=>(Q[re]={ref:d.useRef(null),type:re},Q),{}),[t,o]=d.useState(!1),[i,s]=d.useState(""),[c,u]=d.useState(""),[f,v]=d.useState("Sunny"),[m,g]=d.useState("happy"),[b,w]=d.useState("save"),k=d.useCallback(()=>Fi.every(Q=>n[Q].ref.current.getContent()===""),[n]);d.useEffect(()=>{e&&e.registerEvent(e.app.workspace.on("cache-area-confirm-close",Q=>{if(Q===e.leaf.id&&!t){if(k()){Ke.setClosedByCacheArea(!0),C(),e.leaf.detach();return}e.app.workspace.setActiveLeaf(e.leaf),w("close"),o(!0)}}))},[e,k,t]);const x=()=>{let Q="";return Fi.forEach(Y=>{const se=n[Y].ref.current.getContent();Q+=`# ${Tc[Y]}

${se}

`}),Q=`---
weather: ${f}
mood: ${m}
templify: daily-note
---

`+Q,Q},E=d.useCallback(async()=>{await iu({content:x(),path:i,view:e,cb:()=>{s(""),o(!1),C(),T()}})},[n,e,i]),C=d.useCallback(()=>{Fi.forEach(Q=>{bo(e.app,e.leaf,Q)})},[e]),T=d.useCallback(()=>{Fi.forEach(Q=>{var re;(re=n[Q].ref.current)==null||re.clear()})},[n]),D=d.useMemo(()=>({view:e,onSaveBtnClick:Q=>{w("save"),o(!0),u(Q)}}),[e]),O=()=>{o(!1)},M=Q=>{s(Q)},R=()=>{e.leaf.detach()},L=Q=>{w(Q)},B=d.useMemo(()=>({saveContent:E,handleValueChange:M,handleCloseDialog:O,handleCloseView:R,handleSwitchDialogType:L,removeAllContentCache:C,removeAllContent:T}),[b,i,m,f]),G=d.useMemo(()=>({handleCloseDialog:O,handleCloseView:R,handleSwitchDialogType:L,handleValueChange:M,saveContent:E,removeAllContentCache:C,removeAllContent:T}),[b,i,m,f]);return X(ct,{children:[X("div",{className:"tv-flex tv-flex-col tv-h-full tv-w-full tv-p-2 tv-pt-0",children:[X("div",{className:"tv-flex tv-flex-row tv-justify-between tv-h-16",children:[X("div",{className:"tv-flex tv-flex-row tv-items-center tv-font-sans tv-font-bold ",children:[N("div",{className:"tv-flex tv-flex-col tv-mr-1",children:N("div",{className:"tv-text-xl",children:ge.moment().format("DD")})}),X("div",{className:"tv-flex tv-flex-col",children:[N("div",{className:"tv-text-sm",children:ge.moment().format("YYYY.MM")}),N("div",{className:"tv-text-sm",children:ge.moment().local().format("ddd")})]})]}),X("div",{className:"tv-flex tv-flex-row tv-items-center tv-gap-2",children:[X(Fc,{children:[N(jc,{asChild:!0,children:N(ft,{"aria-label":"weather",variant:"ghost",size:"icon",className:"tv-p-2 tv-shadow-none tv-font-bold tv-bg-zinc-200",children:Hc[f]})}),N(us,{children:["Sunny","Rainy","Cloudy","Snowy"].map((Q,re)=>X(ds,{onClick:()=>{v(Q)},children:[Hc[Q]," ",Q]}))})]}),X(Fc,{children:[N(jc,{asChild:!0,children:N(ft,{"aria-label":"mood",variant:"ghost",size:"icon",className:"tv-p-2 tv-shadow-none tv-font-bold tv-bg-zinc-200",children:Bc[m]})}),N(us,{children:["Happy","Sad","Angry","Excited"].map((Q,re)=>X(ds,{onClick:()=>{g(Q)},children:[Bc[Q]," ",Q]}))})]})]})]}),N("div",{className:"tv-grid tv-grid-cols-2 tv-h-full tv-w-full",children:Object.keys(Tc).map((Q,re)=>N(ct,{children:X("div",{className:"tv-flex tv-flex-col tv-h-full tv-w-full tv-gap-2 tv-p-2 tv-pt-0 tv-border tv-border-solid tv-border-gray-200 ",children:[N("div",{className:"tv-text-lg tv-font-bold tv-text-muted-foreground tv-font-sans tv-p-2",children:Tc[Q]},re),N(Ea,{ref:n[Q].ref,...D})]})}))})]}),N(ja,{open:t,defaultOpen:t,onOpenChange:Q=>{o(Q)},children:N(Do,{children:b==="close"?N(fu,{value:i,...G}):N(du,{value:i,...B})})})]})},{createElement:Da,createContext:YT,createRef:U8,forwardRef:bw,useCallback:qt,useContext:ww,useEffect:wo,useImperativeHandle:xw,useLayoutEffect:KT,useMemo:XT,useRef:rn,useState:Wc}=Zc,Sy=Zc["useId".toString()],gu=YT(null);gu.displayName="PanelGroupContext";const fs=KT,QT=typeof Sy=="function"?Sy:()=>null;let ZT=0;function fv(e=null){const n=QT(),t=rn(e||n||null);return t.current===null&&(t.current=""+ZT++),e??t.current}function kw({children:e,className:n="",collapsedSize:t,collapsible:o,defaultSize:i,forwardedRef:s,id:c,maxSize:u,minSize:f,onCollapse:v,onExpand:m,onResize:g,order:b,style:w,tagName:k="div",...x}){const E=ww(gu);if(E===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:C,expandPanel:T,getPanelSize:D,getPanelStyle:O,groupId:M,isPanelCollapsed:R,reevaluatePanelConstraints:L,registerPanel:B,resizePanel:G,unregisterPanel:Q}=E,re=fv(c),Y=rn({callbacks:{onCollapse:v,onExpand:m,onResize:g},constraints:{collapsedSize:t,collapsible:o,defaultSize:i,maxSize:u,minSize:f},id:re,idIsFromProps:c!==void 0,order:b});rn({didLogMissingDefaultSizeWarning:!1}),fs(()=>{const{callbacks:ne,constraints:J}=Y.current,de={...J};Y.current.id=re,Y.current.idIsFromProps=c!==void 0,Y.current.order=b,ne.onCollapse=v,ne.onExpand=m,ne.onResize=g,J.collapsedSize=t,J.collapsible=o,J.defaultSize=i,J.maxSize=u,J.minSize=f,(de.collapsedSize!==J.collapsedSize||de.collapsible!==J.collapsible||de.maxSize!==J.maxSize||de.minSize!==J.minSize)&&L(Y.current,de)}),fs(()=>{const ne=Y.current;return B(ne),()=>{Q(ne)}},[b,re,B,Q]),xw(s,()=>({collapse:()=>{C(Y.current)},expand:()=>{T(Y.current)},getId(){return re},getSize(){return D(Y.current)},isCollapsed(){return R(Y.current)},isExpanded(){return!R(Y.current)},resize:ne=>{G(Y.current,ne)}}),[C,T,D,R,re,G]);const se=O(Y.current,i);return Da(k,{...x,children:e,className:n,style:{...se,...w},"data-panel":"","data-panel-id":re,"data-panel-group-id":M,"data-panel-collapsible":void 0,"data-panel-size":void 0})}const Ew=bw((e,n)=>Da(kw,{...e,forwardedRef:n}));kw.displayName="Panel";Ew.displayName="forwardRef(Panel)";function Fe(e,n="Assertion failed!"){if(!e)throw Error(n)}const Cw=10;function ps(e,n,t=Cw){e=parseFloat(e.toFixed(t)),n=parseFloat(n.toFixed(t));const o=e-n;return o===0?0:o>0?1:-1}function nn(e,n,t){return ps(e,n,t)===0}function wa({panelConstraints:e,panelIndex:n,size:t}){const o=e[n];Fe(o!=null);let{collapsedSize:i=0,collapsible:s,maxSize:c=100,minSize:u=0}=o;if(ps(t,u)<0)if(s){const f=(i+u)/2;ps(t,f)<0?t=i:t=u}else t=u;return t=Math.min(c,t),t=parseFloat(t.toFixed(Cw)),t}function qi({delta:e,layout:n,panelConstraints:t,pivotIndices:o,trigger:i}){if(nn(e,0))return n;const s=[...n],[c,u]=o;Fe(c!=null),Fe(u!=null);let f=0;if(i==="keyboard"){{const m=e<0?u:c,g=t[m];if(Fe(g),g.collapsible){const b=n[m];Fe(b!=null);const w=t[m];Fe(w);const{collapsedSize:k=0,minSize:x=0}=w;if(nn(b,k)){const E=x-b;ps(E,Math.abs(e))>0&&(e=e<0?0-E:E)}}}{const m=e<0?c:u,g=t[m];Fe(g);const{collapsible:b}=g;if(b){const w=n[m];Fe(w!=null);const k=t[m];Fe(k);const{collapsedSize:x=0,minSize:E=0}=k;if(nn(w,E)){const C=w-x;ps(C,Math.abs(e))>0&&(e=e<0?0-C:C)}}}}{const m=e<0?1:-1;let g=e<0?u:c,b=0;for(;;){const k=n[g];Fe(k!=null);const E=wa({panelConstraints:t,panelIndex:g,size:100})-k;if(b+=E,g+=m,g<0||g>=t.length)break}const w=Math.min(Math.abs(e),Math.abs(b));e=e<0?0-w:w}{let g=e<0?c:u;for(;g>=0&&g<t.length;){const b=Math.abs(e)-Math.abs(f),w=n[g];Fe(w!=null);const k=w-b,x=wa({panelConstraints:t,panelIndex:g,size:k});if(!nn(w,x)&&(f+=w-x,s[g]=x,f.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?g--:g++}}if(nn(f,0))return n;{const m=e<0?u:c,g=n[m];Fe(g!=null);const b=g+f,w=wa({panelConstraints:t,panelIndex:m,size:b});if(s[m]=w,!nn(w,b)){let k=b-w,E=e<0?u:c;for(;E>=0&&E<t.length;){const C=s[E];Fe(C!=null);const T=C+k,D=wa({panelConstraints:t,panelIndex:E,size:T});if(nn(C,D)||(k-=D-C,s[E]=D),nn(k,0))break;e>0?E--:E++}}}const v=s.reduce((m,g)=>g+m,0);return nn(v,100)?s:n}function JT({layout:e,panelsArray:n,pivotIndices:t}){let o=0,i=100,s=0,c=0;const u=t[0];Fe(u!=null),n.forEach((g,b)=>{const{constraints:w}=g,{maxSize:k=100,minSize:x=0}=w;b===u?(o=x,i=k):(s+=x,c+=k)});const f=Math.min(i,100-s),v=Math.max(o,100-c),m=e[u];return{valueMax:f,valueMin:v,valueNow:m}}function vs(e,n=document){return Array.from(n.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function Sw(e,n,t=document){const i=vs(e,t).findIndex(s=>s.getAttribute("data-panel-resize-handle-id")===n);return i??null}function Nw(e,n,t){const o=Sw(e,n,t);return o!=null?[o,o+1]:[-1,-1]}function Pw(e,n=document){var t;if(n instanceof HTMLElement&&(n==null||(t=n.dataset)===null||t===void 0?void 0:t.panelGroupId)==e)return n;const o=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return o||null}function yu(e,n=document){const t=n.querySelector(`[data-panel-resize-handle-id="${e}"]`);return t||null}function eD(e,n,t,o=document){var i,s,c,u;const f=yu(n,o),v=vs(e,o),m=f?v.indexOf(f):-1,g=(i=(s=t[m])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null,b=(c=(u=t[m+1])===null||u===void 0?void 0:u.id)!==null&&c!==void 0?c:null;return[g,b]}function tD({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:o,panelDataArray:i,panelGroupElement:s,setLayout:c}){rn({didWarnAboutMissingResizeHandle:!1}),fs(()=>{if(!s)return;const u=vs(t,s);for(let f=0;f<i.length-1;f++){const{valueMax:v,valueMin:m,valueNow:g}=JT({layout:o,panelsArray:i,pivotIndices:[f,f+1]}),b=u[f];if(b!=null){const w=i[f];Fe(w),b.setAttribute("aria-controls",w.id),b.setAttribute("aria-valuemax",""+Math.round(v)),b.setAttribute("aria-valuemin",""+Math.round(m)),b.setAttribute("aria-valuenow",g!=null?""+Math.round(g):"")}}return()=>{u.forEach((f,v)=>{f.removeAttribute("aria-controls"),f.removeAttribute("aria-valuemax"),f.removeAttribute("aria-valuemin"),f.removeAttribute("aria-valuenow")})}},[t,o,i,s]),wo(()=>{if(!s)return;const u=n.current;Fe(u);const{panelDataArray:f}=u,v=Pw(t,s);Fe(v!=null,`No group found for id "${t}"`);const m=vs(t,s);Fe(m);const g=m.map(b=>{const w=b.getAttribute("data-panel-resize-handle-id");Fe(w);const[k,x]=eD(t,w,f,s);if(k==null||x==null)return()=>{};const E=C=>{if(!C.defaultPrevented)switch(C.key){case"Enter":{C.preventDefault();const T=f.findIndex(D=>D.id===k);if(T>=0){const D=f[T];Fe(D);const O=o[T],{collapsedSize:M=0,collapsible:R,minSize:L=0}=D.constraints;if(O!=null&&R){const B=qi({delta:nn(O,M)?L-M:M-O,layout:o,panelConstraints:f.map(G=>G.constraints),pivotIndices:Nw(t,w,s),trigger:"keyboard"});o!==B&&c(B)}}break}}};return b.addEventListener("keydown",E),()=>{b.removeEventListener("keydown",E)}});return()=>{g.forEach(b=>b())}},[s,e,n,t,o,i,c])}function Ny(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function Tw(e){return e.type==="keydown"}function Dw(e){return e.type.startsWith("mouse")}function Ow(e){return e.type.startsWith("touch")}function Mw(e,n){const t=e==="horizontal";if(Dw(n))return t?n.clientX:n.clientY;if(Ow(n)){const o=n.touches[0];return Fe(o),t?o.screenX:o.screenY}else throw Error(`Unsupported event type "${n.type}"`)}function nD(e,n,t,o,i){const s=t==="horizontal",c=yu(n,i);Fe(c);const u=c.getAttribute("data-panel-group-id");Fe(u);let{initialCursorPosition:f}=o;const v=Mw(t,e),m=Pw(u,i);Fe(m);const g=m.getBoundingClientRect(),b=s?g.width:g.height;return(v-f)/b*100}function rD(e,n,t,o,i,s){if(Tw(e)){const c=t==="horizontal";let u=0;e.shiftKey?u=100:i!=null?u=i:u=10;let f=0;switch(e.key){case"ArrowDown":f=c?0:u;break;case"ArrowLeft":f=c?-u:0;break;case"ArrowRight":f=c?u:0;break;case"ArrowUp":f=c?0:-u;break;case"End":f=100;break;case"Home":f=-100;break}return f}else return o==null?0:nD(e,n,t,o,s)}function oD({panelDataArray:e}){const n=Array(e.length),t=e.map(s=>s.constraints);let o=0,i=100;for(let s=0;s<e.length;s++){const c=t[s];Fe(c);const{defaultSize:u}=c;u!=null&&(o++,n[s]=u,i-=u)}for(let s=0;s<e.length;s++){const c=t[s];Fe(c);const{defaultSize:u}=c;if(u!=null)continue;const f=e.length-o,v=i/f;o++,n[s]=v,i-=v}return n}function fa(e,n,t){n.forEach((o,i)=>{const s=e[i];Fe(s);const{callbacks:c,constraints:u,id:f}=s,{collapsedSize:v=0,collapsible:m}=u,g=t[f];if(g==null||o!==g){t[f]=o;const{onCollapse:b,onExpand:w,onResize:k}=c;k&&k(o,g),m&&(b||w)&&(w&&(g==null||g===v)&&o!==v&&w(),b&&(g==null||g!==v)&&o===v&&b())}})}function uc(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function aD({defaultSize:e,dragState:n,layout:t,panelData:o,panelIndex:i,precision:s=3}){const c=t[i];let u;return c==null?u=e??"1":o.length===1?u="1":u=c.toPrecision(s),{flexBasis:0,flexGrow:u,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}let hp=null,ho=null;function Rw(e){switch(e){case"horizontal":return"ew-resize";case"horizontal-max":return"w-resize";case"horizontal-min":return"e-resize";case"vertical":return"ns-resize";case"vertical-max":return"n-resize";case"vertical-min":return"s-resize"}}function iD(){ho!==null&&(document.head.removeChild(ho),hp=null,ho=null)}function Af(e){if(hp===e)return;hp=e;const n=Rw(e);ho===null&&(ho=document.createElement("style"),document.head.appendChild(ho)),ho.innerHTML=`*{cursor: ${n}!important;}`}function sD(e,n=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}function Py(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch{e.getItem=()=>null,e.setItem=()=>{}}}function _w(e){return`react-resizable-panels:${e}`}function Lw(e){return e.map(n=>{const{constraints:t,id:o,idIsFromProps:i,order:s}=n;return i?o:s?`${s}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function zw(e,n){try{const t=_w(e),o=n.getItem(t);if(o){const i=JSON.parse(o);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function lD(e,n,t){var o,i;const s=(o=zw(e,t))!==null&&o!==void 0?o:{},c=Lw(n);return(i=s[c])!==null&&i!==void 0?i:null}function cD(e,n,t,o,i){var s;const c=_w(e),u=Lw(n),f=(s=zw(e,i))!==null&&s!==void 0?s:{};f[u]={expandToSizes:Object.fromEntries(t.entries()),layout:o};try{i.setItem(c,JSON.stringify(f))}catch{}}function Ty({layout:e,panelConstraints:n}){const t=[...e],o=t.reduce((s,c)=>s+c,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(s=>`${s}%`).join(", ")}`);if(!nn(o,100))for(let s=0;s<n.length;s++){const c=t[s];Fe(c!=null);const u=100/o*c;t[s]=u}let i=0;for(let s=0;s<n.length;s++){const c=t[s];Fe(c!=null);const u=wa({panelConstraints:n,panelIndex:s,size:c});c!=u&&(i+=c-u,t[s]=u)}if(!nn(i,0))for(let s=0;s<n.length;s++){const c=t[s];Fe(c!=null);const u=c+i,f=wa({panelConstraints:n,panelIndex:s,size:u});if(c!==f&&(i-=f-c,t[s]=f,nn(i,0)))break}return t}const uD=100,Gi={getItem:e=>(Py(Gi),Gi.getItem(e)),setItem:(e,n)=>{Py(Gi),Gi.setItem(e,n)}},Dy={};function Iw({autoSaveId:e=null,children:n,className:t="",direction:o,forwardedRef:i,id:s=null,onLayout:c=null,keyboardResizeBy:u=null,storage:f=Gi,style:v,tagName:m="div",...g}){const b=fv(s),w=rn(null),[k,x]=Wc(null),[E,C]=Wc([]),T=rn({}),D=rn(new Map),O=rn(0),M=rn({autoSaveId:e,direction:o,dragState:k,id:b,keyboardResizeBy:u,onLayout:c,storage:f}),R=rn({layout:E,panelDataArray:[],panelDataArrayChanged:!1});rn({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),xw(i,()=>({getId:()=>M.current.id,getLayout:()=>{const{layout:j}=R.current;return j},setLayout:j=>{const{onLayout:W}=M.current,{layout:Z,panelDataArray:ae}=R.current,ie=Ty({layout:j,panelConstraints:ae.map(te=>te.constraints)});Ny(Z,ie)||(C(ie),R.current.layout=ie,W&&W(ie),fa(ae,ie,T.current))}}),[]),fs(()=>{M.current.autoSaveId=e,M.current.direction=o,M.current.dragState=k,M.current.id=b,M.current.onLayout=c,M.current.storage=f}),tD({committedValuesRef:M,eagerValuesRef:R,groupId:b,layout:E,panelDataArray:R.current.panelDataArray,setLayout:C,panelGroupElement:w.current}),wo(()=>{const{panelDataArray:j}=R.current;if(e){if(E.length===0||E.length!==j.length)return;let W=Dy[e];W==null&&(W=sD(cD,uD),Dy[e]=W);const Z=[...j],ae=new Map(D.current);W(e,Z,ae,E,f)}},[e,E,f]),wo(()=>{});const L=qt(j=>{const{onLayout:W}=M.current,{layout:Z,panelDataArray:ae}=R.current;if(j.constraints.collapsible){const ie=ae.map(xe=>xe.constraints),{collapsedSize:te=0,panelSize:$,pivotIndices:oe}=co(ae,j,Z);if(Fe($!=null),$!==te){D.current.set(j.id,$);const ye=ya(ae,j)===ae.length-1?$-te:te-$,ve=qi({delta:ye,layout:Z,panelConstraints:ie,pivotIndices:oe,trigger:"imperative-api"});uc(Z,ve)||(C(ve),R.current.layout=ve,W&&W(ve),fa(ae,ve,T.current))}}},[]),B=qt(j=>{const{onLayout:W}=M.current,{layout:Z,panelDataArray:ae}=R.current;if(j.constraints.collapsible){const ie=ae.map(ye=>ye.constraints),{collapsedSize:te=0,panelSize:$,minSize:oe=0,pivotIndices:xe}=co(ae,j,Z);if($===te){const ye=D.current.get(j.id),ve=ye!=null&&ye>=oe?ye:oe,K=ya(ae,j)===ae.length-1?$-ve:ve-$,fe=qi({delta:K,layout:Z,panelConstraints:ie,pivotIndices:xe,trigger:"imperative-api"});uc(Z,fe)||(C(fe),R.current.layout=fe,W&&W(fe),fa(ae,fe,T.current))}}},[]),G=qt(j=>{const{layout:W,panelDataArray:Z}=R.current,{panelSize:ae}=co(Z,j,W);return Fe(ae!=null),ae},[]),Q=qt((j,W)=>{const{panelDataArray:Z}=R.current,ae=ya(Z,j);return aD({defaultSize:W,dragState:k,layout:E,panelData:Z,panelIndex:ae})},[k,E]),re=qt(j=>{const{layout:W,panelDataArray:Z}=R.current,{collapsedSize:ae=0,collapsible:ie,panelSize:te}=co(Z,j,W);return ie===!0&&te===ae},[]),Y=qt(j=>{const{layout:W,panelDataArray:Z}=R.current,{collapsedSize:ae=0,collapsible:ie,panelSize:te}=co(Z,j,W);return Fe(te!=null),!ie||te>ae},[]),se=qt(j=>{const{panelDataArray:W}=R.current;W.push(j),W.sort((Z,ae)=>{const ie=Z.order,te=ae.order;return ie==null&&te==null?0:ie==null?-1:te==null?1:ie-te}),R.current.panelDataArrayChanged=!0},[]);fs(()=>{if(R.current.panelDataArrayChanged){R.current.panelDataArrayChanged=!1;const{autoSaveId:j,onLayout:W,storage:Z}=M.current,{layout:ae,panelDataArray:ie}=R.current;let te=null;if(j){const oe=lD(j,ie,Z);oe&&(D.current=new Map(Object.entries(oe.expandToSizes)),te=oe.layout)}te==null&&(te=oD({panelDataArray:ie}));const $=Ty({layout:te,panelConstraints:ie.map(oe=>oe.constraints)});Ny(ae,$)||(C($),R.current.layout=$,W&&W($),fa(ie,$,T.current))}});const ne=qt(j=>function(Z){Z.preventDefault();const ae=w.current;if(!ae)return()=>null;const{direction:ie,dragState:te,id:$,keyboardResizeBy:oe,onLayout:xe}=M.current,{layout:ye,panelDataArray:ve}=R.current,{initialLayout:Me}=te??{},K=Nw($,j,ae);let fe=rD(Z,j,ie,te,oe,ae);if(fe===0)return;const ke=ie==="horizontal";document.dir==="rtl"&&ke&&(fe=-fe);const De=ve.map(qe=>qe.constraints),Oe=qi({delta:fe,layout:Me??ye,panelConstraints:De,pivotIndices:K,trigger:Tw(Z)?"keyboard":"mouse-or-touch"}),Le=!uc(ye,Oe);(Dw(Z)||Ow(Z))&&O.current!=fe&&(O.current=fe,Af(Le?ke?"horizontal":"vertical":ke?fe<0?"horizontal-min":"horizontal-max":fe<0?"vertical-min":"vertical-max")),Le&&(C(Oe),R.current.layout=Oe,xe&&xe(Oe),fa(ve,Oe,T.current))},[]),J=qt((j,W)=>{const{onLayout:Z}=M.current,{layout:ae,panelDataArray:ie}=R.current,te=ie.map(Me=>Me.constraints),{panelSize:$,pivotIndices:oe}=co(ie,j,ae);Fe($!=null);const ye=ya(ie,j)===ie.length-1?$-W:W-$,ve=qi({delta:ye,layout:ae,panelConstraints:te,pivotIndices:oe,trigger:"imperative-api"});uc(ae,ve)||(C(ve),R.current.layout=ve,Z&&Z(ve),fa(ie,ve,T.current))},[]),de=qt((j,W)=>{const{layout:Z,panelDataArray:ae}=R.current,{collapsedSize:ie=0,collapsible:te}=W,{collapsedSize:$=0,collapsible:oe,maxSize:xe=100,minSize:ye=0}=j.constraints,{panelSize:ve}=co(ae,j,Z);Fe(ve!=null),te&&oe&&ve===ie?ie!==$&&J(j,$):ve<ye?J(j,ye):ve>xe&&J(j,xe)},[J]),le=qt((j,W)=>{const{direction:Z}=M.current,{layout:ae}=R.current;if(!w.current)return;const ie=yu(j,w.current);Fe(ie);const te=Mw(Z,W);x({dragHandleId:j,dragHandleRect:ie.getBoundingClientRect(),initialCursorPosition:te,initialLayout:ae})},[]),H=qt(()=>{iD(),x(null)},[]),I=qt(j=>{const{panelDataArray:W}=R.current,Z=ya(W,j);Z>=0&&(W.splice(Z,1),delete T.current[j.id],R.current.panelDataArrayChanged=!0)},[]),P=XT(()=>({collapsePanel:L,direction:o,dragState:k,expandPanel:B,getPanelSize:G,getPanelStyle:Q,groupId:b,isPanelCollapsed:re,isPanelExpanded:Y,reevaluatePanelConstraints:de,registerPanel:se,registerResizeHandle:ne,resizePanel:J,startDragging:le,stopDragging:H,unregisterPanel:I,panelGroupElement:w.current}),[L,k,o,B,G,Q,b,re,Y,de,se,ne,J,le,H,I]),z={display:"flex",flexDirection:o==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return Da(gu.Provider,{value:P},Da(m,{...g,children:n,className:t,style:{...z,...v},ref:w,"data-panel-group":"","data-panel-group-direction":o,"data-panel-group-id":b}))}const Aw=bw((e,n)=>Da(Iw,{...e,forwardedRef:n}));Iw.displayName="PanelGroup";Aw.displayName="forwardRef(PanelGroup)";function ya(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function co(e,n,t){const o=ya(e,n),s=o===e.length-1?[o-1,o]:[o,o+1],c=t[o];return{...n.constraints,panelSize:c,pivotIndices:s}}function dD({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:o}){wo(()=>{if(e||t==null||o==null)return;const i=yu(n,o);if(i==null)return;const s=c=>{if(!c.defaultPrevented)switch(c.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":c.preventDefault(),t(c);break;case"F6":{c.preventDefault();const u=i.getAttribute("data-panel-group-id");Fe(u);const f=vs(u,o),v=Sw(u,n,o);Fe(v!==null);const m=c.shiftKey?v>0?v-1:f.length-1:v+1<f.length?v+1:0;f[m].focus();break}}};return i.addEventListener("keydown",s),()=>{i.removeEventListener("keydown",s)}},[o,e,n,t])}function Fw({children:e=null,className:n="",disabled:t=!1,id:o,onDragging:i,style:s={},tabIndex:c=0,tagName:u="div",...f}){const v=rn(null),m=rn({onDragging:i});wo(()=>{m.current.onDragging=i});const g=ww(gu);if(g===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:b,dragState:w,groupId:k,registerResizeHandle:x,startDragging:E,stopDragging:C,panelGroupElement:T}=g,D=fv(o),O=(w==null?void 0:w.dragHandleId)===D,[M,R]=Wc(!1),[L,B]=Wc(null),G=qt(()=>{const re=v.current;Fe(re),re.blur(),C();const{onDragging:Y}=m.current;Y&&Y(!1)},[C]);wo(()=>{if(t)B(null);else{const re=x(D);B(()=>re)}},[t,D,x]),wo(()=>{if(t||L==null||!O)return;const re=J=>{L(J)},Y=J=>{L(J)},se=v.current;Fe(se);const ne=se.ownerDocument;return ne.body.addEventListener("contextmenu",G),ne.body.addEventListener("mousemove",re),ne.body.addEventListener("touchmove",re),ne.body.addEventListener("mouseleave",Y),window.addEventListener("mouseup",G),window.addEventListener("touchend",G),()=>{ne.body.removeEventListener("contextmenu",G),ne.body.removeEventListener("mousemove",re),ne.body.removeEventListener("touchmove",re),ne.body.removeEventListener("mouseleave",Y),window.removeEventListener("mouseup",G),window.removeEventListener("touchend",G)}},[b,t,O,L,G]),dD({disabled:t,handleId:D,resizeHandler:L,panelGroupElement:T});const Q={cursor:Rw(b),touchAction:"none",userSelect:"none"};return Da(u,{...f,children:e,className:n,onBlur:()=>R(!1),onFocus:()=>R(!0),onMouseDown:re=>{E(D,re.nativeEvent);const Y=m.current;Fe(Y);const{onDragging:se}=Y;se&&se(!0)},onMouseUp:G,onTouchCancel:G,onTouchEnd:G,onTouchStart:re=>{E(D,re.nativeEvent);const Y=m.current;Fe(Y);const{onDragging:se}=Y;se&&se(!0)},ref:v,role:"separator",style:{...Q,...s},tabIndex:c,"data-panel-group-direction":b,"data-panel-group-id":k,"data-resize-handle":"","data-resize-handle-active":O?"pointer":M?"keyboard":void 0,"data-panel-resize-handle-enabled":!t,"data-panel-resize-handle-id":D})}Fw.displayName="PanelResizeHandle";const Oy=({className:e,...n})=>N(Aw,{className:we("tv-flex tv-h-full tv-w-full data-[panel-group-direction=vertical]:tv-flex-col",e),...n}),dc=Ew,My=({withHandle:e,className:n,...t})=>N(Fw,{className:we("tv-relative tv-flex tv-w-px tv-items-center tv-justify-center tv-bg-border after:tv-absolute after:tv-inset-y-0 after:tv-left-1/2 after:tv-w-1 after:tv--translate-x-1/2 focus-visible:tv-outline-none focus-visible:tv-ring-1 focus-visible:tv-ring-ring focus-visible:tv-ring-offset-1 data-[panel-group-direction=vertical]:tv-h-px data-[panel-group-direction=vertical]:tv-w-full data-[panel-group-direction=vertical]:after:tv-left-0 data-[panel-group-direction=vertical]:after:tv-h-1 data-[panel-group-direction=vertical]:after:tv-w-full data-[panel-group-direction=vertical]:after:tv--translate-y-1/2 data-[panel-group-direction=vertical]:after:tv-translate-x-0 [&[data-panel-group-direction=vertical]>div]:tv-rotate-90",n),...t,children:e&&N("div",{className:"tv-z-10 tv-flex tv-h-4 tv-w-3 tv-items-center tv-justify-center tv-rounded-sm tv-border tv-bg-border",children:N(K2,{className:"tv-h-2.5 tv-w-2.5"})})}),jw={tips:"Tips",summary:"Summary",content:"Content"},ji=Object.keys(jw),fD=({view:e})=>{const n=ji.reduce((R,L)=>(R[L]={ref:d.useRef(null),type:L},R),{}),[t,o]=d.useState(!1),[i,s]=d.useState(""),[c,u]=d.useState(""),[f,v]=d.useState("save"),m=d.useCallback(()=>ji.every(R=>n[R].ref.current.getContent()===""),[n]);d.useEffect(()=>{e&&e.registerEvent(e.app.workspace.on("cache-area-confirm-close",R=>{if(R===e.leaf.id&&!t){if(m()){Ke.setClosedByCacheArea(!0),bo(e.app,e.leaf),e.leaf.detach();return}e.app.workspace.setActiveLeaf(e.leaf),v("close"),o(!0)}}))},[e,m,t]);const g=()=>{let R="";return ji.forEach(B=>{const G=n[B].ref.current.getContent();R+=`# ${jw[B]}

${G}

`}),R=`---
templify: cornell-note
---

`+R,R},b=d.useCallback(async()=>{await iu({content:g(),path:i,view:e,cb:()=>{s(""),o(!1),w(),k()}})},[n,e,i]),w=d.useCallback(()=>{ji.forEach(R=>{bo(e.app,e.leaf,R)})},[e]),k=d.useCallback(()=>{ji.forEach(R=>{var L;(L=n[R].ref.current)==null||L.clear()})},[n]),x=d.useMemo(()=>({view:e,onSaveBtnClick:R=>{v("save"),o(!0),u(R)}}),[e]),E=()=>{o(!1)},C=R=>{s(R)},T=()=>{e.leaf.detach()},D=R=>{v(R)},O=d.useMemo(()=>({saveContent:b,handleValueChange:C,handleCloseDialog:E,handleCloseView:T,handleSwitchDialogType:D,removeAllContentCache:w,removeAllContent:k}),[f,i]),M=d.useMemo(()=>({handleCloseDialog:E,handleCloseView:T,handleSwitchDialogType:D,handleValueChange:C,saveContent:b,removeAllContentCache:w,removeAllContent:k}),[f,i]);return X(ct,{children:[N("div",{className:"tv-flex tv-flex-col tv-h-full tv-w-full tv-gap-2 tv-p-2 tv-pt-0",children:X(Oy,{direction:"vertical",className:"tv-w-full tv-h-full tv-rounded-lg tv-border",children:[N(dc,{className:"tv-h-3/4",defaultSize:80,children:X(Oy,{direction:"horizontal",children:[N(dc,{className:"tv-w-1/3",defaultSize:25,children:N(Ea,{ref:n.tips.ref,type:"tips",...x})}),N(My,{withHandle:!0}),N(dc,{className:"tv-w-2/3",defaultSize:75,children:N(Ea,{ref:n.content.ref,type:"content",...x})})]})}),N(My,{withHandle:!0}),N(dc,{className:"tv-h-1/4 tv-border-t-2 tv-pt-2",defaultSize:20,children:N(Ea,{ref:n.summary.ref,type:"summary",...x})})]})}),N(ja,{open:t,defaultOpen:t,onOpenChange:R=>{o(R)},children:N(Do,{children:f==="close"?N(fu,{value:i,...M}):N(du,{value:i,...O})})})]})},_s=e=>{const{children:n,store:t,context:o}=e,[i,s]=d.useState(t.getState());d.useEffect(()=>{const u=t.subscribe(f=>{s(f)});return()=>{u()}},[]);const c=o.Provider;return N(c,{value:i,children:n})},pD=({view:e,type:n})=>N(ct,{children:N(_s,{store:lt,context:At,children:((o,i)=>{switch(i){case"eisenhower":return N(TP,{view:o});case"daily":return N(GT,{view:o});case"cornell":return N(fD,{view:o});case"blank":return N(Ey,{view:o});default:return N(Ey,{view:o})}})(e,n)})}),Yi="templify-cache-view";class Ji extends ge.ItemView{constructor(t){super(t);me(this,"scope",new ge.Scope(this.app.scope));me(this,"root");me(this,"viewType");this.viewType="blank"}getViewType(){return Yi}getDisplayText(){return"Cache Area"}getIcon(){return"shield-alert"}initializeScopeEvent(){const{scope:t}=this;t.register(["Mod"],"s",()=>{})}async renderApp(){try{this.root=Po.createRoot(this.contentEl),this.root.render(N(Ae.StrictMode,{children:N(pD,{view:this,type:this.viewType})}))}catch{}}async setState(t,o){t&&typeof t=="object"&&"viewType"in t&&(this.viewType=t.viewType,await this.renderApp()),await super.setState(t,o)}getState(){return{viewType:this.viewType}}async onOpen(){var o;this.initializeScopeEvent();const t=(o=this.getState())==null?void 0:o.viewType;t&&(this.viewType=t,this.app.workspace.requestSaveLayout()),this.contentEl.toggleClass("cache-area",!0),this.addAction("save","Save to file",()=>{this.app.workspace.trigger("cache-area-save-to-file",this.leaf.id)})}onunload(){var t;super.onunload(),(t=this.root)==null||t.unmount()}}const vD=({view:e,type:n,file:t,value:o,targetEl:i,updateContent:s})=>{const{globalState:{editor:c}}=d.useContext(At),u=e.app,[f,v]=d.useState(null),[m,g]=d.useState(!1),b=d.useRef(o),[w,k]=d.useState(null),x=d.useRef(e),[E,C]=d.useState(!1);d.useEffect(()=>{x.current=e},[e]),d.useEffect(()=>{t&&k(t)},[t]),d.useEffect(()=>{o!==void 0&&(E||f&&(b.current=o||`
`,(f==null?void 0:f.editor).replaceSelection(o||`
`),C(!0),Y()))},[f,o]),d.useEffect(()=>{if(!(!i||!c)&&!m)return R(i,n),()=>{g(!1),L()}},[c,i]);const T=()=>{f&&f.toggleSource()},D=ge.debounce((se,ne,J)=>{if(!se)return;let de=ne;if(ne!==b.current){if(/(^|\n)# /g.test(ne)){de=de.replace(/(^|\n)# /g,"$1## ");const le=Ke.getInstance(`${se.leaf.id}-${J}`),H=(le==null?void 0:le.editor).getCursor();setTimeout(()=>{Q(de,le),(le==null?void 0:le.editor).setSelection({line:H.line,ch:H.ch})},0)}de=de.trim()+`
`,s(J,de),b.current=de}},200),O=()=>f,M=()=>w,R=(se,ne)=>{if(c&&e){const J=new c.constructor(e.app,se,e);J.handleFileUpdate=(de,le,H)=>D(de,le,H),J.getInstance=()=>O(),J.getFile=()=>M(),J.set("",!0),J.owner.editor=J.editor,J.editorEl.setAttribute("data-templify",ne),u.workspace.trigger("patch-clipboard-manager",J.clipboardManager),J.component={},J.component.contentType=ne||"normal",J.component.file=w,J.owner.onMarkdownScroll=()=>{},J.toggleMode=()=>{},u.workspace.trigger("templify-editor-created",se,J.editor),g(!0),v(J),Ke.setInstance(`${e.leaf.id}-${ne}`,J)}},L=()=>{f&&(f.destroy(),v(null))},B=()=>{f&&(f.clear(),b.current="")},G=se=>{if(!f)return;const ne=f.get()||"",J=ne+se;ne&&!ne.endsWith(`
`)&&(se=`
`+se),(f==null?void 0:f.editor).replaceSelection(se),b.current=J},Q=(se,ne)=>{var J;try{(f||ne)&&(((J=f||ne)==null?void 0:J.editor).replaceRange(se,{line:0,ch:0},{line:999999,ch:999999}),b.current=se)}catch{}},re=()=>f?f.get():"",Y=()=>{f&&(f==null||f.editor.focus())};return{instance:f,value:b.current,set:Q,get:re,append:G,clear:B,toggleSource:T,destroy:L,focus:Y}},hD=d.forwardRef((e,n)=>{const{view:t,type:o,defaultValue:i,file:s}=e,c=d.useRef(null),u=d.useRef(i),{instance:f,value:v,set:m,get:g,append:b,clear:w,toggleSource:k,destroy:x,focus:E}=vD({view:t,type:o,file:s,value:i,targetEl:c.current,updateContent:(D,O)=>{e.updateContent(D,O),u.current=O}}),C=d.useRef(f);d.useEffect(()=>{v.trim()===i.trim()&&u.current.trim()===i.trim()||(u.current=i,m(i))},[i]),d.useEffect(()=>{f&&(E(),C.current=f)},[f]),d.useImperativeHandle(n,()=>({blur:()=>{var D;f&&((D=f.editor)==null||D.blur())},focus:()=>{var D;f&&((D=f.editor)==null||D.focus())},insertText:D=>{f&&b(D)},setContent:D=>{f&&m(D)},getContent:()=>g(),toggleSource:()=>{k()},clear:()=>{w()},destroy:()=>{x()}}),[f]);const T=d.useMemo(()=>N("div",{className:we("templify-editor-wrapper","tv-h-full tv-w-full tv-flex tv-flex-col tv-mt-1 tv-pt-0 tv-pr-0"),children:N("div",{className:"tv-h-full tv-p-2 tv-pt-0 tv-pr-0 tv-rounded-sm dark:tv-border-slate-600 mod-cm6",ref:c,onKeyDown:D=>{D.key==="s"&&(D.ctrlKey||D.metaKey)&&D.preventDefault()},onMouseDown:()=>{C.current&&Ke.setActiveEditor(C.current)},onPointerDown:()=>{C.current&&Ke.setActiveEditor(C.current)}})}),[o,s]);return N(ct,{children:T})});var Hw={exports:{}},Ls={},mp={exports:{}};(function(e,n){(function(t,o){o(n)})(LC,function(t){function o($){return function(xe,ye,ve,Me,K,fe,ke){return $(xe,ye,ke)}}function i($){return function(xe,ye,ve,Me){if(!xe||!ye||typeof xe!="object"||typeof ye!="object")return $(xe,ye,ve,Me);var K=Me.get(xe),fe=Me.get(ye);if(K&&fe)return K===ye&&fe===xe;Me.set(xe,ye),Me.set(ye,xe);var ke=$(xe,ye,ve,Me);return Me.delete(xe),Me.delete(ye),ke}}function s($,oe){var xe={};for(var ye in $)xe[ye]=$[ye];for(var ye in oe)xe[ye]=oe[ye];return xe}function c($){return $.constructor===Object||$.constructor==null}function u($){return typeof $.then=="function"}function f($,oe){return $===oe||$!==$&&oe!==oe}var v="[object Arguments]",m="[object Boolean]",g="[object Date]",b="[object RegExp]",w="[object Map]",k="[object Number]",x="[object Object]",E="[object Set]",C="[object String]",T=Object.prototype.toString;function D($){var oe=$.areArraysEqual,xe=$.areDatesEqual,ye=$.areMapsEqual,ve=$.areObjectsEqual,Me=$.areRegExpsEqual,K=$.areSetsEqual,fe=$.createIsNestedEqual,ke=fe(De);function De(Oe,Le,qe){if(Oe===Le)return!0;if(!Oe||!Le||typeof Oe!="object"||typeof Le!="object")return Oe!==Oe&&Le!==Le;if(c(Oe)&&c(Le))return ve(Oe,Le,ke,qe);var ot=Array.isArray(Oe),Nn=Array.isArray(Le);if(ot||Nn)return ot===Nn&&oe(Oe,Le,ke,qe);var gt=T.call(Oe);return gt!==T.call(Le)?!1:gt===g?xe(Oe,Le,ke,qe):gt===b?Me(Oe,Le,ke,qe):gt===w?ye(Oe,Le,ke,qe):gt===E?K(Oe,Le,ke,qe):gt===x||gt===v?u(Oe)||u(Le)?!1:ve(Oe,Le,ke,qe):gt===m||gt===k||gt===C?f(Oe.valueOf(),Le.valueOf()):!1}return De}function O($,oe,xe,ye){var ve=$.length;if(oe.length!==ve)return!1;for(;ve-- >0;)if(!xe($[ve],oe[ve],ve,ve,$,oe,ye))return!1;return!0}var M=i(O);function R($,oe){return f($.valueOf(),oe.valueOf())}function L($,oe,xe,ye){var ve=$.size===oe.size;if(!ve)return!1;if(!$.size)return!0;var Me={},K=0;return $.forEach(function(fe,ke){if(ve){var De=!1,Oe=0;oe.forEach(function(Le,qe){!De&&!Me[Oe]&&(De=xe(ke,qe,K,Oe,$,oe,ye)&&xe(fe,Le,ke,qe,$,oe,ye))&&(Me[Oe]=!0),Oe++}),K++,ve=De}}),ve}var B=i(L),G="_owner",Q=Object.prototype.hasOwnProperty;function re($,oe,xe,ye){var ve=Object.keys($),Me=ve.length;if(Object.keys(oe).length!==Me)return!1;for(var K;Me-- >0;){if(K=ve[Me],K===G){var fe=!!$.$$typeof,ke=!!oe.$$typeof;if((fe||ke)&&fe!==ke)return!1}if(!Q.call(oe,K)||!xe($[K],oe[K],K,K,$,oe,ye))return!1}return!0}var Y=i(re);function se($,oe){return $.source===oe.source&&$.flags===oe.flags}function ne($,oe,xe,ye){var ve=$.size===oe.size;if(!ve)return!1;if(!$.size)return!0;var Me={};return $.forEach(function(K,fe){if(ve){var ke=!1,De=0;oe.forEach(function(Oe,Le){!ke&&!Me[De]&&(ke=xe(K,Oe,fe,Le,$,oe,ye))&&(Me[De]=!0),De++}),ve=ke}}),ve}var J=i(ne),de=Object.freeze({areArraysEqual:O,areDatesEqual:R,areMapsEqual:L,areObjectsEqual:re,areRegExpsEqual:se,areSetsEqual:ne,createIsNestedEqual:o}),le=Object.freeze({areArraysEqual:M,areDatesEqual:R,areMapsEqual:B,areObjectsEqual:Y,areRegExpsEqual:se,areSetsEqual:J,createIsNestedEqual:o}),H=D(de);function I($,oe){return H($,oe,void 0)}var P=D(s(de,{createIsNestedEqual:function(){return f}}));function z($,oe){return P($,oe,void 0)}var j=D(le);function W($,oe){return j($,oe,new WeakMap)}var Z=D(s(le,{createIsNestedEqual:function(){return f}}));function ae($,oe){return Z($,oe,new WeakMap)}function ie($){return D(s(de,$(de)))}function te($){var oe=D(s(le,$(le)));return function(xe,ye,ve){return ve===void 0&&(ve=new WeakMap),oe(xe,ye,ve)}}t.circularDeepEqual=W,t.circularShallowEqual=ae,t.createCustomCircularEqual=te,t.createCustomEqual=ie,t.deepEqual=I,t.sameValueZeroEqual=f,t.shallowEqual=z,Object.defineProperty(t,"__esModule",{value:!0})})})(mp,mp.exports);var pv=mp.exports,gp={exports:{}};function Bw(e){var n,t,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=Bw(e[n]))&&(o&&(o+=" "),o+=t)}else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function Ry(){for(var e,n,t=0,o="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=Bw(e))&&(o&&(o+=" "),o+=n);return o}gp.exports=Ry,gp.exports.clsx=Ry;var vv=gp.exports,We={},mD=function(n,t,o){return n===t?!0:n.className===t.className&&o(n.style,t.style)&&n.width===t.width&&n.autoSize===t.autoSize&&n.cols===t.cols&&n.draggableCancel===t.draggableCancel&&n.draggableHandle===t.draggableHandle&&o(n.verticalCompact,t.verticalCompact)&&o(n.compactType,t.compactType)&&o(n.layout,t.layout)&&o(n.margin,t.margin)&&o(n.containerPadding,t.containerPadding)&&n.rowHeight===t.rowHeight&&n.maxRows===t.maxRows&&n.isBounded===t.isBounded&&n.isDraggable===t.isDraggable&&n.isResizable===t.isResizable&&n.allowOverlap===t.allowOverlap&&n.preventCollision===t.preventCollision&&n.useCSSTransforms===t.useCSSTransforms&&n.transformScale===t.transformScale&&n.isDroppable===t.isDroppable&&o(n.resizeHandles,t.resizeHandles)&&o(n.resizeHandle,t.resizeHandle)&&n.onLayoutChange===t.onLayoutChange&&n.onDragStart===t.onDragStart&&n.onDrag===t.onDrag&&n.onDragStop===t.onDragStop&&n.onResizeStart===t.onResizeStart&&n.onResize===t.onResize&&n.onResizeStop===t.onResizeStop&&n.onDrop===t.onDrop&&o(n.droppingItem,t.droppingItem)&&o(n.innerRef,t.innerRef)};Object.defineProperty(We,"__esModule",{value:!0});We.bottom=hv;We.childrenEqual=bD;We.cloneLayout=Ww;We.cloneLayoutItem=xo;We.collides=bu;We.compact=$w;We.compactItem=Uw;We.compactType=_D;We.correctBounds=qw;We.fastPositionEqual=wD;We.fastRGLPropsEqual=void 0;We.getAllCollisions=Gw;We.getFirstCollision=mo;We.getLayoutItem=mv;We.getStatics=gv;We.modifyLayout=Vw;We.moveElement=Xi;We.moveElementAwayFromCollision=bp;We.noop=void 0;We.perc=kD;We.resizeItemInDirection=TD;We.setTopLeft=OD;We.setTransform=DD;We.sortLayoutItems=Ev;We.sortLayoutItemsByColRow=Zw;We.sortLayoutItemsByRowCol=Qw;We.synchronizeLayoutWithChildren=MD;We.validateLayout=RD;We.withLayoutItem=yD;var _y=pv,Ki=gD(d);function gD(e){return e&&e.__esModule?e:{default:e}}function hv(e){let n=0,t;for(let o=0,i=e.length;o<i;o++)t=e[o].y+e[o].h,t>n&&(n=t);return n}function Ww(e){const n=Array(e.length);for(let t=0,o=e.length;t<o;t++)n[t]=xo(e[t]);return n}function Vw(e,n){const t=Array(e.length);for(let o=0,i=e.length;o<i;o++)n.i===e[o].i?t[o]=n:t[o]=e[o];return t}function yD(e,n,t){let o=mv(e,n);return o?(o=t(xo(o)),e=Vw(e,o),[e,o]):[e,null]}function xo(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function bD(e,n){return(0,_y.deepEqual)(Ki.default.Children.map(e,t=>t==null?void 0:t.key),Ki.default.Children.map(n,t=>t==null?void 0:t.key))&&(0,_y.deepEqual)(Ki.default.Children.map(e,t=>t==null?void 0:t.props["data-grid"]),Ki.default.Children.map(n,t=>t==null?void 0:t.props["data-grid"]))}We.fastRGLPropsEqual=mD;function wD(e,n){return e.left===n.left&&e.top===n.top&&e.width===n.width&&e.height===n.height}function bu(e,n){return!(e.i===n.i||e.x+e.w<=n.x||e.x>=n.x+n.w||e.y+e.h<=n.y||e.y>=n.y+n.h)}function $w(e,n,t,o){const i=gv(e),s=Ev(e,n),c=Array(e.length);for(let u=0,f=s.length;u<f;u++){let v=xo(s[u]);v.static||(v=Uw(i,v,n,t,s,o),i.push(v)),c[e.indexOf(s[u])]=v,v.moved=!1}return c}const xD={x:"w",y:"h"};function yp(e,n,t,o){const i=xD[o];n[o]+=1;const s=e.map(c=>c.i).indexOf(n.i);for(let c=s+1;c<e.length;c++){const u=e[c];if(!u.static){if(u.y>n.y+n.h)break;bu(n,u)&&yp(e,u,t+n[i],o)}}n[o]=t}function Uw(e,n,t,o,i,s){const c=t==="vertical",u=t==="horizontal";if(c)for(n.y=Math.min(hv(e),n.y);n.y>0&&!mo(e,n);)n.y--;else if(u)for(;n.x>0&&!mo(e,n);)n.x--;let f;for(;(f=mo(e,n))&&!(t===null&&s);)if(u?yp(i,n,f.x+f.w,"x"):yp(i,n,f.y+f.h,"y"),u&&n.x+n.w>o)for(n.x=o-n.w,n.y++;n.x>0&&!mo(e,n);)n.x--;return n.y=Math.max(n.y,0),n.x=Math.max(n.x,0),n}function qw(e,n){const t=gv(e);for(let o=0,i=e.length;o<i;o++){const s=e[o];if(s.x+s.w>n.cols&&(s.x=n.cols-s.w),s.x<0&&(s.x=0,s.w=n.cols),!s.static)t.push(s);else for(;mo(t,s);)s.y++}return e}function mv(e,n){for(let t=0,o=e.length;t<o;t++)if(e[t].i===n)return e[t]}function mo(e,n){for(let t=0,o=e.length;t<o;t++)if(bu(e[t],n))return e[t]}function Gw(e,n){return e.filter(t=>bu(t,n))}function gv(e){return e.filter(n=>n.static)}function Xi(e,n,t,o,i,s,c,u,f){if(n.static&&n.isDraggable!==!0||n.y===o&&n.x===t)return e;`${n.i}${String(t)}${String(o)}${n.x}${n.y}`;const v=n.x,m=n.y;typeof t=="number"&&(n.x=t),typeof o=="number"&&(n.y=o),n.moved=!0;let g=Ev(e,c);(c==="vertical"&&typeof o=="number"?m>=o:c==="horizontal"&&typeof t=="number"?v>=t:!1)&&(g=g.reverse());const w=Gw(g,n),k=w.length>0;if(k&&f)return Ww(e);if(k&&s)return`${n.i}`,n.x=v,n.y=m,n.moved=!1,e;for(let x=0,E=w.length;x<E;x++){const C=w[x];`${n.i}${n.x}${n.y}${C.i}${C.x}${C.y}`,!C.moved&&(C.static?e=bp(e,C,n,i,c):e=bp(e,n,C,i,c))}return e}function bp(e,n,t,o,i,s){const c=i==="horizontal",u=i==="vertical",f=n.static;if(o){o=!1;const g={x:c?Math.max(n.x-t.w,0):t.x,y:u?Math.max(n.y-t.h,0):t.y,w:t.w,h:t.h,i:"-1"},b=mo(e,g),w=b&&b.y+b.h>n.y,k=b&&n.x+n.w>b.x;if(b){if(w&&u)return Xi(e,t,void 0,n.y+1,o,f,i);if(w&&i==null)return n.y=t.y,t.y=t.y+t.h,e;if(k&&c)return Xi(e,n,t.x,void 0,o,f,i)}else return`${t.i}${g.x}${g.y}`,Xi(e,t,c?g.x:void 0,u?g.y:void 0,o,f,i)}const v=c?t.x+1:void 0,m=u?t.y+1:void 0;return v==null&&m==null?e:Xi(e,t,c?t.x+1:void 0,u?t.y+1:void 0,o,f,i)}function kD(e){return e*100+"%"}const Yw=(e,n,t,o)=>e+t>o?n:t,Kw=(e,n,t)=>e<0?n:t,Xw=e=>Math.max(0,e),yv=e=>Math.max(0,e),bv=(e,n,t)=>{let{left:o,height:i,width:s}=n;const c=e.top-(i-e.height);return{left:o,width:s,height:Kw(c,e.height,i),top:yv(c)}},wv=(e,n,t)=>{let{top:o,left:i,height:s,width:c}=n;return{top:o,height:s,width:Yw(e.left,e.width,c,t),left:Xw(i)}},xv=(e,n,t)=>{let{top:o,height:i,width:s}=n;const c=e.left-(s-e.width);return{height:i,width:c<0?e.width:Yw(e.left,e.width,s,t),top:yv(o),left:Xw(c)}},kv=(e,n,t)=>{let{top:o,left:i,height:s,width:c}=n;return{width:c,left:i,height:Kw(o,e.height,s),top:yv(o)}},ED=function(){return bv(arguments.length<=0?void 0:arguments[0],wv(...arguments))},CD=function(){return bv(arguments.length<=0?void 0:arguments[0],xv(...arguments))},SD=function(){return kv(arguments.length<=0?void 0:arguments[0],wv(...arguments))},ND=function(){return kv(arguments.length<=0?void 0:arguments[0],xv(...arguments))},PD={n:bv,ne:ED,e:wv,se:SD,s:kv,sw:ND,w:xv,nw:CD};function TD(e,n,t,o){const i=PD[e];return i?i(n,{...n,...t},o):t}function DD(e){let{top:n,left:t,width:o,height:i}=e;const s=`translate(${t}px,${n}px)`;return{transform:s,WebkitTransform:s,MozTransform:s,msTransform:s,OTransform:s,width:`${o}px`,height:`${i}px`,position:"absolute"}}function OD(e){let{top:n,left:t,width:o,height:i}=e;return{top:`${n}px`,left:`${t}px`,width:`${o}px`,height:`${i}px`,position:"absolute"}}function Ev(e,n){return n==="horizontal"?Zw(e):n==="vertical"?Qw(e):e}function Qw(e){return e.slice(0).sort(function(n,t){return n.y>t.y||n.y===t.y&&n.x>t.x?1:n.y===t.y&&n.x===t.x?0:-1})}function Zw(e){return e.slice(0).sort(function(n,t){return n.x>t.x||n.x===t.x&&n.y>t.y?1:-1})}function MD(e,n,t,o,i){e=e||[];const s=[];Ki.default.Children.forEach(n,u=>{if((u==null?void 0:u.key)==null)return;const f=mv(e,String(u.key)),v=u.props["data-grid"];f&&v==null?s.push(xo(f)):v?s.push(xo({...v,i:u.key})):s.push(xo({w:1,h:1,x:0,y:hv(s),i:String(u.key)}))});const c=qw(s,{cols:t});return i?c:$w(c,o,t)}function RD(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const t=["x","y","w","h"];if(!Array.isArray(e))throw new Error(n+" must be an array!");for(let o=0,i=e.length;o<i;o++){const s=e[o];for(let c=0;c<t.length;c++)if(typeof s[t[c]]!="number")throw new Error("ReactGridLayout: "+n+"["+o+"]."+t[c]+" must be a number!")}}function _D(e){const{verticalCompact:n,compactType:t}=e||{};return n===!1?null:t}const LD=()=>{};We.noop=LD;var er={};Object.defineProperty(er,"__esModule",{value:!0});er.calcGridColWidth=wu;er.calcGridItemPosition=zD;er.calcGridItemWHPx=wp;er.calcWH=AD;er.calcXY=ID;er.clamp=go;function wu(e){const{margin:n,containerPadding:t,containerWidth:o,cols:i}=e;return(o-n[0]*(i-1)-t[0]*2)/i}function wp(e,n,t){return Number.isFinite(e)?Math.round(n*e+Math.max(0,e-1)*t):e}function zD(e,n,t,o,i,s){const{margin:c,containerPadding:u,rowHeight:f}=e,v=wu(e),m={};return s&&s.resizing?(m.width=Math.round(s.resizing.width),m.height=Math.round(s.resizing.height)):(m.width=wp(o,v,c[0]),m.height=wp(i,f,c[1])),s&&s.dragging?(m.top=Math.round(s.dragging.top),m.left=Math.round(s.dragging.left)):s&&s.resizing&&typeof s.resizing.top=="number"&&typeof s.resizing.left=="number"?(m.top=Math.round(s.resizing.top),m.left=Math.round(s.resizing.left)):(m.top=Math.round((f+c[1])*t+u[1]),m.left=Math.round((v+c[0])*n+u[0])),m}function ID(e,n,t,o,i){const{margin:s,cols:c,rowHeight:u,maxRows:f}=e,v=wu(e);let m=Math.round((t-s[0])/(v+s[0])),g=Math.round((n-s[1])/(u+s[1]));return m=go(m,0,c-o),g=go(g,0,f-i),{x:m,y:g}}function AD(e,n,t,o,i,s){const{margin:c,maxRows:u,cols:f,rowHeight:v}=e,m=wu(e);let g=Math.round((n+c[0])/(m+c[0])),b=Math.round((t+c[1])/(v+c[1])),w=go(g,0,f-o),k=go(b,0,u-i);return["sw","w","nw"].indexOf(s)!==-1&&(w=go(g,0,f)),["nw","n","ne"].indexOf(s)!==-1&&(k=go(b,0,u)),{w,h:k}}function go(e,n,t){return Math.max(Math.min(e,t),n)}var xu={},Jw={exports:{}},Ff,Ly;function FD(){if(Ly)return Ff;Ly=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ff=e,Ff}var jf,zy;function jD(){if(zy)return jf;zy=1;var e=FD();function n(){}function t(){}return t.resetWarningCache=n,jf=function(){function o(c,u,f,v,m,g){if(g!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}o.isRequired=o;function i(){return o}var s={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:n};return s.PropTypes=s,s},jf}Jw.exports=jD()();var Gr=Jw.exports,ku={exports:{}},e1={};function t1(e){var n,t,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=t1(e[n]))&&(o&&(o+=" "),o+=t);else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function Iy(){for(var e,n,t=0,o="";t<arguments.length;)(e=arguments[t++])&&(n=t1(e))&&(o&&(o+=" "),o+=n);return o}const HD=Object.freeze(Object.defineProperty({__proto__:null,clsx:Iy,default:Iy},Symbol.toStringTag,{value:"Module"})),BD=Pb(HD);var pt={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.dontSetMe=qD;tr.findInArray=WD;tr.int=UD;tr.isFunction=VD;tr.isNum=$D;function WD(e,n){for(let t=0,o=e.length;t<o;t++)if(n.apply(n,[e[t],t,e]))return e[t]}function VD(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function $D(e){return typeof e=="number"&&!isNaN(e)}function UD(e){return parseInt(e,10)}function qD(e,n,t){if(e[n])return new Error("Invalid prop ".concat(n," passed to ").concat(t," - do not set this, set it on the child."))}var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.browserPrefixToKey=r1;Ro.browserPrefixToStyle=GD;Ro.default=void 0;Ro.getPrefix=n1;const Hf=["Moz","Webkit","O","ms"];function n1(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!t||n in t)return"";for(let o=0;o<Hf.length;o++)if(r1(n,Hf[o])in t)return Hf[o];return""}function r1(e,n){return n?"".concat(n).concat(YD(e)):e}function GD(e,n){return n?"-".concat(n.toLowerCase(),"-").concat(e):e}function YD(e){let n="",t=!0;for(let o=0;o<e.length;o++)t?(n+=e[o].toUpperCase(),t=!1):e[o]==="-"?t=!0:n+=e[o];return n}Ro.default=n1();Object.defineProperty(pt,"__esModule",{value:!0});pt.addClassName=i1;pt.addEvent=QD;pt.addUserSelectStyles=lO;pt.createCSSTransform=oO;pt.createSVGTransform=aO;pt.getTouch=iO;pt.getTouchIdentifier=sO;pt.getTranslation=Cv;pt.innerHeight=tO;pt.innerWidth=nO;pt.matchesSelector=a1;pt.matchesSelectorAndParentsTo=XD;pt.offsetXYFromParent=rO;pt.outerHeight=JD;pt.outerWidth=eO;pt.removeClassName=s1;pt.removeEvent=ZD;pt.removeUserSelectStyles=cO;var sn=tr,Ay=KD(Ro);function o1(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(o1=function(o){return o?t:n})(e)}function KD(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=o1(n);if(t&&t.has(e))return t.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}return o.default=e,t&&t.set(e,o),o}let fc="";function a1(e,n){return fc||(fc=(0,sn.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,sn.isFunction)(e[t])})),(0,sn.isFunction)(e[fc])?e[fc](n):!1}function XD(e,n,t){let o=e;do{if(a1(o,n))return!0;if(o===t)return!1;o=o.parentNode}while(o);return!1}function QD(e,n,t,o){if(!e)return;const i={capture:!0,...o};e.addEventListener?e.addEventListener(n,t,i):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}function ZD(e,n,t,o){if(!e)return;const i={capture:!0,...o};e.removeEventListener?e.removeEventListener(n,t,i):e.detachEvent?e.detachEvent("on"+n,t):e["on"+n]=null}function JD(e){let n=e.clientHeight;const t=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,sn.int)(t.borderTopWidth),n+=(0,sn.int)(t.borderBottomWidth),n}function eO(e){let n=e.clientWidth;const t=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,sn.int)(t.borderLeftWidth),n+=(0,sn.int)(t.borderRightWidth),n}function tO(e){let n=e.clientHeight;const t=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,sn.int)(t.paddingTop),n-=(0,sn.int)(t.paddingBottom),n}function nO(e){let n=e.clientWidth;const t=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,sn.int)(t.paddingLeft),n-=(0,sn.int)(t.paddingRight),n}function rO(e,n,t){const i=n===n.ownerDocument.body?{left:0,top:0}:n.getBoundingClientRect(),s=(e.clientX+n.scrollLeft-i.left)/t,c=(e.clientY+n.scrollTop-i.top)/t;return{x:s,y:c}}function oO(e,n){const t=Cv(e,n,"px");return{[(0,Ay.browserPrefixToKey)("transform",Ay.default)]:t}}function aO(e,n){return Cv(e,n,"")}function Cv(e,n,t){let{x:o,y:i}=e,s="translate(".concat(o).concat(t,",").concat(i).concat(t,")");if(n){const c="".concat(typeof n.x=="string"?n.x:n.x+t),u="".concat(typeof n.y=="string"?n.y:n.y+t);s="translate(".concat(c,", ").concat(u,")")+s}return s}function iO(e,n){return e.targetTouches&&(0,sn.findInArray)(e.targetTouches,t=>n===t.identifier)||e.changedTouches&&(0,sn.findInArray)(e.changedTouches,t=>n===t.identifier)}function sO(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function lO(e){if(!e)return;let n=e.getElementById("react-draggable-style-el");n||(n=e.createElement("style"),n.type="text/css",n.id="react-draggable-style-el",n.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,n.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(n)),e.body&&i1(e.body,"react-draggable-transparent-selection")}function cO(e){if(e)try{if(e.body&&s1(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const n=(e.defaultView||window).getSelection();n&&n.type!=="Caret"&&n.removeAllRanges()}}catch{}}function i1(e,n){e.classList?e.classList.add(n):e.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(e.className+=" ".concat(n))}function s1(e,n){e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")}var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.canDragX=fO;nr.canDragY=pO;nr.createCoreData=hO;nr.createDraggableData=mO;nr.getBoundPosition=uO;nr.getControlPosition=vO;nr.snapToGrid=dO;var en=tr,xa=pt;function uO(e,n,t){if(!e.props.bounds)return[n,t];let{bounds:o}=e.props;o=typeof o=="string"?o:gO(o);const i=Sv(e);if(typeof o=="string"){const{ownerDocument:s}=i,c=s.defaultView;let u;if(o==="parent"?u=i.parentNode:u=s.querySelector(o),!(u instanceof c.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');const f=u,v=c.getComputedStyle(i),m=c.getComputedStyle(f);o={left:-i.offsetLeft+(0,en.int)(m.paddingLeft)+(0,en.int)(v.marginLeft),top:-i.offsetTop+(0,en.int)(m.paddingTop)+(0,en.int)(v.marginTop),right:(0,xa.innerWidth)(f)-(0,xa.outerWidth)(i)-i.offsetLeft+(0,en.int)(m.paddingRight)-(0,en.int)(v.marginRight),bottom:(0,xa.innerHeight)(f)-(0,xa.outerHeight)(i)-i.offsetTop+(0,en.int)(m.paddingBottom)-(0,en.int)(v.marginBottom)}}return(0,en.isNum)(o.right)&&(n=Math.min(n,o.right)),(0,en.isNum)(o.bottom)&&(t=Math.min(t,o.bottom)),(0,en.isNum)(o.left)&&(n=Math.max(n,o.left)),(0,en.isNum)(o.top)&&(t=Math.max(t,o.top)),[n,t]}function dO(e,n,t){const o=Math.round(n/e[0])*e[0],i=Math.round(t/e[1])*e[1];return[o,i]}function fO(e){return e.props.axis==="both"||e.props.axis==="x"}function pO(e){return e.props.axis==="both"||e.props.axis==="y"}function vO(e,n,t){const o=typeof n=="number"?(0,xa.getTouch)(e,n):null;if(typeof n=="number"&&!o)return null;const i=Sv(t),s=t.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,xa.offsetXYFromParent)(o||e,s,t.props.scale)}function hO(e,n,t){const o=!(0,en.isNum)(e.lastX),i=Sv(e);return o?{node:i,deltaX:0,deltaY:0,lastX:n,lastY:t,x:n,y:t}:{node:i,deltaX:n-e.lastX,deltaY:t-e.lastY,lastX:e.lastX,lastY:e.lastY,x:n,y:t}}function mO(e,n){const t=e.props.scale;return{node:n.node,x:e.state.x+n.deltaX/t,y:e.state.y+n.deltaY/t,deltaX:n.deltaX/t,deltaY:n.deltaY/t,lastX:e.state.x,lastY:e.state.y}}function gO(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Sv(e){const n=e.findDOMNode();if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var Eu={},Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.default=yO;function yO(){}Object.defineProperty(Eu,"__esModule",{value:!0});Eu.default=void 0;var Bf=wO(d),$t=Nv(Gr),bO=Nv(Hn),Mt=pt,Br=nr,Wf=tr,Hi=Nv(Cu);function Nv(e){return e&&e.__esModule?e:{default:e}}function l1(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(l1=function(o){return o?t:n})(e)}function wO(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=l1(n);if(t&&t.has(e))return t.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}return o.default=e,t&&t.set(e,o),o}function It(e,n,t){return n=xO(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function xO(e){var n=kO(e,"string");return typeof n=="symbol"?n:String(n)}function kO(e,n){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}const In={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Wr=In.mouse,Su=class extends Bf.Component{constructor(){super(...arguments),It(this,"dragging",!1),It(this,"lastX",NaN),It(this,"lastY",NaN),It(this,"touchIdentifier",null),It(this,"mounted",!1),It(this,"handleDragStart",n=>{if(this.props.onMouseDown(n),!this.props.allowAnyClick&&typeof n.button=="number"&&n.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:o}=t;if(this.props.disabled||!(n.target instanceof o.defaultView.Node)||this.props.handle&&!(0,Mt.matchesSelectorAndParentsTo)(n.target,this.props.handle,t)||this.props.cancel&&(0,Mt.matchesSelectorAndParentsTo)(n.target,this.props.cancel,t))return;n.type==="touchstart"&&n.preventDefault();const i=(0,Mt.getTouchIdentifier)(n);this.touchIdentifier=i;const s=(0,Br.getControlPosition)(n,i,this);if(s==null)return;const{x:c,y:u}=s,f=(0,Br.createCoreData)(this,c,u);(0,Hi.default)("DraggableCore: handleDragStart: %j",f),(0,Hi.default)("calling",this.props.onStart),!(this.props.onStart(n,f)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Mt.addUserSelectStyles)(o),this.dragging=!0,this.lastX=c,this.lastY=u,(0,Mt.addEvent)(o,Wr.move,this.handleDrag),(0,Mt.addEvent)(o,Wr.stop,this.handleDragStop))}),It(this,"handleDrag",n=>{const t=(0,Br.getControlPosition)(n,this.touchIdentifier,this);if(t==null)return;let{x:o,y:i}=t;if(Array.isArray(this.props.grid)){let u=o-this.lastX,f=i-this.lastY;if([u,f]=(0,Br.snapToGrid)(this.props.grid,u,f),!u&&!f)return;o=this.lastX+u,i=this.lastY+f}const s=(0,Br.createCoreData)(this,o,i);if((0,Hi.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(n,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(f)}return}this.lastX=o,this.lastY=i}),It(this,"handleDragStop",n=>{if(!this.dragging)return;const t=(0,Br.getControlPosition)(n,this.touchIdentifier,this);if(t==null)return;let{x:o,y:i}=t;if(Array.isArray(this.props.grid)){let f=o-this.lastX||0,v=i-this.lastY||0;[f,v]=(0,Br.snapToGrid)(this.props.grid,f,v),o=this.lastX+f,i=this.lastY+v}const s=(0,Br.createCoreData)(this,o,i);if(this.props.onStop(n,s)===!1||this.mounted===!1)return!1;const u=this.findDOMNode();u&&this.props.enableUserSelectHack&&(0,Mt.removeUserSelectStyles)(u.ownerDocument),(0,Hi.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,u&&((0,Hi.default)("DraggableCore: Removing handlers"),(0,Mt.removeEvent)(u.ownerDocument,Wr.move,this.handleDrag),(0,Mt.removeEvent)(u.ownerDocument,Wr.stop,this.handleDragStop))}),It(this,"onMouseDown",n=>(Wr=In.mouse,this.handleDragStart(n))),It(this,"onMouseUp",n=>(Wr=In.mouse,this.handleDragStop(n))),It(this,"onTouchStart",n=>(Wr=In.touch,this.handleDragStart(n))),It(this,"onTouchEnd",n=>(Wr=In.touch,this.handleDragStop(n)))}componentDidMount(){this.mounted=!0;const n=this.findDOMNode();n&&(0,Mt.addEvent)(n,In.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const n=this.findDOMNode();if(n){const{ownerDocument:t}=n;(0,Mt.removeEvent)(t,In.mouse.move,this.handleDrag),(0,Mt.removeEvent)(t,In.touch.move,this.handleDrag),(0,Mt.removeEvent)(t,In.mouse.stop,this.handleDragStop),(0,Mt.removeEvent)(t,In.touch.stop,this.handleDragStop),(0,Mt.removeEvent)(n,In.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Mt.removeUserSelectStyles)(t)}}findDOMNode(){var n,t;return(n=this.props)!==null&&n!==void 0&&n.nodeRef?(t=this.props)===null||t===void 0||(t=t.nodeRef)===null||t===void 0?void 0:t.current:bO.default.findDOMNode(this)}render(){return Bf.cloneElement(Bf.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Eu.default=Su;It(Su,"displayName","DraggableCore");It(Su,"propTypes",{allowAnyClick:$t.default.bool,children:$t.default.node.isRequired,disabled:$t.default.bool,enableUserSelectHack:$t.default.bool,offsetParent:function(e,n){if(e[n]&&e[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:$t.default.arrayOf($t.default.number),handle:$t.default.string,cancel:$t.default.string,nodeRef:$t.default.object,onStart:$t.default.func,onDrag:$t.default.func,onStop:$t.default.func,onMouseDown:$t.default.func,scale:$t.default.number,className:Wf.dontSetMe,style:Wf.dontSetMe,transform:Wf.dontSetMe});It(Su,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var n=b(d),t=m(Gr),o=m(Hn),i=m(BD),s=pt,c=nr,u=tr,f=m(Eu),v=m(Cu);function m(T){return T&&T.__esModule?T:{default:T}}function g(T){if(typeof WeakMap!="function")return null;var D=new WeakMap,O=new WeakMap;return(g=function(M){return M?O:D})(T)}function b(T,D){if(!D&&T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var O=g(D);if(O&&O.has(T))return O.get(T);var M={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in T)if(L!=="default"&&Object.prototype.hasOwnProperty.call(T,L)){var B=R?Object.getOwnPropertyDescriptor(T,L):null;B&&(B.get||B.set)?Object.defineProperty(M,L,B):M[L]=T[L]}return M.default=T,O&&O.set(T,M),M}function w(){return w=Object.assign?Object.assign.bind():function(T){for(var D=1;D<arguments.length;D++){var O=arguments[D];for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(T[M]=O[M])}return T},w.apply(this,arguments)}function k(T,D,O){return D=x(D),D in T?Object.defineProperty(T,D,{value:O,enumerable:!0,configurable:!0,writable:!0}):T[D]=O,T}function x(T){var D=E(T,"string");return typeof D=="symbol"?D:String(D)}function E(T,D){if(typeof T!="object"||T===null)return T;var O=T[Symbol.toPrimitive];if(O!==void 0){var M=O.call(T,D||"default");if(typeof M!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(T)}class C extends n.Component{static getDerivedStateFromProps(D,O){let{position:M}=D,{prevPropsPosition:R}=O;return M&&(!R||M.x!==R.x||M.y!==R.y)?((0,v.default)("Draggable: getDerivedStateFromProps %j",{position:M,prevPropsPosition:R}),{x:M.x,y:M.y,prevPropsPosition:{...M}}):null}constructor(D){super(D),k(this,"onDragStart",(O,M)=>{if((0,v.default)("Draggable: onDragStart: %j",M),this.props.onStart(O,(0,c.createDraggableData)(this,M))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),k(this,"onDrag",(O,M)=>{if(!this.state.dragging)return!1;(0,v.default)("Draggable: onDrag: %j",M);const R=(0,c.createDraggableData)(this,M),L={x:R.x,y:R.y,slackX:0,slackY:0};if(this.props.bounds){const{x:G,y:Q}=L;L.x+=this.state.slackX,L.y+=this.state.slackY;const[re,Y]=(0,c.getBoundPosition)(this,L.x,L.y);L.x=re,L.y=Y,L.slackX=this.state.slackX+(G-L.x),L.slackY=this.state.slackY+(Q-L.y),R.x=L.x,R.y=L.y,R.deltaX=L.x-this.state.x,R.deltaY=L.y-this.state.y}if(this.props.onDrag(O,R)===!1)return!1;this.setState(L)}),k(this,"onDragStop",(O,M)=>{if(!this.state.dragging||this.props.onStop(O,(0,c.createDraggableData)(this,M))===!1)return!1;(0,v.default)("Draggable: onDragStop: %j",M);const L={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:G,y:Q}=this.props.position;L.x=G,L.y=Q}this.setState(L)}),this.state={dragging:!1,dragged:!1,x:D.position?D.position.x:D.defaultPosition.x,y:D.position?D.position.y:D.defaultPosition.y,prevPropsPosition:{...D.position},slackX:0,slackY:0,isElementSVG:!1},D.position&&(D.onDrag||D.onStop)}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var D,O;return(D=(O=this.props)===null||O===void 0||(O=O.nodeRef)===null||O===void 0?void 0:O.current)!==null&&D!==void 0?D:o.default.findDOMNode(this)}render(){const{axis:D,bounds:O,children:M,defaultPosition:R,defaultClassName:L,defaultClassNameDragging:B,defaultClassNameDragged:G,position:Q,positionOffset:re,scale:Y,...se}=this.props;let ne={},J=null;const le=!!!Q||this.state.dragging,H=Q||R,I={x:(0,c.canDragX)(this)&&le?this.state.x:H.x,y:(0,c.canDragY)(this)&&le?this.state.y:H.y};this.state.isElementSVG?J=(0,s.createSVGTransform)(I,re):ne=(0,s.createCSSTransform)(I,re);const P=(0,i.default)(M.props.className||"",L,{[B]:this.state.dragging,[G]:this.state.dragged});return n.createElement(f.default,w({},se,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(M),{className:P,style:{...M.props.style,...ne},transform:J}))}}e.default=C,k(C,"displayName","Draggable"),k(C,"propTypes",{...f.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),k(C,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(e1);const{default:c1,DraggableCore:EO}=e1;ku.exports=c1;ku.exports.default=c1;ku.exports.DraggableCore=EO;var u1=ku.exports,Nu={exports:{}},zs={},Pv={};Pv.__esModule=!0;Pv.cloneElement=DO;var CO=SO(d);function SO(e){return e&&e.__esModule?e:{default:e}}function Fy(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,o)}return t}function jy(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Fy(Object(t),!0).forEach(function(o){NO(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fy(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function NO(e,n,t){return n=PO(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function PO(e){var n=TO(e,"string");return typeof n=="symbol"?n:String(n)}function TO(e,n){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function DO(e,n){return n.style&&e.props.style&&(n.style=jy(jy({},e.props.style),n.style)),n.className&&e.props.className&&(n.className=e.props.className+" "+n.className),CO.default.cloneElement(e,n)}var Is={};Is.__esModule=!0;Is.resizableProps=void 0;var je=OO(Gr);function OO(e){return e&&e.__esModule?e:{default:e}}var MO={axis:je.default.oneOf(["both","x","y","none"]),className:je.default.string,children:je.default.element.isRequired,draggableOpts:je.default.shape({allowAnyClick:je.default.bool,cancel:je.default.string,children:je.default.node,disabled:je.default.bool,enableUserSelectHack:je.default.bool,offsetParent:je.default.node,grid:je.default.arrayOf(je.default.number),handle:je.default.string,nodeRef:je.default.object,onStart:je.default.func,onDrag:je.default.func,onStop:je.default.func,onMouseDown:je.default.func,scale:je.default.number}),height:function(){for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];var i=t[0];if(i.axis==="both"||i.axis==="y"){var s;return(s=je.default.number).isRequired.apply(s,t)}return je.default.number.apply(je.default,t)},handle:je.default.oneOfType([je.default.node,je.default.func]),handleSize:je.default.arrayOf(je.default.number),lockAspectRatio:je.default.bool,maxConstraints:je.default.arrayOf(je.default.number),minConstraints:je.default.arrayOf(je.default.number),onResizeStop:je.default.func,onResizeStart:je.default.func,onResize:je.default.func,resizeHandles:je.default.arrayOf(je.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:je.default.number,width:function(){for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];var i=t[0];if(i.axis==="both"||i.axis==="x"){var s;return(s=je.default.number).isRequired.apply(s,t)}return je.default.number.apply(je.default,t)}};Is.resizableProps=MO;zs.__esModule=!0;zs.default=void 0;var Bi=IO(d),RO=u1,_O=Pv,LO=Is,zO=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function d1(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(d1=function(i){return i?t:n})(e)}function IO(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=d1(n);if(t&&t.has(e))return t.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}return o.default=e,t&&t.set(e,o),o}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},xp.apply(this,arguments)}function AO(e,n){if(e==null)return{};var t={},o=Object.keys(e),i,s;for(s=0;s<o.length;s++)i=o[s],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function Hy(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,o)}return t}function Vf(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Hy(Object(t),!0).forEach(function(o){FO(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hy(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function FO(e,n,t){return n=jO(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function jO(e){var n=HO(e,"string");return typeof n=="symbol"?n:String(n)}function HO(e,n){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function BO(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,kp(e,n)}function kp(e,n){return kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},kp(e,n)}var Tv=function(e){BO(n,e);function n(){for(var o,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return o=e.call.apply(e,[this].concat(s))||this,o.handleRefs={},o.lastHandleRect=null,o.slack=null,o}var t=n.prototype;return t.componentWillUnmount=function(){this.resetData()},t.resetData=function(){this.lastHandleRect=this.slack=null},t.runConstraints=function(i,s){var c=this.props,u=c.minConstraints,f=c.maxConstraints,v=c.lockAspectRatio;if(!u&&!f&&!v)return[i,s];if(v){var m=this.props.width/this.props.height,g=i-this.props.width,b=s-this.props.height;Math.abs(g)>Math.abs(b*m)?s=i/m:i=s*m}var w=i,k=s,x=this.slack||[0,0],E=x[0],C=x[1];return i+=E,s+=C,u&&(i=Math.max(u[0],i),s=Math.max(u[1],s)),f&&(i=Math.min(f[0],i),s=Math.min(f[1],s)),this.slack=[E+(w-i),C+(k-s)],[i,s]},t.resizeHandler=function(i,s){var c=this;return function(u,f){var v=f.node,m=f.deltaX,g=f.deltaY;i==="onResizeStart"&&c.resetData();var b=(c.props.axis==="both"||c.props.axis==="x")&&s!=="n"&&s!=="s",w=(c.props.axis==="both"||c.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!b&&!w)){var k=s[0],x=s[s.length-1],E=v.getBoundingClientRect();if(c.lastHandleRect!=null){if(x==="w"){var C=E.left-c.lastHandleRect.left;m+=C}if(k==="n"){var T=E.top-c.lastHandleRect.top;g+=T}}c.lastHandleRect=E,x==="w"&&(m=-m),k==="n"&&(g=-g);var D=c.props.width+(b?m/c.props.transformScale:0),O=c.props.height+(w?g/c.props.transformScale:0),M=c.runConstraints(D,O);D=M[0],O=M[1];var R=D!==c.props.width||O!==c.props.height,L=typeof c.props[i]=="function"?c.props[i]:null,B=i==="onResize"&&!R;L&&!B&&(u.persist==null||u.persist(),L(u,{node:v,size:{width:D,height:O},handle:s})),i==="onResizeStop"&&c.resetData()}}},t.renderResizeHandle=function(i,s){var c=this.props.handle;if(!c)return Bi.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+i,ref:s});if(typeof c=="function")return c(i,s);var u=typeof c.type=="string",f=Vf({ref:s},u?{}:{handleAxis:i});return Bi.cloneElement(c,f)},t.render=function(){var i=this,s=this.props,c=s.children,u=s.className,f=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var v=s.resizeHandles;s.transformScale;var m=AO(s,zO);return(0,_O.cloneElement)(c,Vf(Vf({},m),{},{className:(u?u+" ":"")+"react-resizable",children:[].concat(c.props.children,v.map(function(g){var b,w=(b=i.handleRefs[g])!=null?b:i.handleRefs[g]=Bi.createRef();return Bi.createElement(RO.DraggableCore,xp({},f,{nodeRef:w,key:"resizableHandle-"+g,onStop:i.resizeHandler("onResizeStop",g),onStart:i.resizeHandler("onResizeStart",g),onDrag:i.resizeHandler("onResize",g)}),i.renderResizeHandle(g,w))}))}))},n}(Bi.Component);zs.default=Tv;Tv.propTypes=LO.resizableProps;Tv.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var Pu={};Pu.__esModule=!0;Pu.default=void 0;var $f=qO(d),WO=f1(Gr),VO=f1(zs),$O=Is,UO=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function f1(e){return e&&e.__esModule?e:{default:e}}function p1(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(p1=function(i){return i?t:n})(e)}function qO(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=p1(n);if(t&&t.has(e))return t.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}return o.default=e,t&&t.set(e,o),o}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ep.apply(this,arguments)}function By(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,o)}return t}function Vc(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?By(Object(t),!0).forEach(function(o){GO(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):By(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function GO(e,n,t){return n=YO(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function YO(e){var n=KO(e,"string");return typeof n=="symbol"?n:String(n)}function KO(e,n){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function XO(e,n){if(e==null)return{};var t={},o=Object.keys(e),i,s;for(s=0;s<o.length;s++)i=o[s],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function QO(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,Cp(e,n)}function Cp(e,n){return Cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},Cp(e,n)}var v1=function(e){QO(n,e);function n(){for(var o,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return o=e.call.apply(e,[this].concat(s))||this,o.state={width:o.props.width,height:o.props.height,propsWidth:o.props.width,propsHeight:o.props.height},o.onResize=function(u,f){var v=f.size;o.props.onResize?(u.persist==null||u.persist(),o.setState(v,function(){return o.props.onResize&&o.props.onResize(u,f)})):o.setState(v)},o}n.getDerivedStateFromProps=function(i,s){return s.propsWidth!==i.width||s.propsHeight!==i.height?{width:i.width,height:i.height,propsWidth:i.width,propsHeight:i.height}:null};var t=n.prototype;return t.render=function(){var i=this.props,s=i.handle,c=i.handleSize;i.onResize;var u=i.onResizeStart,f=i.onResizeStop,v=i.draggableOpts,m=i.minConstraints,g=i.maxConstraints,b=i.lockAspectRatio,w=i.axis;i.width,i.height;var k=i.resizeHandles,x=i.style,E=i.transformScale,C=XO(i,UO);return $f.createElement(VO.default,{axis:w,draggableOpts:v,handle:s,handleSize:c,height:this.state.height,lockAspectRatio:b,maxConstraints:g,minConstraints:m,onResizeStart:u,onResize:this.onResize,onResizeStop:f,resizeHandles:k,transformScale:E,width:this.state.width},$f.createElement("div",Ep({},C,{style:Vc(Vc({},x),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},n}($f.Component);Pu.default=v1;v1.propTypes=Vc(Vc({},$O.resizableProps),{},{children:WO.default.element});Nu.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};Nu.exports.Resizable=zs.default;Nu.exports.ResizableBox=Pu.default;var ZO=Nu.exports,pr={};Object.defineProperty(pr,"__esModule",{value:!0});pr.resizeHandleType=pr.resizeHandleAxesType=pr.default=void 0;var He=h1(Gr),JO=h1(d);function h1(e){return e&&e.__esModule?e:{default:e}}const eM=pr.resizeHandleAxesType=He.default.arrayOf(He.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),tM=pr.resizeHandleType=He.default.oneOfType([He.default.node,He.default.func]);pr.default={className:He.default.string,style:He.default.object,width:He.default.number,autoSize:He.default.bool,cols:He.default.number,draggableCancel:He.default.string,draggableHandle:He.default.string,verticalCompact:function(e){e.verticalCompact},compactType:He.default.oneOf(["vertical","horizontal"]),layout:function(e){var n=e.layout;n!==void 0&&We.validateLayout(n,"layout")},margin:He.default.arrayOf(He.default.number),containerPadding:He.default.arrayOf(He.default.number),rowHeight:He.default.number,maxRows:He.default.number,isBounded:He.default.bool,isDraggable:He.default.bool,isResizable:He.default.bool,allowOverlap:He.default.bool,preventCollision:He.default.bool,useCSSTransforms:He.default.bool,transformScale:He.default.number,isDroppable:He.default.bool,resizeHandles:eM,resizeHandle:tM,onLayoutChange:He.default.func,onDragStart:He.default.func,onDrag:He.default.func,onDragStop:He.default.func,onResizeStart:He.default.func,onResize:He.default.func,onResizeStop:He.default.func,onDrop:He.default.func,droppingItem:He.default.shape({i:He.default.string.isRequired,w:He.default.number.isRequired,h:He.default.number.isRequired}),children:function(e,n){const t=e[n],o={};JO.default.Children.forEach(t,function(i){if((i==null?void 0:i.key)!=null){if(o[i.key])throw new Error('Duplicate child key "'+i.key+'" found! This will cause problems in ReactGridLayout.');o[i.key]=!0}})},innerRef:He.default.any};Object.defineProperty(xu,"__esModule",{value:!0});xu.default=void 0;var pa=Dv(d),Xe=Dv(Gr),nM=u1,rM=ZO,va=We,St=er,Wy=pr,oM=Dv(vv);function Dv(e){return e&&e.__esModule?e:{default:e}}function Gn(e,n,t){return n=aM(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function aM(e){var n=iM(e,"string");return typeof n=="symbol"?n:String(n)}function iM(e,n){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}class Ov extends pa.default.Component{constructor(){super(...arguments),Gn(this,"state",{resizing:null,dragging:null,className:""}),Gn(this,"elementRef",pa.default.createRef()),Gn(this,"onDragStart",(n,t)=>{let{node:o}=t;const{onDragStart:i,transformScale:s}=this.props;if(!i)return;const c={top:0,left:0},{offsetParent:u}=o;if(!u)return;const f=u.getBoundingClientRect(),v=o.getBoundingClientRect(),m=v.left/s,g=f.left/s,b=v.top/s,w=f.top/s;c.left=m-g+u.scrollLeft,c.top=b-w+u.scrollTop,this.setState({dragging:c});const{x:k,y:x}=(0,St.calcXY)(this.getPositionParams(),c.top,c.left,this.props.w,this.props.h);return i.call(this,this.props.i,k,x,{e:n,node:o,newPosition:c})}),Gn(this,"onDrag",(n,t)=>{let{node:o,deltaX:i,deltaY:s}=t;const{onDrag:c}=this.props;if(!c)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let u=this.state.dragging.top+s,f=this.state.dragging.left+i;const{isBounded:v,i:m,w:g,h:b,containerWidth:w}=this.props,k=this.getPositionParams();if(v){const{offsetParent:D}=o;if(D){const{margin:O,rowHeight:M,containerPadding:R}=this.props,L=D.clientHeight-(0,St.calcGridItemWHPx)(b,M,O[1]);u=(0,St.clamp)(u-R[1],0,L);const B=(0,St.calcGridColWidth)(k),G=w-(0,St.calcGridItemWHPx)(g,B,O[0]);f=(0,St.clamp)(f-R[0],0,G)}}const x={top:u,left:f};this.setState({dragging:x});const{containerPadding:E}=this.props,{x:C,y:T}=(0,St.calcXY)(k,u-E[1],f-E[0],g,b);return c.call(this,m,C,T,{e:n,node:o,newPosition:x})}),Gn(this,"onDragStop",(n,t)=>{let{node:o}=t;const{onDragStop:i}=this.props;if(!i)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:s,h:c,i:u,containerPadding:f}=this.props,{left:v,top:m}=this.state.dragging,g={top:m,left:v};this.setState({dragging:null});const{x:b,y:w}=(0,St.calcXY)(this.getPositionParams(),m-f[1],v-f[0],s,c);return i.call(this,u,b,w,{e:n,node:o,newPosition:g})}),Gn(this,"onResizeStop",(n,t,o)=>this.onResizeHandler(n,t,o,"onResizeStop")),Gn(this,"onResizeStart",(n,t,o)=>this.onResizeHandler(n,t,o,"onResizeStart")),Gn(this,"onResize",(n,t,o)=>this.onResizeHandler(n,t,o,"onResize"))}shouldComponentUpdate(n,t){if(this.props.children!==n.children||this.props.droppingPosition!==n.droppingPosition)return!0;const o=(0,St.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),i=(0,St.calcGridItemPosition)(this.getPositionParams(n),n.x,n.y,n.w,n.h,t);return!(0,va.fastPositionEqual)(o,i)||this.props.useCSSTransforms!==n.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(n){this.moveDroppingItem(n)}moveDroppingItem(n){const{droppingPosition:t}=this.props;if(!t)return;const o=this.elementRef.current;if(!o)return;const i=n.droppingPosition||{left:0,top:0},{dragging:s}=this.state,c=s&&t.left!==i.left||t.top!==i.top;if(!s)this.onDragStart(t.e,{node:o,deltaX:t.left,deltaY:t.top});else if(c){const u=t.left-s.left,f=t.top-s.top;this.onDrag(t.e,{node:o,deltaX:u,deltaY:f})}}getPositionParams(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:n.cols,containerPadding:n.containerPadding,containerWidth:n.containerWidth,margin:n.margin,maxRows:n.maxRows,rowHeight:n.rowHeight}}createStyle(n){const{usePercentages:t,containerWidth:o,useCSSTransforms:i}=this.props;let s;return i?s=(0,va.setTransform)(n):(s=(0,va.setTopLeft)(n),t&&(s.left=(0,va.perc)(n.left/o),s.width=(0,va.perc)(n.width/o))),s}mixinDraggable(n,t){return pa.default.createElement(nM.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},n)}curryResizeHandler(n,t){return(o,i)=>t(o,i,n)}mixinResizable(n,t,o){const{cols:i,minW:s,minH:c,maxW:u,maxH:f,transformScale:v,resizeHandles:m,resizeHandle:g}=this.props,b=this.getPositionParams(),w=(0,St.calcGridItemPosition)(b,0,0,i,0).width,k=(0,St.calcGridItemPosition)(b,0,0,s,c),x=(0,St.calcGridItemPosition)(b,0,0,u,f),E=[k.width,k.height],C=[Math.min(x.width,w),Math.min(x.height,1/0)];return pa.default.createElement(rM.Resizable,{draggableOpts:{disabled:!o},className:o?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:E,maxConstraints:C,onResizeStop:this.curryResizeHandler(t,this.onResizeStop),onResizeStart:this.curryResizeHandler(t,this.onResizeStart),onResize:this.curryResizeHandler(t,this.onResize),transformScale:v,resizeHandles:m,handle:g},n)}onResizeHandler(n,t,o,i){let{node:s,size:c,handle:u}=t;const f=this.props[i];if(!f)return;const{x:v,y:m,i:g,maxH:b,minH:w,containerWidth:k}=this.props,{minW:x,maxW:E}=this.props;let C=c;s&&(C=(0,va.resizeItemInDirection)(u,o,c,k),this.setState({resizing:i==="onResizeStop"?null:C}));let{w:T,h:D}=(0,St.calcWH)(this.getPositionParams(),C.width,C.height,v,m,u);T=(0,St.clamp)(T,Math.max(x,1),E),D=(0,St.clamp)(D,w,b),f.call(this,g,T,D,{e:n,node:s,size:C,handle:u})}render(){const{x:n,y:t,w:o,h:i,isDraggable:s,isResizable:c,droppingPosition:u,useCSSTransforms:f}=this.props,v=(0,St.calcGridItemPosition)(this.getPositionParams(),n,t,o,i,this.state),m=pa.default.Children.only(this.props.children);let g=pa.default.cloneElement(m,{ref:this.elementRef,className:(0,oM.default)("react-grid-item",m.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":s,"react-draggable-dragging":!!this.state.dragging,dropping:!!u,cssTransforms:f}),style:{...this.props.style,...m.props.style,...this.createStyle(v)}});return g=this.mixinResizable(g,v,c),g=this.mixinDraggable(g,s),g}}xu.default=Ov;Gn(Ov,"propTypes",{children:Xe.default.element,cols:Xe.default.number.isRequired,containerWidth:Xe.default.number.isRequired,rowHeight:Xe.default.number.isRequired,margin:Xe.default.array.isRequired,maxRows:Xe.default.number.isRequired,containerPadding:Xe.default.array.isRequired,x:Xe.default.number.isRequired,y:Xe.default.number.isRequired,w:Xe.default.number.isRequired,h:Xe.default.number.isRequired,minW:function(e,n){const t=e[n];if(typeof t!="number")return new Error("minWidth not Number");if(t>e.w||t>e.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(e,n){const t=e[n];if(typeof t!="number")return new Error("maxWidth not Number");if(t<e.w||t<e.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(e,n){const t=e[n];if(typeof t!="number")return new Error("minHeight not Number");if(t>e.h||t>e.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(e,n){const t=e[n];if(typeof t!="number")return new Error("maxHeight not Number");if(t<e.h||t<e.minH)return new Error("maxHeight smaller than item height/minHeight")},i:Xe.default.string.isRequired,resizeHandles:Wy.resizeHandleAxesType,resizeHandle:Wy.resizeHandleType,onDragStop:Xe.default.func,onDragStart:Xe.default.func,onDrag:Xe.default.func,onResizeStop:Xe.default.func,onResizeStart:Xe.default.func,onResize:Xe.default.func,isDraggable:Xe.default.bool.isRequired,isResizable:Xe.default.bool.isRequired,isBounded:Xe.default.bool.isRequired,static:Xe.default.bool,useCSSTransforms:Xe.default.bool.isRequired,transformScale:Xe.default.number,className:Xe.default.string,handle:Xe.default.string,cancel:Xe.default.string,droppingPosition:Xe.default.shape({e:Xe.default.object.isRequired,left:Xe.default.number.isRequired,top:Xe.default.number.isRequired})});Gn(Ov,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});Object.defineProperty(Ls,"__esModule",{value:!0});Ls.default=void 0;var uo=uM(d),Uf=pv,sM=Mv(vv),Ie=We,lM=er,Vy=Mv(xu),cM=Mv(pr);function Mv(e){return e&&e.__esModule?e:{default:e}}function m1(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(m1=function(o){return o?t:n})(e)}function uM(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=m1(n);if(t&&t.has(e))return t.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}return o.default=e,t&&t.set(e,o),o}function Rt(e,n,t){return n=dM(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function dM(e){var n=fM(e,"string");return typeof n=="symbol"?n:String(n)}function fM(e,n){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}const $y="react-grid-layout";let g1=!1;try{g1=/firefox/i.test(navigator.userAgent)}catch{}class Tu extends uo.Component{constructor(){super(...arguments),Rt(this,"state",{activeDrag:null,layout:(0,Ie.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,Ie.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),Rt(this,"dragEnterCounter",0),Rt(this,"onDragStart",(n,t,o,i)=>{let{e:s,node:c}=i;const{layout:u}=this.state,f=(0,Ie.getLayoutItem)(u,n);if(!f)return;const v={w:f.w,h:f.h,x:f.x,y:f.y,placeholder:!0,i:n};return this.setState({oldDragItem:(0,Ie.cloneLayoutItem)(f),oldLayout:u,activeDrag:v}),this.props.onDragStart(u,f,f,null,s,c)}),Rt(this,"onDrag",(n,t,o,i)=>{let{e:s,node:c}=i;const{oldDragItem:u}=this.state;let{layout:f}=this.state;const{cols:v,allowOverlap:m,preventCollision:g}=this.props,b=(0,Ie.getLayoutItem)(f,n);if(!b)return;const w={w:b.w,h:b.h,x:b.x,y:b.y,placeholder:!0,i:n},k=!0;f=(0,Ie.moveElement)(f,b,t,o,k,g,(0,Ie.compactType)(this.props),v,m),this.props.onDrag(f,u,b,w,s,c),this.setState({layout:m?f:(0,Ie.compact)(f,(0,Ie.compactType)(this.props),v),activeDrag:w})}),Rt(this,"onDragStop",(n,t,o,i)=>{let{e:s,node:c}=i;if(!this.state.activeDrag)return;const{oldDragItem:u}=this.state;let{layout:f}=this.state;const{cols:v,preventCollision:m,allowOverlap:g}=this.props,b=(0,Ie.getLayoutItem)(f,n);if(!b)return;const w=!0;f=(0,Ie.moveElement)(f,b,t,o,w,m,(0,Ie.compactType)(this.props),v,g);const k=g?f:(0,Ie.compact)(f,(0,Ie.compactType)(this.props),v);this.props.onDragStop(k,u,b,null,s,c);const{oldLayout:x}=this.state;this.setState({activeDrag:null,layout:k,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(k,x)}),Rt(this,"onResizeStart",(n,t,o,i)=>{let{e:s,node:c}=i;const{layout:u}=this.state,f=(0,Ie.getLayoutItem)(u,n);f&&(this.setState({oldResizeItem:(0,Ie.cloneLayoutItem)(f),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(u,f,f,null,s,c))}),Rt(this,"onResize",(n,t,o,i)=>{let{e:s,node:c,size:u,handle:f}=i;const{oldResizeItem:v}=this.state,{layout:m}=this.state,{cols:g,preventCollision:b,allowOverlap:w}=this.props;let k=!1,x,E,C;const[T,D]=(0,Ie.withLayoutItem)(m,n,M=>{let R;return E=M.x,C=M.y,["sw","w","nw","n","ne"].indexOf(f)!==-1&&(["sw","nw","w"].indexOf(f)!==-1&&(E=M.x+(M.w-t),t=M.x!==E&&E<0?M.w:t,E=E<0?0:E),["ne","n","nw"].indexOf(f)!==-1&&(C=M.y+(M.h-o),o=M.y!==C&&C<0?M.h:o,C=C<0?0:C),k=!0),b&&!w&&(R=(0,Ie.getAllCollisions)(m,{...M,w:t,h:o,x:E,y:C}).filter(B=>B.i!==M.i).length>0,R&&(C=M.y,o=M.h,E=M.x,t=M.w,k=!1)),M.w=t,M.h=o,M});if(!D)return;x=T,k&&(x=(0,Ie.moveElement)(T,D,E,C,!0,this.props.preventCollision,(0,Ie.compactType)(this.props),g,w));const O={w:D.w,h:D.h,x:D.x,y:D.y,static:!0,i:n};this.props.onResize(x,v,D,O,s,c),this.setState({layout:w?x:(0,Ie.compact)(x,(0,Ie.compactType)(this.props),g),activeDrag:O})}),Rt(this,"onResizeStop",(n,t,o,i)=>{let{e:s,node:c}=i;const{layout:u,oldResizeItem:f}=this.state,{cols:v,allowOverlap:m}=this.props,g=(0,Ie.getLayoutItem)(u,n),b=m?u:(0,Ie.compact)(u,(0,Ie.compactType)(this.props),v);this.props.onResizeStop(b,f,g,null,s,c);const{oldLayout:w}=this.state;this.setState({activeDrag:null,layout:b,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(b,w)}),Rt(this,"onDragOver",n=>{var T;if(n.preventDefault(),n.stopPropagation(),g1&&!((T=n.nativeEvent.target)!=null&&T.classList.contains($y)))return!1;const{droppingItem:t,onDropDragOver:o,margin:i,cols:s,rowHeight:c,maxRows:u,width:f,containerPadding:v,transformScale:m}=this.props,g=o==null?void 0:o(n);if(g===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const b={...t,...g},{layout:w}=this.state,k=n.currentTarget.getBoundingClientRect(),x=n.clientX-k.left,E=n.clientY-k.top,C={left:x/m,top:E/m,e:n};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:D,top:O}=this.state.droppingPosition;(D!=x||O!=E)&&this.setState({droppingPosition:C})}}else{const D={cols:s,margin:i,maxRows:u,rowHeight:c,containerWidth:f,containerPadding:v||i},O=(0,lM.calcXY)(D,E,x,b.w,b.h);this.setState({droppingDOMNode:uo.createElement("div",{key:b.i}),droppingPosition:C,layout:[...w,{...b,x:O.x,y:O.y,static:!1,isDraggable:!0}]})}}),Rt(this,"removeDroppingPlaceholder",()=>{const{droppingItem:n,cols:t}=this.props,{layout:o}=this.state,i=(0,Ie.compact)(o.filter(s=>s.i!==n.i),(0,Ie.compactType)(this.props),t,this.props.allowOverlap);this.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),Rt(this,"onDragLeave",n=>{n.preventDefault(),n.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),Rt(this,"onDragEnter",n=>{n.preventDefault(),n.stopPropagation(),this.dragEnterCounter++}),Rt(this,"onDrop",n=>{n.preventDefault(),n.stopPropagation();const{droppingItem:t}=this.props,{layout:o}=this.state,i=o.find(s=>s.i===t.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(o,i,n)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(n,t){let o;return t.activeDrag?null:(!(0,Uf.deepEqual)(n.layout,t.propsLayout)||n.compactType!==t.compactType?o=n.layout:(0,Ie.childrenEqual)(n.children,t.children)||(o=t.layout),o?{layout:(0,Ie.synchronizeLayoutWithChildren)(o,n.children,n.cols,(0,Ie.compactType)(n),n.allowOverlap),compactType:n.compactType,children:n.children,propsLayout:n.layout}:null)}shouldComponentUpdate(n,t){return this.props.children!==n.children||!(0,Ie.fastRGLPropsEqual)(this.props,n,Uf.deepEqual)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}componentDidUpdate(n,t){if(!this.state.activeDrag){const o=this.state.layout,i=t.layout;this.onLayoutMaybeChanged(o,i)}}containerHeight(){if(!this.props.autoSize)return;const n=(0,Ie.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return n*this.props.rowHeight+(n-1)*this.props.margin[1]+t*2+"px"}onLayoutMaybeChanged(n,t){t||(t=this.state.layout),(0,Uf.deepEqual)(t,n)||this.props.onLayoutChange(n)}placeholder(){const{activeDrag:n}=this.state;if(!n)return null;const{width:t,cols:o,margin:i,containerPadding:s,rowHeight:c,maxRows:u,useCSSTransforms:f,transformScale:v}=this.props;return uo.createElement(Vy.default,{w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:t,cols:o,margin:i,containerPadding:s||i,maxRows:u,rowHeight:c,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:f,transformScale:v},uo.createElement("div",null))}processGridItem(n,t){if(!n||!n.key)return;const o=(0,Ie.getLayoutItem)(this.state.layout,String(n.key));if(!o)return null;const{width:i,cols:s,margin:c,containerPadding:u,rowHeight:f,maxRows:v,isDraggable:m,isResizable:g,isBounded:b,useCSSTransforms:w,transformScale:k,draggableCancel:x,draggableHandle:E,resizeHandles:C,resizeHandle:T}=this.props,{mounted:D,droppingPosition:O}=this.state,M=typeof o.isDraggable=="boolean"?o.isDraggable:!o.static&&m,R=typeof o.isResizable=="boolean"?o.isResizable:!o.static&&g,L=o.resizeHandles||C,B=M&&b&&o.isBounded!==!1;return uo.createElement(Vy.default,{containerWidth:i,cols:s,margin:c,containerPadding:u||c,maxRows:v,rowHeight:f,cancel:x,handle:E,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:M,isResizable:R,isBounded:B,useCSSTransforms:w&&D,usePercentages:!D,transformScale:k,w:o.w,h:o.h,x:o.x,y:o.y,i:o.i,minH:o.minH,minW:o.minW,maxH:o.maxH,maxW:o.maxW,static:o.static,droppingPosition:t?O:void 0,resizeHandles:L,resizeHandle:T},n)}render(){const{className:n,style:t,isDroppable:o,innerRef:i}=this.props,s=(0,sM.default)($y,n),c={height:this.containerHeight(),...t};return uo.createElement("div",{ref:i,className:s,style:c,onDrop:o?this.onDrop:Ie.noop,onDragLeave:o?this.onDragLeave:Ie.noop,onDragEnter:o?this.onDragEnter:Ie.noop,onDragOver:o?this.onDragOver:Ie.noop},uo.Children.map(this.props.children,u=>this.processGridItem(u)),o&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}Ls.default=Tu;Rt(Tu,"displayName","ReactGridLayout");Rt(Tu,"propTypes",cM.default);Rt(Tu,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:Ie.noop,onDragStart:Ie.noop,onDrag:Ie.noop,onDragStop:Ie.noop,onResizeStart:Ie.noop,onResize:Ie.noop,onResizeStop:Ie.noop,onDrop:Ie.noop,onDropDragOver:Ie.noop});var Du={},_o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.findOrGenerateResponsiveLayout=hM;_o.getBreakpointFromWidth=pM;_o.getColsFromBreakpoint=vM;_o.sortBreakpoints=Rv;var pc=We;function pM(e,n){const t=Rv(e);let o=t[0];for(let i=1,s=t.length;i<s;i++){const c=t[i];n>e[c]&&(o=c)}return o}function vM(e,n){if(!n[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return n[e]}function hM(e,n,t,o,i,s){if(e[t])return(0,pc.cloneLayout)(e[t]);let c=e[o];const u=Rv(n),f=u.slice(u.indexOf(t));for(let v=0,m=f.length;v<m;v++){const g=f[v];if(e[g]){c=e[g];break}}return c=(0,pc.cloneLayout)(c||[]),(0,pc.compact)((0,pc.correctBounds)(c,{cols:i}),s,i)}function Rv(e){return Object.keys(e).sort(function(t,o){return e[t]-e[o]})}Object.defineProperty(Du,"__esModule",{value:!0});Du.default=void 0;var Uy=gM(d),Ut=y1(Gr),qf=pv,Sa=We,fo=_o,mM=y1(Ls);function y1(e){return e&&e.__esModule?e:{default:e}}function b1(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(b1=function(o){return o?t:n})(e)}function gM(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=b1(n);if(t&&t.has(e))return t.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}return o.default=e,t&&t.set(e,o),o}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Sp.apply(this,arguments)}function $c(e,n,t){return n=yM(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function yM(e){var n=bM(e,"string");return typeof n=="symbol"?n:String(n)}function bM(e,n){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}const qy=e=>Object.prototype.toString.call(e);function vc(e,n){return e==null?null:Array.isArray(e)?e:e[n]}class _v extends Uy.Component{constructor(){super(...arguments),$c(this,"state",this.generateInitialState()),$c(this,"onLayoutChange",n=>{this.props.onLayoutChange(n,{...this.props.layouts,[this.state.breakpoint]:n})})}generateInitialState(){const{width:n,breakpoints:t,layouts:o,cols:i}=this.props,s=(0,fo.getBreakpointFromWidth)(t,n),c=(0,fo.getColsFromBreakpoint)(s,i),u=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,fo.findOrGenerateResponsiveLayout)(o,t,s,s,c,u),breakpoint:s,cols:c}}static getDerivedStateFromProps(n,t){if(!(0,qf.deepEqual)(n.layouts,t.layouts)){const{breakpoint:o,cols:i}=t;return{layout:(0,fo.findOrGenerateResponsiveLayout)(n.layouts,n.breakpoints,o,o,i,n.compactType),layouts:n.layouts}}return null}componentDidUpdate(n){(this.props.width!=n.width||this.props.breakpoint!==n.breakpoint||!(0,qf.deepEqual)(this.props.breakpoints,n.breakpoints)||!(0,qf.deepEqual)(this.props.cols,n.cols))&&this.onWidthChange(n)}onWidthChange(n){const{breakpoints:t,cols:o,layouts:i,compactType:s}=this.props,c=this.props.breakpoint||(0,fo.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),u=this.state.breakpoint,f=(0,fo.getColsFromBreakpoint)(c,o),v={...i};if(u!==c||n.breakpoints!==t||n.cols!==o){u in v||(v[u]=(0,Sa.cloneLayout)(this.state.layout));let b=(0,fo.findOrGenerateResponsiveLayout)(v,t,c,u,f,s);b=(0,Sa.synchronizeLayoutWithChildren)(b,this.props.children,f,s,this.props.allowOverlap),v[c]=b,this.props.onLayoutChange(b,v),this.props.onBreakpointChange(c,f),this.setState({breakpoint:c,layout:b,cols:f})}const m=vc(this.props.margin,c),g=vc(this.props.containerPadding,c);this.props.onWidthChange(this.props.width,m,f,g)}render(){const{breakpoint:n,breakpoints:t,cols:o,layouts:i,margin:s,containerPadding:c,onBreakpointChange:u,onLayoutChange:f,onWidthChange:v,...m}=this.props;return Uy.createElement(mM.default,Sp({},m,{margin:vc(s,this.state.breakpoint),containerPadding:vc(c,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}Du.default=_v;$c(_v,"propTypes",{breakpoint:Ut.default.string,breakpoints:Ut.default.object,allowOverlap:Ut.default.bool,cols:Ut.default.object,margin:Ut.default.oneOfType([Ut.default.array,Ut.default.object]),containerPadding:Ut.default.oneOfType([Ut.default.array,Ut.default.object]),layouts(e,n){if(qy(e[n])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+qy(e[n]));Object.keys(e[n]).forEach(t=>{if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,Sa.validateLayout)(e.layouts[t],"layouts."+t)})},width:Ut.default.number.isRequired,onBreakpointChange:Ut.default.func,onLayoutChange:Ut.default.func,onWidthChange:Ut.default.func});$c(_v,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:Sa.noop,onLayoutChange:Sa.noop,onWidthChange:Sa.noop});var Lv={},w1=function(){if(typeof Map<"u")return Map;function e(n,t){var o=-1;return n.some(function(i,s){return i[0]===t?(o=s,!0):!1}),o}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(t){var o=e(this.__entries__,t),i=this.__entries__[o];return i&&i[1]},n.prototype.set=function(t,o){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=o:this.__entries__.push([t,o])},n.prototype.delete=function(t){var o=this.__entries__,i=e(o,t);~i&&o.splice(i,1)},n.prototype.has=function(t){return!!~e(this.__entries__,t)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(t,o){o===void 0&&(o=null);for(var i=0,s=this.__entries__;i<s.length;i++){var c=s[i];t.call(o,c[1],c[0])}},n}()}(),Np=typeof window<"u"&&typeof document<"u"&&window.document===document,Uc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),wM=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Uc):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),xM=2;function kM(e,n){var t=!1,o=!1,i=0;function s(){t&&(t=!1,e()),o&&u()}function c(){wM(s)}function u(){var f=Date.now();if(t){if(f-i<xM)return;o=!0}else t=!0,o=!1,setTimeout(c,n);i=f}return u}var EM=20,CM=["top","right","bottom","left","width","height","size","weight"],SM=typeof MutationObserver<"u",NM=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=kM(this.refresh.bind(this),EM)}return e.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},e.prototype.removeObserver=function(n){var t=this.observers_,o=t.indexOf(n);~o&&t.splice(o,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},e.prototype.updateObservers_=function(){var n=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return n.forEach(function(t){return t.broadcastActive()}),n.length>0},e.prototype.connect_=function(){!Np||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),SM?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!Np||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(n){var t=n.propertyName,o=t===void 0?"":t,i=CM.some(function(s){return!!~o.indexOf(s)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),x1=function(e,n){for(var t=0,o=Object.keys(n);t<o.length;t++){var i=o[t];Object.defineProperty(e,i,{value:n[i],enumerable:!1,writable:!1,configurable:!0})}return e},Oa=function(e){var n=e&&e.ownerDocument&&e.ownerDocument.defaultView;return n||Uc},k1=Ou(0,0,0,0);function qc(e){return parseFloat(e)||0}function Gy(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return n.reduce(function(o,i){var s=e["border-"+i+"-width"];return o+qc(s)},0)}function PM(e){for(var n=["top","right","bottom","left"],t={},o=0,i=n;o<i.length;o++){var s=i[o],c=e["padding-"+s];t[s]=qc(c)}return t}function TM(e){var n=e.getBBox();return Ou(0,0,n.width,n.height)}function DM(e){var n=e.clientWidth,t=e.clientHeight;if(!n&&!t)return k1;var o=Oa(e).getComputedStyle(e),i=PM(o),s=i.left+i.right,c=i.top+i.bottom,u=qc(o.width),f=qc(o.height);if(o.boxSizing==="border-box"&&(Math.round(u+s)!==n&&(u-=Gy(o,"left","right")+s),Math.round(f+c)!==t&&(f-=Gy(o,"top","bottom")+c)),!MM(e)){var v=Math.round(u+s)-n,m=Math.round(f+c)-t;Math.abs(v)!==1&&(u-=v),Math.abs(m)!==1&&(f-=m)}return Ou(i.left,i.top,u,f)}var OM=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Oa(e).SVGGraphicsElement}:function(e){return e instanceof Oa(e).SVGElement&&typeof e.getBBox=="function"}}();function MM(e){return e===Oa(e).document.documentElement}function RM(e){return Np?OM(e)?TM(e):DM(e):k1}function _M(e){var n=e.x,t=e.y,o=e.width,i=e.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,c=Object.create(s.prototype);return x1(c,{x:n,y:t,width:o,height:i,top:t,right:n+o,bottom:i+t,left:n}),c}function Ou(e,n,t,o){return{x:e,y:n,width:t,height:o}}var LM=function(){function e(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ou(0,0,0,0),this.target=n}return e.prototype.isActive=function(){var n=RM(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},e}(),zM=function(){function e(n,t){var o=_M(t);x1(this,{target:n,contentRect:o})}return e}(),IM=function(){function e(n,t,o){if(this.activeObservations_=[],this.observations_=new w1,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=t,this.callbackCtx_=o}return e.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof Oa(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(n)||(t.set(n,new LM(n)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof Oa(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(n)&&(t.delete(n),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&n.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,t=this.activeObservations_.map(function(o){return new zM(o.target,o.broadcastRect())});this.callback_.call(n,t,n),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),E1=typeof WeakMap<"u"?new WeakMap:new w1,C1=function(){function e(n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=NM.getInstance(),o=new IM(n,t,this);E1.set(this,o)}return e}();["observe","unobserve","disconnect"].forEach(function(e){C1.prototype[e]=function(){var n;return(n=E1.get(this))[e].apply(n,arguments)}});var AM=function(){return typeof Uc.ResizeObserver<"u"?Uc.ResizeObserver:C1}();const FM=Object.freeze(Object.defineProperty({__proto__:null,default:AM},Symbol.toStringTag,{value:"Module"})),jM=Pb(FM);Object.defineProperty(Lv,"__esModule",{value:!0});Lv.default=GM;var hc=VM(d),HM=zv(Gr),BM=zv(jM),WM=zv(vv);function zv(e){return e&&e.__esModule?e:{default:e}}function S1(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(S1=function(o){return o?t:n})(e)}function VM(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=S1(n);if(t&&t.has(e))return t.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}return o.default=e,t&&t.set(e,o),o}function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Pp.apply(this,arguments)}function ha(e,n,t){return n=$M(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function $M(e){var n=UM(e,"string");return typeof n=="symbol"?n:String(n)}function UM(e,n){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}const qM="react-grid-layout";function GM(e){var n;return n=class extends hc.Component{constructor(){super(...arguments),ha(this,"state",{width:1280}),ha(this,"elementRef",hc.createRef()),ha(this,"mounted",!1),ha(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new BM.default(i=>{if(this.elementRef.current instanceof HTMLElement){const c=i[0].contentRect.width;this.setState({width:c})}});const o=this.elementRef.current;o instanceof HTMLElement&&this.resizeObserver.observe(o)}componentWillUnmount(){this.mounted=!1;const o=this.elementRef.current;o instanceof HTMLElement&&this.resizeObserver.unobserve(o),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:o,...i}=this.props;return o&&!this.mounted?hc.createElement("div",{className:(0,WM.default)(this.props.className,qM),style:this.props.style,ref:this.elementRef}):hc.createElement(e,Pp({innerRef:this.elementRef},i,this.state))}},ha(n,"defaultProps",{measureBeforeMount:!1}),ha(n,"propTypes",{measureBeforeMount:HM.default.bool}),n}(function(e){e.exports=Ls.default,e.exports.utils=We,e.exports.calculateUtils=er,e.exports.Responsive=Du.default,e.exports.Responsive.utils=_o,e.exports.WidthProvider=Lv.default})(Hw);var Iv=Hw.exports;const N1=Vp(Iv);function YM({app:e,plugin:n,container:t}){const o=d.useRef(null),i=d.useCallback(async(s,c)=>{var m,g;if(!o.current||!e||!n)return;const u=s||e.vault.getMarkdownFiles()[0].path,f=c;o.current.hasChildNodes()&&o.current.empty(),await ge.MarkdownRenderer.render(e,f,o.current,u,n),(m=o.current)==null||m.toggleClass(["markdown-rendered"],!0);const v=(g=o.current)==null?void 0:g.querySelectorAll(".internal-link");v==null||v.forEach(b=>{const w=b,k=w.getAttribute("data-href");if(!k)return;e.metadataCache.getFirstLinkpathDest(k,u)||b.classList.add("is-unresolved"),w.addEventListener("mouseover",E=>{E.stopPropagation(),e.workspace.trigger("hover-link",{event:E,source:Fn,hoverParent:t,targetEl:w,linktext:k,sourcePath:w.href})})})},[e,n,t]);return d.useEffect(()=>()=>{o.current&&o.current.empty()},[i]),{render:i,ref:o}}const P1=({path:e,content:n,container:t})=>{const{globalState:{app:o,plugin:i}}=d.useContext(At),{render:s,ref:c}=YM({app:o,plugin:i,container:t}),[u,f]=d.useState(!1),[v,m]=d.useState("");return d.useEffect(()=>((async()=>{try{(!u||n!==v)&&(await s(e,n),f(!0),m(n))}catch{}})(),()=>{f(!1)}),[e,n,s]),N("div",{ref:c})},mc=new WeakMap;function ka(e){return e.containerEl.matches(".tv-block.tv-leaf-view .workspace-leaf")}function KM(e){const n=[];for(let t=0;t<e;t++)n.push((16*Math.random()|0).toString(16));return n.join("")}function XM(e){const n=function(){return Object.setPrototypeOf(new ge.Component,new.target.prototype)};return n.prototype=e.prototype,Object.setPrototypeOf(n,e)}const QM=(e,n,t,o)=>{let i=e.app.workspace.activeLeaf;i||(i=t),n||(n=i==null?void 0:i.containerEl);const s=new hs(i,n,e,void 0,o);return[s.attachLeaf(),s]};var Sb,Nb;const ns=class ns extends XM(ge.HoverPopover){constructor(t,o,i,s,c){super();me(this,"onTarget");me(this,"setActive");me(this,"lockedOut");me(this,"abortController",this.addChild(new ge.Component));me(this,"detaching",!1);me(this,"opening",!1);me(this,"rootSplit");me(this,"isPinned",!0);me(this,"titleEl");me(this,"containerEl");me(this,"oldPopover",(Sb=this.parent)==null?void 0:Sb.hoverPopover);me(this,"document",((Nb=this.targetEl)==null?void 0:Nb.ownerDocument)??window.activeDocument??window.document);me(this,"id",KM(8));me(this,"bounce");me(this,"boundOnZoomOut");me(this,"originalPath");me(this,"originalLinkText");me(this,"hoverEl",this.document.defaultView.createDiv({cls:"tv-block tv-leaf-view",attr:{id:"tv-"+this.id}}));this.targetEl=o,this.plugin=i,this.onShowCallback=c,this.rootSplit=new ge.WorkspaceSplit(this.plugin.app.workspace,"vertical"),s===void 0&&(s=300),this.onTarget=!0,this.parent=t,this.waitTime=s,this.state=ge.PopoverState.Showing,this.abortController.load(),this.show(),this.onShow(),this.setActive=this._setActive.bind(this),mc.set(this.hoverEl,this),this.hoverEl.addClass("tv-block"),this.containerEl=this.hoverEl.createDiv("tv-content"),this.buildWindowControls(),this.setInitialDimensions()}static activeWindows(t){const o=[window],{floatingSplit:i}=t.workspace;if(i)for(const s of i.children)s.win&&o.push(s.win);return o}static containerForDocument(t,o){if(t!==document&&o.workspace.floatingSplit){for(const i of o.workspace.floatingSplit.children)if(i.doc===t)return i}return o.workspace.rootSplit}static activePopovers(t){return this.activeWindows(t).flatMap(this.popoversForWindow)}static popoversForWindow(t){var o;return Array.prototype.slice.call(((o=t==null?void 0:t.document)==null?void 0:o.body.querySelectorAll(".tv-leaf-view"))??[]).map(i=>mc.get(i)).filter(i=>i)}static forLeaf(t){const o=t&&document.body.matchParent.call(t.containerEl,".tv-leaf-view");return o?mc.get(o):void 0}static iteratePopoverLeaves(t,o){for(const i of this.activePopovers(t.app))if(i.rootSplit&&t.iterateLeaves(o,i.rootSplit))return!0;return!1}_setActive(t){t.preventDefault(),t.stopPropagation(),this.plugin.app.workspace.setActiveLeaf(this.leaves()[0],{focus:!0})}getDefaultMode(){return"source"}updateLeaves(){this.onTarget&&this.targetEl&&!this.document.contains(this.targetEl)&&(this.onTarget=!1,this.transition());let t=0;this.plugin.app.workspace.iterateLeaves(()=>{t++},this.rootSplit),t===0&&this.hide(),this.hoverEl.setAttribute("data-leaf-count",t.toString())}leaves(){const t=[];return this.plugin.app.workspace.iterateLeaves(o=>{t.push(o)},this.rootSplit),t}setInitialDimensions(){this.hoverEl.style.height="auto",this.hoverEl.style.width="100%"}transition(){this.shouldShow()?this.state===ge.PopoverState.Hiding&&(this.state=ge.PopoverState.Shown,clearTimeout(this.timer)):this.state===ge.PopoverState.Showing?this.hide():this.state===ge.PopoverState.Shown&&(this.state=ge.PopoverState.Hiding,this.timer=window.setTimeout(()=>{this.shouldShow()?this.transition():this.hide()},this.waitTime))}buildWindowControls(){this.titleEl=this.document.defaultView.createDiv("popover-titlebar"),this.titleEl.createDiv("popover-title"),this.containerEl.prepend(this.titleEl)}attachLeaf(){this.rootSplit.getRoot=()=>this.plugin.app.workspace[this.document===document?"rootSplit":"floatingSplit"],this.rootSplit.getContainer=()=>ns.containerForDocument(this.document,this.plugin.app),this.titleEl.insertAdjacentElement("afterend",this.rootSplit.containerEl);const t=this.plugin.app.workspace.createLeafInParent(this.rootSplit,0);return this.updateLeaves(),t}onload(){super.onload(),this.registerEvent(this.plugin.app.workspace.on("layout-change",this.updateLeaves,this)),this.registerEvent(this.plugin.app.workspace.on("layout-change",()=>{this.rootSplit.children.forEach((t,o)=>{t instanceof ge.WorkspaceTabs&&this.rootSplit.replaceChild(o,t.children[0])})}))}onShow(){var c,u;setTimeout(()=>this.waitTime=600,600),(c=this.oldPopover)==null||c.hide(),this.oldPopover=null,this.hoverEl.toggleClass("is-new",!0),this.document.body.addEventListener("click",()=>{this.hoverEl.toggleClass("is-new",!1)},{once:!0,capture:!0}),this.parent&&(this.parent.hoverPopover=this);const o=this.hoverEl.querySelector(".view-header");o==null||o.remove();const i=this.hoverEl.querySelector(".workspace-leaf");i&&this.hoverEl.appendChild(i);const s=this.hoverEl.querySelector(".inline-title");s&&s.remove(),(u=this.onShowCallback)==null||u.call(this),this.onShowCallback=void 0}detect(t){const{targetEl:o}=this;o&&(this.onTarget=t===o||o.contains(t))}shouldShow(){return this.shouldShowSelf()||this.shouldShowChild()}shouldShowChild(){return ns.activePopovers(this.plugin.app).some(t=>t!==this&&t.targetEl&&this.hoverEl.contains(t.targetEl)?t.shouldShow():!1)}shouldShowSelf(){return!this.detaching&&!!(this.onTarget||this.state==ge.PopoverState.Shown||this.document.querySelector(`body>.modal-container, body > #he${this.id} ~ .menu, body > #he${this.id} ~ .suggestion-container`))}show(){this.state=ge.PopoverState.Shown,this.timer=0,this.targetEl.appendChild(this.hoverEl),this.onShow(),this.plugin.app.workspace.onLayoutChange(),this.load(),this.hoverEl.dataset.imgHeight&&this.hoverEl.dataset.imgWidth&&(this.hoverEl.style.height=parseFloat(this.hoverEl.dataset.imgHeight)+this.titleEl.offsetHeight+"px",this.hoverEl.style.width=parseFloat(this.hoverEl.dataset.imgWidth)+"px")}onHide(){var t;this.oldPopover=null,((t=this.parent)==null?void 0:t.hoverPopover)===this&&(this.parent.hoverPopover=null)}hide(){var o;if(this.onTarget=!1,this.detaching=!0,this.timer&&(clearTimeout(this.timer),this.timer=0),this.hoverEl.hide(),this.opening)return;if(this.leaves().length)this.targetEl.empty();else return this.parent=null,(o=this.abortController)==null||o.unload(),this.abortController=void 0,this.nativeHide()}nativeHide(){var i;const{hoverEl:t,targetEl:o}=this;if(this.state=ge.PopoverState.Hidden,t.detach(),o){const s=o.matchParent(".fs-leaf-view");s&&((i=mc.get(s))==null||i.transition())}this.onHide(),this.unload()}resolveLink(t,o){const i=ge.parseLinktext(t);return i?this.plugin.app.metadataCache.getFirstLinkpathDest(i.path,o):null}async openLink(t,o,i,s){var k,x,E;let c=this.resolveLink(t,o);const u=ge.parseLinktext(t);if(!c&&s){const C=this.plugin.app.fileManager.getNewFileParent(o);c=await this.plugin.app.fileManager.createNewMarkdownFile(C,u.path)}if(!c)return;const{viewRegistry:f}=this.plugin.app,v=f.typeByExtension[c.extension];if(!v||!f.viewByType[v])return;i=Object.assign(this.buildEphemeralState(c,u),i);const m=this.getDefaultMode(),g=this.buildState(m,i),b=await this.openFile(c,g,s),w=(k=b==null?void 0:b.view)==null?void 0:k.getViewType();if(w==="image"){(x=this.parent)!=null&&x.hasOwnProperty("editorEl")&&this.parent.editorEl.hasClass("is-live-preview")&&(this.waitTime=3e3);const C=b.view.contentEl.querySelector("img");this.hoverEl.dataset.imgHeight=String(C.naturalHeight),this.hoverEl.dataset.imgWidth=String(C.naturalWidth),this.hoverEl.dataset.imgRatio=String(C.naturalWidth/C.naturalHeight)}else w==="pdf"&&(this.hoverEl.style.height="800px",this.hoverEl.style.width="600px");((E=g.state)==null?void 0:E.mode)==="source"&&this.whenShown(()=>{var C,T,D,O;ge.requireApiVersion("1.0")&&((D=(T=(C=b==null?void 0:b.view)==null?void 0:C.editMode)==null?void 0:T.reinit)==null||D.call(T)),(O=b==null?void 0:b.view)==null||O.setEphemeralState(g.eState)})}whenShown(t){if(this.detaching)return;const o=this.onShowCallback;this.onShowCallback=()=>{this.detaching||(t(),typeof o=="function"&&o())},this.state===ge.PopoverState.Shown&&(this.onShowCallback(),this.onShowCallback=void 0)}async openFile(t,o,i){if(this.detaching)return;const s=i??this.attachLeaf();this.opening=!0;try{await s.openFile(t,o)}catch{}finally{this.opening=!1,this.detaching&&this.hide()}return this.plugin.app.workspace.setActiveLeaf(s),s}buildState(t,o){return{active:!1,state:{mode:"source"},eState:o}}buildEphemeralState(t,o){const i=this.plugin.app.metadataCache.getFileCache(t),s=i?ge.resolveSubpath(i,(o==null?void 0:o.subpath)||""):void 0,c={subpath:o==null?void 0:o.subpath};return s&&(c.line=s.start.line,c.startLoc=s.start,c.endLoc=s.end||void 0),c}};me(ns,"activePopover");let hs=ns;const ZM=({state:e,root:n,className:t})=>{const{globalState:{plugin:o,settings:i}}=d.useContext(At),s=Ae.useRef(null),c=Ae.useRef(null),[u,f]=Ae.useState(!1);return d.useEffect(()=>()=>{f(!1),n&&(n==null||n.unmount()),c.current&&c.current.hide(),c.current&&c.current.unload(),c.current=null,s.current&&s.current.detach()},[]),d.useEffect(()=>{if(!o||!s||u||s.current.hasChildNodes())return;(async()=>{const[m,g]=QM(o,s.current);c.current=g,m.setPinned(!0),await m.setViewState(JSON.parse(e)),f(!0)})()},[o,s.current,e]),N("div",{"data-templify-embed-type":JSON.parse(e).type,className:we("tv-w-full tv-h-full tv-border tv-border-gray-200 dark:tv-border-gray-600 tv-border-solid tv-mr-1",t,i.theme.hideEmbeddedViewHeader?"hide-header":""),ref:s})},Av=d.memo(ZM),Gc=d.forwardRef(({className:e,...n},t)=>N("div",{ref:t,className:we("tv-rounded-xl tv-border tv-bg-card tv-text-card-foreground tv-shadow",e),...n}));Gc.displayName="Card";const T1=d.forwardRef(({className:e,...n},t)=>N("div",{ref:t,className:we("tv-flex tv-flex-col tv-space-y-1.5 tv-p-6",e),...n}));T1.displayName="CardHeader";const D1=d.forwardRef(({className:e,...n},t)=>N("h3",{ref:t,className:we("tv-font-semibold tv-leading-none tv-tracking-tight",e),...n}));D1.displayName="CardTitle";const JM=d.forwardRef(({className:e,...n},t)=>N("p",{ref:t,className:we("tv-text-sm tv-text-muted-foreground",e),...n}));JM.displayName="CardDescription";const Yc=d.forwardRef(({className:e,...n},t)=>N("div",{ref:t,className:we("tv-p-6 tv-pt-0",e),...n}));Yc.displayName="CardContent";const eR=d.forwardRef(({className:e,...n},t)=>N("div",{ref:t,className:we("tv-flex tv-items-center tv-p-6 tv-pt-0",e),...n}));eR.displayName="CardFooter";var Yy=1,tR=.9,nR=.8,rR=.17,Gf=.1,Yf=.999,oR=.9999,aR=.99,iR=/[\\\/_+.#"@\[\(\{&]/,sR=/[\\\/_+.#"@\[\(\{&]/g,lR=/[\s-]/,O1=/[\s-]/g;function Tp(e,n,t,o,i,s,c){if(s===n.length)return i===e.length?Yy:aR;var u=`${i},${s}`;if(c[u]!==void 0)return c[u];for(var f=o.charAt(s),v=t.indexOf(f,i),m=0,g,b,w,k;v>=0;)g=Tp(e,n,t,o,v+1,s+1,c),g>m&&(v===i?g*=Yy:iR.test(e.charAt(v-1))?(g*=nR,w=e.slice(i,v-1).match(sR),w&&i>0&&(g*=Math.pow(Yf,w.length))):lR.test(e.charAt(v-1))?(g*=tR,k=e.slice(i,v-1).match(O1),k&&i>0&&(g*=Math.pow(Yf,k.length))):(g*=rR,i>0&&(g*=Math.pow(Yf,v-i))),e.charAt(v)!==n.charAt(s)&&(g*=oR)),(g<Gf&&t.charAt(v-1)===o.charAt(s+1)||o.charAt(s+1)===o.charAt(s)&&t.charAt(v-1)!==o.charAt(s))&&(b=Tp(e,n,t,o,v+1,s+2,c),b*Gf>g&&(g=b*Gf)),g>m&&(m=g),v=t.indexOf(f,v+1);return c[u]=m,m}function Ky(e){return e.toLowerCase().replace(O1," ")}function cR(e,n){return Tp(e,n,Ky(e),Ky(n),0,0,{})}function Na(e,n,{checkForDefaultPrevented:t=!0}={}){return function(i){if(e==null||e(i),t===!1||!i.defaultPrevented)return n==null?void 0:n(i)}}function uR(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function M1(...e){return n=>e.forEach(t=>uR(t,n))}function As(...e){return d.useCallback(M1(...e),e)}function dR(e,n=[]){let t=[];function o(s,c){const u=d.createContext(c),f=t.length;t=[...t,c];function v(g){const{scope:b,children:w,...k}=g,x=(b==null?void 0:b[e][f])||u,E=d.useMemo(()=>k,Object.values(k));return d.createElement(x.Provider,{value:E},w)}function m(g,b){const w=(b==null?void 0:b[e][f])||u,k=d.useContext(w);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${s}\``)}return v.displayName=s+"Provider",[v,m]}const i=()=>{const s=t.map(c=>d.createContext(c));return function(u){const f=(u==null?void 0:u[e])||s;return d.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return i.scopeName=e,[o,fR(i,...n)]}function fR(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const o=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const c=o.reduce((u,{useScope:f,scopeName:v})=>{const g=f(s)[`__scope${v}`];return{...u,...g}},{});return d.useMemo(()=>({[`__scope${n.scopeName}`]:c}),[c])}};return t.scopeName=n.scopeName,t}const Dp=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},pR=Zc["useId".toString()]||(()=>{});let vR=0;function Kf(e){const[n,t]=d.useState(pR());return Dp(()=>{e||t(o=>o??String(vR++))},[e]),e||(n?`radix-${n}`:"")}function Co(e){const n=d.useRef(e);return d.useEffect(()=>{n.current=e}),d.useMemo(()=>(...t)=>{var o;return(o=n.current)===null||o===void 0?void 0:o.call(n,...t)},[])}function hR({prop:e,defaultProp:n,onChange:t=()=>{}}){const[o,i]=mR({defaultProp:n,onChange:t}),s=e!==void 0,c=s?e:o,u=Co(t),f=d.useCallback(v=>{if(s){const g=typeof v=="function"?v(e):v;g!==e&&u(g)}else i(v)},[s,e,i,u]);return[c,f]}function mR({defaultProp:e,onChange:n}){const t=d.useState(e),[o]=t,i=d.useRef(o),s=Co(n);return d.useEffect(()=>{i.current!==o&&(s(o),i.current=o)},[o,i,s]),t}const Fv=d.forwardRef((e,n)=>{const{children:t,...o}=e,i=d.Children.toArray(t),s=i.find(yR);if(s){const c=s.props.children,u=i.map(f=>f===s?d.Children.count(c)>1?d.Children.only(null):d.isValidElement(c)?c.props.children:null:f);return d.createElement(Op,ee({},o,{ref:n}),d.isValidElement(c)?d.cloneElement(c,void 0,u):null)}return d.createElement(Op,ee({},o,{ref:n}),t)});Fv.displayName="Slot";const Op=d.forwardRef((e,n)=>{const{children:t,...o}=e;return d.isValidElement(t)?d.cloneElement(t,{...bR(o,t.props),ref:M1(n,t.ref)}):d.Children.count(t)>1?d.Children.only(null):null});Op.displayName="SlotClone";const gR=({children:e})=>d.createElement(d.Fragment,null,e);function yR(e){return d.isValidElement(e)&&e.type===gR}function bR(e,n){const t={...n};for(const o in n){const i=e[o],s=n[o];/^on[A-Z]/.test(o)?t[o]=(...u)=>{s==null||s(...u),i==null||i(...u)}:o==="style"?t[o]={...i,...s}:o==="className"&&(t[o]=[i,s].filter(Boolean).join(" "))}return{...e,...t}}const wR=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],Mu=wR.reduce((e,n)=>{const t=d.forwardRef((o,i)=>{const{asChild:s,...c}=o,u=s?Fv:n;return d.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),d.createElement(u,ee({},c,{ref:i}))});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function xR(e,n){e&&Hn.flushSync(()=>e.dispatchEvent(n))}function kR(e){const n=Co(e);d.useEffect(()=>{const t=o=>{o.key==="Escape"&&n(o)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[n])}const Mp="dismissableLayer.update",ER="dismissableLayer.pointerDownOutside",CR="dismissableLayer.focusOutside";let Xy;const SR=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),NR=d.forwardRef((e,n)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:c,onDismiss:u,...f}=e,v=d.useContext(SR),[m,g]=d.useState(null),[,b]=d.useState({}),w=As(n,R=>g(R)),k=Array.from(v.layers),[x]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),E=k.indexOf(x),C=m?k.indexOf(m):-1,T=v.layersWithOutsidePointerEventsDisabled.size>0,D=C>=E,O=PR(R=>{const L=R.target,B=[...v.branches].some(G=>G.contains(L));!D||B||(i==null||i(R),c==null||c(R),R.defaultPrevented||u==null||u())}),M=TR(R=>{const L=R.target;[...v.branches].some(G=>G.contains(L))||(s==null||s(R),c==null||c(R),R.defaultPrevented||u==null||u())});return kR(R=>{C===v.layers.size-1&&(o==null||o(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))}),d.useEffect(()=>{if(m)return t&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(Xy=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(m)),v.layers.add(m),Qy(),()=>{t&&v.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=Xy)}},[m,t,v]),d.useEffect(()=>()=>{m&&(v.layers.delete(m),v.layersWithOutsidePointerEventsDisabled.delete(m),Qy())},[m,v]),d.useEffect(()=>{const R=()=>b({});return document.addEventListener(Mp,R),()=>document.removeEventListener(Mp,R)},[]),d.createElement(Mu.div,ee({},f,{ref:w,style:{pointerEvents:T?D?"auto":"none":void 0,...e.style},onFocusCapture:Na(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Na(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Na(e.onPointerDownCapture,O.onPointerDownCapture)}))});function PR(e){const n=Co(e),t=d.useRef(!1),o=d.useRef(()=>{});return d.useEffect(()=>{const i=c=>{if(c.target&&!t.current){let f=function(){R1(ER,n,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(document.removeEventListener("click",o.current),o.current=f,document.addEventListener("click",o.current,{once:!0})):f()}t.current=!1},s=window.setTimeout(()=>{document.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),document.removeEventListener("pointerdown",i),document.removeEventListener("click",o.current)}},[n]),{onPointerDownCapture:()=>t.current=!0}}function TR(e){const n=Co(e),t=d.useRef(!1);return d.useEffect(()=>{const o=i=>{i.target&&!t.current&&R1(CR,n,{originalEvent:i},{discrete:!1})};return document.addEventListener("focusin",o),()=>document.removeEventListener("focusin",o)},[n]),{onFocusCapture:()=>t.current=!0,onBlurCapture:()=>t.current=!1}}function Qy(){const e=new CustomEvent(Mp);document.dispatchEvent(e)}function R1(e,n,t,{discrete:o}){const i=t.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&i.addEventListener(e,n,{once:!0}),o?xR(i,s):i.dispatchEvent(s)}const Xf="focusScope.autoFocusOnMount",Qf="focusScope.autoFocusOnUnmount",Zy={bubbles:!1,cancelable:!0},DR=d.forwardRef((e,n)=>{const{loop:t=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...c}=e,[u,f]=d.useState(null),v=Co(i),m=Co(s),g=d.useRef(null),b=As(n,x=>f(x)),w=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(o){let x=function(C){if(w.paused||!u)return;const T=C.target;u.contains(T)?g.current=T:po(g.current,{select:!0})},E=function(C){w.paused||!u||u.contains(C.relatedTarget)||po(g.current,{select:!0})};return document.addEventListener("focusin",x),document.addEventListener("focusout",E),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",E)}}},[o,u,w.paused]),d.useEffect(()=>{if(u){eb.add(w);const x=document.activeElement;if(!u.contains(x)){const C=new CustomEvent(Xf,Zy);u.addEventListener(Xf,v),u.dispatchEvent(C),C.defaultPrevented||(OR(zR(_1(u)),{select:!0}),document.activeElement===x&&po(u))}return()=>{u.removeEventListener(Xf,v),setTimeout(()=>{const C=new CustomEvent(Qf,Zy);u.addEventListener(Qf,m),u.dispatchEvent(C),C.defaultPrevented||po(x??document.body,{select:!0}),u.removeEventListener(Qf,m),eb.remove(w)},0)}}},[u,v,m,w]);const k=d.useCallback(x=>{if(!t&&!o||w.paused)return;const E=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,C=document.activeElement;if(E&&C){const T=x.currentTarget,[D,O]=MR(T);D&&O?!x.shiftKey&&C===O?(x.preventDefault(),t&&po(D,{select:!0})):x.shiftKey&&C===D&&(x.preventDefault(),t&&po(O,{select:!0})):C===T&&x.preventDefault()}},[t,o,w.paused]);return d.createElement(Mu.div,ee({tabIndex:-1},c,{ref:b,onKeyDown:k}))});function OR(e,{select:n=!1}={}){const t=document.activeElement;for(const o of e)if(po(o,{select:n}),document.activeElement!==t)return}function MR(e){const n=_1(e),t=Jy(n,e),o=Jy(n.reverse(),e);return[t,o]}function _1(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function Jy(e,n){for(const t of e)if(!RR(t,{upTo:n}))return t}function RR(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _R(e){return e instanceof HTMLInputElement&&"select"in e}function po(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&_R(e)&&n&&e.select()}}const eb=LR();function LR(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=tb(e,n),e.unshift(n)},remove(n){var t;e=tb(e,n),(t=e[0])===null||t===void 0||t.resume()}}}function tb(e,n){const t=[...e],o=t.indexOf(n);return o!==-1&&t.splice(o,1),t}function zR(e){return e.filter(n=>n.tagName!=="A")}const IR=d.forwardRef((e,n)=>{var t;const{container:o=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=e;return o?Mb.createPortal(d.createElement(Mu.div,ee({},i,{ref:n})),o):null});function AR(e,n){return d.useReducer((t,o)=>{const i=n[t][o];return i??t},e)}const Ru=e=>{const{present:n,children:t}=e,o=FR(n),i=typeof t=="function"?t({present:o.isPresent}):d.Children.only(t),s=As(o.ref,i.ref);return typeof t=="function"||o.isPresent?d.cloneElement(i,{ref:s}):null};Ru.displayName="Presence";function FR(e){const[n,t]=d.useState(),o=d.useRef({}),i=d.useRef(e),s=d.useRef("none"),c=e?"mounted":"unmounted",[u,f]=AR(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const v=gc(o.current);s.current=u==="mounted"?v:"none"},[u]),Dp(()=>{const v=o.current,m=i.current;if(m!==e){const b=s.current,w=gc(v);e?f("MOUNT"):w==="none"||(v==null?void 0:v.display)==="none"?f("UNMOUNT"):f(m&&b!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),Dp(()=>{if(n){const v=g=>{const w=gc(o.current).includes(g.animationName);g.target===n&&w&&Hn.flushSync(()=>f("ANIMATION_END"))},m=g=>{g.target===n&&(s.current=gc(o.current))};return n.addEventListener("animationstart",m),n.addEventListener("animationcancel",v),n.addEventListener("animationend",v),()=>{n.removeEventListener("animationstart",m),n.removeEventListener("animationcancel",v),n.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[n,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:d.useCallback(v=>{v&&(o.current=getComputedStyle(v)),t(v)},[])}}function gc(e){return(e==null?void 0:e.animationName)||"none"}let Zf=0;function jR(){d.useEffect(()=>{var e,n;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!==null&&e!==void 0?e:nb()),document.body.insertAdjacentElement("beforeend",(n=t[1])!==null&&n!==void 0?n:nb()),Zf++,()=>{Zf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),Zf--}},[])}function nb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var L1=qb(),Jf=function(){},_u=d.forwardRef(function(e,n){var t=d.useRef(null),o=d.useState({onScrollCapture:Jf,onWheelCapture:Jf,onTouchMoveCapture:Jf}),i=o[0],s=o[1],c=e.forwardProps,u=e.children,f=e.className,v=e.removeScrollBar,m=e.enabled,g=e.shards,b=e.sideCar,w=e.noIsolation,k=e.inert,x=e.allowPinchZoom,E=e.as,C=E===void 0?"div":E,T=Gp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),D=b,O=Ub([t,n]),M=_t(_t({},T),i);return d.createElement(d.Fragment,null,m&&d.createElement(D,{sideCar:L1,removeScrollBar:v,shards:g,noIsolation:w,inert:k,setCallbacks:s,allowPinchZoom:!!x,lockRef:t}),c?d.cloneElement(d.Children.only(u),_t(_t({},M),{ref:O})):d.createElement(C,_t({},M,{className:f,ref:O}),u))});_u.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_u.classNames={fullWidth:Zi,zeroRight:Qi};var Rp=!1;if(typeof window<"u")try{var yc=Object.defineProperty({},"passive",{get:function(){return Rp=!0,!0}});window.addEventListener("test",yc,yc),window.removeEventListener("test",yc,yc)}catch{Rp=!1}var ma=Rp?{passive:!1}:!1,HR=function(e){var n=window.getComputedStyle(e);return n.overflowY!=="hidden"&&!(n.overflowY===n.overflowX&&n.overflowY==="visible")},BR=function(e){var n=window.getComputedStyle(e);return n.overflowX!=="hidden"&&!(n.overflowY===n.overflowX&&n.overflowX==="visible")},rb=function(e,n){var t=n;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var o=z1(e,t);if(o){var i=I1(e,t),s=i[1],c=i[2];if(s>c)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},WR=function(e){var n=e.scrollTop,t=e.scrollHeight,o=e.clientHeight;return[n,t,o]},VR=function(e){var n=e.scrollLeft,t=e.scrollWidth,o=e.clientWidth;return[n,t,o]},z1=function(e,n){return e==="v"?HR(n):BR(n)},I1=function(e,n){return e==="v"?WR(n):VR(n)},$R=function(e,n){return e==="h"&&n==="rtl"?-1:1},UR=function(e,n,t,o,i){var s=$R(e,window.getComputedStyle(n).direction),c=s*o,u=t.target,f=n.contains(u),v=!1,m=c>0,g=0,b=0;do{var w=I1(e,u),k=w[0],x=w[1],E=w[2],C=x-E-s*k;(k||C)&&z1(e,u)&&(g+=C,b+=k),u=u.parentNode}while(!f&&u!==document.body||f&&(n.contains(u)||n===u));return(m&&(i&&g===0||!i&&c>g)||!m&&(i&&b===0||!i&&-c>b))&&(v=!0),v},bc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ob=function(e){return[e.deltaX,e.deltaY]},ab=function(e){return e&&"current"in e?e.current:e},qR=function(e,n){return e[0]===n[0]&&e[1]===n[1]},GR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},YR=0,ga=[];function KR(e){var n=d.useRef([]),t=d.useRef([0,0]),o=d.useRef(),i=d.useState(YR++)[0],s=d.useState(function(){return Yp()})[0],c=d.useRef(e);d.useEffect(function(){c.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=$b([e.lockRef.current],(e.shards||[]).map(ab),!0).filter(Boolean);return x.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=d.useCallback(function(x,E){if("touches"in x&&x.touches.length===2)return!c.current.allowPinchZoom;var C=bc(x),T=t.current,D="deltaX"in x?x.deltaX:T[0]-C[0],O="deltaY"in x?x.deltaY:T[1]-C[1],M,R=x.target,L=Math.abs(D)>Math.abs(O)?"h":"v";if("touches"in x&&L==="h"&&R.type==="range")return!1;var B=rb(L,R);if(!B)return!0;if(B?M=L:(M=L==="v"?"h":"v",B=rb(L,R)),!B)return!1;if(!o.current&&"changedTouches"in x&&(D||O)&&(o.current=M),!M)return!0;var G=o.current||M;return UR(G,E,x,G==="h"?D:O,!0)},[]),f=d.useCallback(function(x){var E=x;if(!(!ga.length||ga[ga.length-1]!==s)){var C="deltaY"in E?ob(E):bc(E),T=n.current.filter(function(M){return M.name===E.type&&M.target===E.target&&qR(M.delta,C)})[0];if(T&&T.should){E.preventDefault();return}if(!T){var D=(c.current.shards||[]).map(ab).filter(Boolean).filter(function(M){return M.contains(E.target)}),O=D.length>0?u(E,D[0]):!c.current.noIsolation;O&&E.preventDefault()}}},[]),v=d.useCallback(function(x,E,C,T){var D={name:x,delta:E,target:C,should:T};n.current.push(D),setTimeout(function(){n.current=n.current.filter(function(O){return O!==D})},1)},[]),m=d.useCallback(function(x){t.current=bc(x),o.current=void 0},[]),g=d.useCallback(function(x){v(x.type,ob(x),x.target,u(x,e.lockRef.current))},[]),b=d.useCallback(function(x){v(x.type,bc(x),x.target,u(x,e.lockRef.current))},[]);d.useEffect(function(){return ga.push(s),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",f,ma),document.addEventListener("touchmove",f,ma),document.addEventListener("touchstart",m,ma),function(){ga=ga.filter(function(x){return x!==s}),document.removeEventListener("wheel",f,ma),document.removeEventListener("touchmove",f,ma),document.removeEventListener("touchstart",m,ma)}},[]);var w=e.removeScrollBar,k=e.inert;return d.createElement(d.Fragment,null,k?d.createElement(s,{styles:GR(i)}):null,w?d.createElement(Xb,{gapMode:"margin"}):null)}const XR=Yb(L1,KR);var A1=d.forwardRef(function(e,n){return d.createElement(_u,_t({},e,{ref:n,sideCar:XR}))});A1.classNames=_u.classNames;const QR=A1,F1="Dialog",[j1,Y8]=dR(F1),[ZR,Lo]=j1(F1),JR=e=>{const{__scopeDialog:n,children:t,open:o,defaultOpen:i,onOpenChange:s,modal:c=!0}=e,u=d.useRef(null),f=d.useRef(null),[v=!1,m]=hR({prop:o,defaultProp:i,onChange:s});return d.createElement(ZR,{scope:n,triggerRef:u,contentRef:f,contentId:Kf(),titleId:Kf(),descriptionId:Kf(),open:v,onOpenChange:m,onOpenToggle:d.useCallback(()=>m(g=>!g),[m]),modal:c},t)},H1="DialogPortal",[e5,B1]=j1(H1,{forceMount:void 0}),t5=e=>{const{__scopeDialog:n,forceMount:t,children:o,container:i}=e,s=Lo(H1,n);return d.createElement(e5,{scope:n,forceMount:t},d.Children.map(o,c=>d.createElement(Ru,{present:t||s.open},d.createElement(IR,{asChild:!0,container:i},c))))},_p="DialogOverlay",n5=d.forwardRef((e,n)=>{const t=B1(_p,e.__scopeDialog),{forceMount:o=t.forceMount,...i}=e,s=Lo(_p,e.__scopeDialog);return s.modal?d.createElement(Ru,{present:o||s.open},d.createElement(r5,ee({},i,{ref:n}))):null}),r5=d.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,i=Lo(_p,t);return d.createElement(QR,{as:Fv,allowPinchZoom:!0,shards:[i.contentRef]},d.createElement(Mu.div,ee({"data-state":V1(i.open)},o,{ref:n,style:{pointerEvents:"auto",...o.style}})))}),ms="DialogContent",o5=d.forwardRef((e,n)=>{const t=B1(ms,e.__scopeDialog),{forceMount:o=t.forceMount,...i}=e,s=Lo(ms,e.__scopeDialog);return d.createElement(Ru,{present:o||s.open},s.modal?d.createElement(a5,ee({},i,{ref:n})):d.createElement(i5,ee({},i,{ref:n})))}),a5=d.forwardRef((e,n)=>{const t=Lo(ms,e.__scopeDialog),o=d.useRef(null),i=As(n,t.contentRef,o);return d.useEffect(()=>{const s=o.current;if(s)return Cs(s)},[]),d.createElement(W1,ee({},e,{ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Na(e.onCloseAutoFocus,s=>{var c;s.preventDefault(),(c=t.triggerRef.current)===null||c===void 0||c.focus()}),onPointerDownOutside:Na(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&s.preventDefault()}),onFocusOutside:Na(e.onFocusOutside,s=>s.preventDefault())}))}),i5=d.forwardRef((e,n)=>{const t=Lo(ms,e.__scopeDialog),o=d.useRef(!1);return d.createElement(W1,ee({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,i),!i.defaultPrevented){var c;o.current||(c=t.triggerRef.current)===null||c===void 0||c.focus(),i.preventDefault()}o.current=!1},onInteractOutside:i=>{var s,c;(s=e.onInteractOutside)===null||s===void 0||s.call(e,i),i.defaultPrevented||(o.current=!0);const u=i.target;((c=t.triggerRef.current)===null||c===void 0?void 0:c.contains(u))&&i.preventDefault()}}))}),W1=d.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,...c}=e,u=Lo(ms,t),f=d.useRef(null),v=As(n,f);return jR(),d.createElement(d.Fragment,null,d.createElement(DR,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:s},d.createElement(NR,ee({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":V1(u.open)},c,{ref:v,onDismiss:()=>u.onOpenChange(!1)}))),!1)});function V1(e){return e?"open":"closed"}const s5=JR,l5=t5,c5=n5,u5=o5;var d5='[cmdk-list-sizer=""]',Wi='[cmdk-group=""]',ep='[cmdk-group-items=""]',f5='[cmdk-group-heading=""]',jv='[cmdk-item=""]',ib=`${jv}:not([aria-disabled="true"])`,Lp="cmdk-item-select",dr="data-value",p5=(e,n)=>cR(e,n),$1=d.createContext(void 0),Fs=()=>d.useContext($1),U1=d.createContext(void 0),Hv=()=>d.useContext(U1),q1=d.createContext(void 0),G1=d.forwardRef((e,n)=>{let t=d.useRef(null),o=ba(()=>{var P,z,j;return{search:"",value:(j=(z=e.value)!=null?z:(P=e.defaultValue)==null?void 0:P.toLowerCase())!=null?j:"",filtered:{count:0,items:new Map,groups:new Set}}}),i=ba(()=>new Set),s=ba(()=>new Map),c=ba(()=>new Map),u=ba(()=>new Set),f=Y1(e),{label:v,children:m,value:g,onValueChange:b,filter:w,shouldFilter:k,vimBindings:x=!0,...E}=e,C=d.useId(),T=d.useId(),D=d.useId(),O=C5();Va(()=>{if(g!==void 0){let P=g.trim().toLowerCase();o.current.value=P,O(6,re),M.emit()}},[g]);let M=d.useMemo(()=>({subscribe:P=>(u.current.add(P),()=>u.current.delete(P)),snapshot:()=>o.current,setState:(P,z,j)=>{var W,Z,ae;if(!Object.is(o.current[P],z)){if(o.current[P]=z,P==="search")Q(),B(),O(1,G);else if(P==="value")if(((W=f.current)==null?void 0:W.value)!==void 0){let ie=z??"";(ae=(Z=f.current).onValueChange)==null||ae.call(Z,ie);return}else j||O(5,re);M.emit()}},emit:()=>{u.current.forEach(P=>P())}}),[]),R=d.useMemo(()=>({value:(P,z)=>{z!==c.current.get(P)&&(c.current.set(P,z),o.current.filtered.items.set(P,L(z)),O(2,()=>{B(),M.emit()}))},item:(P,z)=>(i.current.add(P),z&&(s.current.has(z)?s.current.get(z).add(P):s.current.set(z,new Set([P]))),O(3,()=>{Q(),B(),o.current.value||G(),M.emit()}),()=>{c.current.delete(P),i.current.delete(P),o.current.filtered.items.delete(P);let j=Y();O(4,()=>{Q(),(j==null?void 0:j.getAttribute("id"))===P&&G(),M.emit()})}),group:P=>(s.current.has(P)||s.current.set(P,new Set),()=>{c.current.delete(P),s.current.delete(P)}),filter:()=>f.current.shouldFilter,label:v||e["aria-label"],commandRef:t,listId:C,inputId:D,labelId:T}),[]);function L(P){var z,j;let W=(j=(z=f.current)==null?void 0:z.filter)!=null?j:p5;return P?W(P,o.current.search):0}function B(){if(!t.current||!o.current.search||f.current.shouldFilter===!1)return;let P=o.current.filtered.items,z=[];o.current.filtered.groups.forEach(W=>{let Z=s.current.get(W),ae=0;Z.forEach(ie=>{let te=P.get(ie);ae=Math.max(te,ae)}),z.push([W,ae])});let j=t.current.querySelector(d5);se().sort((W,Z)=>{var ae,ie;let te=W.getAttribute(dr),$=Z.getAttribute(dr);return((ae=P.get($))!=null?ae:0)-((ie=P.get(te))!=null?ie:0)}).forEach(W=>{let Z=W.closest(ep);Z?Z.appendChild(W.parentElement===Z?W:W.closest(`${ep} > *`)):j.appendChild(W.parentElement===j?W:W.closest(`${ep} > *`))}),z.sort((W,Z)=>Z[1]-W[1]).forEach(W=>{let Z=t.current.querySelector(`${Wi}[${dr}="${W[0]}"]`);Z==null||Z.parentElement.appendChild(Z)})}function G(){let P=se().find(j=>!j.ariaDisabled),z=P==null?void 0:P.getAttribute(dr);M.setState("value",z||void 0)}function Q(){if(!o.current.search||f.current.shouldFilter===!1){o.current.filtered.count=i.current.size;return}o.current.filtered.groups=new Set;let P=0;for(let z of i.current){let j=c.current.get(z),W=L(j);o.current.filtered.items.set(z,W),W>0&&P++}for(let[z,j]of s.current)for(let W of j)if(o.current.filtered.items.get(W)>0){o.current.filtered.groups.add(z);break}o.current.filtered.count=P}function re(){var P,z,j;let W=Y();W&&(((P=W.parentElement)==null?void 0:P.firstChild)===W&&((j=(z=W.closest(Wi))==null?void 0:z.querySelector(f5))==null||j.scrollIntoView({block:"nearest"})),W.scrollIntoView({block:"nearest"}))}function Y(){var P;return(P=t.current)==null?void 0:P.querySelector(`${jv}[aria-selected="true"]`)}function se(){return Array.from(t.current.querySelectorAll(ib))}function ne(P){let z=se()[P];z&&M.setState("value",z.getAttribute(dr))}function J(P){var z;let j=Y(),W=se(),Z=W.findIndex(ie=>ie===j),ae=W[Z+P];(z=f.current)!=null&&z.loop&&(ae=Z+P<0?W[W.length-1]:Z+P===W.length?W[0]:W[Z+P]),ae&&M.setState("value",ae.getAttribute(dr))}function de(P){let z=Y(),j=z==null?void 0:z.closest(Wi),W;for(;j&&!W;)j=P>0?k5(j,Wi):E5(j,Wi),W=j==null?void 0:j.querySelector(ib);W?M.setState("value",W.getAttribute(dr)):J(P)}let le=()=>ne(se().length-1),H=P=>{P.preventDefault(),P.metaKey?le():P.altKey?de(1):J(1)},I=P=>{P.preventDefault(),P.metaKey?ne(0):P.altKey?de(-1):J(-1)};return d.createElement("div",{ref:js([t,n]),...E,"cmdk-root":"",onKeyDown:P=>{var z;if((z=E.onKeyDown)==null||z.call(E,P),!P.defaultPrevented)switch(P.key){case"n":case"j":x&&P.ctrlKey&&H(P);break;case"ArrowDown":H(P);break;case"p":case"k":x&&P.ctrlKey&&I(P);break;case"ArrowUp":I(P);break;case"Home":P.preventDefault(),ne(0);break;case"End":P.preventDefault(),le();break;case"Enter":if(!P.nativeEvent.isComposing){P.preventDefault();let j=Y();if(j){let W=new Event(Lp);j.dispatchEvent(W)}}}}},d.createElement("label",{"cmdk-label":"",htmlFor:R.inputId,id:R.labelId,style:S5},v),d.createElement(U1.Provider,{value:M},d.createElement($1.Provider,{value:R},m)))}),v5=d.forwardRef((e,n)=>{var t,o;let i=d.useId(),s=d.useRef(null),c=d.useContext(q1),u=Fs(),f=Y1(e),v=(o=(t=f.current)==null?void 0:t.forceMount)!=null?o:c==null?void 0:c.forceMount;Va(()=>u.item(i,c==null?void 0:c.id),[]);let m=K1(i,s,[e.value,e.children,s]),g=Hv(),b=So(M=>M.value&&M.value===m.current),w=So(M=>v||u.filter()===!1?!0:M.search?M.filtered.items.get(i)>0:!0);d.useEffect(()=>{let M=s.current;if(!(!M||e.disabled))return M.addEventListener(Lp,k),()=>M.removeEventListener(Lp,k)},[w,e.onSelect,e.disabled]);function k(){var M,R;x(),(R=(M=f.current).onSelect)==null||R.call(M,m.current)}function x(){g.setState("value",m.current,!0)}if(!w)return null;let{disabled:E,value:C,onSelect:T,forceMount:D,...O}=e;return d.createElement("div",{ref:js([s,n]),...O,id:i,"cmdk-item":"",role:"option","aria-disabled":E||void 0,"aria-selected":b||void 0,"data-disabled":E||void 0,"data-selected":b||void 0,onPointerMove:E?void 0:x,onClick:E?void 0:k},e.children)}),h5=d.forwardRef((e,n)=>{let{heading:t,children:o,forceMount:i,...s}=e,c=d.useId(),u=d.useRef(null),f=d.useRef(null),v=d.useId(),m=Fs(),g=So(k=>i||m.filter()===!1?!0:k.search?k.filtered.groups.has(c):!0);Va(()=>m.group(c),[]),K1(c,u,[e.value,e.heading,f]);let b=d.useMemo(()=>({id:c,forceMount:i}),[i]),w=d.createElement(q1.Provider,{value:b},o);return d.createElement("div",{ref:js([u,n]),...s,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},t&&d.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:v},t),d.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?v:void 0},w))}),m5=d.forwardRef((e,n)=>{let{alwaysRender:t,...o}=e,i=d.useRef(null),s=So(c=>!c.search);return!t&&!s?null:d.createElement("div",{ref:js([i,n]),...o,"cmdk-separator":"",role:"separator"})}),g5=d.forwardRef((e,n)=>{let{onValueChange:t,...o}=e,i=e.value!=null,s=Hv(),c=So(m=>m.search),u=So(m=>m.value),f=Fs(),v=d.useMemo(()=>{var m;let g=(m=f.commandRef.current)==null?void 0:m.querySelector(`${jv}[${dr}="${u}"]`);return g==null?void 0:g.getAttribute("id")},[u,f.commandRef]);return d.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),d.createElement("input",{ref:n,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":v,id:f.inputId,type:"text",value:i?e.value:c,onChange:m=>{i||s.setState("search",m.target.value),t==null||t(m.target.value)}})}),y5=d.forwardRef((e,n)=>{let{children:t,...o}=e,i=d.useRef(null),s=d.useRef(null),c=Fs();return d.useEffect(()=>{if(s.current&&i.current){let u=s.current,f=i.current,v,m=new ResizeObserver(()=>{v=requestAnimationFrame(()=>{let g=u.offsetHeight;f.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(v),m.unobserve(u)}}},[]),d.createElement("div",{ref:js([i,n]),...o,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:c.listId,"aria-labelledby":c.inputId},d.createElement("div",{ref:s,"cmdk-list-sizer":""},t))}),b5=d.forwardRef((e,n)=>{let{open:t,onOpenChange:o,overlayClassName:i,contentClassName:s,container:c,...u}=e;return d.createElement(s5,{open:t,onOpenChange:o},d.createElement(l5,{container:c},d.createElement(c5,{"cmdk-overlay":"",className:i}),d.createElement(u5,{"aria-label":e.label,"cmdk-dialog":"",className:s},d.createElement(G1,{ref:n,...u}))))}),w5=d.forwardRef((e,n)=>{let t=d.useRef(!0),o=So(i=>i.filtered.count===0);return d.useEffect(()=>{t.current=!1},[]),t.current||!o?null:d.createElement("div",{ref:n,...e,"cmdk-empty":"",role:"presentation"})}),x5=d.forwardRef((e,n)=>{let{progress:t,children:o,...i}=e;return d.createElement("div",{ref:n,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},d.createElement("div",{"aria-hidden":!0},o))}),Nt=Object.assign(G1,{List:y5,Item:v5,Input:g5,Group:h5,Separator:m5,Dialog:b5,Empty:w5,Loading:x5});function k5(e,n){let t=e.nextElementSibling;for(;t;){if(t.matches(n))return t;t=t.nextElementSibling}}function E5(e,n){let t=e.previousElementSibling;for(;t;){if(t.matches(n))return t;t=t.previousElementSibling}}function Y1(e){let n=d.useRef(e);return Va(()=>{n.current=e}),n}var Va=typeof window>"u"?d.useEffect:d.useLayoutEffect;function ba(e){let n=d.useRef();return n.current===void 0&&(n.current=e()),n}function js(e){return n=>{e.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})}}function So(e){let n=Hv(),t=()=>e(n.snapshot());return d.useSyncExternalStore(n.subscribe,t,t)}function K1(e,n,t){let o=d.useRef(),i=Fs();return Va(()=>{var s;let c=(()=>{var u;for(let f of t){if(typeof f=="string")return f.trim().toLowerCase();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim().toLowerCase():o.current}})();i.value(e,c),(s=n.current)==null||s.setAttribute(dr,c),o.current=c}),o}var C5=()=>{let[e,n]=d.useState(),t=ba(()=>new Map);return Va(()=>{t.current.forEach(o=>o()),t.current=new Map},[e]),(o,i)=>{t.current.set(o,i),n({})}},S5={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const N5=d.forwardRef(({className:e,...n},t)=>N(Nt,{ref:t,className:we("tv-flex tv-h-full tv-w-full tv-flex-col tv-overflow-hidden tv-rounded-md tv-bg-popover tv-text-popover-foreground",e),...n}));N5.displayName=Nt.displayName;const X1=d.forwardRef(({className:e,...n},t)=>X("div",{className:"tv-flex tv-items-center tv-border-0 tv-border-solid !tv-border-b tv-px-0","cmdk-input-wrapper":"",children:[N(J2,{className:"tv-mr-2 tv-h-4 tv-w-4 tv-shrink-0 tv-opacity-50"}),N(Nt.Input,{ref:t,className:we("tv-flex tv-h-8 tv-w-full tv-border-0 tv-rounded-md tv-bg-transparent tv-py-0 tv-text-sm tv-outline-none placeholder:tv-text-muted-foreground disabled:tv-cursor-not-allowed disabled:tv-opacity-50",e),...n})]}));X1.displayName=Nt.Input.displayName;const Q1=d.forwardRef(({className:e,...n},t)=>N(Nt.List,{ref:t,className:we("tv-max-h-[300px] tv-overflow-y-auto tv-overflow-x-hidden",e),...n}));Q1.displayName=Nt.List.displayName;const P5=d.forwardRef((e,n)=>N(Nt.Empty,{ref:n,className:"tv-py-6 tv-text-center tv-text-sm",...e}));P5.displayName=Nt.Empty.displayName;const Z1=d.forwardRef(({className:e,...n},t)=>N(Nt.Group,{ref:t,className:we("tv-overflow-hidden tv-p-1 tv-text-foreground [&_[cmdk-group-heading]]:tv-px-2 [&_[cmdk-group-heading]]:tv-py-1.5 [&_[cmdk-group-heading]]:tv-text-xs [&_[cmdk-group-heading]]:tv-font-medium [&_[cmdk-group-heading]]:tv-text-muted-foreground",e),...n}));Z1.displayName=Nt.Group.displayName;const T5=d.forwardRef(({className:e,...n},t)=>N(Nt.Separator,{ref:t,className:we("tv--mx-1 tv-h-px tv-bg-border",e),...n}));T5.displayName=Nt.Separator.displayName;const J1=d.forwardRef(({className:e,...n},t)=>N(Nt.Item,{ref:t,className:we("tv-relative tv-flex tv-cursor-default tv-select-none tv-items-center tv-rounded-sm tv-px-2 tv-py-1.5 tv-text-sm tv-outline-none aria-selected:tv-bg-accent aria-selected:tv-text-accent-foreground data-[disabled]:tv-pointer-events-none data-[disabled]:tv-opacity-50",e),...n}));J1.displayName=Nt.Item.displayName;function D5({className:e,...n}){return N("div",{className:we("tv-animate-pulse tv-rounded-md tv-bg-primary/10",e),...n})}var O5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const M5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Je=(e,n)=>{const t=d.forwardRef(({color:o="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:c,children:u,...f},v)=>d.createElement("svg",{ref:v,...O5,width:i,height:i,stroke:o,strokeWidth:c?Number(s)*24/Number(i):s,className:`lucide lucide-${M5(e)}`,...f},[...n.map(([m,g])=>d.createElement(m,g)),...(Array.isArray(u)?u:[u])||[]]));return t.displayName=`${e}`,t},R5=Je("AlarmClock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]),_5=Je("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]),L5=Je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),z5=Je("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),I5=Je("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),A5=Je("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]),F5=Je("Delete",[["path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z",key:"1oy587"}],["line",{x1:"18",x2:"12",y1:"9",y2:"15",key:"1olkx5"}],["line",{x1:"12",x2:"18",y1:"9",y2:"15",key:"1n50pc"}]]),j5=Je("Diff",[["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M5 21h14",key:"11awu3"}]]),ex=Je("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),H5=Je("FileEdit",[["path",{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5",key:"1bg6eb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z",key:"1rgxu8"}]]),B5=Je("FileUp",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),W5=Je("Files",[["path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1V6.5L15.5 2z",key:"cennsq"}],["path",{d:"M3 7.6v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8",key:"ms809a"}],["path",{d:"M15 2v5h5",key:"qq6kwv"}]]),V5=Je("GanttChartSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 8h7",key:"kbo1nt"}],["path",{d:"M8 12h6",key:"ikassy"}],["path",{d:"M11 16h5",key:"oq65wt"}]]),$5=Je("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),U5=Je("KanbanSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]]),q5=Je("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]),G5=Je("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Y5=Je("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),K5=Je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),tx=Je("Paintbrush",[["path",{d:"M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z",key:"m6k5sh"}],["path",{d:"M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7",key:"arzq70"}],["path",{d:"M14.5 17.5 4.5 15",key:"s7fvrz"}]]),X5=Je("Palmtree",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35z",key:"epoumf"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]),Q5=Je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Z5=Je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),nx=Je("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),J5=Je("Siren",[["path",{d:"M7 12a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v6H7v-6Z",key:"rmc51c"}],["path",{d:"M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v2H5v-2Z",key:"yyvmjy"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]),e3=Je("Sticker",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}],["path",{d:"M10 16s.8 1 2 1c1.3 0 2-1 2-1",key:"1vvgv3"}],["path",{d:"M8 13h0",key:"jdup5h"}],["path",{d:"M16 13h0",key:"l4i2ga"}]]),t3=Je("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),n3=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),r3=Je("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),o3=({options:e,placeholder:n,emptyMessage:t,value:o,onValueChange:i,disabled:s,isLoading:c=!1})=>{const u=d.useRef(null),[f,v]=d.useState(!1),[m,g]=d.useState(o),[b,w]=d.useState((o==null?void 0:o.label)||""),k=d.useCallback(C=>{const T=u.current;if(T){if(f||v(!0),C.key==="Enter"&&T.value!==""){const D=e.find(O=>O.label===T.value);D&&(g(D),i==null||i(D))}C.key==="Escape"&&T.blur()}},[f,e,i]),x=d.useCallback(()=>{v(!1),w(m==null?void 0:m.label)},[m]),E=d.useCallback(C=>{w(C.label),g(C),i==null||i(C),setTimeout(()=>{var T;(T=u==null?void 0:u.current)==null||T.blur()},0)},[i]);return X(Nt,{onKeyDown:k,children:[N("div",{children:N(X1,{ref:u,value:b,onValueChange:c?void 0:w,onBlur:x,onFocus:()=>v(!0),placeholder:n,disabled:s,className:"tv-text-base !tv-px-0 focus:tv-ring-0"})}),N("div",{className:"tv-mt-1 tv-relative",children:f?N("div",{className:"tv-absolute tv-top-0 tv-z-10 tv-w-full tv-rounded-xl tv-bg-stone-50 dark:tv-bg-stone-900 tv-outline-none tv-animate-in tv-fade-in-0 tv-zoom-in-95",children:X(Q1,{className:"tv-ml-2 tv-ring-1 tv-ring-slate-200 tv-rounded-lg dark:tv-ring-slate-900",children:[c?N(Nt.Loading,{children:N("div",{className:"tv-p-1",children:N(D5,{className:"tv-h-8 tv-w-full"})})}):null,e.length>0&&!c?N(Z1,{children:e.sort((C,T)=>C.label.localeCompare(T.label)).map(C=>{const T=(m==null?void 0:m.value)===C.value;return X(J1,{value:C.label,onMouseDown:D=>{D.preventDefault(),D.stopPropagation()},onSelect:()=>E(C),className:we("tv-flex tv-items-center tv-gap-2 tv-max-w-full tv-w-full tv-text-ellipsis tv-overflow-hidden tv-whitespace-nowrap"),children:[C.label,T?N(I5,{className:"tv-w-4"}):null]},C.value)})}):null,c?null:N(Nt.Empty,{className:"tv-select-none tv-rounded-sm tv-py-3 tv-text-sm tv-text-center",children:t})]})}):null})]})},a3=d.forwardRef((e,n)=>d.createElement(Be.label,ee({},e,{ref:n,onMouseDown:t=>{var o;(o=e.onMouseDown)===null||o===void 0||o.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}}))),rx=a3,i3=z0("tv-text-sm tv-font-medium tv-leading-none peer-disabled:tv-cursor-not-allowed peer-disabled:tv-opacity-70"),yo=d.forwardRef(({className:e,...n},t)=>N(rx,{ref:t,className:we(i3(),e),...n}));yo.displayName=rx.displayName;const ox="ContextMenu",[s3,K8]=En(ox,[mu]),Sn=mu(),[l3,ax]=s3(ox),c3=e=>{const{__scopeContextMenu:n,children:t,onOpenChange:o,dir:i,modal:s=!0}=e,[c,u]=d.useState(!1),f=Sn(n),v=bn(o),m=d.useCallback(g=>{u(g),v(g)},[v]);return d.createElement(l3,{scope:n,open:c,onOpenChange:m,modal:s},d.createElement(X0,ee({},f,{dir:i,open:c,onOpenChange:m,modal:s}),t))},u3="ContextMenuTrigger",d3=d.forwardRef((e,n)=>{const{__scopeContextMenu:t,disabled:o=!1,...i}=e,s=ax(u3,t),c=Sn(t),u=d.useRef({x:0,y:0}),f=d.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...u.current})}),v=d.useRef(0),m=d.useCallback(()=>window.clearTimeout(v.current),[]),g=b=>{u.current={x:b.clientX,y:b.clientY},s.onOpenChange(!0)};return d.useEffect(()=>m,[m]),d.useEffect(()=>void(o&&m()),[o,m]),d.createElement(d.Fragment,null,d.createElement(Q0,ee({},c,{virtualRef:f})),d.createElement(Be.span,ee({"data-state":s.open?"open":"closed","data-disabled":o?"":void 0},i,{ref:n,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:o?e.onContextMenu:be(e.onContextMenu,b=>{m(),g(b),b.preventDefault()}),onPointerDown:o?e.onPointerDown:be(e.onPointerDown,wc(b=>{m(),v.current=window.setTimeout(()=>g(b),700)})),onPointerMove:o?e.onPointerMove:be(e.onPointerMove,wc(m)),onPointerCancel:o?e.onPointerCancel:be(e.onPointerCancel,wc(m)),onPointerUp:o?e.onPointerUp:be(e.onPointerUp,wc(m))})))}),f3=e=>{const{__scopeContextMenu:n,...t}=e,o=Sn(n);return d.createElement(Z0,ee({},o,t))},p3="ContextMenuContent",v3=d.forwardRef((e,n)=>{const{__scopeContextMenu:t,...o}=e,i=ax(p3,t),s=Sn(t),c=d.useRef(!1);return d.createElement(J0,ee({},s,o,{ref:n,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:u=>{var f;(f=e.onCloseAutoFocus)===null||f===void 0||f.call(e,u),!u.defaultPrevented&&c.current&&u.preventDefault(),c.current=!1},onInteractOutside:u=>{var f;(f=e.onInteractOutside)===null||f===void 0||f.call(e,u),!u.defaultPrevented&&!i.modal&&(c.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),h3=d.forwardRef((e,n)=>{const{__scopeContextMenu:t,...o}=e,i=Sn(t);return d.createElement(ew,ee({},i,o,{ref:n}))}),m3=d.forwardRef((e,n)=>{const{__scopeContextMenu:t,...o}=e,i=Sn(t);return d.createElement(tw,ee({},i,o,{ref:n}))}),g3=d.forwardRef((e,n)=>{const{__scopeContextMenu:t,...o}=e,i=Sn(t);return d.createElement(nw,ee({},i,o,{ref:n}))}),y3=d.forwardRef((e,n)=>{const{__scopeContextMenu:t,...o}=e,i=Sn(t);return d.createElement(rw,ee({},i,o,{ref:n}))}),b3=d.forwardRef((e,n)=>{const{__scopeContextMenu:t,...o}=e,i=Sn(t);return d.createElement(ow,ee({},i,o,{ref:n}))}),w3=d.forwardRef((e,n)=>{const{__scopeContextMenu:t,...o}=e,i=Sn(t);return d.createElement(aw,ee({},i,o,{ref:n}))}),x3=d.forwardRef((e,n)=>{const{__scopeContextMenu:t,...o}=e,i=Sn(t);return d.createElement(iw,ee({},i,o,{ref:n}))}),k3=d.forwardRef((e,n)=>{const{__scopeContextMenu:t,...o}=e,i=Sn(t);return d.createElement(sw,ee({},i,o,{ref:n,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))});function wc(e){return n=>n.pointerType!=="mouse"?e(n):void 0}const E3=c3,C3=d3,S3=f3,ix=v3,sx=h3,lx=m3,cx=g3,ux=y3,dx=b3,fx=w3,px=x3,vx=k3,hx=E3,mx=C3,N3=d.forwardRef(({className:e,inset:n,children:t,...o},i)=>X(px,{ref:i,className:we("tv-flex tv-cursor-default tv-select-none tv-items-center tv-rounded-sm tv-px-2 tv-py-1.5 tv-text-sm tv-outline-none focus:tv-bg-accent focus:tv-text-accent-foreground data-[state=open]:tv-bg-accent data-[state=open]:tv-text-accent-foreground",n&&"tv-pl-8",e),...o,children:[t,N(f0,{className:"tv-ml-auto tv-h-4 tv-w-4"})]}));N3.displayName=px.displayName;const P3=d.forwardRef(({className:e,...n},t)=>N(vx,{ref:t,className:we("tv-z-50 tv-min-w-[8rem] tv-overflow-hidden tv-rounded-md tv-border tv-bg-popover tv-p-1 tv-text-popover-foreground tv-shadow-lg data-[state=open]:tv-animate-in data-[state=closed]:tv-animate-out data-[state=closed]:tv-fade-out-0 data-[state=open]:tv-fade-in-0 data-[state=closed]:tv-zoom-out-95 data-[state=open]:tv-zoom-in-95 data-[side=bottom]:tv-slide-in-from-top-2 data-[side=left]:tv-slide-in-from-right-2 data-[side=right]:tv-slide-in-from-left-2 data-[side=top]:tv-slide-in-from-bottom-2",e),...n}));P3.displayName=vx.displayName;const Bv=d.forwardRef(({className:e,...n},t)=>N(S3,{children:N(ix,{ref:t,className:we("tv-z-50 tv-min-w-[8rem] tv-overflow-hidden tv-rounded-md tv-border tv-bg-popover tv-p-1 tv-text-popover-foreground tv-shadow-md data-[state=open]:tv-animate-in data-[state=closed]:tv-animate-out data-[state=closed]:tv-fade-out-0 data-[state=open]:tv-fade-in-0 data-[state=closed]:tv-zoom-out-95 data-[state=open]:tv-zoom-in-95 data-[side=bottom]:tv-slide-in-from-top-2 data-[side=left]:tv-slide-in-from-right-2 data-[side=right]:tv-slide-in-from-left-2 data-[side=top]:tv-slide-in-from-bottom-2",e),...n})}));Bv.displayName=ix.displayName;const Pa=d.forwardRef(({className:e,inset:n,...t},o)=>N(lx,{ref:o,className:we("tv-relative tv-flex tv-cursor-default tv-select-none tv-items-center tv-rounded-sm tv-px-2 tv-py-1.5 tv-text-sm tv-outline-none focus:tv-bg-accent focus:tv-text-accent-foreground data-[disabled]:tv-pointer-events-none data-[disabled]:tv-opacity-50",n&&"tv-pl-8",e),...t}));Pa.displayName=lx.displayName;const T3=d.forwardRef(({className:e,children:n,checked:t,...o},i)=>X(cx,{ref:i,className:we("tv-relative tv-flex tv-cursor-default tv-select-none tv-items-center tv-rounded-sm tv-py-1.5 tv-pl-8 tv-pr-2 tv-text-sm tv-outline-none focus:tv-bg-accent focus:tv-text-accent-foreground data-[disabled]:tv-pointer-events-none data-[disabled]:tv-opacity-50",e),checked:t,...o,children:[N("span",{className:"tv-absolute tv-left-2 tv-flex tv-h-3.5 tv-w-3.5 tv-items-center tv-justify-center",children:N(dx,{children:N(Kp,{className:"tv-h-4 tv-w-4"})})}),n]}));T3.displayName=cx.displayName;const D3=d.forwardRef(({className:e,children:n,...t},o)=>X(ux,{ref:o,className:we("tv-relative tv-flex tv-cursor-default tv-select-none tv-items-center tv-rounded-sm tv-py-1.5 tv-pl-8 tv-pr-2 tv-text-sm tv-outline-none focus:tv-bg-accent focus:tv-text-accent-foreground data-[disabled]:tv-pointer-events-none data-[disabled]:tv-opacity-50",e),...t,children:[N("span",{className:"tv-absolute tv-left-2 tv-flex tv-h-3.5 tv-w-3.5 tv-items-center tv-justify-center",children:N(dx,{children:N(p0,{className:"tv-h-4 tv-w-4 tv-fill-current"})})}),n]}));D3.displayName=ux.displayName;const O3=d.forwardRef(({className:e,inset:n,...t},o)=>N(sx,{ref:o,className:we("tv-px-2 tv-py-1.5 tv-text-sm tv-font-semibold tv-text-foreground",n&&"tv-pl-8",e),...t}));O3.displayName=sx.displayName;const M3=d.forwardRef(({className:e,...n},t)=>N(fx,{ref:t,className:we("tv--mx-1 tv-my-1 tv-h-px tv-bg-border",e),...n}));M3.displayName=fx.displayName;const gx="Popover",[yx,X8]=En(gx,[Jn]),Wv=Jn(),[R3,$a]=yx(gx),_3=e=>{const{__scopePopover:n,children:t,open:o,defaultOpen:i,onOpenChange:s,modal:c=!1}=e,u=Wv(n),f=d.useRef(null),[v,m]=d.useState(!1),[g=!1,b]=vr({prop:o,defaultProp:i,onChange:s});return d.createElement(Ds,u,d.createElement(R3,{scope:n,contentId:gn(),triggerRef:f,open:g,onOpenChange:b,onOpenToggle:d.useCallback(()=>b(w=>!w),[b]),hasCustomAnchor:v,onCustomAnchorAdd:d.useCallback(()=>m(!0),[]),onCustomAnchorRemove:d.useCallback(()=>m(!1),[]),modal:c},t))},L3="PopoverTrigger",z3=d.forwardRef((e,n)=>{const{__scopePopover:t,...o}=e,i=$a(L3,t),s=Wv(t),c=Qe(n,i.triggerRef),u=d.createElement(Be.button,ee({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xx(i.open)},o,{ref:c,onClick:be(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?u:d.createElement(Os,ee({asChild:!0},s),u)}),bx="PopoverPortal",[I3,A3]=yx(bx,{forceMount:void 0}),F3=e=>{const{__scopePopover:n,forceMount:t,children:o,container:i}=e,s=$a(bx,n);return d.createElement(I3,{scope:n,forceMount:t},d.createElement(cn,{present:t||s.open},d.createElement(tu,{asChild:!0,container:i},o)))},gs="PopoverContent",j3=d.forwardRef((e,n)=>{const t=A3(gs,e.__scopePopover),{forceMount:o=t.forceMount,...i}=e,s=$a(gs,e.__scopePopover);return d.createElement(cn,{present:o||s.open},s.modal?d.createElement(H3,ee({},i,{ref:n})):d.createElement(B3,ee({},i,{ref:n})))}),H3=d.forwardRef((e,n)=>{const t=$a(gs,e.__scopePopover),o=d.useRef(null),i=Qe(n,o),s=d.useRef(!1);return d.useEffect(()=>{const c=o.current;if(c)return Cs(c)},[]),d.createElement(ou,{as:hr,allowPinchZoom:!0},d.createElement(wx,ee({},e,{ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),s.current||(u=t.triggerRef.current)===null||u===void 0||u.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,v=u.button===2||f;s.current=v},{checkForDefaultPrevented:!1}),onFocusOutside:be(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})))}),B3=d.forwardRef((e,n)=>{const t=$a(gs,e.__scopePopover),o=d.useRef(!1),i=d.useRef(!1);return d.createElement(wx,ee({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c;if((c=e.onCloseAutoFocus)===null||c===void 0||c.call(e,s),!s.defaultPrevented){var u;o.current||(u=t.triggerRef.current)===null||u===void 0||u.focus(),s.preventDefault()}o.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)===null||c===void 0||c.call(e,s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const f=s.target;((u=t.triggerRef.current)===null||u===void 0?void 0:u.contains(f))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}}))}),wx=d.forwardRef((e,n)=>{const{__scopePopover:t,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:v,onInteractOutside:m,...g}=e,b=$a(gs,t),w=Wv(t);return nu(),d.createElement(eu,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:s},d.createElement(Fa,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:v,onDismiss:()=>b.onOpenChange(!1)},d.createElement(Ms,ee({"data-state":xx(b.open),role:"dialog",id:b.contentId},w,g,{ref:n,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function xx(e){return e?"open":"closed"}const W3=_3,V3=z3,$3=F3,kx=j3,Ex=W3,Cx=V3,Vv=d.forwardRef(({className:e,align:n="center",container:t=document.body,sideOffset:o=4,...i},s)=>N($3,{container:t,children:N(kx,{ref:s,align:n,sideOffset:o,className:we("tv-z-50 tv-w-72 tv-rounded-md tv-border tv-bg-popover tv-p-4 tv-text-popover-foreground tv-shadow-md tv-outline-none data-[state=open]:tv-animate-in data-[state=closed]:tv-animate-out data-[state=closed]:tv-fade-out-0 data-[state=open]:tv-fade-in-0 data-[state=closed]:tv-zoom-out-95 data-[state=open]:tv-zoom-in-95 data-[side=bottom]:tv-slide-in-from-top-2 data-[side=left]:tv-slide-in-from-right-2 data-[side=right]:tv-slide-in-from-left-2 data-[side=top]:tv-slide-in-from-bottom-2",e),...i})}));Vv.displayName=kx.displayName;function sb(e,[n,t]){return Math.min(t,Math.max(n,e))}function U3(e){const n=d.useRef({value:e,previous:e});return d.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}const q3=[" ","Enter","ArrowUp","ArrowDown"],G3=[" ","Enter"],Lu="Select",[zu,Iu,Y3]=av(Lu),[Ua,Q8]=En(Lu,[Y3,Jn]),$v=Jn(),[K3,zo]=Ua(Lu),[X3,Q3]=Ua(Lu),Z3=e=>{const{__scopeSelect:n,children:t,open:o,defaultOpen:i,onOpenChange:s,value:c,defaultValue:u,onValueChange:f,dir:v,name:m,autoComplete:g,disabled:b,required:w}=e,k=$v(n),[x,E]=d.useState(null),[C,T]=d.useState(null),[D,O]=d.useState(!1),M=pu(v),[R=!1,L]=vr({prop:o,defaultProp:i,onChange:s}),[B,G]=vr({prop:c,defaultProp:u,onChange:f}),Q=d.useRef(null),re=x?!!x.closest("form"):!0,[Y,se]=d.useState(new Set),ne=Array.from(Y).map(J=>J.props.value).join(";");return d.createElement(Ds,k,d.createElement(K3,{required:w,scope:n,trigger:x,onTriggerChange:E,valueNode:C,onValueNodeChange:T,valueNodeHasChildren:D,onValueNodeHasChildrenChange:O,contentId:gn(),value:B,onValueChange:G,open:R,onOpenChange:L,dir:M,triggerPointerDownPosRef:Q,disabled:b},d.createElement(zu.Provider,{scope:n},d.createElement(X3,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(J=>{se(de=>new Set(de).add(J))},[]),onNativeOptionRemove:d.useCallback(J=>{se(de=>{const le=new Set(de);return le.delete(J),le})},[])},t)),re?d.createElement(Dx,{key:ne,"aria-hidden":!0,required:w,tabIndex:-1,name:m,autoComplete:g,value:B,onChange:J=>G(J.target.value),disabled:b},B===void 0?d.createElement("option",{value:""}):null,Array.from(Y)):null))},J3="SelectTrigger",e_=d.forwardRef((e,n)=>{const{__scopeSelect:t,disabled:o=!1,...i}=e,s=$v(t),c=zo(J3,t),u=c.disabled||o,f=Qe(n,c.onTriggerChange),v=Iu(t),[m,g,b]=Ox(k=>{const x=v().filter(T=>!T.disabled),E=x.find(T=>T.value===c.value),C=Mx(x,k,E);C!==void 0&&c.onValueChange(C.value)}),w=()=>{u||(c.onOpenChange(!0),b())};return d.createElement(Os,ee({asChild:!0},s),d.createElement(Be.button,ee({type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Tx(c.value)?"":void 0},i,{ref:f,onClick:be(i.onClick,k=>{k.currentTarget.focus()}),onPointerDown:be(i.onPointerDown,k=>{const x=k.target;x.hasPointerCapture(k.pointerId)&&x.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&(w(),c.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)},k.preventDefault())}),onKeyDown:be(i.onKeyDown,k=>{const x=m.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&g(k.key),!(x&&k.key===" ")&&q3.includes(k.key)&&(w(),k.preventDefault())})})))}),t_="SelectValue",n_=d.forwardRef((e,n)=>{const{__scopeSelect:t,className:o,style:i,children:s,placeholder:c="",...u}=e,f=zo(t_,t),{onValueNodeHasChildrenChange:v}=f,m=s!==void 0,g=Qe(n,f.onValueNodeChange);return Kt(()=>{v(m)},[v,m]),d.createElement(Be.span,ee({},u,{ref:g,style:{pointerEvents:"none"}}),Tx(f.value)?d.createElement(d.Fragment,null,c):s)}),r_=d.forwardRef((e,n)=>{const{__scopeSelect:t,children:o,...i}=e;return d.createElement(Be.span,ee({"aria-hidden":!0},i,{ref:n}),o||"▼")}),o_=e=>d.createElement(tu,ee({asChild:!0},e)),Ma="SelectContent",a_=d.forwardRef((e,n)=>{const t=zo(Ma,e.__scopeSelect),[o,i]=d.useState();if(Kt(()=>{i(new DocumentFragment)},[]),!t.open){const s=o;return s?Hn.createPortal(d.createElement(Sx,{scope:e.__scopeSelect},d.createElement(zu.Slot,{scope:e.__scopeSelect},d.createElement("div",null,e.children))),s):null}return d.createElement(i_,ee({},e,{ref:n}))}),fr=10,[Sx,Io]=Ua(Ma),i_=d.forwardRef((e,n)=>{const{__scopeSelect:t,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:c,side:u,sideOffset:f,align:v,alignOffset:m,arrowPadding:g,collisionBoundary:b,collisionPadding:w,sticky:k,hideWhenDetached:x,avoidCollisions:E,...C}=e,T=zo(Ma,t),[D,O]=d.useState(null),[M,R]=d.useState(null),L=Qe(n,te=>O(te)),[B,G]=d.useState(null),[Q,re]=d.useState(null),Y=Iu(t),[se,ne]=d.useState(!1),J=d.useRef(!1);d.useEffect(()=>{if(D)return Cs(D)},[D]),nu();const de=d.useCallback(te=>{const[$,...oe]=Y().map(ve=>ve.ref.current),[xe]=oe.slice(-1),ye=document.activeElement;for(const ve of te)if(ve===ye||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===$&&M&&(M.scrollTop=0),ve===xe&&M&&(M.scrollTop=M.scrollHeight),ve==null||ve.focus(),document.activeElement!==ye))return},[Y,M]),le=d.useCallback(()=>de([B,D]),[de,B,D]);d.useEffect(()=>{se&&le()},[se,le]);const{onOpenChange:H,triggerPointerDownPosRef:I}=T;d.useEffect(()=>{if(D){let te={x:0,y:0};const $=xe=>{var ye,ve,Me,K;te={x:Math.abs(Math.round(xe.pageX)-((ye=(ve=I.current)===null||ve===void 0?void 0:ve.x)!==null&&ye!==void 0?ye:0)),y:Math.abs(Math.round(xe.pageY)-((Me=(K=I.current)===null||K===void 0?void 0:K.y)!==null&&Me!==void 0?Me:0))}},oe=xe=>{te.x<=10&&te.y<=10?xe.preventDefault():D.contains(xe.target)||H(!1),document.removeEventListener("pointermove",$),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",$),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",oe,{capture:!0})}}},[D,H,I]),d.useEffect(()=>{const te=()=>H(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[H]);const[P,z]=Ox(te=>{const $=Y().filter(ye=>!ye.disabled),oe=$.find(ye=>ye.ref.current===document.activeElement),xe=Mx($,te,oe);xe&&setTimeout(()=>xe.ref.current.focus())}),j=d.useCallback((te,$,oe)=>{const xe=!J.current&&!oe;(T.value!==void 0&&T.value===$||xe)&&(G(te),xe&&(J.current=!0))},[T.value]),W=d.useCallback(()=>D==null?void 0:D.focus(),[D]),Z=d.useCallback((te,$,oe)=>{const xe=!J.current&&!oe;(T.value!==void 0&&T.value===$||xe)&&re(te)},[T.value]),ae=o==="popper"?lb:s_,ie=ae===lb?{side:u,sideOffset:f,align:v,alignOffset:m,arrowPadding:g,collisionBoundary:b,collisionPadding:w,sticky:k,hideWhenDetached:x,avoidCollisions:E}:{};return d.createElement(Sx,{scope:t,content:D,viewport:M,onViewportChange:R,itemRefCallback:j,selectedItem:B,onItemLeave:W,itemTextRefCallback:Z,focusSelectedItem:le,selectedItemText:Q,position:o,isPositioned:se,searchRef:P},d.createElement(ou,{as:hr,allowPinchZoom:!0},d.createElement(eu,{asChild:!0,trapped:T.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:be(i,te=>{var $;($=T.trigger)===null||$===void 0||$.focus({preventScroll:!0}),te.preventDefault()})},d.createElement(Fa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>T.onOpenChange(!1)},d.createElement(ae,ee({role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:te=>te.preventDefault()},C,ie,{onPlaced:()=>ne(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:be(C.onKeyDown,te=>{const $=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!$&&te.key.length===1&&z(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let xe=Y().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(te.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const ye=te.target,ve=xe.indexOf(ye);xe=xe.slice(ve+1)}setTimeout(()=>de(xe)),te.preventDefault()}})}))))))}),s_=d.forwardRef((e,n)=>{const{__scopeSelect:t,onPlaced:o,...i}=e,s=zo(Ma,t),c=Io(Ma,t),[u,f]=d.useState(null),[v,m]=d.useState(null),g=Qe(n,L=>m(L)),b=Iu(t),w=d.useRef(!1),k=d.useRef(!0),{viewport:x,selectedItem:E,selectedItemText:C,focusSelectedItem:T}=c,D=d.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&v&&x&&E&&C){const L=s.trigger.getBoundingClientRect(),B=v.getBoundingClientRect(),G=s.valueNode.getBoundingClientRect(),Q=C.getBoundingClientRect();if(s.dir!=="rtl"){const ye=Q.left-B.left,ve=G.left-ye,Me=L.left-ve,K=L.width+Me,fe=Math.max(K,B.width),ke=window.innerWidth-fr,De=sb(ve,[fr,ke-fe]);u.style.minWidth=K+"px",u.style.left=De+"px"}else{const ye=B.right-Q.right,ve=window.innerWidth-G.right-ye,Me=window.innerWidth-L.right-ve,K=L.width+Me,fe=Math.max(K,B.width),ke=window.innerWidth-fr,De=sb(ve,[fr,ke-fe]);u.style.minWidth=K+"px",u.style.right=De+"px"}const re=b(),Y=window.innerHeight-fr*2,se=x.scrollHeight,ne=window.getComputedStyle(v),J=parseInt(ne.borderTopWidth,10),de=parseInt(ne.paddingTop,10),le=parseInt(ne.borderBottomWidth,10),H=parseInt(ne.paddingBottom,10),I=J+de+se+H+le,P=Math.min(E.offsetHeight*5,I),z=window.getComputedStyle(x),j=parseInt(z.paddingTop,10),W=parseInt(z.paddingBottom,10),Z=L.top+L.height/2-fr,ae=Y-Z,ie=E.offsetHeight/2,te=E.offsetTop+ie,$=J+de+te,oe=I-$;if($<=Z){const ye=E===re[re.length-1].ref.current;u.style.bottom="0px";const ve=v.clientHeight-x.offsetTop-x.offsetHeight,Me=Math.max(ae,ie+(ye?W:0)+ve+le),K=$+Me;u.style.height=K+"px"}else{const ye=E===re[0].ref.current;u.style.top="0px";const Me=Math.max(Z,J+x.offsetTop+(ye?j:0)+ie)+oe;u.style.height=Me+"px",x.scrollTop=$-Z+x.offsetTop}u.style.margin=`${fr}px 0`,u.style.minHeight=P+"px",u.style.maxHeight=Y+"px",o==null||o(),requestAnimationFrame(()=>w.current=!0)}},[b,s.trigger,s.valueNode,u,v,x,E,C,s.dir,o]);Kt(()=>D(),[D]);const[O,M]=d.useState();Kt(()=>{v&&M(window.getComputedStyle(v).zIndex)},[v]);const R=d.useCallback(L=>{L&&k.current===!0&&(D(),T==null||T(),k.current=!1)},[D,T]);return d.createElement(l_,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:w,onScrollButtonChange:R},d.createElement("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O}},d.createElement(Be.div,ee({},i,{ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),lb=d.forwardRef((e,n)=>{const{__scopeSelect:t,align:o="start",collisionPadding:i=fr,...s}=e,c=$v(t);return d.createElement(Ms,ee({},c,s,{ref:n,align:o,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[l_,Uv]=Ua(Ma,{}),cb="SelectViewport",c_=d.forwardRef((e,n)=>{const{__scopeSelect:t,...o}=e,i=Io(cb,t),s=Uv(cb,t),c=Qe(n,i.onViewportChange),u=d.useRef(0);return d.createElement(d.Fragment,null,d.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),d.createElement(zu.Slot,{scope:t},d.createElement(Be.div,ee({"data-radix-select-viewport":"",role:"presentation"},o,{ref:c,style:{position:"relative",flex:1,overflow:"auto",...o.style},onScroll:be(o.onScroll,f=>{const v=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=s;if(g!=null&&g.current&&m){const b=Math.abs(u.current-v.scrollTop);if(b>0){const w=window.innerHeight-fr*2,k=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),E=Math.max(k,x);if(E<w){const C=E+b,T=Math.min(w,C),D=C-T;m.style.height=T+"px",m.style.bottom==="0px"&&(v.scrollTop=D>0?D:0,m.style.justifyContent="flex-end")}}}u.current=v.scrollTop})}))))}),u_="SelectGroup",[d_,f_]=Ua(u_),p_=d.forwardRef((e,n)=>{const{__scopeSelect:t,...o}=e,i=gn();return d.createElement(d_,{scope:t,id:i},d.createElement(Be.div,ee({role:"group","aria-labelledby":i},o,{ref:n})))}),v_="SelectLabel",h_=d.forwardRef((e,n)=>{const{__scopeSelect:t,...o}=e,i=f_(v_,t);return d.createElement(Be.div,ee({id:i.id},o,{ref:n}))}),zp="SelectItem",[m_,Nx]=Ua(zp),g_=d.forwardRef((e,n)=>{const{__scopeSelect:t,value:o,disabled:i=!1,textValue:s,...c}=e,u=zo(zp,t),f=Io(zp,t),v=u.value===o,[m,g]=d.useState(s??""),[b,w]=d.useState(!1),k=Qe(n,C=>{var T;return(T=f.itemRefCallback)===null||T===void 0?void 0:T.call(f,C,o,i)}),x=gn(),E=()=>{i||(u.onValueChange(o),u.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.createElement(m_,{scope:t,value:o,disabled:i,textId:x,isSelected:v,onItemTextChange:d.useCallback(C=>{g(T=>{var D;return T||((D=C==null?void 0:C.textContent)!==null&&D!==void 0?D:"").trim()})},[])},d.createElement(zu.ItemSlot,{scope:t,value:o,disabled:i,textValue:m},d.createElement(Be.div,ee({role:"option","aria-labelledby":x,"data-highlighted":b?"":void 0,"aria-selected":v&&b,"data-state":v?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},c,{ref:k,onFocus:be(c.onFocus,()=>w(!0)),onBlur:be(c.onBlur,()=>w(!1)),onPointerUp:be(c.onPointerUp,E),onPointerMove:be(c.onPointerMove,C=>{if(i){var T;(T=f.onItemLeave)===null||T===void 0||T.call(f)}else C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(c.onPointerLeave,C=>{if(C.currentTarget===document.activeElement){var T;(T=f.onItemLeave)===null||T===void 0||T.call(f)}}),onKeyDown:be(c.onKeyDown,C=>{var T;((T=f.searchRef)===null||T===void 0?void 0:T.current)!==""&&C.key===" "||(G3.includes(C.key)&&E(),C.key===" "&&C.preventDefault())})}))))}),xc="SelectItemText",y_=d.forwardRef((e,n)=>{const{__scopeSelect:t,className:o,style:i,...s}=e,c=zo(xc,t),u=Io(xc,t),f=Nx(xc,t),v=Q3(xc,t),[m,g]=d.useState(null),b=Qe(n,C=>g(C),f.onItemTextChange,C=>{var T;return(T=u.itemTextRefCallback)===null||T===void 0?void 0:T.call(u,C,f.value,f.disabled)}),w=m==null?void 0:m.textContent,k=d.useMemo(()=>d.createElement("option",{key:f.value,value:f.value,disabled:f.disabled},w),[f.disabled,f.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:E}=v;return Kt(()=>(x(k),()=>E(k)),[x,E,k]),d.createElement(d.Fragment,null,d.createElement(Be.span,ee({id:f.textId},s,{ref:b})),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Hn.createPortal(s.children,c.valueNode):null)}),b_="SelectItemIndicator",w_=d.forwardRef((e,n)=>{const{__scopeSelect:t,...o}=e;return Nx(b_,t).isSelected?d.createElement(Be.span,ee({"aria-hidden":!0},o,{ref:n})):null}),ub="SelectScrollUpButton",x_=d.forwardRef((e,n)=>{const t=Io(ub,e.__scopeSelect),o=Uv(ub,e.__scopeSelect),[i,s]=d.useState(!1),c=Qe(n,o.onScrollButtonChange);return Kt(()=>{if(t.viewport&&t.isPositioned){let f=function(){const v=u.scrollTop>0;s(v)};const u=t.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),i?d.createElement(Px,ee({},e,{ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=t;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}})):null}),db="SelectScrollDownButton",k_=d.forwardRef((e,n)=>{const t=Io(db,e.__scopeSelect),o=Uv(db,e.__scopeSelect),[i,s]=d.useState(!1),c=Qe(n,o.onScrollButtonChange);return Kt(()=>{if(t.viewport&&t.isPositioned){let f=function(){const v=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<v;s(m)};const u=t.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),i?d.createElement(Px,ee({},e,{ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=t;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}})):null}),Px=d.forwardRef((e,n)=>{const{__scopeSelect:t,onAutoScroll:o,...i}=e,s=Io("SelectScrollButton",t),c=d.useRef(null),u=Iu(t),f=d.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return d.useEffect(()=>()=>f(),[f]),Kt(()=>{var v;const m=u().find(g=>g.ref.current===document.activeElement);m==null||(v=m.ref.current)===null||v===void 0||v.scrollIntoView({block:"nearest"})},[u]),d.createElement(Be.div,ee({"aria-hidden":!0},i,{ref:n,style:{flexShrink:0,...i.style},onPointerDown:be(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(o,50))}),onPointerMove:be(i.onPointerMove,()=>{var v;(v=s.onItemLeave)===null||v===void 0||v.call(s),c.current===null&&(c.current=window.setInterval(o,50))}),onPointerLeave:be(i.onPointerLeave,()=>{f()})}))}),E_=d.forwardRef((e,n)=>{const{__scopeSelect:t,...o}=e;return d.createElement(Be.div,ee({"aria-hidden":!0},o,{ref:n}))});function Tx(e){return e===""||e===void 0}const Dx=d.forwardRef((e,n)=>{const{value:t,...o}=e,i=d.useRef(null),s=Qe(n,i),c=U3(t);return d.useEffect(()=>{const u=i.current,f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&m){const g=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(g)}},[c,t]),d.createElement(O0,{asChild:!0},d.createElement("select",ee({},o,{ref:s,defaultValue:t})))});Dx.displayName="BubbleSelect";function Ox(e){const n=bn(e),t=d.useRef(""),o=d.useRef(0),i=d.useCallback(c=>{const u=t.current+c;n(u),function f(v){t.current=v,window.clearTimeout(o.current),v!==""&&(o.current=window.setTimeout(()=>f(""),1e3))}(u)},[n]),s=d.useCallback(()=>{t.current="",window.clearTimeout(o.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(o.current),[]),[t,i,s]}function Mx(e,n,t){const i=n.length>1&&Array.from(n).every(v=>v===n[0])?n[0]:n,s=t?e.indexOf(t):-1;let c=C_(e,Math.max(s,0));i.length===1&&(c=c.filter(v=>v!==t));const f=c.find(v=>v.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==t?f:void 0}function C_(e,n){return e.map((t,o)=>e[(n+o)%e.length])}const S_=Z3,Rx=e_,N_=n_,P_=r_,T_=o_,_x=a_,D_=c_,O_=p_,Lx=h_,zx=g_,M_=y_,R_=w_,Ix=x_,Ax=k_,Fx=E_,ys=S_,bs=O_,ws=N_,Ra=d.forwardRef(({className:e,children:n,...t},o)=>X(Rx,{ref:o,className:we("tv-flex tv-h-9 tv-w-full tv-items-center tv-justify-between tv-whitespace-nowrap tv-rounded-md tv-border tv-border-input tv-border-solid tv-bg-transparent tv-px-3 tv-py-2 tv-text-sm tv-shadow-sm tv-ring-offset-background placeholder:tv-text-muted-foreground focus:tv-outline-none focus:tv-ring-1 focus:tv-ring-ring disabled:tv-cursor-not-allowed disabled:tv-opacity-50 [&>span]:tv-line-clamp-1",e),...t,children:[n,N(P_,{asChild:!0,children:N(F2,{className:"tv-h-4 tv-w-4 tv-opacity-50"})})]}));Ra.displayName=Rx.displayName;const jx=d.forwardRef(({className:e,...n},t)=>N(Ix,{ref:t,className:we("tv-flex tv-cursor-default tv-items-center tv-justify-center tv-py-1",e),...n,children:N($2,{})}));jx.displayName=Ix.displayName;const Hx=d.forwardRef(({className:e,...n},t)=>N(Ax,{ref:t,className:we("tv-flex tv-cursor-default tv-items-center tv-justify-center tv-py-1",e),...n,children:N(B2,{})}));Hx.displayName=Ax.displayName;const _a=d.forwardRef(({className:e,container:n,children:t,position:o="popper",...i},s)=>N(T_,{container:n,children:X(_x,{ref:s,className:we("tv-relative tv-z-50 tv-max-h-96 tv-min-w-[8rem] tv-overflow-hidden tv-rounded-md tv-border tv-bg-popover tv-text-popover-foreground tv-shadow-md data-[state=open]:tv-animate-in data-[state=closed]:tv-animate-out data-[state=closed]:tv-fade-out-0 data-[state=open]:tv-fade-in-0 data-[state=closed]:tv-zoom-out-95 data-[state=open]:tv-zoom-in-95 data-[side=bottom]:tv-slide-in-from-top-2 data-[side=left]:tv-slide-in-from-right-2 data-[side=right]:tv-slide-in-from-left-2 data-[side=top]:tv-slide-in-from-bottom-2",o==="popper"&&"data-[side=bottom]:tv-translate-y-1 data-[side=left]:tv--translate-x-1 data-[side=right]:tv-translate-x-1 data-[side=top]:tv--translate-y-1",e),position:o,...i,children:[N(jx,{}),N(D_,{className:we("tv-p-1",o==="popper"&&"tv-h-[var(--radix-select-trigger-height)] tv-w-full tv-min-w-[var(--radix-select-trigger-width)]"),children:t}),N(Hx,{})]})}));_a.displayName=_x.displayName;const __=d.forwardRef(({className:e,...n},t)=>N(Lx,{ref:t,className:we("tv-px-2 tv-py-1.5 tv-text-sm tv-font-semibold",e),...n}));__.displayName=Lx.displayName;const mn=d.forwardRef(({className:e,children:n,...t},o)=>X(zx,{ref:o,className:we("tv-relative tv-flex tv-w-full tv-cursor-default tv-select-none tv-items-center tv-rounded-sm tv-py-1.5 tv-pl-2 tv-pr-8 tv-text-sm tv-outline-none focus:tv-bg-accent focus:tv-text-accent-foreground data-[disabled]:tv-pointer-events-none data-[disabled]:tv-opacity-50",e),...t,children:[N("span",{className:"tv-absolute tv-right-2 tv-flex tv-h-3.5 tv-w-3.5 tv-items-center tv-justify-center",children:N(R_,{children:N(Kp,{className:"tv-h-4 tv-w-4"})})}),N(M_,{children:n})]}));mn.displayName=zx.displayName;const L_=d.forwardRef(({className:e,...n},t)=>N(Fx,{ref:t,className:we("tv--mx-1 tv-my-1 tv-h-px tv-bg-muted",e),...n}));L_.displayName=Fx.displayName;const Bx="Tabs",[z_,Z8]=En(Bx,[vu]),Wx=vu(),[I_,qv]=z_(Bx),A_=d.forwardRef((e,n)=>{const{__scopeTabs:t,value:o,onValueChange:i,defaultValue:s,orientation:c="horizontal",dir:u,activationMode:f="automatic",...v}=e,m=pu(u),[g,b]=vr({prop:o,onChange:i,defaultProp:s});return d.createElement(I_,{scope:t,baseId:gn(),value:g,onValueChange:b,orientation:c,dir:m,activationMode:f},d.createElement(Be.div,ee({dir:m,"data-orientation":c},v,{ref:n})))}),F_="TabsList",j_=d.forwardRef((e,n)=>{const{__scopeTabs:t,loop:o=!0,...i}=e,s=qv(F_,t),c=Wx(t);return d.createElement(F0,ee({asChild:!0},c,{orientation:s.orientation,dir:s.dir,loop:o}),d.createElement(Be.div,ee({role:"tablist","aria-orientation":s.orientation},i,{ref:n})))}),H_="TabsTrigger",B_=d.forwardRef((e,n)=>{const{__scopeTabs:t,value:o,disabled:i=!1,...s}=e,c=qv(H_,t),u=Wx(t),f=Vx(c.baseId,o),v=$x(c.baseId,o),m=o===c.value;return d.createElement(j0,ee({asChild:!0},u,{focusable:!i,active:m}),d.createElement(Be.button,ee({type:"button",role:"tab","aria-selected":m,"aria-controls":v,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f},s,{ref:n,onMouseDown:be(e.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?c.onValueChange(o):g.preventDefault()}),onKeyDown:be(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(o)}),onFocus:be(e.onFocus,()=>{const g=c.activationMode!=="manual";!m&&!i&&g&&c.onValueChange(o)})})))}),W_="TabsContent",V_=d.forwardRef((e,n)=>{const{__scopeTabs:t,value:o,forceMount:i,children:s,...c}=e,u=qv(W_,t),f=Vx(u.baseId,o),v=$x(u.baseId,o),m=o===u.value,g=d.useRef(m);return d.useEffect(()=>{const b=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(b)},[]),d.createElement(cn,{present:i||m},({present:b})=>d.createElement(Be.div,ee({"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!b,id:v,tabIndex:0},c,{ref:n,style:{...e.style,animationDuration:g.current?"0s":void 0}}),b&&s))});function Vx(e,n){return`${e}-trigger-${n}`}function $x(e,n){return`${e}-content-${n}`}const $_=A_,Ux=j_,qx=B_,Gx=V_,U_=$_,Yx=d.forwardRef(({className:e,...n},t)=>N(Ux,{ref:t,className:we("tv-inline-flex tv-h-9 tv-items-center tv-justify-center tv-rounded-lg tv-bg-muted tv-p-1 tv-text-muted-foreground",e),...n}));Yx.displayName=Ux.displayName;const Dc=d.forwardRef(({className:e,...n},t)=>N(qx,{ref:t,className:we("tv-inline-flex tv-items-center tv-justify-center tv-whitespace-nowrap tv-rounded-md tv-px-3 tv-py-1 tv-text-sm tv-font-medium tv-ring-offset-background tv-transition-all focus-visible:tv-outline-none focus-visible:tv-ring-2 focus-visible:tv-ring-ring focus-visible:tv-ring-offset-2 disabled:tv-pointer-events-none disabled:tv-opacity-50 data-[state=active]:tv-bg-background data-[state=active]:tv-text-foreground data-[state=active]:tv-shadow",e),...n}));Dc.displayName=qx.displayName;const Oc=d.forwardRef(({className:e,...n},t)=>N(Gx,{ref:t,className:we("tv-mt-2 tv-ring-offset-background focus-visible:tv-outline-none focus-visible:tv-ring-2 focus-visible:tv-ring-ring focus-visible:tv-ring-offset-2",e),...n}));Oc.displayName=Gx.displayName;function fb({theme:e,type:n,container:t,background:o,setBackground:i,className:s}){const c=["#E2E2E2","#f8d9eb","#eed2b8","#eee5b5","#ebf8e2","#e5edf3","#f0f0f8","#07183a"],u=["#000000","#434343","#5d5d5d","#537895","#7918F2","#b91d73","#ff6a00","#DC281E"],f=["#E2E2E2","#f8d9eb","#eed2b8","#eee5b5","#ebf8e2","#e5edf3","#f0f0f8","#ecbdbd"],v=["#000000","#434343","#5d5d5d","#537895","#7918F2","#b91d73","#ff6a00","#DC281E"],m=["linear-gradient(to top left,#accbee,#e7f0fd)","linear-gradient(to top left,#d5d4d0,#d5d4d0,#eeeeec)","linear-gradient(to top left,#000000,#434343)","linear-gradient(to top left,#09203f,#537895)","linear-gradient(to top left,#AC32E4,#7918F2,#4801FF)","linear-gradient(to top left,#f953c6,#b91d73)","linear-gradient(to top left,#ee0979,#ff6a00)","linear-gradient(to top left,#F00000,#DC281E)","linear-gradient(to top left,#00c6ff,#0072ff)","linear-gradient(to top left,#4facfe,#00f2fe)","linear-gradient(to top left,#0ba360,#3cba92)","linear-gradient(to top left,#FDFC47,#24FE41)","linear-gradient(to top left,#8a2be2,#0000cd,#228b22,#ccff00)","linear-gradient(to top left,#40E0D0,#FF8C00,#FF0080)","linear-gradient(to top left,#fcc5e4,#fda34b,#ff7882,#c8699e,#7046aa,#0c1db8,#020f75)","linear-gradient(to top left,#ff75c3,#ffa647,#ffe83f,#9fff5b,#70e2ff,#cd93ff)"],g=["url(https://images.unsplash.com/photo-1691200099282-16fd34790ade?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2532&q=90)","url(https://images.unsplash.com/photo-1691226099773-b13a89a1d167?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2532&q=90","url(https://images.unsplash.com/photo-1688822863426-8c5f9b257090?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2532&q=90)","url(https://images.unsplash.com/photo-1691225850735-6e4e51834cad?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2532&q=90)"],b=d.useMemo(()=>o.includes("url")?"image":o.includes("gradient")?"gradient":"solid",[o]),w=k=>{k.stopPropagation()};return X(Ex,{children:[N(Cx,{asChild:!0,children:N(ft,{variant:"outline",className:we("!tv-h-5 tv-w-5 !tv-p-0 tv-justify-center tv-items-center tv-text-left tv-font-normal",!o&&"tv-text-muted-foreground",s),onMouseDown:w,onTouchStart:w,children:N("div",{className:"tv-w-full tv-flex tv-items-center tv-justify-center",children:o?N("div",{className:"tv-h-4 tv-w-4 tv-rounded tv-bg-center tv-bg-cover tv-transition-all",style:{background:o}}):N(tx,{className:"tv-h-4 tv-w-4"})})})}),X(Vv,{onMouseDown:w,onTouchStart:w,container:t,className:"tv-w-64 dark:tv-bg-stone-800",children:[X(U_,{defaultValue:b,className:"tv-w-full",children:[X(Yx,{className:"tv-w-full tv-mb-4",children:[N(Dc,{className:"tv-flex-1 tv-shadow-none",value:"solid",children:"Solid"}),N(Dc,{className:"tv-flex-1 tv-shadow-none",value:"gradient",children:"Gradient"}),n==="background"&&N(Dc,{className:"tv-flex-1 tv-shadow-none",value:"image",children:"Image"})]}),X(Oc,{value:"solid",className:"tv-flex tv-flex-wrap tv-justify-center tv-items-center tv-gap-1 tv-mt-0",children:[n==="background"?(e==="light"?c:u).map(k=>N("div",{style:{background:k},className:"tv-rounded-md tv-h-6 tv-w-6 tv-cursor-pointer active:tv-scale-105",onClick:()=>i(k)},k)):(e==="light"?v:f).map(k=>N("div",{style:{background:k},className:"tv-rounded-md tv-h-6 tv-w-6 tv-cursor-pointer active:tv-scale-105",onClick:()=>i(k)},k)),N("input",{type:"color",defaultValue:e==="light"?"#bbbbbb":"#626262",onInput:k=>{i(k.currentTarget.value)}})]}),N(Oc,{value:"gradient",className:"tv-mt-0",children:N("div",{className:"tv-flex tv-flex-wrap tv-gap-1 tv-mb-2",children:m.map(k=>N("div",{style:{background:k},className:"tv-rounded-md tv-h-6 tv-w-6 tv-cursor-pointer active:tv-scale-105",onClick:()=>i(k)},k))})}),n==="background"&&N(Oc,{value:"image",className:"tv-mt-0",children:N("div",{className:"tv-grid tv-grid-cols-2 tv-gap-1 tv-mb-2",children:g.map(k=>N("div",{style:{backgroundImage:k},className:"tv-rounded-md tv-bg-cover tv-bg-center tv-h-12 tv-w-full tv-cursor-pointer active:tv-scale-105",onClick:()=>i(k)},k))})})]}),N(Ha,{id:"custom",value:o,className:"tv-col-span-2 tv-h-8 tv-mt-4",onChange:k=>i(k.currentTarget.value)})]})]})}const q_=({theme:e,style:n,setStyle:t,className:o,container:i})=>{var c,u,f,v;const s=m=>{m.stopPropagation()};return X(Ex,{children:[N(Cx,{asChild:!0,children:N(ft,{variant:"outline",className:we("!tv-h-5 tv-w-5 !tv-p-0 tv-mr-2 tv-justify-center tv-items-center tv-text-left tv-font-normal tv-bg-stone-100 dark:tv-bg-stone-900 dark:tv-text-muted-foreground","tv-text-muted-foreground",o),onMouseDown:s,onTouchStart:s,children:N(tx,{className:"tv-h-4 tv-w-4"})})}),X(Vv,{id:"style-settings-popover",align:"start",onMouseDown:s,onTouchStart:s,container:i,className:"tv-w-64 tv-flex tv-flex-col tv-gap-2",children:[X("div",{className:"tv-w-full tv-flex tv-flex-row tv-justify-between tv-items-center",children:[N("span",{className:"tv-text-sm",children:"Font size"}),X(ys,{value:(n==null?void 0:n.fontSize)||"base",onValueChange:m=>{t("fontSize",m)},children:[N(Ra,{onMouseDown:s,onTouchStart:s,className:"!tv-w-28",children:N(ws,{placeholder:"Select font size"})}),N(_a,{className:"tv-w-32 tv-text-sm",container:i,onMouseDown:s,onTouchStart:s,children:X(bs,{children:[N(mn,{className:"tv-text-xs",value:"xs",children:"XS"}),N(mn,{className:"tv-text-sm",value:"sm",children:"SM"}),N(mn,{className:"tv-text-base",value:"base",children:"Normal"}),N(mn,{className:"tv-text-lg",value:"lg",children:"LG"}),N(mn,{className:"tv-text-xl",value:"xl",children:"XL"})]})})]})]}),X("div",{className:"tv-w-full tv-flex tv-flex-row tv-justify-between tv-items-center",children:[N("span",{className:"tv-text-sm",children:"Font family"}),X(ys,{value:(n==null?void 0:n.fontFamily)==="sans-serif"?"sans-serif":(n==null?void 0:n.fontFamily)==="serif"?"serif":"monospace",onValueChange:m=>{t("fontFamily",m)},children:[N(Ra,{onMouseDown:s,onTouchStart:s,className:"!tv-w-28",children:N(ws,{placeholder:"Select font family"})}),N(_a,{className:"tv-w-32 tv-text-sm",container:i,onMouseDown:s,onTouchStart:s,children:X(bs,{children:[N(mn,{value:"sans-serif",children:"Sans-serif"}),N(mn,{value:"serif",children:"Serif"}),N(mn,{value:"monospace",children:"Monospace"})]})})]})]}),X("div",{className:"tv-w-full tv-h-9 tv-flex tv-flex-row tv-justify-between tv-items-center",children:[N("span",{className:"tv-text-sm",children:"Font color"}),N(fb,{theme:e,type:"fontColor",container:i,background:e==="dark"?((c=n==null?void 0:n.fontColor)==null?void 0:c.dark)||"rgb(182,182,182)":((u=n==null?void 0:n.fontColor)==null?void 0:u.light)||"rgb(241 245 249)",setBackground:m=>{t("fontColor",{...n.fontColor,[e]:m})}})]}),X("div",{className:"tv-w-full tv-h-9 tv-flex tv-flex-row tv-justify-between tv-items-center",children:[N("span",{className:"tv-text-sm",children:"Background style"}),N(fb,{theme:e,type:"background",container:i,background:e==="dark"?((f=n==null?void 0:n.background)==null?void 0:f.dark)||"rgb(89,89,89)":((v=n==null?void 0:n.background)==null?void 0:v.light)||"rgb(241 245 249)",setBackground:m=>{t("background",{...n.background,[e]:m})}})]})]})]})},G_=({title:e,content:n,style:t,widget:o,updateStyle:i,handleLayoutItemDelete:s,handleLayoutItemEdit:c})=>{var b,w,k,x;const{globalState:{lightOrDarkMode:u}}=d.useContext(At),f=document.body.find(".templify-layout-editor-container"),[v,m]=d.useState({background:{light:"rgb(241 245 249)",dark:"rgb(61,61,61)"},fontColor:{light:"",dark:""},fontFamily:"",fontSize:""});d.useEffect(()=>{var E,C,T,D;t&&m({...t,background:{light:((E=t.background)==null?void 0:E.light)||"rgb(241 245 249)",dark:((C=t.background)==null?void 0:C.dark)||"rgb(61,61,61)"},fontColor:{light:((T=t.fontColor)==null?void 0:T.light)||"",dark:((D=t.fontColor)==null?void 0:D.dark)||""},fontFamily:t.fontFamily||"",fontSize:t.fontSize||""})},[t]);const g=E=>{E.stopPropagation()};return X(hx,{children:[N(mx,{asChild:!0,children:X("div",{className:we("tv-w-full tv-h-full tv-flex-col tv-flex tv-p-2 tv-rounded-md tv-text-muted-foreground tv-overflow-hidden tv-text-ellipsis tv-whitespace-nowrap",`
						${(v==null?void 0:v.fontFamily)==="serif"?"tv-font-serif":(t==null?void 0:t.fontFamily)==="monospace"?"tv-font-mono":"tv-font-sans"} tv-text-${v!=null&&v.fontSize?v.fontSize:"md"}
					`),style:{background:u==="dark"?(b=v.background)==null?void 0:b.dark:(w=v.background)==null?void 0:w.light,color:u==="dark"?(k=v.fontColor)==null?void 0:k.dark:(x=v.fontColor)==null?void 0:x.light},children:[!n&&X(ct,{children:[X("div",{className:"tv-h-6 tv-border-solid tv-border-0 !tv-border-b tv-flex tv-flex-row tv-justify-between tv-items-start",children:[N("div",{className:we(`tv-text-${(v==null?void 0:v.fontSize)||"sm"}`),children:e}),N(q_,{theme:u||"light",style:t,setStyle:(E,C)=>{m({...v,[E]:C}),i(E,C)},container:f})]}),N("div",{className:we("tv-w-full tv-h-full tv-flex tv-items-center tv-justify-center",`tv-text-${(v==null?void 0:v.fontSize)||"sm"}`),children:"Content"})]}),n&&o==="render"&&N(P1,{content:n,path:"",container:f}),n&&o==="view"&&N(Av,{className:"tv-pointer-events-none ",state:n})]})}),X(Bv,{onMouseDown:g,onTouchStart:g,children:[N(Pa,{onClick:()=>{c(e)},children:"Edit content"}),N(Pa,{onClick:()=>{s(e)},children:"Delete"})]})]})},Gv=d.forwardRef(({className:e,...n},t)=>N("textarea",{className:we("tv-flex tv-min-h-[60px] tv-w-full tv-rounded-md tv-border tv-border-input tv-bg-transparent tv-px-3 tv-py-2 tv-text-sm tv-shadow-sm placeholder:tv-text-muted-foreground focus-visible:tv-outline-none focus-visible:tv-ring-1 focus-visible:tv-ring-ring disabled:tv-cursor-not-allowed disabled:tv-opacity-50",e),ref:t,...n}));Gv.displayName="Textarea";const Ip="horizontal",Y_=["horizontal","vertical"],Kx=d.forwardRef((e,n)=>{const{decorative:t,orientation:o=Ip,...i}=e,s=Xx(o)?o:Ip,u=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return d.createElement(Be.div,ee({"data-orientation":s},u,i,{ref:n}))});Kx.propTypes={orientation(e,n,t){const o=e[n],i=String(o);return o&&!Xx(o)?new Error(K_(i,t)):null}};function K_(e,n){return`Invalid prop \`orientation\` of value \`${e}\` supplied to \`${n}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${Ip}\`.`}function Xx(e){return Y_.includes(e)}const Qx=Kx,xs=d.forwardRef(({className:e,orientation:n="horizontal",decorative:t=!0,...o},i)=>N(Qx,{ref:i,decorative:t,orientation:n,className:we("tv-shrink-0 tv-bg-border",n==="horizontal"?"tv-h-[1px] tv-w-full":"tv-h-full tv-w-[1px]",e),...o}));xs.displayName=Qx.displayName;const kc={CountdownProgressBar:{name:"倒计时进度条",tags:["时间","进度条","倒计时"],banner:"https://cdn.pkmer.cn/covers/CountdownProgressBar.PNG!pkmer",createPage:"/products/widget/CountdownProgressBar",desc:"可以自定义日期和文字生成一个带进度条的倒计时",cost:"错误",iframe:"height:220",defaultConfig:null},RangeCalendar:{name:"范围日历",tags:["日历"],banner:null,createPage:"/products/widget/RangeCalendar",desc:"可以高亮当前日期范围的日历",cost:"错误",iframe:null,defaultConfig:null},CountdownCards:{name:"卡片倒计时",tags:["倒计时"],banner:"https://cdn.pkmer.cn/covers/CountdownCards.PNG!pkmer",createPage:"/products/widget/CountdownCards",desc:"生成一个可以自定义卡片标题和日期的倒计时",cost:"免费",iframe:"height:220",defaultConfig:"input-text=%E4%BB%8A%E5%B9%B4%E7%BB%93%E6%9D%9F&theme-color=%23CA5F5FFF&date-picker=1735660740000"},ThemeCalendar:{name:"主题日历",tags:["日历"],banner:"https://cdn.pkmer.cn/covers/ThemeCalendar.gif!pkmer",createPage:"/products/widget/ThemeCalendar",desc:"一套内置主题的日历，可以切换不同主题风格",cost:"免费",iframe:"height:320",defaultConfig:"theme-color=%2379976b&theme=%E6%B0%B4%E6%9E%9C%E4%B8%BB%E9%A2%98&is-sunday=False"},SimpleCountdown:{name:"极简倒计日",tags:["倒计时"],banner:"https://cdn.pkmer.cn/covers/simplecountdown.gif",createPage:"/products/widget/SimpleCountdown",desc:"一个可以自定义名称和日期的简约风格倒计时,双击挂件元素即可更改内容",cost:"免费",iframe:"height:100",defaultConfig:"theme-color=%237d7d7d&input-text=%E4%BB%8A%E5%B9%B4%E7%BB%93%E6%9D%9F&date-picker=1735660740000"},SimpleClock:{name:"极简时钟",tags:["时钟","时间"],banner:"https://cdn.pkmer.cn/covers/SimpleClock.GIF!pkmer",createPage:"/products/widget/SimpleClock",desc:"生成一个极简风格的时钟",cost:"免费",iframe:"height:220px;transform:scale(0.8);",defaultConfig:null},CardCalendar:{name:"卡片日历",tags:["日历"],banner:"https://cdn.pkmer.cn/covers/CardCalendar.GIF!pkmer",createPage:"/products/widget/CardCalendar",desc:"生成一个卡片风格的日历",cost:"免费",iframe:"height:370",defaultConfig:"theme-color=%23000000"},LifeProgressBar:{name:"人生进度条",tags:["进度条"],banner:"https://cdn.pkmer.cn/covers/LifeProgressBar.PNG!pkmer",createPage:"/products/widget/LifeProgressBar",desc:"可以自定义名字和内容的时间进度条",cost:"错误",iframe:"height:140",defaultConfig:null},CountdownList:{name:"倒计时列表",tags:["倒计时","进度条"],banner:null,createPage:"/products/widget/CountdownList",desc:"可以添加多个倒计日，以列表形式展现",cost:"错误",iframe:null,defaultConfig:null},TimeProgressBar:{name:"时间进度条",tags:["时间","进度条"],banner:"https://cdn.pkmer.cn/covers/TimeProgressBar.PNG!pkmer",createPage:"/products/widget/TimeProgressBar",desc:"显示周，月，年的剩余天数",cost:"错误",iframe:"height:180",defaultConfig:null},YearlyGridProgress:{name:"年度格子进度",tags:["进度条","时间"],banner:"https://cdn.pkmer.cn/covers/YearlyGridProgress.PNG!pkmer",createPage:"/products/widget/YearlyGridProgress",desc:"用格子展示当年已过的天数",cost:"错误",iframe:"height:200",defaultConfig:null},ProgressClock:{name:"进度时钟",tags:["进度条","时间"],banner:"https://cdn.pkmer.cn/covers/ProgressClock.GIF!pkmer",createPage:"/products/widget/ProgressClock",desc:"带时间的年度和月份剩余进度条",cost:"错误",iframe:"height:180",defaultConfig:null},SimpleTomatoClock:{name:"简单的番茄钟",tags:["时钟","倒计时","番茄钟"],banner:null,createPage:"/products/widget/SimpleTomatoClock",desc:"提供一个番茄钟功能，可以自定义输入时间并进行倒计时",cost:"错误",iframe:null,defaultConfig:null},HistoryToday:{name:"历史上的今天",tags:["内容类"],banner:"https://cdn.pkmer.cn/covers/HistoryToday.PNG!pkmer",createPage:"/products/widget/HistoryToday",desc:"提供一个时间线展示今天的历史事件",cost:"错误",iframe:"height:780",defaultConfig:null},CustomTextBlock:{name:"自定义文字引用块",tags:["内容类"],banner:null,createPage:"/products/widget/CustomTextBlock",desc:"可以展示一段自定义文字",cost:"错误",iframe:null,defaultConfig:null},CardCountdown:{name:"卡片倒计时",tags:["倒计时"],banner:null,createPage:"/products/widget/CardCountdown",desc:"可以自定义文字的卡片倒计时，有多种背景风格切换",cost:"错误",iframe:"height:220",defaultConfig:null},QuoteDay:{name:"每日一言",tags:["内容类"],banner:"https://cdn.pkmer.cn/covers/QuoteDay.PNG!pkmer",createPage:"/products/widget/QuoteDay",desc:"随机生成一句哲理名言",cost:"免费",iframe:"height:340",defaultConfig:"select-background=Color&theme-color=%23fbeea5&input-url=&theme=%E7%AB%96%E7%89%88&select-theme=Default"},RandomMusic:{name:"随机音乐",tags:["娱乐"],banner:"https://cdn.pkmer.cn/covers/RandomMusic.PNG!pkmer",createPage:"/products/widget/RandomMusic",desc:"生成一首随机音乐，放松你的心情",cost:"免费",iframe:"height:180",defaultConfig:"theme-color=%23888888FF&layout-style=Default"},DailyPoetry:{name:"每日诗词",tags:["内容类"],banner:null,createPage:"/products/widget/DailyPoetry",desc:"随机生成一句古诗词",cost:"错误",iframe:null,defaultConfig:null},CartoonCountdown:{name:"卡通倒计时",tags:["倒计时"],banner:"https://cdn.pkmer.cn/covers/aa.gif",createPage:"/products/widget/CartoonCountdown",desc:"一个卡通风格的倒计时，可以双击卡片进行自定义",cost:"免费",iframe:"height:260",defaultConfig:"theme-color=%23f3cd8a&date-picker=1735660740000&theme=%E9%BB%98%E8%AE%A4&select-theme=Default"},CartoonWeekly:{name:"卡通周历",tags:["日历"],banner:null,createPage:"/products/widget/CartoonWeekly",desc:"一个卡通风格的周历",cost:"错误",iframe:null,defaultConfig:null},ColorfulClock:{name:"环形多彩时钟",tags:["时间","时钟"],banner:"https://cdn.pkmer.cn/covers/ColorfulClock.GIF!pkmer",createPage:"/products/widget/ColorfulClock",desc:"一个可自定义颜色的多彩时钟",cost:"免费",iframe:"height:220",defaultConfig:"font-color=%234f46e5&ring-color-1=%23e13e78&ring-color-2=%23e79742&ring-color-3=%234483ec&ring-color-4=%238f30eb&lang=en"},TodoApp:{name:"代办列表",tags:["效率","习惯"],banner:"https://cdn.pkmer.cn/covers/TodoApp.GIF!pkmer",createPage:"/products/widget/TodoApp",desc:"一个简单的代办事项管理小工具",cost:"付费",iframe:"height:360",defaultConfig:null},BongoCat:{name:"码力猫",tags:["动态图标"],banner:"https://cdn.pkmer.cn/covers/BongoCat.GIF!pkmer",createPage:"/products/widget/BongoCat",desc:"一个不停敲代码努力积极向上的猫",cost:"免费",iframe:"height:220",defaultConfig:"theme=%E4%BA%AE%E8%89%B2%E6%A8%A1%E5%BC%8F"},TomatoClock:{name:"番茄时钟",tags:["时钟","倒计时"],banner:null,createPage:"/products/widget/TomatoClock",desc:"有一个番茄时钟",cost:"付费",iframe:null,defaultConfig:null},PageTurnClock:{name:"翻页时钟",tags:["时钟","时间"],banner:"https://cdn.pkmer.cn/covers/PageTurnClock.GIF!pkmer",createPage:"/products/widget/PageTurnClock",desc:"一个简单的翻页效果的时钟",cost:"免费",iframe:"height:180",defaultConfig:"theme-color=%23ccc&layout-style=Default"},FlipTime:{name:"翻页时钟2",tags:["时钟","时间"],banner:"https://cdn.pkmer.cn/covers/FlipTime.GIF!pkmer",createPage:"/products/widget/FlipTime",desc:"一个具有翻页效果的时钟",cost:"付费",iframe:"height:180",defaultConfig:"theme-color=%23ccc&layout-style=Default&select-theme=Default"},NeumorphicClock:{name:"拟态时钟",tags:["时钟","时间"],banner:"https://cdn.pkmer.cn/covers/NeumorphicClock.GIF!pkmer",createPage:"/products/widget/NeumorphicClock",desc:"一个看起来很逼真的拟物风格时钟",cost:"付费",iframe:"height:360; transform:scale(0.8);",defaultConfig:null},Carousel:{name:"自定义轮播图片",tags:["娱乐"],banner:"https://cdn.pkmer.cn/covers/cc.gif",createPage:"/products/widget/Carousel",desc:"自定义轮播图片，双击即可更换卡片地址,回车后确认。",cost:"免费",iframe:"height:280",defaultConfig:null},Glassmorphism:{name:"自定义文本卡片",tags:["内容类"],banner:"https://cdn.pkmer.cn/covers/QQ%E6%88%AA%E5%9B%BE20231108205943.jpg!nomark",createPage:"/products/widget/Glassmorphism",desc:"自定义文本，双击标题或者正文切换内容",cost:"免费",iframe:"height:320",defaultConfig:"font-color=%23262623FF&input-url=https%3A%2F%2Fsource.unsplash.com%2Fn7a2OJDSZns%2F900x300&theme-color=%23FFFFFF"},Campfire:{name:"野营图",tags:["娱乐"],banner:null,createPage:"/products/widget/Campfire",desc:"就一张css生成的动图图",cost:null,iframe:'<iframe src="http://localhost:3000/free/Campfire?user=9addaa3e-d4df-4472-a260-b9b7f3b40e4a" width="100%" height="500px"></iframe>',defaultConfig:null},Space:{name:"太阳系行星图",tags:["动态图标"],banner:"http://cdn.pkmer.cn/covers/dd.gif",createPage:"/products/widget/Space",desc:"看起来很炫酷的太阳系九大行星图,建议在暗色模式下使用。",cost:"免费",iframe:" height:680px;transform: scale(0.7); margin-top:-160px;",defaultConfig:null},MineSweeper:{name:"扫雷游戏",tags:["娱乐"],banner:"http://cdn.pkmer.cn/covers/ee.gif",createPage:"/products/widget/MineSweeper",desc:"经典的扫雷游戏",cost:"免费",iframe:"height:360",defaultConfig:"select-theme=dark"},MiniCalc:{name:"迷你计算器",tags:["工具"],banner:"https://cdn.pkmer.cn/covers/calc.jpg!nomark",createPage:"/products/widget/MiniCalc",desc:"一个简单的计算器",cost:"免费",iframe:"height:380",defaultConfig:null},YearTimeline:{name:"年度时间线",tags:["进度条"],banner:"https://cdn.pkmer.cn/covers/YearTimeline.png!pkmer",createPage:"/products/widget/YearTimeline",desc:"年度进度条，并显示当天位置",cost:"免费",iframe:"height:50",defaultConfig:null},ElegantCalendar:{name:"精美日历",tags:["日历"],banner:"https://cdn.pkmer.cn/covers/QQ%E6%88%AA%E5%9B%BE20231111104044.png!nomark",createPage:"/products/widget/ElegantCalendar",desc:"一款可以显示农历，并且可以标记日期的日历",cost:"付费",iframe:"height:520",defaultConfig:"is-sunday=False"},PomodoroTime:{name:"番茄时钟",tags:["效率","倒计时"],banner:"https://cdn.pkmer.cn/covers/PomodoroTime.gif",createPage:"/products/widget/PomodoroTime",desc:"可以自定义专注时长和休息时长的番茄钟计时器，点击时钟可以暂停。",cost:"付费",iframe:" height: 300",defaultConfig:"theme-color=%2399cc00cb"},miniTianqi:{name:"迷你天气条",tags:["天气"],banner:"https://cdn.pkmer.cn/covers/miniweather.gif",createPage:"/products/widget/miniTianqi",desc:"一个迷你天气条，展示当前所在地的天气情况。有多种风格样式切换",cost:"免费",iframe:" height:40",defaultConfig:"select-theme=ta&theme=经典&input-text=&theme-color=%23747474&select-icon=pear"}};function pb(e){const n=/^#{1}\s[^#].*/gm,t=e.match(n);return t?t.map(i=>i.replace(/^#{1}\s/,"")):[]}const Ec=({id:e,label:n,defaultValue:t,placeholder:o,onInput:i})=>X("div",{className:"tv-grid tv-w-full tv-max-w-sm tv-items-center tv-gap-1.5",children:[N(yo,{htmlFor:e,children:n}),N(Ha,{defaultValue:t,type:"text",id:e,placeholder:o,onInput:i})]});function X_({closeModal:e,initTemplateData:n,callbackFunction:t}){var Z,ae,ie,te,$,oe,xe,ye,ve,Me;const{globalState:{app:o,plugin:i}}=d.useContext(At),[s,c]=Ae.useState([]),u=d.useMemo(()=>Iv.WidthProvider(N1),[]),[f,v]=Ae.useState({title:"",description:"",categories:[],content:"",thumbnails:"",type:"",layout:[]}),[m,g]=Ae.useState({}),[b,w]=Ae.useState([]),[k,x]=Ae.useState([]),[E,C]=Ae.useState(null),[T,D]=Ae.useState("TITLE"),O=Ae.useRef(null),[M,R]=Ae.useState(null),L=Ae.useRef(null),[B,G]=Ae.useState(!1),[Q,re]=Ae.useState([]);d.useEffect(()=>{if(o)return x(o.vault.getMarkdownFiles().map(K=>({label:K.basename,value:K.path}))),()=>{x([]),e()}},[o]),d.useEffect(()=>{if(!n)return;(async()=>{if(v(n),c(n.layout),g(n.layout.reduce((Oe,Le)=>(Oe[Le.i]={style:Le.style,content:Le.content,widget:Le.widget},Oe),{})),!n.path)return;const fe=o.metadataCache.getFirstLinkpathDest("",n.path);C({label:fe.basename,value:fe.path});const ke=await o.vault.read(fe),De=pb(ke);De&&(re(De),w(n.layout.map(Oe=>Oe.i)))})()},[n]);const Y=()=>{if(!f.type||!f.title){new ge.Notice("Please fill in all required fields");return}const K=i.settings.template.templateData;if(!(n&&f.type===(n==null?void 0:n.type))&&K.some(ke=>ke.type===f.type)){new ge.Notice("Type already exists");return}const fe={...f,layout:s.map(ke=>{var Oe,Le,qe,ot;const De=m[ke.i];return{...De,style:{...De==null?void 0:De.style,background:{light:((Le=(Oe=De==null?void 0:De.style)==null?void 0:Oe.background)==null?void 0:Le.light)||"",dark:((ot=(qe=De==null?void 0:De.style)==null?void 0:qe.background)==null?void 0:ot.dark)||""}},i:ke.i,x:ke.x,y:ke.y,w:ke.w,h:ke.h}}),path:(E==null?void 0:E.value)||""};n&&K.some(ke=>ke.type===n.type)?i.settings.template.templateData=K.map(ke=>ke.type===n.type?fe:ke):i.settings.template.templateData=[...K,fe],i.saveSettings(),t&&t(fe),e()},se=async K=>{C(K);const fe=o.metadataCache.getFirstLinkpathDest("",K.value),ke=await o.vault.read(fe),De=pb(ke);De&&re(De)},ne=K=>{c(K)},J=(K,fe,ke)=>{ke.preventDefault();const De=K.find(Le=>Le.i===fe.i),Oe=ke.dataTransfer.getData("text/plain");Oe.endsWith("widget")?(O.current=Oe,G(!0)):w([...b,Oe]),g({...m,[Oe]:{style:{background:{light:"",dark:""}},content:""}}),c([...K.filter(Le=>Le.i!==fe.i),{i:Oe,x:De.x,y:De.y,w:Math.max(De.w,4),h:Math.max(De.h,3)}])},de=(K,fe)=>{const ke=K.startsWith("View")?"view":"render";g({...m,[K]:{...m[K],content:fe,widget:ke}}),G(!1)},le=K=>{I(K),b.includes(K)&&w(b.filter(fe=>fe!==K))},H=K=>{const fe=m[K];O.current=K,G(!0),setTimeout(()=>{fe!=null&&fe.content&&L.current&&(L.current.value=fe.content)},20)},I=K=>{c([...s.filter(fe=>fe.i!==K)]),g({...m,[K]:null}),G(!1)},P=()=>{const K=[];return o==null||o.workspace.iterateAllLeaves(fe=>{ka(fe)||K.push(fe)}),K.map(fe=>{const ke=fe==null?void 0:fe.view.getState(),De=fe==null?void 0:fe.view.getViewType();return{state:ke,type:De,title:fe.view.getDisplayText(),id:fe.id}})},z=()=>Object.keys(kc).filter(K=>kc[K].cost==="免费"||kc[K].cost==="付费").map(K=>({title:K,id:K,type:"widget",widget:kc[K]})),j={handleLayoutItemDelete:le,handleLayoutItemEdit:H},W=d.useMemo(()=>({margin:[4,4],cols:12,rowHeight:30}),[]);return X(ct,{children:[X("div",{className:"tv-flex tv-flex-row tv-w-full tv-h-full tv-gap-2",children:[X("div",{className:"tv-flex tv-flex-col tv-gap-2 tv-w-1/4",children:[N(yo,{className:"tv-text-sm",htmlFor:"file",children:"File Component"}),N(xs,{}),X("div",{id:"file",className:"tv-flex tv-flex-col tv-w-full tv-max-h-[1/2] tv-h-1/2",children:[N(o3,{emptyMessage:"No file found",options:k,value:E,onValueChange:se}),N("div",{className:"tv-flex tv-flex-col tv-gap-2 tv-overflow-scroll",children:b.length!==Q.length?Q.filter(K=>!b.includes(K)).map(K=>N("div",{className:"tv-p-2 tv-rounded-md tv-cursor-grab tv-bg-stone-100 tv-text-xs dark:tv-bg-stone-900 hover:tv-bg-zinc-200 dark:hover:tv-bg-accent",draggable:!0,unselectable:"on",onDragStart:fe=>{D(K),fe.dataTransfer.setData("text/plain",K)},children:K},K)):N("div",{className:we("tv-text-muted-foreground tv-text-xs"),children:E?"No headings any more":"Please select a file"})})]}),N(yo,{className:"tv-text-sm",htmlFor:"widget-group",children:"Widgets"}),N(xs,{}),N("div",{id:"widget-group",className:"tv-grid-cols-2 tv-grid tv-w-full tv-gap-2",children:["Render","View","Online"].map(K=>X("div",{className:"tv-w-full tv-flex tv-flex-row tv-justify-center tv-items-center tv-gap-1 tv-p-2 tv-rounded-md tv-cursor-grab tv-bg-stone-100 tv-text-xs dark:tv-bg-stone-700 hover:tv-bg-zinc-200 dark:hover:tv-bg-accent",draggable:!0,unselectable:"on",onDragStart:fe=>{D(K),fe.dataTransfer.setData("text/plain",K+"-"+Math.random().toString(36).substring(7)+"-widget")},children:[K==="Render"?N(V5,{size:16}):K==="Online"?N(A5,{size:16}):N(U5,{size:16}),K]},K))})]}),N("div",{className:"tv-min-h-full tv-max-h-full tv-w-full tv-flex tv-justify-center tv-items-start tv-overflow-scroll",children:N(u,{...W,className:we("layout","tv-min-h-full tv-min-w-full tv-w-fit tv-bg-zinc-50 dark:tv-bg-zinc-900"),layout:s,onLayoutChange:ne,onDrop:J,isDroppable:!0,resizeHandles:["se","sw","ne","nw"],droppingItem:{i:T,w:2,h:1},children:s.map(K=>{var fe,ke,De,Oe,Le,qe;return N("div",{className:"layout-item","data-grid":K,children:N(G_,{...j,content:(fe=m[K.i])!=null&&fe.content?(ke=m[K.i])==null?void 0:ke.content:void 0,widget:(De=m[K.i])!=null&&De.widget?(Oe=m[K.i])==null?void 0:Oe.widget:void 0,title:K.i,style:(Le=m[K.i])!=null&&Le.style?(qe=m[K.i])==null?void 0:qe.style:void 0,updateStyle:(ot,Nn)=>{var gt;g({...m,[K.i]:{...m[K.i],style:{...(gt=m[K.i])==null?void 0:gt.style,[ot]:Nn}}})}})},K.i)})})}),X("div",{className:"tv-flex tv-flex-col tv-gap-4 tv-justify-between tv-w-1/4 tv-ml-2 tv-mr-1 tv-mb-1",children:[X("div",{className:"tv-flex tv-flex-col tv-gap-4",children:[N(Ec,{id:"title",label:"Title*",defaultValue:(f==null?void 0:f.title)||"",placeholder:"Templify title",onInput:K=>{v({...f,title:K.target.value})}}),N(Ec,{id:"description",label:"Description",defaultValue:(f==null?void 0:f.description)||"",placeholder:"Templify description",onInput:K=>{v({...f,description:K.target.value})}}),N(Ec,{id:"type",label:"Type*",defaultValue:(f==null?void 0:f.type)||"",placeholder:"Templify type",onInput:K=>{v({...f,type:K.target.value})}}),N(Ec,{id:"thumbnails",label:"Thumbnails",defaultValue:(f==null?void 0:f.thumbnails)||"",placeholder:"Templify thumbnails",onInput:K=>{v({...f,thumbnails:K.target.value})}})]}),X("div",{className:"tv-flex tv-flex-row tv-gap-4",children:[X(ft,{className:"tv-rounded-md dark:tv-bg-stone-700 dark:tv-text-stone-100 hover:tv-bg-accent dark:hover:tv-bg-accent",variant:"default",size:"default",onClick:Y,children:[N(nx,{className:"tv-mr-2 tv-w-4"}),"Save"]}),X(ft,{className:"tv-rounded-md dark:tv-bg-stone-800 dark:tv-text-stone-100 hover:tv-bg-zinc-200 dark:hover:tv-bg-accent",variant:"secondary",size:"default",onClick:e,children:[N(n3,{className:"tv-mr-2 tv-w-4"}),"Cancel"]})]})]})]}),N(ja,{open:B,onOpenChange:K=>{var fe;G(K),!K&&!((fe=L.current)!=null&&fe.value)&&I(O.current),L.current&&(L.current.value="")},children:X(Do,{className:we((Z=O.current)!=null&&Z.contains("Online")?"!tv-top-[20vh]":"","sm:tv-max-w-[425px]"),children:[X(Ss,{children:[N(Ns,{children:O.current&&((ae=O.current)!=null&&ae.contains("Render"))?"Render content":O.current&&((ie=O.current)!=null&&ie.contains("Online"))?"Online widget selector":"View state"}),N(Ps,{children:O.current&&((te=O.current)!=null&&te.contains("Render"))?"Make changes to your widget content here. Click save when you're done.":O.current&&(($=O.current)!=null&&$.contains("Online"))?"Select a widget from the list and paste it here to embed whole widget.":"Copy view state and paste it here to embed whole view."})]}),X("div",{className:"tv-w-full tv-flex tv-flex-col tv-items-start tv-gap-4",children:[N(yo,{htmlFor:"content",className:"tv-text-sm tv-text-right",children:"Content"}),N(Gv,{className:we("tv-resize-none",O.current&&((oe=O.current)!=null&&oe.contains("Render"))?"tv-h-64":"tv-h-32"),ref:L,id:"content",placeholder:"Type your content here."}),M&&M.banner&&X("div",{className:"tv-flex tv-flex-col tv-items-start tv-w-full tv-h-36 tv-gap-2",children:[N(yo,{htmlFor:"preview",className:"tv-text-sm",children:"Preview"}),N("img",{alt:"widget",id:"preview",className:"tv-h-32 tv-max-w-full",src:M.banner?M.banner:""})]}),X("div",{className:"tv-flex tv-flex-col",children:[N("div",{className:"tv-flex tv-flex-row tv-text-sm tv-text-muted-foreground",children:O.current&&((xe=O.current)!=null&&xe.contains("Render"))?"You need to provide a content for this widget.":O.current&&((ye=O.current)!=null&&ye.contains("Online"))?"Paste your widget here or select existing widget from the dropdown.":"Paste your view state here or select existing view state from the dropdown."}),O.current&&((ve=O.current)==null?void 0:ve.contains("View"))&&X("div",{className:"tv-flex tv-flex-row tv-items-center tv-justify-between tv-w-full",children:[N("div",{className:"tv-text-sm",children:"View"}),X(ys,{onValueChange:K=>{try{const fe=JSON.parse(K);L.current.value=JSON.stringify({state:fe.state,type:fe.type})}catch{}},children:[N(Ra,{className:"!tv-w-36",children:N(ws,{placeholder:"Select view state"})}),N(_a,{children:N(bs,{children:P().map(K=>N(mn,{value:JSON.stringify(K),className:"tv-text-xs",children:K.title},K.title+K.id))})})]})]}),O.current&&((Me=O.current)==null?void 0:Me.contains("Online"))&&N(ct,{children:X("div",{className:"tv-flex tv-flex-row tv-items-center tv-justify-between tv-w-full",children:[N("div",{className:"tv-text-sm",children:"Online widget"}),X(ys,{onValueChange:K=>{const fe=JSON.parse(K),ke=fe==null?void 0:fe.widget;R(ke);const De=`<div style=" width: 100%; ${ke.iframe?ke.iframe+"px":"height: 400px"}; min-height: min-content;overflow: hidden; "><iframe src="https://widget.pkmer.cn/free/${fe.title}?user=94c3fa4d-807f-44c1-ae7e-b43a2f121680${ke.defaultConfig?"&"+ke.defaultConfig:""}" allow="fullscreen" style=" height: 100%; width: 100%;"></iframe></div>`;L.current.value=De},children:[N(Ra,{className:"!tv-w-48 ",children:N(ws,{placeholder:"Select online widget"})}),N(_a,{children:N(bs,{children:z().map(K=>N(mn,{value:JSON.stringify(K),className:"tv-flex tv-flex-row tv-items-center tv-justify-between tv-text-xs tv-w-full",children:N("div",{children:K.widget.name||K.title})},K.title+K.id))})})]})]})})]})]}),N(au,{children:N(ft,{className:"tv-rounded-md dark:tv-bg-stone-900 dark:tv-text-stone-100",onClick:()=>{de(O.current,L.current.value)},children:"Save changes"})})]})})]})}class Q_ extends ge.Modal{constructor(t,o,i,s){super(t);me(this,"plugin");me(this,"root");me(this,"cb");this.templateData=i,this.plugin=o,this.app=t,s&&(this.cb=s)}onOpen(){var o;super.onOpen();const{contentEl:t}=this;this.containerEl.addClass("templify-layout-editor-container"),this.root=Po.createRoot(t),this.root.render(N(Ae.StrictMode,{children:N(_s,{store:lt,context:At,children:N(X_,{closeModal:this.close.bind(this),initTemplateData:this.templateData,callbackFunction:(o=this.cb)==null?void 0:o.bind(this)})})}))}onClose(){super.onClose(),this.root.unmount()}}const Kc={en:{template:{templatePath:"",templateData:[{title:"Eisenhower Matrix Template",description:"A simple Eisenhower Matrix template for daily use",categories:[],content:"",thumbnails:"",type:"eisenhower-method",layout:[{style:{background:{light:"",dark:""},icon:"siren"},content:"",i:"Important and Urgent",x:0,y:0,w:6,h:10},{style:{background:{light:"",dark:""},icon:"megaphone"},content:"",i:"Important but Not Urgent",x:0,y:10,w:6,h:10},{style:{background:{light:"",dark:""},icon:"alarm"},content:"",i:"Not Important but Urgent",x:6,y:0,w:6,h:10},{style:{background:{light:"",dark:""},icon:"bell"},content:"",i:"Not Important and Not Urgent",x:6,y:10,w:6,h:10}],path:""},{title:"Cornell Note Template",description:"A simple Cornell Note template for daily use",categories:[],content:"",thumbnails:"",type:"cornell-note",layout:[{style:{background:{light:"",dark:""},icon:"zap"},content:"",i:"Ideas",x:0,y:0,w:5,h:6},{style:{background:{light:"",dark:""},icon:"message-square"},content:"",i:"Question",x:0,y:6,w:5,h:7},{style:{background:{light:"",dark:""},icon:"book-open"},content:"",i:"Note",x:5,y:0,w:7,h:13},{style:{background:{light:"",dark:""},icon:"align-justify"},content:"",i:"Summary",x:0,y:13,w:12,h:8}],path:""},{title:"KG Note Template",description:"A simple KG Note template for evergreen-note",categories:[],content:"",thumbnails:"",type:"kg-note-method",layout:[{style:{background:{light:"",dark:""},icon:"book-open"},content:"",i:"Main",x:0,y:0,w:7,h:13},{style:{background:{light:"",dark:""},icon:"tree-palm"},content:"",i:"Concept tree",x:0,y:13,w:7,h:8},{style:{background:{light:"",dark:""},icon:"link"},content:"",i:"Relative",x:7,y:0,w:5,h:5},{style:{background:{light:"",dark:""},icon:"diff"},content:"",i:"Comparison",x:7,y:5,w:5,h:5},{style:{background:{light:"",dark:""},icon:"hammer"},content:"",i:"Influence & Influenced by",x:7,y:10,w:5,h:5},{style:{background:{light:"",dark:""},icon:"sticker"},content:"",i:"Application",x:7,y:15,w:5,h:6}],path:""},{title:"Daily Note Template",description:"A basic daily note template",categories:[],content:"",thumbnails:"",type:"daily-note",layout:[{style:{background:{light:"",dark:""}},content:"",i:"How did I solve the problem at work today?",x:0,y:0,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"What made me happy/sad today?",x:6,y:0,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"What exercise did I do today?",x:0,y:6,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"What is my view of love today?",x:6,y:6,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"What did I gain today?",x:0,y:12,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"What did I learn today?",x:6,y:12,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"Who did I help today?",x:0,y:18,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"What is the most important thing today?",x:6,y:18,w:6,h:6}],path:""}]}},"zh-cn":{template:{templatePath:"",templateData:[{title:"四象限模板",description:"一个简单的四象限模板，用于日常使用",categories:[],content:"",thumbnails:"",type:"eisenhower-method",layout:[{style:{background:{light:"",dark:""},icon:"siren"},content:"",i:"重要且紧急",x:0,y:0,w:6,h:10},{style:{background:{light:"",dark:""},icon:"megaphone"},content:"",i:"重要但不紧急",x:0,y:10,w:6,h:10},{style:{background:{light:"",dark:""},icon:"alarm"},content:"",i:"不重要但紧急",x:6,y:0,w:6,h:10},{style:{background:{light:"",dark:""},icon:"bell"},content:"",i:"不重要且不紧急",x:6,y:10,w:6,h:10}],path:""},{title:"康奈尔笔记模板",description:"一个简单的康奈尔笔记模板，用于日常使用",categories:[],content:"",thumbnails:"",type:"cornell-note",layout:[{style:{background:{light:"",dark:""},icon:"zap"},content:"",i:"想法",x:0,y:0,w:5,h:6},{style:{background:{light:"",dark:""},icon:"message-square"},content:"",i:"问题",x:0,y:6,w:5,h:7},{style:{background:{light:"",dark:""},icon:"book-open"},content:"",i:"笔记",x:5,y:0,w:7,h:13},{style:{background:{light:"",dark:""},icon:"align-justify"},content:"",i:"总结",x:0,y:13,w:12,h:8}],path:""},{title:"KG 笔记模板",description:"一个简单的 KG 笔记模板，用于日常使用",categories:[],content:"",thumbnails:"",type:"kg-note-method",layout:[{style:{background:{light:"",dark:""},icon:"book-open"},content:"",i:"主要内容",x:0,y:0,w:7,h:13},{style:{background:{light:"",dark:""},icon:"tree-palm"},content:"",i:"概念树",x:0,y:13,w:7,h:8},{style:{background:{light:"",dark:""},icon:"link"},content:"",i:"相关",x:7,y:0,w:5,h:5},{style:{background:{light:"",dark:""},icon:"diff"},content:"",i:"比较",x:7,y:5,w:5,h:5},{style:{background:{light:"",dark:""},icon:"hammer"},content:"",i:"影响 & 被影响",x:7,y:10,w:5,h:5},{style:{background:{light:"",dark:""},icon:"sticker"},content:"",i:"应用 & 被应用",x:7,y:15,w:5,h:6}],path:""},{title:"每日笔记模板",description:"一个基本的每日笔记模板",categories:[],content:"",thumbnails:"",type:"daily-note",layout:[{style:{background:{light:"",dark:""}},content:"",i:"工作中遇到了什么问题，如何解决的？",x:0,y:0,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"今天什么让我感到了快乐/难过的？",x:6,y:0,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"今天做了什么运动？",x:0,y:6,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"今天的爱情观是什么？",x:6,y:6,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"今天的收获是什么？",x:0,y:12,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"今天学到了什么？",x:6,y:12,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"今天帮助了谁？",x:0,y:18,w:6,h:6},{style:{background:{light:"",dark:""}},content:"",i:"今天最重要的事情是什么？",x:6,y:18,w:6,h:6}],path:""}]}}},Z_={light:{"Important and Urgent":"tv-bg-rose-50/90","Important but Not Urgent":"tv-bg-amber-50/90","Not Important but Urgent":"tv-bg-sky-50/90","Not Important and Not Urgent":"tv-bg-zinc-50/90",Ideas:"tv-bg-rose-50",Note:"tv-bg-stone-50",Question:"tv-bg-indigo-50",Summary:"tv-bg-sky-50",Main:"tv-bg-red-50",Relative:"tv-bg-amber-50",Comparison:"tv-bg-blue-50","Influence & Influenced by":"tv-bg-green-50","Concept tree":"tv-bg-purple-50",Application:"tv-bg-rose-50",重要且紧急:"tv-bg-rose-50/90",重要但不紧急:"tv-bg-amber-50/90",不重要但紧急:"tv-bg-sky-50/90",不重要且不紧急:"tv-bg-zinc-50/90",想法:"tv-bg-rose-50",笔记:"tv-bg-stone-50",问题:"tv-bg-indigo-50",总结:"tv-bg-sky-50",主要内容:"tv-bg-red-50",相关:"tv-bg-amber-50",比较:"tv-bg-blue-50","影响 & 被影响":"tv-bg-green-50",概念树:"tv-bg-purple-50","应用 & 被应用":"tv-bg-rose-50"},dark:{"Important and Urgent":"tv-border-red-900","Important but Not Urgent":"tv-border-amber-900","Not Important but Urgent":"tv-border-blue-900","Not Important and Not Urgent":"tv-border-green-900",Ideas:"tv-border-red-900",Note:"tv-border-amber-900",Question:"tv-border-indigo-900",Summary:"tv-border-sky-900",Main:"tv-border-red-900",Relative:"tv-border-amber-900",Comparison:"tv-border-blue-900","Influence & Influenced by":"tv-border-green-900","Concept tree":"tv-border-purple-900",Application:"tv-border-rose-900",重要且紧急:"tv-border-red-900",重要但不紧急:"tv-border-amber-900",不重要但紧急:"tv-border-blue-900",不重要且不紧急:"tv-border-green-900",想法:"tv-border-red-900",笔记:"tv-border-amber-900",问题:"tv-border-blue-900",总结:"tv-border-green-900",主要内容:"tv-border-red-900",相关:"tv-border-amber-900",比较:"tv-border-blue-900","影响 & 被影响":"tv-border-green-900",概念树:"tv-border-purple-900","应用 & 被应用":"tv-border-rose-900"}},J_={siren:N(J5,{size:18}),megaphone:N(Y5,{size:18}),alarm:N(R5,{size:18}),bell:N(L5,{size:18}),zap:N(r3,{size:18}),"message-square":N(K5,{size:18}),"align-justify":N(_5,{size:18}),"book-open":N(z5,{size:18}),"tree-palm":N(X5,{size:18}),link:N(G5,{size:18}),diff:N(j5,{size:18}),hammer:N($5,{size:18}),sticker:N(e3,{size:18})},e4=({paperLike:e,title:n,icon:t})=>X("div",{className:we("templify-editor-header tv-flex tv-flex-row tv-items-center tv-justify-start tv-gap-2 tv-h-8 tv-text-lg tv-font-bold tv-border-b tv-border-solid tv-border-x-0 tv-border-t-0 tv-overflow-hidden tv-text-ellipsis tv-whitespace-nowrap tv-text-[var(--text-normal)] tv-font-basic",e?"tv-border-b-stone-400 dark:tv-border-b-stone-700":"tv-border-b-stone-180 dark:tv-border-b-stone-800"),children:[t?N("span",{className:we("templify-editor-header-icon","tv-flex tv-items-center tv-p-[2px] tv-rounded-xs tv-text-muted-foreground hover:tv-bg-secondary"),children:J_[t]}):null,n]},n),t4=e=>{const{globalState:{app:n}}=d.useContext(At),[t,o]=d.useState("Sunny"),[i,s]=d.useState("Happy"),[c,u]=d.useState(null);return d.useEffect(()=>{u(n.vault.getFileByPath(e.file))},[]),d.useEffect(()=>{var v,m;if(!n||!c)return;const f=n.metadataCache.getFileCache(c);(v=f==null?void 0:f.frontmatter)!=null&&v.weather&&o(f.frontmatter.weather),(m=f==null?void 0:f.frontmatter)!=null&&m.mood&&s(f.frontmatter.mood)},[c]),d.useEffect(()=>{!n||!c||n.fileManager.processFrontMatter(c,f=>{t&&(f.weather=t),i&&(f.mood=i)})},[t,i]),X("div",{className:"tv-flex tv-flex-row tv-justify-between tv-h-16",children:[X("div",{className:"tv-flex tv-flex-row tv-items-center tv-font-sans tv-font-bold ",children:[N("div",{className:"tv-flex tv-flex-col tv-mr-1",children:N("div",{className:"tv-text-xl",children:ge.moment().format("DD")})}),X("div",{className:"tv-flex tv-flex-col",children:[N("div",{className:"tv-text-sm",children:ge.moment().format("YYYY.MM")}),N("div",{className:"tv-text-sm",children:ge.moment().local().format("ddd")})]})]}),X("div",{className:"tv-flex tv-flex-row tv-items-center tv-gap-2",children:[X(Fc,{children:[N(jc,{asChild:!0,children:N(ft,{"aria-label":"weather",variant:"ghost",size:"icon",className:"tv-p-2 tv-shadow-none tv-font-bold tv-bg-zinc-200 dark:tv-bg-zinc-600",children:Hc[t]})}),N(us,{children:["Sunny","Rainy","Cloudy","Snowy"].map((f,v)=>X(ds,{onClick:()=>{o(f)},children:[Hc[f]," ",f]}))})]}),X(Fc,{children:[N(jc,{asChild:!0,children:N(ft,{"aria-label":"mood",variant:"ghost",size:"icon",className:"tv-p-2 tv-shadow-none tv-font-bold tv-bg-zinc-200 dark:tv-bg-zinc-600",children:Bc[i]})}),N(us,{children:["Happy","Sad","Angry","Excited"].map((f,v)=>X(ds,{onClick:()=>{s(f)},children:[Bc[f]," ",f]}))})]})]})]})},n4=({view:e,file:n,type:t})=>{var de,le;const{globalState:{app:o,plugin:i,settings:s,editingFile:c,modifiedBySelf:u,lightOrDarkMode:f}}=d.useContext(At),v=s.template.templateData.find(H=>H.type===t),[m,g]=d.useState(v),b=d.useMemo(()=>Iv.WidthProvider(N1),[]),w=d.useRef(null),[k,x]=d.useState({}),E=d.useRef([]),C=d.useRef(null),T=d.useRef([]),D=d.useRef([]),O=d.useRef([]);d.useEffect(()=>{m&&(T.current=m.layout.filter(H=>!H.widget).sort((H,I)=>H.y-I.y||H.x-I.x).map(H=>H.i),D.current=m.layout.map(H=>({...H,static:!0})),O.current=m.layout.filter(H=>H.widget!==void 0))},[JSON.stringify(m==null?void 0:m.layout)]),d.useEffect(()=>{if(!s)return;const H=s.template.templateData.find(I=>I.type===t);JSON.stringify(m)!==JSON.stringify(H)&&g(H)},[s.template.templateData]),d.useEffect(()=>{c&&(c==null?void 0:c.path)===n&&(w.current=c,M())},[c,(le=(de=w.current)==null?void 0:de.stat)==null?void 0:le.mtime]),d.useEffect(()=>{if(!n||!o)return;const H=o.metadataCache.getFirstLinkpathDest(n,n);H&&(w.current=H)},[n]),d.useEffect(()=>{w.current&&M()},[w.current,JSON.stringify(m)]);const M=async()=>{if(!w.current)return;const H=await o.vault.read(w.current),{contents:I}=yS(H);let P={};await o.fileManager.processFrontMatter(w.current,z=>{P=z,x(P)}),E.current=I},R=(H,I)=>{E.current=E.current.map(P=>P.title===H?{...P,content:I}:P)},L=ge.debounce(async(H,I)=>{if(!u)try{Ke.setEditingFile(null),Ke.setModifiedBySelf(!0),await o.vault.modify(H,I),Ke.setEditingFile(H)}catch{}},1e3,!0),B=(H,I)=>{const P=T.current;let z="";for(let j=0;j<P.length;j++){const W=E.current.find(Z=>Z.title===P[j]);P[j]===H?z+=`# ${P[j]}
${I}`:z+=`# ${P[j]}
${W.content}`}z=`---
${Object.entries(k).map(([j,W])=>`${j}: ${W}`).join(`
`)}
---

${z}`,R(H,I),L(w.current,z)},G=()=>{var P;if(!E.current.length)return!1;const H=(P=[...E.current].map(z=>z.title))==null?void 0:P.sort((z,j)=>z.localeCompare(j)),I=[...T.current].sort((z,j)=>z.localeCompare(j));return JSON.stringify(H)!==JSON.stringify(I)?(new ge.Notice("The header of the file is not correct. Please check the file and make sure the header is correct."),!1):JSON.stringify(H)!==JSON.stringify(I)},Q=d.useMemo(()=>({view:e,file:w.current}),[e,w.current,B,JSON.stringify(E.current)]),re=H=>{var P,z,j,W;const I=(P=m.layout.find(Z=>Z.i===H.title))==null?void 0:P.style;return X("div",{"data-content-target":H.title,style:{backgroundColor:I!=null&&I.background&&((z=I==null?void 0:I.background)==null?void 0:z[f])!==""?`${(j=I==null?void 0:I.background)==null?void 0:j[f]}`:"",color:I!=null&&I.fontColor?`${(W=I==null?void 0:I.fontColor)==null?void 0:W[f]}`:""},className:we("templify-editor-container tv-bg-background tv-text-muted-foreground tv-flex tv-flex-col tv-border tv-border-solid tv-p-2 tv-pt-1 tv-rounded-md tv-overflow-hidden",`tv-text-${(I==null?void 0:I.fontSize)||"xs"} tv-font-${I!=null&&I.fontFamily?(I==null?void 0:I.fontFamily)==="sans-serif"?"serif":(I==null?void 0:I.fontFamily)==="monospace"?"mono":"sans":"basic"}`,f==="dark"?"tv-border-2":"tv-border-stone-300",s.theme.paperLike?"tv-bg-paper tv-bg-blend-normal tv-backdrop-blur-paper":"",Z_[f][H.title]),"data-grid":D.current.find(Z=>Z.i===H.title),children:[N(e4,{paperLike:s.theme.paperLike,title:H.title,icon:I==null?void 0:I.icon}),N(hD,{...Q,type:H.title,defaultValue:H.content,updateContent:B})]},H.title)},Y=(H,I,P)=>X("div",{className:we("tv-w-full tv-h-full tv-flex-col tv-flex tv-p-2 tv-rounded-md tv-bg-stone-100 dark:tv-bg-stone-800 tv-text-muted-foreground tv-overflow-hidden tv-text-ellipsis tv-whitespace-nowrap",`templify-${P}-component`),children:[I&&P==="render"&&N(P1,{content:I,path:n,container:e.containerEl}),I&&P==="view"&&N(Av,{state:I})]},H),se=d.useMemo(()=>({margin:[4,4],cols:12,rowHeight:40}),[]),ne=H=>{H.stopPropagation()},J=d.useMemo(()=>{var H;return X("div",{ref:C,"data-templify-mode":m.type,"date-templify":"file","data-path":((H=w.current)==null?void 0:H.path)||n,"data-templify-type":m.type,className:we("templify-note-container tv-flex tv-flex-col tv-h-full tv-w-full tv-gap-2 tv-p-4 tv-pt-2","tv-pattern-boxes tv-pattern-stone-100 dark:tv-pattern-stone-800 dark:tv-pattern-bg-zinc-900 tv-pattern-bg-white tv-pattern-size-8 tv-pattern-opacity-100"),children:[v.type==="daily-note"&&N(t4,{file:n}),G()&&N("div",{className:"tv-w-full tv-h-full tv-flex tv-flex-col tv-justify-center tv-items-center",children:N(Gc,{className:"tv-w-96",children:X(Yc,{children:[N(T1,{children:N(D1,{children:"Oops! The header of the file is not correct. Please check the file and make sure the header is correct."})}),X("div",{className:"tv-flex tv-flex-row tv-items-center tv-justify-between tv-mb-4",children:[N(yo,{children:"Try other Templify?"}),X(ys,{value:m.type,onValueChange:I=>{const P=s.template.templateData.find(z=>z.type===I);g(P),G()&&w.current&&o.fileManager.processFrontMatter(w.current,z=>{z.templify&&(z.templify=I,e.setState({viewType:I,file:w.current.path},{history:!1}))})},children:[N(Ra,{onMouseDown:ne,onTouchStart:ne,className:"!tv-w-36",children:N(ws,{placeholder:"Select existing type"})}),N(_a,{className:"tv-w-36 tv-text-sm",onMouseDown:ne,onTouchStart:ne,children:N(bs,{children:s.template.templateData.map(I=>N(mn,{value:I.type,children:I.type},I.type))})})]})]}),X("div",{className:"tv-flex tv-flex-row tv-items-center tv-justify-between tv-text-lg tv-font-bold tv-text-muted-foreground tv-font-sans tv-text-center",children:[N(ft,{onClick:()=>{new Q_(o,i,{...m,type:`${m.type}-copy`,path:n,layout:m.layout.filter(P=>E.current.find(z=>z.title===P.i))},P=>{w.current&&o.fileManager.processFrontMatter(w.current,z=>{z.templify&&(z.templify=P.type,e.setState({viewType:P.type,file:w.current.path},{history:!1}))})}).open()},children:"Save as new templify file"}),X(ft,{variant:"secondary",onClick:()=>{const I=o.workspace.getActiveViewOfType(An);I&&(i.templifyFileModes[I.leaf.id||n]="markdown",i.setMarkdownView(I.leaf))},children:["Modify the file"," "]})]})]})})}),!G()&&X(b,{...se,className:we("layout templify-wrapper","tv-min-h-full tv-w-full !tv-opacity-100"),layout:D.current,isDroppable:!1,isResizable:!1,children:[E.current.map(I=>re(I)),O.current.map(I=>Y(I.i,I.content,I.widget))]})]})},[f,JSON.stringify(s),JSON.stringify(m),w.current,E.current,D.current,O.current,se]);return N(ct,{children:J})},r4=d.memo(n4),o4=({path:e,view:n,type:t})=>N(ct,{children:N(r4,{file:e,view:n,type:t})}),a4={},i4={},s4={},l4={},Zx={basic:{welcome:"Welcome"},display:{ribbon:"Templify Market",market:{title:"Templify Market"},commands:{openTemplifyMarket:"Open templify market",createBlankCacheArea:"Create blank cache area",createCornellCacheArea:"Create Cornell cache area",createDailyCacheArea:"Create daily cache area",createEisenhowerCacheArea:"Create Eisenhower cache area",embedViewIntoCurrentNote:"Embed view into current note",focusOnLastCacheArea:"Focus on last cache area",createNewBlankCacheAreaFromClipboard:"Create new blank cache area from clipboard",createNewBlankCacheAreaFromFile:"Create new blank cache area from file",appendCurrentSelectionToCacheArea:"Append current selection to cache area",clearAllCacheAreas:"Clear all cache areas",copyAllCacheAreasToClipboard:"Copy all cache areas to clipboard",toggleBetweenTemplifyFileAndRawFile:"Toggle between Templify file and raw file",createNew:{prefix:"Create new ",suffix:"..."}},menu:{copyState:"Copy Templify embed",toRaw:"Open in markdown mode",toTemplify:"Open in Templify mode"},action:{marketSettings:"Templify settings"},notice:{importSuccessfully:"Import successfully",importFailed:"Import failed",restoreSuccessfully:"Restore successfully",exportSuccessfully:"Exported to clipboard successfully"}},setting:{general:{name:"General",enableCacheArea:{name:"Enable cache area",desc:"Enable cache area functionality"},customSavePath:{name:"Custom save path",desc:"If empty, save to root directory"}},theme:{name:"Theme",hideEmbeddedViewHeader:{name:"Hide embedded view header",desc:"Toggle card action header visibility."},paperLike:{name:"Paper-like",desc:"Toggle paper-like background."}},templify:{name:"Templify",inlineEmbedded:{name:"Templify inline embedded",desc:"Toggle whether to inline embed into current note"}},advanced:{name:"Advanced"},share:{name:"Share"},other:{searchSettings:"Search settings..."}},market:{header:{import:"Import",export:"Export",newTemplifyNote:"New templify note",restore:"Restore",confirmRestore:"Confirm restore"},content:{createNew:"Create new",filterPlaceholder:"Filter templates...",filesFilterPlaceholder:"Filter files...",searchSuggestions:"Search suggestions",templateType:"Type",templateDescription:"Desc",switchToFile:"Recent files",switchToTemplate:"Templates market",modifiedTime:"Modified time"},special:{blank:"Blank"},contextMenu:{edit:"Edit",delete:"Delete",copy:"Copy",rename:"Rename",deleteFile:"Delete file"},dialog:{importDataName:"Import template data",importDataDesc:"Paste data into here",saveButton:"Save",pasteDataHere:"Paste data here"}}},c4={},u4={},d4={},f4={},p4={},v4={},h4={},m4={},g4={},y4={},b4={},w4={},x4={},k4={},E4={},C4={},S4={basic:{welcome:"欢迎"},display:{ribbon:"Templify 市场",market:{title:"Templify 市场"},commands:{openTemplifyMarket:"打开 Templify 市场",createBlankCacheArea:"创建临时的空白笔记",createCornellCacheArea:"创建临时的康奈尔笔记",createDailyCacheArea:"创建临时的每日笔记",createEisenhowerCacheArea:"创建临时的四象限笔记",embedViewIntoCurrentNote:"嵌入视图到当前笔记",focusOnLastCacheArea:"聚焦到最后的临时笔记",createNewBlankCacheAreaFromClipboard:"从剪贴板创建新的临时空白笔记",createNewBlankCacheAreaFromFile:"从文件创建新的临时空白笔记",appendCurrentSelectionToCacheArea:"将当前选择追加到临时笔记",clearAllCacheAreas:"清除所有临时笔记",copyAllCacheAreasToClipboard:"复制所有临时笔记到剪贴板",toggleBetweenTemplifyFileAndRawFile:"在 Templify 文件和原始文件之间切换",createNew:{prefix:"创建新的",suffix:"..."}},menu:{copyState:"复制 Templify 嵌入",toRaw:"打开为 Markdown 文件",toTemplify:"打开为 Templify 文件"},action:{marketSettings:"Templify 设置"},notice:{importSuccessfully:"导入成功",importFailed:"导入失败",restoreSuccessfully:"恢复成功",exportSuccessfully:"成功导出到剪贴板"}},setting:{general:{name:"通用",customSavePath:{name:"自定义保存路径",desc:"如果为空，则保存到根目录下"},enableCacheArea:{name:"启用临时笔记",desc:"启用临时笔记功能"}},theme:{name:"主题",hideEmbeddedViewHeader:{name:"隐藏嵌入视图标题",desc:"切换隐藏与否"},paperLike:{name:"纸张背景",desc:"切换纸张背景"}},templify:{name:"Templify",inlineEmbedded:{name:"Templify 行内嵌入",desc:"切换是否行嵌入到当前笔记"}},advanced:{name:"高级"},share:{name:"分享"},other:{searchSettings:"搜索设置..."}},market:{header:{import:"导入",export:"导出",newTemplifyNote:"创建 Templify 笔记",restore:"恢复",confirmRestore:"确认恢复"},content:{createNew:"创建新的模板",filterPlaceholder:"过滤模板...",filesFilterPlaceholder:"过滤文件...",searchSuggestions:"搜索建议",templateType:"类型",templateDescription:"描述",switchToFile:"最近文件",switchToTemplate:"市场模板",modifiedTime:"修改时间"},special:{blank:"空白"},contextMenu:{edit:"编辑模板",delete:"删除模板",copy:"复制模板",rename:"重命名文件",deleteFile:"删除文件"},dialog:{importDataName:"导入模板数据",importDataDesc:"将数据导入到 Templify",pasteDataHere:"在此粘贴数据",saveButton:"保存"}}},N4={},P4={ar:a4,cs:i4,da:s4,de:l4,en:Zx,"en-gb":c4,es:u4,fr:d4,hi:f4,id:p4,it:v4,ja:h4,ko:m4,nl:g4,nn:y4,pl:b4,pt:w4,"pt-br":x4,ro:k4,ru:E4,tr:C4,"zh-cn":S4,"zh-tw":N4},T4=P4[ge.moment.locale()];function Jx(e,n){return new Proxy(e,{get(t,o){return typeof t[o]=="object"&&t[o]!==null?Jx(t[o],n[o]):t[o]||n[o]}})}const Ce=Jx(T4||{},Zx),Fn="templify-file-view";class An extends ge.EditableFileView{constructor(t,o){super(t);me(this,"scope",new ge.Scope(this.app.scope));me(this,"root");me(this,"viewType");me(this,"filePath");me(this,"editor",null);me(this,"plugin");this.viewType="blank",this.filePath="",this.plugin=o}getViewType(){return Fn}getDisplayText(){return"Templify File"}getIcon(){return"sticky-note"}getMode(){return"templify"}async onRename(t){this.filePath=t.path,this.file=t,await this.setState({...this.getState(),file:t.path},{history:!1}),this.updateHeader()}onUnloadFile(t){var o;return(o=this.root)==null||o.unmount(),super.onUnloadFile(t)}initializeScopeEvent(){const{scope:t}=this;t.register(["Mod"],"s",()=>{})}updateTitleBreadcrumbs(){var o,i;this.titleParentEl.empty();const t=(i=(o=this.file)==null?void 0:o.parent)==null?void 0:i.path;if(t&&t!=="/"){const s=t.split("/");s.forEach((c,u)=>{const f=s.slice(0,u+1).join("/");this.titleParentEl.createSpan({cls:"view-header-breadcrumb",text:c}).addEventListener("click",()=>{const m=this.app.internalPlugins.getEnabledPluginById("file-explorer");if(m){const g=this.app.vault.getAbstractFileByPath(f);g&&m.revealInFolder(g)}}),this.titleParentEl.createSpan({cls:"view-header-breadcrumb-separator",text:"/"})})}}updateHeader(){this.titleEl.setText(this.file.basename),this.leaf.updateHeader(),setTimeout(()=>{this.leaf.tabHeaderInnerTitleEl.setText(this.file.basename)},20),this.updateTitleBreadcrumbs(),this.titleEl.onclick=()=>{this.app.fileManager.promptForFileRename(this.file)}}async renderApp(){if(this.file=this.app.metadataCache.getFirstLinkpathDest(this.filePath,this.filePath),!!this.file){this.updateHeader();try{this.root=Po.createRoot(this.contentEl),this.root.render(N(Ae.StrictMode,{children:N(_s,{store:lt,context:At,children:N(o4,{path:this.filePath,view:this,type:this.viewType})})}))}catch{}}}async setState(t,o){t&&typeof t=="object"&&"viewType"in t&&(this.viewType=t.viewType,this.filePath=t.file,await this.renderApp()),await super.setState(t,o)}getState(){return{file:this.filePath,viewType:this.viewType}}onPaneMenu(t,o){t.addItem(i=>{var s,c;(c=(s=i.setTitle(Ce.display.menu.toRaw).setIcon("sticky-note").onClick(async()=>{this.plugin.templifyFileModes[this.leaf.id||this.filePath]="markdown",await this.plugin.setMarkdownView(this.leaf)})).setSection)==null||c.call(s,"pane")}),super.onPaneMenu(t,o)}async onOpen(){var o;this.initializeScopeEvent();const t=(o=this.getState())==null?void 0:o.viewType;t&&(this.viewType=t,this.app.workspace.requestSaveLayout()),this.contentEl.toggleClass("templify",!0),this.addAction("scroll",Ce.display.menu.toRaw,()=>{this.plugin.app.commands.executeCommandById("templify:toggle-templify-view")})}onunload(){var t;super.onunload(),(t=this.root)==null||t.unmount()}}let tp;const ek="HoverCard",[tk,J8]=En(ek,[Jn]),Yv=Jn(),[D4,Kv]=tk(ek),O4=e=>{const{__scopeHoverCard:n,children:t,open:o,defaultOpen:i,onOpenChange:s,openDelay:c=700,closeDelay:u=300}=e,f=Yv(n),v=d.useRef(0),m=d.useRef(0),g=d.useRef(!1),b=d.useRef(!1),[w=!1,k]=vr({prop:o,defaultProp:i,onChange:s}),x=d.useCallback(()=>{clearTimeout(m.current),v.current=window.setTimeout(()=>k(!0),c)},[c,k]),E=d.useCallback(()=>{clearTimeout(v.current),!g.current&&!b.current&&(m.current=window.setTimeout(()=>k(!1),u))},[u,k]),C=d.useCallback(()=>k(!1),[k]);return d.useEffect(()=>()=>{clearTimeout(v.current),clearTimeout(m.current)},[]),d.createElement(D4,{scope:n,open:w,onOpenChange:k,onOpen:x,onClose:E,onDismiss:C,hasSelectionRef:g,isPointerDownOnContentRef:b},d.createElement(Ds,f,t))},M4="HoverCardTrigger",R4=d.forwardRef((e,n)=>{const{__scopeHoverCard:t,...o}=e,i=Kv(M4,t),s=Yv(t);return d.createElement(Os,ee({asChild:!0},s),d.createElement(Be.a,ee({"data-state":i.open?"open":"closed"},o,{ref:n,onPointerEnter:be(e.onPointerEnter,Xc(i.onOpen)),onPointerLeave:be(e.onPointerLeave,Xc(i.onClose)),onFocus:be(e.onFocus,i.onOpen),onBlur:be(e.onBlur,i.onClose),onTouchStart:be(e.onTouchStart,c=>c.preventDefault())})))}),_4="HoverCardPortal",[ez,L4]=tk(_4,{forceMount:void 0}),Ap="HoverCardContent",z4=d.forwardRef((e,n)=>{const t=L4(Ap,e.__scopeHoverCard),{forceMount:o=t.forceMount,...i}=e,s=Kv(Ap,e.__scopeHoverCard);return d.createElement(cn,{present:o||s.open},d.createElement(I4,ee({"data-state":s.open?"open":"closed"},i,{onPointerEnter:be(e.onPointerEnter,Xc(s.onOpen)),onPointerLeave:be(e.onPointerLeave,Xc(s.onClose)),ref:n})))}),I4=d.forwardRef((e,n)=>{const{__scopeHoverCard:t,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:c,...u}=e,f=Kv(Ap,t),v=Yv(t),m=d.useRef(null),g=Qe(n,m),[b,w]=d.useState(!1);return d.useEffect(()=>{if(b){const k=document.body;return tp=k.style.userSelect||k.style.webkitUserSelect,k.style.userSelect="none",k.style.webkitUserSelect="none",()=>{k.style.userSelect=tp,k.style.webkitUserSelect=tp}}},[b]),d.useEffect(()=>{if(m.current){const k=()=>{w(!1),f.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var x;((x=document.getSelection())===null||x===void 0?void 0:x.toString())!==""&&(f.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",k),()=>{document.removeEventListener("pointerup",k),f.hasSelectionRef.current=!1,f.isPointerDownOnContentRef.current=!1}}},[f.isPointerDownOnContentRef,f.hasSelectionRef]),d.useEffect(()=>{m.current&&A4(m.current).forEach(x=>x.setAttribute("tabindex","-1"))}),d.createElement(Fa,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:c,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:be(s,k=>{k.preventDefault()}),onDismiss:f.onDismiss},d.createElement(Ms,ee({},v,u,{onPointerDown:be(u.onPointerDown,k=>{k.currentTarget.contains(k.target)&&w(!0),f.hasSelectionRef.current=!1,f.isPointerDownOnContentRef.current=!0}),ref:g,style:{...u.style,userSelect:b?"text":void 0,WebkitUserSelect:b?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})))});function Xc(e){return n=>n.pointerType==="touch"?void 0:e()}function A4(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)n.push(t.currentNode);return n}const F4=O4,j4=R4,nk=z4,H4=F4,B4=j4,rk=d.forwardRef(({className:e,align:n="center",sideOffset:t=4,...o},i)=>N(nk,{ref:i,align:n,sideOffset:t,className:we("tv-z-50 tv-w-64 tv-rounded-md tv-border tv-bg-popover tv-p-4 tv-text-popover-foreground tv-shadow-md tv-outline-none data-[state=open]:tv-animate-in data-[state=closed]:tv-animate-out data-[state=closed]:tv-fade-out-0 data-[state=open]:tv-fade-in-0 data-[state=closed]:tv-zoom-out-95 data-[state=open]:tv-zoom-in-95 data-[side=bottom]:tv-slide-in-from-top-2 data-[side=left]:tv-slide-in-from-right-2 data-[side=right]:tv-slide-in-from-left-2 data-[side=top]:tv-slide-in-from-bottom-2",e),...o}));rk.displayName=nk.displayName;var $e={};Object.defineProperty($e,"__esModule",{value:!0});var ut=ge;const Fp="YYYY-MM-DD",jp="gggg-[W]ww",ok="YYYY-MM",ak="YYYY-[Q]Q",ik="YYYY";function Hs(e){var t,o;const n=window.app.plugins.getPlugin("periodic-notes");return n&&((o=(t=n.settings)==null?void 0:t[e])==null?void 0:o.enabled)}function Bs(){var e,n,t,o;try{const{internalPlugins:i,plugins:s}=window.app;if(Hs("daily")){const{format:v,folder:m,template:g}=((n=(e=s.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:n.daily)||{};return{format:v||Fp,folder:(m==null?void 0:m.trim())||"",template:(g==null?void 0:g.trim())||""}}const{folder:c,format:u,template:f}=((o=(t=i.getPluginById("daily-notes"))==null?void 0:t.instance)==null?void 0:o.options)||{};return{format:u||Fp,folder:(c==null?void 0:c.trim())||"",template:(f==null?void 0:f.trim())||""}}catch{}}function Ws(){var e,n,t,o,i,s,c;try{const u=window.app.plugins,f=(e=u.getPlugin("calendar"))==null?void 0:e.options,v=(t=(n=u.getPlugin("periodic-notes"))==null?void 0:n.settings)==null?void 0:t.weekly;if(Hs("weekly"))return{format:v.format||jp,folder:((o=v.folder)==null?void 0:o.trim())||"",template:((i=v.template)==null?void 0:i.trim())||""};const m=f||{};return{format:m.weeklyNoteFormat||jp,folder:((s=m.weeklyNoteFolder)==null?void 0:s.trim())||"",template:((c=m.weeklyNoteTemplate)==null?void 0:c.trim())||""}}catch{}}function Vs(){var n,t,o,i;const e=window.app.plugins;try{const s=Hs("monthly")&&((t=(n=e.getPlugin("periodic-notes"))==null?void 0:n.settings)==null?void 0:t.monthly)||{};return{format:s.format||ok,folder:((o=s.folder)==null?void 0:o.trim())||"",template:((i=s.template)==null?void 0:i.trim())||""}}catch{}}function $s(){var n,t,o,i;const e=window.app.plugins;try{const s=Hs("quarterly")&&((t=(n=e.getPlugin("periodic-notes"))==null?void 0:n.settings)==null?void 0:t.quarterly)||{};return{format:s.format||ak,folder:((o=s.folder)==null?void 0:o.trim())||"",template:((i=s.template)==null?void 0:i.trim())||""}}catch{}}function Us(){var n,t,o,i;const e=window.app.plugins;try{const s=Hs("yearly")&&((t=(n=e.getPlugin("periodic-notes"))==null?void 0:n.settings)==null?void 0:t.yearly)||{};return{format:s.format||ik,folder:((o=s.folder)==null?void 0:o.trim())||"",template:((i=s.template)==null?void 0:i.trim())||""}}catch{}}function sk(...e){let n=[];for(let o=0,i=e.length;o<i;o++)n=n.concat(e[o].split("/"));const t=[];for(let o=0,i=n.length;o<i;o++){const s=n[o];!s||s==="."||t.push(s)}return n[0]===""&&t.unshift(""),t.join("/")}function W4(e){let n=e.substring(e.lastIndexOf("/")+1);return n.lastIndexOf(".")!=-1&&(n=n.substring(0,n.lastIndexOf("."))),n}async function V4(e){const n=e.replace(/\\/g,"/").split("/");if(n.pop(),n.length){const t=sk(...n);window.app.vault.getAbstractFileByPath(t)||await window.app.vault.createFolder(t)}}async function qs(e,n){n.endsWith(".md")||(n+=".md");const t=ut.normalizePath(sk(e,n));return await V4(t),t}async function qa(e){const{metadataCache:n,vault:t}=window.app,o=ut.normalizePath(e);if(o==="/")return Promise.resolve(["",null]);try{const i=n.getFirstLinkpathDest(o,""),s=await t.cachedRead(i),c=window.app.foldManager.load(i);return[s,c]}catch{return new ut.Notice("Failed to read the daily note template"),["",null]}}function Bn(e,n="day"){const t=e.clone().startOf(n).format();return`${n}-${t}`}function lk(e){return e.replace(/\[[^\]]*\]/g,"")}function $4(e,n){if(n==="week"){const t=lk(e);return/w{1,2}/i.test(t)&&(/M{1,4}/.test(t)||/D{1,4}/.test(t))}return!1}function Ga(e,n){return ck(e.basename,n)}function U4(e,n){return ck(W4(e),n)}function ck(e,n){const o={day:Bs,week:Ws,month:Vs,quarter:$s,year:Us}[n]().format.split("/").pop(),i=window.moment(e,o,!0);if(!i.isValid())return null;if($4(o,n)&&n==="week"){const s=lk(o);if(/w{1,2}/i.test(s))return window.moment(e,o.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return i}class q4 extends Error{}async function uk(e){const n=window.app,{vault:t}=n,o=window.moment,{template:i,format:s,folder:c}=Bs(),[u,f]=await qa(i),v=e.format(s),m=await qs(c,v);try{const g=await t.create(m,u.replace(/{{\s*date\s*}}/gi,v).replace(/{{\s*time\s*}}/gi,o().format("HH:mm")).replace(/{{\s*title\s*}}/gi,v).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(b,w,k,x,E,C)=>{const T=o(),D=e.clone().set({hour:T.get("hour"),minute:T.get("minute"),second:T.get("second")});return k&&D.add(parseInt(x,10),E),C?D.format(C.substring(1).trim()):D.format(s)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(s)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(s)));return n.foldManager.save(g,f),g}catch{new ut.Notice("Unable to create new file.")}}function G4(e,n){return n[Bn(e,"day")]??null}function Y4(){const{vault:e}=window.app,{folder:n}=Bs(),t=e.getAbstractFileByPath(ut.normalizePath(n));if(!t)throw new q4("Failed to find daily notes folder");const o={};return ut.Vault.recurseChildren(t,i=>{if(i instanceof ut.TFile){const s=Ga(i,"day");if(s){const c=Bn(s,"day");o[c]=i}}}),o}class K4 extends Error{}function X4(){const{moment:e}=window;let n=e.localeData()._week.dow;const t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;n;)t.push(t.shift()),n--;return t}function Q4(e){return X4().indexOf(e.toLowerCase())}async function dk(e){const{vault:n}=window.app,{template:t,format:o,folder:i}=Ws(),[s,c]=await qa(t),u=e.format(o),f=await qs(i,u);try{const v=await n.create(f,s.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,b,w,k,x)=>{const E=window.moment(),C=e.clone().set({hour:E.get("hour"),minute:E.get("minute"),second:E.get("second")});return b&&C.add(parseInt(w,10),k),x?C.format(x.substring(1).trim()):C.format(o)}).replace(/{{\s*title\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(m,g,b)=>{const w=Q4(g);return e.weekday(w).format(b.trim())}));return window.app.foldManager.save(v,c),v}catch{new ut.Notice("Unable to create new file.")}}function Z4(e,n){return n[Bn(e,"week")]??null}function J4(){const e={};if(!pk())return e;const{vault:n}=window.app,{folder:t}=Ws(),o=n.getAbstractFileByPath(ut.normalizePath(t));if(!o)throw new K4("Failed to find weekly notes folder");return ut.Vault.recurseChildren(o,i=>{if(i instanceof ut.TFile){const s=Ga(i,"week");if(s){const c=Bn(s,"week");e[c]=i}}}),e}class eL extends Error{}async function fk(e){const{vault:n}=window.app,{template:t,format:o,folder:i}=Vs(),[s,c]=await qa(t),u=e.format(o),f=await qs(i,u);try{const v=await n.create(f,s.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,b,w,k,x)=>{const E=window.moment(),C=e.clone().set({hour:E.get("hour"),minute:E.get("minute"),second:E.get("second")});return b&&C.add(parseInt(w,10),k),x?C.format(x.substring(1).trim()):C.format(o)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(v,c),v}catch{new ut.Notice("Unable to create new file.")}}function tL(e,n){return n[Bn(e,"month")]??null}function nL(){const e={};if(!vk())return e;const{vault:n}=window.app,{folder:t}=Vs(),o=n.getAbstractFileByPath(ut.normalizePath(t));if(!o)throw new eL("Failed to find monthly notes folder");return ut.Vault.recurseChildren(o,i=>{if(i instanceof ut.TFile){const s=Ga(i,"month");if(s){const c=Bn(s,"month");e[c]=i}}}),e}class rL extends Error{}async function oL(e){const{vault:n}=window.app,{template:t,format:o,folder:i}=$s(),[s,c]=await qa(t),u=e.format(o),f=await qs(i,u);try{const v=await n.create(f,s.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,b,w,k,x)=>{const E=window.moment(),C=e.clone().set({hour:E.get("hour"),minute:E.get("minute"),second:E.get("second")});return b&&C.add(parseInt(w,10),k),x?C.format(x.substring(1).trim()):C.format(o)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(v,c),v}catch{new ut.Notice("Unable to create new file.")}}function aL(e,n){return n[Bn(e,"quarter")]??null}function iL(){const e={};if(!hk())return e;const{vault:n}=window.app,{folder:t}=$s(),o=n.getAbstractFileByPath(ut.normalizePath(t));if(!o)throw new rL("Failed to find quarterly notes folder");return ut.Vault.recurseChildren(o,i=>{if(i instanceof ut.TFile){const s=Ga(i,"quarter");if(s){const c=Bn(s,"quarter");e[c]=i}}}),e}class sL extends Error{}async function lL(e){const{vault:n}=window.app,{template:t,format:o,folder:i}=Us(),[s,c]=await qa(t),u=e.format(o),f=await qs(i,u);try{const v=await n.create(f,s.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,b,w,k,x)=>{const E=window.moment(),C=e.clone().set({hour:E.get("hour"),minute:E.get("minute"),second:E.get("second")});return b&&C.add(parseInt(w,10),k),x?C.format(x.substring(1).trim()):C.format(o)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(v,c),v}catch{new ut.Notice("Unable to create new file.")}}function cL(e,n){return n[Bn(e,"year")]??null}function uL(){const e={};if(!mk())return e;const{vault:n}=window.app,{folder:t}=Us(),o=n.getAbstractFileByPath(ut.normalizePath(t));if(!o)throw new sL("Failed to find yearly notes folder");return ut.Vault.recurseChildren(o,i=>{if(i instanceof ut.TFile){const s=Ga(i,"year");if(s){const c=Bn(s,"year");e[c]=i}}}),e}function dL(){var o,i;const{app:e}=window,n=e.internalPlugins.plugins["daily-notes"];if(n&&n.enabled)return!0;const t=e.plugins.getPlugin("periodic-notes");return t&&((i=(o=t.settings)==null?void 0:o.daily)==null?void 0:i.enabled)}function pk(){var t,o;const{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;const n=e.plugins.getPlugin("periodic-notes");return n&&((o=(t=n.settings)==null?void 0:t.weekly)==null?void 0:o.enabled)}function vk(){var t,o;const{app:e}=window,n=e.plugins.getPlugin("periodic-notes");return n&&((o=(t=n.settings)==null?void 0:t.monthly)==null?void 0:o.enabled)}function hk(){var t,o;const{app:e}=window,n=e.plugins.getPlugin("periodic-notes");return n&&((o=(t=n.settings)==null?void 0:t.quarterly)==null?void 0:o.enabled)}function mk(){var t,o;const{app:e}=window,n=e.plugins.getPlugin("periodic-notes");return n&&((o=(t=n.settings)==null?void 0:t.yearly)==null?void 0:o.enabled)}function fL(e){const n={day:Bs,week:Ws,month:Vs,quarter:$s,year:Us}[e];return n()}function pL(e,n){return{day:uk,month:fk,week:dk}[e](n)}$e.DEFAULT_DAILY_NOTE_FORMAT=Fp;$e.DEFAULT_MONTHLY_NOTE_FORMAT=ok;$e.DEFAULT_QUARTERLY_NOTE_FORMAT=ak;$e.DEFAULT_WEEKLY_NOTE_FORMAT=jp;$e.DEFAULT_YEARLY_NOTE_FORMAT=ik;$e.appHasDailyNotesPluginLoaded=dL;$e.appHasMonthlyNotesPluginLoaded=vk;$e.appHasQuarterlyNotesPluginLoaded=hk;$e.appHasWeeklyNotesPluginLoaded=pk;$e.appHasYearlyNotesPluginLoaded=mk;$e.createDailyNote=uk;$e.createMonthlyNote=fk;$e.createPeriodicNote=pL;$e.createQuarterlyNote=oL;$e.createWeeklyNote=dk;$e.createYearlyNote=lL;$e.getAllDailyNotes=Y4;$e.getAllMonthlyNotes=nL;$e.getAllQuarterlyNotes=iL;$e.getAllWeeklyNotes=J4;$e.getAllYearlyNotes=uL;$e.getDailyNote=G4;var vb=$e.getDailyNoteSettings=Bs;$e.getDateFromFile=Ga;$e.getDateFromPath=U4;$e.getDateUID=Bn;$e.getMonthlyNote=tL;$e.getMonthlyNoteSettings=Vs;$e.getPeriodicNoteSettings=fL;$e.getQuarterlyNote=aL;$e.getQuarterlyNoteSettings=$s;$e.getTemplateInfo=qa;$e.getWeeklyNote=Z4;$e.getWeeklyNoteSettings=Ws;$e.getYearlyNote=cL;$e.getYearlyNoteSettings=Us;function vL(e,n){var i;const t=`---
templify: ${n}
---

`,o=((i=e==null?void 0:e.map(s=>`# ${s}

`))==null?void 0:i.join(`

`))||"";return t+o}async function gk(e,n){var u;const t=Ke.getState().settings.general.saveFolder||"",o=n.content===""?n.type==="blank"?"":vL((u=n.layout)==null?void 0:u.filter(f=>!f.widget).sort((f,v)=>f.y-v.y||f.x-v.x).map(f=>f.i),n.type):n.content,i=ge.moment().format("YYYYMMDDHHmmss");let s=ge.normalizePath(t+`/templify-${n.title}-${i}.md`);if(n.type==="daily-note"){const f=vb().folder,v=vb().format;if(s=ge.normalizePath((f||t)+`/${v?ge.moment().format(v):ge.moment().format("YYYY-MM-DD")}.md`),await e.vault.adapter.exists(s)){const m=e.vault.getFileByPath(s);if(m instanceof ge.TFile){await e.workspace.openLinkText(m.basename,s,!0);return}}}const c=await e.vault.create(s,o);if(n.type==="blank"){const f=e.workspace.getLeaf(!0);if(!f)return;await f.openFile(c);return}await e.workspace.getLeaf(!0).setViewState({type:Fn,state:{viewType:n.type,file:c.path},active:!0})}const Vi=[{title:Ce.market.special.blank,description:"A blank template.",thumbnails:Ce.market.special.blank,type:"blank",categories:["note-taking","blank","life"],content:""}],hL=e=>{const n=Ae.useRef(null),t=(o,i)=>{const s=o.map(c=>c.type);return i.map(c=>(s.includes(c.type)&&(c.type=`${c.type}-1`),c))};return X(ct,{children:[X(Ss,{children:[N(Ns,{children:Ce.market.dialog.importDataName}),N(Ps,{children:Ce.market.dialog.importDataDesc})]}),N("div",{className:"tv-w-full tv-h-full",children:N(Gv,{className:"tv-resize-none tv-h-48",ref:n,placeholder:Ce.market.dialog.pasteDataHere})}),N(au,{children:X(ft,{className:"tv-rounded-md",variant:"default",size:"default",onClick:async()=>{const o=n.current.value;try{const i=JSON.parse(o),s=t(e.settings.template.templateData,i);e.settings.template.templateData=[...e.settings.template.templateData,...s],await e.saveSettings(),new ge.Notice(Ce.display.notice.importSuccessfully)}catch{new ge.Notice(Ce.display.notice.importFailed)}},children:[N(nx,{className:"tv-mr-2 tv-w-4"}),Ce.market.dialog.saveButton]})})]})},mL=({plugin:e,settings:n,setOpen:t})=>{const[o,i]=Ae.useState(!1);return X(ct,{children:[X(ft,{className:"tv-flex tv-items-center tv-flex-row tv-gap-2","aria-label":Ce.market.header.import,variant:"outline",size:"default",onClick:()=>{t(!0)},children:[N(ex,{size:16}),Ce.market.header.import]}),X(ft,{className:"tv-flex tv-items-center tv-flex-row tv-gap-2","aria-label":Ce.market.header.export,variant:"outline",size:"default",onClick:async()=>{const s=n.template.templateData;await navigator.clipboard.writeText(JSON.stringify(s,null,2)),new ge.Notice(Ce.display.notice.exportSuccessfully)},children:[N(B5,{size:16}),Ce.market.header.export]}),X(ft,{variant:"outline",className:we("tv-flex tv-items-center tv-flex-row tv-gap-2",o?"tv-text-red-400 hover:!tv-text-red-600":""),size:"default",onClick:()=>{if(!o){i(!0);return}const s=n.template.templateData,c=localStorage.getItem("language");let u=Kc.en;c&&(c==="zh"||c==="zh-TW")&&(u=Kc["zh-cn"]||u);const f=u.template.templateData.filter(v=>!s.find(m=>m.type===v.type));e.settings.template.templateData=[...f,...s],e.saveSettings(),i(!1),new ge.Notice(Ce.display.notice.restoreSuccessfully)},children:[N(Z5,{size:16}),o?Ce.market.header.confirmRestore:Ce.market.header.restore]})]})},gL=({handleChangeMode:e})=>{const[n,t]=Ae.useState("");return X(ct,{children:[X("div",{className:"tv-mt-2 tv-w-full",children:[X("div",{className:"tv-flex tv-justify-between tv-w-full",children:[N(Ha,{placeholder:Ce.market.content.filterPlaceholder,value:n||"",onChange:o=>{t(o.target.value)},className:"tv-h-8 !tv-w-[400px]"}),N("div",{children:X(ft,{className:"tv-flex tv-items-center tv-flex-row tv-gap-2",variant:"outline",size:"default",onClick:()=>{e("file")},children:[N(W5,{size:16}),Ce.market.content.switchToFile]})})]}),X("div",{className:"tv-flex tv-flex-row tv-flex-wrap tv-gap-2 tv-pl-2 tv-text-xs tv-mt-1",children:[X("span",{children:[Ce.market.content.searchSuggestions,"："]}),["Cornell Notes","Kanban Board","Eisenhower Matrix","Blank","Calendar"].map(o=>N("span",{className:"tv-text-muted-foreground tv-cursor-pointer tv-text-xs hover:tv-text-accent-foreground",onClick:()=>{t(o)},children:o}))]})]}),N("div",{className:"tv-market-templates tv-h-full tv-w-full tv-gap-4 tv-justify-items-center",children:"Not implemented yet"})]})},yL=({files:e,handleChangeMode:n})=>{const{globalState:{app:t}}=d.useContext(At),[o,i]=Ae.useState(""),[s,c]=Ae.useState([]);d.useEffect(()=>{const m=e.filter(g=>{var b,w;return(w=(b=t.metadataCache.getFileCache(g))==null?void 0:b.frontmatter)==null?void 0:w.templify}).map(g=>{var b,w;return{type:(w=(b=t.metadataCache.getFileCache(g))==null?void 0:b.frontmatter)==null?void 0:w.templify,file:g}});c(m)},[e]);const u=async v=>{const m=t.workspace.getLeaf(!0);m&&await m.openFile(v)},f=async(v,m)=>{const g=new ge.Menu;g.addSections(["title","open","action-primary","action","view","info","","danger"]),g.addItem(b=>{b.setIcon("edit-3").setSection("danger").setTitle(Ce.market.contextMenu.rename).onClick(()=>{t.fileManager.promptForFileRename(m)})}).addItem(b=>{b.setIcon("trash-2").setSection("danger").setTitle(Ce.market.contextMenu.deleteFile).setWarning(!0).onClick(async()=>{t.fileManager.promptForFileDeletion(m)})}),t.workspace.trigger("file-menu",g,m,"file-explorer-context-menu",null),g.showAtMouseEvent(v.nativeEvent)};return N(ct,{children:X("div",{className:"tv-mt-2 tv-w-full",children:[X("div",{className:"tv-flex tv-justify-between tv-w-full",children:[N(Ha,{placeholder:Ce.market.content.filesFilterPlaceholder,value:o||"",onChange:v=>{i(v.target.value)},className:"tv-h-8 !tv-w-[400px]"}),N("div",{children:X(ft,{className:"tv-flex tv-items-center tv-flex-row tv-gap-2",variant:"outline",size:"default",onClick:()=>{n("template")},children:[N(t3,{size:16}),Ce.market.content.switchToTemplate]})})]}),X("div",{className:"tv-recent-files tv-flex tv-flex-col tv-h-full tv-w-full tv-flex-1 tv-justify-items-center tv-gap-2 tv-py-2",children:[X("div",{className:"tv-recent-file tv-flex tv-flex-row tv-justify-between tv-items-center tv-w-full tv-px-2 tv-pt-2",children:[N("div",{className:"tv-file-name tv-text-sm",children:Ce.market.content.switchToFile}),N("div",{className:"tv-file-name tv-text-sm",children:Ce.market.content.modifiedTime})]}),N(xs,{}),s==null?void 0:s.sort((v,m)=>m.file.stat.mtime-v.file.stat.mtime).filter(v=>v.file.basename.toLowerCase().includes(o.toLowerCase())||v.file.path.toLowerCase().includes(o.toLowerCase())).map(v=>X("div",{className:"tv-recent-file tv-flex tv-flex-row tv-justify-between tv-items-center tv-w-full tv-py-2 tv-px-2 tv-rounded-md hover:tv-bg-stone-200 dark:hover:tv-bg-stone-800",onClick:async()=>{await u(v.file)},onContextMenu:async m=>{await f(m,v.file)},children:[X("div",{className:"tv-file-name tv-text-base",children:[N("div",{children:v.file.basename}),N("div",{className:"tv-file-path tv-text-xs tv-text-stone-500 dark:tv-text-stone-500",children:v.file.path})]}),N("div",{className:"tv-file-date tv-text-xs tv-text-stone-500 dark:tv-text-stone-500",children:ge.moment(v.file.stat.mtime).format("YYYY-MM-DD HH:mm:ss")})]}))]})]})})},bL=({settings:e,plugin:n})=>{const[t,o]=Ae.useState(Vi);d.useEffect(()=>{e&&o([...Vi,...e.template.templateData])},[JSON.stringify(e.template.templateData)]);const i=s=>{if(!e||!e.template.templateData.find(u=>u.type===s.type))return;const c=e.template.templateData.filter(u=>u.type!==s.type);n.settings.template.templateData=c,n.saveSettings()};return X("div",{className:"tv-market-templates tv-gap-8",children:[t.map(s=>X(hx,{children:[N(mx,{asChild:!0,children:X("div",{className:"tv-flex tv-flex-col tv-items-center tv-gap-2",children:[N(Gc,{className:"tv-h-44 tv-w-36 tv-cursor-pointer hover:tv-shadow-lg tv-border tv-border-solid tv-border-stone-300 dark:tv-border-stone-800",onClick:async()=>{await gk(n.app,s)},children:X(Yc,{className:"tv-relative tv-flex tv-items-center tv-justify-center tv-h-full tv-w-full tv-group",children:[s.thumbnails||s.title,X(H4,{children:[N(B4,{asChild:!0,children:N(Q2,{className:"tv-invisible group-hover:tv-visible tv-h-4 tv-w-4 tv-right-3 tv-top-2 tv-absolute tv-text-muted-foreground"})}),N(rk,{className:"tv-flex tv-flex-col tv-gap-2",children:X("tbody",{className:"tv-table tv-items-center tv-gap-2 tv-text-sm",children:[X("tr",{className:"tv-h-8 tv-border-b-accent-foreground tv-border tv-border-solid",children:[X("td",{className:"tv-min-w-12 tv-w-12 tv-text-accent-foreground",children:[Ce.market.content.templateDescription,":"]}),N("td",{className:"tv-text-muted-foreground",children:s.description})]}),X("tr",{className:"tv-h-8",children:[X("td",{className:"tv-min-w-12 tv-w-12 tv-text-accent-foreground",children:[Ce.market.content.templateType,":"]}),N("td",{className:"tv-text-muted-foreground",children:s.type})]})]})})]})]})}),N("div",{className:"tv-text-muted-foreground",children:s.title})]})}),X(Bv,{className:"tv-w-20",children:[X(Pa,{className:"tv-flex tv-gap-2",disabled:[...Vi].find(c=>c.type===s.type)!==void 0,onClick:()=>{new ge.Notice("Not available yet")},children:[N(H5,{size:16}),Ce.market.contextMenu.edit]}),X(Pa,{className:"tv-flex tv-gap-2",disabled:[...Vi].find(c=>c.type===s.type)!==void 0,onClick:()=>{new ge.Notice("Not available yet")},children:[N(ex,{size:16}),Ce.market.contextMenu.copy]}),X(Pa,{className:"tv-flex tv-gap-2 tv-text-red-400 dark:tv-text-red-600 hover:!tv-text-red-600 dark:hover:tv-text-red-400",disabled:[...Vi].find(c=>c.type===s.type)!==void 0,onClick:()=>{i(s)},children:[N(F5,{size:16}),Ce.market.contextMenu.delete]})]})]})),X("div",{className:"tv-flex tv-flex-col tv-items-center tv-gap-2",children:[N(Gc,{className:"tv-h-44 tv-w-36 tv-cursor-pointer hover:tv-shadow-lg  tv-border tv-border-solid tv-border-stone-300 dark:tv-border-stone-800",onClick:async()=>{new ge.Notice("Not available yet")},children:N(Yc,{className:"tv-flex tv-items-center tv-justify-center tv-h-full tv-w-full",children:N(Q5,{size:24})})}),N("div",{className:"tv-text-muted-foreground",children:Ce.market.content.createNew})]})]})},wL=()=>{const{globalState:{app:e,plugin:n,settings:t},fileState:{files:o}}=d.useContext(At),[i,s]=Ae.useState(!1),[c,u]=Ae.useState("file"),f=w=>{u(w)},v=d.useMemo(()=>N(ct,{children:N(mL,{plugin:n,settings:t,setOpen:s})}),[n,t,s]),m=d.useMemo(()=>N(ct,{children:N(bL,{plugin:n,settings:t})}),[n,JSON.stringify(t.template.templateData)]),g=d.useMemo(()=>N(ct,{children:N(gL,{handleChangeMode:f})}),[f]),b=d.useMemo(()=>N(ct,{children:N(yL,{files:o,handleChangeMode:f})}),[o,f]);return N(ct,{children:X("div",{className:"tv-flex tv-flex-col tv-w-full tv-h-full tv-overflow-auto tv-px-6 tv-py-2 tv-gap-4",children:[X("div",{className:"tv-flex tv-justify-between tv-items-center tv-h-16 tv-w-full tv-gap-2",children:[X("h1",{className:"tv-flex tv-content-center tv-gap-2 tv-p-2 tv-text-lg tv-font-bold",children:[N(q5,{size:24}),Ce.market.header.newTemplifyNote]}),N("div",{className:"tv-flex tv-flex-row tv-items-center tv-gap-2",children:v})]}),m,N(xs,{}),c==="file"?b:g,N(ja,{open:i,onOpenChange:w=>{s(w)},children:N(Do,{children:hL(n)})})]})})},Hp="templify-market-view";class xL extends ge.ItemView{constructor(t,o){super(t);me(this,"scope",new ge.Scope(this.app.scope));me(this,"root");me(this,"plugin");this.plugin=o}getViewType(){return Hp}getDisplayText(){return Ce.display.market.title}getIcon(){return"store"}getActionButtons(){this.addAction("settings",Ce.display.action.marketSettings,()=>{this.app.setting.open(),this.app.setting.openTabById(this.plugin.manifest.id??"templify")})}onResize(){super.onResize();const t=this.leaf.width;if(this.leaf.height===0||!t||t===0)return;const o=t>1100?"templify-view-super-wide":t>900?"templify-view-wide":t>700?"templify-view-small-wide":t>500?"templify-view-medium":t>350?"templify-view-narrow":"templify-view-tiny";this.leaf.view.contentEl.toggleClass(["templify-view-super-wide","templify-view-wide","templify-view-small-wide","templify-view-medium","templify-view-narrow","templify-view-tiny"],!1),this.leaf.view.contentEl.toggleClass(o,!0)}initializeScopeEvent(){const{scope:t}=this;t.register(["Mod"],"s",()=>{})}async onOpen(){this.initializeScopeEvent(),this.getActionButtons(),this.onResize(),this.contentEl.toggleClass("templify-market",!0);try{this.root=Po.createRoot(this.contentEl),this.root.render(N(Ae.StrictMode,{children:N(_s,{store:lt,context:At,children:N(wL,{})})}))}catch{}}onunload(){var t;super.onunload(),(t=this.root)==null||t.unmount()}}class $i extends ge.Setting{constructor(t,o){super(t);me(this,"settingTab");me(this,"name","");me(this,"desc","");this.settingTab=o}setName(t){return super.setName(t),this.name=t,this}setDesc(t){return super.setDesc(t),this.desc=t,this}setTab(t){const o=typeof this.name=="string"?this.name:this.name.textContent??"",i=typeof this.desc=="string"?this.desc:this.desc.textContent??"";return this.settingTab.addSettingToMasterSettingsList(t,this.settingEl,o,i),this}}var Gt="top",xn="bottom",kn="right",Yt="left",Xv="auto",Gs=[Gt,xn,kn,Yt],La="start",ks="end",kL="clippingParents",yk="viewport",Ui="popper",EL="reference",hb=Gs.reduce(function(e,n){return e.concat([n+"-"+La,n+"-"+ks])},[]),bk=[].concat(Gs,[Xv]).reduce(function(e,n){return e.concat([n,n+"-"+La,n+"-"+ks])},[]),CL="beforeRead",SL="read",NL="afterRead",PL="beforeMain",TL="main",DL="afterMain",OL="beforeWrite",ML="write",RL="afterWrite",_L=[CL,SL,NL,PL,TL,DL,OL,ML,RL];function Xn(e){return e?(e.nodeName||"").toLowerCase():null}function ln(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function No(e){var n=ln(e).Element;return e instanceof n||e instanceof Element}function yn(e){var n=ln(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function Qv(e){if(typeof ShadowRoot>"u")return!1;var n=ln(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}function LL(e){var n=e.state;Object.keys(n.elements).forEach(function(t){var o=n.styles[t]||{},i=n.attributes[t]||{},s=n.elements[t];!yn(s)||!Xn(s)||(Object.assign(s.style,o),Object.keys(i).forEach(function(c){var u=i[c];u===!1?s.removeAttribute(c):s.setAttribute(c,u===!0?"":u)}))})}function zL(e){var n=e.state,t={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,t.popper),n.styles=t,n.elements.arrow&&Object.assign(n.elements.arrow.style,t.arrow),function(){Object.keys(n.elements).forEach(function(o){var i=n.elements[o],s=n.attributes[o]||{},c=Object.keys(n.styles.hasOwnProperty(o)?n.styles[o]:t[o]),u=c.reduce(function(f,v){return f[v]="",f},{});!yn(i)||!Xn(i)||(Object.assign(i.style,u),Object.keys(s).forEach(function(f){i.removeAttribute(f)}))})}}const IL={name:"applyStyles",enabled:!0,phase:"write",fn:LL,effect:zL,requires:["computeStyles"]};function Yn(e){return e.split("-")[0]}var ko=Math.max,Qc=Math.min,za=Math.round;function Bp(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function wk(){return!/^((?!chrome|android).)*safari/i.test(Bp())}function Ia(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!1);var o=e.getBoundingClientRect(),i=1,s=1;n&&yn(e)&&(i=e.offsetWidth>0&&za(o.width)/e.offsetWidth||1,s=e.offsetHeight>0&&za(o.height)/e.offsetHeight||1);var c=No(e)?ln(e):window,u=c.visualViewport,f=!wk()&&t,v=(o.left+(f&&u?u.offsetLeft:0))/i,m=(o.top+(f&&u?u.offsetTop:0))/s,g=o.width/i,b=o.height/s;return{width:g,height:b,top:m,right:v+g,bottom:m+b,left:v,x:v,y:m}}function Zv(e){var n=Ia(e),t=e.offsetWidth,o=e.offsetHeight;return Math.abs(n.width-t)<=1&&(t=n.width),Math.abs(n.height-o)<=1&&(o=n.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:o}}function xk(e,n){var t=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(t&&Qv(t)){var o=n;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function br(e){return ln(e).getComputedStyle(e)}function AL(e){return["table","td","th"].indexOf(Xn(e))>=0}function Yr(e){return((No(e)?e.ownerDocument:e.document)||window.document).documentElement}function Au(e){return Xn(e)==="html"?e:e.assignedSlot||e.parentNode||(Qv(e)?e.host:null)||Yr(e)}function mb(e){return!yn(e)||br(e).position==="fixed"?null:e.offsetParent}function FL(e){var n=/firefox/i.test(Bp()),t=/Trident/i.test(Bp());if(t&&yn(e)){var o=br(e);if(o.position==="fixed")return null}var i=Au(e);for(Qv(i)&&(i=i.host);yn(i)&&["html","body"].indexOf(Xn(i))<0;){var s=br(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||n&&s.willChange==="filter"||n&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Ys(e){for(var n=ln(e),t=mb(e);t&&AL(t)&&br(t).position==="static";)t=mb(t);return t&&(Xn(t)==="html"||Xn(t)==="body"&&br(t).position==="static")?n:t||FL(e)||n}function Jv(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function es(e,n,t){return ko(e,Qc(n,t))}function jL(e,n,t){var o=es(e,n,t);return o>t?t:o}function kk(){return{top:0,right:0,bottom:0,left:0}}function Ek(e){return Object.assign({},kk(),e)}function Ck(e,n){return n.reduce(function(t,o){return t[o]=e,t},{})}var HL=function(n,t){return n=typeof n=="function"?n(Object.assign({},t.rects,{placement:t.placement})):n,Ek(typeof n!="number"?n:Ck(n,Gs))};function BL(e){var n,t=e.state,o=e.name,i=e.options,s=t.elements.arrow,c=t.modifiersData.popperOffsets,u=Yn(t.placement),f=Jv(u),v=[Yt,kn].indexOf(u)>=0,m=v?"height":"width";if(!(!s||!c)){var g=HL(i.padding,t),b=Zv(s),w=f==="y"?Gt:Yt,k=f==="y"?xn:kn,x=t.rects.reference[m]+t.rects.reference[f]-c[f]-t.rects.popper[m],E=c[f]-t.rects.reference[f],C=Ys(s),T=C?f==="y"?C.clientHeight||0:C.clientWidth||0:0,D=x/2-E/2,O=g[w],M=T-b[m]-g[k],R=T/2-b[m]/2+D,L=es(O,R,M),B=f;t.modifiersData[o]=(n={},n[B]=L,n.centerOffset=L-R,n)}}function WL(e){var n=e.state,t=e.options,o=t.element,i=o===void 0?"[data-popper-arrow]":o;i!=null&&(typeof i=="string"&&(i=n.elements.popper.querySelector(i),!i)||xk(n.elements.popper,i)&&(n.elements.arrow=i))}const VL={name:"arrow",enabled:!0,phase:"main",fn:BL,effect:WL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Aa(e){return e.split("-")[1]}var $L={top:"auto",right:"auto",bottom:"auto",left:"auto"};function UL(e,n){var t=e.x,o=e.y,i=n.devicePixelRatio||1;return{x:za(t*i)/i||0,y:za(o*i)/i||0}}function gb(e){var n,t=e.popper,o=e.popperRect,i=e.placement,s=e.variation,c=e.offsets,u=e.position,f=e.gpuAcceleration,v=e.adaptive,m=e.roundOffsets,g=e.isFixed,b=c.x,w=b===void 0?0:b,k=c.y,x=k===void 0?0:k,E=typeof m=="function"?m({x:w,y:x}):{x:w,y:x};w=E.x,x=E.y;var C=c.hasOwnProperty("x"),T=c.hasOwnProperty("y"),D=Yt,O=Gt,M=window;if(v){var R=Ys(t),L="clientHeight",B="clientWidth";if(R===ln(t)&&(R=Yr(t),br(R).position!=="static"&&u==="absolute"&&(L="scrollHeight",B="scrollWidth")),i===Gt||(i===Yt||i===kn)&&s===ks){O=xn;var G=g&&R===M&&M.visualViewport?M.visualViewport.height:R[L];x-=G-o.height,x*=f?1:-1}if(i===Yt||(i===Gt||i===xn)&&s===ks){D=kn;var Q=g&&R===M&&M.visualViewport?M.visualViewport.width:R[B];w-=Q-o.width,w*=f?1:-1}}var re=Object.assign({position:u},v&&$L),Y=m===!0?UL({x:w,y:x},ln(t)):{x:w,y:x};if(w=Y.x,x=Y.y,f){var se;return Object.assign({},re,(se={},se[O]=T?"0":"",se[D]=C?"0":"",se.transform=(M.devicePixelRatio||1)<=1?"translate("+w+"px, "+x+"px)":"translate3d("+w+"px, "+x+"px, 0)",se))}return Object.assign({},re,(n={},n[O]=T?x+"px":"",n[D]=C?w+"px":"",n.transform="",n))}function qL(e){var n=e.state,t=e.options,o=t.gpuAcceleration,i=o===void 0?!0:o,s=t.adaptive,c=s===void 0?!0:s,u=t.roundOffsets,f=u===void 0?!0:u,v={placement:Yn(n.placement),variation:Aa(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:i,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,gb(Object.assign({},v,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:c,roundOffsets:f})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,gb(Object.assign({},v,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const GL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qL,data:{}};var Cc={passive:!0};function YL(e){var n=e.state,t=e.instance,o=e.options,i=o.scroll,s=i===void 0?!0:i,c=o.resize,u=c===void 0?!0:c,f=ln(n.elements.popper),v=[].concat(n.scrollParents.reference,n.scrollParents.popper);return s&&v.forEach(function(m){m.addEventListener("scroll",t.update,Cc)}),u&&f.addEventListener("resize",t.update,Cc),function(){s&&v.forEach(function(m){m.removeEventListener("scroll",t.update,Cc)}),u&&f.removeEventListener("resize",t.update,Cc)}}const KL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:YL,data:{}};var XL={left:"right",right:"left",bottom:"top",top:"bottom"};function Mc(e){return e.replace(/left|right|bottom|top/g,function(n){return XL[n]})}var QL={start:"end",end:"start"};function yb(e){return e.replace(/start|end/g,function(n){return QL[n]})}function eh(e){var n=ln(e),t=n.pageXOffset,o=n.pageYOffset;return{scrollLeft:t,scrollTop:o}}function th(e){return Ia(Yr(e)).left+eh(e).scrollLeft}function ZL(e,n){var t=ln(e),o=Yr(e),i=t.visualViewport,s=o.clientWidth,c=o.clientHeight,u=0,f=0;if(i){s=i.width,c=i.height;var v=wk();(v||!v&&n==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:s,height:c,x:u+th(e),y:f}}function JL(e){var n,t=Yr(e),o=eh(e),i=(n=e.ownerDocument)==null?void 0:n.body,s=ko(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=ko(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-o.scrollLeft+th(e),f=-o.scrollTop;return br(i||t).direction==="rtl"&&(u+=ko(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:c,x:u,y:f}}function nh(e){var n=br(e),t=n.overflow,o=n.overflowX,i=n.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+o)}function Sk(e){return["html","body","#document"].indexOf(Xn(e))>=0?e.ownerDocument.body:yn(e)&&nh(e)?e:Sk(Au(e))}function ts(e,n){var t;n===void 0&&(n=[]);var o=Sk(e),i=o===((t=e.ownerDocument)==null?void 0:t.body),s=ln(o),c=i?[s].concat(s.visualViewport||[],nh(o)?o:[]):o,u=n.concat(c);return i?u:u.concat(ts(Au(c)))}function Wp(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function e8(e,n){var t=Ia(e,!1,n==="fixed");return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function bb(e,n,t){return n===yk?Wp(ZL(e,t)):No(n)?e8(n,t):Wp(JL(Yr(e)))}function t8(e){var n=ts(Au(e)),t=["absolute","fixed"].indexOf(br(e).position)>=0,o=t&&yn(e)?Ys(e):e;return No(o)?n.filter(function(i){return No(i)&&xk(i,o)&&Xn(i)!=="body"}):[]}function n8(e,n,t,o){var i=n==="clippingParents"?t8(e):[].concat(n),s=[].concat(i,[t]),c=s[0],u=s.reduce(function(f,v){var m=bb(e,v,o);return f.top=ko(m.top,f.top),f.right=Qc(m.right,f.right),f.bottom=Qc(m.bottom,f.bottom),f.left=ko(m.left,f.left),f},bb(e,c,o));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function Nk(e){var n=e.reference,t=e.element,o=e.placement,i=o?Yn(o):null,s=o?Aa(o):null,c=n.x+n.width/2-t.width/2,u=n.y+n.height/2-t.height/2,f;switch(i){case Gt:f={x:c,y:n.y-t.height};break;case xn:f={x:c,y:n.y+n.height};break;case kn:f={x:n.x+n.width,y:u};break;case Yt:f={x:n.x-t.width,y:u};break;default:f={x:n.x,y:n.y}}var v=i?Jv(i):null;if(v!=null){var m=v==="y"?"height":"width";switch(s){case La:f[v]=f[v]-(n[m]/2-t[m]/2);break;case ks:f[v]=f[v]+(n[m]/2-t[m]/2);break}}return f}function Es(e,n){n===void 0&&(n={});var t=n,o=t.placement,i=o===void 0?e.placement:o,s=t.strategy,c=s===void 0?e.strategy:s,u=t.boundary,f=u===void 0?kL:u,v=t.rootBoundary,m=v===void 0?yk:v,g=t.elementContext,b=g===void 0?Ui:g,w=t.altBoundary,k=w===void 0?!1:w,x=t.padding,E=x===void 0?0:x,C=Ek(typeof E!="number"?E:Ck(E,Gs)),T=b===Ui?EL:Ui,D=e.rects.popper,O=e.elements[k?T:b],M=n8(No(O)?O:O.contextElement||Yr(e.elements.popper),f,m,c),R=Ia(e.elements.reference),L=Nk({reference:R,element:D,strategy:"absolute",placement:i}),B=Wp(Object.assign({},D,L)),G=b===Ui?B:R,Q={top:M.top-G.top+C.top,bottom:G.bottom-M.bottom+C.bottom,left:M.left-G.left+C.left,right:G.right-M.right+C.right},re=e.modifiersData.offset;if(b===Ui&&re){var Y=re[i];Object.keys(Q).forEach(function(se){var ne=[kn,xn].indexOf(se)>=0?1:-1,J=[Gt,xn].indexOf(se)>=0?"y":"x";Q[se]+=Y[J]*ne})}return Q}function r8(e,n){n===void 0&&(n={});var t=n,o=t.placement,i=t.boundary,s=t.rootBoundary,c=t.padding,u=t.flipVariations,f=t.allowedAutoPlacements,v=f===void 0?bk:f,m=Aa(o),g=m?u?hb:hb.filter(function(k){return Aa(k)===m}):Gs,b=g.filter(function(k){return v.indexOf(k)>=0});b.length===0&&(b=g);var w=b.reduce(function(k,x){return k[x]=Es(e,{placement:x,boundary:i,rootBoundary:s,padding:c})[Yn(x)],k},{});return Object.keys(w).sort(function(k,x){return w[k]-w[x]})}function o8(e){if(Yn(e)===Xv)return[];var n=Mc(e);return[yb(e),n,yb(n)]}function a8(e){var n=e.state,t=e.options,o=e.name;if(!n.modifiersData[o]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,c=t.altAxis,u=c===void 0?!0:c,f=t.fallbackPlacements,v=t.padding,m=t.boundary,g=t.rootBoundary,b=t.altBoundary,w=t.flipVariations,k=w===void 0?!0:w,x=t.allowedAutoPlacements,E=n.options.placement,C=Yn(E),T=C===E,D=f||(T||!k?[Mc(E)]:o8(E)),O=[E].concat(D).reduce(function(Z,ae){return Z.concat(Yn(ae)===Xv?r8(n,{placement:ae,boundary:m,rootBoundary:g,padding:v,flipVariations:k,allowedAutoPlacements:x}):ae)},[]),M=n.rects.reference,R=n.rects.popper,L=new Map,B=!0,G=O[0],Q=0;Q<O.length;Q++){var re=O[Q],Y=Yn(re),se=Aa(re)===La,ne=[Gt,xn].indexOf(Y)>=0,J=ne?"width":"height",de=Es(n,{placement:re,boundary:m,rootBoundary:g,altBoundary:b,padding:v}),le=ne?se?kn:Yt:se?xn:Gt;M[J]>R[J]&&(le=Mc(le));var H=Mc(le),I=[];if(s&&I.push(de[Y]<=0),u&&I.push(de[le]<=0,de[H]<=0),I.every(function(Z){return Z})){G=re,B=!1;break}L.set(re,I)}if(B)for(var P=k?3:1,z=function(ae){var ie=O.find(function(te){var $=L.get(te);if($)return $.slice(0,ae).every(function(oe){return oe})});if(ie)return G=ie,"break"},j=P;j>0;j--){var W=z(j);if(W==="break")break}n.placement!==G&&(n.modifiersData[o]._skip=!0,n.placement=G,n.reset=!0)}}const i8={name:"flip",enabled:!0,phase:"main",fn:a8,requiresIfExists:["offset"],data:{_skip:!1}};function wb(e,n,t){return t===void 0&&(t={x:0,y:0}),{top:e.top-n.height-t.y,right:e.right-n.width+t.x,bottom:e.bottom-n.height+t.y,left:e.left-n.width-t.x}}function xb(e){return[Gt,kn,xn,Yt].some(function(n){return e[n]>=0})}function s8(e){var n=e.state,t=e.name,o=n.rects.reference,i=n.rects.popper,s=n.modifiersData.preventOverflow,c=Es(n,{elementContext:"reference"}),u=Es(n,{altBoundary:!0}),f=wb(c,o),v=wb(u,i,s),m=xb(f),g=xb(v);n.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:v,isReferenceHidden:m,hasPopperEscaped:g},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":g})}const l8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:s8};function c8(e,n,t){var o=Yn(e),i=[Yt,Gt].indexOf(o)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},n,{placement:e})):t,c=s[0],u=s[1];return c=c||0,u=(u||0)*i,[Yt,kn].indexOf(o)>=0?{x:u,y:c}:{x:c,y:u}}function u8(e){var n=e.state,t=e.options,o=e.name,i=t.offset,s=i===void 0?[0,0]:i,c=bk.reduce(function(m,g){return m[g]=c8(g,n.rects,s),m},{}),u=c[n.placement],f=u.x,v=u.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=f,n.modifiersData.popperOffsets.y+=v),n.modifiersData[o]=c}const d8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:u8};function f8(e){var n=e.state,t=e.name;n.modifiersData[t]=Nk({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const p8={name:"popperOffsets",enabled:!0,phase:"read",fn:f8,data:{}};function v8(e){return e==="x"?"y":"x"}function h8(e){var n=e.state,t=e.options,o=e.name,i=t.mainAxis,s=i===void 0?!0:i,c=t.altAxis,u=c===void 0?!1:c,f=t.boundary,v=t.rootBoundary,m=t.altBoundary,g=t.padding,b=t.tether,w=b===void 0?!0:b,k=t.tetherOffset,x=k===void 0?0:k,E=Es(n,{boundary:f,rootBoundary:v,padding:g,altBoundary:m}),C=Yn(n.placement),T=Aa(n.placement),D=!T,O=Jv(C),M=v8(O),R=n.modifiersData.popperOffsets,L=n.rects.reference,B=n.rects.popper,G=typeof x=="function"?x(Object.assign({},n.rects,{placement:n.placement})):x,Q=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),re=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Y={x:0,y:0};if(R){if(s){var se,ne=O==="y"?Gt:Yt,J=O==="y"?xn:kn,de=O==="y"?"height":"width",le=R[O],H=le+E[ne],I=le-E[J],P=w?-B[de]/2:0,z=T===La?L[de]:B[de],j=T===La?-B[de]:-L[de],W=n.elements.arrow,Z=w&&W?Zv(W):{width:0,height:0},ae=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:kk(),ie=ae[ne],te=ae[J],$=es(0,L[de],Z[de]),oe=D?L[de]/2-P-$-ie-Q.mainAxis:z-$-ie-Q.mainAxis,xe=D?-L[de]/2+P+$+te+Q.mainAxis:j+$+te+Q.mainAxis,ye=n.elements.arrow&&Ys(n.elements.arrow),ve=ye?O==="y"?ye.clientTop||0:ye.clientLeft||0:0,Me=(se=re==null?void 0:re[O])!=null?se:0,K=le+oe-Me-ve,fe=le+xe-Me,ke=es(w?Qc(H,K):H,le,w?ko(I,fe):I);R[O]=ke,Y[O]=ke-le}if(u){var De,Oe=O==="x"?Gt:Yt,Le=O==="x"?xn:kn,qe=R[M],ot=M==="y"?"height":"width",Nn=qe+E[Oe],gt=qe-E[Le],Ao=[Gt,Yt].indexOf(C)!==-1,Ya=(De=re==null?void 0:re[M])!=null?De:0,Ka=Ao?Nn:qe-L[ot]-B[ot]-Ya+Q.altAxis,Fo=Ao?qe+L[ot]+B[ot]-Ya-Q.altAxis:gt,Kr=w&&Ao?jL(Ka,qe,Fo):es(w?Ka:Nn,qe,w?Fo:gt);R[M]=Kr,Y[M]=Kr-qe}n.modifiersData[o]=Y}}const m8={name:"preventOverflow",enabled:!0,phase:"main",fn:h8,requiresIfExists:["offset"]};function g8(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function y8(e){return e===ln(e)||!yn(e)?eh(e):g8(e)}function b8(e){var n=e.getBoundingClientRect(),t=za(n.width)/e.offsetWidth||1,o=za(n.height)/e.offsetHeight||1;return t!==1||o!==1}function w8(e,n,t){t===void 0&&(t=!1);var o=yn(n),i=yn(n)&&b8(n),s=Yr(n),c=Ia(e,i,t),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(o||!o&&!t)&&((Xn(n)!=="body"||nh(s))&&(u=y8(n)),yn(n)?(f=Ia(n,!0),f.x+=n.clientLeft,f.y+=n.clientTop):s&&(f.x=th(s))),{x:c.left+u.scrollLeft-f.x,y:c.top+u.scrollTop-f.y,width:c.width,height:c.height}}function x8(e){var n=new Map,t=new Set,o=[];e.forEach(function(s){n.set(s.name,s)});function i(s){t.add(s.name);var c=[].concat(s.requires||[],s.requiresIfExists||[]);c.forEach(function(u){if(!t.has(u)){var f=n.get(u);f&&i(f)}}),o.push(s)}return e.forEach(function(s){t.has(s.name)||i(s)}),o}function k8(e){var n=x8(e);return _L.reduce(function(t,o){return t.concat(n.filter(function(i){return i.phase===o}))},[])}function E8(e){var n;return function(){return n||(n=new Promise(function(t){Promise.resolve().then(function(){n=void 0,t(e())})})),n}}function C8(e){var n=e.reduce(function(t,o){var i=t[o.name];return t[o.name]=i?Object.assign({},i,o,{options:Object.assign({},i.options,o.options),data:Object.assign({},i.data,o.data)}):o,t},{});return Object.keys(n).map(function(t){return n[t]})}var kb={placement:"bottom",modifiers:[],strategy:"absolute"};function Eb(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return!n.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function S8(e){e===void 0&&(e={});var n=e,t=n.defaultModifiers,o=t===void 0?[]:t,i=n.defaultOptions,s=i===void 0?kb:i;return function(u,f,v){v===void 0&&(v=s);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},kb,s),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},g=[],b=!1,w={state:m,setOptions:function(C){var T=typeof C=="function"?C(m.options):C;x(),m.options=Object.assign({},s,m.options,T),m.scrollParents={reference:No(u)?ts(u):u.contextElement?ts(u.contextElement):[],popper:ts(f)};var D=k8(C8([].concat(o,m.options.modifiers)));return m.orderedModifiers=D.filter(function(O){return O.enabled}),k(),w.update()},forceUpdate:function(){if(!b){var C=m.elements,T=C.reference,D=C.popper;if(Eb(T,D)){m.rects={reference:w8(T,Ys(D),m.options.strategy==="fixed"),popper:Zv(D)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(Q){return m.modifiersData[Q.name]=Object.assign({},Q.data)});for(var O=0;O<m.orderedModifiers.length;O++){if(m.reset===!0){m.reset=!1,O=-1;continue}var M=m.orderedModifiers[O],R=M.fn,L=M.options,B=L===void 0?{}:L,G=M.name;typeof R=="function"&&(m=R({state:m,options:B,name:G,instance:w})||m)}}}},update:E8(function(){return new Promise(function(E){w.forceUpdate(),E(m)})}),destroy:function(){x(),b=!0}};if(!Eb(u,f))return w;w.setOptions(v).then(function(E){!b&&v.onFirstUpdate&&v.onFirstUpdate(E)});function k(){m.orderedModifiers.forEach(function(E){var C=E.name,T=E.options,D=T===void 0?{}:T,O=E.effect;if(typeof O=="function"){var M=O({state:m,name:C,instance:w,options:D}),R=function(){};g.push(M||R)}})}function x(){g.forEach(function(E){return E()}),g=[]}return w}}var N8=[KL,p8,GL,IL,d8,i8,m8,VL,l8],P8=S8({defaultModifiers:N8});const T8=(e,n)=>(e%n+n)%n;class D8{constructor(n,t,o){me(this,"owner");me(this,"values");me(this,"suggestions");me(this,"selectedItem");me(this,"containerEl");this.owner=n,this.containerEl=t,t.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),t.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),o.register([],"ArrowUp",i=>{if(!i.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),o.register([],"ArrowDown",i=>{if(!i.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),o.register([],"Enter",i=>{if(!i.isComposing)return this.useSelectedItem(i),!1})}onSuggestionClick(n,t){n.preventDefault();const o=this.suggestions.indexOf(t);this.setSelectedItem(o,!1),this.useSelectedItem(n)}onSuggestionMouseover(n,t){const o=this.suggestions.indexOf(t);this.setSelectedItem(o,!1)}setSuggestions(n){this.containerEl.empty();const t=[];n.forEach(o=>{const i=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(o,i),t.push(i)}),this.values=n,this.suggestions=t,this.setSelectedItem(0,!1)}useSelectedItem(n){const t=this.values[this.selectedItem];t&&this.owner.selectSuggestion(t,n)}setSelectedItem(n,t){const o=T8(n,this.suggestions.length),i=this.suggestions[this.selectedItem],s=this.suggestions[o];i==null||i.removeClass("is-selected"),s==null||s.addClass("is-selected"),this.selectedItem=o,t&&s.scrollIntoView(!1)}}class O8{constructor(n,t){me(this,"app");me(this,"inputEl");me(this,"popper");me(this,"scope");me(this,"suggestEl");me(this,"suggest");this.app=n,this.inputEl=t,this.scope=new ge.Scope,this.suggestEl=createDiv("suggestion-container");const o=this.suggestEl.createDiv("suggestion");this.suggest=new D8(this,o,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",i=>{i.preventDefault()})}onInputChanged(){const n=this.inputEl.value,t=this.getSuggestions(n);if(!t){this.close();return}t.length>0?(this.suggest.setSuggestions(t),this.open(this.app.dom.appContainerEl,this.inputEl)):this.close()}open(n,t){this.app.keymap.pushScope(this.scope),n.appendChild(this.suggestEl),this.popper=P8(t,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:o,instance:i})=>{const s=`${o.rects.reference.width}px`;o.styles.popper.width!==s&&(o.styles.popper.width=s,i.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){this.app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}}class M8 extends O8{getSuggestions(n){const t=this.app.vault.getAllLoadedFiles(),o=[],i=n.toLowerCase();return t.forEach(s=>{s instanceof ge.TFolder&&s.path.toLowerCase().contains(i)&&o.push(s)}),o}renderSuggestion(n,t){t.setText(n.path)}selectSuggestion(n){this.inputEl.value=n.path,this.inputEl.trigger("input"),this.close()}}const R8={General:"chef-hat",Templify:"file",Theme:"brush",Share:"share-2",Advanced:"settings"},np={general:{global:!1,defaultFileName:"random",saveFolder:"",enableCacheArea:!1},template:{templatePath:"",templateData:[{title:"Eisenhower Matrix Template",description:"A simple Eisenhower Matrix template for daily use",categories:[],content:"",thumbnails:"",type:"eisenhower-method",layout:[{style:{background:{light:"",dark:""},icon:"siren"},content:"",i:"Important and Urgent",x:0,y:0,w:6,h:10},{style:{background:{light:"",dark:""},icon:"megaphone"},content:"",i:"Important but Not Urgent",x:0,y:10,w:6,h:10},{style:{background:{light:"",dark:""},icon:"alarm"},content:"",i:"Not Important but Urgent",x:6,y:0,w:6,h:10},{style:{background:{light:"",dark:""},icon:"bell"},content:"",i:"Not Important and Not Urgent",x:6,y:10,w:6,h:10}],path:""},{title:"Cornell Note Template",description:"A simple Cornell Note template for daily use",categories:[],content:"",thumbnails:"",type:"cornell-note",layout:[{style:{background:{light:"",dark:""},icon:"zap"},content:"",i:"Ideas",x:0,y:0,w:5,h:6},{style:{background:{light:"",dark:""},icon:"message-square"},content:"",i:"Question",x:0,y:6,w:5,h:7},{style:{background:{light:"",dark:""},icon:"book-open"},content:"",i:"Note",x:5,y:0,w:7,h:13},{style:{background:{light:"",dark:""},icon:"align-justify"},content:"",i:"Summary",x:0,y:13,w:12,h:8}],path:""},{title:"KG Note Template",description:"A simple KG Note template for evergreen-note",categories:[],content:"",thumbnails:"",type:"kg-note-method",layout:[{style:{background:{light:"",dark:""},icon:"book-open"},content:"",i:"Main",x:0,y:0,w:7,h:13},{style:{background:{light:"",dark:""},icon:"tree-palm"},content:"",i:"Concept tree",x:0,y:13,w:7,h:8},{style:{background:{light:"",dark:""},icon:"link"},content:"",i:"Relative",x:7,y:0,w:5,h:5},{style:{background:{light:"",dark:""},icon:"diff"},content:"",i:"Comparison",x:7,y:5,w:5,h:5},{style:{background:{light:"",dark:""},icon:"hammer"},content:"",i:"Influence & Influenced by",x:7,y:10,w:5,h:5},{style:{background:{light:"",dark:""},icon:"sticker"},content:"",i:"Application",x:7,y:15,w:5,h:6}],path:""}]},theme:{hideEmbeddedViewHeader:!0,paperLike:!0},output:{exportType:"pdf",exportPath:"",exportFileName:"random",exportTemplate:""}};class _8 extends ge.PluginSettingTab{constructor(t,o){super(t,o);me(this,"plugin");me(this,"applyDebounceTimer",0);me(this,"tabContent",new Map);me(this,"selectedTab","General");me(this,"search");me(this,"searchSettingInfo",new Map);me(this,"searchZeroState");me(this,"navigateEl");me(this,"applySettingsUpdate",ge.debounce(async()=>{await this.plugin.saveSettings()},300,!0));this.plugin=o}updateSettings(t,o){this.plugin.settings={...this.plugin.settings,[t.split(".")[0]]:{...this.plugin.settings[t.split(".")[0]],[t.split(".")[1]]:o}},this.applySettingsUpdate()}async hide(){}async display(){await this.plugin.loadSettings(),this.containerEl.empty(),this.containerEl.toggleClass("templify-settings",!0),ge.Platform.isMobile&&this.containerEl.toggleClass("templify-mobile",!0),this.generateSettingsTitle(),this.addTabHeader()}generateSettingsTitle(){const t=this.containerEl.createDiv("templify-setting-title");t.createEl("h2",{text:"Templify"}),this.generateSearchBar(t)}addTabHeader(){const t=this.containerEl.createEl("nav",{cls:"templify-setting-header"});this.navigateEl=t.createDiv("templify-setting-tab-group");const o=this.containerEl.createDiv("templify-setting-content");this.createTabAndContent("General",this.navigateEl,o,(i,s)=>this.generateGeneralSettings(s,i)),this.createTabAndContent("Templify",this.navigateEl,o,(i,s)=>this.generateTemplifySettings(s,i)),this.createTabAndContent("Theme",this.navigateEl,o,(i,s)=>this.generateThemeSettings(s,i)),this.createSearchZeroState(o)}generateSearchBar(t){const o=new ge.Setting(t);o.settingEl.style.border="none",o.addSearch(i=>{this.search=i}),this.search.setPlaceholder(Ce.setting.other.searchSettings),this.search.inputEl.oninput=()=>{for(const i of this.tabContent){const s=i[1];s.navButton.removeClass("templify-navigation-item-selected"),s.content.show(),s.heading.show();const c=this.search.getValue();this.selectedTab==""&&c.trim()!=""&&this.searchSettings(c.toLowerCase()),this.selectedTab=""}this.navigateEl.addClass("templify-setting-searching")},this.search.inputEl.onblur=()=>{this.navigateEl.removeClass("templify-setting-searching")},this.search.onChange(i=>{var s;if(i===""){this.triggerTabChange((s=this.tabContent.get("General"))==null?void 0:s.navButton,"General");return}this.searchSettings(i.toLowerCase())})}triggerTabChange(t,o){if(this.selectedTab==o)return;t.toggleClass("templify-navigation-item-selected",!0);const i=this.tabContent.get(o);if((i==null?void 0:i.content).show(),this.selectedTab!=""){const s=this.tabContent.get(this.selectedTab);s==null||s.navButton.removeClass("templify-navigation-item-selected"),(s==null?void 0:s.content).hide()}else{this.searchZeroState.hide();for(const s of this.searchSettingInfo)for(const c of s[1])c.containerEl.show();for(const s of this.tabContent){const c=s[1];c.heading.hide(),o!==s[0]&&c.content.hide()}}this.selectedTab=o}createTabAndContent(t,o,i,s){const c=this.selectedTab===t,u=o.createDiv("templify-navigation-item");u.toggleClass("templify-desktop",!0),ge.setIcon(u.createEl("div",{cls:"templify-navigation-item-icon"}),R8[t]),u.createSpan({text:Ce.setting[t.toLowerCase()].name}),u.onclick=()=>{this.triggerTabChange(u,t)};const f=i.createDiv("templify-tab-settings"),v=f.createEl("h2",{cls:"templify-setting-heading",text:t+" Settings"});v.hide(),f.id=t.toLowerCase().replace(" ","-"),c?u.addClass("templify-navigation-item-selected"):f.hide(),s&&s(f,t),this.tabContent.set(t,{content:f,heading:v,navButton:u})}searchSettings(t){var s;const o=new Set,i=(c,u)=>{c.show(),o.has(u)||o.add(u)};for(const c of this.searchSettingInfo){const u=c[0],f=c[1];for(const v of f)if(t.trim()===""||(s=v.alias)!=null&&s.includes(t)||v.description.includes(t)||v.name.includes(t))i(v.containerEl,u);else if(v.options&&v.options.length>0)for(const m of v.options){if(m.description.toLowerCase().includes(t)||m.name.toLowerCase().includes(t)){i(v.containerEl,u);break}else if(m.options){for(const g of m.options)if(g.description.toLowerCase().includes(t)||g.value.toLowerCase().includes(t)){i(v.containerEl,u);break}}v.containerEl.hide()}else v.containerEl.hide()}for(const c of this.tabContent)o.has(c[0])?c[1].heading.show():c[1].heading.hide();o.size===0?this.searchZeroState.show():this.searchZeroState.hide()}addSettingToMasterSettingsList(t,o,i="",s="",c=[],u=""){var v;const f={containerEl:o,name:i.toLowerCase(),description:s.toLowerCase(),options:c,alias:u};this.searchSettingInfo.has(t)?(v=this.searchSettingInfo.get(t))==null||v.push(f):this.searchSettingInfo.set(t,[f])}createSearchZeroState(t){this.searchZeroState=t.createDiv(),this.searchZeroState.hide(),this.searchZeroState.createEl(ge.Platform.isMobile?"h3":"h2",{text:"No settings match search"}).style.textAlign="center"}generateGeneralSettings(t,o){this.basicSettings(t,o)}generateThemeSettings(t,o){this.customViewStyle(t,o)}generateTemplifySettings(t,o){this.templifyEmbedded(t,o)}templifyEmbedded(t,o){new $i(o,this).setTab(t).setName(Ce.setting.templify.inlineEmbedded.name).setDesc(Ce.setting.templify.inlineEmbedded.desc).addToggle(i=>{i.setValue(this.plugin.settings.templify.inlineEmbedded).onChange(async s=>{this.updateSettings("templify.embedded",s)})})}async customViewStyle(t,o){new $i(o,this).setTab(t).setName(Ce.setting.theme.hideEmbeddedViewHeader.name).setDesc(Ce.setting.theme.hideEmbeddedViewHeader.desc).addToggle(i=>{i.setValue(this.plugin.settings.theme.hideEmbeddedViewHeader).onChange(async s=>{this.updateSettings("theme.hideEmbeddedViewHeader",s)})}),new $i(o,this).setTab(t).setName(Ce.setting.theme.paperLike.name).setDesc(Ce.setting.theme.paperLike.desc).addToggle(i=>{i.setValue(this.plugin.settings.theme.paperLike).onChange(async s=>{this.updateSettings("theme.paperLike",s)})})}basicSettings(t,o){new $i(o,this).setTab(t).setName(Ce.setting.general.enableCacheArea.name).setDesc(Ce.setting.general.enableCacheArea.desc).addToggle(i=>{i.setValue(this.plugin.settings.general.enableCacheArea).onChange(async s=>{this.updateSettings("general.enableCacheArea",s)})}),new $i(o,this).setTab(t).setName(Ce.setting.general.customSavePath.name).setDesc(Ce.setting.general.customSavePath.desc).addSearch(i=>{new M8(this.app,i.inputEl),i.setPlaceholder("Example: folder1/folder2").setValue(this.plugin.settings.general.saveFolder).onChange(async s=>{await this.plugin.app.vault.adapter.exists(ge.normalizePath(s))&&this.updateSettings("general.savePath",s)})})}}class Cb extends ge.SuggestModal{constructor(t,o){super(t);me(this,"editor");me(this,"lastSelectedLeaf");this.editor=o,this.app=t,this.emptyStateText="No views found",this.containerEl.toggleClass("templify-view-suggester-modal",!0),this.lastSelectedLeaf=null}onNoSuggestion(){super.onNoSuggestion()}getSuggestions(t){var s;const o=[];return(s=this.app)==null||s.workspace.iterateAllLeaves(c=>{ka(c)||o.push(c)}),o.filter(c=>c.view.getDisplayText().toLowerCase().contains(t.toLowerCase()))}renderSuggestion(t,o){o.createEl("span",{text:t.view.getDisplayText()}),o.createEl("span",{cls:"view-type-suggestion",text:t.view.getViewType()})}onChooseSuggestion(t){const o=this.editor.getLine(this.editor.getCursor().line);let i="";o.trim()&&(i=`
`);const s=t==null?void 0:t.view.getState(),c=t==null?void 0:t.view.getViewType();this.editor.replaceSelection(i+"```templify-embed\n"+JSON.stringify({state:{...s,uniqueID:Math.random().toString(36).substring(7)},type:c})+"\n```\n"),this.close()}}class L8{constructor(){me(this,"getState",()=>lt.getState().fileState);me(this,"setFiles",n=>{lt.dispatch({type:"SET_FILES",payload:{files:n}})});me(this,"deleteFile",n=>{lt.dispatch({type:"DELETE_FILE",payload:{file:n}})});me(this,"updateFile",(n,t)=>{lt.dispatch({type:"UPDATE_FILE",payload:{path:t,file:n}})});me(this,"insertFile",n=>{lt.dispatch({type:"INSERT_FILE",payload:{file:n}})})}}const Sc=new L8,zn="templify";class z8 extends ge.Plugin{constructor(){super(...arguments);me(this,"quickaddButton");me(this,"containerEl");me(this,"settingTab");me(this,"templifyFileModes",{});me(this,"windowRegistry",new Map);me(this,"rootMap",new Map);me(this,"containerRootMap",new Map);me(this,"_loaded",!1);me(this,"patchedClipboardManager",!1);me(this,"settings")}async onload(){await this.loadSettings(),this.settingTab=new _8(this.app,this),this.addSettingTab(this.settingTab),this.initEditor(),this.initCommands(),this.patchObsidianEvents(),this.patchClipboardManager(),this.registerRibbonIcons(),this.initMouseEvents(),this.registerCodeBlocks(),this.registerGlobalEvents(),this.registerEditorMenu(),this.registerFilesEvent(),this.patchWorkspace(),this.patchItemView(),this.patchMarkdownView(),this.patchWorkspaceLeaf(),this.registerInlineEmebeddedPlugin(),this.app.workspace.onLayoutReady(this.onLayoutReady.bind(this))}unload(){this.rootMap.forEach(t=>{t.unmount()}),Promise.all(this.app.workspace.getLeavesOfType(Fn).map(t=>(this.templifyFileModes[t.id]="markdown",this.setMarkdownView(t)))).then(()=>{super.unload()})}onunload(){var t;super.onunload(),this.windowRegistry.forEach(o=>{o.viewStateReceivers.forEach(i=>i([]))}),this.windowRegistry.clear(),this.templifyFileModes={},(t=this.containerEl)==null||t.detach()}async loadSettings(){const t=localStorage.getItem("language");let o=Kc.en;t&&(t==="zh"||t==="zh-TW")&&(o=Kc["zh-cn"]||o),this.settings=Object.assign({},{...np,template:o.template},await this.loadData()),Ke.setSetting(this.settings)}async saveSettings(){await this.saveData(this.settings),Ke.setSetting(this.settings)}async openCacheArea(t,o){const i=o||this.app.workspace.getLeaf(!0);return await i.setViewState({type:Yi,active:!0,state:{viewType:t}}),i}async openTemplifyMarket(){await this.app.workspace.getLeaf(!0).setViewState({type:Hp,active:!0})}initCommands(){this.registerEvent(this.app.workspace.on("cache-area-create-new",t=>this.openCacheArea("blank",t))),this.addCommand({id:"open-templify-market",name:Ce.display.commands.openTemplifyMarket,callback:async()=>{await this.openTemplifyMarket()}}),this.settings.template.templateData.forEach(t=>{this.addCommand({id:`create-${t.type}-file`,name:`${Ce.display.commands.createNew.prefix} ${t.type} ${Ce.display.commands.createNew.suffix}`,callback:async()=>gk(this.app,t)})}),this.addCommand({id:"embed-view-into-current-note",name:Ce.display.commands.embedViewIntoCurrentNote,editorCallback:t=>{new Cb(this.app,t).open()}}),this.addCommand({id:"toggle-templify-view",name:Ce.display.commands.toggleBetweenTemplifyFileAndRawFile,checkCallback:t=>{const o=this.app.workspace.getActiveFile();if(!o)return!1;const i=this.app.metadataCache.getFileCache(o),s=!!(i!=null&&i.frontmatter)&&!!i.frontmatter[zn];if(t)return s;const c=this.app.workspace.getActiveViewOfType(An);if(c)this.templifyFileModes[c.leaf.id||o.path]="markdown",this.setMarkdownView(c.leaf);else if(s){const u=this.app.workspace.getActiveViewOfType(ge.MarkdownView);u&&(this.templifyFileModes[u.leaf.id||o.path]=Fn,this.setTemplifyView(u.leaf,{viewType:i.frontmatter[zn]}))}}}),this.settings.general.enableCacheArea&&(this.addCommand({id:"focus-on-last-cache-area",name:Ce.display.commands.focusOnLastCacheArea,callback:async()=>{var o;const t=(o=this.app.workspace.getLeavesOfType(Yi))==null?void 0:o.sort((i,s)=>s.activeTime-i.activeTime).first();t&&(this.app.workspace.setActiveLeaf(t),this.app.workspace.trigger("cache-area-focus",t.id))}}),this.addCommand({id:"create-cache-area-from-clipboard",name:Ce.display.commands.createNewBlankCacheAreaFromClipboard,callback:async()=>{const t=await this.openCacheArea("blank");setTimeout(()=>{this.app.workspace.trigger("cache-area-insert-from-clipboard",t.id)},100)}}),this.addCommand({id:"create-cache-area-from-current-file",name:Ce.display.commands.createNewBlankCacheAreaFromFile,editorCallback:async t=>{const o=t.getValue();await navigator.clipboard.writeText(o);const i=await this.openCacheArea("blank");setTimeout(()=>{this.app.workspace.trigger("cache-area-insert-from-clipboard",i.id)},100)}}),this.addCommand({id:"append-current-selection-to-cache-area",name:Ce.display.commands.appendCurrentSelectionToCacheArea,editorCallback:(t,o)=>{const i=t.getSelection();if(!i.trim())return;const s=o.file;if(!s||!(o instanceof ge.MarkdownView))return;const c=this.app.workspace.getLeavesOfType(Yi).first();this.app.workspace.trigger("cache-area-append",c==null?void 0:c.id,i+` [[${s.path}|${s.name.endsWith("md")?s.basename:s.name}]]

`)}}),this.addCommand({id:"clear-all-history",name:Ce.display.commands.clearAllCacheAreas,callback:()=>{const o=`cacheAreaContent:${this.app.appId}:`,i=Object.keys(localStorage);for(const s of i)s.startsWith(o)&&localStorage.removeItem(s)}}),this.addCommand({id:"copy-all-history-to-clipboard",name:Ce.display.commands.copyAllCacheAreasToClipboard,callback:async()=>{const o=`cacheAreaContent:${this.app.appId}:`,i=Object.keys(localStorage);let s="";for(const c of i)if(c.startsWith(o)){const u=localStorage.getItem(c),f=u==null?void 0:u.replace(/^"(.*)"$/,"$1");f&&f.trim()&&(s+=u+`

`)}await navigator.clipboard.writeText(s)}}),this.addCommand({id:"create-blank-cache-area",name:Ce.display.commands.createBlankCacheArea,callback:async()=>this.openCacheArea("blank")}),this.addCommand({id:"create-cornell-cache-area",name:Ce.display.commands.createCornellCacheArea,callback:async()=>this.openCacheArea("cornell")}),this.addCommand({id:"create-daily-cache-area",name:Ce.display.commands.createDailyCacheArea,callback:async()=>this.openCacheArea("daily")}),this.addCommand({id:"create-eisenhower-cache-area",name:Ce.display.commands.createEisenhowerCacheArea,callback:async()=>this.openCacheArea("eisenhower")}))}async setMarkdownView(t,o=!0){await t.setViewState({type:"markdown",state:t.view.getState(),popstate:!0},{focus:o})}async setTemplifyView(t,{viewType:o}){await t.setViewState({type:Fn,state:{...t.view.getState(),viewType:o},popstate:!0})}initMouseEvents(){this.settings.general.enableCacheArea&&this.registerDomEvent(document,"click",async t=>{t.target.closest(".workspace-tab-header-new-tab")&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),this.openTemplifyMarket())})}registerCodeBlocks(){this.registerMarkdownCodeBlockProcessor("templify-embed",(t,o,i)=>{var s;if(t&&!this.rootMap.has(i.docId)&&!o.hasChildNodes()){if((s=i.containerEl)!=null&&s.innerText.contains("start-multi-column"))return;const c=Po.createRoot(o);this.rootMap.set(i.docId,c),c.render(N(Ae.StrictMode,{children:N(_s,{store:lt,context:At,children:N(Av,{state:t,root:c})})}))}})}registerGlobalEvents(){this.registerEvent(this.app.vault.on("modify",t=>{if(Ke.getState().modifiedBySelf){Ke.setModifiedBySelf(!1);return}Ke.setEditingFile(t)})),Ke.setLightOrDarkMode(document.body.hasClass("theme-dark")?"dark":"light"),this.registerEvent(this.app.workspace.on("css-change",()=>{document.body.hasClass("theme-dark")?Ke.setLightOrDarkMode("dark"):Ke.setLightOrDarkMode("light")}))}registerEditorMenu(){this.app.workspace.on("editor-menu",(t,o)=>{var c;const i=[];(c=this.app)==null||c.workspace.iterateAllLeaves(u=>{ka(u)||i.push(u)});let s;t.addItem(u=>{u.setTitle("Embed view").setIcon("layout").setSection("selection-link"),i.length>20?u.onClick(()=>{new Cb(this.app,o).open()}):(s=u.setSubmenu(),i.forEach(f=>{s.addItem(v=>{v.setTitle(f.view.getDisplayText()).onClick(()=>{const m=o.getLine(o.getCursor().line);let g="";m.trim()&&(g=`
`);const b=f==null?void 0:f.view.getState(),w=f==null?void 0:f.view.getViewType();o.replaceSelection(g+"```templify-embed\n"+JSON.stringify({state:{...b,uniqueID:Math.random().toString(36).substring(7)},type:w})+"\n```\n")})})}))})})}registerFilesEvent(){const t=this.app.vault.getMarkdownFiles();Sc.setFiles(t),this.registerEvent(this.app.vault.on("delete",o=>{o instanceof ge.TFile&&Sc.deleteFile(o)})),this.registerEvent(this.app.vault.on("create",o=>{o instanceof ge.TFile&&Sc.insertFile(o)})),this.registerEvent(this.app.vault.on("rename",(o,i)=>{o instanceof ge.TFile&&Sc.updateFile(o,i)}))}initMobileButton(){ge.Platform.isMobile&&this.settings.general.enableCacheArea&&(this.containerEl=document.body.createEl("div",{cls:"cache-area-quick-add-button-container is-mobile-button is-hidden"}),this.quickaddButton=new ge.ButtonComponent(this.containerEl),this.quickaddButton.setClass("cache-area-quick-add-button"),this.quickaddButton.buttonEl.toggleClass("clickable-icon",!0),this.quickaddButton.setIcon("plus"),this.quickaddButton.onClick(async()=>{this.quickaddButton.buttonEl.toggleClass("is-active",!0),setTimeout(async()=>{this.quickaddButton.buttonEl.toggleClass("is-active",!1),await this.openCacheArea("blank")},300)}))}registerRibbonIcons(){this.addRibbonIcon("store",Ce.display.ribbon,async()=>{await this.openTemplifyMarket()})}patchWorkspace(){let t=!1;const o=this,i=tn(ge.Workspace.prototype,{getActiveViewOfType:s=>function(c){const u=s.call(this,c);if(!u&&(c==null?void 0:c.VIEW_TYPE)==="markdown"){const f=this.activeLeaf;if(f.view instanceof An)return f.view}return u},getLeaf:s=>function(...c){const u=this.activeLeaf;if(u){const f=u.parent.containerEl.parentElement;if(f!=null&&f.hasClass("tv-content")){if(u.view.getViewType()==="markdown")return u;const v=o.app.workspace.getMostRecentLeaf();v&&this.setActiveLeaf(v)}return s.call(this,...c)}return s.call(this,...c)},changeLayout(s){return async function(c){t=!0;try{await s.call(this,c)}finally{t=!1}}},iterateLeaves(s){return function(c,u){if(s.call(this,c,u))return!0;const f=typeof c=="function"?c:u,v=typeof c=="function"?u:c;if(!v||t)return!1;if(v===o.app.workspace.rootSplit||ge.WorkspaceContainer&&v instanceof ge.WorkspaceContainer){for(const m of hs.popoversForWindow(v.win))if(s.call(this,f,m.rootSplit))return!1}return!1}},setActiveLeaf(s){return function(c,u){var f,v;ka(c)&&(s.call(this,c,u),c.activeTime=17e11),s.call(this,c,u),c.view instanceof An&&(o.app.workspace.activeEditor=(f=Ke.getState().instance)==null?void 0:f.owner,c.view.editor=(v=Ke.getState().instance)==null?void 0:v.editor)}},getActiveFile:s=>function(){var u,f,v;const c=s.call(this);return((u=this.activeLeaf)==null?void 0:u.view)instanceof An&&((v=(f=this.activeLeaf)==null?void 0:f.view)==null?void 0:v.file)||c},onDragLeaf(s){return function(c,u){return s.call(this,c,u)}},pushUndoHistory(s){return function(c,u,...f){if(c.getViewState().type!=="search")return s.call(this,c,u,...f)}}});this.register(i)}patchItemView(){const t=this,[o,i]=ge.View.prototype.onPaneMenu?[ge.View,"onPaneMenu"]:[ge.ItemView,"onMoreOptionsMenu"],s=tn(o.prototype,{[i](c){return function(u,...f){var b,w,k;(this.leaf?hs.forLeaf(this.leaf):void 0)||u.addItem(x=>{var E,C;(C=(E=x.setIcon("copy").setTitle(Ce.display.menu.copyState).onClick(async()=>{var O,M;const T=(O=this.leaf)==null?void 0:O.view.getState(),D=(M=this.leaf)==null?void 0:M.view.getViewType();if(T){const R="```templify-embed\n"+JSON.stringify({state:{...T,uniqueID:Math.random().toString(36).substring(7)},type:D})+"\n```\n";await navigator.clipboard.writeText(R)}})).setSection)==null||C.call(E,"info")});const m=((b=this.leaf)==null?void 0:b.view)instanceof An;if(((w=this.leaf)==null?void 0:w.view)instanceof ge.MarkdownView&&!m){const x=(k=this.leaf)==null?void 0:k.view.file,E=t.app.metadataCache.getFileCache(x);E!=null&&E.frontmatter&&E.frontmatter[zn]&&u.addItem(C=>{var T,D;(D=(T=C.setIcon("layout-template").setTitle(Ce.display.menu.toTemplify).onClick(async()=>{var O,M;t.templifyFileModes[((O=this.leaf)==null?void 0:O.view.leaf).id||x.path]=Fn,await t.setTemplifyView((M=this.leaf)==null?void 0:M.view.leaf,{viewType:E.frontmatter[zn]})})).setSection)==null||D.call(T,"pane")})}return c.call(this,u,...f)}}});this.register(s)}patchMarkdownView(){const t=this;this.register(tn(ge.MarkdownView.prototype,{onLoadFile:o=>function(i){const s=o.call(this,i),c=t.app.metadataCache.getFileCache(i);if(c!=null&&c.frontmatter&&c.frontmatter[zn]){if(this.addedActions)return s;this.addAction("layout-template",Ce.display.menu.toTemplify,()=>{t.app.commands.executeCommandById("templify:toggle-templify-view")}),this.addedActions=!0}return s}}))}patchObsidianEvents(){this.register(tn(ge.MetadataCache.prototype,{getFileCache:o=>function(i){return!(i!=null&&i.path)&&!i?null:o.call(this,i)}})),this.register(tn(ge.WorkspaceLeaf.prototype,{detach:o=>function(){const i=this.view;if(i instanceof Ji){Ke.getState().closedBySelf?(Ke.setClosedByCacheArea(!1),o.call(this)):i.app.workspace.trigger("cache-area-confirm-close",i.leaf.id);return}o.call(this)}}));const t=()=>{var s;const o=(s=this.app.workspace.getLeavesOfType("empty").first())==null?void 0:s.view;if(!o)return!1;const i=tn(o.constructor.prototype,{onload:c=>function(...u){if(c.call(this,...u),this.actionsEl.find(".cache-area-create-new"))return;this.addAction("plus","Create new cache area",()=>{this.app.workspace.trigger("cache-area-create-new",this.leaf)}).toggleClass("cache-area-create-new",!0)}});this.register(i);for(const c of this.app.workspace.getLeavesOfType("empty"))c.rebuildView();return!0};this.app.workspace.onLayoutReady(()=>{if(!t()){const o=this.app.workspace.on("layout-change",()=>{t()&&this.app.workspace.offref(o)});this.registerEvent(o)}})}patchClipboardManager(){const t=this.app.workspace.on("patch-clipboard-manager",o=>{this.patchedClipboardManager||(this.patchedClipboardManager=!0,this.register(tn(o.constructor.prototype,{handlePaste:i=>function(s){var c,u;if(((c=this.info)==null?void 0:c.view)instanceof An){const f=s.target.closest(".mod-cm6"),v=f==null?void 0:f.getAttribute("data-templify"),m=Ke.getInstance(`${(u=this.info)==null?void 0:u.view.leaf.id}-${v}`);m&&(this.info.editor=m)}return i.call(this,s)}})),this.app.workspace.offref(t))});this.registerEvent(t)}initTemplifyView(){const t=this.app.workspace.getLeavesOfType("markdown");for(const o of t){const i=o.view.file,s=this.app.metadataCache.getFileCache(i);s!=null&&s.frontmatter&&s.frontmatter[zn]&&[...np.template.templateData,...this.settings.template.templateData].map(u=>u.type).includes(s.frontmatter[zn])&&(this.templifyFileModes[o.id]=Fn,this.setTemplifyView(o,{viewType:s.frontmatter[zn]}))}}patchEditor(){const t=Ke.getState().editor,o=this;this.register(tn(t.constructor.prototype,{onUpdate:i=>function(...s){var u,f;const c=i.call(this,s);if(this.owner.getViewType()==="templify-file-view"||this.owner instanceof An){const v=this.get();this.handleFileUpdate&&this.handleFileUpdate(this.owner,v,(u=this.component)==null?void 0:u.contentType,(f=this.component)==null?void 0:f.file)}return c},getMode:i=>function(){return this.owner instanceof An?"source":i.call(this)},focus:i=>function(){return this.owner instanceof An?(o.app.workspace.activeEditor=this.getInstance&&this.getInstance(),i.call(this)):i.call(this)}}))}patchWorkspaceLeaf(){const t=this;this.register(tn(ge.WorkspaceLeaf.prototype,{detach(o){return function(){var s;const i=(s=this.view)==null?void 0:s.getState();return i!=null&&i.file&&t.templifyFileModes[this.id||i.file]&&delete t.templifyFileModes[this.id||i.file],o.apply(this)}},setViewState(o){return function(i,...s){var c,u;if(t._loaded&&i.type==="markdown"&&((c=i.state)!=null&&c.file)&&t.templifyFileModes[this.id||i.state.file]!=="markdown"){const f=t.app.metadataCache.getCache(i.state.file);if(f!=null&&f.frontmatter&&f.frontmatter[zn]){const v=((u=t.settings)==null?void 0:u.template.templateData.map(w=>w.type))||[],m=np.template.templateData.map(w=>w.type);if(![...v,...m].includes(f.frontmatter[zn]))return o.apply(this,[i,...s]);const b={...i,type:Fn,state:{...i.state,viewType:f.frontmatter[zn]}};return t.templifyFileModes[i.state.file]=Fn,o.apply(this,[b,...s])}}return o.apply(this,[i,...s])}},getRoot(o){return function(){const i=o.call(this);return(i==null?void 0:i.getRoot)===this.getRoot?i:i==null?void 0:i.getRoot()}},setPinned(o){return function(i){o.call(this,i),ka(this)&&!i&&this.setPinned(!0)}},openFile(o){return function(i,s){if(ka(this)){setTimeout(tn(ge.Workspace.prototype,{recordMostRecentOpenedFile(f){return function(v){if(v!==i)return f.call(this,v)}}}),1);const u=this.app.plugins.plugins["recent-files-obsidian"];u&&setTimeout(tn(u,{shouldAddFile(f){return function(v){return v!==i&&f.call(this,v)}}}),1)}const c=o.call(this,i,s);return setTimeout(()=>{const u=this.parent.containerEl.parentElement;if(!(u!=null&&u.classList.contains("tv-content"))||i.extension!="canvas")return;const f=this.view.canvas;setTimeout(()=>{var v,m;if(f&&((v=s==null?void 0:s.eState)!=null&&v.match)){let g=(m=f.data.nodes)==null?void 0:m.find(b=>b.text===s.eState.match.content);g=f.nodes.get(g.id),f.selectOnly(g),f.zoomToSelection()}},20)},1),c}}}))}registerInlineEmebeddedPlugin(){}initEditor(){_C(this.app)()}async onLayoutReady(){this.registerView(Yi,t=>new Ji(t)),this.registerView(Fn,t=>new An(t,this)),this.registerView(Hp,t=>new xL(t,this)),this.patchEditor(),this.initTemplifyView(),Ke.setApp(this.app),Ke.setPluginManifest(this.manifest),Ke.setPlugin(this)}}module.exports=z8;
