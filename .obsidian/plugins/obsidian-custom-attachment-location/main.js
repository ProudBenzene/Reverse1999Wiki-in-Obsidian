/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault: () => extractDefault,
    process: () => {
      const browserProcess = {
        browser: true,
        cwd: () => "/",
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var By=Object.create;var qi=Object.defineProperty;var $y=Object.getOwnPropertyDescriptor;var Vy=Object.getOwnPropertyNames;var Yy=Object.getPrototypeOf,Wy=Object.prototype.hasOwnProperty;var Y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Tc=(t,e)=>{for(var n in e)qi(t,n,{get:e[n],enumerable:!0})},_c=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Vy(e))!Wy.call(t,s)&&s!==n&&qi(t,s,{get:()=>e[s],enumerable:!(r=$y(e,s))||r.enumerable});return t};var Be=(t,e,n)=>(n=t!=null?By(Yy(t)):{},_c(e||!t||!t.__esModule?qi(n,"default",{value:t,enumerable:!0}):n,t)),zy=t=>_c(qi({},"__esModule",{value:!0}),t);var Xt=Y((Fa,tr)=>{(function(t,e){typeof Fa=="object"&&typeof tr<"u"?tr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(Fa,function(){"use strict";var t;function e(){return t.apply(null,arguments)}function n(i){t=i}function r(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function s(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function o(i,a){return Object.prototype.hasOwnProperty.call(i,a)}function l(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var a;for(a in i)if(o(i,a))return!1;return!0}function u(i){return i===void 0}function f(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function h(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function m(i,a){var c=[],d,y=i.length;for(d=0;d<y;++d)c.push(a(i[d],d));return c}function p(i,a){for(var c in a)o(a,c)&&(i[c]=a[c]);return o(a,"toString")&&(i.toString=a.toString),o(a,"valueOf")&&(i.valueOf=a.valueOf),i}function w(i,a,c,d){return ic(i,a,c,d,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function x(i){return i._pf==null&&(i._pf=g()),i._pf}var F;Array.prototype.some?F=Array.prototype.some:F=function(i){var a=Object(this),c=a.length>>>0,d;for(d=0;d<c;d++)if(d in a&&i.call(this,a[d],d,a))return!0;return!1};function S(i){var a=null,c=!1,d=i._d&&!isNaN(i._d.getTime());if(d&&(a=x(i),c=F.call(a.parsedDateParts,function(y){return y!=null}),d=a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&c),i._strict&&(d=d&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=d;else return d;return i._isValid}function E(i){var a=w(NaN);return i!=null?p(x(a),i):x(a).userInvalidated=!0,a}var T=e.momentProperties=[],P=!1;function W(i,a){var c,d,y,k=T.length;if(u(a._isAMomentObject)||(i._isAMomentObject=a._isAMomentObject),u(a._i)||(i._i=a._i),u(a._f)||(i._f=a._f),u(a._l)||(i._l=a._l),u(a._strict)||(i._strict=a._strict),u(a._tzm)||(i._tzm=a._tzm),u(a._isUTC)||(i._isUTC=a._isUTC),u(a._offset)||(i._offset=a._offset),u(a._pf)||(i._pf=x(a)),u(a._locale)||(i._locale=a._locale),k>0)for(c=0;c<k;c++)d=T[c],y=a[d],u(y)||(i[d]=y);return i}function z(i){W(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,e.updateOffset(this),P=!1)}function v(i){return i instanceof z||i!=null&&i._isAMomentObject!=null}function ne(i){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+i)}function X(i,a){var c=!0;return p(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,i),c){var d=[],y,k,C,D=arguments.length;for(k=0;k<D;k++){if(y="",typeof arguments[k]=="object"){y+=`
[`+k+"] ";for(C in arguments[0])o(arguments[0],C)&&(y+=C+": "+arguments[0][C]+", ");y=y.slice(0,-2)}else y=arguments[k];d.push(y)}ne(i+`
Arguments: `+Array.prototype.slice.call(d).join("")+`
`+new Error().stack),c=!1}return a.apply(this,arguments)},a)}var Z={};function ae(i,a){e.deprecationHandler!=null&&e.deprecationHandler(i,a),Z[i]||(ne(a),Z[i]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function fe(i){return typeof Function<"u"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function ie(i){var a,c;for(c in i)o(i,c)&&(a=i[c],fe(a)?this[c]=a:this["_"+c]=a);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function V(i,a){var c=p({},i),d;for(d in a)o(a,d)&&(s(i[d])&&s(a[d])?(c[d]={},p(c[d],i[d]),p(c[d],a[d])):a[d]!=null?c[d]=a[d]:delete c[d]);for(d in i)o(i,d)&&!o(a,d)&&s(i[d])&&(c[d]=p({},c[d]));return c}function q(i){i!=null&&this.set(i)}var U;Object.keys?U=Object.keys:U=function(i){var a,c=[];for(a in i)o(i,a)&&c.push(a);return c};var se={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function we(i,a,c){var d=this._calendar[i]||this._calendar.sameElse;return fe(d)?d.call(a,c):d}function be(i,a,c){var d=""+Math.abs(i),y=a-d.length,k=i>=0;return(k?c?"+":"":"-")+Math.pow(10,Math.max(0,y)).toString().substr(1)+d}var Ze=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,De={},Le={};function b(i,a,c,d){var y=d;typeof d=="string"&&(y=function(){return this[d]()}),i&&(Le[i]=y),a&&(Le[a[0]]=function(){return be(y.apply(this,arguments),a[1],a[2])}),c&&(Le[c]=function(){return this.localeData().ordinal(y.apply(this,arguments),i)})}function We(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function $t(i){var a=i.match(Ze),c,d;for(c=0,d=a.length;c<d;c++)Le[a[c]]?a[c]=Le[a[c]]:a[c]=We(a[c]);return function(y){var k="",C;for(C=0;C<d;C++)k+=fe(a[C])?a[C].call(y,i):a[C];return k}}function un(i,a){return i.isValid()?(a=Tn(a,i.localeData()),De[a]=De[a]||$t(a),De[a](i)):i.localeData().invalidDate()}function Tn(i,a){var c=5;function d(y){return a.longDateFormat(y)||y}for(A.lastIndex=0;c>=0&&A.test(i);)i=i.replace(A,d),A.lastIndex=0,c-=1;return i}var ve={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function _n(i){var a=this._longDateFormat[i],c=this._longDateFormat[i.toUpperCase()];return a||!c?a:(this._longDateFormat[i]=c.match(Ze).map(function(d){return d==="MMMM"||d==="MM"||d==="DD"||d==="dddd"?d.slice(1):d}).join(""),this._longDateFormat[i])}var xt="Invalid date";function Vt(){return this._invalidDate}var cn="%d",Dr=/\d{1,2}/;function oa(i){return this._ordinal.replace("%d",i)}var Ti={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _i(i,a,c,d){var y=this._relativeTime[c];return fe(y)?y(i,a,c,d):y.replace(/%d/i,i)}function Fi(i,a){var c=this._relativeTime[i>0?"future":"past"];return fe(c)?c(a):c.replace(/%s/i,a)}var Pi={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ze(i){return typeof i=="string"?Pi[i]||Pi[i.toLowerCase()]:void 0}function Gn(i){var a={},c,d;for(d in i)o(i,d)&&(c=ze(d),c&&(a[c]=i[d]));return a}var aa={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function la(i){var a=[],c;for(c in i)o(i,c)&&a.push({unit:c,priority:aa[c]});return a.sort(function(d,y){return d.priority-y.priority}),a}var Ii=/\d/,Ue=/\d\d/,Oi=/\d{3}/,_=/\d{4}/,O=/[+-]?\d{6}/,R=/\d\d?/,J=/\d\d\d\d?/,le=/\d\d\d\d\d\d?/,Me=/\d{1,3}/,Et=/\d{1,4}/,Je=/[+-]?\d{1,6}/,ft=/\d+/,Ft=/[+-]?\d+/,He=/Z|[+-]\d\d:?\d\d/gi,Ct=/Z|[+-]\d\d(?::?\d\d)?/gi,vt=/[+-]?\d+(\.\d{1,3})?/,Lr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,jn=/^[1-9]\d?/,ua=/^([1-9]\d|\d)/,Ri;Ri={};function N(i,a,c){Ri[i]=fe(a)?a:function(d,y){return d&&c?c:a}}function sg(i,a){return o(Ri,i)?Ri[i](a._strict,a._locale):new RegExp(og(i))}function og(i){return Yt(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,d,y,k){return c||d||y||k}))}function Yt(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function dt(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function Q(i){var a=+i,c=0;return a!==0&&isFinite(a)&&(c=dt(a)),c}var ca={};function ue(i,a){var c,d=a,y;for(typeof i=="string"&&(i=[i]),f(a)&&(d=function(k,C){C[a]=Q(k)}),y=i.length,c=0;c<y;c++)ca[i[c]]=d}function Mr(i,a){ue(i,function(c,d,y,k){y._w=y._w||{},a(c,y._w,y,k)})}function ag(i,a,c){a!=null&&o(ca,i)&&ca[i](a,c._a,c,i)}function Di(i){return i%4===0&&i%100!==0||i%400===0}var Ne=0,Wt=1,Pt=2,Se=3,St=4,zt=5,Fn=6,lg=7,ug=8;b("Y",0,0,function(){var i=this.year();return i<=9999?be(i,4):"+"+i}),b(0,["YY",2],0,function(){return this.year()%100}),b(0,["YYYY",4],0,"year"),b(0,["YYYYY",5],0,"year"),b(0,["YYYYYY",6,!0],0,"year"),N("Y",Ft),N("YY",R,Ue),N("YYYY",Et,_),N("YYYYY",Je,O),N("YYYYYY",Je,O),ue(["YYYYY","YYYYYY"],Ne),ue("YYYY",function(i,a){a[Ne]=i.length===2?e.parseTwoDigitYear(i):Q(i)}),ue("YY",function(i,a){a[Ne]=e.parseTwoDigitYear(i)}),ue("Y",function(i,a){a[Ne]=parseInt(i,10)});function Nr(i){return Di(i)?366:365}e.parseTwoDigitYear=function(i){return Q(i)+(Q(i)>68?1900:2e3)};var Wu=Kn("FullYear",!0);function cg(){return Di(this.year())}function Kn(i,a){return function(c){return c!=null?(zu(this,i,c),e.updateOffset(this,a),this):Br(this,i)}}function Br(i,a){if(!i.isValid())return NaN;var c=i._d,d=i._isUTC;switch(a){case"Milliseconds":return d?c.getUTCMilliseconds():c.getMilliseconds();case"Seconds":return d?c.getUTCSeconds():c.getSeconds();case"Minutes":return d?c.getUTCMinutes():c.getMinutes();case"Hours":return d?c.getUTCHours():c.getHours();case"Date":return d?c.getUTCDate():c.getDate();case"Day":return d?c.getUTCDay():c.getDay();case"Month":return d?c.getUTCMonth():c.getMonth();case"FullYear":return d?c.getUTCFullYear():c.getFullYear();default:return NaN}}function zu(i,a,c){var d,y,k,C,D;if(!(!i.isValid()||isNaN(c))){switch(d=i._d,y=i._isUTC,a){case"Milliseconds":return void(y?d.setUTCMilliseconds(c):d.setMilliseconds(c));case"Seconds":return void(y?d.setUTCSeconds(c):d.setSeconds(c));case"Minutes":return void(y?d.setUTCMinutes(c):d.setMinutes(c));case"Hours":return void(y?d.setUTCHours(c):d.setHours(c));case"Date":return void(y?d.setUTCDate(c):d.setDate(c));case"FullYear":break;default:return}k=c,C=i.month(),D=i.date(),D=D===29&&C===1&&!Di(k)?28:D,y?d.setUTCFullYear(k,C,D):d.setFullYear(k,C,D)}}function fg(i){return i=ze(i),fe(this[i])?this[i]():this}function dg(i,a){if(typeof i=="object"){i=Gn(i);var c=la(i),d,y=c.length;for(d=0;d<y;d++)this[c[d].unit](i[c[d].unit])}else if(i=ze(i),fe(this[i]))return this[i](a);return this}function hg(i,a){return(i%a+a)%a}var Ae;Array.prototype.indexOf?Ae=Array.prototype.indexOf:Ae=function(i){var a;for(a=0;a<this.length;++a)if(this[a]===i)return a;return-1};function fa(i,a){if(isNaN(i)||isNaN(a))return NaN;var c=hg(a,12);return i+=(a-c)/12,c===1?Di(i)?29:28:31-c%7%2}b("M",["MM",2],"Mo",function(){return this.month()+1}),b("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)}),b("MMMM",0,0,function(i){return this.localeData().months(this,i)}),N("M",R,jn),N("MM",R,Ue),N("MMM",function(i,a){return a.monthsShortRegex(i)}),N("MMMM",function(i,a){return a.monthsRegex(i)}),ue(["M","MM"],function(i,a){a[Wt]=Q(i)-1}),ue(["MMM","MMMM"],function(i,a,c,d){var y=c._locale.monthsParse(i,d,c._strict);y!=null?a[Wt]=y:x(c).invalidMonth=i});var mg="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Uu="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Hu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pg=Lr,gg=Lr;function wg(i,a){return i?r(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||Hu).test(a)?"format":"standalone"][i.month()]:r(this._months)?this._months:this._months.standalone}function yg(i,a){return i?r(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[Hu.test(a)?"format":"standalone"][i.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function bg(i,a,c){var d,y,k,C=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)k=w([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(k,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(k,"").toLocaleLowerCase();return c?a==="MMM"?(y=Ae.call(this._shortMonthsParse,C),y!==-1?y:null):(y=Ae.call(this._longMonthsParse,C),y!==-1?y:null):a==="MMM"?(y=Ae.call(this._shortMonthsParse,C),y!==-1?y:(y=Ae.call(this._longMonthsParse,C),y!==-1?y:null)):(y=Ae.call(this._longMonthsParse,C),y!==-1?y:(y=Ae.call(this._shortMonthsParse,C),y!==-1?y:null))}function kg(i,a,c){var d,y,k;if(this._monthsParseExact)return bg.call(this,i,a,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(y=w([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(y,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(y,"").replace(".","")+"$","i")),!c&&!this._monthsParse[d]&&(k="^"+this.months(y,"")+"|^"+this.monthsShort(y,""),this._monthsParse[d]=new RegExp(k.replace(".",""),"i")),c&&a==="MMMM"&&this._longMonthsParse[d].test(i))return d;if(c&&a==="MMM"&&this._shortMonthsParse[d].test(i))return d;if(!c&&this._monthsParse[d].test(i))return d}}function qu(i,a){if(!i.isValid())return i;if(typeof a=="string"){if(/^\d+$/.test(a))a=Q(a);else if(a=i.localeData().monthsParse(a),!f(a))return i}var c=a,d=i.date();return d=d<29?d:Math.min(d,fa(i.year(),c)),i._isUTC?i._d.setUTCMonth(c,d):i._d.setMonth(c,d),i}function Gu(i){return i!=null?(qu(this,i),e.updateOffset(this,!0),this):Br(this,"Month")}function Ag(){return fa(this.year(),this.month())}function xg(i){return this._monthsParseExact?(o(this,"_monthsRegex")||ju.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=pg),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function Eg(i){return this._monthsParseExact?(o(this,"_monthsRegex")||ju.call(this),i?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=gg),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function ju(){function i(H,te){return te.length-H.length}var a=[],c=[],d=[],y,k,C,D;for(y=0;y<12;y++)k=w([2e3,y]),C=Yt(this.monthsShort(k,"")),D=Yt(this.months(k,"")),a.push(C),c.push(D),d.push(D),d.push(C);a.sort(i),c.sort(i),d.sort(i),this._monthsRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Cg(i,a,c,d,y,k,C){var D;return i<100&&i>=0?(D=new Date(i+400,a,c,d,y,k,C),isFinite(D.getFullYear())&&D.setFullYear(i)):D=new Date(i,a,c,d,y,k,C),D}function $r(i){var a,c;return i<100&&i>=0?(c=Array.prototype.slice.call(arguments),c[0]=i+400,a=new Date(Date.UTC.apply(null,c)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(i)):a=new Date(Date.UTC.apply(null,arguments)),a}function Li(i,a,c){var d=7+a-c,y=(7+$r(i,0,d).getUTCDay()-a)%7;return-y+d-1}function Ku(i,a,c,d,y){var k=(7+c-d)%7,C=Li(i,d,y),D=1+7*(a-1)+k+C,H,te;return D<=0?(H=i-1,te=Nr(H)+D):D>Nr(i)?(H=i+1,te=D-Nr(i)):(H=i,te=D),{year:H,dayOfYear:te}}function Vr(i,a,c){var d=Li(i.year(),a,c),y=Math.floor((i.dayOfYear()-d-1)/7)+1,k,C;return y<1?(C=i.year()-1,k=y+Ut(C,a,c)):y>Ut(i.year(),a,c)?(k=y-Ut(i.year(),a,c),C=i.year()+1):(C=i.year(),k=y),{week:k,year:C}}function Ut(i,a,c){var d=Li(i,a,c),y=Li(i+1,a,c);return(Nr(i)-d+y)/7}b("w",["ww",2],"wo","week"),b("W",["WW",2],"Wo","isoWeek"),N("w",R,jn),N("ww",R,Ue),N("W",R,jn),N("WW",R,Ue),Mr(["w","ww","W","WW"],function(i,a,c,d){a[d.substr(0,1)]=Q(i)});function vg(i){return Vr(i,this._week.dow,this._week.doy).week}var Sg={dow:0,doy:6};function Tg(){return this._week.dow}function _g(){return this._week.doy}function Fg(i){var a=this.localeData().week(this);return i==null?a:this.add((i-a)*7,"d")}function Pg(i){var a=Vr(this,1,4).week;return i==null?a:this.add((i-a)*7,"d")}b("d",0,"do","day"),b("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)}),b("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)}),b("dddd",0,0,function(i){return this.localeData().weekdays(this,i)}),b("e",0,0,"weekday"),b("E",0,0,"isoWeekday"),N("d",R),N("e",R),N("E",R),N("dd",function(i,a){return a.weekdaysMinRegex(i)}),N("ddd",function(i,a){return a.weekdaysShortRegex(i)}),N("dddd",function(i,a){return a.weekdaysRegex(i)}),Mr(["dd","ddd","dddd"],function(i,a,c,d){var y=c._locale.weekdaysParse(i,d,c._strict);y!=null?a.d=y:x(c).invalidWeekday=i}),Mr(["d","e","E"],function(i,a,c,d){a[d]=Q(i)});function Ig(i,a){return typeof i!="string"?i:isNaN(i)?(i=a.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function Og(i,a){return typeof i=="string"?a.weekdaysParse(i)%7||7:isNaN(i)?null:i}function da(i,a){return i.slice(a,7).concat(i.slice(0,a))}var Rg="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xu="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dg="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lg=Lr,Mg=Lr,Ng=Lr;function Bg(i,a){var c=r(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return i===!0?da(c,this._week.dow):i?c[i.day()]:c}function $g(i){return i===!0?da(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function Vg(i){return i===!0?da(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function Yg(i,a,c){var d,y,k,C=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)k=w([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(k,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(k,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(k,"").toLocaleLowerCase();return c?a==="dddd"?(y=Ae.call(this._weekdaysParse,C),y!==-1?y:null):a==="ddd"?(y=Ae.call(this._shortWeekdaysParse,C),y!==-1?y:null):(y=Ae.call(this._minWeekdaysParse,C),y!==-1?y:null):a==="dddd"?(y=Ae.call(this._weekdaysParse,C),y!==-1||(y=Ae.call(this._shortWeekdaysParse,C),y!==-1)?y:(y=Ae.call(this._minWeekdaysParse,C),y!==-1?y:null)):a==="ddd"?(y=Ae.call(this._shortWeekdaysParse,C),y!==-1||(y=Ae.call(this._weekdaysParse,C),y!==-1)?y:(y=Ae.call(this._minWeekdaysParse,C),y!==-1?y:null)):(y=Ae.call(this._minWeekdaysParse,C),y!==-1||(y=Ae.call(this._weekdaysParse,C),y!==-1)?y:(y=Ae.call(this._shortWeekdaysParse,C),y!==-1?y:null))}function Wg(i,a,c){var d,y,k;if(this._weekdaysParseExact)return Yg.call(this,i,a,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(y=w([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(y,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(y,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(y,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[d]||(k="^"+this.weekdays(y,"")+"|^"+this.weekdaysShort(y,"")+"|^"+this.weekdaysMin(y,""),this._weekdaysParse[d]=new RegExp(k.replace(".",""),"i")),c&&a==="dddd"&&this._fullWeekdaysParse[d].test(i))return d;if(c&&a==="ddd"&&this._shortWeekdaysParse[d].test(i))return d;if(c&&a==="dd"&&this._minWeekdaysParse[d].test(i))return d;if(!c&&this._weekdaysParse[d].test(i))return d}}function zg(i){if(!this.isValid())return i!=null?this:NaN;var a=Br(this,"Day");return i!=null?(i=Ig(i,this.localeData()),this.add(i-a,"d")):a}function Ug(i){if(!this.isValid())return i!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return i==null?a:this.add(i-a,"d")}function Hg(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var a=Og(i,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function qg(i){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ha.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Lg),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function Gg(i){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ha.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mg),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jg(i){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ha.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ng),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ha(){function i(qe,Kt){return Kt.length-qe.length}var a=[],c=[],d=[],y=[],k,C,D,H,te;for(k=0;k<7;k++)C=w([2e3,1]).day(k),D=Yt(this.weekdaysMin(C,"")),H=Yt(this.weekdaysShort(C,"")),te=Yt(this.weekdays(C,"")),a.push(D),c.push(H),d.push(te),y.push(D),y.push(H),y.push(te);a.sort(i),c.sort(i),d.sort(i),y.sort(i),this._weekdaysRegex=new RegExp("^("+y.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ma(){return this.hours()%12||12}function Kg(){return this.hours()||24}b("H",["HH",2],0,"hour"),b("h",["hh",2],0,ma),b("k",["kk",2],0,Kg),b("hmm",0,0,function(){return""+ma.apply(this)+be(this.minutes(),2)}),b("hmmss",0,0,function(){return""+ma.apply(this)+be(this.minutes(),2)+be(this.seconds(),2)}),b("Hmm",0,0,function(){return""+this.hours()+be(this.minutes(),2)}),b("Hmmss",0,0,function(){return""+this.hours()+be(this.minutes(),2)+be(this.seconds(),2)});function Zu(i,a){b(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}Zu("a",!0),Zu("A",!1);function Ju(i,a){return a._meridiemParse}N("a",Ju),N("A",Ju),N("H",R,ua),N("h",R,jn),N("k",R,jn),N("HH",R,Ue),N("hh",R,Ue),N("kk",R,Ue),N("hmm",J),N("hmmss",le),N("Hmm",J),N("Hmmss",le),ue(["H","HH"],Se),ue(["k","kk"],function(i,a,c){var d=Q(i);a[Se]=d===24?0:d}),ue(["a","A"],function(i,a,c){c._isPm=c._locale.isPM(i),c._meridiem=i}),ue(["h","hh"],function(i,a,c){a[Se]=Q(i),x(c).bigHour=!0}),ue("hmm",function(i,a,c){var d=i.length-2;a[Se]=Q(i.substr(0,d)),a[St]=Q(i.substr(d)),x(c).bigHour=!0}),ue("hmmss",function(i,a,c){var d=i.length-4,y=i.length-2;a[Se]=Q(i.substr(0,d)),a[St]=Q(i.substr(d,2)),a[zt]=Q(i.substr(y)),x(c).bigHour=!0}),ue("Hmm",function(i,a,c){var d=i.length-2;a[Se]=Q(i.substr(0,d)),a[St]=Q(i.substr(d))}),ue("Hmmss",function(i,a,c){var d=i.length-4,y=i.length-2;a[Se]=Q(i.substr(0,d)),a[St]=Q(i.substr(d,2)),a[zt]=Q(i.substr(y))});function Xg(i){return(i+"").toLowerCase().charAt(0)==="p"}var Zg=/[ap]\.?m?\.?/i,Jg=Kn("Hours",!0);function Qg(i,a,c){return i>11?c?"pm":"PM":c?"am":"AM"}var Qu={calendar:se,longDateFormat:ve,invalidDate:xt,ordinal:cn,dayOfMonthOrdinalParse:Dr,relativeTime:Ti,months:mg,monthsShort:Uu,week:Sg,weekdays:Rg,weekdaysMin:Dg,weekdaysShort:Xu,meridiemParse:Zg},me={},Yr={},Wr;function e0(i,a){var c,d=Math.min(i.length,a.length);for(c=0;c<d;c+=1)if(i[c]!==a[c])return c;return d}function ec(i){return i&&i.toLowerCase().replace("_","-")}function t0(i){for(var a=0,c,d,y,k;a<i.length;){for(k=ec(i[a]).split("-"),c=k.length,d=ec(i[a+1]),d=d?d.split("-"):null;c>0;){if(y=Mi(k.slice(0,c).join("-")),y)return y;if(d&&d.length>=c&&e0(k,d)>=c-1)break;c--}a++}return Wr}function n0(i){return!!(i&&i.match("^[^/\\\\]*$"))}function Mi(i){var a=null,c;if(me[i]===void 0&&typeof tr<"u"&&tr&&tr.exports&&n0(i))try{a=Wr._abbr,c=require,c("./locale/"+i),fn(a)}catch{me[i]=null}return me[i]}function fn(i,a){var c;return i&&(u(a)?c=Ht(i):c=pa(i,a),c?Wr=c:typeof console<"u"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),Wr._abbr}function pa(i,a){if(a!==null){var c,d=Qu;if(a.abbr=i,me[i]!=null)ae("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=me[i]._config;else if(a.parentLocale!=null)if(me[a.parentLocale]!=null)d=me[a.parentLocale]._config;else if(c=Mi(a.parentLocale),c!=null)d=c._config;else return Yr[a.parentLocale]||(Yr[a.parentLocale]=[]),Yr[a.parentLocale].push({name:i,config:a}),null;return me[i]=new q(V(d,a)),Yr[i]&&Yr[i].forEach(function(y){pa(y.name,y.config)}),fn(i),me[i]}else return delete me[i],null}function r0(i,a){if(a!=null){var c,d,y=Qu;me[i]!=null&&me[i].parentLocale!=null?me[i].set(V(me[i]._config,a)):(d=Mi(i),d!=null&&(y=d._config),a=V(y,a),d==null&&(a.abbr=i),c=new q(a),c.parentLocale=me[i],me[i]=c),fn(i)}else me[i]!=null&&(me[i].parentLocale!=null?(me[i]=me[i].parentLocale,i===fn()&&fn(i)):me[i]!=null&&delete me[i]);return me[i]}function Ht(i){var a;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return Wr;if(!r(i)){if(a=Mi(i),a)return a;i=[i]}return t0(i)}function i0(){return U(me)}function ga(i){var a,c=i._a;return c&&x(i).overflow===-2&&(a=c[Wt]<0||c[Wt]>11?Wt:c[Pt]<1||c[Pt]>fa(c[Ne],c[Wt])?Pt:c[Se]<0||c[Se]>24||c[Se]===24&&(c[St]!==0||c[zt]!==0||c[Fn]!==0)?Se:c[St]<0||c[St]>59?St:c[zt]<0||c[zt]>59?zt:c[Fn]<0||c[Fn]>999?Fn:-1,x(i)._overflowDayOfYear&&(a<Ne||a>Pt)&&(a=Pt),x(i)._overflowWeeks&&a===-1&&(a=lg),x(i)._overflowWeekday&&a===-1&&(a=ug),x(i).overflow=a),i}var s0=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,o0=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,a0=/Z|[+-]\d\d(?::?\d\d)?/,Ni=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],wa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],l0=/^\/?Date\((-?\d+)/i,u0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,c0={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function tc(i){var a,c,d=i._i,y=s0.exec(d)||o0.exec(d),k,C,D,H,te=Ni.length,qe=wa.length;if(y){for(x(i).iso=!0,a=0,c=te;a<c;a++)if(Ni[a][1].exec(y[1])){C=Ni[a][0],k=Ni[a][2]!==!1;break}if(C==null){i._isValid=!1;return}if(y[3]){for(a=0,c=qe;a<c;a++)if(wa[a][1].exec(y[3])){D=(y[2]||" ")+wa[a][0];break}if(D==null){i._isValid=!1;return}}if(!k&&D!=null){i._isValid=!1;return}if(y[4])if(a0.exec(y[4]))H="Z";else{i._isValid=!1;return}i._f=C+(D||"")+(H||""),ba(i)}else i._isValid=!1}function f0(i,a,c,d,y,k){var C=[d0(i),Uu.indexOf(a),parseInt(c,10),parseInt(d,10),parseInt(y,10)];return k&&C.push(parseInt(k,10)),C}function d0(i){var a=parseInt(i,10);return a<=49?2e3+a:a<=999?1900+a:a}function h0(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function m0(i,a,c){if(i){var d=Xu.indexOf(i),y=new Date(a[0],a[1],a[2]).getDay();if(d!==y)return x(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function p0(i,a,c){if(i)return c0[i];if(a)return 0;var d=parseInt(c,10),y=d%100,k=(d-y)/100;return k*60+y}function nc(i){var a=u0.exec(h0(i._i)),c;if(a){if(c=f0(a[4],a[3],a[2],a[5],a[6],a[7]),!m0(a[1],c,i))return;i._a=c,i._tzm=p0(a[8],a[9],a[10]),i._d=$r.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),x(i).rfc2822=!0}else i._isValid=!1}function g0(i){var a=l0.exec(i._i);if(a!==null){i._d=new Date(+a[1]);return}if(tc(i),i._isValid===!1)delete i._isValid;else return;if(nc(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:e.createFromInputFallback(i)}e.createFromInputFallback=X("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function Xn(i,a,c){return i??a??c}function w0(i){var a=new Date(e.now());return i._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function ya(i){var a,c,d=[],y,k,C;if(!i._d){for(y=w0(i),i._w&&i._a[Pt]==null&&i._a[Wt]==null&&y0(i),i._dayOfYear!=null&&(C=Xn(i._a[Ne],y[Ne]),(i._dayOfYear>Nr(C)||i._dayOfYear===0)&&(x(i)._overflowDayOfYear=!0),c=$r(C,0,i._dayOfYear),i._a[Wt]=c.getUTCMonth(),i._a[Pt]=c.getUTCDate()),a=0;a<3&&i._a[a]==null;++a)i._a[a]=d[a]=y[a];for(;a<7;a++)i._a[a]=d[a]=i._a[a]==null?a===2?1:0:i._a[a];i._a[Se]===24&&i._a[St]===0&&i._a[zt]===0&&i._a[Fn]===0&&(i._nextDay=!0,i._a[Se]=0),i._d=(i._useUTC?$r:Cg).apply(null,d),k=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[Se]=24),i._w&&typeof i._w.d<"u"&&i._w.d!==k&&(x(i).weekdayMismatch=!0)}}function y0(i){var a,c,d,y,k,C,D,H,te;a=i._w,a.GG!=null||a.W!=null||a.E!=null?(k=1,C=4,c=Xn(a.GG,i._a[Ne],Vr(de(),1,4).year),d=Xn(a.W,1),y=Xn(a.E,1),(y<1||y>7)&&(H=!0)):(k=i._locale._week.dow,C=i._locale._week.doy,te=Vr(de(),k,C),c=Xn(a.gg,i._a[Ne],te.year),d=Xn(a.w,te.week),a.d!=null?(y=a.d,(y<0||y>6)&&(H=!0)):a.e!=null?(y=a.e+k,(a.e<0||a.e>6)&&(H=!0)):y=k),d<1||d>Ut(c,k,C)?x(i)._overflowWeeks=!0:H!=null?x(i)._overflowWeekday=!0:(D=Ku(c,d,y,k,C),i._a[Ne]=D.year,i._dayOfYear=D.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function ba(i){if(i._f===e.ISO_8601){tc(i);return}if(i._f===e.RFC_2822){nc(i);return}i._a=[],x(i).empty=!0;var a=""+i._i,c,d,y,k,C,D=a.length,H=0,te,qe;for(y=Tn(i._f,i._locale).match(Ze)||[],qe=y.length,c=0;c<qe;c++)k=y[c],d=(a.match(sg(k,i))||[])[0],d&&(C=a.substr(0,a.indexOf(d)),C.length>0&&x(i).unusedInput.push(C),a=a.slice(a.indexOf(d)+d.length),H+=d.length),Le[k]?(d?x(i).empty=!1:x(i).unusedTokens.push(k),ag(k,d,i)):i._strict&&!d&&x(i).unusedTokens.push(k);x(i).charsLeftOver=D-H,a.length>0&&x(i).unusedInput.push(a),i._a[Se]<=12&&x(i).bigHour===!0&&i._a[Se]>0&&(x(i).bigHour=void 0),x(i).parsedDateParts=i._a.slice(0),x(i).meridiem=i._meridiem,i._a[Se]=b0(i._locale,i._a[Se],i._meridiem),te=x(i).era,te!==null&&(i._a[Ne]=i._locale.erasConvertYear(te,i._a[Ne])),ya(i),ga(i)}function b0(i,a,c){var d;return c==null?a:i.meridiemHour!=null?i.meridiemHour(a,c):(i.isPM!=null&&(d=i.isPM(c),d&&a<12&&(a+=12),!d&&a===12&&(a=0)),a)}function k0(i){var a,c,d,y,k,C,D=!1,H=i._f.length;if(H===0){x(i).invalidFormat=!0,i._d=new Date(NaN);return}for(y=0;y<H;y++)k=0,C=!1,a=W({},i),i._useUTC!=null&&(a._useUTC=i._useUTC),a._f=i._f[y],ba(a),S(a)&&(C=!0),k+=x(a).charsLeftOver,k+=x(a).unusedTokens.length*10,x(a).score=k,D?k<d&&(d=k,c=a):(d==null||k<d||C)&&(d=k,c=a,C&&(D=!0));p(i,c||a)}function A0(i){if(!i._d){var a=Gn(i._i),c=a.day===void 0?a.date:a.day;i._a=m([a.year,a.month,c,a.hour,a.minute,a.second,a.millisecond],function(d){return d&&parseInt(d,10)}),ya(i)}}function x0(i){var a=new z(ga(rc(i)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function rc(i){var a=i._i,c=i._f;return i._locale=i._locale||Ht(i._l),a===null||c===void 0&&a===""?E({nullInput:!0}):(typeof a=="string"&&(i._i=a=i._locale.preparse(a)),v(a)?new z(ga(a)):(h(a)?i._d=a:r(c)?k0(i):c?ba(i):E0(i),S(i)||(i._d=null),i))}function E0(i){var a=i._i;u(a)?i._d=new Date(e.now()):h(a)?i._d=new Date(a.valueOf()):typeof a=="string"?g0(i):r(a)?(i._a=m(a.slice(0),function(c){return parseInt(c,10)}),ya(i)):s(a)?A0(i):f(a)?i._d=new Date(a):e.createFromInputFallback(i)}function ic(i,a,c,d,y){var k={};return(a===!0||a===!1)&&(d=a,a=void 0),(c===!0||c===!1)&&(d=c,c=void 0),(s(i)&&l(i)||r(i)&&i.length===0)&&(i=void 0),k._isAMomentObject=!0,k._useUTC=k._isUTC=y,k._l=c,k._i=i,k._f=a,k._strict=d,x0(k)}function de(i,a,c,d){return ic(i,a,c,d,!1)}var C0=X("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=de.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:E()}),v0=X("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=de.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:E()});function sc(i,a){var c,d;if(a.length===1&&r(a[0])&&(a=a[0]),!a.length)return de();for(c=a[0],d=1;d<a.length;++d)(!a[d].isValid()||a[d][i](c))&&(c=a[d]);return c}function S0(){var i=[].slice.call(arguments,0);return sc("isBefore",i)}function T0(){var i=[].slice.call(arguments,0);return sc("isAfter",i)}var _0=function(){return Date.now?Date.now():+new Date},zr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function F0(i){var a,c=!1,d,y=zr.length;for(a in i)if(o(i,a)&&!(Ae.call(zr,a)!==-1&&(i[a]==null||!isNaN(i[a]))))return!1;for(d=0;d<y;++d)if(i[zr[d]]){if(c)return!1;parseFloat(i[zr[d]])!==Q(i[zr[d]])&&(c=!0)}return!0}function P0(){return this._isValid}function I0(){return Tt(NaN)}function Bi(i){var a=Gn(i),c=a.year||0,d=a.quarter||0,y=a.month||0,k=a.week||a.isoWeek||0,C=a.day||0,D=a.hour||0,H=a.minute||0,te=a.second||0,qe=a.millisecond||0;this._isValid=F0(a),this._milliseconds=+qe+te*1e3+H*6e4+D*1e3*60*60,this._days=+C+k*7,this._months=+y+d*3+c*12,this._data={},this._locale=Ht(),this._bubble()}function $i(i){return i instanceof Bi}function ka(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function O0(i,a,c){var d=Math.min(i.length,a.length),y=Math.abs(i.length-a.length),k=0,C;for(C=0;C<d;C++)(c&&i[C]!==a[C]||!c&&Q(i[C])!==Q(a[C]))&&k++;return k+y}function oc(i,a){b(i,0,0,function(){var c=this.utcOffset(),d="+";return c<0&&(c=-c,d="-"),d+be(~~(c/60),2)+a+be(~~c%60,2)})}oc("Z",":"),oc("ZZ",""),N("Z",Ct),N("ZZ",Ct),ue(["Z","ZZ"],function(i,a,c){c._useUTC=!0,c._tzm=Aa(Ct,i)});var R0=/([\+\-]|\d\d)/gi;function Aa(i,a){var c=(a||"").match(i),d,y,k;return c===null?null:(d=c[c.length-1]||[],y=(d+"").match(R0)||["-",0,0],k=+(y[1]*60)+Q(y[2]),k===0?0:y[0]==="+"?k:-k)}function xa(i,a){var c,d;return a._isUTC?(c=a.clone(),d=(v(i)||h(i)?i.valueOf():de(i).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+d),e.updateOffset(c,!1),c):de(i).local()}function Ea(i){return-Math.round(i._d.getTimezoneOffset())}e.updateOffset=function(){};function D0(i,a,c){var d=this._offset||0,y;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=Aa(Ct,i),i===null)return this}else Math.abs(i)<16&&!c&&(i=i*60);return!this._isUTC&&a&&(y=Ea(this)),this._offset=i,this._isUTC=!0,y!=null&&this.add(y,"m"),d!==i&&(!a||this._changeInProgress?cc(this,Tt(i-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?d:Ea(this)}function L0(i,a){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,a),this):-this.utcOffset()}function M0(i){return this.utcOffset(0,i)}function N0(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(Ea(this),"m")),this}function B0(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=Aa(He,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function $0(i){return this.isValid()?(i=i?de(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function V0(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Y0(){if(!u(this._isDSTShifted))return this._isDSTShifted;var i={},a;return W(i,this),i=rc(i),i._a?(a=i._isUTC?w(i._a):de(i._a),this._isDSTShifted=this.isValid()&&O0(i._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function W0(){return this.isValid()?!this._isUTC:!1}function z0(){return this.isValid()?this._isUTC:!1}function ac(){return this.isValid()?this._isUTC&&this._offset===0:!1}var U0=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,H0=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tt(i,a){var c=i,d=null,y,k,C;return $i(i)?c={ms:i._milliseconds,d:i._days,M:i._months}:f(i)||!isNaN(+i)?(c={},a?c[a]=+i:c.milliseconds=+i):(d=U0.exec(i))?(y=d[1]==="-"?-1:1,c={y:0,d:Q(d[Pt])*y,h:Q(d[Se])*y,m:Q(d[St])*y,s:Q(d[zt])*y,ms:Q(ka(d[Fn]*1e3))*y}):(d=H0.exec(i))?(y=d[1]==="-"?-1:1,c={y:Pn(d[2],y),M:Pn(d[3],y),w:Pn(d[4],y),d:Pn(d[5],y),h:Pn(d[6],y),m:Pn(d[7],y),s:Pn(d[8],y)}):c==null?c={}:typeof c=="object"&&("from"in c||"to"in c)&&(C=q0(de(c.from),de(c.to)),c={},c.ms=C.milliseconds,c.M=C.months),k=new Bi(c),$i(i)&&o(i,"_locale")&&(k._locale=i._locale),$i(i)&&o(i,"_isValid")&&(k._isValid=i._isValid),k}Tt.fn=Bi.prototype,Tt.invalid=I0;function Pn(i,a){var c=i&&parseFloat(i.replace(",","."));return(isNaN(c)?0:c)*a}function lc(i,a){var c={};return c.months=a.month()-i.month()+(a.year()-i.year())*12,i.clone().add(c.months,"M").isAfter(a)&&--c.months,c.milliseconds=+a-+i.clone().add(c.months,"M"),c}function q0(i,a){var c;return i.isValid()&&a.isValid()?(a=xa(a,i),i.isBefore(a)?c=lc(i,a):(c=lc(a,i),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function uc(i,a){return function(c,d){var y,k;return d!==null&&!isNaN(+d)&&(ae(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),k=c,c=d,d=k),y=Tt(c,d),cc(this,y,i),this}}function cc(i,a,c,d){var y=a._milliseconds,k=ka(a._days),C=ka(a._months);i.isValid()&&(d=d??!0,C&&qu(i,Br(i,"Month")+C*c),k&&zu(i,"Date",Br(i,"Date")+k*c),y&&i._d.setTime(i._d.valueOf()+y*c),d&&e.updateOffset(i,k||C))}var G0=uc(1,"add"),j0=uc(-1,"subtract");function fc(i){return typeof i=="string"||i instanceof String}function K0(i){return v(i)||h(i)||fc(i)||f(i)||Z0(i)||X0(i)||i===null||i===void 0}function X0(i){var a=s(i)&&!l(i),c=!1,d=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],y,k,C=d.length;for(y=0;y<C;y+=1)k=d[y],c=c||o(i,k);return a&&c}function Z0(i){var a=r(i),c=!1;return a&&(c=i.filter(function(d){return!f(d)&&fc(i)}).length===0),a&&c}function J0(i){var a=s(i)&&!l(i),c=!1,d=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],y,k;for(y=0;y<d.length;y+=1)k=d[y],c=c||o(i,k);return a&&c}function Q0(i,a){var c=i.diff(a,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function ew(i,a){arguments.length===1&&(arguments[0]?K0(arguments[0])?(i=arguments[0],a=void 0):J0(arguments[0])&&(a=arguments[0],i=void 0):(i=void 0,a=void 0));var c=i||de(),d=xa(c,this).startOf("day"),y=e.calendarFormat(this,d)||"sameElse",k=a&&(fe(a[y])?a[y].call(this,c):a[y]);return this.format(k||this.localeData().calendar(y,this,de(c)))}function tw(){return new z(this)}function nw(i,a){var c=v(i)?i:de(i);return this.isValid()&&c.isValid()?(a=ze(a)||"millisecond",a==="millisecond"?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(a).valueOf()):!1}function rw(i,a){var c=v(i)?i:de(i);return this.isValid()&&c.isValid()?(a=ze(a)||"millisecond",a==="millisecond"?this.valueOf()<c.valueOf():this.clone().endOf(a).valueOf()<c.valueOf()):!1}function iw(i,a,c,d){var y=v(i)?i:de(i),k=v(a)?a:de(a);return this.isValid()&&y.isValid()&&k.isValid()?(d=d||"()",(d[0]==="("?this.isAfter(y,c):!this.isBefore(y,c))&&(d[1]===")"?this.isBefore(k,c):!this.isAfter(k,c))):!1}function sw(i,a){var c=v(i)?i:de(i),d;return this.isValid()&&c.isValid()?(a=ze(a)||"millisecond",a==="millisecond"?this.valueOf()===c.valueOf():(d=c.valueOf(),this.clone().startOf(a).valueOf()<=d&&d<=this.clone().endOf(a).valueOf())):!1}function ow(i,a){return this.isSame(i,a)||this.isAfter(i,a)}function aw(i,a){return this.isSame(i,a)||this.isBefore(i,a)}function lw(i,a,c){var d,y,k;if(!this.isValid())return NaN;if(d=xa(i,this),!d.isValid())return NaN;switch(y=(d.utcOffset()-this.utcOffset())*6e4,a=ze(a),a){case"year":k=Vi(this,d)/12;break;case"month":k=Vi(this,d);break;case"quarter":k=Vi(this,d)/3;break;case"second":k=(this-d)/1e3;break;case"minute":k=(this-d)/6e4;break;case"hour":k=(this-d)/36e5;break;case"day":k=(this-d-y)/864e5;break;case"week":k=(this-d-y)/6048e5;break;default:k=this-d}return c?k:dt(k)}function Vi(i,a){if(i.date()<a.date())return-Vi(a,i);var c=(a.year()-i.year())*12+(a.month()-i.month()),d=i.clone().add(c,"months"),y,k;return a-d<0?(y=i.clone().add(c-1,"months"),k=(a-d)/(d-y)):(y=i.clone().add(c+1,"months"),k=(a-d)/(y-d)),-(c+k)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function uw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cw(i){if(!this.isValid())return null;var a=i!==!0,c=a?this.clone().utc():this;return c.year()<0||c.year()>9999?un(c,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):fe(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",un(c,"Z")):un(c,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function fw(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",a="",c,d,y,k;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),c="["+i+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",y="-MM-DD[T]HH:mm:ss.SSS",k=a+'[")]',this.format(c+d+y+k)}function dw(i){i||(i=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var a=un(this,i);return this.localeData().postformat(a)}function hw(i,a){return this.isValid()&&(v(i)&&i.isValid()||de(i).isValid())?Tt({to:this,from:i}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function mw(i){return this.from(de(),i)}function pw(i,a){return this.isValid()&&(v(i)&&i.isValid()||de(i).isValid())?Tt({from:this,to:i}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function gw(i){return this.to(de(),i)}function dc(i){var a;return i===void 0?this._locale._abbr:(a=Ht(i),a!=null&&(this._locale=a),this)}var hc=X("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function mc(){return this._locale}var Yi=1e3,Zn=60*Yi,Wi=60*Zn,pc=(365*400+97)*24*Wi;function Jn(i,a){return(i%a+a)%a}function gc(i,a,c){return i<100&&i>=0?new Date(i+400,a,c)-pc:new Date(i,a,c).valueOf()}function wc(i,a,c){return i<100&&i>=0?Date.UTC(i+400,a,c)-pc:Date.UTC(i,a,c)}function ww(i){var a,c;if(i=ze(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?wc:gc,i){case"year":a=c(this.year(),0,1);break;case"quarter":a=c(this.year(),this.month()-this.month()%3,1);break;case"month":a=c(this.year(),this.month(),1);break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=c(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=Jn(a+(this._isUTC?0:this.utcOffset()*Zn),Wi);break;case"minute":a=this._d.valueOf(),a-=Jn(a,Zn);break;case"second":a=this._d.valueOf(),a-=Jn(a,Yi);break}return this._d.setTime(a),e.updateOffset(this,!0),this}function yw(i){var a,c;if(i=ze(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?wc:gc,i){case"year":a=c(this.year()+1,0,1)-1;break;case"quarter":a=c(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=c(this.year(),this.month()+1,1)-1;break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=c(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=Wi-Jn(a+(this._isUTC?0:this.utcOffset()*Zn),Wi)-1;break;case"minute":a=this._d.valueOf(),a+=Zn-Jn(a,Zn)-1;break;case"second":a=this._d.valueOf(),a+=Yi-Jn(a,Yi)-1;break}return this._d.setTime(a),e.updateOffset(this,!0),this}function bw(){return this._d.valueOf()-(this._offset||0)*6e4}function kw(){return Math.floor(this.valueOf()/1e3)}function Aw(){return new Date(this.valueOf())}function xw(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function Ew(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function Cw(){return this.isValid()?this.toISOString():null}function vw(){return S(this)}function Sw(){return p({},x(this))}function Tw(){return x(this).overflow}function _w(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}b("N",0,0,"eraAbbr"),b("NN",0,0,"eraAbbr"),b("NNN",0,0,"eraAbbr"),b("NNNN",0,0,"eraName"),b("NNNNN",0,0,"eraNarrow"),b("y",["y",1],"yo","eraYear"),b("y",["yy",2],0,"eraYear"),b("y",["yyy",3],0,"eraYear"),b("y",["yyyy",4],0,"eraYear"),N("N",Ca),N("NN",Ca),N("NNN",Ca),N("NNNN",$w),N("NNNNN",Vw),ue(["N","NN","NNN","NNNN","NNNNN"],function(i,a,c,d){var y=c._locale.erasParse(i,d,c._strict);y?x(c).era=y:x(c).invalidEra=i}),N("y",ft),N("yy",ft),N("yyy",ft),N("yyyy",ft),N("yo",Yw),ue(["y","yy","yyy","yyyy"],Ne),ue(["yo"],function(i,a,c,d){var y;c._locale._eraYearOrdinalRegex&&(y=i.match(c._locale._eraYearOrdinalRegex)),c._locale.eraYearOrdinalParse?a[Ne]=c._locale.eraYearOrdinalParse(i,y):a[Ne]=parseInt(i,10)});function Fw(i,a){var c,d,y,k=this._eras||Ht("en")._eras;for(c=0,d=k.length;c<d;++c){switch(typeof k[c].since){case"string":y=e(k[c].since).startOf("day"),k[c].since=y.valueOf();break}switch(typeof k[c].until){case"undefined":k[c].until=1/0;break;case"string":y=e(k[c].until).startOf("day").valueOf(),k[c].until=y.valueOf();break}}return k}function Pw(i,a,c){var d,y,k=this.eras(),C,D,H;for(i=i.toUpperCase(),d=0,y=k.length;d<y;++d)if(C=k[d].name.toUpperCase(),D=k[d].abbr.toUpperCase(),H=k[d].narrow.toUpperCase(),c)switch(a){case"N":case"NN":case"NNN":if(D===i)return k[d];break;case"NNNN":if(C===i)return k[d];break;case"NNNNN":if(H===i)return k[d];break}else if([C,D,H].indexOf(i)>=0)return k[d]}function Iw(i,a){var c=i.since<=i.until?1:-1;return a===void 0?e(i.since).year():e(i.since).year()+(a-i.offset)*c}function Ow(){var i,a,c,d=this.localeData().eras();for(i=0,a=d.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),d[i].since<=c&&c<=d[i].until||d[i].until<=c&&c<=d[i].since)return d[i].name;return""}function Rw(){var i,a,c,d=this.localeData().eras();for(i=0,a=d.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),d[i].since<=c&&c<=d[i].until||d[i].until<=c&&c<=d[i].since)return d[i].narrow;return""}function Dw(){var i,a,c,d=this.localeData().eras();for(i=0,a=d.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),d[i].since<=c&&c<=d[i].until||d[i].until<=c&&c<=d[i].since)return d[i].abbr;return""}function Lw(){var i,a,c,d,y=this.localeData().eras();for(i=0,a=y.length;i<a;++i)if(c=y[i].since<=y[i].until?1:-1,d=this.clone().startOf("day").valueOf(),y[i].since<=d&&d<=y[i].until||y[i].until<=d&&d<=y[i].since)return(this.year()-e(y[i].since).year())*c+y[i].offset;return this.year()}function Mw(i){return o(this,"_erasNameRegex")||va.call(this),i?this._erasNameRegex:this._erasRegex}function Nw(i){return o(this,"_erasAbbrRegex")||va.call(this),i?this._erasAbbrRegex:this._erasRegex}function Bw(i){return o(this,"_erasNarrowRegex")||va.call(this),i?this._erasNarrowRegex:this._erasRegex}function Ca(i,a){return a.erasAbbrRegex(i)}function $w(i,a){return a.erasNameRegex(i)}function Vw(i,a){return a.erasNarrowRegex(i)}function Yw(i,a){return a._eraYearOrdinalRegex||ft}function va(){var i=[],a=[],c=[],d=[],y,k,C,D,H,te=this.eras();for(y=0,k=te.length;y<k;++y)C=Yt(te[y].name),D=Yt(te[y].abbr),H=Yt(te[y].narrow),a.push(C),i.push(D),c.push(H),d.push(C),d.push(D),d.push(H);this._erasRegex=new RegExp("^("+d.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+c.join("|")+")","i")}b(0,["gg",2],0,function(){return this.weekYear()%100}),b(0,["GG",2],0,function(){return this.isoWeekYear()%100});function zi(i,a){b(0,[i,i.length],0,a)}zi("gggg","weekYear"),zi("ggggg","weekYear"),zi("GGGG","isoWeekYear"),zi("GGGGG","isoWeekYear"),N("G",Ft),N("g",Ft),N("GG",R,Ue),N("gg",R,Ue),N("GGGG",Et,_),N("gggg",Et,_),N("GGGGG",Je,O),N("ggggg",Je,O),Mr(["gggg","ggggg","GGGG","GGGGG"],function(i,a,c,d){a[d.substr(0,2)]=Q(i)}),Mr(["gg","GG"],function(i,a,c,d){a[d]=e.parseTwoDigitYear(i)});function Ww(i){return yc.call(this,i,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function zw(i){return yc.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function Uw(){return Ut(this.year(),1,4)}function Hw(){return Ut(this.isoWeekYear(),1,4)}function qw(){var i=this.localeData()._week;return Ut(this.year(),i.dow,i.doy)}function Gw(){var i=this.localeData()._week;return Ut(this.weekYear(),i.dow,i.doy)}function yc(i,a,c,d,y){var k;return i==null?Vr(this,d,y).year:(k=Ut(i,d,y),a>k&&(a=k),jw.call(this,i,a,c,d,y))}function jw(i,a,c,d,y){var k=Ku(i,a,c,d,y),C=$r(k.year,0,k.dayOfYear);return this.year(C.getUTCFullYear()),this.month(C.getUTCMonth()),this.date(C.getUTCDate()),this}b("Q",0,"Qo","quarter"),N("Q",Ii),ue("Q",function(i,a){a[Wt]=(Q(i)-1)*3});function Kw(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}b("D",["DD",2],"Do","date"),N("D",R,jn),N("DD",R,Ue),N("Do",function(i,a){return i?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient}),ue(["D","DD"],Pt),ue("Do",function(i,a){a[Pt]=Q(i.match(R)[0])});var bc=Kn("Date",!0);b("DDD",["DDDD",3],"DDDo","dayOfYear"),N("DDD",Me),N("DDDD",Oi),ue(["DDD","DDDD"],function(i,a,c){c._dayOfYear=Q(i)});function Xw(i){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?a:this.add(i-a,"d")}b("m",["mm",2],0,"minute"),N("m",R,ua),N("mm",R,Ue),ue(["m","mm"],St);var Zw=Kn("Minutes",!1);b("s",["ss",2],0,"second"),N("s",R,ua),N("ss",R,Ue),ue(["s","ss"],zt);var Jw=Kn("Seconds",!1);b("S",0,0,function(){return~~(this.millisecond()/100)}),b(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),b(0,["SSS",3],0,"millisecond"),b(0,["SSSS",4],0,function(){return this.millisecond()*10}),b(0,["SSSSS",5],0,function(){return this.millisecond()*100}),b(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),b(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),b(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),b(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),N("S",Me,Ii),N("SS",Me,Ue),N("SSS",Me,Oi);var dn,kc;for(dn="SSSS";dn.length<=9;dn+="S")N(dn,ft);function Qw(i,a){a[Fn]=Q(("0."+i)*1e3)}for(dn="S";dn.length<=9;dn+="S")ue(dn,Qw);kc=Kn("Milliseconds",!1),b("z",0,0,"zoneAbbr"),b("zz",0,0,"zoneName");function ey(){return this._isUTC?"UTC":""}function ty(){return this._isUTC?"Coordinated Universal Time":""}var I=z.prototype;I.add=G0,I.calendar=ew,I.clone=tw,I.diff=lw,I.endOf=yw,I.format=dw,I.from=hw,I.fromNow=mw,I.to=pw,I.toNow=gw,I.get=fg,I.invalidAt=Tw,I.isAfter=nw,I.isBefore=rw,I.isBetween=iw,I.isSame=sw,I.isSameOrAfter=ow,I.isSameOrBefore=aw,I.isValid=vw,I.lang=hc,I.locale=dc,I.localeData=mc,I.max=v0,I.min=C0,I.parsingFlags=Sw,I.set=dg,I.startOf=ww,I.subtract=j0,I.toArray=xw,I.toObject=Ew,I.toDate=Aw,I.toISOString=cw,I.inspect=fw,typeof Symbol<"u"&&Symbol.for!=null&&(I[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),I.toJSON=Cw,I.toString=uw,I.unix=kw,I.valueOf=bw,I.creationData=_w,I.eraName=Ow,I.eraNarrow=Rw,I.eraAbbr=Dw,I.eraYear=Lw,I.year=Wu,I.isLeapYear=cg,I.weekYear=Ww,I.isoWeekYear=zw,I.quarter=I.quarters=Kw,I.month=Gu,I.daysInMonth=Ag,I.week=I.weeks=Fg,I.isoWeek=I.isoWeeks=Pg,I.weeksInYear=qw,I.weeksInWeekYear=Gw,I.isoWeeksInYear=Uw,I.isoWeeksInISOWeekYear=Hw,I.date=bc,I.day=I.days=zg,I.weekday=Ug,I.isoWeekday=Hg,I.dayOfYear=Xw,I.hour=I.hours=Jg,I.minute=I.minutes=Zw,I.second=I.seconds=Jw,I.millisecond=I.milliseconds=kc,I.utcOffset=D0,I.utc=M0,I.local=N0,I.parseZone=B0,I.hasAlignedHourOffset=$0,I.isDST=V0,I.isLocal=W0,I.isUtcOffset=z0,I.isUtc=ac,I.isUTC=ac,I.zoneAbbr=ey,I.zoneName=ty,I.dates=X("dates accessor is deprecated. Use date instead.",bc),I.months=X("months accessor is deprecated. Use month instead",Gu),I.years=X("years accessor is deprecated. Use year instead",Wu),I.zone=X("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",L0),I.isDSTShifted=X("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Y0);function ny(i){return de(i*1e3)}function ry(){return de.apply(null,arguments).parseZone()}function Ac(i){return i}var oe=q.prototype;oe.calendar=we,oe.longDateFormat=_n,oe.invalidDate=Vt,oe.ordinal=oa,oe.preparse=Ac,oe.postformat=Ac,oe.relativeTime=_i,oe.pastFuture=Fi,oe.set=ie,oe.eras=Fw,oe.erasParse=Pw,oe.erasConvertYear=Iw,oe.erasAbbrRegex=Nw,oe.erasNameRegex=Mw,oe.erasNarrowRegex=Bw,oe.months=wg,oe.monthsShort=yg,oe.monthsParse=kg,oe.monthsRegex=Eg,oe.monthsShortRegex=xg,oe.week=vg,oe.firstDayOfYear=_g,oe.firstDayOfWeek=Tg,oe.weekdays=Bg,oe.weekdaysMin=Vg,oe.weekdaysShort=$g,oe.weekdaysParse=Wg,oe.weekdaysRegex=qg,oe.weekdaysShortRegex=Gg,oe.weekdaysMinRegex=jg,oe.isPM=Xg,oe.meridiem=Qg;function Ui(i,a,c,d){var y=Ht(),k=w().set(d,a);return y[c](k,i)}function xc(i,a,c){if(f(i)&&(a=i,i=void 0),i=i||"",a!=null)return Ui(i,a,c,"month");var d,y=[];for(d=0;d<12;d++)y[d]=Ui(i,d,c,"month");return y}function Sa(i,a,c,d){typeof i=="boolean"?(f(a)&&(c=a,a=void 0),a=a||""):(a=i,c=a,i=!1,f(a)&&(c=a,a=void 0),a=a||"");var y=Ht(),k=i?y._week.dow:0,C,D=[];if(c!=null)return Ui(a,(c+k)%7,d,"day");for(C=0;C<7;C++)D[C]=Ui(a,(C+k)%7,d,"day");return D}function iy(i,a){return xc(i,a,"months")}function sy(i,a){return xc(i,a,"monthsShort")}function oy(i,a,c){return Sa(i,a,c,"weekdays")}function ay(i,a,c){return Sa(i,a,c,"weekdaysShort")}function ly(i,a,c){return Sa(i,a,c,"weekdaysMin")}fn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var a=i%10,c=Q(i%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return i+c}}),e.lang=X("moment.lang is deprecated. Use moment.locale instead.",fn),e.langData=X("moment.langData is deprecated. Use moment.localeData instead.",Ht);var qt=Math.abs;function uy(){var i=this._data;return this._milliseconds=qt(this._milliseconds),this._days=qt(this._days),this._months=qt(this._months),i.milliseconds=qt(i.milliseconds),i.seconds=qt(i.seconds),i.minutes=qt(i.minutes),i.hours=qt(i.hours),i.months=qt(i.months),i.years=qt(i.years),this}function Ec(i,a,c,d){var y=Tt(a,c);return i._milliseconds+=d*y._milliseconds,i._days+=d*y._days,i._months+=d*y._months,i._bubble()}function cy(i,a){return Ec(this,i,a,1)}function fy(i,a){return Ec(this,i,a,-1)}function Cc(i){return i<0?Math.floor(i):Math.ceil(i)}function dy(){var i=this._milliseconds,a=this._days,c=this._months,d=this._data,y,k,C,D,H;return i>=0&&a>=0&&c>=0||i<=0&&a<=0&&c<=0||(i+=Cc(Ta(c)+a)*864e5,a=0,c=0),d.milliseconds=i%1e3,y=dt(i/1e3),d.seconds=y%60,k=dt(y/60),d.minutes=k%60,C=dt(k/60),d.hours=C%24,a+=dt(C/24),H=dt(vc(a)),c+=H,a-=Cc(Ta(H)),D=dt(c/12),c%=12,d.days=a,d.months=c,d.years=D,this}function vc(i){return i*4800/146097}function Ta(i){return i*146097/4800}function hy(i){if(!this.isValid())return NaN;var a,c,d=this._milliseconds;if(i=ze(i),i==="month"||i==="quarter"||i==="year")switch(a=this._days+d/864e5,c=this._months+vc(a),i){case"month":return c;case"quarter":return c/3;case"year":return c/12}else switch(a=this._days+Math.round(Ta(this._months)),i){case"week":return a/7+d/6048e5;case"day":return a+d/864e5;case"hour":return a*24+d/36e5;case"minute":return a*1440+d/6e4;case"second":return a*86400+d/1e3;case"millisecond":return Math.floor(a*864e5)+d;default:throw new Error("Unknown unit "+i)}}function Gt(i){return function(){return this.as(i)}}var Sc=Gt("ms"),my=Gt("s"),py=Gt("m"),gy=Gt("h"),wy=Gt("d"),yy=Gt("w"),by=Gt("M"),ky=Gt("Q"),Ay=Gt("y"),xy=Sc;function Ey(){return Tt(this)}function Cy(i){return i=ze(i),this.isValid()?this[i+"s"]():NaN}function In(i){return function(){return this.isValid()?this._data[i]:NaN}}var vy=In("milliseconds"),Sy=In("seconds"),Ty=In("minutes"),_y=In("hours"),Fy=In("days"),Py=In("months"),Iy=In("years");function Oy(){return dt(this.days()/7)}var jt=Math.round,Qn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ry(i,a,c,d,y){return y.relativeTime(a||1,!!c,i,d)}function Dy(i,a,c,d){var y=Tt(i).abs(),k=jt(y.as("s")),C=jt(y.as("m")),D=jt(y.as("h")),H=jt(y.as("d")),te=jt(y.as("M")),qe=jt(y.as("w")),Kt=jt(y.as("y")),hn=k<=c.ss&&["s",k]||k<c.s&&["ss",k]||C<=1&&["m"]||C<c.m&&["mm",C]||D<=1&&["h"]||D<c.h&&["hh",D]||H<=1&&["d"]||H<c.d&&["dd",H];return c.w!=null&&(hn=hn||qe<=1&&["w"]||qe<c.w&&["ww",qe]),hn=hn||te<=1&&["M"]||te<c.M&&["MM",te]||Kt<=1&&["y"]||["yy",Kt],hn[2]=a,hn[3]=+i>0,hn[4]=d,Ry.apply(null,hn)}function Ly(i){return i===void 0?jt:typeof i=="function"?(jt=i,!0):!1}function My(i,a){return Qn[i]===void 0?!1:a===void 0?Qn[i]:(Qn[i]=a,i==="s"&&(Qn.ss=a-1),!0)}function Ny(i,a){if(!this.isValid())return this.localeData().invalidDate();var c=!1,d=Qn,y,k;return typeof i=="object"&&(a=i,i=!1),typeof i=="boolean"&&(c=i),typeof a=="object"&&(d=Object.assign({},Qn,a),a.s!=null&&a.ss==null&&(d.ss=a.s-1)),y=this.localeData(),k=Dy(this,!c,d,y),c&&(k=y.pastFuture(+this,k)),y.postformat(k)}var _a=Math.abs;function er(i){return(i>0)-(i<0)||+i}function Hi(){if(!this.isValid())return this.localeData().invalidDate();var i=_a(this._milliseconds)/1e3,a=_a(this._days),c=_a(this._months),d,y,k,C,D=this.asSeconds(),H,te,qe,Kt;return D?(d=dt(i/60),y=dt(d/60),i%=60,d%=60,k=dt(c/12),c%=12,C=i?i.toFixed(3).replace(/\.?0+$/,""):"",H=D<0?"-":"",te=er(this._months)!==er(D)?"-":"",qe=er(this._days)!==er(D)?"-":"",Kt=er(this._milliseconds)!==er(D)?"-":"",H+"P"+(k?te+k+"Y":"")+(c?te+c+"M":"")+(a?qe+a+"D":"")+(y||d||i?"T":"")+(y?Kt+y+"H":"")+(d?Kt+d+"M":"")+(i?Kt+C+"S":"")):"P0D"}var re=Bi.prototype;re.isValid=P0,re.abs=uy,re.add=cy,re.subtract=fy,re.as=hy,re.asMilliseconds=Sc,re.asSeconds=my,re.asMinutes=py,re.asHours=gy,re.asDays=wy,re.asWeeks=yy,re.asMonths=by,re.asQuarters=ky,re.asYears=Ay,re.valueOf=xy,re._bubble=dy,re.clone=Ey,re.get=Cy,re.milliseconds=vy,re.seconds=Sy,re.minutes=Ty,re.hours=_y,re.days=Fy,re.weeks=Oy,re.months=Py,re.years=Iy,re.humanize=Ny,re.toISOString=Hi,re.toString=Hi,re.toJSON=Hi,re.locale=dc,re.localeData=mc,re.toIsoString=X("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hi),re.lang=hc,b("X",0,0,"unix"),b("x",0,0,"valueOf"),N("x",Ft),N("X",vt),ue("X",function(i,a,c){c._d=new Date(parseFloat(i)*1e3)}),ue("x",function(i,a,c){c._d=new Date(Q(i))});return e.version="2.30.1",n(de),e.fn=I,e.min=S0,e.max=T0,e.now=_0,e.utc=w,e.unix=ny,e.months=iy,e.isDate=h,e.locale=fn,e.invalid=E,e.duration=Tt,e.isMoment=v,e.weekdays=oy,e.parseZone=ry,e.localeData=Ht,e.isDuration=$i,e.monthsShort=sy,e.weekdaysMin=ly,e.defineLocale=pa,e.updateLocale=r0,e.locales=i0,e.weekdaysShort=ay,e.normalizeUnits=ze,e.relativeTimeRounding=Ly,e.relativeTimeThreshold=My,e.calendarFormat=Q0,e.prototype=I,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Pc=Y((m2,Fc)=>{var nr=1e3,rr=nr*60,ir=rr*60,On=ir*24,Uy=On*7,Hy=On*365.25;Fc.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return qy(t);if(n==="number"&&isFinite(t))return e.long?jy(t):Gy(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function qy(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Hy;case"weeks":case"week":case"w":return n*Uy;case"days":case"day":case"d":return n*On;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ir;case"minutes":case"minute":case"mins":case"min":case"m":return n*rr;case"seconds":case"second":case"secs":case"sec":case"s":return n*nr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Gy(t){var e=Math.abs(t);return e>=On?Math.round(t/On)+"d":e>=ir?Math.round(t/ir)+"h":e>=rr?Math.round(t/rr)+"m":e>=nr?Math.round(t/nr)+"s":t+"ms"}function jy(t){var e=Math.abs(t);return e>=On?Gi(t,e,On,"day"):e>=ir?Gi(t,e,ir,"hour"):e>=rr?Gi(t,e,rr,"minute"):e>=nr?Gi(t,e,nr,"second"):t+" ms"}function Gi(t,e,n,r){var s=e>=n*1.5;return Math.round(t/n)+" "+r+(s?"s":"")}});var Pa=Y((p2,Ic)=>{function Ky(t){n.debug=n,n.default=n,n.coerce=f,n.disable=l,n.enable=s,n.enabled=u,n.humanize=Pc(),n.destroy=h,Object.keys(t).forEach(m=>{n[m]=t[m]}),n.names=[],n.skips=[],n.formatters={};function e(m){let p=0;for(let w=0;w<m.length;w++)p=(p<<5)-p+m.charCodeAt(w),p|=0;return n.colors[Math.abs(p)%n.colors.length]}n.selectColor=e;function n(m){let p,w=null,g,x;function F(...S){if(!F.enabled)return;let E=F,T=Number(new Date),P=T-(p||T);E.diff=P,E.prev=p,E.curr=T,p=T,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let W=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(v,ne)=>{if(v==="%%")return"%";W++;let X=n.formatters[ne];if(typeof X=="function"){let Z=S[W];v=X.call(E,Z),S.splice(W,1),W--}return v}),n.formatArgs.call(E,S),(E.log||n.log).apply(E,S)}return F.namespace=m,F.useColors=n.useColors(),F.color=n.selectColor(m),F.extend=r,F.destroy=n.destroy,Object.defineProperty(F,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(g!==n.namespaces&&(g=n.namespaces,x=n.enabled(m)),x),set:S=>{w=S}}),typeof n.init=="function"&&n.init(F),F}function r(m,p){let w=n(this.namespace+(typeof p>"u"?":":p)+m);return w.log=this.log,w}function s(m){n.save(m),n.namespaces=m,n.names=[],n.skips=[];let p=(typeof m=="string"?m:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let w of p)w[0]==="-"?n.skips.push(w.slice(1)):n.names.push(w)}function o(m,p){let w=0,g=0,x=-1,F=0;for(;w<m.length;)if(g<p.length&&(p[g]===m[w]||p[g]==="*"))p[g]==="*"?(x=g,F=w,g++):(w++,g++);else if(x!==-1)g=x+1,F++,w=F;else return!1;for(;g<p.length&&p[g]==="*";)g++;return g===p.length}function l(){let m=[...n.names,...n.skips.map(p=>"-"+p)].join(",");return n.enable(""),m}function u(m){for(let p of n.skips)if(o(m,p))return!1;for(let p of n.names)if(o(m,p))return!0;return!1}function f(m){return m instanceof Error?m.stack||m.message:m}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}Ic.exports=Ky});var Oc=Y((Qe,ji)=>{Qe.formatArgs=Zy;Qe.save=Jy;Qe.load=Qy;Qe.useColors=Xy;Qe.storage=eb();Qe.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Qe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Xy(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Zy(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ji.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(n++,s==="%c"&&(r=n))}),t.splice(r,0,e)}Qe.log=console.debug||console.log||(()=>{});function Jy(t){try{t?Qe.storage.setItem("debug",t):Qe.storage.removeItem("debug")}catch{}}function Qy(){let t;try{t=Qe.storage.getItem("debug")||Qe.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function eb(){try{return localStorage}catch{}}ji.exports=Pa()(Qe);var{formatters:tb}=ji.exports;tb.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Dc=Y((g2,Rc)=>{"use strict";Rc.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),s=e.indexOf("--");return r!==-1&&(s===-1||r<s)}});var Nc=Y((w2,Mc)=>{"use strict";var nb=require("os"),Lc=require("tty"),ht=Dc(),{env:Te}=process,mn;ht("no-color")||ht("no-colors")||ht("color=false")||ht("color=never")?mn=0:(ht("color")||ht("colors")||ht("color=true")||ht("color=always"))&&(mn=1);"FORCE_COLOR"in Te&&(Te.FORCE_COLOR==="true"?mn=1:Te.FORCE_COLOR==="false"?mn=0:mn=Te.FORCE_COLOR.length===0?1:Math.min(parseInt(Te.FORCE_COLOR,10),3));function Ia(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Oa(t,e){if(mn===0)return 0;if(ht("color=16m")||ht("color=full")||ht("color=truecolor"))return 3;if(ht("color=256"))return 2;if(t&&!e&&mn===void 0)return 0;let n=mn||0;if(Te.TERM==="dumb")return n;if(process.platform==="win32"){let r=nb.release().split(".");return Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Te)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(r=>r in Te)||Te.CI_NAME==="codeship"?1:n;if("TEAMCITY_VERSION"in Te)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Te.TEAMCITY_VERSION)?1:0;if(Te.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Te){let r=parseInt((Te.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Te.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Te.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Te.TERM)||"COLORTERM"in Te?1:n}function rb(t){let e=Oa(t,t&&t.isTTY);return Ia(e)}Mc.exports={supportsColor:rb,stdout:Ia(Oa(!0,Lc.isatty(1))),stderr:Ia(Oa(!0,Lc.isatty(2)))}});var $c=Y((_e,Xi)=>{var ib=require("tty"),Ki=require("util");_e.init=fb;_e.log=lb;_e.formatArgs=ob;_e.save=ub;_e.load=cb;_e.useColors=sb;_e.destroy=Ki.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");_e.colors=[6,2,3,4,5,1];try{let t=Nc();t&&(t.stderr||t).level>=2&&(_e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}_e.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,o)=>o.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function sb(){return"colors"in _e.inspectOpts?!!_e.inspectOpts.colors:ib.isatty(process.stderr.fd)}function ob(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,s="\x1B[3"+(r<8?r:"8;5;"+r),o=`  ${s};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(s+"m+"+Xi.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=ab()+e+" "+t[0]}function ab(){return _e.inspectOpts.hideDate?"":new Date().toISOString()+" "}function lb(...t){return process.stderr.write(Ki.formatWithOptions(_e.inspectOpts,...t)+`
`)}function ub(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function cb(){return process.env.DEBUG}function fb(t){t.inspectOpts={};let e=Object.keys(_e.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=_e.inspectOpts[e[n]]}Xi.exports=Pa()(_e);var{formatters:Bc}=Xi.exports;Bc.o=function(t){return this.inspectOpts.colors=this.useColors,Ki.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Bc.O=function(t){return this.inspectOpts.colors=this.useColors,Ki.inspect(t,this.inspectOpts)}});var Vc=Y((y2,Ra)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ra.exports=Oc():Ra.exports=$c()});var hf=Y((X2,df)=>{"use strict";function Rt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function ff(t,e){for(var n="",r=0,s=-1,o=0,l,u=0;u<=t.length;++u){if(u<t.length)l=t.charCodeAt(u);else{if(l===47)break;l=47}if(l===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),s=u,o=0;continue}}else if(n.length===2||n.length===1){n="",r=0,s=u,o=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),r=u-s-1;s=u,o=0}else l===46&&o!==-1?++o:o=-1}return n}function Vb(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var cr={resolve:function(){for(var e="",n=!1,r,s=arguments.length-1;s>=-1&&!n;s--){var o;s>=0?o=arguments[s]:(r===void 0&&(r=process.cwd()),o=r),Rt(o),o.length!==0&&(e=o+"/"+e,n=o.charCodeAt(0)===47)}return e=ff(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Rt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=ff(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return Rt(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];Rt(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":cr.normalize(e)},relative:function(e,n){if(Rt(e),Rt(n),e===n||(e=cr.resolve(e),n=cr.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var s=e.length,o=s-r,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var u=n.length,f=u-l,h=o<f?o:f,m=-1,p=0;p<=h;++p){if(p===h){if(f>h){if(n.charCodeAt(l+p)===47)return n.slice(l+p+1);if(p===0)return n.slice(l+p)}else o>h&&(e.charCodeAt(r+p)===47?m=p:p===0&&(m=0));break}var w=e.charCodeAt(r+p),g=n.charCodeAt(l+p);if(w!==g)break;w===47&&(m=p)}var x="";for(p=r+m+1;p<=s;++p)(p===s||e.charCodeAt(p)===47)&&(x.length===0?x+="..":x+="/..");return x.length>0?x+n.slice(l+m):(l+=m,n.charCodeAt(l)===47&&++l,n.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(Rt(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,s=-1,o=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!o){s=l;break}}else o=!1;return s===-1?r?"/":".":r&&s===1?"//":e.slice(0,s)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Rt(e);var r=0,s=-1,o=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var u=n.length-1,f=-1;for(l=e.length-1;l>=0;--l){var h=e.charCodeAt(l);if(h===47){if(!o){r=l+1;break}}else f===-1&&(o=!1,f=l+1),u>=0&&(h===n.charCodeAt(u)?--u===-1&&(s=l):(u=-1,s=f))}return r===s?s=f:s===-1&&(s=e.length),e.slice(r,s)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!o){r=l+1;break}}else s===-1&&(o=!1,s=l+1);return s===-1?"":e.slice(r,s)}},extname:function(e){Rt(e);for(var n=-1,r=0,s=-1,o=!0,l=0,u=e.length-1;u>=0;--u){var f=e.charCodeAt(u);if(f===47){if(!o){r=u+1;break}continue}s===-1&&(o=!1,s=u+1),f===46?n===-1?n=u:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||s===-1||l===0||l===1&&n===s-1&&n===r+1?"":e.slice(n,s)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Vb("/",e)},parse:function(e){Rt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),s=r===47,o;s?(n.root="/",o=1):o=0;for(var l=-1,u=0,f=-1,h=!0,m=e.length-1,p=0;m>=o;--m){if(r=e.charCodeAt(m),r===47){if(!h){u=m+1;break}continue}f===-1&&(h=!1,f=m+1),r===46?l===-1?l=m:p!==1&&(p=1):l!==-1&&(p=-1)}return l===-1||f===-1||p===0||p===1&&l===f-1&&l===u+1?f!==-1&&(u===0&&s?n.base=n.name=e.slice(1,f):n.base=n.name=e.slice(u,f)):(u===0&&s?(n.name=e.slice(1,l),n.base=e.slice(1,f)):(n.name=e.slice(u,l),n.base=e.slice(u,f)),n.ext=e.slice(l,f)),u>0?n.dir=e.slice(0,u-1):s&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};cr.posix=cr;df.exports=cr});var $d=Y((hI,Bd)=>{"use strict";var Fs=Object.prototype.hasOwnProperty,Nd=Object.prototype.toString,Id=Object.defineProperty,Od=Object.getOwnPropertyDescriptor,Rd=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Nd.call(e)==="[object Array]"},Dd=function(e){if(!e||Nd.call(e)!=="[object Object]")return!1;var n=Fs.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Fs.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var s;for(s in e);return typeof s>"u"||Fs.call(e,s)},Ld=function(e,n){Id&&n.name==="__proto__"?Id(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Md=function(e,n){if(n==="__proto__")if(Fs.call(e,n)){if(Od)return Od(e,n).value}else return;return e[n]};Bd.exports=function t(){var e,n,r,s,o,l,u=arguments[0],f=1,h=arguments.length,m=!1;for(typeof u=="boolean"&&(m=u,u=arguments[1]||{},f=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});f<h;++f)if(e=arguments[f],e!=null)for(n in e)r=Md(u,n),s=Md(e,n),u!==s&&(m&&s&&(Dd(s)||(o=Rd(s)))?(o?(o=!1,l=r&&Rd(r)?r:[]):l=r&&Dd(r)?r:{},Ld(u,{name:n,newValue:t(m,l,s)})):typeof s<"u"&&Ld(u,{name:n,newValue:s}));return u}});var gh=Y((zs,ph)=>{(function(t,e){typeof zs=="object"&&typeof ph<"u"?e(zs):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(zs,function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=S=>{if(typeof S!="string")throw new TypeError("Invalid argument expected string");let E=S.match(e);if(!E)throw new Error(`Invalid argument not valid semver ('${S}' received)`);return E.shift(),E},r=S=>S==="*"||S==="x"||S==="X",s=S=>{let E=parseInt(S,10);return isNaN(E)?S:E},o=(S,E)=>typeof S!=typeof E?[String(S),String(E)]:[S,E],l=(S,E)=>{if(r(S)||r(E))return 0;let[T,P]=o(s(S),s(E));return T>P?1:T<P?-1:0},u=(S,E)=>{for(let T=0;T<Math.max(S.length,E.length);T++){let P=l(S[T]||"0",E[T]||"0");if(P!==0)return P}return 0},f=(S,E)=>{let T=n(S),P=n(E),W=T.pop(),z=P.pop(),v=u(T,P);return v!==0?v:W&&z?u(W.split("."),z.split(".")):W||z?W?-1:1:0},h=(S,E,T)=>{w(T);let P=f(S,E);return m[T].includes(P)},m={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},p=Object.keys(m),w=S=>{if(typeof S!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof S}`);if(p.indexOf(S)===-1)throw new Error(`Invalid operator, expected one of ${p.join("|")}`)},g=(S,E)=>{if(E=E.replace(/([><=]+)\s+/g,"$1"),E.includes("||"))return E.split("||").some(se=>g(S,se));if(E.includes(" - ")){let[se,we]=E.split(" - ",2);return g(S,`>=${se} <=${we}`)}else if(E.includes(" "))return E.trim().replace(/\s{2,}/g," ").split(" ").every(se=>g(S,se));let T=E.match(/^([<>=~^]+)/),P=T?T[1]:"=";if(P!=="^"&&P!=="~")return h(S,E,P);let[W,z,v,,ne]=n(S),[X,Z,ae,,fe]=n(E),ie=[W,z,v],V=[X,Z??"x",ae??"x"];if(fe&&(!ne||u(ie,V)!==0||u(ne.split("."),fe.split("."))===-1))return!1;let q=V.findIndex(se=>se!=="0")+1,U=P==="~"?2:q>1?q:1;return!(u(ie.slice(0,U),V.slice(0,U))!==0||u(ie.slice(U),V.slice(U))===-1)},x=S=>typeof S=="string"&&/^[v\d]/.test(S)&&e.test(S),F=S=>typeof S=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(S);t.compare=h,t.compareVersions=f,t.satisfies=g,t.validate=x,t.validateStrict=F})});var mi=Y((qR,Mh)=>{"use strict";var zx="2.0.0",Ux=Number.MAX_SAFE_INTEGER||9007199254740991,Hx=16,qx=250,Gx=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Mh.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Hx,MAX_SAFE_BUILD_LENGTH:qx,MAX_SAFE_INTEGER:Ux,RELEASE_TYPES:Gx,SEMVER_SPEC_VERSION:zx,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var pi=Y((GR,Nh)=>{"use strict";var jx=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Nh.exports=jx});var Tr=Y((Bt,Bh)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:iu,MAX_SAFE_BUILD_LENGTH:Kx,MAX_LENGTH:Xx}=mi(),Zx=pi();Bt=Bh.exports={};var Jx=Bt.re=[],Qx=Bt.safeRe=[],L=Bt.src=[],eE=Bt.safeSrc=[],M=Bt.t={},tE=0,su="[a-zA-Z0-9-]",nE=[["\\s",1],["\\d",Xx],[su,Kx]],rE=t=>{for(let[e,n]of nE)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},K=(t,e,n)=>{let r=rE(e),s=tE++;Zx(t,s,e),M[t]=s,L[s]=e,eE[s]=r,Jx[s]=new RegExp(e,n?"g":void 0),Qx[s]=new RegExp(r,n?"g":void 0)};K("NUMERICIDENTIFIER","0|[1-9]\\d*");K("NUMERICIDENTIFIERLOOSE","\\d+");K("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${su}*`);K("MAINVERSION",`(${L[M.NUMERICIDENTIFIER]})\\.(${L[M.NUMERICIDENTIFIER]})\\.(${L[M.NUMERICIDENTIFIER]})`);K("MAINVERSIONLOOSE",`(${L[M.NUMERICIDENTIFIERLOOSE]})\\.(${L[M.NUMERICIDENTIFIERLOOSE]})\\.(${L[M.NUMERICIDENTIFIERLOOSE]})`);K("PRERELEASEIDENTIFIER",`(?:${L[M.NONNUMERICIDENTIFIER]}|${L[M.NUMERICIDENTIFIER]})`);K("PRERELEASEIDENTIFIERLOOSE",`(?:${L[M.NONNUMERICIDENTIFIER]}|${L[M.NUMERICIDENTIFIERLOOSE]})`);K("PRERELEASE",`(?:-(${L[M.PRERELEASEIDENTIFIER]}(?:\\.${L[M.PRERELEASEIDENTIFIER]})*))`);K("PRERELEASELOOSE",`(?:-?(${L[M.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${L[M.PRERELEASEIDENTIFIERLOOSE]})*))`);K("BUILDIDENTIFIER",`${su}+`);K("BUILD",`(?:\\+(${L[M.BUILDIDENTIFIER]}(?:\\.${L[M.BUILDIDENTIFIER]})*))`);K("FULLPLAIN",`v?${L[M.MAINVERSION]}${L[M.PRERELEASE]}?${L[M.BUILD]}?`);K("FULL",`^${L[M.FULLPLAIN]}$`);K("LOOSEPLAIN",`[v=\\s]*${L[M.MAINVERSIONLOOSE]}${L[M.PRERELEASELOOSE]}?${L[M.BUILD]}?`);K("LOOSE",`^${L[M.LOOSEPLAIN]}$`);K("GTLT","((?:<|>)?=?)");K("XRANGEIDENTIFIERLOOSE",`${L[M.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);K("XRANGEIDENTIFIER",`${L[M.NUMERICIDENTIFIER]}|x|X|\\*`);K("XRANGEPLAIN",`[v=\\s]*(${L[M.XRANGEIDENTIFIER]})(?:\\.(${L[M.XRANGEIDENTIFIER]})(?:\\.(${L[M.XRANGEIDENTIFIER]})(?:${L[M.PRERELEASE]})?${L[M.BUILD]}?)?)?`);K("XRANGEPLAINLOOSE",`[v=\\s]*(${L[M.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L[M.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L[M.XRANGEIDENTIFIERLOOSE]})(?:${L[M.PRERELEASELOOSE]})?${L[M.BUILD]}?)?)?`);K("XRANGE",`^${L[M.GTLT]}\\s*${L[M.XRANGEPLAIN]}$`);K("XRANGELOOSE",`^${L[M.GTLT]}\\s*${L[M.XRANGEPLAINLOOSE]}$`);K("COERCEPLAIN",`(^|[^\\d])(\\d{1,${iu}})(?:\\.(\\d{1,${iu}}))?(?:\\.(\\d{1,${iu}}))?`);K("COERCE",`${L[M.COERCEPLAIN]}(?:$|[^\\d])`);K("COERCEFULL",L[M.COERCEPLAIN]+`(?:${L[M.PRERELEASE]})?(?:${L[M.BUILD]})?(?:$|[^\\d])`);K("COERCERTL",L[M.COERCE],!0);K("COERCERTLFULL",L[M.COERCEFULL],!0);K("LONETILDE","(?:~>?)");K("TILDETRIM",`(\\s*)${L[M.LONETILDE]}\\s+`,!0);Bt.tildeTrimReplace="$1~";K("TILDE",`^${L[M.LONETILDE]}${L[M.XRANGEPLAIN]}$`);K("TILDELOOSE",`^${L[M.LONETILDE]}${L[M.XRANGEPLAINLOOSE]}$`);K("LONECARET","(?:\\^)");K("CARETTRIM",`(\\s*)${L[M.LONECARET]}\\s+`,!0);Bt.caretTrimReplace="$1^";K("CARET",`^${L[M.LONECARET]}${L[M.XRANGEPLAIN]}$`);K("CARETLOOSE",`^${L[M.LONECARET]}${L[M.XRANGEPLAINLOOSE]}$`);K("COMPARATORLOOSE",`^${L[M.GTLT]}\\s*(${L[M.LOOSEPLAIN]})$|^$`);K("COMPARATOR",`^${L[M.GTLT]}\\s*(${L[M.FULLPLAIN]})$|^$`);K("COMPARATORTRIM",`(\\s*)${L[M.GTLT]}\\s*(${L[M.LOOSEPLAIN]}|${L[M.XRANGEPLAIN]})`,!0);Bt.comparatorTrimReplace="$1$2$3";K("HYPHENRANGE",`^\\s*(${L[M.XRANGEPLAIN]})\\s+-\\s+(${L[M.XRANGEPLAIN]})\\s*$`);K("HYPHENRANGELOOSE",`^\\s*(${L[M.XRANGEPLAINLOOSE]})\\s+-\\s+(${L[M.XRANGEPLAINLOOSE]})\\s*$`);K("STAR","(<|>)?=?\\s*\\*");K("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");K("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Zs=Y((jR,$h)=>{"use strict";var iE=Object.freeze({loose:!0}),sE=Object.freeze({}),oE=t=>t?typeof t!="object"?iE:t:sE;$h.exports=oE});var ou=Y((KR,Wh)=>{"use strict";var Vh=/^[0-9]+$/,Yh=(t,e)=>{let n=Vh.test(t),r=Vh.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},aE=(t,e)=>Yh(e,t);Wh.exports={compareIdentifiers:Yh,rcompareIdentifiers:aE}});var Ve=Y((XR,Uh)=>{"use strict";var Js=pi(),{MAX_LENGTH:zh,MAX_SAFE_INTEGER:Qs}=mi(),{safeRe:eo,t:to}=Tr(),lE=Zs(),{compareIdentifiers:_r}=ou(),au=class t{constructor(e,n){if(n=lE(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>zh)throw new TypeError(`version is longer than ${zh} characters`);Js("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?eo[to.LOOSE]:eo[to.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Qs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Qs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Qs||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let o=+s;if(o>=0&&o<Qs)return o}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Js("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),_r(this.major,e.major)||_r(this.minor,e.minor)||_r(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],s=e.prerelease[n];if(Js("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return _r(r,s)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],s=e.build[n];if(Js("build compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return _r(r,s)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let s=`-${n}`.match(this.options.loose?eo[to.PRERELEASELOOSE]:eo[to.PRERELEASE]);if(!s||s[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(n){let o=[n,s];r===!1&&(o=[n]),_r(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Uh.exports=au});var zn=Y((ZR,qh)=>{"use strict";var Hh=Ve(),uE=(t,e,n=!1)=>{if(t instanceof Hh)return t;try{return new Hh(t,e)}catch(r){if(!n)return null;throw r}};qh.exports=uE});var jh=Y((JR,Gh)=>{"use strict";var cE=zn(),fE=(t,e)=>{let n=cE(t,e);return n?n.version:null};Gh.exports=fE});var Xh=Y((QR,Kh)=>{"use strict";var dE=zn(),hE=(t,e)=>{let n=dE(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};Kh.exports=hE});var Qh=Y((eD,Jh)=>{"use strict";var Zh=Ve(),mE=(t,e,n,r,s)=>{typeof n=="string"&&(s=r,r=n,n=void 0);try{return new Zh(t instanceof Zh?t.version:t,n).inc(e,r,s).version}catch{return null}};Jh.exports=mE});var nm=Y((tD,tm)=>{"use strict";var em=zn(),pE=(t,e)=>{let n=em(t,null,!0),r=em(e,null,!0),s=n.compare(r);if(s===0)return null;let o=s>0,l=o?n:r,u=o?r:n,f=!!l.prerelease.length;if(!!u.prerelease.length&&!f){if(!u.patch&&!u.minor)return"major";if(u.compareMain(l)===0)return u.minor&&!u.patch?"minor":"patch"}let m=f?"pre":"";return n.major!==r.major?m+"major":n.minor!==r.minor?m+"minor":n.patch!==r.patch?m+"patch":"prerelease"};tm.exports=pE});var im=Y((nD,rm)=>{"use strict";var gE=Ve(),wE=(t,e)=>new gE(t,e).major;rm.exports=wE});var om=Y((rD,sm)=>{"use strict";var yE=Ve(),bE=(t,e)=>new yE(t,e).minor;sm.exports=bE});var lm=Y((iD,am)=>{"use strict";var kE=Ve(),AE=(t,e)=>new kE(t,e).patch;am.exports=AE});var cm=Y((sD,um)=>{"use strict";var xE=zn(),EE=(t,e)=>{let n=xE(t,e);return n&&n.prerelease.length?n.prerelease:null};um.exports=EE});var bt=Y((oD,dm)=>{"use strict";var fm=Ve(),CE=(t,e,n)=>new fm(t,n).compare(new fm(e,n));dm.exports=CE});var mm=Y((aD,hm)=>{"use strict";var vE=bt(),SE=(t,e,n)=>vE(e,t,n);hm.exports=SE});var gm=Y((lD,pm)=>{"use strict";var TE=bt(),_E=(t,e)=>TE(t,e,!0);pm.exports=_E});var no=Y((uD,ym)=>{"use strict";var wm=Ve(),FE=(t,e,n)=>{let r=new wm(t,n),s=new wm(e,n);return r.compare(s)||r.compareBuild(s)};ym.exports=FE});var km=Y((cD,bm)=>{"use strict";var PE=no(),IE=(t,e)=>t.sort((n,r)=>PE(n,r,e));bm.exports=IE});var xm=Y((fD,Am)=>{"use strict";var OE=no(),RE=(t,e)=>t.sort((n,r)=>OE(r,n,e));Am.exports=RE});var gi=Y((dD,Em)=>{"use strict";var DE=bt(),LE=(t,e,n)=>DE(t,e,n)>0;Em.exports=LE});var ro=Y((hD,Cm)=>{"use strict";var ME=bt(),NE=(t,e,n)=>ME(t,e,n)<0;Cm.exports=NE});var lu=Y((mD,vm)=>{"use strict";var BE=bt(),$E=(t,e,n)=>BE(t,e,n)===0;vm.exports=$E});var uu=Y((pD,Sm)=>{"use strict";var VE=bt(),YE=(t,e,n)=>VE(t,e,n)!==0;Sm.exports=YE});var io=Y((gD,Tm)=>{"use strict";var WE=bt(),zE=(t,e,n)=>WE(t,e,n)>=0;Tm.exports=zE});var so=Y((wD,_m)=>{"use strict";var UE=bt(),HE=(t,e,n)=>UE(t,e,n)<=0;_m.exports=HE});var cu=Y((yD,Fm)=>{"use strict";var qE=lu(),GE=uu(),jE=gi(),KE=io(),XE=ro(),ZE=so(),JE=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return qE(t,n,r);case"!=":return GE(t,n,r);case">":return jE(t,n,r);case">=":return KE(t,n,r);case"<":return XE(t,n,r);case"<=":return ZE(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};Fm.exports=JE});var Im=Y((bD,Pm)=>{"use strict";var QE=Ve(),eC=zn(),{safeRe:oo,t:ao}=Tr(),tC=(t,e)=>{if(t instanceof QE)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?oo[ao.COERCEFULL]:oo[ao.COERCE]);else{let f=e.includePrerelease?oo[ao.COERCERTLFULL]:oo[ao.COERCERTL],h;for(;(h=f.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||h.index+h[0].length!==n.index+n[0].length)&&(n=h),f.lastIndex=h.index+h[1].length+h[2].length;f.lastIndex=-1}if(n===null)return null;let r=n[2],s=n[3]||"0",o=n[4]||"0",l=e.includePrerelease&&n[5]?`-${n[5]}`:"",u=e.includePrerelease&&n[6]?`+${n[6]}`:"";return eC(`${r}.${s}.${o}${l}${u}`,e)};Pm.exports=tC});var Rm=Y((kD,Om)=>{"use strict";var fu=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,n)}return this}};Om.exports=fu});var kt=Y((AD,Nm)=>{"use strict";var nC=/\s+/g,du=class t{constructor(e,n){if(n=iC(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof hu)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(nC," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(s=>!Lm(s[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&fC(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&uC)|(this.options.loose&&cC))+":"+e,s=Dm.get(r);if(s)return s;let o=this.options.loose,l=o?rt[Ke.HYPHENRANGELOOSE]:rt[Ke.HYPHENRANGE];e=e.replace(l,AC(this.options.includePrerelease)),he("hyphen replace",e),e=e.replace(rt[Ke.COMPARATORTRIM],oC),he("comparator trim",e),e=e.replace(rt[Ke.TILDETRIM],aC),he("tilde trim",e),e=e.replace(rt[Ke.CARETTRIM],lC),he("caret trim",e);let u=e.split(" ").map(p=>dC(p,this.options)).join(" ").split(/\s+/).map(p=>kC(p,this.options));o&&(u=u.filter(p=>(he("loose invalid filter",p,this.options),!!p.match(rt[Ke.COMPARATORLOOSE])))),he("range list",u);let f=new Map,h=u.map(p=>new hu(p,this.options));for(let p of h){if(Lm(p))return[p];f.set(p.value,p)}f.size>1&&f.has("")&&f.delete("");let m=[...f.values()];return Dm.set(r,m),m}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>Mm(r,n)&&e.set.some(s=>Mm(s,n)&&r.every(o=>s.every(l=>o.intersects(l,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new sC(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(xC(this.set[n],e,this.options))return!0;return!1}};Nm.exports=du;var rC=Rm(),Dm=new rC,iC=Zs(),hu=wi(),he=pi(),sC=Ve(),{safeRe:rt,t:Ke,comparatorTrimReplace:oC,tildeTrimReplace:aC,caretTrimReplace:lC}=Tr(),{FLAG_INCLUDE_PRERELEASE:uC,FLAG_LOOSE:cC}=mi(),Lm=t=>t.value==="<0.0.0-0",fC=t=>t.value==="",Mm=(t,e)=>{let n=!0,r=t.slice(),s=r.pop();for(;n&&r.length;)n=r.every(o=>s.intersects(o,e)),s=r.pop();return n},dC=(t,e)=>(he("comp",t,e),t=pC(t,e),he("caret",t),t=hC(t,e),he("tildes",t),t=wC(t,e),he("xrange",t),t=bC(t,e),he("stars",t),t),Xe=t=>!t||t.toLowerCase()==="x"||t==="*",hC=(t,e)=>t.trim().split(/\s+/).map(n=>mC(n,e)).join(" "),mC=(t,e)=>{let n=e.loose?rt[Ke.TILDELOOSE]:rt[Ke.TILDE];return t.replace(n,(r,s,o,l,u)=>{he("tilde",t,r,s,o,l,u);let f;return Xe(s)?f="":Xe(o)?f=`>=${s}.0.0 <${+s+1}.0.0-0`:Xe(l)?f=`>=${s}.${o}.0 <${s}.${+o+1}.0-0`:u?(he("replaceTilde pr",u),f=`>=${s}.${o}.${l}-${u} <${s}.${+o+1}.0-0`):f=`>=${s}.${o}.${l} <${s}.${+o+1}.0-0`,he("tilde return",f),f})},pC=(t,e)=>t.trim().split(/\s+/).map(n=>gC(n,e)).join(" "),gC=(t,e)=>{he("caret",t,e);let n=e.loose?rt[Ke.CARETLOOSE]:rt[Ke.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(s,o,l,u,f)=>{he("caret",t,s,o,l,u,f);let h;return Xe(o)?h="":Xe(l)?h=`>=${o}.0.0${r} <${+o+1}.0.0-0`:Xe(u)?o==="0"?h=`>=${o}.${l}.0${r} <${o}.${+l+1}.0-0`:h=`>=${o}.${l}.0${r} <${+o+1}.0.0-0`:f?(he("replaceCaret pr",f),o==="0"?l==="0"?h=`>=${o}.${l}.${u}-${f} <${o}.${l}.${+u+1}-0`:h=`>=${o}.${l}.${u}-${f} <${o}.${+l+1}.0-0`:h=`>=${o}.${l}.${u}-${f} <${+o+1}.0.0-0`):(he("no pr"),o==="0"?l==="0"?h=`>=${o}.${l}.${u}${r} <${o}.${l}.${+u+1}-0`:h=`>=${o}.${l}.${u}${r} <${o}.${+l+1}.0-0`:h=`>=${o}.${l}.${u} <${+o+1}.0.0-0`),he("caret return",h),h})},wC=(t,e)=>(he("replaceXRanges",t,e),t.split(/\s+/).map(n=>yC(n,e)).join(" ")),yC=(t,e)=>{t=t.trim();let n=e.loose?rt[Ke.XRANGELOOSE]:rt[Ke.XRANGE];return t.replace(n,(r,s,o,l,u,f)=>{he("xRange",t,r,s,o,l,u,f);let h=Xe(o),m=h||Xe(l),p=m||Xe(u),w=p;return s==="="&&w&&(s=""),f=e.includePrerelease?"-0":"",h?s===">"||s==="<"?r="<0.0.0-0":r="*":s&&w?(m&&(l=0),u=0,s===">"?(s=">=",m?(o=+o+1,l=0,u=0):(l=+l+1,u=0)):s==="<="&&(s="<",m?o=+o+1:l=+l+1),s==="<"&&(f="-0"),r=`${s+o}.${l}.${u}${f}`):m?r=`>=${o}.0.0${f} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${l}.0${f} <${o}.${+l+1}.0-0`),he("xRange return",r),r})},bC=(t,e)=>(he("replaceStars",t,e),t.trim().replace(rt[Ke.STAR],"")),kC=(t,e)=>(he("replaceGTE0",t,e),t.trim().replace(rt[e.includePrerelease?Ke.GTE0PRE:Ke.GTE0],"")),AC=t=>(e,n,r,s,o,l,u,f,h,m,p,w)=>(Xe(r)?n="":Xe(s)?n=`>=${r}.0.0${t?"-0":""}`:Xe(o)?n=`>=${r}.${s}.0${t?"-0":""}`:l?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,Xe(h)?f="":Xe(m)?f=`<${+h+1}.0.0-0`:Xe(p)?f=`<${h}.${+m+1}.0-0`:w?f=`<=${h}.${m}.${p}-${w}`:t?f=`<${h}.${m}.${+p+1}-0`:f=`<=${f}`,`${n} ${f}`.trim()),xC=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(he(t[r].semver),t[r].semver!==hu.ANY&&t[r].semver.prerelease.length>0){let s=t[r].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var wi=Y((xD,zm)=>{"use strict";var yi=Symbol("SemVer ANY"),gu=class t{static get ANY(){return yi}constructor(e,n){if(n=Bm(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),pu("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===yi?this.value="":this.value=this.operator+this.semver.version,pu("comp",this)}parse(e){let n=this.options.loose?$m[Vm.COMPARATORLOOSE]:$m[Vm.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Ym(r[2],this.options.loose):this.semver=yi}toString(){return this.value}test(e){if(pu("Comparator.test",e,this.options.loose),this.semver===yi||e===yi)return!0;if(typeof e=="string")try{e=new Ym(e,this.options)}catch{return!1}return mu(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Wm(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new Wm(this.value,n).test(e.semver):(n=Bm(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||mu(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||mu(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};zm.exports=gu;var Bm=Zs(),{safeRe:$m,t:Vm}=Tr(),mu=cu(),pu=pi(),Ym=Ve(),Wm=kt()});var bi=Y((ED,Um)=>{"use strict";var EC=kt(),CC=(t,e,n)=>{try{e=new EC(e,n)}catch{return!1}return e.test(t)};Um.exports=CC});var qm=Y((CD,Hm)=>{"use strict";var vC=kt(),SC=(t,e)=>new vC(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));Hm.exports=SC});var jm=Y((vD,Gm)=>{"use strict";var TC=Ve(),_C=kt(),FC=(t,e,n)=>{let r=null,s=null,o=null;try{o=new _C(e,n)}catch{return null}return t.forEach(l=>{o.test(l)&&(!r||s.compare(l)===-1)&&(r=l,s=new TC(r,n))}),r};Gm.exports=FC});var Xm=Y((SD,Km)=>{"use strict";var PC=Ve(),IC=kt(),OC=(t,e,n)=>{let r=null,s=null,o=null;try{o=new IC(e,n)}catch{return null}return t.forEach(l=>{o.test(l)&&(!r||s.compare(l)===1)&&(r=l,s=new PC(r,n))}),r};Km.exports=OC});var Qm=Y((TD,Jm)=>{"use strict";var wu=Ve(),RC=kt(),Zm=gi(),DC=(t,e)=>{t=new RC(t,e);let n=new wu("0.0.0");if(t.test(n)||(n=new wu("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let s=t.set[r],o=null;s.forEach(l=>{let u=new wu(l.semver.version);switch(l.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!o||Zm(u,o))&&(o=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),o&&(!n||Zm(n,o))&&(n=o)}return n&&t.test(n)?n:null};Jm.exports=DC});var tp=Y((_D,ep)=>{"use strict";var LC=kt(),MC=(t,e)=>{try{return new LC(t,e).range||"*"}catch{return null}};ep.exports=MC});var lo=Y((FD,sp)=>{"use strict";var NC=Ve(),ip=wi(),{ANY:BC}=ip,$C=kt(),VC=bi(),np=gi(),rp=ro(),YC=so(),WC=io(),zC=(t,e,n,r)=>{t=new NC(t,r),e=new $C(e,r);let s,o,l,u,f;switch(n){case">":s=np,o=YC,l=rp,u=">",f=">=";break;case"<":s=rp,o=WC,l=np,u="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(VC(t,e,r))return!1;for(let h=0;h<e.set.length;++h){let m=e.set[h],p=null,w=null;if(m.forEach(g=>{g.semver===BC&&(g=new ip(">=0.0.0")),p=p||g,w=w||g,s(g.semver,p.semver,r)?p=g:l(g.semver,w.semver,r)&&(w=g)}),p.operator===u||p.operator===f||(!w.operator||w.operator===u)&&o(t,w.semver))return!1;if(w.operator===f&&l(t,w.semver))return!1}return!0};sp.exports=zC});var ap=Y((PD,op)=>{"use strict";var UC=lo(),HC=(t,e,n)=>UC(t,e,">",n);op.exports=HC});var up=Y((ID,lp)=>{"use strict";var qC=lo(),GC=(t,e,n)=>qC(t,e,"<",n);lp.exports=GC});var dp=Y((OD,fp)=>{"use strict";var cp=kt(),jC=(t,e,n)=>(t=new cp(t,n),e=new cp(e,n),t.intersects(e,n));fp.exports=jC});var mp=Y((RD,hp)=>{"use strict";var KC=bi(),XC=bt();hp.exports=(t,e,n)=>{let r=[],s=null,o=null,l=t.sort((m,p)=>XC(m,p,n));for(let m of l)KC(m,e,n)?(o=m,s||(s=m)):(o&&r.push([s,o]),o=null,s=null);s&&r.push([s,null]);let u=[];for(let[m,p]of r)m===p?u.push(m):!p&&m===l[0]?u.push("*"):p?m===l[0]?u.push(`<=${p}`):u.push(`${m} - ${p}`):u.push(`>=${m}`);let f=u.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return f.length<h.length?f:e}});var kp=Y((DD,bp)=>{"use strict";var pp=kt(),bu=wi(),{ANY:yu}=bu,ki=bi(),ku=bt(),ZC=(t,e,n={})=>{if(t===e)return!0;t=new pp(t,n),e=new pp(e,n);let r=!1;e:for(let s of t.set){for(let o of e.set){let l=QC(s,o,n);if(r=r||l!==null,l)continue e}if(r)return!1}return!0},JC=[new bu(">=0.0.0-0")],gp=[new bu(">=0.0.0")],QC=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===yu){if(e.length===1&&e[0].semver===yu)return!0;n.includePrerelease?t=JC:t=gp}if(e.length===1&&e[0].semver===yu){if(n.includePrerelease)return!0;e=gp}let r=new Set,s,o;for(let g of t)g.operator===">"||g.operator===">="?s=wp(s,g,n):g.operator==="<"||g.operator==="<="?o=yp(o,g,n):r.add(g.semver);if(r.size>1)return null;let l;if(s&&o){if(l=ku(s.semver,o.semver,n),l>0)return null;if(l===0&&(s.operator!==">="||o.operator!=="<="))return null}for(let g of r){if(s&&!ki(g,String(s),n)||o&&!ki(g,String(o),n))return null;for(let x of e)if(!ki(g,String(x),n))return!1;return!0}let u,f,h,m,p=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1,w=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1;p&&p.prerelease.length===1&&o.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let g of e){if(m=m||g.operator===">"||g.operator===">=",h=h||g.operator==="<"||g.operator==="<=",s){if(w&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===w.major&&g.semver.minor===w.minor&&g.semver.patch===w.patch&&(w=!1),g.operator===">"||g.operator===">="){if(u=wp(s,g,n),u===g&&u!==s)return!1}else if(s.operator===">="&&!ki(s.semver,String(g),n))return!1}if(o){if(p&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===p.major&&g.semver.minor===p.minor&&g.semver.patch===p.patch&&(p=!1),g.operator==="<"||g.operator==="<="){if(f=yp(o,g,n),f===g&&f!==o)return!1}else if(o.operator==="<="&&!ki(o.semver,String(g),n))return!1}if(!g.operator&&(o||s)&&l!==0)return!1}return!(s&&h&&!o&&l!==0||o&&m&&!s&&l!==0||w||p)},wp=(t,e,n)=>{if(!t)return e;let r=ku(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},yp=(t,e,n)=>{if(!t)return e;let r=ku(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};bp.exports=ZC});var Cp=Y((LD,Ep)=>{"use strict";var Au=Tr(),Ap=mi(),ev=Ve(),xp=ou(),tv=zn(),nv=jh(),rv=Xh(),iv=Qh(),sv=nm(),ov=im(),av=om(),lv=lm(),uv=cm(),cv=bt(),fv=mm(),dv=gm(),hv=no(),mv=km(),pv=xm(),gv=gi(),wv=ro(),yv=lu(),bv=uu(),kv=io(),Av=so(),xv=cu(),Ev=Im(),Cv=wi(),vv=kt(),Sv=bi(),Tv=qm(),_v=jm(),Fv=Xm(),Pv=Qm(),Iv=tp(),Ov=lo(),Rv=ap(),Dv=up(),Lv=dp(),Mv=mp(),Nv=kp();Ep.exports={parse:tv,valid:nv,clean:rv,inc:iv,diff:sv,major:ov,minor:av,patch:lv,prerelease:uv,compare:cv,rcompare:fv,compareLoose:dv,compareBuild:hv,sort:mv,rsort:pv,gt:gv,lt:wv,eq:yv,neq:bv,gte:kv,lte:Av,cmp:xv,coerce:Ev,Comparator:Cv,Range:vv,satisfies:Sv,toComparators:Tv,maxSatisfying:_v,minSatisfying:Fv,minVersion:Pv,validRange:Iv,outside:Ov,gtr:Rv,ltr:Dv,intersects:Lv,simplifyRange:Mv,subset:Nv,SemVer:ev,re:Au.re,src:Au.src,tokens:Au.t,SEMVER_SPEC_VERSION:Ap.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ap.RELEASE_TYPES,compareIdentifiers:xp.compareIdentifiers,rcompareIdentifiers:xp.rcompareIdentifiers}});var Fp=Y((vu,Su)=>{(function(t,e,n){typeof vu=="object"?(Su.exports=n(),Su.exports.default=n()):typeof define=="function"&&define.amd?define(n):e[t]=n()})("slugify",vu,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),e=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function n(r,s){if(typeof r!="string")throw new Error("slugify: string argument expected");s=typeof s=="string"?{replacement:s}:s||{};var o=e[s.locale]||{},l=s.replacement===void 0?"-":s.replacement,u=s.trim===void 0?!0:s.trim,f=r.normalize().split("").reduce(function(h,m){var p=o[m];return p===void 0&&(p=t[m]),p===void 0&&(p=m),p===l&&(p=" "),h+p.replace(s.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return s.strict&&(f=f.replace(/[^A-Za-z0-9\s]/g,"")),u&&(f=f.trim()),f=f.replace(/\s+/g,l),s.lower&&(f=f.toLowerCase()),f}return n.extend=function(r){Object.assign(t,r)},n})});var c2={};Tc(c2,{default:()=>u2});module.exports=zy(c2);var Vu=require("electron"),Yu=Be(Xt(),1),rg=require("obsidian");var Va=Be(Vc(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Da="30.2.1",Zi="obsidian-dev-utils",Yc=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACnCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Ur(t,e){let n=0;for(let r=0;r<t.length;r++){if(!(r in t))continue;let s=t[r];e(s,r,t)&&(t[n++]=s)}t.length=n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var It=class{eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(Ur(r,s=>s.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(Ur(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let s=this.eventRefsMap.get(e);s||(s=[],this.eventRefsMap.set(e,s));let o={asyncEvents:this,callback:n,name:e,thisArg:r};return s.push(o),o}once(e,n,r){let s=this.on(e,n,r),o=this.on(e,()=>{this.offref(s),this.offref(o)});return s}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let s of r.slice())this.tryTrigger(s,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let s of r.slice())await this.tryTriggerAsync(s,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ma="asyncError",La=`Error stack:
`,Qi="An unhandled error occurred executing async operation",Ji=new It;Ji.on(Ma,db);function es(t){Ji.trigger(Ma,t)}function Wc(t){return Na(t).map(e=>"  ".repeat(e.level)+(e.message.startsWith(La)?e.message.slice(La.length):e.message)).join(`
`)}function Rn(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}function Hr(t,e){e??=globalThis.console;let n=Na(t);for(let r of n)r.shouldClearAnsiSequence?e.error(`\x1B[0m${r.message}\x1B[0m`):e.error(r.message)}function zc(t){let e=Ji.on(Ma,t);return()=>{Ji.offref(e)}}function Zt(t){throw t}function db(t){Hr(t)}function Na(t,e=0,n=[]){if(t===void 0)return n;if(!(t instanceof Error)){let s;return t===null?s="(null)":typeof t=="string"?s=t:s=JSON.stringify(t)??"undefined",n.push({level:e,message:s}),n}let r=`${t.name}: ${t.message}`;if(n.push({level:e,message:r,shouldClearAnsiSequence:!0}),t.stack){let s=t.stack.startsWith(r)?t.stack.slice(r.length+1):t.stack;n.push({level:e,message:`${La}${s}`})}return t.cause!==void 0&&(n.push({level:e,message:"Caused by:"}),Na(t.cause,e+1,n)),n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Jt(){}async function Ot(){}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ba=class{constructor(e){this.value=e}};function hb(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??Zt(new Error("Obsidian app not found"))}}function Qt(t,e,n){let s=t??mb()??globalThis;return s.obsidianDevUtilsState??={},s.obsidianDevUtilsState[e]??=new Ba(n)}function mb(){return typeof window>"u"?null:hb()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var $a="__no-plugin-id-initialized__",Uc=$a;function ts(){return Uc}function Hc(t){t&&(Uc=t)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qc=",",ns="-";function Gc(){return{disable:pb,enable:gb,get:rs,set:qr}}function sr(t,e=0){let n=`${t}:${e.toString()}`,r=Qt(null,"debuggers",new Map).value,s=r.get(n);return s||(s=or()(t),s.log=(o,...l)=>{wb(t,e,o,...l)},s.printStackTrace=(o,l)=>{Xc(t,o,l)},r.set(n,s)),s}function mt(t){let e=ts(),n=e===$a?"":`${e}:`;return sr(`${n}${Zi}:${t}`)}function jc(t){let e=or().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",s=rs();qr(t),sr(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),qr(s)}function pb(t){let e=new Set(rs());for(let n of Gr(t)){if(n.startsWith(ns))continue;let r=ns+n;e.has(n)&&e.delete(n),e.add(r)}qr(Array.from(e))}function gb(t){let e=new Set(rs());for(let n of Gr(t)){if(!n.startsWith(ns)){let r=ns+n;e.has(r)&&e.delete(r)}e.add(n)}qr(Array.from(e))}function rs(){return Gr(or().load()??"")}function or(){return typeof window>"u"?Va.default:Qt(null,"debug",Va.default).value}function Kc(){return typeof window<"u"}function wb(t,e,n,...r){if(!or().enabled(t))return;let l=(new Error().stack?.split(`
`)??[])[4+e]??"";console.debug(n,...r),Kc()&&Xc(t,l,"Debug message caller")}function Xc(t,e,n){let r=or()(t);if(!r.enabled)return;e||(e="(unavailable)"),(n??"")||(n="Caller stack trace"),r(n);let s=Kc()?`StackTraceFakeError
`:"";console.debug(`${s}${e}`)}function qr(t){or().enable(Gr(t).join(qc))}function Gr(t){return typeof t=="string"?t.split(qc).filter(Boolean):t.flatMap(Gr)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ya=Number.POSITIVE_INFINITY;async function Wa(t){let e=new Error(Qi);try{await t()}catch(n){e.cause=n,es(e)}}function ot(t){return(...e)=>{et(()=>t(...e))}}function et(t){Wa(t)}function Zc(t,e=0){window.setTimeout(ot(async()=>await t()),e)}async function Jc(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}async function is(t,e,n){let r=mt("Async:retryWithTimeout");n??=Rn(1);let o={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};await za(o.timeoutInMilliseconds,async()=>{let l=0;for(;;){o.abortSignal?.throwIfAborted(),l++;let u;try{u=await t()}catch(f){if(!o.shouldRetryOnError||f.__terminateRetry)throw f;Hr(f),u=!1}if(u){l>1&&(r(`Retry completed successfully after ${l.toString()} attempts`),r.printStackTrace(n));return}r(`Retry attempt ${l.toString()} completed unsuccessfully. Trying again in ${o.retryDelayInMilliseconds.toString()} milliseconds`,{fn:t}),r.printStackTrace(n),await Qc(o.retryDelayInMilliseconds)}},{retryFn:t})}async function za(t,e,n){let r=!0,s=null,o=performance.now();if(t===Ya)return await l(),s;if(await Promise.race([l(),u()]),r)throw new Error("Timed out");return s;async function l(){try{s=await e();let f=performance.now()-o;mt("Async:runWithTimeout")(`Execution time: ${f.toString()} milliseconds`,{context:n,fn:e})}finally{r=!1}}async function u(){if(!r||(await Qc(t),!r))return;let f=performance.now()-o;console.warn(`Timed out in ${f.toString()} milliseconds`,{context:n,fn:e});let h=mt("Async:runWithTimeout:timeout");h.enabled&&(h(`The execution is not terminated because debugger ${h.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information`),await u())}}async function Qc(t){await new Promise(e=>{window.setTimeout(e,t)})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function yb(t){return await new Promise(e=>{let n=new FileReader;n.addEventListener("loadend",r),n.readAsDataURL(t);function r(){e(n.result)}})}async function ef(t,e){let n=await yb(t);return new Promise(r=>{let s=new Image;s.addEventListener("load",o),s.src=n;function o(){let l=document.createElement("canvas"),u=l.getContext("2d");if(!u)throw new Error("Could not get 2D context.");let f=s.width,h=s.height;l.width=f,l.height=h,u.fillStyle="#fff",u.fillRect(0,0,f,h),u.save();let m=.5;u.translate(f*m,h*m),u.drawImage(s,0,0,f,h,-f*m,-h*m,f,h),u.restore();let p=l.toDataURL("image/jpeg",e),w=bb(p);r(w)}})}function bb(t){let n=t.split(";base64,")[1];if(!n)throw new Error("Invalid data URL");let r=window.atob(n),s=r.length,o=new Uint8Array(s);for(let l=0;l<s;l++)o[l]=r.charCodeAt(l);return o.buffer}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function ss(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}function tf(t){try{return new RegExp(t),!0}catch{return!1}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Dn(t,...e){return kb(t)?await t(...e):t}function kb(t){return typeof t=="function"}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ab={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"},xb={};for(let[t,e]of Object.entries(Ab))xb[e]=t;function nf(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}function jr(t){return pe(t,/\u00A0|\u202F/g," ").normalize("NFC")}function pe(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...s)=>{let l=typeof s.at(-1)=="object",u=l?s.length-2:s.length-1,f={groups:l?s.at(-1):void 0,missingGroupIndices:[],offset:s.at(u-1),source:s.at(u),substring:r},h=s.slice(0,u-1).map((m,p)=>{if(typeof m=="string")return m;if(typeof m>"u")return f.missingGroupIndices.push(p),"";throw new Error(`Unexpected argument type: ${typeof m}`)});return n(f,...h)??f.substring}))}async function rf(t,e,n){if(typeof n=="string")return pe(t,e,n);let r=[];pe(t,e,(o,...l)=>(r.push(Dn(n,o,...l)),""));let s=await Promise.all(r);return pe(t,e,o=>s.shift()??o.substring)}function os(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}function as(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var sf=".",Eb=[{constructor:ArrayBuffer,equalityComparer:vb},{constructor:Date,equalityComparer:Sb},{constructor:RegExp,equalityComparer:_b},{constructor:Map,equalityComparer:Tb},{constructor:Set,equalityComparer:Fb}];function pt(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let f=Pb(t,e);if(f!==void 0)return f}let s=ar(t),o=ar(e);if(s.length!==o.length)return!1;let l=t,u=e;for(let f of s)if(!o.includes(f)||!pt(l[f],u[f]))return!1;return!0}function ar(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[s,o]of Object.entries(r)){if(s==="__proto__"||typeof o.value=="function")continue;let l=typeof o.get=="function",u=typeof o.set=="function";if(l||u){l&&u&&e.push(s);continue}o.enumerable&&o.writable&&e.push(s)}n=Object.getPrototypeOf(n)}return e.sort()}function en(t,e){let n=t,r=e.split(sf);for(let s of r){if(n===void 0)return;n=n[s]}return n}function of(t){return t==null?t:Object.getPrototypeOf(t)}function Ha(t,e,n){let r=new Error(`Property path ${e} not found`),s=t,o=e.split(sf);for(let u of o.slice(0,-1)){if(s===void 0)throw r;s=s[u]}let l=o.at(-1);if(s===void 0||l===void 0)throw r;s[l]=n}function lr(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:Ua("CircularReference"),maxDepthLimitReached:Ua("MaxDepthLimitReached"),toJSONFailed:Ua("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let s=[],l=ls(t,"",0,!0,r,s,new WeakSet),u=JSON.stringify(l,null,r.space)??"";return u=pe(u,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(f,h,m)=>Cb({functionTexts:s,index:m?parseInt(m,10):0,key:h,substitutions:r.tokenSubstitutions})),u}function Cb(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??Zt(new Error(`Function with index ${t.index.toString()} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${t.index.toString()})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}function vb(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return pt(n,r)}function Sb(t,e){return t.getTime()===e.getTime()}function Tb(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!pt(r,e.get(n)))return!1;return!0}function _b(t,e){return t.source===e.source&&t.flags===e.flags}function Fb(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let s of e)if(pt(n,s)){r=!0;break}if(!r)return!1}return!0}function Pb(t,e){for(let{constructor:n,equalityComparer:r}of Eb)if(t instanceof n&&e instanceof n)return r(t,e)}function Ib(t,e,n,r,s,o){return e>r.maxDepth?ur("MaxDepthLimitReachedArray",t.length):t.map((l,u)=>ls(l,u.toString(),e+1,n,r,s,o))}function Ob(t,e,n){if(n.shouldHandleCircularReferences)return ur("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}function Rb(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,s=n.functionHandlingMode==="full"?t.toString():`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(s),ur("Function",r)}function Db(t,e,n,r,s,o,l){if(l.has(t))return Ob(t,e,s);if(l.add(t),r){let u=Mb(t,e,n,s,o,l);if(u!==void 0)return u}return Array.isArray(t)?Ib(t,n,r,s,o,l):n>s.maxDepth?ur("MaxDepthLimitReached"):t instanceof Error&&s.shouldHandleErrors?Wc(t):Lb(t,n,r,s,o,l)}function Lb(t,e,n,r,s,o){let l=Object.entries(t);return r.shouldSortKeys&&l.sort(([u],[f])=>u.localeCompare(f)),Object.fromEntries(l.map(([u,f])=>[u,ls(f,u,e+1,n,r,s,o)]))}function Ua(t){return`{ "[[${t}]]": null }`}function ur(t,e){return`[[${t}${e?.toString()??""}]]`}function ls(t,e,n,r,s,o,l){return t===void 0?n===0||s.shouldHandleUndefined?ur("Undefined"):void 0:typeof t=="function"?Rb(t,o,s):typeof t!="object"||t===null?t:Db(t,e,n,r,s,o,l)}function Mb(t,e,n,r,s,o){let l=t.toJSON;if(typeof l=="function")try{let u=l.call(t,e);return ls(u,e,n,!1,r,s,o)}catch(u){if(r.shouldCatchToJSONErrors)return ur("ToJSONFailed");throw u}}var Nb=require("obsidian"),lf=require("obsidian"),uf=require("obsidian"),G2=require("obsidian"),j2=require("obsidian");var _t={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},af={AllProperties:"all-properties",Audio:"audio",Backlink:_t.Backlink,Bookmarks:_t.Bookmarks,Canvas:_t.Canvas,Empty:"empty",FileExplorer:_t.FileExplorer,FileProperties:"file-properties",Graph:_t.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:_t.OutgoingLink,Outline:_t.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function Bb(){return lf.TFile}function $b(){return uf.TFolder}function gt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}function us(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new($b())(t.vault,e),n.parent=us(t,gt(e)),n.deleted=!0,n)}function cf(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(Bb())(t.vault,e),n.parent=us(t,gt(e)),n.deleted=!0,n)}function tn(t){return!!t.position}function at(t){return!!t.key}var qa=Be(hf(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Yb=/[a-zA-Z]:\/[^:]*$/,Dt=qa.default.posix,Q2=Dt.delimiter,eS=qa.default.posix.sep,ke=Dt.basename,xe=Dt.dirname,Fe=Dt.extname,tS=Dt.format;var Ee=Dt.join,nS=Dt.normalize,rS=Dt.parse,fr=Dt.relative;function Lt(t,e){return e?`${t}.${e}`:t}function mf(...t){let e=Dt.resolve(...t);return e=Wb(e),Yb.exec(e)?.[0]??e}function Wb(t){return pe(t,"\\","/")}var nn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var zb="base",Ub="canvas",gf="md";function Ga(t,e,n){if(wt(e))return e.extension===n;if(typeof e=="string"){let r=tt(t,e);return r?r.extension===n:Fe(e).slice(1)===n}return!1}function Ln(t,e,n){if(e===null)return null;if(wf(e))return e;let r=pf(t,e,n);if(r)return r;let s=bf(e);return s===e?null:pf(t,s,n)}function Pe(t,e,n,r){let s=tt(t,e,r);if(!s)if(n)s=cf(t,e);else throw new Error(`File not found: ${e}`);return s}function tt(t,e,n){let r=Ln(t,e,n);return wt(r)?r:null}function Kr(t,e,n,r){let s=Mt(t,e,r);if(!s)if(n)s=us(t,e);else throw new Error(`Folder not found: ${e}`);return s}function Mt(t,e,n){let r=Ln(t,e,n);return ja(r)?r:null}function ye(t,e){if(wf(e))return e.path;let n=Ln(t,e);return n?n.path:bf(e)}function wf(t){return t instanceof nn.TAbstractFile}function Hb(t,e){return Ga(t,e,zb)}function rn(t,e){return Ga(t,e,Ub)}function wt(t){return t instanceof nn.TFile}function ja(t){return t instanceof nn.TFolder}function sn(t,e){return Ga(t,e,gf)}function Xr(t,e){return sn(t,e)||rn(t,e)||Hb(t,e)}function yf(t,e){return sn(t,e)?os(e.path,`.${gf}`):e.path}function pf(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}function bf(t){return(0,nn.normalizePath)(mf("/",t))}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function qb(t,e,n){let r=ye(t,e),s=ye(t,n),o=Pe(t,s,!0),l=Fe(r),u=ke(r,l),f=t.vault.getAvailablePathForAttachments;return f.isExtended?f(u,l.slice(1),o,!0):await Ka(t,u,l.slice(1),o,!0)}async function dr(t,e){return gt(await qb(t,"DUMMY_FILE.pdf",e))}async function Ka(t,e,n,r,s){let o=t.vault.getConfig("attachmentFolderPath"),l=o==="."||o==="./",u=null;o.startsWith("./")&&(u=as(o,"./")),l?o=r?r.parent?.path??"":"":u&&(o=(r?r.parent?.getParentPrefix()??"":"")+u),o=jr(kf(o)),e=jr(kf(e));let f=Mt(t,o,!0);!f&&u&&(s?f=Kr(t,o,!0):f=await t.vault.createFolder(o));let h=f?.getParentPrefix()??"";return t.vault.getAvailablePath(h+e,n)}async function Xa(t,e){let n=await dr(t,e),r=await dr(t,Ee(xe(e),"DUMMY_FILE.md"));return n!==r}function kf(t){return t=pe(t,/(?:[\\/])+/g,"/"),t=pe(t,/^\/+|\/+$/g,""),t||"/"}var Ys=require("obsidian");var Gb={};function Mn(t,e){let n=e||Gb,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return xf(t,r,s)}function xf(t,e,n){if(jb(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Af(t.children,e,n)}return Array.isArray(t)?Af(t,e,n):""}function Af(t,e,n){let r=[],s=-1;for(;++s<t.length;)r[s]=xf(t[s],e,n);return r.join("")}function jb(t){return!!(t&&typeof t=="object")}var Ef=document.createElement("i");function hr(t){let e="&"+t+";";Ef.innerHTML=e;let n=Ef.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Re(t,e,n,r){let s=t.length,o=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(e,0),t.splice(...l),o+=1e4,e+=1e4}function Ge(t,e){return t.length>0?(Re(t,t.length,0,e),t):e}var Cf={}.hasOwnProperty;function vf(t){let e={},n=-1;for(;++n<t.length;)Kb(e,t[n]);return e}function Kb(t,e){let n;for(n in e){let s=(Cf.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n],l;if(o)for(l in o){Cf.call(s,l)||(s[l]=[]);let u=o[l];Xb(s[l],Array.isArray(u)?u:u?[u]:[])}}}function Xb(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Re(t,0,0,r)}function cs(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}function on(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var lt=pn(/[A-Za-z]/),je=pn(/[\dA-Za-z]/),Sf=pn(/[#-'*+\--9=?A-Z^-~]/);function Zr(t){return t!==null&&(t<32||t===127)}var Jr=pn(/\d/),Tf=pn(/[\dA-Fa-f]/),_f=pn(/[!-/:-@[-`{-~]/);function $(t){return t!==null&&t<-2}function Ce(t){return t!==null&&(t<0||t===32)}function G(t){return t===-2||t===-1||t===32}var Ff=pn(/\p{P}|\p{S}/u),Pf=pn(/\s/);function pn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function j(t,e,n,r){let s=r?r-1:Number.POSITIVE_INFINITY,o=0;return l;function l(f){return G(f)?(t.enter(n),u(f)):e(f)}function u(f){return G(f)&&o++<s?(t.consume(f),u):(t.exit(n),e(f))}}var If={tokenize:Zb};function Zb(t){let e=t.attempt(this.parser.constructs.contentInitial,r,s),n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),j(t,e,"linePrefix")}function s(u){return t.enter("paragraph"),o(u)}function o(u){let f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(u)}function l(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return $(u)?(t.consume(u),t.exit("chunkText"),o):(t.consume(u),l)}}var Rf={tokenize:Jb},Of={tokenize:Qb};function Jb(t){let e=this,n=[],r=0,s,o,l;return u;function u(P){if(r<n.length){let W=n[r];return e.containerState=W[1],t.attempt(W[0].continuation,f,h)(P)}return h(P)}function f(P){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&T();let W=e.events.length,z=W,v;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){v=e.events[z][1].end;break}E(r);let ne=W;for(;ne<e.events.length;)e.events[ne][1].end={...v},ne++;return Re(e.events,z+1,0,e.events.slice(W)),e.events.length=ne,h(P)}return u(P)}function h(P){if(r===n.length){if(!s)return w(P);if(s.currentConstruct&&s.currentConstruct.concrete)return x(P);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Of,m,p)(P)}function m(P){return s&&T(),E(r),w(P)}function p(P){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,x(P)}function w(P){return e.containerState={},t.attempt(Of,g,x)(P)}function g(P){return r++,n.push([e.currentConstruct,e.containerState]),w(P)}function x(P){if(P===null){s&&T(),E(0),t.consume(P);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),F(P)}function F(P){if(P===null){S(t.exit("chunkFlow"),!0),E(0),t.consume(P);return}return $(P)?(t.consume(P),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(P),F)}function S(P,W){let z=e.sliceStream(P);if(W&&z.push(null),P.previous=o,o&&(o.next=P),o=P,s.defineSkip(P.start),s.write(z),e.parser.lazy[P.start.line]){let v=s.events.length;for(;v--;)if(s.events[v][1].start.offset<l&&(!s.events[v][1].end||s.events[v][1].end.offset>l))return;let ne=e.events.length,X=ne,Z,ae;for(;X--;)if(e.events[X][0]==="exit"&&e.events[X][1].type==="chunkFlow"){if(Z){ae=e.events[X][1].end;break}Z=!0}for(E(r),v=ne;v<e.events.length;)e.events[v][1].end={...ae},v++;Re(e.events,X+1,0,e.events.slice(ne)),e.events.length=v}}function E(P){let W=n.length;for(;W-- >P;){let z=n[W];e.containerState=z[1],z[0].exit.call(e,t)}n.length=P}function T(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function Qb(t,e,n){return j(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function mr(t){if(t===null||Ce(t)||Pf(t))return 1;if(Ff(t))return 2}function pr(t,e,n){let r=[],s=-1;for(;++s<t.length;){let o=t[s].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}var Qr={name:"attention",resolveAll:ek,tokenize:tk};function ek(t,e){let n=-1,r,s,o,l,u,f,h,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let p={...t[r][1].end},w={...t[n][1].start};Df(p,-f),Df(w,f),l={type:f>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},u={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},o={type:f>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},t[r][1].end={...l.start},t[n][1].start={...u.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=Ge(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=Ge(h,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",o,e]]),h=Ge(h,pr(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=Ge(h,[["exit",o,e],["enter",u,e],["exit",u,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,h=Ge(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,Re(t,r-1,n-r+3,h),n=r+h.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function tk(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=mr(r),o;return l;function l(f){return o=f,t.enter("attentionSequence"),u(f)}function u(f){if(f===o)return t.consume(f),u;let h=t.exit("attentionSequence"),m=mr(f),p=!m||m===2&&s||n.includes(f),w=!s||s===2&&m||n.includes(r);return h._open=!!(o===42?p:p&&(s||!w)),h._close=!!(o===42?w:w&&(m||!p)),e(f)}}function Df(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}var Za={name:"autolink",tokenize:nk};function nk(t,e,n){let r=0;return s;function s(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(g){return lt(g)?(t.consume(g),l):g===64?n(g):h(g)}function l(g){return g===43||g===45||g===46||je(g)?(r=1,u(g)):h(g)}function u(g){return g===58?(t.consume(g),r=0,f):(g===43||g===45||g===46||je(g))&&r++<32?(t.consume(g),u):(r=0,h(g))}function f(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||Zr(g)?n(g):(t.consume(g),f)}function h(g){return g===64?(t.consume(g),m):Sf(g)?(t.consume(g),h):n(g)}function m(g){return je(g)?p(g):n(g)}function p(g){return g===46?(t.consume(g),r=0,m):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):w(g)}function w(g){if((g===45||je(g))&&r++<63){let x=g===45?w:p;return t.consume(g),x}return n(g)}}var gn={partial:!0,tokenize:rk};function rk(t,e,n){return r;function r(o){return G(o)?j(t,s,"linePrefix")(o):s(o)}function s(o){return o===null||$(o)?e(o):n(o)}}var fs={continuation:{tokenize:sk},exit:ok,name:"blockQuote",tokenize:ik};function ik(t,e,n){let r=this;return s;function s(l){if(l===62){let u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),o}return n(l)}function o(l){return G(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function sk(t,e,n){let r=this;return s;function s(l){return G(l)?j(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return t.attempt(fs,e,n)(l)}}function ok(t){t.exit("blockQuote")}var ds={name:"characterEscape",tokenize:ak};function ak(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),s}function s(o){return _f(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}var hs={name:"characterReference",tokenize:lk};function lk(t,e,n){let r=this,s=0,o,l;return u;function u(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),f}function f(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),o=31,l=je,m(p))}function h(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,l=Tf,m):(t.enter("characterReferenceValue"),o=7,l=Jr,m(p))}function m(p){if(p===59&&s){let w=t.exit("characterReferenceValue");return l===je&&!hr(r.sliceSerialize(w))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(p)&&s++<o?(t.consume(p),m):n(p)}}var Lf={partial:!0,tokenize:ck},ms={concrete:!0,name:"codeFenced",tokenize:uk};function uk(t,e,n){let r=this,s={partial:!0,tokenize:z},o=0,l=0,u;return f;function f(v){return h(v)}function h(v){let ne=r.events[r.events.length-1];return o=ne&&ne[1].type==="linePrefix"?ne[2].sliceSerialize(ne[1],!0).length:0,u=v,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(v)}function m(v){return v===u?(l++,t.consume(v),m):l<3?n(v):(t.exit("codeFencedFenceSequence"),G(v)?j(t,p,"whitespace")(v):p(v))}function p(v){return v===null||$(v)?(t.exit("codeFencedFence"),r.interrupt?e(v):t.check(Lf,F,W)(v)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(v))}function w(v){return v===null||$(v)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(v)):G(v)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),j(t,g,"whitespace")(v)):v===96&&v===u?n(v):(t.consume(v),w)}function g(v){return v===null||$(v)?p(v):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(v))}function x(v){return v===null||$(v)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(v)):v===96&&v===u?n(v):(t.consume(v),x)}function F(v){return t.attempt(s,W,S)(v)}function S(v){return t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),E}function E(v){return o>0&&G(v)?j(t,T,"linePrefix",o+1)(v):T(v)}function T(v){return v===null||$(v)?t.check(Lf,F,W)(v):(t.enter("codeFlowValue"),P(v))}function P(v){return v===null||$(v)?(t.exit("codeFlowValue"),T(v)):(t.consume(v),P)}function W(v){return t.exit("codeFenced"),e(v)}function z(v,ne,X){let Z=0;return ae;function ae(U){return v.enter("lineEnding"),v.consume(U),v.exit("lineEnding"),fe}function fe(U){return v.enter("codeFencedFence"),G(U)?j(v,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):ie(U)}function ie(U){return U===u?(v.enter("codeFencedFenceSequence"),V(U)):X(U)}function V(U){return U===u?(Z++,v.consume(U),V):Z>=l?(v.exit("codeFencedFenceSequence"),G(U)?j(v,q,"whitespace")(U):q(U)):X(U)}function q(U){return U===null||$(U)?(v.exit("codeFencedFence"),ne(U)):X(U)}}}function ck(t,e,n){let r=this;return s;function s(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}var ei={name:"codeIndented",tokenize:dk},fk={partial:!0,tokenize:hk};function dk(t,e,n){let r=this;return s;function s(h){return t.enter("codeIndented"),j(t,o,"linePrefix",5)(h)}function o(h){let m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(h):n(h)}function l(h){return h===null?f(h):$(h)?t.attempt(fk,l,f)(h):(t.enter("codeFlowValue"),u(h))}function u(h){return h===null||$(h)?(t.exit("codeFlowValue"),l(h)):(t.consume(h),u)}function f(h){return t.exit("codeIndented"),e(h)}}function hk(t,e,n){let r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):$(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):j(t,o,"linePrefix",5)(l)}function o(l){let u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):$(l)?s(l):n(l)}}var Ja={name:"codeText",previous:pk,resolve:mk,tokenize:gk};function mk(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function pk(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function gk(t,e,n){let r=this,s=0,o,l;return u;function u(w){return t.enter("codeText"),t.enter("codeTextSequence"),f(w)}function f(w){return w===96?(t.consume(w),s++,f):(t.exit("codeTextSequence"),h(w))}function h(w){return w===null?n(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),h):w===96?(l=t.enter("codeTextSequence"),o=0,p(w)):$(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),h):(t.enter("codeTextData"),m(w))}function m(w){return w===null||w===32||w===96||$(w)?(t.exit("codeTextData"),h(w)):(t.consume(w),m)}function p(w){return w===96?(t.consume(w),o++,p):o===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(w)):(l.type="codeTextData",m(w))}}var ps=class{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let s=n||0;this.setCursor(Math.trunc(e));let o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&ti(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ti(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ti(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);ti(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ti(this.left,n.reverse())}}};function ti(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function gs(t){let e={},n=-1,r,s,o,l,u,f,h,m=new ps(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,wk(m,n)),n=e[n],h=!0);else if(r[1]._container){for(o=n,s=void 0;o--&&(l=m.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(s&&(m.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=o);s&&(r[1].end={...m.get(s)[1].start},u=m.slice(s,n),u.unshift(r),m.splice(s,n-s+1,u))}}return Re(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!h}function wk(t,e){let n=t.get(e)[1],r=t.get(e)[2],s=e-1,o=[],l=n._tokenizer||r.parser[n.contentType](n.start),u=l.events,f=[],h={},m,p,w=-1,g=n,x=0,F=0,S=[F];for(;g;){for(;t.get(++s)[1]!==g;);o.push(s),g._tokenizer||(m=r.sliceStream(g),g.next||m.push(null),p&&l.defineSkip(g.start),g._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),g._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=g,g=g.next}for(g=n;++w<u.length;)u[w][0]==="exit"&&u[w-1][0]==="enter"&&u[w][1].type===u[w-1][1].type&&u[w][1].start.line!==u[w][1].end.line&&(F=w+1,S.push(F),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(l.events=[],g?(g._tokenizer=void 0,g.previous=void 0):S.pop(),w=S.length;w--;){let E=u.slice(S[w],S[w+1]),T=o.pop();f.push([T,T+E.length-1]),t.splice(T,2,E)}for(f.reverse(),w=-1;++w<f.length;)h[x+f[w][0]]=x+f[w][1],x+=f[w][1]-f[w][0]-1;return h}var Qa={resolve:bk,tokenize:kk},yk={partial:!0,tokenize:Ak};function bk(t){return gs(t),t}function kk(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(u)}function s(u){return u===null?o(u):$(u)?t.check(yk,l,o)(u):(t.consume(u),s)}function o(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function l(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function Ak(t,e,n){let r=this;return s;function s(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),j(t,o,"linePrefix")}function o(l){if(l===null||$(l))return n(l);let u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function ws(t,e,n,r,s,o,l,u,f){let h=f||Number.POSITIVE_INFINITY,m=0;return p;function p(E){return E===60?(t.enter(r),t.enter(s),t.enter(o),t.consume(E),t.exit(o),w):E===null||E===32||E===41||Zr(E)?n(E):(t.enter(r),t.enter(l),t.enter(u),t.enter("chunkString",{contentType:"string"}),F(E))}function w(E){return E===62?(t.enter(o),t.consume(E),t.exit(o),t.exit(s),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===62?(t.exit("chunkString"),t.exit(u),w(E)):E===null||E===60||$(E)?n(E):(t.consume(E),E===92?x:g)}function x(E){return E===60||E===62||E===92?(t.consume(E),g):g(E)}function F(E){return!m&&(E===null||E===41||Ce(E))?(t.exit("chunkString"),t.exit(u),t.exit(l),t.exit(r),e(E)):m<h&&E===40?(t.consume(E),m++,F):E===41?(t.consume(E),m--,F):E===null||E===32||E===40||Zr(E)?n(E):(t.consume(E),E===92?S:F)}function S(E){return E===40||E===41||E===92?(t.consume(E),F):F(E)}}function ys(t,e,n,r,s,o){let l=this,u=0,f;return h;function h(g){return t.enter(r),t.enter(s),t.consume(g),t.exit(s),t.enter(o),m}function m(g){return u>999||g===null||g===91||g===93&&!f||g===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(g):g===93?(t.exit(o),t.enter(s),t.consume(g),t.exit(s),t.exit(r),e):$(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===null||g===91||g===93||$(g)||u++>999?(t.exit("chunkString"),m(g)):(t.consume(g),f||(f=!G(g)),g===92?w:p)}function w(g){return g===91||g===92||g===93?(t.consume(g),u++,p):p(g)}}function bs(t,e,n,r,s,o){let l;return u;function u(w){return w===34||w===39||w===40?(t.enter(r),t.enter(s),t.consume(w),t.exit(s),l=w===40?41:w,f):n(w)}function f(w){return w===l?(t.enter(s),t.consume(w),t.exit(s),t.exit(r),e):(t.enter(o),h(w))}function h(w){return w===l?(t.exit(o),f(l)):w===null?n(w):$(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),j(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===l||w===null||$(w)?(t.exit("chunkString"),h(w)):(t.consume(w),w===92?p:m)}function p(w){return w===l||w===92?(t.consume(w),m):m(w)}}function Nn(t,e){let n;return r;function r(s){return $(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):G(s)?j(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}var el={name:"definition",tokenize:Ek},xk={partial:!0,tokenize:Ck};function Ek(t,e,n){let r=this,s;return o;function o(g){return t.enter("definition"),l(g)}function l(g){return ys.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function u(g){return s=on(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),f):n(g)}function f(g){return Ce(g)?Nn(t,h)(g):h(g)}function h(g){return ws(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function m(g){return t.attempt(xk,p,p)(g)}function p(g){return G(g)?j(t,w,"whitespace")(g):w(g)}function w(g){return g===null||$(g)?(t.exit("definition"),r.parser.defined.push(s),e(g)):n(g)}}function Ck(t,e,n){return r;function r(u){return Ce(u)?Nn(t,s)(u):n(u)}function s(u){return bs(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return G(u)?j(t,l,"whitespace")(u):l(u)}function l(u){return u===null||$(u)?e(u):n(u)}}var tl={name:"hardBreakEscape",tokenize:vk};function vk(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),s}function s(o){return $(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}var nl={name:"headingAtx",resolve:Sk,tokenize:Tk};function Sk(t,e){let n=t.length-2,r=3,s,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Re(t,r,n-r+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),t}function Tk(t,e,n){let r=0;return s;function s(m){return t.enter("atxHeading"),o(m)}function o(m){return t.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&r++<6?(t.consume(m),l):m===null||Ce(m)?(t.exit("atxHeadingSequence"),u(m)):n(m)}function u(m){return m===35?(t.enter("atxHeadingSequence"),f(m)):m===null||$(m)?(t.exit("atxHeading"),e(m)):G(m)?j(t,u,"whitespace")(m):(t.enter("atxHeadingText"),h(m))}function f(m){return m===35?(t.consume(m),f):(t.exit("atxHeadingSequence"),u(m))}function h(m){return m===null||m===35||Ce(m)?(t.exit("atxHeadingText"),u(m)):(t.consume(m),h)}}var Mf=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],rl=["pre","script","style","textarea"];var il={concrete:!0,name:"htmlFlow",resolveTo:Pk,tokenize:Ik},_k={partial:!0,tokenize:Rk},Fk={partial:!0,tokenize:Ok};function Pk(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Ik(t,e,n){let r=this,s,o,l,u,f;return h;function h(b){return m(b)}function m(b){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(b),p}function p(b){return b===33?(t.consume(b),w):b===47?(t.consume(b),o=!0,F):b===63?(t.consume(b),s=3,r.interrupt?e:A):lt(b)?(t.consume(b),l=String.fromCharCode(b),S):n(b)}function w(b){return b===45?(t.consume(b),s=2,g):b===91?(t.consume(b),s=5,u=0,x):lt(b)?(t.consume(b),s=4,r.interrupt?e:A):n(b)}function g(b){return b===45?(t.consume(b),r.interrupt?e:A):n(b)}function x(b){let We="CDATA[";return b===We.charCodeAt(u++)?(t.consume(b),u===We.length?r.interrupt?e:ie:x):n(b)}function F(b){return lt(b)?(t.consume(b),l=String.fromCharCode(b),S):n(b)}function S(b){if(b===null||b===47||b===62||Ce(b)){let We=b===47,$t=l.toLowerCase();return!We&&!o&&rl.includes($t)?(s=1,r.interrupt?e(b):ie(b)):Mf.includes(l.toLowerCase())?(s=6,We?(t.consume(b),E):r.interrupt?e(b):ie(b)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(b):o?T(b):P(b))}return b===45||je(b)?(t.consume(b),l+=String.fromCharCode(b),S):n(b)}function E(b){return b===62?(t.consume(b),r.interrupt?e:ie):n(b)}function T(b){return G(b)?(t.consume(b),T):ae(b)}function P(b){return b===47?(t.consume(b),ae):b===58||b===95||lt(b)?(t.consume(b),W):G(b)?(t.consume(b),P):ae(b)}function W(b){return b===45||b===46||b===58||b===95||je(b)?(t.consume(b),W):z(b)}function z(b){return b===61?(t.consume(b),v):G(b)?(t.consume(b),z):P(b)}function v(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),f=b,ne):G(b)?(t.consume(b),v):X(b)}function ne(b){return b===f?(t.consume(b),f=null,Z):b===null||$(b)?n(b):(t.consume(b),ne)}function X(b){return b===null||b===34||b===39||b===47||b===60||b===61||b===62||b===96||Ce(b)?z(b):(t.consume(b),X)}function Z(b){return b===47||b===62||G(b)?P(b):n(b)}function ae(b){return b===62?(t.consume(b),fe):n(b)}function fe(b){return b===null||$(b)?ie(b):G(b)?(t.consume(b),fe):n(b)}function ie(b){return b===45&&s===2?(t.consume(b),se):b===60&&s===1?(t.consume(b),we):b===62&&s===4?(t.consume(b),De):b===63&&s===3?(t.consume(b),A):b===93&&s===5?(t.consume(b),Ze):$(b)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(_k,Le,V)(b)):b===null||$(b)?(t.exit("htmlFlowData"),V(b)):(t.consume(b),ie)}function V(b){return t.check(Fk,q,Le)(b)}function q(b){return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),U}function U(b){return b===null||$(b)?V(b):(t.enter("htmlFlowData"),ie(b))}function se(b){return b===45?(t.consume(b),A):ie(b)}function we(b){return b===47?(t.consume(b),l="",be):ie(b)}function be(b){if(b===62){let We=l.toLowerCase();return rl.includes(We)?(t.consume(b),De):ie(b)}return lt(b)&&l.length<8?(t.consume(b),l+=String.fromCharCode(b),be):ie(b)}function Ze(b){return b===93?(t.consume(b),A):ie(b)}function A(b){return b===62?(t.consume(b),De):b===45&&s===2?(t.consume(b),A):ie(b)}function De(b){return b===null||$(b)?(t.exit("htmlFlowData"),Le(b)):(t.consume(b),De)}function Le(b){return t.exit("htmlFlow"),e(b)}}function Ok(t,e,n){let r=this;return s;function s(l){return $(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function Rk(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(gn,e,n)}}var sl={name:"htmlText",tokenize:Dk};function Dk(t,e,n){let r=this,s,o,l;return u;function u(A){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(A),f}function f(A){return A===33?(t.consume(A),h):A===47?(t.consume(A),z):A===63?(t.consume(A),P):lt(A)?(t.consume(A),X):n(A)}function h(A){return A===45?(t.consume(A),m):A===91?(t.consume(A),o=0,x):lt(A)?(t.consume(A),T):n(A)}function m(A){return A===45?(t.consume(A),g):n(A)}function p(A){return A===null?n(A):A===45?(t.consume(A),w):$(A)?(l=p,we(A)):(t.consume(A),p)}function w(A){return A===45?(t.consume(A),g):p(A)}function g(A){return A===62?se(A):A===45?w(A):p(A)}function x(A){let De="CDATA[";return A===De.charCodeAt(o++)?(t.consume(A),o===De.length?F:x):n(A)}function F(A){return A===null?n(A):A===93?(t.consume(A),S):$(A)?(l=F,we(A)):(t.consume(A),F)}function S(A){return A===93?(t.consume(A),E):F(A)}function E(A){return A===62?se(A):A===93?(t.consume(A),E):F(A)}function T(A){return A===null||A===62?se(A):$(A)?(l=T,we(A)):(t.consume(A),T)}function P(A){return A===null?n(A):A===63?(t.consume(A),W):$(A)?(l=P,we(A)):(t.consume(A),P)}function W(A){return A===62?se(A):P(A)}function z(A){return lt(A)?(t.consume(A),v):n(A)}function v(A){return A===45||je(A)?(t.consume(A),v):ne(A)}function ne(A){return $(A)?(l=ne,we(A)):G(A)?(t.consume(A),ne):se(A)}function X(A){return A===45||je(A)?(t.consume(A),X):A===47||A===62||Ce(A)?Z(A):n(A)}function Z(A){return A===47?(t.consume(A),se):A===58||A===95||lt(A)?(t.consume(A),ae):$(A)?(l=Z,we(A)):G(A)?(t.consume(A),Z):se(A)}function ae(A){return A===45||A===46||A===58||A===95||je(A)?(t.consume(A),ae):fe(A)}function fe(A){return A===61?(t.consume(A),ie):$(A)?(l=fe,we(A)):G(A)?(t.consume(A),fe):Z(A)}function ie(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),s=A,V):$(A)?(l=ie,we(A)):G(A)?(t.consume(A),ie):(t.consume(A),q)}function V(A){return A===s?(t.consume(A),s=void 0,U):A===null?n(A):$(A)?(l=V,we(A)):(t.consume(A),V)}function q(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Ce(A)?Z(A):(t.consume(A),q)}function U(A){return A===47||A===62||Ce(A)?Z(A):n(A)}function se(A){return A===62?(t.consume(A),t.exit("htmlTextData"),t.exit("htmlText"),e):n(A)}function we(A){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),be}function be(A){return G(A)?j(t,Ze,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):Ze(A)}function Ze(A){return t.enter("htmlTextData"),l(A)}}var Bn={name:"labelEnd",resolveAll:Bk,resolveTo:$k,tokenize:Vk},Lk={tokenize:Yk},Mk={tokenize:Wk},Nk={tokenize:zk};function Bk(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&Re(t,0,t.length,n),t}function $k(t,e){let n=t.length,r=0,s,o,l,u;for(;n--;)if(s=t[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(l=n);let f={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[o][1].start},end:{...t[l][1].end}},m={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[l-2][1].start}};return u=[["enter",f,e],["enter",h,e]],u=Ge(u,t.slice(o+1,o+r+3)),u=Ge(u,[["enter",m,e]]),u=Ge(u,pr(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),u=Ge(u,[["exit",m,e],t[l-2],t[l-1],["exit",h,e]]),u=Ge(u,t.slice(l+1)),u=Ge(u,[["exit",f,e]]),Re(t,o,t.length,u),t}function Vk(t,e,n){let r=this,s=r.events.length,o,l;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return u;function u(w){return o?o._inactive?p(w):(l=r.parser.defined.includes(on(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),f):n(w)}function f(w){return w===40?t.attempt(Lk,m,l?m:p)(w):w===91?t.attempt(Mk,m,l?h:p)(w):l?m(w):p(w)}function h(w){return t.attempt(Nk,m,p)(w)}function m(w){return e(w)}function p(w){return o._balanced=!0,n(w)}}function Yk(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),s}function s(p){return Ce(p)?Nn(t,o)(p):o(p)}function o(p){return p===41?m(p):ws(t,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return Ce(p)?Nn(t,f)(p):m(p)}function u(p){return n(p)}function f(p){return p===34||p===39||p===40?bs(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):m(p)}function h(p){return Ce(p)?Nn(t,m)(p):m(p)}function m(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function Wk(t,e,n){let r=this;return s;function s(u){return ys.call(r,t,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(on(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function l(u){return n(u)}}function zk(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),s}function s(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}var ol={name:"labelStartImage",resolveAll:Bn.resolveAll,tokenize:Uk};function Uk(t,e,n){let r=this;return s;function s(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),o}function o(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}var al={name:"labelStartLink",resolveAll:Bn.resolveAll,tokenize:Hk};function Hk(t,e,n){let r=this;return s;function s(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}var ni={name:"lineEnding",tokenize:qk};function qk(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),j(t,e,"linePrefix")}}var $n={name:"thematicBreak",tokenize:Gk};function Gk(t,e,n){let r=0,s;return o;function o(h){return t.enter("thematicBreak"),l(h)}function l(h){return s=h,u(h)}function u(h){return h===s?(t.enter("thematicBreakSequence"),f(h)):r>=3&&(h===null||$(h))?(t.exit("thematicBreak"),e(h)):n(h)}function f(h){return h===s?(t.consume(h),r++,f):(t.exit("thematicBreakSequence"),G(h)?j(t,u,"whitespace")(h):u(h))}}var $e={continuation:{tokenize:Zk},exit:Qk,name:"list",tokenize:Xk},jk={partial:!0,tokenize:eA},Kk={partial:!0,tokenize:Jk};function Xk(t,e,n){let r=this,s=r.events[r.events.length-1],o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return u;function u(g){let x=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:Jr(g)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check($n,n,h)(g):h(g);if(!r.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(g)}return n(g)}function f(g){return Jr(g)&&++l<10?(t.consume(g),f):(!r.interrupt||l<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),h(g)):n(g)}function h(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,t.check(gn,r.interrupt?n:m,t.attempt(jk,w,p))}function m(g){return r.containerState.initialBlankLine=!0,o++,w(g)}function p(g){return G(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),w):n(g)}function w(g){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function Zk(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(gn,s,o);function s(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,j(t,e,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!G(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Kk,e,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,j(t,t.attempt($e,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function Jk(t,e,n){let r=this;return j(t,s,"listItemIndent",r.containerState.size+1);function s(o){let l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}function Qk(t){t.exit(this.containerState.type)}function eA(t,e,n){let r=this;return j(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){let l=r.events[r.events.length-1];return!G(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}var ks={name:"setextUnderline",resolveTo:tA,tokenize:nA};function tA(t,e){let n=t.length,r,s,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);let l={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",o?(t.splice(s,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function nA(t,e,n){let r=this,s;return o;function o(h){let m=r.events.length,p;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){p=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),s=h,l(h)):n(h)}function l(h){return t.enter("setextHeadingLineSequence"),u(h)}function u(h){return h===s?(t.consume(h),u):(t.exit("setextHeadingLineSequence"),G(h)?j(t,f,"lineSuffix")(h):f(h))}function f(h){return h===null||$(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}var Nf={tokenize:rA};function rA(t){let e=this,n=t.attempt(gn,r,t.attempt(this.parser.constructs.flowInitial,s,j(t,t.attempt(this.parser.constructs.flow,s,t.attempt(Qa,s)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}var Bf={resolveAll:Wf()},$f=Yf("string"),Vf=Yf("text");function Yf(t){return{resolveAll:Wf(t==="text"?iA:void 0),tokenize:e};function e(n){let r=this,s=this.parser.constructs[t],o=n.attempt(s,l,u);return l;function l(m){return h(m)?o(m):u(m)}function u(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),f}function f(m){return h(m)?(n.exit("data"),o(m)):(n.consume(m),f)}function h(m){if(m===null)return!0;let p=s[m],w=-1;if(p)for(;++w<p.length;){let g=p[w];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function Wf(t){return e;function e(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return t?t(n,r):n}}function iA(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],s=e.sliceStream(r),o=s.length,l=-1,u=0,f;for(;o--;){let h=s[o];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(h===-2)f=!0,u++;else if(h!==-1){o++;break}}if(u){let h={type:n===t.length||f||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}var ll={};Tc(ll,{attentionMarkers:()=>dA,contentInitial:()=>oA,disable:()=>hA,document:()=>sA,flow:()=>lA,flowInitial:()=>aA,insideSpan:()=>fA,string:()=>uA,text:()=>cA});var sA={42:$e,43:$e,45:$e,48:$e,49:$e,50:$e,51:$e,52:$e,53:$e,54:$e,55:$e,56:$e,57:$e,62:fs},oA={91:el},aA={[-2]:ei,[-1]:ei,32:ei},lA={35:nl,42:$n,45:[ks,$n],60:il,61:ks,95:$n,96:ms,126:ms},uA={38:hs,92:ds},cA={[-5]:ni,[-4]:ni,[-3]:ni,33:ol,38:hs,42:Qr,60:[Za,sl],91:al,92:[tl,ds],93:Bn,95:Qr,96:Ja},fA={null:[Qr,Bf]},dA={null:[42,95]},hA={null:[]};function zf(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},s={},o=[],l=[],u=[],f=!0,h={attempt:Z(ne),check:Z(X),consume:W,enter:z,exit:v,interrupt:Z(X,{interrupt:!0})},m={code:null,containerState:{},defineSkip:E,events:[],now:S,parser:t,previous:null,sliceSerialize:x,sliceStream:F,write:g},p=e.tokenize.call(m,h),w;return e.resolveAll&&o.push(e),m;function g(V){return l=Ge(l,V),T(),l[l.length-1]!==null?[]:(ae(e,0),m.events=pr(o,m.events,m),m.events)}function x(V,q){return pA(F(V),q)}function F(V){return mA(l,V)}function S(){let{_bufferIndex:V,_index:q,line:U,column:se,offset:we}=r;return{_bufferIndex:V,_index:q,line:U,column:se,offset:we}}function E(V){s[V.line]=V.column,ie()}function T(){let V;for(;r._index<l.length;){let q=l[r._index];if(typeof q=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<q.length;)P(q.charCodeAt(r._bufferIndex));else P(q)}}function P(V){f=void 0,w=V,p=p(V)}function W(V){$(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,ie()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=V,f=!0}function z(V,q){let U=q||{};return U.type=V,U.start=S(),m.events.push(["enter",U,m]),u.push(U),U}function v(V){let q=u.pop();return q.end=S(),m.events.push(["exit",q,m]),q}function ne(V,q){ae(V,q.from)}function X(V,q){q.restore()}function Z(V,q){return U;function U(se,we,be){let Ze,A,De,Le;return Array.isArray(se)?We(se):"tokenize"in se?We([se]):b(se);function b(ve){return _n;function _n(xt){let Vt=xt!==null&&ve[xt],cn=xt!==null&&ve.null,Dr=[...Array.isArray(Vt)?Vt:Vt?[Vt]:[],...Array.isArray(cn)?cn:cn?[cn]:[]];return We(Dr)(xt)}}function We(ve){return Ze=ve,A=0,ve.length===0?be:$t(ve[A])}function $t(ve){return _n;function _n(xt){return Le=fe(),De=ve,ve.partial||(m.currentConstruct=ve),ve.name&&m.parser.constructs.disable.null.includes(ve.name)?Tn(xt):ve.tokenize.call(q?Object.assign(Object.create(m),q):m,h,un,Tn)(xt)}}function un(ve){return f=!0,V(De,Le),we}function Tn(ve){return f=!0,Le.restore(),++A<Ze.length?$t(Ze[A]):be}}}function ae(V,q){V.resolveAll&&!o.includes(V)&&o.push(V),V.resolve&&Re(m.events,q,m.events.length-q,V.resolve(m.events.slice(q),m)),V.resolveTo&&(m.events=V.resolveTo(m.events,m))}function fe(){let V=S(),q=m.previous,U=m.currentConstruct,se=m.events.length,we=Array.from(u);return{from:se,restore:be};function be(){r=V,m.previous=q,m.currentConstruct=U,m.events.length=se,u=we,ie()}}function ie(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function mA(t,e){let n=e.start._index,r=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex,l;if(n===s)l=[t[n].slice(r,o)];else{if(l=t.slice(n,s),r>-1){let u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(t[s].slice(0,o))}return l}function pA(t,e){let n=-1,r=[],s;for(;++n<t.length;){let o=t[n],l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&s)continue;l=" ";break}default:l=String.fromCharCode(o)}s=o===-2,r.push(l)}return r.join("")}function ul(t){let r={constructs:vf([ll,...(t||{}).extensions||[]]),content:s(If),defined:[],document:s(Rf),flow:s(Nf),lazy:{},string:s($f),text:s(Vf)};return r;function s(o){return l;function l(u){return zf(r,o,u)}}}function cl(t){for(;!gs(t););return t}var Uf=/[\0\t\n\r]/g;function fl(){let t=1,e="",n=!0,r;return s;function s(o,l,u){let f=[],h,m,p,w,g;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,e="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(Uf.lastIndex=p,h=Uf.exec(o),w=h&&h.index!==void 0?h.index:o.length,g=o.charCodeAt(w),!h){e=o.slice(p);break}if(g===10&&p===w&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),p<w&&(f.push(o.slice(p,w)),t+=w-p),g){case 0:{f.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,f.push(-2);t++<m;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:r=!0,t=1}p=w+1}return u&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}var gA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function As(t){return t.replace(gA,wA)}function wA(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let s=n.charCodeAt(1),o=s===120||s===88;return cs(n.slice(o?2:1),o?16:10)}return hr(n)||t}function wn(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Hf(t.position):"start"in t||"end"in t?Hf(t):"line"in t||"column"in t?dl(t):""}function dl(t){return qf(t&&t.line)+":"+qf(t&&t.column)}function Hf(t){return dl(t&&t.start)+"-"+dl(t&&t.end)}function qf(t){return t&&typeof t=="number"?t:1}var jf={}.hasOwnProperty;function hl(t,e,n){return typeof e!="string"&&(n=e,e=void 0),yA(n)(cl(ul(n).document().write(fl()(t,e,!0))))}function yA(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ze),autolinkProtocol:Z,autolinkEmail:Z,atxHeading:o(Ti),blockQuote:o(xt),characterEscape:Z,characterReference:Z,codeFenced:o(Vt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Vt,l),codeText:o(cn,l),codeTextData:Z,data:Z,codeFlowValue:Z,definition:o(Dr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(oa),hardBreakEscape:o(_i),hardBreakTrailing:o(_i),htmlFlow:o(Fi,l),htmlFlowData:Z,htmlText:o(Fi,l),htmlTextData:Z,image:o(Pi),label:l,link:o(ze),listItem:o(aa),listItemValue:w,listOrdered:o(Gn,p),listUnordered:o(Gn),paragraph:o(la),reference:b,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Ti),strong:o(Ii),thematicBreak:o(Oi)},exit:{atxHeading:f(),atxHeadingSequence:z,autolink:f(),autolinkEmail:_n,autolinkProtocol:ve,blockQuote:f(),characterEscapeValue:ae,characterReferenceMarkerHexadecimal:$t,characterReferenceMarkerNumeric:$t,characterReferenceValue:un,characterReference:Tn,codeFenced:f(S),codeFencedFence:F,codeFencedFenceInfo:g,codeFencedFenceMeta:x,codeFlowValue:ae,codeIndented:f(E),codeText:f(U),codeTextData:ae,data:ae,definition:f(),definitionDestinationString:W,definitionLabelString:T,definitionTitleString:P,emphasis:f(),hardBreakEscape:f(ie),hardBreakTrailing:f(ie),htmlFlow:f(V),htmlFlowData:ae,htmlText:f(q),htmlTextData:ae,image:f(we),label:Ze,labelText:be,lineEnding:fe,link:f(se),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:We,resourceDestinationString:A,resourceTitleString:De,resource:Le,setextHeading:f(X),setextHeadingLineSequence:ne,setextHeadingText:v,strong:f(),thematicBreak:f()}};Kf(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(_){let O={type:"root",children:[]},R={stack:[O],tokenStack:[],config:e,enter:u,exit:h,buffer:l,resume:m,data:n},J=[],le=-1;for(;++le<_.length;)if(_[le][1].type==="listOrdered"||_[le][1].type==="listUnordered")if(_[le][0]==="enter")J.push(le);else{let Me=J.pop();le=s(_,Me,le)}for(le=-1;++le<_.length;){let Me=e[_[le][0]];jf.call(Me,_[le][1].type)&&Me[_[le][1].type].call(Object.assign({sliceSerialize:_[le][2].sliceSerialize},R),_[le][1])}if(R.tokenStack.length>0){let Me=R.tokenStack[R.tokenStack.length-1];(Me[1]||Gf).call(R,void 0,Me[0])}for(O.position={start:yn(_.length>0?_[0][1].start:{line:1,column:1,offset:0}),end:yn(_.length>0?_[_.length-2][1].end:{line:1,column:1,offset:0})},le=-1;++le<e.transforms.length;)O=e.transforms[le](O)||O;return O}function s(_,O,R){let J=O-1,le=-1,Me=!1,Et,Je,ft,Ft;for(;++J<=R;){let He=_[J];switch(He[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{He[0]==="enter"?le++:le--,Ft=void 0;break}case"lineEndingBlank":{He[0]==="enter"&&(Et&&!Ft&&!le&&!ft&&(ft=J),Ft=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ft=void 0}if(!le&&He[0]==="enter"&&He[1].type==="listItemPrefix"||le===-1&&He[0]==="exit"&&(He[1].type==="listUnordered"||He[1].type==="listOrdered")){if(Et){let Ct=J;for(Je=void 0;Ct--;){let vt=_[Ct];if(vt[1].type==="lineEnding"||vt[1].type==="lineEndingBlank"){if(vt[0]==="exit")continue;Je&&(_[Je][1].type="lineEndingBlank",Me=!0),vt[1].type="lineEnding",Je=Ct}else if(!(vt[1].type==="linePrefix"||vt[1].type==="blockQuotePrefix"||vt[1].type==="blockQuotePrefixWhitespace"||vt[1].type==="blockQuoteMarker"||vt[1].type==="listItemIndent"))break}ft&&(!Je||ft<Je)&&(Et._spread=!0),Et.end=Object.assign({},Je?_[Je][1].start:He[1].end),_.splice(Je||J,0,["exit",Et,He[2]]),J++,R++}if(He[1].type==="listItemPrefix"){let Ct={type:"listItem",_spread:!1,start:Object.assign({},He[1].start),end:void 0};Et=Ct,_.splice(J,0,["enter",Ct,He[2]]),J++,R++,ft=void 0,Ft=!0}}}return _[O][1]._spread=Me,R}function o(_,O){return R;function R(J){u.call(this,_(J),J),O&&O.call(this,J)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(_,O,R){this.stack[this.stack.length-1].children.push(_),this.stack.push(_),this.tokenStack.push([O,R||void 0]),_.position={start:yn(O.start),end:void 0}}function f(_){return O;function O(R){_&&_.call(this,R),h.call(this,R)}}function h(_,O){let R=this.stack.pop(),J=this.tokenStack.pop();if(J)J[0].type!==_.type&&(O?O.call(this,_,J[0]):(J[1]||Gf).call(this,_,J[0]));else throw new Error("Cannot close `"+_.type+"` ("+wn({start:_.start,end:_.end})+"): it\u2019s not open");R.position.end=yn(_.end)}function m(){return Mn(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function w(_){if(this.data.expectingFirstListItemValue){let O=this.stack[this.stack.length-2];O.start=Number.parseInt(this.sliceSerialize(_),10),this.data.expectingFirstListItemValue=void 0}}function g(){let _=this.resume(),O=this.stack[this.stack.length-1];O.lang=_}function x(){let _=this.resume(),O=this.stack[this.stack.length-1];O.meta=_}function F(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_.replace(/(\r?\n|\r)$/g,"")}function T(_){let O=this.resume(),R=this.stack[this.stack.length-1];R.label=O,R.identifier=on(this.sliceSerialize(_)).toLowerCase()}function P(){let _=this.resume(),O=this.stack[this.stack.length-1];O.title=_}function W(){let _=this.resume(),O=this.stack[this.stack.length-1];O.url=_}function z(_){let O=this.stack[this.stack.length-1];if(!O.depth){let R=this.sliceSerialize(_).length;O.depth=R}}function v(){this.data.setextHeadingSlurpLineEnding=!0}function ne(_){let O=this.stack[this.stack.length-1];O.depth=this.sliceSerialize(_).codePointAt(0)===61?1:2}function X(){this.data.setextHeadingSlurpLineEnding=void 0}function Z(_){let R=this.stack[this.stack.length-1].children,J=R[R.length-1];(!J||J.type!=="text")&&(J=Ue(),J.position={start:yn(_.start),end:void 0},R.push(J)),this.stack.push(J)}function ae(_){let O=this.stack.pop();O.value+=this.sliceSerialize(_),O.position.end=yn(_.end)}function fe(_){let O=this.stack[this.stack.length-1];if(this.data.atHardBreak){let R=O.children[O.children.length-1];R.position.end=yn(_.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(O.type)&&(Z.call(this,_),ae.call(this,_))}function ie(){this.data.atHardBreak=!0}function V(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_}function q(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_}function U(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_}function se(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let O=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=O,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function we(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let O=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=O,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function be(_){let O=this.sliceSerialize(_),R=this.stack[this.stack.length-2];R.label=As(O),R.identifier=on(O).toLowerCase()}function Ze(){let _=this.stack[this.stack.length-1],O=this.resume(),R=this.stack[this.stack.length-1];if(this.data.inReference=!0,R.type==="link"){let J=_.children;R.children=J}else R.alt=O}function A(){let _=this.resume(),O=this.stack[this.stack.length-1];O.url=_}function De(){let _=this.resume(),O=this.stack[this.stack.length-1];O.title=_}function Le(){this.data.inReference=void 0}function b(){this.data.referenceType="collapsed"}function We(_){let O=this.resume(),R=this.stack[this.stack.length-1];R.label=O,R.identifier=on(this.sliceSerialize(_)).toLowerCase(),this.data.referenceType="full"}function $t(_){this.data.characterReferenceType=_.type}function un(_){let O=this.sliceSerialize(_),R=this.data.characterReferenceType,J;R?(J=cs(O,R==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):J=hr(O);let le=this.stack[this.stack.length-1];le.value+=J}function Tn(_){let O=this.stack.pop();O.position.end=yn(_.end)}function ve(_){ae.call(this,_);let O=this.stack[this.stack.length-1];O.url=this.sliceSerialize(_)}function _n(_){ae.call(this,_);let O=this.stack[this.stack.length-1];O.url="mailto:"+this.sliceSerialize(_)}function xt(){return{type:"blockquote",children:[]}}function Vt(){return{type:"code",lang:null,meta:null,value:""}}function cn(){return{type:"inlineCode",value:""}}function Dr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function oa(){return{type:"emphasis",children:[]}}function Ti(){return{type:"heading",depth:0,children:[]}}function _i(){return{type:"break"}}function Fi(){return{type:"html",value:""}}function Pi(){return{type:"image",title:null,url:"",alt:null}}function ze(){return{type:"link",title:null,url:"",children:[]}}function Gn(_){return{type:"list",ordered:_.type==="listOrdered",start:null,spread:_._spread,children:[]}}function aa(_){return{type:"listItem",spread:_._spread,checked:null,children:[]}}function la(){return{type:"paragraph",children:[]}}function Ii(){return{type:"strong",children:[]}}function Ue(){return{type:"text",value:""}}function Oi(){return{type:"thematicBreak"}}}function yn(t){return{line:t.line,column:t.column,offset:t.offset}}function Kf(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?Kf(t,r):bA(t,r)}}function bA(t,e){let n;for(n in e)if(jf.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}function Gf(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+wn({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+wn({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+wn({start:e.start,end:e.end})+") is still open")}function gr(t){let e=this;e.parser=n;function n(r){return hl(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}var Xf={}.hasOwnProperty;function Zf(t,e){let n=e||{};function r(s,...o){let l=r.invalid,u=r.handlers;if(s&&Xf.call(s,t)){let f=String(s[t]);l=Xf.call(u,f)?u[f]:r.unknown}if(l)return l.call(this,s,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}var kA={}.hasOwnProperty;function ml(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)ml(t,e.extensions[n]);for(r in e)if(kA.call(e,r))switch(r){case"extensions":break;case"unsafe":{Jf(t[r],e[r]);break}case"join":{Jf(t[r],e[r]);break}case"handlers":{AA(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function Jf(t,e){e&&t.push(...e)}function AA(t,e){e&&Object.assign(t,e)}function Qf(t,e,n,r){let s=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);let l=n.indentLines(n.containerFlow(t,o.current()),xA);return s(),l}function xA(t,e,n){return">"+(n?"":" ")+t}function xs(t,e){return ed(t,e.inConstruct,!0)&&!ed(t,e.notInConstruct,!1)}function ed(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function pl(t,e,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&xs(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function td(t,e){let n=String(t),r=n.indexOf(e),s=r,o=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++o>l&&(l=o):o=1,s=r+e.length,r=n.indexOf(e,s);return l}function ri(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function nd(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function rd(t,e,n,r){let s=nd(n),o=t.value||"",l=s==="`"?"GraveAccent":"Tilde";if(ri(t,n)){let p=n.enter("codeIndented"),w=n.indentLines(o,EA);return p(),w}let u=n.createTracker(r),f=s.repeat(Math.max(td(o,s)+1,3)),h=n.enter("codeFenced"),m=u.move(f);if(t.lang){let p=n.enter(`codeFencedLang${l}`);m+=u.move(n.safe(t.lang,{before:m,after:" ",encode:["`"],...u.current()})),p()}if(t.lang&&t.meta){let p=n.enter(`codeFencedMeta${l}`);m+=u.move(" "),m+=u.move(n.safe(t.meta,{before:m,after:`
`,encode:["`"],...u.current()})),p()}return m+=u.move(`
`),o&&(m+=u.move(o+`
`)),m+=u.move(f),h(),m}function EA(t,e,n){return(n?"":"    ")+t}function wr(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function id(t,e,n,r){let s=wr(n),o=s==='"'?"Quote":"Apostrophe",l=n.enter("definition"),u=n.enter("label"),f=n.createTracker(r),h=f.move("[");return h+=f.move(n.safe(n.associationId(t),{before:h,after:"]",...f.current()})),h+=f.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(t.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(u=n.enter("destinationRaw"),h+=f.move(n.safe(t.url,{before:h,after:t.title?" ":`
`,...f.current()}))),u(),t.title&&(u=n.enter(`title${o}`),h+=f.move(" "+s),h+=f.move(n.safe(t.title,{before:h,after:s,...f.current()})),h+=f.move(s),u()),l(),h}function sd(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function ut(t){return"&#x"+t.toString(16).toUpperCase()+";"}function yr(t,e,n){let r=mr(t),s=mr(e);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}gl.peek=CA;function gl(t,e,n,r){let s=sd(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(s),f=l.move(n.containerPhrasing(t,{after:s,before:u,...l.current()})),h=f.charCodeAt(0),m=yr(r.before.charCodeAt(r.before.length-1),h,s);m.inside&&(f=ut(h)+f.slice(1));let p=f.charCodeAt(f.length-1),w=yr(r.after.charCodeAt(0),p,s);w.inside&&(f=f.slice(0,-1)+ut(p));let g=l.move(s);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:m.outside},u+f+g}function CA(t,e,n){return n.options.emphasis||"*"}var br=function(t){if(t==null)return _A;if(typeof t=="function")return Es(t);if(typeof t=="object")return Array.isArray(t)?vA(t):SA(t);if(typeof t=="string")return TA(t);throw new Error("Expected function, string, or object as test")};function vA(t){let e=[],n=-1;for(;++n<t.length;)e[n]=br(t[n]);return Es(r);function r(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function SA(t){let e=t;return Es(n);function n(r){let s=r,o;for(o in t)if(s[o]!==e[o])return!1;return!0}}function TA(t){return Es(e);function e(n){return n&&n.type===t}}function Es(t){return e;function e(n,r,s){return!!(FA(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function _A(){return!0}function FA(t){return t!==null&&typeof t=="object"&&"type"in t}function od(t){return"\x1B[33m"+t+"\x1B[39m"}var ad=[],Cs=!0,Vn=!1,vs="skip";function wl(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;let o=br(s),l=r?-1:1;u(t,void 0,[])();function u(f,h,m){let p=f&&typeof f=="object"?f:{};if(typeof p.type=="string"){let g=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(w,"name",{value:"node ("+od(f.type+(g?"<"+g+">":""))+")"})}return w;function w(){let g=ad,x,F,S;if((!e||o(f,h,m[m.length-1]||void 0))&&(g=PA(n(f,m)),g[0]===Vn))return g;if("children"in f&&f.children){let E=f;if(E.children&&g[0]!==vs)for(F=(r?E.children.length:-1)+l,S=m.concat(E);F>-1&&F<E.children.length;){let T=E.children[F];if(x=u(T,F,S)(),x[0]===Vn)return x;F=typeof x[1]=="number"?x[1]:F+l}}return g}}}function PA(t){return Array.isArray(t)?t:typeof t=="number"?[Cs,t]:t==null?ad:[t]}function ii(t,e,n,r){let s,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,s=n):(o=e,l=n,s=r),wl(t,o,u,s);function u(f,h){let m=h[h.length-1],p=m?m.children.indexOf(f):void 0;return l(f,p,m)}}function Ss(t,e){let n=!1;return ii(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Vn}),!!((!t.depth||t.depth<3)&&Mn(t)&&(e.options.setext||n))}function ld(t,e,n,r){let s=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(Ss(t,n)){let m=n.enter("headingSetext"),p=n.enter("phrasing"),w=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return p(),m(),w+`
`+(s===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}let l="#".repeat(s),u=n.enter("headingAtx"),f=n.enter("phrasing");o.move(l+" ");let h=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(h)&&(h=ut(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,n.options.closeAtx&&(h+=" "+l),f(),u(),h}yl.peek=IA;function yl(t){return t.value||""}function IA(){return"<"}bl.peek=OA;function bl(t,e,n,r){let s=wr(n),o=s==='"'?"Quote":"Apostrophe",l=n.enter("image"),u=n.enter("label"),f=n.createTracker(r),h=f.move("![");return h+=f.move(n.safe(t.alt,{before:h,after:"]",...f.current()})),h+=f.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(t.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(u=n.enter("destinationRaw"),h+=f.move(n.safe(t.url,{before:h,after:t.title?" ":")",...f.current()}))),u(),t.title&&(u=n.enter(`title${o}`),h+=f.move(" "+s),h+=f.move(n.safe(t.title,{before:h,after:s,...f.current()})),h+=f.move(s),u()),h+=f.move(")"),l(),h}function OA(){return"!"}kl.peek=RA;function kl(t,e,n,r){let s=t.referenceType,o=n.enter("imageReference"),l=n.enter("label"),u=n.createTracker(r),f=u.move("!["),h=n.safe(t.alt,{before:f,after:"]",...u.current()});f+=u.move(h+"]["),l();let m=n.stack;n.stack=[],l=n.enter("reference");let p=n.safe(n.associationId(t),{before:f,after:"]",...u.current()});return l(),n.stack=m,o(),s==="full"||!h||h!==p?f+=u.move(p+"]"):s==="shortcut"?f=f.slice(0,-1):f+=u.move("]"),f}function RA(){return"!"}Al.peek=DA;function Al(t,e,n){let r=t.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){let l=n.unsafe[o],u=n.compilePattern(l),f;if(l.atBreak)for(;f=u.exec(r);){let h=f.index;r.charCodeAt(h)===10&&r.charCodeAt(h-1)===13&&h--,r=r.slice(0,h)+" "+r.slice(f.index+1)}}return s+r+s}function DA(){return"`"}function xl(t,e){let n=Mn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}El.peek=LA;function El(t,e,n,r){let s=wr(n),o=s==='"'?"Quote":"Apostrophe",l=n.createTracker(r),u,f;if(xl(t,n)){let m=n.stack;n.stack=[],u=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(t,{before:p,after:">",...l.current()})),p+=l.move(">"),u(),n.stack=m,p}u=n.enter("link"),f=n.enter("label");let h=l.move("[");return h+=l.move(n.containerPhrasing(t,{before:h,after:"](",...l.current()})),h+=l.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),h+=l.move("<"),h+=l.move(n.safe(t.url,{before:h,after:">",...l.current()})),h+=l.move(">")):(f=n.enter("destinationRaw"),h+=l.move(n.safe(t.url,{before:h,after:t.title?" ":")",...l.current()}))),f(),t.title&&(f=n.enter(`title${o}`),h+=l.move(" "+s),h+=l.move(n.safe(t.title,{before:h,after:s,...l.current()})),h+=l.move(s),f()),h+=l.move(")"),u(),h}function LA(t,e,n){return xl(t,n)?"<":"["}Cl.peek=MA;function Cl(t,e,n,r){let s=t.referenceType,o=n.enter("linkReference"),l=n.enter("label"),u=n.createTracker(r),f=u.move("["),h=n.containerPhrasing(t,{before:f,after:"]",...u.current()});f+=u.move(h+"]["),l();let m=n.stack;n.stack=[],l=n.enter("reference");let p=n.safe(n.associationId(t),{before:f,after:"]",...u.current()});return l(),n.stack=m,o(),s==="full"||!h||h!==p?f+=u.move(p+"]"):s==="shortcut"?f=f.slice(0,-1):f+=u.move("]"),f}function MA(){return"["}function kr(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function ud(t){let e=kr(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function cd(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Ts(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function fd(t,e,n,r){let s=n.enter("list"),o=n.bulletCurrent,l=t.ordered?cd(n):kr(n),u=t.ordered?l==="."?")":".":ud(n),f=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let m=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),Ts(n)===l&&m){let p=-1;for(;++p<t.children.length;){let w=t.children[p];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(l=u),n.bulletCurrent=l;let h=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=o,s(),h}function dd(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function hd(t,e,n,r){let s=dd(n),o=n.bulletCurrent||kr(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let l=o.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);let f=n.enter("listItem"),h=n.indentLines(n.containerFlow(t,u.current()),m);return f(),h;function m(p,w,g){return w?(g?"":" ".repeat(l))+p:(g?o:o+" ".repeat(l-o.length))+p}}function md(t,e,n,r){let s=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(t,r);return o(),s(),l}var vl=br(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function pd(t,e,n,r){return(t.children.some(function(l){return vl(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function gd(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Sl.peek=NA;function Sl(t,e,n,r){let s=gd(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(s+s),f=l.move(n.containerPhrasing(t,{after:s,before:u,...l.current()})),h=f.charCodeAt(0),m=yr(r.before.charCodeAt(r.before.length-1),h,s);m.inside&&(f=ut(h)+f.slice(1));let p=f.charCodeAt(f.length-1),w=yr(r.after.charCodeAt(0),p,s);w.inside&&(f=f.slice(0,-1)+ut(p));let g=l.move(s+s);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:m.outside},u+f+g}function NA(t,e,n){return n.options.strong||"*"}function wd(t,e,n,r){return n.safe(t.value,r)}function yd(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function bd(t,e,n){let r=(Ts(n)+(n.options.ruleSpaces?" ":"")).repeat(yd(n));return n.options.ruleSpaces?r.slice(0,-1):r}var kd={blockquote:Qf,break:pl,code:rd,definition:id,emphasis:gl,hardBreak:pl,heading:ld,html:yl,image:bl,imageReference:kl,inlineCode:Al,link:El,linkReference:Cl,list:fd,listItem:hd,paragraph:md,root:pd,strong:Sl,text:wd,thematicBreak:bd};var Ad=[BA];function BA(t,e,n,r){if(e.type==="code"&&ri(e,r)&&(t.type==="list"||t.type===e.type&&ri(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Ss(e,r))?void 0:n.spread?1:0}var Yn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],xd=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Yn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Yn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Yn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Yn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Yn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Yn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Yn},{atBreak:!0,character:"~"}];function Ed(t){return t.label||!t.identifier?t.label||"":As(t.identifier)}function Cd(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function vd(t,e,n){let r=e.indexStack,s=t.children||[],o=[],l=-1,u=n.before,f;r.push(-1);let h=e.createTracker(n);for(;++l<s.length;){let m=s[l],p;if(r[r.length-1]=l,l+1<s.length){let x=e.handle.handlers[s[l+1].type];x&&x.peek&&(x=x.peek),p=x?x(s[l+1],t,e,{before:"",after:"",...h.current()}).charAt(0):""}else p=n.after;o.length>0&&(u==="\r"||u===`
`)&&m.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),u=" ",h=e.createTracker(n),h.move(o.join("")));let w=e.handle(m,t,e,{...h.current(),after:p,before:u});f&&f===w.slice(0,1)&&(w=ut(f.charCodeAt(0))+w.slice(1));let g=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,f=void 0,g&&(o.length>0&&g.before&&u===o[o.length-1].slice(-1)&&(o[o.length-1]=o[o.length-1].slice(0,-1)+ut(u.charCodeAt(0))),g.after&&(f=p)),h.move(w),o.push(w),u=w.slice(-1)}return r.pop(),o.join("")}function Sd(t,e,n){let r=e.indexStack,s=t.children||[],o=e.createTracker(n),l=[],u=-1;for(r.push(-1);++u<s.length;){let f=s[u];r[r.length-1]=u,l.push(o.move(e.handle(f,t,e,{before:`
`,after:`
`,...o.current()}))),f.type!=="list"&&(e.bulletLastUsed=void 0),u<s.length-1&&l.push(o.move($A(f,s[u+1],t,e)))}return r.pop(),l.join("")}function $A(t,e,n,r){let s=r.join.length;for(;s--;){let o=r.join[s](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}var VA=/\r?\n|\r/g;function Td(t,e){let n=[],r=0,s=0,o;for(;o=VA.exec(t);)l(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,s++;return l(t.slice(r)),n.join("");function l(u){n.push(e(u,s,!u))}}function Fd(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),s=[],o=[],l={},u=-1;for(;++u<t.unsafe.length;){let m=t.unsafe[u];if(!xs(t.stack,m))continue;let p=t.compilePattern(m),w;for(;w=p.exec(r);){let g="before"in m||!!m.atBreak,x="after"in m,F=w.index+(g?w[1].length:0);s.includes(F)?(l[F].before&&!g&&(l[F].before=!1),l[F].after&&!x&&(l[F].after=!1)):(s.push(F),l[F]={before:g,after:x})}}s.sort(YA);let f=n.before?n.before.length:0,h=r.length-(n.after?n.after.length:0);for(u=-1;++u<s.length;){let m=s[u];m<f||m>=h||m+1<h&&s[u+1]===m+1&&l[m].after&&!l[m+1].before&&!l[m+1].after||s[u-1]===m-1&&l[m].before&&!l[m-1].before&&!l[m-1].after||(f!==m&&o.push(_d(r.slice(f,m),"\\")),f=m,/[!-/:-@[-`{-~]/.test(r.charAt(m))&&(!n.encode||!n.encode.includes(r.charAt(m)))?o.push("\\"):(o.push(ut(r.charCodeAt(m))),f++))}return o.push(_d(r.slice(f,h),n.after)),o.join("")}function YA(t,e){return t-e}function _d(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],s=[],o=t+e,l=-1,u=0,f;for(;f=n.exec(o);)r.push(f.index);for(;++l<r.length;)u!==r[l]&&s.push(t.slice(u,r[l])),s.push("\\"),u=r[l];return s.push(t.slice(u)),s.join("")}function Pd(t){let e=t||{},n=e.now||{},r=e.lineShift||0,s=n.line||1,o=n.column||1;return{move:f,current:l,shift:u};function l(){return{now:{line:s,column:o},lineShift:r}}function u(h){r+=h}function f(h){let m=h||"",p=m.split(/\r?\n|\r/g),w=p[p.length-1];return s+=p.length-1,o=p.length===1?o+w.length:1+w.length+r,m}}function Tl(t,e){let n=e||{},r={associationId:Ed,containerPhrasing:HA,containerFlow:qA,createTracker:Pd,compilePattern:Cd,enter:o,handlers:{...kd},handle:void 0,indentLines:Td,indexStack:[],join:[...Ad],options:{},safe:GA,stack:[],unsafe:[...xd]};ml(r,n),r.options.tightDefinitions&&r.join.push(UA),r.handle=Zf("type",{invalid:WA,unknown:zA,handlers:r.handlers});let s=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return s&&s.charCodeAt(s.length-1)!==10&&s.charCodeAt(s.length-1)!==13&&(s+=`
`),s;function o(l){return r.stack.push(l),u;function u(){r.stack.pop()}}}function WA(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function zA(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function UA(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function HA(t,e){return vd(t,this,e)}function qA(t,e){return Sd(t,this,e)}function GA(t,e){return Fd(this,t,e)}function _s(t){let e=this;e.compiler=n;function n(r){return Tl(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}function _l(t){if(t)throw t}var Os=Be($d(),1);function si(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Fl(){let t=[],e={run:n,use:r};return e;function n(...s){let o=-1,l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...s);function u(f,...h){let m=t[++o],p=-1;if(f){l(f);return}for(;++p<s.length;)(h[p]===null||h[p]===void 0)&&(h[p]=s[p]);s=h,m?Vd(m,u)(...h):l(null,...h)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function Vd(t,e){let n;return r;function r(...l){let u=t.length>l.length,f;u&&l.push(s);try{f=t.apply(this,l)}catch(h){let m=h;if(u&&n)throw m;return s(m)}u||(f&&f.then&&typeof f.then=="function"?f.then(o,s):f instanceof Error?s(f):o(f))}function s(l,...u){n||(n=!0,e(l,...u))}function o(l){s(null,l)}}var Ie=class extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?s=e:!o.cause&&e&&(l=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){let f=r.indexOf(":");f===-1?o.ruleId=r:(o.source=r.slice(0,f),o.ruleId=r.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){let f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}let u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=u?u.line:void 0,this.name=wn(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}};Ie.prototype.file="";Ie.prototype.name="";Ie.prototype.reason="";Ie.prototype.message="";Ie.prototype.stack="";Ie.prototype.column=void 0;Ie.prototype.line=void 0;Ie.prototype.ancestors=void 0;Ie.prototype.cause=void 0;Ie.prototype.fatal=void 0;Ie.prototype.place=void 0;Ie.prototype.ruleId=void 0;Ie.prototype.source=void 0;var yt=Be(require("node:path"),1);var Pl=Be(require("node:process"),1);var Il=require("node:url");function Ps(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}var Ol=["history","path","basename","stem","extname","dirname"],oi=class{constructor(e){let n;e?Ps(e)?n={path:e}:typeof e=="string"||jA(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Pl.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ol.length;){let o=Ol[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)Ol.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?yt.default.basename(this.path):void 0}set basename(e){Dl(e,"basename"),Rl(e,"basename"),this.path=yt.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?yt.default.dirname(this.path):void 0}set dirname(e){Yd(this.basename,"dirname"),this.path=yt.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?yt.default.extname(this.path):void 0}set extname(e){if(Rl(e,"extname"),Yd(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yt.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Ps(e)&&(e=(0,Il.fileURLToPath)(e)),Dl(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?yt.default.basename(this.path,this.extname):void 0}set stem(e){Dl(e,"stem"),Rl(e,"stem"),this.path=yt.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){let s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){let s=new Ie(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Rl(t,e){if(t&&t.includes(yt.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+yt.default.sep+"`")}function Dl(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Yd(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function jA(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var Wd=function(t){let r=this.constructor.prototype,s=r[t],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o};var KA={}.hasOwnProperty,Bl=class t extends Wd{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Fl()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,Os.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Nl("data",this.frozen),this.namespace[e]=n,this):KA.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Nl("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=Is(e),r=this.parser||this.Parser;return Ll("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),Ll("process",this.parser||this.Parser),Ml("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,l){let u=Is(e),f=r.parse(u);r.run(f,u,function(m,p,w){if(m||!p||!w)return h(m);let g=p,x=r.stringify(g,w);ZA(x)?w.value=x:w.result=x,h(m,w)});function h(m,p){m||!p?l(m):o?o(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),Ll("processSync",this.parser||this.Parser),Ml("processSync",this.compiler||this.Compiler),this.process(e,s),Ud("processSync","process",n),r;function s(o,l){n=!0,_l(o),r=l}}run(e,n,r){zd(e),this.freeze();let s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){let f=Is(n);s.run(e,f,h);function h(m,p,w){let g=p||e;m?u(m):l?l(g):r(void 0,g,w)}}}runSync(e,n){let r=!1,s;return this.run(e,n,o),Ud("runSync","run",r),s;function o(l,u){_l(l),s=u,r=!0}}stringify(e,n){this.freeze();let r=Is(n),s=this.compiler||this.Compiler;return Ml("stringify",s),zd(e),s(e,r)}use(e,...n){let r=this.attachers,s=this.namespace;if(Nl("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){let[m,...p]=h;f(m,p)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(h.plugins),h.settings&&(s.settings=(0,Os.default)(!0,s.settings,h.settings))}function u(h){let m=-1;if(h!=null)if(Array.isArray(h))for(;++m<h.length;){let p=h[m];o(p)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,m){let p=-1,w=-1;for(;++p<r.length;)if(r[p][0]===h){w=p;break}if(w===-1)r.push([h,...m]);else if(m.length>0){let[g,...x]=m,F=r[w][1];si(F)&&si(g)&&(g=(0,Os.default)(!0,F,g)),r[w]=[h,g,...x]}}}},$l=new Bl().freeze();function Ll(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ml(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Nl(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zd(t){if(!si(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Ud(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Is(t){return XA(t)?t:new oi(t)}function XA(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function ZA(t){return typeof t=="string"||JA(t)}function JA(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var Hd=$l().use(gr).use(_s).freeze();var Yl={d:(t,e)=>{for(var n in e)Yl.o(e,n)&&!Yl.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},Wl={};Yl.d(Wl,{Z:()=>nx,$:()=>Kd});var Ar={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function qd(t){return t<Ar.nul||t===Ar.space}function Vl(t){return t<Ar.horizontalTab}var QA={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,s){var o;if(!r)return s;for(typeof r=="string"&&(r=[r]),o=-1;++o<r.length;)if(n.indexOf(r[o])!==-1)return!0;return!1}t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(u,f,h){for(var m,p,w,g,x,F,S,E,T=(h.before||"")+(f||"")+(h.after||""),P=[],W=[],z={},v=-1;++v<u.unsafe.length;)if(g=u.unsafe[v],s(u.stack,g))for(x=r(g);F=x.exec(T);)m="before"in g||g.atBreak,p="after"in g,w=F.index+(m?F[1].length:0),P.indexOf(w)===-1?(P.push(w),z[w]={before:m,after:p}):(z[w].before&&!m&&(z[w].before=!1),z[w].after&&!p&&(z[w].after=!1));for(P.sort(o),S=h.before?h.before.length:0,E=T.length-(h.after?h.after.length:0),v=-1;++v<P.length;)(w=P[v])<S||w>=E||w+1<E&&P[v+1]===w+1&&z[w].after&&!z[w+1].before&&!z[w+1].after||(S!==w&&W.push(l(T.slice(S,w),"\\")),S=w,!/[!-/:-@[-`{-~]/.test(T.charAt(w))||h.encode&&h.encode.indexOf(T.charAt(w))!==-1?(W.push("&#x"+T.charCodeAt(w).toString(16).toUpperCase()+";"),S++):W.push("\\"));return W.push(l(T.slice(S,E),h.after)),W.join("")};var r=n(553),s=n(112);function o(u,f){return u-f}function l(u,f){for(var h,m=/\\(?=[!-/:-@[-`{-~])/g,p=[],w=[],g=-1,x=0,F=u+f;h=m.exec(F);)p.push(h.index);for(;++g<p.length;)x!==p[g]&&w.push(u.slice(x,p[g])),w.push("\\"),x=p[g];return w.push(u.slice(x)),w.join("")}}},Gd={};function Nt(t){var e=Gd[t];if(e!==void 0)return e.exports;var n=Gd[t]={exports:{}};return QA[t](n,n.exports,Nt),n.exports}Nt.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Nt.d(e,{a:e}),e},Nt.d=(t,e)=>{for(var n in e)Nt.o(e,n)&&!Nt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Nt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var zl={};(()=>{function t(s={}){let o=s.permalinks||[],l=s.pageResolver||(w=>[w.replace(/ /g,"_").toLowerCase()]),u=s.newClassName||"new",f=s.wikiLinkClassName||"internal",h=s.hrefTemplate||(w=>`#/page/${w}`),m;function p(w){return w[w.length-1]}return{enter:{wikiLink:function(w){m={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(m,w)}},exit:{wikiLinkTarget:function(w){let g=this.sliceSerialize(w);p(this.stack).value=g},wikiLinkAlias:function(w){let g=this.sliceSerialize(w);p(this.stack).data.alias=g},wikiLink:function(w){this.exit(w);let g=m,x=l(g.value),F=x.find(W=>o.indexOf(W)!==-1),S=F!==void 0,E;E=S?F:x[0]||"";let T=g.value;g.data.alias&&(T=g.data.alias);let P=f;S||(P+=" "+u),g.data.alias=T,g.data.permalink=E,g.data.exists=S,g.data.hName="a",g.data.hProperties={className:P,href:h(E)},g.data.hChildren=[{type:"text",value:T}]}}}}Nt.d(zl,{V:()=>t,x:()=>r});var e=Nt(113),n=Nt.n(e);function r(s={}){let o=s.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:function(l,u,f){let h=f.enter("wikiLink"),m=n()(f,l.value,{before:"[",after:"]"}),p=n()(f,l.data.alias,{before:"[",after:"]"}),w;return w=p!==m?`[[${m}${o}${p}]]`:`[[${m}]]`,h(),w}}}}})();var ex=zl.V,tx=zl.x,jd=!1;function Kd(t={}){let e=this.data();function n(r,s){e[r]?e[r].push(s):e[r]=[s]}!jd&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(jd=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",s="]]";return{text:{91:{tokenize:function(o,l,u){var f,h,m=0,p=0,w=0;return function(T){return T!=="[[".charCodeAt(p)?u(T):(o.enter("wikiLink"),o.enter("wikiLinkMarker"),g(T))};function g(T){return p===2?(o.exit("wikiLinkMarker"),function(P){return Vl(P)||P===Ar.eof?u(P):(o.enter("wikiLinkData"),o.enter("wikiLinkTarget"),x(P))}(T)):T!=="[[".charCodeAt(p)?u(T):(o.consume(T),p++,g)}function x(T){return T===r.charCodeAt(m)?f?(o.exit("wikiLinkTarget"),o.enter("wikiLinkAliasMarker"),F(T)):u(T):T===s.charCodeAt(w)?f?(o.exit("wikiLinkTarget"),o.exit("wikiLinkData"),o.enter("wikiLinkMarker"),E(T)):u(T):Vl(T)||T===Ar.eof?u(T):(qd(T)||(f=!0),o.consume(T),x)}function F(T){return m===r.length?(o.exit("wikiLinkAliasMarker"),o.enter("wikiLinkAlias"),S(T)):T!==r.charCodeAt(m)?u(T):(o.consume(T),m++,F)}function S(T){return T===s.charCodeAt(w)?h?(o.exit("wikiLinkAlias"),o.exit("wikiLinkData"),o.enter("wikiLinkMarker"),E(T)):u(T):Vl(T)||T===Ar.eof?u(T):(qd(T)||(h=!0),o.consume(T),S)}function E(T){return w===2?(o.exit("wikiLinkMarker"),o.exit("wikiLink"),l(T)):T!==s.charCodeAt(w)?u(T):(o.consume(T),w++,E)}}}}}}(t)),n("fromMarkdownExtensions",ex(t)),n("toMarkdownExtensions",tx(t))}var nx=Kd,GI=Wl.Z,Xd=Wl.$;(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var rx=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function Ul(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return rx.test(t)}var Wn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Rs(t){let e=(0,Wn.getFrontMatterInfo)(t);return(0,Wn.parseYaml)(e.frontmatter)??{}}function Zd(t,e){let n=(0,Wn.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,Wn.stringifyYaml)(e);return n.exists?nf(t,r,n.from,n.to):`---
${r}---
${t}`}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function ct(t){if(!at(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Jd(t){return Hl(t)&&t.type==="file"}function Hl(t){return at(t)&&!!t.isCanvas}function xr(t,e){return{newContent:e,oldContent:t.original,reference:t}}function Qd(t){return t.sort((e,n)=>{if(at(e)&&at(n)){let r=ct(e)?e.startOffset:0,s=ct(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(ct(n))-Number(ct(e))||r-s}return tn(e)&&tn(n)?e.position.start.offset-n.position.start.offset:at(e)?1:-1})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function eh(t,e,n){let r=Pe(t,e),s=gt(n);await Ds(t,s);let o=th(t,n);try{await t.vault.copy(r,o)}catch(l){if(!await t.vault.exists(o))throw l}return o}async function Ds(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}function th(t,e){let n=Fe(e);return t.vault.getAvailablePath(Ee(xe(e),ke(e,n)),n.slice(1))}function ql(t,e,n){let r=ye(t,e);if(t.vault.adapter.insensitive){let s=xe(n),o=ke(n),l;for(;l=Mt(t,s,!0),!l;)o=Ee(ke(s),o),s=xe(s);n=Ee(l.getParentPrefix(),o)}return r.toLowerCase()===n.toLowerCase()?n:th(t,n)}async function Gl(t,e){let n=await jl(t,ye(t,e));return n.files.length===0&&n.folders.length===0}async function jl(t,e){let n=ye(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(s){if(await t.vault.exists(n))throw s;return r}}async function Ls(t,e,n,r={}){let o={...{shouldFailOnMissingFile:!0},...r};await is(async()=>{let l=await Kl(t,e);if(l===null)return m();let u=await Dn(n,l);if(u===null)return!1;let f=!0;if(!await nh(t,e,async p=>{await t.vault.process(p,w=>w!==l?(console.warn("Content has changed since it was read. Retrying...",{actualContent:w,expectedContent:l,path:p.path}),f=!1,w):u)}))return m();return f;function m(){if(o.shouldFailOnMissingFile){let p=ye(t,e);throw new Error(`File '${p}' not found`)}return!0}},o)}async function Kl(t,e){let n=null;return await nh(t,e,async r=>{n=await t.vault.read(r)}),n}async function Ms(t,e,n){let r=Pe(t,e,!1,!0),s=ql(t,e,n);if(r.path.toLowerCase()===s.toLowerCase())return r.path!==n&&await t.vault.rename(r,s),s;let o=gt(s);await Ds(t,o);try{await t.vault.rename(r,s)}catch(l){if(!await t.vault.exists(s)||await t.vault.exists(r.path))throw l}return s}async function nh(t,e,n){let r=ye(t,e),s=tt(t,r);if(!s||s.deleted)return!1;try{return await n(s),!0}catch(o){if(s=tt(t,r),!s||s.deleted)return!1;throw o}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function $s(t,e,n,r=!0){let s=await Dn(n),o={},l=!1;try{o=Rs(t)}catch(p){console.error(new Error(`Frontmatter parsing failed in ${e}`,{cause:p})),l=!0}if(!ux(s,t,o,e,r))return r?null:t;s.sort((p,w)=>an(p)&&an(w)?p.reference.position.start.offset-w.reference.position.start.offset:Bs(p)&&Bs(w)?p.reference.key.localeCompare(w.reference.key)||p.reference.startOffset-w.reference.startOffset:Ns(p)&&Ns(w)?p.reference.key.localeCompare(w.reference.key):an(p)?-1:1),s=s.filter((p,w)=>p.oldContent===p.newContent?!1:w===0?!0:!pt(p,s[w-1]));for(let p=1;p<s.length;p++){let w=s[p];if(!w)continue;let g=s[p-1];if(g&&an(g)&&an(w)&&g.reference.position.end.offset&&g.reference.position.end.offset>w.reference.position.start.offset)return console.warn("Overlapping changes",{change:w,previousChange:g}),null}let u="",f=0,h=!1,m=new Map;for(let p of s)if(an(p))u+=t.slice(f,p.reference.position.start.offset),u+=p.newContent,f=p.reference.position.end.offset;else if(Bs(p))if(l)console.error(`Cannot apply frontmatter change in ${e}, because frontmatter parsing failed`,{change:p});else{let w=m.get(p.reference.key);w||(w=[],m.set(p.reference.key,w)),w.push(p),h=!0}else Ns(p)&&(l?console.error(`Cannot apply frontmatter change in ${e}, because frontmatter parsing failed`,{change:p}):(Ha(o,p.reference.key,p.newContent),h=!0));return await ax(o,m,e),u+=t.slice(f),h&&(u=Zd(u,o)),u}async function Vs(t,e,n,r={},s=!0){await Ls(t,e,async o=>rn(t,e)?ox(o,ye(t,e),n,s):await $s(o,ye(t,e),n,s),r)}function ai(t){return Hl(t.reference)}function ix(t){return ai(t)&&t.reference.type==="file"}function sx(t){return ai(t)&&t.reference.type==="text"}function an(t){return tn(t.reference)}function Ns(t){return at(t.reference)}function Bs(t){return ct(t.reference)}async function ox(t,e,n,r=!0){let s=await Dn(n),o=lx(t),l=new Map;for(let u of s){if(!ai(u))return console.warn("Only canvas changes are supported for canvas files",{change:u,path:e}),null;let f=o.nodes[u.reference.nodeIndex];if(!f)return console.warn("Node not found",{nodeIndex:u.reference.nodeIndex,path:e}),null;if(ix(u)){if(f.file!==u.oldContent)return console.warn("Content mismatch",{actualContent:f.file,expectedContent:u.oldContent,nodeIndex:u.reference.nodeIndex,path:e,type:"file"}),null;f.file=u.newContent}else if(sx(u)){let h=l.get(u.reference.nodeIndex);h||(h=[],l.set(u.reference.nodeIndex,h)),h.push(u)}}for(let[u,f]of l.entries()){let h=o.nodes[u];if(!h)return console.warn("Node not found",{nodeIndex:u,path:e}),null;if(typeof h.text!="string")return console.warn("Node text is not a string",{nodeIndex:u,path:e}),null;let m=f.map(p=>xr(p.reference.originalReference,p.newContent));h.text=await $s(h.text,`${e}.node${u.toString()}.VIRTUAL_FILE.md`,m,r)}return JSON.stringify(o,null,"	")}async function ax(t,e,n){for(let[r,s]of e.entries()){let o=en(t,r);if(typeof o!="string")return;let l=s.map(f=>({newContent:f.newContent,oldContent:f.oldContent,reference:{link:"",original:"",position:{end:{col:f.reference.endOffset,line:0,offset:f.reference.endOffset},start:{col:f.reference.startOffset,line:0,offset:f.reference.startOffset}}}})),u=await $s(o,`${n}.frontmatter.${r}.VIRTUAL_FILE.md`,l);if(u===null)return;Ha(t,r,u)}}function lx(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}function ux(t,e,n,r,s){let o=sr("validateChanges"),l=s?console.warn.bind(console):o;for(let u of t)if(an(u)){let f=u.reference.position.start.offset,h=u.reference.position.end.offset,m=e.slice(f,h);if(m!==u.oldContent)return l("Content mismatch",{actualContent:m,endOffset:h,expectedContent:u.oldContent,path:r,startOffset:f}),!1}else if(Bs(u)){let f=en(n,u.reference.key);if(typeof f!="string")return l("Property value is not a string",{frontmatterKey:u.reference.key,path:r,propertyValue:f}),!1;let h=f.slice(u.reference.startOffset,u.reference.endOffset);if(h!==u.oldContent)return l("Content mismatch",{actualContent:h,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r,startOffset:u.reference.startOffset}),!1}else if(Ns(u)){let f=en(n,u.reference.key);if(f!==u.oldContent)return l("Content mismatch",{actualContent:f,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r}),!1}return!0}var rh=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function ih(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}function bn(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Qd(e),e=e.filter((n,r)=>{if(r===0)return!0;let s=e[r-1];if(!s)return!0;if(tn(n)&&tn(s))return n.position.start.offset!==s.position.start.offset;if(at(n)&&at(s)){let o=ct(n)?n.startOffset:0,l=ct(s)?s.startOffset:0;return n.key!==s.key||ct(n)!==ct(s)||o!==l}return!0}),e}function Xl(t,e){let n=Pe(t,e,!0);return li(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}async function ln(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let s=null;return await is(async()=>{let o=Pe(t,e);await ih(t),s=Xl(t,o);for(let l of s.keys()){let u=tt(t,l);if(!u)return!1;await sh(t,u);let f=await Kl(t,u);if(!f)return!1;let h=Rs(f),m=s.get(l);if(!m)return!1;for(let p of m){let w;if(tn(p))w=f.slice(p.position.start.offset,p.position.end.offset);else if(ct(p)){let g=en(h,p.key);if(typeof g!="string")return!1;w=g.slice(p.startOffset,p.endOffset)}else if(at(p)){let g=en(h,p.key);if(typeof g!="string")return!1;w=g}else return!0;if(w!==p.original)return!1}}return!0},n),s}async function Er(t,e){let n=tt(t,e);if(!n||n.deleted)return null;await sh(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await ih(t)),t.metadataCache.getFileCache(n)}function cx(t,e){let n=new Set;for(let r of e){if(!r.deleted)continue;let s=r;for(;s.deleted;)n.add(s.path),t.vault.fileMap[s.path]=s,s=s.parent??Kr(t,gt(s.path),!0);wt(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r)}return()=>{for(let r of n)delete t.vault.fileMap[r];for(let r of e)r.deleted&&wt(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)}}function li(t,e,n){let r=cx(t,e);try{return n()}finally{r()}}async function sh(t,e){if(!sn(t,e))return;let n=ye(t,e);for(let r of t.workspace.getLeavesOfType(af.Markdown))r.view instanceof rh.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function oh(t){return t.vault.getConfig("newLinkFormat")==="relative"}function ah(t){return!t.vault.getConfig("useMarkdownLinks")}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var dx="\\|",hx=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,mx=/[\\[\]<>_*~=`$]/g,uh=/(?<!\\)\|/g,ch="|";function px(t){let e=Cr(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?fi({app:t.app,link:t.link,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldForceMarkdownLinks:t.shouldForceMarkdownLinks,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}async function Zl(t,e,n,r={}){await Vs(t,e,async()=>{let s=await Er(t,e);return await Ex(s,rn(t,e),n)},r)}function ui(t){return pe(t,hx,({substring:e})=>encodeURIComponent(e))}function Cr(t,e,n,r=!1){let{linkPath:s}=fh(e.link),o=ye(t,n),l=t.metadataCache.getFirstLinkpathDest(s,o);if(l)return l;if(!r)return null;if(s.startsWith("/"))return Pe(t,s,!0);let u=Ee(xe(o),`./${s}`);return u.startsWith("../")?null:Pe(t,u,!0)}function Jl(t){let{app:e}=t,r=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...r,...t};let o=Pe(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return li(e,[o],()=>kx(t))}function ci(t){let e=gx(t);return e[0]?.raw===t?e[0]:null}function gx(t){let e=new Set,n="![",r=" [",s=pe(t,n,m=>(e.add(m.offset),r)),l=Hd().use(gr).use(Xd,{aliasDivider:ch}).parse(s),u=[],f=[];ii(l,m=>{let p;switch(m.type){case"link":p=vx(m,t);break;case"wikiLink":p=Sx(m,t);break;default:return}e.has(p.startOffset-1)&&(p.isEmbed=!0,p.startOffset--,p.raw=`!${p.raw}`),u.push(p)}),u.sort((m,p)=>m.startOffset-p.startOffset);let h=0;for(let m of u)lh(t,h,m.startOffset-1,f),h=m.endOffset+1;return lh(t,h,t.length-1,f),u.push(...f),u.sort((m,p)=>m.startOffset-p.startOffset),u}function wx(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:s,oldSourcePathOrFile:o,oldTargetPath:l,targetPathOrFile:u}=t;if(r===!1)return!1;if(!n)return!0;let f=Pe(e,u,!0),h=ye(e,s),m=ye(e,o??s),p=xe(h),w=xe(m),g=new Set;for(let F of[f.path,l]){if(!F)continue;let S=ye(e,F);g.add(S),g.add(ke(S)),g.add(fr(p,S)),g.add(fr(w,S))}for(let F of[m,h])g.add(e.metadataCache.fileToLinktext(f,F,!1));let x=pe((0,Ys.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let F of g){if(F.toLowerCase()===x)return!0;let S=xe(F),E=ke(F,Fe(F));if(Ee(S,E).toLowerCase()===x)return!0}return!1}function fh(t){let e=(0,Ys.parseLinktext)(jr(t));return{linkPath:e.path,subpath:e.subpath}}function Ql(t){return ci(t)?.hasAngleBrackets??!1}function dh(t){return ci(t)?.isEmbed??!1}function yx(t){return ci(t)?.url.startsWith("./")??!1}function Ws(t){return ci(t)?.isWikilink??!1}function fi(t){let{app:e,link:n,newSourcePathOrFile:r,newTargetPathOrFile:s,oldSourcePathOrFile:o,oldTargetPathOrFile:l,shouldForceMarkdownLinks:u,shouldUpdateFileNameAlias:f}=t;if(!s)return n.original;let h=Pe(e,s,!0),m=ye(e,l??s),p=Ws(n.original)&&u!==!0,{subpath:w}=fh(n.link),g=!f;if(rn(e,r)&&Jd(n))return h.path+w;let x;if(p){let S=ci(n.original);S?.alias&&(x=S.alias,g=!0)}return x??=wx({app:e,displayText:n.displayText,isWikilink:p,newSourcePathOrFile:r,oldSourcePathOrFile:o,oldTargetPath:m,targetPathOrFile:h})?void 0:n.displayText,g||(x===ke(m,Fe(m))?x=h.basename:x===ke(m)&&(x=h.name)),Jl({alias:x,app:e,isWikilink:u?!1:void 0,originalLink:n.original,sourcePathOrFile:r,subpath:w,targetPathOrFile:h})}async function hh(t){let{app:e,newSourcePathOrFile:n,oldSourcePathOrFile:r,shouldForceMarkdownLinks:s,shouldUpdateEmbedOnlyLinks:o,shouldUpdateFileNameAlias:l}=t;rn(e,n)&&!e.internalPlugins.getEnabledPluginById(_t.Canvas)||await Zl(e,n,u=>{let f=dh(u.original);if(!(o!==void 0&&o!==f))return px({app:e,link:u,newSourcePathOrFile:n,oldSourcePathOrFile:r,shouldForceMarkdownLinks:s,shouldUpdateFileNameAlias:l})},t)}function lh(t,e,n,r){if(e>n)return;let s=t.slice(e,n+1);pe(s,/(?<Url>\S+)/g,(o,l)=>{Ul(l)&&r.push({encodedUrl:ui(l),endOffset:e+o.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+o.offset,url:l})})}function bx(t,e,n,r,s){n==="/"&&(n="");let o;return e.path===n&&r?o=r:s.shouldForceRelativePath?o=fr(xe(n),s.isWikilink?yf(t,e):e.path)+r:o=t.metadataCache.fileToLinktext(e,n,s.isWikilink)+r,s.shouldForceRelativePath&&s.shouldUseLeadingDot&&!o.startsWith(".")&&!o.startsWith("#")&&(o=`./${o}`),o}function kx(t){let{app:e}=t,n=Pe(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=ye(e,t.sourcePathOrFile),s=t.subpath??"",o=Cx(t,n),l=bx(e,n,r,s,o);return o.isWikilink?xx(l,t.alias,o.isEmbed):Ax(l,n,t,o)}function Ax(t,e,n,r){let{app:s}=n,o=r.isEmbed?"!":"",l=r.shouldUseAngleBrackets?`<${t}>`:ui(t),u=n.alias??"";!u&&(!r.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(u=!n.shouldIncludeAttachmentExtensionToEmbedAlias||sn(s,e)?e.basename:e.name);let f=pe(u,mx,"\\$&");return`${o}[${f}](${l})`}function xx(t,e,n){let r=n?"!":"",s=e??"";if(s&&s.toLowerCase()===t.toLowerCase())return`${r}[[${s}]]`;let o=s?`|${s}`:"";return`${r}[[${t}${o}]]`}async function Ex(t,e,n){if(!t)return[];let r=[],s=(t.sections??[]).filter(o=>o.type==="table").map(o=>({end:o.position.end.offset,start:o.position.start.offset}));for(let o of bn(t)){let l=await n(o);if(l===void 0)continue;let u=xr(o,l);e?ai(u)?r.push(u):console.warn("Unsupported file change",u):(Tx(u,s)&&(u.newContent=u.newContent.replaceAll(uh,dx)),r.push(u))}return r}function Cx(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?dh(t.originalLink):void 0)??!sn(n,e),isWikilink:t.isWikilink??(t.originalLink?Ws(t.originalLink):void 0)??ah(n),shouldForceRelativePath:t.shouldForceRelativePath??oh(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?Ql(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?yx(t.originalLink):void 0)??!1}}function mh(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}function vx(t,e){let o=mh(t,e),l=t.children[0],u=e.slice((l?.position?.end.offset??1)+2,(t.position?.end.offset??0)-1),f=o.startsWith("<")||u.startsWith("<"),h=Ul(t.url),m=t.url;if(!h&&!f)try{m=decodeURIComponent(m)}catch(p){console.error(`Failed to decode URL ${m}`,p)}return{alias:l?.value,encodedUrl:h?ui(m):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:f,isEmbed:!1,isExternal:h,isWikilink:!1,raw:o,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:m}}function Sx(t,e){return{alias:e.includes(ch)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:mh(t,e),startOffset:t.position?.start.offset??0,url:t.value}}function Tx(t,e){return!an(t)||!uh.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}var Ah=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var B=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(B||{});var kh=require("obsidian");var yh=Be(gh(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var wh=`${Zi}-styles`;function ce(t,...e){t.addClass(B.LibraryName,ts(),...e)}function bh(t,e){Hc(e),jc(e);let n=Qt(t,"lastLibraryVersion","0.0.0");if((0,yh.compareVersions)(Da,n.value)<=0)return;n.value=Da;let r=_x();r.DEBUG=Gc(),document.head.querySelector(`#${wh}`)?.remove(),document.head.createEl("style",{attr:{id:wh},text:Yc})}function _x(){return window}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var kn=class extends kh.Modal{constructor(e,n,r){super(e.app),this.resolve=n,ce(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function vr(t){return await new Promise(e=>{t(e).open()})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var eu=class extends kn{options;constructor(e,n){super(e,n,B.AlertModal);let r={app:e.app,cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Ah.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass(B.OkButton)}};async function xh(t){await vr(e=>new eu(t,e))}function Eh(t,e){let n=Object.keys(e).map(r=>Fx(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function Fx(t,e,n){let r=t[e],s=t.hasOwnProperty(e),o=s?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(o);return r&&Object.setPrototypeOf(l,r),Object.setPrototypeOf(u,l),t[e]=u,f;function u(...h){return l===o&&t[e]===u&&f(),l.apply(this,h)}function f(){t[e]===u&&(s?t[e]=o:delete t[e]),l!==o&&(l=o,Object.setPrototypeOf(u,r||Function))}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Px(t,e){return Eh(t,e)}function An(t,e,n){let r=Px(e,n),s=!1;function o(){if(!s)try{r()}finally{s=!0}}return t.register(o),r}var Gs=require("obsidian");var Ch=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Us=class extends Ch.Component{registerAsyncEvent(e){Hs(this,e)}};function Hs(t,e){t.register(()=>{e.asyncEvents.offref(e)})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qs=class extends Gs.Plugin{events=new It;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){sr(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Zc(this.afterLoad.bind(this))}onunload(){super.onunload(),et(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}async onLayoutReady(){await Ot()}async onloadImpl(){bh(this.app,this.manifest.id),this.register(zc(()=>{this.showNotice("An unhandled error occurred. Please check the console for more information.")})),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(Hs(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),Hs(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort()})}async onLoadSettings(e,n){await Ot()}async onSaveSettings(e,n,r){await Ot()}async onunloadImpl(){await Ot()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new Gs.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(ot(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var Ih=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function vh(t,e,n){let r=mt("Logger:invokeAsyncAndLog"),s=performance.now();n??=Rn(1),r(`${t}:start`,{fn:e,timestampStart:s}),r.printStackTrace(n);try{await e();let o=performance.now();r(`${t}:end`,{duration:o-s,fn:e,timestampEnd:o,timestampStart:s}),r.printStackTrace(n)}catch(o){let l=performance.now();throw r(`${t}:error`,{duration:l-s,error:o,fn:e,timestampEnd:l,timestampStart:s}),r.printStackTrace(n),o}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function xn(t,e,n,r){r??=Rn(1),et(()=>Ix(t,e,n,r))}async function Ix(t,e,n,r){n??=6e4,r??=Rn(1);let o=Sh(t).value;o.items.push({fn:e,stackTrace:r,timeoutInMilliseconds:n}),o.promise=o.promise.then(()=>Th(t)),await o.promise}function Sh(t){return Qt(t,"queue",{items:[],promise:Promise.resolve()})}async function Th(t){let e=Sh(t).value,n=e.items[0];n&&(await Wa(()=>za(n.timeoutInMilliseconds,()=>vh(Th.name,n.fn,n.stackTrace),{queuedFn:n.fn})),e.items.shift())}var _h=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function js(t,e){let n=Mt(t,e);for(;n;){if(!await Gl(t,n))return;let r=n.parent;await Sr(t,n.path),n=r}}async function Sr(t,e,n,r,s){let o=Ln(t,e);if(!o)return!1;let l=wt(o)||(s??!0);if(wt(o)){let u=await ln(t,o);n&&u.clear(n),u.count()!==0&&(r&&new _h.Notice(`Attachment ${o.path} is still used by other notes. It will not be deleted.`),l=!1)}else if(ja(o)){let u=await jl(t,o);for(let f of[...u.files,...u.folders])l&&=await Sr(t,f,n,r);l&&=await Gl(t,o)}if(l)try{await t.fileManager.trashFile(o)}catch(u){await t.vault.exists(o.path)&&(Hr(new Error(`Failed to delete ${o.path}`,{cause:u})),l=!1)}return l}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var tu=new Map,di=new Set,Ks=new Map,nt=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(nt||{});function Oh(t,e){let n=Xs(t.app),r=t.manifest.id;n.set(r,e),Ph(t.app),t.register(()=>{n.delete(r),Ph(t.app)});let s=t.app;t.registerEvent(s.vault.on("delete",o=>{Mx(t,o)})),t.registerEvent(s.vault.on("rename",(o,l)=>{Vx(t,o,l)})),t.registerEvent(s.metadataCache.on("deleted",(o,l)=>{Bx(t,o,l)})),An(t,s.fileManager,{runAsyncLinkUpdate:o=>l=>Wx(s,o,l)})}async function Rh(t,e,n){let r=En(t);if(r.emptyAttachmentFolderBehavior!=="Keep")for(let s of e)switch(r.emptyAttachmentFolderBehavior){case"Delete":await Sr(t,s,n,void 0,!0);break;case"DeleteWithEmptyParents":await js(t,s);break;default:break}}async function Ox(t,e,n,r,s){let o=Ks.get(e);if(o){Ks.delete(e);for(let l of o)await nu(t,l.oldPath,n,r,s,l.combinedBacklinksMap)}}async function Rx(t,e,n,r,s){if(r.set(e,n),!hi(t,e))return;let o=En(t),l=await dr(t,e),u=o.shouldRenameAttachmentFolder?await dr(t,n):l,f=l==="/",h=Mt(t,l);if(!h||l===u&&!o.shouldRenameAttachmentFiles)return;let m=[];if(await Xa(t,e))Ih.Vault.recurseChildren(h,g=>{wt(g)&&m.push(g)});else for(let g of s){let x=Cr(t,g,e);x&&(f||x.path.startsWith(l))&&(await ln(t,x)).keys().length===1&&m.push(x)}let p=ke(e,Fe(e)),w=ke(n,Fe(n));for(let g of m){if(hi(t,g.path))continue;let x=f?g.path:fr(l,g.path),F=Ee(u,xe(x)),S=o.shouldRenameAttachmentFiles?pe(g.basename,p,w):g.basename,E=Ee(F,Lt(S,g.extension));if(g.path!==E){if(o.shouldDeleteConflictingAttachments){let T=tt(t,E);T&&(console.warn(`Removing conflicting attachment ${T.path}.`),await t.fileManager.trashFile(T))}else E=t.vault.getAvailablePath(Ee(F,S),g.extension);r.set(g.path,E)}}}function Xs(t){return Qt(t,"renameDeleteHandlersMap",new Map).value}function En(t){let e=Xs(t),n=Array.from(e.values()).reverse(),r={};r.isNote=s=>Xr(t,s),r.isPathIgnored=()=>!1;for(let s of n){let o=s();r.shouldDeleteConflictingAttachments||=o.shouldDeleteConflictingAttachments??!1,o.emptyAttachmentFolderBehavior&&(r.emptyAttachmentFolderBehavior??=o.emptyAttachmentFolderBehavior),r.shouldHandleDeletions||=o.shouldHandleDeletions??!1,r.shouldHandleRenames||=o.shouldHandleRenames??!1,r.shouldRenameAttachmentFiles||=o.shouldRenameAttachmentFiles??!1,r.shouldRenameAttachmentFolder||=o.shouldRenameAttachmentFolder??!1,r.shouldUpdateFileNameAliases||=o.shouldUpdateFileNameAliases??!1;let l=r.isPathIgnored;r.isPathIgnored=f=>l(f)||(o.isPathIgnored?.(f)??!1);let u=r.isNote;r.isNote=f=>u(f)&&(o.isNote?.(f)??!0)}return r.emptyAttachmentFolderBehavior??="Keep",r}async function Dx(t,e,n,r,s){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let o=Ee(xe(n),`__temp__${ke(n)}`);return await Lh(t,n,o),await nu(t,e,o,r,s),await t.vault.rename(Pe(t,o),n),!0}async function Lx(t,e){if(mt("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!hi(t,e))return;let n=En(t);if(!n.shouldHandleDeletions)return;if(n.isPathIgnored?.(e)){console.warn(`Skipping delete handler of ${e} as the path is ignored.`);return}let r=tu.get(e);tu.delete(e);let s=new Set;if(r){let u=bn(r);for(let f of u){let h=Cr(t,f,e);h&&(hi(t,h.path)||(s.add(h.parent?.path??""),await Sr(t,h,e,!1,n.emptyAttachmentFolderBehavior!=="Keep")))}}await Rh(t,Array.from(s),e);let o=await dr(t,e),l=Mt(t,o);l&&await Xa(t,e)&&await Sr(t,l,e,!1,n.emptyAttachmentFolderBehavior!=="Keep")}function Mx(t,e){let n=t.app;if(!ru(t))return;let r=e.path;xn(n,()=>Lx(n,r))}function Nx(t,e,n){let r=En(t);if(r.isPathIgnored?.(e.path)){console.warn(`Skipping metadata delete handler of ${e.path} as the path is ignored.`);return}r.shouldHandleDeletions&&sn(t,e)&&n&&tu.set(e.path,n)}function Bx(t,e,n){ru(t)&&Nx(t.app,e,n)}function $x(t,e,n){let r=Dh(e,n);if(mt("RenameDeleteHandler:handleRename")(`Handle Rename ${r}`),di.has(r)){di.delete(r);return}let s=En(t);if(!s.shouldHandleRenames)return;if(s.isPathIgnored?.(e)){console.warn(`Skipping rename handler of old path ${e} as the path is ignored.`);return}if(s.isPathIgnored?.(n)){console.warn(`Skipping rename handler of new path ${n} as the path is ignored.`);return}let o=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=o?bn(o):[],u=Xl(t,e).data;xn(t,()=>nu(t,e,n,u,l))}async function nu(t,e,n,r,s,o){if(await Ox(t,e,n,r,s),await Yx(t,e,n,r,s),!await Dx(t,e,n,r,s))try{let l=new Map;await Rx(t,e,n,l,s);let u=new Map;Fh(r,l,u,e);for(let m of l.keys()){if(m===e)continue;let p=(await ln(t,m)).data;Fh(p,l,u,m)}let f=new Set;for(let[m,p]of l.entries()){if(m===e)continue;let w=await Lh(t,m,p);l.set(m,w),f.add(xe(m))}await Rh(t,Array.from(f),e);let h=En(t);for(let[m,p]of Array.from(u.entries()).concat(Array.from(o?.entries()??[])))await Zl(t,m,w=>{let g=p.get(lr(w));if(!g)return;let x=l.get(g);if(x)return fi({app:t,link:w,newSourcePathOrFile:m,newTargetPathOrFile:x,oldTargetPathOrFile:g,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1});if(hi(t,n)&&await hh({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases}),!tt(t,n)){let m=Ks.get(n);m||(m=[],Ks.set(n,m)),m.push({combinedBacklinksMap:u,oldPath:e})}}finally{let l=Array.from(di);xn(t,()=>{for(let u of l)di.delete(u)})}}function Vx(t,e,n){if(!ru(t)||!wt(e))return;let r=e.path;$x(t.app,n,r)}function Fh(t,e,n,r){for(let[s,o]of t.entries()){let l=e.get(s)??s,u=n.get(l)??new Map;n.set(l,u);for(let f of o)u.set(lr(f),r)}}function hi(t,e){return En(t).isNote?.(e)??!1}function Ph(t){let e=Xs(t);mt("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}function Dh(t,e){return`${t} -> ${e}`}async function Yx(t,e,n,r,s){let o=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=o?bn(o):[],u=Pe(t,e,!0),f=new Map;await li(t,[u],async()=>{f=(await ln(t,u)).data});for(let h of l)s.includes(h)||s.push(h);for(let[h,m]of f.entries()){let p=r.get(h);p||(p=[],r.set(h,p));for(let w of m)p.includes(w)||p.push(w)}}async function Lh(t,e,n){if(n=ql(t,e,n),e===n)return n;let r=Dh(e,n);return di.add(r),n=await Ms(t,e,n),n}async function Wx(t,e,n){await e.call(t.fileManager,r);async function r(s){let o=!1,l=t.vault.on("rename",()=>{o=!0});try{await n(s)}finally{t.vault.offref(l)}let u=En(t);o&&u.shouldHandleRenames&&Ur(s,f=>u.isPathIgnored?.(f.sourceFile.path)?(console.warn(`Roll back to default link update of source file ${f.sourceFile.path} as the path is ignored.`),!0):u.isPathIgnored?.(f.resolvedFile.path)?(console.warn(`Roll back to default link update of resolved file ${f.resolvedFile.path} as the path is ignored.`),!0):!t.internalPlugins.getEnabledPluginById(_t.Canvas)||t.plugins.getPlugin("backlink-cache")?!1:f.sourceFile.extension==="canvas"||f.resolvedFile.extension==="canvas")}}function ru(t){let e=t.app,n=t.manifest.id,r=Xs(e);return Array.from(r.keys())[0]===n}var ig=Be(Cp(),1);var Cn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function ee(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}var vp=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Sp(t){let n={...{abortSignal:AbortSignal.any([]),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:Jt,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=n.items,s=0,o=null;n.shouldShowProgressBar&&(o=new vp.Notice("",0));let l=sleep(n.noticeMinTimeoutInMilliseconds),u=createEl("progress");if(u.max=r.length,n.shouldShowProgressBar){let h=createFragment();h.createDiv({text:n.progressBarTitle}),h.appendChild(u),o?.setMessage(h)}let f=performance.now();for(let h of r){if(n.abortSignal.aborted){o?.hide();return}s++;let m=`# ${s.toString()} / ${r.length.toString()}`,p=n.buildNoticeMessage(h,m);n.shouldShowProgressBar||o?.setMessage(p),mt("Loop")(p);let w=new Error(Qi);try{performance.now()-f>n.uiUpdateThresholdInMilliseconds&&(await Jc(),f=performance.now()),await n.processItem(h)}catch(g){if(console.error("Error processing item",h),!n.shouldContinueOnError)throw o?.hide(),g;w.cause=g,es(w)}u.value++}await l,o?.hide()}var xu=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Eu=class extends kn{isConfirmed=!1;options;constructor(e,n){super(e,n,B.ConfirmModal);let r={app:e.app,cancelButtonText:"Cancel",cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve(this.isConfirmed)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new xu.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(()=>{this.isConfirmed=!0,this.close()}),e.setClass(B.OkButton);let n=new xu.ButtonComponent(this.contentEl);n.setButtonText(this.options.cancelButtonText),n.onClick(this.close.bind(this)),n.setClass(B.CancelButton)}};async function Tp(t){return await vr(e=>new Eu(t,e))}var Rp=require("obsidian");var Tu=Be(Xt(),1);var Ai=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Cu=class extends kn{isOkClicked=!1;options;value;constructor(e,n){super(e,n,B.PromptModal);let r={app:e.app,cancelButtonText:"Cancel",defaultValue:"",okButtonText:"OK",placeholder:"",title:"",valueValidator:Jt};this.options={...r,...e},this.value=e.defaultValue??""}onClose(){super.onClose(),this.resolve(this.isOkClicked?this.value:null)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title);let e=new Ai.TextComponent(this.contentEl),n=e.inputEl,r=async()=>{let l=await this.options.valueValidator(n.value);n.setCustomValidity(l??""),n.reportValidity()};e.setValue(this.value),e.setPlaceholder(this.options.placeholder),n.addClass(B.TextBox),e.onChange(l=>{this.value=l}),n.addEventListener("keydown",l=>{l.key==="Enter"?this.handleOk(l,e):l.key==="Escape"&&this.close()}),n.addEventListener("input",ot(r)),n.addEventListener("focus",ot(r)),et(r);let s=new Ai.ButtonComponent(this.contentEl);s.setButtonText(this.options.okButtonText),s.setCta(),s.onClick(l=>{this.handleOk(l,e)}),s.setClass(B.OkButton);let o=new Ai.ButtonComponent(this.contentEl);o.setButtonText(this.options.cancelButtonText),o.onClick(this.close.bind(this)),o.setClass(B.CancelButton)}handleOk(e,n){e.preventDefault(),n.inputEl.checkValidity()&&(this.isOkClicked=!0,this.close())}};async function _p(t){return await vr(e=>new Cu(t,e))}var uo=Be(Fp(),1),Bv="default"in uo.default?uo.default.default:uo.default,Ip="__VALIDATION__",$v=["1","2","3","4","5","6","any"],Vv=/^\.{3,}$/,Yv=/\.+$/,_u=/[\\/:*?"<>|]/,Ei=/\${(?<Token>.+?)(?::(?<Format>.*?))?}/g;function Fu(t){let e=new Map;try{let n=new Function("exports",t),r={};n(r);for(let[s,o]of Object.entries(r))e.set(s,o);return e}catch(n){throw new Error("Error initializing custom token formatters",{cause:n})}}function Wv(t){return(0,Tu.default)().format(t)}function Pp(t,e,n,r){let s=tt(t,e);return s?(0,Tu.default)(r(s)).format(n):""}function xi(t,e){let{base:n,parameter:r}=fo(e);switch(n){case"":return t;case"left":return t.slice(0,r??1);case"lower":return t.toLowerCase();case"right":return t.slice(-(r??1));case"slug":return Kv(t);case"upper":return t.toUpperCase();default:throw new Error(`Invalid file name format: ${e}`)}}function zv(t,e){let{base:s,parameter:o}=fo(e);switch(s){case"":case"B":return t.toFixed(o??0);case"KB":return(t/1024).toFixed(o??0);case"MB":return(t/1048576).toFixed(o??0);default:throw new Error(`Invalid file size format: ${e}`)}}function Uv(t,e){let n=t.split("/"),r=n.length-1,s=e.indexOf(",");s===-1&&(s=e.length);let l=e.slice(0,s),u=e.slice(s+1),f=fo(l);switch(f.base){case"indexFromEnd":r=n.length-1-(f.parameter??0);break;case"indexFromStart":r=f.parameter??0;break;default:if(u)throw new Error(`Invalid format: ${l}`);return xi(n[r]??"",l)}let h=n[r]??"";return xi(h,u)}function Hv(t){if(t==="uuid")return crypto.randomUUID();let{base:e,parameter:n}=fo(t),r;switch(e){case"D":r="0123456789";break;case"DL":r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"L":r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;default:throw new Error(`Invalid random value format: ${t}`)}let s="";for(let o=0;o<(n??1);o++)s+=Gv(r);return s}function qv(t,e,n){let r=tt(t,e);if(!r)return"";let s=t.metadataCache.getFileCache(r);if(!s?.frontmatter)return"";let o=en(s.frontmatter,n)??"";return String(o)}var it=class t{static formatters=new Map;static{this.registerCustomFormatters("")}app;generatedAttachmentFileName;generatedAttachmentFilePath;noteFileName;noteFilePath;noteFolderName;noteFolderPath;originalAttachmentFileExtension;originalAttachmentFileName;attachmentFileSizeInBytes;cursorLine;headingsInfo=null;constructor(e){this.app=e.app,this.noteFilePath=e.noteFilePath,this.noteFileName=ke(this.noteFilePath,Fe(this.noteFilePath)),this.noteFolderName=ke(xe(this.noteFilePath)),this.noteFolderPath=xe(this.noteFilePath);let n=e.originalAttachmentFileName??"",r=Fe(n);if(this.originalAttachmentFileName=ke(n,r),this.originalAttachmentFileExtension=r.slice(1),this.attachmentFileSizeInBytes=e.attachmentFileSizeInBytes??0,this.generatedAttachmentFileName=e.generatedAttachmentFileName??"",this.generatedAttachmentFilePath=e.generatedAttachmentFilePath??"",this.cursorLine=null,this.app.workspace.activeEditor?.file?.path===this.noteFilePath){let s=this.app.workspace.activeEditor.editor?.getCursor();s&&(this.cursorLine=s.line)}}static isRegisteredToken(e){return t.formatters.has(e.toLowerCase())}static registerCustomFormatters(e){this.formatters.clear(),this.registerFormatter("date",(r,s)=>Wv(s)),this.registerFormatter("noteFileCreationDate",(r,s)=>Pp(r.app,r.noteFilePath,s,o=>o.stat.ctime)),this.registerFormatter("noteFileModificationDate",(r,s)=>Pp(r.app,r.noteFilePath,s,o=>o.stat.mtime)),this.registerFormatter("noteFileName",(r,s)=>xi(r.noteFileName,s)),this.registerFormatter("noteFilePath",r=>r.noteFilePath),this.registerFormatter("noteFolderName",(r,s)=>Uv(r.noteFolderPath,s)),this.registerFormatter("noteFolderPath",r=>r.noteFolderPath),this.registerFormatter("frontmatter",(r,s)=>qv(r.app,r.noteFilePath,s)),this.registerFormatter("originalAttachmentFileExtension",r=>r.originalAttachmentFileExtension),this.registerFormatter("originalAttachmentFileName",(r,s)=>xi(r.originalAttachmentFileName,s)),this.registerFormatter("prompt",r=>r.prompt()),this.registerFormatter("random",(r,s)=>Hv(s)),this.registerFormatter("attachmentFileSize",(r,s)=>zv(r.attachmentFileSizeInBytes,s)),this.registerFormatter("generatedAttachmentFileName",(r,s)=>xi(r.generatedAttachmentFileName,s)),this.registerFormatter("generatedAttachmentFilePath",r=>r.generatedAttachmentFilePath),this.registerFormatter("heading",async(r,s)=>r.getHeading(s));let n=Fu(e)??new Map;for(let[r,s]of n.entries())this.registerFormatter(r,s)}static registerFormatter(e,n){this.formatters.set(e.toLowerCase(),n)}async fillTemplate(e){return await rf(e,Ei,async(n,r,s)=>{let o=t.formatters.get(r.toLowerCase());if(!o)throw new Error(`Invalid token: ${r}`);try{return String(await o(this,s)??"")}catch(l){throw new Error(`Error formatting token \${${r}}`,{cause:l})}})}async getHeading(e){if(e||="any",!$v.includes(e))throw new Error(`Invalid heading level: ${e}`);return(await this.initHeadings()).get(e)??""}async initHeadings(){if(this.headingsInfo)return this.headingsInfo;if(this.headingsInfo=new Map,!this.cursorLine)return this.headingsInfo;let e=await Er(this.app,this.noteFilePath);if(!e?.headings)return this.headingsInfo;let n=new Map;for(let r of e.headings){if(r.position.start.line>this.cursorLine)continue;let s=String(r.level),o=n.get(s)??-1;r.position.start.line>o&&(this.headingsInfo.set(s,r.heading),n.set(s,r.position.start.line),r.position.start.line>(n.get("any")??-1)&&(n.set("any",r.position.start.line),this.headingsInfo.set("any",r.heading)))}return this.headingsInfo}async prompt(){if(this.noteFilePath===Ip)return"";let e=await _p({app:this.app,defaultValue:this.originalAttachmentFileName,title:"Provide a value for ${prompt} template",valueValidator:n=>Ci(this.app,n,!1,!0)});if(e===null)throw new Error("Prompt cancelled");return e}};async function Ci(t,e,n=!0,r=!1){if(n){let o=await Op(t,e);if(o)return o}else if(r&&e.match(Ei))return"Tokens are not allowed in file name";let s=jv(e);return s==="."||s===".."?"":s?_u.test(s)?`File name "${e}" contains invalid symbols`:Vv.test(s)?`File name "${e}" contains more than two dots`:Yv.test(s)?`File name "${e}" contains trailing dots`:"":"File name is empty"}async function co(t,e,n=!0){if(n){let s=await Op(t,e);if(s)return`Unknown token: ${s}`}else if(e.match(Ei))return"Tokens are not allowed in path";if(e=as(e,"/"),e=os(e,"/"),e==="")return"";let r=e.split("/");for(let s of r){let o=await Ci(t,s,!1,!1);if(o)return o}return""}function Gv(t){return t[Math.floor(Math.random()*t.length)]??""}function fo(t){let e=/^(?<Base>\w*?)(?<Parameter>\d*)$/.exec(t);if(!e)throw new Error(`Invalid format: ${t}`);let n=e.groups?.Base??"",r=e.groups?.Parameter,s=r?parseInt(r,10):void 0;return{base:n,parameter:s}}function jv(t){return pe(t,Ei,(e,n,r)=>`_${n}_${r}_`)}function Kv(t){return Bv(t,{lower:!0})}async function Op(t,e){let n=new it({app:t,noteFilePath:Ip}),r=e.matchAll(Ei);for(let s of r){let o=s.groups?.Token??"";if(!it.isRegisteredToken(o))return`Unknown token: ${o}`;let u=(s.groups?.Format??"").split(",");for(let f of u)try{await n.fillTemplate(`\${${o}:${f}}`)}catch{return`Token ${o} is used with unknown format '${f}'.`}}return null}async function vi(t,e,n,r){return await Zv(t,new it({app:t.app,attachmentFileSizeInBytes:r??0,noteFilePath:e,originalAttachmentFileName:n}))}async function ho(t,e){return await Dp(t,t.settings.generatedAttachmentFileName,e)}function Xv(t,e){return t.settings.specialCharacters&&(e=e.replace(t.settings.specialCharactersRegExp,t.settings.specialCharactersReplacement)),e}async function Zv(t,e){return await Dp(t,t.settings.attachmentFolderPath,e)}async function Dp(t,e,n){let r=await n.fillTemplate(e),s=await co(t.app,r,!1);if(s)throw new Error(`Resolved path ${r} is invalid: ${s}`);return t.settings.shouldRenameAttachmentsToLowerCase&&(r=r.toLowerCase()),r=Xv(t,r),(r.startsWith("./")||r.startsWith("../"))&&(r=Ee(n.noteFolderPath,r)),r=(0,Rp.normalizePath)(r),r}var Pr=require("obsidian");var Lp=/(?:)/,mo=/$./,Fr=(r=>(r.None="None",r.OnlyPastedImages="Only pasted images",r.All="All",r))(Fr||{}),Un=(o=>(o.Cancel="Cancel",o.Copy="Copy",o.Move="Move",o.Prompt="Prompt",o.Skip="Skip",o))(Un||{}),po=class{attachmentFolderPath="./assets/${noteFileName}";attachmentRenameMode="Only pasted images";collectAttachmentUsedByMultipleNotesMode="Skip";duplicateNameSeparator=" ";emptyAttachmentFolderBehavior=nt.DeleteWithEmptyParents;generatedAttachmentFileName="file-${date:YYYYMMDDHHmmssSSS}";jpegQuality=.8;markdownUrlFormat="";shouldConvertPastedImagesToJpeg=!1;shouldDeleteOrphanAttachments=!1;shouldRenameAttachmentFiles=!1;shouldRenameAttachmentFolder=!0;shouldRenameAttachmentsToLowerCase=!1;shouldRenameCollectedAttachments=!1;specialCharacters="#^[]|*\\<>:?";specialCharactersReplacement="-";treatAsAttachmentExtensions=[".excalidraw.md"];warningVersion="0.0.0";get customTokensStr(){return this._customTokensStr}set customTokensStr(e){this._customTokensStr=e,it.registerCustomFormatters(this._customTokensStr)}get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=Pu(this._excludePaths,mo)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=Pu(this._excludePathsFromAttachmentCollecting,mo)}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=Pu(this._includePaths,Lp)}get specialCharactersRegExp(){return new RegExp(`[${ss(this.specialCharacters)}]+`,"g")}_customTokensStr="";_excludePaths=[];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=mo;_excludePathsRegExp=mo;_includePaths=[];_includePathsRegExp=Lp;isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}};function Pu(t,e){if(t.length===0)return e;let n=t.map(r=>r.startsWith("/")&&r.endsWith("/")?r.slice(1,-1):`^${ss(r)}`).map(r=>`(${r})`).join("|");return new RegExp(n)}var Iu=class extends Pr.Modal{constructor(n,r,s,o){super(n);this.attachmentPath=r;this.backlinks=s;this.resolve=o}isSelected=!1;onClose(){this.isSelected||this.select("Cancel",!1)}onOpen(){super.onOpen(),new Pr.Setting(this.contentEl).setName("Collecting attachment used by multiple notes").setHeading(),this.contentEl.appendChild(createFragment(r=>{r.appendText("Attachment "),ee(r,this.attachmentPath),r.appendText(" is referenced by multiple notes."),r.createEl("ul",{},s=>{for(let o of this.backlinks)s.createEl("li",{},l=>[l.appendChild(createFragment(u=>{ee(u,o)}))])})}));let n=!1;new Pr.Setting(this.contentEl).setName("Should use the same action for other problematic attachments").addToggle(r=>{r.setValue(!1),r.onChange(s=>{n=s})}),new Pr.Setting(this.contentEl).addButton(r=>{r.setButtonText("Skip"),r.onClick(()=>{this.select("Skip",n)})}).addButton(r=>{r.setButtonText("Move"),r.onClick(()=>{this.select("Move",n)})}).addButton(r=>{r.setButtonText("Copy"),r.onClick(()=>{this.select("Copy",n)})}).addButton(r=>{r.setButtonText("Cancel"),r.onClick(()=>{this.select("Cancel",n)})})}select(n,r){this.isSelected=!0,this.resolve({mode:n,shouldUseSameActionForOtherProblematicAttachments:r}),this.close()}};function Mp(t,e,n){return new Promise(r=>{new Iu(t,e,n,r).open()})}async function Np(t,e,n){let r=t.app;if(n.isAborted)return;let s=new Cn.Notice(`Collecting attachments for ${e.path}`),o=new Map,l=rn(r,e);await Vs(r,e,async()=>{if(n.isAborted)return[];let u=await Er(r,e);if(!u)return[];let f=l?await Jv(r,e):bn(u),h=[];for(let m of f){if(n.isAborted)return h;let p=await Qv(t,m,e.path,e.path);if(!p)continue;if(t.settings.isExcludedFromAttachmentCollecting(p.oldAttachmentPath)){console.warn(`Skipping collecting attachment ${p.oldAttachmentPath} as it is excluded from attachment collecting.`);continue}let w=await ln(r,p.oldAttachmentPath);if(w.keys().length>1){let x=w.keys().sort((E,T)=>E.localeCompare(T)),F=x.map(E=>`- ${E}`).join(`
`);async function S(E){if(!p)return!1;switch(E){case"Cancel":return console.error(`Cancelling collecting attachments, as attachment ${p.oldAttachmentPath} is referenced by multiple notes.
${F}`),new Cn.Notice("Collecting attachments cancelled. See console for details."),n.isAborted=!0,!1;case"Copy":p.newAttachmentPath=await eh(r,p.oldAttachmentPath,p.newAttachmentPath);break;case"Move":await g();break;case"Prompt":{let{mode:T,shouldUseSameActionForOtherProblematicAttachments:P}=await Mp(r,p.oldAttachmentPath,x);return P&&(n.collectAttachmentUsedByMultipleNotesMode=T),S(T)}case"Skip":return console.warn(`Skipping collecting attachment ${p.oldAttachmentPath} as it is referenced by multiple notes.
${F}`),!1;default:throw new Error(`Unknown collect attachment used by multiple notes mode: ${t.settings.collectAttachmentUsedByMultipleNotesMode}`)}return!0}if(!await S(n.collectAttachmentUsedByMultipleNotesMode??t.settings.collectAttachmentUsedByMultipleNotesMode))continue}else await g();async function g(){p&&(p.newAttachmentPath=await Ms(r,p.oldAttachmentPath,p.newAttachmentPath),await js(r,xe(p.oldAttachmentPath)))}if(o.set(p.oldAttachmentPath,p.newAttachmentPath),!l){let x=fi({app:r,link:m,newSourcePathOrFile:e,newTargetPathOrFile:p.newAttachmentPath,oldTargetPathOrFile:p.oldAttachmentPath});h.push(xr(m,x))}}return h},t.settings.collectAttachmentUsedByMultipleNotesMode==="Prompt"?{timeoutInMilliseconds:Ya}:void 0),l&&await Ls(r,e,u=>{let f=JSON.parse(u);for(let h of f.nodes){if(h.type!=="file")continue;let m=o.get(h.file);m&&(h.file=m)}return lr(f)}),s.hide()}function Bp(t,e){let n=t.app.workspace.getActiveFile();return Hn(t,n)?(e||xn(t.app,()=>go(t,n?.parent??Zt(new Error("Parent folder not found")))),!0):!1}function $p(t,e){let n=t.app.workspace.getActiveFile();if(!n||!Hn(t,n))return!1;if(!e){if(t.settings.isPathIgnored(n.path))return new Cn.Notice("Note path is ignored"),console.warn(`Cannot collect attachments in the note as note path is ignored: ${n.path}.`),!0;xn(t.app,()=>Np(t,n,{}))}return!0}function Vp(t){xn(t.app,()=>go(t,t.app.vault.getRoot()))}async function go(t,e){if(!await Tp({app:t.app,message:createFragment(o=>{o.appendText("Do you want to collect attachments for all notes in folder: "),ee(o,e.path),o.appendText(" and all its subfolders?"),o.createEl("br"),o.appendText("This operation cannot be undone.")}),title:createFragment(o=>{(0,Cn.setIcon)(o.createSpan(),"lucide-alert-triangle"),o.appendText(" Collect attachments in folder")})}))return;t.consoleDebug(`Collect attachments in folder: ${e.path}`);let n=[];Cn.Vault.recurseChildren(e,o=>{Hn(t,o)&&n.push(o)}),n.sort((o,l)=>o.path.localeCompare(l.path));let r={},s=new AbortController;await Sp({abortSignal:AbortSignal.any([t.abortSignal,s.signal]),buildNoticeMessage:(o,l)=>`Collecting attachments ${l} - ${o.path}`,items:n,processItem:async o=>{if(t.settings.isPathIgnored(o.path)){console.warn(`Cannot collect attachments in the note as note path is ignored: ${o.path}.`);return}await Np(t,o,r),r.isAborted&&s.abort()},progressBarTitle:"Custom Attachment Location: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0})}function Hn(t,e){if(!e||!Xr(t.app,e))return!1;let n=ye(t.app,e);return t.settings.treatAsAttachmentExtensions.every(r=>!n.endsWith(r))}async function Jv(t,e){return(await t.vault.readJson(e.path)).nodes.filter(s=>s.type==="file").map(s=>s.file).map(s=>({link:s,original:s,position:{end:{col:0,line:0,loc:0,offset:0},start:{col:0,line:0,loc:0,offset:0}}}))}async function Qv(t,e,n,r){let s=t.app,o=Cr(s,e,r);if(!o)return console.warn(`Skipping collecting attachment ${e.link} as it could not be resolved.`),null;if(Hn(t,o))return console.warn(`Skipping collecting attachment ${o.path} as it is a note.`),null;let l=o.path,u=o.name,f=ke(r,Fe(r)),h=ke(n,Fe(n)),m;t.settings.shouldRenameCollectedAttachments?m=Lt(await ho(t,new it({app:t.app,attachmentFileSizeInBytes:o.stat.size,noteFilePath:n,originalAttachmentFileName:o.name})),o.extension):t.settings.shouldRenameAttachmentFiles?m=u.replaceAll(f,h):m=u;let p=await vi(t,n,m),w=Ee(p,m);return l===w?(console.warn(`Skipping collecting attachment ${o.path} as it is already in the destination folder.`),null):{newAttachmentPath:w,oldAttachmentPath:l}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var vn=class{getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:r,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,u)=>this.transformValueRecursively(l,u.toString()));let s=e;if(s.__transformerId)return this.getTransformer(s.__transformerId).restoreValue(s.transformedValue,n);let o={};for(let l of ar(e)){let u=e[l],f=this.transformValueRecursively(u,l);o[l]=f}return o}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var At=class extends vn{};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var wo=class extends At{get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var Yp=Be(Xt(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var yo=class extends At{get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,Yp.duration)(e)}transformValue(e){return e.toISOString()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var bo=class extends vn{constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??Zt(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ko=class extends At{get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ao=class extends At{get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var e2="_",xo=class extends vn{get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(e2)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Si=class{keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Eo=class extends At{get id(){return"two-way-map"}canTransform(e){return e instanceof Si}restoreValue(e){return new Si(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var t2=new bo([new xo,new wo,new yo,new ko,new Ao,new Eo]),Co=class extends It{constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=ar(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,s=await this.rawRecordToSettings(r),o=await this.validate(s);for(let u of this.propertyNames)this.setPropertyImpl(u,s[u],o[u]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);pt(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async saveToFile(e){pt(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,s]of this.validators.entries()){let o=await s(e[r],e);o&&(n[r]=o)}return n}getTransformer(){return t2}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Ot()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(s);function s(o){let l=new Set(Object.keys(new e)),u=new Set(r.propertyNames),f=o;n(f);for(let h of Object.keys(f))u.has(h)||l.has(h)&&delete o[h]}}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),s=JSON.parse(r);return await this.rawRecordToSettings(s)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let s=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=s,this.currentSettingsWrapper.safeSettings[r]=s?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,s]of Object.entries(e)){if(!this.isValidPropertyName(r)){console.warn(`Unknown property: ${r}`);continue}typeof s!=typeof this.defaultSettings[r]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:s}),n[r]=s}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Ou=class{autoRenameFiles=!1;autoRenameFolder=!0;convertImagesOnDragAndDrop=!1;convertImagesToJpeg=!1;dateTimeFormat="";deleteOrphanAttachments=!1;generatedAttachmentFilename="";keepEmptyAttachmentFolders=!1;pastedFileName="file-${date:YYYYMMDDHHmmssSSS}";pastedImageFileName="";renameAttachmentsOnDragAndDrop=!1;renameCollectedFiles=!1;renameOnlyImages=!1;renamePastedFilesWithKnownNames=!1;replaceWhitespace=!1;shouldDuplicateCollectedAttachments=!1;shouldKeepEmptyAttachmentFolders=!1;toLowerCase=!1;whitespaceReplacement=""},vo=class extends Co{createDefaultSettings(){return new po}registerLegacySettingsConverters(){this.registerLegacySettingsConverter(Ou,e=>{let n=e.dateTimeFormat??"YYYYMMDDHHmmssSSS";e.attachmentFolderPath=Wp(e.attachmentFolderPath??"",n),e.generatedAttachmentFileName=Wp(e.generatedAttachmentFileName??e.generatedAttachmentFilename??e.pastedFileName??e.pastedImageFileName??"file-${date}",n),e.replaceWhitespace!==void 0&&(e.whitespaceReplacement=e.replaceWhitespace?"-":""),e.autoRenameFiles!==void 0&&(e.shouldRenameAttachmentFiles=e.autoRenameFiles),e.autoRenameFolder!==void 0&&(e.shouldRenameAttachmentFolder=e.autoRenameFolder),e.deleteOrphanAttachments!==void 0&&(e.shouldDeleteOrphanAttachments=e.deleteOrphanAttachments),e.keepEmptyAttachmentFolders!==void 0&&(e.shouldKeepEmptyAttachmentFolders=e.keepEmptyAttachmentFolders),e.renameCollectedFiles!==void 0&&(e.shouldRenameCollectedAttachments=e.renameCollectedFiles),e.toLowerCase!==void 0&&(e.shouldRenameAttachmentsToLowerCase=e.toLowerCase),e.convertImagesToJpeg!==void 0&&(e.shouldConvertPastedImagesToJpeg=e.convertImagesToJpeg),e.whitespaceReplacement&&(e.specialCharacters=`${e.specialCharacters??""} `,e.specialCharactersReplacement=e.whitespaceReplacement),e.shouldKeepEmptyAttachmentFolders!==void 0&&(e.emptyAttachmentFolderBehavior=e.shouldKeepEmptyAttachmentFolders?nt.Keep:nt.DeleteWithEmptyParents),e.attachmentFolderPath=this.replaceLegacyTokens(e.attachmentFolderPath),e.generatedAttachmentFileName=this.replaceLegacyTokens(e.generatedAttachmentFileName),e.markdownUrlFormat=this.replaceLegacyTokens(e.markdownUrlFormat),e.customTokensStr=this.replaceLegacyTokens(e.customTokensStr??""),e.collectAttachmentUsedByMultipleNotesMode===void 0&&e.shouldDuplicateCollectedAttachments!==void 0&&(e.collectAttachmentUsedByMultipleNotesMode=e.shouldDuplicateCollectedAttachments?"Copy":"Skip")})}registerValidators(){this.registerValidator("attachmentFolderPath",async e=>await co(this.app,e)),this.registerValidator("generatedAttachmentFileName",e=>Ci(this.app,e)),this.registerValidator("specialCharacters",e=>{if(e.includes("/"))return"Special characters must not contain /"}),this.registerValidator("specialCharactersReplacement",e=>{if(_u.exec(e))return"Special character replacement must not contain invalid file name path characters."}),this.registerValidator("duplicateNameSeparator",async e=>await Ci(this.app,`foo${e}1`,!1)),this.registerValidator("includePaths",e=>zp(e)),this.registerValidator("excludePaths",e=>zp(e)),this.registerValidator("customTokensStr",e=>{n2(e)})}replaceLegacyTokens(e){if(e===void 0)return"";let n={fileCreationDate:"noteFileCreationDate",fileModificationDate:"noteFileModificationDate",fileName:"noteFileName",filePath:"noteFilePath",folderName:"noteFolderName",folderPath:"noteFolderPath",originalCopiedFileExtension:"originalAttachmentFileExtension",originalCopiedFileName:"originalAttachmentFileName",randomDigit:"random:D",randomDigitOrLetter:"random:DL",randomLetter:"random:L",uuid:"random:uuid"};for(let[r,s]of Object.entries(n))e=pe(e,new RegExp(`\\\${${r}(?<Suffix>[:}])`,"i"),`\${${s}$<Suffix>`),e=pe(e,`substitutions.${r}`,`substitutions.${s}`);return e}};function Wp(t,e){return t.replaceAll("${date}",`\${date:${e}}`)}function n2(t){if(Fu(t)===null)return"Invalid custom tokens code"}function zp(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!tf(n))return`Invalid regular expression ${e}`}}var ng=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function So(t,e){let n=Object.keys(t).find(r=>t[r]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}function To(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}var qn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function _o(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(B.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();ce(r,B.SettingComponentWrapper);for(let s of n)r.appendChild(s);return e.appendChild(r),r}var Up=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ru=class{constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function Hp(t){return r2(t)?t:t instanceof Up.AbstractTextComponent?new Ru(t):null}function r2(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}var Ye=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Fo=class{constructor(e){this.el=e;let n=_o(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),ce(this._validatorEl,B.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},Sn=class{constructor(e){this.validatorEl=e}};function qp(t){return i2(t)?t:t instanceof Ye.ColorComponent?new Sn(t.colorPickerEl):t instanceof Ye.DropdownComponent?new Sn(t.selectEl):t instanceof Ye.ProgressBarComponent?new Fo(t.progressBar):t instanceof Ye.SearchComponent?new Sn(t.inputEl):t instanceof Ye.SliderComponent?new Sn(t.sliderEl):t instanceof Ye.TextAreaComponent?new Sn(t.inputEl):t instanceof Ye.TextComponent?new Sn(t.inputEl):t instanceof Ye.ToggleComponent?new Fo(t.toggleEl):null}function i2(t){return!!t.validatorEl}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Gp(t){return t.validationMessage!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Du="PluginSettingsTab",Po=class extends qn.PluginSettingTab{constructor(e){super(e.app,e),this.plugin=e,ce(this.containerEl,B.PluginSettingsTab),this.saveSettingsDebounced=(0,qn.debounce)(ot(()=>this.plugin.settingsManager.saveToFile(Du)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new Us,this.asyncEvents=new It}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let o={...{componentToPluginSettingsValueConverter:T=>T,onChanged:Jt,pluginSettingsToComponentValueConverter:T=>T,shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},l=qp(e)?.validatorEl,u=Hp(e),f=this.pluginSettings[n],h=this.plugin.settingsManager.defaultSettings[n];u?.setPlaceholderValue(o.pluginSettingsToComponentValueConverter(h));let m,p=null,w=null;if(l){let T=_o(l);p=T.createDiv(),ce(p,B.Tooltip,B.TooltipValidator),w=p.createSpan();let P=p.createDiv();ce(P,B.TooltipArrow),p.hide(),T.appendChild(p)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(T,P)=>{n===T&&(m=P,S())}));let g=!1;u&&o.shouldShowPlaceholderForDefaultValues&&pt(f,h)?u.empty():e.setValue(o.pluginSettingsToComponentValueConverter(f));let x=!1,S=(0,qn.debounce)(()=>{requestAnimationFrame(()=>{E()})},100);return e.onChange(async T=>{if(x){x=!1;return}g=!1;let P=this.pluginSettings[n],W,z=!0;if(u?.isEmpty()&&o.shouldResetSettingWhenComponentIsEmpty)W=h;else{let v=o.componentToPluginSettingsValueConverter(T);Gp(v)?(m=v.validationMessage,z=!1):W=v}z&&(m=await this.plugin.settingsManager.setProperty(n,W),u&&o.shouldShowPlaceholderForDefaultValues&&!u.isEmpty()&&pt(W,h)&&(g=!0)),S(),W!==void 0&&await o.onChanged(W,P),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{S()}),l?.addEventListener("blur",()=>{S()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{S()})}),m=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",S(),e;function E(){g&&!l?.isActiveElement()&&(g=!1,u?.isEmpty()||(x=!0,u?.empty())),l&&(m===""&&(l.setCustomValidity(""),l.checkValidity(),m=l.validationMessage),l.setCustomValidity(m),o.shouldShowValidationMessage?(w&&(w.textContent=m),p?.toggle(!!m)):m&&(0,qn.setTooltip)(l,m))}}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),et(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(Du)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Ot()}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===Du){for(let[s,o]of Object.entries(e.validationMessages))await this.asyncEvents.triggerAsync("validationMessageChanged",s,o);return}this.display()}};var tg=require("obsidian");var jp=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Io=class extends jp.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),ce(e,B.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var Ir=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Oo=class extends Ir.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),ce(e,B.CodeHighlighterComponent);let n=e.createDiv();ce(n,B.SettingComponentWrapper),this.textAreaComponent=new Ir.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",ot(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let s of Array.from(r.classList))s.startsWith(n)&&r.classList.remove(s);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,et(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),et(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),r=this.inputEl.selectionStart,s=this.inputEl.selectionEnd,o=n.slice(0,r),l=n.slice(s),u=" ".repeat(this.tabSize),f=o;e.shiftKey?o.endsWith(u)&&(f=o.slice(0,-this.tabSize)):f=o+u;let h=`${f}${l}`;this.setValue(h),this.inputEl.selectionStart=f.length,this.inputEl.selectionEnd=f.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,Ir.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(B.IsPlaceholder,this.isEmpty())}};var Lu=Be(Xt(),1);var Ro=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Oe=class extends Ro.ValueComponent{inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new Ro.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,ce(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var st=class extends Oe{setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=e.toString(),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Kp="YYYY-MM-DD",Do=class extends st{constructor(e){super(e,"date",B.DateComponent)}valueFromString(e){return(0,Lu.default)(e,Kp).toDate()}valueToString(e){return(0,Lu.default)(e).format(Kp)}};var Mu=Be(Xt(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Xp="YYYY-MM-DDTHH:mm",Lo=class extends st{constructor(e){super(e,"datetime-local",B.DateTimeComponent)}valueFromString(e){return(0,Mu.default)(e,Xp).toDate()}valueToString(e){return(0,Mu.default)(e).format(Xp)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Mo=class extends Oe{constructor(e){super(e,"email",B.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var No=class extends Oe{constructor(e){super(e,"file",B.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var Nu=Be(Xt(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Zp="YYYY-MM",Bo=class extends st{constructor(e){super(e,"month",B.MonthComponent)}valueFromString(e){let n=(0,Nu.default)(e,Zp);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,Nu.default)().year(e.year).month(e.month-1).format(Zp)}};var $o=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Or=class extends $o.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new $o.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,ce(e,B.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Vo=class extends Oe{constructor(e){super(e,"email",B.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Yo=class extends Oe{constructor(e){super(e,"file",B.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var zo=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Wo=class extends zo.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new zo.TextAreaComponent(e),ce(e,B.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Uo=class extends st{constructor(e){super(e,"number",B.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ho=class extends Oe{constructor(e){super(e,"password",B.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qo=class extends Oe{constructor(e){super(e,"tel",B.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var jo=Be(Xt(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Go=class extends st{constructor(e){super(e,"time",B.TimeComponent)}valueFromString(e){return(0,jo.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,jo.utc)(e.asMilliseconds()).format(n)}};var Jp=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ko=class extends Jp.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),ce(e,B.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var Zo=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Xo=class extends Zo.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new Zo.DropdownComponent(e),ce(e,B.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(r.toString(),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Qp=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Jo=class extends Qp.ValueComponent{get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new Or(e),ce(e,B.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(r.toString(),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>r.toString())),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Qo=class extends Oe{constructor(e){super(e,"url",B.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Bu=Be(Xt(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var eg="YYYY-[W]WW",ea=class extends st{constructor(e){super(e,"week",B.WeekComponent)}valueFromString(e){let n=(0,Bu.default)(e,eg);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,Bu.default)().year(e.year).isoWeek(e.weekNumber).format(eg)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ge=class extends tg.Setting{addCheckbox(e){return this.addComponent(Io,e)}addCodeHighlighter(e){return this.addComponent(Oo,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent(Do,e)}addDateTime(e){return this.addComponent(Lo,e)}addEmail(e){return this.addComponent(Mo,e)}addFile(e){return this.addComponent(No,e)}addMonth(e){return this.addComponent(Bo,e)}addMultipleDropdown(e){return this.addComponent(Or,e)}addMultipleEmail(e){return this.addComponent(Vo,e)}addMultipleFile(e){return this.addComponent(Yo,e)}addMultipleText(e){return this.addComponent(Wo,e)}addNumber(e){return this.addComponent(Uo,e)}addPassword(e){return this.addComponent(Ho,e)}addTelephone(e){return this.addComponent(qo,e)}addTime(e){return this.addComponent(Go,e)}addTriStateCheckbox(e){return this.addComponent(Ko,e)}addTypedDropdown(e){return this.addComponent(Xo,e)}addTypedMultipleDropdown(e){return this.addComponent(Jo,e)}addUrl(e){return this.addComponent(Qo,e)}addWeek(e){return this.addComponent(ea,e)}};var na=require("obsidian");var Rr="custom-attachment-location-tokenized-string",ta=class extends na.Component{onload(){super.onload(),et(this.initPrism.bind(this))}async initPrism(){let e=await(0,na.loadPrism)();e.languages[Rr]={expression:{greedy:!0,inside:{format:{alias:"number",pattern:/[a-zA-Z0-9_]+/},formatDelimiter:{alias:"regex",pattern:/:/},prefix:{alias:"regex",pattern:/[${}]/},token:{alias:"string",pattern:/^[a-zA-Z0-9_,]+/}},pattern:/\${[a-zA-Z0-9_]+(?::[a-zA-Z0-9_,]*)?}/},important:{pattern:/^\./},operator:{alias:"entity",pattern:/\//}},this.register(()=>{delete e.languages[Rr]})}};var ra="\u2423",ia=class extends Po{display(){super.display(),this.containerEl.empty();let e={componentToPluginSettingsValueConverter(n){return(0,ng.normalizePath)(n.trimEnd())},pluginSettingsToComponentValueConverter(n){return n.trimEnd()}};new ge(this.containerEl).setName("Location for new attachments").setDesc(createFragment(n=>{n.appendText("Start with "),ee(n,"."),n.appendText(" to use relative path."),n.createEl("br"),n.appendText("See available "),n.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"}),n.createEl("br"),n.appendText("Dot-folders like "),ee(n,".attachments"),n.appendText(" are not recommended, because Obsidian doesn't track them. You might need to use "),n.createEl("a",{href:"https://github.com/polyipseity/obsidian-show-hidden-files/",text:"Show Hidden Files"}),n.appendText(" Plugin to manage them.")})).addCodeHighlighter(n=>{n.setLanguage(Rr),n.inputEl.addClass("tokenized-string-setting-control"),this.bind(n,"attachmentFolderPath",e)}),new ge(this.containerEl).setName("Generated attachment file name").setDesc(createFragment(n=>{n.appendText("See available "),n.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"})})).addCodeHighlighter(n=>{n.setLanguage(Rr),n.inputEl.addClass("tokenized-string-setting-control"),this.bind(n,"generatedAttachmentFileName",e)}),new ge(this.containerEl).setName("Markdown URL format").setDesc(createFragment(n=>{n.appendText("Format for the URL that will be inserted into Markdown."),n.createEl("br"),n.appendText("See available "),n.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"}),n.createEl("br"),n.appendText("Leave blank to use the default format.")})).addCodeHighlighter(n=>{n.setLanguage(Rr),n.inputEl.addClass("tokenized-string-setting-control"),this.bind(n,"markdownUrlFormat",e)}),new ge(this.containerEl).setName("Attachment rename mode").setDesc(createFragment(n=>{n.appendText("When attaching files:"),n.createEl("br"),ee(n,"None"),n.appendText(" - their names are preserved."),n.createEl("br"),ee(n,"Only pasted images"),n.appendText(" - only pasted images are renamed."),n.createEl("br"),ee(n,"All"),n.appendText(" - all files are renamed.")})).addDropdown(n=>{n.addOptions(Fr),this.bind(n,"attachmentRenameMode",{componentToPluginSettingsValueConverter:r=>To(Fr,r),pluginSettingsToComponentValueConverter:r=>So(Fr,r)})}),new ge(this.containerEl).setName("Should rename attachment folder").setDesc(createFragment(n=>{n.appendText("When renaming md files, automatically rename attachment folder if folder name contains "),ee(n,"${noteFileName}"),n.appendText(".")})).addToggle(n=>{this.bind(n,"shouldRenameAttachmentFolder")}),new ge(this.containerEl).setName("Should rename attachment files").setDesc(createFragment(n=>{n.appendText("When renaming md files, automatically rename attachment files if file name contains "),ee(n,"${noteFileName}"),n.appendText(".")})).addToggle(n=>{this.bind(n,"shouldRenameAttachmentFiles")}),new ge(this.containerEl).setName("Special characters").setDesc(createFragment(n=>{n.appendText("Special characters in attachment folder and file name to be replaced or removed."),n.createEl("br"),n.appendText("Leave blank to preserve special characters.")})).addText(n=>{this.bind(n,"specialCharacters",{componentToPluginSettingsValueConverter:r=>r.replaceAll(ra,""),pluginSettingsToComponentValueConverter:r=>r.replaceAll(" ",ra),shouldResetSettingWhenComponentIsEmpty:!1}),n.inputEl.addEventListener("input",()=>{n.inputEl.value=$u(n.inputEl.value)})}),new ge(this.containerEl).setName("Special characters replacement").setDesc(createFragment(n=>{n.appendText("Replacement string for special characters in attachment folder and file name."),n.createEl("br"),n.appendText("Leave blank to remove special characters.")})).addText(n=>{this.bind(n,"specialCharactersReplacement",{shouldResetSettingWhenComponentIsEmpty:!1})}),new ge(this.containerEl).setName("Should rename attachments to lowercase").setDesc("Automatically set all characters in folder name and pasted image name to be lowercase.").addToggle(n=>{this.bind(n,"shouldRenameAttachmentsToLowerCase")}),new ge(this.containerEl).setName("Should convert pasted images to JPEG").setDesc("Paste images from clipboard converting them to JPEG.").addToggle(n=>{this.bind(n,"shouldConvertPastedImagesToJpeg")}),new ge(this.containerEl).setName("JPEG Quality").setDesc("The smaller the quality, the greater the compression ratio.").addDropdown(n=>{n.addOptions(s2()),this.bind(n,"jpegQuality",{componentToPluginSettingsValueConverter:r=>Number(r),pluginSettingsToComponentValueConverter:r=>r.toString()})}),new ge(this.containerEl).setName("Should rename collected attachments").setDesc(createFragment(n=>{n.appendText("If enabled, attachments processed via "),ee(n,"Collect attachments"),n.appendText(" commands will be renamed according to the "),ee(n,"Pasted File Name"),n.appendText(" setting.")})).addToggle(n=>{this.bind(n,"shouldRenameCollectedAttachments")}),new ge(this.containerEl).setName("Collect attachment used by multiple notes mode").setDesc(createFragment(n=>{n.appendText("When the collected attachment is used by multiple notes:"),n.createEl("br"),ee(n,"Skip"),n.appendText(" - skip the attachment and proceed to the next one."),n.createEl("br"),ee(n,"Move"),n.appendText(" - move the attachment to the new location."),n.createEl("br"),ee(n,"Copy"),n.appendText(" - copy the attachment to the new location."),n.createEl("br"),ee(n,"Cancel"),n.appendText(" - cancel the attachment collecting."),n.createEl("br"),ee(n,"Prompt"),n.appendText(" - prompt the user to select the action.")})).addDropdown(n=>{n.addOptions({Skip:"Skip",Move:"Move",Copy:"Copy",Cancel:"Cancel",Prompt:"Prompt"}),this.bind(n,"collectAttachmentUsedByMultipleNotesMode",{componentToPluginSettingsValueConverter:r=>To(Un,r),pluginSettingsToComponentValueConverter:r=>So(Un,r)})}),new ge(this.containerEl).setName("Duplicate name separator").setDesc(createFragment(n=>{n.appendText("When you are pasting/dragging a file with the same name as an existing file, this separator will be added to the file name."),n.createEl("br"),n.appendText("E.g., when you are dragging file "),ee(n,"existingFile.pdf"),n.appendText(", it will be renamed to "),ee(n,"existingFile 1.pdf"),n.appendText(", "),ee(n,"existingFile 2.pdf"),n.appendText(", etc, getting the first name available.")})).addText(n=>{this.bind(n,"duplicateNameSeparator",{componentToPluginSettingsValueConverter:r=>r.replaceAll(ra," "),pluginSettingsToComponentValueConverter:$u}),n.inputEl.addEventListener("input",()=>{n.inputEl.value=$u(n.inputEl.value)})}),new ge(this.containerEl).setName("Empty attachment folder behavior").setDesc(createFragment(n=>{n.appendText("When the attachment folder becomes empty:"),n.createEl("br"),ee(n,"Keep"),n.appendText(" - will keep the empty attachment folder."),n.createEl("br"),ee(n,"Delete"),n.appendText(" - will delete the empty attachment folder."),n.createEl("br"),ee(n,"Delete with empty parents"),n.appendText(" - will delete the empty attachment folder and its empty parent folders.")})).addDropdown(n=>{n.addOptions({[nt.Keep]:"Keep",[nt.Delete]:"Delete",[nt.DeleteWithEmptyParents]:"Delete with empty parents"}),this.bind(n,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:r=>To(nt,r),pluginSettingsToComponentValueConverter:r=>So(nt,r)})}),new ge(this.containerEl).setName("Should delete orphan attachments").setDesc("If enabled, when the note is deleted, its orphan attachments are deleted as well.").addToggle(n=>{this.bind(n,"shouldDeleteOrphanAttachments")}),new ge(this.containerEl).setName("Include paths").setDesc(createFragment(n=>{n.appendText("Include notes from the following paths."),n.createEl("br"),n.appendText("Insert each path on a new line."),n.createEl("br"),n.appendText("You can use path string or "),ee(n,"/regular expression/."),n.createEl("br"),n.appendText("If the setting is empty, all notes are included.")})).addMultipleText(n=>{this.bind(n,"includePaths")}),new ge(this.containerEl).setName("Exclude paths").setDesc(createFragment(n=>{n.appendText("Exclude notes from the following paths."),n.createEl("br"),n.appendText("Insert each path on a new line."),n.createEl("br"),n.appendText("You can use path string or "),ee(n,"/regular expression/."),n.createEl("br"),n.appendText("If the setting is empty, no notes are excluded.")})).addMultipleText(n=>{this.bind(n,"excludePaths")}),new ge(this.containerEl).setName("Exclude paths from attachment collecting").setDesc(createFragment(n=>{n.appendText("Exclude attachments from the following paths when "),ee(n,"Collect attachments"),n.appendText(" command is executed."),n.createEl("br"),n.appendText("Insert each path on a new line."),n.createEl("br"),n.appendText("You can use path string or "),ee(n,"/regular expression/."),n.createEl("br"),n.appendText("If the setting is empty, no paths are excluded from attachment collecting.")})).addMultipleText(n=>{this.bind(n,"excludePathsFromAttachmentCollecting")}),new ge(this.containerEl).setName("Custom tokens").setDesc(createFragment(n=>{n.appendText("Custom tokens to be used in the attachment folder path and pasted file name."),n.createEl("br"),n.appendText("See "),n.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:"documentation"}),n.appendText(" for more information.")})).addCodeHighlighter(n=>{n.setLanguage("javascript"),n.inputEl.addClass("custom-tokens-setting-control"),this.bind(n,"customTokensStr"),n.setPlaceholder(`exports.myCustomToken1 = (substitutions, format) => {
  return substitutions.fileName + substitutions.app.appId + format;
};

exports.myCustomToken2 = async (substitutions, format) => {
  return await Promise.resolve(
    substitutions.fileName + substitutions.app.appId + format
  );
};`)}),new ge(this.containerEl).setName("Treat as attachment extensions").setDesc(createFragment(n=>{n.appendText("Treat files with these extensions as attachments."),n.createEl("br"),n.appendText("By default, "),ee(n,".md"),n.appendText(", "),ee(n,".canvas"),n.appendText(" and "),ee(n,".base"),n.appendText(" linked files are not treated as attachments and are not moved with the note."),n.createEl("br"),n.appendText("You can add custom extensions, e.g. "),ee(n,".foo.md"),n.appendText(", "),ee(n,".bar.canvas"),n.appendText(", "),ee(n,".baz.base"),n.appendText(", to override this behavior.")})).addMultipleText(n=>{this.bind(n,"treatAsAttachmentExtensions")})}};function s2(){let e={};for(let n=1;n<=10;n++){let r=(n/10).toFixed(1);e[r]=r}return e}function $u(t){return t.replaceAll(" ",ra)}var o2=/Pasted image (?<Timestamp>\d{14})/,a2="YYYYMMDDHHmmss",l2=10,sa=class extends qs{currentAttachmentFolderPath=null;getAvailablePathForAttachmentsOriginal=null;lastOpenFilePath=null;pathMarkdownUrlMap=new Map;createSettingsManager(){return new vo(this)}createSettingsTab(){return new ia(this)}async onLayoutReady(){await super.onLayoutReady(),An(this,this.app.vault,{getAvailablePath:()=>this.getAvailablePath.bind(this),getAvailablePathForAttachments:e=>{this.getAvailablePathForAttachmentsOriginal=e.bind(this.app.vault);let n={isExtended:!0};return Object.assign(this.getAvailablePathForAttachments.bind(this),n)},getConfig:e=>n=>this.getConfig(e,n)}),Vu.webUtils&&An(this,Vu.webUtils,{getPathForFile:e=>n=>this.getPathForFile(n,e)}),An(this,this.app.fileManager,{generateMarkdownLink:e=>(n,r,s,o)=>this.generateMarkdownLink(e,n,r,s,o)}),An(this,of(this.app.shareReceiver),{importFiles:e=>n=>this.importFiles(e,n)}),(0,ig.compare)(this.settings.warningVersion,"8.1.0")<0&&(await xh({app:this.app,message:createFragment(e=>{e.appendText("In plugin version 8.1.0, some token names changed. Please update your tokens accordingly. Refer to the "),e.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"documentation"}),e.appendText(" for more information.")})}),await this.settingsManager.editAndSave(e=>{e.warningVersion=this.manifest.version}))}async onloadImpl(){await super.onloadImpl(),Oh(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:n=>Hn(this,n),isPathIgnored:n=>this.settings.isPathIgnored(n),shouldHandleDeletions:this.settings.shouldDeleteOrphanAttachments,shouldHandleRenames:!0,shouldRenameAttachmentFiles:this.settings.shouldRenameAttachmentFiles,shouldRenameAttachmentFolder:this.settings.shouldRenameAttachmentFolder,shouldUpdateFileNameAliases:!0})),this.addCommand({checkCallback:e=>$p(this,e),id:"collect-attachments-current-note",name:"Collect attachments in current note"}),this.addCommand({checkCallback:e=>Bp(this,e),id:"collect-attachments-current-folder",name:"Collect attachments in current folder"}),this.addCommand({callback:()=>{Vp(this)},id:"collect-attachments-entire-vault",name:"Collect attachments in entire vault"}),this.registerEvent(this.app.workspace.on("file-menu",this.handleFileMenu.bind(this))),An(this,this.app,{saveAttachment:()=>(e,n,r)=>this.saveAttachment(e,n,r)}),this.addChild(new ta),this.registerEvent(this.app.workspace.on("file-open",ot(this.handleFileOpen.bind(this)))),this.registerEvent(this.app.vault.on("rename",ot(this.handleRename.bind(this))))}generateMarkdownLink(e,n,r,s,o){let l=e.call(this.app.fileManager,n,r,s,o);if(!this.settings.markdownUrlFormat)return l;let u=this.pathMarkdownUrlMap.get(n.path);return u?(Ws(l)&&(l=Jl({app:this.app,isWikilink:!1,originalLink:l,sourcePathOrFile:r,targetPathOrFile:n})),Ql(l)?l.replace(/\]\(<.+?>\)/,`](<${u}>)`):l.replace(/\]\(.+?\)/,`](${ui(u)})`)):l}getAvailablePath(e,n){let r=0;for(;;){let s=Lt(r===0?e:`${e}${this.settings.duplicateNameSeparator}${r.toString()}`,n);if(!Ln(this.app,s,!0))return s;r++}}async getAvailablePathForAttachments(e,n,r,s,o){if(r&&this.settings.isPathIgnored(r.path)&&this.getAvailablePathForAttachmentsOriginal)return this.getAvailablePathForAttachmentsOriginal(e,n,r);let l;if(!r||!Hn(this,r))l=await Ka(this.app,e,n,r,!0);else{let u=await vi(this,r.path,Lt(e,n),o);l=this.app.vault.getAvailablePath(Ee(u,e),n)}if(!s){let u=gt(l);await this.app.vault.exists(u)||(await Ds(this.app,u),this.settings.emptyAttachmentFolderBehavior===nt.Keep&&await this.app.vault.create(Ee(u,".gitkeep"),""))}return l}getConfig(e,n){return n!=="attachmentFolderPath"||this.currentAttachmentFolderPath===null?e.call(this.app.vault,n):this.currentAttachmentFolderPath}getPathForFile(e,n){let r=e;return r.path?r.path:n(e)}handleFileMenu(e,n){n instanceof rg.TFolder&&e.addItem(r=>{r.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>go(this,n))})}async handleFileOpen(e){if(e===null||this.settings.isPathIgnored(e.path)){this.currentAttachmentFolderPath=null,this.lastOpenFilePath=null;return}e.path!==this.lastOpenFilePath&&(this.lastOpenFilePath=e.path,this.currentAttachmentFolderPath=await vi(this,e.path,"dummy.pdf"))}async handleRename(){await this.handleFileOpen(this.app.workspace.getActiveFile())}async importFiles(e,n){for(let r of n){let s=window.Capacitor.convertFileSrc(r.uri),l=await(await fetch(s)).arrayBuffer(),u=new it({app:this.app,attachmentFileSizeInBytes:l.byteLength,noteFilePath:this.app.workspace.getActiveFile()?.path??"",originalAttachmentFileName:r.name}),f=await u.fillTemplate(this.settings.generatedAttachmentFileName);r.name=Lt(f,u.originalAttachmentFileExtension)}return e.call(this.app.shareReceiver,n)}async saveAttachment(e,n,r){let s=this.app.workspace.getActiveFile();if(!s||this.settings.isPathIgnored(s.path))return await this.saveAttachmentCore(e,n,r);let o=!1,l=o2.exec(e);if(l){let h=l.groups?.Timestamp;if(h){let m=(0,Yu.default)(h,a2);m.isValid()&&(0,Yu.default)().diff(m,"seconds")<l2&&(o=!0)}}o&&n==="png"&&this.settings.shouldConvertPastedImagesToJpeg&&(n="jpg",r=await ef(new Blob([r],{type:"image/png"}),this.settings.jpegQuality));let u=!1;switch(this.settings.attachmentRenameMode){case"All":u=!0;break;case"None":break;case"Only pasted images":u=o;break;default:throw new Error("Invalid attachment rename mode")}u&&(e=await ho(this,new it({app:this.app,attachmentFileSizeInBytes:r.byteLength,noteFilePath:s.path,originalAttachmentFileName:Lt(e,n)})));let f=await this.saveAttachmentCore(e,n,r);if(this.settings.markdownUrlFormat){let h=await new it({app:this.app,attachmentFileSizeInBytes:r.byteLength,generatedAttachmentFileName:f.name,generatedAttachmentFilePath:f.path,noteFilePath:s.path,originalAttachmentFileName:Lt(e,n)}).fillTemplate(this.settings.markdownUrlFormat);this.pathMarkdownUrlMap.set(f.path,h)}else this.pathMarkdownUrlMap.delete(f.path);return f}async saveAttachmentCore(e,n,r){let s=this.app.workspace.getActiveFile(),o=await this.getAvailablePathForAttachments(e,n,s,!1,r.byteLength);return await this.app.vault.createBinary(o,r)}};var u2=sa;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
