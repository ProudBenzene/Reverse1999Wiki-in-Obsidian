"use strict";var A4=Object.defineProperty;var F4=(e,t,n)=>t in e?A4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var De=(e,t,n)=>(F4(e,typeof t!="symbol"?t+"":t,n),n);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const C=require("obsidian"),sw=require("@codemirror/language"),pm=require("@codemirror/state"),al=require("@codemirror/view");var zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hI={exports:{}},Yp={},pI={exports:{}},ln={},jS;function O4(){if(jS)return ln;jS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(J){return J===null||typeof J!="object"?null:(J=g&&J[g]||J["@@iterator"],typeof J=="function"?J:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,T={};function I(J,ee,fe){this.props=J,this.context=ee,this.refs=T,this.updater=fe||b}I.prototype.isReactComponent={},I.prototype.setState=function(J,ee){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,ee,"setState")},I.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function O(){}O.prototype=I.prototype;function N(J,ee,fe){this.props=J,this.context=ee,this.refs=T,this.updater=fe||b}var B=N.prototype=new O;B.constructor=N,D(B,I.prototype),B.isPureReactComponent=!0;var P=Array.isArray,U=Object.prototype.hasOwnProperty,L={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function V(J,ee,fe){var xe,je={},Ve=null,Re=null;if(ee!=null)for(xe in ee.ref!==void 0&&(Re=ee.ref),ee.key!==void 0&&(Ve=""+ee.key),ee)U.call(ee,xe)&&!z.hasOwnProperty(xe)&&(je[xe]=ee[xe]);var $e=arguments.length-2;if($e===1)je.children=fe;else if(1<$e){for(var qe=Array($e),lt=0;lt<$e;lt++)qe[lt]=arguments[lt+2];je.children=qe}if(J&&J.defaultProps)for(xe in $e=J.defaultProps,$e)je[xe]===void 0&&(je[xe]=$e[xe]);return{$$typeof:e,type:J,key:Ve,ref:Re,props:je,_owner:L.current}}function Z(J,ee){return{$$typeof:e,type:J.type,key:ee,ref:J.ref,props:J.props,_owner:J._owner}}function $(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function oe(J){var ee={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(fe){return ee[fe]})}var te=/\/+/g;function ye(J,ee){return typeof J=="object"&&J!==null&&J.key!=null?oe(""+J.key):ee.toString(36)}function ge(J,ee,fe,xe,je){var Ve=typeof J;(Ve==="undefined"||Ve==="boolean")&&(J=null);var Re=!1;if(J===null)Re=!0;else switch(Ve){case"string":case"number":Re=!0;break;case"object":switch(J.$$typeof){case e:case t:Re=!0}}if(Re)return Re=J,je=je(Re),J=xe===""?"."+ye(Re,0):xe,P(je)?(fe="",J!=null&&(fe=J.replace(te,"$&/")+"/"),ge(je,ee,fe,"",function(lt){return lt})):je!=null&&($(je)&&(je=Z(je,fe+(!je.key||Re&&Re.key===je.key?"":(""+je.key).replace(te,"$&/")+"/")+J)),ee.push(je)),1;if(Re=0,xe=xe===""?".":xe+":",P(J))for(var $e=0;$e<J.length;$e++){Ve=J[$e];var qe=xe+ye(Ve,$e);Re+=ge(Ve,ee,fe,qe,je)}else if(qe=v(J),typeof qe=="function")for(J=qe.call(J),$e=0;!(Ve=J.next()).done;)Ve=Ve.value,qe=xe+ye(Ve,$e++),Re+=ge(Ve,ee,fe,qe,je);else if(Ve==="object")throw ee=String(J),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Re}function ce(J,ee,fe){if(J==null)return J;var xe=[],je=0;return ge(J,xe,"","",function(Ve){return ee.call(fe,Ve,je++)}),xe}function Q(J){if(J._status===-1){var ee=J._result;ee=ee(),ee.then(function(fe){(J._status===0||J._status===-1)&&(J._status=1,J._result=fe)},function(fe){(J._status===0||J._status===-1)&&(J._status=2,J._result=fe)}),J._status===-1&&(J._status=0,J._result=ee)}if(J._status===1)return J._result.default;throw J._result}var ue={current:null},se={transition:null},we={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:se,ReactCurrentOwner:L};return ln.Children={map:ce,forEach:function(J,ee,fe){ce(J,function(){ee.apply(this,arguments)},fe)},count:function(J){var ee=0;return ce(J,function(){ee++}),ee},toArray:function(J){return ce(J,function(ee){return ee})||[]},only:function(J){if(!$(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},ln.Component=I,ln.Fragment=n,ln.Profiler=o,ln.PureComponent=N,ln.StrictMode=r,ln.Suspense=d,ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,ln.cloneElement=function(J,ee,fe){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var xe=D({},J.props),je=J.key,Ve=J.ref,Re=J._owner;if(ee!=null){if(ee.ref!==void 0&&(Ve=ee.ref,Re=L.current),ee.key!==void 0&&(je=""+ee.key),J.type&&J.type.defaultProps)var $e=J.type.defaultProps;for(qe in ee)U.call(ee,qe)&&!z.hasOwnProperty(qe)&&(xe[qe]=ee[qe]===void 0&&$e!==void 0?$e[qe]:ee[qe])}var qe=arguments.length-2;if(qe===1)xe.children=fe;else if(1<qe){$e=Array(qe);for(var lt=0;lt<qe;lt++)$e[lt]=arguments[lt+2];xe.children=$e}return{$$typeof:e,type:J.type,key:je,ref:Ve,props:xe,_owner:Re}},ln.createContext=function(J){return J={$$typeof:s,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:i,_context:J},J.Consumer=J},ln.createElement=V,ln.createFactory=function(J){var ee=V.bind(null,J);return ee.type=J,ee},ln.createRef=function(){return{current:null}},ln.forwardRef=function(J){return{$$typeof:c,render:J}},ln.isValidElement=$,ln.lazy=function(J){return{$$typeof:m,_payload:{_status:-1,_result:J},_init:Q}},ln.memo=function(J,ee){return{$$typeof:h,type:J,compare:ee===void 0?null:ee}},ln.startTransition=function(J){var ee=se.transition;se.transition={};try{J()}finally{se.transition=ee}},ln.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ln.useCallback=function(J,ee){return ue.current.useCallback(J,ee)},ln.useContext=function(J){return ue.current.useContext(J)},ln.useDebugValue=function(){},ln.useDeferredValue=function(J){return ue.current.useDeferredValue(J)},ln.useEffect=function(J,ee){return ue.current.useEffect(J,ee)},ln.useId=function(){return ue.current.useId()},ln.useImperativeHandle=function(J,ee,fe){return ue.current.useImperativeHandle(J,ee,fe)},ln.useInsertionEffect=function(J,ee){return ue.current.useInsertionEffect(J,ee)},ln.useLayoutEffect=function(J,ee){return ue.current.useLayoutEffect(J,ee)},ln.useMemo=function(J,ee){return ue.current.useMemo(J,ee)},ln.useReducer=function(J,ee,fe){return ue.current.useReducer(J,ee,fe)},ln.useRef=function(J){return ue.current.useRef(J)},ln.useState=function(J){return ue.current.useState(J)},ln.useSyncExternalStore=function(J,ee,fe){return ue.current.useSyncExternalStore(J,ee,fe)},ln.useTransition=function(){return ue.current.useTransition()},ln.version="18.2.0",ln}pI.exports=O4();var j=pI.exports;const ie=Wr(j);var LS;function P4(){if(LS)return Yp;LS=1;var e=j,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(c,d,h){var m,g={},v=null,b=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(b=d.ref);for(m in d)r.call(d,m)&&!i.hasOwnProperty(m)&&(g[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:t,type:c,key:v,ref:b,props:g,_owner:o.current}}return Yp.Fragment=n,Yp.jsx=s,Yp.jsxs=s,Yp}hI.exports=P4();var y=hI.exports;const Pa=e=>{const{children:t,store:n,context:r}=e,[o,i]=j.useState(n.getState());return j.useEffect(()=>{const s=n.subscribe(c=>{i(c)});return()=>{s()}},[]),y.jsx(r.Provider,{value:o,children:t})};function j4(e){const t=Object.keys(e),n={};for(const r of t)typeof e[r]=="function"&&(n[r]=e[r]);return(r={},o)=>{let i=!1;const s={};for(const c of t){const d=r[c],h=n[c](d,o);s[c]=h,i=i||h!==d}return i?s:r}}function L4(e,t){const n=[];let r=e;return{dispatch:c=>{const d=t(r,c),h=r;r=d;for(const m of n)m(r,h)},getState:()=>r,subscribe:c=>{let d=!0;return n.push(c),()=>{if(!d)return;const h=n.indexOf(c);n.splice(h,1),d=!1}}}}function R4(e,t){switch(t.type){case"SET_MARK_MEMO_ID":return t.payload.markMemoId===e.markMemoId?e:{...e,markMemoId:t.payload.markMemoId};case"SET_EDIT_MEMO_ID":return t.payload.editMemoId===e.editMemoId?e:{...e,editMemoId:t.payload.editMemoId};case"SET_GLOBAL_EDITOR_SHOWN":return t.payload.globalEditorShown===e.globalEditorShown?e:{...e,globalEditorShown:t.payload.globalEditorShown};case"SET_COMMENT_MEMO_ID":return t.payload.commentMemoId===e.commentMemoId?e:{...e,commentMemoId:t.payload.commentMemoId};case"SET_MOBILE_VIEW":return t.payload.isMobileView===e.isMobileView?e:{...e,isMobileView:t.payload.isMobileView};case"SET_CHANGED_BY_MEMOS":return t.payload.changedByMemos===e.changedByMemos?e:{...e,changedByMemos:t.payload.changedByMemos};case"SET_REFRESH":return t.payload.refresh===e.refresh?e:{...e,refresh:t.payload.refresh};case"SET_INSTANCE":return{...e,instanceList:e.instanceList.set(t.payload.id,t.payload.instance)};case"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW":return t.payload.showSiderbarInMobileView===e.showSiderbarInMobileView?e:{...e,showSiderbarInMobileView:t.payload.showSiderbarInMobileView};case"SET_MEMO_LIST_VIEW":return t.payload.memoListView===e.memoListView?e:{...e,memoListView:t.payload.memoListView};case"SET_MEMO_PLUGIN_MANIFEST":return{...e,manifest:t.payload.manifest};case"SET_LOADED":return{...e,loaded:t.payload.loaded};case"SET_EXIT_STEPS":return{...e,exited:t.payload.exited};case"SET_LOCKED":return{...e,locked:t.payload.locked};case"SET_APP_SETTING":return{...e,...t.payload};default:return e}}const _4={markMemoId:"",editMemoId:"",commentMemoId:"",shouldSplitMemoWord:!0,shouldHideImageUrl:!0,shouldUseMarkdownParser:!0,useTinyUndoHistoryCache:!1,isMobileView:!1,showSiderbarInMobileView:!1,changedByMemos:!1,memoListView:null,manifest:null,refresh:!1,loaded:!1,globalEditorShown:!1,instanceList:new Map,locked:!1,exited:!1};function B4(e,t){switch(t.type){case"RELOAD":return mI;case"SET_LOCATION":return t.payload;case"SET_PATHNAME":return t.payload.pathname===e.pathname?e:{...e,pathname:t.payload.pathname};case"SET_HASH":return t.payload.hash===e.hash?e:{...e,hash:t.payload.hash};case"SET_QUERY":return{...e,query:{...t.payload}};case"SET_TAG_QUERY":return t.payload.tag===e.query.tag?e:{...e,query:{...e.query,tag:t.payload.tag}};case"SET_DURATION_QUERY":return t.payload.duration===e.query.duration?e:{...e,query:{...e.query,duration:{...e.query.duration,...t.payload.duration}}};case"SET_TYPE":return t.payload.type===e.query.type?e:{...e,query:{...e.query,type:t.payload.type}};case"SET_TEXT":return t.payload.text===e.query.text?e:{...e,query:{...e.query,text:t.payload.text}};case"SET_QUERY_FILTER":return t.payload===e.query.filter?e:{...e,query:{...e.query,filter:t.payload}};default:return e}}const mI={pathname:"/",hash:"",query:{tag:"",duration:null,type:"",text:"",filter:""}};var un={};Object.defineProperty(un,"__esModule",{value:!0});var sr=C;const Kw="YYYY-MM-DD",Qw="gggg-[W]ww",gI="YYYY-MM",yI="YYYY-[Q]Q",vI="YYYY";function Om(e){var n,r;const t=window.app.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n[e])==null?void 0:r.enabled)}function Pm(){var e,t,n,r;try{const{internalPlugins:o,plugins:i}=window.app;if(Om("daily")){const{format:h,folder:m,template:g}=((t=(e=i.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:t.daily)||{};return{format:h||Kw,folder:(m==null?void 0:m.trim())||"",template:(g==null?void 0:g.trim())||""}}const{folder:s,format:c,template:d}=((r=(n=o.getPluginById("daily-notes"))==null?void 0:n.instance)==null?void 0:r.options)||{};return{format:c||Kw,folder:(s==null?void 0:s.trim())||"",template:(d==null?void 0:d.trim())||""}}catch{}}function jm(){var e,t,n,r,o,i,s;try{const c=window.app.plugins,d=(e=c.getPlugin("calendar"))==null?void 0:e.options,h=(n=(t=c.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.weekly;if(Om("weekly"))return{format:h.format||Qw,folder:((r=h.folder)==null?void 0:r.trim())||"",template:((o=h.template)==null?void 0:o.trim())||""};const m=d||{};return{format:m.weeklyNoteFormat||Qw,folder:((i=m.weeklyNoteFolder)==null?void 0:i.trim())||"",template:((s=m.weeklyNoteTemplate)==null?void 0:s.trim())||""}}catch{}}function Lm(){var t,n,r,o;const e=window.app.plugins;try{const i=Om("monthly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.monthly)||{};return{format:i.format||gI,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((o=i.template)==null?void 0:o.trim())||""}}catch{}}function Rm(){var t,n,r,o;const e=window.app.plugins;try{const i=Om("quarterly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.quarterly)||{};return{format:i.format||yI,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((o=i.template)==null?void 0:o.trim())||""}}catch{}}function _m(){var t,n,r,o;const e=window.app.plugins;try{const i=Om("yearly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.yearly)||{};return{format:i.format||vI,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((o=i.template)==null?void 0:o.trim())||""}}catch{}}function wI(...e){let t=[];for(let r=0,o=e.length;r<o;r++)t=t.concat(e[r].split("/"));const n=[];for(let r=0,o=t.length;r<o;r++){const i=t[r];!i||i==="."||n.push(i)}return t[0]===""&&n.unshift(""),n.join("/")}function H4(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function U4(e){const t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){const n=wI(...t);window.app.vault.getAbstractFileByPath(n)||await window.app.vault.createFolder(n)}}async function Bm(e,t){t.endsWith(".md")||(t+=".md");const n=sr.normalizePath(wI(e,t));return await U4(n),n}async function hh(e){const{metadataCache:t,vault:n}=window.app,r=sr.normalizePath(e);if(r==="/")return Promise.resolve(["",null]);try{const o=t.getFirstLinkpathDest(r,""),i=await n.cachedRead(o),s=window.app.foldManager.load(o);return[i,s]}catch(o){return console.error(`Failed to read the daily note template '${r}'`,o),new sr.Notice("Failed to read the daily note template"),["",null]}}function hs(e,t="day"){const n=e.clone().startOf(t).format();return`${t}-${n}`}function bI(e){return e.replace(/\[[^\]]*\]/g,"")}function Y4(e,t){if(t==="week"){const n=bI(e);return/w{1,2}/i.test(n)&&(/M{1,4}/.test(n)||/D{1,4}/.test(n))}return!1}function ph(e,t){return SI(e.basename,t)}function z4(e,t){return SI(H4(e),t)}function SI(e,t){const r={day:Pm,week:jm,month:Lm,quarter:Rm,year:_m}[t]().format.split("/").pop(),o=window.moment(e,r,!0);if(!o.isValid())return null;if(Y4(r,t)&&t==="week"){const i=bI(r);if(/w{1,2}/i.test(i))return window.moment(e,r.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return o}class V4 extends Error{}async function DI(e){const t=window.app,{vault:n}=t,r=window.moment,{template:o,format:i,folder:s}=Pm(),[c,d]=await hh(o),h=e.format(i),m=await Bm(s,h);try{const g=await n.create(m,c.replace(/{{\s*date\s*}}/gi,h).replace(/{{\s*time\s*}}/gi,r().format("HH:mm")).replace(/{{\s*title\s*}}/gi,h).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(v,b,D,T,I,O)=>{const N=r(),B=e.clone().set({hour:N.get("hour"),minute:N.get("minute"),second:N.get("second")});return D&&B.add(parseInt(T,10),I),O?B.format(O.substring(1).trim()):B.format(i)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(i)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(i)));return t.foldManager.save(g,d),g}catch(g){console.error(`Failed to create file: '${m}'`,g),new sr.Notice("Unable to create new file.")}}function Z4(e,t){return t[hs(e,"day")]??null}function W4(){const{vault:e}=window.app,{folder:t}=Pm(),n=e.getAbstractFileByPath(sr.normalizePath(t));if(!n)throw new V4("Failed to find daily notes folder");const r={};return sr.Vault.recurseChildren(n,o=>{if(o instanceof sr.TFile){const i=ph(o,"day");if(i){const s=hs(i,"day");r[s]=o}}}),r}class $4 extends Error{}function q4(){const{moment:e}=window;let t=e.localeData()._week.dow;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)n.push(n.shift()),t--;return n}function G4(e){return q4().indexOf(e.toLowerCase())}async function TI(e){const{vault:t}=window.app,{template:n,format:r,folder:o}=jm(),[i,s]=await hh(n),c=e.format(r),d=await Bm(o,c);try{const h=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,v,b,D,T)=>{const I=window.moment(),O=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return v&&O.add(parseInt(b,10),D),T?O.format(T.substring(1).trim()):O.format(r)}).replace(/{{\s*title\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(m,g,v)=>{const b=G4(g);return e.weekday(b).format(v.trim())}));return window.app.foldManager.save(h,s),h}catch(h){console.error(`Failed to create file: '${d}'`,h),new sr.Notice("Unable to create new file.")}}function J4(e,t){return t[hs(e,"week")]??null}function K4(){const e={};if(!EI())return e;const{vault:t}=window.app,{folder:n}=jm(),r=t.getAbstractFileByPath(sr.normalizePath(n));if(!r)throw new $4("Failed to find weekly notes folder");return sr.Vault.recurseChildren(r,o=>{if(o instanceof sr.TFile){const i=ph(o,"week");if(i){const s=hs(i,"week");e[s]=o}}}),e}class Q4 extends Error{}async function II(e){const{vault:t}=window.app,{template:n,format:r,folder:o}=Lm(),[i,s]=await hh(n),c=e.format(r),d=await Bm(o,c);try{const h=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,v,b,D,T)=>{const I=window.moment(),O=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return v&&O.add(parseInt(b,10),D),T?O.format(T.substring(1).trim()):O.format(r)}).replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c));return window.app.foldManager.save(h,s),h}catch(h){console.error(`Failed to create file: '${d}'`,h),new sr.Notice("Unable to create new file.")}}function X4(e,t){return t[hs(e,"month")]??null}function eN(){const e={};if(!xI())return e;const{vault:t}=window.app,{folder:n}=Lm(),r=t.getAbstractFileByPath(sr.normalizePath(n));if(!r)throw new Q4("Failed to find monthly notes folder");return sr.Vault.recurseChildren(r,o=>{if(o instanceof sr.TFile){const i=ph(o,"month");if(i){const s=hs(i,"month");e[s]=o}}}),e}class tN extends Error{}async function nN(e){const{vault:t}=window.app,{template:n,format:r,folder:o}=Rm(),[i,s]=await hh(n),c=e.format(r),d=await Bm(o,c);try{const h=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,v,b,D,T)=>{const I=window.moment(),O=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return v&&O.add(parseInt(b,10),D),T?O.format(T.substring(1).trim()):O.format(r)}).replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c));return window.app.foldManager.save(h,s),h}catch(h){console.error(`Failed to create file: '${d}'`,h),new sr.Notice("Unable to create new file.")}}function rN(e,t){return t[hs(e,"quarter")]??null}function oN(){const e={};if(!CI())return e;const{vault:t}=window.app,{folder:n}=Rm(),r=t.getAbstractFileByPath(sr.normalizePath(n));if(!r)throw new tN("Failed to find quarterly notes folder");return sr.Vault.recurseChildren(r,o=>{if(o instanceof sr.TFile){const i=ph(o,"quarter");if(i){const s=hs(i,"quarter");e[s]=o}}}),e}class iN extends Error{}async function aN(e){const{vault:t}=window.app,{template:n,format:r,folder:o}=_m(),[i,s]=await hh(n),c=e.format(r),d=await Bm(o,c);try{const h=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,v,b,D,T)=>{const I=window.moment(),O=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return v&&O.add(parseInt(b,10),D),T?O.format(T.substring(1).trim()):O.format(r)}).replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c));return window.app.foldManager.save(h,s),h}catch(h){console.error(`Failed to create file: '${d}'`,h),new sr.Notice("Unable to create new file.")}}function sN(e,t){return t[hs(e,"year")]??null}function lN(){const e={};if(!MI())return e;const{vault:t}=window.app,{folder:n}=_m(),r=t.getAbstractFileByPath(sr.normalizePath(n));if(!r)throw new iN("Failed to find yearly notes folder");return sr.Vault.recurseChildren(r,o=>{if(o instanceof sr.TFile){const i=ph(o,"year");if(i){const s=hs(i,"year");e[s]=o}}}),e}function uN(){var r,o;const{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;const n=e.plugins.getPlugin("periodic-notes");return n&&((o=(r=n.settings)==null?void 0:r.daily)==null?void 0:o.enabled)}function EI(){var n,r;const{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;const t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.weekly)==null?void 0:r.enabled)}function xI(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.monthly)==null?void 0:r.enabled)}function CI(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.quarterly)==null?void 0:r.enabled)}function MI(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.yearly)==null?void 0:r.enabled)}function cN(e){const t={day:Pm,week:jm,month:Lm,quarter:Rm,year:_m}[e];return t()}function dN(e,t){return{day:DI,month:II,week:TI}[e](t)}un.DEFAULT_DAILY_NOTE_FORMAT=Kw;un.DEFAULT_MONTHLY_NOTE_FORMAT=gI;un.DEFAULT_QUARTERLY_NOTE_FORMAT=yI;un.DEFAULT_WEEKLY_NOTE_FORMAT=Qw;un.DEFAULT_YEARLY_NOTE_FORMAT=vI;var mm=un.appHasDailyNotesPluginLoaded=uN;un.appHasMonthlyNotesPluginLoaded=xI;un.appHasQuarterlyNotesPluginLoaded=CI;un.appHasWeeklyNotesPluginLoaded=EI;un.appHasYearlyNotesPluginLoaded=MI;var kI=un.createDailyNote=DI;un.createMonthlyNote=II;un.createPeriodicNote=dN;un.createQuarterlyNote=nN;un.createWeeklyNote=TI;un.createYearlyNote=aN;var ru=un.getAllDailyNotes=W4;un.getAllMonthlyNotes=eN;un.getAllQuarterlyNotes=oN;un.getAllWeeklyNotes=K4;un.getAllYearlyNotes=lN;var Av=un.getDailyNote=Z4,ec=un.getDailyNoteSettings=Pm,Xf=un.getDateFromFile=ph;un.getDateFromPath=z4;un.getDateUID=hs;un.getMonthlyNote=X4;un.getMonthlyNoteSettings=Lm;un.getPeriodicNoteSettings=cN;un.getQuarterlyNote=rN;un.getQuarterlyNoteSettings=Rm;un.getTemplateInfo=hh;un.getWeeklyNote=J4;un.getWeeklyNoteSettings=jm;un.getYearlyNote=sN;un.getYearlyNoteSettings=_m;const fN={},hN={},pN={},mN={},NI={welcome:"Welcome to Thino",ribbonIconTitle:"Thino",to:"to",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekDaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],year:null,month:null,"Basic Options":"Basic options","User name":"User name","Set your user name here. 'Memos 😏' By default":"Set your user name here. 'Thino 😏' By default",'You can set target heading like "# Heading" to control data location':'You can set target heading like "# Heading" to control data location',"Insert after heading":"Insert after heading","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"You should set the same heading below if you want to insert and process thino below the same heading.","Allows admonitions to be created using ":"Allows admonitions to be created using ","Process Memos below":"Process thino below","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.","Save Memo button label":"Save thino button label","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"The text shown on the save Thino button in the UI. 'NOTEIT' by default.","Focus on editor when open memos":"Focus on editor when open thino","Focus on editor when open memos. Focus by default.":"Focus on editor when open thino. Focus by default.","Open daily memos with open memos":"Open daily thino with open thino","Open daily memos with open memos. Open by default.":"Open daily thino with open thino. Open by default.","Open Memos when obsidian opens":"Open Thino when obsidian opens","When enable this, Memos will open when Obsidian opens. False by default.":"When enable this, Thino will open when Obsidian opens. False by default.","Hide done tasks in Memo list":"Hide done tasks in Thino list","Hide all done tasks in Memo list. Show done tasks by default.":"Hide all done tasks in Thino list. Show done tasks by default.","Advanced Options":"Advanced Options","UI language for date":"UI language for date","Translates the date UI language. Only 'en' and 'zh' are available.":"Translates the date UI language. Only 'en' and 'zh' are available.","Default prefix when save thino":"Default prefix when save thino","Set the default prefix when create memo, 'List' by default.":"Set the default prefix when create thino, 'List' by default.","Default insert date format":"Default insert date format","Set the default date format when insert date by @, 'Tasks' by default.":"Set the default date format when insert date by @, 'Tasks' by default.","Default editor position on mobile":"Default editor position on mobile","Set the default editor position on Mobile, 'Top' by default.":"Set the default editor position on Mobile, 'Top' by default.","Use button to show editor on mobile":"Use button to show editor on mobile","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Set a float button to call editor on mobile. Only when editor located at the bottom works.","Show Time When Copy Results":"Show Time When Copy Results","Show time when you copy results, like 12:00. Copy time by default.":"Show time when you copy results, like 12:00. Copy time by default.","Show Date When Copy Results":"Show Date When Copy Results","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Show date when you copy results, like [[2022-01-01]]. Copy date by default.","Add Blank Line Between Different Date":"Add Blank Line Between Different Date","Add blank line when copy result with date. No blank line by default.":"Add blank line when copy result with date. No blank line by default.","Share Options":"Share Options","Share Memos Image Footer Start":"Share Thino Image Footer Start","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default","Share Memos Image Footer End":"Share Thino Image Footer End","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default","Save Shared Image To Folder For Mobile":"Save Shared Image To Folder For Mobile","Save image to folder for mobile. False by Default":"Save image to folder for mobile. False by Default","Say Thank You":"Say Thank You",Donate:"Donate","If you like this plugin, consider donating to support continued development:":"If you like this plugin, consider donating to support continued development:","File Name of Recycle Bin":"File Name of Recycle Bin","Set the filename for recycle bin. 'delete' By default":"Set the filename for recycle bin. 'delete' By default","File Name of Query File":"File Name of Query File","Set the filename for query file. 'query' By default":"Set the filename for query file. 'query' By default","Use Tags In Vault":"Use Tags In Vault","Use tags in vault rather than only in Memos. False by default.":"Use tags in vault rather than only in Thino. False by default.","Ready to convert image into background":"Ready to convert image into background",List:"List",Task:"Task",Top:"Top",Bottom:"Bottom",TAG:"TAG",DAY:"DAY",QUERY:"Query",EDIT:"EDIT",PIN:"PIN",UNPIN:"UNPIN",DELETE:"DELETE","CONFIRM！":"CONFIRM！","CREATE FILTER":"CREATE FILTER","Comment it...":"Comment it...",Settings:"Settings","Recycle bin":"Recycle bin","About Me":"About Me","Fetching data...":"Fetching data...","Here is No Memos.":"Here is No Thino.","Frequently Used Tags":"Frequently Used Tags","What do you think now...":"What do you think now...",READ:"READ",MARK:"MARK",SHARE:"SHARE",SOURCE:"SOURCE",RESTORE:"RESTORE",ARCHIVE:"Archive","DELETE AT":"DELETE AT","Noooop!":"Noooop!","All Data is Loaded 🎉":"All Data is Loaded 🎉","Quick filter":"Quick filter",TYPE:"TYPE",LINKED:"LINKED","NO TAGS":"NO TAGS","HAS LINKS":"HAS LINKS","HAS IMAGES":"HAS IMAGES",INCLUDE:"INCLUDE",EXCLUDE:"EXCLUDE",TEXT:"TEXT",IS:"IS",AND:"AND",OR:"OR",LIST:"LIST",ISNOT:"ISNOT",SELECT:"SELECT","ADD FILTER TERMS":"ADD FILTER TERMS",FILTER:"FILTER",Filter:"Filter",TITLE:"TITLE","CREATE QUERY":"CREATE QUERY","EDIT QUERY":"EDIT QUERY",MATCH:"MATCH",TIMES:"TIMES","Share Memo Image":"Share Thino Image","↗Click the button to save":"↗Click the button to save","Image is generating...":"Image is generating...","Image is loading...":"Image is loading...","Loading...":"Loading...","😟 Cannot load image, image link maybe broken":"😟 Cannot load image, image link maybe broken","Daily Memos":"Daily Thino","CANCEL EDIT":"CANCEL EDIT","LINK TO THE":"LINK TO THE","Mobile Options":"Mobile Options","Experimental Options":"Experimental Options","Don't support web image yet, please input image path in vault":"Don't support web image yet, please input image path in vault","Background Image in Dark Theme":"Background Image in Dark Theme","Background Image in Light Theme":"Background Image in Light Theme",'Set background image in dark theme. Set something like "Daily/one.png"':'Set background image in dark theme. Set something like "Daily/one.png"','Set background image in light theme. Set something like "Daily/one.png"':'Set background image in light theme. Set something like "Daily/one.png"','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Set default thino composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default',"Default Memo Composition":"[Deprecated] Default Thino Composition","Show Tasks Label":"Show Tasks Label","Show tasks label near the time text. False by default":"Show tasks label near the time text. False by default","Please Open Memos First":"Please Open Thino First",DATE:"DATE",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"BEFORE",AFTER:"AFTER","Allow Comments On Memos":"Allow Comments On Thino","You can comment on memos. False by default":"You can comment on thino. False by default",Import:"Import","TITLE CANNOT BE NULL!":"TITLE CANNOT BE NULL!","FILTER CANNOT BE NULL!":"FILTER CANNOT BE NULL!","Comments In Original DailyNotes/Notes":"Comments In Original DailyNotes/Notes","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"You should install Dataview Plugin ver 0.5.9 or later to use this feature.","Open Memos Successfully":"Open Thino Successfully","Fetch Memos Error":"😭 Fetch Error","Copied to clipboard Successfully":"Copied to clipboard Successfully","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Check if you opened Daily Notes Plugin Or Periodic Notes Plugin","Please finish the last filter setting first":"Please finish the last filter setting first","Close Memos Successfully":"Close Thino Successfully","Insert as Memo":"Insert as Thino","Insert file as memo content":"Insert file as thino content","Image load failed":"Image load failed","Content cannot be empty":"Content cannot be empty","Unable to create new file.":"Unable to create new file.","Failed to fetch deleted memos: ":"Failed to fetch deleted thino: ","RESTORE SUCCEED":"RESTORE SUCCEED","DELETE SUCCEED":"DELETE SUCCEED","Save Memo button icon":"Save Thino button icon","The icon shown on the save Memo button in the UI.":"The icon shown on the save Thino button in the UI.","Fetch Memos From Particular Notes":"Fetch Thino From Particular Notes",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'You can set any Dataview Query for thino to fetch it. All thino in those notes will show on list. "#memo" by default',"Allow Memos to Fetch Memo from Notes":"Allow Thino to Fetch Thino from Notes","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"Use Thino to manage all thino in your notes, not only in daily notes. False by default","Always Show Memo Comments":"Always Show Thino Comments","Always show memo comments on memos. False by default":"Always show thino comments on thino. False by default","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.","Please check your daily note plugin OR periodic notes plugin settings":"Please check your daily note plugin OR periodic notes plugin settings","Use which plugin's default configuration":"Use which plugin's default configuration","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino use the plugin's default configuration to fetch thino from daily, 'Daily' by default.",Daily:"Daily","Always Show Leaf Sidebar on PC":"Always Show Leaf Sidebar on PC","Show left sidebar on PC even when the leaf width is less than 875px. False by default.":"Show left sidebar on PC even when the leaf width is less than 875px. False by default.","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set format for daily notes in both periodic-notes and daily-notes plugins.","fetch more":"fetch more","Search all settings":"Search all settings",General:"General",Theme:"Theme",Share:"Share",Advanced:"Advanced",Thino:"Thino","Random Review":"Random Review","ARCHIVED AT":"ARCHIVED AT","Failed to get memos from daily notes":"Failed to get thino from daily notes","Failed to delete memo":"Failed to delete thino","CTRL + ENTER to save":"CTRL + ENTER to save","Started from":"Started from","Custom Background Image":"Custom Background Image","Set custom background image.":"Set custom background image.","Custom Memo Footer":"Custom Thino Footer","Set custom memo footer.":"Set custom thino footer.","Heatmap Color Scheme":"Heatmap Color Scheme","Set different color scheme for heatmap.":"Set different color scheme for heatmap.","Enable Local Http Server":"Enable Local Http Server","Memos Http Server Port":"Thino Http Server Port","Set memos http server port to listen. '43999' by default":"Set thino http server port to listen. '43999' by default","Default Editor Mode":"Default Editor Mode","Live-Preview Mode OR Source Mode.":"Live-Preview Mode/Source Mode.","Save type for Thino":"Save type for Thino",DAILY:"DAILY",MULTI:"MULTI",CANVAS:"CANVAS",ALL:"ALL",FILE:"FILE",TODO:"TODO",DONE:"DONE",JOURNAL:"JOURNAL",OTHER:"OTHER","Failed to create daily note, check if it exists.":"Failed to create daily note, check if it exists.","Failed to create daily note. Please check if you created a folder for daily notes.":"Failed to create daily note. Please check if you created a folder for daily notes.","After you verify your account, please refresh this page.":"After you verify your account, please refresh this page.",Verify:"Verify","Oops! You forget to verify insider account":"Oops! You forget to verify insider account","If you have any questions, please contact us.":"If you have any questions, please contact us.","Delete Thino Directly":"Delete Thino Directly","When delete thino directly, it will not be moved to trash. False by default.":"When delete thino directly, it will not be moved to trash. False by default.","Enable opening thino globally":"Enable opening thino globally","Enable opening thino globally. False by default.":"Enable opening thino globally. False by default.","Key for opening thino globally":"Key for opening thino globally","Set key for opening thino globally. CTRL + SHIFT + T by default.":"Set key for opening thino globally. CTRL + SHIFT + T by default.","Key for showing thino globally":"Key for showing thino globally","Set key for showing thino globally. CTRL + SHIFT + E by default.":"Set key for showing thino globally. CTRL + SHIFT + E by default.","Get activation code":"Get activation code","Input activation code here":"Input activation code here","Copy Thino id":"Copy Thino id","Activate Pro Version":"Activate Pro Version","Please copy Thino id first":"Please copy Thino id first",'You can set folder name with file name like "folder/file"':'You can set folder name with file name like "folder/file"','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'You can set folder name like "folder1/folder2/folder3" to create sub-folder',"Default save type":"Default save location",'Set the default save type for thino. "DAILY" by default':'Set the default save type for thino. "DAILY" by default',"Sync Thino via PKMer":"Sync Thino via PKMer",Unlink:"Unlink",Link:"Link","Connect to PKMer Sync, you can check it in ":"Connect to PKMer Sync, you can check it in ","PKMer Sync":"PKMer Sync","Remove successfully":"Remove successfully",Deactivate:"Deactivate",Remove:"Remove","Confirm?":"Confirm?","Sync Status":"Sync Status","Start or stop sync":"Start or stop sync","Stop sync successfully":"Stop sync successfully","Start sync successfully":"Start sync successfully",Stop:"Stop",Start:"Start","Show thino near mouse":"Show thino near mouse","Query not found":"Query not found","Send to clipboard successfully":"Send to clipboard successfully","Thino - Failed to start HTTP server, please check the port is available.":"Thino - Failed to start HTTP server, please check the port is available.","Thino - Started HTTP server on port":"Thino - Started HTTP server on port","Thino - Terminated HTTP server":"Thino - Terminated HTTP server","File not exist":"File not exist","Thino not found":"Thino not found","File not found for the given thino path, is creating a new file":"File not found for the given thino path, is creating a new file","Saved sync token successfully":"Saved sync token successfully","Failed to find daily notes folder":"Failed to find daily notes folder","Please install obsidian-hover-editor plugin first":"Please install obsidian-hover-editor plugin first","Copied app id successfully":"Copied app id successfully","Please input token first":"Please input token first","Please enable sync first":"Please enable sync first","Init Failed":"Init Failed","Verify successfully":"Verify successfully","Failed to verify":"Failed to verify","Folder not found for the given thino path, is creating a new folder":"Folder not found for the given thino path, is creating a new folder","File not found for the given thino path":"File not found for the given thino path","Failed to read current daily note, check if it exists.":"Failed to read current daily note, check if it exists.","Failed to save":"Failed to save","Failed to login, please login again":"Failed to login, please login again","COPY FAILED":"COPY FAILED","COPY SUCCEED":"COPY SUCCEED","Copy selected text":"Copy selected text","Copy thino":"Copy thino",COPY:"COPY","This is a pro feature, please upgrade to pro version to use it.":"This is a pro feature, please upgrade to pro version to use it.","You can get pro version from: ":"You can get pro version from: ",Save:"Save",Cancel:"Cancel","Thino Daily Target":"Thino Daily Target",Input:"Input","#Tag":"#Tag","to create tag":"to create tag","You have verified your account. Congrats!":"You have verified your account. Congrats!","Pro features":"Pro features","Target Thino Count":"Target Thino Count",on:"on","Switch waterfall view":"Switch waterfall view","Switch view":"Switch view","Switch list view":"Switch list view","Set daily target":"Set daily target","Thino Save To: ":"Thino Save To: ","Enter fullscreen mode":"Enter fullscreen mode","Exit fullscreen mode":"Exit fullscreen mode",words:"words","Return To Home Page":"Return To Home Page","Open thino in center window":"Open thino in center window","Open thino in float window":"Open thino in float window","Open thino in right sidebar":"Open thino in right sidebar","Open thino in left sidebar":"Open thino in left sidebar","Show thino editor":"Show thino editor","Toggle minimal mode":"Toggle minimal mode","Focus on thino editor":"Focus on thino editor","ReSync web thinos to local":"ReSync web thinos to local","Sync local thinos to web":"Sync local thinos to web","Show daily thino":"Show daily thino","Focus on search bar":"Focus on search bar","Show-thino in popover(Hover editor)":"Show-thino in popover(Hover editor)","Center window":"Center window","Float window":"Float window","Right sidebar":"Right sidebar","Left sidebar":"Left sidebar","Save thino type when sync local":"Save thino type when sync local","Set the default save thino type when sync local, FILE by default.":"Set the default save thino type when sync local, FILE by default.","Sync service":"Sync service","Pro verification status":"Pro verification status","Live-preview":"Live-preview",Source:"Source","Global copy":"Global copy","Set the folder name":"Set the folder name","Set the filename":"Set the filename","Set the filename for current location file":"Set the filename for current location file","Switch calendar type":"Switch calendar type",alphabetical:"alphabetical",alphabeticalReverse:"alphabeticalReverse",byCount:"byCount",byCountReverse:"byCountReverse","Type here":"Type here",Today:"Today",Yesterday:"Yesterday","Last 7 days":"Last 7 days","Last 30 days":"Last 30 days","Last 90 days":"Last 90 days","Last 180 days":"Last 180 days","Last 365 days":"Last 365 days",Found:"Found","Copy filtered thinos":"Copy filtered thinos","Bulk delete":"Bulk delete","Bulk archive":"Bulk archive","Bulk tag operation":"Bulk tag operation","Bulk restore":"Bulk restore","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.",Preview:"Preview","Set and save":"Set and save","Show day mark in thino list":"Show day mark in thino list","Show day mark on the top of daily range thino. False by default.":"Show day mark on the top of daily range thino. False by default.","Click to expand or fold, Cmd+Click to show all thinos of the day":"Click to expand or fold, Cmd+Click to show all thinos of the day","You can buy a license from":"You can buy a license from","No thinos in range":"No thinos in range",Month:"Month",Week:"Week",Day:"Day",Agenda:"Agenda",Tomorrow:"Tomorrow",Previous:"Previous",Next:"Next","Search all columns...":"Search all columns...","Basic Info":"Basic Info","Additional Info":"Additional Info","Created At":"Created At",Content:"Content","Thino Type":"Thino Type","Source Type":"Source Type","Row status":"Row status",Path:"Path","Pinned Status":"Pinned Status",Table:"Table",Chat:"Chat",Moments:"Moments",Waterfall:"Waterfall",Calendar:"Calendar","Go to page":"Go to page",Page:"Page",Show:"Show",rows:"rows","Temp Filter":"Temp Filter","Open link directly in Thino view":"Open link directly in Thino view","Day mark range":"Day mark range","Set the range of day mark. Day by default.":"Set the range of day mark. Day by default.","Thino is locked":"Thino is locked","Please unlock Thino by input password":"Please unlock Thino by input password","Auto Download Image":"Auto Download Image","Auto download image when save to thino. 'false' by default":"Auto download image when save to thino. 'false' by default","Thino Http IP Type":"Thino Http IP Type","Set Thino http server ip to listen. 'localhost' by default":"Set Thino http server ip to listen. 'localhost' by default","Password to lock Thino":"Password to lock Thino",Unlock:"Unlock",Locked:"Locked","Password is incorrect":"Password is incorrect",Lock:"Lock","Need password to unlock Thino":"Need password to unlock Thino","You have not set a password or enable this feature yet":"You have not set a password or enable this feature yet",Password:"Password","Password for Thino":"Password for Thino","Please input your password to change password settings":"Please input your password to change password settings","Please input your password":"Please input your password","Lock thino":"Lock thino",date:"date",time:"time",event:"event","Add tag position":"Add tag position","Set the position of the tag when adding tag automatically":"Set the position of the tag when adding tag automatically","Add tag automatically":"Add tag automatically","Add tag to the end or beginning of the thino content when creating a thino and filtering tags":"Add tag to the end or beginning of the thino content when creating a thino and filtering tags","Add tag with new line":"Add tag with new line","Add tag with new line when adding tag automatically":"Add tag with new line when adding tag automatically","Input to select more tags":"Input to select more tags","Tag Bulk Edit":"Tag Bulk Edit","Tag Bulk Select":"Tag Bulk Select","Exist Tags":"Exist Tags","Selected Tags":"Selected Tags","Click to remove exist tag":"Click to remove exist tag","Click to remove selected tag":"Click to remove selected tag","Select tags":"Select tags","Input to select exist tag":"Input to select exist tag",Beginning:"Beginning",End:"End","Set the heading for saving thino":"Set the heading for saving thino","# Heading":"# Heading","Chat view style":"Chat view style","Set the style of chat view":"Set the style of chat view","Background image for moments view":"Background image for moments view","Set the background image for moments view":"Set the background image for moments view","Icon for moments/chat view/share image":"Icon for moments/chat view/share image","Set the icon for moments/chat view/share image":"Set the icon for moments/chat view/share image","Quote for moments view/share image":"Quote for moments view/share image","Set the quote for moments view/share image":"Set the quote for moments view/share image","Theme for Thino":"Theme for Thino","Set the theme for Thino":"Set the theme for Thino","Interface Details":"Interface Details","Task amount":"Task amount","Thino status":"Thino status","Used tags":"Used tags","Used days":"Used days","Most active day":"Most active day","Most active hour":"Most active hour","Thino amount":"Thino amount","No content to generate.":"No content to generate.","Image generated successfully.":"Image generated successfully.","Failed to generate image.":"Failed to generate image.","Share filtered thinos as image":"Share filtered thinos as image","Latest version":"Latest version","Previous version":"Previous version","Thino update info":"Thino update info","Debug info copied to clipboard":"Debug info copied to clipboard","Copy debug info":"Copy debug info","Failed to load changelog":"Failed to load changelog","View online":"View online",ChangeLog:"ChangeLog","Please open thino first":"Please open thino first","Insert editor":"Insert editor","Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly.":"Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly.","Default time prefix for thino in daily notes":"Default time prefix for thino in daily notes","Set default time prefix for thino in daily notes.":"Set default time prefix for thino in daily notes.","Save image successfully":"Save image successfully","User quote":"User quote","Set user quote for thino":"Set user quote for thino","User icon":"User icon","Set user icon for thino. You can input http/https link or file path in vault.":"Set user icon for thino. You can input http/https link or file path in vault.","User info":"User info","Copy filtered results":"Copy filtered results","Share image":"Share image",Default:"Default",Gray:"Gray",Grass:"Grass",Flame:"Flame",Olive:"Olive",Ice:"Ice",Magenta:"Magenta","Daily notes":"Daily notes",Editor:"Editor","Append/prepend text when share to Thino":"Append/prepend text when share to Thino","Append text when share to Thino":"Append text when share to Thino","Prepend text when share to Thino":"Prepend text when share to Thino","Add newline when append/prepend text":"Add newline when append/prepend text","Input anything here":"Input anything here",Prepend:"Prepend",Append:"Append",Both:"Both",None:"None","Hide pinned group":"Hide pinned group","Hide pinned group in thino list. False by default.":"Hide pinned group in thino list. False by default.","Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.","Different insert target for different type":"Different insert target for different type","Toggle this to set different insert target for different type of thino, like task or list type of thino":"Toggle this to set different insert target for different type of thino, like task or list type of thino","You can set whole diary or only part of it":"You can set whole diary or only part of it","Set process target":"Set process target",Custom:"Custom","Whole diary":"Whole Diary","Set thino insert place":"Set thino insert place","Set where to insert thino content":"Set where to insert thino content","End of the diary":"End of the diary","Custom location":"Custom location","Setting guide":"User setting guide","Details settings":"Details settings","Start Thino":"Start Thino","About Thino Pro":"About Thino Pro",Enabled:"Enabled",Enable:"Enable","Daily notes folder":"Daily notes folder","Set daily notes folder":"Set daily notes folder","Daily note name format":"Daily note name format","Set daily note name format":"Set daily note name format","Daily note plugin":"Daily note plugin","Enable daily note plugin":"Enable daily note plugin",Selected:"Selected",Select:"Select","A classic theme for Thino with a two-column layout":"A classic theme for Thino with a two-column layout",Classic:"Classic","A modern theme for Thino with a three-column layout and some unique features.":"A modern theme for Thino with a three-column layout and some unique features.",Modern:"Modern","Go and enjoy Thino":"Go and enjoy Thino","Congrats! All settings done":"Congrats! All settings done","Adjust settings that influence your user experience with Thino.":"Adjust settings that influence your user experience with Thino.","Set preferences for using Thino":"Set preferences for using Thino","If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.":"If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.","Go with daily note plugin":"Go with daily note plugin","Choose a theme for Thino.":"Choose a theme for Thino.","Set theme for Thino":"Set theme for Thino","Set up your user info for Thino.":"Set up your user info for Thino.","Get started with Thino":"Get started with Thino","Skip and start Thino":"Skip and start Thino","Next step":"Next step","Back to previous step":"Back to previous step","Click to enable =>":"Click to enable =>","This is Thino's sidebar. Navigate to different path or select query filter.":"This is Thino's sidebar. Navigate to different path or select query filter.","Click here and go to settings page.":"Click here and go to settings page.","Click here and go to different path.":"Click here and go to different path.","Select or create query filter here.":"Select or create query filter here.","See the status of Thinos here.":"See the status of Thinos here.","Search your thino quickly here.":"Search your thino quickly here.","Edit or create your thino here.":"Edit or create your thino here.","See your thinos here.":"See your thinos here.","See your time status of thinos here.":"See your time status of thinos here.","See your tags here. Tags will be shown when thino contains tags.":"See your tags here. Tags will be shown when thino contains tags.",Done:"Done","Thino is ready to use. ":"Thino is ready to use. ","You can start using Thino now. If you want to know more about Thino Pro, click the button below.":"You can start using Thino now. If you want to know more about Thino Pro, click the button below.","Default time prefix":"Default time prefix","Append Text Action":"Append Text Action","Prepend Text Action":"Prepend Text Action",Preset:"Preset","Select Tags":"Select Tags","It is not available on small view":"It is not available on small view","Append text":"Append text","Prepend text":"Prepend text","Your daily note folder is not set correctly, please check your settings":"Your daily note folder is not set correctly, please check your settings","Default sharing style":"Default sharing style","Set the default style for sharing thino, 'Modern' by default.":'Set the default style for sharing thino, "Modern" by default.',Clean:"Clean",Minimal:"Minimal"},gN={},yN={},vN={welcome:"Bienvenue dans Mémo !",ribbonIconTitle:"Mémos",months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],weekDaysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],to:"à",year:null,month:null,"Basic Options":"Options basique","User name":"Username","Set your user name here. 'Memos 😏' By default":"Définissez votre username ici. Défaut : 'Memo 😏'","Insert after heading":"Insérer après le titre","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Vous devez définir le même titre en-dessous si vous voulez insérer et traiter des mémos sous le même titre.","Allows admonitions to be created using ":"Permet de créer des admonitions en utilisant","Process Memos below":"Insérer Mémo sous","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Seulement les entrée sous cette section/phrase dans vos notes seront considérés. S'il n'existe pas, aucune notes ne sera traité pour ce fichier.","Save Memo button label":"Titre du bouton de sauvegarde","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"Le texte affiché sur le bouton de sauvegarde dans l'UI. Défaut : 'NOTEIT'","Focus on editor when open memos":"Focus sur l'éditeur lors de l'ouverture du mémo.","Focus on editor when open memos. Focus by default.":"Focus sur l'éditeur lors de l'ouverture du mémo. Focus par défaut.","Open daily memos with open memos":"Ouvrir les mémos quotidiens quand mémo est ouvert.","Open daily memos with open memos. Open by default.":"Ouvrir les mémos quotidiens quand mémo est ouvert.","Open Memos when obsidian opens":"Ouvrir Mémo quand Obsidian est ouvert.","When enable this, Memos will open when Obsidian opens. False by default.":"Quand activé, Memo sera ouvert quand Obsidian à l'ouverture d'Obsidian. Désactivé par défaut.","Hide done tasks in Memo list":"Masquer les tâches accomplies dans la liste des mémos.","Hide all done tasks in Memo list. Show done tasks by default.":"Masquer les tâches accomplies dans les mémos. Affiche les tâches accomplies par défaut.","Advanced Options":"Options avancées","UI language for date":"Langue de l'UI pour la date","Translates the date UI language. Only 'en' and 'zh' are available.":"Traduit la langue des dates dans l'UI. Seuls 'en', 'fr' et 'zh' sont disponibles. ","Default prefix":"Préfix par défaut.","Set the default prefix when create memo, 'List' by default.":"Définit le préfix par défaut lors de la création d'un mémo. Défault : 'Liste'","Default insert date format":"Format de la date insérée par défaut.","Default editor position on mobile":"Position par défaut de l'éditeur sur mobile.","Set the default date format when insert date by @, 'Tasks' by default.":"Définit le format de la date par défaut lors de l'insertion de la date par @. Défaut : 'Tâches'.","Set the default editor position on Mobile, 'Top' by default.":"Position par défaut de l'éditeur sur le mobile. Défaut : 'Haut'.","Use button to show editor on mobile":"Utilisation du bouton pour afficher l'éditeur sur le mobile.","Show Time When Copy Results":"Aficher l'heure quand les résultats sont copiés","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Place un bouton flottant pour appeler l'éditeur sur mobile. Fonctionne uniquement quand l'éditeur est placé en bas.","Show time when you copy results, like 12:00. Copy time by default.":"Affiche l'heure quand les résultats sont copiés, comme '12:00'. Copie l'heure par défaut","Show Date When Copy Results":"Affiche la date quand les résultats sont copiés","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Affiche la date quand les résultats sont copiés, comme [[2022-01-01]]. Par défaut, copie la date.","Add Blank Line Between Different Date":"Ajoute une ligne entre les différentes dates.","Add blank line when copy result with date. No blank line by default.":"Ajoute une ligne lors de la copie du résultat avec la date. Pas de ligne par défaut.","Share Options":"Options de partage","Share Memos Image Footer Start":"Début du pied de page — Partage de mémo de mémos","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Définissez ce que vous voulez ici, utilisez {ThinoNum} pour afficher le nombre de thino, {UsedDay} pour les jours. Par défaut : '{ThinoNum} Thino {UsedDay} Days.","Share Memos Image Footer End":"Fin du pied de page — Partage de mémo","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Définissez ce que vous voulez ici. Utilisez {UserName} comme username. Par défaut : '✍️ By {UserName}'","Save Shared Image To Folder For Mobile":"Sauvegarde des images partagés dans un dossier sur mobile.","Save image to folder for mobile. False by Default":"Sauvegarder les images dans un dossier sur mobile. Désactivé par défaut.","Say Thank You":"Dites Merci",Donate:"Faire un don","If you like this plugin, consider donating to support continued development:":"Si vous aimez ce plugin, envisagez de faire un don pour soutenir le développement continu :","File Name of Recycle Bin":"Nom de la corbeille","Set the filename for recycle bin. 'delete' By default":"Définition du nom de la poubelle. Défaut : 'Delete'","Set the filename for query file. 'query' By default":"Définit le nom de fichier pour les requête. Défaut : 'Query'","Use Tags In Vault":"Utiliser des tags dans le Coffre","Use tags in vault rather than only in Memos. False by default.":"Utiliser des tags du coffre plutôt que ceux que seulement dans Mémo. Désactivé par défaut.","Ready to convert image into background":"Prêt pour convertir des image en arrière-plan.",List:"Liste",Task:"Tâche",Top:"Haut",Bottom:"Bas",TAG:"TAG",DAY:"JOUR",QUERY:"RECHERCHE",EDIT:"EDITER",PIN:"PIN",UNPIN:"ÉPINGLER",DELETE:"DESÉPINGLER","CONFIRM！":"CONFIRMER ！","CREATE FILTER":"CRÉER FILTRE",Settings:"Paramètres","Recycle bin":"Corbeille","About Me":"À propos de moi","Fetching data...":"Récupération des données...","Here is No Memos.":"Il n'y a pas de Memos.","Frequently Used Tags":"Tags fréquemment utilisés","What do you think now...":"Que pensez-vous maintenant...",READ:"LU",MARK:"MARQUER",SHARE:"PARTAGER",SOURCE:"SOURCE",RESTORE:"RESTAURER","DELETE AT":"SUPPRIMER","Noooop!":"Noooop!","All Data is Loaded 🎉":"Toutes les données sont chargées 🎉","Quick filter":"Filtre rapide",TYPE:"TYPE",LINKED:"LIEN","NO TAGS":"PAS DE TAGS","HAS LINKS":"A DES LIENS","HAS IMAGES":"A DES IMAGES",INCLUDE:"INCLUS",EXCLUDE:"EXCLUS",TEXT:"TEXTE",IS:"EST",ISNOT:"N'EST PAS",SELECT:"SELECTION","ADD FILTER TERMS":"AJOUTER DES TERMES FILTRÉ",FILTER:"FILTRE",TITLE:"TITRE","CREATE QUERY":"CRÉER UNE RECHERCHE","EDIT QUERY":"ÉDITER UNE RECHERCHE",MATCH:"MATCH",TIMES:"HEURE","Share Memo Image":"Partager un mémo image","↗Click the button to save":"↗Clique pour sauvegarder","Image is generating...":"Génération de l'image...","Image is loading...":"Image en chargement...","Loading...":"Chargement...","😟 Cannot load image, image link maybe broken":"😟 Impossible de charger l'image, le lien peut être brisé","Daily Memos":"Mémo quotidien","CANCEL EDIT":"ANNULER L'ÉDITION","LINK TO THE":"LIENS À","Mobile Options":"Options mobile","Don't support web image yet, please input image path in vault":"Ne supporte pas les images webs. Merci d'insérer le chemin de l'image depuis le coffre.","Background Image in Dark Theme":"Image de fond en thème sombre","Background Image in Light Theme":"Image de fond en thème clair",'Set background image in dark theme. Set something like "Daily/one.png"':"Définir l'image de fond en thème sombre. Définir 'Daily/one.png' par exemple.",'Set background image in light theme. Set something like "Daily/one.png"':"Définir l'image de fond en thème clair. Définir 'Daily/one.png' par exemple.",'Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Définir la composition par défaut du mémo, vous devez utiliser {TIME} comme "HH:mm" et {CONTENT} comme contenu. "{TIME} {CONTENT}" par défaut',"Default Memo Composition":"Composition par défaut du mémo","Show Tasks Label":"Afficher les étiquettes des tâches","Show tasks label near the time text. False by default":"Afficher les étiquettes des tâches à côté du texte horaire. Désactivé par défaut.","Please Open Memos First":"Merci d'ouvrir les mémos en premier"},wN={},bN={},SN={},DN={},TN={},IN={},EN={},xN={},CN={welcome:"Bem-vindo ao Thino!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],to:"para",year:null,month:null,"Basic Options":"Opções Básicas","User name":"Nome de Usuário","Set your user name here. 'Memos 😏' By default":"Defina o nome de usuário. Padrão: 'Thino 😏'.","Insert after heading":"Inserir após o cabeçalho","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Deve definir o mesmo cabeçalho na configuração posterior se pretende inserir e processar memorandos abaixo do cabeçalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabeçalho","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Somente as entradas abaixo deste cabeçalho serão processadas nas suas notas. Se não configurar esta funcionalidade, nenhuma nota será processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Botão de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do botão guardar memorandos. Padrão: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padrão: "Focar".',"Open daily memos with open memos":"Abrir memorandos diários ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos diários ao iniciar o Thino. Padrão: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta opção está activa, o Memos abrirá quando o Obsidian inicia. Padrão: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas concluídas na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas concluídas na lista de memorandos. Padrão: "Mostrar tarefas concluídas".',"Advanced Options":"Opções Avançadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' estão disponíveis.","Default prefix when save thino":"Prefixo Padrão","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padrão quando um memorando é criado. Padrão: 'Lista'.","Default insert date format":"Formato Padrão para Inserção de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padrão ao inserir a data usando '@'. Padrão: 'Tarefas'.","Default editor position on mobile":"Posição Padrão do Editor de Memorandos na Versão Móvel","Set the default editor position on Mobile, 'Top' by default.":"Define a posição padrão do editor de memorandos na versão móvel. Padrão: 'Topo'.","Use button to show editor on mobile":"Usar Botão para Mostrar o Editor na Versão Móvel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um botão flutuante para abrir o editor na versão móvel. Opção disponível somente quando a posição do editor está definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padrão: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padrão: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padrão: "Não adicionar linha."',"Share Options":"Opções de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - Início do Rodapé","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o número de thinorandos e use {UsedDay} para dias. 'Padrão: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodapé","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usuário. Padrão: '✍️ Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Versão Móvel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na versão móvel. Padrão: "Falso".',"Say Thank You":"Agradeça",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento contínuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padrão: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padrão: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e não somente dos memorandos. Padrão: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRM！":"CONFIRMAR！","CREATE FILTER":"CRIAR FILTRO",Settings:"Definições","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"Não existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que está a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded 🎉":"Todos os Dados foram Carregados 🎉","Quick filter":"Filtro rápido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"É",ISNOT:"NÃO É",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"TÍTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","↗Click the button to save":"↗Clique no botão para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","😟 Cannot load image, image link maybe broken":"😟 Não é possível carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Diários","CANCEL EDIT":"CANCELAR EDIÇÃO","LINK TO THE":"LINK PARA O","Mobile Options":"Opções Móveis","Don't support web image yet, please input image path in vault":"Ainda não existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Opções Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composição padrão do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conteúdo. Padrão: "{TIME} {CONTENT}".',"Default Memo Composition":"Composição Padrão de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas próximas do texto de tempo. Padrão: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Comentários nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padrão: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O TÍTULO NÃO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO NÃO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Comentários nas Notas/Notas Diárias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a versão 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"😭 Erro de Fetch","Copied to clipboard Successfully":"Copiado para a área de transferência com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Diárias ou de Notas Periódicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configuração do último filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conteúdo de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conteúdo não pode estar vazio","Unable to create new file.":"Não foi possível criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"Ícone do Botão para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O ícone exibido na UI do botão para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Específicas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas serão mostrados na lista. Padrão: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e não apenas nas notas diárias. Padrão: "Falso".',"Always Show Memo Comments":"Mostrar Comentários dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os comentários dos memorandos. Padrão: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"Não definiu a pasta para as notas diárias, quer no plugin the Notas Periódicas ou de Notas Diárias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configurações dos plugins de Notas Diárias OU de Notas Periódicas","Use Which Plugin's Default Configuration":"Usar a Configuração Padrão do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configuração padrão do plugin seleccionado para obter memorandos diariamente. Padrão: 'Notas Diárias'.",Daily:"Diário"},MN={welcome:"Bem-vindo ao Memos!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],to:"para",year:null,month:null,"Basic Options":"Opções Básicas","User name":"Nome de Usuário","Set your user name here. 'Memos 😏' By default":"Defina o nome de usuário. Padrão: 'Thino 😏'.","Insert after heading":"Inserir após o cabeçalho","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Deve definir o mesmo cabeçalho na configuração posterior se pretende inserir e processar memorandos abaixo do cabeçalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabeçalho","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Somente as entradas abaixo deste cabeçalho serão processadas nas suas notas. Se não configurar esta funcionalidade, nenhuma nota será processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Botão de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do botão guardar memorandos. Padrão: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padrão: "Focar".',"Open daily memos with open memos":"Abrir memorandos diários ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos diários ao iniciar o Thino. Padrão: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta opção está activa, o Memos abrirá quando o Obsidian inicia. Padrão: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas concluídas na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas concluídas na lista de memorandos. Padrão: "Mostrar tarefas concluídas".',"Advanced Options":"Opções Avançadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' estão disponíveis.","Default prefix when save thino":"Prefixo Padrão","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padrão quando um memorando é criado. Padrão: 'Lista'.","Default insert date format":"Formato Padrão para Inserção de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padrão ao inserir a data usando '@'. Padrão: 'Tarefas'.","Default editor position on mobile":"Posição Padrão do Editor de Memorandos na Versão Móvel","Set the default editor position on Mobile, 'Top' by default.":"Define a posição padrão do editor de memorandos na versão móvel. Padrão: 'Topo'.","Use button to show editor on mobile":"Usar Botão para Mostrar o Editor na Versão Móvel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um botão flutuante para abrir o editor na versão móvel. Opção disponível somente quando a posição do editor está definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padrão: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padrão: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padrão: "Não adicionar linha."',"Share Options":"Opções de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - Início do Rodapé","Set anything you want here, use {ThinoNum} to display Number of memos, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o número de thinorandos e use {UsedDay} para dias. 'Padrão: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodapé","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usuário. Padrão: '✍️ Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Versão Móvel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na versão móvel. Padrão: "Falso".',"Say Thank You":"Agradeça",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento contínuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padrão: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padrão: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e não somente dos memorandos. Padrão: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRM！":"CONFIRMAR！","CREATE FILTER":"CRIAR FILTRO",Settings:"Definições","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"Não existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que está a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded 🎉":"Todos os Dados foram Carregados 🎉","Quick filter":"Filtro rápido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"É",ISNOT:"NÃO É",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"TÍTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","↗Click the button to save":"↗Clique no botão para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","😟 Cannot load image, image link maybe broken":"😟 Não é possível carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Diários","CANCEL EDIT":"CANCELAR EDIÇÃO","LINK TO THE":"LINK PARA O","Mobile Options":"Opções Móveis","Don't support web image yet, please input image path in vault":"Ainda não existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Opções Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composição padrão do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conteúdo. Padrão: "{TIME} {CONTENT}".',"Default Memo Composition":"Composição Padrão de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas próximas do texto de tempo. Padrão: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Comentários nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padrão: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O TÍTULO NÃO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO NÃO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Comentários nas Notas/Notas Diárias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a versão 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"😭 Erro de Fetch","Copied to clipboard Successfully":"Copiado para a área de transferência com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Diárias ou de Notas Periódicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configuração do último filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conteúdo de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conteúdo não pode estar vazio","Unable to create new file.":"Não foi possível criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"Ícone do Botão para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O ícone exibido na UI do botão para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Específicas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas serão mostrados na lista. Padrão: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e não apenas nas notas diárias. Padrão: "Falso".',"Always Show Memo Comments":"Mostrar Comentários dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os comentários dos memorandos. Padrão: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"Não definiu a pasta para as notas diárias, quer no plugin the Notas Periódicas ou de Notas Diárias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configurações dos plugins de Notas Diárias OU de Notas Periódicas","Use Which Plugin's Default Configuration":"Usar a Configuração Padrão do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configuração padrão do plugin seleccionado para obter memorandos diariamente. Padrão: 'Notas Diárias'.",Daily:"Diário"},kN={},NN={},AN={},FN={welcome:"欢迎使用 Thino ",ribbonIconTitle:"Thino",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:[null,null,null,null,null,null,null,null,null,null,null,null],weekDays:["周日","周一","周二","周三","周四","周五","周六"],weekDaysShort:["周日","周一","周二","周三","周四","周五","周六"],to:"至",year:"年",month:"月","Basic Options":"基础选项","User name":"用户名","Set your user name here. 'Memos 😏' By default":"在这里设置你喜欢的用户名。 默认为 'Thino 😏'",'You can set target heading like "# Heading" to control data location':'你可以设置目标标题，例如 "# Heading" 来控制数据的位置',"Insert after heading":"在指定标题后插入 Thino","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"若留空，则记录的 thino 内容在日记末尾插入，若填写标题，则记录的 thino 内容统一都记录在该标题下","Process Memos below":"解析指定标题后的 Thino","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"若留空，则在Thino界面会显示所有thino记录内容，若填写标题，则Thino界面只显示该标题下的内容，写入其他位置的内容不显示","Save Memo button label":"保存按钮上的文本","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"在保存按钮上展示的文本。默认为 'NOTEIT'","Focus on editor when open memos":"自动聚焦到 Thino 输入框","Focus on editor when open memos. Focus by default.":"当打开 Thino 的时候自动聚焦到 Thino 输入框。默认开启","Open daily memos with open memos":"打开每日 Thino 的时候打开 Thino 界面","Open daily memos with open memos. Open by default.":"打开每日 Thino 的时候打开 Thino 界面。默认开启","Open Memos when obsidian opens":"当开启 Obsidian 的时候自动打开 Thino","When enable this, Memos will open when Obsidian opens. False by default.":"当开启该选项, Thino 会在 Obsidian 打开时自动打开。默认不开启。","Hide done tasks in Memo list":"在 Thino 列表中隐藏已完成 Thino","Hide all done tasks in Memo list. Show done tasks by default.":"在 Thino 列表中隐藏已完成 Thino。默认不开启","Advanced Options":"进阶选项","UI language for date":"针对日期展示的语言界面","Translates the date UI language. Only 'en' and 'zh' are available.":"对日期的不同翻译。目前只能选择 'en' 和 'zh'（未来会废置）","Default prefix when save thino":"保存 Thino 时的默认前缀","Set the default prefix when create memo, 'List' by default.":"设置默认的前缀样式。默认为列表","Default insert date format":"插入日期附带的样式","Set the default date format when insert date by @, 'Tasks' by default.":"当使用 @ 来快速插入日期时，插入日期附带的样式，默认为 'Tasks' 样式","Default editor position on mobile":"在移动端上的默认编辑器位置","Set the default editor position on Mobile, 'Top' by default.":"设置在移动端上的默认编辑器位置，默认在顶部。","Use button to show editor on mobile":"当编辑器位置在底部时，用按钮来唤出编辑器","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"设置一个浮动按钮来唤出编辑器。当在移动端上启用该选项才会生效","Show Time When Copy Results":"当复制检索结果时附带时间","Show time when you copy results, like 12:00. Copy time by default.":"在复制检索结果时附带其时间，例如 12:00 。默认开启","Show Date When Copy Results":"当复制检索结果时附带日期","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"在复制检索结果时附带其日期，例如 [[2022-01-01]]。默认开启","Add Blank Line Between Different Date":"在复制日期的时候加上空行","Add blank line when copy result with date. No blank line by default.":"在复制日期的时候在相邻的日期之间加上空行。默认无空行","Share Options":"分享选项","Share Memos Image Footer Start":"分享 Thino 图片的左边页脚","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"你可以在这里设置你想要的任意文本，用 {ThinoNum} 来展示你记录的 thino 数量，{UsedDay} 来展示使用日期。默认为'{ThinoNum} Thino {UsedDay} Days'","Share Memos Image Footer End":"分享 Thino 图片的右边页脚","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"你可以在这里设置你想要的任意文本，用 {UserName} 来展示你的用户名。默认为 '✍️ By {UserName}'","Save Shared Image To Folder For Mobile":"当在移动端上时保存图片到文件夹","Save image to folder for mobile. False by Default":"当在移动端上时，保存生成的图片到文件夹","Say Thank You":"感谢开发",Donate:"捐赠","If you like this plugin, consider donating to support continued development:":"如果你喜欢这个插件，而且也希望给我买鸡腿，那么可以考虑 Github 页面右边的 Sponsor~","File Name of Recycle Bin":"回收站的文件名","Set the filename for recycle bin. 'delete' By default":"给回收站设置一个文件名。默认为'delete'","File Name of Query File":"检索文件的文件名","Set the filename for query file. 'query' By default":"设置存放检索式的文件的文件名。默认为'query'","Use Tags In Vault":"使用在库内的所有标签","Use tags in vault rather than only in Memos. False by default.":"使用在库内的而不是 Thino 内的标签。默认关闭","Don't support web image yet, please input image path in vault":"暂不支持网络图片，请使用本地图片","Ready to convert image into background":"正在将图片转换为背景图",List:"列表",Task:"任务",Top:"顶部",Bottom:"底部",TAG:"标签",DAY:"天",QUERY:"检索式",EDIT:"编辑",PIN:"置顶",UNPIN:"取消置顶",DELETE:"删除","CONFIRM！":"确定删除","CREATE FILTER":"创建检索式",Filter:"筛选",Settings:"设置","Recycle bin":"回收站","About Me":"关于","Fetching data...":"获取数据中...","Here is No Memos.":"没有找到 Thino","Frequently Used Tags":"常用标签","What do you think now...":"你现在在想什么？",READ:"阅读",MARK:"引用",SHARE:"分享",SOURCE:"来源",RESTORE:"恢复",ARCHIVE:"归档","DELETE AT":"删除于","Noooop!":"啥都没有！","All Data is Loaded 🎉":"所有数据都加载好啦 🎉","Quick filter":"快速筛选",TYPE:"类型",LINKED:"有链接","NO TAGS":"无标签","HAS LINKS":"有超链接","HAS IMAGES":"有图片",INCLUDE:"包括",EXCLUDE:"排除",TEXT:"文本",IS:"是",AND:"和",OR:"或",LIST:"状态",ISNOT:"不是",SELECT:"选择","ADD FILTER TERMS":"添加检索条件",FILTER:"筛选器",TITLE:"标题","CREATE QUERY":"创建检索式","EDIT QUERY":"编辑检索式",MATCH:"匹配",TIMES:"次","Share Memo Image":"分享 Thino 图片","↗Click the button to save":"↗点击右上角的按钮来保存","Image is generating...":"图片正在生成中...","Image is loading...":"图片正在加载中...","😟 Cannot load image, image link maybe broken":"😟 无法加载图片，图片链接也许不存在","Loading...":"努力加载中...","Daily Memos":"每日 Thino","CANCEL EDIT":"取消编辑","LINK TO THE":"链接到","Mobile Options":"移动端选项","Experimental Options":"实验性选项","Background Image in Dark Theme":"深色主题的背景图","Background Image in Light Theme":"浅色主题的背景图",'Set background image in dark theme. Set something like "Daily/one.png"':'设置深色主题的背景图。请设置类似"Daily/one.png"的路径','Set background image in light theme. Set something like "Daily/one.png"':'设置浅色主题的背景图。请设置类似"Daily/one.png"的路径','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'设置默认 Thino 组成，你必须要使用 {TIME} 作为 "HH:mm" 而且要设置 {CONTENT} 作为内容识别。默认情况下， Thino 基于 "{TIME} {CONTENT}" 识别',"Default Memo Composition":"【已弃置】默认 Thino 组成","Show Tasks Label":"展示任务标签","Show tasks label near the time text. False by default":"在 Thino 的时间旁展示任务标签。默认情况下不展示","Please Open Memos First":"请先打开 Thino","Comment it...":"评论...",DATE:"日期",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"Obsidian Natrual DATES language 插件没启动",BEFORE:"在之前",AFTER:"在之后","Allow Comments On Memos":"允许在 Thino 上评论","You can comment on memos. False by default":"你可以在 Thino 点击图标进行评论了。默认不开启",Import:"导入","TITLE CANNOT BE NULL!":"标题不可以为空！","FILTER CANNOT BE NULL!":"筛选器不可以为空！","Comments In Original DailyNotes/Notes":"在原文件中进行评论","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"你需要安装 0.5.9 版本以上的 Dataview 插件来使用该功能","Open Memos Successfully":"成功打开 Thino ","Fetch Memos Error":"😭 Thino 获取失败","Copied to clipboard Successfully":"复制成功","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"请检查你有没有开启日记插件或者 Periodic Notes 插件且启用了日记模式","Please finish the last filter setting first":"先完善上一个过滤器吧","Close Memos Successfully":"成功关闭 Thino ","Insert as Memo":"插入内容为 Thino","Insert file as memo content":"插入文件为 Thino","Image load failed":"有个图片加载失败了😟","Content cannot be empty":"内容不能为空呀","Unable to create new file.":"无法新建文件","Failed to fetch deleted memos: ":"无法获取已删除的 Thino ：","RESTORE SUCCEED":"成功恢复 Thino","DELETE SUCCEED":"删除成功","Save Memo button icon":"保存按钮上的图标","The icon shown on the save Memo button in the UI.":"你可以设置保存按钮上的图标","Fetch Memos From Particular Notes":"从指定的文件中获取 Thino",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'你可以给笔记设置指定检索式来让 Memos 可以索引到它。默认为 "#memo" ',"Allow Memos to Fetch Memo from Notes":"允许 Thino 从笔记中获取 Thino","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"使用 Memos 来管理你笔记中的 Memos，不单只 DailyNotes 中的内容。默认为关闭","Always Show Memo Comments":"评论将总是可见","Always show memo comments on memos. False by default":"当开启后评论总是会在 Thino 的下方展示。默认为关闭","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"你在 Periodic Notes 插件和日记插件都没设置日记的所在文件夹","Please check your daily note plugin OR periodic notes plugin settings":"请检查你的日记插件和/或 Periodic Notes 插件的设置","Use which plugin's default configuration":"使用哪个插件的默认日记配置","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino 采用指定插件的默认配置来获取 Thino。默认为日记插件。",Daily:"日记插件","Always Show Leaf Sidebar on PC":"在 PC 上总是展示左侧栏","Show left sidebar on PC even when the leaf width is less than 875px. False by default.":"在 PC 上即使页面宽度小于 875px 时都展示左侧栏。默认为关闭","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"你在 Periodic Notes 插件和日记插件都没设置日记的格式","fetch more":"加载更多","Search all settings":"搜索所有设置","Random Review":"随机回顾","ARCHIVED AT":"归档于","Failed to get memos from daily notes":"无法从日记中获取 Thino","Failed to delete memo":"无法删除 Thino","CTRL + ENTER to save":"CTRL + ENTER 保存","Started from":"开始于","Custom Background Image":"自定义背景图","Set custom background image.":"设置自定义背景图","Custom Memo Footer":"自定义 Thino 页脚","Set custom memo footer.":"设置自定义 Thino 页脚","Heatmap Color Scheme":"热力图颜色","Set different color scheme for heatmap.":"设置热力图的颜色","Enable Local Http Server":"启用本地 HTTP 服务器","Memos Http Server Port":"Thino HTTP 服务器端口","Set memos http server port to listen. '43999' by default":"设置 Thino HTTP 服务器端口。默认为 '43999'","Live-Preview Mode OR Source Mode.":"基于 Thino 的所见即所得模式（默认） 或者 源码模式，你可以自己选择适合自己的输入体验。","Default Editor Mode":"默认编辑器模式","Save type for Thino":"Thino 保存类型",DAILY:"日记",MULTI:"多文件",CANVAS:"画布",FILE:"单文件",ALL:"所有","Failed to create daily note, check if it exists.":"无法创建日记，请检查是否存在文件夹","Failed to create daily note. Please check if you created a folder for daily notes.":"无法创建日记，请检查是否存在日记文件夹","After you verify your account, please refresh this page.":"验证成功后，请刷新页面。",Verify:"去验证","Oops! You forget to verify insider account":"内测账户验证失败","If you have any questions, please contact us.":"如果你有任何问题，请联系我们。","Delete Thino Directly":"直接删除 Thino","When delete thino directly, it will not be moved to trash. False by default.":"当直接删除 Thino 时，不会移动到回收站。默认为关闭","Get activation code":"获取激活码","Input activation code here":"在这里输入激活码","Copy Thino id":"获取 Thino id","Activate Pro Version":"激活专业版","Please copy Thino id first":"请先获取 Thino id",'You can set folder name with file name like "folder/file"':'你可以设置例如 "folder/file" 的文件夹名+文件名的搭配来存放在指定文件夹','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'你可以设置例如 "folder1/folder2/folder3" 的文件夹名来创建子文件夹',"Default save type":"默认保存类型",'Set the default save type for thino. "DAILY" by default':'设置 Thino 的默认保存类型。默认为 "日记"',"Enable opening thino globally":"全局唤醒 Thino","Enable opening thino globally. False by default.":"全局唤醒 Thino。默认为关闭","Key for opening thino globally":"全局唤醒 Thino 的快捷键","Set key for opening thino globally. CTRL + SHIFT + T by default.":"设置全局唤醒 Thino 的快捷键。默认为 CTRL + SHIFT + T","Sync Thino via PKMer":"通过 PKMer 同步 Thino",Unlink:"取消链接",Link:"链接","Connect to PKMer Sync, you can check it in ":"连接到 PKMer 同步，你可以在该链接中查看：","PKMer Sync":"PKMer 同步","Remove successfully":"移除成功",Deactivate:"取消激活",Remove:"移除","Confirm?":"确认？","Sync Status":"同步状态","Start or stop sync":"开始或停止同步","Stop sync successfully":"停止同步成功","Start sync successfully":"开始同步成功",Stop:"停止",Start:"开始","Show thino near mouse":"在鼠标附近展示 Thino","Query not found":"检索式未找到","Send to clipboard successfully":"发送到剪贴板成功","Thino - Failed to start HTTP server, please check the port is available.":"Thino - 启动 HTTP 服务器失败，请检查端口是否可用。","Thino - Started HTTP server on port":"Thino - 启动 HTTP 服务器成功，端口为","Thino - Terminated HTTP server":"Thino - 终止 HTTP 服务器","File not exist":"文件不存在","Thino not found":"Thino 未找到","File not found for the given thino path, is creating a new file":"未找到承载指定 Thino 的文件，正在创建新文件","Saved sync token successfully":"保存同步令牌成功","Failed to find daily notes folder":"未找到日记文件夹","Please install obsidian-hover-editor plugin first":"请先安装 obsidian-hover-editor 插件","Copied app id successfully":"复制 app id 成功","Please input token first":"请先输入 token","Please enable sync first":"请先启用同步","Init Failed":"初始化失败","Folder not found for the given thino path, is creating a new folder":"未找到承载指定 Thino 的文件夹，正在创建新文件夹","File not found for the given thino path":"未找到承载指定 Thino 的文件","Failed to read current daily note, check if it exists.":"无法读取日记文件，请检查是否存在","Verify successfully":"验证成功","Failed to verify":"验证失败","Failed to save":"保存失败","Failed to login, please login again":"登录已过期，请重新登录","COPY FAILED":"复制失败","COPY SUCCEED":"复制成功","Copy selected text":"复制选中文本","Copy thino":"复制",COPY:"复制","This is a pro feature, please upgrade to pro version to use it.":"这是专业版功能，请升级到专业版来使用它。","You can get pro version from: ":"你可以从这里获取专业版：",Save:"保存",Cancel:"取消","Thino Daily Target":"Thino 每日目标",Input:"输入","#Tag":"#标签","to create tag":"来创建标签","You have verified your account. Congrats!":"你已经验证了你的账户。恭喜！","Pro features":"专业版功能","Target Thino Count":"目标 Thino 数量",on:"在","Switch waterfall view":"切换瀑布流视图","Switch view":"切换视图","Switch list view":"切换列表视图","Set daily target":"设置每日目标","Thino Save To: ":"Thino 保存到：","Enter fullscreen mode":"进入全屏模式","Exit fullscreen mode":"退出全屏模式",words:"字词","Return To Home Page":"返回首页","Open thino in center window":"在中心窗口打开 thino","Open thino in float window":"在浮动窗口打开 thino","Open thino in right sidebar":"在右侧边栏打开 thino","Open thino in left sidebar":"在左侧边栏打开 thino","Show thino editor":"显示 thino 编辑器","Toggle minimal mode":"切换 Minimal 模式","Focus on thino editor":"聚焦到 thino 编辑器","ReSync web thinos to local":"重新同步 web 上的 thino 到本地","Sync local thinos to web":"同步本地的 thino 到 web","Show daily thino":"显示每日 thino 视图","Focus on search bar":"聚焦到搜索栏","Show-thino in popover(Hover editor)":"在弹出框中显示 thino","Center window":"中心窗口","Float window":"浮动窗口","Right sidebar":"右侧边栏","Left sidebar":"左侧边栏","Save thino type when sync local":"同步本地时保存的 thino 类型","Set the default save thino type when sync local, FILE by default.":"设置同步本地时保存的 thino 类型，默认为单文件。","Sync service":"同步服务","Pro verification status":"专业版激活状态","Live-preview":"所见即所得",Source:"源码",General:"通用",Thino:"Thino",Theme:"主题",Share:"分享",Interface:"界面",Advanced:"进阶","Global copy":"全局复制","Set the folder name":"设置文件夹名","Set the filename":"设置文件名","Set the filename for current location file":"设置当前位置文件的文件名","Switch calendar type":"切换日历类型",alphabetical:"标签名称（A-Z）",alphabeticalReverse:"标签名称（Z-A）",byCount:"按使用次数（从高到低）",byCountReverse:"按使用次数（从低到高）","Type here":"在这里输入",Today:"今天",Yesterday:"昨天","Last 7 days":"最近 7 天","Last 30 days":"最近 30 天","Last 90 days":"最近 90 天","Last 180 days":"最近 180 天","Last 365 days":"最近 365 天",Found:"被找到","Copy filtered thinos":"复制筛选的 thino","Bulk delete":"批量删除","Bulk archive":"批量归档","Bulk tag operation":"标签编辑","Bulk restore":"批量恢复","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"如果你禁用了日记插件，可能会导致 thino 无法被正确删除。请启用插件后再试一次。",Preview:"预览","Set and save":"设置并保存","Show day mark in thino list":"在 Thino 列中展示日期标记","Show day mark on the top of daily range thino. False by default.":"在 Thino 列中展示日期标记。默认为关闭","Click to expand or fold, Cmd+Click to show all thinos of the day":"点击展开或折叠，Cmd+点击展示当天所有 thino","You can buy a license from":"你可以从这里购买许可证","No thinos in range":"该范围内没有 thino",Month:"月视图",Week:"周视图",Day:"日视图",Agenda:"日程视图",Tomorrow:"明天",Previous:"往前",Next:"往后","Search all columns...":"搜索所有的列...","Basic Info":"基础信息","Additional Info":"附加信息","Created At":"创建于",Content:"内容","Thino Type":"Thino 类型","Source Type":"来源类型","Row status":"归档状态",Path:"路径","Pinned Status":"置顶状态",Table:"表格",Chat:"聊天",Moments:"动态",Waterfall:"瀑布流",Calendar:"日历","Go to page":"跳转到页",Page:"页",Show:"展示",rows:"行","Temp Filter":"临时筛选器","Set the heading for saving thino":"设置保存 Thino 的标题","# Heading":"# 标题","Open link directly in Thino view":"Thino 视图内直接打开双链","Day mark range":"日期标记范围","Set the range of day mark. Day by default.":"设置日期标记的范围，默认为天","Thino is locked":"Thino 已锁定","Please unlock Thino by input password":"请输入密码来解锁 Thino","Auto Download Image":"自动下载图片","Auto download image when save to thino. 'false' by default":"当保存到 Thino 时自动下载图片。默认为 'false'","Thino Http IP Type":"Thino HTTP 服务器 IP 类型","Set Thino http server ip to listen. 'localhost' by default":"设置 Thino HTTP 服务器 IP。默认为 'localhost'","Password to lock Thino":"锁定 Thino 的密码",Unlock:"解锁",Locked:"已锁定","Password is incorrect":"密码错误",Lock:"锁定","Need password to unlock Thino":"需要密码来解锁 Thino","You have not set a password or enable this feature yet":"你还没有设置密码或者启用该功能",Password:"密码","Password for Thino":"Thino 的密码","Please input your password to change password settings":"请输入原来的密码来修改密码设置","Please input your password":"请输入密码","Lock thino":"锁定 Thino",date:"日期",time:"时间",event:"事件","Add tag position":"添加标签位置","Set the position of the tag when adding tag automatically":"设置自动添加标签的位置","Add tag automatically":"自动添加标签","Add tag to the end or beginning of the thino content when creating a thino and filtering tags":"在创建 Thino 和筛选标签时，将标签添加到 Thino 内容的末尾或开头","Add tag with new line":"添加标签时换行","Add tag with new line when adding tag automatically":"自动添加标签时换行","Input to select more tags":"输入来选择更多标签","Tag Bulk Edit":"标签批量编辑","Tag Bulk Select":"标签批量选择","Exist Tags":"已有标签","Selected Tags":"已选标签","Click to remove exist tag":"点击移除已有标签","Click to remove selected tag":"点击移除已选标签","Select tags":"选择标签","Input to select exist tag":"输入来选择已有标签",Beginning:"开头",End:"末尾","Chat view style":"聊天视图样式","Set the style of chat view":"设置聊天视图的样式","Background image for moments view":"动态视图的背景图","Set the background image for moments view":"设置动态视图的背景图","Icon for moments/chat view/share image":"动态/聊天视图/分享图的头像","Set the icon for moments/chat view/share image":"设置动态/聊天视图/分享图的头像","Quote for moments view/share image":"动态视图/分享图的个性签名","Set the quote for moments view/share image":"设置动态视图/分享图的个性签名","Theme for Thino":"Thino 主题","Set the theme for Thino":"设置 Thino 的主题","Interface Details":"界面详情","Task amount":"任务数量","Thino status":"Thino 状态","Used tags":"使用的标签","Used days":"使用的天数","Most active day":"最活跃的一天","Most active hour":"最活跃的一小时","Thino amount":"Thino 数量","No content to generate.":"没有内容可以生成。","Image generated successfully.":"图片生成成功。","Failed to generate image.":"图片生成失败。","Share filtered thinos as image":"分享筛选的 Thino 为图片","Latest version":"最新版本","Previous version":"之前版本","Thino update info":"Thino 更新信息","Debug info copied to clipboard":"调试信息已复制到剪贴板","Copy debug info":"复制调试信息","Failed to load changelog":"无法加载更新日志","View online":"在线查看",ChangeLog:"更新日志","Please open thino first":"请先打开 Thino","Insert editor":"插入编辑器","Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly.":"请在 Thino 设置中为多文件设置不同的路径，日记文件夹与多文件保存路径重复，或者存在被重复读取可能","Default time prefix for thino in daily notes":"日记中 Thino 的默认时间前缀","Set default time prefix for thino in daily notes.":"设置日记中 Thino 的默认时间前缀","Save image successfully":"保存图片成功","User quote":"用户签名","Set user quote for thino":"设置用户签名","User icon":"用户头像","Set user icon for thino. You can input http/https link or file path in vault.":"设置用户头像。你可以设置 http/https 链接或者 vault 中的文件路径。","User info":"用户信息","Copy filtered results":"复制筛选结果","Share image":"分享图片",Default:"默认",Gray:"灰色",Grass:"草绿",Flame:"火焰",Olive:"橄榄",Ice:"冰",Magenta:"品红","Daily notes":"日记相关",Editor:"编辑器","Append/prepend text when share to Thino":"分享到 Thino 时添加/前置文本","Append text when share to Thino":"分享到 Thino 时添加文本","Prepend text when share to Thino":"分享到 Thino 时前置文本","Add newline when append/prepend text":"添加换行符",Prepend:"前置",Append:"后置",Both:"两者",None:"无","Hide pinned group":"隐藏置顶分组","Hide pinned group in thino list. False by default.":"隐藏置顶的 Thino 分组。默认为关闭","Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"设置 Thino 任务类型的标题，如果提供了标题，所有记录的 Thino 内容将统一归类到该标题下。","Different insert target for different type":"不同类型的 Thino 有不同的插入目标","Toggle this to set different insert target for different type of thino, like task or list type of thino":"切换此选项以为不同类型的 Thino 设置不同的插入目标，例如任务或列表类型的 Thino","Set process target":"设置处理目标","You can set whole diary or only part of it":"你可以设置整个日记或者其中的一部分",Custom:"自定义","Whole diary":"整个日记","Set thino insert place":"设置 Thino 插入位置","Set where to insert thino content":"设置 Thino 内容插入位置","End of the diary":"日记的末尾","Custom location":"自定义位置","Setting guide":"设置流程","Details settings":"详细设置","Start Thino":"开始 Thino","About Thino Pro":"关于 Thino 专业版",Enabled:"已启用",Enable:"启用","Daily notes folder":"日记文件夹","Set daily notes folder":"设置日记文件夹","Daily note name format":"日记文件名格式","Set daily note name format":"设置日记文件名格式","Daily note plugin":"日记插件","Enable daily note plugin":"启用日记插件",Selected:"已选择",Select:"选择","A classic theme for Thino with a two-column layout":"Thino 的经典主题，采用两列布局",Classic:"经典","A modern theme for Thino with a three-column layout and some unique features.":"Thino 的现代主题，采用三列布局和一些独特的功能。",Modern:"现代","Go and enjoy Thino":"去享受 Thino 吧","Congrats! All settings done":"恭喜！所有设置已完成","Adjust settings that influence your user experience with Thino.":"调整影响你使用 Thino 的设置。","Set preferences for using Thino":"设置使用 Thino 的偏好","If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.":"如果你使用的是 Thino 基础版，启用日记插件是必须的。配置其设置以有效地使用它。","Go with daily note plugin":"使用日记插件","Choose a theme for Thino.":"选择 Thino 的主题。","Set theme for Thino":"设置 Thino 的主题","Set up your user info for Thino.":"设置你的用户信息。","Get started with Thino":"开始使用 Thino","Skip and start Thino":"跳过并开始 Thino","Next step":"下一步","Back to previous step":"返回上一步","Click to enable =>":"点击启用 =>","This is Thino's sidebar. Navigate to different path or select query filter.":"这是 Thino 的侧边栏。你可以导航到不同的路径或选择查询过滤器。","Click here and go to settings page.":"点击这里并转到设置页面。","Click here and go to different path.":"点击这里并转到不同的路径。","Select or create query filter here.":"在这里选择或创建查询过滤器。","See the status of Thinos here.":"在这里看到 Thino 的状态。","Search your thino quickly here.":"在这里快速搜索你的 Thino。","Edit or create your thino here.":"在这里编辑或创建你的 Thino。","See your thinos here.":"在这里看到你的 Thino。","See your time status of thinos here.":"在这里看到你的 Thino 时间状态。","See your tags here. Tags will be shown when thino contains tags.":"在这里看到你的标签。当 Thino 包含标签时，标签将显示。",Done:"完成","Thino is ready to use. ":"Thino 已准备好使用。","You can start using Thino now. If you want to know more about Thino Pro, click the button below.":"你现在可以开始使用 Thino 了。如果你想了解更多关于 Thino 专业版的信息，请点击下面的按钮。","Default time prefix":"默认时间前缀","Append Text Action":"分享到 Thino 时的后置文本动作","Prepend Text Action":"分享到 Thino 时的前置文本动作",Preset:"预设","Select Tags":"选择标签","It is not available on small view":"在窄的视图中不可用","Append text":"在末尾添加文本","Prepend text":"在开头添加文本","Your daily note folder is not set correctly, please check your settings":"你的日记文件夹设置不正确，请检查你的设置","Default sharing style":"默认分享样式","Set the default style for sharing thino, 'Modern' by default.":"设置 Thino 的默认分享样式，默认为“现代”。",Clean:"清爽",Minimal:"极简"},ON={},PN={ar:fN,cs:hN,da:pN,de:mN,en:NI,"en-gb":gN,es:yN,fr:vN,hi:wN,id:bN,it:SN,ja:DN,ko:TN,nl:IN,nn:EN,pl:xN,pt:CN,"pt-br":MN,ro:kN,ru:NN,tr:AN,"zh-cn":FN,"zh-tw":ON},RS=PN[C.moment.locale()];function x(e){const t=RS&&RS[e]||NI[e];return t===null?t:t||e}const jN=/```([\s\S]*?)```/g,LN=/\*\*(.+?)\*\*/g,RN=/\*(.+?)\*/g,_N=/\[ \] /g,BN=/\[.{1}\] /g,HN=/^[*-]/g,UN=/(\d+)\. /g,_S=/\[\[([^\]]+)\]\]/g,Xw=/\[([^\]]+)\]\((([^\]]+).md)\)/g,YN=(e,t)=>{const n=e.replace(jN,"<pre lang=''>$1</pre>").replace(HN,"<span class='counter-block'>•</span>").replace(UN,"<span class='counter-block'>$1.</span>").replace(_N,"<span class='todo-block' data-type='todo'>⬜</span>").replace(BN,"<span class='todo-block' data-type='done'>✅</span>").replace(LN,"<strong>$1</strong>").replace(RN,"<em>$1</em>").replace(/&lt;br&gt;/g,"</p><p>").replace(/&amp;/g,"&");let r=n;if(t){if(_S.test(n)){const o=n.match(_S);for(let i=0;i<o.length;i++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(o[i])){const s=zN(o[i]);if(/\|/g.test(s)){const[c,d]=s.split("|"),h=lw(c,d);r=n.replace(o[i],h)}else{const h=lw(s,"");r=r.replace(o[i],h)}}}if(Xw.test(n)){const o=n.match(Xw);for(let i=0;i<o.length;i++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(o[i])){const s=ZN(o[i]),c=VN(o[i]),d=lw(s,c);r=n.replace(o[i],d)}}}return r},lw=(e,t)=>{const{metadataCache:n}=Le.getState().dailyNotesState.app;return n.getFirstLinkpathDest(decodeURIComponent(e),"")instanceof C.TFile?t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${e}</a>`:t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${e}</a>`},zN=e=>{var t;return(t=/\[\[([^\]]+)\]\]/g.exec(e))==null?void 0:t[1]},VN=e=>{var t;return(t=Xw.exec(e))==null?void 0:t[1]},ZN=e=>{var t;return(t=/\[([^\]]+)\]\((([^\]]+).md)\)/g.exec(e))==null?void 0:t[3]},BS=e=>{const t=document.createElement("div");return t.className="memo-content-text",t.innerHTML=e,t.innerText},WN=e=>e.replace(/\n/g,"<br>"),$N=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML},HS="mobile-show-sidebar",AI=200,ul=3600*24*1e3,yr=/\s#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,so=/(<p>|<br>)#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,Pr=/^#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/gu,Id=/(\s|：|\(|>|^)((http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-]))/g,qN=/\[([\s\S]*?)\]\(([\s\S]*?)\)/gu,Ed=/([^\s<\\*>'(]+\.(jpeg|jpg|gif|png|svg))(\]\])?(\))?/g,sc=/\[@(.+?)\]\((.+?)\)/g,GN=/^(-|\*|\d\.)\s(\[.\]\s)?(\d{1,2}:\d{2}(:\d{2})?)\s(.*)/g,gm=[{title:"DAILY",icon:"list"},{title:"CANVAS",icon:"layout-dashboard"},{title:"MULTI",icon:"file-text"},{title:"FILE",icon:"edit"}];var e1;(e=>{function t(){return parseInt(C.moment().format("x"))}e.getNowTimeStamp=t;function n(V){const Z=/'’A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,$=/\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5/.source,oe=/[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5]{1}/.source,te=new RegExp([`(?:[0-9]+(?:(?:,|\\.)[0-9]+)*|[\\-${Z}])+`,$,oe].join("|"),"g");return(V.match(te)||[]).length}e.getWordCount=n;function r(V){mm()&&(V!=null&&V.EnabledLocationList.some(Z=>Z.value==="DAILY"))&&(V!=null&&V.EnabledLocationList.some(Z=>Z.value==="MULTI"))&&Fv().contains(V==null?void 0:V.MemoOtherSaveLocation.MemoDefaultMultiFilePath)&&new C.Notice(x("Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly."),5e3)}e.checkDailyInMulti=r;function o(){const V=navigator.userAgent;let Z="Unknown";return V.indexOf("Win")!=-1?Z="Windows":V.indexOf("Mac")!=-1?Z="MacOS":V.indexOf("Linux")!=-1&&(Z="Linux"),Z}e.getOSVersion=o;function i(V){return typeof V=="string"&&(V=V.replaceAll("-","/")),new Date(V).getTime()}e.getTimeStampByDate=i;function s(V){const Z=new Date(i(V));return new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()).getTime()}e.getDateStampByDate=s;function c(V){const Z=new Date(i(V)),$=Z.getFullYear(),oe=Z.getMonth()+1,te=Z.getDate();return`${$}/${oe}/${te}`}e.getDateString=c;function d(V){const Z=new Date(i(V)),$=Z.getHours(),oe=Z.getMinutes(),te=$<10?"0"+$:$,ye=oe<10?"0"+oe:oe;return`${te}:${ye}`}e.getTimeString=d;function h(V){const Z=new Date(i(V)),$=Z.getFullYear(),oe=Z.getMonth()+1,te=Z.getDate(),ye=Z.getHours(),ge=Z.getMinutes(),ce=Z.getSeconds(),Q=oe<10?"0"+oe:oe,ue=te<10?"0"+te:te,se=ye<10?"0"+ye:ye,we=ge<10?"0"+ge:ge,J=ce<10?"0"+ce:ce;return`${$}/${Q}/${ue} ${se}:${we}:${J}`}e.getDateTimeString=h;function m(V){return Array.from(new Set(V))}e.dedupe=m;function g(V){const Z=new Set,$=[];for(const oe of V)Z.has(oe.id)||(Z.add(oe.id),$.push(oe));return $}e.dedupeObjectWithId=g;function v(V,Z){let $=null;return()=>{$&&clearTimeout($),$=setTimeout(V,Z)}}e.debounce=v;function b(V,Z,$=!1,oe){let te=null,ye=!1;function ge(...ce){if(te&&clearTimeout(te),$&&!ye){const Q=V.apply(this,ce);oe&&typeof oe=="function"&&oe(Q),ye=!0}else te=setTimeout(()=>{const Q=V.apply(this,ce);oe&&typeof oe=="function"&&oe(Q),ye=!1,te=null},Z)}return ge.cancel=function(){te&&clearTimeout(te),te=null,ye=!1},ge}e.debouncePlus=b;function D(V,Z){let $=!0;return()=>{if(!$)return!1;$=!1,setTimeout(()=>{V(),$=!0},Z)}}e.throttle=D;function T(V){const Z=[],$=Object.keys(V).sort();for(const oe of $){const te=V[oe];te&&(typeof te=="object"?Z.push(...T(te).split("&")):Z.push(`${oe}=${te}`))}return Z.join("&")}e.transformObjectToParamsString=T;function I(V){const Z={},$=V.split("&");for(const oe of $){const[te,ye]=oe.split("=");te&&ye&&(Z[te]=ye)}return Z}e.transformParamsStringToObject=I;function O(V){if(!V)return{};const Z={},$=Object.keys(V).sort();for(const oe of $){const te=V[oe];if(typeof te=="object"){const ye=O(JSON.parse(JSON.stringify(te)));ye&&Object.keys(ye).length>0&&(Z[oe]=ye)}else te&&(Z[oe]=te)}return Z}e.filterObjectNullKeys=O;async function N(V){if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(V)}catch(Z){console.warn("Copy to clipboard failed.",Z)}else console.warn("Copy to clipboard failed, methods not supports.")}e.copyTextToClipboard=N;function B(V){return new Promise(Z=>{const $=new Image;$.onload=()=>{const{width:oe,height:te}=$;oe>0&&te>0?Z({width:oe,height:te}):Z({width:0,height:0})},$.onerror=()=>{Z({width:0,height:0})},$.className="hidden",$.src=V,document.body.appendChild($),$.remove()})}e.getImageSize=B;async function P(V){var te,ye,ge,ce;let Z;const oe=app.plugins.getPlugin("obsidian-memos").settings.UseDailyOrPeriodic==="Daily";try{return!oe&&((ce=(ge=(ye=(te=window.app.plugins)==null?void 0:te.getPlugin("periodic-notes"))==null?void 0:ye.calendarSetManager)==null?void 0:ge.getActiveConfig("day"))!=null&&ce.enabled)?(Z=await window.app.plugins.getPlugin("periodic-notes").createPeriodicNote("day",V),Z):(Z=await kI(V),Z)}catch(Q){return console.error(Q),new C.Notice(x("Failed to create daily note. Please check if you created a folder for daily notes.")),null}}e.createDailyNoteCheck=P;function U(V){const Z=[];let $=0;for(;$<V;$++)Z.push((16*Math.random()|0).toString(16));return Z.join("")}e.randomId=U;function L(V){return V.replace(/[\p{P}\p{Z}\p{S}]/gu,"").length}e.countWords=L;async function z(V){try{const Z=await C.requestUrl(V),$=new Uint8Array(Z.arrayBuffer);return new Blob([$],{type:"image/png"})}catch(Z){return console.error("error in grabImageFromUrl",V,Z),new Blob}}e.grabImageFromUrl=z})(e1||(e1={}));const at=e1;function JN(){var i,s,c,d,h,m;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(c=(s=(i=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:i.calendarSetManager)==null?void 0:s.getActiveConfig("day"))==null?void 0:c.folder,o=(m=(h=(d=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:d.settings)==null?void 0:h.daily)==null?void 0:m.format;switch(r===void 0?n=o:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=ec().format||"YYYY-MM-DD";break;case"Periodic":e=n||"YYYY-MM-DD";break;default:e=ec().format||"YYYY-MM-DD";break}return e===void 0&&new C.Notice(x("You didn't set format for daily notes in both periodic-notes and daily-notes plugins.")),e}function Fv(){var i,s,c,d,h,m;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(c=(s=(i=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:i.calendarSetManager)==null?void 0:s.getActiveConfig("day"))==null?void 0:c.folder,o=(m=(h=(d=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:d.settings)==null?void 0:h.daily)==null?void 0:m.folder;switch(r===void 0?n=o:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=ec().folder||"";break;case"Periodic":e=n||"";break;default:e=ec().folder||"";break}return e===void 0&&new C.Notice(x("You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.")),e}function KN(){const e=Fv();return!(e!==void 0&&!app.vault.getFolderByPath(e))}function t1(e,t){var r;e=$N(e),e=WN(e).split("<br>").map(o=>`<p>${o!==""?o:"<br>"}</p>`).join(""),e=YN(e,t),e=e.replace(yr,"<span class='tag-span'>#$1</span>").replace(so,"<p><span class='tag-span'>#$2</span>").replace(Id,"$1<a class='link' target='_blank' rel='noreferrer' href='$2'>$2</a>").replace(qN,"<a class='link' target='_blank' rel='noreferrer' href='$2'>$1</a>").replace(sc,"<span class='memo-link-text' data-value='$2'>$1</span>").replace(/\^\S{6}/g,"");const n=document.createElement("div");n.innerHTML=e;for(let o=0;o<n.children.length;o++){const i=n.children[o];if(i.tagName==="P"&&i.textContent===""&&((r=i.firstElementChild)==null?void 0:r.tagName)!=="BR"){i.remove(),o--;continue}}return n.innerHTML}const Ov=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),o=new Uint8Array(r);for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return new Blob([r],{type:t})};function QN(e,t){switch(t.type){case"SET_MEMOS":{const n=t.payload.memos.sort((o,i)=>{const s=at.getTimeStampByDate(o.createdAt),c=at.getTimeStampByDate(i.createdAt);return s===c?i.id.localeCompare(o.id):at.getTimeStampByDate(i.createdAt)-at.getTimeStampByDate(o.createdAt)}),r=at.dedupeObjectWithId(n);return{...e,memos:[...r]}}case"SET_COMMENT_MEMOS":{const n=at.dedupeObjectWithId(t.payload.commentMemos.sort((r,o)=>at.getTimeStampByDate(o.createdAt)-at.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"SET_TAGS":return{...e,tags:t.payload.tags,tagsNum:t.payload.tagsNum};case"INSERT_MEMO":{const n=at.dedupeObjectWithId([t.payload.memo,...e.memos].sort((r,o)=>at.getTimeStampByDate(o.createdAt)-at.getTimeStampByDate(r.createdAt)));return{...e,memos:n}}case"INSERT_COMMENT_MEMO":{const n=at.dedupeObjectWithId([t.payload.memo,...e.commentMemos].sort((r,o)=>at.getTimeStampByDate(o.createdAt)-at.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"DELETE_MEMO_BY_ID":return{...e,memos:[...e.memos].filter(n=>n.id!==t.payload.id)};case"DELETE_MEMO_BY_ID_BATCH":{const n=[...e.memos];return t.payload.ids.forEach(r=>{n.splice(n.findIndex(o=>o.id===r),1)}),{...e,memos:[...n]}}case"PREPARE_UPDATE_THINO":return{...e,preparingUpdateMemo:[...e.preparingUpdateMemo,{thino:t.payload.thino,originalId:t.payload.originalId}]};case"REMOVE_PREPARE_UPDATE_THINO":return{...e,preparingUpdateMemo:[]};case"REMOVE_PARTICULAR_PREPARE_UPDATE_THINO":return{...e,preparingUpdateMemo:e.preparingUpdateMemo.filter(n=>n.originalId!==t.payload.originalId)};case"CLEAR_MEMOS":return{...FI};case"EDIT_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"EDIT_MEMO_PATH":{const n=e.memos.map(r=>r.path===t.payload.path?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"UPDATE_MEMO_BATCH":{const n=e.memos.filter(o=>o.path!==t.payload.path),r=at.dedupeObjectWithId([...t.payload.memos,...n].sort((o,i)=>at.getTimeStampByDate(i.createdAt)-at.getTimeStampByDate(o.createdAt)));return{...e,memos:[...r]}}case"ARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"ARCHIVE_MEMO_BY_ID_BULK":{const n=e.memos.map(r=>t.payload.some(o=>o.id===r.id)?{...r,...t.payload.filter(o=>o.id===r.id)[0]}:r);return{...e,memos:[...n]}}case"UNARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"PIN_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,pinned:t.payload.pinned}:r);return{...e,memos:[...n]}}case"EDIT_COMMENT_MEMO":{const n=e.commentMemos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,commentMemos:[...n]}}default:return e}}const FI={memos:[],commentMemos:[],tags:[],tagsNum:{},preparingUpdateMemo:[]};function XN(e,t){switch(t.type){case"SIGN_IN":return{user:t.payload.user};case"SIGN_OUT":return{user:null};default:return e}}const eA={user:null};function tA(e,t){switch(t.type){case"SET_QUERIES":{const n=at.dedupeObjectWithId(t.payload.queries.sort((r,o)=>at.getTimeStampByDate(o.createdAt)-at.getTimeStampByDate(r.createdAt)).sort((r,o)=>at.getTimeStampByDate(o.pinnedAt??0)-at.getTimeStampByDate(r.pinnedAt??0)));return{...e,queries:n}}case"INSERT_QUERY":{const n=at.dedupeObjectWithId([t.payload.query,...e.queries].sort((r,o)=>at.getTimeStampByDate(o.createdAt)-at.getTimeStampByDate(r.createdAt)));return{...e,queries:n}}case"DELETE_QUERY_BY_ID":return{...e,queries:[...e.queries].filter(n=>n.id!==t.payload.id)};case"UPDATE_QUERY":{const n=e.queries.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,queries:n}}default:return e}}const nA={queries:[]};function rA(e,t){var n,r,o,i;switch(t.type){case"SET_DAILY_NOTES":return{...e,dailyNotes:t.payload.dailyNotes};case"SET_APP":return e.app?{...e}:{...e,app:t.payload.app};case"SET_PLUGIN":return e.plugin?{...e}:{...e,plugin:t.payload.plugin};case"SET_EDITOR":return e.editor?{...e}:{...e,editor:t.payload.editor};case"SET_SETTINGS":return e.settings&&e.settings===t.payload.settings?{...e}:{...e,settings:t.payload.settings};case"SET_VIEW":return e.view&&((r=(n=e.view)==null?void 0:n.leaf)==null?void 0:r.id)===((i=(o=t.payload.view)==null?void 0:o.leaf)==null?void 0:i.id)?{...e}:{...e,view:t.payload.view};case"CLEAR_VIEW":return e.view&&e.view.unload(),{...e,view:null};case"CLEAR_FILES":return{...e,dailyNotes:null};case"SET_VERIFY_STATE":return{...e,verifyState:t.payload.verifyState};default:return e}}const oA={dailyNotes:null,app:null,view:null,settings:null,editor:null,plugin:null,verifyState:null},Le=L4({globalState:_4,locationState:mI,memoState:FI,userState:eA,queryState:nA,dailyNotesState:oA},j4({globalState:R4,locationState:B4,memoState:QN,userState:XN,queryState:tA,dailyNotesState:rA})),Pt=j.createContext(Le.getState());String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object regexp]"?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});class iA{constructor(){De(this,"initialized",!1)}getState(){return Le.getState().dailyNotesState}setApp(t){return Le.dispatch({type:"SET_APP",payload:{app:t}}),t}setPlugin(t){return Le.dispatch({type:"SET_PLUGIN",payload:{plugin:t}}),t}setSettings(t){return Le.dispatch({type:"SET_SETTINGS",payload:{settings:t}}),this.initialized||(this.initialized=!0),t}setView(t){return Le.dispatch({type:"SET_VIEW",payload:{view:t}}),t}setEditor(t){return Le.dispatch({type:"SET_EDITOR",payload:{editor:t}}),t}async updateDailyNotes(t,n){const r=this.getState().dailyNotes,o=Xf(t,"day");return n?delete r[`day-${o.format("YYYY-MM-DD")}T00:00:00+08:00}`]:r[`day-${o.format("YYYY-MM-DD")}T00:00:00+08:00}`]=t,Le.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:r}}),r}setVerifyState(t){return Le.dispatch({type:"SET_VERIFY_STATE",payload:{verifyState:t}}),t}async fechLocalDailyNotes(){try{const t=ru();return Le.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:t}}),t}catch(t){console.error(t)}}}const yt=new iA;var Vr;(e=>{function t(i){const s={};for(const c of i)try{const d=localStorage.getItem(c);if(d!==null){const h=JSON.parse(d);s[c]=h}}catch(d){console.error("Get storage failed in ",c,d)}return s}e.get=t;function n(i){for(const s in i)try{const c=JSON.stringify(i[s]);localStorage.setItem(s,c)}catch(c){console.error("Save storage failed in ",s,c)}}e.set=n;function r(i){for(const s of i)try{localStorage.removeItem(s)}catch(c){console.error("Remove storage failed in ",s,c)}}e.remove=r;function o(){var s;const i=document.createElement("iframe");i.style.display="none",document.body.appendChild(i),(s=i.contentWindow)==null||s.localStorage.setItem("t",Date.now().toString()),i.remove()}e.emitStorageChangedEvent=o})(Vr||(Vr={}));class aA{constructor(){De(this,"getState",()=>Le.getState().globalState);De(this,"setEditMemoId",t=>{Le.dispatch({type:"SET_EDIT_MEMO_ID",payload:{editMemoId:t}})});De(this,"setRefresh",t=>{Le.dispatch({type:"SET_REFRESH",payload:{refresh:t}})});De(this,"setCommentMemoId",t=>{Le.dispatch({type:"SET_COMMENT_MEMO_ID",payload:{commentMemoId:t}})});De(this,"setMarkMemoId",t=>{Le.dispatch({type:"SET_MARK_MEMO_ID",payload:{markMemoId:t}})});De(this,"setLoaded",t=>{Le.dispatch({type:"SET_LOADED",payload:{loaded:t}})});De(this,"setGlobalEditorShown",t=>{Le.dispatch({type:"SET_GLOBAL_EDITOR_SHOWN",payload:{globalEditorShown:t}})});De(this,"setIsMobileView",t=>{Le.dispatch({type:"SET_MOBILE_VIEW",payload:{isMobileView:t}})});De(this,"setChangedByMemos",t=>{Le.dispatch({type:"SET_CHANGED_BY_MEMOS",payload:{changedByMemos:t}})});De(this,"setShowSiderbarInMobileView",t=>{Le.dispatch({type:"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW",payload:{showSiderbarInMobileView:t}})});De(this,"setAppSetting",t=>{Le.dispatch({type:"SET_APP_SETTING",payload:t}),Vr.set(t)});De(this,"setMemoListView",t=>{Le.dispatch({type:"SET_MEMO_LIST_VIEW",payload:{memoListView:t}})});De(this,"setInstance",(t,n)=>{Le.dispatch({type:"SET_INSTANCE",payload:{id:t,instance:n}})});De(this,"setLocked",t=>{Le.dispatch({type:"SET_LOCKED",payload:{locked:t}})});De(this,"setExitSteps",t=>{Le.dispatch({type:"SET_EXIT_STEPS",payload:{exited:t}})});De(this,"setPluginManifest",t=>{Le.dispatch({type:"SET_MEMO_PLUGIN_MANIFEST",payload:{manifest:t}})});const t=Vr.get(["shouldSplitMemoWord","shouldHideImageUrl","shouldUseMarkdownParser","useTinyUndoHistoryCache"]),n={shouldSplitMemoWord:t.shouldSplitMemoWord||!0,shouldHideImageUrl:t.shouldHideImageUrl||!0,shouldUseMarkdownParser:t.shouldUseMarkdownParser||!0,useTinyUndoHistoryCache:t.useTinyUndoHistoryCache||!1};this.setAppSetting(n)}}const ft=new aA;class sA{constructor(){De(this,"updateStateWithLocation",()=>{const{pathname:t,search:n,hash:r}=window.location,o=new URLSearchParams(n),i={pathname:"/",hash:"",query:{tag:"",duration:null,text:"",type:"",filter:""}};i.query.tag=o.get("tag")||"",i.query.type=o.get("type")??"",i.query.text=o.get("text")??"",i.query.filter=o.get("filter")??"";const s=parseInt(o.get("from")??"0"),c=parseInt(o.get("to")??"0");c>s&&c!==0&&(i.query.duration={from:s,to:c}),i.hash=r,i.pathname=this.getValidPathname(t),Le.dispatch({type:"SET_LOCATION",payload:i})});De(this,"getState",()=>Le.getState().locationState);De(this,"clearQuery",()=>{Le.dispatch({type:"SET_QUERY",payload:{tag:"",duration:null,text:"",type:"",filter:""}})});De(this,"setQuery",t=>{Le.dispatch({type:"SET_QUERY",payload:t})});De(this,"reloadApp",()=>{Le.dispatch({type:"RELOAD"})});De(this,"setHash",t=>{Le.dispatch({type:"SET_HASH",payload:{hash:t}})});De(this,"setPathname",t=>{Le.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});De(this,"pushHistory",t=>{Le.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});De(this,"replaceHistory",t=>{Le.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});De(this,"setMemoTypeQuery",(t="")=>{Le.dispatch({type:"SET_TYPE",payload:{type:t}})});De(this,"setMemoFilter",t=>{Le.dispatch({type:"SET_QUERY_FILTER",payload:t})});De(this,"setTextQuery",t=>{Le.dispatch({type:"SET_TEXT",payload:{text:t}})});De(this,"setTimeQuery",t=>{Le.dispatch({type:"SET_DURATION_QUERY",payload:{duration:t}})});De(this,"setTagQuery",t=>{Le.dispatch({type:"SET_TAG_QUERY",payload:{tag:t}})});De(this,"setFromAndToQuery",(t,n)=>{Le.dispatch({type:"SET_DURATION_QUERY",payload:{duration:{from:t,to:n}}})});De(this,"getValidPathname",t=>["/","/homeboard","/recycle","/setting"].includes(t)?t:"/");this.updateStateWithLocation(),window.onpopstate=()=>{this.updateStateWithLocation()}}}const ot=new sA,ud=e=>`${e.vault.configDir}/query.json`,OI=async(e,t)=>{try{return await e.vault.adapter.read(t),!0}catch(n){return console.error(n),!1}},mh=async e=>(await OI(e,ud(e))||await PI(e),JSON.parse(await e.vault.adapter.read(ud(e))).queries||[]),Hm=async(e,t)=>{await e.vault.adapter.write(ud(e),JSON.stringify({queries:t},null,2))},PI=async e=>{const t=ft.getState().manifest,n=e.plugins.getPlugin(t.id||"obsidian-memos").settings,r=e.metadataCache.getFirstLinkpathDest(n.QueryFileName,"");if(!r)await e.vault.adapter.write(ud(e),JSON.stringify({queries:[]},null,2));else{const i=(await e.vault.read(r)).split(`
`);i.length===0&&await e.vault.adapter.write(ud(e),JSON.stringify({queries:[]},null,2));const s=[];for(let c=0;c<i.length;c++){const d=c,h="Memos";let m="未命名";const g=i[c];let v=C.moment().format("YYYY/MM/DD HH:mm:ss"),b="[]";const D=g.match(/^\d{14,16}/);D&&(v=C.moment(D[0].slice(0,14),"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:ss"));const T=g.match(/\[\{(.+)\}\]/);T&&(b=T[0]);const I=g.match(/\s(.+)\s\[\{/);I&&(m=I[0].slice(1,-3)),s.push({id:d,pinnedAt:"",createdAt:v,updatedAt:v,title:m,querystring:b,userId:h})}await e.vault.adapter.write(ud(e),JSON.stringify({queries:s},null,2))}},lA=async()=>{const{app:e}=Le.getState().dailyNotesState;return await OI(e,ud(e))||await PI(e),await mh(e)||[]},uA=(e,t)=>({createdAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),id:e,pinnedAt:"",querystring:t,title:x("Temp Filter"),updatedAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"}),cA=async(e,t)=>{const n=await mh(Le.getState().dailyNotesState.app)||[],r={createdAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),id:C.moment().format("YYYYMMDDHHmmss")+n.length,pinnedAt:"",querystring:t,title:e,updatedAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"};return n.push(r),await Hm(Le.getState().dailyNotesState.app,n),r};var ev={exports:{}};ev.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,m="__lodash_placeholder__",g=1,v=2,b=4,D=1,T=2,I=1,O=2,N=4,B=8,P=16,U=32,L=64,z=128,V=256,Z=512,$=30,oe="...",te=800,ye=16,ge=1,ce=2,Q=3,ue=1/0,se=9007199254740991,we=17976931348623157e292,J=NaN,ee=4294967295,fe=ee-1,xe=ee>>>1,je=[["ary",z],["bind",I],["bindKey",O],["curry",B],["curryRight",P],["flip",Z],["partial",U],["partialRight",L],["rearg",V]],Ve="[object Arguments]",Re="[object Array]",$e="[object AsyncFunction]",qe="[object Boolean]",lt="[object Date]",It="[object DOMException]",Fe="[object Error]",st="[object Function]",it="[object GeneratorFunction]",ct="[object Map]",Tt="[object Number]",xt="[object Null]",_t="[object Object]",Yt="[object Promise]",vn="[object Proxy]",$t="[object RegExp]",tn="[object Set]",rn="[object String]",Xt="[object Symbol]",Ln="[object Undefined]",lr="[object WeakMap]",$r="[object WeakSet]",tr="[object ArrayBuffer]",nr="[object DataView]",Pi="[object Float32Array]",Eo="[object Float64Array]",Uo="[object Int8Array]",ji="[object Int16Array]",xo="[object Int32Array]",Li="[object Uint8Array]",aa="[object Uint8ClampedArray]",li="[object Uint16Array]",Ri="[object Uint32Array]",X=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,Ne=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Be=/&(?:amp|lt|gt|quot|#39);/g,He=/[&<>"']/g,Xe=RegExp(Be.source),et=RegExp(He.source),kt=/<%-([\s\S]+?)%>/g,Kt=/<%([\s\S]+?)%>/g,Pn=/<%=([\s\S]+?)%>/g,wn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jr=/^\w*$/,Rn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rr=/[\\^$.*+?()[\]{}|]/g,Lr=RegExp(rr.source),sa=/^\s+/,bn=/\s/,co=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fo=/\{\n\/\* \[wrapped with (.+)\] \*/,Cr=/,? & /,Yo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ho=/[()=,{}\[\]\/\s]/,gl=/\\(\\)?/g,_i=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bi=/\w*$/,au=/^[-+]0x[0-9a-f]+$/i,yl=/^0b[01]+$/i,La=/^\[object .+?Constructor\]$/,la=/^0o[0-7]+$/i,Ra=/^(?:0|[1-9]\d*)$/,vl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_a=/($^)/,su=/['\n\r\u2028\u2029\\]/g,Sn="\\ud800-\\udfff",Rr="\\u0300-\\u036f",ps="\\ufe20-\\ufe2f",ms="\\u20d0-\\u20ff",Hi=Rr+ps+ms,wl="\\u2700-\\u27bf",ui="a-z\\xdf-\\xf6\\xf8-\\xff",zo="\\xac\\xb1\\xd7\\xf7",po="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ba="\\u2000-\\u206f",vr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gs="A-Z\\xc0-\\xd6\\xd8-\\xde",ys="\\ufe0e\\ufe0f",vs=zo+po+Ba+vr,Vo="['’]",Ha="["+Sn+"]",Ui="["+vs+"]",Zo="["+Hi+"]",M="\\d+",_="["+wl+"]",G="["+ui+"]",re="[^"+Sn+vs+M+wl+ui+gs+"]",ke="\\ud83c[\\udffb-\\udfff]",Te="(?:"+Zo+"|"+ke+")",Ue="[^"+Sn+"]",nt="(?:\\ud83c[\\udde6-\\uddff]){2}",ut="[\\ud800-\\udbff][\\udc00-\\udfff]",Nt="["+gs+"]",zt="\\u200d",Tn="(?:"+G+"|"+re+")",Co="(?:"+Nt+"|"+re+")",mo="(?:"+Vo+"(?:d|ll|m|re|s|t|ve))?",_r="(?:"+Vo+"(?:D|LL|M|RE|S|T|VE))?",ci=Te+"?",go="["+ys+"]?",Mo="(?:"+zt+"(?:"+[Ue,nt,ut].join("|")+")"+go+ci+")*",qr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yo=go+ci+Mo,ua="(?:"+[_,nt,ut].join("|")+")"+yo,ca="(?:"+[Ue+Zo+"?",Zo,nt,ut,Ha].join("|")+")",Rh=RegExp(Vo,"g"),Md=RegExp(Zo,"g"),Ua=RegExp(ke+"(?="+ke+")|"+ca+yo,"g"),_h=RegExp([Nt+"?"+G+"+"+mo+"(?="+[Ui,Nt,"$"].join("|")+")",Co+"+"+_r+"(?="+[Ui,Nt+Tn,"$"].join("|")+")",Nt+"?"+Tn+"+"+mo,Nt+"+"+_r,Wo,qr,M,ua].join("|"),"g"),di=RegExp("["+zt+Sn+Hi+ys+"]"),ws=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xn=-1,on={};on[Pi]=on[Eo]=on[Uo]=on[ji]=on[xo]=on[Li]=on[aa]=on[li]=on[Ri]=!0,on[Ve]=on[Re]=on[tr]=on[qe]=on[nr]=on[lt]=on[Fe]=on[st]=on[ct]=on[Tt]=on[_t]=on[$t]=on[tn]=on[rn]=on[lr]=!1;var an={};an[Ve]=an[Re]=an[tr]=an[nr]=an[qe]=an[lt]=an[Pi]=an[Eo]=an[Uo]=an[ji]=an[xo]=an[ct]=an[Tt]=an[_t]=an[$t]=an[tn]=an[rn]=an[Xt]=an[Li]=an[aa]=an[li]=an[Ri]=!0,an[Fe]=an[st]=an[lr]=!1;var fi={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},$o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ya={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},uu=parseFloat,bs=parseInt,Ss=typeof zr=="object"&&zr&&zr.Object===Object&&zr,hc=typeof self=="object"&&self&&self.Object===Object&&self,Nn=Ss||hc||Function("return this")(),Ds=t&&!t.nodeType&&t,hi=Ds&&!0&&e&&!e.nodeType&&e,pc=hi&&hi.exports===Ds,Yi=pc&&Ss.process,Mr=function(){try{var be=hi&&hi.require&&hi.require("util").types;return be||Yi&&Yi.binding&&Yi.binding("util")}catch{}}(),Ts=Mr&&Mr.isArrayBuffer,kr=Mr&&Mr.isDate,za=Mr&&Mr.isMap,da=Mr&&Mr.isRegExp,Is=Mr&&Mr.isSet,cu=Mr&&Mr.isTypedArray;function ur(be,Ye,Oe){switch(Oe.length){case 0:return be.call(Ye);case 1:return be.call(Ye,Oe[0]);case 2:return be.call(Ye,Oe[0],Oe[1]);case 3:return be.call(Ye,Oe[0],Oe[1],Oe[2])}return be.apply(Ye,Oe)}function Va(be,Ye,Oe,mt){for(var Wt=-1,hn=be==null?0:be.length;++Wt<hn;){var cr=be[Wt];Ye(mt,cr,Oe(cr),be)}return mt}function or(be,Ye){for(var Oe=-1,mt=be==null?0:be.length;++Oe<mt&&Ye(be[Oe],Oe,be)!==!1;);return be}function Sl(be,Ye){for(var Oe=be==null?0:be.length;Oe--&&Ye(be[Oe],Oe,be)!==!1;);return be}function du(be,Ye){for(var Oe=-1,mt=be==null?0:be.length;++Oe<mt;)if(!Ye(be[Oe],Oe,be))return!1;return!0}function zi(be,Ye){for(var Oe=-1,mt=be==null?0:be.length,Wt=0,hn=[];++Oe<mt;){var cr=be[Oe];Ye(cr,Oe,be)&&(hn[Wt++]=cr)}return hn}function Es(be,Ye){var Oe=be==null?0:be.length;return!!Oe&&Za(be,Ye,0)>-1}function Br(be,Ye,Oe){for(var mt=-1,Wt=be==null?0:be.length;++mt<Wt;)if(Oe(Ye,be[mt]))return!0;return!1}function In(be,Ye){for(var Oe=-1,mt=be==null?0:be.length,Wt=Array(mt);++Oe<mt;)Wt[Oe]=Ye(be[Oe],Oe,be);return Wt}function pi(be,Ye){for(var Oe=-1,mt=Ye.length,Wt=be.length;++Oe<mt;)be[Wt+Oe]=Ye[Oe];return be}function mc(be,Ye,Oe,mt){var Wt=-1,hn=be==null?0:be.length;for(mt&&hn&&(Oe=be[++Wt]);++Wt<hn;)Oe=Ye(Oe,be[Wt],Wt,be);return Oe}function kd(be,Ye,Oe,mt){var Wt=be==null?0:be.length;for(mt&&Wt&&(Oe=be[--Wt]);Wt--;)Oe=Ye(Oe,be[Wt],Wt,be);return Oe}function xs(be,Ye){for(var Oe=-1,mt=be==null?0:be.length;++Oe<mt;)if(Ye(be[Oe],Oe,be))return!0;return!1}var Nd=k("length");function gc(be){return be.split("")}function fu(be){return be.match(Yo)||[]}function Dl(be,Ye,Oe){var mt;return Oe(be,function(Wt,hn,cr){if(Ye(Wt,hn,cr))return mt=hn,!1}),mt}function Tl(be,Ye,Oe,mt){for(var Wt=be.length,hn=Oe+(mt?1:-1);mt?hn--:++hn<Wt;)if(Ye(be[hn],hn,be))return hn;return-1}function Za(be,Ye,Oe){return Ye===Ye?Fd(be,Ye,Oe):Tl(be,pu,Oe)}function hu(be,Ye,Oe,mt){for(var Wt=Oe-1,hn=be.length;++Wt<hn;)if(mt(be[Wt],Ye))return Wt;return-1}function pu(be){return be!==be}function yc(be,Ye){var Oe=be==null?0:be.length;return Oe?Ae(be,Ye)/Oe:J}function k(be){return function(Ye){return Ye==null?n:Ye[be]}}function R(be){return function(Ye){return be==null?n:be[Ye]}}function W(be,Ye,Oe,mt,Wt){return Wt(be,function(hn,cr,Mn){Oe=mt?(mt=!1,hn):Ye(Oe,hn,cr,Mn)}),Oe}function ne(be,Ye){var Oe=be.length;for(be.sort(Ye);Oe--;)be[Oe]=be[Oe].value;return be}function Ae(be,Ye){for(var Oe,mt=-1,Wt=be.length;++mt<Wt;){var hn=Ye(be[mt]);hn!==n&&(Oe=Oe===n?hn:Oe+hn)}return Oe}function Ie(be,Ye){for(var Oe=-1,mt=Array(be);++Oe<be;)mt[Oe]=Ye(Oe);return mt}function ze(be,Ye){return In(Ye,function(Oe){return[Oe,be[Oe]]})}function tt(be){return be&&be.slice(0,Od(be)+1).replace(sa,"")}function St(be){return function(Ye){return be(Ye)}}function Zt(be,Ye){return In(Ye,function(Oe){return be[Oe]})}function jt(be,Ye){return be.has(Ye)}function Cn(be,Ye){for(var Oe=-1,mt=be.length;++Oe<mt&&Za(Ye,be[Oe],0)>-1;);return Oe}function Hr(be,Ye){for(var Oe=be.length;Oe--&&Za(Ye,be[Oe],0)>-1;);return Oe}function ko(be,Ye){for(var Oe=be.length,mt=0;Oe--;)be[Oe]===Ye&&++mt;return mt}var No=R(fi),Il=R($o);function vc(be){return"\\"+Ya[be]}function fa(be,Ye){return be==null?n:be[Ye]}function mu(be){return di.test(be)}function D0(be){return ws.test(be)}function T0(be){for(var Ye,Oe=[];!(Ye=be.next()).done;)Oe.push(Ye.value);return Oe}function Ad(be){var Ye=-1,Oe=Array(be.size);return be.forEach(function(mt,Wt){Oe[++Ye]=[Wt,mt]}),Oe}function Bh(be,Ye){return function(Oe){return be(Ye(Oe))}}function mi(be,Ye){for(var Oe=-1,mt=be.length,Wt=0,hn=[];++Oe<mt;){var cr=be[Oe];(cr===Ye||cr===m)&&(be[Oe]=m,hn[Wt++]=Oe)}return hn}function Cs(be){var Ye=-1,Oe=Array(be.size);return be.forEach(function(mt){Oe[++Ye]=mt}),Oe}function I0(be){var Ye=-1,Oe=Array(be.size);return be.forEach(function(mt){Oe[++Ye]=[mt,mt]}),Oe}function Fd(be,Ye,Oe){for(var mt=Oe-1,Wt=be.length;++mt<Wt;)if(be[mt]===Ye)return mt;return-1}function E0(be,Ye,Oe){for(var mt=Oe+1;mt--;)if(be[mt]===Ye)return mt;return mt}function El(be){return mu(be)?dg(be):Nd(be)}function qo(be){return mu(be)?fg(be):gc(be)}function Od(be){for(var Ye=be.length;Ye--&&bn.test(be.charAt(Ye)););return Ye}var cg=R(lu);function dg(be){for(var Ye=Ua.lastIndex=0;Ua.test(be);)++Ye;return Ye}function fg(be){return be.match(Ua)||[]}function x0(be){return be.match(_h)||[]}var C0=function be(Ye){Ye=Ye==null?Nn:gu.defaults(Nn.Object(),Ye,gu.pick(Nn,bl));var Oe=Ye.Array,mt=Ye.Date,Wt=Ye.Error,hn=Ye.Function,cr=Ye.Math,Mn=Ye.Object,wc=Ye.RegExp,M0=Ye.String,gi=Ye.TypeError,Wa=Oe.prototype,Hh=hn.prototype,ha=Mn.prototype,yu=Ye["__core-js_shared__"],bc=Hh.toString,pn=ha.hasOwnProperty,vu=0,Pd=function(){var u=/[^.]+$/.exec(yu&&yu.keys&&yu.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Sc=ha.toString,jd=bc.call(Mn),hg=Nn._,pg=wc("^"+bc.call(pn).replace(rr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dc=pc?Ye.Buffer:n,$a=Ye.Symbol,Tc=Ye.Uint8Array,Uh=Dc?Dc.allocUnsafe:n,Vi=Bh(Mn.getPrototypeOf,Mn),Ld=Mn.create,Rd=ha.propertyIsEnumerable,_d=Wa.splice,mg=$a?$a.isConcatSpreadable:n,qa=$a?$a.iterator:n,xl=$a?$a.toStringTag:n,Ic=function(){try{var u=es(Mn,"defineProperty");return u({},"",{}),u}catch{}}(),gg=Ye.clearTimeout!==Nn.clearTimeout&&Ye.clearTimeout,_n=mt&&mt.now!==Nn.Date.now&&mt.now,Yh=Ye.setTimeout!==Nn.setTimeout&&Ye.setTimeout,Cl=cr.ceil,Ms=cr.floor,Bd=Mn.getOwnPropertySymbols,zh=Dc?Dc.isBuffer:n,wu=Ye.isFinite,Hd=Wa.join,bu=Bh(Mn.keys,Mn),dr=cr.max,Gr=cr.min,k0=mt.now,yg=Ye.parseInt,Ec=cr.random,Ud=Wa.reverse,xc=es(Ye,"DataView"),Ml=es(Ye,"Map"),Cc=es(Ye,"Promise"),ks=es(Ye,"Set"),Mc=es(Ye,"WeakMap"),Su=es(Mn,"create"),Yd=Mc&&new Mc,Du={},Vh=zs(xc),Ns=zs(Ml),vg=zs(Cc),Tu=zs(ks),pa=zs(Mc),As=$a?$a.prototype:n,Go=As?As.valueOf:n,zd=As?As.toString:n;function q(u){if(hr(u)&&!Jt(u)&&!(u instanceof qt)){if(u instanceof Jr)return u;if(pn.call(u,"__wrapped__"))return Tp(u)}return new Jr(u)}var Iu=function(){function u(){}return function(f){if(!ar(f))return{};if(Ld)return Ld(f);u.prototype=f;var S=new u;return u.prototype=n,S}}();function ma(){}function Jr(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=n}q.templateSettings={escape:kt,evaluate:Kt,interpolate:Pn,variable:"",imports:{_:q}},q.prototype=ma.prototype,q.prototype.constructor=q,Jr.prototype=Iu(ma.prototype),Jr.prototype.constructor=Jr;function qt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function Vd(){var u=new qt(this.__wrapped__);return u.__actions__=bo(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=bo(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=bo(this.__views__),u}function Zh(){if(this.__filtered__){var u=new qt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Eu(){var u=this.__wrapped__.value(),f=this.__dir__,S=Jt(u),F=f<0,H=S?u.length:0,K=Yg(0,H,this.__views__),le=K.start,me=K.end,Se=me-le,Ze=F?me:le-1,We=this.__iteratees__,Ke=We.length,ht=0,Ct=Gr(Se,this.__takeCount__);if(!S||!F&&H==Se&&Ct==Se)return rp(u,this.__actions__);var Bt=[];e:for(;Se--&&ht<Ct;){Ze+=f;for(var nn=-1,Ht=u[Ze];++nn<Ke;){var sn=We[nn],fn=sn.iteratee,ea=sn.type,ni=fn(Ht);if(ea==ce)Ht=ni;else if(!ni){if(ea==ge)continue e;break e}}Bt[ht++]=Ht}return Bt}qt.prototype=Iu(ma.prototype),qt.prototype.constructor=qt;function Ao(u){var f=-1,S=u==null?0:u.length;for(this.clear();++f<S;){var F=u[f];this.set(F[0],F[1])}}function Bn(){this.__data__=Su?Su(null):{},this.size=0}function jn(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f}function Fs(u){var f=this.__data__;if(Su){var S=f[u];return S===d?n:S}return pn.call(f,u)?f[u]:n}function Kr(u){var f=this.__data__;return Su?f[u]!==n:pn.call(f,u)}function Fo(u,f){var S=this.__data__;return this.size+=this.has(u)?0:1,S[u]=Su&&f===n?d:f,this}Ao.prototype.clear=Bn,Ao.prototype.delete=jn,Ao.prototype.get=Fs,Ao.prototype.has=Kr,Ao.prototype.set=Fo;function vo(u){var f=-1,S=u==null?0:u.length;for(this.clear();++f<S;){var F=u[f];this.set(F[0],F[1])}}function xu(){this.__data__=[],this.size=0}function Oo(u){var f=this.__data__,S=Xr(f,u);if(S<0)return!1;var F=f.length-1;return S==F?f.pop():_d.call(f,S,1),--this.size,!0}function Zd(u){var f=this.__data__,S=Xr(f,u);return S<0?n:f[S][1]}function wg(u){return Xr(this.__data__,u)>-1}function bg(u,f){var S=this.__data__,F=Xr(S,u);return F<0?(++this.size,S.push([u,f])):S[F][1]=f,this}vo.prototype.clear=xu,vo.prototype.delete=Oo,vo.prototype.get=Zd,vo.prototype.has=wg,vo.prototype.set=bg;function yi(u){var f=-1,S=u==null?0:u.length;for(this.clear();++f<S;){var F=u[f];this.set(F[0],F[1])}}function Sg(){this.size=0,this.__data__={hash:new Ao,map:new(Ml||vo),string:new Ao}}function Ga(u){var f=wf(this,u).delete(u);return this.size-=f?1:0,f}function Wd(u){return wf(this,u).get(u)}function Wh(u){return wf(this,u).has(u)}function Dg(u,f){var S=wf(this,u),F=S.size;return S.set(u,f),this.size+=S.size==F?0:1,this}yi.prototype.clear=Sg,yi.prototype.delete=Ga,yi.prototype.get=Wd,yi.prototype.has=Wh,yi.prototype.set=Dg;function kl(u){var f=-1,S=u==null?0:u.length;for(this.__data__=new yi;++f<S;)this.add(u[f])}function Os(u){return this.__data__.set(u,d),this}function Cu(u){return this.__data__.has(u)}kl.prototype.add=kl.prototype.push=Os,kl.prototype.has=Cu;function Qr(u){var f=this.__data__=new vo(u);this.size=f.size}function $d(){this.__data__=new vo,this.size=0}function qd(u){var f=this.__data__,S=f.delete(u);return this.size=f.size,S}function vi(u){return this.__data__.get(u)}function wi(u){return this.__data__.has(u)}function Nl(u,f){var S=this.__data__;if(S instanceof vo){var F=S.__data__;if(!Ml||F.length<o-1)return F.push([u,f]),this.size=++S.size,this;S=this.__data__=new yi(F)}return S.set(u,f),this.size=S.size,this}Qr.prototype.clear=$d,Qr.prototype.delete=qd,Qr.prototype.get=vi,Qr.prototype.has=wi,Qr.prototype.set=Nl;function ga(u,f){var S=Jt(u),F=!S&&Xc(u),H=!S&&!F&&Vu(u),K=!S&&!F&&!H&&Yf(u),le=S||F||H||K,me=le?Ie(u.length,M0):[],Se=me.length;for(var Ze in u)(f||pn.call(u,Ze))&&!(le&&(Ze=="length"||H&&(Ze=="offset"||Ze=="parent")||K&&(Ze=="buffer"||Ze=="byteLength"||Ze=="byteOffset")||Si(Ze,Se)))&&me.push(Ze);return me}function ya(u){var f=u.length;return f?u[Lc(0,f-1)]:n}function Al(u,f){return Xo(bo(u),Ja(f,0,u.length))}function Tg(u){return Xo(bo(u))}function kc(u,f,S){(S!==n&&!rs(u[f],S)||S===n&&!(f in u))&&va(u,f,S)}function Fl(u,f,S){var F=u[f];(!(pn.call(u,f)&&rs(F,S))||S===n&&!(f in u))&&va(u,f,S)}function Xr(u,f){for(var S=u.length;S--;)if(rs(u[S][0],f))return S;return-1}function Jo(u,f,S,F){return ba(u,function(H,K,le){f(F,H,S(H),le)}),F}function Hn(u,f){return u&&Ji(f,ao(f),u)}function Zi(u,f){return u&&Ji(f,Ei(f),u)}function va(u,f,S){f=="__proto__"&&Ic?Ic(u,f,{configurable:!0,enumerable:!0,value:S,writable:!0}):u[f]=S}function Gd(u,f){for(var S=-1,F=f.length,H=Oe(F),K=u==null;++S<F;)H[S]=K?n:Q0(u,f[S]);return H}function Ja(u,f,S){return u===u&&(S!==n&&(u=u<=S?u:S),f!==n&&(u=u>=f?u:f)),u}function Po(u,f,S,F,H,K){var le,me=f&g,Se=f&v,Ze=f&b;if(S&&(le=H?S(u,F,H,K):S(u)),le!==n)return le;if(!ar(u))return u;var We=Jt(u);if(We){if(le=zg(u),!me)return bo(u,le)}else{var Ke=ro(u),ht=Ke==st||Ke==it;if(Vu(u))return ip(u,me);if(Ke==_t||Ke==Ve||ht&&!H){if(le=Se||ht?{}:_u(u),!me)return Se?A0(u,Zi(le,u)):Og(u,Hn(le,u))}else{if(!an[Ke])return H?u:{};le=oo(u,Ke,me)}}K||(K=new Qr);var Ct=K.get(u);if(Ct)return Ct;K.set(u,le),bS(u)?u.forEach(function(Ht){le.add(Po(Ht,f,S,Ht,u,K))}):vS(u)&&u.forEach(function(Ht,sn){le.set(sn,Po(Ht,f,S,sn,u,K))});var Bt=Ze?Se?zc:vf:Se?Ei:ao,nn=We?n:Bt(u);return or(nn||u,function(Ht,sn){nn&&(sn=Ht,Ht=u[sn]),Fl(le,sn,Po(Ht,f,S,sn,u,K))}),le}function Ig(u){var f=ao(u);return function(S){return Nc(S,u,f)}}function Nc(u,f,S){var F=S.length;if(u==null)return!F;for(u=Mn(u);F--;){var H=S[F],K=f[H],le=u[H];if(le===n&&!(H in u)||!K(le))return!1}return!0}function $h(u,f,S){if(typeof u!="function")throw new gi(s);return Hu(function(){u.apply(n,S)},f)}function wa(u,f,S,F){var H=-1,K=Es,le=!0,me=u.length,Se=[],Ze=f.length;if(!me)return Se;S&&(f=In(f,St(S))),F?(K=Br,le=!1):f.length>=o&&(K=jt,le=!1,f=new kl(f));e:for(;++H<me;){var We=u[H],Ke=S==null?We:S(We);if(We=F||We!==0?We:0,le&&Ke===Ke){for(var ht=Ze;ht--;)if(f[ht]===Ke)continue e;Se.push(We)}else K(f,Ke,F)||Se.push(We)}return Se}var ba=Pg(bi),Eg=Pg(Ps,!0);function Wi(u,f){var S=!0;return ba(u,function(F,H,K){return S=!!f(F,H,K),S}),S}function Ol(u,f,S){for(var F=-1,H=u.length;++F<H;){var K=u[F],le=f(K);if(le!=null&&(me===n?le===le&&!Xi(le):S(le,me)))var me=le,Se=K}return Se}function Jd(u,f,S,F){var H=u.length;for(S=en(S),S<0&&(S=-S>H?0:H+S),F=F===n||F>H?H:en(F),F<0&&(F+=H),F=S>F?0:DS(F);S<F;)u[S++]=f;return u}function Pl(u,f){var S=[];return ba(u,function(F,H,K){f(F,H,K)&&S.push(F)}),S}function wr(u,f,S,F,H){var K=-1,le=u.length;for(S||(S=P0),H||(H=[]);++K<le;){var me=u[K];f>0&&S(me)?f>1?wr(me,f-1,S,F,H):pi(H,me):F||(H[H.length]=me)}return H}var Ac=cp(),Kd=cp(!0);function bi(u,f){return u&&Ac(u,f,ao)}function Ps(u,f){return u&&Kd(u,f,ao)}function wo(u,f){return zi(f,function(S){return Yl(u[S])})}function Ko(u,f){f=Ka(f,u);for(var S=0,F=f.length;u!=null&&S<F;)u=u[Ki(f[S++])];return S&&S==F?u:n}function Qd(u,f,S){var F=f(u);return Jt(u)?F:pi(F,S(u))}function eo(u){return u==null?u===n?Ln:xt:xl&&xl in Mn(u)?Ug(u):$g(u)}function $i(u,f){return u>f}function js(u,f){return u!=null&&pn.call(u,f)}function qh(u,f){return u!=null&&f in Mn(u)}function xg(u,f,S){return u>=Gr(f,S)&&u<dr(f,S)}function qi(u,f,S){for(var F=S?Br:Es,H=u[0].length,K=u.length,le=K,me=Oe(K),Se=1/0,Ze=[];le--;){var We=u[le];le&&f&&(We=In(We,St(f))),Se=Gr(We.length,Se),me[le]=!S&&(f||H>=120&&We.length>=120)?new kl(le&&We):n}We=u[0];var Ke=-1,ht=me[0];e:for(;++Ke<H&&Ze.length<Se;){var Ct=We[Ke],Bt=f?f(Ct):Ct;if(Ct=S||Ct!==0?Ct:0,!(ht?jt(ht,Bt):F(Ze,Bt,S))){for(le=K;--le;){var nn=me[le];if(!(nn?jt(nn,Bt):F(u[le],Bt,S)))continue e}ht&&ht.push(Bt),Ze.push(Ct)}}return Ze}function Ls(u,f,S,F){return bi(u,function(H,K,le){f(F,S(H),K,le)}),F}function Rs(u,f,S){f=Ka(f,u),u=Df(u,f);var F=u==null?u:u[Ki(Ir(f))];return F==null?n:ur(F,u,S)}function Gh(u){return hr(u)&&eo(u)==Ve}function Xd(u){return hr(u)&&eo(u)==tr}function Cg(u){return hr(u)&&eo(u)==lt}function Mu(u,f,S,F,H){return u===f?!0:u==null||f==null||!hr(u)&&!hr(f)?u!==u&&f!==f:Jh(u,f,S,F,Mu,H)}function Jh(u,f,S,F,H,K){var le=Jt(u),me=Jt(f),Se=le?Re:ro(u),Ze=me?Re:ro(f);Se=Se==Ve?_t:Se,Ze=Ze==Ve?_t:Ze;var We=Se==_t,Ke=Ze==_t,ht=Se==Ze;if(ht&&Vu(u)){if(!Vu(f))return!1;le=!0,We=!1}if(ht&&!We)return K||(K=new Qr),le||Yf(u)?yf(u,f,S,F,H,K):Hg(u,f,Se,S,F,H,K);if(!(S&D)){var Ct=We&&pn.call(u,"__wrapped__"),Bt=Ke&&pn.call(f,"__wrapped__");if(Ct||Bt){var nn=Ct?u.value():u,Ht=Bt?f.value():f;return K||(K=new Qr),H(nn,Ht,S,F,K)}}return ht?(K||(K=new Qr),gp(u,f,S,F,H,K)):!1}function ef(u){return hr(u)&&ro(u)==ct}function tf(u,f,S,F){var H=S.length,K=H,le=!F;if(u==null)return!K;for(u=Mn(u);H--;){var me=S[H];if(le&&me[2]?me[1]!==u[me[0]]:!(me[0]in u))return!1}for(;++H<K;){me=S[H];var Se=me[0],Ze=u[Se],We=me[1];if(le&&me[2]){if(Ze===n&&!(Se in u))return!1}else{var Ke=new Qr;if(F)var ht=F(Ze,We,Se,u,f,Ke);if(!(ht===n?Mu(We,Ze,D|T,F,Ke):ht))return!1}}return!0}function Kh(u){if(!ar(u)||bp(u))return!1;var f=Yl(u)?pg:La;return f.test(zs(u))}function Mg(u){return hr(u)&&eo(u)==$t}function Qh(u){return hr(u)&&ro(u)==tn}function Fc(u){return hr(u)&&uy(u.length)&&!!on[eo(u)]}function Oc(u){return typeof u=="function"?u:u==null?xi:typeof u=="object"?Jt(u)?Gi(u[0],u[1]):ku(u):OS(u)}function nf(u){if(!Wc(u))return bu(u);var f=[];for(var S in Mn(u))pn.call(u,S)&&S!="constructor"&&f.push(S);return f}function kg(u){if(!ar(u))return Wg(u);var f=Wc(u),S=[];for(var F in u)F=="constructor"&&(f||!pn.call(u,F))||S.push(F);return S}function _s(u,f){return u<f}function Xh(u,f){var S=-1,F=Ii(u)?Oe(u.length):[];return ba(u,function(H,K,le){F[++S]=f(H,K,le)}),F}function ku(u){var f=bf(u);return f.length==1&&f[0][2]?$c(f[0][0],f[0][1]):function(S){return S===u||tf(S,u,f)}}function Gi(u,f){return wp(u)&&Bu(f)?$c(Ki(u),f):function(S){var F=Q0(S,u);return F===n&&F===f?X0(S,u):Mu(f,F,D|T)}}function Bs(u,f,S,F,H){u!==f&&Ac(f,function(K,le){if(H||(H=new Qr),ar(K))Pc(u,f,le,S,Bs,F,H);else{var me=F?F(Qo(u,le),K,le+"",u,f,H):n;me===n&&(me=K),kc(u,le,me)}},Ei)}function Pc(u,f,S,F,H,K,le){var me=Qo(u,S),Se=Qo(f,S),Ze=le.get(Se);if(Ze){kc(u,S,Ze);return}var We=K?K(me,Se,S+"",u,f,le):n,Ke=We===n;if(Ke){var ht=Jt(Se),Ct=!ht&&Vu(Se),Bt=!ht&&!Ct&&Yf(Se);We=Se,ht||Ct||Bt?Jt(me)?We=me:Er(me)?We=bo(me):Ct?(Ke=!1,We=ip(Se,!0)):Bt?(Ke=!1,We=sp(Se,!0)):We=[]:Up(Se)||Xc(Se)?(We=me,Xc(me)?We=TS(me):(!ar(me)||Yl(me))&&(We=_u(Se))):Ke=!1}Ke&&(le.set(Se,We),H(We,Se,F,K,le),le.delete(Se)),kc(u,S,We)}function Hs(u,f){var S=u.length;if(S)return f+=f<0?S:0,Si(f,S)?u[f]:n}function rf(u,f,S){f.length?f=In(f,function(K){return Jt(K)?function(le){return Ko(le,K.length===1?K[0]:K)}:K}):f=[xi];var F=-1;f=In(f,St(At()));var H=Xh(u,function(K,le,me){var Se=In(f,function(Ze){return Ze(K)});return{criteria:Se,index:++F,value:K}});return ne(H,function(K,le){return Fg(K,le,S)})}function Nu(u,f){return ep(u,f,function(S,F){return X0(u,F)})}function ep(u,f,S){for(var F=-1,H=f.length,K={};++F<H;){var le=f[F],me=Ko(u,le);S(me,le)&&Zn(K,Ka(le,u),me)}return K}function tp(u){return function(f){return Ko(f,u)}}function Un(u,f,S,F){var H=F?hu:Za,K=-1,le=f.length,me=u;for(u===f&&(f=bo(f)),S&&(me=In(u,St(S)));++K<le;)for(var Se=0,Ze=f[K],We=S?S(Ze):Ze;(Se=H(me,We,Se,F))>-1;)me!==u&&_d.call(me,Se,1),_d.call(u,Se,1);return u}function jc(u,f){for(var S=u?f.length:0,F=S-1;S--;){var H=f[S];if(S==F||H!==K){var K=H;Si(H)?_d.call(u,H,1):Ll(u,H)}}return u}function Lc(u,f){return u+Ms(Ec()*(f-u+1))}function np(u,f,S,F){for(var H=-1,K=dr(Cl((f-u)/(S||1)),0),le=Oe(K);K--;)le[F?K:++H]=u,u+=S;return le}function Au(u,f){var S="";if(!u||f<1||f>se)return S;do f%2&&(S+=u),f=Ms(f/2),f&&(u+=u);while(f);return S}function Gt(u,f){return Tf(Sf(u,f,xi),u+"")}function jl(u){return ya(zf(u))}function Vn(u,f){var S=zf(u);return Xo(S,Ja(f,0,S.length))}function Zn(u,f,S,F){if(!ar(u))return u;f=Ka(f,u);for(var H=-1,K=f.length,le=K-1,me=u;me!=null&&++H<K;){var Se=Ki(f[H]),Ze=S;if(Se==="__proto__"||Se==="constructor"||Se==="prototype")return u;if(H!=le){var We=me[Se];Ze=F?F(We,Se,me):n,Ze===n&&(Ze=ar(We)?We:Si(f[H+1])?[]:{})}Fl(me,Se,Ze),me=me[Se]}return u}var br=Yd?function(u,f){return Yd.set(u,f),u}:xi,of=Ic?function(u,f){return Ic(u,"toString",{configurable:!0,enumerable:!1,value:tw(f),writable:!0})}:xi;function Rc(u){return Xo(zf(u))}function to(u,f,S){var F=-1,H=u.length;f<0&&(f=-f>H?0:H+f),S=S>H?H:S,S<0&&(S+=H),H=f>S?0:S-f>>>0,f>>>=0;for(var K=Oe(H);++F<H;)K[F]=u[F+f];return K}function N0(u,f){var S;return ba(u,function(F,H,K){return S=f(F,H,K),!S}),!!S}function Sr(u,f,S){var F=0,H=u==null?F:u.length;if(typeof f=="number"&&f===f&&H<=xe){for(;F<H;){var K=F+H>>>1,le=u[K];le!==null&&!Xi(le)&&(S?le<=f:le<f)?F=K+1:H=K}return H}return _c(u,f,xi,S)}function _c(u,f,S,F){var H=0,K=u==null?0:u.length;if(K===0)return 0;f=S(f);for(var le=f!==f,me=f===null,Se=Xi(f),Ze=f===n;H<K;){var We=Ms((H+K)/2),Ke=S(u[We]),ht=Ke!==n,Ct=Ke===null,Bt=Ke===Ke,nn=Xi(Ke);if(le)var Ht=F||Bt;else Ze?Ht=Bt&&(F||ht):me?Ht=Bt&&ht&&(F||!Ct):Se?Ht=Bt&&ht&&!Ct&&(F||!nn):Ct||nn?Ht=!1:Ht=F?Ke<=f:Ke<f;Ht?H=We+1:K=We}return Gr(K,fe)}function af(u,f){for(var S=-1,F=u.length,H=0,K=[];++S<F;){var le=u[S],me=f?f(le):le;if(!S||!rs(me,Se)){var Se=me;K[H++]=le===0?0:le}}return K}function sf(u){return typeof u=="number"?u:Xi(u)?J:+u}function Jn(u){if(typeof u=="string")return u;if(Jt(u))return In(u,Jn)+"";if(Xi(u))return zd?zd.call(u):"";var f=u+"";return f=="0"&&1/u==-ue?"-0":f}function Dr(u,f,S){var F=-1,H=Es,K=u.length,le=!0,me=[],Se=me;if(S)le=!1,H=Br;else if(K>=o){var Ze=f?null:So(u);if(Ze)return Cs(Ze);le=!1,H=jt,Se=new kl}else Se=f?[]:me;e:for(;++F<K;){var We=u[F],Ke=f?f(We):We;if(We=S||We!==0?We:0,le&&Ke===Ke){for(var ht=Se.length;ht--;)if(Se[ht]===Ke)continue e;f&&Se.push(Ke),me.push(We)}else H(Se,Ke,S)||(Se!==me&&Se.push(Ke),me.push(We))}return me}function Ll(u,f){return f=Ka(f,u),u=Df(u,f),u==null||delete u[Ki(Ir(f))]}function lf(u,f,S,F){return Zn(u,f,S(Ko(u,f)),F)}function Fu(u,f,S,F){for(var H=u.length,K=F?H:-1;(F?K--:++K<H)&&f(u[K],K,u););return S?to(u,F?0:K,F?K+1:H):to(u,F?K+1:0,F?H:K)}function rp(u,f){var S=u;return S instanceof qt&&(S=S.value()),mc(f,function(F,H){return H.func.apply(H.thisArg,pi([F],H.args))},S)}function uf(u,f,S){var F=u.length;if(F<2)return F?Dr(u[0]):[];for(var H=-1,K=Oe(F);++H<F;)for(var le=u[H],me=-1;++me<F;)me!=H&&(K[H]=wa(K[H]||le,u[me],f,S));return Dr(wr(K,1),f,S)}function op(u,f,S){for(var F=-1,H=u.length,K=f.length,le={};++F<H;){var me=F<K?f[F]:n;S(le,u[F],me)}return le}function cf(u){return Er(u)?u:[]}function df(u){return typeof u=="function"?u:xi}function Ka(u,f){return Jt(u)?u:wp(u,f)?[u]:qg(kn(u))}var Ng=Gt;function Qa(u,f,S){var F=u.length;return S=S===n?F:S,!f&&S>=F?u:to(u,f,S)}var Ou=gg||function(u){return Nn.clearTimeout(u)};function ip(u,f){if(f)return u.slice();var S=u.length,F=Uh?Uh(S):new u.constructor(S);return u.copy(F),F}function Pu(u){var f=new u.constructor(u.byteLength);return new Tc(f).set(new Tc(u)),f}function ff(u,f){var S=f?Pu(u.buffer):u.buffer;return new u.constructor(S,u.byteOffset,u.byteLength)}function Ag(u){var f=new u.constructor(u.source,Bi.exec(u));return f.lastIndex=u.lastIndex,f}function ap(u){return Go?Mn(Go.call(u)):{}}function sp(u,f){var S=f?Pu(u.buffer):u.buffer;return new u.constructor(S,u.byteOffset,u.length)}function lp(u,f){if(u!==f){var S=u!==n,F=u===null,H=u===u,K=Xi(u),le=f!==n,me=f===null,Se=f===f,Ze=Xi(f);if(!me&&!Ze&&!K&&u>f||K&&le&&Se&&!me&&!Ze||F&&le&&Se||!S&&Se||!H)return 1;if(!F&&!K&&!Ze&&u<f||Ze&&S&&H&&!F&&!K||me&&S&&H||!le&&H||!Se)return-1}return 0}function Fg(u,f,S){for(var F=-1,H=u.criteria,K=f.criteria,le=H.length,me=S.length;++F<le;){var Se=lp(H[F],K[F]);if(Se){if(F>=me)return Se;var Ze=S[F];return Se*(Ze=="desc"?-1:1)}}return u.index-f.index}function up(u,f,S,F){for(var H=-1,K=u.length,le=S.length,me=-1,Se=f.length,Ze=dr(K-le,0),We=Oe(Se+Ze),Ke=!F;++me<Se;)We[me]=f[me];for(;++H<le;)(Ke||H<K)&&(We[S[H]]=u[H]);for(;Ze--;)We[me++]=u[H++];return We}function hf(u,f,S,F){for(var H=-1,K=u.length,le=-1,me=S.length,Se=-1,Ze=f.length,We=dr(K-me,0),Ke=Oe(We+Ze),ht=!F;++H<We;)Ke[H]=u[H];for(var Ct=H;++Se<Ze;)Ke[Ct+Se]=f[Se];for(;++le<me;)(ht||H<K)&&(Ke[Ct+S[le]]=u[H++]);return Ke}function bo(u,f){var S=-1,F=u.length;for(f||(f=Oe(F));++S<F;)f[S]=u[S];return f}function Ji(u,f,S,F){var H=!S;S||(S={});for(var K=-1,le=f.length;++K<le;){var me=f[K],Se=F?F(S[me],u[me],me,S,u):n;Se===n&&(Se=u[me]),H?va(S,me,Se):Fl(S,me,Se)}return S}function Og(u,f){return Ji(u,Ru(u),f)}function A0(u,f){return Ji(u,Ta(u),f)}function Bc(u,f){return function(S,F){var H=Jt(S)?Va:Jo,K=f?f():{};return H(S,u,At(F,2),K)}}function ju(u){return Gt(function(f,S){var F=-1,H=S.length,K=H>1?S[H-1]:n,le=H>2?S[2]:n;for(K=u.length>3&&typeof K=="function"?(H--,K):n,le&&Dn(S[0],S[1],le)&&(K=H<3?n:K,H=1),f=Mn(f);++F<H;){var me=S[F];me&&u(f,me,F,K)}return f})}function Pg(u,f){return function(S,F){if(S==null)return S;if(!Ii(S))return u(S,F);for(var H=S.length,K=f?H:-1,le=Mn(S);(f?K--:++K<H)&&F(le[K],K,le)!==!1;);return S}}function cp(u){return function(f,S,F){for(var H=-1,K=Mn(f),le=F(f),me=le.length;me--;){var Se=le[u?me:++H];if(S(K[Se],Se,K)===!1)break}return f}}function jg(u,f,S){var F=f&I,H=Hc(u);function K(){var le=this&&this!==Nn&&this instanceof K?H:u;return le.apply(F?S:this,arguments)}return K}function dp(u){return function(f){f=kn(f);var S=mu(f)?qo(f):n,F=S?S[0]:f.charAt(0),H=S?Qa(S,1).join(""):f.slice(1);return F[u]()+H}}function Xa(u){return function(f){return mc(AS(NS(f).replace(Rh,"")),u,"")}}function Hc(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var S=Iu(u.prototype),F=u.apply(S,f);return ar(F)?F:S}}function F0(u,f,S){var F=Hc(u);function H(){for(var K=arguments.length,le=Oe(K),me=K,Se=Us(H);me--;)le[me]=arguments[me];var Ze=K<3&&le[0]!==Se&&le[K-1]!==Se?[]:mi(le,Se);if(K-=Ze.length,K<S)return _g(u,f,Lu,H.placeholder,n,le,Ze,n,n,S-K);var We=this&&this!==Nn&&this instanceof H?F:u;return ur(We,this,le)}return H}function Lg(u){return function(f,S,F){var H=Mn(f);if(!Ii(f)){var K=At(S,3);f=ao(f),S=function(me){return K(H[me],me,H)}}var le=u(f,S,F);return le>-1?H[K?f[le]:le]:n}}function Rl(u){return Da(function(f){var S=f.length,F=S,H=Jr.prototype.thru;for(u&&f.reverse();F--;){var K=f[F];if(typeof K!="function")throw new gi(s);if(H&&!le&&Zc(K)=="wrapper")var le=new Jr([],!0)}for(F=le?F:S;++F<S;){K=f[F];var me=Zc(K),Se=me=="wrapper"?Vc(K):n;Se&&Ys(Se[0])&&Se[1]==(z|B|U|V)&&!Se[4].length&&Se[9]==1?le=le[Zc(Se[0])].apply(le,Se[3]):le=K.length==1&&Ys(K)?le[me]():le.thru(K)}return function(){var Ze=arguments,We=Ze[0];if(le&&Ze.length==1&&Jt(We))return le.plant(We).value();for(var Ke=0,ht=S?f[Ke].apply(this,Ze):We;++Ke<S;)ht=f[Ke].call(this,ht);return ht}})}function Lu(u,f,S,F,H,K,le,me,Se,Ze){var We=f&z,Ke=f&I,ht=f&O,Ct=f&(B|P),Bt=f&Z,nn=ht?n:Hc(u);function Ht(){for(var sn=arguments.length,fn=Oe(sn),ea=sn;ea--;)fn[ea]=arguments[ea];if(Ct)var ni=Us(Ht),ta=ko(fn,ni);if(F&&(fn=up(fn,F,H,Ct)),K&&(fn=hf(fn,K,le,Ct)),sn-=ta,Ct&&sn<Ze){var xr=mi(fn,ni);return _g(u,f,Lu,Ht.placeholder,S,fn,xr,me,Se,Ze-sn)}var os=Ke?S:this,Vl=ht?os[u]:u;return sn=fn.length,me?fn=Ur(fn,me):Bt&&sn>1&&fn.reverse(),We&&Se<sn&&(fn.length=Se),this&&this!==Nn&&this instanceof Ht&&(Vl=nn||Hc(Vl)),Vl.apply(os,fn)}return Ht}function pf(u,f){return function(S,F){return Ls(S,u,f(F),{})}}function mf(u,f){return function(S,F){var H;if(S===n&&F===n)return f;if(S!==n&&(H=S),F!==n){if(H===n)return F;typeof S=="string"||typeof F=="string"?(S=Jn(S),F=Jn(F)):(S=sf(S),F=sf(F)),H=u(S,F)}return H}}function gf(u){return Da(function(f){return f=In(f,St(At())),Gt(function(S){var F=this;return u(f,function(H){return ur(H,F,S)})})})}function Uc(u,f){f=f===n?" ":Jn(f);var S=f.length;if(S<2)return S?Au(f,u):f;var F=Au(f,Cl(u/El(f)));return mu(f)?Qa(qo(F),0,u).join(""):F.slice(0,u)}function Rg(u,f,S,F){var H=f&I,K=Hc(u);function le(){for(var me=-1,Se=arguments.length,Ze=-1,We=F.length,Ke=Oe(We+Se),ht=this&&this!==Nn&&this instanceof le?K:u;++Ze<We;)Ke[Ze]=F[Ze];for(;Se--;)Ke[Ze++]=arguments[++me];return ur(ht,H?S:this,Ke)}return le}function fp(u){return function(f,S,F){return F&&typeof F!="number"&&Dn(f,S,F)&&(S=F=n),f=zl(f),S===n?(S=f,f=0):S=zl(S),F=F===n?f<S?1:-1:zl(F),np(f,S,F,u)}}function Yc(u){return function(f,S){return typeof f=="string"&&typeof S=="string"||(f=Ia(f),S=Ia(S)),u(f,S)}}function _g(u,f,S,F,H,K,le,me,Se,Ze){var We=f&B,Ke=We?le:n,ht=We?n:le,Ct=We?K:n,Bt=We?n:K;f|=We?U:L,f&=~(We?L:U),f&N||(f&=~(I|O));var nn=[u,f,H,Ct,Ke,Bt,ht,me,Se,Ze],Ht=S.apply(n,nn);return Ys(u)&&ts(Ht,nn),Ht.placeholder=F,Di(Ht,u,f)}function no(u){var f=cr[u];return function(S,F){if(S=Ia(S),F=F==null?0:Gr(en(F),292),F&&wu(S)){var H=(kn(S)+"e").split("e"),K=f(H[0]+"e"+(+H[1]+F));return H=(kn(K)+"e").split("e"),+(H[0]+"e"+(+H[1]-F))}return f(S)}}var So=ks&&1/Cs(new ks([,-0]))[1]==ue?function(u){return new ks(u)}:ow;function hp(u){return function(f){var S=ro(f);return S==ct?Ad(f):S==tn?I0(f):ze(f,u(f))}}function Sa(u,f,S,F,H,K,le,me){var Se=f&O;if(!Se&&typeof u!="function")throw new gi(s);var Ze=F?F.length:0;if(Ze||(f&=~(U|L),F=H=n),le=le===n?le:dr(en(le),0),me=me===n?me:en(me),Ze-=H?H.length:0,f&L){var We=F,Ke=H;F=H=n}var ht=Se?n:Vc(u),Ct=[u,f,S,F,H,We,Ke,K,le,me];if(ht&&Zg(Ct,ht),u=Ct[0],f=Ct[1],S=Ct[2],F=Ct[3],H=Ct[4],me=Ct[9]=Ct[9]===n?Se?0:u.length:dr(Ct[9]-Ze,0),!me&&f&(B|P)&&(f&=~(B|P)),!f||f==I)var Bt=jg(u,f,S);else f==B||f==P?Bt=F0(u,f,me):(f==U||f==(I|U))&&!H.length?Bt=Rg(u,f,S,F):Bt=Lu.apply(n,Ct);var nn=ht?br:ts;return Di(nn(Bt,Ct),u,f)}function pp(u,f,S,F){return u===n||rs(u,ha[S])&&!pn.call(F,S)?f:u}function mp(u,f,S,F,H,K){return ar(u)&&ar(f)&&(K.set(f,u),Bs(u,f,n,mp,K),K.delete(f)),u}function Bg(u){return Up(u)?n:u}function yf(u,f,S,F,H,K){var le=S&D,me=u.length,Se=f.length;if(me!=Se&&!(le&&Se>me))return!1;var Ze=K.get(u),We=K.get(f);if(Ze&&We)return Ze==f&&We==u;var Ke=-1,ht=!0,Ct=S&T?new kl:n;for(K.set(u,f),K.set(f,u);++Ke<me;){var Bt=u[Ke],nn=f[Ke];if(F)var Ht=le?F(nn,Bt,Ke,f,u,K):F(Bt,nn,Ke,u,f,K);if(Ht!==n){if(Ht)continue;ht=!1;break}if(Ct){if(!xs(f,function(sn,fn){if(!jt(Ct,fn)&&(Bt===sn||H(Bt,sn,S,F,K)))return Ct.push(fn)})){ht=!1;break}}else if(!(Bt===nn||H(Bt,nn,S,F,K))){ht=!1;break}}return K.delete(u),K.delete(f),ht}function Hg(u,f,S,F,H,K,le){switch(S){case nr:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case tr:return!(u.byteLength!=f.byteLength||!K(new Tc(u),new Tc(f)));case qe:case lt:case Tt:return rs(+u,+f);case Fe:return u.name==f.name&&u.message==f.message;case $t:case rn:return u==f+"";case ct:var me=Ad;case tn:var Se=F&D;if(me||(me=Cs),u.size!=f.size&&!Se)return!1;var Ze=le.get(u);if(Ze)return Ze==f;F|=T,le.set(u,f);var We=yf(me(u),me(f),F,H,K,le);return le.delete(u),We;case Xt:if(Go)return Go.call(u)==Go.call(f)}return!1}function gp(u,f,S,F,H,K){var le=S&D,me=vf(u),Se=me.length,Ze=vf(f),We=Ze.length;if(Se!=We&&!le)return!1;for(var Ke=Se;Ke--;){var ht=me[Ke];if(!(le?ht in f:pn.call(f,ht)))return!1}var Ct=K.get(u),Bt=K.get(f);if(Ct&&Bt)return Ct==f&&Bt==u;var nn=!0;K.set(u,f),K.set(f,u);for(var Ht=le;++Ke<Se;){ht=me[Ke];var sn=u[ht],fn=f[ht];if(F)var ea=le?F(fn,sn,ht,f,u,K):F(sn,fn,ht,u,f,K);if(!(ea===n?sn===fn||H(sn,fn,S,F,K):ea)){nn=!1;break}Ht||(Ht=ht=="constructor")}if(nn&&!Ht){var ni=u.constructor,ta=f.constructor;ni!=ta&&"constructor"in u&&"constructor"in f&&!(typeof ni=="function"&&ni instanceof ni&&typeof ta=="function"&&ta instanceof ta)&&(nn=!1)}return K.delete(u),K.delete(f),nn}function Da(u){return Tf(Sf(u,n,qc),u+"")}function vf(u){return Qd(u,ao,Ru)}function zc(u){return Qd(u,Ei,Ta)}var Vc=Yd?function(u){return Yd.get(u)}:ow;function Zc(u){for(var f=u.name+"",S=Du[f],F=pn.call(Du,f)?S.length:0;F--;){var H=S[F],K=H.func;if(K==null||K==u)return H.name}return f}function Us(u){var f=pn.call(q,"placeholder")?q:u;return f.placeholder}function At(){var u=q.iteratee||nw;return u=u===nw?Oc:u,arguments.length?u(arguments[0],arguments[1]):u}function wf(u,f){var S=u.__data__;return vt(f)?S[typeof f=="string"?"string":"hash"]:S.map}function bf(u){for(var f=ao(u),S=f.length;S--;){var F=f[S],H=u[F];f[S]=[F,H,Bu(H)]}return f}function es(u,f){var S=fa(u,f);return Kh(S)?S:n}function Ug(u){var f=pn.call(u,xl),S=u[xl];try{u[xl]=n;var F=!0}catch{}var H=Sc.call(u);return F&&(f?u[xl]=S:delete u[xl]),H}var Ru=Bd?function(u){return u==null?[]:(u=Mn(u),zi(Bd(u),function(f){return Rd.call(u,f)}))}:iw,Ta=Bd?function(u){for(var f=[];u;)pi(f,Ru(u)),u=Vi(u);return f}:iw,ro=eo;(xc&&ro(new xc(new ArrayBuffer(1)))!=nr||Ml&&ro(new Ml)!=ct||Cc&&ro(Cc.resolve())!=Yt||ks&&ro(new ks)!=tn||Mc&&ro(new Mc)!=lr)&&(ro=function(u){var f=eo(u),S=f==_t?u.constructor:n,F=S?zs(S):"";if(F)switch(F){case Vh:return nr;case Ns:return ct;case vg:return Yt;case Tu:return tn;case pa:return lr}return f});function Yg(u,f,S){for(var F=-1,H=S.length;++F<H;){var K=S[F],le=K.size;switch(K.type){case"drop":u+=le;break;case"dropRight":f-=le;break;case"take":f=Gr(f,u+le);break;case"takeRight":u=dr(u,f-le);break}}return{start:u,end:f}}function yp(u){var f=u.match(fo);return f?f[1].split(Cr):[]}function vp(u,f,S){f=Ka(f,u);for(var F=-1,H=f.length,K=!1;++F<H;){var le=Ki(f[F]);if(!(K=u!=null&&S(u,le)))break;u=u[le]}return K||++F!=H?K:(H=u==null?0:u.length,!!H&&uy(H)&&Si(le,H)&&(Jt(u)||Xc(u)))}function zg(u){var f=u.length,S=new u.constructor(f);return f&&typeof u[0]=="string"&&pn.call(u,"index")&&(S.index=u.index,S.input=u.input),S}function _u(u){return typeof u.constructor=="function"&&!Wc(u)?Iu(Vi(u)):{}}function oo(u,f,S){var F=u.constructor;switch(f){case tr:return Pu(u);case qe:case lt:return new F(+u);case nr:return ff(u,S);case Pi:case Eo:case Uo:case ji:case xo:case Li:case aa:case li:case Ri:return sp(u,S);case ct:return new F;case Tt:case rn:return new F(u);case $t:return Ag(u);case tn:return new F;case Xt:return ap(u)}}function O0(u,f){var S=f.length;if(!S)return u;var F=S-1;return f[F]=(S>1?"& ":"")+f[F],f=f.join(S>2?", ":" "),u.replace(co,`{
/* [wrapped with `+f+`] */
`)}function P0(u){return Jt(u)||Xc(u)||!!(mg&&u&&u[mg])}function Si(u,f){var S=typeof u;return f=f??se,!!f&&(S=="number"||S!="symbol"&&Ra.test(u))&&u>-1&&u%1==0&&u<f}function Dn(u,f,S){if(!ar(S))return!1;var F=typeof f;return(F=="number"?Ii(S)&&Si(f,S.length):F=="string"&&f in S)?rs(S[f],u):!1}function wp(u,f){if(Jt(u))return!1;var S=typeof u;return S=="number"||S=="symbol"||S=="boolean"||u==null||Xi(u)?!0:jr.test(u)||!wn.test(u)||f!=null&&u in Mn(f)}function vt(u){var f=typeof u;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?u!=="__proto__":u===null}function Ys(u){var f=Zc(u),S=q[f];if(typeof S!="function"||!(f in qt.prototype))return!1;if(u===S)return!0;var F=Vc(S);return!!F&&u===F[0]}function bp(u){return!!Pd&&Pd in u}var Vg=yu?Yl:aw;function Wc(u){var f=u&&u.constructor,S=typeof f=="function"&&f.prototype||ha;return u===S}function Bu(u){return u===u&&!ar(u)}function $c(u,f){return function(S){return S==null?!1:S[u]===f&&(f!==n||u in Mn(S))}}function Sp(u){var f=ve(u,function(F){return S.size===h&&S.clear(),F}),S=f.cache;return f}function Zg(u,f){var S=u[1],F=f[1],H=S|F,K=H<(I|O|z),le=F==z&&S==B||F==z&&S==V&&u[7].length<=f[8]||F==(z|V)&&f[7].length<=f[8]&&S==B;if(!(K||le))return u;F&I&&(u[2]=f[2],H|=S&I?0:N);var me=f[3];if(me){var Se=u[3];u[3]=Se?up(Se,me,f[4]):me,u[4]=Se?mi(u[3],m):f[4]}return me=f[5],me&&(Se=u[5],u[5]=Se?hf(Se,me,f[6]):me,u[6]=Se?mi(u[5],m):f[6]),me=f[7],me&&(u[7]=me),F&z&&(u[8]=u[8]==null?f[8]:Gr(u[8],f[8])),u[9]==null&&(u[9]=f[9]),u[0]=f[0],u[1]=H,u}function Wg(u){var f=[];if(u!=null)for(var S in Mn(u))f.push(S);return f}function $g(u){return Sc.call(u)}function Sf(u,f,S){return f=dr(f===n?u.length-1:f,0),function(){for(var F=arguments,H=-1,K=dr(F.length-f,0),le=Oe(K);++H<K;)le[H]=F[f+H];H=-1;for(var me=Oe(f+1);++H<f;)me[H]=F[H];return me[f]=S(le),ur(u,this,me)}}function Df(u,f){return f.length<2?u:Ko(u,to(f,0,-1))}function Ur(u,f){for(var S=u.length,F=Gr(f.length,S),H=bo(u);F--;){var K=f[F];u[F]=Si(K,S)?H[K]:n}return u}function Qo(u,f){if(!(f==="constructor"&&typeof u[f]=="function")&&f!="__proto__")return u[f]}var ts=Dp(br),Hu=Yh||function(u,f){return Nn.setTimeout(u,f)},Tf=Dp(of);function Di(u,f,S){var F=f+"";return Tf(u,O0(F,Gg(yp(F),S)))}function Dp(u){var f=0,S=0;return function(){var F=k0(),H=ye-(F-S);if(S=F,H>0){if(++f>=te)return arguments[0]}else f=0;return u.apply(n,arguments)}}function Xo(u,f){var S=-1,F=u.length,H=F-1;for(f=f===n?F:f;++S<f;){var K=Lc(S,H),le=u[K];u[K]=u[S],u[S]=le}return u.length=f,u}var qg=Sp(function(u){var f=[];return u.charCodeAt(0)===46&&f.push(""),u.replace(Rn,function(S,F,H,K){f.push(H?K.replace(gl,"$1"):F||S)}),f});function Ki(u){if(typeof u=="string"||Xi(u))return u;var f=u+"";return f=="0"&&1/u==-ue?"-0":f}function zs(u){if(u!=null){try{return bc.call(u)}catch{}try{return u+""}catch{}}return""}function Gg(u,f){return or(je,function(S){var F="_."+S[0];f&S[1]&&!Es(u,F)&&u.push(F)}),u.sort()}function Tp(u){if(u instanceof qt)return u.clone();var f=new Jr(u.__wrapped__,u.__chain__);return f.__actions__=bo(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}function j0(u,f,S){(S?Dn(u,f,S):f===n)?f=1:f=dr(en(f),0);var F=u==null?0:u.length;if(!F||f<1)return[];for(var H=0,K=0,le=Oe(Cl(F/f));H<F;)le[K++]=to(u,H,H+=f);return le}function If(u){for(var f=-1,S=u==null?0:u.length,F=0,H=[];++f<S;){var K=u[f];K&&(H[F++]=K)}return H}function Ip(){var u=arguments.length;if(!u)return[];for(var f=Oe(u-1),S=arguments[0],F=u;F--;)f[F-1]=arguments[F];return pi(Jt(S)?bo(S):[S],wr(f,1))}var Ti=Gt(function(u,f){return Er(u)?wa(u,wr(f,1,Er,!0)):[]}),dn=Gt(function(u,f){var S=Ir(f);return Er(S)&&(S=n),Er(u)?wa(u,wr(f,1,Er,!0),At(S,2)):[]}),Nr=Gt(function(u,f){var S=Ir(f);return Er(S)&&(S=n),Er(u)?wa(u,wr(f,1,Er,!0),n,S):[]});function fr(u,f,S){var F=u==null?0:u.length;return F?(f=S||f===n?1:en(f),to(u,f<0?0:f,F)):[]}function Yr(u,f,S){var F=u==null?0:u.length;return F?(f=S||f===n?1:en(f),f=F-f,to(u,0,f<0?0:f)):[]}function ei(u,f){return u&&u.length?Fu(u,At(f,3),!0,!0):[]}function Uu(u,f){return u&&u.length?Fu(u,At(f,3),!0):[]}function Tr(u,f,S,F){var H=u==null?0:u.length;return H?(S&&typeof S!="number"&&Dn(u,f,S)&&(S=0,F=H),Jd(u,f,S,F)):[]}function Yu(u,f,S){var F=u==null?0:u.length;if(!F)return-1;var H=S==null?0:en(S);return H<0&&(H=dr(F+H,0)),Tl(u,At(f,3),H)}function Vs(u,f,S){var F=u==null?0:u.length;if(!F)return-1;var H=F-1;return S!==n&&(H=en(S),H=S<0?dr(F+H,0):Gr(H,F-1)),Tl(u,At(f,3),H,!0)}function qc(u){var f=u==null?0:u.length;return f?wr(u,1):[]}function Ep(u){var f=u==null?0:u.length;return f?wr(u,ue):[]}function Gc(u,f){var S=u==null?0:u.length;return S?(f=f===n?1:en(f),wr(u,f)):[]}function jo(u){for(var f=-1,S=u==null?0:u.length,F={};++f<S;){var H=u[f];F[H[0]]=H[1]}return F}function Ef(u){return u&&u.length?u[0]:n}function zu(u,f,S){var F=u==null?0:u.length;if(!F)return-1;var H=S==null?0:en(S);return H<0&&(H=dr(F+H,0)),Za(u,f,H)}function ns(u){var f=u==null?0:u.length;return f?to(u,0,-1):[]}var xf=Gt(function(u){var f=In(u,cf);return f.length&&f[0]===u[0]?qi(f):[]}),xp=Gt(function(u){var f=Ir(u),S=In(u,cf);return f===Ir(S)?f=n:S.pop(),S.length&&S[0]===u[0]?qi(S,At(f,2)):[]}),Zs=Gt(function(u){var f=Ir(u),S=In(u,cf);return f=typeof f=="function"?f:n,f&&S.pop(),S.length&&S[0]===u[0]?qi(S,n,f):[]});function Cf(u,f){return u==null?"":Hd.call(u,f)}function Ir(u){var f=u==null?0:u.length;return f?u[f-1]:n}function Mf(u,f,S){var F=u==null?0:u.length;if(!F)return-1;var H=F;return S!==n&&(H=en(S),H=H<0?dr(F+H,0):Gr(H,F-1)),f===f?E0(u,f,H):Tl(u,pu,H,!0)}function Jc(u,f){return u&&u.length?Hs(u,en(f)):n}var Cp=Gt(Kc);function Kc(u,f){return u&&u.length&&f&&f.length?Un(u,f):u}function kf(u,f,S){return u&&u.length&&f&&f.length?Un(u,f,At(S,2)):u}function Do(u,f,S){return u&&u.length&&f&&f.length?Un(u,f,n,S):u}var Ws=Da(function(u,f){var S=u==null?0:u.length,F=Gd(u,f);return jc(u,In(f,function(H){return Si(H,S)?+H:H}).sort(lp)),F});function Qi(u,f){var S=[];if(!(u&&u.length))return S;var F=-1,H=[],K=u.length;for(f=At(f,3);++F<K;){var le=u[F];f(le,F,u)&&(S.push(le),H.push(F))}return jc(u,H),S}function io(u){return u==null?u:Ud.call(u)}function Jg(u,f,S){var F=u==null?0:u.length;return F?(S&&typeof S!="number"&&Dn(u,f,S)?(f=0,S=F):(f=f==null?0:en(f),S=S===n?F:en(S)),to(u,f,S)):[]}function Mp(u,f){return Sr(u,f)}function kp(u,f,S){return _c(u,f,At(S,2))}function L0(u,f){var S=u==null?0:u.length;if(S){var F=Sr(u,f);if(F<S&&rs(u[F],f))return F}return-1}function $s(u,f){return Sr(u,f,!0)}function Kg(u,f,S){return _c(u,f,At(S,2),!0)}function Np(u,f){var S=u==null?0:u.length;if(S){var F=Sr(u,f,!0)-1;if(rs(u[F],f))return F}return-1}function _l(u){return u&&u.length?af(u):[]}function Ap(u,f){return u&&u.length?af(u,At(f,2)):[]}function Bl(u){var f=u==null?0:u.length;return f?to(u,1,f):[]}function Qg(u,f,S){return u&&u.length?(f=S||f===n?1:en(f),to(u,0,f<0?0:f)):[]}function Xg(u,f,S){var F=u==null?0:u.length;return F?(f=S||f===n?1:en(f),f=F-f,to(u,f<0?0:f,F)):[]}function Fp(u,f){return u&&u.length?Fu(u,At(f,3),!1,!0):[]}function Nf(u,f){return u&&u.length?Fu(u,At(f,3)):[]}var R0=Gt(function(u){return Dr(wr(u,1,Er,!0))}),_0=Gt(function(u){var f=Ir(u);return Er(f)&&(f=n),Dr(wr(u,1,Er,!0),At(f,2))}),ey=Gt(function(u){var f=Ir(u);return f=typeof f=="function"?f:n,Dr(wr(u,1,Er,!0),n,f)});function ty(u){return u&&u.length?Dr(u):[]}function Hl(u,f){return u&&u.length?Dr(u,At(f,2)):[]}function B0(u,f){return f=typeof f=="function"?f:n,u&&u.length?Dr(u,n,f):[]}function qs(u){if(!(u&&u.length))return[];var f=0;return u=zi(u,function(S){if(Er(S))return f=dr(S.length,f),!0}),Ie(f,function(S){return In(u,k(S))})}function Op(u,f){if(!(u&&u.length))return[];var S=qs(u);return f==null?S:In(S,function(F){return ur(f,n,F)})}var Kn=Gt(function(u,f){return Er(u)?wa(u,f):[]}),H0=Gt(function(u){return uf(zi(u,Er))}),ny=Gt(function(u){var f=Ir(u);return Er(f)&&(f=n),uf(zi(u,Er),At(f,2))}),U0=Gt(function(u){var f=Ir(u);return f=typeof f=="function"?f:n,uf(zi(u,Er),n,f)}),Y0=Gt(qs);function ry(u,f){return op(u||[],f||[],Fl)}function oy(u,f){return op(u||[],f||[],Zn)}var z0=Gt(function(u){var f=u.length,S=f>1?u[f-1]:n;return S=typeof S=="function"?(u.pop(),S):n,Op(u,S)});function ti(u){var f=q(u);return f.__chain__=!0,f}function Pp(u,f){return f(u),u}function Af(u,f){return f(u)}var Gs=Da(function(u){var f=u.length,S=f?u[0]:0,F=this.__wrapped__,H=function(K){return Gd(K,u)};return f>1||this.__actions__.length||!(F instanceof qt)||!Si(S)?this.thru(H):(F=F.slice(S,+S+(f?1:0)),F.__actions__.push({func:Af,args:[H],thisArg:n}),new Jr(F,this.__chain__).thru(function(K){return f&&!K.length&&K.push(n),K}))});function Ff(){return ti(this)}function Ul(){return new Jr(this.value(),this.__chain__)}function Of(){this.__values__===n&&(this.__values__=SS(this.value()));var u=this.__index__>=this.__values__.length,f=u?n:this.__values__[this.__index__++];return{done:u,value:f}}function jp(){return this}function Lp(u){for(var f,S=this;S instanceof ma;){var F=Tp(S);F.__index__=0,F.__values__=n,f?H.__wrapped__=F:f=F;var H=F;S=S.__wrapped__}return H.__wrapped__=u,f}function V0(){var u=this.__wrapped__;if(u instanceof qt){var f=u;return this.__actions__.length&&(f=new qt(this)),f=f.reverse(),f.__actions__.push({func:Af,args:[io],thisArg:n}),new Jr(f,this.__chain__)}return this.thru(io)}function Rp(){return rp(this.__wrapped__,this.__actions__)}var Z0=Bc(function(u,f,S){pn.call(u,S)?++u[S]:va(u,S,1)});function iy(u,f,S){var F=Jt(u)?du:Wi;return S&&Dn(u,f,S)&&(f=n),F(u,At(f,3))}function ay(u,f){var S=Jt(u)?zi:Pl;return S(u,At(f,3))}var Pf=Lg(Yu),jf=Lg(Vs);function sy(u,f){return wr(Bf(u,f),1)}function _p(u,f){return wr(Bf(u,f),ue)}function W0(u,f,S){return S=S===n?1:en(S),wr(Bf(u,f),S)}function Bp(u,f){var S=Jt(u)?or:ba;return S(u,At(f,3))}function Lf(u,f){var S=Jt(u)?Sl:Eg;return S(u,At(f,3))}var Rf=Bc(function(u,f,S){pn.call(u,S)?u[S].push(f):va(u,S,[f])});function Hp(u,f,S,F){u=Ii(u)?u:zf(u),S=S&&!F?en(S):0;var H=u.length;return S<0&&(S=dr(H+S,0)),cy(u)?S<=H&&u.indexOf(f,S)>-1:!!H&&Za(u,f,S)>-1}var _f=Gt(function(u,f,S){var F=-1,H=typeof f=="function",K=Ii(u)?Oe(u.length):[];return ba(u,function(le){K[++F]=H?ur(f,le,S):Rs(le,f,S)}),K}),ly=Bc(function(u,f,S){va(u,S,f)});function Bf(u,f){var S=Jt(u)?In:Xh;return S(u,At(f,3))}function Hf(u,f,S,F){return u==null?[]:(Jt(f)||(f=f==null?[]:[f]),S=F?n:S,Jt(S)||(S=S==null?[]:[S]),rf(u,f,S))}var $0=Bc(function(u,f,S){u[S?0:1].push(f)},function(){return[[],[]]});function Qc(u,f,S){var F=Jt(u)?mc:W,H=arguments.length<3;return F(u,At(f,4),S,H,ba)}function q0(u,f,S){var F=Jt(u)?kd:W,H=arguments.length<3;return F(u,At(f,4),S,H,Eg)}function Uf(u,f){var S=Jt(u)?zi:Pl;return S(u,Ce(At(f,3)))}function a(u){var f=Jt(u)?ya:jl;return f(u)}function l(u,f,S){(S?Dn(u,f,S):f===n)?f=1:f=en(f);var F=Jt(u)?Al:Vn;return F(u,f)}function p(u){var f=Jt(u)?Tg:Rc;return f(u)}function w(u){if(u==null)return 0;if(Ii(u))return cy(u)?El(u):u.length;var f=ro(u);return f==ct||f==tn?u.size:nf(u).length}function E(u,f,S){var F=Jt(u)?xs:N0;return S&&Dn(u,f,S)&&(f=n),F(u,At(f,3))}var A=Gt(function(u,f){if(u==null)return[];var S=f.length;return S>1&&Dn(u,f[0],f[1])?f=[]:S>2&&Dn(f[0],f[1],f[2])&&(f=[f[0]]),rf(u,wr(f,1),[])}),Y=_n||function(){return Nn.Date.now()};function ae(u,f){if(typeof f!="function")throw new gi(s);return u=en(u),function(){if(--u<1)return f.apply(this,arguments)}}function pe(u,f,S){return f=S?n:f,f=u&&f==null?u.length:f,Sa(u,z,n,n,n,n,f)}function Pe(u,f){var S;if(typeof f!="function")throw new gi(s);return u=en(u),function(){return--u>0&&(S=f.apply(this,arguments)),u<=1&&(f=n),S}}var Je=Gt(function(u,f,S){var F=I;if(S.length){var H=mi(S,Us(Je));F|=U}return Sa(u,F,f,S,H)}),Qe=Gt(function(u,f,S){var F=I|O;if(S.length){var H=mi(S,Us(Qe));F|=U}return Sa(f,F,u,S,H)});function Ge(u,f,S){f=S?n:f;var F=Sa(u,B,n,n,n,n,n,f);return F.placeholder=Ge.placeholder,F}function gt(u,f,S){f=S?n:f;var F=Sa(u,P,n,n,n,n,n,f);return F.placeholder=gt.placeholder,F}function bt(u,f,S){var F,H,K,le,me,Se,Ze=0,We=!1,Ke=!1,ht=!0;if(typeof u!="function")throw new gi(s);f=Ia(f)||0,ar(S)&&(We=!!S.leading,Ke="maxWait"in S,K=Ke?dr(Ia(S.maxWait)||0,f):K,ht="trailing"in S?!!S.trailing:ht);function Ct(xr){var os=F,Vl=H;return F=H=n,Ze=xr,le=u.apply(Vl,os),le}function Bt(xr){return Ze=xr,me=Hu(sn,f),We?Ct(xr):le}function nn(xr){var os=xr-Se,Vl=xr-Ze,PS=f-os;return Ke?Gr(PS,K-Vl):PS}function Ht(xr){var os=xr-Se,Vl=xr-Ze;return Se===n||os>=f||os<0||Ke&&Vl>=K}function sn(){var xr=Y();if(Ht(xr))return fn(xr);me=Hu(sn,nn(xr))}function fn(xr){return me=n,ht&&F?Ct(xr):(F=H=n,le)}function ea(){me!==n&&Ou(me),Ze=0,F=Se=H=me=n}function ni(){return me===n?le:fn(Y())}function ta(){var xr=Y(),os=Ht(xr);if(F=arguments,H=this,Se=xr,os){if(me===n)return Bt(Se);if(Ke)return Ou(me),me=Hu(sn,f),Ct(Se)}return me===n&&(me=Hu(sn,f)),le}return ta.cancel=ea,ta.flush=ni,ta}var Dt=Gt(function(u,f){return $h(u,1,f)}),ir=Gt(function(u,f,S){return $h(u,Ia(f)||0,S)});function Ee(u){return Sa(u,Z)}function ve(u,f){if(typeof u!="function"||f!=null&&typeof f!="function")throw new gi(s);var S=function(){var F=arguments,H=f?f.apply(this,F):F[0],K=S.cache;if(K.has(H))return K.get(H);var le=u.apply(this,F);return S.cache=K.set(H,le)||K,le};return S.cache=new(ve.Cache||yi),S}ve.Cache=yi;function Ce(u){if(typeof u!="function")throw new gi(s);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}function rt(u){return Pe(2,u)}var Et=Ng(function(u,f){f=f.length==1&&Jt(f[0])?In(f[0],St(At())):In(wr(f,1),St(At()));var S=f.length;return Gt(function(F){for(var H=-1,K=Gr(F.length,S);++H<K;)F[H]=f[H].call(this,F[H]);return ur(u,this,F)})}),Ft=Gt(function(u,f){var S=mi(f,Us(Ft));return Sa(u,U,n,f,S)}),Ot=Gt(function(u,f){var S=mi(f,Us(Ot));return Sa(u,L,n,f,S)}),Ut=Da(function(u,f){return Sa(u,V,n,n,n,f)});function Ar(u,f){if(typeof u!="function")throw new gi(s);return f=f===n?f:en(f),Gt(u,f)}function mn(u,f){if(typeof u!="function")throw new gi(s);return f=f==null?0:dr(en(f),0),Gt(function(S){var F=S[f],H=Qa(S,0,f);return F&&pi(H,F),ur(u,this,H)})}function Js(u,f,S){var F=!0,H=!0;if(typeof u!="function")throw new gi(s);return ar(S)&&(F="leading"in S?!!S.leading:F,H="trailing"in S?!!S.trailing:H),bt(u,f,{leading:F,maxWait:f,trailing:H})}function G0(u){return pe(u,1)}function u3(u,f){return Ft(df(f),u)}function c3(){if(!arguments.length)return[];var u=arguments[0];return Jt(u)?u:[u]}function d3(u){return Po(u,b)}function f3(u,f){return f=typeof f=="function"?f:n,Po(u,b,f)}function h3(u){return Po(u,g|b)}function p3(u,f){return f=typeof f=="function"?f:n,Po(u,g|b,f)}function m3(u,f){return f==null||Nc(u,f,ao(f))}function rs(u,f){return u===f||u!==u&&f!==f}var g3=Yc($i),y3=Yc(function(u,f){return u>=f}),Xc=Gh(function(){return arguments}())?Gh:function(u){return hr(u)&&pn.call(u,"callee")&&!Rd.call(u,"callee")},Jt=Oe.isArray,v3=Ts?St(Ts):Xd;function Ii(u){return u!=null&&uy(u.length)&&!Yl(u)}function Er(u){return hr(u)&&Ii(u)}function w3(u){return u===!0||u===!1||hr(u)&&eo(u)==qe}var Vu=zh||aw,b3=kr?St(kr):Cg;function S3(u){return hr(u)&&u.nodeType===1&&!Up(u)}function D3(u){if(u==null)return!0;if(Ii(u)&&(Jt(u)||typeof u=="string"||typeof u.splice=="function"||Vu(u)||Yf(u)||Xc(u)))return!u.length;var f=ro(u);if(f==ct||f==tn)return!u.size;if(Wc(u))return!nf(u).length;for(var S in u)if(pn.call(u,S))return!1;return!0}function T3(u,f){return Mu(u,f)}function I3(u,f,S){S=typeof S=="function"?S:n;var F=S?S(u,f):n;return F===n?Mu(u,f,n,S):!!F}function J0(u){if(!hr(u))return!1;var f=eo(u);return f==Fe||f==It||typeof u.message=="string"&&typeof u.name=="string"&&!Up(u)}function E3(u){return typeof u=="number"&&wu(u)}function Yl(u){if(!ar(u))return!1;var f=eo(u);return f==st||f==it||f==$e||f==vn}function yS(u){return typeof u=="number"&&u==en(u)}function uy(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=se}function ar(u){var f=typeof u;return u!=null&&(f=="object"||f=="function")}function hr(u){return u!=null&&typeof u=="object"}var vS=za?St(za):ef;function x3(u,f){return u===f||tf(u,f,bf(f))}function C3(u,f,S){return S=typeof S=="function"?S:n,tf(u,f,bf(f),S)}function M3(u){return wS(u)&&u!=+u}function k3(u){if(Vg(u))throw new Wt(i);return Kh(u)}function N3(u){return u===null}function A3(u){return u==null}function wS(u){return typeof u=="number"||hr(u)&&eo(u)==Tt}function Up(u){if(!hr(u)||eo(u)!=_t)return!1;var f=Vi(u);if(f===null)return!0;var S=pn.call(f,"constructor")&&f.constructor;return typeof S=="function"&&S instanceof S&&bc.call(S)==jd}var K0=da?St(da):Mg;function F3(u){return yS(u)&&u>=-se&&u<=se}var bS=Is?St(Is):Qh;function cy(u){return typeof u=="string"||!Jt(u)&&hr(u)&&eo(u)==rn}function Xi(u){return typeof u=="symbol"||hr(u)&&eo(u)==Xt}var Yf=cu?St(cu):Fc;function O3(u){return u===n}function P3(u){return hr(u)&&ro(u)==lr}function j3(u){return hr(u)&&eo(u)==$r}var L3=Yc(_s),R3=Yc(function(u,f){return u<=f});function SS(u){if(!u)return[];if(Ii(u))return cy(u)?qo(u):bo(u);if(qa&&u[qa])return T0(u[qa]());var f=ro(u),S=f==ct?Ad:f==tn?Cs:zf;return S(u)}function zl(u){if(!u)return u===0?u:0;if(u=Ia(u),u===ue||u===-ue){var f=u<0?-1:1;return f*we}return u===u?u:0}function en(u){var f=zl(u),S=f%1;return f===f?S?f-S:f:0}function DS(u){return u?Ja(en(u),0,ee):0}function Ia(u){if(typeof u=="number")return u;if(Xi(u))return J;if(ar(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=ar(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=tt(u);var S=yl.test(u);return S||la.test(u)?bs(u.slice(2),S?2:8):au.test(u)?J:+u}function TS(u){return Ji(u,Ei(u))}function _3(u){return u?Ja(en(u),-se,se):u===0?u:0}function kn(u){return u==null?"":Jn(u)}var B3=ju(function(u,f){if(Wc(f)||Ii(f)){Ji(f,ao(f),u);return}for(var S in f)pn.call(f,S)&&Fl(u,S,f[S])}),IS=ju(function(u,f){Ji(f,Ei(f),u)}),dy=ju(function(u,f,S,F){Ji(f,Ei(f),u,F)}),H3=ju(function(u,f,S,F){Ji(f,ao(f),u,F)}),U3=Da(Gd);function Y3(u,f){var S=Iu(u);return f==null?S:Hn(S,f)}var z3=Gt(function(u,f){u=Mn(u);var S=-1,F=f.length,H=F>2?f[2]:n;for(H&&Dn(f[0],f[1],H)&&(F=1);++S<F;)for(var K=f[S],le=Ei(K),me=-1,Se=le.length;++me<Se;){var Ze=le[me],We=u[Ze];(We===n||rs(We,ha[Ze])&&!pn.call(u,Ze))&&(u[Ze]=K[Ze])}return u}),V3=Gt(function(u){return u.push(n,mp),ur(ES,n,u)});function Z3(u,f){return Dl(u,At(f,3),bi)}function W3(u,f){return Dl(u,At(f,3),Ps)}function $3(u,f){return u==null?u:Ac(u,At(f,3),Ei)}function q3(u,f){return u==null?u:Kd(u,At(f,3),Ei)}function G3(u,f){return u&&bi(u,At(f,3))}function J3(u,f){return u&&Ps(u,At(f,3))}function K3(u){return u==null?[]:wo(u,ao(u))}function Q3(u){return u==null?[]:wo(u,Ei(u))}function Q0(u,f,S){var F=u==null?n:Ko(u,f);return F===n?S:F}function X3(u,f){return u!=null&&vp(u,f,js)}function X0(u,f){return u!=null&&vp(u,f,qh)}var ek=pf(function(u,f,S){f!=null&&typeof f.toString!="function"&&(f=Sc.call(f)),u[f]=S},tw(xi)),tk=pf(function(u,f,S){f!=null&&typeof f.toString!="function"&&(f=Sc.call(f)),pn.call(u,f)?u[f].push(S):u[f]=[S]},At),nk=Gt(Rs);function ao(u){return Ii(u)?ga(u):nf(u)}function Ei(u){return Ii(u)?ga(u,!0):kg(u)}function rk(u,f){var S={};return f=At(f,3),bi(u,function(F,H,K){va(S,f(F,H,K),F)}),S}function ok(u,f){var S={};return f=At(f,3),bi(u,function(F,H,K){va(S,H,f(F,H,K))}),S}var ik=ju(function(u,f,S){Bs(u,f,S)}),ES=ju(function(u,f,S,F){Bs(u,f,S,F)}),ak=Da(function(u,f){var S={};if(u==null)return S;var F=!1;f=In(f,function(K){return K=Ka(K,u),F||(F=K.length>1),K}),Ji(u,zc(u),S),F&&(S=Po(S,g|v|b,Bg));for(var H=f.length;H--;)Ll(S,f[H]);return S});function sk(u,f){return xS(u,Ce(At(f)))}var lk=Da(function(u,f){return u==null?{}:Nu(u,f)});function xS(u,f){if(u==null)return{};var S=In(zc(u),function(F){return[F]});return f=At(f),ep(u,S,function(F,H){return f(F,H[0])})}function uk(u,f,S){f=Ka(f,u);var F=-1,H=f.length;for(H||(H=1,u=n);++F<H;){var K=u==null?n:u[Ki(f[F])];K===n&&(F=H,K=S),u=Yl(K)?K.call(u):K}return u}function ck(u,f,S){return u==null?u:Zn(u,f,S)}function dk(u,f,S,F){return F=typeof F=="function"?F:n,u==null?u:Zn(u,f,S,F)}var CS=hp(ao),MS=hp(Ei);function fk(u,f,S){var F=Jt(u),H=F||Vu(u)||Yf(u);if(f=At(f,4),S==null){var K=u&&u.constructor;H?S=F?new K:[]:ar(u)?S=Yl(K)?Iu(Vi(u)):{}:S={}}return(H?or:bi)(u,function(le,me,Se){return f(S,le,me,Se)}),S}function hk(u,f){return u==null?!0:Ll(u,f)}function pk(u,f,S){return u==null?u:lf(u,f,df(S))}function mk(u,f,S,F){return F=typeof F=="function"?F:n,u==null?u:lf(u,f,df(S),F)}function zf(u){return u==null?[]:Zt(u,ao(u))}function gk(u){return u==null?[]:Zt(u,Ei(u))}function yk(u,f,S){return S===n&&(S=f,f=n),S!==n&&(S=Ia(S),S=S===S?S:0),f!==n&&(f=Ia(f),f=f===f?f:0),Ja(Ia(u),f,S)}function vk(u,f,S){return f=zl(f),S===n?(S=f,f=0):S=zl(S),u=Ia(u),xg(u,f,S)}function wk(u,f,S){if(S&&typeof S!="boolean"&&Dn(u,f,S)&&(f=S=n),S===n&&(typeof f=="boolean"?(S=f,f=n):typeof u=="boolean"&&(S=u,u=n)),u===n&&f===n?(u=0,f=1):(u=zl(u),f===n?(f=u,u=0):f=zl(f)),u>f){var F=u;u=f,f=F}if(S||u%1||f%1){var H=Ec();return Gr(u+H*(f-u+uu("1e-"+((H+"").length-1))),f)}return Lc(u,f)}var bk=Xa(function(u,f,S){return f=f.toLowerCase(),u+(S?kS(f):f)});function kS(u){return ew(kn(u).toLowerCase())}function NS(u){return u=kn(u),u&&u.replace(vl,No).replace(Md,"")}function Sk(u,f,S){u=kn(u),f=Jn(f);var F=u.length;S=S===n?F:Ja(en(S),0,F);var H=S;return S-=f.length,S>=0&&u.slice(S,H)==f}function Dk(u){return u=kn(u),u&&et.test(u)?u.replace(He,Il):u}function Tk(u){return u=kn(u),u&&Lr.test(u)?u.replace(rr,"\\$&"):u}var Ik=Xa(function(u,f,S){return u+(S?"-":"")+f.toLowerCase()}),Ek=Xa(function(u,f,S){return u+(S?" ":"")+f.toLowerCase()}),xk=dp("toLowerCase");function Ck(u,f,S){u=kn(u),f=en(f);var F=f?El(u):0;if(!f||F>=f)return u;var H=(f-F)/2;return Uc(Ms(H),S)+u+Uc(Cl(H),S)}function Mk(u,f,S){u=kn(u),f=en(f);var F=f?El(u):0;return f&&F<f?u+Uc(f-F,S):u}function kk(u,f,S){u=kn(u),f=en(f);var F=f?El(u):0;return f&&F<f?Uc(f-F,S)+u:u}function Nk(u,f,S){return S||f==null?f=0:f&&(f=+f),yg(kn(u).replace(sa,""),f||0)}function Ak(u,f,S){return(S?Dn(u,f,S):f===n)?f=1:f=en(f),Au(kn(u),f)}function Fk(){var u=arguments,f=kn(u[0]);return u.length<3?f:f.replace(u[1],u[2])}var Ok=Xa(function(u,f,S){return u+(S?"_":"")+f.toLowerCase()});function Pk(u,f,S){return S&&typeof S!="number"&&Dn(u,f,S)&&(f=S=n),S=S===n?ee:S>>>0,S?(u=kn(u),u&&(typeof f=="string"||f!=null&&!K0(f))&&(f=Jn(f),!f&&mu(u))?Qa(qo(u),0,S):u.split(f,S)):[]}var jk=Xa(function(u,f,S){return u+(S?" ":"")+ew(f)});function Lk(u,f,S){return u=kn(u),S=S==null?0:Ja(en(S),0,u.length),f=Jn(f),u.slice(S,S+f.length)==f}function Rk(u,f,S){var F=q.templateSettings;S&&Dn(u,f,S)&&(f=n),u=kn(u),f=dy({},f,F,pp);var H=dy({},f.imports,F.imports,pp),K=ao(H),le=Zt(H,K),me,Se,Ze=0,We=f.interpolate||_a,Ke="__p += '",ht=wc((f.escape||_a).source+"|"+We.source+"|"+(We===Pn?_i:_a).source+"|"+(f.evaluate||_a).source+"|$","g"),Ct="//# sourceURL="+(pn.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xn+"]")+`
`;u.replace(ht,function(Ht,sn,fn,ea,ni,ta){return fn||(fn=ea),Ke+=u.slice(Ze,ta).replace(su,vc),sn&&(me=!0,Ke+=`' +
__e(`+sn+`) +
'`),ni&&(Se=!0,Ke+=`';
`+ni+`;
__p += '`),fn&&(Ke+=`' +
((__t = (`+fn+`)) == null ? '' : __t) +
'`),Ze=ta+Ht.length,Ht}),Ke+=`';
`;var Bt=pn.call(f,"variable")&&f.variable;if(!Bt)Ke=`with (obj) {
`+Ke+`
}
`;else if(ho.test(Bt))throw new Wt(c);Ke=(Se?Ke.replace(X,""):Ke).replace(he,"$1").replace(Ne,"$1;"),Ke="function("+(Bt||"obj")+`) {
`+(Bt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(me?", __e = _.escape":"")+(Se?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ke+`return __p
}`;var nn=FS(function(){return hn(K,Ct+"return "+Ke).apply(n,le)});if(nn.source=Ke,J0(nn))throw nn;return nn}function _k(u){return kn(u).toLowerCase()}function Bk(u){return kn(u).toUpperCase()}function Hk(u,f,S){if(u=kn(u),u&&(S||f===n))return tt(u);if(!u||!(f=Jn(f)))return u;var F=qo(u),H=qo(f),K=Cn(F,H),le=Hr(F,H)+1;return Qa(F,K,le).join("")}function Uk(u,f,S){if(u=kn(u),u&&(S||f===n))return u.slice(0,Od(u)+1);if(!u||!(f=Jn(f)))return u;var F=qo(u),H=Hr(F,qo(f))+1;return Qa(F,0,H).join("")}function Yk(u,f,S){if(u=kn(u),u&&(S||f===n))return u.replace(sa,"");if(!u||!(f=Jn(f)))return u;var F=qo(u),H=Cn(F,qo(f));return Qa(F,H).join("")}function zk(u,f){var S=$,F=oe;if(ar(f)){var H="separator"in f?f.separator:H;S="length"in f?en(f.length):S,F="omission"in f?Jn(f.omission):F}u=kn(u);var K=u.length;if(mu(u)){var le=qo(u);K=le.length}if(S>=K)return u;var me=S-El(F);if(me<1)return F;var Se=le?Qa(le,0,me).join(""):u.slice(0,me);if(H===n)return Se+F;if(le&&(me+=Se.length-me),K0(H)){if(u.slice(me).search(H)){var Ze,We=Se;for(H.global||(H=wc(H.source,kn(Bi.exec(H))+"g")),H.lastIndex=0;Ze=H.exec(We);)var Ke=Ze.index;Se=Se.slice(0,Ke===n?me:Ke)}}else if(u.indexOf(Jn(H),me)!=me){var ht=Se.lastIndexOf(H);ht>-1&&(Se=Se.slice(0,ht))}return Se+F}function Vk(u){return u=kn(u),u&&Xe.test(u)?u.replace(Be,cg):u}var Zk=Xa(function(u,f,S){return u+(S?" ":"")+f.toUpperCase()}),ew=dp("toUpperCase");function AS(u,f,S){return u=kn(u),f=S?n:f,f===n?D0(u)?x0(u):fu(u):u.match(f)||[]}var FS=Gt(function(u,f){try{return ur(u,n,f)}catch(S){return J0(S)?S:new Wt(S)}}),Wk=Da(function(u,f){return or(f,function(S){S=Ki(S),va(u,S,Je(u[S],u))}),u});function $k(u){var f=u==null?0:u.length,S=At();return u=f?In(u,function(F){if(typeof F[1]!="function")throw new gi(s);return[S(F[0]),F[1]]}):[],Gt(function(F){for(var H=-1;++H<f;){var K=u[H];if(ur(K[0],this,F))return ur(K[1],this,F)}})}function qk(u){return Ig(Po(u,g))}function tw(u){return function(){return u}}function Gk(u,f){return u==null||u!==u?f:u}var Jk=Rl(),Kk=Rl(!0);function xi(u){return u}function nw(u){return Oc(typeof u=="function"?u:Po(u,g))}function Qk(u){return ku(Po(u,g))}function Xk(u,f){return Gi(u,Po(f,g))}var e4=Gt(function(u,f){return function(S){return Rs(S,u,f)}}),t4=Gt(function(u,f){return function(S){return Rs(u,S,f)}});function rw(u,f,S){var F=ao(f),H=wo(f,F);S==null&&!(ar(f)&&(H.length||!F.length))&&(S=f,f=u,u=this,H=wo(f,ao(f)));var K=!(ar(S)&&"chain"in S)||!!S.chain,le=Yl(u);return or(H,function(me){var Se=f[me];u[me]=Se,le&&(u.prototype[me]=function(){var Ze=this.__chain__;if(K||Ze){var We=u(this.__wrapped__),Ke=We.__actions__=bo(this.__actions__);return Ke.push({func:Se,args:arguments,thisArg:u}),We.__chain__=Ze,We}return Se.apply(u,pi([this.value()],arguments))})}),u}function n4(){return Nn._===this&&(Nn._=hg),this}function ow(){}function r4(u){return u=en(u),Gt(function(f){return Hs(f,u)})}var o4=gf(In),i4=gf(du),a4=gf(xs);function OS(u){return wp(u)?k(Ki(u)):tp(u)}function s4(u){return function(f){return u==null?n:Ko(u,f)}}var l4=fp(),u4=fp(!0);function iw(){return[]}function aw(){return!1}function c4(){return{}}function d4(){return""}function f4(){return!0}function h4(u,f){if(u=en(u),u<1||u>se)return[];var S=ee,F=Gr(u,ee);f=At(f),u-=ee;for(var H=Ie(F,f);++S<u;)f(S);return H}function p4(u){return Jt(u)?In(u,Ki):Xi(u)?[u]:bo(qg(kn(u)))}function m4(u){var f=++vu;return kn(u)+f}var g4=mf(function(u,f){return u+f},0),y4=no("ceil"),v4=mf(function(u,f){return u/f},1),w4=no("floor");function b4(u){return u&&u.length?Ol(u,xi,$i):n}function S4(u,f){return u&&u.length?Ol(u,At(f,2),$i):n}function D4(u){return yc(u,xi)}function T4(u,f){return yc(u,At(f,2))}function I4(u){return u&&u.length?Ol(u,xi,_s):n}function E4(u,f){return u&&u.length?Ol(u,At(f,2),_s):n}var x4=mf(function(u,f){return u*f},1),C4=no("round"),M4=mf(function(u,f){return u-f},0);function k4(u){return u&&u.length?Ae(u,xi):0}function N4(u,f){return u&&u.length?Ae(u,At(f,2)):0}return q.after=ae,q.ary=pe,q.assign=B3,q.assignIn=IS,q.assignInWith=dy,q.assignWith=H3,q.at=U3,q.before=Pe,q.bind=Je,q.bindAll=Wk,q.bindKey=Qe,q.castArray=c3,q.chain=ti,q.chunk=j0,q.compact=If,q.concat=Ip,q.cond=$k,q.conforms=qk,q.constant=tw,q.countBy=Z0,q.create=Y3,q.curry=Ge,q.curryRight=gt,q.debounce=bt,q.defaults=z3,q.defaultsDeep=V3,q.defer=Dt,q.delay=ir,q.difference=Ti,q.differenceBy=dn,q.differenceWith=Nr,q.drop=fr,q.dropRight=Yr,q.dropRightWhile=ei,q.dropWhile=Uu,q.fill=Tr,q.filter=ay,q.flatMap=sy,q.flatMapDeep=_p,q.flatMapDepth=W0,q.flatten=qc,q.flattenDeep=Ep,q.flattenDepth=Gc,q.flip=Ee,q.flow=Jk,q.flowRight=Kk,q.fromPairs=jo,q.functions=K3,q.functionsIn=Q3,q.groupBy=Rf,q.initial=ns,q.intersection=xf,q.intersectionBy=xp,q.intersectionWith=Zs,q.invert=ek,q.invertBy=tk,q.invokeMap=_f,q.iteratee=nw,q.keyBy=ly,q.keys=ao,q.keysIn=Ei,q.map=Bf,q.mapKeys=rk,q.mapValues=ok,q.matches=Qk,q.matchesProperty=Xk,q.memoize=ve,q.merge=ik,q.mergeWith=ES,q.method=e4,q.methodOf=t4,q.mixin=rw,q.negate=Ce,q.nthArg=r4,q.omit=ak,q.omitBy=sk,q.once=rt,q.orderBy=Hf,q.over=o4,q.overArgs=Et,q.overEvery=i4,q.overSome=a4,q.partial=Ft,q.partialRight=Ot,q.partition=$0,q.pick=lk,q.pickBy=xS,q.property=OS,q.propertyOf=s4,q.pull=Cp,q.pullAll=Kc,q.pullAllBy=kf,q.pullAllWith=Do,q.pullAt=Ws,q.range=l4,q.rangeRight=u4,q.rearg=Ut,q.reject=Uf,q.remove=Qi,q.rest=Ar,q.reverse=io,q.sampleSize=l,q.set=ck,q.setWith=dk,q.shuffle=p,q.slice=Jg,q.sortBy=A,q.sortedUniq=_l,q.sortedUniqBy=Ap,q.split=Pk,q.spread=mn,q.tail=Bl,q.take=Qg,q.takeRight=Xg,q.takeRightWhile=Fp,q.takeWhile=Nf,q.tap=Pp,q.throttle=Js,q.thru=Af,q.toArray=SS,q.toPairs=CS,q.toPairsIn=MS,q.toPath=p4,q.toPlainObject=TS,q.transform=fk,q.unary=G0,q.union=R0,q.unionBy=_0,q.unionWith=ey,q.uniq=ty,q.uniqBy=Hl,q.uniqWith=B0,q.unset=hk,q.unzip=qs,q.unzipWith=Op,q.update=pk,q.updateWith=mk,q.values=zf,q.valuesIn=gk,q.without=Kn,q.words=AS,q.wrap=u3,q.xor=H0,q.xorBy=ny,q.xorWith=U0,q.zip=Y0,q.zipObject=ry,q.zipObjectDeep=oy,q.zipWith=z0,q.entries=CS,q.entriesIn=MS,q.extend=IS,q.extendWith=dy,rw(q,q),q.add=g4,q.attempt=FS,q.camelCase=bk,q.capitalize=kS,q.ceil=y4,q.clamp=yk,q.clone=d3,q.cloneDeep=h3,q.cloneDeepWith=p3,q.cloneWith=f3,q.conformsTo=m3,q.deburr=NS,q.defaultTo=Gk,q.divide=v4,q.endsWith=Sk,q.eq=rs,q.escape=Dk,q.escapeRegExp=Tk,q.every=iy,q.find=Pf,q.findIndex=Yu,q.findKey=Z3,q.findLast=jf,q.findLastIndex=Vs,q.findLastKey=W3,q.floor=w4,q.forEach=Bp,q.forEachRight=Lf,q.forIn=$3,q.forInRight=q3,q.forOwn=G3,q.forOwnRight=J3,q.get=Q0,q.gt=g3,q.gte=y3,q.has=X3,q.hasIn=X0,q.head=Ef,q.identity=xi,q.includes=Hp,q.indexOf=zu,q.inRange=vk,q.invoke=nk,q.isArguments=Xc,q.isArray=Jt,q.isArrayBuffer=v3,q.isArrayLike=Ii,q.isArrayLikeObject=Er,q.isBoolean=w3,q.isBuffer=Vu,q.isDate=b3,q.isElement=S3,q.isEmpty=D3,q.isEqual=T3,q.isEqualWith=I3,q.isError=J0,q.isFinite=E3,q.isFunction=Yl,q.isInteger=yS,q.isLength=uy,q.isMap=vS,q.isMatch=x3,q.isMatchWith=C3,q.isNaN=M3,q.isNative=k3,q.isNil=A3,q.isNull=N3,q.isNumber=wS,q.isObject=ar,q.isObjectLike=hr,q.isPlainObject=Up,q.isRegExp=K0,q.isSafeInteger=F3,q.isSet=bS,q.isString=cy,q.isSymbol=Xi,q.isTypedArray=Yf,q.isUndefined=O3,q.isWeakMap=P3,q.isWeakSet=j3,q.join=Cf,q.kebabCase=Ik,q.last=Ir,q.lastIndexOf=Mf,q.lowerCase=Ek,q.lowerFirst=xk,q.lt=L3,q.lte=R3,q.max=b4,q.maxBy=S4,q.mean=D4,q.meanBy=T4,q.min=I4,q.minBy=E4,q.stubArray=iw,q.stubFalse=aw,q.stubObject=c4,q.stubString=d4,q.stubTrue=f4,q.multiply=x4,q.nth=Jc,q.noConflict=n4,q.noop=ow,q.now=Y,q.pad=Ck,q.padEnd=Mk,q.padStart=kk,q.parseInt=Nk,q.random=wk,q.reduce=Qc,q.reduceRight=q0,q.repeat=Ak,q.replace=Fk,q.result=uk,q.round=C4,q.runInContext=be,q.sample=a,q.size=w,q.snakeCase=Ok,q.some=E,q.sortedIndex=Mp,q.sortedIndexBy=kp,q.sortedIndexOf=L0,q.sortedLastIndex=$s,q.sortedLastIndexBy=Kg,q.sortedLastIndexOf=Np,q.startCase=jk,q.startsWith=Lk,q.subtract=M4,q.sum=k4,q.sumBy=N4,q.template=Rk,q.times=h4,q.toFinite=zl,q.toInteger=en,q.toLength=DS,q.toLower=_k,q.toNumber=Ia,q.toSafeInteger=_3,q.toString=kn,q.toUpper=Bk,q.trim=Hk,q.trimEnd=Uk,q.trimStart=Yk,q.truncate=zk,q.unescape=Vk,q.uniqueId=m4,q.upperCase=Zk,q.upperFirst=ew,q.each=Bp,q.eachRight=Lf,q.first=Ef,rw(q,function(){var u={};return bi(q,function(f,S){pn.call(q.prototype,S)||(u[S]=f)}),u}(),{chain:!1}),q.VERSION=r,or(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){q[u].placeholder=q}),or(["drop","take"],function(u,f){qt.prototype[u]=function(S){S=S===n?1:dr(en(S),0);var F=this.__filtered__&&!f?new qt(this):this.clone();return F.__filtered__?F.__takeCount__=Gr(S,F.__takeCount__):F.__views__.push({size:Gr(S,ee),type:u+(F.__dir__<0?"Right":"")}),F},qt.prototype[u+"Right"]=function(S){return this.reverse()[u](S).reverse()}}),or(["filter","map","takeWhile"],function(u,f){var S=f+1,F=S==ge||S==Q;qt.prototype[u]=function(H){var K=this.clone();return K.__iteratees__.push({iteratee:At(H,3),type:S}),K.__filtered__=K.__filtered__||F,K}}),or(["head","last"],function(u,f){var S="take"+(f?"Right":"");qt.prototype[u]=function(){return this[S](1).value()[0]}}),or(["initial","tail"],function(u,f){var S="drop"+(f?"":"Right");qt.prototype[u]=function(){return this.__filtered__?new qt(this):this[S](1)}}),qt.prototype.compact=function(){return this.filter(xi)},qt.prototype.find=function(u){return this.filter(u).head()},qt.prototype.findLast=function(u){return this.reverse().find(u)},qt.prototype.invokeMap=Gt(function(u,f){return typeof u=="function"?new qt(this):this.map(function(S){return Rs(S,u,f)})}),qt.prototype.reject=function(u){return this.filter(Ce(At(u)))},qt.prototype.slice=function(u,f){u=en(u);var S=this;return S.__filtered__&&(u>0||f<0)?new qt(S):(u<0?S=S.takeRight(-u):u&&(S=S.drop(u)),f!==n&&(f=en(f),S=f<0?S.dropRight(-f):S.take(f-u)),S)},qt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},qt.prototype.toArray=function(){return this.take(ee)},bi(qt.prototype,function(u,f){var S=/^(?:filter|find|map|reject)|While$/.test(f),F=/^(?:head|last)$/.test(f),H=q[F?"take"+(f=="last"?"Right":""):f],K=F||/^find/.test(f);H&&(q.prototype[f]=function(){var le=this.__wrapped__,me=F?[1]:arguments,Se=le instanceof qt,Ze=me[0],We=Se||Jt(le),Ke=function(sn){var fn=H.apply(q,pi([sn],me));return F&&ht?fn[0]:fn};We&&S&&typeof Ze=="function"&&Ze.length!=1&&(Se=We=!1);var ht=this.__chain__,Ct=!!this.__actions__.length,Bt=K&&!ht,nn=Se&&!Ct;if(!K&&We){le=nn?le:new qt(this);var Ht=u.apply(le,me);return Ht.__actions__.push({func:Af,args:[Ke],thisArg:n}),new Jr(Ht,ht)}return Bt&&nn?u.apply(this,me):(Ht=this.thru(Ke),Bt?F?Ht.value()[0]:Ht.value():Ht)})}),or(["pop","push","shift","sort","splice","unshift"],function(u){var f=Wa[u],S=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",F=/^(?:pop|shift)$/.test(u);q.prototype[u]=function(){var H=arguments;if(F&&!this.__chain__){var K=this.value();return f.apply(Jt(K)?K:[],H)}return this[S](function(le){return f.apply(Jt(le)?le:[],H)})}}),bi(qt.prototype,function(u,f){var S=q[f];if(S){var F=S.name+"";pn.call(Du,F)||(Du[F]=[]),Du[F].push({name:f,func:S})}}),Du[Lu(n,O).name]=[{name:"wrapper",func:n}],qt.prototype.clone=Vd,qt.prototype.reverse=Zh,qt.prototype.value=Eu,q.prototype.at=Gs,q.prototype.chain=Ff,q.prototype.commit=Ul,q.prototype.next=Of,q.prototype.plant=Lp,q.prototype.reverse=V0,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=Rp,q.prototype.first=q.prototype.head,qa&&(q.prototype[qa]=jp),q},gu=C0();hi?((hi.exports=gu)._=gu,Ds._=gu):Nn._=gu}).call(zr)})(ev,ev.exports);var jI=ev.exports;function fy(e){const t=e.match(/^#+/);return t?t[0].length:0}function US(e,t){const n=e.split(`
`);let r="",o=[],i=!1,s=1;for(let c=0;c<n.length;c++){const d=n[c];if(d.startsWith("#")&&/^#{1,6}\s/g.test(d)){if(i&&fy(d)<=fy(t))break;r=d,r===t?(i=!0,s=c+1):i&&fy(d)>fy(t)?o.push(d):(i=!1,o=[])}else i&&o.push(d)}return t?jI.isEmpty(o)?{content:"",startLine:-1}:{content:o.join(`
`),startLine:s}:{content:e,startLine:0}}function LI(e){const t={};for(const n of e)n.parent&&n.parent>0&&(t[n.position.start.line]=n.parent);return t}function dA(e,t,n){var g;const r={},o=(v,b)=>{for(;v[b]!==void 0&&v[b]!==b;)b=v[b];return b},i=yt.getState().app,s=n.split(`
`),c=t+s.length-1,d=(g=i.metadataCache.getFileCache(e))==null?void 0:g.listItems,h={};if(!d)return[];d.forEach(v=>{var T,I;const b=v.position.start.line,D=v.position.end.line;if(b>=t&&D<=c){const O=b-t,N=D-t,B=s.slice(O,N+1),P=B.join(`
`);if(v.parent&&v.parent>0&&(r[v.position.start.line]=v.parent),v.parent&&h[v.parent]){if(b-v.parent===1){const L=(T=s[O])==null?void 0:T.match(/^(\s*)/);L&&(h[v.parent].indent=L[0])}const U=new RegExp("^"+h[v.parent].indent);h[v.parent].content+=`
`+P.split(`
`).map(L=>L==null?void 0:L.replace(U,"")).join(`
`)}else if(v.parent&&h[o(r,v.parent)]){const U=new RegExp("^"+h[o(r,v.parent)].indent);h[o(r,v.parent)].content+=`
`+P.split(`
`).map(L=>L==null?void 0:L.replace(U,"")).join(`
`)}else if(new RegExp(GN).test(P)){h[b]||(h[b]={content:"",indent:""});const U=B.length>1&&((I=B[1])==null?void 0:I.match(/^(\s*)/));U&&(h[b].indent=U[0]),h[b].content=P.split(`
`).map(L=>L==null?void 0:L.replace(h[b].indent,"")).join(`
`)}}}),e.path.includes("2024-04-07");const m=Object.keys(h).map(v=>({line:h[v].content,index:parseInt(v)}));return e.path.includes("2024-04-07"),m}async function fA(e,t){let n=t.vault.getAbstractFileByPath(e);return n||(new C.Notice(x("File not found for the given thino path, is creating a new file")),n=await t.vault.create(e,'{"nodes": [], "edges": []}'),ft.setChangedByMemos(!0)),n}async function hA(e,t){var o;let n;try{n=await t.vault.read(e)}catch(i){console.error(i),n=await t.vault.cachedRead(e)}const r=(o=t.metadataCache.getFileCache(e))==null?void 0:o.frontmatterPosition;return r?n.slice(r.end.offset+1):n}function pA(e){const t=e.split(/\r?\n/),n=[];let r="",o=[],i=0;for(let s=0;s<t.length;s++){const c=t[s];c.startsWith("#")?(r&&n.push({header:r,content:o.join(`
`).trim(),pos:{start:i,end:s-1}}),r=c,o=[],i=s):o.push(c)}return r&&n.push({header:r,content:o.join(`
`).trim(),pos:{start:i,end:t.length-1}}),n}function mA(e){const t=e.split(/\r?\n/),n=[];let r=!1,o=[],i="";for(let s=0;s<t.length;s++){const c=t[s];c.startsWith("> [!thino]")?(r&&(n.push({metadata:i,content:o.join(`
`).trim()}),o=[]),r=!0,i=c.replace("> [!thino]","").trim()):r&&c.startsWith(">")?o.push(c.replace(/^> /,"")):r&&!c.startsWith(">")&&(r=!1,n.push({metadata:i,content:o.join(`
`).trim()}),o=[],i="")}return r&&n.push({metadata:i,content:o.join(`
`).trim()}),n}const gA=e=>{let t;switch(e){case" ":t="TASK-TODO";break;case"x":case"X":t="TASK-DONE";break;default:t="TASK-"+e;break}return t};async function yA(e,t){if(!t)return 0;const{vault:n}=Le.getState().dailyNotesState.app,r=e==null?void 0:e.DefaultMemoComposition,o=e!=null&&e.ProcessEntriesBelow&&(e==null?void 0:e.ProcessContentTarget)!=="whole"?e==null?void 0:e.ProcessEntriesBelow:"",i=(e==null?void 0:e.ProcessContentTarget)!=="whole"?e!=null&&e.DifferentInsertTarget?e!=null&&e.InsertAfterForTask?e==null?void 0:e.InsertAfterForTask:"":o:"";let s;try{s=await n.read(t)}catch(D){console.error(D),s=await n.cachedRead(t)}let c;r!=""&&/{TIME}/g.test(r)&&/{CONTENT}/g.test(r)?c="(-|\\*) (\\[(.{1})\\]\\s)?"+r.replace(/{TIME}/g,"((\\<time\\>)?\\d{1,2}:\\d{2}(\\:\\d{2})?)?").replace(/ {CONTENT}/g,""):c="(-|\\*) (\\[(.{1})\\]\\s)?((\\<time\\>)?\\d{1,2}\\:\\d{2}(\\:\\d{2})?)?";const d=new RegExp(c,"g"),h=(s.match(d)||[]).length,m=new RegExp(o.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g"),g=new RegExp(i.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g"),v=(s.match(m)||[]).length,b=(s.match(g)||[]).length;return s=null,v||b?h:0}function YS(e,t,n,r,o){var d,h,m;const i=Xf(o,"day");let s;const c=dA(o,n,t);o.path.includes("2024-04-08");for(const g of c){const v=SA(e.DefaultMemoComposition,g.line),b=DA(e.DefaultMemoComposition,g.line),D=TA(g.line);let T=vA(g.line);if(i.hours(parseInt(v)),i.minutes(parseInt(b)),D&&i.seconds(parseInt(D)),!D&&i.seconds(0),/^\s*[-*]\s(\[(.)\])\s/g.test(g.line)){const V=IA(g.line);T=wA(e.DefaultMemoComposition,g.line),s=gA(V)}else s="JOURNAL";o.path.includes("2024-04-07");let I=T.trim().replaceAll(/<br>/g,`
`);const O=new RegExp(/\[(pinned|PINNED)::true\]/,"g").test(T),N=new RegExp(/\[(archived|ARCHIVED)::true\]/,"g").test(T),B=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").test(T),P=(d=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(T))==null?void 0:d[2],U=(h=new RegExp(/\[(webId|WEBID)::([^\]]*)\]/,"g").exec(T))==null?void 0:h[2],L=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(T)?"PUBLIC":"PRIVATE",z=(m=new RegExp(/(\s|^)\^([0-9a-zA-Z-]+)($|\n)/).exec(T))==null?void 0:m[2];o.path.includes("2024-04-07"),I=I.replace(/\s\[pinned::[^\]]+\]/g,"").replace(/\s\[visibility::[^\]]+\]/g,"").replace(/\s\[archived::[^\]]+\]/g,"").replace(/\s\[deleted::[^\]]+\]/g,"").replace(/\s\[webId::[^\]]+\]/g,"").replace(/(\s|^)\^([0-9a-zA-Z-]+)($|\n)/g,""),r.push({id:i.format("YYYYMMDDHHmmss")+`${g.index}`,content:I,createdAt:i.format("YYYY/MM/DD HH:mm:ss"),updatedAt:i.format("YYYY/MM/DD HH:mm:ss"),thinoType:s,hasId:z||"",linkId:"",path:o.path,deletedAt:B?C.moment(P,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",rowStatus:N?"ARCHIVED":"NORMAL",visibility:L,pinned:O,creatorName:"Memo",resourceList:[],sourceType:"DAILY",webId:U})}}function vA(e){return e.replace(/^(-|\*|\d\.) (\d{1,2}:\d{2}(:\d{2})?)\s(.*)/g,"$4")}function wA(e,t){return bA(e,t)}const bA=(e,t)=>{var o;let n;n="^(-|\\*|\\d\\.)\\s+\\[.\\]\\s(\\d{1,2}:\\d{2}(:\\d{2})?)\\s([\\w\\W]*)";const r=new RegExp(n,"");return t.contains(`
`),(o=r.exec(t))==null?void 0:o[4]},SA=(e,t)=>{var o;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\:\\d{2})?").replace(/{CONTENT}/g,"(.*)"):n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)",(o=new RegExp(n,"").exec(t))==null?void 0:o[6]},DA=(e,t)=>{var o;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\:\\d{2})?").replace(/{CONTENT}/g,"(.*)"):n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)",(o=new RegExp(n,"").exec(t))==null?void 0:o[7]},TA=e=>{var r;const t="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\d{1,2})\\:(\\d{2})\\:(\\d{2})(.*)";return(r=new RegExp(t,"").exec(e))==null?void 0:r[7]},IA=e=>{var t;return(t=/^\s*[\-\*]\s(\[(.{1})\])\s(.*)/.exec(e))==null?void 0:t[2]},RI=()=>mm()?!0:(new C.Notice(x("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),!1);async function _I(e,t){if(!e)return t;const n=Le.getState().dailyNotesState.app,r=await hA(e,n);if(!r.trim())return t;let o=C.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss");await n.fileManager.processFrontMatter(e,i=>{if(!i)return t;const s=!!i.pinned,c=i.rowStatus&&i.rowStatus==="ARCHIVED",d=!!i.deletedAt;i.createdAt&&(o=C.moment(i.createdAt,"YYYY/MM/DD HH:mm:ss").isValid()?i.createdAt:o);const h=i.deletedAt?i.deletedAt:"",m=i.visibility?i.visibility:"PRIVATE",g=i.thinoType?i.thinoType:"JOURNAL",v=i.webId?i.webId:"";i.id||(i.id=at.randomId(16));const b=i.id?i.id:"",D=i.hasId?i.hasId:"",T=i.linkId?i.linkId:"",I=e.path,O="Memo",N="MULTI",B=[];return t.push({id:b,content:r,createdAt:o,updatedAt:o,deletedAt:d?C.moment(h,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:s,rowStatus:c?"ARCHIVED":"NORMAL",visibility:m,thinoType:g,hasId:D,linkId:T,path:I,creatorName:O,sourceType:N,resourceList:B,webId:v}),t})}async function n1(e,t){var b,D,T,I,O,N;if(!e)return t;const{vault:n}=Le.getState().dailyNotesState.app;let r;try{r=await n.read(e)}catch(B){console.error(B),r=await n.cachedRead(e)}if(!r)return;const o=C.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss"),i=C.moment(e.stat.mtime).format("YYYY/MM/DD HH:mm:ss"),s=e.path,c="Thino",d="FILE",h="",m="",g=[],v=await pA(r);for(const B of v){const P=mA(B.content);for(const U of P){const L=U.metadata.match(/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2}/g);if(!L)continue;const z=(D=(b=U.metadata.match(/id::([^\]]*)/g))==null?void 0:b[0])==null?void 0:D.replace("id::","");if(!z)continue;const V=L?L[0]:o,Z=L?L[0]:i,$=U.metadata.match(/webId::([^\]]*)/g)?(I=(T=U.metadata.match(/webId::([^\]]*)/g))==null?void 0:T[0])==null?void 0:I.replace("webId::",""):"",oe=U.metadata.contains("[pinned::true]"),te=U.metadata.contains("[archived::true]"),ye=U.metadata.contains("[deleted::"),ge=(O=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(U.metadata))==null?void 0:O[2],ce=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(U.metadata)?"PUBLIC":"PRIVATE",Q=(N=new RegExp(/\[(thinoType|THINOTYPE)::([^\]]*)\]/,"g").exec(U.metadata))==null?void 0:N[2];t.push({id:z,content:U.content,createdAt:V,updatedAt:Z,deletedAt:ye?C.moment(ge,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:oe,rowStatus:te?"ARCHIVED":"NORMAL",visibility:ce,thinoType:Q||"JOURNAL",hasId:h,linkId:m,path:s,creatorName:c,sourceType:d,resourceList:g,webId:$})}}return t}async function BI(e,t){if(!e)return[];const n=Le.getState().dailyNotesState.settings,{vault:r}=Le.getState().dailyNotesState.app;if(await yA(n,e)===0)return;let i;try{i=await r.read(e)}catch(g){console.error(g),i=await r.cachedRead(e)}const{content:s,startLine:c}=US(i,(n==null?void 0:n.ProcessContentTarget)==="whole"?"":n.ProcessEntriesBelow);let d="",h=0;if(n.DifferentInsertTarget&&(n==null?void 0:n.ProcessContentTarget)!=="whole"&&n.InsertAfterForTask&&!s.includes(n.InsertAfterForTask)){const{content:g,startLine:v}=US(i,n.InsertAfterForTask);d=g,h=v}const m=[];YS(n,s,c,m,e),n.DifferentInsertTarget&&d&&YS(n,d,h,m,e),m.length!==0&&t.push(...m.sort((g,v)=>g.createdAt>v.createdAt?-1:1))}async function HI(e,t){const{app:n}=Le.getState().dailyNotesState;if(!(e instanceof C.TFile))return;let r;try{r=await n.vault.read(e)}catch(s){console.error(s),r=await n.vault.cachedRead(e)}if(!r)return;const o=JSON.parse(r),i=o==null?void 0:o.nodes;for(const s of i){if(s.type==="group"||s.createdAt===void 0||s.text.trim()==="")continue;const c=C.moment(s==null?void 0:s.createdAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),d=C.moment(s==null?void 0:s.updatedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),h=s!=null&&s.deletedAt?C.moment(s==null?void 0:s.deletedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",m=!!(s!=null&&s.pinned),g=s!=null&&s.archived?"ARCHIVED":"NORMAL",v=s!=null&&s.visibility?s==null?void 0:s.visibility:"PRIVATE",b=s!=null&&s.thinoType?s==null?void 0:s.thinoType:"JOURNAL",D=s!=null&&s.text?s==null?void 0:s.text:"",T=s!=null&&s.id?s==null?void 0:s.id:"",I=s!=null&&s.hasId?s==null?void 0:s.hasId:"",O=s!=null&&s.linkId?s==null?void 0:s.linkId:"",N=e.path,B="Memo",P="CANVAS",U=[],L=s!=null&&s.webId?s==null?void 0:s.webId:void 0;t.push({id:T,content:D,createdAt:c,updatedAt:d,deletedAt:h,pinned:m,rowStatus:g,visibility:v,thinoType:b,hasId:I,linkId:O,path:N,creatorName:B,sourceType:P,resourceList:U,webId:L})}}async function zS(e=[]){const t=[],n=[],r=Le.getState().dailyNotesState.app,{vault:o}=r,{settings:i}=Le.getState().dailyNotesState,s=r.loadLocalStorage("tokenForSync"),c=async(d,h)=>{for(const m of d)try{await h(m,t)}catch(g){console.error(g),new C.Notice(g)}};if(e.includes("CANVAS")){const d=EA(o);await c(d,HI)}if(e.includes("MULTI")){const d=xA(o,i);await c(d,_I)}if(e.includes("DAILY")){const d=await CA(o);await c(d,BI)}if(e.includes("FILE")||s){const d=MA(o);await c(d,n1)}return{memos:t,commentMemos:n}}function EA(e){return e.getAllLoadedFiles().filter(t=>t instanceof C.TFile&&t.extension==="canvas"&&t.name.includes(".thino"))}function xA(e,t){return e.getMarkdownFiles().filter(n=>{var r,o;return n instanceof C.TFile&&((r=n.parent)==null?void 0:r.path.includes(t.MemoOtherSaveLocation.MemoDefaultMultiFilePath.trim()))&&!((o=n.path)!=null&&o.endsWith("thino.md"))})}async function CA(e){const t=Fv();t===void 0&&new C.Notice(x("Please check your daily note plugin OR periodic notes plugin settings")+"folder path is empty or undefined"),e.getAbstractFileByPath(C.normalizePath(t))||new C.Notice(x("Failed to find daily notes folder"));const r=ru();return Object.values(r).filter(o=>o instanceof C.TFile&&o.extension==="md")}function MA(e){return e.getMarkdownFiles().filter(t=>t instanceof C.TFile&&t.name.trim().includes("thino"))}const kA=async(e,t,n)=>{const r=await mh(Le.getState().dailyNotesState.app)||[],o=r.find(c=>c.id===e),i={...o,title:t,querystring:n},s=r.findIndex(c=>c.id===e);return r[s]=i,await Hm(Le.getState().dailyNotesState.app,r),[o]},NA="https://api.thino.pkmer.cn/test",gh=NA,AA="unknown",FA=/!\[(?<content>[^\]]+)\]\((?<link>[^)]+)\)/g;function OA(e){return e.substring(e.lastIndexOf(".")+1)}function PA(e){return{id:e.id,createdAt:Date.now().toString(),filename:e.id,type:`${OA(e.id)}`,size:e.size.toString()}}function jA(e){const t=e==null?void 0:e.matchAll(FA);return t?Array.from(t).map(n=>{var r;return PA({url:(r=n.groups)==null?void 0:r.link,id:AA,size:0,mtime:""})}).filter(n=>n.type!="html"):[]}function Um(e){var t;return{id:e.id,createdAt:C.moment(e.ctime.toString(),"x").format("YYYY/MM/DD HH:mm:ss"),updatedAt:C.moment(e.mtime.toString(),"x").format("YYYY/MM/DD HH:mm:ss"),deletedAt:(t=e.ttime)!=null&&t.toString()?C.moment(e.ttime.toString(),"x").format("YYYY-MM-DD HH:mm:ss"):"",rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,resourceList:jA(e.content),creatorName:"thino",sourceType:(e==null?void 0:e.thinoType)||"FILE",visibility:"PUBLIC",localId:e.originalId,deleted:!!e.dtime}}async function LA(e){const n={url:`${gh}/thino/getThinos${e?`?since=${e}&includeDeleted=true`:""}`,method:"GET",headers:{Authorization:`Bearer ${yh()}`}};return C.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to fetch memos: ${r.status}`);try{return r.json.payload.map(i=>Um(i))}catch(o){console.error(`Error processing memo response: ${o}`)}}).catch(r=>(console.error(r),[]))}function yh(){const e=Le.getState().dailyNotesState.app||app;return(e==null?void 0:e.loadLocalStorage("tokenForSync"))||""}async function $1(e){const t=`${gh}/thino/createThino`,n={content:e.content,thinoType:(e==null?void 0:e.thinoType)||"FILE",pinned:!1,rowStatus:"NORMAL",encrypted:!1},r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${yh()}`}};return C.requestUrl(r).then(o=>{o.status>=400&&console.error(`Failed to create memo: ${o.status}`);try{const i=o.json;return Um(i.payload)}catch(i){console.error(`Error processing memo creation response: ${i}`)}}).catch(o=>(console.error(o),null))}function RA(e){return{id:e.id,ctime:C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").valueOf(),mtime:C.moment(e.updatedAt,"YYYY/MM/DD HH:mm:ss").valueOf(),ttime:e.deletedAt?C.moment(e.deletedAt,"YYYY/MM/DD HH:mm:ss").valueOf():void 0,rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,encrypted:!1,thinoType:e.sourceType==="DAILY"?"DAILY":"FILE",tags:[]}}async function _A(e){const t=`${gh}/thino/createThinosByData`,n=e.map(o=>RA(o)),r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${yh()}`}};return C.requestUrl(r).then(o=>{o.status>=400&&console.error(`Failed to create thinos: ${o.status}`);try{return o.json.payload.map(c=>Um(c))}catch(i){console.error(`Error processing thinos creation response: ${i}`)}}).catch(o=>(console.error(o),[]))}async function uw(e){const n={url:`${gh}/thino/updateThinoById/${e.id}`,method:"POST",contentType:"application/json",body:JSON.stringify(e),headers:{Authorization:`Bearer ${yh()}`}};return C.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to update memo: ${r.status}`);try{const o=r.json;return Um(o.payload)}catch(o){console.error(`Error processing memo update response: ${o}`)}}).catch(r=>(console.error(r),null))}async function UI(e){const n={url:`${gh}/thino/recoverThinoFromTrash/${e}`,method:"POST",headers:{Authorization:`Bearer ${yh()}`}};return C.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to recover memo: ${r.status}`);try{const o=r.json;return Um(o.payload)}catch(o){console.error(`Error processing memo recovery response: ${o}`)}}).catch(r=>(console.error(r),null))}async function BA(e){const n={url:`${gh}/thino/deleteThinoById/${e}`,method:"DELETE",headers:{Authorization:`Bearer ${yh()}`}};return C.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to delete memo: ${r.status}`)}).catch(r=>(console.error(r),null))}function HA(e){return(e==null?void 0:e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))||e}function UA(e){const t=[];let n=e;for(;n.contains(`
`);){const r=n.indexOf(`
`);t.push(n.slice(0,r)),n=n.slice(r+1)}return t.push(n),t}async function YA({content:e,isList:t}){const n=Le.getState().dailyNotesState.settings,r=C.moment(),o=at.randomId(16),i=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",s=`${i}/${r.format("YYYYMMDD")}-${o}.md`,c={id:o,content:e,deletedAt:"",path:s,createdAt:r.format("YYYY/MM/DD HH:mm:ss"),updatedAt:r.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"MULTI"},d=yt.getState().app,{vault:h,fileManager:m}=d,g=h.getAbstractFileByPath(i);(!g||!(g instanceof C.TFolder))&&(new C.Notice(x("Folder not found for the given thino path, is creating a new folder")),await h.createFolder(i)),ft.setChangedByMemos(!0);const v=await h.create(s,e);return await m.processFrontMatter(v,b=>{b.id=o,b.createdAt=r.format("YYYY/MM/DD HH:mm:ss"),b.updatedAt=r.format("YYYY/MM/DD HH:mm:ss"),b.thinoType=t?"JOURNAL":"TASK-TODO",b.pinned=!1,b.visibility="PUBLIC",b.rowStatus="NORMAL"}),c}async function zA({content:e,isList:t}){const n=Le.getState().dailyNotesState.settings,r=C.moment(),o=at.randomId(16),i=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",s={id:o,content:e,deletedAt:"",path:i,createdAt:r.format("YYYY/MM/DD HH:mm:ss"),updatedAt:r.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE"},c=yt.getState().app,{vault:d}=c;let h=d.getAbstractFileByPath(i);(!h||!(h instanceof C.TFile))&&(new C.Notice(x("File not found for the given thino path, is creating a new file")),h=await d.create(i,""));let m="";try{m=await d.read(h)||await d.cachedRead(h)}catch(O){console.error(O),new C.Notice(x("Failed to read current daily note, check if it exists."))}const g=m.indexOf(`# ${r.format("YYYY-MM-DD")}`);let v=m.indexOf(`
#`,g+1);v===-1&&(v=m.length);const b=`> [!thino] ${r.format("YYYY/MM/DD HH:mm:ss")} %% [id::${o}] [thinoType::${t?"JOURNAL":"TASK-TODO"}] %%`,D=e.replace(/\n/g,`
> `),T=`
${b}
> ${D}
`;let I;if(g===-1){const O=`# ${r.format("YYYY-MM-DD")}`;I=`${m.substring(0,v)}
${O}${T}
${m.substring(v)}`}else I=`${m.substring(0,v)}${T}${m.substring(v)}`;return setTimeout(async()=>{ft.setChangedByMemos(!0),await d.modify(h,I)},200),s}async function VS(e){const t=Le.getState().dailyNotesState.settings,n=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),r=e.id,o=(t==null?void 0:t.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",i={id:r,content:e.content,deletedAt:e.deletedAt||"",path:o,createdAt:n.format("YYYY/MM/DD HH:mm:ss"),updatedAt:n.format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",hasId:"",linkId:"",pinned:e.pinned,visibility:"PUBLIC",rowStatus:e.rowStatus||"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE",webId:e.id},s=yt.getState().app,{vault:c}=s;let d=c.getAbstractFileByPath(o);(!d||!(d instanceof C.TFile))&&(new C.Notice(x("File not found for the given thino path, is creating a new file")),d=await c.create(o,""));let h="";try{h=await c.read(d)||await c.cachedRead(d)}catch(I){console.error(I),new C.Notice(x("Failed to read current daily note, check if it exists."))}const m=h.indexOf(`# ${n.format("YYYY-MM-DD")}`);let g=h.indexOf(`
#`,m+1);g===-1&&(g=h.length);const v=`> [!thino] ${n.format("YYYY/MM/DD HH:mm:ss")} %% [id::${r}] [thinoType::JOURNAL]${e.rowStatus==="ARCHIVED"?" [archived::true]":""}${e.pinned===!0?" [pinned::true]":""}${e.deletedAt?` [deleted::${e.deletedAt}]`:""}${e.id?` [webId::${e.id}]`:""}  %%`,b=e.content.replace(/\n/g,`
> `),D=`
${v}
> ${b}
`;let T;if(m===-1){const I=`# ${n.format("YYYY-MM-DD")}`;T=`${h.substring(0,g)}
${I}${D}
${h.substring(g)}`}else T=`${h.substring(0,g)}${D}${h.substring(g)}`;return ft.setChangedByMemos(!0),await c.modify(d,T),i}async function VA({content:e,isList:t}){const n=Le.getState().dailyNotesState.settings,r=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultCanvasPath)||"basic.thino.canvas",o=C.moment(),i=at.randomId(16),s={id:i,content:e,deletedAt:"",path:r,createdAt:o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:o.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"CANVAS"},c=yt.getState().app,{vault:d}=c,h=await fA(r,c);if(!h||!(h instanceof C.TFile)){new C.Notice(x("File not found for the given thino path, is creating a new file"));return}const m=await d.read(h),g=JSON.parse(m);if(g.nodes.find(I=>I.id===s.id))return;let b;g.nodes.length>0&&(b=[...g.nodes].reduce((I,O)=>{if(!I.createdAt)return O;const N=C.moment(I.createdAt,"YYYY/MM/DD HH:mm:ss"),B=C.moment(O.createdAt,"YYYY/MM/DD HH:mm:ss");return N.isAfter(B)?I:O}));const D=b?{x:b.x,y:b.y+100,width:b.width,height:b.height}:{x:0,y:0,width:200,height:100};g.nodes.push({...D,type:"text",id:i,text:e,deletedAt:"",createdAt:o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:o.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[]}),ft.setChangedByMemos(!0);const T=JSON.stringify(g,null,2);return await d.modify(h,T),s}async function ZS(e,t,n){var $;const{vault:r}=Le.getState().dailyNotesState.app||app,o=Le.getState().dailyNotesState.app||app,i=Le.getState().dailyNotesState.settings,s=o.vault.getConfig("useTab")===void 0||app.vault.getConfig("useTab")===!0,c=s?1:o.vault.getConfig("tabSize"),d=(s?"	":" ").repeat(c),h=e.split(`
`).join(`
`+d),m=n||C.moment(),{DifferentInsertTarget:g,InsertAfterForTask:v,InsertType:b}=i,D=m.format(i.DefaultTimePrefix||"HH:mm"),T=o==null?void 0:o.loadLocalStorage("tokenForSync");let I="";try{e&&T&&i.startSync&&(I=(await $1({content:e,thinoType:"DAILY"})).id)}catch(oe){console.error(oe)}const O=t?"- ":"- [ ] ",N=i!=null&&i.DefaultMemoComposition?`${O}${($=i==null?void 0:i.DefaultMemoComposition)==null?void 0:$.replace(/{TIME}/g,D).replace(/{CONTENT}/g,(h.split(`
`).length>1?`
`+d:"")+h)}${I?` [webId::${I}]`:""}`:`${O}${D} ${h.split(`
`).length>1?`
`+d:""}${h}${I?` [webId::${I}]`:""}`,B=ru(),P=Av(m,B);let U;if(P?U=P:U=await at.createDailyNoteCheck(m),!U){new C.Notice(x("Failed to create daily note, check if it exists."));return}P||await yt.fechLocalDailyNotes();let L="";try{L=await r.read(U)||await r.cachedRead(U)}catch(oe){console.error(oe),new C.Notice(x("Failed to read current daily note, check if it exists."))}const z=b==="end"?"":t?i.InsertAfter:g&&v||i.InsertAfter,V=await YI(z,N,L);n?await r.modify(U,V.content):setTimeout(async()=>{await r.modify(U,V.content)},600);const Z=V.posNum===-1?zI(V.content).length-(N.split(`
`).length-1)-1:V.posNum+1;return ft.setChangedByMemos(!0),{id:m.format("YYYYMMDDHHmm")+"00"+Z,content:e,deletedAt:"",createdAt:m.format("YYYY/MM/DD HH:mm:ss"),updatedAt:m.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",path:U.path,hasId:"",linkId:"",webId:I,pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"DAILY"}}async function ZA(e){const{vault:t}=Le.getState().dailyNotesState.app??app,n=Le.getState().dailyNotesState.app||app,{DefaultMemoComposition:r,InsertAfter:o,DefaultTimePrefix:i,DifferentInsertTarget:s,InsertAfterForTask:c,InsertType:d}=Le.getState().dailyNotesState.settings;let h=(e.pinned?" [pinned::true]":"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.visibility==="PRIVATE"?' [visibility::"PRIVATE"]':"");if(e.id){const $=" [webId::"+e.id+"]";h+=$}const m=C.moment();if(e.deletedAt){const $=" [deleted::"+m.format("YYYYMMDDHHmmss")+"]";h+=$}const g=n.vault.getConfig("useTab")===void 0||app.vault.getConfig("useTab")===!0,v=g?1:n.vault.getConfig("tabSize"),b=(g?"	":" ").repeat(v),D=e.content.split(`
`).join(`
`+b),T=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),I=T.format(i||"HH:mm"),O=e.thinoType?"- [ ] ":"- ",N=r?`${O}${r==null?void 0:r.replace(/{TIME}/g,I).replace(/{CONTENT}/g,(D.split(`
`).length>1?`
`+b:"")+D)}${h}`:`${O}${I} ${D.split(`
`).length>1?`
`+b:""}${D}${h}`,B=ru(),P=Av(T,B);let U;if(P?U=P:U=await at.createDailyNoteCheck(T),!U){new C.Notice(x("Failed to create daily note, check if it exists."));return}P||await yt.fechLocalDailyNotes();let L="";try{L=await t.read(U)||await t.cachedRead(U)}catch($){console.error($),new C.Notice(x("Failed to read current daily note, check if it exists."))}const z=d==="end"?"":e.thinoType&&s&&c||o,V=await YI(z,N,L);await t.modify(U,V.content);const Z=V.posNum===-1?zI(V.content).length-1:V.posNum+1;return ft.setChangedByMemos(!0),{id:T.format("YYYYMMDDHHmm")+"00"+Z,content:e.content,deletedAt:e.deletedAt??"",createdAt:T.format("YYYY/MM/DD HH:mm:ss"),updatedAt:T.format("YYYY/MM/DD HH:mm:ss"),thinoType:e.thinoType??"JOURNAL",path:U.path,hasId:"",linkId:"",pinned:e.pinned??!1,visibility:"PUBLIC",rowStatus:e.rowStatus??"NORMAL",webId:e.id,creatorName:"Thino",resourceList:[],sourceType:"DAILY"}}async function YI(e,t,n){const r=new RegExp(`s*${await HA(e)}s*`),o=UA(n),i=o.findIndex(h=>r.test(h)),s=(e==null?void 0:e.trim())===""?!0:i===-1;s&&console.error("unable to find insert after line in file.");const c=o.slice(i+1).findIndex(h=>/^#+ |---/.test(h)),d=c!==-1;if(d){let h;for(let m=c+i;m>i;m--)if(!/^[\s\n ]*$/.test(o[m])){h=m;break}return h||(h=i),await WS(t,n,s?-1:h,d)}else return await WS(t,n,o.length-1,d)}async function WS(e,t,n,r){if(n<-1)throw new Error("Invalid position");if(n===-1)return{content:`${t}
${e}`,posNum:-1};const o=t.split(`
`),i=o.slice(0,n+1).join(`
`),s=o.slice(n+1).join(`
`),c=s.trim().length>0;return{content:`${i}${!c&&!r||!i.endsWith(`
`)?`
`:""}${e}${(c||r?`
`:"")+s}`,posNum:n}}const zI=e=>e.split(/\r?\n/);async function WA(e){const t=Le.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof C.TFile)){new C.Notice(x("File not found for the given thino path"));return}await t.vault.delete(n)}async function $A(e){const t=Le.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof C.TFile)){new C.Notice(x("File not found for the given thino path"));return}const o=(await t.vault.read(n)).split(`
`),i=o.findIndex(d=>d.includes(e.id));if(i===-1){new C.Notice(x("Thino not found"));return}const s=o.findIndex((d,h)=>h>i&&d.trim()==="");s===-1?o.splice(i,o.length-i):o.splice(i,s-i);const c=o.join(`
`);if(!c){new C.Notice(x("Thino not found"));return}ft.setChangedByMemos(!0),await t.vault.modify(n,c)}async function qA(e){const t=Le.getState().dailyNotesState.app,n=t.metadataCache.getFirstLinkpathDest("",e.path);if(!n){new C.Notice(x("File not found for the given thino path"));return}const r=await t.vault.read(n),o=JSON.parse(r),i=o.nodes,s=i.findIndex(m=>m.id===e.id);if(s===-1){new C.Notice(x("Thino not found"));return}i.splice(s,1);const c=o.edges;c.filter(m=>m.fromNode===e.id||m.toNode===e.id).forEach(m=>{const g=c.findIndex(v=>v.id===m.id);g!==-1&&c.splice(g,1)}),ft.setChangedByMemos(!0);const h=JSON.stringify(o,null,2);await t.vault.modify(n,h)}async function GA(e){RI()||new C.Notice(x("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."),5e3);const{vault:t,metadataCache:n}=Le.getState().dailyNotesState.app,r=e.id.toString().slice(0,14),o=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(C.moment(r,"YYYYMMDDHHmmss"))?C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"):C.moment(r,"YYYYMMDDHHmmss");C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(o,"day");const i=e.path,s=t.getAbstractFileByPath(i);if(!s){new C.Notice(x("Please check your daily note plugin OR periodic notes plugin settings"));return}const c=await t.read(s),d=c.split(`
`),h=n.getFileCache(s),m=(h==null?void 0:h.listItems)||[],g=parseInt(e.id.slice(14));let v=g;function b(O,N){let B=[];for(const P in N)N[P]===O&&B.push(parseInt(P),...b(parseInt(P),N));return B}const D=LI(m),T=m.find(O=>O.position.start.line===g),I=b(g,D);if(I.length>0){const O=I.map(N=>{const B=m.find(P=>P.position.start.line===N);return B?B.position.end.line:-1});v=Math.max(...O,T.position.end.line)}else v=T.position.end.line;if(!c){new C.Notice(x("Thino not found"));return}ft.setChangedByMemos(!0),d.splice(g,v-g+1),await t.modify(s,d.join(`
`))}async function JA(){const{vault:e,metadataCache:t}=Le.getState().dailyNotesState.app,n=Le.getState().dailyNotesState.settings,o=Fv()+"/"+n.DeleteFileName+".md",i=[],s=t.getFirstLinkpathDest("",o);if(s instanceof C.TFile){let c=await e.read(s),d=KA(c);if(d.length===0)return i;for(let h=0;h<d.length;h++){const m=d[h];if(/- /.test(m)){const v=QA(m).slice(0,13),b=C.moment(v,"YYYYMMDDHHmmss"),D=e6(d[h]),T=C.moment(D.slice(0,13),"YYYYMMDDHHmmss"),I=XA(d[h]);i.push({id:D,content:I,user_id:1,createdAt:b.format("YYYY/MM/DD HH:mm:SS"),updatedAt:b.format("YYYY/MM/DD HH:mm:SS"),deletedAt:T})}else continue}d=null,c=null}return i}const KA=e=>e.split(/\r?\n/),QA=e=>{var t;return(t=/^- (\d{14})(\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[1]},XA=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[2]},e6=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[4]};async function t6(e){const t=await mh(Le.getState().dailyNotesState.app)||[],n=t.findIndex(r=>r.id===e);t.splice(n,1),await Hm(Le.getState().dailyNotesState.app,t)}const n6=async e=>{const{app:t}=Le.getState().dailyNotesState,n=await mh(t)||[],r=n.find(o=>o.id===e);if(r){const o=C.moment().format("YYYY/MM/DD HH:mm:ss");return r.pinnedAt=o,await Hm(t,n),o}else{new C.Notice(x("Query not found"));return}},r6=async e=>{const{app:t}=Le.getState().dailyNotesState,n=await mh(t)||[],r=n.find(o=>o.id===e);if(r){r.pinnedAt="",await Hm(t,n);return}else{new C.Notice(x("Query not found"));return}};function o6(e,t){const n=/%%(.*?)%%/,r=e.match(n);if(!r)return e;const o=r[1].trim(),i={};o.split(" ").forEach(c=>{const[d,h]=c.slice(1,-1).split("::");i[d]=h});for(const c of Object.keys(t))if(c!=="id"&&c!=="content"){if(c==="rowStatus"&&t.rowStatus==="ARCHIVED"){i.archived="true";continue}else if(c==="rowStatus"&&t.rowStatus==="NORMAL"){delete i.archived;continue}if(c==="deleted"&&t.deleted){const d=C.moment().format("YYYYMMDDHHmmss");i.deleted=d}else typeof t[c]=="boolean"?t[c]?i[c]="true":delete i[c]:t[c]&&(i[c]=t[c])}const s=Object.entries(i).map(([c,d])=>`[${c}::${d}]`).join(" ");return e.replace(n,`%% ${s} %%`)}async function ls(e,t){if(!e.sourceType||e.sourceType!=="MULTI")return e;const{vault:n,fileManager:r}=Le.getState().dailyNotesState.app,o=n.getAbstractFileByPath(e.path);if(!o)return e;const i=C.moment();if(await r.processFrontMatter(o,s=>{(t.pinned!==void 0||t.thinoType||t.rowStatus||t.visibility||t.deleted)&&ft.setChangedByMemos(!0),t.id&&(s.id=t.id),t.thinoType&&(s.thinoType=t.thinoType),t.rowStatus&&(s.rowStatus=t.rowStatus),t.visibility&&(s.visibility=t.visibility),t.webId&&(s.webId=t.webId),t.pinned!==void 0&&(s.pinned=t.pinned),t.deleted!==void 0&&(s.deletedAt=t.deleted?i.format("YYYY/MM/DD HH:mm:ss"):""),s.createdAt||(s.createdAt=i.format("YYYY/MM/DD HH:mm:ss")),s.updatedAt=i.format("YYYY/MM/DD HH:mm:ss")}),t.content){const s=await n.read(o);let c=s;const d=t.content.replace(/\$/g,"$$$$");c=s.replace(e.content,d),await n.modify(o,c)}return ft.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||i.format("YYYY/MM/DD HH:mm:ss"),updatedAt:e.updatedAt,content:t.content||e.content,rowStatus:t.rowStatus||e.rowStatus,visibility:t.visibility||e.visibility,pinned:t.pinned!==void 0?t.pinned:e.pinned,webId:t.webId||e.webId,deletedAt:t.deleted?i.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function tl(e,t){if(!e.sourceType||e.sourceType!=="FILE")return e;const{vault:n}=Le.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const o=C.moment();let i="";try{i=await n.read(r)}catch(O){console.error(O),i=await n.cachedRead(r)}const s=i.split(/\r?\n/),c=s.findIndex(O=>O.includes(e.id)||e.webId&&O.includes(e.webId)),d=s[c];if(!d)return e;const h=o6(d,t);if(!d)return e;const m=h+`
`,g=s.findIndex((O,N)=>N>c&&O.trim()==="");let v="";g===-1&&(v=s.slice(c+1).join(`
`)),g!==-1&&(v=s.slice(c+1,g).join(`
`));let b=v;t!=null&&t.content&&(b=t.content.split(/\r?\n/).map(P=>"> "+P).join(`
`));const T=(m+b).split(/\r?\n/);s.splice(c,g?g-c:s.length-c,...T);const I=s.join(`
`);return await n.modify(r,I),ft.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:e.updatedAt,content:t.content||e.content,rowStatus:t.rowStatus||e.rowStatus,visibility:t.visibility||e.visibility,pinned:t.pinned!==void 0?t.pinned:e.pinned,webId:t.webId||e.webId,deletedAt:t.deleted?o.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function nl(e,t){if(!e.sourceType||e.sourceType!=="CANVAS")return e;const{vault:n}=Le.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const o=await n.read(r),i=JSON.parse(o),s=i.nodes.find(h=>h.id===e.id);if(!s)return e;t.content&&(s.text=t.content),t.thinoType&&(s.thinoType=t.thinoType),t.rowStatus&&(s.rowStatus=t.rowStatus),t.visibility&&(s.visibility=t.visibility),t.pinned!==void 0&&(s.pinned=t.pinned),t.webId&&(s.webId=t.webId);const c=C.moment();t.deleted!==void 0&&(s.deletedAt=t.deleted?c.format("YYYY/MM/DD HH:mm:ss"):""),s.updatedAt=c.format("YYYY/MM/DD HH:mm:ss");const d=JSON.stringify(i,null,2);return await n.modify(r,d),ft.setChangedByMemos(!0),{...e,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt,updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?c.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function rl(e,t){var ye;RI()||new C.Notice(x("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."));const{vault:n,metadataCache:r}=Le.getState().dailyNotesState.app,o=Le.getState().dailyNotesState.app,{settings:i}=Le.getState().dailyNotesState,s=e.id.toString().slice(0,14),c=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(C.moment(s,"YYYYMMDDHHmmss"))?C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"):C.moment(s,"YYYYMMDDHHmmss"),d=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(c,"day"),h=e.path,m=n.getAbstractFileByPath(h)||n.getAbstractFileByPath(e.path);if(!m)return new C.Notice(x("Please check your daily note plugin OR periodic notes plugin settings")),e;const v=(await n.read(m)).split(`
`),b=r.getFileCache(m),D=(b==null?void 0:b.listItems)||[];if(D.length===0)return new C.Notice(x("Thino not found")),e;const T=parseInt(e.id.slice(14));let I=T;function O(ge,ce){let Q=[];for(const ue in ce)ce[ue]===ge&&Q.push(parseInt(ue),...O(parseInt(ue),ce));return Q}const N=LI(D),B=D.find(ge=>ge.position.start.line===T);if(!B)return new C.Notice(x("Thino not found")),e;const P=O(T,N);if(P.length>0){const ge=P.map(ce=>{const Q=D.find(ue=>ue.position.start.line===ce);return Q?Q.position.end.line:-1});I=Math.max(...ge,B.position.end.line)}else I=B.position.end.line;const U=v.slice(T,I+1);let L=U.join(`
`);const z=d?C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm"):(parseInt(e.id.toString().slice(10,12))+24).toString()+":"+e.id.toString().slice(12,14);if(!L)return new C.Notice(x("Thino not found")),e;const V=o.vault.getConfig("useTab")===void 0||app.vault.getConfig("useTab")===!0,Z=V?1:o.vault.getConfig("tabSize"),$=(V?"	":" ").repeat(Z);let oe=z;if(i.DefaultTimePrefix!=="HH:mm"&&(oe=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format(i.DefaultTimePrefix)),t.content){const ge=e.thinoType==="TASK-TODO"?"- [ ] ":e.thinoType==="TASK-DONE"?"- [x] ":e.thinoType.startsWith("TASK")?`- [${e.thinoType.slice(5)}] `:"- ",ce=(e.pinned?" [pinned::true]":"")+(e.deletedAt?` [deleted::${e.deletedAt}]`:"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.webId?" [webId::"+e.webId+"]":""),Q=t.content.trim().split(`
`)[t.content.trim().split(`
`).length-1].trim(),ue=e.hasId&&t.content.trim().split(`
`).length>1&&new RegExp(/(-|\*|\d{1,2}\.)\s/g).test(Q)?" ^"+e.hasId:" ";L=`${ge}${oe}${ue}${t.content.trim().split(`
`).length>1?`
`+$:""}${t.content.trim().split(`
`).join(`
`+$)} ${ce}`}if(t.thinoType){const ge=t.thinoType==="TASK-TODO"?"- [ ] ":t.thinoType==="TASK-DONE"?"- [x] ":t.thinoType.startsWith("TASK")?`- [${t.thinoType.slice(5)}] `:"- ";L=L.replace(/^((- \[.\] )|((-|\*) ))/,ge)}if(t.rowStatus){const ge=t.rowStatus==="ARCHIVED"?"[archived::"+(t.rowStatus==="ARCHIVED"?"true":"false")+"]":"";L=L.includes("[archived::")?L.replace(/\[archived::(true|false)\]/,ge):L+" "+ge}if(t.visibility){const ge='[visibility::"'+t.visibility+'"]';L=L.includes("[visibility::")?L.replace(/\[visibility::"(PUBLIC|PROTECTED)"\]/g,ge):L+" "+ge}if(t.pinned!==void 0){const ge=t.pinned?"[pinned::"+(t.pinned?"true":"false")+"]":"";L=L.includes("[pinned::")?L.replace(/\[pinned::(true|false)\]/,t.pinned===!1?"":ge):L+" "+ge}if(t.webId!==void 0){const ge="[webId::"+t.webId+"]";L=L.includes("[webId::")?L.replace(/\[webId::([^\]]+)\]/,t.webId===""?"":ge):L+" "+ge}const te=C.moment();if(t.deleted!==void 0){const ge="[deleted::"+te.format("YYYYMMDDHHmmss")+"]";t.deleted?(L=L.replace(/\[deleted::([^\]]+)\]/,""),L=L+" "+ge):t.deleted===!1&&(L=L.replace(/\[deleted::([^\]]+)\]/,""))}if(e.hasId&&((ye=t.content)==null?void 0:ye.split(`
`).length)===1){const ge=" ^"+e.hasId;L=L.trim().replace(/\s\^([0-9a-zA-Z-]+)($|\n)/g,"")+" "+ge}return L!==U.join(`
`)?(v.splice(T,I-B.position.start.line+1,L),await n.modify(m,v.join(`
`)),ft.setChangedByMemos(!0),{...e,thinoType:t.thinoType??e.thinoType,createdAt:e.createdAt,updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?te.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}):e}const i6=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return nl(e,{id:e.id,pinned:!0});case"DAILY":return rl(e,{id:e.id,pinned:!0});case"MULTI":return ls(e,{id:e.id,pinned:!0});case"FILE":return tl(e,{id:e.id,pinned:!0})}},a6=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return nl(e,{id:e.id,pinned:!1});case"DAILY":return rl(e,{id:e.id,pinned:!1});case"MULTI":return ls(e,{id:e.id,pinned:!1});case"FILE":return tl(e,{id:e.id,pinned:!1})}};var r1;(e=>{async function t(T){return await zS(T)}e.getMyMemos=t;async function n(T){return await zS([T])}e.updateSpecificTypeMemo=n;function r(){return JA()}e.getMyDeletedMemos=r;function o(T){const I=_e.getMemoById(T);if(I)switch(I==null?void 0:I.sourceType){case"DAILY":return rl(I,{id:I.id,deleted:!1});case"CANVAS":return nl(I,{id:I.id,deleted:!1});case"MULTI":return ls(I,{id:I.id,deleted:!1});case"FILE":return tl(I,{id:I.id,deleted:!1})}}e.restoreMemo=o;function i(T){return $A(T)}e.deleteMemoInSingleFile=i;function s(T){return WA(T)}e.deleteMemoInMultiFiles=s;function c(T){return GA(T)}e.deleteMemoInDailyNote=c;function d(T){return qA(T)}e.deleteMemoInCanvas=d;function h(){return lA()}e.getMyQueries=h;async function m(T,I){return await cA(T,I)}e.createQuery=m;function g(T,I,O){return kA(T,I,O)}e.updateQuery=g;function v(T){return t6(T)}e.deleteQueryById=v;function b(T){return n6(T)}e.pinQuery=b;function D(T){return r6(T)}e.unpinQuery=D})(r1||(r1={}));const Mi=r1;var ou={};Object.defineProperty(ou,"__esModule",{value:!0});class xd extends Error{}class s6 extends xd{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class l6 extends xd{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class u6 extends xd{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class tm extends xd{}class VI extends xd{constructor(t){super(`Invalid unit ${t}`)}}class Ca extends xd{}class Zu extends xd{constructor(){super("Zone is an abstract class")}}const pt="numeric",ds="short",ra="long",tv={year:pt,month:pt,day:pt},ZI={year:pt,month:ds,day:pt},c6={year:pt,month:ds,day:pt,weekday:ds},WI={year:pt,month:ra,day:pt},$I={year:pt,month:ra,day:pt,weekday:ra},qI={hour:pt,minute:pt},GI={hour:pt,minute:pt,second:pt},JI={hour:pt,minute:pt,second:pt,timeZoneName:ds},KI={hour:pt,minute:pt,second:pt,timeZoneName:ra},QI={hour:pt,minute:pt,hourCycle:"h23"},XI={hour:pt,minute:pt,second:pt,hourCycle:"h23"},eE={hour:pt,minute:pt,second:pt,hourCycle:"h23",timeZoneName:ds},tE={hour:pt,minute:pt,second:pt,hourCycle:"h23",timeZoneName:ra},nE={year:pt,month:pt,day:pt,hour:pt,minute:pt},rE={year:pt,month:pt,day:pt,hour:pt,minute:pt,second:pt},oE={year:pt,month:ds,day:pt,hour:pt,minute:pt},iE={year:pt,month:ds,day:pt,hour:pt,minute:pt,second:pt},d6={year:pt,month:ds,day:pt,weekday:ds,hour:pt,minute:pt},aE={year:pt,month:ra,day:pt,hour:pt,minute:pt,timeZoneName:ds},sE={year:pt,month:ra,day:pt,hour:pt,minute:pt,second:pt,timeZoneName:ds},lE={year:pt,month:ra,day:pt,weekday:ra,hour:pt,minute:pt,timeZoneName:ra},uE={year:pt,month:ra,day:pt,weekday:ra,hour:pt,minute:pt,second:pt,timeZoneName:ra};class Ym{get type(){throw new Zu}get name(){throw new Zu}get ianaName(){return this.name}get isUniversal(){throw new Zu}offsetName(t,n){throw new Zu}formatOffset(t,n){throw new Zu}offset(t){throw new Zu}equals(t){throw new Zu}get isValid(){throw new Zu}}let cw=null;class Pv extends Ym{static get instance(){return cw===null&&(cw=new Pv),cw}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return dE(t,n,r)}formatOffset(t,n){return sm(this.offset(t),n)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let Hy={};function f6(e){return Hy[e]||(Hy[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Hy[e]}const h6={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function p6(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,o,i,s,c,d,h,m]=r;return[s,o,i,c,d,h,m]}function m6(e,t){const n=e.formatToParts(t),r=[];for(let o=0;o<n.length;o++){const{type:i,value:s}=n[o],c=h6[i];i==="era"?r[c]=s:gn(c)||(r[c]=parseInt(s,10))}return r}let hy={};class Kl extends Ym{static create(t){return hy[t]||(hy[t]=new Kl(t)),hy[t]}static resetCache(){hy={},Hy={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Kl.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return dE(t,n,r,this.name)}formatOffset(t,n){return sm(this.offset(t),n)}offset(t){const n=new Date(t);if(isNaN(n))return NaN;const r=f6(this.name);let[o,i,s,c,d,h,m]=r.formatToParts?m6(r,n):p6(r,n);c==="BC"&&(o=-Math.abs(o)+1);const v=J1({year:o,month:i,day:s,hour:d===24?0:d,minute:h,second:m,millisecond:0});let b=+n;const D=b%1e3;return b-=D>=0?D:1e3+D,(v-b)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let $S={};function g6(e,t={}){const n=JSON.stringify([e,t]);let r=$S[n];return r||(r=new Intl.ListFormat(e,t),$S[n]=r),r}let o1={};function i1(e,t={}){const n=JSON.stringify([e,t]);let r=o1[n];return r||(r=new Intl.DateTimeFormat(e,t),o1[n]=r),r}let a1={};function y6(e,t={}){const n=JSON.stringify([e,t]);let r=a1[n];return r||(r=new Intl.NumberFormat(e,t),a1[n]=r),r}let s1={};function v6(e,t={}){const{base:n,...r}=t,o=JSON.stringify([e,r]);let i=s1[o];return i||(i=new Intl.RelativeTimeFormat(e,t),s1[o]=i),i}let nm=null;function w6(){return nm||(nm=new Intl.DateTimeFormat().resolvedOptions().locale,nm)}function b6(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(n===-1)return[e];{let r,o;try{r=i1(e).resolvedOptions(),o=e}catch{const d=e.substring(0,n);r=i1(d).resolvedOptions(),o=d}const{numberingSystem:i,calendar:s}=r;return[o,i,s]}}function S6(e,t,n){return(n||t)&&(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e}function D6(e){const t=[];for(let n=1;n<=12;n++){const r=Mt.utc(2016,n,1);t.push(e(r))}return t}function T6(e){const t=[];for(let n=1;n<=7;n++){const r=Mt.utc(2016,11,13+n);t.push(e(r))}return t}function py(e,t,n,r,o){const i=e.listingMode(n);return i==="error"?null:i==="en"?r(t):o(t)}function I6(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class E6{constructor(t,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:o,floor:i,...s}=r;if(!n||Object.keys(s).length>0){const c={useGrouping:!1,...r};r.padTo>0&&(c.minimumIntegerDigits=r.padTo),this.inf=y6(t,c)}}format(t){if(this.inf){const n=this.floor?Math.floor(t):t;return this.inf.format(n)}else{const n=this.floor?Math.floor(t):G1(t,3);return Or(n,this.padTo)}}}class x6{constructor(t,n,r){this.opts=r;let o;if(t.zone.isUniversal){const s=-1*(t.offset/60),c=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;t.offset!==0&&Kl.create(c).valid?(o=c,this.dt=t):(o="UTC",r.timeZoneName?this.dt=t:this.dt=t.offset===0?t:Mt.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,o=t.zone.name);const i={...this.opts};i.timeZone=i.timeZone||o,this.dtf=i1(n,i)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class C6{constructor(t,n,r){this.opts={style:"long",...r},!n&&cE()&&(this.rtf=v6(t,r))}format(t,n){return this.rtf?this.rtf.format(t,n):V6(n,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,n){return this.rtf?this.rtf.formatToParts(t,n):[]}}class qn{static fromOpts(t){return qn.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,n,r,o=!1){const i=t||Fr.defaultLocale,s=i||(o?"en-US":w6()),c=n||Fr.defaultNumberingSystem,d=r||Fr.defaultOutputCalendar;return new qn(s,c,d,i)}static resetCache(){nm=null,o1={},a1={},s1={}}static fromObject({locale:t,numberingSystem:n,outputCalendar:r}={}){return qn.create(t,n,r)}constructor(t,n,r,o){const[i,s,c]=b6(t);this.locale=i,this.numberingSystem=n||s||null,this.outputCalendar=r||c||null,this.intl=S6(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=I6(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&n?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:qn.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,n=!1,r=!0){return py(this,t,r,pE,()=>{const o=n?{month:t,day:"numeric"}:{month:t},i=n?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=D6(s=>this.extract(s,o,"month"))),this.monthsCache[i][t]})}weekdays(t,n=!1,r=!0){return py(this,t,r,yE,()=>{const o=n?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=n?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=T6(s=>this.extract(s,o,"weekday"))),this.weekdaysCache[i][t]})}meridiems(t=!0){return py(this,void 0,t,()=>vE,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Mt.utc(2016,11,13,9),Mt.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(t,n=!0){return py(this,t,n,wE,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[Mt.utc(-40,1,1),Mt.utc(2017,1,1)].map(o=>this.extract(o,r,"era"))),this.eraCache[t]})}extract(t,n,r){const o=this.dtFormatter(t,n),i=o.formatToParts(),s=i.find(c=>c.type.toLowerCase()===r);return s?s.value:null}numberFormatter(t={}){return new E6(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,n={}){return new x6(t,this.intl,n)}relFormatter(t={}){return new C6(this.intl,this.isEnglish(),t)}listFormatter(t={}){return g6(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let dw=null;class ii extends Ym{static get utcInstance(){return dw===null&&(dw=new ii(0)),dw}static instance(t){return t===0?ii.utcInstance:new ii(t)}static parseSpecifier(t){if(t){const n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new ii(Lv(n[1],n[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${sm(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${sm(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,n){return sm(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class M6 extends Ym{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Xu(e,t){if(gn(e)||e===null)return t;if(e instanceof Ym)return e;if(k6(e)){const n=e.toLowerCase();return n==="default"?t:n==="local"||n==="system"?Pv.instance:n==="utc"||n==="gmt"?ii.utcInstance:ii.parseSpecifier(n)||Kl.create(e)}else return cd(e)?ii.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new M6(e)}let qS=()=>Date.now(),GS="system",JS=null,KS=null,QS=null,XS=60,eD;class Fr{static get now(){return qS}static set now(t){qS=t}static set defaultZone(t){GS=t}static get defaultZone(){return Xu(GS,Pv.instance)}static get defaultLocale(){return JS}static set defaultLocale(t){JS=t}static get defaultNumberingSystem(){return KS}static set defaultNumberingSystem(t){KS=t}static get defaultOutputCalendar(){return QS}static set defaultOutputCalendar(t){QS=t}static get twoDigitCutoffYear(){return XS}static set twoDigitCutoffYear(t){XS=t%100}static get throwOnInvalid(){return eD}static set throwOnInvalid(t){eD=t}static resetCaches(){qn.resetCache(),Kl.resetCache()}}function gn(e){return typeof e>"u"}function cd(e){return typeof e=="number"}function jv(e){return typeof e=="number"&&e%1===0}function k6(e){return typeof e=="string"}function N6(e){return Object.prototype.toString.call(e)==="[object Date]"}function cE(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function A6(e){return Array.isArray(e)?e:[e]}function tD(e,t,n){if(e.length!==0)return e.reduce((r,o)=>{const i=[t(o),o];return r&&n(r[0],i[0])===r[0]?r:i},null)[1]}function F6(e,t){return t.reduce((n,r)=>(n[r]=e[r],n),{})}function rh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Jl(e,t,n){return jv(e)&&e>=t&&e<=n}function O6(e,t){return e-t*Math.floor(e/t)}function Or(e,t=2){const n=e<0;let r;return n?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function Qu(e){if(!(gn(e)||e===null||e===""))return parseInt(e,10)}function ed(e){if(!(gn(e)||e===null||e===""))return parseFloat(e)}function q1(e){if(!(gn(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function G1(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function zm(e){return e%4===0&&(e%100!==0||e%400===0)}function am(e){return zm(e)?366:365}function nv(e,t){const n=O6(t-1,12)+1,r=e+(t-n)/12;return n===2?zm(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function J1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function rv(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return t===4||r===3?53:52}function l1(e){return e>99?e:e>Fr.twoDigitCutoffYear?1900+e:2e3+e}function dE(e,t,n,r=null){const o=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const s={timeZoneName:t,...i},c=new Intl.DateTimeFormat(n,s).formatToParts(o).find(d=>d.type.toLowerCase()==="timezonename");return c?c.value:null}function Lv(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0,o=n<0||Object.is(n,-0)?-r:r;return n*60+o}function fE(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Ca(`Invalid unit value ${e}`);return t}function ov(e,t){const n={};for(const r in e)if(rh(e,r)){const o=e[r];if(o==null)continue;n[t(r)]=fE(o)}return n}function sm(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(t){case"short":return`${o}${Or(n,2)}:${Or(r,2)}`;case"narrow":return`${o}${n}${r>0?`:${r}`:""}`;case"techie":return`${o}${Or(n,2)}${Or(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Rv(e){return F6(e,["hour","minute","second","millisecond"])}const P6=["January","February","March","April","May","June","July","August","September","October","November","December"],hE=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],j6=["J","F","M","A","M","J","J","A","S","O","N","D"];function pE(e){switch(e){case"narrow":return[...j6];case"short":return[...hE];case"long":return[...P6];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const mE=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],gE=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],L6=["M","T","W","T","F","S","S"];function yE(e){switch(e){case"narrow":return[...L6];case"short":return[...gE];case"long":return[...mE];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const vE=["AM","PM"],R6=["Before Christ","Anno Domini"],_6=["BC","AD"],B6=["B","A"];function wE(e){switch(e){case"narrow":return[...B6];case"short":return[..._6];case"long":return[...R6];default:return null}}function H6(e){return vE[e.hour<12?0:1]}function U6(e,t){return yE(t)[e.weekday-1]}function Y6(e,t){return pE(t)[e.month-1]}function z6(e,t){return wE(t)[e.year<0?0:1]}function V6(e,t,n="always",r=!1){const o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(e)===-1;if(n==="auto"&&i){const g=e==="days";switch(t){case 1:return g?"tomorrow":`next ${o[e][0]}`;case-1:return g?"yesterday":`last ${o[e][0]}`;case 0:return g?"today":`this ${o[e][0]}`}}const s=Object.is(t,-0)||t<0,c=Math.abs(t),d=c===1,h=o[e],m=r?d?h[1]:h[2]||h[1]:d?o[e][0]:e;return s?`${c} ${m} ago`:`in ${c} ${m}`}function nD(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const Z6={D:tv,DD:ZI,DDD:WI,DDDD:$I,t:qI,tt:GI,ttt:JI,tttt:KI,T:QI,TT:XI,TTT:eE,TTTT:tE,f:nE,ff:oE,fff:aE,ffff:lE,F:rE,FF:iE,FFF:sE,FFFF:uE};class Ho{static create(t,n={}){return new Ho(t,n)}static parseFormat(t){let n=null,r="",o=!1;const i=[];for(let s=0;s<t.length;s++){const c=t.charAt(s);c==="'"?(r.length>0&&i.push({literal:o,val:r}),n=null,r="",o=!o):o||c===n?r+=c:(r.length>0&&i.push({literal:!1,val:r}),r=c,n=c)}return r.length>0&&i.push({literal:o,val:r}),i}static macroTokenToFormatOpts(t){return Z6[t]}constructor(t,n){this.opts=n,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTime(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTimeParts(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).formatToParts()}formatInterval(t,n={}){return this.loc.dtFormatter(t.start,{...this.opts,...n}).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).resolvedOptions()}num(t,n=0){if(this.opts.forceSimple)return Or(t,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,n){const r=this.loc.listingMode()==="en",o=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(b,D)=>this.loc.extract(t,b,D),s=b=>t.isOffsetFixed&&t.offset===0&&b.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,b.format):"",c=()=>r?H6(t):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(b,D)=>r?Y6(t,b):i(D?{month:b}:{month:b,day:"numeric"},"month"),h=(b,D)=>r?U6(t,b):i(D?{weekday:b}:{weekday:b,month:"long",day:"numeric"},"weekday"),m=b=>{const D=Ho.macroTokenToFormatOpts(b);return D?this.formatWithSystemDefault(t,D):b},g=b=>r?z6(t,b):i({era:b},"era"),v=b=>{switch(b){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return c();case"d":return o?i({day:"numeric"},"day"):this.num(t.day);case"dd":return o?i({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return o?i({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return o?i({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return o?i({month:"numeric"},"month"):this.num(t.month);case"MM":return o?i({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return o?i({year:"numeric"},"year"):this.num(t.year);case"yy":return o?i({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return o?i({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return o?i({year:"numeric"},"year"):this.num(t.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return m(b)}};return nD(Ho.parseFormat(n),v)}formatDurationFromString(t,n){const r=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=d=>h=>{const m=r(h);return m?this.num(d.get(m),h.length):h},i=Ho.parseFormat(n),s=i.reduce((d,{literal:h,val:m})=>h?d:d.concat(m),[]),c=t.shiftTo(...s.map(r).filter(d=>d));return nD(i,o(c))}}class us{constructor(t,n){this.reason=t,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const bE=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function vh(...e){const t=e.reduce((n,r)=>n+r.source,"");return RegExp(`^${t}$`)}function wh(...e){return t=>e.reduce(([n,r,o],i)=>{const[s,c,d]=i(t,o);return[{...n,...s},c||r,d]},[{},null,1]).slice(0,2)}function bh(e,...t){if(e==null)return[null,null];for(const[n,r]of t){const o=n.exec(e);if(o)return r(o)}return[null,null]}function SE(...e){return(t,n)=>{const r={};let o;for(o=0;o<e.length;o++)r[e[o]]=Qu(t[n+o]);return[r,null,n+o]}}const DE=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,W6=`(?:${DE.source}?(?:\\[(${bE.source})\\])?)?`,K1=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,TE=RegExp(`${K1.source}${W6}`),Q1=RegExp(`(?:T${TE.source})?`),$6=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,q6=/(\d{4})-?W(\d\d)(?:-?(\d))?/,G6=/(\d{4})-?(\d{3})/,J6=SE("weekYear","weekNumber","weekDay"),K6=SE("year","ordinal"),Q6=/(\d{4})-(\d\d)-(\d\d)/,IE=RegExp(`${K1.source} ?(?:${DE.source}|(${bE.source}))?`),X6=RegExp(`(?: ${IE.source})?`);function th(e,t,n){const r=e[t];return gn(r)?n:Qu(r)}function e8(e,t){return[{year:th(e,t),month:th(e,t+1,1),day:th(e,t+2,1)},null,t+3]}function Sh(e,t){return[{hours:th(e,t,0),minutes:th(e,t+1,0),seconds:th(e,t+2,0),milliseconds:q1(e[t+3])},null,t+4]}function Vm(e,t){const n=!e[t]&&!e[t+1],r=Lv(e[t+1],e[t+2]),o=n?null:ii.instance(r);return[{},o,t+3]}function Zm(e,t){const n=e[t]?Kl.create(e[t]):null;return[{},n,t+1]}const t8=RegExp(`^T?${K1.source}$`),n8=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function r8(e){const[t,n,r,o,i,s,c,d,h]=e,m=t[0]==="-",g=d&&d[0]==="-",v=(b,D=!1)=>b!==void 0&&(D||b&&m)?-b:b;return[{years:v(ed(n)),months:v(ed(r)),weeks:v(ed(o)),days:v(ed(i)),hours:v(ed(s)),minutes:v(ed(c)),seconds:v(ed(d),d==="-0"),milliseconds:v(q1(h),g)}]}const o8={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function X1(e,t,n,r,o,i,s){const c={year:t.length===2?l1(Qu(t)):Qu(t),month:hE.indexOf(n)+1,day:Qu(r),hour:Qu(o),minute:Qu(i)};return s&&(c.second=Qu(s)),e&&(c.weekday=e.length>3?mE.indexOf(e)+1:gE.indexOf(e)+1),c}const i8=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function a8(e){const[,t,n,r,o,i,s,c,d,h,m,g]=e,v=X1(t,o,r,n,i,s,c);let b;return d?b=o8[d]:h?b=0:b=Lv(m,g),[v,new ii(b)]}function s8(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const l8=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,u8=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,c8=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function rD(e){const[,t,n,r,o,i,s,c]=e;return[X1(t,o,r,n,i,s,c),ii.utcInstance]}function d8(e){const[,t,n,r,o,i,s,c]=e;return[X1(t,c,n,r,o,i,s),ii.utcInstance]}const f8=vh($6,Q1),h8=vh(q6,Q1),p8=vh(G6,Q1),m8=vh(TE),EE=wh(e8,Sh,Vm,Zm),g8=wh(J6,Sh,Vm,Zm),y8=wh(K6,Sh,Vm,Zm),v8=wh(Sh,Vm,Zm);function w8(e){return bh(e,[f8,EE],[h8,g8],[p8,y8],[m8,v8])}function b8(e){return bh(s8(e),[i8,a8])}function S8(e){return bh(e,[l8,rD],[u8,rD],[c8,d8])}function D8(e){return bh(e,[n8,r8])}const T8=wh(Sh);function I8(e){return bh(e,[t8,T8])}const E8=vh(Q6,X6),x8=vh(IE),C8=wh(Sh,Vm,Zm);function M8(e){return bh(e,[E8,EE],[x8,C8])}const k8="Invalid Duration",xE={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},N8={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...xE},Ea=146097/400,Vf=146097/4800,A8={years:{quarters:4,months:12,weeks:Ea/7,days:Ea,hours:Ea*24,minutes:Ea*24*60,seconds:Ea*24*60*60,milliseconds:Ea*24*60*60*1e3},quarters:{months:3,weeks:Ea/28,days:Ea/4,hours:Ea*24/4,minutes:Ea*24*60/4,seconds:Ea*24*60*60/4,milliseconds:Ea*24*60*60*1e3/4},months:{weeks:Vf/7,days:Vf,hours:Vf*24,minutes:Vf*24*60,seconds:Vf*24*60*60,milliseconds:Vf*24*60*60*1e3},...xE},rd=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],F8=rd.slice(0).reverse();function Wu(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new wt(r)}function O8(e){return e<0?Math.floor(e):Math.ceil(e)}function CE(e,t,n,r,o){const i=e[o][n],s=t[n]/i,c=Math.sign(s)===Math.sign(r[o]),d=!c&&r[o]!==0&&Math.abs(s)<=1?O8(s):Math.trunc(s);r[o]+=d,t[n]-=d*i}function P8(e,t){F8.reduce((n,r)=>gn(t[r])?n:(n&&CE(e,t,n,t,r),r),null)}function j8(e){const t={};for(const[n,r]of Object.entries(e))r!==0&&(t[n]=r);return t}class wt{constructor(t){const n=t.conversionAccuracy==="longterm"||!1;let r=n?A8:N8;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||qn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,n){return wt.fromObject({milliseconds:t},n)}static fromObject(t,n={}){if(t==null||typeof t!="object")throw new Ca(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new wt({values:ov(t,wt.normalizeUnit),loc:qn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(t){if(cd(t))return wt.fromMillis(t);if(wt.isDuration(t))return t;if(typeof t=="object")return wt.fromObject(t);throw new Ca(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,n){const[r]=D8(t);return r?wt.fromObject(r,n):wt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,n){const[r]=I8(t);return r?wt.fromObject(r,n):wt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new Ca("need to specify a reason the Duration is invalid");const r=t instanceof us?t:new us(t,n);if(Fr.throwOnInvalid)throw new u6(r);return new wt({invalid:r})}static normalizeUnit(t){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!n)throw new VI(t);return n}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Ho.create(this.loc,r).formatDurationFromString(this,t):k8}toHuman(t={}){const n=rd.map(r=>{const o=this.values[r];return gn(o)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(o)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=G1(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let o=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(o+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||r.milliseconds!==0)&&(o+=".SSS"));let i=r.toFormat(o);return t.includePrefix&&(i="T"+i),i}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const n=wt.fromDurationLike(t),r={};for(const o of rd)(rh(n.values,o)||rh(this.values,o))&&(r[o]=n.get(o)+this.get(o));return Wu(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const n=wt.fromDurationLike(t);return this.plus(n.negate())}mapUnits(t){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=fE(t(this.values[r],r));return Wu(this,{values:n},!0)}get(t){return this[wt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const n={...this.values,...ov(t,wt.normalizeUnit)};return Wu(this,{values:n})}reconfigure({locale:t,numberingSystem:n,conversionAccuracy:r,matrix:o}={}){const s={loc:this.loc.clone({locale:t,numberingSystem:n}),matrix:o,conversionAccuracy:r};return Wu(this,s)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return P8(this.matrix,t),Wu(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=j8(this.normalize().shiftToAll().toObject());return Wu(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(s=>wt.normalizeUnit(s));const n={},r={},o=this.toObject();let i;for(const s of rd)if(t.indexOf(s)>=0){i=s;let c=0;for(const h in r)c+=this.matrix[h][s]*r[h],r[h]=0;cd(o[s])&&(c+=o[s]);const d=Math.trunc(c);n[s]=d,r[s]=(c*1e3-d*1e3)/1e3;for(const h in o)rd.indexOf(h)>rd.indexOf(s)&&CE(this.matrix,o,h,n,s)}else cd(o[s])&&(r[s]=o[s]);for(const s in r)r[s]!==0&&(n[i]+=s===i?r[s]:r[s]/this.matrix[i][s]);return Wu(this,{values:n},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=this.values[n]===0?0:-this.values[n];return Wu(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function n(r,o){return r===void 0||r===0?o===void 0||o===0:r===o}for(const r of rd)if(!n(this.values[r],t.values[r]))return!1;return!0}}const Zf="Invalid Interval";function L8(e,t){return!e||!e.isValid?mr.invalid("missing or invalid start"):!t||!t.isValid?mr.invalid("missing or invalid end"):t<e?mr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class mr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new Ca("need to specify a reason the Interval is invalid");const r=t instanceof us?t:new us(t,n);if(Fr.throwOnInvalid)throw new l6(r);return new mr({invalid:r})}static fromDateTimes(t,n){const r=Zp(t),o=Zp(n),i=L8(r,o);return i??new mr({start:r,end:o})}static after(t,n){const r=wt.fromDurationLike(n),o=Zp(t);return mr.fromDateTimes(o,o.plus(r))}static before(t,n){const r=wt.fromDurationLike(n),o=Zp(t);return mr.fromDateTimes(o.minus(r),o)}static fromISO(t,n){const[r,o]=(t||"").split("/",2);if(r&&o){let i,s;try{i=Mt.fromISO(r,n),s=i.isValid}catch{s=!1}let c,d;try{c=Mt.fromISO(o,n),d=c.isValid}catch{d=!1}if(s&&d)return mr.fromDateTimes(i,c);if(s){const h=wt.fromISO(o,n);if(h.isValid)return mr.after(i,h)}else if(d){const h=wt.fromISO(r,n);if(h.isValid)return mr.before(c,h)}}return mr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(t),r=this.end.startOf(t);return Math.floor(r.diff(n,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:n}={}){return this.isValid?mr.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];const n=t.map(Zp).filter(s=>this.contains(s)).sort(),r=[];let{s:o}=this,i=0;for(;o<this.e;){const s=n[i]||this.e,c=+s>+this.e?this.e:s;r.push(mr.fromDateTimes(o,c)),o=c,i+=1}return r}splitBy(t){const n=wt.fromDurationLike(t);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,o=1,i;const s=[];for(;r<this.e;){const c=this.start.plus(n.mapUnits(d=>d*o));i=+c>+this.e?this.e:c,s.push(mr.fromDateTimes(r,i)),r=i,o+=1}return s}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:mr.fromDateTimes(n,r)}union(t){if(!this.isValid)return this;const n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return mr.fromDateTimes(n,r)}static merge(t){const[n,r]=t.sort((o,i)=>o.s-i.s).reduce(([o,i],s)=>i?i.overlaps(s)||i.abutsStart(s)?[o,i.union(s)]:[o.concat([i]),s]:[o,s],[[],null]);return r&&n.push(r),n}static xor(t){let n=null,r=0;const o=[],i=t.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),s=Array.prototype.concat(...i),c=s.sort((d,h)=>d.time-h.time);for(const d of c)r+=d.type==="s"?1:-1,r===1?n=d.time:(n&&+n!=+d.time&&o.push(mr.fromDateTimes(n,d.time)),n=null);return mr.merge(o)}difference(...t){return mr.xor([this].concat(t)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Zf}toLocaleString(t=tv,n={}){return this.isValid?Ho.create(this.s.loc.clone(n),t).formatInterval(this):Zf}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Zf}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Zf}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Zf}toFormat(t,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${n}${this.e.toFormat(t)}`:Zf}toDuration(t,n){return this.isValid?this.e.diff(this.s,t,n):wt.invalid(this.invalidReason)}mapEndpoints(t){return mr.fromDateTimes(t(this.s),t(this.e))}}class my{static hasDST(t=Fr.defaultZone){const n=Mt.now().setZone(t).set({month:12});return!t.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(t){return Kl.isValidZone(t)}static normalizeZone(t){return Xu(t,Fr.defaultZone)}static months(t="long",{locale:n=null,numberingSystem:r=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||qn.create(n,r,i)).months(t)}static monthsFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||qn.create(n,r,i)).months(t,!0)}static weekdays(t="long",{locale:n=null,numberingSystem:r=null,locObj:o=null}={}){return(o||qn.create(n,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:o=null}={}){return(o||qn.create(n,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return qn.create(t).meridiems()}static eras(t="short",{locale:n=null}={}){return qn.create(n,null,"gregory").eras(t)}static features(){return{relative:cE()}}}function oD(e,t){const n=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(wt.fromMillis(r).as("days"))}function R8(e,t,n){const r=[["years",(d,h)=>h.year-d.year],["quarters",(d,h)=>h.quarter-d.quarter+(h.year-d.year)*4],["months",(d,h)=>h.month-d.month+(h.year-d.year)*12],["weeks",(d,h)=>{const m=oD(d,h);return(m-m%7)/7}],["days",oD]],o={},i=e;let s,c;for(const[d,h]of r)n.indexOf(d)>=0&&(s=d,o[d]=h(e,t),c=i.plus(o),c>t?(o[d]--,e=i.plus(o)):e=c);return[e,o,c,s]}function _8(e,t,n,r){let[o,i,s,c]=R8(e,t,n);const d=t-o,h=n.filter(g=>["hours","minutes","seconds","milliseconds"].indexOf(g)>=0);h.length===0&&(s<t&&(s=o.plus({[c]:1})),s!==o&&(i[c]=(i[c]||0)+d/(s-o)));const m=wt.fromObject(i,r);return h.length>0?wt.fromMillis(d,r).shiftTo(...h).plus(m):m}const eb={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},iD={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},B8=eb.hanidec.replace(/[\[|\]]/g,"").split("");function H8(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(e[n].search(eb.hanidec)!==-1)t+=B8.indexOf(e[n]);else for(const o in iD){const[i,s]=iD[o];r>=i&&r<=s&&(t+=r-i)}}return parseInt(t,10)}else return t}function is({numberingSystem:e},t=""){return new RegExp(`${eb[e||"latn"]}${t}`)}const U8="missing Intl.DateTimeFormat.formatToParts support";function En(e,t=n=>n){return{regex:e,deser:([n])=>t(H8(n))}}const Y8=" ",ME=`[ ${Y8}]`,kE=new RegExp(ME,"g");function z8(e){return e.replace(/\./g,"\\.?").replace(kE,ME)}function aD(e){return e.replace(/\./g,"").replace(kE," ").toLowerCase()}function as(e,t){return e===null?null:{regex:RegExp(e.map(z8).join("|")),deser:([n])=>e.findIndex(r=>aD(n)===aD(r))+t}}function sD(e,t){return{regex:e,deser:([,n,r])=>Lv(n,r),groups:t}}function fw(e){return{regex:e,deser:([t])=>t}}function V8(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Z8(e,t){const n=is(t),r=is(t,"{2}"),o=is(t,"{3}"),i=is(t,"{4}"),s=is(t,"{6}"),c=is(t,"{1,2}"),d=is(t,"{1,3}"),h=is(t,"{1,6}"),m=is(t,"{1,9}"),g=is(t,"{2,4}"),v=is(t,"{4,6}"),b=I=>({regex:RegExp(V8(I.val)),deser:([O])=>O,literal:!0}),T=(I=>{if(e.literal)return b(I);switch(I.val){case"G":return as(t.eras("short",!1),0);case"GG":return as(t.eras("long",!1),0);case"y":return En(h);case"yy":return En(g,l1);case"yyyy":return En(i);case"yyyyy":return En(v);case"yyyyyy":return En(s);case"M":return En(c);case"MM":return En(r);case"MMM":return as(t.months("short",!0,!1),1);case"MMMM":return as(t.months("long",!0,!1),1);case"L":return En(c);case"LL":return En(r);case"LLL":return as(t.months("short",!1,!1),1);case"LLLL":return as(t.months("long",!1,!1),1);case"d":return En(c);case"dd":return En(r);case"o":return En(d);case"ooo":return En(o);case"HH":return En(r);case"H":return En(c);case"hh":return En(r);case"h":return En(c);case"mm":return En(r);case"m":return En(c);case"q":return En(c);case"qq":return En(r);case"s":return En(c);case"ss":return En(r);case"S":return En(d);case"SSS":return En(o);case"u":return fw(m);case"uu":return fw(c);case"uuu":return En(n);case"a":return as(t.meridiems(),0);case"kkkk":return En(i);case"kk":return En(g,l1);case"W":return En(c);case"WW":return En(r);case"E":case"c":return En(n);case"EEE":return as(t.weekdays("short",!1,!1),1);case"EEEE":return as(t.weekdays("long",!1,!1),1);case"ccc":return as(t.weekdays("short",!0,!1),1);case"cccc":return as(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return sD(new RegExp(`([+-]${c.source})(?::(${r.source}))?`),2);case"ZZZ":return sD(new RegExp(`([+-]${c.source})(${r.source})?`),2);case"z":return fw(/[a-z_+-/]{1,256}?/i);default:return b(I)}})(e)||{invalidReason:U8};return T.token=e,T}const W8={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function $8(e,t){const{type:n,value:r}=e;if(n==="literal")return{literal:!0,val:r};const o=t[n];let i=W8[n];if(typeof i=="object"&&(i=i[o]),i)return{literal:!1,val:i}}function q8(e){return[`^${e.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,e]}function G8(e,t,n){const r=e.match(t);if(r){const o={};let i=1;for(const s in n)if(rh(n,s)){const c=n[s],d=c.groups?c.groups+1:1;!c.literal&&c.token&&(o[c.token.val[0]]=c.deser(r.slice(i,i+d))),i+=d}return[r,o]}else return[r,{}]}function J8(e){const t=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return gn(e.z)||(n=Kl.create(e.z)),gn(e.Z)||(n||(n=new ii(e.Z)),r=e.Z),gn(e.q)||(e.M=(e.q-1)*3+1),gn(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),gn(e.u)||(e.S=q1(e.u)),[Object.keys(e).reduce((i,s)=>{const c=t(s);return c&&(i[c]=e[s]),i},{}),n,r]}let hw=null;function K8(){return hw||(hw=Mt.fromMillis(1555555555555)),hw}function Q8(e,t){if(e.literal)return e;const n=Ho.macroTokenToFormatOpts(e.val),r=FE(n,t);return r==null||r.includes(void 0)?e:r}function NE(e,t){return Array.prototype.concat(...e.map(n=>Q8(n,t)))}function AE(e,t,n){const r=NE(Ho.parseFormat(n),e),o=r.map(s=>Z8(s,e)),i=o.find(s=>s.invalidReason);if(i)return{input:t,tokens:r,invalidReason:i.invalidReason};{const[s,c]=q8(o),d=RegExp(s,"i"),[h,m]=G8(t,d,c),[g,v,b]=m?J8(m):[null,null,void 0];if(rh(m,"a")&&rh(m,"H"))throw new tm("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:d,rawMatches:h,matches:m,result:g,zone:v,specificOffset:b}}}function X8(e,t,n){const{result:r,zone:o,specificOffset:i,invalidReason:s}=AE(e,t,n);return[r,o,i,s]}function FE(e,t){return e?Ho.create(t,e).formatDateTimeParts(K8()).map(o=>$8(o,e)):null}const OE=[0,31,59,90,120,151,181,212,243,273,304,334],PE=[0,31,60,91,121,152,182,213,244,274,305,335];function Ma(e,t){return new us("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function jE(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const o=r.getUTCDay();return o===0?7:o}function LE(e,t,n){return n+(zm(e)?PE:OE)[t-1]}function RE(e,t){const n=zm(e)?PE:OE,r=n.findIndex(i=>i<t),o=t-n[r];return{month:r+1,day:o}}function u1(e){const{year:t,month:n,day:r}=e,o=LE(t,n,r),i=jE(t,n,r);let s=Math.floor((o-i+10)/7),c;return s<1?(c=t-1,s=rv(c)):s>rv(t)?(c=t+1,s=1):c=t,{weekYear:c,weekNumber:s,weekday:i,...Rv(e)}}function lD(e){const{weekYear:t,weekNumber:n,weekday:r}=e,o=jE(t,1,4),i=am(t);let s=n*7+r-o-3,c;s<1?(c=t-1,s+=am(c)):s>i?(c=t+1,s-=am(t)):c=t;const{month:d,day:h}=RE(c,s);return{year:c,month:d,day:h,...Rv(e)}}function pw(e){const{year:t,month:n,day:r}=e,o=LE(t,n,r);return{year:t,ordinal:o,...Rv(e)}}function uD(e){const{year:t,ordinal:n}=e,{month:r,day:o}=RE(t,n);return{year:t,month:r,day:o,...Rv(e)}}function e9(e){const t=jv(e.weekYear),n=Jl(e.weekNumber,1,rv(e.weekYear)),r=Jl(e.weekday,1,7);return t?n?r?!1:Ma("weekday",e.weekday):Ma("week",e.week):Ma("weekYear",e.weekYear)}function t9(e){const t=jv(e.year),n=Jl(e.ordinal,1,am(e.year));return t?n?!1:Ma("ordinal",e.ordinal):Ma("year",e.year)}function _E(e){const t=jv(e.year),n=Jl(e.month,1,12),r=Jl(e.day,1,nv(e.year,e.month));return t?n?r?!1:Ma("day",e.day):Ma("month",e.month):Ma("year",e.year)}function BE(e){const{hour:t,minute:n,second:r,millisecond:o}=e,i=Jl(t,0,23)||t===24&&n===0&&r===0&&o===0,s=Jl(n,0,59),c=Jl(r,0,59),d=Jl(o,0,999);return i?s?c?d?!1:Ma("millisecond",o):Ma("second",r):Ma("minute",n):Ma("hour",t)}const mw="Invalid DateTime",cD=864e13;function gy(e){return new us("unsupported zone",`the zone "${e.name}" is not supported`)}function gw(e){return e.weekData===null&&(e.weekData=u1(e.c)),e.weekData}function zp(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Mt({...n,...t,old:n})}function HE(e,t,n){let r=e-t*60*1e3;const o=n.offset(r);if(t===o)return[r,t];r-=(o-t)*60*1e3;const i=n.offset(r);return o===i?[r,o]:[e-Math.min(o,i)*60*1e3,Math.max(o,i)]}function dD(e,t){e+=t*60*1e3;const n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Uy(e,t,n){return HE(J1(e),t,n)}function fD(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),o=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,i={...e.c,year:r,month:o,day:Math.min(e.c.day,nv(r,o))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},s=wt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),c=J1(i);let[d,h]=HE(c,n,e.zone);return s!==0&&(d+=s,h=e.zone.offset(d)),{ts:d,o:h}}function Vp(e,t,n,r,o,i){const{setZone:s,zone:c}=n;if(e&&Object.keys(e).length!==0){const d=t||c,h=Mt.fromObject(e,{...n,zone:d,specificOffset:i});return s?h:h.setZone(c)}else return Mt.invalid(new us("unparsable",`the input "${o}" can't be parsed as ${r}`))}function yy(e,t,n=!0){return e.isValid?Ho.create(qn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function yw(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=Or(e.c.year,n?6:4),t?(r+="-",r+=Or(e.c.month),r+="-",r+=Or(e.c.day)):(r+=Or(e.c.month),r+=Or(e.c.day)),r}function hD(e,t,n,r,o,i){let s=Or(e.c.hour);return t?(s+=":",s+=Or(e.c.minute),(e.c.second!==0||!n)&&(s+=":")):s+=Or(e.c.minute),(e.c.second!==0||!n)&&(s+=Or(e.c.second),(e.c.millisecond!==0||!r)&&(s+=".",s+=Or(e.c.millisecond,3))),o&&(e.isOffsetFixed&&e.offset===0&&!i?s+="Z":e.o<0?(s+="-",s+=Or(Math.trunc(-e.o/60)),s+=":",s+=Or(Math.trunc(-e.o%60))):(s+="+",s+=Or(Math.trunc(e.o/60)),s+=":",s+=Or(Math.trunc(e.o%60)))),i&&(s+="["+e.zone.ianaName+"]"),s}const UE={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},n9={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},r9={ordinal:1,hour:0,minute:0,second:0,millisecond:0},YE=["year","month","day","hour","minute","second","millisecond"],o9=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],i9=["year","ordinal","hour","minute","second","millisecond"];function pD(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new VI(e);return t}function mD(e,t){const n=Xu(t.zone,Fr.defaultZone),r=qn.fromObject(t),o=Fr.now();let i,s;if(gn(e.year))i=o;else{for(const h of YE)gn(e[h])&&(e[h]=UE[h]);const c=_E(e)||BE(e);if(c)return Mt.invalid(c);const d=n.offset(o);[i,s]=Uy(e,d,n)}return new Mt({ts:i,zone:n,loc:r,o:s})}function gD(e,t,n){const r=gn(n.round)?!0:n.round,o=(s,c)=>(s=G1(s,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(s,c)),i=s=>n.calendary?t.hasSame(e,s)?0:t.startOf(s).diff(e.startOf(s),s).get(s):t.diff(e,s).get(s);if(n.unit)return o(i(n.unit),n.unit);for(const s of n.units){const c=i(s);if(Math.abs(c)>=1)return o(c,s)}return o(e>t?-0:0,n.units[n.units.length-1])}function yD(e){let t={},n;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],n=Array.from(e).slice(0,e.length-1)):n=Array.from(e),[t,n]}class Mt{constructor(t){const n=t.zone||Fr.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new us("invalid input"):null)||(n.isValid?null:gy(n));this.ts=gn(t.ts)?Fr.now():t.ts;let o=null,i=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n))[o,i]=[t.old.c,t.old.o];else{const c=n.offset(this.ts);o=dD(this.ts,c),r=Number.isNaN(o.year)?new us("invalid input"):null,o=r?null:o,i=r?null:c}this._zone=n,this.loc=t.loc||qn.create(),this.invalid=r,this.weekData=null,this.c=o,this.o=i,this.isLuxonDateTime=!0}static now(){return new Mt({})}static local(){const[t,n]=yD(arguments),[r,o,i,s,c,d,h]=n;return mD({year:r,month:o,day:i,hour:s,minute:c,second:d,millisecond:h},t)}static utc(){const[t,n]=yD(arguments),[r,o,i,s,c,d,h]=n;return t.zone=ii.utcInstance,mD({year:r,month:o,day:i,hour:s,minute:c,second:d,millisecond:h},t)}static fromJSDate(t,n={}){const r=N6(t)?t.valueOf():NaN;if(Number.isNaN(r))return Mt.invalid("invalid input");const o=Xu(n.zone,Fr.defaultZone);return o.isValid?new Mt({ts:r,zone:o,loc:qn.fromObject(n)}):Mt.invalid(gy(o))}static fromMillis(t,n={}){if(cd(t))return t<-cD||t>cD?Mt.invalid("Timestamp out of range"):new Mt({ts:t,zone:Xu(n.zone,Fr.defaultZone),loc:qn.fromObject(n)});throw new Ca(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(cd(t))return new Mt({ts:t*1e3,zone:Xu(n.zone,Fr.defaultZone),loc:qn.fromObject(n)});throw new Ca("fromSeconds requires a numerical input")}static fromObject(t,n={}){t=t||{};const r=Xu(n.zone,Fr.defaultZone);if(!r.isValid)return Mt.invalid(gy(r));const o=Fr.now(),i=gn(n.specificOffset)?r.offset(o):n.specificOffset,s=ov(t,pD),c=!gn(s.ordinal),d=!gn(s.year),h=!gn(s.month)||!gn(s.day),m=d||h,g=s.weekYear||s.weekNumber,v=qn.fromObject(n);if((m||c)&&g)throw new tm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&c)throw new tm("Can't mix ordinal dates with month/day");const b=g||s.weekday&&!m;let D,T,I=dD(o,i);b?(D=o9,T=n9,I=u1(I)):c?(D=i9,T=r9,I=pw(I)):(D=YE,T=UE);let O=!1;for(const V of D){const Z=s[V];gn(Z)?O?s[V]=T[V]:s[V]=I[V]:O=!0}const N=b?e9(s):c?t9(s):_E(s),B=N||BE(s);if(B)return Mt.invalid(B);const P=b?lD(s):c?uD(s):s,[U,L]=Uy(P,i,r),z=new Mt({ts:U,zone:r,o:L,loc:v});return s.weekday&&m&&t.weekday!==z.weekday?Mt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${z.toISO()}`):z}static fromISO(t,n={}){const[r,o]=w8(t);return Vp(r,o,n,"ISO 8601",t)}static fromRFC2822(t,n={}){const[r,o]=b8(t);return Vp(r,o,n,"RFC 2822",t)}static fromHTTP(t,n={}){const[r,o]=S8(t);return Vp(r,o,n,"HTTP",n)}static fromFormat(t,n,r={}){if(gn(t)||gn(n))throw new Ca("fromFormat requires an input string and a format");const{locale:o=null,numberingSystem:i=null}=r,s=qn.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0}),[c,d,h,m]=X8(s,t,n);return m?Mt.invalid(m):Vp(c,d,r,`format ${n}`,t,h)}static fromString(t,n,r={}){return Mt.fromFormat(t,n,r)}static fromSQL(t,n={}){const[r,o]=M8(t);return Vp(r,o,n,"SQL",t)}static invalid(t,n=null){if(!t)throw new Ca("need to specify a reason the DateTime is invalid");const r=t instanceof us?t:new us(t,n);if(Fr.throwOnInvalid)throw new s6(r);return new Mt({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,n={}){const r=FE(t,qn.fromObject(n));return r?r.map(o=>o?o.val:null).join(""):null}static expandFormat(t,n={}){return NE(Ho.parseFormat(t),qn.fromObject(n)).map(o=>o.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?gw(this).weekYear:NaN}get weekNumber(){return this.isValid?gw(this).weekNumber:NaN}get weekday(){return this.isValid?gw(this).weekday:NaN}get ordinal(){return this.isValid?pw(this.c).ordinal:NaN}get monthShort(){return this.isValid?my.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?my.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?my.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?my.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return zm(this.year)}get daysInMonth(){return nv(this.year,this.month)}get daysInYear(){return this.isValid?am(this.year):NaN}get weeksInWeekYear(){return this.isValid?rv(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:n,numberingSystem:r,calendar:o}=Ho.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:o}}toUTC(t=0,n={}){return this.setZone(ii.instance(t),n)}toLocal(){return this.setZone(Fr.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(t=Xu(t,Fr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let o=this.ts;if(n||r){const i=t.offset(this.ts),s=this.toObject();[o]=Uy(s,i,t)}return zp(this,{ts:o,zone:t})}else return Mt.invalid(gy(t))}reconfigure({locale:t,numberingSystem:n,outputCalendar:r}={}){const o=this.loc.clone({locale:t,numberingSystem:n,outputCalendar:r});return zp(this,{loc:o})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const n=ov(t,pD),r=!gn(n.weekYear)||!gn(n.weekNumber)||!gn(n.weekday),o=!gn(n.ordinal),i=!gn(n.year),s=!gn(n.month)||!gn(n.day),c=i||s,d=n.weekYear||n.weekNumber;if((c||o)&&d)throw new tm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&o)throw new tm("Can't mix ordinal dates with month/day");let h;r?h=lD({...u1(this.c),...n}):gn(n.ordinal)?(h={...this.toObject(),...n},gn(n.day)&&(h.day=Math.min(nv(h.year,h.month),h.day))):h=uD({...pw(this.c),...n});const[m,g]=Uy(h,this.o,this.zone);return zp(this,{ts:m,o:g})}plus(t){if(!this.isValid)return this;const n=wt.fromDurationLike(t);return zp(this,fD(this,n))}minus(t){if(!this.isValid)return this;const n=wt.fromDurationLike(t).negate();return zp(this,fD(this,n))}startOf(t){if(!this.isValid)return this;const n={},r=wt.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const o=Math.ceil(this.month/3);n.month=(o-1)*3+1}return this.set(n)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,n={}){return this.isValid?Ho.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,t):mw}toLocaleString(t=tv,n={}){return this.isValid?Ho.create(this.loc.clone(n),t).formatDateTime(this):mw}toLocaleParts(t={}){return this.isValid?Ho.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:o=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const s=t==="extended";let c=yw(this,s);return c+="T",c+=hD(this,s,n,r,o,i),c}toISODate({format:t="extended"}={}){return this.isValid?yw(this,t==="extended"):null}toISOWeekDate(){return yy(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:o=!1,extendedZone:i=!1,format:s="extended"}={}){return this.isValid?(o?"T":"")+hD(this,s==="extended",n,t,r,i):null}toRFC2822(){return yy(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return yy(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?yw(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let o="HH:mm:ss.SSS";return(n||t)&&(r&&(o+=" "),n?o+="z":t&&(o+="ZZ")),yy(this,o,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():mw}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const n={...this.c};return t.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,n="milliseconds",r={}){if(!this.isValid||!t.isValid)return wt.invalid("created by diffing an invalid DateTime");const o={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=A6(n).map(wt.normalizeUnit),s=t.valueOf()>this.valueOf(),c=s?this:t,d=s?t:this,h=_8(c,d,i,o);return s?h.negate():h}diffNow(t="milliseconds",n={}){return this.diff(Mt.now(),t,n)}until(t){return this.isValid?mr.fromDateTimes(this,t):this}hasSame(t,n){if(!this.isValid)return!1;const r=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(n)<=r&&r<=o.endOf(n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const n=t.base||Mt.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0;let o=["years","months","days","hours","minutes","seconds"],i=t.unit;return Array.isArray(t.unit)&&(o=t.unit,i=void 0),gD(n,this.plus(r),{...t,numeric:"always",units:o,unit:i})}toRelativeCalendar(t={}){return this.isValid?gD(t.base||Mt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Mt.isDateTime))throw new Ca("min requires all arguments be DateTimes");return tD(t,n=>n.valueOf(),Math.min)}static max(...t){if(!t.every(Mt.isDateTime))throw new Ca("max requires all arguments be DateTimes");return tD(t,n=>n.valueOf(),Math.max)}static fromFormatExplain(t,n,r={}){const{locale:o=null,numberingSystem:i=null}=r,s=qn.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0});return AE(s,t,n)}static fromStringExplain(t,n,r={}){return Mt.fromFormatExplain(t,n,r)}static get DATE_SHORT(){return tv}static get DATE_MED(){return ZI}static get DATE_MED_WITH_WEEKDAY(){return c6}static get DATE_FULL(){return WI}static get DATE_HUGE(){return $I}static get TIME_SIMPLE(){return qI}static get TIME_WITH_SECONDS(){return GI}static get TIME_WITH_SHORT_OFFSET(){return JI}static get TIME_WITH_LONG_OFFSET(){return KI}static get TIME_24_SIMPLE(){return QI}static get TIME_24_WITH_SECONDS(){return XI}static get TIME_24_WITH_SHORT_OFFSET(){return eE}static get TIME_24_WITH_LONG_OFFSET(){return tE}static get DATETIME_SHORT(){return nE}static get DATETIME_SHORT_WITH_SECONDS(){return rE}static get DATETIME_MED(){return oE}static get DATETIME_MED_WITH_SECONDS(){return iE}static get DATETIME_MED_WITH_WEEKDAY(){return d6}static get DATETIME_FULL(){return aE}static get DATETIME_FULL_WITH_SECONDS(){return sE}static get DATETIME_HUGE(){return lE}static get DATETIME_HUGE_WITH_SECONDS(){return uE}}function Zp(e){if(Mt.isDateTime(e))return e;if(e&&e.valueOf&&cd(e.valueOf()))return Mt.fromJSDate(e);if(e&&typeof e=="object")return Mt.fromObject(e);throw new Ca(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const tb={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},a9={allowHtml:!0};({...tb,...a9});class nb{constructor(t){this.value=t,this.successful=!0}map(t){return new nb(t(this.value))}flatMap(t){return t(this.value)}mapErr(t){return this}bimap(t,n){return this.map(t)}orElse(t){return this.value}cast(){return this}orElseThrow(t){return this.value}}class rb{constructor(t){this.error=t,this.successful=!1}map(t){return this}flatMap(t){return this}mapErr(t){return new rb(t(this.error))}bimap(t,n){return this.mapErr(n)}orElse(t){return t}cast(){return this}orElseThrow(t){throw t?new Error(t(this.error)):new Error(""+this.error)}}var iv;(function(e){function t(i){return new nb(i)}e.success=t;function n(i){return new rb(i)}e.failure=n;function r(i,s,c){return i.successful?s.successful?c(i.value,s.value):n(s.error):n(i.error)}e.flatMap2=r;function o(i,s,c){return r(i,s,(d,h)=>t(c(d,h)))}e.map2=o})(iv||(iv={}));var s9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof zr<"u"?zr:typeof self<"u"?self:{},de={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:s9,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,c){o.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:c})},o.r=function(i){Object.defineProperty(i,"__esModule",{value:!0})},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){function i(X){if(!(this instanceof i))return new i(X);this._=X}var s=i.prototype;function c(X,he){for(var Ne=0;Ne<X;Ne++)he(Ne)}function d(X,he,Ne){return function(Be,He){c(He.length,function(Xe){Be(He[Xe],Xe,He)})}(function(Be,He,Xe){he=X(he,Be,He,Xe)},Ne),he}function h(X,he){return d(function(Ne,Be,He,Xe){return Ne.concat([X(Be,He,Xe)])},[],he)}function m(X,he){var Ne={v:0,buf:he};return c(X,function(){var Be;Ne={v:Ne.v<<1|(Be=Ne.buf,Be[0]>>7),buf:function(He){var Xe=d(function(et,kt,Kt,Pn){return et.concat(Kt===Pn.length-1?Buffer.from([kt,0]).readUInt16BE(0):Pn.readUInt16BE(Kt))},[],He);return Buffer.from(h(function(et){return(et<<1&65535)>>8},Xe))}(Ne.buf)}}),Ne}function g(){return typeof Buffer<"u"}function v(){if(!g())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function b(X){v();var he=d(function(Xe,et){return Xe+et},0,X);if(he%8!=0)throw new Error("The bits ["+X.join(", ")+"] add up to "+he+" which is not an even number of bytes; the total should be divisible by 8");var Ne,Be=he/8,He=(Ne=function(Xe){return Xe>48},d(function(Xe,et){return Xe||(Ne(et)?et:Xe)},null,X));if(He)throw new Error(He+" bit range requested exceeds 48 bit (6 byte) Number max.");return new i(function(Xe,et){var kt=Be+et;return kt>Xe.length?V(et,Be.toString()+" bytes"):z(kt,d(function(Kt,Pn){var wn=m(Pn,Kt.buf);return{coll:Kt.coll.concat(wn.v),buf:wn.buf}},{coll:[],buf:Xe.slice(et,kt)},X).coll)})}function D(X,he){return new i(function(Ne,Be){return v(),Be+he>Ne.length?V(Be,he+" bytes for "+X):z(Be+he,Ne.slice(Be,Be+he))})}function T(X,he){if(typeof(Ne=he)!="number"||Math.floor(Ne)!==Ne||he<0||he>6)throw new Error(X+" requires integer length in range [0, 6].");var Ne}function I(X){return T("uintBE",X),D("uintBE("+X+")",X).map(function(he){return he.readUIntBE(0,X)})}function O(X){return T("uintLE",X),D("uintLE("+X+")",X).map(function(he){return he.readUIntLE(0,X)})}function N(X){return T("intBE",X),D("intBE("+X+")",X).map(function(he){return he.readIntBE(0,X)})}function B(X){return T("intLE",X),D("intLE("+X+")",X).map(function(he){return he.readIntLE(0,X)})}function P(X){return X instanceof i}function U(X){return{}.toString.call(X)==="[object Array]"}function L(X){return g()&&Buffer.isBuffer(X)}function z(X,he){return{status:!0,index:X,value:he,furthest:-1,expected:[]}}function V(X,he){return U(he)||(he=[he]),{status:!1,index:-1,value:null,furthest:X,expected:he}}function Z(X,he){if(!he||X.furthest>he.furthest)return X;var Ne=X.furthest===he.furthest?function(Be,He){if(function(){if(i._supportsSet!==void 0)return i._supportsSet;var rr=typeof Set<"u";return i._supportsSet=rr,rr}()&&Array.from){for(var Xe=new Set(Be),et=0;et<He.length;et++)Xe.add(He[et]);var kt=Array.from(Xe);return kt.sort(),kt}for(var Kt={},Pn=0;Pn<Be.length;Pn++)Kt[Be[Pn]]=!0;for(var wn=0;wn<He.length;wn++)Kt[He[wn]]=!0;var jr=[];for(var Rn in Kt)({}).hasOwnProperty.call(Kt,Rn)&&jr.push(Rn);return jr.sort(),jr}(X.expected,he.expected):he.expected;return{status:X.status,index:X.index,value:X.value,furthest:he.furthest,expected:Ne}}var $={};function oe(X,he){if(L(X))return{offset:he,line:-1,column:-1};X in $||($[X]={});for(var Ne=$[X],Be=0,He=0,Xe=0,et=he;et>=0;){if(et in Ne){Be=Ne[et].line,Xe===0&&(Xe=Ne[et].lineStart);break}(X.charAt(et)===`
`||X.charAt(et)==="\r"&&X.charAt(et+1)!==`
`)&&(He++,Xe===0&&(Xe=et+1)),et--}var kt=Be+He,Kt=he-Xe;return Ne[he]={line:kt,lineStart:Xe},{offset:he,line:kt+1,column:Kt+1}}function te(X){if(!P(X))throw new Error("not a parser: "+X)}function ye(X,he){return typeof X=="string"?X.charAt(he):X[he]}function ge(X){if(typeof X!="number")throw new Error("not a number: "+X)}function ce(X){if(typeof X!="function")throw new Error("not a function: "+X)}function Q(X){if(typeof X!="string")throw new Error("not a string: "+X)}var ue=2,se=3,we=8,J=5*we,ee=4*we,fe="  ";function xe(X,he){return new Array(he+1).join(X)}function je(X,he,Ne){var Be=he-X.length;return Be<=0?X:xe(Ne,Be)+X}function Ve(X,he,Ne,Be){return{from:X-he>0?X-he:0,to:X+Ne>Be?Be:X+Ne}}function Re(X,he){var Ne,Be,He,Xe,et,kt=he.index,Kt=kt.offset,Pn=1;if(Kt===X.length)return"Got the end of the input";if(L(X)){var wn=Kt-Kt%we,jr=Kt-wn,Rn=Ve(wn,J,ee+we,X.length),rr=h(function(bn){return h(function(co){return je(co.toString(16),2,"0")},bn)},function(bn,co){var fo=bn.length,Cr=[],Yo=0;if(fo<=co)return[bn.slice()];for(var ho=0;ho<fo;ho++)Cr[Yo]||Cr.push([]),Cr[Yo].push(bn[ho]),(ho+1)%co==0&&Yo++;return Cr}(X.slice(Rn.from,Rn.to).toJSON().data,we));Xe=function(bn){return bn.from===0&&bn.to===1?{from:bn.from,to:bn.to}:{from:bn.from/we,to:Math.floor(bn.to/we)}}(Rn),Be=wn/we,Ne=3*jr,jr>=4&&(Ne+=1),Pn=2,He=h(function(bn){return bn.length<=4?bn.join(" "):bn.slice(0,4).join(" ")+"  "+bn.slice(4).join(" ")},rr),(et=(8*(Xe.to>0?Xe.to-1:Xe.to)).toString(16).length)<2&&(et=2)}else{var Lr=X.split(/\r\n|[\n\r\u2028\u2029]/);Ne=kt.column-1,Be=kt.line-1,Xe=Ve(Be,ue,se,Lr.length),He=Lr.slice(Xe.from,Xe.to),et=Xe.to.toString().length}var sa=Be-Xe.from;return L(X)&&(et=(8*(Xe.to>0?Xe.to-1:Xe.to)).toString(16).length)<2&&(et=2),d(function(bn,co,fo){var Cr,Yo=fo===sa,ho=Yo?"> ":fe;return Cr=L(X)?je((8*(Xe.from+fo)).toString(16),et,"0"):je((Xe.from+fo+1).toString(),et," "),[].concat(bn,[ho+Cr+" | "+co],Yo?[fe+xe(" ",et)+" | "+je("",Ne," ")+xe("^",Pn)]:[])},[],He).join(`
`)}function $e(X,he){return[`
`,"-- PARSING FAILED "+xe("-",50),`

`,Re(X,he),`

`,(Ne=he.expected,Ne.length===1?`Expected:

`+Ne[0]:`Expected one of the following: 

`+Ne.join(", ")),`
`].join("");var Ne}function qe(X){return X.flags!==void 0?X.flags:[X.global?"g":"",X.ignoreCase?"i":"",X.multiline?"m":"",X.unicode?"u":"",X.sticky?"y":""].join("")}function lt(){for(var X=[].slice.call(arguments),he=X.length,Ne=0;Ne<he;Ne+=1)te(X[Ne]);return i(function(Be,He){for(var Xe,et=new Array(he),kt=0;kt<he;kt+=1){if(!(Xe=Z(X[kt]._(Be,He),Xe)).status)return Xe;et[kt]=Xe.value,He=Xe.index}return Z(z(He,et),Xe)})}function It(){var X=[].slice.call(arguments);if(X.length===0)throw new Error("seqMap needs at least one argument");var he=X.pop();return ce(he),lt.apply(null,X).map(function(Ne){return he.apply(null,Ne)})}function Fe(){var X=[].slice.call(arguments),he=X.length;if(he===0)return _t("zero alternates");for(var Ne=0;Ne<he;Ne+=1)te(X[Ne]);return i(function(Be,He){for(var Xe,et=0;et<X.length;et+=1)if((Xe=Z(X[et]._(Be,He),Xe)).status)return Xe;return Xe})}function st(X,he){return it(X,he).or(xt([]))}function it(X,he){return te(X),te(he),It(X,he.then(X).many(),function(Ne,Be){return[Ne].concat(Be)})}function ct(X){Q(X);var he="'"+X+"'";return i(function(Ne,Be){var He=Be+X.length,Xe=Ne.slice(Be,He);return Xe===X?z(He,Xe):V(Be,he)})}function Tt(X,he){(function(He){if(!(He instanceof RegExp))throw new Error("not a regexp: "+He);for(var Xe=qe(He),et=0;et<Xe.length;et++){var kt=Xe.charAt(et);if(kt!=="i"&&kt!=="m"&&kt!=="u"&&kt!=="s")throw new Error('unsupported regexp flag "'+kt+'": '+He)}})(X),arguments.length>=2?ge(he):he=0;var Ne=function(He){return RegExp("^(?:"+He.source+")",qe(He))}(X),Be=""+X;return i(function(He,Xe){var et=Ne.exec(He.slice(Xe));if(et){if(0<=he&&he<=et.length){var kt=et[0],Kt=et[he];return z(Xe+kt.length,Kt)}return V(Xe,"valid match group (0 to "+et.length+") in "+Be)}return V(Xe,Be)})}function xt(X){return i(function(he,Ne){return z(Ne,X)})}function _t(X){return i(function(he,Ne){return V(Ne,X)})}function Yt(X){if(P(X))return i(function(he,Ne){var Be=X._(he,Ne);return Be.index=Ne,Be.value="",Be});if(typeof X=="string")return Yt(ct(X));if(X instanceof RegExp)return Yt(Tt(X));throw new Error("not a string, regexp, or parser: "+X)}function vn(X){return te(X),i(function(he,Ne){var Be=X._(he,Ne),He=he.slice(Ne,Be.index);return Be.status?V(Ne,'not "'+He+'"'):z(Ne,null)})}function $t(X){return ce(X),i(function(he,Ne){var Be=ye(he,Ne);return Ne<he.length&&X(Be)?z(Ne+1,Be):V(Ne,"a character/byte matching "+X)})}function tn(X,he){arguments.length<2&&(he=X,X=void 0);var Ne=i(function(Be,He){return Ne._=he()._,Ne._(Be,He)});return X?Ne.desc(X):Ne}function rn(){return _t("fantasy-land/empty")}s.parse=function(X){if(typeof X!="string"&&!L(X))throw new Error(".parse must be called with a string or Buffer as its argument");var he,Ne=this.skip($r)._(X,0);return he=Ne.status?{status:!0,value:Ne.value}:{status:!1,index:oe(X,Ne.furthest),expected:Ne.expected},delete $[X],he},s.tryParse=function(X){var he=this.parse(X);if(he.status)return he.value;var Ne=$e(X,he),Be=new Error(Ne);throw Be.type="ParsimmonError",Be.result=he,Be},s.assert=function(X,he){return this.chain(function(Ne){return X(Ne)?xt(Ne):_t(he)})},s.or=function(X){return Fe(this,X)},s.trim=function(X){return this.wrap(X,X)},s.wrap=function(X,he){return It(X,this,he,function(Ne,Be){return Be})},s.thru=function(X){return X(this)},s.then=function(X){return te(X),lt(this,X).map(function(he){return he[1]})},s.many=function(){var X=this;return i(function(he,Ne){for(var Be=[],He=void 0;;){if(!(He=Z(X._(he,Ne),He)).status)return Z(z(Ne,Be),He);if(Ne===He.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");Ne=He.index,Be.push(He.value)}})},s.tieWith=function(X){return Q(X),this.map(function(he){if(function(He){if(!U(He))throw new Error("not an array: "+He)}(he),he.length){Q(he[0]);for(var Ne=he[0],Be=1;Be<he.length;Be++)Q(he[Be]),Ne+=X+he[Be];return Ne}return""})},s.tie=function(){return this.tieWith("")},s.times=function(X,he){var Ne=this;return arguments.length<2&&(he=X),ge(X),ge(he),i(function(Be,He){for(var Xe=[],et=void 0,kt=void 0,Kt=0;Kt<X;Kt+=1){if(kt=Z(et=Ne._(Be,He),kt),!et.status)return kt;He=et.index,Xe.push(et.value)}for(;Kt<he&&(kt=Z(et=Ne._(Be,He),kt),et.status);Kt+=1)He=et.index,Xe.push(et.value);return Z(z(He,Xe),kt)})},s.result=function(X){return this.map(function(){return X})},s.atMost=function(X){return this.times(0,X)},s.atLeast=function(X){return It(this.times(X),this.many(),function(he,Ne){return he.concat(Ne)})},s.map=function(X){ce(X);var he=this;return i(function(Ne,Be){var He=he._(Ne,Be);return He.status?Z(z(He.index,X(He.value)),He):He})},s.contramap=function(X){ce(X);var he=this;return i(function(Ne,Be){var He=he.parse(X(Ne.slice(Be)));return He.status?z(Be+Ne.length,He.value):He})},s.promap=function(X,he){return ce(X),ce(he),this.contramap(X).map(he)},s.skip=function(X){return lt(this,X).map(function(he){return he[0]})},s.mark=function(){return It(Xt,this,Xt,function(X,he,Ne){return{start:X,value:he,end:Ne}})},s.node=function(X){return It(Xt,this,Xt,function(he,Ne,Be){return{name:X,value:Ne,start:he,end:Be}})},s.sepBy=function(X){return st(this,X)},s.sepBy1=function(X){return it(this,X)},s.lookahead=function(X){return this.skip(Yt(X))},s.notFollowedBy=function(X){return this.skip(vn(X))},s.desc=function(X){U(X)||(X=[X]);var he=this;return i(function(Ne,Be){var He=he._(Ne,Be);return He.status||(He.expected=X),He})},s.fallback=function(X){return this.or(xt(X))},s.ap=function(X){return It(X,this,function(he,Ne){return he(Ne)})},s.chain=function(X){var he=this;return i(function(Ne,Be){var He=he._(Ne,Be);return He.status?Z(X(He.value)._(Ne,He.index),He):He})},s.concat=s.or,s.empty=rn,s.of=xt,s["fantasy-land/ap"]=s.ap,s["fantasy-land/chain"]=s.chain,s["fantasy-land/concat"]=s.concat,s["fantasy-land/empty"]=s.empty,s["fantasy-land/of"]=s.of,s["fantasy-land/map"]=s.map;var Xt=i(function(X,he){return z(he,oe(X,he))}),Ln=i(function(X,he){return he>=X.length?V(he,"any character/byte"):z(he+1,ye(X,he))}),lr=i(function(X,he){return z(X.length,X.slice(he))}),$r=i(function(X,he){return he<X.length?V(he,"EOF"):z(he,null)}),tr=Tt(/[0-9]/).desc("a digit"),nr=Tt(/[0-9]*/).desc("optional digits"),Pi=Tt(/[a-z]/i).desc("a letter"),Eo=Tt(/[a-z]*/i).desc("optional letters"),Uo=Tt(/\s*/).desc("optional whitespace"),ji=Tt(/\s+/).desc("whitespace"),xo=ct("\r"),Li=ct(`
`),aa=ct(`\r
`),li=Fe(aa,Li,xo).desc("newline"),Ri=Fe(li,$r);i.all=lr,i.alt=Fe,i.any=Ln,i.cr=xo,i.createLanguage=function(X){var he={};for(var Ne in X)({}).hasOwnProperty.call(X,Ne)&&function(Be){he[Be]=tn(function(){return X[Be](he)})}(Ne);return he},i.crlf=aa,i.custom=function(X){return i(X(z,V))},i.digit=tr,i.digits=nr,i.empty=rn,i.end=Ri,i.eof=$r,i.fail=_t,i.formatError=$e,i.index=Xt,i.isParser=P,i.lazy=tn,i.letter=Pi,i.letters=Eo,i.lf=Li,i.lookahead=Yt,i.makeFailure=V,i.makeSuccess=z,i.newline=li,i.noneOf=function(X){return $t(function(he){return X.indexOf(he)<0}).desc("none of '"+X+"'")},i.notFollowedBy=vn,i.of=xt,i.oneOf=function(X){for(var he=X.split(""),Ne=0;Ne<he.length;Ne++)he[Ne]="'"+he[Ne]+"'";return $t(function(Be){return X.indexOf(Be)>=0}).desc(he)},i.optWhitespace=Uo,i.Parser=i,i.range=function(X,he){return $t(function(Ne){return X<=Ne&&Ne<=he}).desc(X+"-"+he)},i.regex=Tt,i.regexp=Tt,i.sepBy=st,i.sepBy1=it,i.seq=lt,i.seqMap=It,i.seqObj=function(){for(var X,he={},Ne=0,Be=(X=arguments,Array.prototype.slice.call(X)),He=Be.length,Xe=0;Xe<He;Xe+=1){var et=Be[Xe];if(!P(et)){if(U(et)&&et.length===2&&typeof et[0]=="string"&&P(et[1])){var kt=et[0];if(Object.prototype.hasOwnProperty.call(he,kt))throw new Error("seqObj: duplicate key "+kt);he[kt]=!0,Ne++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(Ne===0)throw new Error("seqObj expects at least one named parser, found zero");return i(function(Kt,Pn){for(var wn,jr={},Rn=0;Rn<He;Rn+=1){var rr,Lr;if(U(Be[Rn])?(rr=Be[Rn][0],Lr=Be[Rn][1]):(rr=null,Lr=Be[Rn]),!(wn=Z(Lr._(Kt,Pn),wn)).status)return wn;rr&&(jr[rr]=wn.value),Pn=wn.index}return Z(z(Pn,jr),wn)})},i.string=ct,i.succeed=xt,i.takeWhile=function(X){return ce(X),i(function(he,Ne){for(var Be=Ne;Be<he.length&&X(ye(he,Be));)Be++;return z(Be,he.slice(Ne,Be))})},i.test=$t,i.whitespace=ji,i["fantasy-land/empty"]=rn,i["fantasy-land/of"]=xt,i.Binary={bitSeq:b,bitSeqObj:function(X){v();var he={},Ne=0,Be=h(function(Xe){if(U(Xe)){var et=Xe;if(et.length!==2)throw new Error("["+et.join(", ")+"] should be length 2, got length "+et.length);if(Q(et[0]),ge(et[1]),Object.prototype.hasOwnProperty.call(he,et[0]))throw new Error("duplicate key in bitSeqObj: "+et[0]);return he[et[0]]=!0,Ne++,et}return ge(Xe),[null,Xe]},X);if(Ne<1)throw new Error("bitSeqObj expects at least one named pair, got ["+X.join(", ")+"]");var He=h(function(Xe){return Xe[0]},Be);return b(h(function(Xe){return Xe[1]},Be)).map(function(Xe){return d(function(et,kt){return kt[0]!==null&&(et[kt[0]]=kt[1]),et},{},h(function(et,kt){return[et,Xe[kt]]},He))})},byte:function(X){if(v(),ge(X),X>255)throw new Error("Value specified to byte constructor ("+X+"=0x"+X.toString(16)+") is larger in value than a single byte.");var he=(X>15?"0x":"0x0")+X.toString(16);return i(function(Ne,Be){var He=ye(Ne,Be);return He===X?z(Be+1,He):V(Be,he)})},buffer:function(X){return D("buffer",X).map(function(he){return Buffer.from(he)})},encodedString:function(X,he){return D("string",he).map(function(Ne){return Ne.toString(X)})},uintBE:I,uint8BE:I(1),uint16BE:I(2),uint32BE:I(4),uintLE:O,uint8LE:O(1),uint16LE:O(2),uint32LE:O(4),intBE:N,int8BE:N(1),int16BE:N(2),int32BE:N(4),intLE:B,int8LE:B(1),int16LE:B(2),int32LE:B(4),floatBE:D("floatBE",4).map(function(X){return X.readFloatBE(0)}),floatLE:D("floatLE",4).map(function(X){return X.readFloatLE(0)}),doubleBE:D("doubleBE",8).map(function(X){return X.readDoubleBE(0)}),doubleLE:D("doubleLE",8).map(function(X){return X.readDoubleLE(0)})},n.exports=i}])})})(de);var ob=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function zE(e){return e==null?e:e.shiftToAll().normalize()}function vD(e){return e.includes("/")&&(e=e.substring(e.lastIndexOf("/")+1)),e.endsWith(".md")&&(e=e.substring(0,e.length-3)),e}de.exports.alt(de.exports.regex(new RegExp(ob(),"")),de.exports.regex(/[0-9\p{Letter}_-]+/u).map(e=>e.toLocaleLowerCase()),de.exports.whitespace.map(e=>"-"),de.exports.any.map(e=>"")).many().map(e=>e.join(""));const l9=de.exports.alt(de.exports.regex(new RegExp(ob(),"")),de.exports.regex(/[0-9\p{Letter}_-]+/u),de.exports.whitespace.map(e=>" "),de.exports.any.map(e=>" ")).many().map(e=>e.join("").split(/\s+/).join(" ").trim());function u9(e){return l9.tryParse(e)}function c9(e){return e=zE(e),e=wt.fromObject(Object.fromEntries(Object.entries(e.toObject()).filter(([,t])=>t>0))),e.toHuman()}var ym;(function(e){function t(P,U=tb,L=!1){let z=n(P);if(!z)return U.renderNullAs;switch(z.type){case"null":return U.renderNullAs;case"string":return z.value;case"number":case"boolean":return""+z.value;case"html":return z.value.outerHTML;case"widget":return z.value.markdown();case"link":return z.value.markdown();case"function":return"<function>";case"array":let V="";return L&&(V+="["),V+=z.value.map(Z=>t(Z,U,!0)).join(", "),L&&(V+="]"),V;case"object":return"{ "+Object.entries(z.value).map(Z=>Z[0]+": "+t(Z[1],U,!0)).join(", ")+" }";case"date":return z.value.second==0&&z.value.hour==0&&z.value.minute==0?z.value.toFormat(U.defaultDateFormat):z.value.toFormat(U.defaultDateTimeFormat);case"duration":return c9(z.value)}}e.toString=t;function n(P){return v(P)?{type:"null",value:P}:h(P)?{type:"number",value:P}:d(P)?{type:"string",value:P}:D(P)?{type:"boolean",value:P}:g(P)?{type:"duration",value:P}:m(P)?{type:"date",value:P}:I(P)?{type:"widget",value:P}:b(P)?{type:"array",value:P}:T(P)?{type:"link",value:P}:B(P)?{type:"function",value:P}:O(P)?{type:"html",value:P}:N(P)?{type:"object",value:P}:void 0}e.wrapValue=n;function r(P,U){if(N(P)){let L={};for(let[z,V]of Object.entries(P))L[z]=r(V,U);return L}else if(b(P)){let L=[];for(let z of P)L.push(r(z,U));return L}else return U(P)}e.mapLeaves=r;function o(P,U,L){var z,V;if(P===void 0&&(P=null),U===void 0&&(U=null),P===null&&U===null)return 0;if(P===null)return-1;if(U===null)return 1;let Z=n(P),$=n(U);if(Z===void 0&&$===void 0)return 0;if(Z===void 0)return-1;if($===void 0)return 1;if(Z.type!=$.type)return Z.type.localeCompare($.type);if(Z.value===$.value)return 0;switch(Z.type){case"string":return Z.value.localeCompare($.value);case"number":return Z.value<$.value?-1:Z.value==$.value?0:1;case"null":return 0;case"boolean":return Z.value==$.value?0:Z.value?1:-1;case"link":let oe=Z.value,te=$.value,ye=L??(xe=>xe),ge=ye(oe.path).localeCompare(ye(te.path));if(ge!=0)return ge;let ce=oe.type.localeCompare(te.type);return ce!=0?ce:oe.subpath&&!te.subpath?1:!oe.subpath&&te.subpath?-1:!oe.subpath&&!te.subpath?0:((z=oe.subpath)!==null&&z!==void 0?z:"").localeCompare((V=te.subpath)!==null&&V!==void 0?V:"");case"date":return Z.value<$.value?-1:Z.value.equals($.value)?0:1;case"duration":return Z.value<$.value?-1:Z.value.equals($.value)?0:1;case"array":let Q=Z.value,ue=$.value;for(let xe=0;xe<Math.min(Q.length,ue.length);xe++){let je=o(Q[xe],ue[xe]);if(je!=0)return je}return Q.length-ue.length;case"object":let se=Z.value,we=$.value,J=Array.from(Object.keys(se)),ee=Array.from(Object.keys(we));J.sort(),ee.sort();let fe=o(J,ee);if(fe!=0)return fe;for(let xe of J){let je=o(se[xe],we[xe]);if(je!=0)return je}return 0;case"widget":case"html":case"function":return 0}}e.compareValue=o;function i(P){var U;return(U=n(P))===null||U===void 0?void 0:U.type}e.typeOf=i;function s(P){let U=n(P);if(!U)return!1;switch(U.type){case"number":return U.value!=0;case"string":return U.value.length>0;case"boolean":return U.value;case"link":return!!U.value.path;case"date":return U.value.toMillis()!=0;case"duration":return U.value.as("seconds")!=0;case"object":return Object.keys(U.value).length>0;case"array":return U.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}e.isTruthy=s;function c(P){if(P==null)return P;if(e.isArray(P))return[].concat(P.map(U=>c(U)));if(e.isObject(P)){let U={};for(let[L,z]of Object.entries(P))U[L]=c(z);return U}else return P}e.deepCopy=c;function d(P){return typeof P=="string"}e.isString=d;function h(P){return typeof P=="number"}e.isNumber=h;function m(P){return P instanceof Mt}e.isDate=m;function g(P){return P instanceof wt}e.isDuration=g;function v(P){return P==null}e.isNull=v;function b(P){return Array.isArray(P)}e.isArray=b;function D(P){return typeof P=="boolean"}e.isBoolean=D;function T(P){return P instanceof _o}e.isLink=T;function I(P){return P instanceof ib}e.isWidget=I;function O(P){return typeof HTMLElement<"u"?P instanceof HTMLElement:!1}e.isHtml=O;function N(P){return typeof P=="object"&&!O(P)&&!I(P)&&!b(P)&&!g(P)&&!m(P)&&!T(P)&&P!==void 0&&!v(P)}e.isObject=N;function B(P){return typeof P=="function"}e.isFunction=B})(ym||(ym={}));var wD;(function(e){function t(o){return ym.isObject(o)&&Object.keys(o).length==2&&"key"in o&&"rows"in o}e.isElementGroup=t;function n(o){for(let i of o)if(!t(i))return!1;return!0}e.isGrouping=n;function r(o){if(n(o)){let i=0;for(let s of o)i+=r(s.rows);return i}else return o.length}e.count=r})(wD||(wD={}));class _o{constructor(t){Object.assign(this,t)}static file(t,n=!1,r){return new _o({path:t,embed:n,display:r,subpath:void 0,type:"file"})}static infer(t,n=!1,r){if(t.includes("#^")){let o=t.split("#^");return _o.block(o[0],o[1],n,r)}else if(t.includes("#")){let o=t.split("#");return _o.header(o[0],o[1],n,r)}else return _o.file(t,n,r)}static header(t,n,r,o){return new _o({path:t,embed:r,display:o,subpath:u9(n),type:"header"})}static block(t,n,r,o){return new _o({path:t,embed:r,display:o,subpath:n,type:"block"})}static fromObject(t){return new _o(t)}equals(t){return t==null||t==null?!1:this.path==t.path&&this.type==t.type&&this.subpath==t.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(t){return new _o(Object.assign({},this,{path:t}))}withDisplay(t){return new _o(Object.assign({},this,{display:t}))}withHeader(t){return _o.header(this.path,t,this.embed,this.display)}toFile(){return _o.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let t=new _o(this);return t.embed=!0,t}}fromEmbed(){if(this.embed){let t=new _o(this);return t.embed=!1,t}else return this}markdown(){let t=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?t+="|"+this.display:(t+="|"+vD(this.path),(this.type=="header"||this.type=="block")&&(t+=" > "+this.subpath)),t+="]]",t}obsidianLink(){var t,n;const r=this.path.replace("|","\\|");return this.type=="header"?r+"#"+((t=this.subpath)===null||t===void 0?void 0:t.replace("|","\\|")):this.type=="block"?r+"#^"+((n=this.subpath)===null||n===void 0?void 0:n.replace("|","\\|")):r}fileName(){return vD(this.path).replace(".md","")}}class ib{constructor(t){this.$widget=t}}class d9 extends ib{constructor(t,n){super("dataview:list-pair"),this.key=t,this.value=n}markdown(){return`${ym.toString(this.key)}: ${ym.toString(this.value)}`}}class f9 extends ib{constructor(t,n){super("dataview:external-link"),this.url=t,this.display=n}markdown(){var t;return`[${(t=this.display)!==null&&t!==void 0?t:this.url}](${this.url})`}}var bD;(function(e){function t(s,c){return new d9(s,c)}e.listPair=t;function n(s,c){return new f9(s,c)}e.externalLink=n;function r(s){return s.$widget==="dataview:list-pair"}e.isListPair=r;function o(s){return s.$widget==="dataview:external-link"}e.isExternalLink=o;function i(s){return r(s)||o(s)}e.isBuiltin=i})(bD||(bD={}));var pr;(function(e){function t(v){return{type:"variable",name:v}}e.variable=t;function n(v){return{type:"literal",value:v}}e.literal=n;function r(v,b,D){return{type:"binaryop",left:v,op:b,right:D}}e.binaryOp=r;function o(v,b){return{type:"index",object:v,index:b}}e.index=o;function i(v){let b=v.split("."),D=e.variable(b[0]);for(let T=1;T<b.length;T++)D=e.index(D,e.literal(b[T]));return D}e.indexVariable=i;function s(v,b){return{type:"lambda",arguments:v,value:b}}e.lambda=s;function c(v,b){return{type:"function",func:v,arguments:b}}e.func=c;function d(v){return{type:"list",values:v}}e.list=d;function h(v){return{type:"object",values:v}}e.object=h;function m(v){return{type:"negated",child:v}}e.negate=m;function g(v){return v=="<="||v=="<"||v==">"||v==">="||v=="!="||v=="="}e.isCompareOp=g,e.NULL=e.literal(null)})(pr||(pr={}));var ol;(function(e){function t(m){return{type:"tag",tag:m}}e.tag=t;function n(m){return{type:"csv",path:m}}e.csv=n;function r(m){return{type:"folder",folder:m}}e.folder=r;function o(m,g){return{type:"link",file:m,direction:g?"incoming":"outgoing"}}e.link=o;function i(m,g,v){return{type:"binaryop",left:m,op:g,right:v}}e.binaryOp=i;function s(m,g){return{type:"binaryop",left:m,op:"&",right:g}}e.and=s;function c(m,g){return{type:"binaryop",left:m,op:"|",right:g}}e.or=c;function d(m){return{type:"negate",child:m}}e.negate=d;function h(){return{type:"empty"}}e.empty=h})(ol||(ol={}));const SD=new RegExp(ob(),""),c1={year:wt.fromObject({years:1}),years:wt.fromObject({years:1}),yr:wt.fromObject({years:1}),yrs:wt.fromObject({years:1}),month:wt.fromObject({months:1}),months:wt.fromObject({months:1}),mo:wt.fromObject({months:1}),mos:wt.fromObject({months:1}),week:wt.fromObject({weeks:1}),weeks:wt.fromObject({weeks:1}),wk:wt.fromObject({weeks:1}),wks:wt.fromObject({weeks:1}),w:wt.fromObject({weeks:1}),day:wt.fromObject({days:1}),days:wt.fromObject({days:1}),d:wt.fromObject({days:1}),hour:wt.fromObject({hours:1}),hours:wt.fromObject({hours:1}),hr:wt.fromObject({hours:1}),hrs:wt.fromObject({hours:1}),h:wt.fromObject({hours:1}),minute:wt.fromObject({minutes:1}),minutes:wt.fromObject({minutes:1}),min:wt.fromObject({minutes:1}),mins:wt.fromObject({minutes:1}),m:wt.fromObject({minutes:1}),second:wt.fromObject({seconds:1}),seconds:wt.fromObject({seconds:1}),sec:wt.fromObject({seconds:1}),secs:wt.fromObject({seconds:1}),s:wt.fromObject({seconds:1})},d1={now:()=>Mt.local(),today:()=>Mt.local().startOf("day"),yesterday:()=>Mt.local().startOf("day").minus(wt.fromObject({days:1})),tomorrow:()=>Mt.local().startOf("day").plus(wt.fromObject({days:1})),sow:()=>Mt.local().startOf("week"),"start-of-week":()=>Mt.local().startOf("week"),eow:()=>Mt.local().endOf("week"),"end-of-week":()=>Mt.local().endOf("week"),soy:()=>Mt.local().startOf("year"),"start-of-year":()=>Mt.local().startOf("year"),eoy:()=>Mt.local().endOf("year"),"end-of-year":()=>Mt.local().endOf("year"),som:()=>Mt.local().startOf("month"),"start-of-month":()=>Mt.local().startOf("month"),eom:()=>Mt.local().endOf("month"),"end-of-month":()=>Mt.local().endOf("month")},f1=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function h9(e){let t=-1;for(;(t=e.indexOf("|",t+1))>=0;)if(!(t>0&&e[t-1]=="\\"))return[e.substring(0,t).replace(/\\\|/g,"|"),e.substring(t+1)];return[e.replace(/\\\|/g,"|"),void 0]}function p9(e){let[t,n]=h9(e);return _o.infer(t,!1,n)}function Wp(e,t,n){return de.exports.seqMap(e,de.exports.seq(de.exports.optWhitespace,t,de.exports.optWhitespace,e).many(),(r,o)=>{if(o.length==0)return r;let i=n(r,o[0][1],o[0][3]);for(let s=1;s<o.length;s++)i=n(i,o[s][1],o[s][3]);return i})}function m9(e,...t){return de.exports.custom((n,r)=>(o,i)=>{let s=e._(o,i);if(!s.status)return s;for(let c of t){let d=c(s.value)._(o,s.index);if(!d.status)return s;s=d}return s})}const ss=de.exports.createLanguage({number:e=>de.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(t=>Number.parseFloat(t)).desc("number"),string:e=>de.exports.string('"').then(de.exports.alt(e.escapeCharacter,de.exports.noneOf('"\\')).atLeast(0).map(t=>t.join(""))).skip(de.exports.string('"')).desc("string"),escapeCharacter:e=>de.exports.string("\\").then(de.exports.any).map(t=>t==='"'?'"':t==="\\"?"\\":"\\"+t),bool:e=>de.exports.regexp(/true|false|True|False/).map(t=>t.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:e=>de.exports.seqMap(de.exports.string("#"),de.exports.alt(de.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(t,n)=>t+n.join("")).desc("tag ('#hello/stuff')"),identifier:e=>de.exports.seqMap(de.exports.alt(de.exports.regexp(new RegExp("\\p{Letter}","u")),de.exports.regexp(SD).desc("text")),de.exports.alt(de.exports.regexp(/[0-9\p{Letter}_-]/u),de.exports.regexp(SD).desc("text")).many(),(t,n)=>t+n.join("")).desc("variable identifier"),link:e=>de.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(t=>p9(t)).desc("file link"),embedLink:e=>de.exports.seqMap(de.exports.string("!").atMost(1),e.link,(t,n)=>(t.length>0&&(n.embed=!0),n)).desc("file link"),binaryPlusMinus:e=>de.exports.regexp(/\+|-/).map(t=>t).desc("'+' or '-'"),binaryMulDiv:e=>de.exports.regexp(/\*|\/|%/).map(t=>t).desc("'*' or '/' or '%'"),binaryCompareOp:e=>de.exports.regexp(/>=|<=|!=|>|<|=/).map(t=>t).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:e=>de.exports.regexp(/and|or|&|\|/i).map(t=>t.toLowerCase()=="and"?"&":t.toLowerCase()=="or"?"|":t).desc("'and' or 'or'"),rootDate:e=>de.exports.seqMap(de.exports.regexp(/\d{4}/),de.exports.string("-"),de.exports.regexp(/\d{2}/),(t,n,r)=>Mt.fromObject({year:Number.parseInt(t),month:Number.parseInt(r)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:e=>de.exports.alt(...Object.keys(d1).sort((t,n)=>n.length-t.length).map(de.exports.string)),date:e=>m9(e.rootDate,t=>de.exports.seqMap(de.exports.string("-"),de.exports.regexp(/\d{2}/),(n,r)=>t.set({day:Number.parseInt(r)})),t=>de.exports.seqMap(de.exports.string("T"),de.exports.regexp(/\d{2}/),(n,r)=>t.set({hour:Number.parseInt(r)})),t=>de.exports.seqMap(de.exports.string(":"),de.exports.regexp(/\d{2}/),(n,r)=>t.set({minute:Number.parseInt(r)})),t=>de.exports.seqMap(de.exports.string(":"),de.exports.regexp(/\d{2}/),(n,r)=>t.set({second:Number.parseInt(r)})),t=>de.exports.alt(de.exports.seqMap(de.exports.string("."),de.exports.regexp(/\d{3}/),(n,r)=>t.set({millisecond:Number.parseInt(r)})),de.exports.succeed(t)),t=>de.exports.alt(de.exports.seqMap(de.exports.string("+").or(de.exports.string("-")),de.exports.regexp(/\d{1,2}(:\d{2})?/),(n,r)=>t.setZone("UTC"+n+r,{keepLocalTime:!0})),de.exports.seqMap(de.exports.string("Z"),()=>t.setZone("utc",{keepLocalTime:!0})),de.exports.seqMap(de.exports.string("["),de.exports.regexp(/[0-9A-Za-z+-\/]+/u),de.exports.string("]"),(n,r,o)=>t.setZone(r,{keepLocalTime:!0})))).assert(t=>t.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:e=>de.exports.alt(e.dateShorthand.map(t=>d1[t]()),e.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:e=>de.exports.alt(...Object.keys(c1).sort((t,n)=>n.length-t.length).map(de.exports.string)),duration:e=>de.exports.seqMap(e.number,de.exports.optWhitespace,e.durationType,(t,n,r)=>c1[r].mapUnits(o=>o*t)).sepBy1(de.exports.string(",").trim(de.exports.optWhitespace).or(de.exports.optWhitespace)).map(t=>t.reduce((n,r)=>n.plus(r))).desc("duration like 4hr2min"),rawNull:e=>de.exports.string("null"),tagSource:e=>e.tag.map(t=>ol.tag(t)),csvSource:e=>de.exports.seqMap(de.exports.string("csv(").skip(de.exports.optWhitespace),e.string,de.exports.string(")"),(t,n,r)=>ol.csv(n)),linkIncomingSource:e=>e.link.map(t=>ol.link(t.path,!0)),linkOutgoingSource:e=>de.exports.seqMap(de.exports.string("outgoing(").skip(de.exports.optWhitespace),e.link,de.exports.string(")"),(t,n,r)=>ol.link(n.path,!1)),folderSource:e=>e.string.map(t=>ol.folder(t)),parensSource:e=>de.exports.seqMap(de.exports.string("("),de.exports.optWhitespace,e.source,de.exports.optWhitespace,de.exports.string(")"),(t,n,r,o,i)=>r),negateSource:e=>de.exports.seqMap(de.exports.alt(de.exports.string("-"),de.exports.string("!")),e.atomSource,(t,n)=>ol.negate(n)),atomSource:e=>de.exports.alt(e.parensSource,e.negateSource,e.linkOutgoingSource,e.linkIncomingSource,e.folderSource,e.tagSource,e.csvSource),binaryOpSource:e=>Wp(e.atomSource,e.binaryBooleanOp.map(t=>t),ol.binaryOp),source:e=>e.binaryOpSource,variableField:e=>e.identifier.chain(t=>f1.includes(t.toUpperCase())?de.exports.fail("Variable fields cannot be a keyword ("+f1.join(" or ")+")"):de.exports.succeed(pr.variable(t))).desc("variable"),numberField:e=>e.number.map(t=>pr.literal(t)).desc("number"),stringField:e=>e.string.map(t=>pr.literal(t)).desc("string"),boolField:e=>e.bool.map(t=>pr.literal(t)).desc("boolean"),dateField:e=>de.exports.seqMap(de.exports.string("date("),de.exports.optWhitespace,e.datePlus,de.exports.optWhitespace,de.exports.string(")"),(t,n,r,o,i)=>pr.literal(r)).desc("date"),durationField:e=>de.exports.seqMap(de.exports.string("dur("),de.exports.optWhitespace,e.duration,de.exports.optWhitespace,de.exports.string(")"),(t,n,r,o,i)=>pr.literal(r)).desc("duration"),nullField:e=>e.rawNull.map(t=>pr.NULL),linkField:e=>e.link.map(t=>pr.literal(t)),listField:e=>e.field.sepBy(de.exports.string(",").trim(de.exports.optWhitespace)).wrap(de.exports.string("[").skip(de.exports.optWhitespace),de.exports.optWhitespace.then(de.exports.string("]"))).map(t=>pr.list(t)).desc("list ('[1, 2, 3]')"),objectField:e=>de.exports.seqMap(e.identifier.or(e.string),de.exports.string(":").trim(de.exports.optWhitespace),e.field,(t,n,r)=>({name:t,value:r})).sepBy(de.exports.string(",").trim(de.exports.optWhitespace)).wrap(de.exports.string("{").skip(de.exports.optWhitespace),de.exports.optWhitespace.then(de.exports.string("}"))).map(t=>{let n={};for(let r of t)n[r.name]=r.value;return pr.object(n)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:e=>de.exports.alt(e.date,e.duration.map(t=>zE(t)),e.string,e.tag,e.embedLink,e.bool,e.number,e.rawNull),inlineFieldList:e=>e.atomInlineField.sepBy(de.exports.string(",").trim(de.exports.optWhitespace).lookahead(e.atomInlineField)),inlineField:e=>de.exports.alt(de.exports.seqMap(e.atomInlineField,de.exports.string(",").trim(de.exports.optWhitespace),e.inlineFieldList,(t,n,r)=>[t].concat(r)),e.atomInlineField),atomField:e=>de.exports.alt(e.embedLink.map(t=>pr.literal(t)),e.negatedField,e.linkField,e.listField,e.objectField,e.lambdaField,e.parensField,e.boolField,e.numberField,e.stringField,e.dateField,e.durationField,e.nullField,e.variableField),indexField:e=>de.exports.seqMap(e.atomField,de.exports.alt(e.dotPostfix,e.indexPostfix,e.functionPostfix).many(),(t,n)=>{let r=t;for(let o of n)switch(o.type){case"dot":r=pr.index(r,pr.literal(o.field));break;case"index":r=pr.index(r,o.field);break;case"function":r=pr.func(r,o.fields);break}return r}),negatedField:e=>de.exports.seqMap(de.exports.string("!"),e.indexField,(t,n)=>pr.negate(n)).desc("negated field"),parensField:e=>de.exports.seqMap(de.exports.string("("),de.exports.optWhitespace,e.field,de.exports.optWhitespace,de.exports.string(")"),(t,n,r,o,i)=>r),lambdaField:e=>de.exports.seqMap(e.identifier.sepBy(de.exports.string(",").trim(de.exports.optWhitespace)).wrap(de.exports.string("(").trim(de.exports.optWhitespace),de.exports.string(")").trim(de.exports.optWhitespace)),de.exports.string("=>").trim(de.exports.optWhitespace),e.field,(t,n,r)=>({type:"lambda",arguments:t,value:r})),dotPostfix:e=>de.exports.seqMap(de.exports.string("."),e.identifier,(t,n)=>({type:"dot",field:n})),indexPostfix:e=>de.exports.seqMap(de.exports.string("["),de.exports.optWhitespace,e.field,de.exports.optWhitespace,de.exports.string("]"),(t,n,r,o,i)=>({type:"index",field:r})),functionPostfix:e=>de.exports.seqMap(de.exports.string("("),de.exports.optWhitespace,e.field.sepBy(de.exports.string(",").trim(de.exports.optWhitespace)),de.exports.optWhitespace,de.exports.string(")"),(t,n,r,o,i)=>({type:"function",fields:r})),binaryMulDivField:e=>Wp(e.indexField,e.binaryMulDiv,pr.binaryOp),binaryPlusMinusField:e=>Wp(e.binaryMulDivField,e.binaryPlusMinus,pr.binaryOp),binaryCompareField:e=>Wp(e.binaryPlusMinusField,e.binaryCompareOp,pr.binaryOp),binaryBooleanField:e=>Wp(e.binaryCompareField,e.binaryBooleanOp,pr.binaryOp),binaryOpField:e=>e.binaryBooleanField,field:e=>e.binaryOpField});function g9(e){try{return iv.success(ss.field.tryParse(e))}catch(t){return iv.failure(""+t)}}var av;(function(e){function t(r,o){return{name:r,field:o}}e.named=t;function n(r,o){return{field:r,direction:o}}e.sortBy=n})(av||(av={}));function y9(e){return de.exports.custom((t,n)=>(r,o)=>{let i=e._(r,o);return i.status?Object.assign({},i,{value:[i.value,r.substring(o,i.index)]}):i})}function v9(e){return e.split(/[\r\n]+/).map(t=>t.trim()).join("")}const w9=de.exports.createLanguage({queryType:e=>de.exports.alt(de.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(t=>t.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:e=>de.exports.seqMap(ss.field.skip(de.exports.whitespace),de.exports.regexp(/AS/i).skip(de.exports.whitespace),ss.identifier.or(ss.string),(t,n,r)=>av.named(r,t)),namedField:e=>de.exports.alt(e.explicitNamedField,y9(ss.field).map(([t,n])=>av.named(v9(n),t))),sortField:e=>de.exports.seqMap(ss.field.skip(de.exports.optWhitespace),de.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(t,n)=>{let r=n.length==0?"ascending":n[0].toLowerCase();return r=="desc"&&(r="descending"),r=="asc"&&(r="ascending"),{field:t,direction:r}}),headerClause:e=>e.queryType.skip(de.exports.whitespace).chain(t=>{switch(t){case"table":return de.exports.seqMap(de.exports.regexp(/WITHOUT\s+ID/i).skip(de.exports.optWhitespace).atMost(1),de.exports.sepBy(e.namedField,de.exports.string(",").trim(de.exports.optWhitespace)),(n,r)=>({type:"table",fields:r,showId:n.length==0}));case"list":return de.exports.seqMap(de.exports.regexp(/WITHOUT\s+ID/i).skip(de.exports.optWhitespace).atMost(1),ss.field.atMost(1),(n,r)=>({type:"list",format:r.length==1?r[0]:void 0,showId:n.length==0}));case"task":return de.exports.succeed({type:"task"});case"calendar":return de.exports.seqMap(e.namedField,n=>({type:"calendar",showId:!0,field:n}));default:return de.exports.fail(`Unrecognized query type '${t}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:e=>de.exports.seqMap(de.exports.regexp(/FROM/i),de.exports.whitespace,ss.source,(t,n,r)=>r),whereClause:e=>de.exports.seqMap(de.exports.regexp(/WHERE/i),de.exports.whitespace,ss.field,(t,n,r)=>({type:"where",clause:r})).desc("WHERE <expression>"),sortByClause:e=>de.exports.seqMap(de.exports.regexp(/SORT/i),de.exports.whitespace,e.sortField.sepBy1(de.exports.string(",").trim(de.exports.optWhitespace)),(t,n,r)=>({type:"sort",fields:r})).desc("SORT field [ASC/DESC]"),limitClause:e=>de.exports.seqMap(de.exports.regexp(/LIMIT/i),de.exports.whitespace,ss.field,(t,n,r)=>({type:"limit",amount:r})).desc("LIMIT <value>"),flattenClause:e=>de.exports.seqMap(de.exports.regexp(/FLATTEN/i).skip(de.exports.whitespace),e.namedField,(t,n)=>({type:"flatten",field:n})).desc("FLATTEN <value> [AS <name>]"),groupByClause:e=>de.exports.seqMap(de.exports.regexp(/GROUP BY/i).skip(de.exports.whitespace),e.namedField,(t,n)=>({type:"group",field:n})).desc("GROUP BY <value> [AS <name>]"),clause:e=>de.exports.alt(e.fromClause,e.whereClause,e.sortByClause,e.limitClause,e.groupByClause,e.flattenClause),query:e=>de.exports.seqMap(e.headerClause.trim(de.exports.optWhitespace),e.fromClause.trim(de.exports.optWhitespace).atMost(1),e.clause.trim(de.exports.optWhitespace).many(),(t,n,r)=>({header:t,source:n.length==0?ol.folder(""):n[0],operations:r,settings:tb}))}),b9=e=>{var t;return e?(t=e.plugins.plugins.dataview)===null||t===void 0?void 0:t.api:window.DataviewAPI},S9=e=>e.plugins.enabledPlugins.has("dataview");ou.DATE_SHORTHANDS=d1;ou.DURATION_TYPES=c1;ou.EXPRESSION=ss;ou.KEYWORDS=f1;ou.QUERY_LANGUAGE=w9;var D9=ou.getAPI=b9;ou.isPluginEnabled=S9;ou.parseField=g9;async function T9(e,t,n,r,o){var I,O;const{vault:i,metadataCache:s}=Le.getState().dailyNotesState.app===void 0?app:Le.getState().dailyNotesState.app,c=Le.getState().dailyNotesState.settings,d=e.replace(/\n/g,"<br>");if(n===void 0)return;const h=s.getFirstLinkpathDest("",n),m=C.moment(),g=m.format("YYYYMMDDHHmmss"),v=r.slice(14),b="    ",D=g+" "+d.trim(),T=b+"- "+g+" "+d.trim();if(h){let N;if(c!=null&&c.CommentOnMemos&&(c!=null&&c.CommentsInOriginalNotes)){const L=D9();if(L!==void 0)try{N=(O=(I=L.page(h.path))==null?void 0:I.file.lists.values)==null?void 0:O.filter(z=>z.line===parseInt(v))}catch(z){console.error(z)}}const B=await i.read(h);let P=0;N[0].children.values.length>0?P=N[0].children.values[N[0].children.values.length-1].line:P=N[0].line;const U=await I9(T,B,P);if(await i.modify(h,U.content),t)return{id:g+(P+1),content:D,deletedAt:"",createdAt:m.format("YYYY/MM/DD HH:mm:ss"),updatedAt:m.format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",path:h.path,hasId:"",linkId:o}}}async function I9(e,t,n){if(n===-1)return{content:`${t}
${e}`,posNum:-1};const r=t.split(`
`),o=r.slice(0,n+1).join(`
`),i=r.slice(n+1).join(`
`);return/^\s*$/g.test(r[n+1])?{content:`${o}
${e}
${i}`,posNum:n}:{content:`${o}
${e}
${i}`,posNum:n}}function E9(e,t,n){var o;const r=t.workspace.getLeavesOfType("markdown");for(const i of r){const s=i.view;if(((o=s==null?void 0:s.file)==null?void 0:o.path)===e){t.workspace.revealLeaf(i);try{return i.view.setEphemeralState({line:n}),!0}catch(c){return console.error(c),!1}}}return!1}const ab=async e=>{var i;const t=yt.getState().app,n=t.workspace.getLeavesOfType("markdown");for(const s of n){const c=s.view;if(((i=c==null?void 0:c.file)==null?void 0:i.path)===e){t.workspace.revealLeaf(s);return}}const r=t.metadataCache.getFirstLinkpathDest("",e);if(!r){new C.Notice(x("File not found for the given thino path"));return}await t.workspace.getLeaf(!0).openFile(r)},sb=async(e,t)=>{const{app:n}=yt.getState(),r=parseInt(e.slice(14));if(E9(t,n,r))return;const o=n.metadataCache.getFirstLinkpathDest("",t);if(!C.Platform.isMobile)await n.workspace.getLeaf(!0).openFile(o,{eState:{line:r}});else{let i=n.workspace.activeLeaf;i===null&&(i=n.workspace.getLeaf(!0)),await i.openFile(o,{eState:{line:r}})}},lb=async(e,t)=>{var h,m,g;const n=yt.getState().app,r=n.metadataCache.getFirstLinkpathDest("",t);if(!r){new C.Notice(x("File not found for the given thino path"));return}let o="";try{o=await n.vault.read(r)}catch(v){console.error(v),o=await n.vault.cachedRead(r)}const s=o.split(/\r?\n/).findIndex(v=>v.contains(e)),c=n.workspace.getLeavesOfType("markdown");for(const v of c){const b=v.view;if(((h=b==null?void 0:b.file)==null?void 0:h.path)===r.path){n.workspace.revealLeaf(v);try{(m=v.view.editor)==null||m.setCursor({line:s,ch:1});return}catch(D){console.error(D)}}}const d=n.workspace.getLeaf(!0);await d.openFile(r,{eState:{line:s}});try{(g=d.view.editor)==null||g.setCursor({line:s,ch:1})}catch(v){console.error(v)}},ub=async(e,t)=>{var c;const n=yt.getState().app,r=(d,h)=>{var g;const m=(g=Array.from(d.nodes.values()))==null?void 0:g.find(v=>v.id===h);return m?(d.selectOnly(m),d.zoomToSelection(),!0):!1},o=n.workspace.getLeavesOfType("canvas");for(const d of o){const h=d.view;if(((c=h==null?void 0:h.file)==null?void 0:c.path)===t&&(n.workspace.revealLeaf(d),r(h.canvas,e)))return}const i=n.metadataCache.getFirstLinkpathDest("",t);if(!i){new C.Notice(x("File not found for the given thino path"));return}const s=n.workspace.getLeaf(!0);await s.openFile(i),setTimeout(()=>{var d;r((d=s.view)==null?void 0:d.canvas,e)},10)};class x9{constructor(){De(this,"initialized",!1)}getState(){return Le.getState().memoState}async fetchAllMemos(){const t=yt.getState().settings;at.checkDailyInMulti(t);const n=await Mi.getMyMemos(t.EnabledLocationList.map(i=>i.value)),r=[...n.memos],o=[...n.commentMemos];return Le.dispatch({type:"SET_MEMOS",payload:{memos:r}}),Le.dispatch({type:"SET_COMMENT_MEMOS",payload:{commentMemos:o}}),this.initialized||(this.initialized=!0,ft.setLoaded(!0)),r}async updateTypeMemos(t){const n=await Mi.updateSpecificTypeMemo(t),r=this.getState().memos.filter(o=>o.sourceType!==t);Le.dispatch({type:"SET_MEMOS",payload:{memos:[...r,...n.memos]}})}async removeTypeMemos(t){const n=this.getState().memos.filter(r=>r.sourceType!==t);Le.dispatch({type:"SET_MEMOS",payload:{memos:[...n]}})}async fetchDeletedMemos(){const t=await Mi.getMyDeletedMemos();return t.sort((n,r)=>at.getTimeStampByDate(r.deletedAt)-at.getTimeStampByDate(n.deletedAt)),t}pushMemo(t){Le.dispatch({type:"INSERT_MEMO",payload:{memo:{...t}}})}pushCommentMemo(t){Le.dispatch({type:"INSERT_COMMENT_MEMO",payload:{memo:{...t}}})}getMemoById(t){for(const n of this.getState().memos)if(n.id===t)return n;return null}getCommentMemoById(t){for(const n of this.getState().commentMemos)if(n.id===t)return n;return null}getMemoByWebId(t){for(const n of this.getState().memos)if(n.webId===t||n.id===t)return n;return null}async updateMemoById(t,n,r){const o=this.getMemoByWebId(t);if(!o)return;let i=null;const s=r?{}:{content:n.content,rowStatus:n.rowStatus,pinned:n.pinned,deleted:!!n.deletedAt,thinoType:n.thinoType??""};switch(o.sourceType){case"DAILY":i=await rl(o,{id:o.id,webId:n.id,...s});break;case"CANVAS":i=await nl(o,{id:o.id,webId:n.id,...s});break;case"MULTI":i=await ls(o,{id:o.id,webId:n.id,...s});break;case"FILE":i=await tl(o,{id:o.id,webId:n.id,...s});break}if(!i)return o;Le.dispatch({type:"EDIT_MEMO",payload:i})}async archiveThinoBulk(t){const n=[];for(const r of t){let o;switch(r.sourceType){case"DAILY":o=await rl(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(o);break;case"CANVAS":o=await nl(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(o);break;case"MULTI":o=await ls(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(o);break;case"FILE":o=await tl(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(o);break}}return n.length>0?(Le.dispatch({type:"ARCHIVE_MEMO_BY_ID_BULK",payload:n}),n):t}async archiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await rl(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"CANVAS":n=await nl(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"MULTI":n=await ls(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"FILE":n=await tl(t,{id:t.id,rowStatus:"ARCHIVED"});break}return n?(Le.dispatch({type:"ARCHIVE_MEMO_BY_ID",payload:n}),n):t}async pushToUpdateList(t,n){Le.dispatch({type:"PREPARE_UPDATE_THINO",payload:{thino:t,originalId:n}})}async removePrepareUpdateThino(t){Le.dispatch({type:"REMOVE_PARTICULAR_PREPARE_UPDATE_THINO",payload:{originalId:t}})}async removePrepareUpdateThino(){Le.dispatch({type:"REMOVE_PREPARE_UPDATE_THINO",payload:null})}async unarchiveThinoBulk(t){const n=[];for(const r of t){let o;switch(r.sourceType){case"DAILY":o=await rl(r,{id:r.id,rowStatus:"NORMAL"}),n.push(o);break;case"CANVAS":o=await nl(r,{id:r.id,rowStatus:"NORMAL"}),n.push(o);break;case"MULTI":o=await ls(r,{id:r.id,rowStatus:"NORMAL"}),n.push(o);break;case"FILE":o=await tl(r,{id:r.id,rowStatus:"NORMAL"}),n.push(o);break}}return n.length>0?(Le.dispatch({type:"ARCHIVE_MEMO_BY_ID_BULK",payload:n}),n):t}async unarchiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await rl(t,{id:t.id,rowStatus:"NORMAL"});break;case"CANVAS":n=await nl(t,{id:t.id,rowStatus:"NORMAL"});break;case"MULTI":n=await ls(t,{id:t.id,rowStatus:"NORMAL"});break;case"FILE":n=await tl(t,{id:t.id,rowStatus:"NORMAL"});break}return Le.dispatch({type:"UNARCHIVE_MEMO_BY_ID",payload:n}),n}async hideMemoById(t){const n=this.getMemoById(t);if(!n)return n;let r=null;switch(n.sourceType){case"DAILY":r=await rl(n,{id:n.id,deleted:!0});break;case"CANVAS":r=await nl(n,{id:n.id,deleted:!0});break;case"MULTI":r=await ls(n,{id:n.id,deleted:!0});break;case"FILE":r=await tl(n,{id:n.id,deleted:!0});break}if(!r)return n;if(r)return r}async restoreMemoById(t){return await Mi.restoreMemo(t)}async deleteMemoById(t,n){const r=this.getMemoById(t);try{switch(r.sourceType){case"DAILY":await Mi.deleteMemoInDailyNote(r);break;case"CANVAS":await Mi.deleteMemoInCanvas(r);break;case"MULTI":await Mi.deleteMemoInMultiFiles(r);break;case"FILE":await Mi.deleteMemoInSingleFile(r);break}Le.dispatch({type:"DELETE_MEMO_BY_ID",payload:{id:t}})}catch(c){console.error(c),new C.Notice(x("Failed to delete memo"))}if(n&&n==="local")return;const o=yt.getState().settings,i=yt.getState().app;!(i!=null&&i.loadLocalStorage("tokenForSync"))||!o.startSync||r.webId&&await BA(r.webId)}async removeMemosInFile(t,n){var o,i;const r=[];try{if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n){const c=this.getState().memos.filter(d=>d.path.trim()===t.path.trim());r.push(...c)}else if(t.path.contains("thino.canvas")){const c=this.getState().memos.filter(d=>d.path.trim()===t.path.trim());r.push(...c)}else if((o=t==null?void 0:t.parent)!=null&&o.path.contains(n)||!(t!=null&&t.parent)&&!((i=t==null?void 0:t.parent)!=null&&i.path)){const c=this.getState().memos.filter(d=>d.path.trim()===t.path.trim());c.length>0&&r.push(...c)}else t.path.endsWith(".md")&&t.path.contains(".thino")&&await n1(t,r);const s=r.map(c=>c.id);Le.dispatch({type:"DELETE_MEMO_BY_ID_BATCH",payload:{ids:s}})}catch(s){console.error(s)}}async updateMemosInFile(t,n){const r=[],o=async()=>{if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n){await BI(t,r);return}else if(t.path.contains("thino.canvas")){await HI(t,r);return}else if(t!=null&&t.parent.path.contains(n)&&!t.path.endsWith(".thino.md")){await _I(t,r);return}else if(t.path.endsWith(".md")&&t.path.contains(".thino")){await n1(t,r);return}};try{await o(),Le.dispatch({type:"UPDATE_MEMO_BATCH",payload:{memos:r,path:t.path}})}catch(i){console.error(i)}}async updateMemoProperty(t){const n=at.randomId(16),r=await ls(t,{id:n});Le.dispatch({type:"EDIT_MEMO_PATH",payload:r})}editMemo(t){const n=t.webId;Le.dispatch({type:"EDIT_MEMO",payload:t});const r=yt.getState().settings,o=yt.getState().app;if(!(!(o!=null&&o.loadLocalStorage("tokenForSync"))||!r.startSync))try{t&&n&&uw({id:n,content:t.content,rowStatus:t.rowStatus,pinned:t.pinned,ttime:t.deletedAt?C.moment(t.deletedAt,"YYYY/MM/DD HH:mm:ss").valueOf():0,thinoType:t.sourceType==="DAILY"?"DAILY":"FILE"})}catch(s){console.error(s)}}editMemoBulk(t){for(const n of t)this.editMemo(n);this.updateTagsState()}editCommentMemo(t){Le.dispatch({type:"EDIT_COMMENT_MEMO",payload:t})}getThinoViaKeyword(t){const{memos:n}=this.getState();return n.filter(o=>o.content.toLowerCase().includes(t==null?void 0:t.toLowerCase()))}updateTagsState(){const{memos:t}=this.getState(),n=new Set,r={};for(const o of t){const i=o.content.replace(/<[^>]*>/g,"").replace(/\`\`\`[a-z]*\n[\s\S]*?\n\`\`\`/g,"").replace(/\`([^\`].*?)\`/g,"");if(o.deletedAt!==""&&o.deletedAt)continue;[...Array.from(i.match(yr)||[]),...Array.from(i.match(Pr)||[]),...Array.from(i.match(so)||[])].forEach(c=>{const d=c.replace(yr,"$1").replace(Pr,"$1").replace(so,"$2").trim();/^\d+$/.test(d)||(n.add(d),r[d]=(r[d]||0)+1)})}Le.dispatch({type:"SET_TAGS",payload:{tags:Array.from(n),tagsNum:r}})}clearMemos(){Le.dispatch({type:"SET_MEMOS",payload:{memos:[]}})}async getLinkedMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes(t))}async getCommentMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes("comment: "+t))}async createMemoMultiFile({content:t,isList:n}){return await YA({content:t,isList:n})}async createMemoSingleFile({content:t,isList:n}){return await zA({content:t,isList:n})}async createOrPatchThinoFromWeb(t){const n=this.getState().memos;if(t.localId&&(n!=null&&n.some(i=>i.id===t.localId)))return await this.updateMemoById(t.localId,t,!0),null;if(n!=null&&n.some(i=>i.id===t.id)||n!=null&&n.some(i=>i.webId===t.id))return await this.updateMemoById(t.id,t,!1),null;let r=t.sourceType;const o=yt.getState().settings;switch(o&&(o!=null&&o.saveThinoType)&&(r=o.saveThinoType!=="FILE"?o.saveThinoType:t.sourceType),r){case"FILE":case"MULTI":case"CANVAS":return await VS(t);case"DAILY":return await ZA(t);default:return await VS(t)}}async initSync(){const n=this.getState().memos.filter(o=>!o.webId),r=await _A(n);for(const o of r)await this.createOrPatchThinoFromWeb(o)}async createMemoCanvas({text:t,isList:n}){return await VA({content:t,isList:n})}async createMemoDaily(t,n){return await ZS(t,n)}async pinMemoById(t){const n=this.getMemoById(t),r=await i6(n);Le.dispatch({type:"PIN_MEMO",payload:r});try{const o=yt.getState().settings,i=yt.getState().app;if((i==null?void 0:i.loadLocalStorage("tokenForSync"))&&o.startSync){const c=await uw({id:r.webId,pinned:!0});this.editMemo(c)}}catch(o){console.error(o)}}async unpinMemoById(t){const n=this.getMemoById(t),r=await a6(n);Le.dispatch({type:"PIN_MEMO",payload:r});try{const o=yt.getState().settings,i=yt.getState().app;if((i==null?void 0:i.loadLocalStorage("tokenForSync"))&&o.startSync){const c=await uw({id:r.webId,pinned:!1});this.editMemo(c)}}catch(o){console.error(o)}}async createCommentMemo(t,n,r,o,i){return await T9(t,n,r,o,i)}async importMemos(t,n,r){return await ZS(t,n,r)}async createThino({content:t,isList:n,type:r}){let o=null;switch(r.toLowerCase()){case"canvas":o=await _e.createMemoCanvas({text:t,isList:n});break;case"multi":o=await _e.createMemoMultiFile({content:t,isList:n});break;case"daily":o=await _e.createMemoDaily(t,n);break;case"file":o=await _e.createMemoSingleFile({content:t,isList:n});break;default:o=await _e.createMemoDaily(t,n);break}const i=yt.getState().settings,s=yt.getState().app,c=s==null?void 0:s.loadLocalStorage("tokenForSync");return o&&c&&i.startSync&&setTimeout(async()=>{try{const d=await $1({content:t,thinoType:r==="DAILY"?"DAILY":"FILE"});await this.updateMemoById(o.id,d,!0)}catch(d){console.error(d)}},200),o}async openThinoByID(t){const n=this.getMemoById(t);if(n)switch(n.sourceType){case"DAILY":await sb(n.id,n.path);break;case"CANVAS":await ub(n.id,n.path);break;case"MULTI":await ab(n.path);break;case"FILE":await lb(n.id,n.path);break}}async updateMemo(t,n,r){const o=this.getMemoById(t);if(o){let i=null;switch(o.sourceType){case"DAILY":i=await rl(o,{id:o.id,content:n,thinoType:r||o.thinoType});break;case"CANVAS":i=await nl(o,{id:o.id,content:n,thinoType:r||o.thinoType});break;case"MULTI":i=await ls(o,{id:o.id,content:n,thinoType:r||o.thinoType});break;case"FILE":i=await tl(o,{id:o.id,content:n,thinoType:r||o.thinoType})}if(i)return i}return o}}const _e=new x9;class C9{getState(){return Le.getState().queryState}async getMyAllQueries(){const t=ot.getState().query.filter,n=this.getQueryById(t),r=await Mi.getMyQueries();return Le.dispatch({type:"SET_QUERIES",payload:{queries:[...r,...n?[n]:[]]}}),r}getQueryById(t){return this.getState().queries.find(n=>n.id===t)}pushQuery(t){Le.dispatch({type:"INSERT_QUERY",payload:{query:{...t}}})}editQuery(t){Le.dispatch({type:"UPDATE_QUERY",payload:t})}async deleteQuery(t){await Mi.deleteQueryById(t),Le.dispatch({type:"DELETE_QUERY_BY_ID",payload:{id:t}})}async createQuery(t,n){return await Mi.createQuery(t,n)}createTempQuery(t,n){return uA(t,n)}async updateQuery(t,n,r){return await Mi.updateQuery(t,n,r)}async pinQuery(t){await Mi.pinQuery(t)}async unpinQuery(t){await Mi.unpinQuery(t)}}const Qt=new C9;class M9{async upload(t){const{vault:n,fileManager:r}=Le.getState().dailyNotesState.app,o=await t.arrayBuffer(),i=k9(t.type),s=ru(),c=C.moment(),d=Av(c,s);let h;if(d)d instanceof C.TFile&&(h=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,i,d),o));else{const m=await kI(c);h=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,i,m),o)}return r.generateMarkdownLink(h,h.path,"","")}async parseHtml(t){const n=await t.text(),r=document.createElement("html");r.innerHTML=n;const o=Array.from(r.getElementsByClassName("memo"));for(const i of o){const s=i.getElementsByClassName("content")[0],c=C.htmlToMarkdown(s.innerHTML),d=await _e.importMemos(c,!0,C.moment(i.getElementsByClassName("time")[0].innerHTML));_e.pushMemo(d)}}}const k9=e=>{var t;return(t=/^image\/(.+)$/.exec(e))==null?void 0:t[1]},cb=new M9;var Aa={},VE={exports:{}},Ci={},vw={exports:{}},ww={},DD;function N9(){return DD||(DD=1,function(e){function t(se,we){var J=se.length;se.push(we);e:for(;0<J;){var ee=J-1>>>1,fe=se[ee];if(0<o(fe,we))se[ee]=we,se[J]=fe,J=ee;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var we=se[0],J=se.pop();if(J!==we){se[0]=J;e:for(var ee=0,fe=se.length,xe=fe>>>1;ee<xe;){var je=2*(ee+1)-1,Ve=se[je],Re=je+1,$e=se[Re];if(0>o(Ve,J))Re<fe&&0>o($e,Ve)?(se[ee]=$e,se[Re]=J,ee=Re):(se[ee]=Ve,se[je]=J,ee=je);else if(Re<fe&&0>o($e,J))se[ee]=$e,se[Re]=J,ee=Re;else break e}}return we}function o(se,we){var J=se.sortIndex-we.sortIndex;return J!==0?J:se.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],h=[],m=1,g=null,v=3,b=!1,D=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(se){for(var we=n(h);we!==null;){if(we.callback===null)r(h);else if(we.startTime<=se)r(h),we.sortIndex=we.expirationTime,t(d,we);else break;we=n(h)}}function P(se){if(T=!1,B(se),!D)if(n(d)!==null)D=!0,Q(U);else{var we=n(h);we!==null&&ue(P,we.startTime-se)}}function U(se,we){D=!1,T&&(T=!1,O(V),V=-1),b=!0;var J=v;try{for(B(we),g=n(d);g!==null&&(!(g.expirationTime>we)||se&&!oe());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,v=g.priorityLevel;var fe=ee(g.expirationTime<=we);we=e.unstable_now(),typeof fe=="function"?g.callback=fe:g===n(d)&&r(d),B(we)}else r(d);g=n(d)}if(g!==null)var xe=!0;else{var je=n(h);je!==null&&ue(P,je.startTime-we),xe=!1}return xe}finally{g=null,v=J,b=!1}}var L=!1,z=null,V=-1,Z=5,$=-1;function oe(){return!(e.unstable_now()-$<Z)}function te(){if(z!==null){var se=e.unstable_now();$=se;var we=!0;try{we=z(!0,se)}finally{we?ye():(L=!1,z=null)}}else L=!1}var ye;if(typeof N=="function")ye=function(){N(te)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,ce=ge.port2;ge.port1.onmessage=te,ye=function(){ce.postMessage(null)}}else ye=function(){I(te,0)};function Q(se){z=se,L||(L=!0,ye())}function ue(se,we){V=I(function(){se(e.unstable_now())},we)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){D||b||(D=!0,Q(U))},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(se){switch(v){case 1:case 2:case 3:var we=3;break;default:we=v}var J=v;v=we;try{return se()}finally{v=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,we){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var J=v;v=se;try{return we()}finally{v=J}},e.unstable_scheduleCallback=function(se,we,J){var ee=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ee+J:ee):J=ee,se){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=J+fe,se={id:m++,callback:we,priorityLevel:se,startTime:J,expirationTime:fe,sortIndex:-1},J>ee?(se.sortIndex=J,t(h,se),n(d)===null&&se===n(h)&&(T?(O(V),V=-1):T=!0,ue(P,J-ee))):(se.sortIndex=fe,t(d,se),D||b||(D=!0,Q(U))),se},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(se){var we=v;return function(){var J=v;v=we;try{return se.apply(this,arguments)}finally{v=J}}}}(ww)),ww}var TD;function A9(){return TD||(TD=1,vw.exports=N9()),vw.exports}var ID;function F9(){if(ID)return Ci;ID=1;var e=j,t=A9();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(a,l){s(a,l),s(a+"Capture",l)}function s(a,l){for(o[a]=l,a=0;a<l.length;a++)r.add(l[a])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(a){return d.call(g,a)?!0:d.call(m,a)?!1:h.test(a)?g[a]=!0:(m[a]=!0,!1)}function b(a,l,p,w){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return w?!1:p!==null?!p.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function D(a,l,p,w){if(l===null||typeof l>"u"||b(a,l,p,w))return!0;if(w)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(a,l,p,w,E,A,Y){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=w,this.attributeNamespace=E,this.mustUseProperty=p,this.propertyName=a,this.type=l,this.sanitizeURL=A,this.removeEmptyString=Y}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new T(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];I[l]=new T(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new T(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new T(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new T(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new T(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new T(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new T(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new T(a,5,!1,a.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function N(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(O,N);I[l]=new T(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(O,N);I[l]=new T(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(O,N);I[l]=new T(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new T(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new T(a,1,!1,a.toLowerCase(),null,!0,!0)});function B(a,l,p,w){var E=I.hasOwnProperty(l)?I[l]:null;(E!==null?E.type!==0:w||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(D(l,p,E,w)&&(p=null),w||E===null?v(l)&&(p===null?a.removeAttribute(l):a.setAttribute(l,""+p)):E.mustUseProperty?a[E.propertyName]=p===null?E.type===3?!1:"":p:(l=E.attributeName,w=E.attributeNamespace,p===null?a.removeAttribute(l):(E=E.type,p=E===3||E===4&&p===!0?"":""+p,w?a.setAttributeNS(w,l,p):a.setAttribute(l,p))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),oe=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),se=Symbol.iterator;function we(a){return a===null||typeof a!="object"?null:(a=se&&a[se]||a["@@iterator"],typeof a=="function"?a:null)}var J=Object.assign,ee;function fe(a){if(ee===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);ee=l&&l[1]||""}return`
`+ee+a}var xe=!1;function je(a,l){if(!a||xe)return"";xe=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Pe){var w=Pe}Reflect.construct(a,[],l)}else{try{l.call()}catch(Pe){w=Pe}a.call(l.prototype)}else{try{throw Error()}catch(Pe){w=Pe}a()}}catch(Pe){if(Pe&&w&&typeof Pe.stack=="string"){for(var E=Pe.stack.split(`
`),A=w.stack.split(`
`),Y=E.length-1,ae=A.length-1;1<=Y&&0<=ae&&E[Y]!==A[ae];)ae--;for(;1<=Y&&0<=ae;Y--,ae--)if(E[Y]!==A[ae]){if(Y!==1||ae!==1)do if(Y--,ae--,0>ae||E[Y]!==A[ae]){var pe=`
`+E[Y].replace(" at new "," at ");return a.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",a.displayName)),pe}while(1<=Y&&0<=ae);break}}}finally{xe=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?fe(a):""}function Ve(a){switch(a.tag){case 5:return fe(a.type);case 16:return fe("Lazy");case 13:return fe("Suspense");case 19:return fe("SuspenseList");case 0:case 2:case 15:return a=je(a.type,!1),a;case 11:return a=je(a.type.render,!1),a;case 1:return a=je(a.type,!0),a;default:return""}}function Re(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case z:return"Fragment";case L:return"Portal";case Z:return"Profiler";case V:return"StrictMode";case ye:return"Suspense";case ge:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case oe:return(a.displayName||"Context")+".Consumer";case $:return(a._context.displayName||"Context")+".Provider";case te:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ce:return l=a.displayName||null,l!==null?l:Re(a.type)||"Memo";case Q:l=a._payload,a=a._init;try{return Re(a(l))}catch{}}return null}function $e(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(l);case 8:return l===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function qe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function lt(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function It(a){var l=lt(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),w=""+a[l];if(!a.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,A=p.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return E.call(this)},set:function(Y){w=""+Y,A.call(this,Y)}}),Object.defineProperty(a,l,{enumerable:p.enumerable}),{getValue:function(){return w},setValue:function(Y){w=""+Y},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Fe(a){a._valueTracker||(a._valueTracker=It(a))}function st(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var p=l.getValue(),w="";return a&&(w=lt(a)?a.checked?"true":"false":a.value),a=w,a!==p?(l.setValue(a),!0):!1}function it(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ct(a,l){var p=l.checked;return J({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??a._wrapperState.initialChecked})}function Tt(a,l){var p=l.defaultValue==null?"":l.defaultValue,w=l.checked!=null?l.checked:l.defaultChecked;p=qe(l.value!=null?l.value:p),a._wrapperState={initialChecked:w,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function xt(a,l){l=l.checked,l!=null&&B(a,"checked",l,!1)}function _t(a,l){xt(a,l);var p=qe(l.value),w=l.type;if(p!=null)w==="number"?(p===0&&a.value===""||a.value!=p)&&(a.value=""+p):a.value!==""+p&&(a.value=""+p);else if(w==="submit"||w==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?vn(a,l.type,p):l.hasOwnProperty("defaultValue")&&vn(a,l.type,qe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Yt(a,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var w=l.type;if(!(w!=="submit"&&w!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,p||l===a.value||(a.value=l),a.defaultValue=l}p=a.name,p!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,p!==""&&(a.name=p)}function vn(a,l,p){(l!=="number"||it(a.ownerDocument)!==a)&&(p==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+p&&(a.defaultValue=""+p))}var $t=Array.isArray;function tn(a,l,p,w){if(a=a.options,l){l={};for(var E=0;E<p.length;E++)l["$"+p[E]]=!0;for(p=0;p<a.length;p++)E=l.hasOwnProperty("$"+a[p].value),a[p].selected!==E&&(a[p].selected=E),E&&w&&(a[p].defaultSelected=!0)}else{for(p=""+qe(p),l=null,E=0;E<a.length;E++){if(a[E].value===p){a[E].selected=!0,w&&(a[E].defaultSelected=!0);return}l!==null||a[E].disabled||(l=a[E])}l!==null&&(l.selected=!0)}}function rn(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Xt(a,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(n(92));if($t(p)){if(1<p.length)throw Error(n(93));p=p[0]}l=p}l==null&&(l=""),p=l}a._wrapperState={initialValue:qe(p)}}function Ln(a,l){var p=qe(l.value),w=qe(l.defaultValue);p!=null&&(p=""+p,p!==a.value&&(a.value=p),l.defaultValue==null&&a.defaultValue!==p&&(a.defaultValue=p)),w!=null&&(a.defaultValue=""+w)}function lr(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function $r(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?$r(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var nr,Pi=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,w,E){MSApp.execUnsafeLocalFunction(function(){return a(l,p,w,E)})}:a}(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(nr=nr||document.createElement("div"),nr.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=nr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function Eo(a,l){if(l){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=l;return}}a.textContent=l}var Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ji=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach(function(a){ji.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Uo[l]=Uo[a]})});function xo(a,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||Uo.hasOwnProperty(a)&&Uo[a]?(""+l).trim():l+"px"}function Li(a,l){a=a.style;for(var p in l)if(l.hasOwnProperty(p)){var w=p.indexOf("--")===0,E=xo(p,l[p],w);p==="float"&&(p="cssFloat"),w?a.setProperty(p,E):a[p]=E}}var aa=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function li(a,l){if(l){if(aa[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Ri(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X=null;function he(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ne=null,Be=null,He=null;function Xe(a){if(a=Jr(a)){if(typeof Ne!="function")throw Error(n(280));var l=a.stateNode;l&&(l=Vd(l),Ne(a.stateNode,a.type,l))}}function et(a){Be?He?He.push(a):He=[a]:Be=a}function kt(){if(Be){var a=Be,l=He;if(He=Be=null,Xe(a),l)for(a=0;a<l.length;a++)Xe(l[a])}}function Kt(a,l){return a(l)}function Pn(){}var wn=!1;function jr(a,l,p){if(wn)return a(l,p);wn=!0;try{return Kt(a,l,p)}finally{wn=!1,(Be!==null||He!==null)&&(Pn(),kt())}}function Rn(a,l){var p=a.stateNode;if(p===null)return null;var w=Vd(p);if(w===null)return null;p=w[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(a=a.type,w=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!w;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(n(231,l,typeof p));return p}var rr=!1;if(c)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){rr=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{rr=!1}function sa(a,l,p,w,E,A,Y,ae,pe){var Pe=Array.prototype.slice.call(arguments,3);try{l.apply(p,Pe)}catch(Je){this.onError(Je)}}var bn=!1,co=null,fo=!1,Cr=null,Yo={onError:function(a){bn=!0,co=a}};function ho(a,l,p,w,E,A,Y,ae,pe){bn=!1,co=null,sa.apply(Yo,arguments)}function gl(a,l,p,w,E,A,Y,ae,pe){if(ho.apply(this,arguments),bn){if(bn){var Pe=co;bn=!1,co=null}else throw Error(n(198));fo||(fo=!0,Cr=Pe)}}function _i(a){var l=a,p=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,l.flags&4098&&(p=l.return),a=l.return;while(a)}return l.tag===3?p:null}function Bi(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function au(a){if(_i(a)!==a)throw Error(n(188))}function yl(a){var l=a.alternate;if(!l){if(l=_i(a),l===null)throw Error(n(188));return l!==a?null:a}for(var p=a,w=l;;){var E=p.return;if(E===null)break;var A=E.alternate;if(A===null){if(w=E.return,w!==null){p=w;continue}break}if(E.child===A.child){for(A=E.child;A;){if(A===p)return au(E),a;if(A===w)return au(E),l;A=A.sibling}throw Error(n(188))}if(p.return!==w.return)p=E,w=A;else{for(var Y=!1,ae=E.child;ae;){if(ae===p){Y=!0,p=E,w=A;break}if(ae===w){Y=!0,w=E,p=A;break}ae=ae.sibling}if(!Y){for(ae=A.child;ae;){if(ae===p){Y=!0,p=A,w=E;break}if(ae===w){Y=!0,w=A,p=E;break}ae=ae.sibling}if(!Y)throw Error(n(189))}}if(p.alternate!==w)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?a:l}function La(a){return a=yl(a),a!==null?la(a):null}function la(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=la(a);if(l!==null)return l;a=a.sibling}return null}var Ra=t.unstable_scheduleCallback,vl=t.unstable_cancelCallback,_a=t.unstable_shouldYield,su=t.unstable_requestPaint,Sn=t.unstable_now,Rr=t.unstable_getCurrentPriorityLevel,ps=t.unstable_ImmediatePriority,ms=t.unstable_UserBlockingPriority,Hi=t.unstable_NormalPriority,wl=t.unstable_LowPriority,ui=t.unstable_IdlePriority,zo=null,po=null;function Ba(a){if(po&&typeof po.onCommitFiberRoot=="function")try{po.onCommitFiberRoot(zo,a,void 0,(a.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:vs,gs=Math.log,ys=Math.LN2;function vs(a){return a>>>=0,a===0?32:31-(gs(a)/ys|0)|0}var Vo=64,Ha=4194304;function Ui(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Zo(a,l){var p=a.pendingLanes;if(p===0)return 0;var w=0,E=a.suspendedLanes,A=a.pingedLanes,Y=p&268435455;if(Y!==0){var ae=Y&~E;ae!==0?w=Ui(ae):(A&=Y,A!==0&&(w=Ui(A)))}else Y=p&~E,Y!==0?w=Ui(Y):A!==0&&(w=Ui(A));if(w===0)return 0;if(l!==0&&l!==w&&!(l&E)&&(E=w&-w,A=l&-l,E>=A||E===16&&(A&4194240)!==0))return l;if(w&4&&(w|=p&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=w;0<l;)p=31-vr(l),E=1<<p,w|=a[p],l&=~E;return w}function M(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _(a,l){for(var p=a.suspendedLanes,w=a.pingedLanes,E=a.expirationTimes,A=a.pendingLanes;0<A;){var Y=31-vr(A),ae=1<<Y,pe=E[Y];pe===-1?(!(ae&p)||ae&w)&&(E[Y]=M(ae,l)):pe<=l&&(a.expiredLanes|=ae),A&=~ae}}function G(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function re(){var a=Vo;return Vo<<=1,!(Vo&4194240)&&(Vo=64),a}function ke(a){for(var l=[],p=0;31>p;p++)l.push(a);return l}function Te(a,l,p){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-vr(l),a[l]=p}function Ue(a,l){var p=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var w=a.eventTimes;for(a=a.expirationTimes;0<p;){var E=31-vr(p),A=1<<E;l[E]=0,w[E]=-1,a[E]=-1,p&=~A}}function nt(a,l){var p=a.entangledLanes|=l;for(a=a.entanglements;p;){var w=31-vr(p),E=1<<w;E&l|a[w]&l&&(a[w]|=l),p&=~E}}var ut=0;function Nt(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var zt,Tn,Co,mo,_r,ci=!1,go=[],Mo=null,qr=null,Wo=null,yo=new Map,ua=new Map,ca=[],Rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Md(a,l){switch(a){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":yo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(l.pointerId)}}function Ua(a,l,p,w,E,A){return a===null||a.nativeEvent!==A?(a={blockedOn:l,domEventName:p,eventSystemFlags:w,nativeEvent:A,targetContainers:[E]},l!==null&&(l=Jr(l),l!==null&&Tn(l)),a):(a.eventSystemFlags|=w,l=a.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),a)}function _h(a,l,p,w,E){switch(l){case"focusin":return Mo=Ua(Mo,a,l,p,w,E),!0;case"dragenter":return qr=Ua(qr,a,l,p,w,E),!0;case"mouseover":return Wo=Ua(Wo,a,l,p,w,E),!0;case"pointerover":var A=E.pointerId;return yo.set(A,Ua(yo.get(A)||null,a,l,p,w,E)),!0;case"gotpointercapture":return A=E.pointerId,ua.set(A,Ua(ua.get(A)||null,a,l,p,w,E)),!0}return!1}function di(a){var l=ma(a.target);if(l!==null){var p=_i(l);if(p!==null){if(l=p.tag,l===13){if(l=Bi(p),l!==null){a.blockedOn=l,_r(a.priority,function(){Co(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ws(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var p=Ss(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(p===null){p=a.nativeEvent;var w=new p.constructor(p.type,p);X=w,p.target.dispatchEvent(w),X=null}else return l=Jr(p),l!==null&&Tn(l),a.blockedOn=p,!1;l.shift()}return!0}function bl(a,l,p){ws(a)&&p.delete(l)}function xn(){ci=!1,Mo!==null&&ws(Mo)&&(Mo=null),qr!==null&&ws(qr)&&(qr=null),Wo!==null&&ws(Wo)&&(Wo=null),yo.forEach(bl),ua.forEach(bl)}function on(a,l){a.blockedOn===l&&(a.blockedOn=null,ci||(ci=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xn)))}function an(a){function l(E){return on(E,a)}if(0<go.length){on(go[0],a);for(var p=1;p<go.length;p++){var w=go[p];w.blockedOn===a&&(w.blockedOn=null)}}for(Mo!==null&&on(Mo,a),qr!==null&&on(qr,a),Wo!==null&&on(Wo,a),yo.forEach(l),ua.forEach(l),p=0;p<ca.length;p++)w=ca[p],w.blockedOn===a&&(w.blockedOn=null);for(;0<ca.length&&(p=ca[0],p.blockedOn===null);)di(p),p.blockedOn===null&&ca.shift()}var fi=P.ReactCurrentBatchConfig,$o=!0;function lu(a,l,p,w){var E=ut,A=fi.transition;fi.transition=null;try{ut=1,uu(a,l,p,w)}finally{ut=E,fi.transition=A}}function Ya(a,l,p,w){var E=ut,A=fi.transition;fi.transition=null;try{ut=4,uu(a,l,p,w)}finally{ut=E,fi.transition=A}}function uu(a,l,p,w){if($o){var E=Ss(a,l,p,w);if(E===null)zh(a,l,w,bs,p),Md(a,w);else if(_h(E,a,l,p,w))w.stopPropagation();else if(Md(a,w),l&4&&-1<Rh.indexOf(a)){for(;E!==null;){var A=Jr(E);if(A!==null&&zt(A),A=Ss(a,l,p,w),A===null&&zh(a,l,w,bs,p),A===E)break;E=A}E!==null&&w.stopPropagation()}else zh(a,l,w,null,p)}}var bs=null;function Ss(a,l,p,w){if(bs=null,a=he(w),a=ma(a),a!==null)if(l=_i(a),l===null)a=null;else if(p=l.tag,p===13){if(a=Bi(l),a!==null)return a;a=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return bs=a,null}function hc(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rr()){case ps:return 1;case ms:return 4;case Hi:case wl:return 16;case ui:return 536870912;default:return 16}default:return 16}}var Nn=null,Ds=null,hi=null;function pc(){if(hi)return hi;var a,l=Ds,p=l.length,w,E="value"in Nn?Nn.value:Nn.textContent,A=E.length;for(a=0;a<p&&l[a]===E[a];a++);var Y=p-a;for(w=1;w<=Y&&l[p-w]===E[A-w];w++);return hi=E.slice(a,1<w?1-w:void 0)}function Yi(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Mr(){return!0}function Ts(){return!1}function kr(a){function l(p,w,E,A,Y){this._reactName=p,this._targetInst=E,this.type=w,this.nativeEvent=A,this.target=Y,this.currentTarget=null;for(var ae in a)a.hasOwnProperty(ae)&&(p=a[ae],this[ae]=p?p(A):A[ae]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Mr:Ts,this.isPropagationStopped=Ts,this}return J(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),l}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=kr(za),Is=J({},za,{view:0,detail:0}),cu=kr(Is),ur,Va,or,Sl=J({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==or&&(or&&a.type==="mousemove"?(ur=a.screenX-or.screenX,Va=a.screenY-or.screenY):Va=ur=0,or=a),ur)},movementY:function(a){return"movementY"in a?a.movementY:Va}}),du=kr(Sl),zi=J({},Sl,{dataTransfer:0}),Es=kr(zi),Br=J({},Is,{relatedTarget:0}),In=kr(Br),pi=J({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),mc=kr(pi),kd=J({},za,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xs=kr(kd),Nd=J({},za,{data:0}),gc=kr(Nd),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Tl[a])?!!l[a]:!1}function hu(){return Za}var pu=J({},Is,{key:function(a){if(a.key){var l=fu[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Yi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Dl[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(a){return a.type==="keypress"?Yi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Yi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),yc=kr(pu),k=J({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=kr(k),W=J({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),ne=kr(W),Ae=J({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ie=kr(Ae),ze=J({},Sl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=kr(ze),St=[9,13,27,32],Zt=c&&"CompositionEvent"in window,jt=null;c&&"documentMode"in document&&(jt=document.documentMode);var Cn=c&&"TextEvent"in window&&!jt,Hr=c&&(!Zt||jt&&8<jt&&11>=jt),ko=" ",No=!1;function Il(a,l){switch(a){case"keyup":return St.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var fa=!1;function mu(a,l){switch(a){case"compositionend":return vc(l);case"keypress":return l.which!==32?null:(No=!0,ko);case"textInput":return a=l.data,a===ko&&No?null:a;default:return null}}function D0(a,l){if(fa)return a==="compositionend"||!Zt&&Il(a,l)?(a=pc(),hi=Ds=Nn=null,fa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Hr&&l.locale!=="ko"?null:l.data;default:return null}}var T0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!T0[a.type]:l==="textarea"}function Bh(a,l,p,w){et(w),l=Hd(l,"onChange"),0<l.length&&(p=new da("onChange","change",null,p,w),a.push({event:p,listeners:l}))}var mi=null,Cs=null;function I0(a){gg(a,0)}function Fd(a){var l=qt(a);if(st(l))return a}function E0(a,l){if(a==="change")return l}var El=!1;if(c){var qo;if(c){var Od="oninput"in document;if(!Od){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),Od=typeof cg.oninput=="function"}qo=Od}else qo=!1;El=qo&&(!document.documentMode||9<document.documentMode)}function dg(){mi&&(mi.detachEvent("onpropertychange",fg),Cs=mi=null)}function fg(a){if(a.propertyName==="value"&&Fd(Cs)){var l=[];Bh(l,Cs,a,he(a)),jr(I0,l)}}function x0(a,l,p){a==="focusin"?(dg(),mi=l,Cs=p,mi.attachEvent("onpropertychange",fg)):a==="focusout"&&dg()}function C0(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Fd(Cs)}function gu(a,l){if(a==="click")return Fd(l)}function be(a,l){if(a==="input"||a==="change")return Fd(l)}function Ye(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Oe=typeof Object.is=="function"?Object.is:Ye;function mt(a,l){if(Oe(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var p=Object.keys(a),w=Object.keys(l);if(p.length!==w.length)return!1;for(w=0;w<p.length;w++){var E=p[w];if(!d.call(l,E)||!Oe(a[E],l[E]))return!1}return!0}function Wt(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function hn(a,l){var p=Wt(a);a=0;for(var w;p;){if(p.nodeType===3){if(w=a+p.textContent.length,a<=l&&w>=l)return{node:p,offset:l-a};a=w}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Wt(p)}}function cr(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?cr(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Mn(){for(var a=window,l=it();l instanceof a.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)a=l.contentWindow;else break;l=it(a.document)}return l}function wc(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function M0(a){var l=Mn(),p=a.focusedElem,w=a.selectionRange;if(l!==p&&p&&p.ownerDocument&&cr(p.ownerDocument.documentElement,p)){if(w!==null&&wc(p)){if(l=w.start,a=w.end,a===void 0&&(a=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(a,p.value.length);else if(a=(l=p.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var E=p.textContent.length,A=Math.min(w.start,E);w=w.end===void 0?A:Math.min(w.end,E),!a.extend&&A>w&&(E=w,w=A,A=E),E=hn(p,A);var Y=hn(p,w);E&&Y&&(a.rangeCount!==1||a.anchorNode!==E.node||a.anchorOffset!==E.offset||a.focusNode!==Y.node||a.focusOffset!==Y.offset)&&(l=l.createRange(),l.setStart(E.node,E.offset),a.removeAllRanges(),A>w?(a.addRange(l),a.extend(Y.node,Y.offset)):(l.setEnd(Y.node,Y.offset),a.addRange(l)))}}for(l=[],a=p;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)a=l[p],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var gi=c&&"documentMode"in document&&11>=document.documentMode,Wa=null,Hh=null,ha=null,yu=!1;function bc(a,l,p){var w=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;yu||Wa==null||Wa!==it(w)||(w=Wa,"selectionStart"in w&&wc(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),ha&&mt(ha,w)||(ha=w,w=Hd(Hh,"onSelect"),0<w.length&&(l=new da("onSelect","select",null,l,p),a.push({event:l,listeners:w}),l.target=Wa)))}function pn(a,l){var p={};return p[a.toLowerCase()]=l.toLowerCase(),p["Webkit"+a]="webkit"+l,p["Moz"+a]="moz"+l,p}var vu={animationend:pn("Animation","AnimationEnd"),animationiteration:pn("Animation","AnimationIteration"),animationstart:pn("Animation","AnimationStart"),transitionend:pn("Transition","TransitionEnd")},Pd={},Sc={};c&&(Sc=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function jd(a){if(Pd[a])return Pd[a];if(!vu[a])return a;var l=vu[a],p;for(p in l)if(l.hasOwnProperty(p)&&p in Sc)return Pd[a]=l[p];return a}var hg=jd("animationend"),pg=jd("animationiteration"),Dc=jd("animationstart"),$a=jd("transitionend"),Tc=new Map,Uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(a,l){Tc.set(a,l),i(l,[a])}for(var Ld=0;Ld<Uh.length;Ld++){var Rd=Uh[Ld],_d=Rd.toLowerCase(),mg=Rd[0].toUpperCase()+Rd.slice(1);Vi(_d,"on"+mg)}Vi(hg,"onAnimationEnd"),Vi(pg,"onAnimationIteration"),Vi(Dc,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi($a,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xl=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function Ic(a,l,p){var w=a.type||"unknown-event";a.currentTarget=p,gl(w,l,void 0,a),a.currentTarget=null}function gg(a,l){l=(l&4)!==0;for(var p=0;p<a.length;p++){var w=a[p],E=w.event;w=w.listeners;e:{var A=void 0;if(l)for(var Y=w.length-1;0<=Y;Y--){var ae=w[Y],pe=ae.instance,Pe=ae.currentTarget;if(ae=ae.listener,pe!==A&&E.isPropagationStopped())break e;Ic(E,ae,Pe),A=pe}else for(Y=0;Y<w.length;Y++){if(ae=w[Y],pe=ae.instance,Pe=ae.currentTarget,ae=ae.listener,pe!==A&&E.isPropagationStopped())break e;Ic(E,ae,Pe),A=pe}}}if(fo)throw a=Cr,fo=!1,Cr=null,a}function _n(a,l){var p=l[zd];p===void 0&&(p=l[zd]=new Set);var w=a+"__bubble";p.has(w)||(Bd(l,a,2,!1),p.add(w))}function Yh(a,l,p){var w=0;l&&(w|=4),Bd(p,a,w,l)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function Ms(a){if(!a[Cl]){a[Cl]=!0,r.forEach(function(p){p!=="selectionchange"&&(xl.has(p)||Yh(p,!1,a),Yh(p,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Cl]||(l[Cl]=!0,Yh("selectionchange",!1,l))}}function Bd(a,l,p,w){switch(hc(l)){case 1:var E=lu;break;case 4:E=Ya;break;default:E=uu}p=E.bind(null,l,p,a),E=void 0,!rr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),w?E!==void 0?a.addEventListener(l,p,{capture:!0,passive:E}):a.addEventListener(l,p,!0):E!==void 0?a.addEventListener(l,p,{passive:E}):a.addEventListener(l,p,!1)}function zh(a,l,p,w,E){var A=w;if(!(l&1)&&!(l&2)&&w!==null)e:for(;;){if(w===null)return;var Y=w.tag;if(Y===3||Y===4){var ae=w.stateNode.containerInfo;if(ae===E||ae.nodeType===8&&ae.parentNode===E)break;if(Y===4)for(Y=w.return;Y!==null;){var pe=Y.tag;if((pe===3||pe===4)&&(pe=Y.stateNode.containerInfo,pe===E||pe.nodeType===8&&pe.parentNode===E))return;Y=Y.return}for(;ae!==null;){if(Y=ma(ae),Y===null)return;if(pe=Y.tag,pe===5||pe===6){w=A=Y;continue e}ae=ae.parentNode}}w=w.return}jr(function(){var Pe=A,Je=he(p),Qe=[];e:{var Ge=Tc.get(a);if(Ge!==void 0){var gt=da,bt=a;switch(a){case"keypress":if(Yi(p)===0)break e;case"keydown":case"keyup":gt=yc;break;case"focusin":bt="focus",gt=In;break;case"focusout":bt="blur",gt=In;break;case"beforeblur":case"afterblur":gt=In;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=Es;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=ne;break;case hg:case pg:case Dc:gt=mc;break;case $a:gt=Ie;break;case"scroll":gt=cu;break;case"wheel":gt=tt;break;case"copy":case"cut":case"paste":gt=xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=R}var Dt=(l&4)!==0,ir=!Dt&&a==="scroll",Ee=Dt?Ge!==null?Ge+"Capture":null:Ge;Dt=[];for(var ve=Pe,Ce;ve!==null;){Ce=ve;var rt=Ce.stateNode;if(Ce.tag===5&&rt!==null&&(Ce=rt,Ee!==null&&(rt=Rn(ve,Ee),rt!=null&&Dt.push(wu(ve,rt,Ce)))),ir)break;ve=ve.return}0<Dt.length&&(Ge=new gt(Ge,bt,null,p,Je),Qe.push({event:Ge,listeners:Dt}))}}if(!(l&7)){e:{if(Ge=a==="mouseover"||a==="pointerover",gt=a==="mouseout"||a==="pointerout",Ge&&p!==X&&(bt=p.relatedTarget||p.fromElement)&&(ma(bt)||bt[Go]))break e;if((gt||Ge)&&(Ge=Je.window===Je?Je:(Ge=Je.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,gt?(bt=p.relatedTarget||p.toElement,gt=Pe,bt=bt?ma(bt):null,bt!==null&&(ir=_i(bt),bt!==ir||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(gt=null,bt=Pe),gt!==bt)){if(Dt=du,rt="onMouseLeave",Ee="onMouseEnter",ve="mouse",(a==="pointerout"||a==="pointerover")&&(Dt=R,rt="onPointerLeave",Ee="onPointerEnter",ve="pointer"),ir=gt==null?Ge:qt(gt),Ce=bt==null?Ge:qt(bt),Ge=new Dt(rt,ve+"leave",gt,p,Je),Ge.target=ir,Ge.relatedTarget=Ce,rt=null,ma(Je)===Pe&&(Dt=new Dt(Ee,ve+"enter",bt,p,Je),Dt.target=Ce,Dt.relatedTarget=ir,rt=Dt),ir=rt,gt&&bt)t:{for(Dt=gt,Ee=bt,ve=0,Ce=Dt;Ce;Ce=bu(Ce))ve++;for(Ce=0,rt=Ee;rt;rt=bu(rt))Ce++;for(;0<ve-Ce;)Dt=bu(Dt),ve--;for(;0<Ce-ve;)Ee=bu(Ee),Ce--;for(;ve--;){if(Dt===Ee||Ee!==null&&Dt===Ee.alternate)break t;Dt=bu(Dt),Ee=bu(Ee)}Dt=null}else Dt=null;gt!==null&&dr(Qe,Ge,gt,Dt,!1),bt!==null&&ir!==null&&dr(Qe,ir,bt,Dt,!0)}}e:{if(Ge=Pe?qt(Pe):window,gt=Ge.nodeName&&Ge.nodeName.toLowerCase(),gt==="select"||gt==="input"&&Ge.type==="file")var Et=E0;else if(Ad(Ge))if(El)Et=be;else{Et=C0;var Ft=x0}else(gt=Ge.nodeName)&&gt.toLowerCase()==="input"&&(Ge.type==="checkbox"||Ge.type==="radio")&&(Et=gu);if(Et&&(Et=Et(a,Pe))){Bh(Qe,Et,p,Je);break e}Ft&&Ft(a,Ge,Pe),a==="focusout"&&(Ft=Ge._wrapperState)&&Ft.controlled&&Ge.type==="number"&&vn(Ge,"number",Ge.value)}switch(Ft=Pe?qt(Pe):window,a){case"focusin":(Ad(Ft)||Ft.contentEditable==="true")&&(Wa=Ft,Hh=Pe,ha=null);break;case"focusout":ha=Hh=Wa=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,bc(Qe,p,Je);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":bc(Qe,p,Je)}var Ot;if(Zt)e:{switch(a){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else fa?Il(a,p)&&(Ut="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(Ut="onCompositionStart");Ut&&(Hr&&p.locale!=="ko"&&(fa||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&fa&&(Ot=pc()):(Nn=Je,Ds="value"in Nn?Nn.value:Nn.textContent,fa=!0)),Ft=Hd(Pe,Ut),0<Ft.length&&(Ut=new gc(Ut,a,null,p,Je),Qe.push({event:Ut,listeners:Ft}),Ot?Ut.data=Ot:(Ot=vc(p),Ot!==null&&(Ut.data=Ot)))),(Ot=Cn?mu(a,p):D0(a,p))&&(Pe=Hd(Pe,"onBeforeInput"),0<Pe.length&&(Je=new gc("onBeforeInput","beforeinput",null,p,Je),Qe.push({event:Je,listeners:Pe}),Je.data=Ot))}gg(Qe,l)})}function wu(a,l,p){return{instance:a,listener:l,currentTarget:p}}function Hd(a,l){for(var p=l+"Capture",w=[];a!==null;){var E=a,A=E.stateNode;E.tag===5&&A!==null&&(E=A,A=Rn(a,p),A!=null&&w.unshift(wu(a,A,E)),A=Rn(a,l),A!=null&&w.push(wu(a,A,E))),a=a.return}return w}function bu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function dr(a,l,p,w,E){for(var A=l._reactName,Y=[];p!==null&&p!==w;){var ae=p,pe=ae.alternate,Pe=ae.stateNode;if(pe!==null&&pe===w)break;ae.tag===5&&Pe!==null&&(ae=Pe,E?(pe=Rn(p,A),pe!=null&&Y.unshift(wu(p,pe,ae))):E||(pe=Rn(p,A),pe!=null&&Y.push(wu(p,pe,ae)))),p=p.return}Y.length!==0&&a.push({event:l,listeners:Y})}var Gr=/\r\n?/g,k0=/\u0000|\uFFFD/g;function yg(a){return(typeof a=="string"?a:""+a).replace(Gr,`
`).replace(k0,"")}function Ec(a,l,p){if(l=yg(l),yg(a)!==l&&p)throw Error(n(425))}function Ud(){}var xc=null,Ml=null;function Cc(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ks=typeof setTimeout=="function"?setTimeout:void 0,Mc=typeof clearTimeout=="function"?clearTimeout:void 0,Su=typeof Promise=="function"?Promise:void 0,Yd=typeof queueMicrotask=="function"?queueMicrotask:typeof Su<"u"?function(a){return Su.resolve(null).then(a).catch(Du)}:ks;function Du(a){setTimeout(function(){throw a})}function Vh(a,l){var p=l,w=0;do{var E=p.nextSibling;if(a.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"){if(w===0){a.removeChild(E),an(l);return}w--}else p!=="$"&&p!=="$?"&&p!=="$!"||w++;p=E}while(p);an(l)}function Ns(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function vg(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return a;l--}else p==="/$"&&l++}a=a.previousSibling}return null}var Tu=Math.random().toString(36).slice(2),pa="__reactFiber$"+Tu,As="__reactProps$"+Tu,Go="__reactContainer$"+Tu,zd="__reactEvents$"+Tu,q="__reactListeners$"+Tu,Iu="__reactHandles$"+Tu;function ma(a){var l=a[pa];if(l)return l;for(var p=a.parentNode;p;){if(l=p[Go]||p[pa]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(a=vg(a);a!==null;){if(p=a[pa])return p;a=vg(a)}return l}a=p,p=a.parentNode}return null}function Jr(a){return a=a[pa]||a[Go],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function qt(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Vd(a){return a[As]||null}var Zh=[],Eu=-1;function Ao(a){return{current:a}}function Bn(a){0>Eu||(a.current=Zh[Eu],Zh[Eu]=null,Eu--)}function jn(a,l){Eu++,Zh[Eu]=a.current,a.current=l}var Fs={},Kr=Ao(Fs),Fo=Ao(!1),vo=Fs;function xu(a,l){var p=a.type.contextTypes;if(!p)return Fs;var w=a.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===l)return w.__reactInternalMemoizedMaskedChildContext;var E={},A;for(A in p)E[A]=l[A];return w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=E),E}function Oo(a){return a=a.childContextTypes,a!=null}function Zd(){Bn(Fo),Bn(Kr)}function wg(a,l,p){if(Kr.current!==Fs)throw Error(n(168));jn(Kr,l),jn(Fo,p)}function bg(a,l,p){var w=a.stateNode;if(l=l.childContextTypes,typeof w.getChildContext!="function")return p;w=w.getChildContext();for(var E in w)if(!(E in l))throw Error(n(108,$e(a)||"Unknown",E));return J({},p,w)}function yi(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Fs,vo=Kr.current,jn(Kr,a),jn(Fo,Fo.current),!0}function Sg(a,l,p){var w=a.stateNode;if(!w)throw Error(n(169));p?(a=bg(a,l,vo),w.__reactInternalMemoizedMergedChildContext=a,Bn(Fo),Bn(Kr),jn(Kr,a)):Bn(Fo),jn(Fo,p)}var Ga=null,Wd=!1,Wh=!1;function Dg(a){Ga===null?Ga=[a]:Ga.push(a)}function kl(a){Wd=!0,Dg(a)}function Os(){if(!Wh&&Ga!==null){Wh=!0;var a=0,l=ut;try{var p=Ga;for(ut=1;a<p.length;a++){var w=p[a];do w=w(!0);while(w!==null)}Ga=null,Wd=!1}catch(E){throw Ga!==null&&(Ga=Ga.slice(a+1)),Ra(ps,Os),E}finally{ut=l,Wh=!1}}return null}var Cu=[],Qr=0,$d=null,qd=0,vi=[],wi=0,Nl=null,ga=1,ya="";function Al(a,l){Cu[Qr++]=qd,Cu[Qr++]=$d,$d=a,qd=l}function Tg(a,l,p){vi[wi++]=ga,vi[wi++]=ya,vi[wi++]=Nl,Nl=a;var w=ga;a=ya;var E=32-vr(w)-1;w&=~(1<<E),p+=1;var A=32-vr(l)+E;if(30<A){var Y=E-E%5;A=(w&(1<<Y)-1).toString(32),w>>=Y,E-=Y,ga=1<<32-vr(l)+E|p<<E|w,ya=A+a}else ga=1<<A|p<<E|w,ya=a}function kc(a){a.return!==null&&(Al(a,1),Tg(a,1,0))}function Fl(a){for(;a===$d;)$d=Cu[--Qr],Cu[Qr]=null,qd=Cu[--Qr],Cu[Qr]=null;for(;a===Nl;)Nl=vi[--wi],vi[wi]=null,ya=vi[--wi],vi[wi]=null,ga=vi[--wi],vi[wi]=null}var Xr=null,Jo=null,Hn=!1,Zi=null;function va(a,l){var p=ti(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=a,l=a.deletions,l===null?(a.deletions=[p],a.flags|=16):l.push(p)}function Gd(a,l){switch(a.tag){case 5:var p=a.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,Xr=a,Jo=Ns(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,Xr=a,Jo=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=Nl!==null?{id:ga,overflow:ya}:null,a.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=ti(18,null,null,0),p.stateNode=l,p.return=a,a.child=p,Xr=a,Jo=null,!0):!1;default:return!1}}function Ja(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Po(a){if(Hn){var l=Jo;if(l){var p=l;if(!Gd(a,l)){if(Ja(a))throw Error(n(418));l=Ns(p.nextSibling);var w=Xr;l&&Gd(a,l)?va(w,p):(a.flags=a.flags&-4097|2,Hn=!1,Xr=a)}}else{if(Ja(a))throw Error(n(418));a.flags=a.flags&-4097|2,Hn=!1,Xr=a}}}function Ig(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Xr=a}function Nc(a){if(a!==Xr)return!1;if(!Hn)return Ig(a),Hn=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Cc(a.type,a.memoizedProps)),l&&(l=Jo)){if(Ja(a))throw $h(),Error(n(418));for(;l;)va(a,l),l=Ns(l.nextSibling)}if(Ig(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var p=a.data;if(p==="/$"){if(l===0){Jo=Ns(a.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}a=a.nextSibling}Jo=null}}else Jo=Xr?Ns(a.stateNode.nextSibling):null;return!0}function $h(){for(var a=Jo;a;)a=Ns(a.nextSibling)}function wa(){Jo=Xr=null,Hn=!1}function ba(a){Zi===null?Zi=[a]:Zi.push(a)}var Eg=P.ReactCurrentBatchConfig;function Wi(a,l){if(a&&a.defaultProps){l=J({},l),a=a.defaultProps;for(var p in a)l[p]===void 0&&(l[p]=a[p]);return l}return l}var Ol=Ao(null),Jd=null,Pl=null,wr=null;function Ac(){wr=Pl=Jd=null}function Kd(a){var l=Ol.current;Bn(Ol),a._currentValue=l}function bi(a,l,p){for(;a!==null;){var w=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,w!==null&&(w.childLanes|=l)):w!==null&&(w.childLanes&l)!==l&&(w.childLanes|=l),a===p)break;a=a.return}}function Ps(a,l){Jd=a,wr=Pl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&l&&(no=!0),a.firstContext=null)}function wo(a){var l=a._currentValue;if(wr!==a)if(a={context:a,memoizedValue:l,next:null},Pl===null){if(Jd===null)throw Error(n(308));Pl=a,Jd.dependencies={lanes:0,firstContext:a}}else Pl=Pl.next=a;return l}var Ko=null;function Qd(a){Ko===null?Ko=[a]:Ko.push(a)}function eo(a,l,p,w){var E=l.interleaved;return E===null?(p.next=p,Qd(l)):(p.next=E.next,E.next=p),l.interleaved=p,$i(a,w)}function $i(a,l){a.lanes|=l;var p=a.alternate;for(p!==null&&(p.lanes|=l),p=a,a=a.return;a!==null;)a.childLanes|=l,p=a.alternate,p!==null&&(p.childLanes|=l),p=a,a=a.return;return p.tag===3?p.stateNode:null}var js=!1;function qh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xg(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function qi(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Ls(a,l,p){var w=a.updateQueue;if(w===null)return null;if(w=w.shared,dn&2){var E=w.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),w.pending=l,$i(a,p)}return E=w.interleaved,E===null?(l.next=l,Qd(w)):(l.next=E.next,E.next=l),w.interleaved=l,$i(a,p)}function Rs(a,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var w=l.lanes;w&=a.pendingLanes,p|=w,l.lanes=p,nt(a,p)}}function Gh(a,l){var p=a.updateQueue,w=a.alternate;if(w!==null&&(w=w.updateQueue,p===w)){var E=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var Y={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};A===null?E=A=Y:A=A.next=Y,p=p.next}while(p!==null);A===null?E=A=l:A=A.next=l}else E=A=l;p={baseState:w.baseState,firstBaseUpdate:E,lastBaseUpdate:A,shared:w.shared,effects:w.effects},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=l:a.next=l,p.lastBaseUpdate=l}function Xd(a,l,p,w){var E=a.updateQueue;js=!1;var A=E.firstBaseUpdate,Y=E.lastBaseUpdate,ae=E.shared.pending;if(ae!==null){E.shared.pending=null;var pe=ae,Pe=pe.next;pe.next=null,Y===null?A=Pe:Y.next=Pe,Y=pe;var Je=a.alternate;Je!==null&&(Je=Je.updateQueue,ae=Je.lastBaseUpdate,ae!==Y&&(ae===null?Je.firstBaseUpdate=Pe:ae.next=Pe,Je.lastBaseUpdate=pe))}if(A!==null){var Qe=E.baseState;Y=0,Je=Pe=pe=null,ae=A;do{var Ge=ae.lane,gt=ae.eventTime;if((w&Ge)===Ge){Je!==null&&(Je=Je.next={eventTime:gt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var bt=a,Dt=ae;switch(Ge=l,gt=p,Dt.tag){case 1:if(bt=Dt.payload,typeof bt=="function"){Qe=bt.call(gt,Qe,Ge);break e}Qe=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Dt.payload,Ge=typeof bt=="function"?bt.call(gt,Qe,Ge):bt,Ge==null)break e;Qe=J({},Qe,Ge);break e;case 2:js=!0}}ae.callback!==null&&ae.lane!==0&&(a.flags|=64,Ge=E.effects,Ge===null?E.effects=[ae]:Ge.push(ae))}else gt={eventTime:gt,lane:Ge,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Je===null?(Pe=Je=gt,pe=Qe):Je=Je.next=gt,Y|=Ge;if(ae=ae.next,ae===null){if(ae=E.shared.pending,ae===null)break;Ge=ae,ae=Ge.next,Ge.next=null,E.lastBaseUpdate=Ge,E.shared.pending=null}}while(!0);if(Je===null&&(pe=Qe),E.baseState=pe,E.firstBaseUpdate=Pe,E.lastBaseUpdate=Je,l=E.shared.interleaved,l!==null){E=l;do Y|=E.lane,E=E.next;while(E!==l)}else A===null&&(E.shared.lanes=0);Vs|=Y,a.lanes=Y,a.memoizedState=Qe}}function Cg(a,l,p){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var w=a[l],E=w.callback;if(E!==null){if(w.callback=null,w=p,typeof E!="function")throw Error(n(191,E));E.call(w)}}}var Mu=new e.Component().refs;function Jh(a,l,p,w){l=a.memoizedState,p=p(w,l),p=p==null?l:J({},l,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var ef={isMounted:function(a){return(a=a._reactInternals)?_i(a)===a:!1},enqueueSetState:function(a,l,p){a=a._reactInternals;var w=Do(),E=Ws(a),A=qi(w,E);A.payload=l,p!=null&&(A.callback=p),l=Ls(a,A,E),l!==null&&(Qi(l,a,E,w),Rs(l,a,E))},enqueueReplaceState:function(a,l,p){a=a._reactInternals;var w=Do(),E=Ws(a),A=qi(w,E);A.tag=1,A.payload=l,p!=null&&(A.callback=p),l=Ls(a,A,E),l!==null&&(Qi(l,a,E,w),Rs(l,a,E))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var p=Do(),w=Ws(a),E=qi(p,w);E.tag=2,l!=null&&(E.callback=l),l=Ls(a,E,w),l!==null&&(Qi(l,a,w,p),Rs(l,a,w))}};function tf(a,l,p,w,E,A,Y){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(w,A,Y):l.prototype&&l.prototype.isPureReactComponent?!mt(p,w)||!mt(E,A):!0}function Kh(a,l,p){var w=!1,E=Fs,A=l.contextType;return typeof A=="object"&&A!==null?A=wo(A):(E=Oo(l)?vo:Kr.current,w=l.contextTypes,A=(w=w!=null)?xu(a,E):Fs),l=new l(p,A),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ef,a.stateNode=l,l._reactInternals=a,w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=E,a.__reactInternalMemoizedMaskedChildContext=A),l}function Mg(a,l,p,w){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,w),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,w),l.state!==a&&ef.enqueueReplaceState(l,l.state,null)}function Qh(a,l,p,w){var E=a.stateNode;E.props=p,E.state=a.memoizedState,E.refs=Mu,qh(a);var A=l.contextType;typeof A=="object"&&A!==null?E.context=wo(A):(A=Oo(l)?vo:Kr.current,E.context=xu(a,A)),E.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Jh(a,l,A,p),E.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(l=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),l!==E.state&&ef.enqueueReplaceState(E,E.state,null),Xd(a,p,E,w),E.state=a.memoizedState),typeof E.componentDidMount=="function"&&(a.flags|=4194308)}function Fc(a,l,p){if(a=p.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var w=p.stateNode}if(!w)throw Error(n(147,a));var E=w,A=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===A?l.ref:(l=function(Y){var ae=E.refs;ae===Mu&&(ae=E.refs={}),Y===null?delete ae[A]:ae[A]=Y},l._stringRef=A,l)}if(typeof a!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,a))}return a}function Oc(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function nf(a){var l=a._init;return l(a._payload)}function kg(a){function l(Ee,ve){if(a){var Ce=Ee.deletions;Ce===null?(Ee.deletions=[ve],Ee.flags|=16):Ce.push(ve)}}function p(Ee,ve){if(!a)return null;for(;ve!==null;)l(Ee,ve),ve=ve.sibling;return null}function w(Ee,ve){for(Ee=new Map;ve!==null;)ve.key!==null?Ee.set(ve.key,ve):Ee.set(ve.index,ve),ve=ve.sibling;return Ee}function E(Ee,ve){return Ee=Gs(Ee,ve),Ee.index=0,Ee.sibling=null,Ee}function A(Ee,ve,Ce){return Ee.index=Ce,a?(Ce=Ee.alternate,Ce!==null?(Ce=Ce.index,Ce<ve?(Ee.flags|=2,ve):Ce):(Ee.flags|=2,ve)):(Ee.flags|=1048576,ve)}function Y(Ee){return a&&Ee.alternate===null&&(Ee.flags|=2),Ee}function ae(Ee,ve,Ce,rt){return ve===null||ve.tag!==6?(ve=jp(Ce,Ee.mode,rt),ve.return=Ee,ve):(ve=E(ve,Ce),ve.return=Ee,ve)}function pe(Ee,ve,Ce,rt){var Et=Ce.type;return Et===z?Je(Ee,ve,Ce.props.children,rt,Ce.key):ve!==null&&(ve.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Q&&nf(Et)===ve.type)?(rt=E(ve,Ce.props),rt.ref=Fc(Ee,ve,Ce),rt.return=Ee,rt):(rt=Ff(Ce.type,Ce.key,Ce.props,null,Ee.mode,rt),rt.ref=Fc(Ee,ve,Ce),rt.return=Ee,rt)}function Pe(Ee,ve,Ce,rt){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Ce.containerInfo||ve.stateNode.implementation!==Ce.implementation?(ve=Lp(Ce,Ee.mode,rt),ve.return=Ee,ve):(ve=E(ve,Ce.children||[]),ve.return=Ee,ve)}function Je(Ee,ve,Ce,rt,Et){return ve===null||ve.tag!==7?(ve=Ul(Ce,Ee.mode,rt,Et),ve.return=Ee,ve):(ve=E(ve,Ce),ve.return=Ee,ve)}function Qe(Ee,ve,Ce){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=jp(""+ve,Ee.mode,Ce),ve.return=Ee,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case U:return Ce=Ff(ve.type,ve.key,ve.props,null,Ee.mode,Ce),Ce.ref=Fc(Ee,null,ve),Ce.return=Ee,Ce;case L:return ve=Lp(ve,Ee.mode,Ce),ve.return=Ee,ve;case Q:var rt=ve._init;return Qe(Ee,rt(ve._payload),Ce)}if($t(ve)||we(ve))return ve=Ul(ve,Ee.mode,Ce,null),ve.return=Ee,ve;Oc(Ee,ve)}return null}function Ge(Ee,ve,Ce,rt){var Et=ve!==null?ve.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Et!==null?null:ae(Ee,ve,""+Ce,rt);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case U:return Ce.key===Et?pe(Ee,ve,Ce,rt):null;case L:return Ce.key===Et?Pe(Ee,ve,Ce,rt):null;case Q:return Et=Ce._init,Ge(Ee,ve,Et(Ce._payload),rt)}if($t(Ce)||we(Ce))return Et!==null?null:Je(Ee,ve,Ce,rt,null);Oc(Ee,Ce)}return null}function gt(Ee,ve,Ce,rt,Et){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return Ee=Ee.get(Ce)||null,ae(ve,Ee,""+rt,Et);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case U:return Ee=Ee.get(rt.key===null?Ce:rt.key)||null,pe(ve,Ee,rt,Et);case L:return Ee=Ee.get(rt.key===null?Ce:rt.key)||null,Pe(ve,Ee,rt,Et);case Q:var Ft=rt._init;return gt(Ee,ve,Ce,Ft(rt._payload),Et)}if($t(rt)||we(rt))return Ee=Ee.get(Ce)||null,Je(ve,Ee,rt,Et,null);Oc(ve,rt)}return null}function bt(Ee,ve,Ce,rt){for(var Et=null,Ft=null,Ot=ve,Ut=ve=0,Ar=null;Ot!==null&&Ut<Ce.length;Ut++){Ot.index>Ut?(Ar=Ot,Ot=null):Ar=Ot.sibling;var mn=Ge(Ee,Ot,Ce[Ut],rt);if(mn===null){Ot===null&&(Ot=Ar);break}a&&Ot&&mn.alternate===null&&l(Ee,Ot),ve=A(mn,ve,Ut),Ft===null?Et=mn:Ft.sibling=mn,Ft=mn,Ot=Ar}if(Ut===Ce.length)return p(Ee,Ot),Hn&&Al(Ee,Ut),Et;if(Ot===null){for(;Ut<Ce.length;Ut++)Ot=Qe(Ee,Ce[Ut],rt),Ot!==null&&(ve=A(Ot,ve,Ut),Ft===null?Et=Ot:Ft.sibling=Ot,Ft=Ot);return Hn&&Al(Ee,Ut),Et}for(Ot=w(Ee,Ot);Ut<Ce.length;Ut++)Ar=gt(Ot,Ee,Ut,Ce[Ut],rt),Ar!==null&&(a&&Ar.alternate!==null&&Ot.delete(Ar.key===null?Ut:Ar.key),ve=A(Ar,ve,Ut),Ft===null?Et=Ar:Ft.sibling=Ar,Ft=Ar);return a&&Ot.forEach(function(Js){return l(Ee,Js)}),Hn&&Al(Ee,Ut),Et}function Dt(Ee,ve,Ce,rt){var Et=we(Ce);if(typeof Et!="function")throw Error(n(150));if(Ce=Et.call(Ce),Ce==null)throw Error(n(151));for(var Ft=Et=null,Ot=ve,Ut=ve=0,Ar=null,mn=Ce.next();Ot!==null&&!mn.done;Ut++,mn=Ce.next()){Ot.index>Ut?(Ar=Ot,Ot=null):Ar=Ot.sibling;var Js=Ge(Ee,Ot,mn.value,rt);if(Js===null){Ot===null&&(Ot=Ar);break}a&&Ot&&Js.alternate===null&&l(Ee,Ot),ve=A(Js,ve,Ut),Ft===null?Et=Js:Ft.sibling=Js,Ft=Js,Ot=Ar}if(mn.done)return p(Ee,Ot),Hn&&Al(Ee,Ut),Et;if(Ot===null){for(;!mn.done;Ut++,mn=Ce.next())mn=Qe(Ee,mn.value,rt),mn!==null&&(ve=A(mn,ve,Ut),Ft===null?Et=mn:Ft.sibling=mn,Ft=mn);return Hn&&Al(Ee,Ut),Et}for(Ot=w(Ee,Ot);!mn.done;Ut++,mn=Ce.next())mn=gt(Ot,Ee,Ut,mn.value,rt),mn!==null&&(a&&mn.alternate!==null&&Ot.delete(mn.key===null?Ut:mn.key),ve=A(mn,ve,Ut),Ft===null?Et=mn:Ft.sibling=mn,Ft=mn);return a&&Ot.forEach(function(G0){return l(Ee,G0)}),Hn&&Al(Ee,Ut),Et}function ir(Ee,ve,Ce,rt){if(typeof Ce=="object"&&Ce!==null&&Ce.type===z&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case U:e:{for(var Et=Ce.key,Ft=ve;Ft!==null;){if(Ft.key===Et){if(Et=Ce.type,Et===z){if(Ft.tag===7){p(Ee,Ft.sibling),ve=E(Ft,Ce.props.children),ve.return=Ee,Ee=ve;break e}}else if(Ft.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Q&&nf(Et)===Ft.type){p(Ee,Ft.sibling),ve=E(Ft,Ce.props),ve.ref=Fc(Ee,Ft,Ce),ve.return=Ee,Ee=ve;break e}p(Ee,Ft);break}else l(Ee,Ft);Ft=Ft.sibling}Ce.type===z?(ve=Ul(Ce.props.children,Ee.mode,rt,Ce.key),ve.return=Ee,Ee=ve):(rt=Ff(Ce.type,Ce.key,Ce.props,null,Ee.mode,rt),rt.ref=Fc(Ee,ve,Ce),rt.return=Ee,Ee=rt)}return Y(Ee);case L:e:{for(Ft=Ce.key;ve!==null;){if(ve.key===Ft)if(ve.tag===4&&ve.stateNode.containerInfo===Ce.containerInfo&&ve.stateNode.implementation===Ce.implementation){p(Ee,ve.sibling),ve=E(ve,Ce.children||[]),ve.return=Ee,Ee=ve;break e}else{p(Ee,ve);break}else l(Ee,ve);ve=ve.sibling}ve=Lp(Ce,Ee.mode,rt),ve.return=Ee,Ee=ve}return Y(Ee);case Q:return Ft=Ce._init,ir(Ee,ve,Ft(Ce._payload),rt)}if($t(Ce))return bt(Ee,ve,Ce,rt);if(we(Ce))return Dt(Ee,ve,Ce,rt);Oc(Ee,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,ve!==null&&ve.tag===6?(p(Ee,ve.sibling),ve=E(ve,Ce),ve.return=Ee,Ee=ve):(p(Ee,ve),ve=jp(Ce,Ee.mode,rt),ve.return=Ee,Ee=ve),Y(Ee)):p(Ee,ve)}return ir}var _s=kg(!0),Xh=kg(!1),ku={},Gi=Ao(ku),Bs=Ao(ku),Pc=Ao(ku);function Hs(a){if(a===ku)throw Error(n(174));return a}function rf(a,l){switch(jn(Pc,l),jn(Bs,a),jn(Gi,ku),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:tr(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=tr(l,a)}Bn(Gi),jn(Gi,l)}function Nu(){Bn(Gi),Bn(Bs),Bn(Pc)}function ep(a){Hs(Pc.current);var l=Hs(Gi.current),p=tr(l,a.type);l!==p&&(jn(Bs,a),jn(Gi,p))}function tp(a){Bs.current===a&&(Bn(Gi),Bn(Bs))}var Un=Ao(0);function jc(a){for(var l=a;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Lc=[];function np(){for(var a=0;a<Lc.length;a++)Lc[a]._workInProgressVersionPrimary=null;Lc.length=0}var Au=P.ReactCurrentDispatcher,Gt=P.ReactCurrentBatchConfig,jl=0,Vn=null,Zn=null,br=null,of=!1,Rc=!1,to=0,N0=0;function Sr(){throw Error(n(321))}function _c(a,l){if(l===null)return!1;for(var p=0;p<l.length&&p<a.length;p++)if(!Oe(a[p],l[p]))return!1;return!0}function af(a,l,p,w,E,A){if(jl=A,Vn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Au.current=a===null||a.memoizedState===null?Hc:F0,a=p(w,E),Rc){A=0;do{if(Rc=!1,to=0,25<=A)throw Error(n(301));A+=1,br=Zn=null,l.updateQueue=null,Au.current=Lg,a=p(w,E)}while(Rc)}if(Au.current=Xa,l=Zn!==null&&Zn.next!==null,jl=0,br=Zn=Vn=null,of=!1,l)throw Error(n(300));return a}function sf(){var a=to!==0;return to=0,a}function Jn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Vn.memoizedState=br=a:br=br.next=a,br}function Dr(){if(Zn===null){var a=Vn.alternate;a=a!==null?a.memoizedState:null}else a=Zn.next;var l=br===null?Vn.memoizedState:br.next;if(l!==null)br=l,Zn=a;else{if(a===null)throw Error(n(310));Zn=a,a={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},br===null?Vn.memoizedState=br=a:br=br.next=a}return br}function Ll(a,l){return typeof l=="function"?l(a):l}function lf(a){var l=Dr(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=a;var w=Zn,E=w.baseQueue,A=p.pending;if(A!==null){if(E!==null){var Y=E.next;E.next=A.next,A.next=Y}w.baseQueue=E=A,p.pending=null}if(E!==null){A=E.next,w=w.baseState;var ae=Y=null,pe=null,Pe=A;do{var Je=Pe.lane;if((jl&Je)===Je)pe!==null&&(pe=pe.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),w=Pe.hasEagerState?Pe.eagerState:a(w,Pe.action);else{var Qe={lane:Je,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};pe===null?(ae=pe=Qe,Y=w):pe=pe.next=Qe,Vn.lanes|=Je,Vs|=Je}Pe=Pe.next}while(Pe!==null&&Pe!==A);pe===null?Y=w:pe.next=ae,Oe(w,l.memoizedState)||(no=!0),l.memoizedState=w,l.baseState=Y,l.baseQueue=pe,p.lastRenderedState=w}if(a=p.interleaved,a!==null){E=a;do A=E.lane,Vn.lanes|=A,Vs|=A,E=E.next;while(E!==a)}else E===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function Fu(a){var l=Dr(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=a;var w=p.dispatch,E=p.pending,A=l.memoizedState;if(E!==null){p.pending=null;var Y=E=E.next;do A=a(A,Y.action),Y=Y.next;while(Y!==E);Oe(A,l.memoizedState)||(no=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),p.lastRenderedState=A}return[A,w]}function rp(){}function uf(a,l){var p=Vn,w=Dr(),E=l(),A=!Oe(w.memoizedState,E);if(A&&(w.memoizedState=E,no=!0),w=w.queue,ap(df.bind(null,p,w,a),[a]),w.getSnapshot!==l||A||br!==null&&br.memoizedState.tag&1){if(p.flags|=2048,Ou(9,cf.bind(null,p,w,E,l),void 0,null),Nr===null)throw Error(n(349));jl&30||op(p,l,E)}return E}function op(a,l,p){a.flags|=16384,a={getSnapshot:l,value:p},l=Vn.updateQueue,l===null?(l={lastEffect:null,stores:null},Vn.updateQueue=l,l.stores=[a]):(p=l.stores,p===null?l.stores=[a]:p.push(a))}function cf(a,l,p,w){l.value=p,l.getSnapshot=w,Ka(l)&&Ng(a)}function df(a,l,p){return p(function(){Ka(l)&&Ng(a)})}function Ka(a){var l=a.getSnapshot;a=a.value;try{var p=l();return!Oe(a,p)}catch{return!0}}function Ng(a){var l=$i(a,1);l!==null&&Qi(l,a,1,-1)}function Qa(a){var l=Jn();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:a},l.queue=a,a=a.dispatch=Pg.bind(null,Vn,a),[l.memoizedState,a]}function Ou(a,l,p,w){return a={tag:a,create:l,destroy:p,deps:w,next:null},l=Vn.updateQueue,l===null?(l={lastEffect:null,stores:null},Vn.updateQueue=l,l.lastEffect=a.next=a):(p=l.lastEffect,p===null?l.lastEffect=a.next=a:(w=p.next,p.next=a,a.next=w,l.lastEffect=a)),a}function ip(){return Dr().memoizedState}function Pu(a,l,p,w){var E=Jn();Vn.flags|=a,E.memoizedState=Ou(1|l,p,void 0,w===void 0?null:w)}function ff(a,l,p,w){var E=Dr();w=w===void 0?null:w;var A=void 0;if(Zn!==null){var Y=Zn.memoizedState;if(A=Y.destroy,w!==null&&_c(w,Y.deps)){E.memoizedState=Ou(l,p,A,w);return}}Vn.flags|=a,E.memoizedState=Ou(1|l,p,A,w)}function Ag(a,l){return Pu(8390656,8,a,l)}function ap(a,l){return ff(2048,8,a,l)}function sp(a,l){return ff(4,2,a,l)}function lp(a,l){return ff(4,4,a,l)}function Fg(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function up(a,l,p){return p=p!=null?p.concat([a]):null,ff(4,4,Fg.bind(null,l,a),p)}function hf(){}function bo(a,l){var p=Dr();l=l===void 0?null:l;var w=p.memoizedState;return w!==null&&l!==null&&_c(l,w[1])?w[0]:(p.memoizedState=[a,l],a)}function Ji(a,l){var p=Dr();l=l===void 0?null:l;var w=p.memoizedState;return w!==null&&l!==null&&_c(l,w[1])?w[0]:(a=a(),p.memoizedState=[a,l],a)}function Og(a,l,p){return jl&21?(Oe(p,l)||(p=re(),Vn.lanes|=p,Vs|=p,a.baseState=!0),l):(a.baseState&&(a.baseState=!1,no=!0),a.memoizedState=p)}function A0(a,l){var p=ut;ut=p!==0&&4>p?p:4,a(!0);var w=Gt.transition;Gt.transition={};try{a(!1),l()}finally{ut=p,Gt.transition=w}}function Bc(){return Dr().memoizedState}function ju(a,l,p){var w=Ws(a);if(p={lane:w,action:p,hasEagerState:!1,eagerState:null,next:null},cp(a))jg(l,p);else if(p=eo(a,l,p,w),p!==null){var E=Do();Qi(p,a,w,E),dp(p,l,w)}}function Pg(a,l,p){var w=Ws(a),E={lane:w,action:p,hasEagerState:!1,eagerState:null,next:null};if(cp(a))jg(l,E);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var Y=l.lastRenderedState,ae=A(Y,p);if(E.hasEagerState=!0,E.eagerState=ae,Oe(ae,Y)){var pe=l.interleaved;pe===null?(E.next=E,Qd(l)):(E.next=pe.next,pe.next=E),l.interleaved=E;return}}catch{}p=eo(a,l,E,w),p!==null&&(E=Do(),Qi(p,a,w,E),dp(p,l,w))}}function cp(a){var l=a.alternate;return a===Vn||l!==null&&l===Vn}function jg(a,l){Rc=of=!0;var p=a.pending;p===null?l.next=l:(l.next=p.next,p.next=l),a.pending=l}function dp(a,l,p){if(p&4194240){var w=l.lanes;w&=a.pendingLanes,p|=w,l.lanes=p,nt(a,p)}}var Xa={readContext:wo,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},Hc={readContext:wo,useCallback:function(a,l){return Jn().memoizedState=[a,l===void 0?null:l],a},useContext:wo,useEffect:Ag,useImperativeHandle:function(a,l,p){return p=p!=null?p.concat([a]):null,Pu(4194308,4,Fg.bind(null,l,a),p)},useLayoutEffect:function(a,l){return Pu(4194308,4,a,l)},useInsertionEffect:function(a,l){return Pu(4,2,a,l)},useMemo:function(a,l){var p=Jn();return l=l===void 0?null:l,a=a(),p.memoizedState=[a,l],a},useReducer:function(a,l,p){var w=Jn();return l=p!==void 0?p(l):l,w.memoizedState=w.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},w.queue=a,a=a.dispatch=ju.bind(null,Vn,a),[w.memoizedState,a]},useRef:function(a){var l=Jn();return a={current:a},l.memoizedState=a},useState:Qa,useDebugValue:hf,useDeferredValue:function(a){return Jn().memoizedState=a},useTransition:function(){var a=Qa(!1),l=a[0];return a=A0.bind(null,a[1]),Jn().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,p){var w=Vn,E=Jn();if(Hn){if(p===void 0)throw Error(n(407));p=p()}else{if(p=l(),Nr===null)throw Error(n(349));jl&30||op(w,l,p)}E.memoizedState=p;var A={value:p,getSnapshot:l};return E.queue=A,Ag(df.bind(null,w,A,a),[a]),w.flags|=2048,Ou(9,cf.bind(null,w,A,p,l),void 0,null),p},useId:function(){var a=Jn(),l=Nr.identifierPrefix;if(Hn){var p=ya,w=ga;p=(w&~(1<<32-vr(w)-1)).toString(32)+p,l=":"+l+"R"+p,p=to++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=N0++,l=":"+l+"r"+p.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},F0={readContext:wo,useCallback:bo,useContext:wo,useEffect:ap,useImperativeHandle:up,useInsertionEffect:sp,useLayoutEffect:lp,useMemo:Ji,useReducer:lf,useRef:ip,useState:function(){return lf(Ll)},useDebugValue:hf,useDeferredValue:function(a){var l=Dr();return Og(l,Zn.memoizedState,a)},useTransition:function(){var a=lf(Ll)[0],l=Dr().memoizedState;return[a,l]},useMutableSource:rp,useSyncExternalStore:uf,useId:Bc,unstable_isNewReconciler:!1},Lg={readContext:wo,useCallback:bo,useContext:wo,useEffect:ap,useImperativeHandle:up,useInsertionEffect:sp,useLayoutEffect:lp,useMemo:Ji,useReducer:Fu,useRef:ip,useState:function(){return Fu(Ll)},useDebugValue:hf,useDeferredValue:function(a){var l=Dr();return Zn===null?l.memoizedState=a:Og(l,Zn.memoizedState,a)},useTransition:function(){var a=Fu(Ll)[0],l=Dr().memoizedState;return[a,l]},useMutableSource:rp,useSyncExternalStore:uf,useId:Bc,unstable_isNewReconciler:!1};function Rl(a,l){try{var p="",w=l;do p+=Ve(w),w=w.return;while(w);var E=p}catch(A){E=`
Error generating stack: `+A.message+`
`+A.stack}return{value:a,source:l,stack:E,digest:null}}function Lu(a,l,p){return{value:a,source:null,stack:p??null,digest:l??null}}function pf(a,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var mf=typeof WeakMap=="function"?WeakMap:Map;function gf(a,l,p){p=qi(-1,p),p.tag=3,p.payload={element:null};var w=l.value;return p.callback=function(){xf||(xf=!0,xp=w),pf(a,l)},p}function Uc(a,l,p){p=qi(-1,p),p.tag=3;var w=a.type.getDerivedStateFromError;if(typeof w=="function"){var E=l.value;p.payload=function(){return w(E)},p.callback=function(){pf(a,l)}}var A=a.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(p.callback=function(){pf(a,l),typeof w!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var Y=l.stack;this.componentDidCatch(l.value,{componentStack:Y!==null?Y:""})}),p}function Rg(a,l,p){var w=a.pingCache;if(w===null){w=a.pingCache=new mf;var E=new Set;w.set(l,E)}else E=w.get(l),E===void 0&&(E=new Set,w.set(l,E));E.has(p)||(E.add(p),a=H0.bind(null,a,l,p),l.then(a,a))}function fp(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function Yc(a,l,p,w,E){return a.mode&1?(a.flags|=65536,a.lanes=E,a):(a===l?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=qi(-1,1),l.tag=2,Ls(p,l,1))),p.lanes|=1),a)}var _g=P.ReactCurrentOwner,no=!1;function So(a,l,p,w){l.child=a===null?Xh(l,null,p,w):_s(l,a.child,p,w)}function hp(a,l,p,w,E){p=p.render;var A=l.ref;return Ps(l,E),w=af(a,l,p,w,A,E),p=sf(),a!==null&&!no?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~E,Ta(a,l,E)):(Hn&&p&&kc(l),l.flags|=1,So(a,l,w,E),l.child)}function Sa(a,l,p,w,E){if(a===null){var A=p.type;return typeof A=="function"&&!Pp(A)&&A.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=A,pp(a,l,A,w,E)):(a=Ff(p.type,null,w,l,l.mode,E),a.ref=l.ref,a.return=l,l.child=a)}if(A=a.child,!(a.lanes&E)){var Y=A.memoizedProps;if(p=p.compare,p=p!==null?p:mt,p(Y,w)&&a.ref===l.ref)return Ta(a,l,E)}return l.flags|=1,a=Gs(A,w),a.ref=l.ref,a.return=l,l.child=a}function pp(a,l,p,w,E){if(a!==null){var A=a.memoizedProps;if(mt(A,w)&&a.ref===l.ref)if(no=!1,l.pendingProps=w=A,(a.lanes&E)!==0)a.flags&131072&&(no=!0);else return l.lanes=a.lanes,Ta(a,l,E)}return yf(a,l,p,w,E)}function mp(a,l,p){var w=l.pendingProps,E=w.children,A=a!==null?a.memoizedState:null;if(w.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},jn(Uu,ei),ei|=p;else{if(!(p&1073741824))return a=A!==null?A.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,jn(Uu,ei),ei|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=A!==null?A.baseLanes:p,jn(Uu,ei),ei|=w}else A!==null?(w=A.baseLanes|p,l.memoizedState=null):w=p,jn(Uu,ei),ei|=w;return So(a,l,E,p),l.child}function Bg(a,l){var p=l.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function yf(a,l,p,w,E){var A=Oo(p)?vo:Kr.current;return A=xu(l,A),Ps(l,E),p=af(a,l,p,w,A,E),w=sf(),a!==null&&!no?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~E,Ta(a,l,E)):(Hn&&w&&kc(l),l.flags|=1,So(a,l,p,E),l.child)}function Hg(a,l,p,w,E){if(Oo(p)){var A=!0;yi(l)}else A=!1;if(Ps(l,E),l.stateNode===null)Ru(a,l),Kh(l,p,w),Qh(l,p,w,E),w=!0;else if(a===null){var Y=l.stateNode,ae=l.memoizedProps;Y.props=ae;var pe=Y.context,Pe=p.contextType;typeof Pe=="object"&&Pe!==null?Pe=wo(Pe):(Pe=Oo(p)?vo:Kr.current,Pe=xu(l,Pe));var Je=p.getDerivedStateFromProps,Qe=typeof Je=="function"||typeof Y.getSnapshotBeforeUpdate=="function";Qe||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ae!==w||pe!==Pe)&&Mg(l,Y,w,Pe),js=!1;var Ge=l.memoizedState;Y.state=Ge,Xd(l,w,Y,E),pe=l.memoizedState,ae!==w||Ge!==pe||Fo.current||js?(typeof Je=="function"&&(Jh(l,p,Je,w),pe=l.memoizedState),(ae=js||tf(l,p,ae,w,Ge,pe,Pe))?(Qe||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=w,l.memoizedState=pe),Y.props=w,Y.state=pe,Y.context=Pe,w=ae):(typeof Y.componentDidMount=="function"&&(l.flags|=4194308),w=!1)}else{Y=l.stateNode,xg(a,l),ae=l.memoizedProps,Pe=l.type===l.elementType?ae:Wi(l.type,ae),Y.props=Pe,Qe=l.pendingProps,Ge=Y.context,pe=p.contextType,typeof pe=="object"&&pe!==null?pe=wo(pe):(pe=Oo(p)?vo:Kr.current,pe=xu(l,pe));var gt=p.getDerivedStateFromProps;(Je=typeof gt=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ae!==Qe||Ge!==pe)&&Mg(l,Y,w,pe),js=!1,Ge=l.memoizedState,Y.state=Ge,Xd(l,w,Y,E);var bt=l.memoizedState;ae!==Qe||Ge!==bt||Fo.current||js?(typeof gt=="function"&&(Jh(l,p,gt,w),bt=l.memoizedState),(Pe=js||tf(l,p,Pe,w,Ge,bt,pe)||!1)?(Je||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(w,bt,pe),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(w,bt,pe)),typeof Y.componentDidUpdate=="function"&&(l.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof Y.componentDidUpdate!="function"||ae===a.memoizedProps&&Ge===a.memoizedState||(l.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ae===a.memoizedProps&&Ge===a.memoizedState||(l.flags|=1024),l.memoizedProps=w,l.memoizedState=bt),Y.props=w,Y.state=bt,Y.context=pe,w=Pe):(typeof Y.componentDidUpdate!="function"||ae===a.memoizedProps&&Ge===a.memoizedState||(l.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ae===a.memoizedProps&&Ge===a.memoizedState||(l.flags|=1024),w=!1)}return gp(a,l,p,w,A,E)}function gp(a,l,p,w,E,A){Bg(a,l);var Y=(l.flags&128)!==0;if(!w&&!Y)return E&&Sg(l,p,!1),Ta(a,l,A);w=l.stateNode,_g.current=l;var ae=Y&&typeof p.getDerivedStateFromError!="function"?null:w.render();return l.flags|=1,a!==null&&Y?(l.child=_s(l,a.child,null,A),l.child=_s(l,null,ae,A)):So(a,l,ae,A),l.memoizedState=w.state,E&&Sg(l,p,!0),l.child}function Da(a){var l=a.stateNode;l.pendingContext?wg(a,l.pendingContext,l.pendingContext!==l.context):l.context&&wg(a,l.context,!1),rf(a,l.containerInfo)}function vf(a,l,p,w,E){return wa(),ba(E),l.flags|=256,So(a,l,p,w),l.child}var zc={dehydrated:null,treeContext:null,retryLane:0};function Vc(a){return{baseLanes:a,cachePool:null,transitions:null}}function Zc(a,l,p){var w=l.pendingProps,E=Un.current,A=!1,Y=(l.flags&128)!==0,ae;if((ae=Y)||(ae=a!==null&&a.memoizedState===null?!1:(E&2)!==0),ae?(A=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(E|=1),jn(Un,E&1),a===null)return Po(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(l.mode&1?a.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(Y=w.children,a=w.fallback,A?(w=l.mode,A=l.child,Y={mode:"hidden",children:Y},!(w&1)&&A!==null?(A.childLanes=0,A.pendingProps=Y):A=Of(Y,w,0,null),a=Ul(a,w,p,null),A.return=l,a.return=l,A.sibling=a,l.child=A,l.child.memoizedState=Vc(p),l.memoizedState=zc,a):Us(l,Y));if(E=a.memoizedState,E!==null&&(ae=E.dehydrated,ae!==null))return wf(a,l,Y,w,ae,E,p);if(A){A=w.fallback,Y=l.mode,E=a.child,ae=E.sibling;var pe={mode:"hidden",children:w.children};return!(Y&1)&&l.child!==E?(w=l.child,w.childLanes=0,w.pendingProps=pe,l.deletions=null):(w=Gs(E,pe),w.subtreeFlags=E.subtreeFlags&14680064),ae!==null?A=Gs(ae,A):(A=Ul(A,Y,p,null),A.flags|=2),A.return=l,w.return=l,w.sibling=A,l.child=w,w=A,A=l.child,Y=a.child.memoizedState,Y=Y===null?Vc(p):{baseLanes:Y.baseLanes|p,cachePool:null,transitions:Y.transitions},A.memoizedState=Y,A.childLanes=a.childLanes&~p,l.memoizedState=zc,w}return A=a.child,a=A.sibling,w=Gs(A,{mode:"visible",children:w.children}),!(l.mode&1)&&(w.lanes=p),w.return=l,w.sibling=null,a!==null&&(p=l.deletions,p===null?(l.deletions=[a],l.flags|=16):p.push(a)),l.child=w,l.memoizedState=null,w}function Us(a,l){return l=Of({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function At(a,l,p,w){return w!==null&&ba(w),_s(l,a.child,null,p),a=Us(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function wf(a,l,p,w,E,A,Y){if(p)return l.flags&256?(l.flags&=-257,w=Lu(Error(n(422))),At(a,l,Y,w)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(A=w.fallback,E=l.mode,w=Of({mode:"visible",children:w.children},E,0,null),A=Ul(A,E,Y,null),A.flags|=2,w.return=l,A.return=l,w.sibling=A,l.child=w,l.mode&1&&_s(l,a.child,null,Y),l.child.memoizedState=Vc(Y),l.memoizedState=zc,A);if(!(l.mode&1))return At(a,l,Y,null);if(E.data==="$!"){if(w=E.nextSibling&&E.nextSibling.dataset,w)var ae=w.dgst;return w=ae,A=Error(n(419)),w=Lu(A,w,void 0),At(a,l,Y,w)}if(ae=(Y&a.childLanes)!==0,no||ae){if(w=Nr,w!==null){switch(Y&-Y){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=E&(w.suspendedLanes|Y)?0:E,E!==0&&E!==A.retryLane&&(A.retryLane=E,$i(a,E),Qi(w,a,E,-1))}return Fp(),w=Lu(Error(n(421))),At(a,l,Y,w)}return E.data==="$?"?(l.flags|=128,l.child=a.child,l=U0.bind(null,a),E._reactRetry=l,null):(a=A.treeContext,Jo=Ns(E.nextSibling),Xr=l,Hn=!0,Zi=null,a!==null&&(vi[wi++]=ga,vi[wi++]=ya,vi[wi++]=Nl,ga=a.id,ya=a.overflow,Nl=l),l=Us(l,w.children),l.flags|=4096,l)}function bf(a,l,p){a.lanes|=l;var w=a.alternate;w!==null&&(w.lanes|=l),bi(a.return,l,p)}function es(a,l,p,w,E){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:w,tail:p,tailMode:E}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=w,A.tail=p,A.tailMode=E)}function Ug(a,l,p){var w=l.pendingProps,E=w.revealOrder,A=w.tail;if(So(a,l,w.children,p),w=Un.current,w&2)w=w&1|2,l.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&bf(a,p,l);else if(a.tag===19)bf(a,p,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}w&=1}if(jn(Un,w),!(l.mode&1))l.memoizedState=null;else switch(E){case"forwards":for(p=l.child,E=null;p!==null;)a=p.alternate,a!==null&&jc(a)===null&&(E=p),p=p.sibling;p=E,p===null?(E=l.child,l.child=null):(E=p.sibling,p.sibling=null),es(l,!1,E,p,A);break;case"backwards":for(p=null,E=l.child,l.child=null;E!==null;){if(a=E.alternate,a!==null&&jc(a)===null){l.child=E;break}a=E.sibling,E.sibling=p,p=E,E=a}es(l,!0,p,null,A);break;case"together":es(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ru(a,l){!(l.mode&1)&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Ta(a,l,p){if(a!==null&&(l.dependencies=a.dependencies),Vs|=l.lanes,!(p&l.childLanes))return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,p=Gs(a,a.pendingProps),l.child=p,p.return=l;a.sibling!==null;)a=a.sibling,p=p.sibling=Gs(a,a.pendingProps),p.return=l;p.sibling=null}return l.child}function ro(a,l,p){switch(l.tag){case 3:Da(l),wa();break;case 5:ep(l);break;case 1:Oo(l.type)&&yi(l);break;case 4:rf(l,l.stateNode.containerInfo);break;case 10:var w=l.type._context,E=l.memoizedProps.value;jn(Ol,w._currentValue),w._currentValue=E;break;case 13:if(w=l.memoizedState,w!==null)return w.dehydrated!==null?(jn(Un,Un.current&1),l.flags|=128,null):p&l.child.childLanes?Zc(a,l,p):(jn(Un,Un.current&1),a=Ta(a,l,p),a!==null?a.sibling:null);jn(Un,Un.current&1);break;case 19:if(w=(p&l.childLanes)!==0,a.flags&128){if(w)return Ug(a,l,p);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),jn(Un,Un.current),w)break;return null;case 22:case 23:return l.lanes=0,mp(a,l,p)}return Ta(a,l,p)}var Yg,yp,vp,zg;Yg=function(a,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},yp=function(){},vp=function(a,l,p,w){var E=a.memoizedProps;if(E!==w){a=l.stateNode,Hs(Gi.current);var A=null;switch(p){case"input":E=ct(a,E),w=ct(a,w),A=[];break;case"select":E=J({},E,{value:void 0}),w=J({},w,{value:void 0}),A=[];break;case"textarea":E=rn(a,E),w=rn(a,w),A=[];break;default:typeof E.onClick!="function"&&typeof w.onClick=="function"&&(a.onclick=Ud)}li(p,w);var Y;p=null;for(Pe in E)if(!w.hasOwnProperty(Pe)&&E.hasOwnProperty(Pe)&&E[Pe]!=null)if(Pe==="style"){var ae=E[Pe];for(Y in ae)ae.hasOwnProperty(Y)&&(p||(p={}),p[Y]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(o.hasOwnProperty(Pe)?A||(A=[]):(A=A||[]).push(Pe,null));for(Pe in w){var pe=w[Pe];if(ae=E!=null?E[Pe]:void 0,w.hasOwnProperty(Pe)&&pe!==ae&&(pe!=null||ae!=null))if(Pe==="style")if(ae){for(Y in ae)!ae.hasOwnProperty(Y)||pe&&pe.hasOwnProperty(Y)||(p||(p={}),p[Y]="");for(Y in pe)pe.hasOwnProperty(Y)&&ae[Y]!==pe[Y]&&(p||(p={}),p[Y]=pe[Y])}else p||(A||(A=[]),A.push(Pe,p)),p=pe;else Pe==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,ae=ae?ae.__html:void 0,pe!=null&&ae!==pe&&(A=A||[]).push(Pe,pe)):Pe==="children"?typeof pe!="string"&&typeof pe!="number"||(A=A||[]).push(Pe,""+pe):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(o.hasOwnProperty(Pe)?(pe!=null&&Pe==="onScroll"&&_n("scroll",a),A||ae===pe||(A=[])):(A=A||[]).push(Pe,pe))}p&&(A=A||[]).push("style",p);var Pe=A;(l.updateQueue=Pe)&&(l.flags|=4)}},zg=function(a,l,p,w){p!==w&&(l.flags|=4)};function _u(a,l){if(!Hn)switch(a.tailMode){case"hidden":l=a.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:w.sibling=null}}function oo(a){var l=a.alternate!==null&&a.alternate.child===a.child,p=0,w=0;if(l)for(var E=a.child;E!==null;)p|=E.lanes|E.childLanes,w|=E.subtreeFlags&14680064,w|=E.flags&14680064,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)p|=E.lanes|E.childLanes,w|=E.subtreeFlags,w|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=w,a.childLanes=p,l}function O0(a,l,p){var w=l.pendingProps;switch(Fl(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oo(l),null;case 1:return Oo(l.type)&&Zd(),oo(l),null;case 3:return w=l.stateNode,Nu(),Bn(Fo),Bn(Kr),np(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(a===null||a.child===null)&&(Nc(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Zi!==null&&(kp(Zi),Zi=null))),yp(a,l),oo(l),null;case 5:tp(l);var E=Hs(Pc.current);if(p=l.type,a!==null&&l.stateNode!=null)vp(a,l,p,w,E),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!w){if(l.stateNode===null)throw Error(n(166));return oo(l),null}if(a=Hs(Gi.current),Nc(l)){w=l.stateNode,p=l.type;var A=l.memoizedProps;switch(w[pa]=l,w[As]=A,a=(l.mode&1)!==0,p){case"dialog":_n("cancel",w),_n("close",w);break;case"iframe":case"object":case"embed":_n("load",w);break;case"video":case"audio":for(E=0;E<qa.length;E++)_n(qa[E],w);break;case"source":_n("error",w);break;case"img":case"image":case"link":_n("error",w),_n("load",w);break;case"details":_n("toggle",w);break;case"input":Tt(w,A),_n("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!A.multiple},_n("invalid",w);break;case"textarea":Xt(w,A),_n("invalid",w)}li(p,A),E=null;for(var Y in A)if(A.hasOwnProperty(Y)){var ae=A[Y];Y==="children"?typeof ae=="string"?w.textContent!==ae&&(A.suppressHydrationWarning!==!0&&Ec(w.textContent,ae,a),E=["children",ae]):typeof ae=="number"&&w.textContent!==""+ae&&(A.suppressHydrationWarning!==!0&&Ec(w.textContent,ae,a),E=["children",""+ae]):o.hasOwnProperty(Y)&&ae!=null&&Y==="onScroll"&&_n("scroll",w)}switch(p){case"input":Fe(w),Yt(w,A,!0);break;case"textarea":Fe(w),lr(w);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(w.onclick=Ud)}w=E,l.updateQueue=w,w!==null&&(l.flags|=4)}else{Y=E.nodeType===9?E:E.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=$r(p)),a==="http://www.w3.org/1999/xhtml"?p==="script"?(a=Y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof w.is=="string"?a=Y.createElement(p,{is:w.is}):(a=Y.createElement(p),p==="select"&&(Y=a,w.multiple?Y.multiple=!0:w.size&&(Y.size=w.size))):a=Y.createElementNS(a,p),a[pa]=l,a[As]=w,Yg(a,l,!1,!1),l.stateNode=a;e:{switch(Y=Ri(p,w),p){case"dialog":_n("cancel",a),_n("close",a),E=w;break;case"iframe":case"object":case"embed":_n("load",a),E=w;break;case"video":case"audio":for(E=0;E<qa.length;E++)_n(qa[E],a);E=w;break;case"source":_n("error",a),E=w;break;case"img":case"image":case"link":_n("error",a),_n("load",a),E=w;break;case"details":_n("toggle",a),E=w;break;case"input":Tt(a,w),E=ct(a,w),_n("invalid",a);break;case"option":E=w;break;case"select":a._wrapperState={wasMultiple:!!w.multiple},E=J({},w,{value:void 0}),_n("invalid",a);break;case"textarea":Xt(a,w),E=rn(a,w),_n("invalid",a);break;default:E=w}li(p,E),ae=E;for(A in ae)if(ae.hasOwnProperty(A)){var pe=ae[A];A==="style"?Li(a,pe):A==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,pe!=null&&Pi(a,pe)):A==="children"?typeof pe=="string"?(p!=="textarea"||pe!=="")&&Eo(a,pe):typeof pe=="number"&&Eo(a,""+pe):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(o.hasOwnProperty(A)?pe!=null&&A==="onScroll"&&_n("scroll",a):pe!=null&&B(a,A,pe,Y))}switch(p){case"input":Fe(a),Yt(a,w,!1);break;case"textarea":Fe(a),lr(a);break;case"option":w.value!=null&&a.setAttribute("value",""+qe(w.value));break;case"select":a.multiple=!!w.multiple,A=w.value,A!=null?tn(a,!!w.multiple,A,!1):w.defaultValue!=null&&tn(a,!!w.multiple,w.defaultValue,!0);break;default:typeof E.onClick=="function"&&(a.onclick=Ud)}switch(p){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return oo(l),null;case 6:if(a&&l.stateNode!=null)zg(a,l,a.memoizedProps,w);else{if(typeof w!="string"&&l.stateNode===null)throw Error(n(166));if(p=Hs(Pc.current),Hs(Gi.current),Nc(l)){if(w=l.stateNode,p=l.memoizedProps,w[pa]=l,(A=w.nodeValue!==p)&&(a=Xr,a!==null))switch(a.tag){case 3:Ec(w.nodeValue,p,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Ec(w.nodeValue,p,(a.mode&1)!==0)}A&&(l.flags|=4)}else w=(p.nodeType===9?p:p.ownerDocument).createTextNode(w),w[pa]=l,l.stateNode=w}return oo(l),null;case 13:if(Bn(Un),w=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Hn&&Jo!==null&&l.mode&1&&!(l.flags&128))$h(),wa(),l.flags|=98560,A=!1;else if(A=Nc(l),w!==null&&w.dehydrated!==null){if(a===null){if(!A)throw Error(n(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[pa]=l}else wa(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;oo(l),A=!1}else Zi!==null&&(kp(Zi),Zi=null),A=!0;if(!A)return l.flags&65536?l:null}return l.flags&128?(l.lanes=p,l):(w=w!==null,w!==(a!==null&&a.memoizedState!==null)&&w&&(l.child.flags|=8192,l.mode&1&&(a===null||Un.current&1?Tr===0&&(Tr=3):Fp())),l.updateQueue!==null&&(l.flags|=4),oo(l),null);case 4:return Nu(),yp(a,l),a===null&&Ms(l.stateNode.containerInfo),oo(l),null;case 10:return Kd(l.type._context),oo(l),null;case 17:return Oo(l.type)&&Zd(),oo(l),null;case 19:if(Bn(Un),A=l.memoizedState,A===null)return oo(l),null;if(w=(l.flags&128)!==0,Y=A.rendering,Y===null)if(w)_u(A,!1);else{if(Tr!==0||a!==null&&a.flags&128)for(a=l.child;a!==null;){if(Y=jc(a),Y!==null){for(l.flags|=128,_u(A,!1),w=Y.updateQueue,w!==null&&(l.updateQueue=w,l.flags|=4),l.subtreeFlags=0,w=p,p=l.child;p!==null;)A=p,a=w,A.flags&=14680066,Y=A.alternate,Y===null?(A.childLanes=0,A.lanes=a,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=Y.childLanes,A.lanes=Y.lanes,A.child=Y.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=Y.memoizedProps,A.memoizedState=Y.memoizedState,A.updateQueue=Y.updateQueue,A.type=Y.type,a=Y.dependencies,A.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),p=p.sibling;return jn(Un,Un.current&1|2),l.child}a=a.sibling}A.tail!==null&&Sn()>zu&&(l.flags|=128,w=!0,_u(A,!1),l.lanes=4194304)}else{if(!w)if(a=jc(Y),a!==null){if(l.flags|=128,w=!0,p=a.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),_u(A,!0),A.tail===null&&A.tailMode==="hidden"&&!Y.alternate&&!Hn)return oo(l),null}else 2*Sn()-A.renderingStartTime>zu&&p!==1073741824&&(l.flags|=128,w=!0,_u(A,!1),l.lanes=4194304);A.isBackwards?(Y.sibling=l.child,l.child=Y):(p=A.last,p!==null?p.sibling=Y:l.child=Y,A.last=Y)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=Sn(),l.sibling=null,p=Un.current,jn(Un,w?p&1|2:p&1),l):(oo(l),null);case 22:case 23:return Ap(),w=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==w&&(l.flags|=8192),w&&l.mode&1?ei&1073741824&&(oo(l),l.subtreeFlags&6&&(l.flags|=8192)):oo(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function P0(a,l){switch(Fl(l),l.tag){case 1:return Oo(l.type)&&Zd(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Nu(),Bn(Fo),Bn(Kr),np(),a=l.flags,a&65536&&!(a&128)?(l.flags=a&-65537|128,l):null;case 5:return tp(l),null;case 13:if(Bn(Un),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));wa()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Bn(Un),null;case 4:return Nu(),null;case 10:return Kd(l.type._context),null;case 22:case 23:return Ap(),null;case 24:return null;default:return null}}var Si=!1,Dn=!1,wp=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Ys(a,l){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(w){Kn(a,l,w)}else p.current=null}function bp(a,l,p){try{p()}catch(w){Kn(a,l,w)}}var Vg=!1;function Wc(a,l){if(xc=$o,a=Mn(),wc(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var w=p.getSelection&&p.getSelection();if(w&&w.rangeCount!==0){p=w.anchorNode;var E=w.anchorOffset,A=w.focusNode;w=w.focusOffset;try{p.nodeType,A.nodeType}catch{p=null;break e}var Y=0,ae=-1,pe=-1,Pe=0,Je=0,Qe=a,Ge=null;t:for(;;){for(var gt;Qe!==p||E!==0&&Qe.nodeType!==3||(ae=Y+E),Qe!==A||w!==0&&Qe.nodeType!==3||(pe=Y+w),Qe.nodeType===3&&(Y+=Qe.nodeValue.length),(gt=Qe.firstChild)!==null;)Ge=Qe,Qe=gt;for(;;){if(Qe===a)break t;if(Ge===p&&++Pe===E&&(ae=Y),Ge===A&&++Je===w&&(pe=Y),(gt=Qe.nextSibling)!==null)break;Qe=Ge,Ge=Qe.parentNode}Qe=gt}p=ae===-1||pe===-1?null:{start:ae,end:pe}}else p=null}p=p||{start:0,end:0}}else p=null;for(Ml={focusedElem:a,selectionRange:p},$o=!1,vt=l;vt!==null;)if(l=vt,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,vt=a;else for(;vt!==null;){l=vt;try{var bt=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var Dt=bt.memoizedProps,ir=bt.memoizedState,Ee=l.stateNode,ve=Ee.getSnapshotBeforeUpdate(l.elementType===l.type?Dt:Wi(l.type,Dt),ir);Ee.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Ce=l.stateNode.containerInfo;Ce.nodeType===1?Ce.textContent="":Ce.nodeType===9&&Ce.documentElement&&Ce.removeChild(Ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(rt){Kn(l,l.return,rt)}if(a=l.sibling,a!==null){a.return=l.return,vt=a;break}vt=l.return}return bt=Vg,Vg=!1,bt}function Bu(a,l,p){var w=l.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var E=w=w.next;do{if((E.tag&a)===a){var A=E.destroy;E.destroy=void 0,A!==void 0&&bp(l,p,A)}E=E.next}while(E!==w)}}function $c(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&a)===a){var w=p.create;p.destroy=w()}p=p.next}while(p!==l)}}function Sp(a){var l=a.ref;if(l!==null){var p=a.stateNode;switch(a.tag){case 5:a=p;break;default:a=p}typeof l=="function"?l(a):l.current=a}}function Zg(a){var l=a.alternate;l!==null&&(a.alternate=null,Zg(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[pa],delete l[As],delete l[zd],delete l[q],delete l[Iu])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Wg(a){return a.tag===5||a.tag===3||a.tag===4}function $g(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Wg(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Sf(a,l,p){var w=a.tag;if(w===5||w===6)a=a.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(a,l):p.insertBefore(a,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(a,p)):(l=p,l.appendChild(a)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Ud));else if(w!==4&&(a=a.child,a!==null))for(Sf(a,l,p),a=a.sibling;a!==null;)Sf(a,l,p),a=a.sibling}function Df(a,l,p){var w=a.tag;if(w===5||w===6)a=a.stateNode,l?p.insertBefore(a,l):p.appendChild(a);else if(w!==4&&(a=a.child,a!==null))for(Df(a,l,p),a=a.sibling;a!==null;)Df(a,l,p),a=a.sibling}var Ur=null,Qo=!1;function ts(a,l,p){for(p=p.child;p!==null;)Hu(a,l,p),p=p.sibling}function Hu(a,l,p){if(po&&typeof po.onCommitFiberUnmount=="function")try{po.onCommitFiberUnmount(zo,p)}catch{}switch(p.tag){case 5:Dn||Ys(p,l);case 6:var w=Ur,E=Qo;Ur=null,ts(a,l,p),Ur=w,Qo=E,Ur!==null&&(Qo?(a=Ur,p=p.stateNode,a.nodeType===8?a.parentNode.removeChild(p):a.removeChild(p)):Ur.removeChild(p.stateNode));break;case 18:Ur!==null&&(Qo?(a=Ur,p=p.stateNode,a.nodeType===8?Vh(a.parentNode,p):a.nodeType===1&&Vh(a,p),an(a)):Vh(Ur,p.stateNode));break;case 4:w=Ur,E=Qo,Ur=p.stateNode.containerInfo,Qo=!0,ts(a,l,p),Ur=w,Qo=E;break;case 0:case 11:case 14:case 15:if(!Dn&&(w=p.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){E=w=w.next;do{var A=E,Y=A.destroy;A=A.tag,Y!==void 0&&(A&2||A&4)&&bp(p,l,Y),E=E.next}while(E!==w)}ts(a,l,p);break;case 1:if(!Dn&&(Ys(p,l),w=p.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=p.memoizedProps,w.state=p.memoizedState,w.componentWillUnmount()}catch(ae){Kn(p,l,ae)}ts(a,l,p);break;case 21:ts(a,l,p);break;case 22:p.mode&1?(Dn=(w=Dn)||p.memoizedState!==null,ts(a,l,p),Dn=w):ts(a,l,p);break;default:ts(a,l,p)}}function Tf(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new wp),l.forEach(function(w){var E=Y0.bind(null,a,w);p.has(w)||(p.add(w),w.then(E,E))})}}function Di(a,l){var p=l.deletions;if(p!==null)for(var w=0;w<p.length;w++){var E=p[w];try{var A=a,Y=l,ae=Y;e:for(;ae!==null;){switch(ae.tag){case 5:Ur=ae.stateNode,Qo=!1;break e;case 3:Ur=ae.stateNode.containerInfo,Qo=!0;break e;case 4:Ur=ae.stateNode.containerInfo,Qo=!0;break e}ae=ae.return}if(Ur===null)throw Error(n(160));Hu(A,Y,E),Ur=null,Qo=!1;var pe=E.alternate;pe!==null&&(pe.return=null),E.return=null}catch(Pe){Kn(E,l,Pe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Dp(l,a),l=l.sibling}function Dp(a,l){var p=a.alternate,w=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Di(l,a),Xo(a),w&4){try{Bu(3,a,a.return),$c(3,a)}catch(Dt){Kn(a,a.return,Dt)}try{Bu(5,a,a.return)}catch(Dt){Kn(a,a.return,Dt)}}break;case 1:Di(l,a),Xo(a),w&512&&p!==null&&Ys(p,p.return);break;case 5:if(Di(l,a),Xo(a),w&512&&p!==null&&Ys(p,p.return),a.flags&32){var E=a.stateNode;try{Eo(E,"")}catch(Dt){Kn(a,a.return,Dt)}}if(w&4&&(E=a.stateNode,E!=null)){var A=a.memoizedProps,Y=p!==null?p.memoizedProps:A,ae=a.type,pe=a.updateQueue;if(a.updateQueue=null,pe!==null)try{ae==="input"&&A.type==="radio"&&A.name!=null&&xt(E,A),Ri(ae,Y);var Pe=Ri(ae,A);for(Y=0;Y<pe.length;Y+=2){var Je=pe[Y],Qe=pe[Y+1];Je==="style"?Li(E,Qe):Je==="dangerouslySetInnerHTML"?Pi(E,Qe):Je==="children"?Eo(E,Qe):B(E,Je,Qe,Pe)}switch(ae){case"input":_t(E,A);break;case"textarea":Ln(E,A);break;case"select":var Ge=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!A.multiple;var gt=A.value;gt!=null?tn(E,!!A.multiple,gt,!1):Ge!==!!A.multiple&&(A.defaultValue!=null?tn(E,!!A.multiple,A.defaultValue,!0):tn(E,!!A.multiple,A.multiple?[]:"",!1))}E[As]=A}catch(Dt){Kn(a,a.return,Dt)}}break;case 6:if(Di(l,a),Xo(a),w&4){if(a.stateNode===null)throw Error(n(162));E=a.stateNode,A=a.memoizedProps;try{E.nodeValue=A}catch(Dt){Kn(a,a.return,Dt)}}break;case 3:if(Di(l,a),Xo(a),w&4&&p!==null&&p.memoizedState.isDehydrated)try{an(l.containerInfo)}catch(Dt){Kn(a,a.return,Dt)}break;case 4:Di(l,a),Xo(a);break;case 13:Di(l,a),Xo(a),E=a.child,E.flags&8192&&(A=E.memoizedState!==null,E.stateNode.isHidden=A,!A||E.alternate!==null&&E.alternate.memoizedState!==null||(Ef=Sn())),w&4&&Tf(a);break;case 22:if(Je=p!==null&&p.memoizedState!==null,a.mode&1?(Dn=(Pe=Dn)||Je,Di(l,a),Dn=Pe):Di(l,a),Xo(a),w&8192){if(Pe=a.memoizedState!==null,(a.stateNode.isHidden=Pe)&&!Je&&a.mode&1)for(vt=a,Je=a.child;Je!==null;){for(Qe=vt=Je;vt!==null;){switch(Ge=vt,gt=Ge.child,Ge.tag){case 0:case 11:case 14:case 15:Bu(4,Ge,Ge.return);break;case 1:Ys(Ge,Ge.return);var bt=Ge.stateNode;if(typeof bt.componentWillUnmount=="function"){w=Ge,p=Ge.return;try{l=w,bt.props=l.memoizedProps,bt.state=l.memoizedState,bt.componentWillUnmount()}catch(Dt){Kn(w,p,Dt)}}break;case 5:Ys(Ge,Ge.return);break;case 22:if(Ge.memoizedState!==null){Gg(Qe);continue}}gt!==null?(gt.return=Ge,vt=gt):Gg(Qe)}Je=Je.sibling}e:for(Je=null,Qe=a;;){if(Qe.tag===5){if(Je===null){Je=Qe;try{E=Qe.stateNode,Pe?(A=E.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(ae=Qe.stateNode,pe=Qe.memoizedProps.style,Y=pe!=null&&pe.hasOwnProperty("display")?pe.display:null,ae.style.display=xo("display",Y))}catch(Dt){Kn(a,a.return,Dt)}}}else if(Qe.tag===6){if(Je===null)try{Qe.stateNode.nodeValue=Pe?"":Qe.memoizedProps}catch(Dt){Kn(a,a.return,Dt)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===a)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===a)break e;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===a)break e;Je===Qe&&(Je=null),Qe=Qe.return}Je===Qe&&(Je=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}break;case 19:Di(l,a),Xo(a),w&4&&Tf(a);break;case 21:break;default:Di(l,a),Xo(a)}}function Xo(a){var l=a.flags;if(l&2){try{e:{for(var p=a.return;p!==null;){if(Wg(p)){var w=p;break e}p=p.return}throw Error(n(160))}switch(w.tag){case 5:var E=w.stateNode;w.flags&32&&(Eo(E,""),w.flags&=-33);var A=$g(a);Df(a,A,E);break;case 3:case 4:var Y=w.stateNode.containerInfo,ae=$g(a);Sf(a,ae,Y);break;default:throw Error(n(161))}}catch(pe){Kn(a,a.return,pe)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function qg(a,l,p){vt=a,Ki(a)}function Ki(a,l,p){for(var w=(a.mode&1)!==0;vt!==null;){var E=vt,A=E.child;if(E.tag===22&&w){var Y=E.memoizedState!==null||Si;if(!Y){var ae=E.alternate,pe=ae!==null&&ae.memoizedState!==null||Dn;ae=Si;var Pe=Dn;if(Si=Y,(Dn=pe)&&!Pe)for(vt=E;vt!==null;)Y=vt,pe=Y.child,Y.tag===22&&Y.memoizedState!==null?Tp(E):pe!==null?(pe.return=Y,vt=pe):Tp(E);for(;A!==null;)vt=A,Ki(A),A=A.sibling;vt=E,Si=ae,Dn=Pe}zs(a)}else E.subtreeFlags&8772&&A!==null?(A.return=E,vt=A):zs(a)}}function zs(a){for(;vt!==null;){var l=vt;if(l.flags&8772){var p=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:Dn||$c(5,l);break;case 1:var w=l.stateNode;if(l.flags&4&&!Dn)if(p===null)w.componentDidMount();else{var E=l.elementType===l.type?p.memoizedProps:Wi(l.type,p.memoizedProps);w.componentDidUpdate(E,p.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var A=l.updateQueue;A!==null&&Cg(l,A,w);break;case 3:var Y=l.updateQueue;if(Y!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}Cg(l,Y,p)}break;case 5:var ae=l.stateNode;if(p===null&&l.flags&4){p=ae;var pe=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":pe.autoFocus&&p.focus();break;case"img":pe.src&&(p.src=pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Pe=l.alternate;if(Pe!==null){var Je=Pe.memoizedState;if(Je!==null){var Qe=Je.dehydrated;Qe!==null&&an(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dn||l.flags&512&&Sp(l)}catch(Ge){Kn(l,l.return,Ge)}}if(l===a){vt=null;break}if(p=l.sibling,p!==null){p.return=l.return,vt=p;break}vt=l.return}}function Gg(a){for(;vt!==null;){var l=vt;if(l===a){vt=null;break}var p=l.sibling;if(p!==null){p.return=l.return,vt=p;break}vt=l.return}}function Tp(a){for(;vt!==null;){var l=vt;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{$c(4,l)}catch(pe){Kn(l,p,pe)}break;case 1:var w=l.stateNode;if(typeof w.componentDidMount=="function"){var E=l.return;try{w.componentDidMount()}catch(pe){Kn(l,E,pe)}}var A=l.return;try{Sp(l)}catch(pe){Kn(l,A,pe)}break;case 5:var Y=l.return;try{Sp(l)}catch(pe){Kn(l,Y,pe)}}}catch(pe){Kn(l,l.return,pe)}if(l===a){vt=null;break}var ae=l.sibling;if(ae!==null){ae.return=l.return,vt=ae;break}vt=l.return}}var j0=Math.ceil,If=P.ReactCurrentDispatcher,Ip=P.ReactCurrentOwner,Ti=P.ReactCurrentBatchConfig,dn=0,Nr=null,fr=null,Yr=0,ei=0,Uu=Ao(0),Tr=0,Yu=null,Vs=0,qc=0,Ep=0,Gc=null,jo=null,Ef=0,zu=1/0,ns=null,xf=!1,xp=null,Zs=null,Cf=!1,Ir=null,Mf=0,Jc=0,Cp=null,Kc=-1,kf=0;function Do(){return dn&6?Sn():Kc!==-1?Kc:Kc=Sn()}function Ws(a){return a.mode&1?dn&2&&Yr!==0?Yr&-Yr:Eg.transition!==null?(kf===0&&(kf=re()),kf):(a=ut,a!==0||(a=window.event,a=a===void 0?16:hc(a.type)),a):1}function Qi(a,l,p,w){if(50<Jc)throw Jc=0,Cp=null,Error(n(185));Te(a,p,w),(!(dn&2)||a!==Nr)&&(a===Nr&&(!(dn&2)&&(qc|=p),Tr===4&&$s(a,Yr)),io(a,w),p===1&&dn===0&&!(l.mode&1)&&(zu=Sn()+500,Wd&&Os()))}function io(a,l){var p=a.callbackNode;_(a,l);var w=Zo(a,a===Nr?Yr:0);if(w===0)p!==null&&vl(p),a.callbackNode=null,a.callbackPriority=0;else if(l=w&-w,a.callbackPriority!==l){if(p!=null&&vl(p),l===1)a.tag===0?kl(Kg.bind(null,a)):Dg(Kg.bind(null,a)),Yd(function(){!(dn&6)&&Os()}),p=null;else{switch(Nt(w)){case 1:p=ps;break;case 4:p=ms;break;case 16:p=Hi;break;case 536870912:p=ui;break;default:p=Hi}p=oy(p,Jg.bind(null,a))}a.callbackPriority=l,a.callbackNode=p}}function Jg(a,l){if(Kc=-1,kf=0,dn&6)throw Error(n(327));var p=a.callbackNode;if(qs()&&a.callbackNode!==p)return null;var w=Zo(a,a===Nr?Yr:0);if(w===0)return null;if(w&30||w&a.expiredLanes||l)l=Nf(a,w);else{l=w;var E=dn;dn|=2;var A=Xg();(Nr!==a||Yr!==l)&&(ns=null,zu=Sn()+500,Bl(a,l));do try{_0();break}catch(ae){Qg(a,ae)}while(!0);Ac(),If.current=A,dn=E,fr!==null?l=0:(Nr=null,Yr=0,l=Tr)}if(l!==0){if(l===2&&(E=G(a),E!==0&&(w=E,l=Mp(a,E))),l===1)throw p=Yu,Bl(a,0),$s(a,w),io(a,Sn()),p;if(l===6)$s(a,w);else{if(E=a.current.alternate,!(w&30)&&!L0(E)&&(l=Nf(a,w),l===2&&(A=G(a),A!==0&&(w=A,l=Mp(a,A))),l===1))throw p=Yu,Bl(a,0),$s(a,w),io(a,Sn()),p;switch(a.finishedWork=E,a.finishedLanes=w,l){case 0:case 1:throw Error(n(345));case 2:Hl(a,jo,ns);break;case 3:if($s(a,w),(w&130023424)===w&&(l=Ef+500-Sn(),10<l)){if(Zo(a,0)!==0)break;if(E=a.suspendedLanes,(E&w)!==w){Do(),a.pingedLanes|=a.suspendedLanes&E;break}a.timeoutHandle=ks(Hl.bind(null,a,jo,ns),l);break}Hl(a,jo,ns);break;case 4:if($s(a,w),(w&4194240)===w)break;for(l=a.eventTimes,E=-1;0<w;){var Y=31-vr(w);A=1<<Y,Y=l[Y],Y>E&&(E=Y),w&=~A}if(w=E,w=Sn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*j0(w/1960))-w,10<w){a.timeoutHandle=ks(Hl.bind(null,a,jo,ns),w);break}Hl(a,jo,ns);break;case 5:Hl(a,jo,ns);break;default:throw Error(n(329))}}}return io(a,Sn()),a.callbackNode===p?Jg.bind(null,a):null}function Mp(a,l){var p=Gc;return a.current.memoizedState.isDehydrated&&(Bl(a,l).flags|=256),a=Nf(a,l),a!==2&&(l=jo,jo=p,l!==null&&kp(l)),a}function kp(a){jo===null?jo=a:jo.push.apply(jo,a)}function L0(a){for(var l=a;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var w=0;w<p.length;w++){var E=p[w],A=E.getSnapshot;E=E.value;try{if(!Oe(A(),E))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function $s(a,l){for(l&=~Ep,l&=~qc,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var p=31-vr(l),w=1<<p;a[p]=-1,l&=~w}}function Kg(a){if(dn&6)throw Error(n(327));qs();var l=Zo(a,0);if(!(l&1))return io(a,Sn()),null;var p=Nf(a,l);if(a.tag!==0&&p===2){var w=G(a);w!==0&&(l=w,p=Mp(a,w))}if(p===1)throw p=Yu,Bl(a,0),$s(a,l),io(a,Sn()),p;if(p===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Hl(a,jo,ns),io(a,Sn()),null}function Np(a,l){var p=dn;dn|=1;try{return a(l)}finally{dn=p,dn===0&&(zu=Sn()+500,Wd&&Os())}}function _l(a){Ir!==null&&Ir.tag===0&&!(dn&6)&&qs();var l=dn;dn|=1;var p=Ti.transition,w=ut;try{if(Ti.transition=null,ut=1,a)return a()}finally{ut=w,Ti.transition=p,dn=l,!(dn&6)&&Os()}}function Ap(){ei=Uu.current,Bn(Uu)}function Bl(a,l){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==-1&&(a.timeoutHandle=-1,Mc(p)),fr!==null)for(p=fr.return;p!==null;){var w=p;switch(Fl(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Zd();break;case 3:Nu(),Bn(Fo),Bn(Kr),np();break;case 5:tp(w);break;case 4:Nu();break;case 13:Bn(Un);break;case 19:Bn(Un);break;case 10:Kd(w.type._context);break;case 22:case 23:Ap()}p=p.return}if(Nr=a,fr=a=Gs(a.current,null),Yr=ei=l,Tr=0,Yu=null,Ep=qc=Vs=0,jo=Gc=null,Ko!==null){for(l=0;l<Ko.length;l++)if(p=Ko[l],w=p.interleaved,w!==null){p.interleaved=null;var E=w.next,A=p.pending;if(A!==null){var Y=A.next;A.next=E,w.next=Y}p.pending=w}Ko=null}return a}function Qg(a,l){do{var p=fr;try{if(Ac(),Au.current=Xa,of){for(var w=Vn.memoizedState;w!==null;){var E=w.queue;E!==null&&(E.pending=null),w=w.next}of=!1}if(jl=0,br=Zn=Vn=null,Rc=!1,to=0,Ip.current=null,p===null||p.return===null){Tr=1,Yu=l,fr=null;break}e:{var A=a,Y=p.return,ae=p,pe=l;if(l=Yr,ae.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Pe=pe,Je=ae,Qe=Je.tag;if(!(Je.mode&1)&&(Qe===0||Qe===11||Qe===15)){var Ge=Je.alternate;Ge?(Je.updateQueue=Ge.updateQueue,Je.memoizedState=Ge.memoizedState,Je.lanes=Ge.lanes):(Je.updateQueue=null,Je.memoizedState=null)}var gt=fp(Y);if(gt!==null){gt.flags&=-257,Yc(gt,Y,ae,A,l),gt.mode&1&&Rg(A,Pe,l),l=gt,pe=Pe;var bt=l.updateQueue;if(bt===null){var Dt=new Set;Dt.add(pe),l.updateQueue=Dt}else bt.add(pe);break e}else{if(!(l&1)){Rg(A,Pe,l),Fp();break e}pe=Error(n(426))}}else if(Hn&&ae.mode&1){var ir=fp(Y);if(ir!==null){!(ir.flags&65536)&&(ir.flags|=256),Yc(ir,Y,ae,A,l),ba(Rl(pe,ae));break e}}A=pe=Rl(pe,ae),Tr!==4&&(Tr=2),Gc===null?Gc=[A]:Gc.push(A),A=Y;do{switch(A.tag){case 3:A.flags|=65536,l&=-l,A.lanes|=l;var Ee=gf(A,pe,l);Gh(A,Ee);break e;case 1:ae=pe;var ve=A.type,Ce=A.stateNode;if(!(A.flags&128)&&(typeof ve.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(Zs===null||!Zs.has(Ce)))){A.flags|=65536,l&=-l,A.lanes|=l;var rt=Uc(A,ae,l);Gh(A,rt);break e}}A=A.return}while(A!==null)}ty(p)}catch(Et){l=Et,fr===p&&p!==null&&(fr=p=p.return);continue}break}while(!0)}function Xg(){var a=If.current;return If.current=Xa,a===null?Xa:a}function Fp(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),Nr===null||!(Vs&268435455)&&!(qc&268435455)||$s(Nr,Yr)}function Nf(a,l){var p=dn;dn|=2;var w=Xg();(Nr!==a||Yr!==l)&&(ns=null,Bl(a,l));do try{R0();break}catch(E){Qg(a,E)}while(!0);if(Ac(),dn=p,If.current=w,fr!==null)throw Error(n(261));return Nr=null,Yr=0,Tr}function R0(){for(;fr!==null;)ey(fr)}function _0(){for(;fr!==null&&!_a();)ey(fr)}function ey(a){var l=ry(a.alternate,a,ei);a.memoizedProps=a.pendingProps,l===null?ty(a):fr=l,Ip.current=null}function ty(a){var l=a;do{var p=l.alternate;if(a=l.return,l.flags&32768){if(p=P0(p,l),p!==null){p.flags&=32767,fr=p;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Tr=6,fr=null;return}}else if(p=O0(p,l,ei),p!==null){fr=p;return}if(l=l.sibling,l!==null){fr=l;return}fr=l=a}while(l!==null);Tr===0&&(Tr=5)}function Hl(a,l,p){var w=ut,E=Ti.transition;try{Ti.transition=null,ut=1,B0(a,l,p,w)}finally{Ti.transition=E,ut=w}return null}function B0(a,l,p,w){do qs();while(Ir!==null);if(dn&6)throw Error(n(327));p=a.finishedWork;var E=a.finishedLanes;if(p===null)return null;if(a.finishedWork=null,a.finishedLanes=0,p===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var A=p.lanes|p.childLanes;if(Ue(a,A),a===Nr&&(fr=Nr=null,Yr=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||Cf||(Cf=!0,oy(Hi,function(){return qs(),null})),A=(p.flags&15990)!==0,p.subtreeFlags&15990||A){A=Ti.transition,Ti.transition=null;var Y=ut;ut=1;var ae=dn;dn|=4,Ip.current=null,Wc(a,p),Dp(p,a),M0(Ml),$o=!!xc,Ml=xc=null,a.current=p,qg(p),su(),dn=ae,ut=Y,Ti.transition=A}else a.current=p;if(Cf&&(Cf=!1,Ir=a,Mf=E),A=a.pendingLanes,A===0&&(Zs=null),Ba(p.stateNode),io(a,Sn()),l!==null)for(w=a.onRecoverableError,p=0;p<l.length;p++)E=l[p],w(E.value,{componentStack:E.stack,digest:E.digest});if(xf)throw xf=!1,a=xp,xp=null,a;return Mf&1&&a.tag!==0&&qs(),A=a.pendingLanes,A&1?a===Cp?Jc++:(Jc=0,Cp=a):Jc=0,Os(),null}function qs(){if(Ir!==null){var a=Nt(Mf),l=Ti.transition,p=ut;try{if(Ti.transition=null,ut=16>a?16:a,Ir===null)var w=!1;else{if(a=Ir,Ir=null,Mf=0,dn&6)throw Error(n(331));var E=dn;for(dn|=4,vt=a.current;vt!==null;){var A=vt,Y=A.child;if(vt.flags&16){var ae=A.deletions;if(ae!==null){for(var pe=0;pe<ae.length;pe++){var Pe=ae[pe];for(vt=Pe;vt!==null;){var Je=vt;switch(Je.tag){case 0:case 11:case 15:Bu(8,Je,A)}var Qe=Je.child;if(Qe!==null)Qe.return=Je,vt=Qe;else for(;vt!==null;){Je=vt;var Ge=Je.sibling,gt=Je.return;if(Zg(Je),Je===Pe){vt=null;break}if(Ge!==null){Ge.return=gt,vt=Ge;break}vt=gt}}}var bt=A.alternate;if(bt!==null){var Dt=bt.child;if(Dt!==null){bt.child=null;do{var ir=Dt.sibling;Dt.sibling=null,Dt=ir}while(Dt!==null)}}vt=A}}if(A.subtreeFlags&2064&&Y!==null)Y.return=A,vt=Y;else e:for(;vt!==null;){if(A=vt,A.flags&2048)switch(A.tag){case 0:case 11:case 15:Bu(9,A,A.return)}var Ee=A.sibling;if(Ee!==null){Ee.return=A.return,vt=Ee;break e}vt=A.return}}var ve=a.current;for(vt=ve;vt!==null;){Y=vt;var Ce=Y.child;if(Y.subtreeFlags&2064&&Ce!==null)Ce.return=Y,vt=Ce;else e:for(Y=ve;vt!==null;){if(ae=vt,ae.flags&2048)try{switch(ae.tag){case 0:case 11:case 15:$c(9,ae)}}catch(Et){Kn(ae,ae.return,Et)}if(ae===Y){vt=null;break e}var rt=ae.sibling;if(rt!==null){rt.return=ae.return,vt=rt;break e}vt=ae.return}}if(dn=E,Os(),po&&typeof po.onPostCommitFiberRoot=="function")try{po.onPostCommitFiberRoot(zo,a)}catch{}w=!0}return w}finally{ut=p,Ti.transition=l}}return!1}function Op(a,l,p){l=Rl(p,l),l=gf(a,l,1),a=Ls(a,l,1),l=Do(),a!==null&&(Te(a,1,l),io(a,l))}function Kn(a,l,p){if(a.tag===3)Op(a,a,p);else for(;l!==null;){if(l.tag===3){Op(l,a,p);break}else if(l.tag===1){var w=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Zs===null||!Zs.has(w))){a=Rl(p,a),a=Uc(l,a,1),l=Ls(l,a,1),a=Do(),l!==null&&(Te(l,1,a),io(l,a));break}}l=l.return}}function H0(a,l,p){var w=a.pingCache;w!==null&&w.delete(l),l=Do(),a.pingedLanes|=a.suspendedLanes&p,Nr===a&&(Yr&p)===p&&(Tr===4||Tr===3&&(Yr&130023424)===Yr&&500>Sn()-Ef?Bl(a,0):Ep|=p),io(a,l)}function ny(a,l){l===0&&(a.mode&1?(l=Ha,Ha<<=1,!(Ha&130023424)&&(Ha=4194304)):l=1);var p=Do();a=$i(a,l),a!==null&&(Te(a,l,p),io(a,p))}function U0(a){var l=a.memoizedState,p=0;l!==null&&(p=l.retryLane),ny(a,p)}function Y0(a,l){var p=0;switch(a.tag){case 13:var w=a.stateNode,E=a.memoizedState;E!==null&&(p=E.retryLane);break;case 19:w=a.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(l),ny(a,p)}var ry;ry=function(a,l,p){if(a!==null)if(a.memoizedProps!==l.pendingProps||Fo.current)no=!0;else{if(!(a.lanes&p)&&!(l.flags&128))return no=!1,ro(a,l,p);no=!!(a.flags&131072)}else no=!1,Hn&&l.flags&1048576&&Tg(l,qd,l.index);switch(l.lanes=0,l.tag){case 2:var w=l.type;Ru(a,l),a=l.pendingProps;var E=xu(l,Kr.current);Ps(l,p),E=af(null,l,w,a,E,p);var A=sf();return l.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Oo(w)?(A=!0,yi(l)):A=!1,l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,qh(l),E.updater=ef,l.stateNode=E,E._reactInternals=l,Qh(l,w,a,p),l=gp(null,l,w,!0,A,p)):(l.tag=0,Hn&&A&&kc(l),So(null,l,E,p),l=l.child),l;case 16:w=l.elementType;e:{switch(Ru(a,l),a=l.pendingProps,E=w._init,w=E(w._payload),l.type=w,E=l.tag=Af(w),a=Wi(w,a),E){case 0:l=yf(null,l,w,a,p);break e;case 1:l=Hg(null,l,w,a,p);break e;case 11:l=hp(null,l,w,a,p);break e;case 14:l=Sa(null,l,w,Wi(w.type,a),p);break e}throw Error(n(306,w,""))}return l;case 0:return w=l.type,E=l.pendingProps,E=l.elementType===w?E:Wi(w,E),yf(a,l,w,E,p);case 1:return w=l.type,E=l.pendingProps,E=l.elementType===w?E:Wi(w,E),Hg(a,l,w,E,p);case 3:e:{if(Da(l),a===null)throw Error(n(387));w=l.pendingProps,A=l.memoizedState,E=A.element,xg(a,l),Xd(l,w,null,p);var Y=l.memoizedState;if(w=Y.element,A.isDehydrated)if(A={element:w,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){E=Rl(Error(n(423)),l),l=vf(a,l,w,p,E);break e}else if(w!==E){E=Rl(Error(n(424)),l),l=vf(a,l,w,p,E);break e}else for(Jo=Ns(l.stateNode.containerInfo.firstChild),Xr=l,Hn=!0,Zi=null,p=Xh(l,null,w,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(wa(),w===E){l=Ta(a,l,p);break e}So(a,l,w,p)}l=l.child}return l;case 5:return ep(l),a===null&&Po(l),w=l.type,E=l.pendingProps,A=a!==null?a.memoizedProps:null,Y=E.children,Cc(w,E)?Y=null:A!==null&&Cc(w,A)&&(l.flags|=32),Bg(a,l),So(a,l,Y,p),l.child;case 6:return a===null&&Po(l),null;case 13:return Zc(a,l,p);case 4:return rf(l,l.stateNode.containerInfo),w=l.pendingProps,a===null?l.child=_s(l,null,w,p):So(a,l,w,p),l.child;case 11:return w=l.type,E=l.pendingProps,E=l.elementType===w?E:Wi(w,E),hp(a,l,w,E,p);case 7:return So(a,l,l.pendingProps,p),l.child;case 8:return So(a,l,l.pendingProps.children,p),l.child;case 12:return So(a,l,l.pendingProps.children,p),l.child;case 10:e:{if(w=l.type._context,E=l.pendingProps,A=l.memoizedProps,Y=E.value,jn(Ol,w._currentValue),w._currentValue=Y,A!==null)if(Oe(A.value,Y)){if(A.children===E.children&&!Fo.current){l=Ta(a,l,p);break e}}else for(A=l.child,A!==null&&(A.return=l);A!==null;){var ae=A.dependencies;if(ae!==null){Y=A.child;for(var pe=ae.firstContext;pe!==null;){if(pe.context===w){if(A.tag===1){pe=qi(-1,p&-p),pe.tag=2;var Pe=A.updateQueue;if(Pe!==null){Pe=Pe.shared;var Je=Pe.pending;Je===null?pe.next=pe:(pe.next=Je.next,Je.next=pe),Pe.pending=pe}}A.lanes|=p,pe=A.alternate,pe!==null&&(pe.lanes|=p),bi(A.return,p,l),ae.lanes|=p;break}pe=pe.next}}else if(A.tag===10)Y=A.type===l.type?null:A.child;else if(A.tag===18){if(Y=A.return,Y===null)throw Error(n(341));Y.lanes|=p,ae=Y.alternate,ae!==null&&(ae.lanes|=p),bi(Y,p,l),Y=A.sibling}else Y=A.child;if(Y!==null)Y.return=A;else for(Y=A;Y!==null;){if(Y===l){Y=null;break}if(A=Y.sibling,A!==null){A.return=Y.return,Y=A;break}Y=Y.return}A=Y}So(a,l,E.children,p),l=l.child}return l;case 9:return E=l.type,w=l.pendingProps.children,Ps(l,p),E=wo(E),w=w(E),l.flags|=1,So(a,l,w,p),l.child;case 14:return w=l.type,E=Wi(w,l.pendingProps),E=Wi(w.type,E),Sa(a,l,w,E,p);case 15:return pp(a,l,l.type,l.pendingProps,p);case 17:return w=l.type,E=l.pendingProps,E=l.elementType===w?E:Wi(w,E),Ru(a,l),l.tag=1,Oo(w)?(a=!0,yi(l)):a=!1,Ps(l,p),Kh(l,w,E),Qh(l,w,E,p),gp(null,l,w,!0,a,p);case 19:return Ug(a,l,p);case 22:return mp(a,l,p)}throw Error(n(156,l.tag))};function oy(a,l){return Ra(a,l)}function z0(a,l,p,w){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(a,l,p,w){return new z0(a,l,p,w)}function Pp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Af(a){if(typeof a=="function")return Pp(a)?1:0;if(a!=null){if(a=a.$$typeof,a===te)return 11;if(a===ce)return 14}return 2}function Gs(a,l){var p=a.alternate;return p===null?(p=ti(a.tag,l,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=l,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&14680064,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,l=a.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function Ff(a,l,p,w,E,A){var Y=2;if(w=a,typeof a=="function")Pp(a)&&(Y=1);else if(typeof a=="string")Y=5;else e:switch(a){case z:return Ul(p.children,E,A,l);case V:Y=8,E|=8;break;case Z:return a=ti(12,p,l,E|2),a.elementType=Z,a.lanes=A,a;case ye:return a=ti(13,p,l,E),a.elementType=ye,a.lanes=A,a;case ge:return a=ti(19,p,l,E),a.elementType=ge,a.lanes=A,a;case ue:return Of(p,E,A,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $:Y=10;break e;case oe:Y=9;break e;case te:Y=11;break e;case ce:Y=14;break e;case Q:Y=16,w=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=ti(Y,p,l,E),l.elementType=a,l.type=w,l.lanes=A,l}function Ul(a,l,p,w){return a=ti(7,a,w,l),a.lanes=p,a}function Of(a,l,p,w){return a=ti(22,a,w,l),a.elementType=ue,a.lanes=p,a.stateNode={isHidden:!1},a}function jp(a,l,p){return a=ti(6,a,null,l),a.lanes=p,a}function Lp(a,l,p){return l=ti(4,a.children!==null?a.children:[],a.key,l),l.lanes=p,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function V0(a,l,p,w,E){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ke(0),this.expirationTimes=ke(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.identifierPrefix=w,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Rp(a,l,p,w,E,A,Y,ae,pe){return a=new V0(a,l,p,ae,pe),l===1?(l=1,A===!0&&(l|=8)):l=0,A=ti(3,null,null,l),a.current=A,A.stateNode=a,A.memoizedState={element:w,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},qh(A),a}function Z0(a,l,p){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:w==null?null:""+w,children:a,containerInfo:l,implementation:p}}function iy(a){if(!a)return Fs;a=a._reactInternals;e:{if(_i(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Oo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var p=a.type;if(Oo(p))return bg(a,p,l)}return l}function ay(a,l,p,w,E,A,Y,ae,pe){return a=Rp(p,w,!0,a,E,A,Y,ae,pe),a.context=iy(null),p=a.current,w=Do(),E=Ws(p),A=qi(w,E),A.callback=l??null,Ls(p,A,E),a.current.lanes=E,Te(a,E,w),io(a,w),a}function Pf(a,l,p,w){var E=l.current,A=Do(),Y=Ws(E);return p=iy(p),l.context===null?l.context=p:l.pendingContext=p,l=qi(A,Y),l.payload={element:a},w=w===void 0?null:w,w!==null&&(l.callback=w),a=Ls(E,l,Y),a!==null&&(Qi(a,E,Y,A),Rs(a,E,Y)),Y}function jf(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function sy(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<l?p:l}}function _p(a,l){sy(a,l),(a=a.alternate)&&sy(a,l)}function W0(){return null}var Bp=typeof reportError=="function"?reportError:function(a){console.error(a)};function Lf(a){this._internalRoot=a}Rf.prototype.render=Lf.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));Pf(a,l,null,null)},Rf.prototype.unmount=Lf.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;_l(function(){Pf(null,a,null,null)}),l[Go]=null}};function Rf(a){this._internalRoot=a}Rf.prototype.unstable_scheduleHydration=function(a){if(a){var l=mo();a={blockedOn:null,target:a,priority:l};for(var p=0;p<ca.length&&l!==0&&l<ca[p].priority;p++);ca.splice(p,0,a),p===0&&di(a)}};function Hp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function _f(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function ly(){}function Bf(a,l,p,w,E){if(E){if(typeof w=="function"){var A=w;w=function(){var Pe=jf(Y);A.call(Pe)}}var Y=ay(l,w,a,0,null,!1,!1,"",ly);return a._reactRootContainer=Y,a[Go]=Y.current,Ms(a.nodeType===8?a.parentNode:a),_l(),Y}for(;E=a.lastChild;)a.removeChild(E);if(typeof w=="function"){var ae=w;w=function(){var Pe=jf(pe);ae.call(Pe)}}var pe=Rp(a,0,!1,null,null,!1,!1,"",ly);return a._reactRootContainer=pe,a[Go]=pe.current,Ms(a.nodeType===8?a.parentNode:a),_l(function(){Pf(l,pe,p,w)}),pe}function Hf(a,l,p,w,E){var A=p._reactRootContainer;if(A){var Y=A;if(typeof E=="function"){var ae=E;E=function(){var pe=jf(Y);ae.call(pe)}}Pf(l,Y,a,E)}else Y=Bf(p,l,a,E,w);return jf(Y)}zt=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var p=Ui(l.pendingLanes);p!==0&&(nt(l,p|1),io(l,Sn()),!(dn&6)&&(zu=Sn()+500,Os()))}break;case 13:_l(function(){var w=$i(a,1);if(w!==null){var E=Do();Qi(w,a,1,E)}}),_p(a,1)}},Tn=function(a){if(a.tag===13){var l=$i(a,134217728);if(l!==null){var p=Do();Qi(l,a,134217728,p)}_p(a,134217728)}},Co=function(a){if(a.tag===13){var l=Ws(a),p=$i(a,l);if(p!==null){var w=Do();Qi(p,a,l,w)}_p(a,l)}},mo=function(){return ut},_r=function(a,l){var p=ut;try{return ut=a,l()}finally{ut=p}},Ne=function(a,l,p){switch(l){case"input":if(_t(a,p),l=p.name,p.type==="radio"&&l!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var w=p[l];if(w!==a&&w.form===a.form){var E=Vd(w);if(!E)throw Error(n(90));st(w),_t(w,E)}}}break;case"textarea":Ln(a,p);break;case"select":l=p.value,l!=null&&tn(a,!!p.multiple,l,!1)}},Kt=Np,Pn=_l;var $0={usingClientEntryPoint:!1,Events:[Jr,qt,Vd,et,kt,Np]},Qc={findFiberByHostInstance:ma,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},q0={bundleType:Qc.bundleType,version:Qc.version,rendererPackageName:Qc.rendererPackageName,rendererConfig:Qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=La(a),a===null?null:a.stateNode},findFiberByHostInstance:Qc.findFiberByHostInstance||W0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{zo=Uf.inject(q0),po=Uf}catch{}}return Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$0,Ci.createPortal=function(a,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hp(l))throw Error(n(200));return Z0(a,l,null,p)},Ci.createRoot=function(a,l){if(!Hp(a))throw Error(n(299));var p=!1,w="",E=Bp;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),l=Rp(a,1,!1,null,null,p,!1,w,E),a[Go]=l.current,Ms(a.nodeType===8?a.parentNode:a),new Lf(l)},Ci.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=La(l),a=a===null?null:a.stateNode,a},Ci.flushSync=function(a){return _l(a)},Ci.hydrate=function(a,l,p){if(!_f(l))throw Error(n(200));return Hf(null,a,l,!0,p)},Ci.hydrateRoot=function(a,l,p){if(!Hp(a))throw Error(n(405));var w=p!=null&&p.hydratedSources||null,E=!1,A="",Y=Bp;if(p!=null&&(p.unstable_strictMode===!0&&(E=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onRecoverableError!==void 0&&(Y=p.onRecoverableError)),l=ay(l,null,a,1,p??null,E,!1,A,Y),a[Go]=l.current,Ms(a),w)for(a=0;a<w.length;a++)p=w[a],E=p._getVersion,E=E(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,E]:l.mutableSourceEagerHydrationData.push(p,E);return new Rf(l)},Ci.render=function(a,l,p){if(!_f(l))throw Error(n(200));return Hf(null,a,l,!1,p)},Ci.unmountComponentAtNode=function(a){if(!_f(a))throw Error(n(40));return a._reactRootContainer?(_l(function(){Hf(null,null,a,!1,function(){a._reactRootContainer=null,a[Go]=null})}),!0):!1},Ci.unstable_batchedUpdates=Np,Ci.unstable_renderSubtreeIntoContainer=function(a,l,p,w){if(!_f(p))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Hf(a,l,p,!1,w)},Ci.version="18.2.0-next-9e3b772b8-20220608",Ci}function ZE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZE)}catch(e){console.error(e)}}ZE();VE.exports=F9();var db=VE.exports;const fb=Wr(db);var Wm,WE=db;Wm=Aa.createRoot=WE.createRoot;Aa.hydrateRoot=WE.hydrateRoot;const O9=e=>{const{children:t,className:n,clickSpaceDestroy:r,destroy:o}=e,i=()=>{r&&o()},s=c=>{(c.key==="Escape"||(c.ctrlKey||c.metaKey)&&c.key.toLowerCase()==="w")&&o()};return y.jsx("div",{className:`dialog-wrapper ${n}`,onClick:i,onKeyDown:c=>s(c),children:y.jsx("div",{className:"dialog-container",onClick:c=>c.stopPropagation(),children:t})})};function _v(e,t,n){const r=document.createElement("div");document.body.append(r),setTimeout(()=>{var d;(d=r.firstElementChild)==null||d.classList.add("showup")},0);const o={destroy:()=>{var d,h;(d=r.firstElementChild)==null||d.classList.remove("showup"),(h=r.firstElementChild)==null||h.classList.add("showoff"),setTimeout(()=>{r.detach(),c.unmount()},AI)}},i={...n,destroy:o.destroy};let s=y.jsx(O9,{destroy:o.destroy,clickSpaceDestroy:!0,...e,children:y.jsx(t,{...i})});s=y.jsx(Pa,{store:Le,context:Pt,children:s});const c=Aa.createRoot(r);return c.render(s),o}const P9=e=>{const{shownStatus:t,setShownStatus:n}=e,{dailyNotesState:{app:r,settings:o,plugin:i},globalState:{manifest:s}}=j.useContext(Pt),c=j.useRef(null);j.useEffect(()=>{if(t){const D=T=>{var I;(I=c.current)!=null&&I.contains(T.target)||T.stopPropagation(),n(!1)};window.addEventListener("click",D,{capture:!0,once:!0})}},[t]);const d=j.useCallback(async D=>{const{type:T}=D;if(T.startsWith("text"))try{return`${await cb.parseHtml(D)}`}catch(I){new C.Notice(I)}},[]),h=j.useCallback(()=>{const D=document.createElement("input");document.body.appendChild(D),D.type="file",D.multiple=!1,D.accept="text/html",D.onchange=async()=>{if(!D.files||D.files.length===0)return;const T=D.files[0];await d(T),document.body.removeChild(D)},D.click()},[]),m=()=>{r.setting.open(),r.setting.openTabById(s.id||"obsidian-memos")},g=()=>{if(o!=null&&o.needVerify){ft.setLocked(!0);return}else new C.Notice(x("You have not set a password or enable this feature yet")),r.setting.open(),r.setting.openTabById(s.id||"obsidian-memos")},v=()=>{new gS(r,s.version).open()},b=()=>{ft.setShowSiderbarInMobileView(!1),i.settingTab.updateSettings("FirstLoaded",!0)};return y.jsxs("div",{className:`menu-btns-popup ${t?"":"hidden"}`,ref:c,children:[y.jsxs("div",{className:"btn action-btn",onClick:m,children:[y.jsx("span",{ref:D=>{D&&C.setIcon(D,"user")},className:"icon"}),x("Settings")]}),(o==null?void 0:o.needVerify)&&y.jsxs("div",{className:"btn action-btn",onClick:g,children:[y.jsx("span",{ref:D=>{D&&C.setIcon(D,"lock")},className:"icon"}),x("Lock")]}),y.jsxs("div",{className:"btn action-btn",onClick:h,children:[y.jsx("span",{ref:D=>{D&&C.setIcon(D,"import")},className:"icon"}),x("Import")]}),y.jsxs("div",{className:"btn action-btn",onClick:v,children:[y.jsx("span",{ref:D=>{D&&C.setIcon(D,"file-text")},className:"icon"}),x("ChangeLog")]}),y.jsxs("div",{className:"btn action-btn",onClick:b,children:[y.jsx("span",{ref:D=>{D&&C.setIcon(D,"file-text")},className:"icon"}),x("Setting guide")]})]})};function $E(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=$E(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Gn(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=$E(e))&&(r&&(r+=" "),r+=t);return r}const j9=e=>{const t={};return e.forEach(n=>{const r=at.getDateString(n.createdAt);t[r]?t[r]++:t[r]=1}),Object.keys(t).sort((n,r)=>t[r]-t[n])[0]},L9=e=>{const t={};return e.forEach(n=>{const r=at.getTimeString(n.createdAt).split(":")[0];t[r]?t[r]++:t[r]=1}),Object.keys(t).sort((n,r)=>t[r]-t[n])[0]},hb=({statusType:e})=>{const{memoState:{memos:t,tags:n},locationState:{pathname:r},dailyNotesState:{settings:o,app:i}}=j.useContext(Pt),[s,c]=j.useState(0),[d,h]=j.useState(0),[m,g]=j.useState(0),[v,b]=j.useState(null),[D,T]=j.useState(!1),I=ie.useRef(null),[O,N]=j.useState(0),[B,P]=j.useState(0),[U,L]=j.useState(0),[z,V]=j.useState(""),[Z,$]=j.useState(""),[oe,te]=j.useState(!1),[ye,ge]=j.useState(null);j.useEffect(()=>{const se=t.filter(we=>!we.deletedAt&&we.rowStatus!=="ARCHIVED");L(se.filter(we=>{var J;return(J=we.thinoType)==null?void 0:J.startsWith("TASK")}).length),V(j9(t)),$(L9(t))},[t]),j.useLayoutEffect(()=>{if(!i)return;const{tags:se,memos:we,days:J}=R9(i);g(se),c(we),h(J)},[i]),j.useEffect(()=>{let se=0;const we=s-O,J=1e3,ee=fe=>{se||(se=fe);const xe=fe-se;if(xe<J){const je=xe/J;N(O+we*je),requestAnimationFrame(ee)}else N(s)};requestAnimationFrame(ee)},[s]),j.useEffect(()=>{let se=0;const we=d-B,J=1e3,ee=fe=>{se||(se=fe);const xe=fe-se;if(xe<J){const je=xe/J;P(B+we*je),requestAnimationFrame(ee)}else P(d)};requestAnimationFrame(ee)},[d]),j.useEffect(()=>{!o||!i||(T(s>9999||m>999||d>999),_9({tags:m,memos:s,days:d},i))},[s,m,d]),j.useEffect(()=>{_e.initialized&&t&&r==="/"&&(g(n.length),c(t.filter(se=>!(se.deletedAt!==""&&se.deletedAt)).length),b(t.length>0?t[t.length-1]:null))},[n,t,r]),j.useEffect(()=>{if(!_e.initialized)return;if(!v){h(0);return}if(!I.current||!(v!=null&&v.createdAt))return;C.requireApiVersion("1.4.4")&&C.setTooltip(I.current,x("Started from")+" "+at.getDateTimeString((v==null?void 0:v.createdAt)??""));const se=Math.ceil((Date.now()-at.getTimeStampByDate(v==null?void 0:v.createdAt))/1e3/3600/24);h(t?se:0)},[v]);const ce=(se,we)=>{if(oe&&we===ye){ot.setMemoFilter(""),te(!1);return}const J=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([se]));Qt.pushQuery(J),ot.setMemoFilter(J.id),te(!0),ge(we)},Q=()=>{ce({type:"LIST",value:{operator:"IS_NOT",value:"LIST"},relation:"AND"},"LIST")},ue=()=>{ce({type:"TYPE",value:{operator:"IS_NOT",value:"NOT_TAGGED"},relation:"AND"},"TYPE")};return y.jsx("div",{className:Gn("status-text-container",D?"text-overflow":"",e),children:e==="banner"?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"status-text memos-text",children:[y.jsx("span",{className:"amount-text",children:Math.round(O)}),y.jsx("span",{className:"type-text",children:"THINO"})]}),y.jsxs("div",{className:"status-text tags-text",children:[y.jsx("span",{className:"amount-text",children:m}),y.jsx("span",{className:"type-text",children:x("TAG")})]}),y.jsxs("div",{ref:I,className:"status-text duration-text",onClick:()=>{ft.setShowSiderbarInMobileView(!1),ot.setPathname("/daily")},children:[y.jsx("span",{className:"amount-text",children:Math.round(B)??0}),y.jsx("span",{className:"type-text",children:x("DAY")})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"status-sidebar-header title-text",children:y.jsx("span",{className:"normal-text",children:x("Thino status")})}),y.jsxs("div",{className:"status-sidebar-wrapper",children:[y.jsxs("div",{className:"status-text memos-text",children:[y.jsx("span",{className:"type-text",children:x("Thino amount")}),y.jsx("span",{className:"amount-text",children:Math.round(O)})]}),y.jsxs("div",{className:"status-text memos-text",onClick:Q,children:[y.jsx("span",{className:"type-text",children:x("Task amount")}),y.jsx("span",{className:"amount-text",children:Math.round(U)??0})]}),y.jsxs("div",{className:"status-text tags-text",onClick:ue,children:[y.jsx("span",{className:"type-text",children:x("Used tags")}),y.jsx("span",{className:"amount-text",children:m})]}),y.jsxs("div",{ref:I,className:"status-text duration-text",onClick:()=>{ft.setShowSiderbarInMobileView(!1),ot.setPathname("/daily")},children:[y.jsx("span",{className:"type-text",children:x("Used days")}),y.jsx("span",{className:"amount-text",children:Math.round(B)??0})]}),y.jsxs("div",{className:"status-text most-active-day-text",onClick:()=>{const se=C.moment(z,"YYYY/MM/DD").startOf("day").valueOf(),we=C.moment(z,"YYYY/MM/DD").endOf("day").valueOf();ot.setFromAndToQuery(se,we)},children:[y.jsx("span",{className:"type-text",children:x("Most active day")}),y.jsx("span",{className:"amount-text",children:z})]}),y.jsxs("div",{className:"status-text most-active-hour-text",children:[y.jsx("span",{className:"type-text",children:x("Most active hour")}),y.jsx("span",{className:"amount-text",children:Z})]})]})]})})};function qE(e){return`userBannerCache:${e}`}function R9(e){try{const t=qE(e==null?void 0:e.appId),n=Vr.get([t])[t];return n?JSON.parse(n):{tags:0,memos:0,days:0}}catch(t){return console.error(t),{tags:0,memos:0,days:0}}}function _9({tags:e,memos:t,days:n},r){try{const o={tags:e,memos:t,days:n},i=qE(r==null?void 0:r.appId);Vr.set({[i]:JSON.stringify(o)})}catch(o){console.error(o)}}const B9=[{text:x("AND"),value:"AND"},{text:x("OR"),value:"OR"}],Ju={TAG:{value:"TAG",text:x("TAG"),operators:[{text:x("INCLUDE"),value:"CONTAIN"},{text:x("EXCLUDE"),value:"NOT_CONTAIN"}]},TYPE:{value:"TYPE",text:x("TYPE"),operators:[{value:"IS",text:x("IS")},{value:"IS_NOT",text:x("ISNOT")}],values:[{value:"CONNECTED",text:x("LINKED")},{value:"NOT_TAGGED",text:x("NO TAGS")},{value:"LINKED",text:x("HAS LINKS")},{value:"IMAGED",text:x("HAS IMAGES")}]},TEXT:{value:"TEXT",text:x("TEXT"),operators:[{value:"CONTAIN",text:x("INCLUDE")},{value:"NOT_CONTAIN",text:x("EXCLUDE")}]},DATE:{value:"DATE",text:x("DATE"),operators:[{value:"NOT_CONTAIN",text:x("BEFORE")},{value:"CONTAIN",text:x("AFTER")}]},LIST:{value:"LIST",text:x("LIST"),operators:[{value:"IS",text:x("IS")},{value:"IS_NOT",text:x("ISNOT")}],values:[{value:"TODO",text:x("TODO")},{value:"DONE",text:x("DONE")},{value:"LIST",text:x("JOURNAL")},{value:"OTHER",text:x("OTHER")}]},SOURCE:{value:"SOURCE",text:x("SOURCE"),operators:[{value:"IS",text:x("IS")},{value:"IS_NOT",text:x("ISNOT")}],values:[{value:"DAILY",text:x("DAILY")},{value:"MULTI",text:x("MULTI")},{value:"FILE",text:x("FILE")},{value:"CANVAS",text:x("CANVAS")}]}},h1=Ju.TYPE.values,H9=e=>{for(const t of h1)if(t.value===e)return t.text;return""},ED=()=>({type:"TAG",value:{operator:"CONTAIN",value:""},relation:"AND"}),Dh=(e,t)=>{let n=!0;for(const r of t){const{relation:o}=r,i=U9(e,r);o==="OR"?n=n||i:n=n&&i}return n},U9=(e,t)=>{const{type:n,value:{operator:r,value:o}}=t;if(o==="")return!0;let i=!0;if(n==="TAG"){let s=!0;const c=new Set;for(const d of Array.from(e.content.match(yr)||[])){const m=d.replace(yr,"$1").trim().split("/");let g="";for(const v of m)g+=v,c.add(g),g+="/"}for(const d of Array.from(e.content.match(Pr)||[])){const m=d.replace(Pr,"$1").trim().split("/");let g="";for(const v of m)g+=v,c.add(g),g+="/"}c.has(o)||(s=!1),r==="NOT_CONTAIN"&&(s=!s),i=s}else if(n==="TYPE"){let s=!1;(o==="NOT_TAGGED"&&e.content.match(yr)===null&&e.content.match(so)===null||o==="LINKED"&&e.content.match(Id)!==null||o==="IMAGED"&&e.content.match(Ed)!==null||o==="CONNECTED"&&e.content.match(sc)!==null)&&(s=!0),r==="IS_NOT"&&(s=!s),i=s}else if(n==="TEXT"){let s=e.content.toLowerCase().includes(o.toLowerCase());r==="NOT_CONTAIN"&&(s=!s),i=s}else if(n==="LIST"){let c=(e.thinoType==="JOURNAL"?"LIST":e.thinoType==="TASK-TODO"?"TODO":e.thinoType==="TASK-DONE"?"DONE":"OTHER").contains(o);r==="IS_NOT"&&(c=!c),i=c}else if(n==="SOURCE"){let s=e.sourceType===o;r==="IS_NOT"&&(s=!s),i=s}else if(n==="DATE"){const s=C.moment(o,"YYYY-MM-DD").isValid();let c,d;if(s)c=C.moment(o,"YYYY-MM-DD"),d=c.isBefore(C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),"day");else{const m=(app.plugins.enabledPlugins.has("nldates-obsidian")&&app.plugins.getPlugin("nldates-obsidian")).parseDate(o);m.date!==null&&(d=m.moment.isBefore(C.moment(e.createdAt),"day"))}r==="NOT_CONTAIN"&&(d=!d),i=d}return i=e.linkId===""?i:!1,i};function fl(e){const[t,n]=j.useState(()=>!!e),r=j.useCallback(o=>{n(typeof o=="boolean"?o:i=>!i)},[]);return[t,r]}const $m=()=>{const{dailyNotesState:{app:e,view:t},locationState:{query:{type:n}}}=j.useContext(Pt),r=ie.useRef(null),o=ie.useRef(null),[i,s]=fl(!1);j.useEffect(()=>{!r||!t||!e||(t.registerEvent(e.workspace.on("blur-on-memos",()=>{var g;(g=r.current)==null||g.blur()})),t.registerEvent(e.workspace.on("focus-on-searchBar",()=>{var g;(g=r.current)==null||g.focus()})))},[r,e,t]),j.useEffect(()=>{o&&C.setIcon(o.current,"search")},[o]);const c=g=>{const{type:v}=ot.getState().query;g===v&&(g=""),ot.setMemoTypeQuery(g)},d=g=>{const v=g.currentTarget.value;if(!v.contains(" -time: ")){ot.setTextQuery(v);return}const b=v.split(" -time: ")[1],D=b.length>10?b.match(/\d{4}-\d{2}-\d{2}/g):null;if(D==null){ot.setTextQuery(v.split(" -time: ")[0]);return}if(D.length===1){const T=C.moment(D[0]);ot.setTimeQuery({from:T.startOf("day").valueOf(),to:T.endOf("day").valueOf()})}else if(D.length===2){const T=C.moment(D[0]),I=C.moment(D[1]);ot.setTimeQuery({from:T.startOf("day").valueOf(),to:I.endOf("day").valueOf()})}ot.setTextQuery(v.split(" -time: ")[0])},h=()=>{s(!0)},m=()=>{s(!1)};return y.jsxs("div",{className:"search-bar-container",children:[y.jsxs("div",{className:"search-bar-inputer",children:[y.jsx("span",{ref:o,className:"btn icon-img"}),y.jsx("input",{ref:r,className:"text-input",type:"text",onMouseOver:h,onMouseOut:m,placeholder:i?x("Type here"):"",onChange:d})]}),y.jsx("div",{className:"quickly-action-wrapper",children:y.jsxs("div",{className:"quickly-action-container",children:[y.jsx("span",{className:"title-text",children:x("Quick filter")}),y.jsxs("div",{className:"section-container types-container",children:[y.jsxs("span",{className:"section-text",children:[x("TYPE"),":"]}),y.jsx("div",{className:"values-container",children:h1.map((g,v)=>y.jsxs("div",{children:[y.jsx("span",{className:`type-item ${n===g.value?"selected":""}`,onClick:()=>{c(g.value)},children:g.text}),v+1<h1.length?y.jsx("span",{className:"split-text",children:"/"}):null]},g.value))})]})]})})]})},Y9=e=>{const{children:t,when:n}=e;return n?y.jsx(y.Fragment,{children:t}):null},ka=Y9;function An(){const e=document.createDocumentFragment();e.createEl("div",{cls:"thino-info"}).createEl("div",{text:x("This is a pro feature, please upgrade to pro version to use it.")});const r=e.createEl("div",{cls:"thino-link"}).createEl("div",{text:x("You can get pro version from: ")}),o=localStorage.getItem("language");let i="https://pkmer.cn/products/UserProfile/";o&&o==="zh"?i="https://pkmer.cn/products/thino/":i="https://thino.pkmer.net/en/",r.createEl("a",{text:"PKMer",attr:{href:i}}),new C.Notice(e,5e3)}const{exec:z9,execSync:Ete}=C.Platform.isDesktop&&require("child_process"),{createHash:V9}=C.Platform.isDesktop&&require("crypto"),Z9={native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"},W9=C.Platform.isDesktop&&{darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:`${Z9[$9()]}\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid`,linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"};function $9(){return process.platform!=="win32"?"":process.arch==="ia32"&&Object.hasOwnProperty.call(process.env,"PROCESSOR_ARCHITEW6432")?"mixed":"native"}function q9(e){return V9("sha256").update(e).digest("hex")}function G9(e){switch(process.platform){case"darwin":return e.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return e.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"freebsd":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error(`Unsupported platform: ${process.platform}`)}}function er(e=!1){return new Promise((t,n)=>{z9(W9[process.platform],{},(r,o)=>{if(r)return n(new Error(`Error while obtaining machine id: ${r.stack}`));const i=G9(o.toString());return t(e?i:q9(i))})})}const xD={list:"align-left",waterfall:"layout-grid",calendar:"calendar",minimal:"list",table:"table",chat:"message-square",moments:"chrome"},J9=e=>{const{dailyNotesState:{app:t,view:n,verifyState:r,settings:o},globalState:{manifest:i,isMobileView:s}}=j.useContext(Pt),c=j.useRef(null),d=j.useRef(null),[h,m]=j.useState((window.app||t).loadLocalStorage("thinoListView")),[g,v]=j.useState(null);j.useEffect(()=>{if(!i||!t)return;const D=t==null?void 0:t.plugins.getPlugin(i.id);v(D),m(D==null?void 0:D.settings.MemoListView),ft.setMemoListView(D==null?void 0:D.settings.MemoListView)},[i,t]),j.useEffect(()=>{if(!t||!n||!g||!g.settings)return;const D=()=>{var I;if(n.leaf.height===0)return;const T=(I=g==null?void 0:g.settings)==null?void 0:I.MemoListView;T==="chat"||T==="moments"||(n.leaf.width>950?(m(T),ft.setMemoListView(T)):n.leaf.width<=950&&(ft.setMemoListView("list"),m("list")))};D(),d.current||(d.current=t.workspace.on("resize",D),n.registerEvent(d.current))},[t,n,g]),j.useEffect(()=>{c&&(C.setIcon(c.current,xD[h||"list"]),ft.setMemoListView(h),C.requireApiVersion("1.4.4")&&C.setTooltip(c.current,x("Switch view")))},[h]);const b=async D=>{var P;const T=!C.Platform.isDesktop&&await((P=window.Capacitor)==null?void 0:P.Plugins.Device.getId()),I=C.Platform.isDesktop?await er():T.identifier||T.uuid;if(!r||(r==null?void 0:r.appId)!==I){An();return}const O=async U=>{ft.setMemoListView(U),g&&(g.settings.MemoListView=U,await g.saveSettings()),m(U)},N=[{view:"list",title:x("List")},{view:"chat",title:x("Chat")},{view:"moments",title:x("Moments")}];s||N.push({view:"waterfall",title:x("Waterfall")},{view:"calendar",title:x("Calendar")},{view:"table",title:x("Table")});const B=new C.Menu;N.forEach(({view:U,title:L})=>{B.addItem(z=>{z.setChecked(h===U).setIcon(xD[U]).setTitle(L).onClick(()=>{h!==U&&O(U)})})}),B.showAtMouseEvent(D.nativeEvent)};return y.jsx("div",{className:`memos-view-switcher-wrapper ${e.className?e.className:""} pro`,ref:c,onClick:b})},K9=()=>{const e=j.useRef(null);return j.useEffect(()=>{e&&(C.setIcon(e.current,"calendar-check"),C.setTooltip&&C.setTooltip(e.current,x("Daily Memos")))},[e]),y.jsx("div",{className:"memos-review-entry-wrapper",ref:e,onClick:()=>{ot.setPathname("/daily")}})},bw=()=>({type:"initialText",value:"",timestamp:Date.now(),selectionStart:0,selectionEnd:0}),CD={initialValue:"",interval:300};class Q9{constructor(t,n=CD){this.listeners=[],this.runUndo=()=>{const r=this.actions[this.currentIndex].selectionStart;this.currentIndex>0&&this.currentIndex--,this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.runRedo=()=>{this.currentIndex<this.actions.length-1&&this.currentIndex++;const r=this.actions[this.currentIndex].selectionEnd;this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.getActions=()=>this.actions,this.setState=(r,o)=>{this.actions=[...r],this.currentIndex=o<this.actions.length?o:this.actions.length-1,this.dispatchChange()},this.resetState=()=>{this.actions=[bw()],this.currentIndex=0,this.dispatchChange()},this.destroy=()=>{this.rmEventListeners()},this.subscribe=r=>{this.listeners.push(r)},this.handleElementKeydown=r=>{const o=r;o.key==="z"&&!o.shiftKey&&(o.metaKey||o.ctrlKey)?(r.preventDefault(),this.runUndo()):(o.key==="z"&&o.shiftKey&&(o.metaKey||o.ctrlKey)||o.key==="y"&&(o.metaKey||o.ctrlKey))&&(r.preventDefault(),this.runRedo())},this.handleElementInput=r=>{const o=r,i=this.actions[this.currentIndex];this.pushNewAction({type:o.inputType,value:this.element.value,timestamp:Date.now(),selectionStart:this.element.selectionEnd-(this.element.value.length-i.value.length),selectionEnd:this.element.selectionEnd})},this.addEventListeners=()=>{this.element.addEventListener("keydown",this.handleElementKeydown),this.element.addEventListener("input",this.handleElementInput)},this.rmEventListeners=()=>{this.element.removeEventListener("keydown",this.handleElementKeydown),this.element.removeEventListener("input",this.handleElementInput)},this.pushNewAction=r=>{const o=this.actions[this.currentIndex];o&&o.type===r.type&&r.timestamp-o.timestamp<this.config.interval?this.actions[this.currentIndex]=Object.assign(Object.assign({},o),{value:r.value,selectionEnd:r.selectionEnd,timestamp:r.timestamp}):(this.config.maxSize&&this.currentIndex>=this.config.maxSize?(this.actions.shift(),this.actions[0]=bw()):this.currentIndex++,this.actions[this.currentIndex]=r,this.actions=this.actions.slice(0,this.currentIndex+1)),this.dispatchChange()},this.dispatchChange=()=>{for(const r of this.listeners)r([...this.actions],this.currentIndex)},this.element=t,this.config=Object.assign(Object.assign({},CD),n),this.config.initialActions&&this.config.initialActions.length>0?(this.actions=this.config.initialActions,this.config.initialIndex!==void 0&&this.config.initialIndex<this.actions.length?this.currentIndex=this.config.initialIndex:this.currentIndex=this.actions.length-1):(this.actions=[bw()],this.currentIndex=0,this.config.initialValue!==""&&(this.actions.push({type:"insertText",value:this.config.initialValue,timestamp:Date.now(),selectionStart:0,selectionEnd:this.config.initialValue.length}),this.currentIndex++)),this.element.value=this.actions[this.currentIndex].value,this.addEventListeners()}}function X9(){const[,e]=j.useState(!1);return j.useCallback(()=>{e(n=>!n)},[])}var GE={exports:{}};(function(e){(function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=typeof window<"u",r=n&&window.mozInnerScreenX!=null;function o(i,s,c){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var d=c&&c.debug||!1;if(d){var h=document.querySelector("#input-textarea-caret-position-mirror-div");h&&h.parentNode.removeChild(h)}var m=document.createElement("div");m.id="input-textarea-caret-position-mirror-div",document.body.appendChild(m);var g=m.style,v=window.getComputedStyle?getComputedStyle(i):i.currentStyle;g.whiteSpace="pre-wrap",i.nodeName!=="INPUT"&&(g.wordWrap="break-word"),g.position="absolute",d||(g.visibility="hidden"),t.forEach(function(T){g[T]=v[T]}),r?i.scrollHeight>parseInt(v.height)&&(g.overflowY="scroll"):g.overflow="hidden",m.textContent=i.value.substring(0,s),i.nodeName==="INPUT"&&(m.textContent=m.textContent.replace(/\s/g," "));var b=document.createElement("span");b.textContent=i.value.substring(s)||".",m.appendChild(b);var D={top:b.offsetTop+parseInt(v.borderTopWidth),left:b.offsetLeft+parseInt(v.borderLeftWidth)};return d?b.style.backgroundColor="#aaa":document.body.removeChild(m),D}e.exports=o})()})(GE);var e5=GE.exports;const t5=Wr(e5);var JE=zr.CustomEvent;function n5(){try{var e=new JE("cat",{detail:{foo:"bar"}});return e.type==="cat"&&e.detail.foo==="bar"}catch{}return!1}var r5=n5()?JE:typeof document<"u"&&typeof document.createEvent=="function"?function(t,n){var r=document.createEvent("CustomEvent");return n?r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):r.initCustomEvent(t,!1,!1,void 0),r}:function(t,n){var r=document.createEventObject();return r.type=t,n?(r.bubbles=!!n.bubbles,r.cancelable=!!n.cancelable,r.detail=n.detail):(r.bubbles=!1,r.cancelable=!1,r.detail=void 0),r};const o5=Wr(r5);function i5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){i5(e,o,n[o])})}return e}function qm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bv(e,t,n){return t&&MD(e.prototype,t),n&&MD(e,n),e}function nh(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nh=function(n){return typeof n}:nh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nh(e)}function Yy(e){return typeof Symbol=="function"&&nh(Symbol.iterator)==="symbol"?Yy=function(n){return nh(n)}:Yy=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":nh(n)},Yy(e)}function s5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hv(e,t){return t&&(Yy(t)==="object"||typeof t=="function")?t:s5(e)}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},oh(e)}function p1(e,t){return p1=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},p1(e,t)}function Uv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p1(e,t)}function l5(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function u5(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function c5(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d5(e){return l5(e)||u5(e)||c5()}var na={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},f5=function e(){var t=this;qm(this,e),this.startListen=function(n){n&&n.addEventListener("keydown",t.f)},this.stopListen=function(n){n&&n.removeEventListener("keydown",t.f)},this.add=function(n,r){var o=n;return typeof o!="object"&&(o=[o]),t.listeners[t.index]={keyCode:o,fn:r},t.index++},this.remove=function(n){delete t.listeners[n]},this.removeAll=function(){t.listeners={},t.index=1},this.index=1,this.listeners={},this.f=function(n){if(n){var r=n.keyCode||n.which;Object.values(t.listeners).forEach(function(o){var i=o.keyCode,s=o.fn;i.includes(r)&&(n.stopPropagation(),n.preventDefault(),s(n))})}}},ld=new f5,h5=function(e){Uv(t,e);function t(){var n,r;qm(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=Hv(this,(n=oh(t)).call.apply(n,[this].concat(i))),r.selectItem=function(){var c=r.props,d=c.item,h=c.onSelectHandler;h(d)},r}return Bv(t,[{key:"shouldComponentUpdate",value:function(r){return this.props.item!==r.item||this.props.selected!==r.selected||this.props.style!==r.style||this.props.className!==r.className}},{key:"render",value:function(){var r=this,o=this.props,i=o.component,s=o.style,c=o.onClickHandler,d=o.item,h=o.selected,m=o.className,g=o.innerRef;return ie.createElement("li",{className:"rta__item  ".concat(h===!0?"rta__item--selected":""," ").concat(m||""),style:s},ie.createElement("div",{className:"rta__entity ".concat(h===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:c,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){r.clicked=!0,r.selectItem()},onTouchEnd:function(b){b.preventDefault(),r.clicked&&c(b)},onTouchMove:function(){r.clicked=!1},onTouchCancel:function(){r.clicked=!1},ref:g},ie.createElement(i,{selected:h,entity:d})))}}]),t}(ie.Component),p5=function(e){Uv(t,e);function t(){var n,r;qm(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=Hv(this,(n=oh(t)).call.apply(n,[this].concat(i))),r.state={selectedItem:null},r.cachedIdOfItems=new Map,r.onPressEnter=function(c){typeof c<"u"&&c.preventDefault();var d=r.props.values;r.modifyText(d[r.getPositionInList()])},r.getPositionInList=function(){var c=r.props.values,d=r.state.selectedItem;return d?c.findIndex(function(h){return r.getId(h)===r.getId(d)}):0},r.getId=function(c){if(r.cachedIdOfItems.has(c))return r.cachedIdOfItems.get(c);var d=r.props.getTextToReplace(c),h=function(){if(d){if(d.key)return d.key;if(typeof c=="string"||!c.key)return d.text}if(!c.key)throw new Error("Item ".concat(JSON.stringify(c),' has to have defined "key" property'));return c.key},m=h();return r.cachedIdOfItems.set(c,m),m},r.listeners=[],r.itemsRef={},r.modifyText=function(c){if(c){var d=r.props.onSelect;d(c)}},r.selectItem=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=r.props.onItemHighlighted;r.state.selectedItem!==c&&r.setState({selectedItem:c},function(){h(c),d&&r.props.dropdownScroll(r.itemsRef[r.getId(c)])})},r.scroll=function(c){c.preventDefault();var d=r.props.values,h=c.keyCode||c.which,m=r.getPositionInList(),g;switch(h){case na.DOWN:g=m+1;break;case na.UP:g=m-1;break;default:g=m;break}g=(g%d.length+d.length)%d.length,r.selectItem(d[g],[na.DOWN,na.UP].includes(h))},r.isSelected=function(c){var d=r.state.selectedItem;return d?r.getId(d)===r.getId(c):!1},r}return Bv(t,[{key:"componentDidMount",value:function(){this.listeners.push(ld.add([na.DOWN,na.UP],this.scroll),ld.add([na.ENTER,na.TAB],this.onPressEnter));var r=this.props.values;r&&r[0]&&this.selectItem(r[0])}},{key:"componentDidUpdate",value:function(r){var o=this,i=r.values,s=this.props.values,c=i.map(function(h){return o.getId(h)}).join(""),d=s.map(function(h){return o.getId(h)}).join("");c!==d&&s&&s[0]&&this.selectItem(s[0])}},{key:"componentWillUnmount",value:function(){for(var r;this.listeners.length;)r=this.listeners.pop(),ld.remove(r)}},{key:"render",value:function(){var r=this,o=this.props,i=o.values,s=o.component,c=o.style,d=o.itemClassName,h=o.className,m=o.itemStyle;return ie.createElement("ul",{className:"rta__list ".concat(h||""),style:c},i.map(function(g){return ie.createElement(h5,{key:r.getId(g),innerRef:function(b){r.itemsRef[r.getId(g)]=b},selected:r.isSelected(g),item:g,className:d,style:m,onClickHandler:r.onPressEnter,onSelectHandler:r.selectItem,component:s})}))}}]),t}(ie.Component);function m5(e,t){var n=parseInt(getComputedStyle(t).getPropertyValue("height"),10),r=parseInt(getComputedStyle(e).getPropertyValue("height"),10)-n,o=t.offsetTop,i=e.scrollTop;o<i+r&&i<o||(e.scrollTop=o)}var kD="next",$u={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},ND=function(t){return console.error("RTA: dataProvider fails: ".concat(t,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},g5=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],vy=function(t){return d5(t).map(function(n){return g5.includes(n)?"\\".concat(n):n}).join("")},y5=function(e){Uv(t,e);function t(){return qm(this,t),Hv(this,oh(t).apply(this,arguments))}return Bv(t,[{key:"componentDidMount",value:function(){var r=this.props.boundariesElement;if(typeof r=="string"){var o=document.querySelector(r);if(!o)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=o}else if(r instanceof HTMLElement)this.containerElem=r;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var r,o,i=this.props.top||0,s=this.props.left||0,c=[],d=[],h=0,m=0,g=this.containerElem.getBoundingClientRect(),v=this.ref.getBoundingClientRect(),b=this.props.textareaRef.getBoundingClientRect(),D=window.getComputedStyle(this.ref),T=parseInt(D.getPropertyValue("margin-top"),10),I=parseInt(D.getPropertyValue("margin-bottom"),10),O=parseInt(D.getPropertyValue("margin-left"),10),N=parseInt(D.getPropertyValue("margin-right"),10),B=T+I+b.top+i+v.height,P=O+N+b.left+s+v.width;P>g.right&&b.left+s>v.width?(m=s-v.width,c.push($u.X.LEFT),d.push($u.X.RIGHT)):(m=s,c.push($u.X.RIGHT),d.push($u.X.LEFT)),B>g.bottom&&b.top+i>v.height?(h=i-v.height,c.push($u.Y.TOP),d.push($u.Y.BOTTOM)):(h=i,c.push($u.Y.BOTTOM),d.push($u.Y.TOP)),this.props.renderToBody&&(h+=b.top,m+=b.left),this.ref.style.top="".concat(h,"px"),this.ref.style.left="".concat(m,"px"),(r=this.ref.classList).remove.apply(r,d),(o=this.ref.classList).add.apply(o,c)}},{key:"render",value:function(){var r=this,o=this.props,i=o.style,s=o.className,c=o.innerRef,d=o.children,h=o.renderToBody,m=document.body,g=ie.createElement("div",{ref:function(b){r.ref=b,c(b)},className:"rta__autocomplete ".concat(s||""),style:i},d);return h&&m!==null?fb.createPortal(g,m):g}}]),t}(ie.Component),KE=function(e){Uv(t,e);function t(n){var r;qm(this,t),r=Hv(this,oh(t).call(this,n)),r.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},r.escListenerInit=function(){r.escListener||(r.escListener=ld.add(na.ESC,r._closeAutocomplete))},r.escListenerDestroy=function(){r.escListener&&(ld.remove(r.escListener),r.escListener=null)},r.getSelectionPosition=function(){return r.textareaRef?{selectionStart:r.textareaRef.selectionStart,selectionEnd:r.textareaRef.selectionEnd}:null},r.getSelectedText=function(){if(!r.textareaRef)return null;var d=r.textareaRef,h=d.selectionStart,m=d.selectionEnd;return h===m?null:r.state.value.substr(h,m-h)},r.setCaretPosition=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;r.textareaRef&&(r.textareaRef.focus(),r.textareaRef.setSelectionRange(d,d))},r.getCaretPosition=function(){if(!r.textareaRef)return 0;var d=r.textareaRef.selectionEnd;return d},r._handleCaretChange=function(d){var h=function(){var v=r.getCaretPosition()-1;r.lastTrigger=r.lastTrigger?v:0};if(d.type==="keydown"){var m=d.keyCode||d.which;switch(m){case na.UP:case na.DOWN:r._isAutocompleteOpen()||h();break;case na.LEFT:case na.RIGHT:h();break}return}h()},r._onSelect=function(d){var h=r.state,m=h.selectionEnd,g=h.currentTrigger,v=h.value,b=r.props.onItemSelected;if(g){var D=r._getTextToReplace(g);if(!D){r._closeAutocomplete();return}var T=D(d);if(!T){r._closeAutocomplete();return}b&&b({currentTrigger:g,item:d});var I=function($,oe,te){switch($){case"start":return te;case"next":case"end":return te+oe.length;default:if(!Number.isInteger($))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return $}},O=v.slice(0,m),N=vy(g),B=O.length-O.lastIndexOf(g),P=O.search(new RegExp("(?!".concat(N,")$")))-B,U=T.caretPosition==="next"?"".concat(T.text," "):T.text,L=I(T.caretPosition,U,P),z=O.substring(0,P)+U,V=v.replace(O,z);r.setState({value:V,dataLoading:!1},function(){var Z=r.tokenRegExpEnding.exec(U),$=Z?Z[0].length:1;r.lastTrigger=L&&L-$,r.textareaRef.value=V,r.textareaRef.selectionEnd=L,r._changeHandler();var oe=r.textareaRef.scrollTop;r.setCaretPosition(L),window.chrome&&(r.textareaRef.scrollTop=oe)})}},r._getTextToReplace=function(d){var h=r.props.trigger[d];if(!d||!h)return null;var m=h.output;return function(g){if(typeof g=="object"&&(!m||typeof m!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(m){var v=m(g,d);if(v===void 0||typeof v=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(v),'". Check the implementation for trigger "').concat(d,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(v===null)return null;if(typeof v=="string")return{text:v,caretPosition:kD};if(!v.text&&typeof v.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(d,`"
`));if(!v.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(d,`"
`));return v}if(typeof g!="string")throw new Error(`Output item should be string
`);return{text:"".concat(d).concat(g).concat(d),caretPosition:kD}}},r._getCurrentTriggerSettings=function(){var d=r.state.currentTrigger;return d?r.props.trigger[d]:null},r._getValuesFromProvider=function(){var d=r.state,h=d.currentTrigger,m=d.actualToken,g=r._getCurrentTriggerSettings();if(!(!h||!g)){var v=g.dataProvider,b=g.component;if(typeof v!="function")throw new Error("Trigger provider has to be a function!");r.setState({dataLoading:!0});var D=v(m);D instanceof Promise||(D=Promise.resolve(D)),D.then(function(T){if(!Array.isArray(T))throw new Error("Trigger provider has to provide an array!");if(typeof b!="function")throw new Error("Component should be defined!");if(h===r.state.currentTrigger){if(!T.length){r._closeAutocomplete();return}r.setState({dataLoading:!1,data:T,component:b})}}).catch(function(T){return ND(T.message)})}},r._getSuggestions=function(){var d=r.state,h=d.currentTrigger,m=d.data;return!h||!m||m&&!m.length?null:m},r._createRegExp=function(){var d=r.props.trigger;r.tokenRegExp=new RegExp("(".concat(Object.keys(d).sort(function(h,m){return h<m?1:h>m?-1:0}).map(function(h){return vy(h)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),r.tokenRegExpEnding=new RegExp("(".concat(Object.keys(d).sort(function(h,m){return h<m?1:h>m?-1:0}).map(function(h){return vy(h)}).join("|"),")$"))},r._closeAutocomplete=function(){var d=r.state.currentTrigger;r.escListenerDestroy(),r.setState({data:null,dataLoading:!1,currentTrigger:null},function(){d&&r._onItemHighlightedHandler(null)})},r._cleanUpProps=function(){var d=a5({},r.props),h=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var m in d)h.includes(m)&&delete d[m];return d},r._changeHandler=function(d){var h=r.props,m=h.trigger,g=h.onChange,v=h.minChar,b=h.onCaretPositionChange,D=h.movePopupAsYouType,T=r.state,I=T.top,O=T.left,N=d;N||(N=new o5("change",{bubbles:!0}),r.textareaRef.dispatchEvent(N));var B=N.target||r.textareaRef,P=B.selectionEnd,U=B.value;if(r.lastValueBubbledEvent=U,g&&N&&(N.persist&&N.persist(),g(new Proxy(N,{get:function(J,ee,fe){return ee==="target"?B:Reflect.get(J,ee,fe)}}))),b){var L=r.getCaretPosition();b(L)}r.setState({value:U});var z=function(){var J=t5(B,P),ee=J.top,fe=J.left;r.setState({top:ee-r.textareaRef.scrollTop||0,left:fe})},V=function(J){r.lastTrigger=P-J,r._closeAutocomplete(),z()};if(P<=r.lastTrigger){var Z=U.slice(0,P),$=r.tokenRegExp.exec(Z);V($?$[0].length:0)}var oe=U.slice(r.lastTrigger,P),te=r.tokenRegExp.exec(oe),ye=te&&te[0],ge=te&&te[1]||null,ce=ge?ge.length-1:0,Q=r.tokenRegExpEnding.exec(oe);if(Q?V(Q[0].length):r._isAutocompleteOpen()||r._closeAutocomplete(),(!ye||ye.length<=v+ce)&&(r.state.currentTrigger&&!m[r.state.currentTrigger].allowWhitespace||!r.state.currentTrigger)){r._closeAutocomplete();return}if(ge&&m[ge].afterWhitespace&&!/\s/.test(U[P-ye.length-1])&&U[P-ye.length-1]!==void 0){r._closeAutocomplete();return}if(r.state.currentTrigger&&m[r.state.currentTrigger].allowWhitespace){if(te=new RegExp("".concat(vy(r.state.currentTrigger),".*$")).exec(U.slice(0,P)),ye=te&&te[0],!ye){r._closeAutocomplete();return}ge=Object.keys(m).find(function(we){return we.slice(0,ce+1)===ye.slice(0,ce+1)})||null}var ue=ye.slice(1);if(ge){(D||I===null&&O===null||r.state.currentTrigger!==ge)&&z(),r.escListenerInit();var se=r._getTextToReplace(ge);r.setState({selectionEnd:P,currentTrigger:ge,textToReplace:se,actualToken:ue},function(){try{r._getValuesFromProvider()}catch(we){ND(we.message)}})}},r._selectHandler=function(d){var h=r.props,m=h.onCaretPositionChange,g=h.onSelect;if(m){var v=r.getCaretPosition();m(v)}g&&(d.persist(),g(d))},r._shouldStayOpen=function(d){var h=d.relatedTarget;return h===null&&(h=document.activeElement),!!(r.dropdownRef&&h instanceof Node&&r.dropdownRef.contains(h))},r._onClick=function(d){var h=r.props.onClick;h&&(d.persist(),h(d)),!r._shouldStayOpen(d)&&r._closeAutocomplete()},r._onBlur=function(d){var h=r.props.onBlur;h&&(d.persist(),h(d)),!r._shouldStayOpen(d)&&r._closeAutocomplete()},r._onScrollHandler=function(){r._closeAutocomplete()},r._onItemHighlightedHandler=function(d){var h=r.props.onItemHighlighted,m=r.state.currentTrigger;if(h)if(typeof h=="function")h({currentTrigger:m,item:d});else throw new Error("`onItemHighlighted` has to be a function")},r._dropdownScroll=function(d){var h=r.props.scrollToItem;if(h){if(h===!0){m5(r.dropdownRef,d);return}if(typeof h!="function"||h.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");h(r.dropdownRef,d)}},r._isAutocompleteOpen=function(){var d=r.state,h=d.dataLoading,m=d.currentTrigger,g=r._getSuggestions();return!!((h||g)&&m)},r._textareaRef=function(d){r.props.innerRef&&r.props.innerRef(d),r.textareaRef=d},r.lastTrigger=0,r.escListener=null;var o=r.props,i=o.loadingComponent,s=o.trigger,c=o.value;if(c&&(r.state.value=c),r._createRegExp(),!i)throw new Error("RTA: loadingComponent is not defined");if(!s)throw new Error("RTA: trigger is not defined");return r}return Bv(t,[{key:"componentDidMount",value:function(){ld.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(r){var o=r.trigger,i=r.value,s=this.props,c=s.trigger,d=s.value;Object.keys(c).join("")!==Object.keys(o).join("")&&this._createRegExp(),i!==d&&this.lastValueBubbledEvent!==d&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),ld.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var r=this,o=this.props,i=o.loadingComponent,s=o.style,c=o.className,d=o.listStyle,h=o.itemStyle,m=o.boundariesElement,g=o.movePopupAsYouType,v=o.listClassName,b=o.itemClassName,D=o.dropdownClassName,T=o.dropdownStyle,I=o.containerStyle,O=o.containerClassName,N=o.loaderStyle,B=o.loaderClassName,P=o.textAreaComponent,U=o.renderToBody,L=this.state,z=L.left,V=L.top,Z=L.dataLoading,$=L.component,oe=L.value,te=L.textToReplace,ye=this._isAutocompleteOpen(),ge=this._getSuggestions(),ce={},Q;return P.component?(Q=P.component,ce[P.ref]=this._textareaRef):(Q=P,ce.ref=this._textareaRef),ie.createElement("div",{className:"rta ".concat(Z===!0?"rta--loading":""," ").concat(O||""),style:I},ie.createElement(Q,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(c||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:oe,style:s},ce)),ye&&ie.createElement(y5,{innerRef:function(se){r.dropdownRef=se},top:V,left:z,style:T,className:D,movePopupAsYouType:g,boundariesElement:m,textareaRef:this.textareaRef,renderToBody:U},ge&&$&&te&&ie.createElement(p5,{values:ge,component:$,style:d,className:v,itemClassName:b,itemStyle:h,getTextToReplace:te,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),Z&&ie.createElement("div",{className:"rta__loader ".concat(ge!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(B||""),style:N},ie.createElement(i,{data:ge}))))}}],[{key:"getDerivedStateFromProps",value:function(r){var o=r.value;return o==null?null:{value:o}}}]),t}(ie.Component);KE.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1};const v5=()=>{const{app:e}=yt.getState(),t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())},w5=e=>{let t=[];const n=yt.getState().settings;if(n&&(n!=null&&n.UseVaultTags))t=v5();else{const{tags:i}=_e.getState();t=i}const r=e.toLowerCase(),o=[];return t.forEach(i=>{i&&i.toLowerCase().contains(r)&&o.push({name:i,char:i})}),o},b5=e=>{const{app:t}=yt.getState(),n=t.vault.getAllLoadedFiles(),r=[];let o;return n.forEach(i=>{e==="["?o="":e.contains("[")&&(o=e.slice(1));const s=o.toLowerCase();i instanceof C.TFile&&["md","png","jpg","canvas","jpeg","gif"].contains(i.extension)&&i.path.toLowerCase().contains(s)&&r.push({name:i.basename,char:i.name,file:i})}),r};var Sw=j,S5=function(e){return typeof e=="function"},D5=function(e){var t=Sw.useState(e),n=t[0],r=t[1],o=Sw.useRef(n),i=Sw.useCallback(function(s){o.current=S5(s)?s(o.current):s,r(o.current)},[]);return[n,i,o]},T5=D5;const ri=Wr(T5);function lm(e,t){const n=Object.keys(t).map(r=>I5(e,r,t[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function I5(e,t,n){const r=e[t],o=e.hasOwnProperty(t);let i=n(r);return r&&Object.setPrototypeOf(i,r),Object.setPrototypeOf(s,i),e[t]=s,c;function s(...d){return i===r&&e[t]===s&&c(),i.apply(this,d)}function c(){e[t]===s&&(o?e[t]=r:delete e[t]),i!==r&&(i=r,Object.setPrototypeOf(s,r||Function))}}function E5(e){return e.containerEl.matches(".memos-list-view")}const x5=e=>{const{dailyNotesState:{app:t,plugin:n,editor:r,view:o,dailyNotes:i}}=j.useContext(Pt),[s,c]=j.useState(null),[d,h]=j.useState(!1),[m,g]=j.useState(""),[v,b]=j.useState(null),D=j.useRef(C.debounce((z,V)=>{M5(z,V)},100));j.useEffect(()=>{var z;if(!v){if(!i&&!(t&&window.app)){const V=(z=t||window.app)==null?void 0:z.vault.getMarkdownFiles();b(V[0]);return}for(const V in i)if(i[V]instanceof C.TFile){b(i[V]);break}}},[i]),j.useEffect(()=>{if(!(!e||!r)&&!d)return N(e),()=>{h(!1),s==null||s.destroy()}},[r,e]),j.useEffect(()=>{if(!s||!t)return;const z=C5(t);g(z),(s==null?void 0:s.editor).replaceSelection(z)},[s,t]),j.useEffect(()=>{!s||!t||D.current(m,t)},[m,t]);const T=()=>{s&&s.toggleSource()},I=C.debounce((z,V)=>O(z,V),500,!0),O=(z,V)=>{z&&g(V)},N=z=>{if(!o){new C.Notice(x("Please open thino first"));return}if(r&&o){o.register(lm(r.constructor.prototype,{onUpdate:Z=>function(...$){if(Z.call(this,$),this.owner.getViewType()==="thino_view"||this.owner instanceof nc){const oe=this.get();I(this.owner,oe)}},getMode:()=>function(){return"source"}})),o.register(lm(C.Workspace.prototype,{getActiveViewOfType:Z=>function($){const oe=Z.call(this,$);if(!oe&&($==null?void 0:$.VIEW_TYPE)==="markdown"){const te=this.activeLeaf;if(te.view instanceof nc)return te.view}return oe},setActiveLeaf:Z=>function($,oe){if(E5($)&&(Z.call(this,$,oe),$.activeTime=17e11),Z.call(this,$,oe),$.view instanceof nc){const te=ft.getState().instanceList.get($.id);if(!te)return;self.app.workspace.activeEditor=te.owner,$.view.editor=te.editor}},getActiveFile:Z=>function(){var oe;const $=Z.call(this);return((oe=this.activeLeaf)==null?void 0:oe.view)instanceof nc&&v||$}}));const V=new r.constructor(o.app,z,o);V.owner.editor=V.editor,V.set&&V.set("",!0),V.owner.onMarkdownScroll=()=>{},t.workspace.trigger("thino-editor-created",z,V.editor),h(!0),c(V),ft.setInstance(`${o.leaf.id}`,V)}};return{instance:s,value:m,set:z=>{try{s&&((s==null?void 0:s.editor).replaceSelection(z),g(z))}catch(V){console.error(V)}},get:()=>s?s.get():"",append:(z,V)=>{if(!s||V&&V!==s.owner.leaf.id)return;const $=(s.get()||"")+z;(s==null?void 0:s.editor).replaceSelection(z),g($)},clear:()=>{s&&(s.clear(),g(""))},toggleSource:T}};function QE(e){return`thinoEditorContentCache:${e}`}function C5(e){try{const t=QE(e==null?void 0:e.appId);return Vr.get([t])[t]||""}catch(t){return console.error(t),""}}function M5(e,t){try{const n=QE(t==null?void 0:t.appId);Vr.set({[n]:e})}catch(n){console.error(n)}}function k5(e,t){return{line:e.line,ch:e.ch+t}}const AD=({entity:{name:e,char:t,file:n}})=>y.jsx("div",{children:`${t}`}),N5=({data:e})=>y.jsx("div",{children:"Loading"});let Ks;const A5=j.forwardRef((e,t)=>{var Ve;const{globalState:{useTinyUndoHistoryCache:n,globalEditorShown:r,memoListView:o},dailyNotesState:{settings:i,app:s}}=j.useContext(Pt),{SaveMemoButtonLabel:c,SaveMemoButtonIcon:d}=i,{className:h,inputerType:m,initialContent:g,placeholder:v,showConfirmBtn:b,showCancelBtn:D,onConfirmBtnClick:T,onCancelBtnClick:I,onContentChange:O}=e,N=j.useRef(null),B=j.useRef(null),P=j.useRef(null),U=X9(),{instance:L,value:z,set:V,get:Z,append:$,clear:oe,toggleSource:te,focus:ye}=x5(B.current),[,ge,ce]=ri(0),[Q,ue]=ri(!1);j.useEffect(()=>{var Re,$e;if(i&&i.FocusOnEditor)switch(m){case"minimal":case"memos":(Re=N.current)==null||Re.focus();break;case"obsidian":L&&(($e=L.editor)==null||$e.focus())}},[i,L]),j.useEffect(()=>{if(!s)return;const Re=s.workspace.getLeavesOfType(Bo);let $e,qe;Re.length>0?(qe=Re[0].view.containerEl,$e=qe.offsetHeight):(qe=document,$e=window.outerHeight),ge($e)},[s]),j.useEffect(()=>{!N.current||m==="obsidian"||g&&(N.current.value=g,U())},[]),j.useEffect(()=>{var Re;if(m!=="obsidian")if(n){if(!N.current)return;const{tinyUndoActionsCache:$e,tinyUndoIndexCache:qe}=Vr.get(["tinyUndoActionsCache","tinyUndoIndexCache"]);return P.current=new Q9(N.current,{interval:5e3,initialActions:$e,initialIndex:qe}),P.current.subscribe((lt,It)=>{Vr.set({tinyUndoActionsCache:lt,tinyUndoIndexCache:It})}),()=>{var lt;(lt=P.current)==null||lt.destroy()}}else(Re=P.current)==null||Re.destroy(),P.current=null,Vr.remove(["tinyUndoActionsCache","tinyUndoIndexCache"])},[n]),j.useEffect(()=>{N.current&&(N.current.style.height="auto",N.current.style.height=(N.current.scrollHeight??0)+"px")},[(Ve=N.current)==null?void 0:Ve.value]),j.useImperativeHandle(t,()=>({element:N.current,blur:()=>{var Re,$e;switch(m){case"minimal":case"memos":(Re=N.current)==null||Re.blur();break;case"obsidian":L&&(($e=L.editor)==null||$e.blur())}},focus:Re=>{var $e,qe,lt,It,Fe;switch(m){case"minimal":case"memos":($e=N.current)==null||$e.focus();break;case"obsidian":if(L){if(Re&&Re!==((It=(lt=(qe=L==null?void 0:L.owner)==null?void 0:qe.view)==null?void 0:lt.leaf)==null?void 0:It.id))return;(Fe=L.editor)==null||Fe.focus()}}},insertTag:Re=>{var $e,qe,lt;switch(m){case"minimal":case"memos":{if(!N.current)return;const It=N.current.value;N.current.value=It.slice(0,N.current.selectionStart)+"# "+It.slice(N.current.selectionStart),O(N.current.value),U();break}case"obsidian":if(Re&&Re!==((lt=(qe=($e=L==null?void 0:L.owner)==null?void 0:$e.view)==null?void 0:qe.leaf)==null?void 0:lt.id))return;if(L){const It=L.editor,Fe=It.getCursor("from");It.replaceRange("#",Fe),It.setSelection(k5(Fe,1))}break}},insertText:(Re,$e)=>{switch(m){case"minimal":case"memos":{if(!N.current)return;const qe=N.current.value;N.current.value=qe.slice(0,N.current.selectionStart)+Re+qe.slice(N.current.selectionStart),O(N.current.value),U()}break;case"obsidian":L&&$(Re,$e);break}},setContent:Re=>{switch(m){case"minimal":case"memos":N.current&&(N.current.value=Re,O(N.current.value),U());break;case"obsidian":L&&V(Re);break}},getContent:()=>{switch(m){case"minimal":case"memos":return N.current?N.current.value:"";case"obsidian":return Z()}},toggleSource:()=>{switch(m){case"minimal":case"memos":break;case"obsidian":te();break}},clear:()=>{switch(m){case"minimal":case"memos":N.current&&(N.current.value="",O(N.current.value),U());break;case"obsidian":oe();break}}}),[L,m]);const se=Re=>{if(!N.current)return;const{fileManager:$e}=Le.getState().dailyNotesState.app;if(Re.currentTrigger==="#"){const qe=N.current.value;let lt;Ks!=null?lt=Ks.length:lt=0;let It=N.current.selectionStart;for(let Fe=0;Fe<qe.length;Fe++)/\s/g.test(qe[It])||It++;N.current.value=qe.slice(0,N.current.selectionStart-lt)+Re.item.char+qe.slice(It),O(N.current.value),U()}else if(Re.currentTrigger==="[["){const qe=$e.generateMarkdownLink(Re.item.file,Re.item.file.path,"",""),lt=N.current.value;let It;Ks!=null?qe.contains("[[")||Re.item.file.extension!=="md"?It=Ks.length+1:It=Ks.length+2:It=2;let Fe=N.current.selectionStart;for(let st=0;st<lt.length;st++)/\s/g.test(lt[Fe])||Fe++;N.current.value=lt.slice(0,N.current.selectionStart-It)+qe+lt.slice(Fe),O(N.current.value),U()}},we=j.useCallback(()=>{var Re;O(((Re=N.current)==null?void 0:Re.value)||""),U()},[]),J=()=>{var Re;switch(m){case"minimal":case"memos":if(!N.current)return;N.current.value=fe(),T(N.current.value),N.current.value="",U(),(Re=P.current)==null||Re.resetState();break;case"obsidian":T(Z()),oe(),U();break}},ee=j.useCallback(()=>{switch(m){case"minimal":case"memos":N.current&&(N.current.value="",O(N.current.value),U());break;case"obsidian":oe();break}I()},[m,L,N]),fe=()=>Vr.get(["thinoEditorContentCache"]).thinoEditorContentCache||"",xe=()=>{if(N.current)return N.current.value=fe(),N.current.value},je=Re=>{switch(Re){case"memos":return y.jsx(KE,{className:`common-editor-inputer scroll ${Q?" editing":""}`,loadingComponent:N5,placeholder:v,movePopupAsYouType:!0,value:xe(),innerRef:$e=>{N.current=$e},onFocus:()=>{ue(!0)},onBlur:()=>{ue(!1)},onInput:we,style:{maxHeight:`${ce.current>400?ce.current-400:100}px`},dropdownStyle:{minWidth:180,maxHeight:250,overflowY:"auto"},minChar:0,onItemSelected:se,scrollToItem:!0,trigger:{"#":{dataProvider:$e=>(Ks=$e,w5($e).map(({name:qe,char:lt})=>({name:qe,char:lt}))),component:AD,afterWhitespace:!0,output:$e=>$e.char},"[[":{dataProvider:$e=>(Ks=$e,b5($e).slice(0,10).map(({name:qe,char:lt,file:It})=>({name:qe,char:lt,file:It}))),component:AD,afterWhitespace:!0,output:$e=>$e.char}}});case"minimal":return y.jsx("textarea",{style:{minHeight:48},className:"common-editor-inputer scroll",rows:1,placeholder:v,ref:N,onInput:we});case"obsidian":return y.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",onClick:()=>{var $e;($e=L==null?void 0:L.editor)==null||$e.focus()},ref:B});default:return y.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",ref:B})}};return y.jsxs("div",{className:"common-editor-wrapper "+h,children:[je(m),y.jsxs("div",{className:"common-tools-wrapper",children:[y.jsx("div",{className:"common-tools-container",children:y.jsx(ka,{when:e.tools!==void 0,children:e.tools})}),y.jsxs("div",{className:"btns-container",children:[y.jsx(ka,{when:D,children:y.jsx("button",{className:"action-btn cancel-btn",onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!r&&ee()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||r)&&ee()},children:ot.getState().pathname==="/"&&o==="chat"&&((i==null?void 0:i.chatViewStyle)==="fluent"||(i==null?void 0:i.chatViewStyle)==="inline")?"":x("CANCEL EDIT")})}),y.jsx(ka,{when:b,children:y.jsxs("button",{title:"Ctrl/Cmd + Enter to save thino",className:"action-btn confirm-btn",onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!r&&J()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||r)&&J()},children:[o==="chat"&&((i==null?void 0:i.chatViewStyle)==="fluent"||(i==null?void 0:i.chatViewStyle)==="inline")?"":c,y.jsx("span",{className:"icon-text",children:null})]})})]})]})]})}),F5=typeof window<"u"?j.useLayoutEffect:j.useEffect;function O5(e,t,n,r){const o=j.useRef(t);F5(()=>{o.current=t},[t]),j.useEffect(()=>{const i=(n==null?void 0:n.current)||window;if(!(i&&i.addEventListener))return;const s=c=>{o.current(c)};return i.addEventListener(e,s,r),()=>{i.removeEventListener(e,s,r)}},[e,n,r])}function Gm(e,t,n="mousedown"){O5(n,r=>{const o=r.target;if(!o||!o.isConnected||o.closest(".suggestion-container")||o.closest(".menu"))return;(Array.isArray(e)?e.every(s=>s.current&&!s.current.contains(o)):e.current&&!e.current.contains(o))&&t(r)})}const XE=e=>{const{year:t,handleYearChange:n}=e,[r,o]=j.useState([]),[i,s]=j.useState(t),c=j.useRef(null),d=j.useRef(null),[h,m]=ie.useState(!1),g=ie.useRef(null);Gm(g,()=>{m(!1)}),j.useEffect(()=>{c.current&&C.setIcon(c.current,"chevron-left"),d.current&&C.setIcon(d.current,"chevron-right")},[c,d,h]),j.useEffect(()=>{b(i)},[t]);const b=D=>{const T=parseInt(D),I=T-T%10,O=[];for(let N=0;N<10;N++)O.push(`${I+N}`);o(O)};return y.jsxs(y.Fragment,{children:[y.jsxs("span",{className:"btn year-btn",onClick:()=>{m(!h)},children:[y.jsx("span",{children:t}),y.jsx("span",{children:x("year")})]}),h&&y.jsxs("div",{ref:g,className:"year-picker-wrapper",children:[y.jsxs("div",{className:"year-picker-header",children:[y.jsxs("div",{className:"year-picker-header-title",children:[i," "+(x("year")||"")]}),y.jsxs("div",{className:"year-picker-header-btns",children:[y.jsx("span",{className:"btn",ref:c,onClick:()=>{const D=parseInt(i)-10;s(D.toString()),b(D.toString())}}),y.jsx("span",{className:"btn",ref:d,onClick:()=>{const D=parseInt(i)+10;s(D.toString()),b(D.toString())}})]})]}),y.jsx("div",{className:"year-picker-body",children:y.jsx("div",{className:"year-picker-body-list",children:r.map(D=>y.jsx("div",{className:`year-picker-body-item ${D===i?"selected":""}`,onClick:()=>{s(D),n(D),m(!1)},children:D},D))})})]})]})},ex=e=>{const{month:t,handleMonthChange:n}=e,[r,o]=j.useState([]),[i,s]=j.useState((parseInt(t)+1).toString()),[c,d]=ie.useState(!1),h=ie.useRef(null);Gm(h,()=>{d(!1)}),j.useEffect(()=>{g()},[t]);const g=()=>{const v=[];for(let b=1;b<=12;b++)v.push(`${b}`);o(v)};return y.jsxs(y.Fragment,{children:[y.jsxs("span",{className:"btn month-btn",onClick:()=>{d(!c)},children:[y.jsxs("span",{children:[x("monthsShort")[parseInt(t)]||parseInt(t)+1," "]}),y.jsx("span",{children:x("month")||""})]}),c&&y.jsxs("div",{ref:h,className:"month-picker-wrapper",children:[y.jsxs("div",{className:"month-picker-header",children:[y.jsxs("div",{className:"month-picker-header-title",children:[i," "+(x("month")||"")]}),y.jsx("div",{className:"month-picker-header-btns"})]}),y.jsx("div",{className:"month-picker-body",children:y.jsx("div",{className:"month-picker-body-list",children:r.map(v=>y.jsx("div",{className:`month-picker-body-item ${v===i?"selected":""}`,onClick:()=>{s(v),n(v),d(!1)},children:v},v))})})]})]})},Yv=e=>{const{className:t,datestamp:n,handleDateStampChange:r}=e,[o,i]=j.useState($p(n)),[s,c]=j.useState(n);j.useEffect(()=>{i($p(n))},[n]);const d=new Date(o),h=d.getDay(),m=[];for(let D=0;D<h;D++)m.push({date:0,datestamp:d.getTime()-ul*(7-D)});const g=P5(o);for(let D=1;D<=g;D++)m.push({date:D,datestamp:d.getTime()+ul*(D-1)});const v=(D,T)=>{r(T,D.nativeEvent),c(T)},b=D=>{const T=d.getFullYear(),I=d.getMonth()+1;let O=0;I===1&&D===-1?O=new Date(`${T-1}/12/1`).getTime():I===12&&D===1?O=new Date(`${T+1}/1/1`).getTime():O=new Date(`${T}/${I+D}/1`).getTime(),i($p(O))};return y.jsxs("div",{className:`date-picker-wrapper ${t}`,children:[y.jsxs("div",{className:"date-picker-header",children:[y.jsx("span",{ref:D=>{D&&C.setIcon(D,"chevron-left")},className:"btn btn-text",onClick:()=>b(-1)}),y.jsxs("span",{className:"normal-text",children:[y.jsx(XE,{year:d.getFullYear().toString(),handleYearChange:D=>{i($p(new Date(`${D}/${d.getMonth()+1}/1`).getTime()))}}),y.jsx(ex,{month:d.getMonth().toString(),handleMonthChange:D=>{i($p(new Date(`${d.getFullYear()}/${parseInt(D)}/1`).getTime()))}})]}),y.jsx("span",{ref:D=>{D&&C.setIcon(D,"chevron-right")},className:"btn btn-text",onClick:()=>b(1)})]}),y.jsxs("div",{className:"date-picker-day-container",children:[y.jsx("div",{className:"date-picker-day-header",children:x("weekDaysShort").map(D=>y.jsx("span",{className:"day-item",children:D},D))}),y.jsx("div",{className:"date-picker-day-content",children:m.map(D=>D.date===0?y.jsx("span",{className:"day-item null",children:""},D.datestamp):y.jsx("span",{className:`day-item ${D.datestamp===n?"current":""} ${D.datestamp===s?"selected":""}`,onClick:T=>v(T,D.datestamp),children:y.jsx("span",{className:"day-item-text",children:D.date})},D.datestamp))})]})]})};function P5(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/ul}function $p(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}var FD=function(t){return t.reduce(function(n,r){var o=r[0],i=r[1];return n[o]=i,n},{})},OD=typeof window<"u"&&window.document&&window.document.createElement?j.useLayoutEffect:j.useEffect,Ni="top",Fa="bottom",Oa="right",Ai="left",pb="auto",Jm=[Ni,Fa,Oa,Ai],ih="start",vm="end",j5="clippingParents",tx="viewport",qp="popper",L5="reference",PD=Jm.reduce(function(e,t){return e.concat([t+"-"+ih,t+"-"+vm])},[]),mb=[].concat(Jm,[pb]).reduce(function(e,t){return e.concat([t,t+"-"+ih,t+"-"+vm])},[]),R5="beforeRead",_5="read",B5="afterRead",H5="beforeMain",U5="main",Y5="afterMain",z5="beforeWrite",V5="write",Z5="afterWrite",W5=[R5,_5,B5,H5,U5,Y5,z5,V5,Z5];function hl(e){return e?(e.nodeName||"").toLowerCase():null}function oa(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function pd(e){var t=oa(e).Element;return e instanceof t||e instanceof Element}function Na(e){var t=oa(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function gb(e){if(typeof ShadowRoot>"u")return!1;var t=oa(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function $5(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!Na(i)||!hl(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(s){var c=o[s];c===!1?i.removeAttribute(s):i.setAttribute(s,c===!0?"":c)}))})}function q5(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=s.reduce(function(d,h){return d[h]="",d},{});!Na(o)||!hl(o)||(Object.assign(o.style,c),Object.keys(i).forEach(function(d){o.removeAttribute(d)}))})}}const G5={name:"applyStyles",enabled:!0,phase:"write",fn:$5,effect:q5,requires:["computeStyles"]};function cl(e){return e.split("-")[0]}var dd=Math.max,sv=Math.min,ah=Math.round;function m1(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function nx(){return!/^((?!chrome|android).)*safari/i.test(m1())}function sh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&Na(e)&&(o=e.offsetWidth>0&&ah(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&ah(r.height)/e.offsetHeight||1);var s=pd(e)?oa(e):window,c=s.visualViewport,d=!nx()&&n,h=(r.left+(d&&c?c.offsetLeft:0))/o,m=(r.top+(d&&c?c.offsetTop:0))/i,g=r.width/o,v=r.height/i;return{width:g,height:v,top:m,right:h+g,bottom:m+v,left:h,x:h,y:m}}function yb(e){var t=sh(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function rx(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&gb(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ql(e){return oa(e).getComputedStyle(e)}function J5(e){return["table","td","th"].indexOf(hl(e))>=0}function lc(e){return((pd(e)?e.ownerDocument:e.document)||window.document).documentElement}function zv(e){return hl(e)==="html"?e:e.assignedSlot||e.parentNode||(gb(e)?e.host:null)||lc(e)}function jD(e){return!Na(e)||Ql(e).position==="fixed"?null:e.offsetParent}function K5(e){var t=/firefox/i.test(m1()),n=/Trident/i.test(m1());if(n&&Na(e)){var r=Ql(e);if(r.position==="fixed")return null}var o=zv(e);for(gb(o)&&(o=o.host);Na(o)&&["html","body"].indexOf(hl(o))<0;){var i=Ql(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Km(e){for(var t=oa(e),n=jD(e);n&&J5(n)&&Ql(n).position==="static";)n=jD(n);return n&&(hl(n)==="html"||hl(n)==="body"&&Ql(n).position==="static")?t:n||K5(e)||t}function vb(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function um(e,t,n){return dd(e,sv(t,n))}function Q5(e,t,n){var r=um(e,t,n);return r>n?n:r}function ox(){return{top:0,right:0,bottom:0,left:0}}function ix(e){return Object.assign({},ox(),e)}function ax(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var X5=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,ix(typeof t!="number"?t:ax(t,Jm))};function eF(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,c=cl(n.placement),d=vb(c),h=[Ai,Oa].indexOf(c)>=0,m=h?"height":"width";if(!(!i||!s)){var g=X5(o.padding,n),v=yb(i),b=d==="y"?Ni:Ai,D=d==="y"?Fa:Oa,T=n.rects.reference[m]+n.rects.reference[d]-s[d]-n.rects.popper[m],I=s[d]-n.rects.reference[d],O=Km(i),N=O?d==="y"?O.clientHeight||0:O.clientWidth||0:0,B=T/2-I/2,P=g[b],U=N-v[m]-g[D],L=N/2-v[m]/2+B,z=um(P,L,U),V=d;n.modifiersData[r]=(t={},t[V]=z,t.centerOffset=z-L,t)}}function tF(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||rx(t.elements.popper,o)&&(t.elements.arrow=o))}const sx={name:"arrow",enabled:!0,phase:"main",fn:eF,effect:tF,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function lh(e){return e.split("-")[1]}var nF={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rF(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:ah(n*o)/o||0,y:ah(r*o)/o||0}}function LD(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,c=e.position,d=e.gpuAcceleration,h=e.adaptive,m=e.roundOffsets,g=e.isFixed,v=s.x,b=v===void 0?0:v,D=s.y,T=D===void 0?0:D,I=typeof m=="function"?m({x:b,y:T}):{x:b,y:T};b=I.x,T=I.y;var O=s.hasOwnProperty("x"),N=s.hasOwnProperty("y"),B=Ai,P=Ni,U=window;if(h){var L=Km(n),z="clientHeight",V="clientWidth";if(L===oa(n)&&(L=lc(n),Ql(L).position!=="static"&&c==="absolute"&&(z="scrollHeight",V="scrollWidth")),o===Ni||(o===Ai||o===Oa)&&i===vm){P=Fa;var Z=g&&L===U&&U.visualViewport?U.visualViewport.height:L[z];T-=Z-r.height,T*=d?1:-1}if(o===Ai||(o===Ni||o===Fa)&&i===vm){B=Oa;var $=g&&L===U&&U.visualViewport?U.visualViewport.width:L[V];b-=$-r.width,b*=d?1:-1}}var oe=Object.assign({position:c},h&&nF),te=m===!0?rF({x:b,y:T},oa(n)):{x:b,y:T};if(b=te.x,T=te.y,d){var ye;return Object.assign({},oe,(ye={},ye[P]=N?"0":"",ye[B]=O?"0":"",ye.transform=(U.devicePixelRatio||1)<=1?"translate("+b+"px, "+T+"px)":"translate3d("+b+"px, "+T+"px, 0)",ye))}return Object.assign({},oe,(t={},t[P]=N?T+"px":"",t[B]=O?b+"px":"",t.transform="",t))}function oF(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,c=n.roundOffsets,d=c===void 0?!0:c,h={placement:cl(t.placement),variation:lh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,LD(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,LD(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const lx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:oF,data:{}};var wy={passive:!0};function iF(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,c=s===void 0?!0:s,d=oa(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&h.forEach(function(m){m.addEventListener("scroll",n.update,wy)}),c&&d.addEventListener("resize",n.update,wy),function(){i&&h.forEach(function(m){m.removeEventListener("scroll",n.update,wy)}),c&&d.removeEventListener("resize",n.update,wy)}}const ux={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:iF,data:{}};var aF={left:"right",right:"left",bottom:"top",top:"bottom"};function zy(e){return e.replace(/left|right|bottom|top/g,function(t){return aF[t]})}var sF={start:"end",end:"start"};function RD(e){return e.replace(/start|end/g,function(t){return sF[t]})}function wb(e){var t=oa(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function bb(e){return sh(lc(e)).left+wb(e).scrollLeft}function lF(e,t){var n=oa(e),r=lc(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,c=0,d=0;if(o){i=o.width,s=o.height;var h=nx();(h||!h&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}return{width:i,height:s,x:c+bb(e),y:d}}function uF(e){var t,n=lc(e),r=wb(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=dd(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=dd(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-r.scrollLeft+bb(e),d=-r.scrollTop;return Ql(o||n).direction==="rtl"&&(c+=dd(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:c,y:d}}function Sb(e){var t=Ql(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function cx(e){return["html","body","#document"].indexOf(hl(e))>=0?e.ownerDocument.body:Na(e)&&Sb(e)?e:cx(zv(e))}function cm(e,t){var n;t===void 0&&(t=[]);var r=cx(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=oa(r),s=o?[i].concat(i.visualViewport||[],Sb(r)?r:[]):r,c=t.concat(s);return o?c:c.concat(cm(zv(s)))}function g1(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function cF(e,t){var n=sh(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function _D(e,t,n){return t===tx?g1(lF(e,n)):pd(t)?cF(t,n):g1(uF(lc(e)))}function dF(e){var t=cm(zv(e)),n=["absolute","fixed"].indexOf(Ql(e).position)>=0,r=n&&Na(e)?Km(e):e;return pd(r)?t.filter(function(o){return pd(o)&&rx(o,r)&&hl(o)!=="body"}):[]}function fF(e,t,n,r){var o=t==="clippingParents"?dF(e):[].concat(t),i=[].concat(o,[n]),s=i[0],c=i.reduce(function(d,h){var m=_D(e,h,r);return d.top=dd(m.top,d.top),d.right=sv(m.right,d.right),d.bottom=sv(m.bottom,d.bottom),d.left=dd(m.left,d.left),d},_D(e,s,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function dx(e){var t=e.reference,n=e.element,r=e.placement,o=r?cl(r):null,i=r?lh(r):null,s=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,d;switch(o){case Ni:d={x:s,y:t.y-n.height};break;case Fa:d={x:s,y:t.y+t.height};break;case Oa:d={x:t.x+t.width,y:c};break;case Ai:d={x:t.x-n.width,y:c};break;default:d={x:t.x,y:t.y}}var h=o?vb(o):null;if(h!=null){var m=h==="y"?"height":"width";switch(i){case ih:d[h]=d[h]-(t[m]/2-n[m]/2);break;case vm:d[h]=d[h]+(t[m]/2-n[m]/2);break}}return d}function wm(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.strategy,s=i===void 0?e.strategy:i,c=n.boundary,d=c===void 0?j5:c,h=n.rootBoundary,m=h===void 0?tx:h,g=n.elementContext,v=g===void 0?qp:g,b=n.altBoundary,D=b===void 0?!1:b,T=n.padding,I=T===void 0?0:T,O=ix(typeof I!="number"?I:ax(I,Jm)),N=v===qp?L5:qp,B=e.rects.popper,P=e.elements[D?N:v],U=fF(pd(P)?P:P.contextElement||lc(e.elements.popper),d,m,s),L=sh(e.elements.reference),z=dx({reference:L,element:B,strategy:"absolute",placement:o}),V=g1(Object.assign({},B,z)),Z=v===qp?V:L,$={top:U.top-Z.top+O.top,bottom:Z.bottom-U.bottom+O.bottom,left:U.left-Z.left+O.left,right:Z.right-U.right+O.right},oe=e.modifiersData.offset;if(v===qp&&oe){var te=oe[o];Object.keys($).forEach(function(ye){var ge=[Oa,Fa].indexOf(ye)>=0?1:-1,ce=[Ni,Fa].indexOf(ye)>=0?"y":"x";$[ye]+=te[ce]*ge})}return $}function hF(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,c=n.flipVariations,d=n.allowedAutoPlacements,h=d===void 0?mb:d,m=lh(r),g=m?c?PD:PD.filter(function(D){return lh(D)===m}):Jm,v=g.filter(function(D){return h.indexOf(D)>=0});v.length===0&&(v=g);var b=v.reduce(function(D,T){return D[T]=wm(e,{placement:T,boundary:o,rootBoundary:i,padding:s})[cl(T)],D},{});return Object.keys(b).sort(function(D,T){return b[D]-b[T]})}function pF(e){if(cl(e)===pb)return[];var t=zy(e);return[RD(e),t,RD(t)]}function mF(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,c=s===void 0?!0:s,d=n.fallbackPlacements,h=n.padding,m=n.boundary,g=n.rootBoundary,v=n.altBoundary,b=n.flipVariations,D=b===void 0?!0:b,T=n.allowedAutoPlacements,I=t.options.placement,O=cl(I),N=O===I,B=d||(N||!D?[zy(I)]:pF(I)),P=[I].concat(B).reduce(function(je,Ve){return je.concat(cl(Ve)===pb?hF(t,{placement:Ve,boundary:m,rootBoundary:g,padding:h,flipVariations:D,allowedAutoPlacements:T}):Ve)},[]),U=t.rects.reference,L=t.rects.popper,z=new Map,V=!0,Z=P[0],$=0;$<P.length;$++){var oe=P[$],te=cl(oe),ye=lh(oe)===ih,ge=[Ni,Fa].indexOf(te)>=0,ce=ge?"width":"height",Q=wm(t,{placement:oe,boundary:m,rootBoundary:g,altBoundary:v,padding:h}),ue=ge?ye?Oa:Ai:ye?Fa:Ni;U[ce]>L[ce]&&(ue=zy(ue));var se=zy(ue),we=[];if(i&&we.push(Q[te]<=0),c&&we.push(Q[ue]<=0,Q[se]<=0),we.every(function(je){return je})){Z=oe,V=!1;break}z.set(oe,we)}if(V)for(var J=D?3:1,ee=function(Ve){var Re=P.find(function($e){var qe=z.get($e);if(qe)return qe.slice(0,Ve).every(function(lt){return lt})});if(Re)return Z=Re,"break"},fe=J;fe>0;fe--){var xe=ee(fe);if(xe==="break")break}t.placement!==Z&&(t.modifiersData[r]._skip=!0,t.placement=Z,t.reset=!0)}}const fx={name:"flip",enabled:!0,phase:"main",fn:mF,requiresIfExists:["offset"],data:{_skip:!1}};function BD(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function HD(e){return[Ni,Oa,Fa,Ai].some(function(t){return e[t]>=0})}function gF(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=wm(t,{elementContext:"reference"}),c=wm(t,{altBoundary:!0}),d=BD(s,r),h=BD(c,o,i),m=HD(d),g=HD(h);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:m,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":g})}const hx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gF};function yF(e,t,n){var r=cl(e),o=[Ai,Ni].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=i[0],c=i[1];return s=s||0,c=(c||0)*o,[Ai,Oa].indexOf(r)>=0?{x:c,y:s}:{x:s,y:c}}function vF(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,s=mb.reduce(function(m,g){return m[g]=yF(g,t.rects,i),m},{}),c=s[t.placement],d=c.x,h=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=s}const px={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vF};function wF(e){var t=e.state,n=e.name;t.modifiersData[n]=dx({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const mx={name:"popperOffsets",enabled:!0,phase:"read",fn:wF,data:{}};function bF(e){return e==="x"?"y":"x"}function SF(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,c=s===void 0?!1:s,d=n.boundary,h=n.rootBoundary,m=n.altBoundary,g=n.padding,v=n.tether,b=v===void 0?!0:v,D=n.tetherOffset,T=D===void 0?0:D,I=wm(t,{boundary:d,rootBoundary:h,padding:g,altBoundary:m}),O=cl(t.placement),N=lh(t.placement),B=!N,P=vb(O),U=bF(P),L=t.modifiersData.popperOffsets,z=t.rects.reference,V=t.rects.popper,Z=typeof T=="function"?T(Object.assign({},t.rects,{placement:t.placement})):T,$=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),oe=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,te={x:0,y:0};if(L){if(i){var ye,ge=P==="y"?Ni:Ai,ce=P==="y"?Fa:Oa,Q=P==="y"?"height":"width",ue=L[P],se=ue+I[ge],we=ue-I[ce],J=b?-V[Q]/2:0,ee=N===ih?z[Q]:V[Q],fe=N===ih?-V[Q]:-z[Q],xe=t.elements.arrow,je=b&&xe?yb(xe):{width:0,height:0},Ve=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ox(),Re=Ve[ge],$e=Ve[ce],qe=um(0,z[Q],je[Q]),lt=B?z[Q]/2-J-qe-Re-$.mainAxis:ee-qe-Re-$.mainAxis,It=B?-z[Q]/2+J+qe+$e+$.mainAxis:fe+qe+$e+$.mainAxis,Fe=t.elements.arrow&&Km(t.elements.arrow),st=Fe?P==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,it=(ye=oe==null?void 0:oe[P])!=null?ye:0,ct=ue+lt-it-st,Tt=ue+It-it,xt=um(b?sv(se,ct):se,ue,b?dd(we,Tt):we);L[P]=xt,te[P]=xt-ue}if(c){var _t,Yt=P==="x"?Ni:Ai,vn=P==="x"?Fa:Oa,$t=L[U],tn=U==="y"?"height":"width",rn=$t+I[Yt],Xt=$t-I[vn],Ln=[Ni,Ai].indexOf(O)!==-1,lr=(_t=oe==null?void 0:oe[U])!=null?_t:0,$r=Ln?rn:$t-z[tn]-V[tn]-lr+$.altAxis,tr=Ln?$t+z[tn]+V[tn]-lr-$.altAxis:Xt,nr=b&&Ln?Q5($r,$t,tr):um(b?$r:rn,$t,b?tr:Xt);L[U]=nr,te[U]=nr-$t}t.modifiersData[r]=te}}const gx={name:"preventOverflow",enabled:!0,phase:"main",fn:SF,requiresIfExists:["offset"]};function DF(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function TF(e){return e===oa(e)||!Na(e)?wb(e):DF(e)}function IF(e){var t=e.getBoundingClientRect(),n=ah(t.width)/e.offsetWidth||1,r=ah(t.height)/e.offsetHeight||1;return n!==1||r!==1}function EF(e,t,n){n===void 0&&(n=!1);var r=Na(t),o=Na(t)&&IF(t),i=lc(t),s=sh(e,o,n),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((hl(t)!=="body"||Sb(i))&&(c=TF(t)),Na(t)?(d=sh(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=bb(i))),{x:s.left+c.scrollLeft-d.x,y:s.top+c.scrollTop-d.y,width:s.width,height:s.height}}function xF(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(c){if(!n.has(c)){var d=t.get(c);d&&o(d)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function CF(e){var t=xF(e);return W5.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function MF(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function kF(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var UD={placement:"bottom",modifiers:[],strategy:"absolute"};function YD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function yx(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?UD:o;return function(c,d,h){h===void 0&&(h=i);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},UD,i),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},g=[],v=!1,b={state:m,setOptions:function(O){var N=typeof O=="function"?O(m.options):O;T(),m.options=Object.assign({},i,m.options,N),m.scrollParents={reference:pd(c)?cm(c):c.contextElement?cm(c.contextElement):[],popper:cm(d)};var B=CF(kF([].concat(r,m.options.modifiers)));return m.orderedModifiers=B.filter(function(P){return P.enabled}),D(),b.update()},forceUpdate:function(){if(!v){var O=m.elements,N=O.reference,B=O.popper;if(YD(N,B)){m.rects={reference:EF(N,Km(B),m.options.strategy==="fixed"),popper:yb(B)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function($){return m.modifiersData[$.name]=Object.assign({},$.data)});for(var P=0;P<m.orderedModifiers.length;P++){if(m.reset===!0){m.reset=!1,P=-1;continue}var U=m.orderedModifiers[P],L=U.fn,z=U.options,V=z===void 0?{}:z,Z=U.name;typeof L=="function"&&(m=L({state:m,options:V,name:Z,instance:b})||m)}}}},update:MF(function(){return new Promise(function(I){b.forceUpdate(),I(m)})}),destroy:function(){T(),v=!0}};if(!YD(c,d))return b;b.setOptions(h).then(function(I){!v&&h.onFirstUpdate&&h.onFirstUpdate(I)});function D(){m.orderedModifiers.forEach(function(I){var O=I.name,N=I.options,B=N===void 0?{}:N,P=I.effect;if(typeof P=="function"){var U=P({state:m,name:O,instance:b,options:B}),L=function(){};g.push(U||L)}})}function T(){g.forEach(function(I){return I()}),g=[]}return b}}var NF=[ux,mx,lx,G5,px,fx,gx,sx,hx],vx=yx({defaultModifiers:NF}),AF=typeof Element<"u",FF=typeof Map=="function",OF=typeof Set=="function",PF=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Vy(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Vy(e[r],t[r]))return!1;return!0}var i;if(FF&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!Vy(r.value[1],t.get(r.value[0])))return!1;return!0}if(OF&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(PF&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(AF&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!Vy(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var jF=function(t,n){try{return Vy(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const LF=Wr(jF);var RF=[],Vv=function(t,n,r){r===void 0&&(r={});var o=j.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||RF},s=j.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=s[0],d=s[1],h=j.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(b){var D=b.state,T=Object.keys(D.elements);db.flushSync(function(){d({styles:FD(T.map(function(I){return[I,D.styles[I]||{}]})),attributes:FD(T.map(function(I){return[I,D.attributes[I]]}))})})},requires:["computeStyles"]}},[]),m=j.useMemo(function(){var v={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[h,{name:"applyStyles",enabled:!1}])};return LF(o.current,v)?o.current||v:(o.current=v,v)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,h]),g=j.useRef();return OD(function(){g.current&&g.current.setOptions(m)},[m]),OD(function(){if(!(t==null||n==null)){var v=r.createPopper||vx,b=v(t,n,m);return g.current=b,function(){b.destroy(),g.current=null}}},[t,n,r.createPopper]),{state:g.current?g.current.state:null,styles:c.styles,attributes:c.attributes,update:g.current?g.current.update:null,forceUpdate:g.current?g.current.forceUpdate:null}},_F=function(){},BF=_F;const HF=Wr(BF),UF=(e,t)=>({placement:e,modifiers:[{name:"flip",options:{allowedAutoPlacements:t,rootBoundary:"document"}},{name:"preventOverflow",options:{rootBoundary:"document"}}]}),YF=e=>{const n=j.useRef(null),[r,o]=j.useState(null),[i,s]=j.useState(0);let c,d;const h=()=>{if(C.Platform.isMobile){c="right-end",d=["bottom"];return}const g=window.innerWidth-i>280*1.2,v=window.innerWidth-i<280,b=window.innerWidth>280*1.5;if(e.DefaultEditorLocation!=="Bottom"){g?(c="right-end",d=["left-end"]):v&&b?(c="left-end",d=["right-end"]):(c="bottom",d=["bottom"]);return}g?(c="top-end",d=["top-start"]):v&&i>280?(c="top-start",d=["top-end"]):(c="top",d=["top"])};j.useEffect(()=>{e&&h()},[i,e==null?void 0:e.DefaultEditorLocation]);const m=Vv(n.current,r,UF(c,d));return{setPosX:s,popperRef:n,setPopperElement:o,popper:m}},zF=()=>{const e=new Set,t=ot.getState().query.filter,n=ot.getState().query.tag,r=Qt.getQueryById(t||"");if(r&&r.querystring){const o=JSON.parse(r.querystring);if(Array.isArray(o))for(const i of o)i.type==="TAG"&&i.value&&i.value.operator==="CONTAIN"&&e.add(i.value.value)}return n&&e.add(n),Array.from(e)},VF=e=>{const{offsetLeft:t,offsetTop:n,offsetHeight:r,offsetWidth:o,selectionEnd:i}=e,s=document.createElement("div"),c=window.getComputedStyle(e);for(const T of c)s.style.setProperty(T,c.getPropertyValue(T));s.style.position="fixed",s.style.visibility="hidden",s.style.whiteSpace="pre-wrap";const h=e.tagName==="INPUT"?e.value.replace(/ /g,"."):e.value;s.textContent=h.substring(0,i||0),e.tagName==="TEXTAREA"&&(s.style.height="auto");const m=document.createElement("span");m.textContent=h.substring(i||0)||".",s.appendChild(m),document.body.appendChild(s);const{offsetLeft:g,offsetTop:v,offsetHeight:b,offsetWidth:D}=m;return document.body.removeChild(s),{x:t+g,y:n+v,h:r+b,w:o+D}},fd=({className:e,editorType:t,destroy:n})=>{const{globalState:r,dailyNotesState:{app:o,settings:i,view:s,verifyState:c}}=j.useContext(Pt),[d,h]=fl(!0),m=j.useRef(d),[g,v]=ri(!0),b=j.useRef(null),D=j.useRef(null),T=j.useRef(r),[I,O]=ri(!1),[N,B]=ri(!1),{setPosX:P,popperRef:U,setPopperElement:L,popper:z}=YF(i),[V]=ri(parseInt(C.moment().format("x"))),Z=j.useRef(null),[$,oe]=ri((i==null?void 0:i.EnabledLocationList.length)===1?i==null?void 0:i.EnabledLocationList[0].value:(i==null?void 0:i.MemoSaveLocation)||"DAILY"),te=j.useRef(i.MemoSaveLocation||"DAILY");j.useEffect(()=>{m.current=d},[d]),j.useEffect(()=>{!D.current||!o||!s||(s.registerEvent(o.workspace.on("focus-on-textarea",Fe=>{var st;(st=D.current)==null||st.focus(Fe==null?void 0:Fe.id)})),s.registerEvent(o.workspace.on("blur-on-memos",()=>{var Fe;(Fe=D.current)==null||Fe.blur()})),s.registerEvent(o.workspace.on("send-to-thino",async(Fe,st)=>{var it,ct;if(typeof Fe=="string")(it=D.current)==null||it.insertText(Fe+`
`,st.id);else{const Tt=Fe.toPNG(),xt=new Blob([Tt],{type:"image/png"}),_t=new File([xt],"image.png",{type:"image/png",lastModified:Date.now()});if(!_t)return;const Yt=await se(_t);Yt&&((ct=D.current)==null||ct.insertText(Yt+`
`,st.id))}})))},[D,s,o]),j.useEffect(()=>{i&&h(i.DefaultPrefix==="List")},[i==null?void 0:i.DefaultPrefix]),j.useEffect(()=>{if(i){if(i.EnabledLocationList.length===1){oe(i.EnabledLocationList[0].value);return}oe(i.MemoSaveLocation||"DAILY")}},[i==null?void 0:i.MemoSaveLocation,i==null?void 0:i.EnabledLocationList]),j.useEffect(()=>{var it;if(!i||!Z.current)return;const Fe=(it=gm.find(ct=>ct.title===$))==null?void 0:it.icon;C.setIcon(Z.current,Fe),C.requireApiVersion("1.4.4")&&C.setTooltip(Z.current,x("Thino Save To: ")+$),te.current=$;const st=r.manifest;if(st){const ct=o==null?void 0:o.plugins.getPlugin(st.id);if(ct){if(ct.settings.MemoSaveLocation===$)return;ct.settings.MemoSaveLocation=$,ct.saveSettings()}}},[$,g]),j.useEffect(()=>{D.current&&i.MemoSaveLocation&&oe(i.MemoSaveLocation)},[Z,i]),j.useEffect(()=>{if(!D.current||!i||C.Platform.isDesktop||r.globalEditorShown)return;const Fe=i.UseButtonToShowEditor&&i.DefaultEditorLocation==="Bottom";if(C.Platform.isDesktop){v(!0);return}if(t&&t==="inline"){v(!0);return}if(v(C.Platform.isMobile&&!Fe),!Fe||r.memoListView==="chat")return;const st=document.body.find(".memolist-wrapper");st&&(st.onscroll=()=>{if(r.globalEditorShown)return;if(!r.memoListView&&ft.getState().memoListView==="chat"){st.onscroll=null;return}const it=D.current.getContent();C.Platform.isMobile&&Fe&&!it&&v(!1)})},[r.globalEditorShown,t,D]);const ye=()=>{B(!1)};j.useEffect(()=>{var Fe,st,it,ct,Tt,xt,_t,Yt,vn;if(o&&(r.markMemoId||(Fe=r.editMemoId)!=null&&Fe.trim()&&r.editMemoId!==T.current.editMemoId)){const $t=o.workspace.getLeavesOfType("thino_view");$t.length>0&&o.workspace.revealLeaf($t[0])}if(r.markMemoId){const $t=`${x("MARK")}: [@THINO](${r.markMemoId})`;(st=D.current)==null||st.insertText($t),(it=D.current)==null||it.focus(),ft.setMarkMemoId("");return}if((ct=r.editMemoId)!=null&&ct.trim()&&r.editMemoId!==T.current.editMemoId){const $t=_e.getMemoById(r.editMemoId);if($t)switch(h($t.thinoType==="JOURNAL"),i.EditorType){case"memos":(Tt=D.current)==null||Tt.setContent($t.content.replace(/ \^\S{6}$/,"")||""),(xt=D.current)==null||xt.focus();break;case"obsidian":(_t=D.current)==null||_t.clear(),(Yt=D.current)==null||Yt.setContent($t.content.replace(/ \^\S{6}$/,"")||""),(vn=D.current)==null||vn.focus();break}}T.current=r},[r.markMemoId,r.editMemoId]),j.useEffect(()=>{var Fe,st,it;!D.current||I||i.EditorType==="memos"&&((Fe=D.current)==null||Fe.element.addEventListener("paste",ge),(st=D.current)==null||st.element.addEventListener("drop",ce),(it=D.current)==null||it.element.addEventListener("click",Q),O(!0))},[D.current]);const ge=async Fe=>{var st;if(Fe.clipboardData&&Fe.clipboardData.files.length>0){Fe.preventDefault();const it=Fe.clipboardData.files;for(const ct of it){const Tt=await se(ct);Tt&&((st=D.current)==null||st.insertText(Tt))}}},ce=async Fe=>{var st;if(Fe.dataTransfer&&Fe.dataTransfer.files.length>0){Fe.preventDefault();const it=Fe.dataTransfer.files;for(const ct of it){const Tt=await se(ct);Tt&&((st=D.current)==null||st.insertText(Tt))}}},Q=()=>{var Fe;ee(((Fe=D.current)==null?void 0:Fe.element.value)||"")},ue=async(Fe,st)=>{var Tt,xt,_t;const it=Fe.ctrlKey||Fe.metaKey,ct=Fe.altKey;if(Fe.key==="Escape"&&r.globalEditorShown&&(ft.setGlobalEditorShown(!1),Fe.preventDefault()),it&&Fe.key==="Enter"){Fe.preventDefault(),Fe.stopPropagation(),st?(await we((xt=D.current)==null?void 0:xt.getContent()),(_t=D.current)==null||_t.clear()):await we((Tt=D.current)==null?void 0:Tt.element.value);return}if(ct)for(let Yt=0;Yt<i.EnabledLocationList.length;Yt++)Fe.key===(Yt+1).toString()&&oe(i.EnabledLocationList[Yt].value);setTimeout(()=>{var Yt;st||ee(((Yt=D.current)==null?void 0:Yt.element.value)||"")})},se=j.useCallback(async Fe=>{const{type:st}=Fe;if(st.startsWith("image"))try{return`${await cb.upload(Fe)}`}catch(it){new C.Notice(it)}},[]),we=async Fe=>{if(!Fe||Fe.trim()===""){new C.Notice(x("Content cannot be empty"));return}const st=yt.getState().settings,it=st==null?void 0:st.addTagAutomatically,ct=st==null?void 0:st.addTagWithNewline,Tt=st==null?void 0:st.addTagPosition,_t=(zF()||[]).filter(tn=>!Fe.includes(`#${tn}`)),Yt=async(tn,rn)=>{rn=rn.replaceAll("&nbsp;"," "),by("");try{if(!tn){let Ln;switch(te.current){case"CANVAS":Ln=await _e.createMemoCanvas({text:rn,isList:m.current});break;case"MULTI":Ln=await _e.createMemoMultiFile({content:rn,isList:m.current});break;case"DAILY":Ln=await _e.createMemoDaily(rn,m.current);break;case"FILE":Ln=await _e.createMemoSingleFile({content:rn,isList:m.current});break}if(!Ln)return;_e.pushMemo(Ln),(!it||_t.length===0)&&ot.clearQuery();const lr=o||yt.getState().app,$r=lr==null?void 0:lr.loadLocalStorage("tokenForSync");Ln&&$r&&i.startSync&&setTimeout(async()=>{try{if(te.current!=="DAILY"){const tr=await $1({content:rn,thinoType:"FILE"});await _e.updateMemoById(Ln.id,tr,!0)}}catch(tr){console.error(tr)}},200);return}const Xt=_e.getMemoById(tn);if(Xt&&(Xt.content!==rn||Xt.thinoType!==(m.current?"JOURNAL":"TASK-TODO"))){const Ln=await _e.updateMemo(Xt.id,rn,m.current?"JOURNAL":Xt.thinoType.startsWith("TASK")?Xt.thinoType:"TASK-TODO");Ln.updatedAt=at.getDateTimeString(Date.now()),_e.editMemo(Ln)}ft.setEditMemoId("")}catch(Xt){new C.Notice(Xt.message)}},{editMemoId:vn}=ft.getState(),$t=_t&&_t.length>0&&it?Tt==="Beginning"?`${_t.map(tn=>`#${tn}`).join(" ")} ${ct?`
`:""}${Fe}`:`${Fe} ${ct?`
`:""}${_t.map(tn=>`#${tn}`).join(" ")}`:Fe;await Yt(vn,$t),n&&n(),by("")},J=j.useCallback(()=>{var Fe;ft.setEditMemoId(""),(Fe=D.current)==null||Fe.setContent(""),by("")},[]),ee=j.useCallback(Fe=>{if(by(Fe??""),!D.current)return;const st=D.current.getContent(),it=D.current.element.selectionStart,ct=st.slice(0,it),Tt=st.slice(it);(ct.endsWith("@")||ct.endsWith("📆"))&&Tt.startsWith(" ")||(ct.endsWith("@")||ct.endsWith("📆"))&&Tt===""?($e(),B(!0)):B(!1),setTimeout(()=>{var xt;(xt=D.current)==null||xt.focus()})},[i.EditorType]),fe=Fe=>{if(!D.current||!i)return;Fe&&(ye(),h(!1));const st=D.current.getContent(),it=D.current.element.selectionStart,ct=st.slice(0,it),Tt=st.slice(it),xt=C.moment(Fe);if(ct.endsWith("@"))switch(i.InsertDateFormat){case"Dataview":D.current.element.value=st.slice(0,D.current.element.selectionStart-1)+"[due::"+xt.format("YYYY-MM-DD")+"]"+Tt,D.current.element.setSelectionRange(it+17,it+17),D.current.focus(),ee(D.current.element.value);break;case"Tasks":D.current.element.value=st.slice(0,D.current.element.selectionStart-1)+"📆"+xt.format("YYYY-MM-DD")+Tt,D.current.element.setSelectionRange(it+11,it+11),D.current.focus(),ee(D.current.element.value)}else{D.current.element.value=ct+xt.format("YYYY-MM-DD")+Tt,D.current.element.setSelectionRange(it+10,it+10),D.current.focus(),ee(D.current.element.value);return}},xe=()=>{D.current&&h()},je=async()=>{var it;const Fe=!C.Platform.isDesktop&&await((it=window.Capacitor)==null?void 0:it.Plugins.Device.getId()),st=C.Platform.isDesktop?await er():Fe.identifier||Fe.uuid;return!c||(c==null?void 0:c.appId)!==st?(An(),!1):!0},Ve=async Fe=>{if(!await je())return;const st=new C.Menu;i.EnabledLocationList.forEach(xt=>{st.addItem(_t=>{var Yt;_t.setTitle(x(xt.value)).setIcon(((Yt=gm.find(vn=>vn.title===xt.value))==null?void 0:Yt.icon)??"file").setChecked($===xt.value).onClick(()=>{oe(xt.value)})})});let it=Fe.target,ct=null;for(;!it.hasClass("location-wrapper")&&(ct=it.parentElement,ct);)it=ct;const Tt=it.getBoundingClientRect();setTimeout(()=>{st.showAtPosition({x:Tt.x,y:Tt.bottom,width:Tt.width,left:!1,overlap:!0})},200)},Re=j.useCallback(()=>{var Fe,st;if(!(!D.current&&i.EditorType==="memos"))switch(i.EditorType){case"obsidian":(Fe=D.current)==null||Fe.focus(),(st=D.current)==null||st.insertTag();break;case"memos":{const it=D.current.getContent(),ct=D.current.element.selectionStart,Tt=it.slice(0,ct),xt=it.slice(ct);let _t=Tt+"# "+xt,Yt=Tt.length+1;Tt.endsWith("#")&&xt.startsWith(" ")&&(_t=Tt.slice(0,Tt.length-1)+xt.slice(1),Yt=Tt.length-1),D.current.element.value=_t,D.current.element.setSelectionRange(Yt,Yt),D.current.focus();const vn=new Event("input",{bubbles:!0,cancelable:!0});D.current.element.dispatchEvent(vn),ee(D.current.element.value)}}},[o]),$e=j.useCallback(()=>{if(!D.current||!U.current||!i||!o)return;const it=o.workspace.getLeavesOfType(Bo)[0].view.containerEl,ct=280,Tt=it.clientWidth,{x:xt,y:_t}=VF(D.current.element);let Yt,vn;C.Platform.isMobile?(window.innerWidth-xt>ct?Yt=(xt+ct+16>Tt,xt+18):window.innerWidth-xt<ct?Yt=(xt+ct+16>Tt,xt+34):Yt=D.current.element.clientWidth/2,i.DefaultEditorLocation==="Bottom"&&window.innerWidth>875?vn=_t+4:i.DefaultEditorLocation==="Bottom"&&window.innerWidth<=875?vn=_t+19:i.DefaultEditorLocation==="Top"&&window.innerWidth<=875&&(vn=_t+36)):(Yt=(xt+ct+16>Tt,xt+18),vn=_t+34),P(xt),U.current.style.left=`${Yt}px`,U.current.style.top=`${vn}px`},[i,o]),qe=j.useCallback(()=>{const Fe=document.createElement("input");document.body.appendChild(Fe),Fe.type="file",Fe.multiple=!1,Fe.accept="image/png, image/gif, image/jpeg",Fe.onchange=async()=>{var ct;if(!Fe.files||Fe.files.length===0)return;const st=Fe.files[0],it=await se(st);it&&((ct=D.current)==null||ct.insertText(it)),document.body.removeChild(Fe)},Fe.click()},[]),lt=!!r.editMemoId,It=j.useMemo(()=>({className:"memo-editor",inputerType:i.EditorType||"obsidian",initialContent:ZF(),placeholder:x("What do you think now..."),showConfirmBtn:!0,showCancelBtn:lt,showTools:!0,onConfirmBtnClick:we,onCancelBtnClick:J,onContentChange:ee}),[lt,i.EditorType]);return y.jsxs(y.Fragment,{children:[!r.globalEditorShown&&t==="block"&&y.jsx("div",{ref:Fe=>{b.current=Fe,Fe&&C.setIcon&&C.setIcon(Fe,"plus-circle")},className:`memo-show-editor-button ${g?"hidden":""}`,onClick:()=>{var Fe;(Fe=b.current.firstElementChild)==null||Fe.toggleClass("rotate-hidden",!0),setTimeout(()=>{v(!0),b.current.firstElementChild.toggleClass("rotate-hidden",!1)},500),setTimeout(()=>{var st;(st=D.current)==null||st.focus()},600)}}),y.jsxs("div",{className:`memo-editor-wrapper ${e||""} ${lt?"edit-ing":""} ${r.globalEditorShown?"fullscreen-editor":""} ${g?"":"hidden"}`,onKeyDownCapture:Fe=>ue(Fe,!0),children:[y.jsx("span",{className:`tip-text ${lt?"":"hidden"}`,children:"Modifying..."}),y.jsx(A5,{ref:D,...It,tools:y.jsxs(y.Fragment,{children:[y.jsx("span",{ref:Fe=>{Fe&&C.setIcon(Fe,"hash")},className:"btn action-btn add-tag",onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!r.globalEditorShown&&Re()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||r.globalEditorShown)&&Re()}}),y.jsx("span",{ref:Fe=>{Fe&&C.setIcon(Fe,"paperclip")},className:"btn action-btn file-upload",onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!r.globalEditorShown&&qe()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||r.globalEditorShown)&&qe()}}),y.jsx("span",{ref:Fe=>{Fe&&C.setIcon(Fe,d?"layout-list":"check-square")},className:Gn("btn action-btn list-or-task",d?"list":"task"),onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!r.globalEditorShown&&xe()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||r.globalEditorShown)&&xe()}}),y.jsx("div",{ref:Fe=>{Fe&&(C.setIcon&&C.setIcon(Fe,r.globalEditorShown?"shrink":"expand"),C.setTooltip&&C.setTooltip(Fe,r.globalEditorShown?x("Exit fullscreen mode"):x("Enter fullscreen mode")))},className:"action-btn show-editor pro",onPointerDown:async()=>{await je()&&(v(!0),ft.setGlobalEditorShown(!r.globalEditorShown))}}),y.jsx("div",{className:"action-btn split-line pro"}),y.jsx("div",{className:"action-btn location-wrapper pro",onClick:async Fe=>{i&&i.DefaultEditorLocation==="Top"&&!r.globalEditorShown&&await Ve(Fe)},onPointerDown:async Fe=>{(i&&i.DefaultEditorLocation==="Bottom"||r.globalEditorShown)&&await Ve(Fe)},children:y.jsx("div",{ref:Z,className:"action-btn file-location-btn"})})]})}),y.jsx("div",{ref:U,className:"date-picker",children:N&&y.jsx("div",{tabIndex:-1,style:z.styles.popper,...z.attributes.popper,ref:L,role:"dialog",children:y.jsx(Yv,{className:`editor-date-picker ${N?"":"hidden"}`,datestamp:V,handleDateStampChange:fe})})})]})]})};function ZF(){return Vr.get(["thinoEditorContentCache"]).thinoEditorContentCache??""}function by(e){Vr.set({thinoEditorContentCache:e})}const WF=e=>{const t=[];return e.map(n=>{t.length==0?t.push({date:C.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]}):t.some(o=>{if(o.date==C.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"))return o.have.push(n),!0})||t.push({date:C.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]})}),t},$F=e=>_e.getState().commentMemos.filter(t=>t.linkId===e.hasId).sort((t,n)=>at.getTimeStampByDate(t.createdAt)-at.getTimeStampByDate(n.createdAt)).map(t=>({...t,createdAtStr:at.getDateTimeString(t.createdAt),dateStr:at.getDateString(t.createdAt)})),qF=e=>{const t=yt.getState().settings,n=JN(),r=t!=null&&t.ShowDate?"    ":"",o="YYYY/MM/DD HH:mm:ss",i=/comment:(.*)$/g,s=/^\d{14}/g,c=(g,v,b)=>{const D=C.moment(g.createdAt,o).format("HH:mm");return b?b.replace(/{TIME}/g,D).replace(/{CONTENT}/g,v):`${D} ${v}`},d=g=>{const v=g.match(/TASK-(.*)?/g);return v?v[1]:""},h=g=>g==="TASK-TODO"?"- [ ] ":g==="TASK-DONE"?"- [x] ":g.match(/TASK-(.*)?/g)?`- [${d(g)}] `:"- ",m=g=>g.reduce((v,b)=>{const D=b.sourceType!=="MULTI"?`${b.content}`:`[[${b.path}]]`,T=t!=null&&t.ShowTime?c(b,D,t==null?void 0:t.DefaultMemoComposition):D,I=`${h(b.thinoType)}${T}`;let O="";return t.CommentOnMemos&&b.hasId!==void 0&&b.hasId!==""&&(O=$F(b).reduce((B,P)=>{const U=h(P.thinoType),L=P.content.replace(i,"").replace(s,""),z=t!=null&&t.ShowDate?`${U}[[${C.moment(P.createdAt).format(n)}]] ${C.moment(P.createdAt).format("HH:mm")} ${L}`:`${U}${L}`;return B+r+"    "+z+`
`},"")),v+r+I.replace(/ \^\S{6}/g,"")+`
`+O},"");return e.reduce((g,v)=>{const b=t!=null&&t.ShowDate?`- [[${C.moment(v.date,"YYYY-MM-DD").format(n)}]]
`:"",D=m(v.have),T=t!=null&&t.ShowDate&&(t!=null&&t.AddBlankLineWhenDate)&&!(t!=null&&t.CommentOnMemos)?`
`:"";return g+b+D+T},"").replace(/<br>/g,`
    `)},GF=[{label:x("Today"),value:C.moment().format("YYYY-MM-DD")},{label:x("Yesterday"),value:C.moment().subtract(1,"days").format("YYYY-MM-DD")},{label:x("Last 7 days"),value:C.moment().subtract(7,"days").format("YYYY-MM-DD")},{label:x("Last 30 days"),value:C.moment().subtract(30,"days").format("YYYY-MM-DD")},{label:x("Last 90 days"),value:C.moment().subtract(90,"days").format("YYYY-MM-DD")},{label:x("Last 180 days"),value:C.moment().subtract(180,"days").format("YYYY-MM-DD")},{label:x("Last 365 days"),value:C.moment().subtract(365,"days").format("YYYY-MM-DD")}],wx=e=>{const{handleValueChange:t,setShownStatus:n}=e;return y.jsxs(y.Fragment,{children:[e.type==="icon"&&y.jsx("div",{className:"quick-date-btn-group",children:GF.map((r,o)=>y.jsx("div",{className:"btn action-btn quick-date-btn",onClick:()=>{t(r.value),n&&n(!1)},children:r.label},o))}),y.jsx(Yv,{className:"calendar-date-picker",datestamp:(e==null?void 0:e.defaultValue)||C.moment().startOf("day").valueOf(),handleDateStampChange:(r,o)=>{t(e.type==="icon"?C.moment(r).format("YYYY-MM-DD"):r.toString()),n&&n(!1)}})]})},lv=e=>{const{handleValueChange:t}=e,[n,r]=ie.useState(!1),o=ie.useRef(null),i=ie.useRef(null),s=Vv(i.current,o.current,{placement:"bottom-start"});return Gm(o,()=>{r(!1)}),y.jsxs(y.Fragment,{children:[y.jsx("span",{ref:d=>{i.current=d,d&&e.type==="icon"&&C.setIcon(d,"calendar")},className:`btn calendar-btn ${e.type==="icon"?"icon-btn":"text-btn"}`,onClick:()=>{!C.Platform.isMobile&&r(!n),!C.Platform.isMobile&&(s!=null&&s.update)&&(s==null||s.update()),C.Platform.isMobile&&new bx(yt.getState().app,e.type,t).open()},children:e.type==="text"&&e.defaultValue?e.defaultText?e.defaultText:C.moment(e.defaultValue,"x").subtract(e.startOrEnd==="end"?1:0,"days").format("YYYY/MM/DD"):""}),y.jsx("div",{className:`menu-btns-popup ${n?"":"hidden"}`,ref:o,style:s.styles.popper,children:y.jsx(wx,{type:e.defaultText?"icon":e.type,handleValueChange:t,setShownStatus:r})})]})};class bx extends C.Modal{constructor(n,r,o){super(n);De(this,"root");De(this,"type");De(this,"handleValueChange");this.type=r,this.handleValueChange=o}onOpen(){const{contentEl:n}=this;this.root=Wm(n),this.root.render(y.jsx(wx,{type:this.type,handleValueChange:this.handleValueChange.bind(this),setShownStatus:r=>{!r&&this.close()}}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const JF=(e,t)=>(e%t+t)%t;class KF{constructor(t,n,r){De(this,"owner");De(this,"values");De(this,"suggestions");De(this,"selectedItem");De(this,"containerEl");this.owner=t,this.containerEl=n,n.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),n.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),r.register([],"ArrowUp",o=>{if(!o.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),r.register([],"ArrowDown",o=>{if(!o.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),r.register([],"Enter",o=>{if(!o.isComposing)return this.useSelectedItem(o),!1})}onSuggestionClick(t,n){t.preventDefault();const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1),this.useSelectedItem(t)}onSuggestionMouseover(t,n){const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1)}setSuggestions(t){this.containerEl.empty();const n=[];t.forEach(r=>{const o=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(r,o),n.push(o)}),this.values=t,this.suggestions=n,this.setSelectedItem(0,!1)}useSelectedItem(t){const n=this.values[this.selectedItem];n&&this.owner.selectSuggestion(n,t)}setSelectedItem(t,n){const r=JF(t,this.suggestions.length),o=this.suggestions[this.selectedItem],i=this.suggestions[r];o==null||o.removeClass("is-selected"),i==null||i.addClass("is-selected"),this.selectedItem=r,n&&i.scrollIntoView(!1)}}class Sx{constructor(t,n){De(this,"inputEl");De(this,"popper");De(this,"scope");De(this,"suggestEl");De(this,"suggest");De(this,"cb");this.inputEl=t,this.scope=new C.Scope,this.cb=n,this.suggestEl=createDiv("suggestion-container");const r=this.suggestEl.createDiv("suggestion");this.suggest=new KF(this,r,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("click",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",o=>{o.preventDefault()})}clearInput(){this.inputEl.value="",this.inputEl.trigger("blur"),this.inputEl.trigger("focus"),this.inputEl.trigger("input"),this.onInputChanged()}onInputChanged(){const t=this.inputEl.value,n=this.getSuggestions(t);if(!n){this.close();return}n.length>0?(this.suggest.setSuggestions(n),this.open(app.dom.appContainerEl,this.inputEl)):this.close()}open(t,n){app.keymap.pushScope(this.scope),t.appendChild(this.suggestEl),this.popper=vx(n,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:r,instance:o})=>{const i=`${r.rects.reference.width}px`;r.styles.popper.width!==i&&(r.styles.popper.width=i,o.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}destroy(){this.inputEl.removeEventListener("input",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("blur",this.close.bind(this)),this.close()}updateCb(t){this.cb=t}}const QF=e=>{const t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())};let Db=class extends Sx{fuzzySearchItemsOptimized(t,n){const r=C.prepareFuzzySearch(t);return n.map(o=>{const i=r(o);return i?{item:o,match:i,score:i.score}:null}).sort((o,i)=>(i==null?void 0:i.score)-(o==null?void 0:o.score)).filter(Boolean)}getSuggestions(t){const{settings:n,app:r}=yt.getState(),o=t.toLocaleLowerCase(),i=n.UseVaultTags?QF(r):_e.getState().tags;return this.fuzzySearchItemsOptimized(o,i).map(s=>s.item)}renderSuggestion(t,n){n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:t})}selectSuggestion(t){this.inputEl.value=t,this.inputEl.dispatchEvent(new Event("change")),this.cb&&this.cb(t),this.close()}};const XF=e=>{const t=new Set;return e.forEach(n=>{const r=new RegExp(yr).exec(n.content),o=new RegExp(Pr).exec(n.content);if(r)for(let i=1;i<r.length;i++)t.add(r[i]);if(o)for(let i=1;i<o.length;i++)t.add(o[i])}),Array.from(t)};class eO extends C.Modal{constructor(n,r){super(n);De(this,"root");De(this,"cb");De(this,"tags",[]);this.cb=r}onOpen(){super.onOpen(),this.containerEl.toggleClass(["thino-bulk-action-dialog","tag-actions"],!0),this.root=Aa.createRoot(this.contentEl),this.root.render(y.jsx(Pa,{store:Le,context:Pt,children:y.jsx(tO,{closeDialog:this.closeDialog.bind(this)})}))}closeDialog(n){this.tags=n,this.close()}onClose(){var n;this.cb(this.tags),super.onClose(),(n=this.root)==null||n.unmount()}}const tO=({closeDialog:e})=>{const[t,n]=ie.useState([]),r=ie.useRef(null),o=ie.useRef(null);j.useEffect(()=>{if(o.current){if(r.current){r.current.updateCb(i);return}r.current=new Db(o.current,i)}},[o.current,t]);const i=c=>{if(!c)return;const d=new Set(t);d.add(c),n(Array.from(d)),r.current.clearInput()},s=()=>{e(t)};return y.jsxs("div",{className:"thino-tag-operation",children:[y.jsx("div",{className:"tag-operation-title",children:x("Tag Bulk Select")}),y.jsxs("div",{className:"tag-operation-content",children:[y.jsxs("div",{className:"tag-operation-content-title selected-tags",children:[y.jsx("div",{className:"name",children:x("Selected Tags")}),y.jsx("div",{className:"desc",children:x("Click to remove selected tag")})]}),y.jsx("div",{className:"tag-operation-content-tags selected-tags",children:t.map(c=>y.jsx("div",{className:"tag-operation-content-tag",onClick:()=>{n(t.filter(d=>d!==c))},children:c},c))}),y.jsx("div",{className:"tag-operation-content-inputer",children:y.jsx("input",{placeholder:x("Input to select exist tag"),ref:o,onKeyDown:c=>{c.key==="Enter"&&i(o.current.value)}})}),y.jsxs("div",{className:"tag-operation-content-btn-group",children:[y.jsx("button",{className:"cancel-btn",onClick:()=>{e([])},children:x("Cancel")}),y.jsx("button",{className:"save-btn",onClick:s,children:x("Save")})]})]})]})},nO=({app:e,thinos:t,closeDialog:n})=>{const[r,o]=ie.useState([]),[i,s]=ie.useState([]),[c,d]=ie.useState([]),h=ie.useRef(null),m=ie.useRef(null),g=ie.useRef(null),v=ie.useRef("End"),b=ie.useRef(!1),D=ie.useRef(null);j.useEffect(()=>{t&&t.length&&o(XF(t))},[t]),j.useEffect(()=>{!g.current||!m.current||(new C.Setting(m.current).setName(x("Add tag position")).addDropdown(N=>{N.addOption("End",x("End")),N.addOption("Beginning",x("Beginning")),N.setValue("End").onChange(async B=>{v.current=B})}),new C.Setting(g.current).setName(x("Add tag with new line")).addToggle(N=>{N.setValue(!1).onChange(async B=>{b.current=B})}))},[]);const T=N=>{if(!N)return;const B=new Set(i);B.add(N),s(Array.from(B)),h.current.clearInput()};j.useEffect(()=>{if(D.current){if(h.current){h.current.updateCb(T);return}h.current=new Db(D.current,T)}},[D.current,i]);const I=()=>{n(),O({remove:c,add:i,targetThinos:t})},O=async({remove:N,add:B,targetThinos:P})=>{const U=b.current||!1,L=[];for(const z of P){let V=z.content;for(const Z of N)V=V.replace(new RegExp(`#${Z}`,"g"),"");if(V=V.trim(),B.length>0&&(V=v.current==="Beginning"?`${B.map(Z=>`#${Z}`).join(" ")} ${U?`
`:""}${V}`:`${V} ${U?`
`:""}${B.map(Z=>`#${Z}`).join(" ")}`),z&&z.content!==V){const Z=await _e.updateMemo(z.id,V==null?void 0:V.trim());L.push(Z)}}L.length>0&&_e.editMemoBulk(L),L.length>0&&ot.clearQuery()};return y.jsxs("div",{className:"thino-tag-operation",children:[y.jsx("div",{className:"tag-operation-title",children:x("Tag Bulk Edit")}),y.jsxs("div",{className:"tag-operation-content",children:[r.length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"tag-operation-content-title exist-tags",children:[y.jsx("div",{className:"name",children:x("Exist Tags")}),y.jsx("div",{className:"desc",children:x("Click to remove exist tag")})]}),y.jsx("div",{className:"tag-operation-content-tags exist-tags",children:r.map(N=>y.jsx("div",{className:Gn("tag-operation-content-tag",c.includes(N)&&"tag-operation-content-tag-removed"),onClick:()=>{c.includes(N)||d([...c,N]),c.includes(N)&&d(c.filter(B=>B!==N)),i.includes(N)&&s(i.filter(B=>B!==N))},children:N},N))})]}),y.jsxs("div",{className:"tag-operation-content-title selected-tags",children:[y.jsx("div",{className:"name",children:x("Selected Tags")}),y.jsx("div",{className:"desc",children:x("Click to remove selected tag")})]}),y.jsx("div",{className:"tag-operation-content-tags selected-tags",children:i.map(N=>y.jsx("div",{className:"tag-operation-content-tag",onClick:()=>{s(i.filter(B=>B!==N))},children:N},N))}),y.jsx("div",{className:"tag-operation-content-inputer",children:y.jsx("input",{placeholder:x("Input to select exist tag"),ref:D,onKeyDown:N=>{N.key==="Enter"&&T(D.current.value)}})}),y.jsxs("div",{className:"tag-operation-settings",children:[y.jsx("div",{ref:m}),y.jsx("div",{ref:g})]}),y.jsxs("div",{className:"tag-operation-content-btn-group",children:[y.jsx("button",{className:"cancel-btn",onClick:n,children:x("Cancel")}),y.jsx("button",{className:"save-btn",onClick:I,children:x("Save")})]})]})]})},y1=new Map,md=async(e,t=!0)=>{const{vault:n,metadataCache:r}=yt.getState().app;if(t&&y1.has(e))return Promise.resolve(y1.get(e));if(e.contains("data:image"))return e;let o;const i=await n.adapter.exists(C.normalizePath(e));let s="";try{if(!i&&!/(http|https)/g.test(e)&&!e.includes("data:image")){let c;if(e.startsWith("app://")){const d=C.normalizePath(decodeURIComponent(e).replace(C.Platform.resourcePathPrefix,"").replace(/\?(.*)$/,"").replace(C.normalizePath(app==null?void 0:app.vault.adapter.basePath),""));s=C.normalizePath(decodeURIComponent(d))}else{if(c=r.getFirstLinkpathDest(e,""),!c){new C.Notice(x("File not exist"));return}s=c.path}}else s=e}catch(c){console.error(c)}if(s){if(/(http|https)/g.test(s))if(s.startsWith("http://localhost")){let c=s;c=c.replace("http://localhost/_capacitor_file_",""),c=decodeURIComponent(c).replace(/\?(.*)$/,"").replace(app==null?void 0:app.vault.adapter.basePath,""),c=C.normalizePath(decodeURIComponent(c));const d=await n.adapter.readBinary(c),h=new Uint8Array(d);o=new Blob([h],{type:"image/png"})}else try{const c=await C.requestUrl(e),d=new Uint8Array(c.arrayBuffer);o=new Blob([d],{type:"image/png"})}catch{}else if(s){const c=await n.adapter.readBinary(s),d=new Uint8Array(c);o=new Blob([d],{type:"image/png"})}return o?await rO(o,e):""}},rO=(e,t)=>new Promise(n=>{const r=new FileReader;r.onloadend=()=>{const o=r.result;y1.set(t,o),n(o)},r.readAsDataURL(e)}),rm=async e=>{if(!e.style.backgroundImage.includes("url(")&&!e.style.backgroundImage.includes("http"))return;let t=e.style.backgroundImage.includes("url(")?e.style.backgroundImage.slice(5,-2):e.style.backgroundImage;return t.startsWith("http://localhost")&&(t=t.replace("http://localhost/_capacitor_file_",""),t=decodeURIComponent(t).replace(/\?(.*)$/,"").replace(app==null?void 0:app.vault.adapter.basePath,""),t=C.normalizePath(decodeURIComponent(t))),await md(t)},oO=async e=>{var n;return e.getAttribute("src")?(n=e==null?void 0:e.src)!=null&&n.startsWith("http://localhost")?await md(e.getAttribute("path")||C.normalizePath(e==null?void 0:e.parentElement.getAttribute("src"))):await md(e.getAttribute("src")):void 0},Vt=pO(),uv=mO(),Dx=gO(),Tx=yO(),td={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,httpTimeout:3e4,styleCaching:"strict",corsImg:void 0},cn={toSvg:Ix,toPng:sO,toJpeg:lO,toBlob:uO,toPixelData:aO,toCanvas:cO,impl:{fontFaces:Dx,images:Tx,util:Vt,inliner:uv,urlCache:[],options:{}}},Tb=(typeof Node<"u"?Node.ELEMENT_NODE:void 0)||1,Zy=(typeof global<"u"?global.getComputedStyle:void 0)||(typeof window<"u"?window.getComputedStyle:void 0)||globalThis.getComputedStyle,iO=(typeof global<"u"?global.atob:void 0)||(typeof window<"u"?window.atob:void 0)||globalThis.atob;function Ix(e,t){cn.impl.util.getWindow(e),t=t||{},dO(t);let n=[];return Promise.resolve(e).then(r).then(function(d){return Ex(d,t,null)}).then(fO).then(hO).then(s).then(c).then(o).then(i);function r(d){if(d.nodeType===Tb)return d;const h=d,m=d.parentNode,g=document.createElement("span");return m.replaceChild(g,h),g.append(d),n.push({parent:m,child:h,wrapper:g}),g}function o(d){for(;n.length>0;){const h=n.pop();h.parent.replaceChild(h.child,h.wrapper)}return d}function i(d){return cn.impl.urlCache=[],TO(),d}function s(d){t.bgcolor&&(d.style.backgroundColor=t.bgcolor),t.width&&(d.style.width=`${t.width}px`),t.height&&(d.style.height=`${t.height}px`),t.style&&Object.keys(t.style).forEach(function(m){d.style[m]=t.style[m]});let h=null;return typeof t.onclone=="function"&&(h=t.onclone(d)),Promise.resolve(h).then(function(){return d})}function c(d){let h=t.width||Vt.width(d),m=t.height||Vt.height(d);return Promise.resolve(d).then(function(g){return g.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(g)}).then(Vt.escapeXhtml).then(function(g){const v=(Vt.isDimensionMissing(h)?' width="100%"':` width="${h}"`)+(Vt.isDimensionMissing(m)?' height="100%"':` height="${m}"`);return`<svg xmlns="http://www.w3.org/2000/svg"${(Vt.isDimensionMissing(h)?"":` width="${h}"`)+(Vt.isDimensionMissing(m)?"":` height="${m}"`)}><foreignObject${v}>${g}</foreignObject></svg>`}).then(function(g){return`data:image/svg+xml;charset=utf-8,${g}`})}}function aO(e,t){return Qm(e,t).then(function(n){return n.getContext("2d").getImageData(0,0,Vt.width(e),Vt.height(e)).data})}function sO(e,t){return Qm(e,t).then(function(n){return n.toDataURL()})}function lO(e,t){return Qm(e,t).then(function(n){return n.toDataURL("image/jpeg",(t?t.quality:void 0)||1)})}function uO(e,t){return Qm(e,t).then(Vt.canvasToBlob)}function cO(e,t){return Qm(e,t)}function dO(e){typeof e.copyDefaultStyles>"u"?cn.impl.options.copyDefaultStyles=td.copyDefaultStyles:cn.impl.options.copyDefaultStyles=e.copyDefaultStyles,typeof e.imagePlaceholder>"u"?cn.impl.options.imagePlaceholder=td.imagePlaceholder:cn.impl.options.imagePlaceholder=e.imagePlaceholder,typeof e.cacheBust>"u"?cn.impl.options.cacheBust=td.cacheBust:cn.impl.options.cacheBust=e.cacheBust,typeof e.corsImg>"u"?cn.impl.options.corsImg=td.corsImg:cn.impl.options.corsImg=e.corsImg,typeof e.useCredentials>"u"?cn.impl.options.useCredentials=td.useCredentials:cn.impl.options.useCredentials=e.useCredentials,typeof e.httpTimeout>"u"?cn.impl.options.httpTimeout=td.httpTimeout:cn.impl.options.httpTimeout=e.httpTimeout,typeof e.styleCaching>"u"?cn.impl.options.styleCaching=td.styleCaching:cn.impl.options.styleCaching=e.styleCaching,cn.impl.options.requestUrl=e.requestUrl,cn.impl.options.type=e.type||"image/png"}function Qm(e,t){return t=t||{},Ix(e,t).then(Vt.makeImage).then(function(r){const o=typeof t.scale!="number"?1:t.scale,i=n(e,o),s=i.getContext("2d");return s.msImageSmoothingEnabled=!1,s.imageSmoothingEnabled=!1,r&&(s.scale(o,o),s.drawImage(r,0,0)),i});function n(r,o){let i=t.width||Vt.width(r),s=t.height||Vt.height(r);Vt.isDimensionMissing(i)&&(i=Vt.isDimensionMissing(s)?300:s*2),Vt.isDimensionMissing(s)&&(s=i/2);const c=document.createElement("canvas");if(c.width=i*o,c.height=s*o,t.bgcolor){const d=c.getContext("2d");d.fillStyle=t.bgcolor,d.fillRect(0,0,c.width,c.height)}return c}}let xa=null;function Ex(e,t,n,r){const o=t.filter;if(e===xa||Vt.isHTMLScriptElement(e)||Vt.isHTMLStyleElement(e)||Vt.isHTMLLinkElement(e)||n!==null&&o&&!o(e))return Promise.resolve();return Promise.resolve(e).then(i).then(function(h){return c(h,s(e))}).then(function(h){return d(h,e)});function i(h){return Vt.isHTMLCanvasElement(h)?Vt.makeImage(h.toDataURL()):h.cloneNode(!1)}function s(h){return Vt.isElementHostForOpenShadowRoot(h)?h.shadowRoot:h}function c(h,m){const g=D(m);let v=Promise.resolve();if(g.length!==0){const T=Zy(b(m));Vt.asArray(g).forEach(function(I){v=v.then(function(){return Ex(I,t,T).then(function(O){O&&h.appendChild(O)})})})}return v.then(function(){return h});function b(T){return Vt.isShadowRoot(T)?T.host:T}function D(T){return Vt.isShadowSlotElement(T)?T.assignedNodes():T.childNodes}}function d(h,m){if(!Vt.isElement(h)||Vt.isShadowSlotElement(m))return Promise.resolve(h);return Promise.resolve().then(g).then(v).then(b).then(D).then(function(){return h});function g(){I(m,h);function T(O,N){N.font=O.font,N.fontFamily=O.fontFamily,N.fontFeatureSettings=O.fontFeatureSettings,N.fontKerning=O.fontKerning,N.fontSize=O.fontSize,N.fontStretch=O.fontStretch,N.fontStyle=O.fontStyle,N.fontVariant=O.fontVariant,N.fontVariantCaps=O.fontVariantCaps,N.fontVariantEastAsian=O.fontVariantEastAsian,N.fontVariantLigatures=O.fontVariantLigatures,N.fontVariantNumeric=O.fontVariantNumeric,N.fontVariationSettings=O.fontVariationSettings,N.fontWeight=O.fontWeight}function I(O,N){const B=Zy(O);B.cssText?(N.style.cssText=B.cssText,T(B,N.style)):(wO(t,O,B,n,N),n===null&&(["inset-block","inset-block-start","inset-block-end"].forEach(P=>N.style.removeProperty(P)),["left","right","top","bottom"].forEach(P=>{N.style.getPropertyValue(P)&&N.style.setProperty(P,"0px")})))}}function v(){const T=Vt.uid();[":before",":after"].forEach(function(O){I(O)});function I(O){const N=Zy(m,O),B=N.getPropertyValue("content");if(B===""||B==="none")return;const P=h.getAttribute("class")||"";h.setAttribute("class",`${P} ${T}`);const U=document.createElement("style");U.appendChild(L()),h.appendChild(U);function L(){const z=`.${T}:${O}`,V=N.cssText?Z():$();return document.createTextNode(`${z}{${V}}`);function Z(){return`${N.cssText} content: ${B};`}function $(){return`${Vt.asArray(N).map(te).join("; ")};`;function te(ye){const ge=N.getPropertyValue(ye),ce=N.getPropertyPriority(ye)?" !important":"";return`${ye}: ${ge}${ce}`}}}}}function b(){Vt.isHTMLTextAreaElement(m)&&(h.innerHTML=m.value),Vt.isHTMLInputElement(m)&&h.setAttribute("value",m.value)}function D(){Vt.isSVGElement(h)&&(h.setAttribute("xmlns","http://www.w3.org/2000/svg"),Vt.isSVGRectElement(h)&&["width","height"].forEach(function(T){const I=h.getAttribute(T);I&&h.style.setProperty(T,I)}))}}}function fO(e){return Dx.resolveAll().then(function(t){if(t!==""){const n=document.createElement("style");e.appendChild(n),n.appendChild(document.createTextNode(t))}return e})}function hO(e){return Tx.inlineAll(e).then(function(){return e})}function pO(){let e=0;return{escape:Z,isDataUrl:O,canvasToBlob:P,resolveUrl:U,getAndEncode:V,uid:L,delay:$,asArray:oe,escapeXhtml:te,makeImage:z,width:ye,height:ge,getWindow:t,isElement:i,isElementHostForOpenShadowRoot:n,isShadowRoot:r,isInShadowRoot:o,isHTMLElement:c,isHTMLCanvasElement:s,isHTMLInputElement:h,isHTMLImageElement:d,isHTMLLinkElement:m,isHTMLScriptElement:g,isHTMLStyleElement:v,isHTMLTextAreaElement:b,isShadowSlotElement:D,isSVGElement:T,isSVGRectElement:I,isDimensionMissing:N};function t(Q){const ue=Q?Q.ownerDocument:void 0;return(ue?ue.defaultView:void 0)||global||window}function n(Q){return i(Q)&&Q.shadowRoot!==null}function r(Q){return Q instanceof t(Q).ShadowRoot}function o(Q){return Q!==null&&Object.prototype.hasOwnProperty.call(Q,"getRootNode")&&r(Q.getRootNode())}function i(Q){return Q instanceof t(Q).Element}function s(Q){return Q instanceof t(Q).HTMLCanvasElement}function c(Q){return Q instanceof t(Q).HTMLElement}function d(Q){return Q instanceof t(Q).HTMLImageElement}function h(Q){return Q instanceof t(Q).HTMLInputElement}function m(Q){return Q instanceof t(Q).HTMLLinkElement}function g(Q){return Q instanceof t(Q).HTMLScriptElement}function v(Q){return Q instanceof t(Q).HTMLStyleElement}function b(Q){return Q instanceof t(Q).HTMLTextAreaElement}function D(Q){return o(Q)&&Q instanceof t(Q).HTMLSlotElement}function T(Q){return Q instanceof t(Q).SVGElement}function I(Q){return Q instanceof t(Q).SVGRectElement}function O(Q){return Q.search(/^(data:)/)!==-1}function N(Q){return isNaN(Q)||Q<=0}function B(Q){return new Promise(function(ue){const se=iO(Q.toDataURL().split(",")[1]),we=se.length,J=new Uint8Array(we);for(let ee=0;ee<we;ee++)J[ee]=se.charCodeAt(ee);ue(new Blob([J],{type:cn.impl.options.type}))})}function P(Q){return Q.toBlob?new Promise(function(ue){Q.toBlob(ue)}):B(Q)}function U(Q,ue){const se=document.implementation.createHTMLDocument(),we=se.createElement("base");se.head.appendChild(we);const J=se.createElement("a");return se.body.appendChild(J),we.href=ue,J.href=Q,J.href}function L(){return`u${Q()}${e++}`;function Q(){return`0000${(Math.random()*Math.pow(36,4)<<0).toString(36)}`.slice(-4)}}function z(Q){return Q==="data:,"?Promise.resolve():new Promise(function(ue,se){const we=new Image;cn.impl.options.useCredentials&&(we.crossOrigin="use-credentials"),we.onload=function(){window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){ue(we)}):ue(we)},we.onerror=se,we.src=Q})}function V(Q){let ue=cn.impl.urlCache.find(function(se){return se.url===Q});return ue||(ue={url:Q,promise:null},cn.impl.urlCache.push(ue)),ue.promise===null&&(cn.impl.options.cacheBust&&(Q+=(/\?/.test(Q)?"&":"?")+new Date().getTime()),cn.impl.options.requestUrl&&/^http/.test(Q)?ue.promise=cn.impl.options.requestUrl({url:Q,method:"GET"}).then(se=>new Promise(we=>{const J=new FileReader;J.onload=function(ee){we(ee.target.result)},J.readAsDataURL(new Blob([se.arrayBuffer],{type:se.headers["content-type"]}))})).catch(se=>(console.error("cannot fetch resource: "+Q+", error: "+se),"")):ue.promise=new Promise(function(se){const we=cn.impl.options.httpTimeout,J=new XMLHttpRequest;if(J.onreadystatechange=fe,J.ontimeout=xe,J.responseType="blob",J.timeout=we,cn.impl.options.useCredentials&&(J.withCredentials=!0),cn.impl.options.corsImg&&Q.indexOf("http")===0&&Q.indexOf(window.location.origin)===-1){const Re=(cn.impl.options.corsImg.method||"GET").toUpperCase()==="POST"?"POST":"GET";J.open(Re,(cn.impl.options.corsImg.url||"").replace("#{cors}",Q),!0);let $e=!1;const qe=cn.impl.options.corsImg.headers||{};Object.keys(qe).forEach(function(It){qe[It].indexOf("application/json")!==-1&&($e=!0),J.setRequestHeader(It,qe[It])});const lt=je(cn.impl.options.corsImg.data||"");Object.keys(lt).forEach(function(It){typeof lt[It]=="string"&&(lt[It]=lt[It].replace("#{cors}",Q))}),J.send($e?JSON.stringify(lt):lt)}else J.open("GET",Q,!0),J.send();let ee;if(cn.impl.options.imagePlaceholder){const Re=cn.impl.options.imagePlaceholder.split(/,/);Re&&Re[1]&&(ee=Re[1])}function fe(){if(J.readyState!==4)return;if(J.status>=300){ee?se(ee):Ve(`cannot fetch resource: ${Q}, status: ${J.status}`);return}const Re=new FileReader;Re.onloadend=function(){se(Re.result)},Re.readAsDataURL(J.response)}function xe(){ee?se(ee):Ve(`timeout of ${we}ms occured while fetching resource: ${Q}`)}function je(Re){try{return JSON.parse(JSON.stringify(Re))}catch{Ve("corsImg.data is missing or invalid");return}}function Ve(Re){console.error(Re),se("")}})),ue.promise}function Z(Q){return Q.replace(/([.*+?^${}()|[]\/\\])/g,"\\$1")}function $(Q){return function(ue){return new Promise(function(se){setTimeout(function(){se(ue)},Q)})}}function oe(Q){const ue=[],se=Q.length;for(let we=0;we<se;we++)ue.push(Q[we]);return ue}function te(Q){return Q.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")}function ye(Q){const ue=ce(Q,"width");if(!isNaN(ue))return ue;const se=ce(Q,"border-left-width"),we=ce(Q,"border-right-width");return Q.scrollWidth+se+we}function ge(Q){const ue=ce(Q,"height");if(!isNaN(ue))return ue;const se=ce(Q,"border-top-width"),we=ce(Q,"border-bottom-width");return Q.scrollHeight+se+we}function ce(Q,ue){if(Q.nodeType===Tb){let se=Zy(Q).getPropertyValue(ue);if(se.slice(-2)==="px")return se=se.slice(0,-2),parseFloat(se)}return NaN}}function mO(){const e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:o,shouldProcess:t,impl:{readUrls:n,inline:r}};function t(i){return i.search(e)!==-1}function n(i){const s=[];let c;for(;(c=e.exec(i))!==null;)s.push(c[1]);return s.filter(function(d){return!Vt.isDataUrl(d)})}function r(i,s,c,d){return Promise.resolve(s).then(function(m){return c?Vt.resolveUrl(m,c):m}).then(d||Vt.getAndEncode).then(function(m){return i.replace(h(s),`$1${m}$3`)});function h(m){return new RegExp(`(url\\(['"]?)(${Vt.escape(m)})(['"]?\\))`,"g")}}function o(i,s,c){if(d())return Promise.resolve(i);return Promise.resolve(i).then(n).then(function(h){let m=Promise.resolve(i);return h.forEach(function(g){m=m.then(function(v){return r(v,g,s,c)})}),m});function d(){return!t(i)}}}function gO(){return{resolveAll:e,impl:{readAll:t}};function e(){return t().then(function(n){return Promise.all(n.map(function(r){return r.resolve()}))}).then(function(n){return n.join(`
`)})}function t(){return Promise.resolve(Vt.asArray(document.styleSheets)).then(r).then(n).then(function(i){return i.map(o)});function n(i){return i.filter(function(s){return s.type===CSSRule.FONT_FACE_RULE}).filter(function(s){return uv.shouldProcess(s.style.getPropertyValue("src"))})}function r(i){const s=[];return i.forEach(function(c){if(Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(c),"cssRules"))try{Vt.asArray(c.cssRules||[]).forEach(s.push.bind(s))}catch(d){console.error(`domtoimage: Error while reading CSS rules from ${c.href}`,d.toString())}}),s}function o(i){return{resolve:function(){const c=(i.parentStyleSheet||{}).href;return uv.inlineAll(i.cssText,c)},src:function(){return i.style.getPropertyValue("src")}}}}}function yO(){return{inlineAll:t,impl:{newImage:e}};function e(n){return{inline:r};function r(o){return Vt.isDataUrl(n.src)?Promise.resolve():Promise.resolve(n.src).then(o||Vt.getAndEncode).then(function(i){return new Promise(function(s){n.onload=s,n.onerror=s,n.src=i})})}}function t(n){if(!Vt.isElement(n))return Promise.resolve(n);return r(n).then(function(){return Vt.isHTMLImageElement(n)?e(n).inline():Promise.all(Vt.asArray(n.childNodes).map(function(o){return t(o)}))});function r(o){const s=["background","background-image"].map(function(c){const d=o.style.getPropertyValue(c),h=o.style.getPropertyPriority(c);return d?uv.inlineAll(d).then(function(m){o.style.setProperty(c,m,h)}):Promise.resolve()});return Promise.all(s).then(function(){return o})}}}function vO(e,t,n,r){const o=["background-clip"].indexOf(t)>=0;r?(e.setProperty(t,n,r),o&&e.setProperty(`-webkit-${t}`,n,r)):(e.setProperty(t,n),o&&e.setProperty(`-webkit-${t}`,n))}function wO(e,t,n,r,o){const i=cn.impl.options.copyDefaultStyles?SO(e,t):{},s=o.style;Vt.asArray(n).forEach(function(c){const d=n.getPropertyValue(c),h=i[c],m=r?r.getPropertyValue(c):void 0;if(d!==h||r&&d!==m){const g=n.getPropertyPriority(c);vO(s,c,d,g)}})}let Sy=null,Wy={};const bO=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"];function SO(e,t){const n=c(t),r=d(n);if(Wy[r])return Wy[r];const o=DO(),i=h(o.document,n),s=m(o,i);return g(i),Wy[r]=s,s;function c(v){const b=[];do{if(v.nodeType===Tb){const D=v.tagName;if(b.push(D),bO.includes(D))break}v=v.parentNode}while(v);return b}function d(v){return e.styleCaching==="relaxed"?v.filter((b,D,T)=>D===0||D===T.length-1).join(">"):v.join(">")}function h(v,b){let D=v.body;do{const T=b.pop(),I=v.createElement(T);D.appendChild(I),D=I}while(b.length>0);return D.textContent="​",D}function m(v,b){const D={},T=v.getComputedStyle(b);return Vt.asArray(T).forEach(function(I){D[I]=I==="width"||I==="height"?"auto":T.getPropertyValue(I)}),D}function g(v){do{const b=v.parentElement;b!==null&&b.removeChild(v),v=b}while(v&&v.tagName!=="BODY")}}function DO(){if(xa)return xa.contentWindow;const e=document.characterSet||"UTF-8",t=document.doctype,n=t?`<!DOCTYPE ${r(t.name)} ${r(t.publicId)} ${r(t.systemId)}`.trim()+">":"";return xa=document.createElement("iframe"),xa.id="domtoimage-sandbox-"+Vt.uid(),xa.style.visibility="hidden",xa.style.position="fixed",document.body.appendChild(xa),o(xa,n,e,"domtoimage-sandbox");function r(i){if(i){const s=document.createElement("div");return s.innerText=i,s.innerHTML}else return""}function o(i,s,c,d){try{return i.contentWindow.document.write(`${s}<html><head><meta charset='${c}'><title>${d}</title></head><body></body></html>`),i.contentWindow}catch{}const h=document.createElement("meta");h.setAttribute("charset",c);try{const m=document.implementation.createHTMLDocument(d);m.head.appendChild(h);const g=s+m.documentElement.outerHTML;return i.setAttribute("srcdoc",g),i.contentWindow}catch{}return i.contentDocument.head.appendChild(h),i.contentDocument.title=d,i.contentWindow}}function TO(){xa&&(document.body.removeChild(xa),xa=null),Sy&&clearTimeout(Sy),Sy=setTimeout(()=>{Sy=null,Wy={}},20*1e3)}async function IO(e,t,n){return await cn.toCanvas(e,{width:e.clientWidth,height:e.clientHeight,quality:1,scale:t?2:1,requestUrl:C.requestUrl,type:n})}const Zv=async(e,t)=>(await IO(e,!0,"image/jpeg")).toDataURL(),zD=async e=>{e.startsWith("http")&&(e=await md(e));const t=e.split("base64,")[1],n=Ov(t,"image/png");await xx(n),new C.Notice(x("Send to clipboard successfully"))},EO=async(e,t)=>{const n=await e.vault.adapter.exists(t);let r="";if(n)r=t;else{const c=e.metadataCache.getFirstLinkpathDest(t,"");if(!c){new C.Notice(x("File not exist"));return}r=c.path}const o=await e.vault.adapter.readBinary(r),i=new Uint8Array(o),s=new Blob([i],{type:"image/png"});await xx(s)},xx=async e=>{const t=new ClipboardItem({"image/png":e});await window.navigator.clipboard.write([t])},VD=1.1,ZD=300,WD=20,xO=({destroy:e,imgUrl:t,filepath:n,otherIMGEls:r,currentIndex:o})=>{const i=j.useRef(null),[s,c]=j.useState(-1),d=Le.getState().dailyNotesState.app,[h,m]=j.useState(o),[g,v]=j.useState(t),b={close:j.useRef(null),previous:j.useRef(null),next:j.useRef(null),decrease:j.useRef(null),increase:j.useRef(null),zoom:j.useRef(null),copy:j.useRef(null)};j.useEffect(()=>{!n&&!t||(C.setIcon(b.close.current,"x"),b.previous.current&&C.setIcon(b.previous.current,"arrow-left"),b.next.current&&C.setIcon(b.next.current,"arrow-right"),C.setIcon(b.decrease.current,"zoom-out"),C.setIcon(b.increase.current,"zoom-in"),C.setIcon(b.zoom.current,"circle"),C.setIcon(b.copy.current,"clipboard"))},[b]),j.useEffect(()=>{at.getImageSize(g).then(({width:L})=>{c(L!==0?40:0)})},[g]);const D=()=>{let L=h-1;L<0&&(L=r.length-1),m(L),v(r[L].src)},T=()=>{let L=h+1;L>=r.length&&(L=0),m(L),v(r[L].src)},I=()=>{e()},O=()=>{s>30&&c(s-10)},N=()=>{c(s+10)},B=L=>{L.target!==i.current&&L.target===i.current.parentElement&&I()},P=L=>{if(L.ctrlKey){L.preventDefault();const z=i.current,V=L.nativeEvent.offsetX,Z=L.nativeEvent.offsetY,$=V/z.clientWidth,oe=Z/z.clientHeight;let te;L.deltaY>0?te=s/VD:te=s*VD,te>ZD?te=ZD:te<WD&&(te=WD);const ye=s;c(te);const ge=L.currentTarget;ge.scrollLeft+=(te-ye)*$,ge.scrollTop+=(te-ye)*oe}else L.deltaX!==0&&(L.currentTarget.scrollLeft+=L.deltaX)},U=async()=>{if(g&&!n)await zD(t);else if(n){const z=r[h].parentElement.getAttribute("src");if(!z){await zD(g);return}await EO(d,z)}};return y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:b.close,className:"btn close-btn",onClick:I}),y.jsxs("div",{className:"img-container internal-embed image-embed is-loaded",onClick:B,onWheel:P,children:[y.jsx("img",{className:s<=0?"hidden":"",ref:i,height:s+"%",src:g}),y.jsx("span",{className:"loading-text "+(s===-1?"":"hidden"),children:x("Image is loading...")}),y.jsx("span",{className:"loading-text "+(s===0?"":"hidden"),children:x("😟 Cannot load image, image link maybe broken")})]}),y.jsxs("div",{className:"action-btns-container",children:[r&&(r==null?void 0:r.length)>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:b.previous,className:"btn",onClick:D}),y.jsx("button",{ref:b.next,className:"btn",onClick:T})]}),y.jsx("button",{ref:b.decrease,className:"btn",onClick:O}),y.jsx("button",{ref:b.increase,className:"btn",onClick:N}),y.jsx("button",{ref:b.zoom,className:"btn",onClick:()=>c(80)}),y.jsx("button",{ref:b.copy,className:"btn",onClick:U})]})]})};function Wv({imgUrl:e,filepath:t,otherIMGEls:n,currentIndex:r}){_v({className:"preview-image-dialog"},xO,{...{imgUrl:e,otherIMGEls:n,currentIndex:r},filepath:t})}const CO=e=>{const{dailyNotesState:{app:t,view:n}}=j.useContext(Pt),{memo:r,handleMemoContentClick:o,handleMemoDoubleClick:i}=e,s=ie.useRef(null),[c,d]=ie.useState("");return j.useEffect(()=>{if(!s.current||s.current.hasChildNodes()&&r.content===c||!n||!t)return;d(r.content),s.current.hasChildNodes()&&s.current.empty(),(async()=>{var g,v;await C.MarkdownRenderer.render(t,r.content+`
`,s.current,r.path,n),(g=s.current)==null||g.toggleClass(["markdown-rendered"],!0);const m=(v=s.current)==null?void 0:v.querySelectorAll(".internal-link");m==null||m.forEach(b=>{const D=b,T=D.getAttribute("data-href");if(!T)return;t.metadataCache.getFirstLinkpathDest(T,r.path)||b.classList.add("is-unresolved"),D.addEventListener("mouseover",O=>{O.stopPropagation(),t.workspace.trigger("hover-link",{event:O,source:"thino",hoverParent:n.containerEl,targetEl:D,linktext:T,sourcePath:D.href})})})})()},[r.content,n,t]),y.jsx("div",{ref:s,className:"memo-content-text",onClick:h=>o(h,r),onDoubleClick:i,onContextMenu:h=>{h.preventDefault()}})},Cx=j.memo(CO),MO=e=>{const[t,n]=j.useState({...e.memo,createdAtStr:at.getDateTimeString(e.memo.createdAt)}),[r,o]=j.useState([]),[i,s]=j.useState([]);j.useEffect(()=>{(async()=>{try{const g=[],v=[...t.content.matchAll(sc)];for(const D of v)if(D&&D.length===3){const T=D[2],I=_e.getMemoById(T);I&&g.push({...I,createdAtStr:at.getDateTimeString(I.createdAt),dateStr:at.getDateString(I.createdAt)})}o([...g]);const b=await _e.getLinkedMemos(t.id);s(b.sort((D,T)=>at.getTimeStampByDate(T.createdAt)-at.getTimeStampByDate(D.createdAt)).map(D=>({...D,createdAtStr:at.getDateTimeString(D.createdAt),dateStr:at.getDateString(D.createdAt)})))}catch(g){console.error(g)}})()},[t.id]);const c=j.useCallback(async m=>{var v;const g=m.target;if(g.className==="memo-link-text"){const b=(v=g.dataset)==null?void 0:v.value,D=_e.getMemoById(b??"");if(D){const T={...D,createdAtStr:at.getDateTimeString(D.createdAt)};o([]),s([]),n(T)}else new C.Notice(x("Thino not found")),g.classList.remove("memo-link-text")}},[]),d=j.useCallback(m=>{o([]),s([]),n({...m,createdAtStr:at.getDateTimeString(m.createdAt)})},[t.id]),h=j.useCallback(()=>{e.destroy(),ft.setEditMemoId(t.id)},[t.id]);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"memo-card-container",children:[y.jsxs("div",{className:"header-container",children:[y.jsx("span",{className:"time-text",children:t.createdAtStr}),y.jsxs("div",{className:"btns-container",children:[y.jsx("button",{ref:m=>{m&&C.setIcon(m,"edit")},className:"btn edit-btn",onClick:h}),y.jsx("button",{ref:m=>{m&&C.setIcon(m,"x")},className:"btn close-btn",onClick:e.destroy})]})]}),y.jsx("div",{className:"memo-container",children:y.jsx("div",{className:"memo-content-text",children:y.jsx(Cx,{memo:t,handleMemoContentClick:c,handleMemoDoubleClick:()=>{}})})}),y.jsx("div",{className:"layer-container"})]}),r.length>0?y.jsxs("div",{className:"linked-memos-wrapper",children:[y.jsxs("span",{className:"normal-text",children:[x("LINKED")," ",r.length," THINO"," "]}),r.map(m=>{const g=BS(t1(m.content)).replaceAll(`
`," ");return y.jsxs("div",{className:"linked-memo-container",onClick:()=>d(m),children:[y.jsxs("span",{className:"time-text",children:[m.dateStr," "]}),g]},m.id)})]}):null,i.length>0?y.jsxs("div",{className:"linked-memos-wrapper",children:[y.jsxs("span",{className:"normal-text",children:[i.length," THINO ",x("LINK TO THE")," THINO"]}),i.map(m=>{const g=BS(t1(m.content)).replaceAll(`
`," ");return y.jsxs("div",{className:"linked-memo-container",onClick:()=>d(m),children:[y.jsxs("span",{className:"time-text",children:[m.dateStr," "]}),g]},m.id)})]}):null]})};function Th(e){_v({className:"memo-card-dialog"},MO,{memo:e})}const kO=j.forwardRef((e,t)=>{const{memo:n,handlePinMemoClick:r,handleFixMemoClick:o,handleSourceMemoClick:i,handleShowMemoStoryDialog:s,handleCopyMemoClick:c,handleEditMemoClick:d,handleGenMemoImageBtnClick:h,handleMarkMemoClick:m,handleArchiveMemo:g,handleDeleteMemoClick:v}=e,b=j.useRef(null),D=Le.getState().dailyNotesState.settings,[T,I]=fl(!1),O=j.useRef(null),N={pinRef:j.useRef(null),fixRef:j.useRef(null),typeRef:j.useRef(null),moreRef:j.useRef(null)},B={copy:j.useRef(null),read:j.useRef(null),mark:j.useRef(null),share:j.useRef(null),edit:j.useRef(null),source:j.useRef(null),archive:j.useRef(null),delete:j.useRef(null)};return j.useEffect(()=>{O.current&&(C.setIcon(B.copy.current,"copy"),C.setIcon(B.read.current,"book-open"),C.setIcon(B.mark.current,"bookmark"),C.setIcon(B.share.current,"share-2"),C.setIcon(B.edit.current,"pencil"),C.setIcon(B.source.current,"home"),C.setIcon(B.archive.current,"archive"),C.setIcon(B.delete.current,"trash"))},[O]),j.useEffect(()=>{if(!N.typeRef)return;const P=gm.find(U=>U.title===n.sourceType);C.setIcon(N.typeRef.current,P.icon),C.requireApiVersion("1.4.4")&&C.setTooltip(N.typeRef.current,n.path),N.fixRef&&(C.setIcon(N.fixRef.current,"shield-alert"),C.requireApiVersion("1.4.4")&&C.setTooltip(N.fixRef.current,"Update Thino property"))},[N.typeRef]),j.useEffect(()=>{N.pinRef&&(n.pinned?(C.setIcon(N.pinRef.current,"pin-off"),C.requireApiVersion("1.4.4")&&C.setTooltip(N.pinRef.current,x("UNPIN"))):(C.setIcon(N.pinRef.current,"pin"),C.requireApiVersion("1.4.4")&&C.setTooltip(N.pinRef.current,x("PIN"))))},[N.pinRef,n.pinned]),j.useImperativeHandle(t,()=>({toggleConfirm:P=>I(P),confirmStatus:T})),y.jsx("div",{ref:O,className:"memo-top-right-wrapper",children:y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:N.fixRef,className:`btn ${n.sourceType!=="MULTI"||n.id!==""?"hidden":""} fix-memo-btn`,onClick:()=>o(n)}),y.jsx("span",{ref:N.typeRef,className:`btn ${n.sourceType==="DAILY"?"hidden":""} source-type-btn`,onClick:()=>i(n)}),y.jsx("span",{ref:N.pinRef,className:`btn ${e.memo.pinned?"pinned-btn":"unpinned-btn"} pro`,onClick:r}),y.jsx("span",{ref:P=>{N.moreRef.current=P,P&&C.setIcon(P,"more-horizontal")},className:"btn more-action-btn"}),y.jsx("div",{ref:b,className:"more-action-btns-wrapper",children:y.jsxs("div",{className:"more-action-btns-container",children:[y.jsxs("div",{className:"more-action-btn-group more-action-menu-item",children:[y.jsx("span",{ref:B.copy,className:"more-action-item-icon",onClick:c}),y.jsx("span",{ref:B.edit,className:"more-action-item-icon",onClick:d}),y.jsx("span",{ref:B.share,className:"more-action-item-icon",onClick:h})]}),y.jsx("hr",{className:"menu-hr"}),y.jsxs("div",{className:"more-action-menu-item",onClick:s,children:[y.jsx("span",{ref:B.read,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",children:x("READ")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:B.mark,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:m,children:x("MARK")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:B.source,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:()=>i(n),children:x("SOURCE")})]}),y.jsx("hr",{className:"menu-hr"}),y.jsxs("div",{className:"more-action-menu-item archive-menu-item",children:[y.jsx("span",{ref:B.archive,className:"more-action-item-icon"}),y.jsx("span",{className:"btn delete-btn",onClick:()=>g(n),children:x("ARCHIVE").toUpperCase()})]}),y.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[y.jsx("span",{ref:B.delete,className:"more-action-item-icon"}),y.jsx("span",{className:`btn delete-btn ${T?"final-confirm":""}`,onClick:async P=>{P.stopPropagation(),P.preventDefault(),await v(P)},children:T?x("CONFIRM！"):D.DeleteThinoDirectly?x("DELETE"):x("Recycle bin").toUpperCase()})]}),y.jsx("hr",{className:"menu-hr"}),y.jsx("div",{className:"text-count-item more-action-menu-item",children:y.jsx("span",{className:"btn text-count-btn",children:at.getWordCount(n.content.replace(/```[^\S\r\n]*[a-z]*\n.*?\n```/g,""))+` ${x("words")}`})})]})})]})})}),NO=e=>{const{memo:t,handleMemoTypeToggle:n,handleShowMemoStoryDialog:r,settings:o}=e;return y.jsxs("div",{className:"memo-top-left-wrapper",children:[e.children,y.jsx("span",{title:t.createdAt,className:"time-text",onClick:r,children:t.createdAt}),y.jsx("div",{className:`btn memo-type-img ${o!=null&&o.ShowTaskLabel?"":"hidden"}`,onClick:n,children:t.thinoType!=="JOURNAL"&&y.jsx("input",{className:"task-list-item-checkbox",type:"checkbox",checked:t.thinoType!=="TASK-TODO","data-task":t.thinoType==="TASK-TODO"?"":t.thinoType==="TASK-DONE"?"x":t.thinoType.slice(5)})})]})},AO=async(e,t,n)=>{const r=n.getAttribute("href"),o=n.className;if(o.contains("tag"))FO(n.innerText.slice(1));else if(o.contains("internal-link")){const i=n.getAttribute("data-href"),s=_e.getMemoById(i??"");s?Th(s):await e.workspace.openLinkText(i,i,!C.Platform.isMobile&&t.navigation!==!0)}else r&&window.open(r,"_blank")},FO=e=>{const t=ot.getState().query.tag;ot.setTagQuery(t.contains(",")?t.split(",").includes(e)?t.split(",").filter(n=>n!==e).join(","):t+","+e:t===e?"":e)},OO=(e,t)=>{const n=t==null?void 0:t.getAttribute("src"),r=t==null?void 0:t.parentElement.getAttribute("src"),o=[...(e==null?void 0:e.querySelectorAll("img"))||[]],i=o.indexOf(t);Wv({imgUrl:n,filepath:n.startsWith("app")?r:void 0,otherIMGEls:o,currentIndex:i})},PO=e=>{var r;const t=(r=e.dataset)==null?void 0:r.value,n=_e.getMemoById(t??"");n?Th(n):(new C.Notice("Thino Not Found"),e.classList.remove("memo-link-text"))},jO=async(e,t,n)=>{var i;const r=((i=n.parentElement.dataset)==null?void 0:i.task)==="x"?"DONE":"TODO",o=[...(t==null?void 0:t.querySelectorAll("li.task-list-item"))||[]];for(const s of o)if(s===n||s===n.closest("li.task-list-item")){const c=o.indexOf(s),d=e.content.split(/\n/),h=[];for(let D=0;D<d.length;D++)(d[D].trim().startsWith("- [ ]")||d[D].trim().startsWith("- [x]"))&&h.push(D);const m=h[c],v=d[m].replace(/- \[ \] |- \[x\] /g,r==="TODO"?"- [x] ":"- [ ] ");d[m]=v;const b=d.join(`
`).trim();if(e&&e.content!==b){const D=await _e.updateMemo(e.id,b);_e.editMemo(D)}}},LO=e=>{const{globalState:{editMemoId:t},dailyNotesState:{app:n,view:r,settings:o,verifyState:i},locationState:{pathname:s}}=j.useContext(Pt),{memo:c,type:d="inline"}=e,h=j.useRef(null),m=j.useRef(null),[g,v]=j.useState(!1);j.useEffect(()=>{g&&setTimeout(()=>{ft.setEditMemoId(c.id)},100)},[g]),j.useEffect(()=>{(s==="/review"||s==="/daily")&&t!==c.id&&g&&v(!1)},[t]);const b=()=>{Th(c)},D=()=>{if(o!=null&&o.UseButtonToShowEditor&&(o==null?void 0:o.DefaultEditorLocation)==="Bottom"){const ce=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.hidden)");ce&&ce.trigger("click")}ft.setMarkMemoId(c.id)},T=async()=>{var ue;const ce=!C.Platform.isDesktop&&await((ue=window.Capacitor)==null?void 0:ue.Plugins.Device.getId()),Q=C.Platform.isDesktop?await er():ce.identifier||ce.uuid;if(!i||(i==null?void 0:i.appId)!==Q){An();return}c.pinned?await _e.unpinMemoById(c.id):await _e.pinMemoById(c.id)},I=()=>{if(o!=null&&o.UseButtonToShowEditor&&(o==null?void 0:o.DefaultEditorLocation)==="Bottom"&&C.Platform.isMobile){const ce=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.hidden)");ce&&ce.trigger("click")}(s==="/review"||s==="/daily")&&v(!0),s!=="/review"&&s!=="/daily"&&ft.setEditMemoId(c.id)},O=async ce=>{ce.sourceType==="MULTI"&&ce.id.trim()===""&&await _e.updateMemoProperty(ce)},N=async ce=>{await _e.openThinoByID(ce.id)},B=async ce=>{try{const Q=await _e.archiveMemo(ce);Q&&_e.editMemo(Q)}catch(Q){console.error(Q),new C.Notice(Q.message)}},P=async(ce,Q)=>{if(!Q&&m.current&&!m.current.confirmStatus){m.current&&m.current.toggleConfirm();return}try{if(o.DeleteThinoDirectly)await _e.deleteMemoById(c.id);else{const ue=await _e.hideMemoById(c.id);ue&&_e.editMemo(ue)}}catch(ue){new C.Notice(ue.message)}ft.getState().editMemoId===c.id&&ft.setEditMemoId("")},U=()=>{if(m.current&&!m.current.confirmStatus){m.current&&m.current.toggleConfirm(!1);return}},L=()=>{MQ(c)},z=async()=>{const ce=await _e.updateMemo(c.id,c.content,c.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");ce&&_e.editMemo(ce)},V=async ce=>{ce.stopPropagation(),navigator.clipboard.writeText(c.content).then(()=>{new C.Notice(x("COPY SUCCEED"))}).catch(()=>{new C.Notice(x("COPY FAILED"))})},Z=ce=>{ce&&ce.target.tagName!=="INPUT"&&I()},$=async(ce,Q)=>{ce.preventDefault(),ce.stopPropagation();const ue=ce.target;if(ce.ctrlKey||ce.metaKey){await N(Q);return}if(ue.tagName==="A"){await AO(n,r,ue);return}if(ue.tagName==="IMG"){OO(h.current,ue);return}if(ue.tagName==="A"&&ue.getAttribute("href")){const se=ue.getAttribute("href");window.open(se,"_blank");return}if(ue.className==="memo-link-text"){PO(ue);return}if(ue.tagName==="INPUT"&&ue.hasClass("task-list-item-checkbox")){await jO(Q,h.current,ue);return}},oe=ce=>{const Q=new C.Menu;Q.dom.toggleClass("memo-context-menu",!0);const ue=window.getSelection();(ue==null?void 0:ue.toString().length)>0&&Q.addItem(se=>{se.setIcon("copy").setTitle(x("Copy selected text")).onClick(()=>{navigator.clipboard.writeText(ue.toString()).then(()=>{new C.Notice(x("COPY SUCCEED"))}).catch(()=>{new C.Notice(x("COPY FAILED"))})})}).addSeparator(),Q.addItem(se=>{se.setIcon("copy").setTitle(x("Copy thino").toLocaleUpperCase()).onClick(async we=>{await V(we),Q.close()})}).addItem(se=>{se.setIcon("book-open").setTitle(x("READ")).onClick(b)}).addItem(se=>{se.setIcon(c.pinned?"pin-off":"pin").setTitle(c.pinned?x("UNPIN"):x("PIN")).onClick(T)}).addItem(se=>{se.setIcon("bookmark").setTitle(x("MARK")).onClick(D)}).addItem(se=>{se.setIcon("share-2").setTitle(x("SHARE")).onClick(L)}).addItem(se=>{se.setIcon("pencil").setTitle(x("EDIT")).onClick(I)}).addItem(se=>{se.setIcon("home").setTitle(x("SOURCE")).onClick(()=>N(c))}).addSeparator().addItem(se=>{se.setIcon("archive").setTitle(x("ARCHIVE").toLocaleUpperCase()).onClick(()=>B(c))}).addItem(se=>{se.setIcon("trash").setTitle(x("DELETE")).onClick(async we=>{await P(we,!0)})}),Q.showAtMouseEvent(ce.nativeEvent)},te=j.useMemo(()=>({memo:c,handlePinMemoClick:T,handleFixMemoClick:O,handleSourceMemoClick:N,handleArchiveMemo:B,handleDeleteMemoClick:P,handleGenMemoImageBtnClick:L,handleMarkMemoClick:D,handleEditMemoClick:I,handleCopyMemoClick:V,handleShowMemoStoryDialog:b}),[c]),ye=j.useMemo(()=>({memo:c,handleMemoTypeToggle:z,handleShowMemoStoryDialog:b,settings:o}),[c,o]),ge=j.useMemo(()=>y.jsxs("div",{ref:h,className:`memo-wrapper ${c.pinned?"pinned":""}`,"data-source-type":c.sourceType,"data-thino-type":c.thinoType,"data-thino-id":c.id,onMouseLeave:U,onMouseOver:ce=>{ce.shiftKey&&(ce.stopPropagation(),n.workspace.trigger("hover-link",{event:ce,source:"thino",hoverParent:r.containerEl,targetEl:h.current,linktext:c.path,sourcePath:c.path,state:{scroll:c.sourceType==="DAILY"?parseInt(c.id.slice(14)):0}}))},onContextMenu:oe,children:[g&&y.jsx(fd,{editorType:"inline"}),!g&&y.jsxs(y.Fragment,{children:[d==="inline"&&y.jsxs("div",{className:"memo-top-wrapper",draggable:!0,onDragStart:ce=>{ce.target.classList.add("dragging"),ce.dataTransfer.setDragImage(h.current,0,0),ce.dataTransfer.setData("text/plain",c.content)},onDragEnd:ce=>{ce.target.classList.remove("dragging")},children:[y.jsx(NO,{...ye}),y.jsx(kO,{ref:m,...te})]}),y.jsx(Cx,{memo:c,handleMemoContentClick:$,handleMemoDoubleClick:Z})]})]}),[c,g]);return y.jsx(y.Fragment,{children:ge})},Oi=j.memo(LO);class dt extends C.Setting{constructor(n,r){super(n);De(this,"settingTab");De(this,"name","");De(this,"desc","");this.settingTab=r}setName(n){return super.setName(n),this.name=n,this}setDesc(n){return super.setDesc(n),this.desc=n,this}setTab(n){const r=typeof this.name=="string"?this.name:this.name.textContent||"",o=typeof this.desc=="string"?this.desc:this.desc.textContent||"";return this.settingTab.addSettingToMasterSettingsList(n,this.settingEl,r,o),this}}class RO extends C.Modal{constructor(n,r,o,i,s){super(n);De(this,"plugin");De(this,"settingTab");De(this,"target",5);De(this,"cb");this.app=n,this.settingTab=r,this.plugin=o,this.target=i,this.cb=s}onOpen(){var c;const{contentEl:n}=this;(c=n.parentElement)==null||c.classList.add("memo-save-location-modal"),n.createEl("h3",{text:x("Thino Daily Target")});const r=n.createDiv("modal-setting");new dt(r,this.settingTab).setName(x("Target Thino Count")).addSlider(d=>{d.setDynamicTooltip().setValue(this.target).setLimits(1,30,1).onChange(async h=>{this.target=h})});const o=n.createDiv("button-group"),i=o.createEl("button",{text:x("Cancel")}),s=o.createEl("button",{text:x("Save")});s.onclick=async()=>{this.plugin.settings.MemoDailyTarget=this.target,this.settingTab.applySettingsUpdate(),this.cb(this.target),this.close()},i.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}const _O=({allStat:e,todayTimeStamp:t,calendarType:n,handleCalendarTypeChange:r})=>{const{dailyNotesState:{app:o,settings:i},globalState:{manifest:s}}=j.useContext(Pt),[c,d]=j.useState(),[h,m]=j.useState(5),[g,v]=j.useState(0),[b,D]=j.useState(0),[T,I]=j.useState(i.HeatmapColorScheme||"default"),O=j.useRef(null),N=j.useRef(null);j.useEffect(()=>{i.HeatmapColorScheme&&I(i.HeatmapColorScheme)},[i.HeatmapColorScheme]),j.useEffect(()=>{let P,U=5;s&&o&&(P=o==null?void 0:o.plugins.getPlugin(s.id),U=P==null?void 0:P.settings.MemoDailyTarget,d(P)),m(U)},[s,o]),j.useEffect(()=>{const P=e.find(z=>z.timestamp===t),U=P?P.count:0;D(U);const L=Math.min(100,U/h*100);v(L)},[e,h]),j.useEffect(()=>{C.requireApiVersion("1.4.4")&&(C.setTooltip(N.current,g.toFixed(2)+"%"),C.setTooltip(O.current,x("Set daily target")+` (${b}/${h})`))},[g,b]),j.useEffect(()=>{O.current&&(O.current.hasChildNodes()||C.setIcon(O.current,"crosshair"),C.requireApiVersion("1.4.4")&&C.setTooltip(N.current,g+"%"))},[O,h]);const B=j.useCallback(()=>{if(!c)return;new RO(o,c==null?void 0:c.settingTab,c,h,U=>{m(U)}).open()},[c,h]);return y.jsx(y.Fragment,{children:y.jsxs("div",{className:`usage-daily-progress-wrapper heatmap-${T}`,children:[y.jsx("div",{ref:N,className:"daily-progress-bar",children:y.jsx("div",{className:"daily-progress-bar-inner",style:{width:`${g}%`}})}),y.jsx("div",{ref:O,className:"daily-progress-target",onClick:B}),y.jsx("div",{ref:P=>{P&&C.setIcon(P,n==="basic"?"layout-grid":"calendar"),P&&C.setTooltip&&C.setTooltip(P,x("Switch calendar type"))},className:"switch-calendar-type-btn",onClick:()=>r&&r(n==="basic"?"heatmap":"basic")})]})})},BO=e=>{const{className:t,view:n,datestamp:r,handleDateStampChange:o,handleDateItemClick:i,handleMonthChange:s,dailyStat:c}=e,d=C.moment().startOf("day").valueOf(),[h,m]=j.useState(Gp(r)),[g,v]=j.useState(null);j.useEffect(()=>{m(Gp(r))},[r]);const b=new Date(h),D=b.getDay(),T=[];for(let N=0;N<D;N++)T.push({date:0,datestamp:b.getTime()-ul*(7-N)});const I=HO(h);for(let N=1;N<=I;N++)T.push({date:N,datestamp:b.getTime()+ul*(N-1)});const O=N=>{const B=b.getFullYear(),P=b.getMonth()+1;let U=0;P===1&&N===-1?U=new Date(`${B-1}/12/1`).getTime():P===12&&N===1?U=new Date(`${B+1}/1/1`).getTime():U=new Date(`${B}/${P+N}/1`).getTime(),m(Gp(U)),s&&s(U)};return y.jsxs("div",{className:`heatmap-date-picker-wrapper ${t}`,children:[y.jsxs("div",{className:"date-picker-header",children:[y.jsx("span",{ref:N=>{N&&C.setIcon(N,"chevron-left")},className:"btn btn-text",onClick:()=>O(-1)}),y.jsxs("span",{className:"normal-text",children:[y.jsx(XE,{year:b.getFullYear().toString(),handleYearChange:N=>{m(Gp(new Date(`${N}/${b.getMonth()+1}/1`).getTime()))}}),y.jsx(ex,{month:b.getMonth().toString(),handleMonthChange:N=>{m(Gp(new Date(`${b.getFullYear()}/${parseInt(N)}/1`).getTime()))}})]}),y.jsx("span",{ref:N=>{N&&C.setIcon(N,"chevron-right")},className:"btn btn-text",onClick:()=>O(1)})]}),y.jsxs("div",{className:"date-picker-day-container",children:[y.jsx("div",{className:"date-picker-day-header",children:x("weekDaysShort").map(N=>y.jsx("span",{className:"day-item",children:N},N))}),y.jsx("div",{className:"date-picker-day-content",children:T.map(N=>{if(N.date===0)return y.jsx("span",{className:"day-item null",children:""},N.datestamp);const B=c.find(L=>L.timestamp===N.datestamp)||{count:0,timestamp:N.datestamp,list:0},P=B.count-B.list,U=B.list;return y.jsxs("span",{className:`day-item ${N.datestamp===d?"current":""} ${N.datestamp===g?"selected":""} ${Dw(B.count)}`,onClick:L=>{o(r,L.nativeEvent),v(N.datestamp===g?null:N.datestamp),i&&i(L,B)},onMouseOver:L=>{if(!B||!B.count)return;const z=new C.HoverPopover(n,L.currentTarget,100);Mx(z,{d:N,list:U,task:P})},children:[y.jsx("span",{className:"day-item-text",children:N.date}),y.jsx(y.Fragment,{children:B&&B.count!==0&&y.jsxs("span",{className:"day-item-dots",children:[P>0&&y.jsx("div",{className:`day-item-dot thino-task-dot ${Dw(P)}`}),U>0&&y.jsx("div",{className:`day-item-dot thino-list-dot ${Dw(U)}`})]})})]},N.datestamp)})})]})]})};function Mx(e,{d:t,list:n,task:r}){e.hoverEl.toggleClass("thino-hover-popover",!0);const o=e.hoverEl.createDiv({cls:"thino-hover-popover-content"});o.createDiv({cls:"thino-date-item",text:`${C.moment(t.datestamp).format("YYYY-MM-DD")}`});const i=o.createDiv({cls:"thino-task-item"});i.createSpan({cls:"thino-task-item-title-text",text:`${x("Task")}: `}),i.createSpan({cls:"thino-task-item-title-count",text:`${r}`});const s=o.createDiv({cls:"thino-list-item"});s.createSpan({cls:"thino-list-item-title-text",text:`${x("List")}: `}),s.createSpan({cls:"thino-list-item-title-count",text:`${n}`})}function HO(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/ul}function Gp(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}function Dw(e){return e<=0?"":e<=1?"stat-day-L1-bg":e<=2?"stat-day-L2-bg":e<=4?"stat-day-L3-bg":"stat-day-L4-bg"}const $D={width:12,height:7},qD=(e,t)=>{const n=[];for(let r=0;r<=e;r++)n.push({timestamp:parseInt(C.moment(t).add(r,"days").format("x")),count:0,list:0});return n},bm=({initThinos:e,basicType:t})=>{const n=parseInt(C.moment().endOf("day").format("x")),r=new Date(n).getDay()||7,o=parseInt(C.moment().startOf("day").format("x")),i=new Array(7-(r===7?1:r)).fill(0),s=($D.width-1)*$D.height+r,c=parseInt(C.moment().startOf("day").subtract(s,"days").format("x")),d=C.moment().startOf("day").subtract(s,"days"),{memoState:{memos:h},dailyNotesState:{view:m,app:g,settings:v,verifyState:b}}=j.useContext(Pt),[D,T]=ri(t||YO(g||window.app)||"heatmap"),[I,O]=ri(C.moment().startOf("day").valueOf()),[N,B]=ri(v.HeatmapColorScheme||"default"),[P,U]=ri(qD(s,c)),[L,z]=ri(null),[V,Z,$]=ri(""),oe=j.useRef(null);j.useEffect(()=>{const Q=qD(s,c),ue=(e||h).filter(se=>!se.deletedAt&&se.rowStatus!=="ARCHIVED");for(const se of ue){const J=C.moment(se.createdAt.replaceAll("/","-"),"YYYY-MM-DD HH:mm:ss").startOf("day").diff(d,"days");J>=0&&J<Q.length&&(Q[J].count+=1,se.thinoType==="JOURNAL"&&(Q[J].list+=1))}U([...Q])},[h,e]),j.useEffect(()=>{v.HeatmapColorScheme&&B(v.HeatmapColorScheme)},[v.HeatmapColorScheme]);const te=j.useCallback((Q,ue)=>{if(!ue||!ue.count)return;const se=ue.count-ue.list,we=ue.list,J={date:ue.timestamp,datestamp:ue.timestamp},ee=new C.HoverPopover(m,Q.currentTarget,100);Mx(ee,{d:J,list:we,task:se})},[]),ye=()=>{T(D==="heatmap"?"basic":"heatmap"),UO(g,D==="heatmap"?"basic":"heatmap"),O(C.moment().startOf("day").valueOf())},ge=j.useCallback(async(Q,ue)=>{if(ue.count===0)return;const se=ot.getState().query.duration,we=se==null?void 0:se.from,J=se==null?void 0:se.to,ee=C.moment(we).diff(J,"day")==0;if(we===ue.timestamp&&ee)ot.setFromAndToQuery(0,0),z(null),Z(null);else if(we!==ue.timestamp&&we>0&&Q.shiftKey){const fe=C.moment(ue.timestamp).endOf("day").diff(J,"day");we===0&&Q.shiftKey?Z("from"):fe<0&&ee&&Z("to"),C.moment(we).isBefore(ue.timestamp)?$.current==="to"?fe<0?ot.setFromAndToQuery(ue.timestamp,J):(ot.setFromAndToQuery(parseInt(C.moment(J).startOf("day").format("x")),parseInt(C.moment(ue.timestamp).endOf("day").format("x"))),Z("from")):$.current==="from"&&(fe<0,ot.setFromAndToQuery(we,parseInt(C.moment(ue.timestamp).endOf("day").format("x")))):$.current==="to"?ot.setFromAndToQuery(ue.timestamp,J):$.current==="from"&&(ot.setFromAndToQuery(ue.timestamp,parseInt(C.moment(we).endOf("day").format("x"))),Z("to"))}else if(we===0&&Q.shiftKey)ot.setFromAndToQuery(ue.timestamp,parseInt(C.moment().endOf("day").format("x")));else if(ue.count>0&&(Q.ctrlKey||Q.metaKey)){const{app:fe,dailyNotes:xe}=yt.getState(),je=Av(C.moment(ue.timestamp),xe);if(!C.Platform.isMobile)await fe.workspace.getLeaf(!0).openFile(je);else{let Ve=fe.workspace.activeLeaf;Ve===null&&(Ve=fe.workspace.getLeaf(!0)),Ve.openFile(je)}}else ue.count>0&&!Q.shiftKey&&!Q.ctrlKey&&!Q.metaKey&&(["/","/recycle"].includes(ot.getState().pathname)||ot.setPathname("/"),ot.setFromAndToQuery(ue.timestamp,at.getTimeStampByDate(C.moment(ue.timestamp+ul).subtract(1,"days").endOf("day").format("YYYY-MM-DD HH:mm:ss"))),z(ue))},[]),ce=j.useMemo(()=>y.jsx(BO,{className:`heatmap-${N}`,view:m,datestamp:I,dailyStat:P,handleMonthChange:Q=>{O(Q)},handleDateStampChange:Q=>{},handleDateItemClick:(Q,ue)=>ge(Q,ue)}),[JSON.stringify(P),m,I,N]);return y.jsxs(y.Fragment,{children:[D==="basic"&&ce,D==="heatmap"&&y.jsxs("div",{className:`usage-heat-map-wrapper heatmap-${N}`,ref:oe,children:[y.jsxs("div",{className:"day-tip-text-container",children:[y.jsx("span",{className:"tip-text",children:x("weekDaysShort")[0]}),y.jsx("span",{className:"tip-text"}),y.jsx("span",{className:"tip-text",children:x("weekDaysShort")[2]}),y.jsx("span",{className:"tip-text"}),y.jsx("span",{className:"tip-text",children:x("weekDaysShort")[4]}),y.jsx("span",{className:"tip-text"}),y.jsx("span",{className:"tip-text",children:x("weekDaysShort")[6]})]}),y.jsxs("div",{className:"usage-heat-map",children:[P.map((Q,ue)=>{const se=Q.count,we=se<=0?"":se<=1?"stat-day-L1-bg":se<=2?"stat-day-L2-bg":se<=4?"stat-day-L3-bg":"stat-day-L4-bg";return y.jsx("span",{className:`stat-container ${we} ${L===Q?"current":""} ${o===Q.timestamp?"today":""}`,onMouseOver:J=>te(J,Q),onClick:J=>ge(J,Q)},ue)}),i.map((Q,ue)=>y.jsx("span",{className:"stat-container null"},ue))]})]}),!t&&b&&y.jsx(_O,{allStat:P,todayTimeStamp:o,calendarType:D,handleCalendarTypeChange:ye})]})};function UO(e,t){try{e==null||e.saveLocalStorage("calendarType",t)}catch(n){console.error(n)}}function YO(e){try{return(e==null?void 0:e.loadLocalStorage("calendarType"))||"heatmap"}catch(t){return console.error(t),"heatmap"}}const kx=({type:e,timestamp:t})=>{const{memoState:{memos:n}}=j.useContext(Pt),[r,o]=j.useState([]),i=ie.useRef(null);return j.useEffect(()=>{if(e==="daily"){if(t){const c=n.filter(d=>C.moment(d.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(C.moment(t,"YYYY/MM/DD HH:mm:ss"),"day"));o(c);return}const s=n.filter(c=>C.moment(c.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(C.moment(),"day"));o(s)}else if(e==="latest"){const s=n.filter(h=>!h.deletedAt&&h.rowStatus!=="ARCHIVED"),c=s.filter(h=>h.pinned),d=s.filter(h=>!h.pinned).slice(0,5);o([...c,...d])}},[n]),j.useEffect(()=>{i.current&&(i.current.scrollTop=0)},[n]),r.length>0?y.jsx("div",{ref:i,className:"thino-list-container",children:r.map(s=>y.jsx(Oi,{memo:s}))}):y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:x("Here is No Memos.")})})},zO=(e,t)=>{Aa.createRoot(e).render(y.jsx(ie.StrictMode,{children:y.jsx(Pa,{store:Le,context:Pt,children:y.jsx(VO,{plugin:t})})}))},VO=({plugin:e})=>y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"thino-error-code-block",children:x("Please open thino first")}),y.jsx("button",{className:"thino-open-view",onClick:()=>e.openMemos("center"),children:x("Open thino in center window")})]}),ZO=(e,t)=>{Aa.createRoot(e).render(y.jsx(ie.StrictMode,{children:y.jsx(Pa,{store:Le,context:Pt,children:y.jsx(WO,{yaml:t})})}))},WO=({yaml:e})=>{const t=Object.keys(e).filter(o=>e[o]),n=e.daily?e.daily:"",r=o=>{switch(o){case"editor":return GD;case"heatmap":return qO;case"calendar":return GO;case"daily":return KO;case"list":return QO;case"status":return JO;default:return GD}};return y.jsx(y.Fragment,{children:t.map(o=>y.jsx("div",{"data-embed-type":o,className:Gn("thino-embed-container",o==="editor"?"thino-editor-modal":""),children:o==="daily"?r(o)(n):r(o)()}))})};function GD(){return y.jsx(fd,{editorType:"inline"})}function $O(e,t){try{const n=Aa.createRoot(e);return n.render(y.jsx(ie.StrictMode,{children:y.jsx(Pa,{store:Le,context:Pt,children:y.jsx(fd,{editorType:"inline",destroy:t})})})),n}catch(n){console.error(n)}}function qO(){return y.jsx(bm,{basicType:"heatmap"})}function GO(){return y.jsx(bm,{basicType:"basic"})}function JO(){return y.jsx(hb,{statusType:"banner"})}function KO(e){return y.jsx(kx,{type:"daily",timestamp:e})}function QO(){return y.jsx(kx,{type:"latest"})}class Nx extends C.Modal{constructor(n){super(n);De(this,"root")}onOpen(){const{contentEl:n,modalEl:r}=this;try{this.root=$O(n,this.close.bind(this)),r.toggleClass("thino-editor-modal",!0),setTimeout(()=>{var o;(o=n.querySelector("textarea"))==null||o.focus(),this.app.workspace.trigger("focus-on-textarea")},10)}catch(o){console.error(o)}}onClose(){this.root.unmount(),this.containerEl&&this.containerEl.empty()}}function XO(e,t){if(e==null)return{};var n=eP(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eP(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function cv(){return cv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cv.apply(this,arguments)}function JD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Jp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(n),!0).forEach(function(r){tP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const nP={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},Tw=2;class dv extends ie.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||Tw,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||Tw});let r=1/0,o=n.default||Tw;for(let i in n){const s=parseInt(i);s>0&&t<=s&&s<r&&(r=s,o=n[i])}o=Math.max(1,parseInt(o)||1),this.state.columnCount!==o&&this.setState({columnCount:o})}itemsInColumns(){const t=this.state.columnCount,n=new Array(t),r=ie.Children.toArray(this.props.children);for(let o=0;o<r.length;o++){const i=o%t;n[i]||(n[i]=[]),n[i].push(r[o])}return n}renderColumns(){const{column:t,columnAttrs:n={},columnClassName:r}=this.props,o=this.itemsInColumns(),i=`${100/o.length}%`;let s=r;s&&typeof s!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof s>"u"&&(s="my-masonry-grid_column"));const c=Jp(Jp(Jp({},t),n),{},{style:Jp(Jp({},n.style),{},{width:i}),className:s});return o.map((d,h)=>ie.createElement("div",cv({},c,{key:h}),d))}logDeprecated(t){console.error("[Masonry]",t)}render(){const t=this.props,{children:n,breakpointCols:r,columnClassName:o,columnAttrs:i,column:s,className:c}=t,d=XO(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let h=c;return typeof c!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof c>"u"&&(h="my-masonry-grid")),ie.createElement("div",cv({},d,{className:h}),this.renderColumns())}}dv.defaultProps=nP;const v1=e=>{j.useContext(Pt);const t=Le.getState().dailyNotesState.settings,{thinos:n,dayMark:r,dayMarkRange:o="day",thinoWrapper:i}=e,[s,c]=ie.useState(!(t!=null&&t.hidePinnedGroup&&r==="PINNED")),d=ie.useRef(null);j.useEffect(()=>{d&&C.setTooltip&&C.setTooltip(d.current,x("Click to expand or fold, Cmd+Click to show all thinos of the day"))},[d]);const h=m=>{if(C.Keymap.isModifier(m.nativeEvent,"Mod")){const g={day:"YYYY-MM-DD",week:"YYYY-[W]WW",month:"YYYY-MM",quarter:"YYYY-[Q]Q",year:"YYYY"},v=C.moment(r,g[o]);ot.setFromAndToQuery(v.startOf(o).valueOf(),v.endOf(o).valueOf());return}c(!s)};return y.jsx(y.Fragment,{children:e.type==="list"?y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:d,className:`day-mark ${s?"":"folded"} PINNED`,onClick:h,children:y.jsxs("span",{className:"day-mark-text",children:[s?"▼ ":"▶ ",r==="PINNED"?r+" 📌":r]})},r),s&&n.map((m,g)=>i?y.jsx("div",{children:i({thino:m})},`${m.id}-${C.moment(m.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`):y.jsx(Oi,{memo:m},`${m.id}-${C.moment(m.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`))]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:d,className:`day-mark ${s?"":"folded"}`,onClick:h,children:y.jsxs("span",{className:"day-mark-text",children:[s?"▼ ":"▶ ",r==="PINNED"?r+" 📌":r]})},r),y.jsx(dv,{breakpointCols:e.type==="waterfall"?3:1,className:`${e.type}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:s&&n.map((m,g)=>i?y.jsx("div",{children:i({thino:m})},`${m.id}-${C.moment(m.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`):y.jsx(Oi,{memo:m},`${m.id}-${C.moment(m.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`))})]})})};function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function rP(e,t){if(Xl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ax(e){var t=rP(e,"string");return Xl(t)=="symbol"?t:String(t)}function ad(e,t,n){return t=Ax(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(n),!0).forEach(function(r){ad(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $v(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function pl(e,t){if(e==null)return{};var n=$v(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ax(r.key),r)}}function uo(e,t,n){return t&&QD(e.prototype,t),n&&QD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fv(e){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(e)}function Fx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fx=function(){return!!e})()}function Ox(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oP(e,t){if(t&&(Xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ox(e)}function ai(e,t,n){return t=fv(t),oP(e,Fx()?Reflect.construct(t,n||[],fv(e).constructor):t.apply(e,n))}function hv(e,t){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},hv(e,t)}function si(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hv(e,t)}function Px(e){if(Array.isArray(e))return e}function iP(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,s,c=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(m){h=!0,o=m}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw o}}return c}}function w1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ib(e,t){if(e){if(typeof e=="string")return w1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w1(e,t)}}function jx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ql(e,t){return Px(e)||iP(e,t)||Ib(e,t)||jx()}function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}var aP=function(e,t,n,r,o,i,s,c){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[n,r,o,i,s,c],m=0;d=new Error(t.replace(/%s/g,function(){return h[m++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}},sP=aP;const Sm=Wr(sP);var lP=function(){};function uP(e,t){var n={};return Object.keys(e).forEach(function(r){n[$y(r)]=lP}),n}function XD(e,t){return e[t]!==void 0}function $y(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function cP(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function dP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hv(e,t)}function Lx(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Rx(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function _x(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Lx.__suppressDeprecationWarning=!0;Rx.__suppressDeprecationWarning=!0;_x.__suppressDeprecationWarning=!0;function fP(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,o=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?o="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||r!==null||o!==null){var i=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Lx,t.componentWillReceiveProps=Rx),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=_x;var c=t.componentDidUpdate;t.componentDidUpdate=function(h,m,g){var v=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:g;c.call(this,h,m,v)}}return e}var hP="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Bx(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",o=cP(e),i=Object.keys(t),s=i.map($y);o||!n.length||Sm(!1);var c=function(h){dP(m,h);function m(){for(var v,b=arguments.length,D=new Array(b),T=0;T<b;T++)D[T]=arguments[T];v=h.call.apply(h,[this].concat(D))||this,v.handlers=Object.create(null),i.forEach(function(O){var N=t[O],B=function(U){if(v.props[N]){var L;v._notifying=!0;for(var z=arguments.length,V=new Array(z>1?z-1:0),Z=1;Z<z;Z++)V[Z-1]=arguments[Z];(L=v.props)[N].apply(L,[U].concat(V)),v._notifying=!1}v.unmounted||v.setState(function($){var oe,te=$.values;return{values:gr(Object.create(null),te,(oe={},oe[O]=U,oe))}})};v.handlers[N]=B}),n.length&&(v.attachRef=function(O){v.inner=O});var I=Object.create(null);return i.forEach(function(O){I[O]=v.props[$y(O)]}),v.state={values:I,prevProps:{}},v}var g=m.prototype;return g.shouldComponentUpdate=function(){return!this._notifying},m.getDerivedStateFromProps=function(b,D){var T=D.values,I=D.prevProps,O={values:gr(Object.create(null),T),prevProps:{}};return i.forEach(function(N){O.prevProps[N]=b[N],!XD(b,N)&&XD(I,N)&&(O.values[N]=b[$y(N)])}),O},g.componentWillUnmount=function(){this.unmounted=!0},g.render=function(){var b=this,D=this.props,T=D.innerRef,I=$v(D,["innerRef"]);s.forEach(function(N){delete I[N]});var O={};return i.forEach(function(N){var B=b.props[N];O[N]=B!==void 0?B:b.state.values[N]}),ie.createElement(e,gr({},I,O,this.handlers,{ref:T||this.attachRef}))},m}(ie.Component);fP(c),c.displayName="Uncontrolled("+r+")",c.propTypes=gr({innerRef:function(){}},uP(t)),n.forEach(function(h){c.prototype[h]=function(){var g;return(g=this.inner)[h].apply(g,arguments)}});var d=c;return ie.forwardRef&&(d=ie.forwardRef(function(h,m){return ie.createElement(c,gr({},h,{innerRef:m,__source:{fileName:hP,lineNumber:128},__self:this}))}),d.propTypes=c.propTypes),d.ControlledComponent=e,d.deferControlTo=function(h,m,g){return m===void 0&&(m={}),Bx(h,gr({},t,m),g)},d}function Hx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Hx(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Zr(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Hx(e))&&(r&&(r+=" "),r+=t);return r}var Ux={exports:{}},Iw,e2;function pP(){if(e2)return Iw;e2=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Iw=e,Iw}var Ew,t2;function mP(){if(t2)return Ew;t2=1;var e=pP();function t(){}function n(){}return n.resetWarningCache=t,Ew=function(){function r(s,c,d,h,m,g){if(g!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function o(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Ew}Ux.exports=mP()();var gP=Ux.exports;const Me=Wr(gP);var pv="milliseconds",Dm="seconds",Tm="minutes",Im="hours",gd="day",uh="week",Em="month",yd="year",vd="decade",wd="century",Yx={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},yP={month:1,year:12,decade:10*12,century:100*12};function vP(e){return[31,wP(e),31,30,31,30,31,31,30,31,30,31]}function wP(e){return e%4===0&&e%100!==0||e%400===0?29:28}function fs(e,t,n){switch(e=new Date(e),n){case pv:case Dm:case Tm:case Im:case gd:case uh:return bP(e,t*Yx[n]);case Em:case yd:case vd:case wd:return SP(e,t*yP[n])}throw new TypeError('Invalid units: "'+n+'"')}function bP(e,t){var n=new Date(+e+t);return DP(e,n)}function SP(e,t){var n=e.getFullYear(),r=e.getMonth(),o=e.getDate(),i=n*12+r+t,s=Math.trunc(i/12),c=i%12,d=Math.min(o,vP(s)[c]),h=new Date(e);return h.setFullYear(s),h.setDate(1),h.setMonth(c),h.setDate(d),h}function DP(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),o=r-n;return new Date(+t+o*Yx.minutes)}function xm(e,t,n){return fs(e,-t,n)}function Io(e,t,n){switch(e=new Date(e),t){case wd:case vd:case yd:e=gv(e,0);case Em:e=$x(e,1);case uh:case gd:e=km(e,0);case Im:e=ch(e,0);case Tm:e=Mm(e,0);case Dm:e=Cm(e,0)}return t===vd&&(e=xm(e,bd(e)%10,"year")),t===wd&&(e=xm(e,bd(e)%100,"year")),t===uh&&(e=qx(e,0,n)),e}function mv(e,t,n){switch(e=new Date(e),e=Io(e,t,n),t){case wd:case vd:case yd:case Em:case uh:e=fs(e,1,t),e=xm(e,1,gd),e.setHours(23,59,59,999);break;case gd:e.setHours(23,59,59,999);break;case Im:case Tm:case Dm:e=fs(e,1,t),e=xm(e,1,pv)}return e}var Xm=Eh(function(e,t){return e===t}),Eb=Eh(function(e,t){return e!==t}),qv=Eh(function(e,t){return e>t}),eg=Eh(function(e,t){return e>=t}),xb=Eh(function(e,t){return e<t}),Ih=Eh(function(e,t){return e<=t});function zx(){return new Date(Math.min.apply(Math,arguments))}function Vx(){return new Date(Math.max.apply(Math,arguments))}function Zx(e,t,n,r){return r=r||"day",(!t||eg(e,t,r))&&(!n||Ih(e,n,r))}var Cm=uc("Milliseconds"),Mm=uc("Seconds"),ch=uc("Minutes"),km=uc("Hours"),Wx=uc("Day"),$x=uc("Date"),gv=uc("Month"),bd=uc("FullYear");function TP(e,t){return t===void 0?bd(Io(e,vd)):fs(e,t+10,yd)}function IP(e,t){return t===void 0?bd(Io(e,wd)):fs(e,t+100,yd)}function qx(e,t,n){var r=(Wx(e)+7-(n||0))%7;return t===void 0?r:fs(e,t-r,gd)}function EP(e,t,n,r){var o,i,s;switch(n){case pv:case Dm:case Tm:case Im:case gd:case uh:o=t.getTime()-e.getTime();break;case Em:case yd:case vd:case wd:o=(bd(t)-bd(e))*12+gv(t)-gv(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case pv:i=1;break;case Dm:i=1e3;break;case Tm:i=1e3*60;break;case Im:i=1e3*60*60;break;case gd:i=1e3*60*60*24;break;case uh:i=1e3*60*60*24*7;break;case Em:i=1;break;case yd:i=12;break;case vd:i=120;break;case wd:i=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return s=o/i,r?s:Math.round(s)}function uc(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var o=new Date(n);return o["set"+e](r),t&&o["get"+e]()!=r&&(e==="Hours"||r>=t&&o.getHours()-n.getHours()<Math.floor(r/t))&&o["set"+e](r+t),o}}function Eh(e){return function(t,n,r){return e(+Io(t,r),+Io(n,r))}}const n2=Object.freeze(Object.defineProperty({__proto__:null,add:fs,century:IP,date:$x,day:Wx,decade:TP,diff:EP,endOf:mv,eq:Xm,gt:qv,gte:eg,hours:km,inRange:Zx,lt:xb,lte:Ih,max:Vx,milliseconds:Cm,min:zx,minutes:ch,month:gv,neq:Eb,seconds:Mm,startOf:Io,subtract:xm,weekday:qx,year:bd},Symbol.toStringTag,{value:"Module"}));function xP(e){if(Array.isArray(e))return w1(e)}function Gx(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qy(e){return xP(e)||Gx(e)||Ib(e)||CP()}function MP(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var Jx=MP;function kP(e,t){return e===t||e!==e&&t!==t}var tg=kP,NP=typeof zr=="object"&&zr&&zr.Object===Object&&zr,Kx=NP,AP=Kx,FP=typeof self=="object"&&self&&self.Object===Object&&self,OP=AP||FP||Function("return this")(),ml=OP,PP=ml,jP=PP.Symbol,xh=jP,r2=xh,Qx=Object.prototype,LP=Qx.hasOwnProperty,RP=Qx.toString,Kp=r2?r2.toStringTag:void 0;function _P(e){var t=LP.call(e,Kp),n=e[Kp];try{e[Kp]=void 0;var r=!0}catch{}var o=RP.call(e);return r&&(t?e[Kp]=n:delete e[Kp]),o}var BP=_P,HP=Object.prototype,UP=HP.toString;function YP(e){return UP.call(e)}var zP=YP,o2=xh,VP=BP,ZP=zP,WP="[object Null]",$P="[object Undefined]",i2=o2?o2.toStringTag:void 0;function qP(e){return e==null?e===void 0?$P:WP:i2&&i2 in Object(e)?VP(e):ZP(e)}var Ch=qP;function GP(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var iu=GP,JP=Ch,KP=iu,QP="[object AsyncFunction]",XP="[object Function]",ej="[object GeneratorFunction]",tj="[object Proxy]";function nj(e){if(!KP(e))return!1;var t=JP(e);return t==XP||t==ej||t==QP||t==tj}var Cb=nj,rj=9007199254740991;function oj(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rj}var Mb=oj,ij=Cb,aj=Mb;function sj(e){return e!=null&&aj(e.length)&&!ij(e)}var ng=sj,lj=9007199254740991,uj=/^(?:0|[1-9]\d*)$/;function cj(e,t){var n=typeof e;return t=t??lj,!!t&&(n=="number"||n!="symbol"&&uj.test(e))&&e>-1&&e%1==0&&e<t}var kb=cj,dj=tg,fj=ng,hj=kb,pj=iu;function mj(e,t,n){if(!pj(n))return!1;var r=typeof t;return(r=="number"?fj(n)&&hj(t,n.length):r=="string"&&t in n)?dj(n[t],e):!1}var Gv=mj,gj=/\s/;function yj(e){for(var t=e.length;t--&&gj.test(e.charAt(t)););return t}var vj=yj,wj=vj,bj=/^\s+/;function Sj(e){return e&&e.slice(0,wj(e)+1).replace(bj,"")}var Dj=Sj;function Tj(e){return e!=null&&typeof e=="object"}var cc=Tj,Ij=Ch,Ej=cc,xj="[object Symbol]";function Cj(e){return typeof e=="symbol"||Ej(e)&&Ij(e)==xj}var rg=Cj,Mj=Dj,a2=iu,kj=rg,s2=NaN,Nj=/^[-+]0x[0-9a-f]+$/i,Aj=/^0b[01]+$/i,Fj=/^0o[0-7]+$/i,Oj=parseInt;function Pj(e){if(typeof e=="number")return e;if(kj(e))return s2;if(a2(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=a2(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Mj(e);var n=Aj.test(e);return n||Fj.test(e)?Oj(e.slice(2),n?2:8):Nj.test(e)?s2:+e}var jj=Pj,Lj=jj,l2=1/0,Rj=17976931348623157e292;function _j(e){if(!e)return e===0?e:0;if(e=Lj(e),e===l2||e===-l2){var t=e<0?-1:1;return t*Rj}return e===e?e:0}var Xx=_j,Bj=Xx;function Hj(e){var t=Bj(e),n=t%1;return t===t?n?t-n:t:0}var eC=Hj,Uj=Jx,Yj=Gv,zj=eC,Vj=Math.ceil,Zj=Math.max;function Wj(e,t,n){(n?Yj(e,t,n):t===void 0)?t=1:t=Zj(zj(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,s=Array(Vj(r/t));o<r;)s[i++]=Uj(e,o,o+=t);return s}var $j=Wj;const qj=Wr($j);function og(e){return e&&e.ownerDocument||document}function Gj(e){var t=og(e);return t&&t.defaultView||window}function Jj(e,t){return Gj(e).getComputedStyle(e,t)}var Kj=/([A-Z])/g;function Qj(e){return e.replace(Kj,"-$1").toLowerCase()}var Xj=/^ms-/;function Dy(e){return Qj(e).replace(Xj,"-ms-")}var e7=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function t7(e){return!!(e&&e7.test(e))}function Kf(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Dy(t))||Jj(e).getPropertyValue(Dy(t));Object.keys(t).forEach(function(o){var i=t[o];!i&&i!==0?e.style.removeProperty(Dy(o)):t7(o)?r+=o+"("+i+") ":n+=Dy(o)+": "+i+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function Nm(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function n7(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Nb(e){return"window"in e&&e.window===e?e:n7(e)&&e.defaultView||!1}function tC(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,o){var i=Nb(r);if(o===void 0)return i?i[e]:r[t];i?i.scrollTo(i[e],o):r[t]=o}return n}const nC=tC("pageXOffset"),rC=tC("pageYOffset");function hd(e){var t=og(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!Nm(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+rC(r)-(r.clientTop||0),left:n.left+nC(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var r7=function(t){return!!t&&"offsetParent"in t};function o7(e){for(var t=og(e),n=e&&e.offsetParent;r7(n)&&n.nodeName!=="HTML"&&Kf(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var i7=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function oC(e,t){var n={top:0,left:0},r;if(Kf(e,"position")==="fixed")r=e.getBoundingClientRect();else{var o=t||o7(e);r=hd(e),i7(o)!=="html"&&(n=hd(o));var i=String(Kf(o,"borderTopWidth")||0);n.top+=parseInt(i,10)-rC(o)||0;var s=String(Kf(o,"borderLeftWidth")||0);n.left+=parseInt(s,10)-nC(o)||0}var c=String(Kf(e,"marginTop")||0),d=String(Kf(e,"marginLeft")||0);return gr({},r,{top:r.top-n.top-(parseInt(c,10)||0),left:r.left-n.left-(parseInt(d,10)||0)})}const Ab=!!(typeof window<"u"&&window.document&&window.document.createElement);var u2=new Date().getTime();function a7(e){var t=new Date().getTime(),n=Math.max(0,16-(t-u2)),r=setTimeout(e,n);return u2=t,r}var s7=["","webkit","moz","o","ms"],b1="clearTimeout",S1=a7,c2=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};Ab&&s7.some(function(e){var t=c2(e,"request");return t in window&&(b1=c2(e,"cancel"),S1=function(r){return window[t](r)}),!!S1});var d2=function(t){typeof window[b1]=="function"&&window[b1](t)},iC=S1,xw;function l7(e,t){if(!xw){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;xw=function(i,s){return r.call(i,s)}}return xw(e,t)}var u7=Function.prototype.bind.call(Function.prototype.call,[].slice);function c7(e,t){return u7(e.querySelectorAll(t))}var D1=!1,T1=!1;try{var Cw={get passive(){return D1=!0},get once(){return T1=D1=!0}};Ab&&(window.addEventListener("test",Cw,Cw),window.removeEventListener("test",Cw,!0))}catch{}function d7(e,t,n,r){if(r&&typeof r!="boolean"&&!T1){var o=r.once,i=r.capture,s=n;!T1&&o&&(s=n.__once||function c(d){this.removeEventListener(t,c,i),n.call(this,d)},n.__once=s),e.addEventListener(t,s,D1?r:i)}e.addEventListener(t,n,r)}function f7(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e},[e]),t}function f2(e){const t=f7(e);return j.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function h2(){return j.useState(null)}function h7(){const e=j.useRef(!0),t=j.useRef(()=>e.current);return j.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function p7(e){const t=h7();return[e[0],j.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var m7=yx({defaultModifiers:[hx,mx,lx,ux,px,fx,gx,sx]}),p2=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},g7={name:"applyStyles",enabled:!1},y7={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,o=r.reference,i=r.popper;if("removeAttribute"in o){var s=(o.getAttribute("aria-describedby")||"").split(",").filter(function(c){return c.trim()!==i.id});s.length?o.setAttribute("aria-describedby",s.join(",")):o.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,o=r.elements,i=o.popper,s=o.reference,c=(n=i.getAttribute("role"))==null?void 0:n.toLowerCase();if(i.id&&c==="tooltip"&&"setAttribute"in s){var d=s.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(i.id)!==-1)return;s.setAttribute("aria-describedby",d?d+","+i.id:i.id)}}},v7=[];function w7(e,t,n){var r=n===void 0?{}:n,o=r.enabled,i=o===void 0?!0:o,s=r.placement,c=s===void 0?"bottom":s,d=r.strategy,h=d===void 0?"absolute":d,m=r.modifiers,g=m===void 0?v7:m,v=$v(r,["enabled","placement","strategy","modifiers"]),b=j.useRef(),D=j.useCallback(function(){var P;(P=b.current)==null||P.update()},[]),T=j.useCallback(function(){var P;(P=b.current)==null||P.forceUpdate()},[]),I=p7(j.useState({placement:c,update:D,forceUpdate:T,attributes:{},styles:{popper:p2(h),arrow:{}}})),O=I[0],N=I[1],B=j.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(U){var L=U.state,z={},V={};Object.keys(L.elements).forEach(function(Z){z[Z]=L.styles[Z],V[Z]=L.attributes[Z]}),N({state:L,styles:z,attributes:V,update:D,forceUpdate:T,placement:L.placement})}}},[D,T,N]);return j.useEffect(function(){!b.current||!i||b.current.setOptions({placement:c,strategy:h,modifiers:[].concat(g,[B,g7])})},[h,c,B,i]),j.useEffect(function(){if(!(!i||e==null||t==null))return b.current=m7(e,t,gr({},v,{placement:c,strategy:h,modifiers:[].concat(g,[y7,B])})),function(){b.current!=null&&(b.current.destroy(),b.current=void 0,N(function(P){return gr({},P,{attributes:{},styles:{popper:p2(h)}})}))}},[i,e,t]),O}function b7(e,t,n,r){var o=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}function om(e,t,n,r){return d7(e,t,n,r),function(){b7(e,t,n,r)}}function S7(e){return e&&"setState"in e?fb.findDOMNode(e):e??null}const D7=function(e){return og(S7(e))};var T7=27,m2=function(){};function I7(e){return e.button===0}function E7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var g2=function(t){return t&&("current"in t?t.current:t)};function x7(e,t,n){var r=n===void 0?{}:n,o=r.disabled,i=r.clickTrigger,s=i===void 0?"click":i,c=j.useRef(!1),d=t||m2,h=j.useCallback(function(v){var b,D=g2(e);HF(!!D,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),c.current=!D||E7(v)||!I7(v)||!!Nm(D,(b=v.composedPath==null?void 0:v.composedPath()[0])!=null?b:v.target)},[e]),m=f2(function(v){c.current||d(v)}),g=f2(function(v){v.keyCode===T7&&d(v)});j.useEffect(function(){if(!(o||e==null)){var v=window.event,b=D7(g2(e)),D=om(b,s,h,!0),T=om(b,s,function(N){if(N===v){v=void 0;return}m(N)}),I=om(b,"keyup",function(N){if(N===v){v=void 0;return}g(N)}),O=[];return"ontouchstart"in b.documentElement&&(O=[].slice.call(b.body.children).map(function(N){return om(N,"mousemove",m2)})),function(){D(),T(),I(),O.forEach(function(N){return N()})}}},[e,o,s,h,m,g])}function C7(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function M7(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function k7(e){var t,n,r,o,i=e.enabled,s=e.enableEvents,c=e.placement,d=e.flip,h=e.offset,m=e.fixed,g=e.containerPadding,v=e.arrowElement,b=e.popperConfig,D=b===void 0?{}:b,T=C7(D.modifiers);return gr({},D,{placement:c,enabled:i,strategy:m?"fixed":D.strategy,modifiers:M7(gr({},T,{eventListeners:{enabled:s},preventOverflow:gr({},T.preventOverflow,{options:g?gr({padding:g},(t=T.preventOverflow)==null?void 0:t.options):(n=T.preventOverflow)==null?void 0:n.options}),offset:{options:gr({offset:h},(r=T.offset)==null?void 0:r.options)},arrow:gr({},T.arrow,{enabled:!!v,options:gr({},(o=T.arrow)==null?void 0:o.options,{element:v})}),flip:gr({enabled:!!d},T.flip)}))})}function N7(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function A7(e,t){e.classList?e.classList.add(t):N7(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function y2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function F7(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=y2(e.className,t):e.setAttribute("class",y2(e.className&&e.className.baseVal||"",t))}var Ty;function aC(e){if((!Ty&&Ty!==0||e)&&Ab){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Ty=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ty}var Mw=function(t){var n;return typeof document>"u"?null:t==null?og().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function v2(e,t){var n=j.useState(function(){return Mw(e)}),r=n[0],o=n[1];if(!r){var i=Mw(e);i&&o(i)}return j.useEffect(function(){t&&r&&t(r)},[t,r]),j.useEffect(function(){var s=Mw(e);s!==r&&o(s)},[e,r]),r}const w2=e=>!e||typeof e=="function"?e:t=>{e.current=t};function O7(e,t){const n=w2(e),r=w2(t);return o=>{n&&n(o),r&&r(o)}}function P7(e,t){return j.useMemo(()=>O7(e,t),[e,t])}var Fb=ie.forwardRef(function(e,t){var n=e.flip,r=e.offset,o=e.placement,i=e.containerPadding,s=i===void 0?5:i,c=e.popperConfig,d=c===void 0?{}:c,h=e.transition,m=h2(),g=m[0],v=m[1],b=h2(),D=b[0],T=b[1],I=P7(v,t),O=v2(e.container),N=v2(e.target),B=j.useState(!e.show),P=B[0],U=B[1],L=w7(N,g,k7({placement:o,enableEvents:!!e.show,containerPadding:s||5,flip:n,offset:r,arrowElement:D,popperConfig:d})),z=L.styles,V=L.attributes,Z=$v(L,["styles","attributes"]);e.show?P&&U(!1):!e.transition&&!P&&U(!0);var $=function(){U(!0),e.onExited&&e.onExited.apply(e,arguments)},oe=e.show||h&&!P;if(x7(g,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!oe)return null;var te=e.children(gr({},Z,{show:!!e.show,props:gr({},V.popper,{style:z.popper,ref:I}),arrowProps:gr({},V.arrow,{style:z.arrow,ref:T})}));if(h){var ye=e.onExit,ge=e.onExiting,ce=e.onEnter,Q=e.onEntering,ue=e.onEntered;te=ie.createElement(h,{in:e.show,appear:!0,onExit:ye,onExiting:ge,onExited:$,onEnter:ce,onEntering:Q,onEntered:ue},te)}return O?fb.createPortal(te,O):null});Fb.displayName="Overlay";Fb.propTypes={show:Me.bool,placement:Me.oneOf(mb),target:Me.any,container:Me.any,flip:Me.bool,children:Me.func.isRequired,containerPadding:Me.number,popperConfig:Me.object,rootClose:Me.bool,rootCloseEvent:Me.oneOf(["click","mousedown"]),rootCloseDisabled:Me.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(t.rootClose){var i;return(i=Me.func).isRequired.apply(i,[t].concat(r))}return Me.func.apply(Me,[t].concat(r))},transition:Me.elementType,onEnter:Me.func,onEntering:Me.func,onEntered:Me.func,onExit:Me.func,onExiting:Me.func,onExited:Me.func};const j7=Fb;function L7(){this.__data__=[],this.size=0}var R7=L7,_7=tg;function B7(e,t){for(var n=e.length;n--;)if(_7(e[n][0],t))return n;return-1}var Jv=B7,H7=Jv,U7=Array.prototype,Y7=U7.splice;function z7(e){var t=this.__data__,n=H7(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Y7.call(t,n,1),--this.size,!0}var V7=z7,Z7=Jv;function W7(e){var t=this.__data__,n=Z7(t,e);return n<0?void 0:t[n][1]}var $7=W7,q7=Jv;function G7(e){return q7(this.__data__,e)>-1}var J7=G7,K7=Jv;function Q7(e,t){var n=this.__data__,r=K7(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var X7=Q7,eL=R7,tL=V7,nL=$7,rL=J7,oL=X7;function Mh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Mh.prototype.clear=eL;Mh.prototype.delete=tL;Mh.prototype.get=nL;Mh.prototype.has=rL;Mh.prototype.set=oL;var Kv=Mh,iL=Kv;function aL(){this.__data__=new iL,this.size=0}var sL=aL;function lL(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var uL=lL;function cL(e){return this.__data__.get(e)}var dL=cL;function fL(e){return this.__data__.has(e)}var hL=fL,pL=ml,mL=pL["__core-js_shared__"],gL=mL,kw=gL,b2=function(){var e=/[^.]+$/.exec(kw&&kw.keys&&kw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function yL(e){return!!b2&&b2 in e}var vL=yL,wL=Function.prototype,bL=wL.toString;function SL(e){if(e!=null){try{return bL.call(e)}catch{}try{return e+""}catch{}}return""}var sC=SL,DL=Cb,TL=vL,IL=iu,EL=sC,xL=/[\\^$.*+?()[\]{}|]/g,CL=/^\[object .+?Constructor\]$/,ML=Function.prototype,kL=Object.prototype,NL=ML.toString,AL=kL.hasOwnProperty,FL=RegExp("^"+NL.call(AL).replace(xL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OL(e){if(!IL(e)||TL(e))return!1;var t=DL(e)?FL:CL;return t.test(EL(e))}var PL=OL;function jL(e,t){return e==null?void 0:e[t]}var LL=jL,RL=PL,_L=LL;function BL(e,t){var n=_L(e,t);return RL(n)?n:void 0}var Cd=BL,HL=Cd,UL=ml,YL=HL(UL,"Map"),Ob=YL,zL=Cd,VL=zL(Object,"create"),Qv=VL,S2=Qv;function ZL(){this.__data__=S2?S2(null):{},this.size=0}var WL=ZL;function $L(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qL=$L,GL=Qv,JL="__lodash_hash_undefined__",KL=Object.prototype,QL=KL.hasOwnProperty;function XL(e){var t=this.__data__;if(GL){var n=t[e];return n===JL?void 0:n}return QL.call(t,e)?t[e]:void 0}var eR=XL,tR=Qv,nR=Object.prototype,rR=nR.hasOwnProperty;function oR(e){var t=this.__data__;return tR?t[e]!==void 0:rR.call(t,e)}var iR=oR,aR=Qv,sR="__lodash_hash_undefined__";function lR(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=aR&&t===void 0?sR:t,this}var uR=lR,cR=WL,dR=qL,fR=eR,hR=iR,pR=uR;function kh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kh.prototype.clear=cR;kh.prototype.delete=dR;kh.prototype.get=fR;kh.prototype.has=hR;kh.prototype.set=pR;var mR=kh,D2=mR,gR=Kv,yR=Ob;function vR(){this.size=0,this.__data__={hash:new D2,map:new(yR||gR),string:new D2}}var wR=vR;function bR(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var SR=bR,DR=SR;function TR(e,t){var n=e.__data__;return DR(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Xv=TR,IR=Xv;function ER(e){var t=IR(this,e).delete(e);return this.size-=t?1:0,t}var xR=ER,CR=Xv;function MR(e){return CR(this,e).get(e)}var kR=MR,NR=Xv;function AR(e){return NR(this,e).has(e)}var FR=AR,OR=Xv;function PR(e,t){var n=OR(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var jR=PR,LR=wR,RR=xR,_R=kR,BR=FR,HR=jR;function Nh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Nh.prototype.clear=LR;Nh.prototype.delete=RR;Nh.prototype.get=_R;Nh.prototype.has=BR;Nh.prototype.set=HR;var Pb=Nh,UR=Kv,YR=Ob,zR=Pb,VR=200;function ZR(e,t){var n=this.__data__;if(n instanceof UR){var r=n.__data__;if(!YR||r.length<VR-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zR(r)}return n.set(e,t),this.size=n.size,this}var WR=ZR,$R=Kv,qR=sL,GR=uL,JR=dL,KR=hL,QR=WR;function Ah(e){var t=this.__data__=new $R(e);this.size=t.size}Ah.prototype.clear=qR;Ah.prototype.delete=GR;Ah.prototype.get=JR;Ah.prototype.has=KR;Ah.prototype.set=QR;var jb=Ah,XR="__lodash_hash_undefined__";function e_(e){return this.__data__.set(e,XR),this}var t_=e_;function n_(e){return this.__data__.has(e)}var r_=n_,o_=Pb,i_=t_,a_=r_;function yv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new o_;++t<n;)this.add(e[t])}yv.prototype.add=yv.prototype.push=i_;yv.prototype.has=a_;var s_=yv;function l_(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var u_=l_;function c_(e,t){return e.has(t)}var d_=c_,f_=s_,h_=u_,p_=d_,m_=1,g_=2;function y_(e,t,n,r,o,i){var s=n&m_,c=e.length,d=t.length;if(c!=d&&!(s&&d>c))return!1;var h=i.get(e),m=i.get(t);if(h&&m)return h==t&&m==e;var g=-1,v=!0,b=n&g_?new f_:void 0;for(i.set(e,t),i.set(t,e);++g<c;){var D=e[g],T=t[g];if(r)var I=s?r(T,D,g,t,e,i):r(D,T,g,e,t,i);if(I!==void 0){if(I)continue;v=!1;break}if(b){if(!h_(t,function(O,N){if(!p_(b,N)&&(D===O||o(D,O,n,r,i)))return b.push(N)})){v=!1;break}}else if(!(D===T||o(D,T,n,r,i))){v=!1;break}}return i.delete(e),i.delete(t),v}var lC=y_,v_=ml,w_=v_.Uint8Array,uC=w_;function b_(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var S_=b_;function D_(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var T_=D_,T2=xh,I2=uC,I_=tg,E_=lC,x_=S_,C_=T_,M_=1,k_=2,N_="[object Boolean]",A_="[object Date]",F_="[object Error]",O_="[object Map]",P_="[object Number]",j_="[object RegExp]",L_="[object Set]",R_="[object String]",__="[object Symbol]",B_="[object ArrayBuffer]",H_="[object DataView]",E2=T2?T2.prototype:void 0,Nw=E2?E2.valueOf:void 0;function U_(e,t,n,r,o,i,s){switch(n){case H_:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case B_:return!(e.byteLength!=t.byteLength||!i(new I2(e),new I2(t)));case N_:case A_:case P_:return I_(+e,+t);case F_:return e.name==t.name&&e.message==t.message;case j_:case R_:return e==t+"";case O_:var c=x_;case L_:var d=r&M_;if(c||(c=C_),e.size!=t.size&&!d)return!1;var h=s.get(e);if(h)return h==t;r|=k_,s.set(e,t);var m=E_(c(e),c(t),r,o,i,s);return s.delete(e),m;case __:if(Nw)return Nw.call(e)==Nw.call(t)}return!1}var Y_=U_;function z_(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var Lb=z_,V_=Array.isArray,ja=V_,Z_=Lb,W_=ja;function $_(e,t,n){var r=t(e);return W_(e)?r:Z_(r,n(e))}var cC=$_;function q_(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var G_=q_;function J_(){return[]}var dC=J_,K_=G_,Q_=dC,X_=Object.prototype,eB=X_.propertyIsEnumerable,x2=Object.getOwnPropertySymbols,tB=x2?function(e){return e==null?[]:(e=Object(e),K_(x2(e),function(t){return eB.call(e,t)}))}:Q_,Rb=tB;function nB(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var rB=nB,oB=Ch,iB=cc,aB="[object Arguments]";function sB(e){return iB(e)&&oB(e)==aB}var lB=sB,C2=lB,uB=cc,fC=Object.prototype,cB=fC.hasOwnProperty,dB=fC.propertyIsEnumerable,fB=C2(function(){return arguments}())?C2:function(e){return uB(e)&&cB.call(e,"callee")&&!dB.call(e,"callee")},_b=fB,vv={exports:{}};function hB(){return!1}var pB=hB;vv.exports;(function(e,t){var n=ml,r=pB,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,c=s?n.Buffer:void 0,d=c?c.isBuffer:void 0,h=d||r;e.exports=h})(vv,vv.exports);var e0=vv.exports,mB=Ch,gB=Mb,yB=cc,vB="[object Arguments]",wB="[object Array]",bB="[object Boolean]",SB="[object Date]",DB="[object Error]",TB="[object Function]",IB="[object Map]",EB="[object Number]",xB="[object Object]",CB="[object RegExp]",MB="[object Set]",kB="[object String]",NB="[object WeakMap]",AB="[object ArrayBuffer]",FB="[object DataView]",OB="[object Float32Array]",PB="[object Float64Array]",jB="[object Int8Array]",LB="[object Int16Array]",RB="[object Int32Array]",_B="[object Uint8Array]",BB="[object Uint8ClampedArray]",HB="[object Uint16Array]",UB="[object Uint32Array]",Wn={};Wn[OB]=Wn[PB]=Wn[jB]=Wn[LB]=Wn[RB]=Wn[_B]=Wn[BB]=Wn[HB]=Wn[UB]=!0;Wn[vB]=Wn[wB]=Wn[AB]=Wn[bB]=Wn[FB]=Wn[SB]=Wn[DB]=Wn[TB]=Wn[IB]=Wn[EB]=Wn[xB]=Wn[CB]=Wn[MB]=Wn[kB]=Wn[NB]=!1;function YB(e){return yB(e)&&gB(e.length)&&!!Wn[mB(e)]}var zB=YB;function VB(e){return function(t){return e(t)}}var t0=VB,wv={exports:{}};wv.exports;(function(e,t){var n=Kx,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,c=function(){try{var d=o&&o.require&&o.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}}();e.exports=c})(wv,wv.exports);var Bb=wv.exports,ZB=zB,WB=t0,M2=Bb,k2=M2&&M2.isTypedArray,$B=k2?WB(k2):ZB,Hb=$B,qB=rB,GB=_b,JB=ja,KB=e0,QB=kb,XB=Hb,eH=Object.prototype,tH=eH.hasOwnProperty;function nH(e,t){var n=JB(e),r=!n&&GB(e),o=!n&&!r&&KB(e),i=!n&&!r&&!o&&XB(e),s=n||r||o||i,c=s?qB(e.length,String):[],d=c.length;for(var h in e)(t||tH.call(e,h))&&!(s&&(h=="length"||o&&(h=="offset"||h=="parent")||i&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||QB(h,d)))&&c.push(h);return c}var hC=nH,rH=Object.prototype;function oH(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||rH;return e===n}var Ub=oH;function iH(e,t){return function(n){return e(t(n))}}var pC=iH,aH=pC,sH=aH(Object.keys,Object),lH=sH,uH=Ub,cH=lH,dH=Object.prototype,fH=dH.hasOwnProperty;function hH(e){if(!uH(e))return cH(e);var t=[];for(var n in Object(e))fH.call(e,n)&&n!="constructor"&&t.push(n);return t}var pH=hH,mH=hC,gH=pH,yH=ng;function vH(e){return yH(e)?mH(e):gH(e)}var ig=vH,wH=cC,bH=Rb,SH=ig;function DH(e){return wH(e,SH,bH)}var mC=DH,N2=mC,TH=1,IH=Object.prototype,EH=IH.hasOwnProperty;function xH(e,t,n,r,o,i){var s=n&TH,c=N2(e),d=c.length,h=N2(t),m=h.length;if(d!=m&&!s)return!1;for(var g=d;g--;){var v=c[g];if(!(s?v in t:EH.call(t,v)))return!1}var b=i.get(e),D=i.get(t);if(b&&D)return b==t&&D==e;var T=!0;i.set(e,t),i.set(t,e);for(var I=s;++g<d;){v=c[g];var O=e[v],N=t[v];if(r)var B=s?r(N,O,v,t,e,i):r(O,N,v,e,t,i);if(!(B===void 0?O===N||o(O,N,n,r,i):B)){T=!1;break}I||(I=v=="constructor")}if(T&&!I){var P=e.constructor,U=t.constructor;P!=U&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof U=="function"&&U instanceof U)&&(T=!1)}return i.delete(e),i.delete(t),T}var CH=xH,MH=Cd,kH=ml,NH=MH(kH,"DataView"),AH=NH,FH=Cd,OH=ml,PH=FH(OH,"Promise"),jH=PH,LH=Cd,RH=ml,_H=LH(RH,"Set"),BH=_H,HH=Cd,UH=ml,YH=HH(UH,"WeakMap"),zH=YH,I1=AH,E1=Ob,x1=jH,C1=BH,M1=zH,gC=Ch,Fh=sC,A2="[object Map]",VH="[object Object]",F2="[object Promise]",O2="[object Set]",P2="[object WeakMap]",j2="[object DataView]",ZH=Fh(I1),WH=Fh(E1),$H=Fh(x1),qH=Fh(C1),GH=Fh(M1),od=gC;(I1&&od(new I1(new ArrayBuffer(1)))!=j2||E1&&od(new E1)!=A2||x1&&od(x1.resolve())!=F2||C1&&od(new C1)!=O2||M1&&od(new M1)!=P2)&&(od=function(e){var t=gC(e),n=t==VH?e.constructor:void 0,r=n?Fh(n):"";if(r)switch(r){case ZH:return j2;case WH:return A2;case $H:return F2;case qH:return O2;case GH:return P2}return t});var n0=od,Aw=jb,JH=lC,KH=Y_,QH=CH,L2=n0,R2=ja,_2=e0,XH=Hb,eU=1,B2="[object Arguments]",H2="[object Array]",Iy="[object Object]",tU=Object.prototype,U2=tU.hasOwnProperty;function nU(e,t,n,r,o,i){var s=R2(e),c=R2(t),d=s?H2:L2(e),h=c?H2:L2(t);d=d==B2?Iy:d,h=h==B2?Iy:h;var m=d==Iy,g=h==Iy,v=d==h;if(v&&_2(e)){if(!_2(t))return!1;s=!0,m=!1}if(v&&!m)return i||(i=new Aw),s||XH(e)?JH(e,t,n,r,o,i):KH(e,t,d,n,r,o,i);if(!(n&eU)){var b=m&&U2.call(e,"__wrapped__"),D=g&&U2.call(t,"__wrapped__");if(b||D){var T=b?e.value():e,I=D?t.value():t;return i||(i=new Aw),o(T,I,n,r,i)}}return v?(i||(i=new Aw),QH(e,t,n,r,o,i)):!1}var rU=nU,oU=rU,Y2=cc;function yC(e,t,n,r,o){return e===t?!0:e==null||t==null||!Y2(e)&&!Y2(t)?e!==e&&t!==t:oU(e,t,n,r,yC,o)}var Yb=yC,iU=Yb;function aU(e,t){return iU(e,t)}var sU=aU;const lU=Wr(sU);function Fw(e,t){var n=Nb(e);return n?n.innerHeight:t?e.clientHeight:hd(e).height}function vC(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(l7(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function uU(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var cU=uU,dU=jb,fU=Yb,hU=1,pU=2;function mU(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var c=n[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){c=n[o];var d=c[0],h=e[d],m=c[1];if(s&&c[2]){if(h===void 0&&!(d in e))return!1}else{var g=new dU;if(r)var v=r(h,m,d,e,t,g);if(!(v===void 0?fU(m,h,hU|pU,r,g):v))return!1}}return!0}var gU=mU,yU=iu;function vU(e){return e===e&&!yU(e)}var wC=vU,wU=wC,bU=ig;function SU(e){for(var t=bU(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,wU(o)]}return t}var DU=SU;function TU(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var bC=TU,IU=gU,EU=DU,xU=bC;function CU(e){var t=EU(e);return t.length==1&&t[0][2]?xU(t[0][0],t[0][1]):function(n){return n===e||IU(n,e,t)}}var MU=CU,kU=ja,NU=rg,AU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FU=/^\w*$/;function OU(e,t){if(kU(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||NU(e)?!0:FU.test(e)||!AU.test(e)||t!=null&&e in Object(t)}var zb=OU,SC=Pb,PU="Expected a function";function Vb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(PU);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(Vb.Cache||SC),n}Vb.Cache=SC;var jU=Vb,LU=jU,RU=500;function _U(e){var t=LU(e,function(r){return n.size===RU&&n.clear(),r}),n=t.cache;return t}var BU=_U,HU=BU,UU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YU=/\\(\\)?/g,zU=HU(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(UU,function(n,r,o,i){t.push(o?i.replace(YU,"$1"):r||n)}),t}),VU=zU;function ZU(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Zb=ZU,z2=xh,WU=Zb,$U=ja,qU=rg,GU=1/0,V2=z2?z2.prototype:void 0,Z2=V2?V2.toString:void 0;function DC(e){if(typeof e=="string")return e;if($U(e))return WU(e,DC)+"";if(qU(e))return Z2?Z2.call(e):"";var t=e+"";return t=="0"&&1/e==-GU?"-0":t}var JU=DC,KU=JU;function QU(e){return e==null?"":KU(e)}var XU=QU,eY=ja,tY=zb,nY=VU,rY=XU;function oY(e,t){return eY(e)?e:tY(e,t)?[e]:nY(rY(e))}var r0=oY,iY=rg,aY=1/0;function sY(e){if(typeof e=="string"||iY(e))return e;var t=e+"";return t=="0"&&1/e==-aY?"-0":t}var ag=sY,lY=r0,uY=ag;function cY(e,t){t=lY(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[uY(t[n++])];return n&&n==r?e:void 0}var o0=cY,dY=o0;function fY(e,t,n){var r=e==null?void 0:dY(e,t);return r===void 0?n:r}var hY=fY;function pY(e,t){return e!=null&&t in Object(e)}var mY=pY,gY=r0,yY=_b,vY=ja,wY=kb,bY=Mb,SY=ag;function DY(e,t,n){t=gY(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=SY(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&bY(o)&&wY(s,o)&&(vY(e)||yY(e)))}var TY=DY,IY=mY,EY=TY;function xY(e,t){return e!=null&&EY(e,t,IY)}var CY=xY,MY=Yb,kY=hY,NY=CY,AY=zb,FY=wC,OY=bC,PY=ag,jY=1,LY=2;function RY(e,t){return AY(e)&&FY(t)?OY(PY(e),t):function(n){var r=kY(n,e);return r===void 0&&r===t?NY(n,e):MY(t,r,jY|LY)}}var _Y=RY;function BY(e){return e}var i0=BY;function HY(e){return function(t){return t==null?void 0:t[e]}}var UY=HY,YY=o0;function zY(e){return function(t){return YY(t,e)}}var VY=zY,ZY=UY,WY=VY,$Y=zb,qY=ag;function GY(e){return $Y(e)?ZY(qY(e)):WY(e)}var JY=GY,KY=MU,QY=_Y,XY=i0,ez=ja,tz=JY;function nz(e){return typeof e=="function"?e:e==null?XY:typeof e=="object"?ez(e)?QY(e[0],e[1]):KY(e):tz(e)}var a0=nz,rz=cU,oz=a0,iz=eC,az=Math.max;function sz(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:iz(n);return o<0&&(o=az(r+o,0)),rz(e,oz(t),o)}var lz=sz;const uz=Wr(lz);var cz=Math.ceil,dz=Math.max;function fz(e,t,n,r){for(var o=-1,i=dz(cz((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var hz=fz,pz=hz,mz=Gv,Ow=Xx;function gz(e){return function(t,n,r){return r&&typeof r!="number"&&mz(t,n,r)&&(n=r=void 0),t=Ow(t),n===void 0?(n=t,t=0):n=Ow(n),r=r===void 0?t<n?1:-1:Ow(r),pz(t,n,r,e)}}var yz=gz,vz=yz,wz=vz(),bz=wz;const Sz=Wr(bz);var W2=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Dz(e,t){return!!(e===t||W2(e)&&W2(t))}function Tz(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Dz(e[n],t[n]))return!1;return!0}function TC(e,t){t===void 0&&(t=Tz);var n=null;function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var s=e.apply(this,o);return n={lastResult:s,lastArgs:o,lastThis:this},s}return r.clear=function(){n=null},r}var $2=xh,Iz=_b,Ez=ja,q2=$2?$2.isConcatSpreadable:void 0;function xz(e){return Ez(e)||Iz(e)||!!(q2&&e&&e[q2])}var Cz=xz,Mz=Lb,kz=Cz;function IC(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=kz),o||(o=[]);++i<s;){var c=e[i];t>0&&n(c)?t>1?IC(c,t-1,n,r,o):Mz(o,c):r||(o[o.length]=c)}return o}var EC=IC;function Nz(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),c=s.length;c--;){var d=s[e?c:++o];if(n(i[d],d,i)===!1)break}return t}}var Az=Nz,Fz=Az,Oz=Fz(),Pz=Oz,jz=Pz,Lz=ig;function Rz(e,t){return e&&jz(e,t,Lz)}var Wb=Rz,_z=ng;function Bz(e,t){return function(n,r){if(n==null)return n;if(!_z(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var Hz=Bz,Uz=Wb,Yz=Hz,zz=Yz(Uz),Vz=zz,Zz=Vz,Wz=ng;function $z(e,t){var n=-1,r=Wz(e)?Array(e.length):[];return Zz(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var qz=$z;function Gz(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Jz=Gz,G2=rg;function Kz(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=G2(e),s=t!==void 0,c=t===null,d=t===t,h=G2(t);if(!c&&!h&&!i&&e>t||i&&s&&d&&!c&&!h||r&&s&&d||!n&&d||!o)return 1;if(!r&&!i&&!h&&e<t||h&&n&&o&&!r&&!i||c&&n&&o||!s&&o||!d)return-1}return 0}var Qz=Kz,Xz=Qz;function eV(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,c=n.length;++r<s;){var d=Xz(o[r],i[r]);if(d){if(r>=c)return d;var h=n[r];return d*(h=="desc"?-1:1)}}return e.index-t.index}var tV=eV,Pw=Zb,nV=o0,rV=a0,oV=qz,iV=Jz,aV=t0,sV=tV,lV=i0,uV=ja;function cV(e,t,n){t.length?t=Pw(t,function(i){return uV(i)?function(s){return nV(s,i.length===1?i[0]:i)}:i}):t=[lV];var r=-1;t=Pw(t,aV(rV));var o=oV(e,function(i,s,c){var d=Pw(t,function(h){return h(i)});return{criteria:d,index:++r,value:i}});return iV(o,function(i,s){return sV(i,s,n)})}var dV=cV;function fV(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var hV=fV,pV=hV,J2=Math.max;function mV(e,t,n){return t=J2(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=J2(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(s),pV(e,this,c)}}var xC=mV;function gV(e){return function(){return e}}var yV=gV,vV=Cd,wV=function(){try{var e=vV(Object,"defineProperty");return e({},"",{}),e}catch{}}(),CC=wV,bV=yV,K2=CC,SV=i0,DV=K2?function(e,t){return K2(e,"toString",{configurable:!0,enumerable:!1,value:bV(t),writable:!0})}:SV,TV=DV,IV=800,EV=16,xV=Date.now;function CV(e){var t=0,n=0;return function(){var r=xV(),o=EV-(r-n);if(n=r,o>0){if(++t>=IV)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var MV=CV,kV=TV,NV=MV,AV=NV(kV),MC=AV,FV=i0,OV=xC,PV=MC;function jV(e,t){return PV(OV(e,t,FV),e+"")}var kC=jV,LV=EC,RV=dV,_V=kC,Q2=Gv,BV=_V(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Q2(e,t[0],t[1])?t=[]:n>2&&Q2(t[0],t[1],t[2])&&(t=[t[0]]),RV(e,LV(t,1),[])}),HV=BV;const UV=Wr(HV);function k1(e,t){var n=Nb(e);return n?n.innerWidth:t?e.clientWidth:hd(e).width}function NC(e){return Px(e)||Gx(e)||Ib(e)||jx()}function YV(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var AC=YV,X2=CC;function zV(e,t,n){t=="__proto__"&&X2?X2(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var $b=zV,VV=$b,ZV=tg,WV=Object.prototype,$V=WV.hasOwnProperty;function qV(e,t,n){var r=e[t];(!($V.call(e,t)&&ZV(r,n))||n===void 0&&!(t in e))&&VV(e,t,n)}var FC=qV,GV=FC,JV=$b;function KV(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var c=t[i],d=r?r(n[c],e[c],c,n,e):void 0;d===void 0&&(d=e[c]),o?JV(n,c,d):GV(n,c,d)}return n}var sg=KV,QV=sg,XV=ig;function eZ(e,t){return e&&QV(t,XV(t),e)}var tZ=eZ;function nZ(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var rZ=nZ,oZ=iu,iZ=Ub,aZ=rZ,sZ=Object.prototype,lZ=sZ.hasOwnProperty;function uZ(e){if(!oZ(e))return aZ(e);var t=iZ(e),n=[];for(var r in e)r=="constructor"&&(t||!lZ.call(e,r))||n.push(r);return n}var cZ=uZ,dZ=hC,fZ=cZ,hZ=ng;function pZ(e){return hZ(e)?dZ(e,!0):fZ(e)}var s0=pZ,mZ=sg,gZ=s0;function yZ(e,t){return e&&mZ(t,gZ(t),e)}var vZ=yZ,bv={exports:{}};bv.exports;(function(e,t){var n=ml,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,c=s?s.allocUnsafe:void 0;function d(h,m){if(m)return h.slice();var g=h.length,v=c?c(g):new h.constructor(g);return h.copy(v),v}e.exports=d})(bv,bv.exports);var wZ=bv.exports;function bZ(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var SZ=bZ,DZ=sg,TZ=Rb;function IZ(e,t){return DZ(e,TZ(e),t)}var EZ=IZ,xZ=pC,CZ=xZ(Object.getPrototypeOf,Object),l0=CZ,MZ=Lb,kZ=l0,NZ=Rb,AZ=dC,FZ=Object.getOwnPropertySymbols,OZ=FZ?function(e){for(var t=[];e;)MZ(t,NZ(e)),e=kZ(e);return t}:AZ,OC=OZ,PZ=sg,jZ=OC;function LZ(e,t){return PZ(e,jZ(e),t)}var RZ=LZ,_Z=cC,BZ=OC,HZ=s0;function UZ(e){return _Z(e,HZ,BZ)}var PC=UZ,YZ=Object.prototype,zZ=YZ.hasOwnProperty;function VZ(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&zZ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var ZZ=VZ,eT=uC;function WZ(e){var t=new e.constructor(e.byteLength);return new eT(t).set(new eT(e)),t}var qb=WZ,$Z=qb;function qZ(e,t){var n=t?$Z(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var GZ=qZ,JZ=/\w*$/;function KZ(e){var t=new e.constructor(e.source,JZ.exec(e));return t.lastIndex=e.lastIndex,t}var QZ=KZ,tT=xh,nT=tT?tT.prototype:void 0,rT=nT?nT.valueOf:void 0;function XZ(e){return rT?Object(rT.call(e)):{}}var eW=XZ,tW=qb;function nW(e,t){var n=t?tW(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var rW=nW,oW=qb,iW=GZ,aW=QZ,sW=eW,lW=rW,uW="[object Boolean]",cW="[object Date]",dW="[object Map]",fW="[object Number]",hW="[object RegExp]",pW="[object Set]",mW="[object String]",gW="[object Symbol]",yW="[object ArrayBuffer]",vW="[object DataView]",wW="[object Float32Array]",bW="[object Float64Array]",SW="[object Int8Array]",DW="[object Int16Array]",TW="[object Int32Array]",IW="[object Uint8Array]",EW="[object Uint8ClampedArray]",xW="[object Uint16Array]",CW="[object Uint32Array]";function MW(e,t,n){var r=e.constructor;switch(t){case yW:return oW(e);case uW:case cW:return new r(+e);case vW:return iW(e,n);case wW:case bW:case SW:case DW:case TW:case IW:case EW:case xW:case CW:return lW(e,n);case dW:return new r;case fW:case mW:return new r(e);case hW:return aW(e);case pW:return new r;case gW:return sW(e)}}var kW=MW,NW=iu,oT=Object.create,AW=function(){function e(){}return function(t){if(!NW(t))return{};if(oT)return oT(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),jC=AW,FW=jC,OW=l0,PW=Ub;function jW(e){return typeof e.constructor=="function"&&!PW(e)?FW(OW(e)):{}}var LW=jW,RW=n0,_W=cc,BW="[object Map]";function HW(e){return _W(e)&&RW(e)==BW}var UW=HW,YW=UW,zW=t0,iT=Bb,aT=iT&&iT.isMap,VW=aT?zW(aT):YW,ZW=VW,WW=n0,$W=cc,qW="[object Set]";function GW(e){return $W(e)&&WW(e)==qW}var JW=GW,KW=JW,QW=t0,sT=Bb,lT=sT&&sT.isSet,XW=lT?QW(lT):KW,e$=XW,t$=jb,n$=AC,r$=FC,o$=tZ,i$=vZ,a$=wZ,s$=SZ,l$=EZ,u$=RZ,c$=mC,d$=PC,f$=n0,h$=ZZ,p$=kW,m$=LW,g$=ja,y$=e0,v$=ZW,w$=iu,b$=e$,S$=ig,D$=s0,T$=1,I$=2,E$=4,LC="[object Arguments]",x$="[object Array]",C$="[object Boolean]",M$="[object Date]",k$="[object Error]",RC="[object Function]",N$="[object GeneratorFunction]",A$="[object Map]",F$="[object Number]",_C="[object Object]",O$="[object RegExp]",P$="[object Set]",j$="[object String]",L$="[object Symbol]",R$="[object WeakMap]",_$="[object ArrayBuffer]",B$="[object DataView]",H$="[object Float32Array]",U$="[object Float64Array]",Y$="[object Int8Array]",z$="[object Int16Array]",V$="[object Int32Array]",Z$="[object Uint8Array]",W$="[object Uint8ClampedArray]",$$="[object Uint16Array]",q$="[object Uint32Array]",zn={};zn[LC]=zn[x$]=zn[_$]=zn[B$]=zn[C$]=zn[M$]=zn[H$]=zn[U$]=zn[Y$]=zn[z$]=zn[V$]=zn[A$]=zn[F$]=zn[_C]=zn[O$]=zn[P$]=zn[j$]=zn[L$]=zn[Z$]=zn[W$]=zn[$$]=zn[q$]=!0;zn[k$]=zn[RC]=zn[R$]=!1;function Gy(e,t,n,r,o,i){var s,c=t&T$,d=t&I$,h=t&E$;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!w$(e))return e;var m=g$(e);if(m){if(s=h$(e),!c)return s$(e,s)}else{var g=f$(e),v=g==RC||g==N$;if(y$(e))return a$(e,c);if(g==_C||g==LC||v&&!o){if(s=d||v?{}:m$(e),!c)return d?u$(e,i$(s,e)):l$(e,o$(s,e))}else{if(!zn[g])return o?e:{};s=p$(e,g,c)}}i||(i=new t$);var b=i.get(e);if(b)return b;i.set(e,s),b$(e)?e.forEach(function(I){s.add(Gy(I,t,n,I,e,i))}):v$(e)&&e.forEach(function(I,O){s.set(O,Gy(I,t,n,O,e,i))});var D=h?d?d$:c$:d?D$:S$,T=m?void 0:D(e);return n$(T||e,function(I,O){T&&(O=I,I=e[O]),r$(s,O,Gy(I,t,n,O,e,i))}),s}var G$=Gy;function J$(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var K$=J$,Q$=o0,X$=Jx;function eq(e,t){return t.length<2?e:Q$(e,X$(t,0,-1))}var tq=eq,nq=r0,rq=K$,oq=tq,iq=ag;function aq(e,t){return t=nq(t,e),e=oq(e,t),e==null||delete e[iq(rq(t))]}var sq=aq,lq=Ch,uq=l0,cq=cc,dq="[object Object]",fq=Function.prototype,hq=Object.prototype,BC=fq.toString,pq=hq.hasOwnProperty,mq=BC.call(Object);function gq(e){if(!cq(e)||lq(e)!=dq)return!1;var t=uq(e);if(t===null)return!0;var n=pq.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&BC.call(n)==mq}var yq=gq,vq=yq;function wq(e){return vq(e)?void 0:e}var bq=wq,Sq=EC;function Dq(e){var t=e==null?0:e.length;return t?Sq(e,1):[]}var Tq=Dq,Iq=Tq,Eq=xC,xq=MC;function Cq(e){return xq(Eq(e,void 0,Iq),e+"")}var Mq=Cq,kq=Zb,Nq=G$,Aq=sq,Fq=r0,Oq=sg,Pq=bq,jq=Mq,Lq=PC,Rq=1,_q=2,Bq=4,Hq=jq(function(e,t){var n={};if(e==null)return n;var r=!1;t=kq(t,function(i){return i=Fq(i,e),r||(r=i.length>1),i}),Oq(e,Lq(e),n),r&&(n=Nq(n,Rq|_q|Bq,Pq));for(var o=t.length;o--;)Aq(n,t[o]);return n}),Uq=Hq;const Yq=Wr(Uq);var zq=kC,Vq=tg,Zq=Gv,Wq=s0,HC=Object.prototype,$q=HC.hasOwnProperty,qq=zq(function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&Zq(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],s=Wq(i),c=-1,d=s.length;++c<d;){var h=s[c],m=e[h];(m===void 0||Vq(m,HC[h])&&!$q.call(e,h))&&(e[h]=i[h])}return e}),Gq=qq;const Jq=Wr(Gq);var Kq=AC,Qq=jC,Xq=Wb,eG=a0,tG=l0,nG=ja,rG=e0,oG=Cb,iG=iu,aG=Hb;function sG(e,t,n){var r=nG(e),o=r||rG(e)||aG(e);if(t=eG(t),n==null){var i=e&&e.constructor;o?n=r?new i:[]:iG(e)?n=oG(i)?Qq(tG(e)):{}:n={}}return(o?Kq:Xq)(e,function(s,c,d){return t(n,s,c,d)}),n}var lG=sG;const uG=Wr(lG);var cG=$b,dG=Wb,fG=a0;function hG(e,t){var n={};return t=fG(t),dG(e,function(r,o,i){cG(n,o,t(r,o,i))}),n}var pG=hG;const mG=Wr(pG);var gG={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){return function(n,r,o){r.prototype.isBetween=function(i,s,c,d){var h=o(i),m=o(s),g=(d=d||"()")[0]==="(",v=d[1]===")";return(g?this.isAfter(h,c):!this.isBefore(h,c))&&(v?this.isBefore(m,c):!this.isAfter(m,c))||(g?this.isBefore(h,c):!this.isAfter(h,c))&&(v?this.isAfter(m,c):!this.isBefore(m,c))}}})})(gG);var yG={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){return function(n,r){r.prototype.isSameOrAfter=function(o,i){return this.isSame(o,i)||this.isAfter(o,i)}}})})(yG);var vG={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){return function(n,r){r.prototype.isSameOrBefore=function(o,i){return this.isSame(o,i)||this.isBefore(o,i)}}})})(vG);var wG={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){return function(n,r,o){var i=r.prototype,s=function(g){return g&&(g.indexOf?g:g.s)},c=function(g,v,b,D,T){var I=g.name?g:g.$locale(),O=s(I[v]),N=s(I[b]),B=O||N.map(function(U){return U.slice(0,D)});if(!T)return B;var P=I.weekStart;return B.map(function(U,L){return B[(L+(P||0))%7]})},d=function(){return o.Ls[o.locale()]},h=function(g,v){return g.formats[v]||function(b){return b.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(D,T,I){return T||I.slice(1)})}(g.formats[v.toUpperCase()])},m=function(){var g=this;return{months:function(v){return v?v.format("MMMM"):c(g,"months")},monthsShort:function(v){return v?v.format("MMM"):c(g,"monthsShort","months",3)},firstDayOfWeek:function(){return g.$locale().weekStart||0},weekdays:function(v){return v?v.format("dddd"):c(g,"weekdays")},weekdaysMin:function(v){return v?v.format("dd"):c(g,"weekdaysMin","weekdays",2)},weekdaysShort:function(v){return v?v.format("ddd"):c(g,"weekdaysShort","weekdays",3)},longDateFormat:function(v){return h(g.$locale(),v)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return m.bind(this)()},o.localeData=function(){var g=d();return{firstDayOfWeek:function(){return g.weekStart||0},weekdays:function(){return o.weekdays()},weekdaysShort:function(){return o.weekdaysShort()},weekdaysMin:function(){return o.weekdaysMin()},months:function(){return o.months()},monthsShort:function(){return o.monthsShort()},longDateFormat:function(v){return h(g,v)},meridiem:g.meridiem,ordinal:g.ordinal}},o.months=function(){return c(d(),"months")},o.monthsShort=function(){return c(d(),"monthsShort","months",3)},o.weekdays=function(g){return c(d(),"weekdays",null,null,g)},o.weekdaysShort=function(g){return c(d(),"weekdaysShort","weekdays",3,g)},o.weekdaysMin=function(g){return c(d(),"weekdaysMin","weekdays",2,g)}}})})(wG);var bG={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,o,i){var s=o.prototype,c=s.format;i.en.formats=n,s.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var h=this.$locale().formats,m=function(g,v){return g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(b,D,T){var I=T&&T.toUpperCase();return D||v[T]||n[T]||v[I].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(O,N,B){return N||B.slice(1)})})}(d,h===void 0?{}:h);return c.call(this,m)}}})})(bG);var SG={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){return function(n,r,o){var i=function(s,c){if(!c||!c.length||c.length===1&&!c[0]||c.length===1&&Array.isArray(c[0])&&!c[0].length)return null;var d;c.length===1&&c[0].length>0&&(c=c[0]),d=(c=c.filter(function(m){return m}))[0];for(var h=1;h<c.length;h+=1)c[h].isValid()&&!c[h][s](d)||(d=c[h]);return d};o.max=function(){var s=[].slice.call(arguments,0);return i("isAfter",s)},o.min=function(){var s=[].slice.call(arguments,0);return i("isBefore",s)}}})})(SG);var DG={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(i,s,c){var d=s.prototype;c.utc=function(T){var I={date:T,utc:!0,args:arguments};return new s(I)},d.utc=function(T){var I=c(this.toDate(),{locale:this.$L,utc:!0});return T?I.add(this.utcOffset(),n):I},d.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var h=d.parse;d.parse=function(T){T.utc&&(this.$u=!0),this.$utils().u(T.$offset)||(this.$offset=T.$offset),h.call(this,T)};var m=d.init;d.init=function(){if(this.$u){var T=this.$d;this.$y=T.getUTCFullYear(),this.$M=T.getUTCMonth(),this.$D=T.getUTCDate(),this.$W=T.getUTCDay(),this.$H=T.getUTCHours(),this.$m=T.getUTCMinutes(),this.$s=T.getUTCSeconds(),this.$ms=T.getUTCMilliseconds()}else m.call(this)};var g=d.utcOffset;d.utcOffset=function(T,I){var O=this.$utils().u;if(O(T))return this.$u?0:O(this.$offset)?g.call(this):this.$offset;if(typeof T=="string"&&(T=function(U){U===void 0&&(U="");var L=U.match(r);if(!L)return null;var z=(""+L[0]).match(o)||["-",0,0],V=z[0],Z=60*+z[1]+ +z[2];return Z===0?0:V==="+"?Z:-Z}(T),T===null))return this;var N=Math.abs(T)<=16?60*T:T,B=this;if(I)return B.$offset=N,B.$u=T===0,B;if(T!==0){var P=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(B=this.local().add(N+P,n)).$offset=N,B.$x.$localOffset=P}else B=this.utc();return B};var v=d.format;d.format=function(T){var I=T||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,I)},d.valueOf=function(){var T=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*T},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var b=d.toDate;d.toDate=function(T){return T==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():b.call(this)};var D=d.diff;d.diff=function(T,I,O){if(T&&this.$u===T.$u)return D.call(this,T,I,O);var N=this.local(),B=c(T).local();return D.call(N,B,I,O)}}})})(DG);function $l(e){return e.children}var Fi={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},oi={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},uT=Object.keys(oi).map(function(e){return oi[e]});Me.oneOfType([Me.string,Me.func]);Me.any;Me.func;Me.oneOfType([Me.arrayOf(Me.oneOf(uT)),Me.objectOf(function(e,t){var n=uT.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return Me.elementType.apply(Me,[e,t].concat(o))})]);Me.oneOfType([Me.oneOf(["overlap","no-overlap"]),Me.func]);function Xn(e,t){e&&e.apply(null,[].concat(t))}var cT={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function UC(e,t){var n=Io(e,"month");return Io(n,"week",t.startOfWeek())}function YC(e,t){var n=mv(e,"month");return mv(n,"week",t.startOfWeek())}function TG(e,t){for(var n=UC(e,t),r=YC(e,t),o=[];Ih(n,r,"day");)o.push(n),n=fs(n,1,"day");return o}function IG(e,t){var n=Io(e,t);return Xm(n,e)?n:fs(n,1,t)}function EG(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,o=[];Ih(r,t,n);)o.push(r),r=fs(r,1,n);return o}function xG(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Io(e,"day"),e=km(e,km(t)),e=ch(e,ch(t)),e=Mm(e,Mm(t)),Cm(e,Cm(t)))}function dT(e){return km(e)===0&&ch(e)===0&&Mm(e)===0&&Cm(e)===0}function CG(e,t,n,r){return n==="day"&&(n="date"),Math.abs(n2[n](e,void 0,r)-n2[n](t,void 0,r))}function Gb(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Io(e,n)/cT[n]-+Io(t,n)/cT[n]))}var MG=Me.oneOfType([Me.string,Me.func]);function kG(e,t,n,r,o){var i=typeof r=="function"?r(n,o,e):t.call(e,n,r,o);return Sm(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function NG(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function Jb(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function AG(e,t){return Gb(e,t,"minutes")+Jb(e,t)}function FG(e){var t=Io(e,"day");return Gb(t,e,"minutes")+Jb(t,e)}function OG(e,t){return xb(e,t,"day")}function PG(e,t,n){var r=Xm(e,t,"minutes");return r?eg(t,n,"minutes"):qv(t,n,"minutes")}function N1(e,t){return CG(e,t,"day")}function jG(e){var t=e.evtA,n=t.start,r=t.end,o=t.allDay,i=e.evtB,s=i.start,c=i.end,d=i.allDay,h=+Io(n,"day")-+Io(s,"day"),m=N1(n,r),g=N1(s,c);return h||g-m||!!d-!!o||+n-+s||+r-+c}function LG(e){var t=e.event,n=t.start,r=t.end,o=e.range,i=o.start,s=o.end,c=Io(n,"day"),d=Ih(c,s,"day"),h=Eb(c,r,"minutes"),m=h?qv(r,i,"minutes"):eg(r,i,"minutes");return d&&m}function RG(e,t){return Xm(e,t,"day")}function _G(e,t){return dT(e)&&dT(t)}var BG=uo(function e(t){var n=this;lo(this,e),Sm(typeof t.format=="function","date localizer `format(..)` must be a function"),Sm(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||MG,this.formats=t.formats,this.format=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return kG.apply(void 0,[n,t.format].concat(o))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||xG,this.inRange=t.inRange||Zx,this.lt=t.lt||xb,this.lte=t.lte||Ih,this.gt=t.gt||qv,this.gte=t.gte||eg,this.eq=t.eq||Xm,this.neq=t.neq||Eb,this.startOf=t.startOf||Io,this.endOf=t.endOf||mv,this.add=t.add||fs,this.range=t.range||EG,this.diff=t.diff||Gb,this.ceil=t.ceil||IG,this.min=t.min||zx,this.max=t.max||Vx,this.minutes=t.minutes||ch,this.daySpan=t.daySpan||N1,this.firstVisibleDay=t.firstVisibleDay||UC,this.lastVisibleDay=t.lastVisibleDay||YC,this.visibleDays=t.visibleDays||TG,this.getSlotDate=t.getSlotDate||NG,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Jb,this.getTotalMin=t.getTotalMin||AG,this.getMinutesFromMidnight=t.getMinutesFromMidnight||FG,this.continuesPrior=t.continuesPrior||OG,this.continuesAfter=t.continuesAfter||PG,this.sortEvents=t.sortEvents||jG,this.inEventRange=t.inEventRange||LG,this.isSameDate=t.isSameDate||RG,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||_G,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function HG(e,t,n,r){var o=Yn(Yn({},e.formats),n);return Yn(Yn({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(s,c){return e.format(s,o[c]||c,t)}})}var UG={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function YG(e){return Yn(Yn({},UG),e)}function zG(e){var t=e.ref,n=e.callback;j.useEffect(function(){var r=function(i){t.current&&!t.current.contains(i.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var VG=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],zC=function(e){si(t,e);function t(){return lo(this,t),ai(this,t,arguments)}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.style,i=r.className,s=r.event,c=r.selected,d=r.isAllDay,h=r.onSelect,m=r.onDoubleClick,g=r.onKeyPress,v=r.localizer,b=r.continuesPrior,D=r.continuesAfter,T=r.accessors,I=r.getters,O=r.children,N=r.components,B=N.event,P=N.eventWrapper,U=r.slotStart,L=r.slotEnd,z=pl(r,VG);delete z.resizable;var V=T.title(s),Z=T.tooltip(s),$=T.end(s),oe=T.start(s),te=T.allDay(s),ye=d||te||v.diff(oe,v.ceil($,"day"),"day")>1,ge=I.eventProp(s,oe,$,c),ce=ie.createElement("div",{className:"rbc-event-content",title:Z||void 0},B?ie.createElement(B,{event:s,continuesPrior:b,continuesAfter:D,title:V,isAllDay:te,localizer:v,slotStart:U,slotEnd:L}):V);return ie.createElement(P,Object.assign({},this.props,{type:"date"}),ie.createElement("div",Object.assign({},z,{style:Yn(Yn({},ge.style),o),className:Zr("rbc-event",i,ge.className,{"rbc-selected":c,"rbc-event-allday":ye,"rbc-event-continues-prior":b,"rbc-event-continues-after":D}),onClick:function(ue){return h&&h(s,ue)},onDoubleClick:function(ue){return m&&m(s,ue)},onKeyDown:function(ue){return g&&g(s,ue)}}),typeof O=="function"?O(ce):ce))}}]),t}(ie.Component);function u0(e,t){return!e||t==null?!1:lU(e,t)}function VC(e,t){var n=e.right-e.left,r=n/t;return r}function ZC(e,t,n,r){var o=VC(e,r);return n?r-1-Math.floor((t-e.left)/o):Math.floor((t-e.left)/o)}function ZG(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function WG(e,t,n,r,o){var i=-1,s=-1,c=r-1,d=VC(t,r),h=ZC(t,n.x,o,r),m=t.top<n.y&&t.bottom>n.y,g=t.top<e.y&&t.bottom>e.y,v=e.y>t.bottom,b=t.top>e.y,D=n.top<t.top&&n.bottom>t.bottom;return D&&(i=0,s=c),m&&(b?(i=0,s=h):v&&(i=h,s=c)),g&&(i=s=o?c-Math.floor((e.x-t.left)/d):Math.floor((e.x-t.left)/d),m?h<i?i=h:s=h:e.y<n.y?s=c:i=0),{startIdx:i,endIdx:s}}function $G(e){var t=e.target,n=e.offset,r=e.container,o=e.box,i=hd(t),s=i.top,c=i.left,d=i.width,h=i.height,m=hd(r),g=m.top,v=m.left,b=m.width,D=m.height,T=hd(o),I=T.width,O=T.height,N=g+D,B=v+b,P=s+O,U=c+I,L=n.x,z=n.y,V=P>N?s-O-z:s+z+h,Z=U>B?c+L-I+d:c+L;return{topOffset:V,leftOffset:Z}}function qG(e){var t=e.containerRef,n=e.accessors,r=e.getters,o=e.selected,i=e.components,s=e.localizer,c=e.position,d=e.show,h=e.events,m=e.slotStart,g=e.slotEnd,v=e.onSelect,b=e.onDoubleClick,D=e.onKeyPress,T=e.handleDragStart,I=e.popperRef,O=e.target,N=e.offset;zG({ref:I,callback:d}),j.useLayoutEffect(function(){var U=$G({target:O,offset:N,container:t.current,box:I.current}),L=U.topOffset,z=U.leftOffset;I.current.style.top="".concat(L,"px"),I.current.style.left="".concat(z,"px")},[N.x,N.y,O]);var B=c.width,P={minWidth:B+B/2};return ie.createElement("div",{style:P,className:"rbc-overlay",ref:I},ie.createElement("div",{className:"rbc-overlay-header"},s.format(m,"dayHeaderFormat")),h.map(function(U,L){return ie.createElement(zC,{key:L,type:"popup",localizer:s,event:U,getters:r,onSelect:v,accessors:n,components:i,onDoubleClick:b,onKeyPress:D,continuesPrior:s.lt(n.end(U),m,"day"),continuesAfter:s.gte(n.start(U),g,"day"),slotStart:m,slotEnd:g,selected:u0(U,o),draggable:!0,onDragStart:function(){return T(U)},onDragEnd:function(){return d()}})}))}var WC=ie.forwardRef(function(e,t){return ie.createElement(qG,Object.assign({},e,{popperRef:t}))});WC.propTypes={accessors:Me.object.isRequired,getters:Me.object.isRequired,selected:Me.object,components:Me.object.isRequired,localizer:Me.object.isRequired,position:Me.object.isRequired,show:Me.func.isRequired,events:Me.array.isRequired,slotStart:Me.instanceOf(Date).isRequired,slotEnd:Me.instanceOf(Date),onSelect:Me.func,onDoubleClick:Me.func,onKeyPress:Me.func,handleDragStart:Me.func,style:Me.object,offset:Me.shape({x:Me.number,y:Me.number})};function GG(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,o=e.overlay,i=e.accessors,s=e.localizer,c=e.components,d=e.getters,h=e.selected,m=e.handleSelectEvent,g=e.handleDoubleClickEvent,v=e.handleKeyPressEvent,b=e.handleDragStart,D=e.onHide,T=e.overlayDisplay,I=j.useRef(null);if(!o.position)return null;var O=r;isNaN(r)||(O={x:r,y:r});var N=o.position,B=o.events,P=o.date,U=o.end;return ie.createElement(j7,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:D,target:o.target},function(L){var z=L.props;return ie.createElement(WC,Object.assign({},z,{containerRef:t,ref:I,target:o.target,offset:O,accessors:i,getters:d,selected:h,components:c,localizer:s,position:N,show:T,events:B,slotStart:P,slotEnd:U,onSelect:m,onDoubleClick:g,onKeyPress:v,handleDragStart:b}))})}var Kb=ie.forwardRef(function(e,t){return ie.createElement(GG,Object.assign({},e,{containerRef:t}))});Kb.propTypes={popupOffset:Me.oneOfType([Me.number,Me.shape({x:Me.number,y:Me.number})]),overlay:Me.shape({position:Me.object,events:Me.array,date:Me.instanceOf(Date),end:Me.instanceOf(Date)}),accessors:Me.object.isRequired,localizer:Me.object.isRequired,components:Me.object.isRequired,getters:Me.object.isRequired,selected:Me.object,handleSelectEvent:Me.func,handleDoubleClickEvent:Me.func,handleKeyPressEvent:Me.func,handleDragStart:Me.func,onHide:Me.func,overlayDisplay:Me.func};function Lo(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return om(n,e,t,{passive:!1})}function JG(e,t,n){return!e||Nm(e,document.elementFromPoint(t,n))}function KG(e,t){var n=t.clientX,r=t.clientY,o=document.elementFromPoint(n,r);return vC(o,".rbc-event",e)}function QG(e,t){var n=t.clientX,r=t.clientY,o=document.elementFromPoint(n,r);return vC(o,".rbc-show-more",e)}function Sv(e,t){return!!KG(e,t)}function XG(e,t){return!!QG(e,t)}function Wf(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var fT=5,eJ=250,$C=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,o=r===void 0?!1:r,i=n.longPressThreshold,s=i===void 0?250:i,c=n.validContainers,d=c===void 0?[]:c;lo(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||o,this.longPressThreshold=s,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Lo("touchmove",function(){},window),this._removeKeyDownListener=Lo("keydown",this._keyListener),this._removeKeyUpListener=Lo("keyup",this._keyListener),this._removeDropFromOutsideListener=Lo("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Lo("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return uo(e,[{key:"on",value:function(n,r){var o=this._listeners[n]||(this._listeners[n]=[]);return o.push(r),{remove:function(){var s=o.indexOf(r);s!==-1&&o.splice(s,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var s,c=this._listeners[n]||[];return c.forEach(function(d){s===void 0&&(s=d.apply(void 0,o))}),s}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:hT(r,Sd(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var o=this,i=null,s=null,c=null,d=function(v){i=setTimeout(function(){m(),n(v)},o.longPressThreshold),s=Lo("touchmove",function(){return m()}),c=Lo("touchend",function(){return m()})},h=Lo("touchstart",d),m=function(){i&&clearTimeout(i),s&&s(),c&&c(),i=null,s=null,c=null};return r&&d(r),function(){m(),h()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=Lo("mousedown",function(i){n._removeInitialEventListener(),n._handleInitialEvent(i),n._removeInitialEventListener=Lo("mousedown",n._handleInitialEvent)}),o=Lo("touchstart",function(i){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,i)});this._removeInitialEventListener=function(){r(),o()}}},{key:"_dropFromOutsideListener",value:function(n){var r=Wf(n),o=r.pageX,i=r.pageY,s=r.clientX,c=r.clientY;this.emit("dropFromOutside",{x:o,y:i,clientX:s,clientY:c}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=Wf(n),o=r.pageX,i=r.pageY,s=r.clientX,c=r.clientY;this.emit("dragOverFromOutside",{x:o,y:i,clientX:s,clientY:c}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(!this.isDetached){var r=Wf(n),o=r.clientX,i=r.clientY,s=r.pageX,c=r.pageY,d=this.container(),h,m;if(!(n.which===3||n.button===2||!JG(d,o,i))){if(!this.globalMouse&&d&&!Nm(d,n.target)){var g=tJ(0),v=g.top,b=g.left,D=g.bottom,T=g.right;if(m=Sd(d),h=hT({top:m.top-v,left:m.left-b,bottom:m.bottom+D,right:m.right+T},{top:c,left:s}),!h)return}var I=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:s,y:c,clientX:o,clientY:i});if(I!==!1)switch(n.type){case"mousedown":this._removeEndListener=Lo("mouseup",this._handleTerminatingEvent),this._onEscListener=Lo("keydown",this._handleTerminatingEvent),this._removeMoveListener=Lo("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Lo("touchend",this._handleTerminatingEvent),this._removeMoveListener=Lo("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,o=this.validContainers;return!o||!o.length||!r?!0:o.some(function(i){return!!r.closest(i)})}},{key:"_handleTerminatingEvent",value:function(n){var r=Wf(n),o=r.pageX,i=r.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),!!this._initialEventData){var s=!this.container||Nm(this.container(),n.target),c=this._isWithinValidContainer(n),d=this._selectRect,h=this.isClick(o,i);return this._initialEventData=null,n.key==="Escape"||!c?this.emit("reset"):h&&s?this._handleClickEvent(n):h?this.emit("reset"):this.emit("select",d)}}},{key:"_handleClickEvent",value:function(n){var r=Wf(n),o=r.pageX,i=r.pageY,s=r.clientX,c=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<eJ?(this._lastClickData=null,this.emit("doubleClick",{x:o,y:i,clientX:s,clientY:c})):(this._lastClickData={timestamp:d},this.emit("click",{x:o,y:i,clientX:s,clientY:c}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,o=r.x,i=r.y,s=Wf(n),c=s.pageX,d=s.pageY,h=Math.abs(o-c),m=Math.abs(i-d),g=Math.min(c,o),v=Math.min(d,i),b=this.selecting;this.isClick(c,d)&&!b&&!(h||m)||(this.selecting=!0,this._selectRect={top:v,left:g,x:c,y:d,right:g+h,bottom:v+m},b||this.emit("selectStart",this._initialEventData),this.isClick(c,d)||this.emit("selecting",this._selectRect),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var o=this._initialEventData,i=o.x,s=o.y,c=o.isTouch;return!c&&Math.abs(n-i)<=fT&&Math.abs(r-s)<=fT}}]),e}();function tJ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Xl(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function hT(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Sd(e),o=r.top,i=r.left,s=r.right,c=s===void 0?i:s,d=r.bottom,h=d===void 0?o:d,m=Sd(t),g=m.top,v=m.left,b=m.right,D=b===void 0?v:b,T=m.bottom,I=T===void 0?g:T;return!(h-n<g||o+n>I||c-n<v||i+n>D)}function Sd(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+pT("left"),r=t.top+pT("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function pT(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var nJ=function(e){si(t,e);function t(n,r){var o;return lo(this,t),o=ai(this,t,[n,r]),o.state={selecting:!1},o.containerRef=j.createRef(),o}return uo(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,o=r.range,i=r.getNow,s=r.getters,c=r.date,d=r.components.dateCellWrapper,h=r.localizer,m=this.state,g=m.selecting,v=m.startIdx,b=m.endIdx,D=i();return ie.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},o.map(function(T,I){var O=g&&I>=v&&I<=b,N=s.dayProp(T),B=N.className,P=N.style;return ie.createElement(d,{key:I,value:T,range:o},ie.createElement("div",{style:P,className:Zr("rbc-day-bg",B,O&&"rbc-selected-cell",h.isSameDate(T,D)&&"rbc-today",c&&h.neq(c,T,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,o=this.containerRef.current,i=this._selector=new $C(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(d,h){if(!Sv(o,d)&&!XG(o,d)){var m=Sd(o),g=r.props,v=g.range,b=g.rtl;if(ZG(m,d)){var D=ZC(m,d.x,b,v.length);r._selectSlot({startIdx:D,endIdx:D,action:h,box:d})}}r._initial={},r.setState({selecting:!1})};i.on("selecting",function(c){var d=r.props,h=d.range,m=d.rtl,g=-1,v=-1;if(r.state.selecting||(Xn(r.props.onSelectStart,[c]),r._initial={x:c.x,y:c.y}),i.isSelected(o)){var b=Sd(o),D=WG(r._initial,b,c,h.length,m);g=D.startIdx,v=D.endIdx}r.setState({selecting:!0,startIdx:g,endIdx:v})}),i.on("beforeSelect",function(c){if(r.props.selectable==="ignoreEvents")return!Sv(r.containerRef.current,c)}),i.on("click",function(c){return s(c,"click")}),i.on("doubleClick",function(c){return s(c,"doubleClick")}),i.on("select",function(c){r._selectSlot(Yn(Yn({},r.state),{},{action:"select",bounds:c})),r._initial={},r.setState({selecting:!1}),Xn(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var o=r.endIdx,i=r.startIdx,s=r.action,c=r.bounds,d=r.box;o!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:o,action:s,bounds:c,box:d,resourceId:this.props.resourceId})}}]),t}(ie.Component),sl={propTypes:{slotMetrics:Me.object.isRequired,selected:Me.object,isAllDay:Me.bool,accessors:Me.object.isRequired,localizer:Me.object.isRequired,components:Me.object.isRequired,getters:Me.object.isRequired,onSelect:Me.func,onDoubleClick:Me.func,onKeyPress:Me.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var o=t.accessors,i=t.getters,s=t.onSelect,c=t.onDoubleClick,d=t.onKeyPress,h=t.localizer,m=t.slotMetrics,g=t.components,v=t.resizable,b=m.continuesPrior(n),D=m.continuesAfter(n);return ie.createElement(zC,{event:n,getters:i,localizer:h,accessors:o,components:g,onSelect:s,onDoubleClick:c,onKeyPress:d,continuesPrior:b,continuesAfter:D,slotStart:m.first,slotEnd:m.last,selected:u0(n,r),resizable:v})},renderSpan:function(t,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(n)/t*100+"%";return ie.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},o)}},qC=function(e){si(t,e);function t(){return lo(this,t),ai(this,t,arguments)}return uo(t,[{key:"render",value:function(){var r=this,o=this.props,i=o.segments,s=o.slotMetrics.slots,c=o.className,d=1;return ie.createElement("div",{className:Zr(c,"rbc-row")},i.reduce(function(h,m,g){var v=m.event,b=m.left,D=m.right,T=m.span,I="_lvl_"+g,O=b-d,N=sl.renderEvent(r.props,v);return O&&h.push(sl.renderSpan(s,O,"".concat(I,"_gap"))),h.push(sl.renderSpan(s,T,I,N)),d=D+1,h},[]))}}]),t}(ie.Component);qC.defaultProps=Yn({},sl.defaultProps);function GC(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,o=e.localizer;return{first:t[0],last:o.add(t[t.length-1],1,r)}}function rJ(e,t,n,r){var o=GC({dateRange:t,localizer:r}),i=o.first,s=o.last,c=r.diff(i,s,"day"),d=r.max(r.startOf(n.start(e),"day"),i),h=r.min(r.ceil(n.end(e),"day"),s),m=uz(t,function(v){return r.isSameDate(v,d)}),g=r.diff(d,h,"day");return g=Math.min(g,c),g=Math.max(g-r.segmentOffset,1),{event:e,span:g,left:m+1,right:Math.max(m+g,1)}}function JC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,o,i=[],s=[];for(n=0;n<e.length;n++){for(o=e[n],r=0;r<i.length&&oJ(o,i[r]);r++);r>=t?s.push(o):(i[r]||(i[r]=[])).push(o)}for(n=0;n<i.length;n++)i[n].sort(function(c,d){return c.left-d.left});return{levels:i,extra:s}}function Am(e,t,n,r,o){var i={start:r.start(e),end:r.end(e)},s={start:t,end:n};return o.inEventRange({event:i,range:s})}function oJ(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function iJ(e,t,n){var r=qy(e),o=[],i=[];r.forEach(function(d){var h=t.start(d),m=t.end(d);n.daySpan(h,m)>1?o.push(d):i.push(d)});var s=o.sort(function(d,h){return A1(d,h,t,n)}),c=i.sort(function(d,h){return A1(d,h,t,n)});return[].concat(qy(s),qy(c))}function A1(e,t,n,r){var o={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:o,evtB:i})}var KC=function(t,n){return t.left<=n&&t.right>=n},mT=function(t,n){return t.filter(function(r){return KC(r,n)}).map(function(r){return r.event})},QC=function(e){si(t,e);function t(){return lo(this,t),ai(this,t,arguments)}return uo(t,[{key:"render",value:function(){for(var r=this.props,o=r.segments,i=r.slotMetrics.slots,s=JC(o).levels[0],c=1,d=1,h=[];c<=i;){var m="_lvl_"+c,g=s.filter(function(N){return KC(N,c)})[0]||{},v=g.event,b=g.left,D=g.right,T=g.span;if(!v){c++;continue}var I=Math.max(0,b-d);if(this.canRenderSlotEvent(b,T)){var O=sl.renderEvent(this.props,v);I&&h.push(sl.renderSpan(i,I,m+"_gap")),h.push(sl.renderSpan(i,T,m,O)),d=c=D+1}else I&&h.push(sl.renderSpan(i,I,m+"_gap")),h.push(sl.renderSpan(i,1,m,this.renderShowMore(o,c))),d=c+=1}return ie.createElement("div",{className:"rbc-row"},h)}},{key:"canRenderSlotEvent",value:function(r,o){var i=this.props.segments;return Sz(r,r+o).every(function(s){var c=mT(i,s).length;return c===1})}},{key:"renderShowMore",value:function(r,o){var i=this,s=this.props,c=s.localizer,d=s.slotMetrics,h=d.getEventsForSlot(o),m=mT(r,o),g=m.length;return g?ie.createElement("button",{type:"button",key:"sm_"+o,className:Zr("rbc-button-link","rbc-show-more"),onClick:function(b){return i.showMore(o,b)}},c.messages.showMore(g,m,h)):!1}},{key:"showMore",value:function(r,o){o.preventDefault(),o.stopPropagation(),this.props.onShowMore(r,o.target)}}]),t}(ie.Component);QC.defaultProps=Yn({},sl.defaultProps);var aJ=function(t){var n=t.children;return ie.createElement("div",{className:"rbc-row-content-scroll-container"},n)},sJ=function(t,n){return t.left<=n&&t.right>=n},lJ=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function XC(){return TC(function(e){for(var t=e.range,n=e.events,r=e.maxRows,o=e.minRows,i=e.accessors,s=e.localizer,c=GC({dateRange:t,localizer:s}),d=c.first,h=c.last,m=n.map(function(T){return rJ(T,t,i,s)}),g=JC(m,Math.max(r-1,1)),v=g.levels,b=g.extra,D=b.length>0?o-1:o;v.length<D;)v.push([]);return{first:d,last:h,levels:v,extra:b,range:t,slots:t.length,clone:function(I){var O=XC();return O(Yn(Yn({},e),I))},getDateForSlot:function(I){return t[I]},getSlotForDate:function(I){return t.find(function(O){return s.isSameDate(O,I)})},getEventsForSlot:function(I){return m.filter(function(O){return sJ(O,I)}).map(function(O){return O.event})},continuesPrior:function(I){return s.continuesPrior(i.start(I),d)},continuesAfter:function(I){var O=i.start(I),N=i.end(I);return s.continuesAfter(O,N,h)}}},lJ)}var Dv=function(e){si(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=ai(this,t,[].concat(o)),n.handleSelectSlot=function(s){var c=n.props,d=c.range,h=c.onSelectSlot;h(d.slice(s.start,s.end+1),s)},n.handleShowMore=function(s,c){var d=n.props,h=d.range,m=d.onShowMore,g=n.slotMetrics(n.props),v=c7(n.containerRef.current,".rbc-row-bg")[0],b;v&&(b=v.children[s-1]);var D=g.getEventsForSlot(s);m(D,h[s-1],b,s,c)},n.getContainer=function(){var s=n.props.container;return s?s():n.containerRef.current},n.renderHeadingCell=function(s,c){var d=n.props,h=d.renderHeader,m=d.getNow,g=d.localizer;return h({date:s,key:"header_".concat(c),className:Zr("rbc-date-cell",g.isSameDate(s,m())&&"rbc-now")})},n.renderDummy=function(){var s=n.props,c=s.className,d=s.range,h=s.renderHeader,m=s.showAllEvents;return ie.createElement("div",{className:c,ref:n.containerRef},ie.createElement("div",{className:Zr("rbc-row-content",m&&"rbc-row-content-scrollable")},h&&ie.createElement("div",{className:"rbc-row",ref:n.headingRowRef},d.map(n.renderHeadingCell)),ie.createElement("div",{className:"rbc-row",ref:n.eventRowRef},ie.createElement("div",{className:"rbc-row-segment"},ie.createElement("div",{className:"rbc-event"},ie.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=j.createRef(),n.headingRowRef=j.createRef(),n.eventRowRef=j.createRef(),n.slotMetrics=XC(),n}return uo(t,[{key:"getRowLimit",value:function(){var r,o=Fw(this.eventRowRef.current),i=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?Fw(this.headingRowRef.current):0,s=Fw(this.containerRef.current)-i;return Math.max(Math.floor(s/o),1)}},{key:"render",value:function(){var r=this.props,o=r.date,i=r.rtl,s=r.range,c=r.className,d=r.selected,h=r.selectable,m=r.renderForMeasure,g=r.accessors,v=r.getters,b=r.components,D=r.getNow,T=r.renderHeader,I=r.onSelect,O=r.localizer,N=r.onSelectStart,B=r.onSelectEnd,P=r.onDoubleClick,U=r.onKeyPress,L=r.resourceId,z=r.longPressThreshold,V=r.isAllDay,Z=r.resizable,$=r.showAllEvents;if(m)return this.renderDummy();var oe=this.slotMetrics(this.props),te=oe.levels,ye=oe.extra,ge=$?aJ:$l,ce=b.weekWrapper,Q={selected:d,accessors:g,getters:v,localizer:O,components:b,onSelect:I,onDoubleClick:P,onKeyPress:U,resourceId:L,slotMetrics:oe,resizable:Z};return ie.createElement("div",{className:c,role:"rowgroup",ref:this.containerRef},ie.createElement(nJ,{localizer:O,date:o,getNow:D,rtl:i,range:s,selectable:h,container:this.getContainer,getters:v,onSelectStart:N,onSelectEnd:B,onSelectSlot:this.handleSelectSlot,components:b,longPressThreshold:z,resourceId:L}),ie.createElement("div",{className:Zr("rbc-row-content",$&&"rbc-row-content-scrollable"),role:"row"},T&&ie.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},s.map(this.renderHeadingCell)),ie.createElement(ge,null,ie.createElement(ce,Object.assign({isAllDay:V},Q,{rtl:this.props.rtl}),te.map(function(ue,se){return ie.createElement(qC,Object.assign({key:se,segments:ue},Q))}),!!ye.length&&ie.createElement(QC,Object.assign({segments:ye,onShowMore:this.handleShowMore},Q))))))}}]),t}(ie.Component);Dv.defaultProps={minRows:0,maxRows:1/0};var eM=function(t){var n=t.label;return ie.createElement("span",{role:"columnheader","aria-sort":"none"},n)},uJ=function(t){var n=t.label,r=t.drilldownView,o=t.onDrillDown;return r?ie.createElement("button",{type:"button",className:"rbc-button-link",onClick:o,role:"cell"},n):ie.createElement("span",null,n)},cJ=["date","className"],dJ=function(t,n,r,o,i){return t.filter(function(s){return Am(s,n,r,o,i)})},c0=function(e){si(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=ai(this,t,[].concat(o)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(s,c){var d=n.props,h=d.events,m=d.components,g=d.selectable,v=d.getNow,b=d.selected,D=d.date,T=d.localizer,I=d.longPressThreshold,O=d.accessors,N=d.getters,B=d.showAllEvents,P=n.state,U=P.needLimitMeasure,L=P.rowLimit,z=dJ(qy(h),s[0],s[s.length-1],O,T),V=iJ(z,O,T);return ie.createElement(Dv,{key:c,ref:c===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:v,date:D,range:s,events:V,maxRows:B?1/0:L,selected:b,selectable:g,components:m,accessors:O,getters:N,localizer:T,renderHeader:n.readerDateHeading,renderForMeasure:U,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:I,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:B})},n.readerDateHeading=function(s){var c=s.date,d=s.className,h=pl(s,cJ),m=n.props,g=m.date,v=m.getDrilldownView,b=m.localizer,D=b.neq(c,g,"month"),T=b.isSameDate(c,g),I=v(c),O=b.format(c,"dateFormat"),N=n.props.components.dateHeader||uJ;return ie.createElement("div",Object.assign({},h,{className:Zr(d,D&&"rbc-off-range",T&&"rbc-current"),role:"cell"}),ie.createElement(N,{label:O,date:c,drilldownView:I,isOffRange:D,onDrillDown:function(P){return n.handleHeadingClick(c,I,P)}}))},n.handleSelectSlot=function(s,c){n._pendingSelection=n._pendingSelection.concat(s),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(c)})},n.handleHeadingClick=function(s,c,d){d.preventDefault(),n.clearSelection(),Xn(n.props.onDrillDown,[s,c])},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];Xn(n.props.onSelectEvent,c)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];Xn(n.props.onDoubleClickEvent,c)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];Xn(n.props.onKeyPressEvent,c)},n.handleShowMore=function(s,c,d,h,m){var g=n.props,v=g.popup,b=g.onDrillDown,D=g.onShowMore,T=g.getDrilldownView,I=g.doShowMoreDrillDown;if(n.clearSelection(),v){var O=oC(d,n.containerRef.current);n.setState({overlay:{date:c,events:s,position:O,target:m}})}else I&&Xn(b,[c,T(c)||oi.DAY]);Xn(D,[s,c,h])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=j.createRef(),n.slotRowRef=j.createRef(),n._bgRows=[],n._pendingSelection=[],n}return uo(t,[{key:"componentDidMount",value:function(){var r=this,o;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){o||iC(function(){o=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,o=r.date,i=r.localizer,s=r.className,c=i.visibleDays(o,i),d=qj(c,7);return this._weekCount=d.length,ie.createElement("div",{className:Zr("rbc-month-view",s),role:"table","aria-label":"Month View",ref:this.containerRef},ie.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var o=this.props,i=o.localizer,s=o.components,c=r[0],d=r[r.length-1],h=s.header||eM;return i.range(c,d,"day").map(function(m,g){return ie.createElement("div",{key:"header_"+g,className:"rbc-header"},ie.createElement(h,{date:m,localizer:i,label:i.format(m,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,o,i=this,s=(r=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&r!==void 0?r:{},c=this.props,d=c.accessors,h=c.localizer,m=c.components,g=c.getters,v=c.selected,b=c.popupOffset,D=c.handleDragStart,T=function(){return i.setState({overlay:null})};return ie.createElement(Kb,{overlay:s,accessors:d,localizer:h,components:m,getters:g,selected:v,popupOffset:b,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:D,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:T})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var o=this._pendingSelection.slice();this._pendingSelection=[],o.sort(function(c,d){return+c-+d});var i=new Date(o[0]),s=new Date(o[o.length-1]);s.setDate(o[o.length-1].getDate()+1),Xn(this.props.onSelectSlot,{slots:o,start:i,end:s,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,o){var i=r.date,s=r.localizer;return{date:i,needLimitMeasure:s.neq(i,o.date,"month")}}}]),t}(ie.Component);c0.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),o=n.lastVisibleDay(e,n);return{start:r,end:o}};c0.navigate=function(e,t,n){var r=n.localizer;switch(t){case Fi.PREVIOUS:return r.add(e,-1,"month");case Fi.NEXT:return r.add(e,1,"month");default:return e}};c0.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var gT=function(t){var n=t.min,r=t.max,o=t.step,i=t.slots,s=t.localizer;return"".concat(+s.startOf(n,"minutes"))+"".concat(+s.startOf(r,"minutes"))+"".concat(o,"-").concat(i)};function Qb(e){for(var t=e.min,n=e.max,r=e.step,o=e.timeslots,i=e.localizer,s=gT({start:t,end:n,step:r,timeslots:o,localizer:i}),c=1+i.getTotalMin(t,n),d=i.getMinutesFromMidnight(t),h=Math.ceil((c-1)/(r*o)),m=h*o,g=new Array(h),v=new Array(m),b=0;b<h;b++){g[b]=new Array(o);for(var D=0;D<o;D++){var T=b*o+D,I=T*r;v[T]=g[b][D]=i.getSlotDate(t,d,I)}}var O=v.length*r;v.push(i.getSlotDate(t,d,O));function N(B){var P=i.diff(t,B,"minutes")+i.getDstOffset(t,B);return Math.min(P,c)}return{groups:g,update:function(P){return gT(P)!==s?Qb(P):this},dateIsInGroup:function(P,U){var L=g[U+1];return i.inRange(P,g[U][0],L?L[0]:n,"minutes")},nextSlot:function(P){var U=v[Math.min(v.indexOf(P)+1,v.length-1)];return U===P&&(U=i.add(P,r,"minutes")),U},closestSlotToPosition:function(P){var U=Math.min(v.length-1,Math.max(0,Math.floor(P*m)));return v[U]},closestSlotFromPoint:function(P,U){var L=Math.abs(U.top-U.bottom);return this.closestSlotToPosition((P.y-U.top)/L)},closestSlotFromDate:function(P){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(P,t,"minutes"))return v[0];if(i.gt(P,n,"minutes"))return v[v.length-1];var L=i.diff(t,P,"minutes");return v[(L-L%r)/r+U]},startsBeforeDay:function(P){return i.lt(P,t,"day")},startsAfterDay:function(P){return i.gt(P,n,"day")},startsBefore:function(P){return i.lt(i.merge(t,P),t,"minutes")},startsAfter:function(P){return i.gt(i.merge(n,P),n,"minutes")},getRange:function(P,U,L,z){L||(P=i.min(n,i.max(t,P))),z||(U=i.min(n,i.max(t,U)));var V=N(P),Z=N(U),$=Z>r*m&&!i.eq(n,U)?(V-r)/(r*m)*100:V/(r*m)*100;return{top:$,height:Z/(r*m)*100-$,start:N(P),startDate:P,end:N(U),endDate:U}},getCurrentTimePosition:function(P){var U=N(P),L=U/(r*m)*100;return L}}}var fJ=function(){function e(t,n){var r=n.accessors,o=n.slotMetrics;lo(this,e);var i=o.getRange(r.start(t),r.end(t)),s=i.start,c=i.startDate,d=i.end,h=i.endDate,m=i.top,g=i.height;this.start=s,this.end=d,this.startMs=+c,this.endMs=+h,this.top=m,this.height=g,this.data=t}return uo(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(o,i){return Math.max(o,i.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var o=this.row.leaves,i=o.indexOf(this);return i===o.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,o=n.xOffset,i=n._width,s=r.indexOf(this)+1;return o+s*i}}]),e}();function hJ(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function pJ(e){for(var t=UV(e,["startMs",function(c){return-c.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var o=0;o<t.length;o++){var i=t[o];if(!(r.endMs>i.startMs)){if(o>0){var s=t.splice(o,1)[0];n.push(s)}break}}}return n}function tM(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,o=e.accessors,i=t.map(function(m){return new fJ(m,{slotMetrics:r,accessors:o})}),s=pJ(i),c=[],d=function(){var g=s[h],v=c.find(function(T){return T.end>g.start||Math.abs(g.start-T.start)<n});if(!v)return g.rows=[],c.push(g),1;g.container=v;for(var b=null,D=v.rows.length-1;!b&&D>=0;D--)hJ(v.rows[D],g,n)&&(b=v.rows[D]);b?(b.leaves.push(g),g.row=b):(g.leaves=[],v.rows.push(g))},h=0;h<s.length;h++)d();return s.map(function(m){return{event:m.data,style:{top:m.top,height:m.height,width:m.width,xOffset:Math.max(0,m.xOffset)}}})}function nM(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var o=nM(e.friends[r],t,n);t=t>o?t:o}return t}function mJ(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,o=e.accessors,i=tM({events:t,minimumStartDifference:n,slotMetrics:r,accessors:o});i.sort(function(ce,Q){return ce=ce.style,Q=Q.style,ce.top!==Q.top?ce.top>Q.top?1:-1:ce.height!==Q.height?ce.top+ce.height<Q.top+Q.height?1:-1:0});for(var s=0;s<i.length;++s)i[s].friends=[],delete i[s].style.left,delete i[s].style.left,delete i[s].idx,delete i[s].size;for(var c=0;c<i.length-1;++c)for(var d=i[c],h=d.style.top,m=d.style.top+d.style.height,g=c+1;g<i.length;++g){var v=i[g],b=v.style.top,D=v.style.top+v.style.height;(b>=h&&D<=m||D>h&&D<=m||b>=h&&b<m)&&(d.friends.push(v),v.friends.push(d))}for(var T=0;T<i.length;++T){for(var I=i[T],O=[],N=0;N<100;++N)O.push(1);for(var B=0;B<I.friends.length;++B)I.friends[B].idx!==void 0&&(O[I.friends[B].idx]=0);I.idx=O.indexOf(1)}for(var P=0;P<i.length;++P){var U=0;if(!i[P].size){var L=[],z=nM(i[P],0,L);U=100/(z+1),i[P].size=U;for(var V=0;V<L.length;++V)L[V].size=U}}for(var Z=0;Z<i.length;++Z){var $=i[Z];$.style.left=$.idx*$.size;for(var oe=0,te=0;te<$.friends.length;++te){var ye=$.friends[te].idx;oe=oe>ye?oe:ye}oe<=$.idx&&($.size=100-$.idx*$.size);var ge=$.idx===0?0:3;$.style.width="calc(".concat($.size,"% - ").concat(ge,"px)"),$.style.height="calc(".concat($.style.height,"% - 2px)"),$.style.xOffset="calc(".concat($.style.left,"% + ").concat(ge,"px)")}return i}var yT={overlap:tM,"no-overlap":mJ};function gJ(e){return!!(e&&e.constructor&&e.call&&e.apply)}function yJ(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in yT&&(n=yT[t]),gJ(n)?n.apply(this,arguments):[]}var rM=function(e){si(t,e);function t(){return lo(this,t),ai(this,t,arguments)}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.renderSlot,i=r.resource,s=r.group,c=r.getters,d=r.components,h=d===void 0?{}:d,m=h.timeSlotWrapper,g=m===void 0?$l:m,v=c?c.slotGroupProp(s):{};return ie.createElement("div",Object.assign({className:"rbc-timeslot-group"},v),s.map(function(b,D){var T=c?c.slotProp(b,i):{};return ie.createElement(g,{key:D,value:b,resource:i},ie.createElement("div",Object.assign({},T,{className:Zr("rbc-time-slot",T.className)}),o&&o(b,D)))}))}}]),t}(j.Component);function Ey(e){return typeof e=="string"?e:e+"%"}function vJ(e){var t=e.style,n=e.className,r=e.event,o=e.accessors,i=e.rtl,s=e.selected,c=e.label,d=e.continuesPrior,h=e.continuesAfter,m=e.getters,g=e.onClick,v=e.onDoubleClick,b=e.isBackgroundEvent,D=e.onKeyPress,T=e.components,I=T.event,O=T.eventWrapper,N=o.title(r),B=o.tooltip(r),P=o.end(r),U=o.start(r),L=m.eventProp(r,U,P,s),z=[ie.createElement("div",{key:"1",className:"rbc-event-label"},c),ie.createElement("div",{key:"2",className:"rbc-event-content"},I?ie.createElement(I,{event:r,title:N}):N)],V=t.height,Z=t.top,$=t.width,oe=t.xOffset,te=Yn(Yn({},L.style),{},ad({top:Ey(Z),height:Ey(V),width:Ey($)},i?"right":"left",Ey(oe)));return ie.createElement(O,Object.assign({type:"time"},e),ie.createElement("div",{role:"button",tabIndex:0,onClick:g,onDoubleClick:v,style:te,onKeyDown:D,title:B?(typeof c=="string"?c+": ":"")+B:void 0,className:Zr(b?"rbc-background-event":"rbc-event",n,L.className,{"rbc-selected":s,"rbc-event-continues-earlier":d,"rbc-event-continues-later":h})},z))}var wJ=function(t){var n=t.children,r=t.className,o=t.style,i=t.innerRef;return ie.createElement("div",{className:r,style:o,ref:i},n)},bJ=ie.forwardRef(function(e,t){return ie.createElement(wJ,Object.assign({},e,{innerRef:t}))}),SJ=["dayProp"],DJ=["eventContainerWrapper"],oM=function(e){si(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=ai(this,t,[].concat(o)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(s){var c=s.events,d=s.isBackgroundEvent,h=n.props,m=h.rtl,g=h.selected,v=h.accessors,b=h.localizer,D=h.getters,T=h.components,I=h.step,O=h.timeslots,N=h.dayLayoutAlgorithm,B=h.resizable,P=Ox(n),U=P.slotMetrics,L=b.messages,z=yJ({events:c,accessors:v,slotMetrics:U,minimumStartDifference:Math.ceil(I*O/2),dayLayoutAlgorithm:N});return z.map(function(V,Z){var $=V.event,oe=V.style,te=v.end($),ye=v.start($),ge="eventTimeRangeFormat",ce,Q=U.startsBeforeDay(ye),ue=U.startsAfterDay(te);Q?ge="eventTimeRangeEndFormat":ue&&(ge="eventTimeRangeStartFormat"),Q&&ue?ce=L.allDay:ce=b.format({start:ye,end:te},ge);var se=Q||U.startsBefore(ye),we=ue||U.startsAfter(te);return ie.createElement(vJ,{style:oe,event:$,label:ce,key:"evt_"+Z,getters:D,rtl:m,components:T,continuesPrior:se,continuesAfter:we,accessors:v,resource:n.props.resource,selected:u0($,g),onClick:function(ee){return n._select(Yn(Yn(Yn({},$),n.props.resource&&{sourceResource:n.props.resource}),d&&{isBackgroundEvent:!0}),ee)},onDoubleClick:function(ee){return n._doubleClick($,ee)},isBackgroundEvent:d,onKeyPress:function(ee){return n._keyPress($,ee)},resizable:B})})},n._selectable=function(){var s=n.containerRef.current,c=n.props,d=c.longPressThreshold,h=c.localizer,m=n._selector=new $C(function(){return s},{longPressThreshold:d}),g=function(T){var I=n.props.onSelecting,O=n.state||{},N=v(T),B=N.startDate,P=N.endDate;I&&(h.eq(O.startDate,B,"minutes")&&h.eq(O.endDate,P,"minutes")||I({start:B,end:P,resourceId:n.props.resource})===!1)||(n.state.start!==N.start||n.state.end!==N.end||n.state.selecting!==N.selecting)&&n.setState(N)},v=function(T){var I=n.slotMetrics.closestSlotFromPoint(T,Sd(s));n.state.selecting||(n._initialSlot=I);var O=n._initialSlot;h.lte(O,I)?I=n.slotMetrics.nextSlot(I):h.gt(O,I)&&(O=n.slotMetrics.nextSlot(O));var N=n.slotMetrics.getRange(h.min(O,I),h.max(O,I));return Yn(Yn({},N),{},{selecting:!0,top:"".concat(N.top,"%"),height:"".concat(N.height,"%")})},b=function(T,I){if(!Sv(n.containerRef.current,T)){var O=v(T),N=O.startDate,B=O.endDate;n._selectSlot({startDate:N,endDate:B,action:I,box:T})}n.setState({selecting:!1})};m.on("selecting",g),m.on("selectStart",g),m.on("beforeSelect",function(D){if(n.props.selectable==="ignoreEvents")return!Sv(n.containerRef.current,D)}),m.on("click",function(D){return b(D,"click")}),m.on("doubleClick",function(D){return b(D,"doubleClick")}),m.on("select",function(D){n.state.selecting&&(n._selectSlot(Yn(Yn({},n.state),{},{action:"select",bounds:D})),n.setState({selecting:!1}))}),m.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(s){for(var c=s.startDate,d=s.endDate,h=s.action,m=s.bounds,g=s.box,v=c,b=[];n.props.localizer.lte(v,d);)b.push(v),v=new Date(+v+n.props.step*60*1e3);Xn(n.props.onSelectSlot,{slots:b,start:c,end:d,resourceId:n.props.resource,action:h,bounds:m,box:g})},n._select=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];Xn(n.props.onSelectEvent,c)},n._doubleClick=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];Xn(n.props.onDoubleClickEvent,c)},n._keyPress=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];Xn(n.props.onKeyPressEvent,c)},n.slotMetrics=Qb(n.props),n.containerRef=j.createRef(),n}return uo(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,o){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(this.props);var i=this.props,s=i.getNow,c=i.isNow,d=i.localizer,h=i.date,m=i.min,g=i.max,v=d.neq(r.getNow(),s(),"minutes");if(r.isNow!==c||v){if(this.clearTimeIndicatorInterval(),c){var b=!v&&d.eq(r.date,h,"minutes")&&o.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(b)}}else c&&(d.neq(r.min,m,"minutes")||d.neq(r.max,g,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!o&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,o=r.min,i=r.max,s=r.getNow,c=s();if(c>=o&&c<=i){var d=this.slotMetrics.getCurrentTimePosition(c);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,o=r.date,i=r.max,s=r.rtl,c=r.isNow,d=r.resource,h=r.accessors,m=r.localizer,g=r.getters,v=g.dayProp,b=pl(g,SJ),D=r.components,T=D.eventContainerWrapper,I=pl(D,DJ),O=this.slotMetrics,N=this.state,B=N.selecting,P=N.top,U=N.height,L=N.startDate,z=N.endDate,V={start:L,end:z},Z=v(i),$=Z.className,oe=Z.style,te=I.dayColumnWrapper||bJ;return ie.createElement(te,{ref:this.containerRef,date:o,style:oe,className:Zr($,"rbc-day-slot","rbc-time-column",c&&"rbc-now",c&&"rbc-today",B&&"rbc-slot-selecting"),slotMetrics:O},O.groups.map(function(ye,ge){return ie.createElement(rM,{key:ge,group:ye,resource:d,getters:b,components:I})}),ie.createElement(T,{localizer:m,resource:d,accessors:h,getters:b,components:I,slotMetrics:O},ie.createElement("div",{className:Zr("rbc-events-container",s&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),B&&ie.createElement("div",{className:"rbc-slot-selection",style:{top:P,height:U}},ie.createElement("span",null,m.format(V,"selectRangeFormat"))),c&&this.intervalTriggered&&ie.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),t}(ie.Component);oM.defaultProps={dragThroughEvents:!0,timeslots:2};function TJ(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var IJ=function(t){var n=t.min,r=t.max,o=t.timeslots,i=t.step,s=t.localizer,c=t.getNow,d=t.resource,h=t.components,m=t.getters,g=t.gutterRef,v=h.timeGutterWrapper,b=j.useMemo(function(){return TJ({min:n,max:r,localizer:s})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),s]),D=b.start,T=b.end,I=j.useState(Qb({min:D,max:T,timeslots:o,step:i,localizer:s})),O=ql(I,2),N=O[0],B=O[1];j.useEffect(function(){N&&B(N.update({min:D,max:T,timeslots:o,step:i,localizer:s}))},[D==null?void 0:D.toISOString(),T==null?void 0:T.toISOString(),o,i]);var P=j.useCallback(function(U,L){if(L)return null;var z=N.dateIsInGroup(c(),L);return ie.createElement("span",{className:Zr("rbc-label",z&&"rbc-now")},s.format(U,"timeGutterFormat"))},[N,s,c]);return ie.createElement(v,{slotMetrics:N},ie.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:g},N.groups.map(function(U,L){return ie.createElement(rM,{key:L,group:U,resource:d,components:h,renderSlot:P,getters:m})})))},EJ=ie.forwardRef(function(e,t){return ie.createElement(IJ,Object.assign({gutterRef:t},e))}),xJ=function(t){var n=t.label;return ie.createElement(ie.Fragment,null,n)},CJ=function(e){si(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=ai(this,t,[].concat(o)),n.handleHeaderClick=function(s,c,d){d.preventDefault(),Xn(n.props.onDrillDown,[s,c])},n.renderRow=function(s){var c=n.props,d=c.events,h=c.rtl,m=c.selectable,g=c.getNow,v=c.range,b=c.getters,D=c.localizer,T=c.accessors,I=c.components,O=c.resizable,N=T.resourceId(s),B=s?d.filter(function(P){return T.resource(P)===N}):d;return ie.createElement(Dv,{isAllDay:!0,rtl:h,getNow:g,minRows:2,maxRows:n.props.allDayMaxRows+1,range:v,events:B,resourceId:N,className:"rbc-allday-cell",selectable:m,selected:n.props.selected,components:I,accessors:T,getters:b,localizer:D,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:O})},n}return uo(t,[{key:"renderHeaderCells",value:function(r){var o=this,i=this.props,s=i.localizer,c=i.getDrilldownView,d=i.getNow,h=i.getters.dayProp,m=i.components.header,g=m===void 0?eM:m,v=d();return r.map(function(b,D){var T=c(b),I=s.format(b,"dayFormat"),O=h(b),N=O.className,B=O.style,P=ie.createElement(g,{date:b,label:I,localizer:s});return ie.createElement("div",{key:D,style:B,className:Zr("rbc-header",N,s.isSameDate(b,v)&&"rbc-today")},T?ie.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(L){return o.handleHeaderClick(b,T,L)}},P):ie.createElement("span",null,P))})}},{key:"render",value:function(){var r=this,o=this.props,i=o.width,s=o.rtl,c=o.resources,d=o.range,h=o.events,m=o.getNow,g=o.accessors,v=o.selectable,b=o.components,D=o.getters,T=o.scrollRef,I=o.localizer,O=o.isOverflowing,N=o.components,B=N.timeGutterHeader,P=N.resourceHeader,U=P===void 0?xJ:P,L=o.resizable,z={};O&&(z[s?"marginLeft":"marginRight"]="".concat(aC()-1,"px"));var V=c.groupEvents(h);return ie.createElement("div",{style:z,ref:T,className:Zr("rbc-time-header",O&&"rbc-overflowing")},ie.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},B&&ie.createElement(B,null)),c.map(function(Z,$){var oe=ql(Z,2),te=oe[0],ye=oe[1];return ie.createElement("div",{className:"rbc-time-header-content",key:te||$},ye&&ie.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat($)},ie.createElement("div",{className:"rbc-header"},ie.createElement(U,{index:$,label:g.resourceTitle(ye),resource:ye}))),ie.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),ie.createElement(Dv,{isAllDay:!0,rtl:s,getNow:m,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:V.get(te)||[],resourceId:ye&&te,className:"rbc-allday-cell",selectable:v,selected:r.props.selected,components:b,accessors:g,getters:D,localizer:I,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:L}))}))}}]),t}(ie.Component),jw={};function MJ(e,t){return{map:function(r){return e?e.map(function(o,i){return r([t.resourceId(o),o],i)}):[r([jw,null],0)]},groupEvents:function(r){var o=new Map;return e?(r.forEach(function(i){var s=t.resource(i)||jw;if(Array.isArray(s))s.forEach(function(d){var h=o.get(d)||[];h.push(i),o.set(d,h)});else{var c=o.get(s)||[];c.push(i),o.set(s,c)}}),o):(o.set(jw,r),o)}}}var Oh=function(e){si(t,e);function t(n){var r;return lo(this,t),r=ai(this,t,[n]),r.handleScroll=function(o){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=o.target.scrollLeft)},r.handleResize=function(){d2(r.rafHandle),r.rafHandle=iC(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];Xn(r.props.onKeyPressEvent,i)},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];Xn(r.props.onSelectEvent,i)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];Xn(r.props.onDoubleClickEvent,i)},r.handleShowMore=function(o,i,s,c,d){var h=r.props,m=h.popup,g=h.onDrillDown,v=h.onShowMore,b=h.getDrilldownView,D=h.doShowMoreDrillDown;if(r.clearSelection(),m){var T=oC(s,r.containerRef.current);r.setState({overlay:{date:i,events:o,position:Yn(Yn({},T),{},{width:"200px"}),target:d}})}else D&&Xn(g,[i,b(i)||oi.DAY]);Xn(v,[o,i,c])},r.handleSelectAllDaySlot=function(o,i){var s=r.props.onSelectSlot,c=new Date(o[0]),d=new Date(o[o.length-1]);d.setDate(o[o.length-1].getDate()+1),Xn(s,{slots:o,start:c,end:d,action:i.action,resourceId:i.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var o=r.contentRef.current;if(o!=null&&o.scrollHeight){var i=o.scrollHeight>o.clientHeight;r.state.isOverflowing!==i&&(r._updatingOverflow=!0,r.setState({isOverflowing:i},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=TC(function(o,i){return MJ(o,i)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=ie.createRef(),r.contentRef=ie.createRef(),r.containerRef=ie.createRef(),r._scrollRatio=null,r.gutterRef=j.createRef(),r}return uo(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),d2(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(r,o,i,s){var c=this,d=this.props,h=d.min,m=d.max,g=d.components,v=d.accessors,b=d.localizer,D=d.dayLayoutAlgorithm,T=this.memoizedResources(this.props.resources,v),I=T.groupEvents(o),O=T.groupEvents(i);return T.map(function(N,B){var P=ql(N,2),U=P[0],L=P[1];return r.map(function(z,V){var Z=(I.get(U)||[]).filter(function(oe){return b.inRange(z,v.start(oe),v.end(oe),"day")}),$=(O.get(U)||[]).filter(function(oe){return b.inRange(z,v.start(oe),v.end(oe),"day")});return ie.createElement(oM,Object.assign({},c.props,{localizer:b,min:b.merge(z,h),max:b.merge(z,m),resource:L&&U,components:g,isNow:b.isSameDate(z,s),key:B+"-"+V,date:z,events:Z,backgroundEvents:$,dayLayoutAlgorithm:D}))})})}},{key:"render",value:function(){var r,o=this.props,i=o.events,s=o.backgroundEvents,c=o.range,d=o.width,h=o.rtl,m=o.selected,g=o.getNow,v=o.resources,b=o.components,D=o.accessors,T=o.getters,I=o.localizer,O=o.min,N=o.max,B=o.showMultiDayTimes,P=o.longPressThreshold,U=o.resizable;d=d||this.state.gutterWidth;var L=c[0],z=c[c.length-1];this.slots=c.length;var V=[],Z=[],$=[];return i.forEach(function(oe){if(Am(oe,L,z,D,I)){var te=D.start(oe),ye=D.end(oe);D.allDay(oe)||I.startAndEndAreDateOnly(te,ye)||!B&&!I.isSameDate(te,ye)?V.push(oe):Z.push(oe)}}),s.forEach(function(oe){Am(oe,L,z,D,I)&&$.push(oe)}),V.sort(function(oe,te){return A1(oe,te,D,I)}),ie.createElement("div",{className:Zr("rbc-time-view",v&&"rbc-time-view-resources"),ref:this.containerRef},ie.createElement(CJ,{range:c,events:V,width:d,rtl:h,getNow:g,localizer:I,selected:m,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(v,D),selectable:this.props.selectable,accessors:D,getters:T,components:b,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:P,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:U}),this.props.popup&&this.renderOverlay(),ie.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},ie.createElement(EJ,{date:L,ref:this.gutterRef,localizer:I,min:I.merge(L,O),max:I.merge(L,N),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:b,className:"rbc-time-gutter",getters:T}),this.renderEvents(c,Z,$,g())))}},{key:"renderOverlay",value:function(){var r,o,i=this,s=(r=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&r!==void 0?r:{},c=this.props,d=c.accessors,h=c.localizer,m=c.components,g=c.getters,v=c.selected,b=c.popupOffset,D=c.handleDragStart,T=function(){return i.setState({overlay:null})};return ie.createElement(Kb,{overlay:s,accessors:d,localizer:h,components:m,getters:g,selected:v,popupOffset:b,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:D,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:T})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var o,i=(o=r.gutterRef)!==null&&o!==void 0&&o.current?k1(r.gutterRef.current):void 0;i&&r.state.gutterWidth!==i&&r.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=r.min,i=r.max,s=r.scrollToTime,c=r.localizer,d=c.diff(c.merge(s,o),s,"milliseconds"),h=c.diff(o,i,"milliseconds");this._scrollRatio=d/h}}]),t}(j.Component);Oh.defaultProps={step:30,timeslots:2};var kJ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],d0=function(e){si(t,e);function t(){return lo(this,t),ai(this,t,arguments)}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.date,i=r.localizer,s=r.min,c=s===void 0?i.startOf(new Date,"day"):s,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,m=r.scrollToTime,g=m===void 0?i.startOf(new Date,"day"):m,v=r.enableAutoScroll,b=v===void 0?!0:v,D=pl(r,kJ),T=t.range(o,{localizer:i});return ie.createElement(Oh,Object.assign({},D,{range:T,eventOffset:10,localizer:i,min:c,max:h,scrollToTime:g,enableAutoScroll:b}))}}]),t}(ie.Component);d0.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};d0.navigate=function(e,t,n){var r=n.localizer;switch(t){case Fi.PREVIOUS:return r.add(e,-1,"day");case Fi.NEXT:return r.add(e,1,"day");default:return e}};d0.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var NJ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],rc=function(e){si(t,e);function t(){return lo(this,t),ai(this,t,arguments)}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.date,i=r.localizer,s=r.min,c=s===void 0?i.startOf(new Date,"day"):s,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,m=r.scrollToTime,g=m===void 0?i.startOf(new Date,"day"):m,v=r.enableAutoScroll,b=v===void 0?!0:v,D=pl(r,NJ),T=t.range(o,this.props);return ie.createElement(Oh,Object.assign({},D,{range:T,eventOffset:15,localizer:i,min:c,max:h,scrollToTime:g,enableAutoScroll:b}))}}]),t}(ie.Component);rc.defaultProps=Oh.defaultProps;rc.navigate=function(e,t,n){var r=n.localizer;switch(t){case Fi.PREVIOUS:return r.add(e,-1,"week");case Fi.NEXT:return r.add(e,1,"week");default:return e}};rc.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),o=n.startOf(e,"week",r),i=n.endOf(e,"week",r);return n.range(o,i)};rc.title=function(e,t){var n=t.localizer,r=rc.range(e,{localizer:n}),o=NC(r),i=o[0],s=o.slice(1);return n.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var AJ=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Xb(e,t){return rc.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var lg=function(e){si(t,e);function t(){return lo(this,t),ai(this,t,arguments)}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.date,i=r.localizer,s=r.min,c=s===void 0?i.startOf(new Date,"day"):s,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,m=r.scrollToTime,g=m===void 0?i.startOf(new Date,"day"):m,v=r.enableAutoScroll,b=v===void 0?!0:v,D=pl(r,AJ),T=Xb(o,this.props);return ie.createElement(Oh,Object.assign({},D,{range:T,eventOffset:15,localizer:i,min:c,max:h,scrollToTime:g,enableAutoScroll:b}))}}]),t}(ie.Component);lg.defaultProps=Oh.defaultProps;lg.range=Xb;lg.navigate=rc.navigate;lg.title=function(e,t){var n=t.localizer,r=Xb(e,{localizer:n}),o=NC(r),i=o[0],s=o.slice(1);return n.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};function oc(e){var t=e.accessors,n=e.components,r=e.date,o=e.events,i=e.getters,s=e.length,c=e.localizer,d=e.onDoubleClickEvent,h=e.onSelectEvent,m=e.selected,g=j.useRef(null),v=j.useRef(null),b=j.useRef(null),D=j.useRef(null),T=j.useRef(null);j.useEffect(function(){N()});var I=function(z,V,Z){var $=n.event,oe=n.date;return V=V.filter(function(te){return Am(te,c.startOf(z,"day"),c.endOf(z,"day"),t,c)}),V.map(function(te,ye){var ge=t.title(te),ce=t.end(te),Q=t.start(te),ue=i.eventProp(te,Q,ce,u0(te,m)),se=ye===0&&c.format(z,"agendaDateFormat"),we=ye===0?ie.createElement("td",{rowSpan:V.length,className:"rbc-agenda-date-cell"},oe?ie.createElement(oe,{day:z,label:se}):se):!1;return ie.createElement("tr",{key:Z+"_"+ye,className:ue.className,style:ue.style},we,ie.createElement("td",{className:"rbc-agenda-time-cell"},O(z,te)),ie.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(ee){return h&&h(te,ee)},onDoubleClick:function(ee){return d&&d(te,ee)}},$?ie.createElement($,{event:te,title:ge}):ge))},[])},O=function(z,V){var Z="",$=n.time,oe=c.messages.allDay,te=t.end(V),ye=t.start(V);return t.allDay(V)||(c.eq(ye,te)?oe=c.format(ye,"agendaTimeFormat"):c.isSameDate(ye,te)?oe=c.format({start:ye,end:te},"agendaTimeRangeFormat"):c.isSameDate(z,ye)?oe=c.format(ye,"agendaTimeFormat"):c.isSameDate(z,te)&&(oe=c.format(te,"agendaTimeFormat"))),c.gt(z,ye,"day")&&(Z="rbc-continues-prior"),c.lt(z,te,"day")&&(Z+=" rbc-continues-after"),ie.createElement("span",{className:Z.trim()},$?ie.createElement($,{event:V,day:z,label:oe}):oe)},N=function(){if(T.current){var z=g.current,V=T.current.firstChild;if(V){var Z=D.current.scrollHeight>D.current.clientHeight,$=[],oe=$;$=[k1(V.children[0]),k1(V.children[1])],(oe[0]!==$[0]||oe[1]!==$[1])&&(v.current.style.width=$[0]+"px",b.current.style.width=$[1]+"px"),Z?(A7(z,"rbc-header-overflowing"),z.style.marginRight=aC()+"px"):F7(z,"rbc-header-overflowing")}}},B=c.messages,P=c.add(r,s,"day"),U=c.range(r,P,"day");return o=o.filter(function(L){return Am(L,c.startOf(r,"day"),c.endOf(P,"day"),t,c)}),o.sort(function(L,z){return+t.start(L)-+t.start(z)}),ie.createElement("div",{className:"rbc-agenda-view"},o.length!==0?ie.createElement(ie.Fragment,null,ie.createElement("table",{ref:g,className:"rbc-agenda-table"},ie.createElement("thead",null,ie.createElement("tr",null,ie.createElement("th",{className:"rbc-header",ref:v},B.date),ie.createElement("th",{className:"rbc-header",ref:b},B.time),ie.createElement("th",{className:"rbc-header"},B.event)))),ie.createElement("div",{className:"rbc-agenda-content",ref:D},ie.createElement("table",{className:"rbc-agenda-table"},ie.createElement("tbody",{ref:T},U.map(function(L,z){return I(L,o,z)}))))):ie.createElement("span",{className:"rbc-agenda-empty"},B.noEventsInRange))}oc.defaultProps={length:30};oc.range=function(e,t){var n=t.length,r=n===void 0?oc.defaultProps.length:n,o=t.localizer,i=o.add(e,r,"day");return{start:e,end:i}};oc.navigate=function(e,t,n){var r=n.length,o=r===void 0?oc.defaultProps.length:r,i=n.localizer;switch(t){case Fi.PREVIOUS:return i.add(e,-o,"day");case Fi.NEXT:return i.add(e,o,"day");default:return e}};oc.title=function(e,t){var n=t.length,r=n===void 0?oc.defaultProps.length:n,o=t.localizer,i=o.add(e,r,"day");return o.format({start:e,end:i},"agendaHeaderFormat")};var Jy=ad(ad(ad(ad(ad({},oi.MONTH,c0),oi.WEEK,rc),oi.WORK_WEEK,lg),oi.DAY,d0),oi.AGENDA,oc),FJ=["action","date","today"];function OJ(e,t){var n=t.action,r=t.date,o=t.today,i=pl(t,FJ);switch(e=typeof e=="string"?Jy[e]:e,n){case Fi.TODAY:r=o||new Date;break;case Fi.DATE:break;default:Sm(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,i)}return r}var PJ=function(e){si(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=ai(this,t,[].concat(o)),n.navigate=function(s){n.props.onNavigate(s)},n.view=function(s){n.props.onView(s)},n}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.localizer.messages,i=r.label;return ie.createElement("div",{className:"rbc-toolbar"},ie.createElement("span",{className:"rbc-btn-group"},ie.createElement("button",{type:"button",onClick:this.navigate.bind(null,Fi.TODAY)},o.today),ie.createElement("button",{type:"button",onClick:this.navigate.bind(null,Fi.PREVIOUS)},o.previous),ie.createElement("button",{type:"button",onClick:this.navigate.bind(null,Fi.NEXT)},o.next)),ie.createElement("span",{className:"rbc-toolbar-label"},i),ie.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(o)))}},{key:"viewNamesGroup",value:function(r){var o=this,i=this.props.views,s=this.props.view;if(i.length>1)return i.map(function(c){return ie.createElement("button",{type:"button",key:c,className:Zr({"rbc-active":s===c}),onClick:o.view.bind(null,c)},r[c])})}}]),t}(ie.Component);function jJ(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&Xl(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var qu=function(t){return function(n){return jJ(n,t)}},LJ=["view","date","getNow","onNavigate"],RJ=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function iM(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var o=ql(r[n],2),i=o[0],s=o[1];s&&t.push(i)}return t}function _J(e,t){var n=t.views,r=iM(n);return r.indexOf(e)!==-1}var aM=function(e){si(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=ai(this,t,[].concat(o)),n.getViews=function(){var s=n.props.views;return Array.isArray(s)?uG(s,function(c,d){return c[d]=Jy[d]},{}):Xl(s)==="object"?mG(s,function(c,d){return c===!0?Jy[d]:c}):Jy},n.getView=function(){var s=n.getViews();return s[n.props.view]},n.getDrilldownView=function(s){var c=n.props,d=c.view,h=c.drilldownView,m=c.getDrilldownView;return m?m(s,d,Object.keys(n.getViews())):h},n.handleRangeChange=function(s,c,d){var h=n.props,m=h.onRangeChange,g=h.localizer;m&&c.range&&m(c.range(s,{localizer:g}),d)},n.handleNavigate=function(s,c){var d=n.props,h=d.view,m=d.date,g=d.getNow,v=d.onNavigate,b=pl(d,LJ),D=n.getView(),T=g();m=OJ(D,Yn(Yn({},b),{},{action:s,date:c||m||T,today:T})),v(m,h,s),n.handleRangeChange(m,D)},n.handleViewChange=function(s){s!==n.props.view&&_J(s,n.props)&&n.props.onView(s);var c=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),c[s],s)},n.handleSelectEvent=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];Xn(n.props.onSelectEvent,c)},n.handleDoubleClickEvent=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];Xn(n.props.onDoubleClickEvent,c)},n.handleKeyPressEvent=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];Xn(n.props.onKeyPressEvent,c)},n.handleSelectSlot=function(s){Xn(n.props.onSelectSlot,s)},n.handleDrillDown=function(s,c){var d=n.props.onDrillDown;if(d){d(s,c,n.drilldownView);return}c&&n.handleViewChange(c),n.handleNavigate(Fi.DATE,s)},n.state={context:t.getContext(n.props)},n}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.view,i=r.toolbar,s=r.events,c=r.backgroundEvents,d=r.style,h=r.className,m=r.elementProps,g=r.date,v=r.getNow,b=r.length,D=r.showMultiDayTimes,T=r.onShowMore,I=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var O=pl(r,RJ);g=g||v();var N=this.getView(),B=this.state.context,P=B.accessors,U=B.components,L=B.getters,z=B.localizer,V=B.viewNames,Z=U.toolbar||PJ,$=N.title(g,{localizer:z,length:b});return ie.createElement("div",Object.assign({},m,{className:Zr(h,"rbc-calendar",O.rtl&&"rbc-rtl"),style:d}),i&&ie.createElement(Z,{date:g,view:o,views:V,label:$,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:z}),ie.createElement(N,Object.assign({},O,{events:s,backgroundEvents:c,date:g,getNow:v,length:b,localizer:z,getters:L,components:U,accessors:P,showMultiDayTimes:D,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:T,doShowMoreDrillDown:I})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var o=r.startAccessor,i=r.endAccessor,s=r.allDayAccessor,c=r.tooltipAccessor,d=r.titleAccessor,h=r.resourceAccessor,m=r.resourceIdAccessor,g=r.resourceTitleAccessor,v=r.eventPropGetter,b=r.backgroundEventPropGetter,D=r.slotPropGetter,T=r.slotGroupPropGetter,I=r.dayPropGetter,O=r.view,N=r.views,B=r.localizer,P=r.culture,U=r.messages,L=U===void 0?{}:U,z=r.components,V=z===void 0?{}:z,Z=r.formats,$=Z===void 0?{}:Z,oe=iM(N),te=YG(L);return{viewNames:oe,localizer:HG(B,P,$,te),getters:{eventProp:function(){return v&&v.apply(void 0,arguments)||{}},backgroundEventProp:function(){return b&&b.apply(void 0,arguments)||{}},slotProp:function(){return D&&D.apply(void 0,arguments)||{}},slotGroupProp:function(){return T&&T.apply(void 0,arguments)||{}},dayProp:function(){return I&&I.apply(void 0,arguments)||{}}},components:Jq(V[O]||{},Yq(V,oe),{eventWrapper:$l,backgroundEventWrapper:$l,eventContainerWrapper:$l,dateCellWrapper:$l,weekWrapper:$l,timeSlotWrapper:$l,timeGutterWrapper:$l}),accessors:{start:qu(o),end:qu(i),allDay:qu(s),tooltip:qu(c),title:qu(d),resource:qu(h),resourceId:qu(m),resourceTitle:qu(g)}}}}]),t}(ie.Component);aM.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:oi.MONTH,views:[oi.MONTH,oi.WEEK,oi.DAY,oi.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:oi.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var BJ=Bx(aM,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),HJ=function(t,n,r){var o=t.start,i=t.end;return r.format(o,"MMMM DD",n)+" – "+r.format(i,r.eq(o,i,"month")?"DD":"MMMM DD",n)},UJ=function(t,n,r){var o=t.start,i=t.end;return r.format(o,"L",n)+" – "+r.format(i,"L",n)},Lw=function(t,n,r){var o=t.start,i=t.end;return r.format(o,"LT",n)+" – "+r.format(i,"LT",n)},YJ=function(t,n,r){var o=t.start;return r.format(o,"LT",n)+" – "},zJ=function(t,n,r){var o=t.end;return" – "+r.format(o,"LT",n)},VJ={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Lw,eventTimeRangeFormat:Lw,eventTimeRangeStartFormat:YJ,eventTimeRangeEndFormat:zJ,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:HJ,agendaHeaderFormat:UJ,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Lw};function Gu(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function ZJ(e){var t=function(fe,xe){return xe?fe.locale(xe):fe};function n(ee){return e(ee).toDate().getTimezoneOffset()}function r(ee,fe){var xe,je,Ve=e(ee).local(),Re=e(fe).local();if(!e.tz)return Ve.toDate().getTimezoneOffset()-Re.toDate().getTimezoneOffset();var $e=(xe=Ve==null||(je=Ve._z)===null||je===void 0?void 0:je.name)!==null&&xe!==void 0?xe:e.tz.guess(),qe=e.tz.zone($e).utcOffset(+Ve),lt=e.tz.zone($e).utcOffset(+Re);return qe-lt}function o(ee){var fe=e(ee).startOf("day");return r(fe,ee)}function i(ee,fe,xe){var je=Gu(xe),Ve=je?e(ee).startOf(je):e(ee),Re=je?e(fe).startOf(je):e(fe);return[Ve,Re,je]}function s(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,fe=arguments.length>1?arguments[1]:void 0,xe=Gu(fe);return xe?e(ee).startOf(xe).toDate():e(ee).toDate()}function c(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,fe=arguments.length>1?arguments[1]:void 0,xe=Gu(fe);return xe?e(ee).endOf(xe).toDate():e(ee).toDate()}function d(ee,fe,xe){var je=i(ee,fe,xe),Ve=ql(je,3),Re=Ve[0],$e=Ve[1],qe=Ve[2];return Re.isSame($e,qe)}function h(ee,fe,xe){return!d(ee,fe,xe)}function m(ee,fe,xe){var je=i(ee,fe,xe),Ve=ql(je,3),Re=Ve[0],$e=Ve[1],qe=Ve[2];return Re.isAfter($e,qe)}function g(ee,fe,xe){var je=i(ee,fe,xe),Ve=ql(je,3),Re=Ve[0],$e=Ve[1],qe=Ve[2];return Re.isBefore($e,qe)}function v(ee,fe,xe){var je=i(ee,fe,xe),Ve=ql(je,3),Re=Ve[0],$e=Ve[1],qe=Ve[2];return Re.isSameOrBefore($e,qe)}function b(ee,fe,xe){var je=i(ee,fe,xe),Ve=ql(je,3),Re=Ve[0],$e=Ve[1],qe=Ve[2];return Re.isSameOrBefore($e,qe)}function D(ee,fe,xe){var je=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",Ve=Gu(je),Re=e(ee),$e=e(fe),qe=e(xe);return Re.isBetween($e,qe,Ve,"[]")}function T(ee,fe){var xe=e(ee),je=e(fe),Ve=e.min(xe,je);return Ve.toDate()}function I(ee,fe){var xe=e(ee),je=e(fe),Ve=e.max(xe,je);return Ve.toDate()}function O(ee,fe){if(!ee&&!fe)return null;var xe=e(fe).format("HH:mm:ss"),je=e(ee).startOf("day").format("MM/DD/YYYY");return e("".concat(je," ").concat(xe),"MM/DD/YYYY HH:mm:ss").toDate()}function N(ee,fe,xe){var je=Gu(xe);return e(ee).add(fe,je).toDate()}function B(ee,fe){for(var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",je=Gu(xe),Ve=e(ee).toDate(),Re=[];b(Ve,fe);)Re.push(Ve),Ve=N(Ve,1,je);return Re}function P(ee,fe){var xe=Gu(fe),je=s(ee,xe);return d(je,ee)?je:N(je,1,xe)}function U(ee,fe){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",je=Gu(xe),Ve=e(ee),Re=e(fe);return Re.diff(Ve,je)}function L(ee){var fe=e(ee);return fe.minutes()}function z(ee){var fe=ee?e.localeData(ee):e.localeData();return fe?fe.firstDayOfWeek():0}function V(ee){return e(ee).startOf("month").startOf("week").toDate()}function Z(ee){return e(ee).endOf("month").endOf("week").toDate()}function $(ee){for(var fe=V(ee),xe=Z(ee),je=[];b(fe,xe);)je.push(fe),fe=N(fe,1,"d");return je}function oe(ee,fe,xe){return e(ee).startOf("day").minute(fe+xe).toDate()}function te(ee,fe){return U(ee,fe,"minutes")}function ye(ee){var fe=e(ee).startOf("day"),xe=e(ee);return xe.diff(fe,"minutes")+o(ee)}function ge(ee,fe){var xe=e(ee),je=e(fe);return xe.isBefore(je,"day")}function ce(ee,fe,xe){var je=e(fe),Ve=e(xe);return je.isSameOrAfter(Ve,"minutes")}function Q(ee,fe){var xe=e(ee),je=e(fe),Ve=e.duration(je.diff(xe));return Ve.days()}function ue(ee){var fe=ee.evtA,xe=fe.start,je=fe.end,Ve=fe.allDay,Re=ee.evtB,$e=Re.start,qe=Re.end,lt=Re.allDay,It=+s(xe,"day")-+s($e,"day"),Fe=Q(xe,je),st=Q($e,qe);return It||st-Fe||!!lt-!!Ve||+xe-+$e||+je-+qe}function se(ee){var fe=ee.event,xe=fe.start,je=fe.end,Ve=ee.range,Re=Ve.start,$e=Ve.end,qe=e(xe).startOf("day"),lt=e(je),It=e(Re),Fe=e($e),st=qe.isSameOrBefore(Fe,"day"),it=!qe.isSame(lt,"minutes"),ct=it?lt.isAfter(It,"minutes"):lt.isSameOrAfter(It,"minutes");return st&&ct}function we(ee,fe){var xe=e(ee),je=e(fe);return xe.isSame(je,"day")}function J(){var ee=new Date,fe=/-/.test(ee.toString())?"-":"",xe=ee.getTimezoneOffset(),je=Number("".concat(fe).concat(Math.abs(xe))),Ve=e().utcOffset();return Ve>je?1:0}return new BG({formats:VJ,firstOfWeek:z,firstVisibleDay:V,lastVisibleDay:Z,visibleDays:$,format:function(fe,xe,je){return t(e(fe),je).format(xe)},lt:g,lte:b,gt:m,gte:v,eq:d,neq:h,merge:O,inRange:D,startOf:s,endOf:c,range:B,add:N,diff:U,ceil:P,min:T,max:I,minutes:L,getSlotDate:oe,getTimezoneOffset:n,getDstOffset:r,getTotalMin:te,getMinutesFromMidnight:ye,continuesPrior:ge,continuesAfter:ce,sortEvents:ue,inEventRange:se,isSameDate:we,daySpan:Q,browserTZOffset:J})}function vT(e,t,n,r,o){const i={start:r.start(e),end:r.end(e)},s={start:t,end:n};return o.inEventRange({event:i,range:s})}function WJ(e,t){return!e||t==null?!1:jI.isEqual(e,t)}const eh={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};function eu({accessors:e,components:t,date:n,events:r,getters:o,length:i,localizer:s,onDoubleClickEvent:c,onSelectEvent:d,selected:h}){j.useRef(null);const m=j.useRef(null),g=j.useRef(null),v=j.useRef(null),b=j.useRef(null),[D,T]=j.useState(!1),[I,O]=j.useState(!1),N=($,oe,te)=>{const{event:ye,date:ge}=t;return oe=oe.filter(ce=>vT(ce,s.startOf($,"day"),s.endOf($,"day"),e,s)),oe.map((ce,Q)=>{const ue=e.title(ce),se=e.end(ce),we=e.start(ce),J=o.eventProp(ce,we,se,WJ(ce,h)),ee=Q===0&&s.format($,"agendaDateFormat"),fe=Q===0?y.jsx("td",{rowSpan:oe.length,className:"rbc-agenda-date-cell",children:ge?y.jsx(ge,{day:$,label:ee}):ee}):!1;return y.jsxs("tr",{className:J.className,style:J.style,children:[fe,y.jsx("td",{className:"rbc-agenda-time-cell",children:B($,ce)}),y.jsx("td",{className:"rbc-agenda-event-cell",onClick:xe=>d&&d(ce,xe),onDoubleClick:xe=>c&&c(ce,xe),children:ye?y.jsx(ye,{event:ce,title:ue}):ue})]},te+"_"+Q)},[])},B=($,oe)=>{const te=t.time;let ye="",ge=s.messages.allDay;const ce=e.end(oe),Q=e.start(oe);return e.allDay(oe)||(s.eq(Q,ce)?ge=s.format(Q,"agendaTimeFormat"):s.isSameDate(Q,ce)?ge=s.format({start:Q,end:ce},"agendaTimeRangeFormat"):s.isSameDate($,Q)?ge=s.format(Q,"agendaTimeFormat"):s.isSameDate($,ce)&&(ge=s.format(ce,"agendaTimeFormat"))),s.gt($,Q,"day")&&(ye="rbc-continues-prior"),s.lt($,ce,"day")&&(ye+=" rbc-continues-after"),y.jsx("span",{className:ye.trim(),children:te?y.jsx(te,{event:oe,day:$,label:ge}):ge})},{messages:P}=s,U=s.add(n,-i/2,"day"),L=s.add(n,i/2,"day"),z=s.range(U,L,"day");D&&z.reverse(),r=r.filter($=>vT($,s.startOf(U,"day"),s.endOf(L,"day"),e,s)),r.sort(($,oe)=>+e.start($)-+e.start(oe)),I&&r.reverse();const V=j.useCallback(()=>setTimeout(()=>{b.current&&Zv(b.current).then($=>{new C.Notice(x("Image is generating..."));const oe=yt.getState().settings.AutoSaveWhenOnMobile,te=yt.getState().app.vault;if(oe&&C.Platform.isMobile){const ye=$.split("base64,")[1];Ov(ye,"image/png").arrayBuffer().then(async ce=>{let Q;const ue="png",se=ru();for(const we in se)if(se[we]instanceof C.TFile){Q=se[we];break}Q!==void 0&&await te.createBinary(await te.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,ue,Q),ce)})}Wv({imgUrl:$})}).catch($=>{console.error($)})},0),[b.current,z]),Z=j.useCallback($=>{const oe=new C.Menu;oe.addItem(te=>{te.setIcon("share-2").setTitle(x("Share")).onClick(()=>{V()})}),oe.showAtMouseEvent($.nativeEvent)},[b.current,z,V]);return y.jsx("div",{className:"rbc-agenda-view",children:r.length!==0?y.jsx(ie.Fragment,{children:y.jsxs("table",{ref:b,className:"rbc-agenda-table",children:[y.jsx("thead",{onContextMenu:Z,children:y.jsxs("tr",{children:[y.jsx("th",{className:"rbc-header",ref:m,onClick:()=>{T(!D)},children:P.date+(D?" 🔼":" 🔽")}),y.jsx("th",{className:"rbc-header",ref:g,onClick:()=>{O(!I)},children:P.time+(I?" 🔼":" 🔽")}),y.jsx("th",{className:"rbc-header",children:P.event})]})}),y.jsx("tbody",{ref:v,children:z.map(($,oe)=>N($,r,oe))})]})}):y.jsx("span",{className:"rbc-agenda-empty",children:P.noEventsInRange})})}eu.propTypes={accessors:Me.object.isRequired,components:Me.object.isRequired,date:Me.instanceOf(Date),events:Me.array,getters:Me.object.isRequired,length:Me.number.isRequired,localizer:Me.object.isRequired,onSelectEvent:Me.func,onDoubleClickEvent:Me.func,selected:Me.object};eu.defaultProps={length:30};eu.range=(e,{length:t=eu.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),o=n.add(e,t/2,"day");return{customStart:r,customEnd:o}};eu.navigate=(e,t,{length:n=eu.defaultProps.length,localizer:r})=>{switch(t){case eh.PREVIOUS:return r.add(e,-n,"day");case eh.NEXT:return r.add(e,n,"day");default:return e}};eu.title=(e,{length:t=eu.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),o=n.add(e,t/2,"day");return n.format({start:r,end:o},"agendaHeaderFormat")};function $J(e,t){e.hoverEl.toggleClass("thino-hover-popover",!0);const n=Wm(e.hoverEl);return n.render(y.jsx(Pa,{store:Le,context:Pt,children:y.jsx(Oi,{memo:t})})),n}function qJ({event:e}){const t=e.resource,n=t.content.split(`
`)[0].slice(0,20),r=ie.useRef(null),o=ie.useRef(null),i=ie.useRef(null);j.useEffect(()=>{if(o.current)return C.setIcon(o.current,"calendar"),()=>{r.current&&(r.current=null)}},[r]);const s=j.useCallback(d=>{i.current&&(i.current.unmount(),i.current=null),i.current=d},[]),c=j.useCallback(d=>{if(!r.current||!C.Keymap.isModifier(d.nativeEvent,"Mod"))return;const h=new C.HoverPopover(yt.getState().view,r.current,100),m=$J(h,t);s(m)},[r.current]);return y.jsxs("span",{className:"rbc-event-renderer","data-source-type":t.sourceType,"data-thino-type":t.thinoType,"data-thino-id":t.id,ref:r,"aria-label":t.path,onMouseOver:c,children:[y.jsx(GJ,{event:e}),y.jsx("strong",{children:n})]})}const GJ=({event:e})=>{const t=ie.useRef(null),n=e.resource;j.useEffect(()=>{t.current&&C.setIcon(t.current,n.thinoType==="JOURNAL"?"calendar":n.thinoType==="TASK-TODO"?"square":"check-square")},[n==null?void 0:n.thinoType,t]);const r=j.useCallback(async o=>{o.stopPropagation(),o.preventDefault(),await(async()=>{const s=await _e.updateMemo(n.id,n.content,n.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");s&&_e.editMemo(s)})()},[n==null?void 0:n.thinoType,n==null?void 0:n.id,n==null?void 0:n.content]);return y.jsx(y.Fragment,{children:y.jsxs("span",{className:"rbc-event-icon-group",children:[y.jsx("span",{className:"rbc-event-icon",ref:t,onClick:r}),y.jsx("span",{className:Gn("rbc-event-time","hidden"),children:y.jsx("span",{className:"rbc-event-time-text",children:C.moment(e.start).format("HH:mm")})})]})})};function sM({views:e,view:t,messages:n,onView:r}){return e.map(o=>y.jsx("button",{type:"button",className:Gn({"rbc-active":t===o}),onClick:()=>r(o),children:n[o]},o))}sM.propTypes={messages:Me.object,onView:Me.func,view:Me.string,views:Me.array};function lM({date:e,label:t,localizer:{messages:n},onNavigate:r,onView:o,view:i,views:s}){const c={previous:j.useRef(null),today:j.useRef(null),next:j.useRef(null)};j.useEffect(()=>{c&&(C.setIcon(c.previous.current,"chevron-left"),C.setIcon(c.today.current,"dot"),C.setIcon(c.next.current,"chevron-right"))},[c]);const d=j.useMemo(()=>y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:c.previous,type:"button",onClick:()=>r(eh.PREVIOUS),"aria-label":n.previous,children:"<"}),y.jsx("button",{ref:c.today,type:"button",onClick:()=>r(eh.TODAY),"aria-label":n.today,children:"•"}),y.jsx("button",{ref:c.next,type:"button",onClick:()=>r(eh.NEXT),"aria-label":n.next,children:">"})]}),[n]);return y.jsxs("div",{className:"rbc-toolbar",children:[y.jsx("span",{className:Gn("rbc-btn-group","thino-view-custom-toolbar"),children:d}),y.jsx("span",{className:"rbc-toolbar-label",children:y.jsx(lv,{type:"text",handleValueChange:h=>{r(eh.DATE,C.moment(h,"YYYY-MM-DD").format("YYYY-MM-DDTHH:mm:ssZ"))},defaultText:t+(i==="week"?C.moment(e.valueOf(),"x").format(" [W]WW"):""),defaultValue:C.moment(e.valueOf(),"x").valueOf()})}),y.jsx("span",{className:"rbc-btn-group",children:y.jsx(sM,{view:i,views:s,messages:n,onView:o})})]})}lM.propTypes={date:Me.instanceOf(Date),label:Me.string,localizer:Me.object,messages:Me.object,onNavigate:Me.func,onView:Me.func,view:Me.string,views:Me.array};function JJ({event:e,children:t,showPopup:n,callRender:r,...o}){const i=j.useRef(null),s=j.useRef(null),c=j.useCallback(d=>{if(!d.isTrusted){r();return}s.current=d.nativeEvent.target,s.current&&(s.current.hasClass("rbc-event")||(s.current=s.current.closest(".rbc-event")),i.current!==null?(window.clearTimeout(i.current),i.current=null):i.current=window.setTimeout(()=>{n(e,s.current),i.current=null},250))},[e,n]);return y.jsx(y.Fragment,{children:y.jsx("div",{className:"rbc-event-wrapper","aria-describedby":"thino",onClick:c,children:t})})}const KJ=ZJ(C.moment),QJ=({event:e})=>{const t=e.resource;return y.jsx(y.Fragment,{children:y.jsx(Oi,{memo:t})})},XJ=e=>{var te;const{thinos:t}=e,[n,r]=ie.useState([]),[o,i]=ie.useState((app==null?void 0:app.loadLocalStorage("thino-calendar-view"))||"month"),[s,c]=ie.useState(null),d=ie.useRef(null),h=ie.useRef(null),[m,g]=ie.useState(!1),v=j.useRef(null),[b,D]=j.useState(new Date);j.useEffect(()=>()=>{d.current&&(d.current=null),h.current&&(h.current=null),v.current&&(v.current=null)},[]),j.useEffect(()=>{const ye=t.map(ge=>{const ce=C.moment(ge.createdAt,"YYYY/MM/DD HH:mm:ss"),Q=ce.clone().add(1,"minute");return{title:ge.content,start:new Date(ce.format("YYYY-MM-DDTHH:mm:ss")),end:new Date(Q.format("YYYY-MM-DDTHH:mm:ss")),resource:ge}});r(ye)},[t]),j.useEffect(()=>{app==null||app.saveLocalStorage("thino-calendar-view",o)},[o]),j.useEffect(()=>{m&&c(t.find(ye=>ye.id===s.id))},[t]),j.useEffect(()=>{s&&v.current.update()},[s]),v.current=Vv(d.current,h.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]});const T=j.useCallback(()=>{v.current.update(),v.current.update()},[]),I=j.useCallback((ye,ge)=>{c(null),P(),v.current.state.elements.reference=ge,c(ye.resource),U()},[]),O=j.useCallback(()=>{P(),c(null)},[]),N=j.useCallback((ye,ge,ce)=>{var Q;if(B(ye),ge==="week"||ge==="day"){const ue=d.current.find(".rbc-event-wrapper");if(d.current.closest(".memolist-wrapper"),ue){(Q=ue.children[0])==null||Q.click();return}else{setTimeout(()=>{var we,J;const se=d.current.find(".rbc-event-wrapper");(J=(we=se==null?void 0:se.children)==null?void 0:we[0])==null||J.click()},0);return}}},[]),B=j.useCallback(ye=>{D(ye)},[D]);Gm(h,O);const P=j.useCallback(()=>{g(!1)},[g]),U=j.useCallback(()=>{v.current.update(),g(!0)},[g]),L=j.useCallback(ye=>{const ge=ye.resource;ft.setEditMemoId(ge.id)},[]),z=j.useCallback(ye=>{i(ye)},[i]),{components:V,views:Z,messages:$}=j.useMemo(()=>({components:{toolbar:lM,eventWrapper:ye=>y.jsx(JJ,{...ye,callRender:T,showPopup:I}),agenda:{event:QJ},event:qJ},views:{month:!0,agenda:eu,week:!0,day:!0},messages:{month:x("Month"),day:x("Day"),next:x("Next"),previous:x("Previous"),today:x("Today"),agenda:x("Agenda"),week:x("Week"),yesterday:x("Yesterday"),tomorrow:x("Tomorrow"),noEventsInRange:x("No thinos in range"),date:x("date"),time:x("time"),event:x("event")}}),[]),oe=j.useMemo(()=>({timeGutterFormat:(ye,ge,ce)=>ce.format(ye,"HH:mm",ge),agendaTimeRangeFormat:({start:ye,end:ge},ce,Q)=>Q.format(ye,"HH:mm",ce)+" — "+Q.format(ge,"HH:mm",ce),agendaHeaderFormat:({start:ye,end:ge},ce,Q)=>Q.format(ye,"YYYY-MM-DD")+" — "+Q.format(ge,"YYYY-MM-DD")}),[]);return y.jsxs("div",{ref:d,className:"calendar-view",children:[y.jsx(BJ,{date:b,messages:$,components:V,localizer:KJ,events:n,views:Z,onView:z,onDoubleClickEvent:L,onNavigate:N,formats:oe,defaultView:o,tooltipAccessor:null,startAccessor:"start",endAccessor:"end"}),y.jsx("div",{ref:h,style:(te=v.current)==null?void 0:te.styles.popper,className:Gn("thino-popup-container",m?"":"hidden"),children:s&&y.jsx(Oi,{memo:s})})]})};function tc(e,t){return typeof e=="function"?e(t):e}function ia(e,t){return n=>{t.setState(r=>({...r,[e]:tc(n,r[e])}))}}function Tv(e){return e instanceof Function}function eK(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function tK(e,t){const n=[],r=o=>{o.forEach(i=>{n.push(i);const s=t(i);s!=null&&s.length&&r(s)})};return r(e),n}function Lt(e,t,n){let r=[],o;return i=>{let s;n.key&&n.debug&&(s=Date.now());const c=e(i);if(!(c.length!==r.length||c.some((m,g)=>r[g]!==m)))return o;r=c;let h;if(n.key&&n.debug&&(h=Date.now()),o=t(...c),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const m=Math.round((Date.now()-s)*100)/100,v=Math.round((Date.now()-h)*100)/100/16,b=(D,T)=>{for(D=String(D);D.length<T;)D=" "+D;return D}}return o}}function Rt(e,t,n,r){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[t]},key:!1,onChange:r}}function nK(e,t,n,r){var o,i;const c={...e._getDefaultColumnDef(),...t},d=c.accessorKey;let h=(o=(i=c.id)!=null?i:d?d.replace(".","_"):void 0)!=null?o:typeof c.header=="string"?c.header:void 0,m;if(c.accessorFn?m=c.accessorFn:d&&(d.includes(".")?m=v=>{let b=v;for(const T of d.split(".")){var D;b=(D=b)==null?void 0:D[T]}return b}:m=v=>v[c.accessorKey]),!h)throw new Error;let g={id:`${String(h)}`,accessorFn:m,parent:r,depth:n,columnDef:c,columns:[],getFlatColumns:Lt(()=>[!0],()=>{var v;return[g,...(v=g.columns)==null?void 0:v.flatMap(b=>b.getFlatColumns())]},Rt(e.options,"debugColumns")),getLeafColumns:Lt(()=>[e._getOrderColumnsFn()],v=>{var b;if((b=g.columns)!=null&&b.length){let D=g.columns.flatMap(T=>T.getLeafColumns());return v(D)}return[g]},Rt(e.options,"debugColumns"))};for(const v of e._features)v.createColumn==null||v.createColumn(g,e);return g}const Ro="debugHeaders";function wT(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],c=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(c),s.push(d)};return c(i),s},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(i,e)}),i}const rK={createTable:e=>{e.getHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var i,s;const c=(i=r==null?void 0:r.map(g=>n.find(v=>v.id===g)).filter(Boolean))!=null?i:[],d=(s=o==null?void 0:o.map(g=>n.find(v=>v.id===g)).filter(Boolean))!=null?s:[],h=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(o!=null&&o.includes(g.id)));return xy(t,[...c,...h,...d],e)},Rt(e.options,Ro)),e.getCenterHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(o!=null&&o.includes(i.id))),xy(t,n,e,"center")),Rt(e.options,Ro)),e.getLeftHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(s=>n.find(c=>c.id===s)).filter(Boolean))!=null?o:[];return xy(t,i,e,"left")},Rt(e.options,Ro)),e.getRightHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(s=>n.find(c=>c.id===s)).filter(Boolean))!=null?o:[];return xy(t,i,e,"right")},Rt(e.options,Ro)),e.getFooterGroups=Lt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ro)),e.getLeftFooterGroups=Lt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ro)),e.getCenterFooterGroups=Lt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ro)),e.getRightFooterGroups=Lt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ro)),e.getFlatHeaders=Lt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ro)),e.getLeftFlatHeaders=Lt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ro)),e.getCenterFlatHeaders=Lt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ro)),e.getRightFlatHeaders=Lt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ro)),e.getCenterLeafHeaders=Lt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Ro)),e.getLeftLeafHeaders=Lt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Ro)),e.getRightLeafHeaders=Lt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Ro)),e.getLeafHeaders=Lt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,i,s,c,d,h;return[...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(s=(c=n[0])==null?void 0:c.headers)!=null?s:[],...(d=(h=r[0])==null?void 0:h.headers)!=null?d:[]].map(m=>m.getLeafHeaders()).flat()},Rt(e.options,Ro))}};function xy(e,t,n,r){var o,i;let s=0;const c=function(v,b){b===void 0&&(b=1),s=Math.max(s,b),v.filter(D=>D.getIsVisible()).forEach(D=>{var T;(T=D.columns)!=null&&T.length&&c(D.columns,b+1)},0)};c(e);let d=[];const h=(v,b)=>{const D={depth:b,id:[r,`${b}`].filter(Boolean).join("_"),headers:[]},T=[];v.forEach(I=>{const O=[...T].reverse()[0],N=I.column.depth===D.depth;let B,P=!1;if(N&&I.column.parent?B=I.column.parent:(B=I.column,P=!0),O&&(O==null?void 0:O.column)===B)O.subHeaders.push(I);else{const U=wT(n,B,{id:[r,b,B.id,I==null?void 0:I.id].filter(Boolean).join("_"),isPlaceholder:P,placeholderId:P?`${T.filter(L=>L.column===B).length}`:void 0,depth:b,index:T.length});U.subHeaders.push(I),T.push(U)}D.headers.push(I),I.headerGroup=D}),d.push(D),b>0&&h(T,b-1)},m=t.map((v,b)=>wT(n,v,{depth:s,index:b}));h(m,s-1),d.reverse();const g=v=>v.filter(D=>D.column.getIsVisible()).map(D=>{let T=0,I=0,O=[0];D.subHeaders&&D.subHeaders.length?(O=[],g(D.subHeaders).forEach(B=>{let{colSpan:P,rowSpan:U}=B;T+=P,O.push(U)})):T=1;const N=Math.min(...O);return I+=N,D.colSpan=T,D.rowSpan=I,{colSpan:T,rowSpan:I}});return g((o=(i=d[0])==null?void 0:i.headers)!=null?o:[]),d}const Cy={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Rw=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),oK={getDefaultColumnDef:()=>Cy,getInitialState:e=>({columnSizing:{},columnSizingInfo:Rw(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ia("columnSizing",e),onColumnSizingInfoChange:ia("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Cy.minSize,(r=i??e.columnDef.size)!=null?r:Cy.size),(o=e.columnDef.maxSize)!=null?o:Cy.maxSize)},e.getStart=Lt(n=>[n,dm(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,i)=>o+i.getSize(),0),Rt(t.options,"debugColumns")),e.getAfter=Lt(n=>[n,dm(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,i)=>o+i.getSize(),0),Rt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var i;n+=(i=o.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r==null?void 0:r.getCanResize();return i=>{if(!r||!o||(i.persist==null||i.persist(),_w(i)&&i.touches&&i.touches.length>1))return;const s=e.getSize(),c=e?e.getLeafHeaders().map(O=>[O.column.id,O.column.getSize()]):[[r.id,r.getSize()]],d=_w(i)?Math.round(i.touches[0].clientX):i.clientX,h={},m=(O,N)=>{typeof N=="number"&&(t.setColumnSizingInfo(B=>{var P,U;const L=t.options.columnResizeDirection==="rtl"?-1:1,z=(N-((P=B==null?void 0:B.startOffset)!=null?P:0))*L,V=Math.max(z/((U=B==null?void 0:B.startSize)!=null?U:0),-.999999);return B.columnSizingStart.forEach(Z=>{let[$,oe]=Z;h[$]=Math.round(Math.max(oe+oe*V,0)*100)/100}),{...B,deltaOffset:z,deltaPercentage:V}}),(t.options.columnResizeMode==="onChange"||O==="end")&&t.setColumnSizing(B=>({...B,...h})))},g=O=>m("move",O),v=O=>{m("end",O),t.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=n||typeof document<"u"?document:null,D={moveHandler:O=>g(O.clientX),upHandler:O=>{b==null||b.removeEventListener("mousemove",D.moveHandler),b==null||b.removeEventListener("mouseup",D.upHandler),v(O.clientX)}},T={moveHandler:O=>(O.cancelable&&(O.preventDefault(),O.stopPropagation()),g(O.touches[0].clientX),!1),upHandler:O=>{var N;b==null||b.removeEventListener("touchmove",T.moveHandler),b==null||b.removeEventListener("touchend",T.upHandler),O.cancelable&&(O.preventDefault(),O.stopPropagation()),v((N=O.touches[0])==null?void 0:N.clientX)}},I=iK()?{passive:!1}:!1;_w(i)?(b==null||b.addEventListener("touchmove",T.moveHandler,I),b==null||b.addEventListener("touchend",T.upHandler,I)):(b==null||b.addEventListener("mousemove",D.moveHandler,I),b==null||b.addEventListener("mouseup",D.upHandler,I)),t.setColumnSizingInfo(O=>({...O,startOffset:d,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Rw():(n=e.initialState.columnSizingInfo)!=null?n:Rw())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let My=null;function iK(){if(typeof My=="boolean")return My;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return My=e,My}function _w(e){return e.type==="touchstart"}const aK={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ia("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,i;e.setExpanded(r?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const s=i.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const i=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(c=>{s[c]=!0}):s=r,n=(o=n)!=null?o:!i,!i&&n)return{...s,[e.id]:!0};if(i&&!n){const{[e.id]:c,...d}=s;return d}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},uM=(e,t,n)=>{var r;const o=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(o))};uM.autoRemove=e=>cs(e);const cM=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};cM.autoRemove=e=>cs(e);const dM=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};dM.autoRemove=e=>cs(e);const fM=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};fM.autoRemove=e=>cs(e)||!(e!=null&&e.length);const hM=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});hM.autoRemove=e=>cs(e)||!(e!=null&&e.length);const pM=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});pM.autoRemove=e=>cs(e)||!(e!=null&&e.length);const mM=(e,t,n)=>e.getValue(t)===n;mM.autoRemove=e=>cs(e);const gM=(e,t,n)=>e.getValue(t)==n;gM.autoRemove=e=>cs(e);const eS=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};eS.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(o)?1/0:o;if(i>s){const c=i;i=s,s=c}return[i,s]};eS.autoRemove=e=>cs(e)||cs(e[0])&&cs(e[1]);const Zl={includesString:uM,includesStringSensitive:cM,equalsString:dM,arrIncludes:fM,arrIncludesAll:hM,arrIncludesSome:pM,equals:mM,weakEquals:gM,inNumberRange:eS};function cs(e){return e==null||e===""}const sK={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:ia("columnFilters",e),onGlobalFilterChange:ia("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Zl.includesString:typeof r=="number"?Zl.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Zl.equals:Array.isArray(r)?Zl.arrIncludes:Zl.weakEquals},e.getFilterFn=()=>{var n,r;return Tv(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Zl[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,r,o,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),i=r==null?void 0:r.find(m=>m.id===e.id),s=tc(n,i?i.value:void 0);if(bT(o,s,e)){var c;return(c=r==null?void 0:r.filter(m=>m.id!==e.id))!=null?c:[]}const d={id:e.id,value:s};if(i){var h;return(h=r==null?void 0:r.map(m=>m.id===e.id?d:m))!=null?h:[]}return r!=null&&r.length?[...r,d]:[d]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Zl.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Tv(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Zl[r]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var i;return(i=tc(t,o))==null?void 0:i.filter(s=>{const c=n.find(d=>d.id===s.id);if(c){const d=c.getFilterFn();if(bT(d,s.value,c))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function bT(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const lK=(e,t,n)=>n.reduce((r,o)=>{const i=o.getValue(e);return r+(typeof i=="number"?i:0)},0),uK=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},cK=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},dK=(e,t,n)=>{let r,o;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r===void 0?s>=s&&(r=o=s):(r>s&&(r=s),o<s&&(o=s)))}),[r,o]},fK=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},hK=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!eK(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((i,s)=>i-s);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},pK=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),mK=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,gK=(e,t)=>t.length,Bw={sum:lK,min:uK,max:cK,extent:dK,mean:fK,median:hK,unique:pK,uniqueCount:mK,count:gK},yK={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ia("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r,o,i;return(n=(r=(o=(i=e.columnDef.enableGrouping)!=null?i:!0)!=null?o:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Bw.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Bw.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Tv(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Bw[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function vK(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(s=>s.id===i)).filter(Boolean),...r]}const wK={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ia("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Lt(n=>[dm(t,n)],n=>n.findIndex(r=>r.id===e.id),Rt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=dm(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=dm(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Lt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let i=[];if(!(t!=null&&t.length))i=o;else{const s=[...t],c=[...o];for(;c.length&&s.length;){const d=s.shift(),h=c.findIndex(m=>m.id===d);h>-1&&i.push(c.splice(h,1)[0])}i=[...i,...c]}return vK(i,n,r)},Rt(e.options,"debugTable"))}},F1=0,O1=10,Hw=()=>({pageIndex:F1,pageSize:O1}),bK={getInitialState:e=>({...e,pagination:{...Hw(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ia("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=i=>tc(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?Hw():(o=e.initialState.pagination)!=null?o:Hw())},e.setPageIndex=r=>{e.setPagination(o=>{let i=tc(r,o.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,s)),{...o,pageIndex:i}})},e.resetPageIndex=r=>{var o,i;e.setPageIndex(r?F1:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?o:F1)},e.resetPageSize=r=>{var o,i;e.setPageSize(r?O1:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?o:O1)},e.setPageSize=r=>{e.setPagination(o=>{const i=Math.max(1,tc(r,o.pageSize)),s=o.pageSize*o.pageIndex,c=Math.floor(s/i);return{...o,pageIndex:c,pageSize:i}})},e.setPageCount=r=>e.setPagination(o=>{var i;let s=tc(r,(i=e.options.pageCount)!=null?i:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...o,pageCount:s}}),e.getPageOptions=Lt(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((i,s)=>s)),o},Rt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Uw=()=>({left:[],right:[]}),Yw=()=>({top:[],bottom:[]}),SK={getInitialState:e=>({columnPinning:Uw(),rowPinning:Yw(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ia("columnPinning",e),onRowPinningChange:ia("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var i,s;if(n==="right"){var c,d;return{left:((c=o==null?void 0:o.left)!=null?c:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((d=o==null?void 0:o.right)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var h,m;return{left:[...((h=o==null?void 0:o.left)!=null?h:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((m=o==null?void 0:o.right)!=null?m:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((i=o==null?void 0:o.left)!=null?i:[]).filter(g=>!(r!=null&&r.includes(g))),right:((s=o==null?void 0:o.right)!=null?s:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,i,s;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((i=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(c=>c.id),{left:r,right:o}=t.getState().columnPinning,i=n.some(c=>r==null?void 0:r.includes(c)),s=n.some(c=>o==null?void 0:o.includes(c));return i?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,r,o)=>{const i=r?e.getLeafRows().map(d=>{let{id:h}=d;return h}):[],s=o?e.getParentRows().map(d=>{let{id:h}=d;return h}):[],c=new Set([...s,e.id,...i]);t.setRowPinning(d=>{var h,m;if(n==="bottom"){var g,v;return{top:((g=d==null?void 0:d.top)!=null?g:[]).filter(T=>!(c!=null&&c.has(T))),bottom:[...((v=d==null?void 0:d.bottom)!=null?v:[]).filter(T=>!(c!=null&&c.has(T))),...Array.from(c)]}}if(n==="top"){var b,D;return{top:[...((b=d==null?void 0:d.top)!=null?b:[]).filter(T=>!(c!=null&&c.has(T))),...Array.from(c)],bottom:((D=d==null?void 0:d.bottom)!=null?D:[]).filter(T=>!(c!=null&&c.has(T)))}}return{top:((h=d==null?void 0:d.top)!=null?h:[]).filter(T=>!(c!=null&&c.has(T))),bottom:((m=d==null?void 0:d.bottom)!=null?m:[]).filter(T=>!(c!=null&&c.has(T)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,i=n.some(c=>r==null?void 0:r.includes(c)),s=n.some(c=>o==null?void 0:o.includes(c));return i?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const i=(n=t._getPinnedRows(o))==null?void 0:n.map(s=>{let{id:c}=s;return c});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1},e.getCenterVisibleCells=Lt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const i=[...r??[],...o??[]];return n.filter(s=>!i.includes(s.column.id))},Rt(t.options,"debugRows")),e.getLeftVisibleCells=Lt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),Rt(t.options,"debugRows")),e.getRightVisibleCells=Lt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),Rt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Uw():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Uw())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,i;return!!((o=r.left)!=null&&o.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Lt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),Rt(e.options,"debugColumns")),e.getRightLeafColumns=Lt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),Rt(e.options,"debugColumns")),e.getCenterLeafColumns=Lt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(i=>!o.includes(i.id))},Rt(e.options,"debugColumns")),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Yw():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Yw())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,i;return!!((o=r.top)!=null&&o.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=Lt(t=>[e.getRowModel().rows,e.getState().rowPinning[t],t],(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(s=>{const c=e.getRow(s,!0);return c.getIsAllParentsExpanded()?c:null}):(n??[]).map(s=>t.find(c=>c.id===s))).filter(Boolean).map(s=>({...s,position:r}))},Rt(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=Lt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(i=>!o.has(i.id))},Rt(e.options,"debugRows"))}},DK={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ia("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):o.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(i=>{P1(o,i.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Lt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?zw(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getFilteredSelectedRowModel=Lt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?zw(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getGroupedSelectedRowModel=Lt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?zw(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(i=>{var s;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return i;const c={...i};return P1(c,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),c})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return tS(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return j1(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return j1(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},P1=(e,t,n,r,o)=>{var i;const s=o.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(c=>delete e[c]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=s.subRows)!=null&&i.length&&s.getCanSelectSubRows()&&s.subRows.forEach(c=>P1(e,c.id,n,r,o))};function zw(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(s,c){return s.map(d=>{var h;const m=tS(d,n);if(m&&(r.push(d),o[d.id]=d),(h=d.subRows)!=null&&h.length&&(d={...d,subRows:i(d.subRows)}),m)return d}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function tS(e,t){var n;return(n=t[e.id])!=null?n:!1}function j1(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,i=!1;return e.subRows.forEach(s=>{if(!(i&&!o)&&(s.getCanSelect()&&(tS(s,t)?i=!0:o=!1),s.subRows&&s.subRows.length)){const c=j1(s,t);c==="all"?i=!0:(c==="some"&&(i=!0),o=!1)}}),o?"all":i?"some":!1}const L1=/([0-9]+)/gm,TK=(e,t,n)=>yM(ic(e.getValue(n)).toLowerCase(),ic(t.getValue(n)).toLowerCase()),IK=(e,t,n)=>yM(ic(e.getValue(n)),ic(t.getValue(n))),EK=(e,t,n)=>nS(ic(e.getValue(n)).toLowerCase(),ic(t.getValue(n)).toLowerCase()),xK=(e,t,n)=>nS(ic(e.getValue(n)),ic(t.getValue(n))),CK=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},MK=(e,t,n)=>nS(e.getValue(n),t.getValue(n));function nS(e,t){return e===t?0:e>t?1:-1}function ic(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function yM(e,t){const n=e.split(L1).filter(Boolean),r=t.split(L1).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),i=r.shift(),s=parseInt(o,10),c=parseInt(i,10),d=[s,c].sort();if(isNaN(d[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(d[1]))return isNaN(s)?-1:1;if(s>c)return 1;if(c>s)return-1}return n.length-r.length}const Qf={alphanumeric:TK,alphanumericCaseSensitive:IK,text:EK,textCaseSensitive:xK,datetime:CK,basic:MK},kK={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ia("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const i=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Qf.datetime;if(typeof i=="string"&&(r=!0,i.split(L1).length>1))return Qf.alphanumeric}return r?Qf.text:Qf.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Tv(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Qf[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(s=>{const c=s==null?void 0:s.find(b=>b.id===e.id),d=s==null?void 0:s.findIndex(b=>b.id===e.id);let h=[],m,g=i?n:o==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?c?m="toggle":m="add":s!=null&&s.length&&d!==s.length-1?m="replace":c?m="toggle":m="replace",m==="toggle"&&(i||o||(m="remove")),m==="add"){var v;h=[...s,{id:e.id,desc:g}],h.splice(0,h.length-((v=t.options.maxMultiSortColCount)!=null?v:Number.MAX_SAFE_INTEGER))}else m==="toggle"?h=s.map(b=>b.id===e.id?{...b,desc:g}:b):m==="remove"?h=s.filter(b=>b.id!==e.id):h=[{id:e.id,desc:g}];return h})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const i=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:s==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},NK={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ia("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Lt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Rt(t.options,"debugRows")),e.getVisibleCells=Lt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],Rt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Lt(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),Rt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function dm(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const ST=[rK,NK,wK,SK,sK,kK,yK,aK,bK,DK,oK];function AK(e){var t;e.debugAll||e.debugTable;let n={_features:ST};const r=n._features.reduce((m,g)=>Object.assign(m,g.getDefaultOptions==null?void 0:g.getDefaultOptions(n)),{}),o=m=>n.options.mergeOptions?n.options.mergeOptions(r,m):{...r,...m};let s={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(m=>{var g;s=(g=m.getInitialState==null?void 0:m.getInitialState(s))!=null?g:s});const c=[];let d=!1;const h={_features:ST,options:{...r,...e},initialState:s,_queue:m=>{c.push(m),d||(d=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();d=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{n.setState(n.initialState)},setOptions:m=>{const g=tc(m,n.options);n.options=o(g)},getState:()=>n.options.state,setState:m=>{n.options.onStateChange==null||n.options.onStateChange(m)},_getRowId:(m,g,v)=>{var b;return(b=n.options.getRowId==null?void 0:n.options.getRowId(m,g,v))!=null?b:`${v?[v.id,g].join("."):g}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(m,g)=>{let v=(g?n.getPrePaginationRowModel():n.getRowModel()).rowsById[m];if(!v&&(v=n.getCoreRowModel().rowsById[m],!v))throw new Error;return v},_getDefaultColumnDef:Lt(()=>[n.options.defaultColumn],m=>{var g;return m=(g=m)!=null?g:{},{header:v=>{const b=v.header.column.columnDef;return b.accessorKey?b.accessorKey:b.accessorFn?b.id:null},cell:v=>{var b,D;return(b=(D=v.renderValue())==null||D.toString==null?void 0:D.toString())!=null?b:null},...n._features.reduce((v,b)=>Object.assign(v,b.getDefaultColumnDef==null?void 0:b.getDefaultColumnDef()),{}),...m}},Rt(e,"debugColumns")),_getColumnDefs:()=>n.options.columns,getAllColumns:Lt(()=>[n._getColumnDefs()],m=>{const g=function(v,b,D){return D===void 0&&(D=0),v.map(T=>{const I=nK(n,T,D,b),O=T;return I.columns=O.columns?g(O.columns,I,D+1):[],I})};return g(m)},Rt(e,"debugColumns")),getAllFlatColumns:Lt(()=>[n.getAllColumns()],m=>m.flatMap(g=>g.getFlatColumns()),Rt(e,"debugColumns")),_getAllFlatColumnsById:Lt(()=>[n.getAllFlatColumns()],m=>m.reduce((g,v)=>(g[v.id]=v,g),{}),Rt(e,"debugColumns")),getAllLeafColumns:Lt(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(m,g)=>{let v=m.flatMap(b=>b.getLeafColumns());return g(v)},Rt(e,"debugColumns")),getColumn:m=>n._getAllFlatColumnsById()[m]};Object.assign(n,h);for(let m=0;m<n._features.length;m++){const g=n._features[m];g==null||g.createTable==null||g.createTable(n)}return n}function FK(e,t,n,r){const o=()=>{var s;return(s=i.getValue())!=null?s:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:Lt(()=>[e,n,t,i],(s,c,d,h)=>({table:s,column:c,row:d,cell:h,getValue:h.getValue,renderValue:h.renderValue}),Rt(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(i,n,t,e)},{}),i}const rS=(e,t,n,r,o,i,s)=>{let c={id:t,index:r,original:n,depth:o,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(c._valuesCache.hasOwnProperty(d))return c._valuesCache[d];const h=e.getColumn(d);if(h!=null&&h.accessorFn)return c._valuesCache[d]=h.accessorFn(c.original,r),c._valuesCache[d]},getUniqueValues:d=>{if(c._uniqueValuesCache.hasOwnProperty(d))return c._uniqueValuesCache[d];const h=e.getColumn(d);if(h!=null&&h.accessorFn)return h.columnDef.getUniqueValues?(c._uniqueValuesCache[d]=h.columnDef.getUniqueValues(c.original,r),c._uniqueValuesCache[d]):(c._uniqueValuesCache[d]=[c.getValue(d)],c._uniqueValuesCache[d])},renderValue:d=>{var h;return(h=c.getValue(d))!=null?h:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>tK(c.subRows,d=>d.subRows),getParentRow:()=>c.parentId?e.getRow(c.parentId,!0):void 0,getParentRows:()=>{let d=[],h=c;for(;;){const m=h.getParentRow();if(!m)break;d.push(m),h=m}return d.reverse()},getAllCells:Lt(()=>[e.getAllLeafColumns()],d=>d.map(h=>FK(e,c,h,h.id)),Rt(e.options,"debugRows")),_getAllCellsByColumnId:Lt(()=>[c.getAllCells()],d=>d.reduce((h,m)=>(h[m.column.id]=m,h),{}),Rt(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const h=e._features[d];h==null||h.createRow==null||h.createRow(c,e)}return c};function OK(){return e=>Lt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,i,s){i===void 0&&(i=0);const c=[];for(let h=0;h<o.length;h++){const m=rS(e,e._getRowId(o[h],h,s),o[h],h,i,void 0,s==null?void 0:s.id);if(n.flatRows.push(m),n.rowsById[m.id]=m,c.push(m),e.options.getSubRows){var d;m.originalSubRows=e.options.getSubRows(o[h],h),(d=m.originalSubRows)!=null&&d.length&&(m.subRows=r(m.originalSubRows,i+1,m))}}return c};return n.rows=r(t),n},Rt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function vM(e,t,n){return n.options.filterFromLeafRows?PK(e,t,n):jK(e,t,n)}function PK(e,t,n){var r;const o=[],i={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,c=function(d,h){h===void 0&&(h=0);const m=[];for(let v=0;v<d.length;v++){var g;let b=d[v];const D=rS(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(D.columnFilters=b.columnFilters,(g=b.subRows)!=null&&g.length&&h<s){if(D.subRows=c(b.subRows,h+1),b=D,t(b)&&!D.subRows.length){m.push(b),i[b.id]=b,o.push(b);continue}if(t(b)||D.subRows.length){m.push(b),i[b.id]=b,o.push(b);continue}}else b=D,t(b)&&(m.push(b),i[b.id]=b,o.push(b))}return m};return{rows:c(e),flatRows:o,rowsById:i}}function jK(e,t,n){var r;const o=[],i={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,c=function(d,h){h===void 0&&(h=0);const m=[];for(let v=0;v<d.length;v++){let b=d[v];if(t(b)){var g;if((g=b.subRows)!=null&&g.length&&h<s){const T=rS(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);T.subRows=c(b.subRows,h+1),b=T}m.push(b),o.push(b),i[b.id]=b}}return m};return{rows:c(e),flatRows:o,rowsById:i}}function LK(){return e=>Lt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let v=0;v<t.flatRows.length;v++)t.flatRows[v].columnFilters={},t.flatRows[v].columnFiltersMeta={};return t}const o=[],i=[];(n??[]).forEach(v=>{var b;const D=e.getColumn(v.id);if(!D)return;const T=D.getFilterFn();T&&o.push({id:v.id,filterFn:T,resolvedValue:(b=T.resolveFilterValue==null?void 0:T.resolveFilterValue(v.value))!=null?b:v.value})});const s=n.map(v=>v.id),c=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(v=>v.getCanGlobalFilter());r&&c&&d.length&&(s.push("__global__"),d.forEach(v=>{var b;i.push({id:v.id,filterFn:c,resolvedValue:(b=c.resolveFilterValue==null?void 0:c.resolveFilterValue(r))!=null?b:r})}));let h,m;for(let v=0;v<t.flatRows.length;v++){const b=t.flatRows[v];if(b.columnFilters={},o.length)for(let D=0;D<o.length;D++){h=o[D];const T=h.id;b.columnFilters[T]=h.filterFn(b,T,h.resolvedValue,I=>{b.columnFiltersMeta[T]=I})}if(i.length){for(let D=0;D<i.length;D++){m=i[D];const T=m.id;if(m.filterFn(b,T,m.resolvedValue,I=>{b.columnFiltersMeta[T]=I})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const g=v=>{for(let b=0;b<s.length;b++)if(v.columnFilters[s[b]]===!1)return!1;return!0};return vM(t.rows,g,e)},Rt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function RK(){return(e,t)=>Lt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,o)=>{if(!n.rows.length||!(r!=null&&r.length)&&!o)return n;const i=[...r.map(c=>c.id).filter(c=>c!==t),o?"__global__":void 0].filter(Boolean),s=c=>{for(let d=0;d<i.length;d++)if(c.columnFilters[i[d]]===!1)return!1;return!0};return vM(n.rows,s,e)},Rt(e.options,"debugTable"))}function _K(){return(e,t)=>Lt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let i=0;i<n.flatRows.length;i++){const s=n.flatRows[i].getUniqueValues(t);for(let c=0;c<s.length;c++){const d=s[c];if(r.has(d)){var o;r.set(d,((o=r.get(d))!=null?o:0)+1)}else r.set(d,1)}}return r},Rt(e.options,"debugTable"))}function BK(){return(e,t)=>Lt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{var r;if(!n)return;const o=(r=n.flatRows[0])==null?void 0:r.getUniqueValues(t);if(typeof o>"u")return;let i=[o,o];for(let s=0;s<n.flatRows.length;s++){const c=n.flatRows[s].getUniqueValues(t);for(let d=0;d<c.length;d++){const h=c[d];h<i[0]?i[0]=h:h>i[1]&&(i[1]=h)}}return i},Rt(e.options,"debugTable"))}function HK(){return e=>Lt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],i=r.filter(d=>{var h;return(h=e.getColumn(d.id))==null?void 0:h.getCanSort()}),s={};i.forEach(d=>{const h=e.getColumn(d.id);h&&(s[d.id]={sortUndefined:h.columnDef.sortUndefined,invertSorting:h.columnDef.invertSorting,sortingFn:h.getSortingFn()})});const c=d=>{const h=d.map(m=>({...m}));return h.sort((m,g)=>{for(let b=0;b<i.length;b+=1){var v;const D=i[b],T=s[D.id],I=(v=D==null?void 0:D.desc)!=null?v:!1;let O=0;if(T.sortUndefined){const N=m.getValue(D.id),B=g.getValue(D.id),P=N===void 0,U=B===void 0;(P||U)&&(O=P&&U?0:P?T.sortUndefined:-T.sortUndefined)}if(O===0&&(O=T.sortingFn(m,g,D.id)),O!==0)return I&&(O*=-1),T.invertSorting&&(O*=-1),O}return m.index-g.index}),h.forEach(m=>{var g;o.push(m),(g=m.subRows)!=null&&g.length&&(m.subRows=c(m.subRows))}),h};return{rows:c(n.rows),flatRows:o,rowsById:n.rowsById}},Rt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function UK(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function YK(e){return t=>Lt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:i}=n;let{rows:s,flatRows:c,rowsById:d}=r;const h=o*i,m=h+o;s=s.slice(h,m);let g;t.options.paginateExpandedRows?g={rows:s,flatRows:c,rowsById:d}:g=UK({rows:s,flatRows:c,rowsById:d}),g.flatRows=[];const v=b=>{g.flatRows.push(b),b.subRows.length&&b.subRows.forEach(v)};return g.rows.forEach(v),g},Rt(t.options,"debugTable"))}function DT(e,t){return e?zK(e)?j.createElement(e,t):e:null}function zK(e){return VK(e)||typeof e=="function"||ZK(e)}function VK(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function ZK(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function WK(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=j.useState(()=>({current:AK(t)})),[r,o]=j.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:s=>{o(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const wM={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z"},$K=Object.keys(wM).join("|"),qK=new RegExp($K,"g");function GK(e){return e.replace(qK,t=>wM[t])}const ki={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function JK(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:ki.MATCHES,!n.accessors){const s=TT(e,t,n);return{rankedValue:e,rank:s,accessorIndex:-1,accessorThreshold:n.threshold,passed:s>=n.threshold}}const o=tQ(e,n.accessors),i={rankedValue:e,rank:ki.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let s=0;s<o.length;s++){const c=o[s];let d=TT(c.itemValue,t,n);const{minRanking:h,maxRanking:m,threshold:g=n.threshold}=c.attributes;d<h&&d>=ki.MATCHES?d=h:d>m&&(d=m),d=Math.min(d,m),d>=g&&d>i.rank&&(i.rank=d,i.passed=!0,i.accessorIndex=s,i.accessorThreshold=g,i.rankedValue=c.itemValue)}return i}function TT(e,t,n){return e=IT(e,n),t=IT(t,n),t.length>e.length?ki.NO_MATCH:e===t?ki.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?ki.EQUAL:e.startsWith(t)?ki.STARTS_WITH:e.includes(` ${t}`)?ki.WORD_STARTS_WITH:e.includes(t)?ki.CONTAINS:t.length===1?ki.NO_MATCH:KK(e).includes(t)?ki.ACRONYM:QK(e,t))}function KK(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(i=>{t+=i.substr(0,1)})}),t}function QK(e,t){let n=0,r=0;function o(d,h,m){for(let g=m,v=h.length;g<v;g++)if(h[g]===d)return n+=1,g+1;return-1}function i(d){const h=1/d,m=n/t.length;return ki.MATCHES+m*h}const s=o(t[0],e,0);if(s<0)return ki.NO_MATCH;r=s;for(let d=1,h=t.length;d<h;d++){const m=t[d];if(r=o(m,e,r),!(r>-1))return ki.NO_MATCH}const c=r-s;return i(c)}function XK(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function IT(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=GK(e)),e}function eQ(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function tQ(e,t){const n=[];for(let r=0,o=t.length;r<o;r++){const i=t[r],s=nQ(i),c=eQ(e,i);for(let d=0,h=c.length;d<h;d++)n.push({itemValue:c[d],attributes:s})}return n}const ET={maxRanking:1/0,minRanking:-1/0};function nQ(e){return typeof e=="function"?ET:{...ET,...e}}const rQ=({thino:e})=>{const t=j.useRef(null);j.useEffect(()=>(t.current&&C.setIcon(t.current,"pin"),()=>{t.current&&(t.current=null)}),[t]);const n=j.useCallback(async()=>{e.pinned?await _e.unpinMemoById(e.id):await _e.pinMemoById(e.id)},[e]);return y.jsx("span",{ref:t,className:Gn("pinned-status",e.pinned?"pinned":"not-pinned"),onClick:n})},oQ=({thino:e})=>{const t=j.useRef(null);j.useEffect(()=>(t.current&&C.setIcon(t.current,e.thinoType==="JOURNAL"?"calendar":"check-square"),()=>{t.current&&(t.current=null)}),[t,e==null?void 0:e.thinoType]);const n=j.useCallback(async()=>{if(e.thinoType==="JOURNAL")return;const r=await _e.updateMemo(e.id,e.content,e.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");r&&_e.editMemo(r)},[e]);return y.jsx(y.Fragment,{children:e.thinoType!=="JOURNAL"?y.jsx("input",{className:Gn("thino-type-status","task-list-item-checkbox"),type:"checkbox",checked:e.thinoType!=="TASK-TODO","data-task":e.thinoType==="TASK-TODO"?"":e.thinoType==="TASK-DONE"?"x":e.thinoType.slice(5),onClick:n}):y.jsx("span",{ref:t,className:"thino-type-status"})})},iQ=({id:e,path:t})=>{const n=j.useRef(null);j.useEffect(()=>(n.current&&C.setIcon(n.current,"link"),()=>{n.current&&(n.current=null)}),[]);const r=j.useCallback(()=>{!e||!t||_e.openThinoByID(e)},[e,t]);return y.jsxs("span",{className:"source-thino",onClick:r,children:[y.jsx("span",{children:t}),y.jsx("span",{ref:n,className:"source-thino-icon"})]})},aQ=({id:e,sourceType:t})=>{const n=j.useRef(null);j.useEffect(()=>{var o;return n.current&&C.setIcon(n.current,((o=gm.find(i=>i.title===t))==null?void 0:o.icon)||"list"),()=>{n.current&&(n.current=null)}},[]);const r=j.useCallback(async()=>{e&&await _e.openThinoByID(e)},[e]);return y.jsx("span",{ref:n,className:"source-type-icon",onClick:r})},xT=(e,t,n,r)=>{const o=JK(e.getValue(t),n);return r({itemRank:o}),o.passed},CT=(e,t,n)=>{var o,i;let r=0;return e.columnFiltersMeta[n]&&(r=XK((o=e.columnFiltersMeta[n])==null?void 0:o.itemRank,(i=t.columnFiltersMeta[n])==null?void 0:i.itemRank)),r===0?Qf.alphanumeric(e,t,n):r};function sQ({thinos:e}){var m;ie.useReducer(()=>({}),{})[1];const[t,n]=ie.useState([]),[r,o]=ie.useState(""),i=ie.useMemo(()=>[{header:x("Basic Info"),footer:g=>g.column.id,columns:[{accessorKey:"createdAt",header:()=>y.jsx("span",{className:"create-at-header-cell",children:x("Created At")}),cell:g=>g.getValue(),footer:g=>g.column.id,enableColumnFilter:!1},{accessorFn:g=>g.content,id:"content",header:()=>y.jsx("span",{className:"thino-header-cell",children:x("Thino")}),cell:g=>y.jsx(Oi,{memo:g.row.original,type:"table"}),footer:g=>g.column.id,filterFn:"fuzzy",sortingFn:CT},{accessorFn:g=>g.thinoType,id:"thinoType",cell:g=>y.jsx(oQ,{thino:g.row.original}),header:()=>y.jsx("span",{children:x("Thino Type")}),footer:g=>g.column.id},{accessorFn:g=>g.sourceType,id:"sourceType",cell:g=>y.jsx(aQ,{id:g.row.original.id,sourceType:g.getValue()}),header:()=>y.jsx("span",{children:x("Source Type")}),footer:g=>g.column.id}]},{header:x("Additional Info"),footer:g=>g.column.id,columns:[{accessorKey:"pinned",header:()=>y.jsx("span",{children:x("Pinned Status")}),cell:g=>y.jsx(rQ,{thino:g.row.original}),footer:g=>g.column.id,filterFn:"fuzzy",sortingFn:CT},{accessorKey:"rowStatus",header:()=>y.jsx("span",{children:x("Row status")}),cell:g=>y.jsx("span",{children:g.getValue()==="NORMAL"?"":g.getValue()}),footer:g=>g.column.id},{accessorKey:"path",header:()=>x("Path"),cell:g=>y.jsx(iQ,{id:g.row.original.id,path:g.getValue()}),footer:g=>g.column.id}]}],[]),[s,c]=ie.useState(()=>e),d=()=>c(g=>e);j.useEffect(()=>{d()},[e]);const h=WK({data:s,columns:i,filterFns:{fuzzy:xT},initialState:{pagination:{pageSize:20}},state:{columnFilters:t,globalFilter:r},onColumnFiltersChange:n,onGlobalFilterChange:o,globalFilterFn:xT,getCoreRowModel:OK(),getFilteredRowModel:LK(),getSortedRowModel:HK(),getPaginationRowModel:YK(),getFacetedRowModel:RK(),getFacetedUniqueValues:_K(),getFacetedMinMaxValues:BK(),debugTable:!1,debugHeaders:!1,debugColumns:!1});return ie.useEffect(()=>{var g,v;((g=h.getState().columnFilters[0])==null?void 0:g.id)==="createdAt"&&((v=h.getState().sorting[0])==null?void 0:v.id)!=="createdAt"&&h.setSorting([{id:"createdAt",desc:!1}])},[(m=h.getState().columnFilters[0])==null?void 0:m.id]),y.jsxs("div",{className:"table-view",children:[y.jsx("div",{children:y.jsx(Ky,{value:r||"",onChange:g=>o(String(g)),className:"table-search-bar",placeholder:x("Search all columns...")})}),y.jsxs("table",{className:"thino-table",children:[y.jsx("thead",{children:h.getHeaderGroups().map(g=>y.jsx("tr",{children:g.headers.map(v=>y.jsx("th",{colSpan:v.colSpan,children:v.isPlaceholder?null:y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:Gn(v.column.getCanSort()?"filter-header":"","table-header",v.column.id==="content"?"content-header":""),onClick:v.column.getToggleSortingHandler(),children:[DT(v.column.columnDef.header,v.getContext()),{asc:" 🔼",desc:" 🔽"}[v.column.getIsSorted()]??null]}),v.column.getCanFilter()?y.jsx(uQ,{column:v.column,table:h}):null]})},v.id))},g.id))}),y.jsx("tbody",{children:h.getRowModel().rows.map(g=>y.jsx("tr",{className:Gn(g.getValue("pinned")?"pinned":""),children:g.getVisibleCells().map(v=>y.jsx("td",{children:DT(v.column.columnDef.cell,v.getContext())},v.id))},g.id))})]}),y.jsxs("div",{className:"table-nav-bar",children:[y.jsx("button",{className:"prev-start-btn",onClick:()=>h.setPageIndex(0),disabled:!h.getCanPreviousPage(),children:"<<"}),y.jsx("button",{className:"prev-btn",onClick:()=>h.previousPage(),disabled:!h.getCanPreviousPage(),children:"<"}),y.jsx("button",{className:"next-btn",onClick:()=>h.nextPage(),disabled:!h.getCanNextPage(),children:">"}),y.jsx("button",{className:"next-end-btn",onClick:()=>h.setPageIndex(h.getPageCount()-1),disabled:!h.getCanNextPage(),children:">>"}),y.jsxs("span",{className:"table-page-info",children:[y.jsx("div",{children:x("Page")}),y.jsxs("strong",{children:[h.getState().pagination.pageIndex+1," of ",h.getPageCount()]})]}),y.jsxs("span",{className:"table-page-jump",children:["| ",x("Go to page"),":",y.jsx("input",{type:"number",defaultValue:h.getState().pagination.pageIndex+1,onChange:g=>{const v=g.target.value?Number(g.target.value)-1:0;h.setPageIndex(v)},className:"jump-inputer"})]}),y.jsx("select",{value:h.getState().pagination.pageSize,onChange:g=>{h.setPageSize(Number(g.target.value))},children:[10,20,30,40,50].map(g=>y.jsxs("option",{value:g,children:[x("Show")," ",g," ",x("rows")]},g))})]})]})}const lQ=e=>e==="sourceType"?["ALL"]:["ALL","ALL-TASK"];function uQ({column:e,table:t}){var i,s,c,d,h,m,g,v,b;const n=(i=t.getPreFilteredRowModel().flatRows[0])==null?void 0:i.getValue(e.id),r=e.getFilterValue(),o=ie.useMemo(()=>typeof n=="number"?[]:Array.from(e.getFacetedUniqueValues().keys()).sort(),[e.getFacetedUniqueValues()]);return typeof n=="number"?y.jsx("div",{children:y.jsxs("div",{className:"filter-input-group",children:[y.jsx(Ky,{type:"number",min:Number(((s=e.getFacetedMinMaxValues())==null?void 0:s[0])??""),max:Number(((c=e.getFacetedMinMaxValues())==null?void 0:c[1])??""),value:(r==null?void 0:r[0])??"",onChange:D=>e.setFilterValue(T=>[D,T==null?void 0:T[1]]),placeholder:`Min ${(d=e.getFacetedMinMaxValues())!=null&&d[0]?`(${(h=e.getFacetedMinMaxValues())==null?void 0:h[0]})`:""}`,className:"filter-input-short"}),y.jsx(Ky,{type:"number",min:Number(((m=e.getFacetedMinMaxValues())==null?void 0:m[0])??""),max:Number(((g=e.getFacetedMinMaxValues())==null?void 0:g[1])??""),value:(r==null?void 0:r[1])??"",onChange:D=>e.setFilterValue(T=>[T==null?void 0:T[0],D]),placeholder:`Max ${(v=e.getFacetedMinMaxValues())!=null&&v[1]?`(${(b=e.getFacetedMinMaxValues())==null?void 0:b[1]})`:""}`,className:"filter-input-short"})]})}):y.jsx(y.Fragment,{children:o.length>1?y.jsxs(y.Fragment,{children:[e.id!=="path"&&e.id!=="content"&&e.id!=="thinoType"&&e.id!=="sourceType"&&y.jsx("datalist",{id:e.id+"list",children:o.slice(0,5e3).map(D=>y.jsx("option",{value:D},D))}),e.id==="thinoType"||e.id==="sourceType"?y.jsx("select",{id:e.id,onChange:D=>e.setFilterValue(D.target.value==="ALL"?"":D.target.value==="ALL-TASK"?"TASK":D.target.value),children:[...lQ(e.id),...o].map(D=>y.jsx("option",{value:D,children:x(D)||D},D))}):"",e.id!=="thinoType"&&e.id!=="sourceType"?y.jsx(Ky,{type:"text",value:r??"",onChange:D=>e.setFilterValue(D),placeholder:`Search... (${e.getFacetedUniqueValues().size})`,className:"filter-input-long",list:e.id+"list"}):""]}):""})}function Ky({value:e,onChange:t,debounce:n=500,...r}){const[o,i]=ie.useState(e);return ie.useEffect(()=>{i(e)},[e]),ie.useEffect(()=>{const s=setTimeout(()=>{t(o)},n);return()=>clearTimeout(s)},[o]),y.jsx("input",{...r,value:o,onChange:s=>i(s.target.value)})}const cQ=e=>{const{locationState:{query:t},globalState:{memoListView:n,manifest:r},dailyNotesState:{app:o,settings:i}}=j.useContext(Pt),{thinos:s}=e,[c,d]=ie.useState(Fm(s,"day")),h=ie.useRef(null),m=j.useRef([]),g=j.useRef(0);j.useEffect(()=>{d(Fm(s,"day"))},[s]),j.useEffect(()=>{var N,B;const D=s.filter(P=>P.pinned),T=s.filter(P=>!P.pinned),I=m.current.filter(P=>P.pinned)[0],O=m.current.filter(P=>!P.pinned)[0];if(I&&I.id!==((N=D[0])==null?void 0:N.id)||O&&O.id!==((B=T[0])==null?void 0:B.id)){const P=h.current.closest(".memolist-wrapper");P.scrollTop=P.scrollHeight}else{const P=h.current.closest(".memolist-wrapper");P.scrollTop=P.scrollHeight-g.current,m.current=s}},[s]),j.useEffect(()=>{if(!h.current)return;const D=h.current.closest(".memolist-wrapper");D.scrollTop=D.scrollHeight},[t]),j.useEffect(()=>{if(n==="chat"&&h.current){const D=h.current.closest(".memolist-wrapper");D.scrollTop=D.scrollHeight,g.current=D.scrollHeight-D.scrollTop,m.current=s,D.onscrollend=()=>{g.current=D.scrollHeight-D.scrollTop}}},[h.current]);const v=j.useCallback(()=>{o.setting.open(),o.setting.openTabById(r.id||"obsidian-memos")},[o]),b=j.useMemo(()=>y.jsx(y.Fragment,{children:Object.keys(c).map((D,T)=>y.jsx(y.Fragment,{children:y.jsx(dQ,{thinos:c[D],dayMark:D,handleOpenSettings:v},D+T)}))}),[c]);return y.jsx("div",{ref:h,className:Gn("chat-view",`${i==null?void 0:i.chatViewStyle}-style`),children:b})},dQ=({thinos:e,dayMark:t,handleOpenSettings:n})=>{const{dailyNotesState:{settings:r,app:o}}=j.useContext(Pt),[i,s]=ie.useState(!0),c=ie.useRef(null),[d,h]=ie.useState(r==null?void 0:r.MomentsIcon);j.useEffect(()=>{if(!(r!=null&&r.MomentsIcon)||!o)return;const b=o.vault.adapter.getResourcePath(C.normalizePath(r.MomentsIcon));b&&!(r!=null&&r.MomentsIcon.startsWith("http"))?h(b):h(r==null?void 0:r.MomentsIcon)},[r==null?void 0:r.MomentsIcon]);const m=b=>{if(C.Keymap.isModifier(b.nativeEvent,"Mod")){const D=C.moment(t,"YYYY-MM-DD");ot.setFromAndToQuery(D.startOf("day").valueOf(),D.endOf("day").valueOf());return}s(!i),c.current.scrollIntoView(!0)},g=b=>{Th(b)},v=j.useMemo(()=>e.map((b,D)=>y.jsxs("div",{className:"thino-bubble right",children:[y.jsx(fQ,{icon:d,handleOpenSettings:n}),y.jsx("div",{className:"wrap",children:y.jsx(hQ,{thino:b,handleClickTimeStamp:g},`${b.id}-${C.moment(b.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${D}`)})]},b.id+D)),[e,d]);return y.jsxs(y.Fragment,{children:[i&&v,y.jsx("div",{className:`thino-chat-day-mark day-mark ${i?"":"folded"}`,onClick:m,children:y.jsx("div",{className:"day-mark-bubble",children:(t==="PINNED"?t+" 📌":t)+(i?"":"...")})})]})},fQ=({icon:e,handleOpenSettings:t})=>y.jsx("div",{ref:n=>{if(e){n==null||n.empty();return}e||n&&C.setIcon(n,"Memos")},className:"icon-img",style:{backgroundImage:`url("${e}")`}}),hQ=({thino:e,handleClickTimeStamp:t})=>{const n=j.useCallback(async()=>{if(e.thinoType==="JOURNAL")return;const i=await _e.updateMemo(e.id,e.content,e.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");i&&_e.editMemo(i)},[e]),r=j.useMemo(()=>y.jsxs("div",{className:"content",children:[y.jsx("div",{className:"time-stamp","data-date":C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),"data-time":C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss"),onClick:()=>{t(e)},children:C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss")}),y.jsx(Oi,{memo:e})]}),[e.content]),o=j.useMemo(()=>y.jsxs("div",{className:"content task",children:[y.jsx("div",{className:"task-inputer",children:y.jsx("input",{className:Gn("thino-type-status","task-list-item-checkbox"),type:"checkbox",checked:e.thinoType!=="TASK-TODO","data-task":e.thinoType==="TASK-TODO"?"":e.thinoType==="TASK-DONE"?"x":e.thinoType.slice(5),onClick:n})}),y.jsx("div",{className:"time-stamp","data-date":C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),"data-time":C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss"),onClick:()=>{t(e)},children:C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss")}),y.jsx(Oi,{memo:e})]}),[e.content,e.thinoType]);return e.thinoType==="JOURNAL"?r:o};function pQ(e){const t=e.filter(r=>r.pinned),n=e.filter(r=>!r.pinned);return[...t,...n]}function Fm(e,t){const n={},r={day:"YYYY-MM-DD ddd",week:"YYYY-[W]WW",month:"YYYY-MM",quarter:"YYYY-[Q]1",year:"YYYY"};for(const o of e){const i=C.moment(o.createdAt,"YYYY/MM/DD HH:mm:ss").format(r[t]);if(o.pinned){n.PINNED||(n.PINNED=[]),n.PINNED.push(o);continue}n[i]||(n[i]=[]),n[i].push(o)}return n}function ky(e){const{tag:t,duration:n,type:r,text:o,filter:i}=e,s=Qt.getQueryById(i);return!(!!(t||n&&n.from<n.to||r||o||s)||s)}const mQ=({tempMemos:e,query:t,HideDoneTasks:n})=>{const r=e.filter(g=>g.rowStatus!=="ARCHIVED"&&!(g.deletedAt!==""&&g.deletedAt)),{tag:o,duration:i,type:s,text:c,filter:d}=t,h=Qt.getQueryById(d);return!!(o||i&&i.from<i.to||s||c||h)||h||n?r.filter(g=>{let v=!0;if(g.thinoType!==void 0&&n&&g.thinoType==="TASK-DONE"&&(v=!1),g.content.contains("comment:")&&(v=!1),h){const b=JSON.parse(h.querystring);Array.isArray(b)&&(v=Dh(g,b))}if(o){const b=new Set;for(const D of Array.from(g.content.match(yr)||[])){const I=D.replace(yr,"$1").trim().split("/");let O="";for(const N of I)O+=N,b.add(O),O+="/"}for(const D of Array.from(g.content.match(Pr)||[])){const I=D.replace(Pr,"$1").trim().split("/");let O="";for(const N of I)O+=N,b.add(O),O+="/"}for(const D of Array.from(g.content.match(so)||[])){const I=D.replace(so,"$2").trim().split("/");let O="";for(const N of I)O+=N,b.add(O),O+="/"}b.has(o)||(v=!1)}return i&&i.from<i.to&&(at.getTimeStampByDate(g.createdAt)<i.from||at.getTimeStampByDate(g.createdAt)>i.to)&&(v=!1),s&&(s==="NOT_TAGGED"&&(g.content.match(yr)!==null||g.content.match(so)!==null||g.content.match(Pr)!==null)||s==="LINKED"&&g.content.match(Id)===null||s==="IMAGED"&&g.content.match(Ed)===null||s==="CONNECTED"&&g.content.match(sc)===null)&&(v=!1),c&&!g.content.toLowerCase().includes(c.toLowerCase())&&(v=!1),v}):r.filter(g=>!g.content.contains("comment:"))},gQ=({updateThinos:e})=>{var ee;const{locationState:{query:t},memoState:{memos:n},globalState:{memoListView:r},dailyNotesState:{app:o,settings:i,verifyState:s,plugin:c}}=j.useContext(Pt),[d,h]=j.useState(!1),[m,g]=j.useState(!1),[v,b,D]=ri([]),[T,I]=j.useState([]),[O,N]=j.useState({}),[B,P]=j.useState((ee=window.app||o)==null?void 0:ee.loadLocalStorage("thinoListView")),[U,L]=j.useState((o==null?void 0:o.loadLocalStorage("showDayMark"))||!1),[z,V]=j.useState((o==null?void 0:o.loadLocalStorage("dayMarkRange"))||"day"),[Z,$,oe]=ri([]),te=j.useRef(0),ye=j.useRef(!1),ge=j.useRef(null),ce=j.useRef(null),Q=j.useRef(null),ue=j.useRef(null),se=j.useRef(!1);j.useEffect(()=>{P(r),o&&o.saveLocalStorage("thinoListView",r),b(Z.slice(0,v.length>20?Math.min(v.length,40):40))},[r]),j.useEffect(()=>()=>{ce.current&&(ce.current=null),Q.current&&(Q.current=null),ue.current&&(ue.current=null)},[]),j.useLayoutEffect(()=>{if((n.length!==0||!o)&&se.current===!0)return;const fe=yQ(o);!fe||fe.length===0||($(fe),I(fe),L((o==null?void 0:o.loadLocalStorage("showDayMark"))||!1),o!=null&&o.loadLocalStorage("showDayMark")&&N(Fm(fe,(o==null?void 0:o.loadLocalStorage("dayMarkRange"))||"day")))},[o]),j.useEffect(()=>{if(n.length===0&&!_e.initialized)return;h(!1);const fe=pQ(n),xe=mQ({tempMemos:fe,query:t,HideDoneTasks:(i==null?void 0:i.HideDoneTasks)||!1});return se.current=!0,e&&e(xe),$(xe),()=>{se.current=!1}},[n,t,i==null?void 0:i.HideDoneTasks]),j.useEffect(()=>{b(Z.slice(0,v.length>20?Math.min(v.length,40):40))},[Z]),j.useEffect(()=>{var fe;v.length<40&&((fe=Q.current)==null||fe.click())},[Z]),j.useEffect(()=>{(ky(t)&&v.length<Z.length||v.length<Z.length&&!ky(t))&&g(!1),(ky(t)&&v.length===n.length&&n.length>0||!ky(t)&&v.length===Z.length&&Z.length>0)&&g(!0),vQ(v||[],o),I(v),o==null||o.saveLocalStorage("showDayMark",i==null?void 0:i.showDayMark),o==null||o.saveLocalStorage("dayMarkRange",i==null?void 0:i.dayMarkRange),L((i==null?void 0:i.showDayMark)||!1),V((i==null?void 0:i.dayMarkRange)||"day"),i!=null&&i.showDayMark&&N(Fm(v,i==null?void 0:i.dayMarkRange))},[v,i==null?void 0:i.showDayMark,i==null?void 0:i.dayMarkRange]),j.useEffect(()=>{if(!ce.current)return;const fe=async()=>{ye.current||(te.current++,await we(),te.current>=1&&(ye.current=!0,setTimeout(()=>{te.current=0,ye.current=!1},3e3)))};v.length<40&&fe();const xe=new IntersectionObserver(([je])=>{if(je.isIntersecting){if(m)return;fe()}else te.current=0,ye.current=!1});return ce!=null&&ce.current&&xe.observe(ce.current),()=>{ce!=null&&ce.current&&xe.unobserve(ce.current)}},[d,m,ce.current]),j.useEffect(()=>{var fe;(fe=ue.current)==null||fe.scrollTo({top:0})},[t]);const we=async()=>{try{if(oe.current.length>D.current.length){h(!0);const fe=Math.min(D.current.length+40,oe.current.length)-D.current.length,xe=oe.current.slice(D.current.length,D.current.length+fe);b(je=>[...je,...xe]),h(!1),g(xe.length<40)}}catch(fe){console.error(fe),new C.Notice(fe.response.data.message)}},J=j.useMemo(()=>y.jsx("div",{ref:ce,className:Gn("status-text-container",B==="calendar"||B==="table"?"hidden":""),children:y.jsx("p",{className:"status-text",children:d?x("Fetching data..."):m?Z.length===0?x("Noooop!"):x("All Data is Loaded 🎉"):y.jsx(y.Fragment,{children:y.jsx("span",{ref:Q,className:"cursor-pointer hover:text-green-600",onClick:we,children:x("fetch more")})})})}),[B,we,Z,d,m,ce]);return y.jsxs("div",{className:`memolist-wrapper ${m?"completed":""}`,ref:ue,children:[B==="chat"&&J,y.jsxs("div",{ref:ge,className:"memolist-container",children:[B==="chat"&&y.jsx(cQ,{thinos:T}),B==="calendar"&&y.jsx(XJ,{thinos:Z}),B==="table"&&y.jsx(sQ,{thinos:Z}),B==="moments"&&y.jsx(bQ,{thinos:T}),B==="list"&&y.jsx(dv,{breakpointCols:1,className:`${B}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:U?y.jsx(y.Fragment,{children:Object.keys(O).map(fe=>y.jsx(v1,{type:"list",thinos:O[fe],dayMark:fe,dayMarkRange:z},fe))}):T.map((fe,xe)=>y.jsx(Oi,{memo:fe},`${fe.id}-${C.moment(fe.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${xe}`))}),B==="waterfall"&&y.jsx(y.Fragment,{children:U&&Object.keys(O).length>0?Object.keys(O).map(fe=>y.jsx(v1,{type:"waterfall",thinos:O[fe],dayMark:fe,dayMarkRange:z},fe)):y.jsx(dv,{breakpointCols:3,className:`${B}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:T.map((fe,xe)=>y.jsx(Oi,{memo:fe},`${fe.id}-${C.moment(fe.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${xe}`))})})]}),B!=="chat"&&J]})};function bM(e){return`memosListCache:${e}`}function yQ(e){var t;try{const n=bM(e==null?void 0:e.appId),r=Vr.get([n])[n];return r?((t=JSON.parse(r))==null?void 0:t.memos)||[]:[]}catch(n){return console.error(n),[]}}function vQ(e,t){try{if(!e)return;const n=e==null?void 0:e.slice(0,100),r=bM(t==null?void 0:t.appId);Vr.set({[r]:JSON.stringify({memos:n})})}catch(n){console.error(n)}}const wQ=({userIcon:e})=>y.jsx("div",{className:"moments-view-user-icon",ref:t=>{if(e){t==null||t.empty();return}e||t&&C.setIcon(t,"Memos")},style:{backgroundImage:`url("${e}")`}}),R1="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHZpZXdCb3g9IjAgMCAxNDQwIDU2MCI+PGcgbWFzaz0idXJsKCZxdW90OyNTdmdqc01hc2sxMDgwJnF1b3Q7KSIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjE0NDAiIGhlaWdodD0iNTYwIiB4PSIwIiB5PSIwIiBmaWxsPSIjMGUyYTQ3Ij48L3JlY3Q+PHVzZSB4bGluazpocmVmPSIjU3ZnanNTeW1ib2wxMDg3IiB4PSIwIiB5PSIwIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1N5bWJvbDEwODciIHg9IjcyMCIgeT0iMCI+PC91c2U+PC9nPjxkZWZzPjxtYXNrIGlkPSJTdmdqc01hc2sxMDgwIj48cmVjdCB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48L21hc2s+PHBhdGggZD0iTS0xIDAgYTEgMSAwIDEgMCAyIDAgYTEgMSAwIDEgMCAtMiAweiIgaWQ9IlN2Z2pzUGF0aDEwODIiPjwvcGF0aD48cGF0aCBkPSJNLTMgMCBhMyAzIDAgMSAwIDYgMCBhMyAzIDAgMSAwIC02IDB6IiBpZD0iU3ZnanNQYXRoMTA4NiI+PC9wYXRoPjxwYXRoIGQ9Ik0tNSAwIGE1IDUgMCAxIDAgMTAgMCBhNSA1IDAgMSAwIC0xMCAweiIgaWQ9IlN2Z2pzUGF0aDEwODMiPjwvcGF0aD48cGF0aCBkPSJNMiAtMiBMLTIgMnoiIGlkPSJTdmdqc1BhdGgxMDg0Ij48L3BhdGg+PHBhdGggZD0iTTYgLTYgTC02IDZ6IiBpZD0iU3ZnanNQYXRoMTA4MSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMCAtMzAgTC0zMCAzMHoiIGlkPSJTdmdqc1BhdGgxMDg1Ij48L3BhdGg+PC9kZWZzPjxzeW1ib2wgaWQ9IlN2Z2pzU3ltYm9sMTA4NyI+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSI5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI5MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iOTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iOTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjkwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjE1MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMTUwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjIxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjIxMCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIyMTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjIxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIyMTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMjEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyMTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyMTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMjcwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMjcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMjcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjI3MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjMzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjMzMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMzMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjM5MCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzOTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzkwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjM5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzOTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjM5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIzOTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzOTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iNDUwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI0NTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjQ1MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iNDUwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjQ1MCIgeT0iNDUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI0NTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1MTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1MTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjUxMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjU3MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI1NzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNTcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjU3MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjU3MCIgeT0iNTEwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjYzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2MzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNjMwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjYzMCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNjMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iNTEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2MzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjY5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjY5MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI2OTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjY5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNjkwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjY5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNjkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2OTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjY5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48L3N5bWJvbD48L3N2Zz4=",Qy="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHZpZXdCb3g9IjAgMCAxNDQwIDU2MCI+PGcgbWFzaz0idXJsKCZxdW90OyNTdmdqc01hc2sxMDgwJnF1b3Q7KSIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjE0NDAiIGhlaWdodD0iNTYwIiB4PSIwIiB5PSIwIiBmaWxsPSJyZ2JhKDIzMSwgMjM4LCAyNDUsIDEpIj48L3JlY3Q+PHVzZSB4bGluazpocmVmPSIjU3ZnanNTeW1ib2wxMDg3IiB4PSIwIiB5PSIwIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1N5bWJvbDEwODciIHg9IjcyMCIgeT0iMCI+PC91c2U+PC9nPjxkZWZzPjxtYXNrIGlkPSJTdmdqc01hc2sxMDgwIj48cmVjdCB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48L21hc2s+PHBhdGggZD0iTS0xIDAgYTEgMSAwIDEgMCAyIDAgYTEgMSAwIDEgMCAtMiAweiIgaWQ9IlN2Z2pzUGF0aDEwODUiPjwvcGF0aD48cGF0aCBkPSJNLTMgMCBhMyAzIDAgMSAwIDYgMCBhMyAzIDAgMSAwIC02IDB6IiBpZD0iU3ZnanNQYXRoMTA4MyI+PC9wYXRoPjxwYXRoIGQ9Ik0tNSAwIGE1IDUgMCAxIDAgMTAgMCBhNSA1IDAgMSAwIC0xMCAweiIgaWQ9IlN2Z2pzUGF0aDEwODYiPjwvcGF0aD48cGF0aCBkPSJNMiAtMiBMLTIgMnoiIGlkPSJTdmdqc1BhdGgxMDg0Ij48L3BhdGg+PHBhdGggZD0iTTYgLTYgTC02IDZ6IiBpZD0iU3ZnanNQYXRoMTA4MSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMCAtMzAgTC0zMCAzMHoiIGlkPSJTdmdqc1BhdGgxMDgyIj48L3BhdGg+PC9kZWZzPjxzeW1ib2wgaWQ9IlN2Z2pzU3ltYm9sMTA4NyI+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjMwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIzMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iOTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI5MCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjkwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iOTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iOTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMTUwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIxNTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIxNTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIxNTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIxNTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjE1MCIgeT0iNTEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMjEwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIyMTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjIxMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMjEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMjEwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyMTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyMTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIyMTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyNzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjI3MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMjcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyNzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjMzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzMwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMzMwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMzkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIzOTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjM5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjM5MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjM5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzkwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzkwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNDUwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSI0NTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNDUwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNDUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI1MTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjUxMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTEwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTEwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTEwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTEwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1NzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjU3MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTcwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTcwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI1NzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI1NzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjYzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjY5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2OTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2OTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2OTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2OTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48L3N5bWJvbD48L3N2Zz4=",bQ=e=>{const{globalState:{memoListView:t,markMemoId:n,manifest:r,editMemoId:o},dailyNotesState:{app:i,settings:s}}=j.useContext(Pt),{thinos:c}=e,d=ie.useRef(null),h=ie.useRef(null),[m,g]=ie.useState(!1),[v,b]=j.useState({}),[D,T]=j.useState((i==null?void 0:i.loadLocalStorage("dayMarkRange"))||"day"),[I,O]=ie.useState(s==null?void 0:s.MomentsIcon);j.useEffect(()=>{if(!(s!=null&&s.MomentsIcon)||!i)return;const B=i.vault.adapter.getResourcePath(C.normalizePath(s.MomentsIcon));B&&!(s!=null&&s.MomentsIcon.startsWith("http"))?O(B):O(s==null?void 0:s.MomentsIcon)},[s==null?void 0:s.MomentsIcon,i]),j.useEffect(()=>{s!=null&&s.showDayMark&&b(Fm(c,(i==null?void 0:i.loadLocalStorage("dayMarkRange"))||"day"))},[c]),j.useEffect(()=>{d.current.closest(".workspace-window")&&g(!0)},[d.current]),j.useEffect(()=>{n&&g(!0)},[n]),j.useEffect(()=>{o?(g(!0),setTimeout(()=>{i.workspace.trigger("focus-on-textarea")},200)):g(!1)},[o]),j.useEffect(()=>{h.current&&(!m&&C.setIcon(h.current,"camera"),m&&C.setIcon(h.current,"camera-off"))},[h.current,m]);const N=j.useCallback(()=>{i.setting.open(),i.setting.openTabById(r.id||"obsidian-memos")},[i]);return y.jsxs("div",{ref:d,className:Gn("moments-view",m?"show-editor":""),children:[y.jsxs("div",{className:"moments-view-background-wrapper",children:[y.jsx(SQ,{}),y.jsx("div",{ref:h,className:"moments-show-editor-btn",onClick:()=>{(m||o)&&g(!m),!m&&!o&&new Nx(i).open()}}),y.jsxs("div",{className:"moments-view-background-overlay",children:[y.jsxs("div",{className:"moments-view-user-info",children:[y.jsx("div",{className:"moments-view-user-name",children:s==null?void 0:s.UserName}),y.jsx(wQ,{userIcon:I})]}),y.jsx("div",{className:"moments-view-user-idea",children:s.MomentsQuote||" "})]})]}),s!=null&&s.showDayMark?v&&Object.keys(v).length>0&&Object.keys(v).map((B,P)=>y.jsx(v1,{type:"list",thinos:v[B],dayMark:B,dayMarkRange:D,thinoWrapper:U=>y.jsx(MT,{thino:U.thino,handleOpenSettings:N},U.thino.createdAt+P)},B)):c.map((B,P)=>y.jsx(MT,{thino:B,handleOpenSettings:N},B.createdAt+P))]})},SQ=()=>{const{dailyNotesState:{app:e,view:t,settings:n}}=j.useContext(Pt),[r,o]=j.useState((n==null?void 0:n.MomentsBackgroundImage)||Qy);return j.useEffect(()=>{if(!(n!=null&&n.MomentsBackgroundImage)||!e){o(document.body.hasClass("theme-dark")?R1:Qy);return}const i=e.vault.adapter.getResourcePath(C.normalizePath(n.MomentsBackgroundImage));i&&!(n!=null&&n.MomentsBackgroundImage.startsWith("http"))?o(i):o(n==null?void 0:n.MomentsBackgroundImage)},[n==null?void 0:n.MomentsBackgroundImage,e]),j.useEffect(()=>{t&&t.registerEvent(t.app.workspace.on("css-change",()=>{o(document.body.hasClass("theme-dark")&&!(n!=null&&n.MomentsBackgroundImage)?R1:!document.body.hasClass("theme-dark")&&!(n!=null&&n.MomentsBackgroundImage)?Qy:n==null?void 0:n.MomentsBackgroundImage)}))},[t]),y.jsx("div",{className:"moments-view-background",style:{backgroundImage:`url("${r}")`}})},DQ=e=>{const{icon:t}=e,n=j.useCallback(()=>{app.setting.open(),app.setting.openTabById(manifest.id||"obsidian-memos")},[]);return y.jsx("div",{className:"thino-moment-icon",ref:r=>{if(t){r==null||r.empty();return}t||r&&C.setIcon(r,"Memos")},style:{backgroundImage:`url("${t}")`},onClick:n})},MT=e=>{const{dailyNotesState:{settings:t,app:n}}=j.useContext(Pt),r=j.useRef(null),o=j.useRef(null),{thino:i}=e,[s,c]=j.useState("");return j.useEffect(()=>{if(!(t!=null&&t.MomentsIcon)||!n)return;const d=n.vault.adapter.getResourcePath(C.normalizePath(t.MomentsIcon));d&&!(t!=null&&t.MomentsIcon.startsWith("http"))?c(d):c(t==null?void 0:t.MomentsIcon)},[t==null?void 0:t.MomentsIcon,n]),j.useEffect(()=>{r.current&&C.setIcon(r.current,"more-horizontal")},[r.current]),y.jsxs("div",{className:"thino-moment-wrapper",children:[y.jsx(DQ,{icon:s}),y.jsxs("div",{ref:o,className:"thino-moment-container",children:[y.jsx("div",{className:"thino-moment-user-name",children:t==null?void 0:t.UserName}),y.jsx("div",{className:"thino-moment-user-content",children:y.jsx(Oi,{memo:i})})]})]})},TQ='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="1146.31828" height="801.00361" viewBox="0 0 1146.31828 801.00361" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M1050.69918,514.5082a456.24913,456.24913,0,0,1-37.38013-261.87c3.6001-23.1,9.44006-46.85,24.43018-64.79,14.38989-17.23,39.34985-27.37,60.0299-19.29-13.56994-29.61-47.76-46.5-80.59-47.33-34.09-.86-66.92,12.5-97.25,28.1-30.33,15.6-59.65,33.81006-92.21,43.99-53.5,16.72-111.91,10.34-165.5-6.09-53.58-16.44-103.62-42.47-154.62-65.71-51.01-23.24-104.17-44.03-160.01-48.91-55.84-4.87-115.25,7.89-157.24,45.01s-61.87,101.28-38.27,152.11c14.25,30.7,42.22,54.32,52.04,86.7,12.32,40.65-7.08,83.96-30.41,119.45-23.34,35.49-51.8,69.58-60.47,111.16-8.01,38.38,2.72,78.02,24.05,111.38a197.34468,197.34468,0,0,0,35.74,41.61c43.09,37.91,98.77,58.15,154.17,73.13,200.27,54.17,416.13,49.29,613.75-13.88,34.99-11.18,69.95-24.43,99.32-46.48,19.16-14.38,35.83-33.02,46.39-54.35a114.10574,114.10574,0,0,0,11.13-36.18005C1104.43917,610.17819,1072.9692,562.05819,1050.69918,514.5082Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><g opacity="0.17"><path d="M890.75032,246.45145c9.64171-4.20394-9.91163-6.65119-32.09585-7.45582s-49.02061-.76011-63.19756-3.04875c-13.71114-2.21343-12.7009-6.14907-13.85427-9.71489s-6.42446-7.222-27.81928-8.0147c-26.6607-.98774-70.62581,2.81434-90.75171.53173-18.78121-2.13011-7.61723-8.81182-35.00344-9.06755-15.63837-.146-35.7849,2.05682-53.18577,2.58844-16.33647.49909-28.42216-.53441-36.90357-1.924s-14.38875-3.15126-23.93413-4.37864c-25.06068-3.2224-74.09133-2.13925-117.853,1.99071s-81.27344,10.89816-102.42889,17.60175-27.00029,13.30376-22.07239,18.90071c3.14674,3.574,11.19915,6.91585,30.73235,8.352,36.53555,2.68621,101.58387-1.9375,139.33713.50645,21.0415,1.36213,30.3764,4.73924,48.83812,6.58716,19.83407,1.98528,48.86935,2.09051,77.39656,2.04341,59.39721-.09807,120.3137-.70829,182.42994-1.82747,25.94486-.46745,53.13-1.0752,80.73761-3.30289s55.76623-6.52591,61.59076-10.5553" transform="translate(-26.84086 -49.49819)" fill="#fff"/></g><path d="M1099.25911,172.04818c-.46-1.18-.96-2.35-1.48-3.49.84.33,1.68006.69,2.51,1.08Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><path d="M648.74482,314.5843c-7.66935-12.68445-16.75721-26.22767-30.98955-30.36953-16.482-4.7965-33.41319,4.73193-47.77473,14.13453a1392.15692,1392.15692,0,0,0-123.89338,91.28311l.04331.49239q46.22556-3.18781,92.451-6.37555c22.26532-1.53546,45.29557-3.2827,64.97195-13.8156,7.46652-3.99683,14.74475-9.33579,23.20555-9.70782,10.51175-.46217,19.67733,6.87923,26.8802,14.54931,42.60732,45.371,54.937,114.7541,102.73817,154.61592A1516.99458,1516.99458,0,0,0,648.74482,314.5843Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M910.64576,699.4127c-4.71168-5.94958-6.63691-7.343-11.28457-13.34761Q842.5968,612.64872,792.65327,534.27272q-33.92353-53.23005-64.48275-108.50439-14.54863-26.27808-28.29961-52.96872-10.67043-20.6952-20.8646-41.63793c-1.94357-3.98781-3.83209-7.99393-5.71122-12.00922-4.42788-9.44232-8.7734-18.93047-13.43942-28.24449-5.31687-10.61571-11.78905-21.74485-21.55259-28.877a29.4049,29.4049,0,0,0-15.31855-5.89457c-7.948-.51337-15.28185,2.76854-22.17569,6.35294-50.43858,26.301-97.65921,59.27589-140.36959,96.79771A730.77781,730.77781,0,0,0,346.39748,485.87843c-1.008,1.43927-3.39163.06418-2.37419-1.38422q6.00935-8.49818,12.25681-16.81288A734.81742,734.81742,0,0,1,543.87972,292.6956q18.24825-11.82579,37.18269-22.54245c6.36206-3.60275,12.75188-7.15967,19.25136-10.49653,6.37147-3.27274,13.13684-6.21547,20.41563-6.32547,24.77011-.385,37.5954,27.667,46.40506,46.54248q4.15283,8.9106,8.40636,17.76626,16.07481,33.62106,33.38729,66.628,10.68453,20.379,21.83683,40.51955,34.7071,62.71816,73.77854,122.897c34.5059,53.1429,68.73651,100.08874,108.04586,149.78473C913.67124,698.84433,911.73706,700.80615,910.64576,699.4127Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M457.9912,345.4352c-1.43911-1.60428-2.86926-3.20856-4.31777-4.81284-11.42244-12.63259-23.6788-25.11847-39.3644-32.36067a57.11021,57.11021,0,0,0-23.92678-5.54622c-8.56213.02753-16.93178,2.27348-24.84307,5.41792-3.74034,1.49428-7.39831,3.19021-11.00078,4.99614-4.11634,2.07182-8.15927,4.28118-12.1834,6.50883q-11.33112,6.27044-22.36816,13.0909-21.9606,13.5722-42.54565,29.21623-10.67111,8.11311-20.90175,16.75788-9.51557,8.03052-18.64618,16.492c-1.30168,1.20091-3.24526-.74255-1.94358-1.94347,1.60428-1.49428,3.22692-2.97938,4.84955-4.44612q6.87549-6.21547,13.9712-12.19258,12.93921-10.91827,26.54851-20.99312,21.16295-15.67614,43.78289-29.2254,11.3036-6.76547,22.91829-12.9626c2.33793-1.24674,4.70317-2.466,7.09571-3.6211a113.11435,113.11435,0,0,1,16.86778-6.86631,60.00626,60.00626,0,0,1,25.476-2.50266,66.32725,66.32725,0,0,1,23.50512,8.1314c15.40091,8.60812,27.34573,21.919,38.97005,34.90916C461.10844,344.80265,459.17382,346.75529,457.9912,345.4352Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M773.55166,476.34216l36.90462-13.498,18.32327-6.70182c5.96758-2.18267,11.92082-4.66747,18.08989-6.23037a28.53868,28.53868,0,0,1,16.37355.20862,37.73731,37.73731,0,0,1,12.771,7.91667,103.63871,103.63871,0,0,1,10.47488,11.18642c3.98932,4.79426,7.9197,9.63878,11.86772,14.46706q24.44135,29.89093,48.56306,60.04134,24.12118,30.14991,47.91981,60.556,23.85681,30.48042,47.38548,61.21573,2.8823,3.76519,5.75967,7.53415c1.0598,1.38809,3.44948.01962,2.37471-1.38807q-23.70225-31.04441-47.73491-61.83464-24.09177-30.86383-48.51646-61.46586-24.42423-30.60142-49.17854-60.93744-6.167-7.5576-12.35444-15.09858c-3.47954-4.24072-6.91984-8.52718-10.73629-12.47426-7.00538-7.24516-15.75772-13.64794-26.23437-13.82167-6.15972-.10214-12.121,1.85248-17.844,3.92288-6.16967,2.232-12.32455,4.50571-18.48632,6.7594L782.11123,470.2921l-9.29068,3.39811c-1.64874.603-.9365,3.26189.73111,2.65195Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M409.45248,324.15733c-18.75411-9.63866-42.77137-7.75087-60.00507,4.29119A855.84532,855.84532,0,0,1,446.818,351.17434C433.53537,343.3904,423.14521,331.19475,409.45248,324.15733Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M349.26282,328.41534,345.6524,331.35c1.22123-1.02713,2.4908-1.99013,3.795-2.90144C349.3858,328.43789,349.32442,328.426,349.26282,328.41534Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M874.62436,476.477c-3.63279-4.42206-7.56046-9.05222-12.99421-10.84836l-5.07308.20009a575.43629,575.43629,0,0,0,153.26729,175.22056Q942.22437,558.76317,874.62436,476.477Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M1086.66915,698.4482c-10.56006,21.33-27.23,39.97-46.39,54.35-29.37,22.05-64.33,35.3-99.32,46.48-197.62,63.17-413.48,68.05-613.75,13.88-55.4-14.98-111.08-35.22-154.17-73.13a197.34468,197.34468,0,0,1-35.74-41.61c57.35-31.52,126.86-43.4,193.19-41.95,95.09,2.08,187.96,27.46,282.16,40.59a1102.669,1102.669,0,0,0,334.04-4.6c38.31994-6.43,77.98-14.84,115.49-4.66A95.14954,95.14954,0,0,1,1086.66915,698.4482Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><circle cx="179.31828" cy="51" r="51" fill="#ccc"/><path d="M362.30892,97.84042C348.81185,83.6816,333.13643,70.765,314.57961,63.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557A64.90832,64.90832,0,0,1,232.6863,78.8348a74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46711,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,361.647,100.3475,1.5139,1.5139,0,0,0,362.30892,97.84042Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><path d="M208.57961,131.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557,64.90832,64.90832,0,0,1-22.05231,8.22681,74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46712,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,255.647,168.3475a1.5139,1.5139,0,0,0,.66193-2.50708C242.81185,151.6816,227.13643,138.765,208.57961,131.93948Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><polygon points="1047.411 588.142 1074.576 567.518 1087.816 580.759 1043.563 611.042 1047.411 588.142" fill="#2f2e41"/><path d="M1048.91635,694.42781H955.99269l3.25907-10.55987,0,0c20.1993-7.31227,8.85333-23.02957,28.06751-32.63666,46.9968-23.4984,65.19118-93.62006,58.30932-121.33935l30.798-1.30221S1118.95877,649.37476,1048.91635,694.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M1128.24653,644.78888a15.61893,15.61893,0,0,1-20.18272.37759l-.0604-.04961-.00207-.07767a14.96483,14.96483,0,0,0-.6-3.81936,10.69077,10.69077,0,0,1-.38818,2.64366l-.07784.28991-.20873-.21549c-.18027-.18589-.35474-.37472-.51859-.561a15.75088,15.75088,0,0,1-2.399-3.63269,45.91623,45.91623,0,0,0-12.74-15.87972,22.29237,22.29237,0,0,1-2.6727-2.57172,22.03415,22.03415,0,0,1,27.66955-33.56911l.13767.0806-.07148.1425a11.47756,11.47756,0,0,1-2.04788,2.954,14.96829,14.96829,0,0,0,3.15395-2.27865l.10006-.09436.11337.07818a22.12793,22.12793,0,0,1,4.0294,3.5867l.12844.14726a9.83643,9.83643,0,0,0,7.28375,3.36123,15.614,15.614,0,0,1,15.11947,18.29291l-.01769.10315-.10034.0304a13.39866,13.39866,0,0,1-5.45694.68088,15.22208,15.22208,0,0,0,4.86061,1.2174l.21654.01718-.06874.20619a15.6035,15.6035,0,0,1-4.50339,6.79l-.05928.05187-.06294.05509a15.3329,15.3329,0,0,0-5.297,10.64272A15.73345,15.73345,0,0,1,1128.24653,644.78888Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M1131.089,639.76934a15.57418,15.57418,0,0,1-.1756,1.67894,15.78521,15.78521,0,0,0,2.53772-7.82047c.02071-.42637.06546-.8511.12549-1.27393A14.8141,14.8141,0,0,0,1131.089,639.76934Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1136.00331,620.789a15.19815,15.19815,0,0,0,3.88418,1.09822,15.63,15.63,0,0,0,1.42322-1.73647A13.24363,13.24363,0,0,1,1136.00331,620.789Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1141.72736,615.66082a15.70907,15.70907,0,0,1-.11112,4.05194,15.52908,15.52908,0,0,0,1.75758-3.62455l.06874-.2062-.21655-.01718A15.09472,15.09472,0,0,1,1141.72736,615.66082Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1140.28241,600.83967a15.65079,15.65079,0,0,0-11.46149-5.29958,9.83649,9.83649,0,0,1-7.28378-3.36124l-.12843-.14726a22.12785,22.12785,0,0,0-4.02939-3.58669l-.11338-.07817-.10005.09434a14.9676,14.9676,0,0,1-3.154,2.27865,11.47832,11.47832,0,0,0,2.04794-2.954l.07146-.1425-.13766-.08059a22.01777,22.01777,0,0,0-32.62113,14.2542,22.02182,22.02182,0,0,1,30.259-8.11268l.13765.08059-.07145.1425a11.47814,11.47814,0,0,1-2.04794,2.954,14.96754,14.96754,0,0,0,3.154-2.27865l.10006-.09434.11338.07817a22.12857,22.12857,0,0,1,4.02939,3.5867l.12843.14725a9.83643,9.83643,0,0,0,7.28377,3.36124,15.61675,15.61675,0,0,1,15.10347,12.83488,18.92714,18.92714,0,0,0,2.26005-.55l.10034-.03039.01776-.10314A15.554,15.554,0,0,0,1140.28241,600.83967Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1173.15913,536.54065a50.29141,50.29141,0,0,1-42.007,49.59965l-.2484.04053-.19219-.16016a48.18565,48.18565,0,0,0-10.51008-6.67159,34.42316,34.42316,0,0,1,5.5662,6.56047l.53537.80469-.96485.04641c-.8328.04053-1.66038.0608-2.45919.0608a50.71554,50.71554,0,0,1-13.88445-1.92513c-20.51748-5.83748-42.55022-6.83567-65.48571-2.96711a71.77856,71.77856,0,0,1-11.90147.993A70.94787,70.94787,0,0,1,1009.287,444.63723l.48765-.16146.19251.47589a36.95659,36.95659,0,0,1,2.787,11.23306,48.19635,48.19635,0,0,0,1.19789-12.47116l-.01536-.44255.43013-.10786a71.24939,71.24939,0,0,1,17.24051-2.1147l.62918.00262a31.67228,31.67228,0,0,0,23.616-10.46237,50.27568,50.27568,0,0,1,76.38016,2.34611l.2118.26213-.1399.30723c-2.93769,6.47484-6.13818,11.19189-9.95836,14.64143a49.01343,49.01343,0,0,0,13.27978-9.16282l.502-.487.35234.60466A50.24214,50.24214,0,0,1,1143.32,464.4278l-.00065.25363c-.00065.08956-.00065.17977-.00065.26932,0,13.61317,5.26419,26.51577,14.46689,35.43934A50.66021,50.66021,0,0,1,1173.15913,536.54065Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M1111.68868,417.71713a35.519,35.519,0,0,1-6.33509,7.77159,48.88929,48.88929,0,0,0,9.89823-6.1865Q1113.50228,418.44038,1111.68868,417.71713Z" transform="translate(-26.84086 -49.49819)"/><path d="M1140.79293,477.73323a50.48191,50.48191,0,0,1,7.22981,8.80775,51.39288,51.39288,0,0,1-4.70405-21.59022c0-.08957,0-.17978.00065-.26932l.00064-.25364a50.24245,50.24245,0,0,0-6.83956-25.32735l-.35235-.60468-.50207.487a49.12616,49.12616,0,0,1-9.17043,6.983A48.97185,48.97185,0,0,0,1140.79293,477.73323Z" transform="translate(-26.84086 -49.49819)"/><path d="M1126.32733,441.77093l-.00065.25364c-.00064.08954-.00064.17975-.00064.26931,0,.49355.00894.98585.02272,1.47739a52.3648,52.3648,0,0,0,5.95587-10.26709l.13985-.30725-.21176-.26212a50.68811,50.68811,0,0,0-9.096-8.79733A50.35621,50.35621,0,0,1,1126.32733,441.77093Z" transform="translate(-26.84086 -49.49819)"/><path d="M1157.78559,500.3901a45.45934,45.45934,0,0,1-6.40838-7.79666,50.2297,50.2297,0,0,1-37.21772,70.89l-.24841.04054-.19217-.16016a48.188,48.188,0,0,0-10.5101-6.67159,34.42262,34.42262,0,0,1,5.56617,6.56046l.5354.80471-.96482.0464c-.83286.04054-1.66041.0608-2.4592.0608a50.71549,50.71549,0,0,1-13.88448-1.92514c-20.51749-5.83747-42.55022-6.83566-65.4857-2.9671a71.7793,71.7793,0,0,1-11.90145.993,70.62389,70.62389,0,0,1-47.12-17.969,71.01118,71.01118,0,0,0,64.1127,40.6259,71.77947,71.77947,0,0,0,11.90145-.99294c22.93547-3.86857,44.96821-2.87037,65.4857,2.96709a50.71543,50.71543,0,0,0,13.88448,1.92514c.79878,0,1.62634-.02026,2.45919-.0608l.96483-.0464-.5354-.80471a34.42263,34.42263,0,0,0-5.56618-6.56045,48.18774,48.18774,0,0,1,10.51011,6.67159l.19217.16016.24841-.04055a50.25392,50.25392,0,0,0,26.63344-85.75019Z" transform="translate(-26.84086 -49.49819)"/></g><polygon points="134.035 560.973 97.223 533.025 79.28 550.968 139.25 592.007 134.035 560.973" fill="#2f2e41"/><path d="M195.21,687.42781h125.9266L316.72,673.11747l0,0c-27.37332-9.9093-11.99769-31.20879-38.036-44.228-63.68827-31.84414-88.3446-126.87035-79.01856-164.43447l-41.73625-1.76471S100.29113,626.37364,195.21,687.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M80.55365,605.25219a20.7786,20.7786,0,0,0-7.17833-14.42261c-.0283-.02489-.05681-.05-.08529-.07465l-.08034-.0703a21.14539,21.14539,0,0,1-6.10283-9.20148l-.09315-.27942.29345-.02329a20.6283,20.6283,0,0,0,6.58691-1.64977,18.15726,18.15726,0,0,1-7.395-.9227l-.136-.0412-.024-.13979a21.15953,21.15953,0,0,1,20.48932-24.78985,13.32987,13.32987,0,0,0,9.87066-4.555l.17406-.19956a29.9868,29.9868,0,0,1,5.46049-4.86055l.15364-.106.13559.12786a20.2845,20.2845,0,0,0,4.27411,3.088,15.554,15.554,0,0,1-2.77519-4.00312l-.09688-.19312.18657-.10923A29.85984,29.85984,0,0,1,141.70818,588.318a30.209,30.209,0,0,1-3.62195,3.48511,62.224,62.224,0,0,0-17.26483,21.51959,21.34447,21.34447,0,0,1-3.251,4.92289c-.222.25244-.45848.50834-.70277.76026l-.28286.292-.10549-.39287a14.48742,14.48742,0,0,1-.526-3.58259,20.27961,20.27961,0,0,0-.813,5.17585l-.00281.10525-.08185.06724a21.15037,21.15037,0,0,1-34.50192-15.41853Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M83.85266,613.35673a21.10374,21.10374,0,0,0,.238,2.27524,21.39156,21.39156,0,0,1-3.439-10.598c-.02806-.57781-.08871-1.15339-.17006-1.72639A20.07562,20.07562,0,0,1,83.85266,613.35673Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M77.193,587.63524a20.59681,20.59681,0,0,1-5.2637,1.48826,21.18029,21.18029,0,0,1-1.92868-2.3532A17.94731,17.94731,0,0,0,77.193,587.63524Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M69.436,580.68579a21.28893,21.28893,0,0,0,.1506,5.491,21.04389,21.04389,0,0,1-2.3818-4.91186l-.09316-.27943.29346-.02329A20.4517,20.4517,0,0,0,69.436,580.68579Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M71.39415,560.60073a21.20931,21.20931,0,0,1,15.53218-7.18179,13.33,13.33,0,0,0,9.87069-4.555l.174-.19955a29.98717,29.98717,0,0,1,5.46048-4.86056l.15364-.10593.13559.12785a20.28377,20.28377,0,0,0,4.27415,3.08794,15.55474,15.55474,0,0,1-2.77529-4.00312l-.09683-.19312.18655-.10921A29.83764,29.83764,0,0,1,148.51627,561.925a29.84315,29.84315,0,0,0-41.00585-10.994l-.18655.10921.09683.19311a15.5548,15.5548,0,0,0,2.77529,4.00313,20.28412,20.28412,0,0,1-4.27415-3.08794l-.13559-.12786-.15364.10594a29.98711,29.98711,0,0,0-5.46048,4.86055l-.174.19956a13.33,13.33,0,0,1-9.87069,4.555A21.16316,21.16316,0,0,0,69.65975,579.135a25.64845,25.64845,0,0,1-3.06273-.74529l-.136-.04118-.02407-.13978A21.07824,21.07824,0,0,1,71.39415,560.60073Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M47.67454,424.47529c12.47114-12.09289,19.605-29.578,19.605-48.026,0-.12136,0-.24361-.00089-.365l-.00088-.34372a68.08611,68.08611,0,0,1,9.26876-34.32266l.47748-.81942.68034.66a66.42122,66.42122,0,0,0,17.99625,12.41711c-5.177-4.67469-9.51414-11.06706-13.4952-19.8415l-.18957-.41636.287-.35523a68.13168,68.13168,0,0,1,103.50749-3.17935,42.9211,42.9211,0,0,0,32.00348,14.1782l.85264-.00355a96.55467,96.55467,0,0,1,23.36369,2.86576l.58289.14617-.02081.59973a65.31307,65.31307,0,0,0,1.62334,16.90044,50.08227,50.08227,0,0,1,3.77686-15.22262l.26089-.64491.66085.21881a96.14585,96.14585,0,0,1-30.24771,187.39848A97.27192,97.27192,0,0,1,202.538,534.974c-31.0813-5.24253-60.93923-3.88982-88.74374,4.02092a68.72787,68.72787,0,0,1-18.81567,2.60886c-1.08252,0-2.204-.02747-3.33261-.08239l-1.30753-.0629L91.064,540.368a46.64968,46.64968,0,0,1,7.5431-8.8905,65.29981,65.29981,0,0,0-14.24286,9.0411l-.26045.217-.33662-.05492A68.10219,68.10219,0,0,1,47.67454,424.47529Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M110.14328,312.44a48.13438,48.13438,0,0,0,8.58508,10.53176,66.25283,66.25283,0,0,1-13.4137-8.38371Q107.68556,313.42016,110.14328,312.44Z" transform="translate(-26.84086 -49.49819)"/><path d="M70.70231,393.77157a68.411,68.411,0,0,0-9.79756,11.93592,69.64577,69.64577,0,0,0,6.37475-29.25825c0-.12137,0-.24362-.00088-.365l-.00087-.34372a68.08661,68.08661,0,0,1,9.26871-34.32266l.4775-.81944.68039.66a66.5738,66.5738,0,0,0,12.42741,9.46305C88.97194,367.31049,82.046,382.77189,70.70231,393.77157Z" transform="translate(-26.84086 -49.49819)"/><path d="M90.30555,345.03683l.00087.34372c.00088.12134.00088.24359.00088.365,0,.66884-.01212,1.336-.0308,2.0021A70.9624,70.9624,0,0,1,82.20534,333.834l-.18953-.41637.287-.35522a68.69044,68.69044,0,0,1,12.32659-11.92181A68.24086,68.24086,0,0,0,90.30555,345.03683Z" transform="translate(-26.84086 -49.49819)"/><path d="M47.67451,424.4753a61.60525,61.60525,0,0,0,8.6844-10.56575,68.06938,68.06938,0,0,0,50.436,96.06741l.33664.05494.26042-.217a65.30253,65.30253,0,0,1,14.24289-9.04108,46.64767,46.64767,0,0,0-7.54306,8.89047l-.72556,1.09052,1.3075.06287c1.12865.05494,2.25012.08239,3.33261.08239a68.72762,68.72762,0,0,0,18.81572-2.60886c27.80451-7.91072,57.66244-9.26344,88.74372-4.0209a97.27262,97.27262,0,0,0,16.12839,1.3456,95.7069,95.7069,0,0,0,63.8553-24.35094,96.23165,96.23165,0,0,1-86.88309,55.05467A97.27245,97.27245,0,0,1,202.538,534.974c-31.08129-5.24254-60.93922-3.88982-88.74373,4.0209a68.72763,68.72763,0,0,1-18.81572,2.60887c-1.08249,0-2.204-.02746-3.33261-.0824l-1.30749-.06287L91.064,540.368a46.64834,46.64834,0,0,1,7.54306-8.89047,65.30253,65.30253,0,0,0-14.24289,9.04108l-.26042.217-.33663-.05494A68.10219,68.10219,0,0,1,47.67451,424.4753Z" transform="translate(-26.84086 -49.49819)"/></g><circle cx="460.31828" cy="185" r="5" fill="#fff"/><circle cx="834.31828" cy="305" r="3" fill="#fff"/><circle cx="892.31828" cy="170" r="3" fill="#fff"/><circle cx="355.31828" cy="80" r="3" fill="#fff"/><circle cx="325.31828" cy="201" r="3" fill="#fff"/><circle cx="179.31828" cy="170" r="3" fill="#fff"/><circle cx="696.31828" cy="195" r="3" fill="#fff"/><circle cx="1003.31828" cy="98" r="3" fill="#fff"/><path d="M328.95929,413.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C339.30268,425.75443,332.75886,420.59829,328.95929,413.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M910.95929,612.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C921.30268,624.75443,914.75886,619.59829,910.95929,612.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M591.95929,449.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C602.30268,461.75443,595.75886,456.59829,591.95929,449.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M287.95929,565.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C298.30268,577.75443,291.75886,572.59829,287.95929,565.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M249.95929,651.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C260.30268,663.75443,253.75886,658.59829,249.95929,651.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><rect x="843.31828" y="68" width="11" height="589" fill="#3f3d56"/><rect x="813.31828" y="20" width="72" height="72" rx="35.99996" fill="#ff6582"/><path d="M418.64263,424.1385c0,11.47771,12.51572,21.67823,23.99344,21.67823s17.571-10.20052,17.571-21.67823a20.78224,20.78224,0,0,0-41.56448,0Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="398.471 484.489 437.067 483.005 439.294 442.925 394.76 442.925 398.471 484.489" fill="#ffb8b8"/><path d="M400.81364,561.4928a6.18231,6.18231,0,0,0-.36494-9.4728l7.00739-20.82235-11.03775,2.917-4.96213,19.32605a6.21581,6.21581,0,0,0,9.35743,8.05215Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><circle cx="415.75835" cy="381.62478" r="14.69804" fill="#ffb8b8"/><path d="M442.96047,429.64379l-10.73253-.28426a1.504,1.504,0,0,1-1.28014-.78738l-3.58787-6.65514a1.49783,1.49783,0,0,1,.39563-1.89138L441.79818,409.047a1.49679,1.49679,0,0,1,1.25618-.28037l11.34184,2.58422a1.499,1.499,0,0,1,1.1066,1.04314l4.4413,15.29492a1.49935,1.49935,0,0,1-1.51389,1.916l-5.5602-.27779a1.50724,1.50724,0,0,1-1.34747-1.0276l-.23052-.69867a.17342.17342,0,0,0-.338.05439,1.49974,1.49974,0,0,1-1.57346,1.4977l-1.84088-.09194a1.4954,1.4954,0,0,1-1.396-1.205l-.79385-3.99256a.1732.1732,0,0,0-.34188.01359l-.51866,4.442a1.492,1.492,0,0,1-1.48734,1.32546Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M432.2515,449.58079l19.00323.25331,6.18481,7.85346,9.95684,2.3481,2.5878,14.95427c1.29375,7.47624-.07979,12.21089-3.88076,18.77751l0,0-.45522,12.91771.503.91426a2.09364,2.09364,0,0,1-.63119,2.72267h0a4.27726,4.27726,0,0,1,.11752,2.81491l-.24528.81046s-.70783,5.66261-40.83239-.29293a3.95632,3.95632,0,0,1-3.34345-3.3986h0a2.95406,2.95406,0,0,1-.547-3.4038l.08175-.16348-.412-.48529a3.177,3.177,0,0,1-.1608-3.90659h0l-5.76652-41.25217,11.91192-3.71Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M419.16862,464.99288l-4.75684-3.94828s-4.22952,1.25013-7.18334,9.58077-13.08957,71.52656-13.08957,71.52656l11.87557-5.93778,16.8392-46.43085Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M524.81946,532.274a6.18228,6.18228,0,0,1-7.09116-6.29147l-20.54147-7.79242,9.257-6.682,18.08733,8.42424a6.21581,6.21581,0,0,1,.28831,12.34162Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><path d="M461.88061,464.63253l3.22471-5.27425s4.40655-.18456,9.89528,6.74353c2.81373,3.55161,21.04874,34.01719,21.04874,34.01719l16.86311,14.05546-13.80628,4.93081-16.27169-6.90314-18.244-30.078Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="435.555 666.81 444.739 666.81 449.108 631.385 435.553 631.386 435.555 666.81" fill="#ffb6b6"/><polygon points="355.157 661.099 364.044 663.415 377.208 630.238 364.091 626.819 355.157 661.099" fill="#ffb6b6"/><path d="M460.11787,711.77763l14.51826-.86655v6.22026l13.80293,9.53279a3.88541,3.88541,0,0,1-2.20782,7.08274H468.9467l-2.97925-6.15279-1.16325,6.15279h-6.517Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M380.13111,705.42858l14.2674,2.8235-1.569,6.01913,10.95211,12.70615a3.88541,3.88541,0,0,1-3.923,6.29683L383.133,728.91441l-1.331-6.70531-2.67759,5.66043-6.30624-1.64381Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M383.1248,688.31931l26.92081-55.33021,2.11353-65.49091C406.33233,556.677,423.491,532.805,423.491,532.805v-9.24491l41.91852,7.90812v0a201.21489,201.21489,0,0,1,12.26151,73.06026L475.982,694.04734h.52987a3.31527,3.31527,0,1,1,0,6.63053H459.9355a3.31527,3.31527,0,1,1,0-6.63053h.4274L448.4631,580.16351l-13.83654,56.19881L401.189,688.1066a3.3069,3.3069,0,0,1-.26524,6.60379H384.34739a3.31182,3.31182,0,0,1-1.22259-6.39108Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M382.75841,426.29647c6.19395-6.05935,10.09279-14.02773,15.22255-21.01108,5.1296-6.98327,12.35472-13.3824,21.01083-13.77026a13.03786,13.03786,0,0,1,8.16579,2.129,8.30541,8.30541,0,0,1,3.60455,7.36741c.9138-2.56674,4.99718-3.1453,6.588-.93331,1.59062,2.21191-.25722,5.89893-2.98115,5.94838l-.2671-1.05666a18.24877,18.24877,0,0,1-11.80141,7.83613,2.9783,2.9783,0,0,1-3.35526-3.85425C409.59087,410.80666,412.56052,428.25234,407,436s-21.45259,6.99551-30.82907,8.7353c-9.05466,1.68-17.85857-3.34756-25.69931-8.178A38.2715,38.2715,0,0,0,382.75841,426.29647Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M732.68989,636.90373,704.47275,624.455V613.75265l10.0561-.05651a7.46918,7.46918,0,0,0,7.044-5.10714l7.06437-21.19305a7.46924,7.46924,0,0,0-7.086-9.83122H704.47275v-9.959H725.913a7.46925,7.46925,0,0,0,7.27937-5.79584l4.865-21.16286a7.46923,7.46923,0,0,0-7.27937-9.14265H704.47275v-2.48975a4.97949,4.97949,0,0,0-9.959,0v2.48975H518.1566v-2.48975a4.9795,4.9795,0,0,0-9.959,0v2.48975H487.2868a7.46923,7.46923,0,0,0-7.27937,9.14265l4.865,21.16286a7.46925,7.46925,0,0,0,7.27937,5.79584H508.1976v9.959H496.51328a7.46923,7.46923,0,0,0-7.10927,9.76l7.21041,22.37711a7.46925,7.46925,0,0,0,7.15123,5.17837l4.432-.0249V624.455l-22.82269,12.44874a7.46922,7.46922,0,0,0-7.46924,7.46922v0a7.46925,7.46925,0,0,0,7.46924,7.46925H508.1976v54.77446a4.9795,4.9795,0,0,0,9.959,0V651.84222H694.51376v54.77446a4.97949,4.97949,0,0,0,9.959,0V651.84222h28.21714a7.46925,7.46925,0,0,0,7.46925-7.46925v0A7.46922,7.46922,0,0,0,732.68989,636.90373Zm-214.53329-69.298H694.51376v9.959H518.1566Zm0,56.84925v-9.65563l176.35716-.99076V624.455Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/></svg>',IQ='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="855.93958" height="630.06608" viewBox="0 0 855.93958 630.06608" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M935.43234,472.55767c-3.73,43.08-22.51,84.71-49.3,119.14q-1.68,2.16-3.4,4.28-3.87,4.77-7.94,9.36-4.98,5.655-10.25,11.05005-4.29,4.43994-8.78,8.68994-3.465,3.315-7.01,6.5c-28.43,25.69-61.09,46.89-94.74,65.43005-65.67,36.17-137.65,63.56995-212.52,67.56-74.86,3.98-153.01-17.46-207.91-68.52-73.99-68.81-94.63995-183.58-64.6-280.05,19.98-64.18,60.76-122.24,116.26-160.16,55.02-37.59,124.43-54.51,190.12-43.44995,52.44-31.87006,121.09-32.48,178.1-8.89,30.42,12.59,57.72,31.31,81.67,53.93a339.34337,339.34337,0,0,1,30.72,33.23q1.455,1.785,2.88,3.6,5.97,7.545,11.55,15.4,8.01,11.265,15.21,23.03c1.32,2.16,2.63,4.33,3.91,6.52.86,1.47,1.73,2.95,2.58,4.44a.29776.29776,0,0,1,.04.1c13.31,23.41,24.19,48.39,29.86005,74.5,1,4.62,1.84,9.26,2.49,13.94v.01q.855,5.955,1.29,11.97A176.97711,176.97711,0,0,1,935.43234,472.55767Z" transform="translate(-172.03021 -134.96696)" fill="#3f3d56"/><path d="M740.07386,537.68412,591.61233,414.00627,735.84027,542.638a3.44161,3.44161,0,1,0,4.23359-4.95386Z" transform="translate(-172.03021 -134.96696)" fill="#f0f0f0" opacity="0.3"/><circle cx="227.58212" cy="250.78071" r="89" fill="#f2f2f2"/><path d="M478.61233,379.74767a80.99369,80.99369,0,0,1-81,81,81.57161,81.57161,0,0,1-27.8-4.9,81.05489,81.05489,0,1,1,108.8-76.1Z" transform="translate(-172.03021 -134.96696)" fill="#fff"/><circle cx="211.58212" cy="217.78071" r="25" fill="#e4e4e4"/><path d="M475.45236,357.27764a25.00115,25.00115,0,0,1-27.6-41.08A81.05279,81.05279,0,0,1,475.45236,357.27764Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="252.58212" cy="271.78071" r="9" fill="#e4e4e4"/><path d="M387.61233,457.74767a9.04581,9.04581,0,0,1-.31,2.34,79.52774,79.52774,0,0,1-17.49-4.24,9.00157,9.00157,0,0,1,17.8,1.9Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><path d="M334.61233,375.74767a18.002,18.002,0,0,1-16.8,17.96,81.54773,81.54773,0,0,1,1.76-35.71A18.00026,18.00026,0,0,1,334.61233,375.74767Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="606.45653" cy="208.48305" r="3.70234" fill="#6c63ff"/><circle cx="572.30231" cy="119.94851" r="2.16307" fill="#f0f0f0"/><circle cx="225.30231" cy="543.94851" r="2.16307" fill="#f0f0f0"/><circle cx="584.58144" cy="331.59402" r="2.16307" fill="#f0f0f0"/><circle cx="305.45653" cy="350.48305" r="3.70234" fill="#6c63ff"/><circle cx="171.45653" cy="416.48305" r="17.48305" fill="#6c63ff"/><circle cx="267.30231" cy="435.94851" r="2.16307" fill="#f0f0f0"/><circle cx="487.30231" cy="97.94851" r="2.16307" fill="#f0f0f0"/><circle cx="358.30231" cy="558.94851" r="2.16307" fill="#f0f0f0"/><circle cx="326.30231" cy="117.94851" r="2.16307" fill="#f0f0f0"/><circle cx="382.30231" cy="222.94851" r="2.16307" fill="#f0f0f0"/><circle cx="296.58144" cy="480.59402" r="2.16307" fill="#f0f0f0"/><circle cx="549.58144" cy="494.59402" r="2.16307" fill="#f0f0f0"/><circle cx="437.58144" cy="368.59402" r="2.16307" fill="#f0f0f0"/><circle cx="494.58144" cy="222.59402" r="2.16307" fill="#f0f0f0"/><circle cx="598.21204" cy="292.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="150.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="445.65473" r="4.28889" fill="#ff6584"/><path d="M863.45236,605.33764a7.694,7.694,0,0,0-7.39,5.58,7.3896,7.3896,0,0,0-.3,2.12v12.04q4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.68118,667.89806q-19.36816,0-42.45654-1.46386c-79.61377-5.05567-182.7378-22.63282-290.376-49.49219-107.6377-26.85938-206.93018-59.79395-279.58545-92.73438-35.39258-16.04687-62.55615-31.23632-80.73535-45.14746-19.24707-14.72705-27.666-27.564-25.02393-38.15283,5.148-20.62891,50.731-25.14209,88.064-25.29541l.01269,3c-51.26806.21045-81.51367,8.38672-85.16552,23.022-4.65186,18.64014,33.28662,47.74073,104.08691,79.84131,72.49561,32.86817,171.60547,65.73926,279.07324,92.55664,107.46729,26.81641,210.40137,44.36328,289.83985,49.40821,77.57861,4.92773,124.74316-2.9375,129.39453-21.57813,3.86181-15.47656-21.59815-38.27539-71.68946-64.19824l1.37891-2.66406c36.397,18.83593,78.64551,45.85156,73.22168,67.58886-2.64258,10.58887-16.10547,17.96485-40.01514,21.92285C927.0762,666.7672,910.33548,667.89806,890.68118,667.89806Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="714.58212" cy="208.78071" r="100.5" fill="#fff"/><path d="M886.61233,241.74767a102,102,0,1,0,102,102A101.635,101.635,0,0,0,886.61233,241.74767Zm0,201a99,99,0,1,1,99-99A98.61767,98.61767,0,0,1,886.61233,442.74767Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M798.417,367.81847a2.00078,2.00078,0,0,1-1.957-1.59765,97.66924,97.66924,0,0,1,22.34082-83.13526,2,2,0,0,1,2.98633,2.66114A93.59682,93.59682,0,0,0,800.378,365.41515a2.00228,2.00228,0,0,1-1.96094,2.40332Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><circle cx="714.51924" cy="238.27373" r="63.87702" fill="#6c63ff"/><path d="M866.24805,397.35666c-4.14062-.115-9.29385-.25869-13.26384-3.15874a10.18618,10.18618,0,0,1-4.00806-7.60607,6.85213,6.85213,0,0,1,2.33007-5.62763c2.07352-1.75216,5.10139-2.16313,8.36441-1.2042l-3.38076-24.7061,2.48174-.34,3.97444,29.04518-2.07245-.951c-2.4027-1.10205-5.70088-1.66285-7.7504.06911a4.40263,4.40263,0,0,0-1.44375,3.62659,7.69887,7.69887,0,0,0,2.98246,5.67107c3.08949,2.25668,7.19708,2.54779,11.85585,2.678Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><rect x="658.49493" y="222.21767" width="13.49133" height="2.50498" fill="#2f2e41"/><rect x="701.07961" y="222.21765" width="13.49133" height="2.50498" fill="#2f2e41"/><path d="M889.23233,452.90765h-57.9a8.14716,8.14716,0,0,0-8.13995,8.14v128.33a47.66955,47.66955,0,0,0,25.56,42.19995q3.555-3.18,7.01-6.5,4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005,4.08006-4.59,7.94-9.36,1.725-2.115,3.4-4.28c26.79-34.43,45.57-76.06,49.3-119.14A64.04854,64.04854,0,0,0,889.23233,452.90765Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M891.34231,479.68767a14.61136,14.61136,0,0,0-10.43-4.17,14.465,14.465,0,0,0-9.16,3.36005,13.12263,13.12263,0,0,0-1.17,1.07l-47.38995,48.6-34.37,35.25a6.80061,6.80061,0,0,0-1.28,1.8,7.29573,7.29573,0,0,0-.77,3.32,7.16751,7.16751,0,0,0,2.18006,5.07l1.35,1.32,9.8,9.55.01-.01a7.29073,7.29073,0,0,0,4.66,1.63,7.167,7.167,0,0,0,5.07-2.18l1.59-1.62,11.38-11.67.38-.39,68.41-70.16a14.69128,14.69128,0,0,0-.26-20.77Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.86152,343.44c2.1124-4.46658-.05349-9.23761-3.76378-12.09072-4.67557-3.59539-10.7221-3.00085-16.04008-1.29905-5.82238,1.8632-11.51366,5.21608-17.80383,5.02337a11.13058,11.13058,0,0,1-10.24407-7.27764c-3.3687-8.639.43561-18.29488,6.29971-24.84681a34.26766,34.26766,0,0,1,26.544-11.586,34.64989,34.64989,0,0,1,28.068,16.9026,1.54079,1.54079,0,0,0,2.05229.53813,36.88225,36.88225,0,0,1,28.39377-.71432,36.28984,36.28984,0,0,1,22.58042,34.49188c-.05,1.93122,2.95005,1.9301,3,0a39.89155,39.89155,0,0,0-10.59928-27.81249,38.71871,38.71871,0,0,0-27.56681-12.16772,39.33641,39.33641,0,0,0-17.32226,3.61223l2.05229.53813a37.69886,37.69886,0,0,0-25.0988-17.728,36.48542,36.48542,0,0,0-29.42384,7.32772c-7.70165,6.02707-13.53849,15.38016-13.17519,25.41071.15721,4.34047,1.44713,8.796,4.4606,12.03051,3.85981,4.14287,9.62229,4.85944,14.94631,3.798,7.07554-1.41071,13.53533-6.06449,20.91133-5.92113a10.21164,10.21164,0,0,1,7.6417,3.4453c1.62455,1.83335,2.6042,4.47042,1.49716,6.81122-.82094,1.73585,1.76463,3.26026,2.59041,1.51416Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M412.09426,704.32287c-35.59912.001-68.69433-1.22071-98.32226-3.68555-38.72656-3.22266-69.41455-8.40332-91.21045-15.39648-23.07666-7.40528-35.31934-16.667-36.38818-27.52832-2.083-21.15821,39.334-40.72461,74.44531-53.41309l1.01953,2.82227c-48.2168,17.42382-73.957,35.28613-72.47949,50.29785,1.88183,19.11914,47.39209,33.78125,124.86181,40.22754,79.3252,6.60058,183.71729,4.26172,293.94727-6.58985,110.23-10.84863,213.07568-28.90625,289.59131-50.8457,74.72607-21.42578,116.50488-44.67969,114.623-63.79883-1.5625-15.874-33.20264-28.793-89.0918-36.3789l.40332-2.97266c40.60986,5.51172,89.47949,16.76172,91.67383,39.05762,1.06933,10.86132-9.1333,22.332-30.32276,34.09375-20.01465,11.10937-49.10351,22.17285-86.45849,32.88281-76.68506,21.98828-179.71973,40.08105-290.12451,50.94824C539.00247,700.86,472.01663,704.32287,412.09426,704.32287Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="838.45653" cy="434.48305" r="17.48305" fill="#6c63ff"/><circle cx="331.45653" cy="17.48305" r="17.48305" fill="#e6e6e6"/><circle cx="19.45653" cy="433.48305" r="17.48305" fill="#e6e6e6"/><circle cx="127.45653" cy="108.48305" r="10.70234" fill="#ff6584"/><circle cx="77.45653" cy="514.48305" r="10.70234" fill="#ff6584"/><circle cx="807.45653" cy="339.48305" r="10.70234" fill="#ff6584"/><circle cx="645.45653" cy="598.48305" r="17.48305" fill="#e6e6e6"/></svg>',kT=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),o=new Uint8Array(r);for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return new Blob([r],{type:t})},NT=async e=>{const{vault:t}=yt.getState().app,n=await t.adapter.readBinary(e),r=new Uint8Array(n),o=new Blob([r],{type:"image/png"});return new Promise(i=>{const s=new FileReader;s.onloadend=()=>{const c=s.result;i(c)},s.readAsDataURL(o)})},EQ=async e=>{const t=e.find(".thino-user-icon");if(t){const n=await rm(t);t.style.backgroundImage=`url(${n})`}},SM=async e=>{const t=e.findAll("img");for(const n of t)if(n.src.startsWith("http://localhost")){const r=await md(n.getAttribute("path")||C.normalizePath(n==null?void 0:n.parentElement.getAttribute("src")));n.src=r}else{const r=await oO(n);n.src=r}},xQ=async e=>{const{app:t,settings:n}=yt.getState();let r,o;const i=document.body.hasClass("theme-light"),s=i?e==="modern"?n==null?void 0:n.DefaultLightBackgroundImage:n==null?void 0:n.DefaultLightBackgroundImageForClean:e==="modern"?n==null?void 0:n.DefaultDarkBackgroundImage:n==null?void 0:n.DefaultDarkBackgroundImageForClean,c=await t.vault.adapter.exists(s)&&/\.(png|svg|jpg|jpeg)/g.test(s),d=s==null?void 0:s.startsWith("http");switch(e){case"clean":c||d?(o=s,r=d?await md(s):await NT(o)):r=i?Qy:R1;break;case"minimal":break;case"modern":default:c||d?(o=s,r=d?await md(s):await NT(o)):r="data:image/svg+xml;base64,"+btoa(i?TQ:IQ);break}switch(e){case"modern":{const h=document.querySelector(".dialog-wrapper .memo-background .property-image");h.style.backgroundImage="url('"+r+"')";break}case"clean":{const h=document.querySelector(".dialog-wrapper .memo-container.clean .memo-background ");h.style.backgroundImage="url('"+r+"')";break}case"minimal":break;default:{const h=document.querySelector(".dialog-wrapper .memo-background .property-image");h.style.backgroundImage="url('"+r+"')"}}return r},CQ=e=>{const{memo:t,destroy:n}=e,{memos:r}=Le.getState().memoState,{view:o,app:i,settings:s}=Le.getState().dailyNotesState,c={...t,createdAtStr:at.getDateTimeString(t.createdAt)},[d,h]=j.useState(!1),[m,g]=j.useState(c.content),[v,b]=j.useState(!1),D=j.useRef(null),T=j.useRef(null),I=j.useRef(null),[O,N]=j.useState("modern"),[B,P]=j.useState(""),U=j.useRef(null),L=j.useRef(null),[z,V]=ie.useState(s==null?void 0:s.MomentsIcon);j.useEffect(()=>{if(!(s!=null&&s.MomentsIcon)||!i)return;const ue=i.vault.adapter.getResourcePath(C.normalizePath(s.MomentsIcon));ue&&!(s!=null&&s.MomentsIcon.startsWith("http"))?V(ue):V(s==null?void 0:s.MomentsIcon)},[s==null?void 0:s.MomentsIcon,i]);let Z,$;r.length&&(Z=r.length>0?r[r.length-1]:null,Z?$=r?Math.ceil((Date.now()-at.getTimeStampByDate(Z==null?void 0:Z.createdAt))/1e3/3600/24)+1:0:$=0),s==null||s.ShareFooterEnd.replace("{UserName}",s==null?void 0:s.UserName);const oe=s==null?void 0:s.ShareFooterStart.replace("{ThinoNum}",r.length.toString()).replace("{UsedDay}",$.toString());j.useEffect(()=>{!D.current||!T.current||(C.setIcon(D.current,"copy"),C.setIcon(T.current,"x"))},[D,T]),j.useEffect(()=>{I.current&&C.setIcon(I.current,"file-down")},[I]),j.useEffect(()=>{C.setIcon(D.current,v?"loader":"copy"),D.current.disabled=v,D.current.toggleClass("copying",v)},[v]),j.useEffect(()=>{if(!L.current||!o||d)return;g(t.content),L.current.hasChildNodes()&&L.current.empty();async function ue(){var se;(se=L.current)==null||se.toggleClass(["markdown-rendered"],!0),await C.MarkdownRenderer.render(i,t.content+`
`,L.current,t.path,o)}ue(),setTimeout(async()=>{await te()},AI)},[U,L,c,O]);const te=async()=>{U.current&&(await EQ(U.current),await SM(U.current),xQ(O).then(ue=>{ue&&Zv(U.current).then(se=>{P(se),h(!0)}).catch(()=>{})}))},ye=()=>{n()},ge=j.useCallback(ue=>{b(ue)},[v]),ce=async()=>{const{vault:ue}=Le.getState().dailyNotesState.app,se=U.current.querySelector(".memo-shortcut-img");if(!se)return;const we=se==null?void 0:se.getAttribute("src").split("base64,")[1],J=kT(we,"image/png");let ee;J.arrayBuffer().then(async fe=>{const xe="png",je=ru();for(const Ve in je)if(je[Ve]instanceof C.TFile){ee=je[Ve];break}if(ee!==void 0){const Ve=await ue.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,xe,ee);await ue.createBinary(Ve,fe),new C.Notice(x("Save image successfully"))}})},Q=async()=>{ge(!0);const ue=U.current.querySelector(".memo-shortcut-img");if(!ue)return;const se=ue==null?void 0:ue.getAttribute("src").split("base64,")[1],we=kT(se,"image/png");if(!we){new C.Notice("Copy to clipboard failed");return}const J=new ClipboardItem({"image/png":we});window.navigator.clipboard.write([J]).then(()=>{setTimeout(()=>{ge(!1)},500)}),new C.Notice("Copy to clipboard successfully")};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:Gn("dialog-header-container"),children:[y.jsxs("p",{className:"title-text",children:[y.jsx("span",{className:"icon-text",children:"🥰"}),x("Share Memo Image")]}),y.jsxs("div",{className:"btn-group",children:[C.Platform.isMobile&&y.jsx("button",{ref:I,className:"btn download-btn",onClick:ce}),y.jsx("button",{ref:D,className:"btn copy-btn",onClick:Q}),y.jsx("button",{ref:T,className:"btn close-btn",onClick:ye})]})]}),y.jsxs("div",{className:Gn("dialog-content-container",O),children:[y.jsx("div",{className:`tip-words-container ${B?"finish":"loading"}`,children:y.jsx("p",{className:"tip-text",children:x(B?"↗Click the button to save":"Image is generating...")})}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("Default sharing style")}),y.jsx("div",{className:"setting-item-description",children:x("Set the default style for sharing thino, 'Modern' by default.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:O,onChange:async ue=>{ue.currentTarget.value!==O&&(h(!1),P(""),N(ue.currentTarget.value),await te())},children:[y.jsx("option",{value:"modern",children:x("Modern")}),y.jsx("option",{value:"clean",children:x("Clean")}),y.jsx("option",{value:"minimal",children:x("Minimal")})]})})]}),y.jsxs("div",{className:Gn("memo-container",O),ref:U,children:[y.jsx(ka,{when:B!=="",children:y.jsx("img",{className:"memo-shortcut-img",onClick:Q,src:B})}),y.jsxs("div",{className:"memo-background",children:[y.jsx("div",{className:"property-image",style:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),y.jsx("span",{className:"background-container"}),y.jsxs("div",{className:"thino-user-header",children:[y.jsx("div",{className:"thino-user-icon",ref:ue=>{if(s!=null&&s.MomentsIcon){ue==null||ue.empty();return}s!=null&&s.MomentsIcon||ue&&C.setIcon(ue,"Memos")},style:{backgroundImage:`url("${z}")`}}),y.jsxs("div",{className:"thino-user-info",children:[y.jsx("div",{className:"thino-user-name",children:s==null?void 0:s.UserName}),(s==null?void 0:s.MomentsQuote)&&y.jsx("div",{className:"thino-user-quote",children:s==null?void 0:s.MomentsQuote})]})]}),y.jsx("div",{ref:L,className:"memo-content-text"}),y.jsx("div",{className:"thino-time-footer",children:c.createdAt}),y.jsxs("div",{className:"watermark-container",children:[y.jsxs("span",{className:"normal-text footer-start",children:[y.jsx("div",{className:"property-social-icons"}),y.jsx("span",{className:"name-text",children:oe})]}),y.jsx("span",{className:"normal-text footer-end",children:y.jsx("span",{className:"name-text",children:"THINO"})})]})]})]})]})]})};function MQ(e){_v({className:"share-memo-image-dialog"},CQ,{memo:e})}const $f=async()=>{var r;const{verifyState:e}=yt.getState(),t=!C.Platform.isDesktop&&await((r=window.Capacitor)==null?void 0:r.Plugins.Device.getId()),n=C.Platform.isDesktop?await er():t.identifier||t.uuid;return e&&(e==null?void 0:e.appId)===n},kQ=async(e,t)=>{if(!(t!=="chat"&&t!=="moments")){if(t==="moments"){const n=e.querySelectorAll(".thino-moment-icon"),r=e.find(".moments-view-user-icon"),o=e.find(".moments-view-background");for(const i of n){const s=await rm(i);i.style.backgroundImage=`url(${s})`}if(r){const i=await rm(r);r.style.backgroundImage=`url(${i})`}if(o){const i=await rm(o);o.style.backgroundImage=`url(${i})`}}else if(t==="chat"){const n=e.querySelectorAll(".icon-img");for(const r of n){const o=await rm(r);r.style.backgroundImage=`url(${o})`}}}};class qf extends C.Modal{constructor(t,n,r){super(t),this.title=n,this.cb=r}onOpen(){super.onOpen(),this.containerEl.toggleClass("thino-bulk-action-dialog",!0),this.titleEl.setText(this.title+x("Confirm?")),this.contentEl.createEl("button",{text:x("Confirm?").replace(/\?|？/,"")}).onclick=()=>{this.cb("confirm"),this.close()},this.contentEl.createEl("button",{text:x("Cancel")}).onclick=()=>{this.cb("cancel"),this.close()}}onClose(){super.onClose()}}class NQ extends C.Modal{constructor(n,r){super(n);De(this,"root");this.thinos=r}onOpen(){super.onOpen(),this.containerEl.toggleClass(["thino-bulk-action-dialog","tag-actions"],!0),this.root=Aa.createRoot(this.contentEl),this.root.render(y.jsx(Pa,{store:Le,context:Pt,children:y.jsx(nO,{app:this.app,closeDialog:this.close.bind(this),thinos:this.thinos})}))}onClose(){var n;super.onClose(),(n=this.root)==null||n.unmount()}}const ug=({thinosCount:e,thinos:t})=>{const{globalState:{memoListView:n},locationState:{query:r,pathname:o},dailyNotesState:{settings:i,app:s}}=j.useContext(Pt),{tag:c,duration:d,type:h,text:m,filter:g}=r,v=Qt.getQueryById(g),b=!!(c||d&&d.from<d.to||h||m||v),D=j.useRef(null);j.useEffect(()=>{D&&C.setIcon(D.current,"more-horizontal")},[D]);const T=async()=>{if(!((t==null?void 0:t.length)>0))return;const V=WF(t),Z=qF(V);await at.copyTextToClipboard(Z),new C.Notice(x("Copied to clipboard Successfully"))},I=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await $f()){An();return}const V=[...t],Z=i.DeleteThinoDirectly;try{for(const $ of V)if(Z)await _e.deleteMemoById($.id);else{const oe=await _e.hideMemoById($.id);oe&&_e.editMemo(oe)}ot.clearQuery()}catch($){console.error("error",$),new C.Notice($.message)}},O=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await $f()){An();return}const V=[...t];try{for(const Z of V)await _e.deleteMemoById(Z.id);ot.clearQuery(),new C.Notice(x("DELETE SUCCEED"))}catch(Z){console.error("error",Z),new C.Notice(Z.message)}},N=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await $f()){An();return}const V=[...t];try{const Z=await _e.unarchiveThinoBulk(V);for(const $ of Z)$&&_e.editMemo($);new C.Notice(x("RESTORE SUCCEED")),ot.clearQuery()}catch(Z){console.error("error",Z),new C.Notice(Z.message)}},B=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await $f()){An();return}const V=[...t],Z=yt.getState().settings.startSync;try{for(const $ of V){const oe=await _e.restoreMemoById($.id),te=yt.getState().app,ye=te==null?void 0:te.loadLocalStorage("tokenForSync");oe&&oe.webId&&ye&&Z&&await UI(oe.webId),oe&&_e.editMemo(oe)}ot.clearQuery(),new C.Notice(x("RESTORE SUCCEED"))}catch($){new C.Notice($.message)}},P=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await $f()){An();return}const V=[...t];try{const Z=await _e.archiveThinoBulk(V);for(const $ of Z)$&&_e.editMemo($);ot.clearQuery()}catch(Z){console.error("error",Z),new C.Notice(Z.message)}},U=async()=>{if((t==null?void 0:t.length)>0){if(!await $f()){An();return}new NQ(s,t).open()}},L=async V=>{setTimeout(async()=>{if(new C.Notice(x("Image is generating...")),!V){new C.Notice(x("No content to generate."));return}await kQ(V,n),await SM(V),document.body.hasClass("theme-dark"),Zv(V).then(Z=>{if(i!=null&&i.AutoSaveWhenOnMobile&&C.Platform.isMobile){const $=Z.split("base64,")[1];Ov($,"image/png").arrayBuffer().then(async te=>{let ye;const ge="png",ce=ru();for(const Q in ce)if(ce[Q]instanceof C.TFile){ye=ce[Q];break}ye!==void 0&&await s.vault.createBinary(await vault.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,ge,ye),te)})}Wv({imgUrl:Z}),new C.Notice(x("Image generated successfully.")),V.hasClass("share-image")?V.toggleClass("share-image",!1):V.closest(".share-image").toggleClass("share-image",!1)}).catch(Z=>{console.error(Z)})},0)},z=V=>{const Z=new C.Menu;switch(Z.addItem($=>{$.setTitle(x("Copy filtered thinos")).setIcon("copy").onClick(async()=>{await T()})}),Z.addItem($=>{$.setTitle(x("Share filtered thinos as image")).setIcon("image").onClick(async()=>{const oe=document.querySelector(".memolist-container");oe.toggleClass("share-image",!0);try{if(n==="calendar"){if(oe.find(".rbc-agenda-table")){const te=oe.find(".rbc-agenda-table");await L(te)}if(oe.find(".rbc-month-view")){const te=oe.find(".rbc-month-view");await L(te)}}else if(n==="table"){if(oe.find(".thino-table")){const te=oe.find(".thino-table");await L(te)}}else await L(oe)}catch(te){console.error(te),new C.Notice(x("Failed to generate image.")),oe.toggleClass("share-image",!1)}})}),Z.addSeparator(),o){case"/":Z.addItem($=>{$.setTitle(x("Bulk tag operation")).setIcon("hash").onClick(async()=>{await U()})}).addItem($=>{$.setTitle(x("Bulk archive")).setIcon("archive").onClick(async()=>{new qf(s,x("ARCHIVE"),async oe=>{oe==="confirm"&&await P()}).open()})}).addItem($=>{$.setTitle(x("Bulk delete")).setIcon("trash").onClick(async()=>{new qf(s,x("DELETE"),async oe=>{oe==="confirm"&&await I()}).open()})});break;case"/archive":Z.addItem($=>{$.setTitle(x("Bulk restore")).setIcon("archive").onClick(async()=>{new qf(s,x("RESTORE"),async oe=>{oe==="confirm"&&await N()}).open()})}).addItem($=>{$.setTitle(x("Bulk delete")).setIcon("trash").onClick(async()=>{new qf(s,x("DELETE"),async oe=>{oe==="confirm"&&await I()}).open()})});break;case"/recycle":Z.addItem($=>{$.setTitle(x("Bulk restore")).setIcon("archive-restore").onClick(async()=>{new qf(s,x("RESTORE"),async oe=>{oe==="confirm"&&await B()}).open()})}).addItem($=>{$.setTitle(x("Bulk delete")).setIcon("trash").onClick(async()=>{new qf(s,x("DELETE"),async oe=>{oe==="confirm"&&await O()}).open()})});break}Z.showAtMouseEvent(V.nativeEvent)};return y.jsxs("div",{className:`filter-query-container ${b?"":"hidden"}`,children:[y.jsxs("div",{className:"filter-query",children:[y.jsx("span",{className:"tip-text",children:x("FILTER")}),y.jsxs("div",{"data-filter-type":"query",className:"filter-item-container "+(v?"":"hidden"),onClick:()=>{ot.setMemoFilter("")},children:[y.jsx("span",{className:"icon-text",children:"🔖"})," ",v==null?void 0:v.title]}),y.jsxs("div",{"data-filter-type":"tag",className:"filter-item-container "+(c?"":"hidden"),onClick:()=>{ot.setTagQuery("")},children:[y.jsx("span",{className:"icon-text",children:"🏷️"})," ",c]}),y.jsxs("div",{"data-filter-type":"type",className:"filter-item-container "+(h?"":"hidden"),onClick:()=>{ot.setMemoTypeQuery("")},children:[y.jsx("span",{className:"icon-text",children:"📦"})," ",H9(h)]}),d&&d.from<d.to&&y.jsxs("div",{"data-filter-type":"date",className:"filter-item-container",children:[y.jsxs("div",{className:"day-picker-component-group",children:[y.jsx("span",{className:"icon-text",children:"🗓️"})," ",y.jsx(lv,{type:"text",startOrEnd:"start",defaultValue:C.moment(d.from,"x").valueOf(),handleValueChange:V=>{const Z=C.moment(d.to,"x"),$=C.moment(V,"x"),oe=$.isAfter(Z)||$.isSame(Z);ot.setFromAndToQuery(oe?Z.startOf("day").valueOf():C.moment(V,"x").startOf("day").valueOf(),d.to)}}),y.jsx("span",{children:x("to")}),y.jsx(lv,{type:"text",startOrEnd:"end",defaultValue:C.moment(d.to,"x").add(1,"days").valueOf(),handleValueChange:V=>{const Z=C.moment(d.from,"x"),$=C.moment(V,"x"),oe=$.isBefore(Z)||$.isSame(Z),te=C.moment(V,"x").endOf("day").valueOf();ot.setFromAndToQuery(d.from,oe?Z.endOf("day").valueOf():te)}})]}),y.jsx("div",{ref:V=>V&&C.setIcon(V,"x"),className:"btn close-btn",onClick:()=>{ot.setFromAndToQuery(0,0)}})]}),y.jsxs("div",{className:"filter-item-container "+(m?"":"hidden"),onClick:()=>{ot.setTextQuery("")},children:[y.jsx("span",{className:"icon-text",children:"🔍"})," ",m]})]}),y.jsxs("div",{className:"thino-filter-items",children:[e&&y.jsx("div",{className:"thinos-count",children:`${e?`${e} Thinos `:""}`}),y.jsx("div",{ref:D,className:"btn memo-action-menu",onClick:z})]})]})},sd=async e=>{const{app:t,settings:n}=yt.getState();if(!n.startSync||!(t!=null&&t.loadLocalStorage("tokenForSync")))return;const r=await LA(e);if(!r||r.length===0)return;r.sort((s,c)=>C.moment(s.createdAt,"YYYY/MM/DD HH:mm:ss").isAfter(C.moment(c.createdAt,"YYYY/MM/DD HH:mm:ss"))?1:-1);const o=r.filter(s=>!s.deleted),i=r.filter(s=>s.deleted);for(let s=0;s<o.length;s++){const c=o[s],d=await _e.createOrPatchThinoFromWeb(c);d&&_e.pushMemo(d)}for(let s=0;s<i.length;s++){const c=i[s],d=_e.getMemoByWebId(c.id);d&&await _e.deleteMemoById(d.id,"local")}_e.updateTagsState(),OQ(t)};function AQ(){const{settings:e,app:t,view:n}=yt.getState(),{globalState:{loaded:r,memoListView:o}}=j.useContext(Pt),i=C.Platform.isMobile&&e.DefaultEditorLocation==="Bottom",s=ie.useRef(null),[c,d]=ie.useState([]);j.useEffect(()=>{if(!t||!r||!n||!(t==null?void 0:t.loadLocalStorage("tokenForSync"))||!e.startSync)return;s.current=window.setInterval(async()=>{const v=_1(t);await sd(v)},3e4),n.registerInterval(s.current);const g=_1(t);return sd(g),()=>{s.current&&window.clearInterval(s.current)}},[n,t,r,e.startSync]);const h=[y.jsx(ug,{thinosCount:c.length,thinos:c},"filter"),y.jsx(gQ,{updateThinos:m=>{d(m)}},"list")];return y.jsx(y.Fragment,{children:o==="chat"?y.jsx(y.Fragment,{children:[y.jsx(Xy,{syncThino:sd},"header"),...h.reverse(),y.jsx(fd,{className:"mod-editor-bottom",editorType:"inline"},"editor")]}):y.jsx(y.Fragment,{children:i?[y.jsx(Xy,{syncThino:sd},"header"),...h,y.jsx(fd,{className:"mod-editor-bottom",editorType:"block"},"editor")]:[y.jsx(Xy,{syncThino:sd},"header"),y.jsx(fd,{editorType:"block"},"editor"),...h]})})}function FQ(e){try{e!=null&&e.saveLocalStorage&&(e==null||e.saveLocalStorage("thinoLastUpdated",C.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x")))}catch(t){console.error(t)}}function _1(e){try{const t=(e==null?void 0:e.loadLocalStorage)&&(e==null?void 0:e.loadLocalStorage("thinoLastUpdated"));return t||C.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x")}catch(t){return console.error(t),C.moment().format("x")}}function OQ(e){try{e!=null&&e.saveLocalStorage&&(e==null||e.saveLocalStorage("thinoLastUpdated",C.moment().format("x")))}catch(t){console.error(t)}}function Ph(e=!0){const[t,n]=j.useState({isLoading:e,isFailed:!1,isSucceed:!1,isPending:!1});return{...t,setLoading:()=>{n({...t,isLoading:!0,isFailed:!1,isPending:!1,isSucceed:!1})},setFinish:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!1,isSucceed:!0})},setError:()=>{n({...t,isLoading:!1,isFailed:!0,isPending:!1,isSucceed:!1})},setPending:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!0,isSucceed:!1})}}}const PQ={text:x("SELECT"),value:""},jQ=e=>{const{className:t,dataSource:n,handleValueChanged:r,value:o}=e,[i,s]=fl(!1),c=j.useRef(null);let d=PQ;for(const g of n)if(g.value===o){d=g;break}j.useEffect(()=>{if(i){const g=v=>{var b;(b=c.current)!=null&&b.contains(v.target)||s(!1)};window.addEventListener("click",g,{capture:!0,once:!0})}},[i]);const h=g=>{r&&r(g.value),s(!1)},m=g=>{g.stopPropagation(),s()};return y.jsxs("div",{className:`selector-wrapper ${t||""}`,ref:c,children:[y.jsxs("div",{className:`current-value-container ${i?"active":""}`,onClick:m,children:[y.jsx("span",{className:"value-text",children:d.text}),y.jsx("span",{ref:g=>{g&&C.setIcon(g,"chevron-right")},className:"btn arrow-text"})]}),y.jsx("div",{className:`items-wrapper ${i?"":"hidden"}`,children:n.map(g=>y.jsx("div",{className:`item-container ${g.value===o?"selected":""}`,onClick:()=>{h(g)},children:g.text},g.value))})]})},Gf=j.memo(jQ),oS=e=>{const{destroy:t,queryId:n,type:r="dialog"}=e,[o,i]=j.useState(""),[s,c]=j.useState(r!=="dialog"?[ED()]:[]),d=Ph(!1),[h,m]=j.useState(!1),[g,v]=fl(!1),b=_e.getState().memos.filter(L=>!(L.deletedAt!==""&&L.deletedAt)).filter(L=>Dh(L,s)).length;j.useEffect(()=>{D()},[n]);const D=()=>{const L=Qt.getQueryById(n??"");if(L){i(L.title);const z=JSON.parse(L.querystring);return Array.isArray(z)&&c(z),L}},T=L=>{const z=L.target.value;i(z)},I=async()=>{if(!o)return new C.Notice(x("TITLE CANNOT BE NULL!")),null;if(s.length===0)return new C.Notice(x("FILTER CANNOT BE NULL!")),null;if(s.length===1&&s[s.length-1].value.value==="")return new C.Notice(x("Please finish the last filter setting first")),null;let L;try{n&&!n.startsWith("Filter [Temp] ")?(L=await Qt.updateQuery(n,o,JSON.stringify(s)),Qt.editQuery(L),await Qt.getMyAllQueries()):(L=await Qt.createQuery(o,JSON.stringify(s)),Qt.pushQuery(L),await Qt.getMyAllQueries())}catch(z){new C.Notice(z.message)}return L},O=async()=>{switch(r){case"modal":case"inline":if(s.length===0){new C.Notice(x("FILTER CANNOT BE NULL!"));return}if(s.length===1&&s[s.length-1].value.value===""){new C.Notice(x("Please finish the last filter setting first"));return}try{const L=Qt.getQueryById(n??"");if(L&&JSON.stringify(s)===L.querystring){ot.setMemoFilter(L.id),t();return}const z=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(s));Qt.pushQuery(z),ot.setMemoFilter(z.id)}catch(L){new C.Notice(L.message)}t();break;case"dialog":try{if(!await I())return}catch(L){console.error(L),new C.Notice(L.message)}t();break}},N=()=>{if(s.length===0){new C.Notice(x("FILTER CANNOT BE NULL!"));return}if(h){ot.setMemoFilter(""),m(!1);return}const L=Qt.getQueryById(n??"");if(L&&JSON.stringify(s)===L.querystring){ot.setMemoFilter(L.id);return}const z=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(s));Qt.pushQuery(z),ot.setMemoFilter(z.id),e.setPreview&&e.setPreview(z.id),m(!0)},B=()=>{if(s.length>0&&s[s.length-1].value.value===""){new C.Notice(x("Please finish the last filter setting first"));return}c([...s,ED()])},P=j.useCallback((L,z)=>{c(V=>{const Z=[...V];return Z[L]=z,Z})},[]),U=j.useCallback(L=>{c(z=>z.filter((Z,$)=>$!==L))},[]);return y.jsxs(y.Fragment,{children:[r==="dialog"&&y.jsxs("div",{className:"dialog-header-container",children:[y.jsxs("span",{className:"title-text",children:[y.jsx("span",{className:"icon-text",children:"🔖"}),x(n?"EDIT QUERY":"CREATE QUERY")]}),y.jsx("button",{ref:L=>{L&&C.setIcon(L,"x")},className:"btn close-btn",onClick:t})]}),y.jsxs("div",{className:"dialog-content-container",children:[(r==="dialog"||g)&&y.jsxs("div",{className:"form-item-container input-form-container",children:[y.jsx("span",{className:"normal-text",children:x("TITLE")}),y.jsx("input",{className:"title-input",type:"text",value:o,onChange:T})]}),y.jsxs("div",{className:"form-item-container filter-form-container",children:[y.jsx("span",{className:"normal-text",children:x("FILTER")}),y.jsxs("div",{className:"filters-wrapper",children:[s.map((L,z)=>y.jsx(RQ,{index:z,filter:L,handleFilterChange:P,handleFilterRemove:U},z)),y.jsx("div",{className:"create-filter-btn",onClick:B,children:x("ADD FILTER TERMS")})]})]})]}),y.jsx("div",{className:"dialog-footer-container",children:y.jsxs("div",{className:"btns-container",children:[(r==="inline"||r==="modal")&&y.jsx("button",{className:`btn ${g?"mod-cta":"save-btn"}`,onClick:async()=>{if(!g)v();else{const L=await I();v(!1),t(),L&&ot.setMemoFilter(L.id)}},children:x(g?"Set and save":"Save")}),y.jsxs("div",{className:"btns-group-container",children:[y.jsxs("span",{className:`tip-text ${s.length===0&&"hidden"}`,children:[x("MATCH")," Thino ",y.jsx("strong",{children:b})," ",x("TIMES")]}),y.jsx(y.Fragment,{children:r==="inline"&&y.jsx("button",{className:"btn mod-cta",onClick:N,children:x("Preview")})}),y.jsx("button",{className:`btn save-btn ${d.isLoading?"requesting":""}`,onClick:O,children:x(r==="inline"||r==="modal"?"Filter":n?"EDIT":"Save")})]})]})})]})},LQ=e=>{const{index:t,filter:n,handleFilterChange:r,handleFilterRemove:o}=e,{type:i}=n,s=j.useRef(null),c=j.useRef(null),d=j.useRef(n),h=j.useRef(i);j.useEffect(()=>{d.current=e.filter},[n]),j.useEffect(()=>{if(s.current)return i==="TAG"&&!c.current&&(h.current=i,c.current=new Db(s.current,b)),()=>{c.current&&(c.current.destroy(),c.current=null)}},[s,i]);const m=j.useCallback(I=>{["AND","OR"].includes(I)&&r(t,{...n,relation:I})},[n]),g=j.useCallback(async I=>{var O;if(n.type!==I){const{verifyState:N}=yt.getState(),B=!C.Platform.isDesktop&&await((O=window.Capacitor)==null?void 0:O.Plugins.Device.getId()),P=C.Platform.isDesktop?await er():B.identifier||B.uuid,U=N&&(N==null?void 0:N.appId)===P;if(I==="SOURCE"&&!U){An();return}const L=Object.values(Ju[I].operators);r(t,{...n,type:I,value:{operator:L[0].value,value:""}})}},[n]),v=j.useCallback(I=>{r(t,{...n,value:{...n.value,operator:I}})},[n]),b=j.useCallback(I=>{r(t,{...d.current,value:{...d.current.value,value:I}})},[n]),D=()=>{o(t)},T={TYPE:y.jsx(Gf,{className:"value-selector",dataSource:Ju.TYPE.values,value:n.value.value,handleValueChanged:b}),LIST:y.jsx(Gf,{className:"value-selector",dataSource:Ju.LIST.values,value:n.value.value,handleValueChanged:b}),SOURCE:y.jsx(Gf,{className:"value-selector",dataSource:Ju.SOURCE.values,value:n.value.value,handleValueChanged:b}),TAG:y.jsx("input",{type:"text",id:Math.random().toString(36).substring(7),className:"value-inputer",ref:s,value:n.value.value,onChange:I=>{b(I.target.value)}}),TEXT:y.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:I=>{b(I.target.value)}}),DATE:y.jsxs("div",{className:"date-inputer",children:[y.jsx(lv,{type:"icon",handleValueChange:b}),y.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:I=>{b(I.target.value)}})]})};return y.jsxs("div",{className:"memo-filter-input-wrapper",children:[t>0&&y.jsx(Gf,{className:"relation-selector",dataSource:B9,value:n.relation,handleValueChanged:m}),y.jsx(Gf,{className:"type-selector",dataSource:Object.values(Ju),value:n.type,handleValueChanged:g}),y.jsxs(y.Fragment,{children:[Object.keys(Ju).includes(i)&&y.jsx(Gf,{className:"operator-selector",dataSource:Object.values(Ju[i].operators),value:n.value.operator,handleValueChanged:v}),T[i]]}),y.jsx("div",{ref:I=>{I&&C.setIcon(I,"x")},className:"btn remove-btn",onClick:D})]})},RQ=j.memo(LQ);function B1(e){_v({className:"create-query-dialog"},oS,{queryId:e})}const iS=e=>{var b,D;const{dailyNotesState:{app:t,verifyState:n},locationState:{query:r}}=j.useContext(Pt),o=ie.useRef(null),[i,s]=ie.useState(!1),c=ie.useRef(null),[d,h]=ie.useState(""),m=Vv(o.current,c.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,10]}}]});j.useEffect(()=>{i&&m.update&&(m==null||m.update())},[i]),j.useEffect(()=>{o&&C.setIcon(o.current,"filter")},[o]);const g=async()=>{var O;const T=!C.Platform.isDesktop&&await((O=window.Capacitor)==null?void 0:O.Plugins.Device.getId()),I=C.Platform.isDesktop?await er():T.identifier||T.uuid;return!n||(n==null?void 0:n.appId)!==I?(An(),!1):!0};return Gm(c,()=>{s(!1),d&&ot.getState().query.filter===d&&ot.setMemoFilter("")}),y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"thino-inline-filter-wrapper pro",ref:o,onClick:async()=>{await g()&&(C.Platform.isDesktop?(s(!i),await(m==null?void 0:m.update())):new _Q(yt.getState().app,r.filter,I=>{h(I)}).open())}}),y.jsx("div",{ref:c,className:`thino-inline-filter-container ${i?"":"hidden"}`,style:m.styles.popper,children:i&&y.jsx(oS,{type:"inline",queryId:(b=r.filter)!=null&&b.startsWith("Filter [Temp] ")&&!((D=r.filter)!=null&&D.includes("Filter [Temp]"))?"":r.filter,destroy:()=>{s(!1)},setPreview:T=>{h(T)}})})]})};class _Q extends C.Modal{constructor(n,r,o){super(n);De(this,"root");De(this,"setPreview");this.filter=r,this.setPreview=o}onOpen(){var r,o;const{contentEl:n}=this;this.root=Wm(n),this.root.render(y.jsx(Pa,{store:Le,context:Pt,children:y.jsx("div",{className:"thino-inline-filter-container",children:y.jsx(oS,{type:"modal",queryId:(r=this.filter)!=null&&r.startsWith("Filter [Temp] ")&&!((o=this.filter)!=null&&o.includes("Filter [Temp]"))?"":this.filter,destroy:()=>{this.close()},setPreview:i=>{this.setPreview(i)}})})}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const DM=()=>{const{dailyNotesState:{app:e},globalState:{isMobileView:t,showSiderbarInMobileView:n}}=j.useContext(Pt),[r]=j.useState(ie.createRef());j.useEffect(()=>{if(!r.current)return;const i=r.current;C.setIcon(i,"refresh-cw")},[r.current]);const o=j.useCallback(async()=>{if(!(t&&n)){if(sd){const i=_1(e);await sd(i)}await _e.fetchAllMemos()}},[]);return y.jsx("span",{className:"refresh-icon",ref:r,onClick:()=>{o(),r&&r.current.firstElementChild.toggleClass("rotate-hidden",!0),setTimeout(()=>{r&&r.current.firstElementChild.toggleClass("rotate-hidden",!1)},1e3)}})},Xy=()=>{const{locationState:{query:{filter:e}},globalState:{isMobileView:t},queryState:{queries:n}}=j.useContext(Pt),[r,o]=j.useState("THINO");j.useEffect(()=>{const s=Qt.getQueryById(e);o(s?s.title:"THINO")},[e,n]);const i=j.useCallback(s=>{s.stopPropagation(),ft.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"section-header-container memos-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(ka,{when:t,children:y.jsx("button",{ref:s=>{s&&C.setIcon(s,"menu")},className:"btn action-btn clickable-icon",onClick:i})}),y.jsx("span",{className:"normal-text",children:r}),y.jsx(DM,{})]}),y.jsxs("div",{className:"memos-header-search-section",children:[y.jsx(K9,{}),y.jsx(J9,{}),y.jsx(iS,{}),y.jsx($m,{})]})]})},BQ=()=>{const{dailyNotesState:{settings:e,app:t,verifyState:n},globalState:{manifest:r,showSiderbarInMobileView:o,isMobileView:i}}=j.useContext(Pt),[s,c]=j.useState("Memos"),[d,h]=j.useState(!1),[m,g]=j.useState("");j.useEffect(()=>{if(!(e!=null&&e.MomentsIcon)||!t)return;const D=t.vault.adapter.getResourcePath(C.normalizePath(e.MomentsIcon));D&&!(e!=null&&e.MomentsIcon.startsWith("http"))?g(D):g(e==null?void 0:e.MomentsIcon)},[e==null?void 0:e.MomentsIcon,t]),j.useEffect(()=>{e&&c(e.UserName)},[e]);const v=j.useCallback(()=>{ot.pushHistory("/"),ot.clearQuery()},[]),b=()=>{const D=document.querySelector(".memos-sidebar-wrapper"),T=document.querySelector(".menu-btns-popup");T.style.top=70-D.scrollTop+"px",h(!0)};return y.jsxs("div",{className:"user-banner-container",children:[y.jsxs("div",{className:"userinfo-header-container",children:[y.jsxs("div",{className:"userinfo-container",onClick:()=>{t.setting.open(),t.setting.openTabById(r.id||"obsidian-memos")},children:[y.jsx("div",{ref:D=>{if(m){D==null||D.empty();return}m||D&&C.setIcon(D,"Memos")},className:"thino-user-icon",style:{backgroundImage:`url("${m}")`}}),y.jsxs("div",{className:"thino-user-info",children:[y.jsxs("span",{className:"username-container",children:[y.jsx("span",{"aria-label":s==="MEMO 😉"?"THINO 😉":s||"THINO",className:"username-text",onClick:v,children:s==="MEMO 😉"?"THINO 😉":s||"THINO"}),y.jsx("span",{className:`user-pro-badge ${n?"activated":""}`,onClick:()=>{t.setting.open(),t.setting.openTabById(r.id||"obsidian-memos")},children:"PRO"})]}),(e==null?void 0:e.MomentsQuote)&&y.jsx("span",{className:"thino-user-quote",children:e==null?void 0:e.MomentsQuote})]})]}),y.jsxs("span",{className:"btn-group",children:[(e==null?void 0:e.DefaultThemeForThino)==="modern"&&!i&&y.jsx(DM,{}),y.jsx("span",{ref:D=>{D&&D.hasChildNodes()||D&&C.setIcon(D,"more-horizontal")},className:"btn action-btn menu-popup-btn",onClick:b}),o&&y.jsx("span",{ref:D=>{D&&D.hasChildNodes()||D&&C.setIcon(D,"x")},className:"btn action-btn",onClick:()=>{ft.setShowSiderbarInMobileView(!1)}})]}),y.jsx(P9,{shownStatus:d,setShownStatus:h})]}),y.jsx(hb,{statusType:"banner"})]})},AT=()=>{const{queryState:{queries:e},dailyNotesState:{app:t},locationState:{query:{filter:n}}}=j.useContext(Pt),r=Ph(),[o,i]=j.useState([]);return j.useEffect(()=>{const s=e.filter(c=>{var d,h;return!((d=c.id)!=null&&d.toString().startsWith("Filter [Temp]"))&&!((h=c.id)!=null&&h.toString().includes("Filter [Temp]"))}).sort((c,d)=>{if(d.pinnedAt&&!c.pinnedAt)return 1;if(c.pinnedAt&&!d.pinnedAt)return-1;const h=at.getTimeStampByDate(c.pinnedAt||c.createdAt);return at.getTimeStampByDate(d.pinnedAt||d.createdAt)-h});i(s)},[e]),j.useEffect(()=>{Qt.getMyAllQueries().catch(()=>{}).finally(()=>{r.setFinish()})},[t]),y.jsxs("div",{className:"queries-wrapper",children:[y.jsxs("span",{className:"title-text",children:[y.jsx("span",{className:"normal-text",children:x("QUERY")}),y.jsx("span",{ref:s=>{s&&C.setIcon(s,"plus")},className:"btn create-query-btn",onClick:()=>B1()})]}),y.jsx(ka,{when:r.isSucceed&&o.length===0,children:y.jsx("div",{className:"create-query-btn-container",children:y.jsx("span",{className:"btn",onClick:()=>B1(),children:x("CREATE FILTER")})})}),y.jsx("div",{className:"queries-container",children:o.map(s=>y.jsx(HQ,{query:s,isActive:s.id===n},`${s.id}-${C.moment(s.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}`))})]})},HQ=e=>{const{query:t,isActive:n}=e,[r,o]=fl(!1),[i,s]=fl(!1),c=()=>{ot.setMemoFilter(n?"":t.id)},d=T=>{T.stopPropagation(),o()},h=()=>{o(!1)},m=async T=>{if(T.stopPropagation(),i)try{await Qt.deleteQuery(t.id)}catch(I){new C.Notice(I.message)}else s()},g=T=>{T.stopPropagation(),B1(t.id)},v=async T=>{T.stopPropagation();try{t.pinnedAt?await Qt.unpinQuery(t.id):await Qt.pinQuery(t.id),Qt.editQuery({...t,pinnedAt:t.pinnedAt?"":at.getDateTimeString(Date.now())})}catch(I){console.error(I)}},b=()=>{s(!1)},D=j.useMemo(()=>y.jsxs("div",{className:"action-btns-container",children:[y.jsxs("span",{className:"btn",onClick:v,children:[y.jsx("span",{ref:T=>{T&&C.setIcon(T,t.pinnedAt?"pin-off":"pin")},className:"icon-text"}),y.jsx("span",{className:"normal-text",children:t.pinnedAt?x("UNPIN"):x("PIN")})]}),y.jsxs("span",{className:"btn",onClick:g,children:[y.jsx("span",{ref:T=>{T&&!T.hasChildNodes()&&C.setIcon(T,"edit")},className:"icon-text"}),y.jsx("span",{className:"normal-text",children:x("EDIT")})]}),y.jsxs("span",{className:`btn delete-btn ${i?"final-confirm":""}`,onClick:m,onMouseLeave:b,children:[y.jsx("span",{ref:T=>{T&&!T.hasChildNodes()&&C.setIcon(T,"trash-2")},className:"icon-text"}),y.jsx("span",{className:"normal-text",children:x(i?"CONFIRM！":"DELETE")})]})]}),[t.pinnedAt,i]);return y.jsx(y.Fragment,{children:y.jsxs("div",{className:`query-item-container ${n?"active":""}`,onClick:c,children:[y.jsxs("div",{className:"query-text-container",children:[y.jsx("span",{ref:T=>{T&&!T.hasChildNodes()&&C.setIcon(T,"filter")},className:"icon-text"}),y.jsxs("span",{className:"query-text",children:[t.title,t.pinnedAt&&" 📌"]})]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:T=>{T&&!T.hasChildNodes()&&C.setIcon(T,"more-horizontal")},className:"btn action-btn toggle-btn",onClick:d}),y.jsx("div",{className:`action-btns-wrapper ${r?"":"hidden"}`,onMouseLeave:h,children:D})]})]})})},FT=()=>{var v,b;const{locationState:{query:{tag:e,filter:t}},dailyNotesState:{app:n},memoState:{tags:r,tagsNum:o,memos:i}}=j.useContext(Pt),s=t&&((v=t==null?void 0:t.toString())==null?void 0:v.startsWith("Filter [Temp] "))&&Qt.getQueryById(t),[c,d]=j.useState([]),[h,m]=j.useState(((b=n||app)==null?void 0:b.loadLocalStorage("thino-tag-sort-order"))||"alphabetical");j.useEffect(()=>{var T;const D=(T=n||app)==null?void 0:T.loadLocalStorage("thino-temp-tags");d(D||[])},[]),j.useEffect(()=>{_e.updateTagsState()},[i]),j.useEffect(()=>{const D=Array.from(r).sort(),T={subTags:[]};for(const I of D){const O=I.split("/");let N=T,B="";for(let P=0;P<O.length;P++){const U=O[P];B+=P===0?U:"/"+U;let L=N.subTags.find(z=>z.text===B);if(L||(L={key:U,text:B,count:o[B]||0,subTags:[],parent:N},N.subTags.push(L)),P===O.length-1){let z=L.parent;for(;z;)z.count||(z.count=0),z.count+=o[B]||0,z=z.parent}N=L}}d(T.subTags)},[r]),j.useEffect(()=>{var D;_e.initialized&&((D=n||app)==null||D.saveLocalStorage("thino-temp-tags",c))},[c]);const g=D=>{D.stopPropagation();const T=new C.Menu;for(const I of["alphabetical","alphabeticalReverse","byCount","byCountReverse"])T.addItem(O=>{O.setTitle(x(I)).onClick(()=>{m(I),n==null||n.saveLocalStorage("thino-tag-sort-order",I)}).setChecked(h===I)}),I==="alphabeticalReverse"&&T.addSeparator();T.showAtMouseEvent(D.nativeEvent)};return y.jsxs("div",{className:"tags-wrapper",children:[y.jsxs("div",{className:"tags-header title-text",children:[y.jsx("span",{className:"normal-text",children:x("Frequently Used Tags")}),y.jsx("span",{ref:D=>{D&&C.setIcon(D,"arrow-down-narrow-wide")},className:"tags-sort-btn",onClick:g})]}),y.jsxs("div",{className:"tags-container",children:[c.sort(UQ(h)).map((D,T)=>y.jsx(TM,{tag:D,tagQuery:e,filterQuery:s},D.text+"-"+T)),y.jsx(ka,{when:c.length<5&&_e.initialized,children:y.jsxs("span",{className:"tag-tip-container",children:[x("Input")," ",y.jsxs("span",{className:"code-text",children:[x("#Tag")," "]}),x("to create tag"),"..."]})})]})]})},TM=e=>{const{tag:t,tagQuery:n,filterQuery:r}=e,o=n===t.text||r&&JSON.parse(r.querystring).find(m=>m.type==="TAG"&&m.value.value===t.text),i=t.subTags.length>0,[s,c]=fl(!1),d=async m=>{var g;if(m.ctrlKey||m.metaKey){const{verifyState:v}=yt.getState(),b=!C.Platform.isDesktop&&await((g=window.Capacitor)==null?void 0:g.Plugins.Device.getId()),D=C.Platform.isDesktop?await er():b.identifier||b.uuid;if(!(v&&(v==null?void 0:v.appId)===D)){An();return}const I=ot.getState().query.filter;if(I&&(I!=null&&I.startsWith("Filter [Temp] "))){const N=Qt.getQueryById(I).querystring,B=JSON.parse(N);let P;if(B.some(U=>U.type==="TAG"&&U.value.value===t.text)){if(P=B.filter(L=>L.value.value!==t.text),P.length===0){ot.setMemoFilter("");return}const U=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{...P[0],relation:"AND"},...P.slice(1)]));Qt.pushQuery(U),ot.setMemoFilter(U.id)}else{P=[...B,{type:"TAG",value:{value:t.text,operator:"CONTAIN"},relation:"OR"}];const U=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(P));Qt.pushQuery(U),ot.setMemoFilter(U.id)}}else if(n){ot.setTagQuery("");const O=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{type:"TAG",value:{value:n,operator:"CONTAIN"},relation:"AND"},{type:"TAG",value:{value:t.text,operator:"CONTAIN"},relation:"OR"}]));Qt.pushQuery(O),ot.setMemoFilter(O.id)}else if(!n){const O=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{type:"TAG",value:{value:t.text,operator:"CONTAIN"},relation:"AND"}]));Qt.pushQuery(O),ot.setMemoFilter(O.id)}at.copyTextToClipboard(`#${t.text} `),["/","/recycle","/archive","/daily"].includes(ot.getState().pathname)||ot.setPathname("/");return}if(o){if(ot.setTagQuery(""),r){const b=JSON.parse(r.querystring).filter(T=>T.value.value!==t.text);if(b.length===0){ot.setMemoFilter("");return}const D=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{...b[0],relation:"AND"},...b.slice(1)]));Qt.pushQuery(D),ot.setMemoFilter(D.id)}}else await at.copyTextToClipboard(`#${t.text} `),["/","/recycle","/archive","/daily"].includes(ot.getState().pathname)||ot.setPathname("/"),ot.setTagQuery(t.text)},h=m=>{m.stopPropagation(),c()};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:`tag-item-container ${o?"active":""}`,onClick:d,children:[y.jsxs("div",{className:"tag-text-container",children:[y.jsx("span",{ref:m=>{m&&C.setIcon(m,"hash")},className:"btn tag-btn"}),y.jsx("span",{className:"tag-text",children:t.key})]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{className:"tag-count",children:t.count}),i?y.jsx("span",{ref:m=>{m&&C.setIcon(m,"chevron-right")},className:`btn action-btn toggle-btn ${s?"shown":""}`,onClick:h}):null]})]}),i?y.jsx("div",{className:`subtags-container ${s?"":"hidden"}`,children:t.subTags.map((m,g)=>y.jsx(TM,{tag:m,tagQuery:n},m.text+"-"+g))}):null]})},OT=new Intl.Collator(void 0,{usage:"sort",sensitivity:"base",numeric:!0}).compare,Vw={alphabetical:(e,t)=>OT(e.text,t.text),alphabeticalReverse:(e,t)=>-OT(e.text,t.text),byCount:(e,t)=>t.count-e.count,byCountReverse:(e,t)=>e.count-t.count},UQ=(e="byCount")=>Vw.hasOwnProperty(e)?Vw[e]:Vw.alphabetical,PT=()=>{const{dailyNotesState:{app:e,settings:t,verifyState:n}}=j.useContext(Pt),r=[{name:x("Random Review"),path:"/review",iconID:"star"},{name:x("ARCHIVE"),path:"/archive",iconID:"archive"},{name:x("Recycle bin"),path:"/recycle",iconID:"recycle"}],o=j.useRef([]);return j.useEffect(()=>{o.current.forEach((i,s)=>{i&&C.setIcon(i,r[s].iconID)})},[t,o]),y.jsx(y.Fragment,{children:y.jsx("div",{className:"path-entry-wrapper",children:r.map((i,s)=>y.jsx(y.Fragment,{children:y.jsxs("div",{className:`path-entry-container ${ot.getState().pathname===i.path?"active":""} ${t.DeleteThinoDirectly&&i.path==="/recycle"?"hidden":""} ${i.path==="/review"&&"pro"}`,onClick:async()=>{var h;const c=!C.Platform.isDesktop&&await((h=window.Capacitor)==null?void 0:h.Plugins.Device.getId()),d=C.Platform.isDesktop?await er():c.identifier||c.uuid;if(!n&&(n==null?void 0:n.appId)!==d&&i.path==="/review"){An();return}if(ot.setPathname(i.path),i.path==="/review"&&ot.getState().pathname==="/review"){e.workspace.trigger("refresh-review-memos");return}ot.clearQuery()},children:[y.jsx("span",{ref:c=>o.current[s]=c,className:"path-entry-icon"}),y.jsx("span",{className:"path-entry-text",children:i.name})]},s)}))})})},jT=e=>{const{dailyNotesState:{settings:t},locationState:n,globalState:{isMobileView:r,showSiderbarInMobileView:o}}=j.useContext(Pt),i=j.useRef(null),s=j.useMemo(()=>c=>{var h,m,g;const d=ft.getState().showSiderbarInMobileView;if(!d){window.removeEventListener("click",s,{capture:!0});return}(h=i.current)!=null&&h.contains(c.target)||(g=(m=i.current)==null?void 0:m.parentNode)!=null&&g.contains(c.target)&&(d&&c.stopPropagation(),ft.setShowSiderbarInMobileView(!1),window.removeEventListener("click",s,{capture:!0}))},[]);return j.useEffect(()=>{ft.setShowSiderbarInMobileView(!1)},[n]),j.useEffect(()=>{o?document.body.classList.add(HS):document.body.classList.remove(HS)},[o]),j.useEffect(()=>{r&&o&&window.addEventListener("click",s,{capture:!0})},[r,o]),y.jsxs("aside",{className:Gn("memos-sidebar-wrapper",e.className),ref:i,children:[e.children,y.jsx(BQ,{}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="right"?y.jsx(bm,{}):null:y.jsx(bm,{}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="left"?y.jsxs(y.Fragment,{children:[y.jsx(PT,{}),y.jsx(AT,{}),y.jsx(hb,{statusType:"sidebar"})]}):null:y.jsxs(y.Fragment,{children:[y.jsx(PT,{}),y.jsx(AT,{})]}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="right"?y.jsx(y.Fragment,{children:y.jsx(FT,{})}):null:y.jsx(y.Fragment,{children:y.jsx(FT,{})})]})},YQ=()=>{const{dailyNotesState:{settings:e}}=j.useContext(Pt),[t,n]=ie.useState(""),r=o=>{n(o.target.value)};return y.jsx("div",{className:"locked-screen-wrapper",children:y.jsxs("div",{className:"locked-screen-content",children:[y.jsx("div",{className:"locked-screen-header",children:y.jsx("div",{className:"locked-screen-header-title",children:x("Locked")})}),y.jsx("div",{className:"locked-screen-body",children:y.jsxs("div",{className:"locked-screen-body-content",children:[y.jsxs("div",{className:"locked-screen-body-content-text",children:[y.jsx("div",{className:"locked-screen-body-content-text-title",children:x("Thino is locked")}),y.jsx("div",{className:"locked-screen-body-content-text-desc",children:x("Please unlock Thino by input password")})]}),y.jsxs("div",{className:"locked-screen-body-content-inputer",children:[y.jsx("input",{onKeyDown:o=>{o.key==="Enter"&&((e==null?void 0:e.password)===t?ft.setLocked(!1):new C.Notice(x("Password is incorrect")))},onChange:r,value:t,type:"password",className:"locked-screen-body-content-input"}),y.jsx("button",{className:"locked-screen-body-content-btn",onClick:()=>{(e==null?void 0:e.password)===t?ft.setLocked(!1):new C.Notice(x("Password is incorrect"))},children:x("Unlock")})]})]})})]})})};class id extends Sx{fuzzySearchItemsOptimized(t,n){const r=C.prepareFuzzySearch(t);return n.map(o=>{const i=r(o.path);return i?{item:o,match:i,score:i.score}:null}).sort((o,i)=>(i==null?void 0:i.score)-(o==null?void 0:o.score)).filter(Boolean)}getSuggestions(t){const r=app.vault.getFiles().filter(i=>["png","jpg","jpeg","gif"].includes(i.extension)),o=t.toLowerCase();return this.fuzzySearchItemsOptimized(o,r).map(i=>i.item)}renderSuggestion(t,n){var i;const r=t.basename,o=((i=t.parent)==null?void 0:i.path)||"";n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:r}),n.createSpan({cls:"suggestion-path",text:o})}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}}const zQ=e=>{const{dailyNotesState:{settings:t,app:n,plugin:r},globalState:{manifest:o}}=j.useContext(Pt),[i,s]=ie.useState(0),[c,d]=ie.useState(""),h=ie.useRef(null),m=ie.useRef(null),[g,v]=ie.useState({enabled:!1,path:"",format:""});j.useEffect(()=>{if(i===2&&(t!=null&&t.EnabledLocationList.find(I=>I.value==="DAILY")))if(!mm())v({enabled:!1,path:"",format:""});else{const I=ec().folder,O=ec().format;v({enabled:!0,path:I,format:O})}},[i]),j.useEffect(()=>{if(!(t!=null&&t.MomentsIcon)||!n){d("");return}const I=n.vault.adapter.getResourcePath(C.normalizePath(t.MomentsIcon));I&&!(t!=null&&t.MomentsIcon.startsWith("http"))?d(I):d(t==null?void 0:t.MomentsIcon)},[t==null?void 0:t.MomentsIcon,n]),j.useEffect(()=>{m&&(m.current=null)},[i]),j.useEffect(()=>{h.current&&(m.current||(m.current=new id(h.current)))},[h.current]);const b=(I,O)=>{let N=r;N||(N=n.plugins.getPlugin("obsidian-memos")),N.settingTab.updateSettings(I,O)},D=j.useMemo(()=>{switch(i){case 0:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:x("Get started with Thino")}),y.jsx("p",{children:x("Set up your user info for Thino.")})]});case 1:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:x("Set theme for Thino")}),y.jsx("p",{children:x("Choose a theme for Thino.")})]});case 2:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:x("Go with daily note plugin")}),y.jsx("p",{children:x("If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.")})]});case 3:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:x("Set preferences for using Thino")}),y.jsx("p",{children:x("Adjust settings that influence your user experience with Thino.")})]});case 4:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:x("Congrats! All settings done")}),y.jsx("p",{children:x("Go and enjoy Thino")})]})}},[i]),T=()=>{switch(i){case 0:return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"thino-user-preview-wrapper",children:y.jsxs("div",{className:"userinfo-container",onClick:()=>{n.setting.open(),n.setting.openTabById(o.id||"obsidian-memos")},children:[y.jsx("div",{ref:I=>{if(t!=null&&t.MomentsIcon){I==null||I.empty();return}t!=null&&t.MomentsIcon||I&&C.setIcon(I,"Memos")},className:"thino-user-icon",style:{backgroundImage:`url("${c}")`}}),y.jsxs("div",{className:"thino-user-info",children:[y.jsx("span",{className:"username-container",children:y.jsx("span",{"aria-label":(t==null?void 0:t.UserName)==="MEMO 😉"?"THINO 😉":(t==null?void 0:t.UserName)||"THINO",className:"username-text",children:(t==null?void 0:t.UserName)==="MEMO 😉"?"THINO 😉":(t==null?void 0:t.UserName)||"THINO"})}),(t==null?void 0:t.MomentsQuote)&&y.jsx("span",{className:"thino-user-quote",children:t==null?void 0:t.MomentsQuote})]})]})}),y.jsxs("div",{className:"thino-user-info-wrapper",children:[y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("User name")}),y.jsx("div",{className:"setting-item-description",children:x("Set your user name here. 'Memos 😏' By default")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"Thino 😏",defaultValue:t==null?void 0:t.UserName,onInput:I=>b("UserName",I.currentTarget.value)})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("User quote")}),y.jsx("div",{className:"setting-item-description",children:x("Set user quote for thino")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"Share thino with the world",defaultValue:t==null?void 0:t.MomentsQuote,onInput:I=>b("MomentsQuote",I.currentTarget.value)})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("User icon")}),y.jsx("div",{className:"setting-item-description",children:x("Set user icon for thino. You can input http/https link or file path in vault.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",ref:h,placeholder:"Input url or file path",defaultValue:t==null?void 0:t.MomentsIcon,onInput:I=>b("MomentsIcon",I.currentTarget.value)})})]})]})]});case 1:return y.jsx(y.Fragment,{children:y.jsxs("div",{className:Gn("theme-selector-group","selected"),children:[y.jsxs("div",{className:Gn("theme-selector",(t==null?void 0:t.DefaultThemeForThino)==="modern"?"selected":""),onClick:()=>b("DefaultThemeForThino","modern"),children:[y.jsxs("div",{className:"theme-selector-header-component",children:[y.jsx("div",{className:"theme-selector-header",children:x("Modern")}),y.jsx("div",{className:"theme-selector-description",children:x("A modern theme for Thino with a three-column layout and some unique features.")})]}),y.jsxs("div",{className:"theme-selector-content",children:[y.jsx("div",{className:"left-column column-component"}),y.jsx("div",{className:"center-column column-component"}),y.jsx("div",{className:"right-column column-component"})]}),y.jsx("div",{className:"theme-selector-footer",children:y.jsx("button",{className:"mod-cta",disabled:(t==null?void 0:t.DefaultThemeForThino)==="modern",onClick:()=>b("DefaultThemeForThino","modern"),children:(t==null?void 0:t.DefaultThemeForThino)==="modern"?x("Selected"):x("Select")})})]}),y.jsxs("div",{className:Gn("theme-selector",(t==null?void 0:t.DefaultThemeForThino)==="classic"?"selected":""),onClick:()=>b("DefaultThemeForThino","classic"),children:[y.jsxs("div",{className:"theme-selector-header-component",children:[y.jsx("div",{className:"theme-selector-header",children:x("Classic")}),y.jsx("div",{className:"theme-selector-description",children:x("A classic theme for Thino with a two-column layout")})]}),y.jsxs("div",{className:"theme-selector-content",children:[y.jsx("div",{className:"left-column column-component"}),y.jsx("div",{className:"center-column column-component"})]}),y.jsx("div",{className:"theme-selector-footer",children:y.jsx("button",{className:"mod-cta",disabled:(t==null?void 0:t.DefaultThemeForThino)==="classic",onClick:()=>b("DefaultThemeForThino","classic"),children:(t==null?void 0:t.DefaultThemeForThino)==="classic"?x("Selected"):x("Select")})})]})]})});case 2:return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"daily-note-plugin-status",children:[y.jsxs("div",{className:"daily-note-plugin-status-header",children:[y.jsx("div",{className:"plugin-status-header",children:x("Daily note plugin")}),y.jsx("div",{className:"plugin-status-description",children:x("Enable daily note plugin")})]}),y.jsx("div",{className:"daily-note-plugin-status-content",children:g.enabled&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"daily-note-format",children:[y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("Daily note name format")}),y.jsx("div",{className:"setting-item-description",children:x("Set daily note name format")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"YYYY-MM-DD",defaultValue:g.format,onInput:I=>{v({...g,format:I.currentTarget.value.trim()});try{const O=n.internalPlugins.getPluginById("daily-notes");O.instance.options={...O.instance.options,format:I.currentTarget.value.trim()},O.saveData({...O.instance.options,format:I.currentTarget.value.trim()})}catch(O){console.error(O)}}})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("Daily notes folder")}),y.jsx("div",{className:"setting-item-description",children:x("Set daily notes folder")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"YYYY-MM-DD",defaultValue:g.path,onInput:I=>{v({...g,path:I.currentTarget.value.trim()});try{const O=n.internalPlugins.getPluginById("daily-notes");O.instance.options={...O.instance.options,folder:I.currentTarget.value.trim()},O.saveData({...O.instance.options,folder:I.currentTarget.value.trim()})}catch(O){console.error(O)}}})})]})]})})}),y.jsxs("div",{className:"daily-note-plugin-status-footer",children:[!g.enabled&&y.jsx("div",{className:"notice-click",children:x("Click to enable =>")}),y.jsx("button",{className:"mod-cta",disabled:g.enabled,onClick:()=>{if(!g.enabled){n.internalPlugins.getPluginById("daily-notes").enable();const I=ec().folder,O=ec().format;v({enabled:!0,format:O,path:I})}},children:g.enabled?x("Enabled"):x("Enable")})]})]}),y.jsxs("div",{className:"thino-daily-settings-wrapper",children:[y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("Default time prefix")}),y.jsx("div",{className:"setting-item-description",children:x("Set default time prefix for thino in daily notes.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.DefaultTimePrefix,onChange:I=>b("DefaultTimePrefix",I.currentTarget.value),children:[y.jsx("option",{value:"HH:mm",children:"HH:mm"}),y.jsx("option",{value:"HH:mm:ss",children:"HH:mm:ss"})]})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("Set thino insert place")}),y.jsx("div",{className:"setting-item-description",children:x("Set where to insert thino content")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.InsertType,onChange:I=>b("InsertType",I.currentTarget.value),children:[y.jsx("option",{value:"end",children:x("End of the diary")}),y.jsx("option",{value:"custom",children:x("Custom location")})]})})]}),(t==null?void 0:t.InsertType)==="custom"&&y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("Insert after heading")}),y.jsx("div",{className:"setting-item-description",children:x("If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"# Heading",defaultValue:t==null?void 0:t.InsertAfter,onInput:I=>b("InsertAfter",I.currentTarget.value)})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("Set process target")}),y.jsx("div",{className:"setting-item-description",children:x("You can set whole diary or only part of it")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.ProcessContentTarget,onChange:I=>b("ProcessContentTarget",I.currentTarget.value),children:[y.jsx("option",{value:"custom",children:x("Custom")}),y.jsx("option",{value:"whole",children:x("Whole diary")})]})})]}),(t==null?void 0:t.ProcessContentTarget)==="custom"&&y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("Process Memos below")}),y.jsx("div",{className:"setting-item-description",children:x("If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"# Heading",defaultValue:t==null?void 0:t.ProcessEntriesBelow,onInput:I=>b("ProcessEntriesBelow",I.currentTarget.value)})})]})]})]});case 3:return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"thino-custom-settings-wrapper",children:[y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("Default prefix when save thino")}),y.jsx("div",{className:"setting-item-description",children:x("Set the default prefix when create memo, 'List' by default.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.DefaultPrefix,onChange:I=>b("DefaultPrefix",I.currentTarget.value),children:[y.jsx("option",{value:"List",children:x("List")}),y.jsx("option",{value:"Task",children:x("Task")})]})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("Use Tags In Vault")}),y.jsx("div",{className:"setting-item-description",children:x("Use tags in vault rather than only in Memos. False by default.")})]}),y.jsx("div",{className:"setting-item-control",ref:I=>{I&&(I.hasChildNodes()||new C.ToggleComponent(I).setValue((t==null?void 0:t.UseVaultTags)===void 0?!1:t==null?void 0:t.UseVaultTags).onChange(O=>{b("UseVaultTags",O)}))}})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:x("Delete Thino Directly")}),y.jsx("div",{className:"setting-item-description",children:x("When delete thino directly, it will not be moved to trash. False by default.")})]}),y.jsx("div",{className:"setting-item-control",ref:I=>{I&&(I.hasChildNodes()||new C.ToggleComponent(I).setValue((t==null?void 0:t.DeleteThinoDirectly)===void 0?!1:t==null?void 0:t.DeleteThinoDirectly).onChange(O=>{b("DeleteThinoDirectly",O)}))}})]})]})});case 4:return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"thino-congrats",children:[y.jsxs("div",{className:"final-congrats-text",children:[y.jsx("p",{className:"ready-use",children:x("Thino is ready to use. ")}),y.jsx("p",{className:"start-to-use",children:x("You can start using Thino now. If you want to know more about Thino Pro, click the button below.")})]}),y.jsxs("div",{className:"next-btns-group",children:[y.jsx("button",{onClick:()=>{const I=localStorage.getItem("language");I&&(I==="zh"||I==="zh-TW")?window.open("https://pkmer.cn/products/thino"):window.open("https://thino.pkmer.net/en/#price")},children:x("About Thino Pro")}),y.jsx("button",{className:"mod-cta",onClick:()=>{b("FirstLoaded",!1),ft.getState().isMobileView?(setTimeout(()=>{ft.setShowSiderbarInMobileView(!0)},500),setTimeout(()=>{ft.setExitSteps(!0)},1e3)):setTimeout(()=>{ft.setExitSteps(!0)},800)},children:x("Start Thino")})]})]})})}};return y.jsx(y.Fragment,{children:y.jsx("div",{className:"onboarding-view-container",children:y.jsx("div",{className:"onboarding-view-wrapper",children:y.jsxs("div",{"data-onboarding-step":i,className:"onboarding-view-content",children:[y.jsxs("div",{className:"onboarding-step-count",children:[i+1,"/5"]}),y.jsxs("div",{className:"onboarding-view-details",children:[y.jsxs("div",{className:"details-content",children:[y.jsx("div",{className:"onboarding-header-group",children:D}),y.jsx(y.Fragment,{children:y.jsx("div",{className:"onboarding-form",children:T()})})]}),y.jsxs("div",{className:"details-footer",children:[y.jsx("div",{className:"skip-btn",children:i!==4&&y.jsx("button",{onClick:()=>{b("FirstLoaded",!1)},children:x("Skip and start Thino")})}),y.jsxs("div",{className:"navigate-btns-group",children:[i!==0&&y.jsx("button",{onClick:()=>s(i-1),children:x("Back to previous step")}),i!==4&&y.jsx("button",{className:"mod-cta",onClick:()=>s(i+1),children:x("Next step")}),i===4&&y.jsx("button",{className:"details-settings-btn",onClick:()=>{n.setting.open(),n.setting.openTabById(o.id||"obsidian-memos")},children:x("Details settings")})]})]})]})]})})})})};function Iv(e){return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function Fn(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(h){try{d(r.next(h))}catch(m){i(m)}}function c(h){try{d(r.throw(h))}catch(m){i(m)}}function d(h){var m;h.done?o(h.value):(m=h.value,m instanceof n?m:new n(function(g){g(m)})).then(s,c)}d((r=r.apply(e,t||[])).next())})}function On(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(d){return function(h){return function(m){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,m[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&m[0]?r.return:m[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,m[1])).done)return o;switch(r=0,o&&(m=[2&m[0],o.value]),m[0]){case 0:case 1:o=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,r=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!((o=o.length>0&&o[o.length-1])||m[0]!==6&&m[0]!==2)){s=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){s.label=m[1];break}if(m[0]===6&&s.label<o[1]){s.label=o[1],o=m;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(m);break}o[2]&&s.ops.pop(),s.trys.pop();continue}m=t.call(e,s)}catch(g){m=[6,g],r=0}finally{n=o=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([d,h])}}}function LT(e,t,n){var r,o=((r={})[e]=t,r.path="/",r.expires=void 0,r);if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o.expires=i.toUTCString()}var s=[];for(var c in o)s.push("".concat(c,"=").concat(o[c]));return document.cookie=s.join("; "),IM(e)}function IM(e){return(t={},document.cookie.split(";").forEach(function(n){var r=n.split("="),o=r[0],i=r[1];t[o.trim()]=i}),t)[e];var t}function VQ(e,t){t?LT(e._options.dontShowAgainCookie,"true",e._options.dontShowAgainCookieDays):LT(e._options.dontShowAgainCookie,"",-1)}var Ny,H1=(Ny={},function(e,t){return t===void 0&&(t="introjs-stamp"),Ny[t]=Ny[t]||0,e[t]===void 0&&(e[t]=Ny[t]++),e[t]}),dl=new(function(){function e(){this.events_key="introjs_event"}return e.prototype._id=function(t,n,r){return t+H1(n)+(r?"_".concat(H1(r)):"")},e.prototype.on=function(t,n,r,o,i){var s=this._id(n,r,o),c=function(d){return r(o||t,d||window.event)};"addEventListener"in t?t.addEventListener(n,c,i):"attachEvent"in t&&t.attachEvent("on".concat(n),c),t[this.events_key]=t[this.events_key]||{},t[this.events_key][s]=c},e.prototype.off=function(t,n,r,o,i){var s=this._id(n,r,o),c=t[this.events_key]&&t[this.events_key][s];c&&("removeEventListener"in t?t.removeEventListener(n,c,i):"detachEvent"in t&&t.detachEvent("on".concat(n),c),t[this.events_key][s]=null)},e}()),$n=function(e){return typeof e=="function"};function ll(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";n.match(t)||e.setAttribute("class","".concat(n," ").concat(t))}else if(e.classList!==void 0)for(var r=0,o=t.split(" ");r<o.length;r++){var i=o[r];e.classList.add(i)}else e.className.match(t)||(e.className+=" ".concat(t))}function aS(e,t){var n="";return"currentStyle"in e?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function RT(e,t){if(e){var n=function(r){var o=window.getComputedStyle(r),i=o.position==="absolute",s=/(auto|scroll)/;if(o.position==="fixed")return document.body;for(var c=r;c=c.parentElement;)if(o=window.getComputedStyle(c),(!i||o.position!=="static")&&s.test(o.overflow+o.overflowY+o.overflowX))return c;return document.body}(t);n!==document.body&&(n.scrollTop=t.offsetTop-n.offsetTop)}}function sS(){if(window.innerWidth!==void 0)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function _T(e,t,n,r,o){var i;if(t!=="off"&&e&&(i=t==="tooltip"?o.getBoundingClientRect():r.getBoundingClientRect(),!function(c){var d=c.getBoundingClientRect();return d.top>=0&&d.left>=0&&d.bottom+80<=window.innerHeight&&d.right<=window.innerWidth}(r))){var s=sS().height;i.bottom-(i.bottom-i.top)<0||r.clientHeight>s?window.scrollBy(0,i.top-(s/2-i.height/2)-n):window.scrollBy(0,i.top-(s/2-i.height/2)+n)}}function fm(e){e.setAttribute("role","button"),e.tabIndex=0}function f0(e){var t=e.parentElement;return!(!t||t.nodeName==="HTML")&&(aS(e,"position")==="fixed"||f0(t))}function dh(e,t){var n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft;t=t||n;var s=e.getBoundingClientRect(),c=t.getBoundingClientRect(),d=aS(t,"position"),h={width:s.width,height:s.height};return t.tagName.toLowerCase()!=="body"&&d==="relative"||d==="sticky"?Object.assign(h,{top:s.top-c.top,left:s.left-c.left}):f0(e)?Object.assign(h,{top:s.top,left:s.left}):Object.assign(h,{top:s.top+o,left:s.left+i})}function lS(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";e.setAttribute("class",n.replace(t,"").replace(/^\s+|\s+$/g,""))}else e.className=e.className.replace(t,"").replace(/^\s+|\s+$/g,"")}function ac(e,t){var n="";if(e.style.cssText&&(n+=e.style.cssText),typeof t=="string")n+=t;else for(var r in t)n+="".concat(r,":").concat(t[r],";");e.style.cssText=n}function Gl(e,t,n){if(n&&t){var r=dh(t.element,e._targetElement),o=e._options.helperElementPadding;t.element instanceof Element&&f0(t.element)?ll(n,"introjs-fixedTooltip"):lS(n,"introjs-fixedTooltip"),t.position==="floating"&&(o=0),ac(n,{width:"".concat(r.width+o,"px"),height:"".concat(r.height+o,"px"),top:"".concat(r.top-o/2,"px"),left:"".concat(r.left-o/2,"px")})}}function Ay(e,t,n,r,o){return e.left+t+n.width>r.width?(o.style.left="".concat(r.width-n.width-e.left,"px"),!1):(o.style.left="".concat(t,"px"),!0)}function Fy(e,t,n,r){return e.left+e.width-t-n.width<0?(r.style.left="".concat(-e.left,"px"),!1):(r.style.right="".concat(t,"px"),!0)}function Qs(e,t){e.includes(t)&&e.splice(e.indexOf(t),1)}function ZQ(e,t,n,r){var o=e.slice(),i=sS(),s=dh(n).height+10,c=dh(n).width+20,d=t.getBoundingClientRect(),h="floating";if(d.bottom+s>i.height&&Qs(o,"bottom"),d.top-s<0&&Qs(o,"top"),d.right+c>i.width&&Qs(o,"right"),d.left-c<0&&Qs(o,"left"),r&&(r=r.split("-")[0]),o.length&&(h=o[0],o.includes(r)&&(h=r)),h==="top"||h==="bottom"){var m=void 0,g=[];h==="top"?(m="top-middle-aligned",g=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(m="bottom-middle-aligned",g=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),h=function(v,b,D,T){var I=b/2,O=Math.min(D,window.screen.width);return O-v<b&&(Qs(T,"top-left-aligned"),Qs(T,"bottom-left-aligned")),(v<I||O-v<I)&&(Qs(T,"top-middle-aligned"),Qs(T,"bottom-middle-aligned")),v<b&&(Qs(T,"top-right-aligned"),Qs(T,"bottom-right-aligned")),T.length?T[0]:null}(d.left,c,i.width,g)||m}return h}function Ev(e,t,n,r,o){if(o===void 0&&(o=!1),t){var i,s,c,d,h="";n.style.top="",n.style.right="",n.style.bottom="",n.style.left="",n.style.marginLeft="",n.style.marginTop="",r.style.display="inherit",h=typeof t.tooltipClass=="string"?t.tooltipClass:e._options.tooltipClass,n.className=["introjs-tooltip",h].filter(Boolean).join(" "),n.setAttribute("role","dialog"),(d=t.position)!=="floating"&&e._options.autoPosition&&(d=ZQ(e._options.positionPrecedence,t.element,n,d)),s=dh(t.element),i=dh(n),c=sS(),ll(n,"introjs-".concat(d));var m=s.width/2-i.width/2;switch(d){case"top-right-aligned":r.className="introjs-arrow bottom-right";var g=0;Fy(s,g,i,n),n.style.bottom="".concat(s.height+20,"px");break;case"top-middle-aligned":r.className="introjs-arrow bottom-middle",o&&(m+=5),Fy(s,m,i,n)&&(n.style.right="",Ay(s,m,i,c,n)),n.style.bottom="".concat(s.height+20,"px");break;case"top-left-aligned":case"top":r.className="introjs-arrow bottom",Ay(s,o?0:15,i,c,n),n.style.bottom="".concat(s.height+20,"px");break;case"right":n.style.left="".concat(s.width+20,"px"),s.top+i.height>c.height?(r.className="introjs-arrow left-bottom",n.style.top="-".concat(i.height-s.height-20,"px")):r.className="introjs-arrow left";break;case"left":o||e._options.showStepNumbers!==!0||(n.style.top="15px"),s.top+i.height>c.height?(n.style.top="-".concat(i.height-s.height-20,"px"),r.className="introjs-arrow right-bottom"):r.className="introjs-arrow right",n.style.right="".concat(s.width+20,"px");break;case"floating":r.style.display="none",n.style.left="50%",n.style.top="50%",n.style.marginLeft="-".concat(i.width/2,"px"),n.style.marginTop="-".concat(i.height/2,"px");break;case"bottom-right-aligned":r.className="introjs-arrow top-right",Fy(s,g=0,i,n),n.style.top="".concat(s.height+20,"px");break;case"bottom-middle-aligned":r.className="introjs-arrow top-middle",o&&(m+=5),Fy(s,m,i,n)&&(n.style.right="",Ay(s,m,i,c,n)),n.style.top="".concat(s.height+20,"px");break;default:r.className="introjs-arrow top",Ay(s,0,i,c,n),n.style.top="".concat(s.height+20,"px")}}}function EM(){for(var e=0,t=Array.from(document.querySelectorAll(".introjs-showElement"));e<t.length;e++)lS(t[e],/introjs-[a-zA-Z]+/g)}function yn(e,t){var n=document.createElement(e);t=t||{};var r=/^(?:role|data-|aria-)/;for(var o in t){var i=t[o];o==="style"&&typeof i!="function"?ac(n,i):typeof i=="string"&&o.match(r)?n.setAttribute(o,i):n[o]=i}return n}function BT(e,t,n){if(n===void 0&&(n=!1),n){var r=t.style.opacity||"1";ac(t,{opacity:"0"}),window.setTimeout(function(){ac(t,{opacity:r})},10)}e.appendChild(t)}function xM(e,t){return(e+1)/t*100}function CM(e,t){var n=yn("div",{className:"introjs-bullets"});e._options.showBullets===!1&&(n.style.display="none");var r=yn("ul");r.setAttribute("role","tablist");for(var o=function(){var h=this.getAttribute("data-step-number");h!=null&&e.goToStep(parseInt(h,10))},i=0;i<e._introItems.length;i++){var s=e._introItems[i].step,c=yn("li"),d=yn("a");c.setAttribute("role","presentation"),d.setAttribute("role","tab"),d.onclick=o,i===t.step-1&&(d.className="active"),fm(d),d.innerHTML="&nbsp;",d.setAttribute("data-step-number",s.toString()),c.appendChild(d),r.appendChild(c)}return n.appendChild(r),n}function MM(e,t,n){var r=e.querySelector(".introjs-progress .introjs-progressbar");if(r){var o=xM(t,n);r.style.cssText="width:".concat(o,"%;"),r.setAttribute("aria-valuenow",o.toString())}}function kM(e,t){return Fn(this,void 0,void 0,function(){var n,r,o,i,s,c,d,h,m,g,v,b,D,T,I,O,N,B,P,U,L,z,V,Z,$=this;return On(this,function(oe){switch(oe.label){case 0:return $n(e._introChangeCallback)?[4,e._introChangeCallback.call(e,t.element)]:[3,2];case 1:oe.sent(),oe.label=2;case 2:return n=document.querySelector(".introjs-helperLayer"),r=document.querySelector(".introjs-tooltipReferenceLayer"),o="introjs-helperLayer",typeof t.highlightClass=="string"&&(o+=" ".concat(t.highlightClass)),typeof e._options.highlightClass=="string"&&(o+=" ".concat(e._options.highlightClass)),n!==null&&r!==null?(d=r.querySelector(".introjs-helperNumberLayer"),h=r.querySelector(".introjs-tooltiptext"),m=r.querySelector(".introjs-tooltip-title"),g=r.querySelector(".introjs-arrow"),v=r.querySelector(".introjs-tooltip"),c=r.querySelector(".introjs-skipbutton"),s=r.querySelector(".introjs-prevbutton"),i=r.querySelector(".introjs-nextbutton"),n.className=o,v.style.opacity="0",v.style.display="none",RT(e._options.scrollToElement,t.element),Gl(e,t,n),Gl(e,t,r),EM(),e._lastShowElementTimer&&window.clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=window.setTimeout(function(){d!==null&&(d.innerHTML="".concat(t.step," ").concat(e._options.stepNumbersOfLabel," ").concat(e._introItems.length)),h.innerHTML=t.intro||"",m.innerHTML=t.title||"",v.style.display="block",Ev(e,t,v,g),function(te,ye,ge){if(te){var ce=ye.querySelector(".introjs-bullets li > a.active"),Q=ye.querySelector('.introjs-bullets li > a[data-step-number="'.concat(ge.step,'"]'));ce&&Q&&(ce.className="",Q.className="active")}}(e._options.showBullets,r,t),MM(r,e._currentStep,e._introItems.length),v.style.opacity="1",(i!=null&&/introjs-donebutton/gi.test(i.className)||i!=null)&&i.focus(),_T(e._options.scrollToElement,t.scrollTo,e._options.scrollPadding,t.element,h)},350)):(b=yn("div",{className:o}),D=yn("div",{className:"introjs-tooltipReferenceLayer"}),T=yn("div",{className:"introjs-arrow"}),I=yn("div",{className:"introjs-tooltip"}),O=yn("div",{className:"introjs-tooltiptext"}),N=yn("div",{className:"introjs-tooltip-header"}),B=yn("h1",{className:"introjs-tooltip-title"}),P=yn("div"),ac(b,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(e._options.overlayOpacity.toString(),") 0 0 0 5000px")}),RT(e._options.scrollToElement,t.element),Gl(e,t,b),Gl(e,t,D),BT(e._targetElement,b,!0),BT(e._targetElement,D),O.innerHTML=t.intro,B.innerHTML=t.title,P.className="introjs-tooltipbuttons",e._options.showButtons===!1&&(P.style.display="none"),N.appendChild(B),I.appendChild(N),I.appendChild(O),e._options.dontShowAgain&&(U=yn("div",{className:"introjs-dontShowAgain"}),(L=yn("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(te){e.setDontShowAgain(te.target.checked)},(z=yn("label",{htmlFor:"introjs-dontShowAgain"})).innerText=e._options.dontShowAgainLabel,U.appendChild(L),U.appendChild(z),I.appendChild(U)),I.appendChild(CM(e,t)),I.appendChild(function(te){var ye=yn("div");ye.className="introjs-progress",te._options.showProgress===!1&&(ye.style.display="none");var ge=yn("div",{className:"introjs-progressbar"});te._options.progressBarAdditionalClass&&(ge.className+=" "+te._options.progressBarAdditionalClass);var ce=xM(te._currentStep,te._introItems.length);return ge.setAttribute("role","progress"),ge.setAttribute("aria-valuemin","0"),ge.setAttribute("aria-valuemax","100"),ge.setAttribute("aria-valuenow",ce.toString()),ge.style.cssText="width:".concat(ce,"%;"),ye.appendChild(ge),ye}(e)),V=yn("div"),e._options.showStepNumbers===!0&&(V.className="introjs-helperNumberLayer",V.innerHTML="".concat(t.step," ").concat(e._options.stepNumbersOfLabel," ").concat(e._introItems.length),I.appendChild(V)),I.appendChild(T),D.appendChild(I),(i=yn("a")).onclick=function(){return Fn($,void 0,void 0,function(){return On(this,function(te){switch(te.label){case 0:return e._introItems.length-1===e._currentStep?[3,2]:[4,Dd(e)];case 1:return te.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(i.className)?$n(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"done")]:[3,4]:[3,6];case 3:te.sent(),te.label=4;case 4:return[4,Td(e,e._targetElement)];case 5:te.sent(),te.label=6;case 6:return[2]}})})},fm(i),i.innerHTML=e._options.nextLabel,(s=yn("a")).onclick=function(){return Fn($,void 0,void 0,function(){return On(this,function(te){switch(te.label){case 0:return e._currentStep>0?[4,xv(e)]:[3,2];case 1:te.sent(),te.label=2;case 2:return[2]}})})},fm(s),s.innerHTML=e._options.prevLabel,fm(c=yn("a",{className:"introjs-skipbutton"})),c.innerHTML=e._options.skipLabel,c.onclick=function(){return Fn($,void 0,void 0,function(){return On(this,function(te){switch(te.label){case 0:return e._introItems.length-1===e._currentStep&&$n(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"skip")]:[3,2];case 1:te.sent(),te.label=2;case 2:return $n(e._introSkipCallback)?[4,e._introSkipCallback.call(e,e._currentStep)]:[3,4];case 3:te.sent(),te.label=4;case 4:return[4,Td(e,e._targetElement)];case 5:return te.sent(),[2]}})})},N.appendChild(c),e._introItems.length>1&&P.appendChild(s),P.appendChild(i),I.appendChild(P),Ev(e,t,I,T),_T(e._options.scrollToElement,t.scrollTo,e._options.scrollPadding,t.element,I)),(Z=e._targetElement.querySelector(".introjs-disableInteraction"))&&Z.parentNode&&Z.parentNode.removeChild(Z),t.disableInteraction&&function(te,ye){var ge=document.querySelector(".introjs-disableInteraction");ge===null&&(ge=yn("div",{className:"introjs-disableInteraction"}),te._targetElement.appendChild(ge)),Gl(te,ye,ge)}(e,t),e._currentStep===0&&e._introItems.length>1?(i!=null&&(i.className="".concat(e._options.buttonClass," introjs-nextbutton"),i.innerHTML=e._options.nextLabel),e._options.hidePrev===!0?(s!=null&&(s.className="".concat(e._options.buttonClass," introjs-prevbutton introjs-hidden")),i!=null&&ll(i,"introjs-fullbutton")):s!=null&&(s.className="".concat(e._options.buttonClass," introjs-prevbutton introjs-disabled"))):e._introItems.length-1===e._currentStep||e._introItems.length===1?(s!=null&&(s.className="".concat(e._options.buttonClass," introjs-prevbutton")),e._options.hideNext===!0?(i!=null&&(i.className="".concat(e._options.buttonClass," introjs-nextbutton introjs-hidden")),s!=null&&ll(s,"introjs-fullbutton")):i!=null&&(e._options.nextToDone===!0?(i.innerHTML=e._options.doneLabel,ll(i,"".concat(e._options.buttonClass," introjs-nextbutton introjs-donebutton"))):i.className="".concat(e._options.buttonClass," introjs-nextbutton introjs-disabled"))):(s!=null&&(s.className="".concat(e._options.buttonClass," introjs-prevbutton")),i!=null&&(i.className="".concat(e._options.buttonClass," introjs-nextbutton"),i.innerHTML=e._options.nextLabel)),s!=null&&s.setAttribute("role","button"),i!=null&&i.setAttribute("role","button"),c!=null&&c.setAttribute("role","button"),i!=null&&i.focus(),function(te){ll(te,"introjs-showElement");var ye=aS(te,"position");ye!=="absolute"&&ye!=="relative"&&ye!=="sticky"&&ye!=="fixed"&&ll(te,"introjs-relativePosition")}(t.element),$n(e._introAfterChangeCallback)?[4,e._introAfterChangeCallback.call(e,t.element)]:[3,4];case 3:oe.sent(),oe.label=4;case 4:return[2]}})})}function WQ(e,t){return Fn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return e._currentStep=t-2,e._introItems===void 0?[3,2]:[4,Dd(e)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function $Q(e,t){return Fn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return e._currentStepNumber=t,e._introItems===void 0?[3,2]:[4,Dd(e)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function Dd(e){return Fn(this,void 0,void 0,function(){var t,n,r;return On(this,function(o){switch(o.label){case 0:if(e._direction="forward",e._currentStepNumber!==void 0)for(t=0;t<e._introItems.length;t++)e._introItems[t].step===e._currentStepNumber&&(e._currentStep=t-1,e._currentStepNumber=void 0);return e._currentStep===-1?e._currentStep=0:++e._currentStep,n=e._introItems[e._currentStep],r=!0,$n(e._introBeforeChangeCallback)?[4,e._introBeforeChangeCallback.call(e,n&&n.element,e._currentStep,e._direction)]:[3,2];case 1:r=o.sent(),o.label=2;case 2:return r===!1?(--e._currentStep,[2,!1]):e._introItems.length<=e._currentStep?$n(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"end")]:[3,4]:[3,6];case 3:o.sent(),o.label=4;case 4:return[4,Td(e,e._targetElement)];case 5:return o.sent(),[2,!1];case 6:return[4,kM(e,n)];case 7:return o.sent(),[2,!0]}})})}function xv(e){return Fn(this,void 0,void 0,function(){var t,n;return On(this,function(r){switch(r.label){case 0:return e._direction="backward",e._currentStep<=0?[2,!1]:(--e._currentStep,t=e._introItems[e._currentStep],n=!0,$n(e._introBeforeChangeCallback)?[4,e._introBeforeChangeCallback.call(e,t&&t.element,e._currentStep,e._direction)]:[3,2]);case 1:n=r.sent(),r.label=2;case 2:return n===!1?(++e._currentStep,[2,!1]):[4,kM(e,t)];case 3:return r.sent(),[2,!0]}})})}function NM(e,t){return Fn(this,void 0,void 0,function(){var n,r;return On(this,function(o){switch(o.label){case 0:return(n=t.code===void 0?t.which:t.code)===null&&(n=t.charCode===null?t.keyCode:t.charCode),n!=="Escape"&&n!==27||e._options.exitOnEsc!==!0?[3,2]:[4,Td(e,e._targetElement)];case 1:return o.sent(),[3,16];case 2:return n!=="ArrowLeft"&&n!==37?[3,4]:[4,xv(e)];case 3:return o.sent(),[3,16];case 4:return n!=="ArrowRight"&&n!==39?[3,6]:[4,Dd(e)];case 5:return o.sent(),[3,16];case 6:return n!=="Enter"&&n!=="NumpadEnter"&&n!==13?[3,16]:(r=t.target||t.srcElement)&&r.className.match("introjs-prevbutton")?[4,xv(e)]:[3,8];case 7:return o.sent(),[3,15];case 8:return r&&r.className.match("introjs-skipbutton")?e._introItems.length-1===e._currentStep&&$n(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"skip")]:[3,10]:[3,12];case 9:o.sent(),o.label=10;case 10:return[4,Td(e,e._targetElement)];case 11:return o.sent(),[3,15];case 12:return r&&r.getAttribute("data-step-number")?(r.click(),[3,15]):[3,13];case 13:return[4,Dd(e)];case 14:o.sent(),o.label=15;case 15:t.preventDefault?t.preventDefault():t.returnValue=!1,o.label=16;case 16:return[2]}})})}function uS(e){if(e===null||Iv(e)!=="object"||"nodeType"in e)return e;var t={};for(var n in e)"jQuery"in window&&e[n]instanceof window.jQuery?t[n]=e[n]:t[n]=uS(e[n]);return t}function jh(e){var t=document.querySelector(".introjs-hints");return t?Array.from(t.querySelectorAll(e)):[]}function cS(e,t){return Fn(this,void 0,void 0,function(){var n;return On(this,function(r){switch(r.label){case 0:return n=jh('.introjs-hint[data-step="'.concat(t,'"]'))[0],h0(),n&&ll(n,"introjs-hidehint"),$n(e._hintCloseCallback)?[4,e._hintCloseCallback.call(e,t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}function qQ(e){return Fn(this,void 0,void 0,function(){var t,n,r,o,i;return On(this,function(s){switch(s.label){case 0:t=jh(".introjs-hint"),n=0,r=t,s.label=1;case 1:return n<r.length?(o=r[n],(i=o.getAttribute("data-step"))?[4,cS(e,parseInt(i,10))]:[3,3]):[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function GQ(e){return Fn(this,void 0,void 0,function(){var t,n,r,o,i;return On(this,function(s){switch(s.label){case 0:if(!(t=jh(".introjs-hint"))||!t.length)return[3,1];for(n=0,r=t;n<r.length;n++)o=r[n],(i=o.getAttribute("data-step"))&&AM(parseInt(i,10));return[3,3];case 1:return[4,PM(e,e._targetElement)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function AM(e){var t=jh('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&lS(t,/introjs-hidehint/g)}function HT(e){var t=jh('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&t.parentNode&&t.parentNode.removeChild(t)}function JQ(e){return Fn(this,void 0,void 0,function(){var t,n,r,o,i,s,c;return On(this,function(d){switch(d.label){case 0:for((t=document.querySelector(".introjs-hints"))===null&&(t=yn("div",{className:"introjs-hints"})),n=function(v){return function(b){var D=b||window.event;D&&D.stopPropagation&&D.stopPropagation(),D&&D.cancelBubble!==null&&(D.cancelBubble=!0),OM(e,v)}},r=0;r<e._hintItems.length;r++){if(o=e._hintItems[r],document.querySelector('.introjs-hint[data-step="'.concat(r,'"]')))return[2];fm(i=yn("a",{className:"introjs-hint"})),i.onclick=n(r),o.hintAnimation||ll(i,"introjs-hint-no-anim"),f0(o.element)&&ll(i,"introjs-fixedhint"),s=yn("div",{className:"introjs-hint-dot"}),c=yn("div",{className:"introjs-hint-pulse"}),i.appendChild(s),i.appendChild(c),i.setAttribute("data-step",r.toString()),o.hintTargetElement=o.element,o.element=i,FM(o.hintPosition,i,o.hintTargetElement),t.appendChild(i)}return document.body.appendChild(t),$n(e._hintsAddedCallback)?[4,e._hintsAddedCallback.call(e)]:[3,2];case 1:d.sent(),d.label=2;case 2:return e._options.hintAutoRefreshInterval>=0&&(e._hintsAutoRefreshFunction=(h=function(){return p0(e)},m=e._options.hintAutoRefreshInterval,function(){for(var v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];window.clearTimeout(g),g=window.setTimeout(function(){h(v)},m)}),dl.on(window,"scroll",e._hintsAutoRefreshFunction,e,!0)),[2]}var h,m,g})})}function FM(e,t,n){if(n!==void 0){var r=dh(n),o=20,i=20;switch(e){default:case"top-left":t.style.left="".concat(r.left,"px"),t.style.top="".concat(r.top,"px");break;case"top-right":t.style.left="".concat(r.left+r.width-o,"px"),t.style.top="".concat(r.top,"px");break;case"bottom-left":t.style.left="".concat(r.left,"px"),t.style.top="".concat(r.top+r.height-i,"px");break;case"bottom-right":t.style.left="".concat(r.left+r.width-o,"px"),t.style.top="".concat(r.top+r.height-i,"px");break;case"middle-left":t.style.left="".concat(r.left,"px"),t.style.top="".concat(r.top+(r.height-i)/2,"px");break;case"middle-right":t.style.left="".concat(r.left+r.width-o,"px"),t.style.top="".concat(r.top+(r.height-i)/2,"px");break;case"middle-middle":t.style.left="".concat(r.left+(r.width-o)/2,"px"),t.style.top="".concat(r.top+(r.height-i)/2,"px");break;case"bottom-middle":t.style.left="".concat(r.left+(r.width-o)/2,"px"),t.style.top="".concat(r.top+r.height-i,"px");break;case"top-middle":t.style.left="".concat(r.left+(r.width-o)/2,"px"),t.style.top="".concat(r.top,"px")}}}function OM(e,t){return Fn(this,void 0,void 0,function(){var n,r,o,i,s,c,d,h,m,g,v;return On(this,function(b){switch(b.label){case 0:return n=document.querySelector('.introjs-hint[data-step="'.concat(t,'"]')),r=e._hintItems[t],$n(e._hintClickCallback)?[4,e._hintClickCallback.call(e,n,r,t)]:[3,2];case 1:b.sent(),b.label=2;case 2:return(o=h0())!==void 0&&parseInt(o,10)===t||(i=yn("div",{className:"introjs-tooltip"}),s=yn("div"),c=yn("div"),d=yn("div"),i.onclick=function(D){D.stopPropagation?D.stopPropagation():D.cancelBubble=!0},s.className="introjs-tooltiptext",(h=yn("p")).innerHTML=r.hint||"",s.appendChild(h),e._options.hintShowButton&&((m=yn("a")).className=e._options.buttonClass,m.setAttribute("role","button"),m.innerHTML=e._options.hintButtonLabel,m.onclick=function(){return cS(e,t)},s.appendChild(m)),c.className="introjs-arrow",i.appendChild(c),i.appendChild(s),g=n.getAttribute("data-step")||"",e._currentStep=parseInt(g,10),v=e._hintItems[e._currentStep],d.className="introjs-tooltipReferenceLayer introjs-hintReference",d.setAttribute("data-step",g),Gl(e,v,d),d.appendChild(i),document.body.appendChild(d),Ev(e,v,i,c,!0)),[2]}})})}function h0(){var e=document.querySelector(".introjs-hintReference");if(e&&e.parentNode){var t=e.getAttribute("data-step");return t?(e.parentNode.removeChild(e),t):void 0}}function PM(e,t){return Fn(this,void 0,void 0,function(){var n,r,o,i,s,c,d,h,m,g;return On(this,function(v){switch(v.label){case 0:if(e._hintItems=[],e._options.hints&&e._options.hints.length>0)for(n=0,r=e._options.hints;n<r.length;n++)o=r[n],typeof(i=uS(o)).element=="string"&&(i.element=document.querySelector(i.element)),i.hintPosition=i.hintPosition||e._options.hintPosition,i.hintAnimation=i.hintAnimation||e._options.hintAnimation,i.element!==null&&e._hintItems.push(i);else{if(!(s=Array.from(t.querySelectorAll("*[data-hint]")))||!s.length)return[2,!1];for(c=0,d=s;c<d.length;c++)h=d[c],m=h.getAttribute("data-hint-animation"),g=e._options.hintAnimation,m&&(g=m==="true"),e._hintItems.push({element:h,hint:h.getAttribute("data-hint")||"",hintPosition:h.getAttribute("data-hint-position")||e._options.hintPosition,hintAnimation:g,tooltipClass:h.getAttribute("data-tooltip-class")||void 0,position:h.getAttribute("data-position")||e._options.tooltipPosition})}return[4,JQ(e)];case 1:return v.sent(),dl.on(document,"click",h0,e,!1),dl.on(window,"resize",p0,e,!0),[2,!0]}})})}function p0(e){for(var t=0,n=e._hintItems;t<n.length;t++){var r=n[t],o=r.hintTargetElement;FM(r.hintPosition,r.element,o)}}function jM(e,t){var n=Array.from(t.querySelectorAll("*[data-intro]")),r=[];if(e._options.steps&&e._options.steps.length)for(var o=0,i=e._options.steps;o<i.length;o++){var s=uS(v=i[o]);if(s.step=r.length+1,s.title=s.title||"",typeof s.element=="string"&&(s.element=document.querySelector(s.element)||void 0),s.element===void 0||s.element===null){var c=document.querySelector(".introjsFloatingElement");c===null&&(c=yn("div",{className:"introjsFloatingElement"}),document.body.appendChild(c)),s.element=c,s.position="floating"}s.position=s.position||e._options.tooltipPosition,s.scrollTo=s.scrollTo||e._options.scrollTo,s.disableInteraction===void 0&&(s.disableInteraction=e._options.disableInteraction),s.element!==null&&r.push(s)}else{var d=void 0;if(n.length<1)return[];for(var h=0,m=n;h<m.length;h++){var g=m[h];if((!e._options.group||g.getAttribute("data-intro-group")===e._options.group)&&g.style.display!=="none"){var v=parseInt(g.getAttribute("data-step")||"",10);d=e._options.disableInteraction,g.hasAttribute("data-disable-interaction")&&(d=!!g.getAttribute("data-disable-interaction")),v>0&&(r[v-1]={step:v,element:g,title:g.getAttribute("data-title")||"",intro:g.getAttribute("data-intro")||"",tooltipClass:g.getAttribute("data-tooltip-class")||void 0,highlightClass:g.getAttribute("data-highlight-class")||void 0,position:g.getAttribute("data-position")||e._options.tooltipPosition,scrollTo:g.getAttribute("data-scroll-to")||e._options.scrollTo,disableInteraction:d})}}for(var b=0,D=0,T=n;D<T.length;D++)if(g=T[D],(!e._options.group||g.getAttribute("data-intro-group")===e._options.group)&&g.getAttribute("data-step")===null){for(;r[b]!==void 0;)b++;d=g.hasAttribute("data-disable-interaction")?!!g.getAttribute("data-disable-interaction"):e._options.disableInteraction,r[b]={element:g,title:g.getAttribute("data-title")||"",intro:g.getAttribute("data-intro")||"",step:b+1,tooltipClass:g.getAttribute("data-tooltip-class")||void 0,highlightClass:g.getAttribute("data-highlight-class")||void 0,position:g.getAttribute("data-position")||e._options.tooltipPosition,scrollTo:g.getAttribute("data-scroll-to")||e._options.scrollTo,disableInteraction:d}}}for(var I=[],O=0;O<r.length;O++)r[O]&&I.push(r[O]);return(r=I).sort(function(N,B){return N.step-B.step}),r}function LM(e,t){var n=e._currentStep;if(n!=null&&n!=-1){var r=e._introItems[n],o=document.querySelector(".introjs-tooltipReferenceLayer"),i=document.querySelector(".introjs-helperLayer"),s=document.querySelector(".introjs-disableInteraction");Gl(e,r,i),Gl(e,r,o),Gl(e,r,s),t&&(e._introItems=jM(e,e._targetElement),function(h,m){if(h._options.showBullets){var g=document.querySelector(".introjs-bullets");g&&g.parentNode&&g.parentNode.replaceChild(CM(h,m),g)}}(e,r),MM(o,n,e._introItems.length));var c=document.querySelector(".introjs-arrow"),d=document.querySelector(".introjs-tooltip");return d&&c&&Ev(e,e._introItems[n],d,c),p0(e),e}}function RM(e){LM(e)}function Qp(e,t){if(t===void 0&&(t=!1),e&&e.parentElement){var n=e.parentElement;t?(ac(e,{opacity:"0"}),window.setTimeout(function(){try{n.removeChild(e)}catch{}},500)):n.removeChild(e)}}function Td(e,t,n){return n===void 0&&(n=!1),Fn(this,void 0,void 0,function(){var r,o,i,s;return On(this,function(c){switch(c.label){case 0:return r=!0,e._introBeforeExitCallback===void 0?[3,2]:[4,e._introBeforeExitCallback.call(e,t)];case 1:r=c.sent(),c.label=2;case 2:if(!n&&r===!1)return[2];if((o=Array.from(t.querySelectorAll(".introjs-overlay")))&&o.length)for(i=0,s=o;i<s.length;i++)Qp(s[i]);return Qp(t.querySelector(".introjs-helperLayer"),!0),Qp(t.querySelector(".introjs-tooltipReferenceLayer")),Qp(t.querySelector(".introjs-disableInteraction")),Qp(document.querySelector(".introjsFloatingElement")),EM(),dl.off(window,"keydown",NM,e,!0),dl.off(window,"resize",RM,e,!0),$n(e._introExitCallback)?[4,e._introExitCallback.call(e)]:[3,4];case 3:c.sent(),c.label=4;case 4:return e._currentStep=-1,[2]}})})}function KQ(e,t){return Fn(this,void 0,void 0,function(){var n;return On(this,function(r){switch(r.label){case 0:return e.isActive()?$n(e._introStartCallback)?[4,e._introStartCallback.call(e,t)]:[3,2]:[2,!1];case 1:r.sent(),r.label=2;case 2:return(n=jM(e,t)).length===0?[2,!1]:(e._introItems=n,function(o,i){var s=this,c=yn("div",{className:"introjs-overlay"});ac(c,{top:0,bottom:0,left:0,right:0,position:"fixed"}),i.appendChild(c),o._options.exitOnOverlayClick===!0&&(ac(c,{cursor:"pointer"}),c.onclick=function(){return Fn(s,void 0,void 0,function(){return On(this,function(d){switch(d.label){case 0:return[4,Td(o,i)];case 1:return d.sent(),[2]}})})})}(e,t),[4,Dd(e)]);case 3:r.sent(),t.addEventListener,e._options.keyboardNavigation&&dl.on(window,"keydown",NM,e,!0),dl.on(window,"resize",RM,e,!0),r.label=4;case 4:return[2,!1]}})})}function UT(e,t,n){return e[t]=n,e}var Zw=function(){function e(t){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=t,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"×",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return e.prototype.isActive=function(){return(!this._options.dontShowAgain||(t=IM(this._options.dontShowAgainCookie))===""||t!=="true")&&this._options.isActive;var t},e.prototype.clone=function(){return new e(this._targetElement)},e.prototype.setOption=function(t,n){return this._options=UT(this._options,t,n),this},e.prototype.setOptions=function(t){return this._options=function(n,r){for(var o=0,i=Object.entries(r);o<i.length;o++){var s=i[o];n=UT(n,s[0],s[1])}return n}(this._options,t),this},e.prototype.start=function(){return Fn(this,void 0,void 0,function(){return On(this,function(t){switch(t.label){case 0:return[4,KQ(this,this._targetElement)];case 1:return t.sent(),[2,this]}})})},e.prototype.goToStep=function(t){return Fn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return[4,WQ(this,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.addStep=function(t){return this._options.steps||(this._options.steps=[]),this._options.steps.push(t),this},e.prototype.addSteps=function(t){if(!t.length)return this;for(var n=0;n<t.length;n++)this.addStep(t[n]);return this},e.prototype.goToStepNumber=function(t){return Fn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return[4,$Q(this,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.nextStep=function(){return Fn(this,void 0,void 0,function(){return On(this,function(t){switch(t.label){case 0:return[4,Dd(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.previousStep=function(){return Fn(this,void 0,void 0,function(){return On(this,function(t){switch(t.label){case 0:return[4,xv(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.currentStep=function(){return this._currentStep},e.prototype.exit=function(t){return Fn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return[4,Td(this,this._targetElement,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.refresh=function(t){return LM(this,t),this},e.prototype.setDontShowAgain=function(t){return VQ(this,t),this},e.prototype.onbeforechange=function(t){if(!$n(t))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},e.prototype.onchange=function(t){if(!$n(t))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},e.prototype.onafterchange=function(t){if(!$n(t))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},e.prototype.oncomplete=function(t){if(!$n(t))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},e.prototype.onhintsadded=function(t){if(!$n(t))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this},e.prototype.onhintclick=function(t){if(!$n(t))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this},e.prototype.onhintclose=function(t){if(!$n(t))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this},e.prototype.onstart=function(t){if(!$n(t))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=t,this},e.prototype.onexit=function(t){if(!$n(t))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this},e.prototype.onskip=function(t){if(!$n(t))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=t,this},e.prototype.onbeforeexit=function(t){if(!$n(t))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=t,this},e.prototype.addHints=function(){return Fn(this,void 0,void 0,function(){return On(this,function(t){switch(t.label){case 0:return[4,PM(this,this._targetElement)];case 1:return t.sent(),[2,this]}})})},e.prototype.hideHint=function(t){return Fn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return[4,cS(this,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.hideHints=function(){return Fn(this,void 0,void 0,function(){return On(this,function(t){switch(t.label){case 0:return[4,qQ(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.showHint=function(t){return AM(t),this},e.prototype.showHints=function(){return Fn(this,void 0,void 0,function(){return On(this,function(t){switch(t.label){case 0:return[4,GQ(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.removeHints=function(){return function(t){for(var n=0,r=jh(".introjs-hint");n<r.length;n++){var o=r[n].getAttribute("data-step");o&&HT(parseInt(o,10))}dl.off(document,"click",h0,t,!1),dl.off(window,"resize",p0,t,!0),t._hintsAutoRefreshFunction&&dl.off(window,"scroll",t._hintsAutoRefreshFunction,t,!0)}(this),this},e.prototype.removeHint=function(t){return HT(t),this},e.prototype.showHintDialog=function(t){return Fn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return[4,OM(this,t)];case 1:return n.sent(),[2,this]}})})},e}(),Cv=function e(t){var n;if(Iv(t)==="object")n=new Zw(t);else if(typeof t=="string"){var r=document.querySelector(t);if(!r)throw new Error("There is no element with given selector.");n=new Zw(r)}else n=new Zw(document.body);return e.instances[H1(n,"introjs-instance")]=n,n};Cv.version="7.2.0",Cv.instances={};var nd={},YT;function QQ(){if(YT)return nd;YT=1;var e=j;function t(M){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+M,G=1;G<arguments.length;G++)_+="&args[]="+encodeURIComponent(arguments[G]);return"Minified React error #"+M+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=Object.prototype.hasOwnProperty,r=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o={},i={};function s(M){return n.call(i,M)?!0:n.call(o,M)?!1:r.test(M)?i[M]=!0:(o[M]=!0,!1)}function c(M,_,G,re,ke,Te,Ue){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=re,this.attributeNamespace=ke,this.mustUseProperty=G,this.propertyName=M,this.type=_,this.sanitizeURL=Te,this.removeEmptyString=Ue}var d={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(M){d[M]=new c(M,0,!1,M,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(M){var _=M[0];d[_]=new c(_,1,!1,M[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(M){d[M]=new c(M,2,!1,M.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(M){d[M]=new c(M,2,!1,M,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(M){d[M]=new c(M,3,!1,M.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(M){d[M]=new c(M,3,!0,M,null,!1,!1)}),["capture","download"].forEach(function(M){d[M]=new c(M,4,!1,M,null,!1,!1)}),["cols","rows","size","span"].forEach(function(M){d[M]=new c(M,6,!1,M,null,!1,!1)}),["rowSpan","start"].forEach(function(M){d[M]=new c(M,5,!1,M.toLowerCase(),null,!1,!1)});var h=/[\-:]([a-z])/g;function m(M){return M[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(M){var _=M.replace(h,m);d[_]=new c(_,1,!1,M,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(M){var _=M.replace(h,m);d[_]=new c(_,1,!1,M,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(M){var _=M.replace(h,m);d[_]=new c(_,1,!1,M,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(M){d[M]=new c(M,1,!1,M.toLowerCase(),null,!1,!1)}),d.xlinkHref=new c("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(M){d[M]=new c(M,1,!1,M.toLowerCase(),null,!0,!0)});var g={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v=["Webkit","ms","Moz","O"];Object.keys(g).forEach(function(M){v.forEach(function(_){_=_+M.charAt(0).toUpperCase()+M.substring(1),g[_]=g[M]})});var b=/["'&<>]/;function D(M){if(typeof M=="boolean"||typeof M=="number")return""+M;M=""+M;var _=b.exec(M);if(_){var G="",re,ke=0;for(re=_.index;re<M.length;re++){switch(M.charCodeAt(re)){case 34:_="&quot;";break;case 38:_="&amp;";break;case 39:_="&#x27;";break;case 60:_="&lt;";break;case 62:_="&gt;";break;default:continue}ke!==re&&(G+=M.substring(ke,re)),ke=re+1,G+=_}M=ke!==re?G+M.substring(ke,re):G}return M}var T=/([A-Z])/g,I=/^ms-/,O=Array.isArray;function N(M,_){return{insertionMode:M,selectedValue:_}}function B(M,_,G){switch(_){case"select":return N(1,G.value!=null?G.value:G.defaultValue);case"svg":return N(2,null);case"math":return N(3,null);case"foreignObject":return N(1,null);case"table":return N(4,null);case"thead":case"tbody":case"tfoot":return N(5,null);case"colgroup":return N(7,null);case"tr":return N(6,null)}return 4<=M.insertionMode||M.insertionMode===0?N(1,null):M}var P=new Map;function U(M,_,G){if(typeof G!="object")throw Error(t(62));_=!0;for(var re in G)if(n.call(G,re)){var ke=G[re];if(ke!=null&&typeof ke!="boolean"&&ke!==""){if(re.indexOf("--")===0){var Te=D(re);ke=D((""+ke).trim())}else{Te=re;var Ue=P.get(Te);Ue!==void 0||(Ue=D(Te.replace(T,"-$1").toLowerCase().replace(I,"-ms-")),P.set(Te,Ue)),Te=Ue,ke=typeof ke=="number"?ke===0||n.call(g,re)?""+ke:ke+"px":D((""+ke).trim())}_?(_=!1,M.push(' style="',Te,":",ke)):M.push(";",Te,":",ke)}}_||M.push('"')}function L(M,_,G,re){switch(G){case"style":U(M,_,re);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<G.length)||G[0]!=="o"&&G[0]!=="O"||G[1]!=="n"&&G[1]!=="N"){if(_=d.hasOwnProperty(G)?d[G]:null,_!==null){switch(typeof re){case"function":case"symbol":return;case"boolean":if(!_.acceptsBooleans)return}switch(G=_.attributeName,_.type){case 3:re&&M.push(" ",G,'=""');break;case 4:re===!0?M.push(" ",G,'=""'):re!==!1&&M.push(" ",G,'="',D(re),'"');break;case 5:isNaN(re)||M.push(" ",G,'="',D(re),'"');break;case 6:!isNaN(re)&&1<=re&&M.push(" ",G,'="',D(re),'"');break;default:_.sanitizeURL&&(re=""+re),M.push(" ",G,'="',D(re),'"')}}else if(s(G)){switch(typeof re){case"function":case"symbol":return;case"boolean":if(_=G.toLowerCase().slice(0,5),_!=="data-"&&_!=="aria-")return}M.push(" ",G,'="',D(re),'"')}}}function z(M,_,G){if(_!=null){if(G!=null)throw Error(t(60));if(typeof _!="object"||!("__html"in _))throw Error(t(61));_=_.__html,_!=null&&M.push(""+_)}}function V(M){var _="";return e.Children.forEach(M,function(G){G!=null&&(_+=G)}),_}function Z(M,_,G,re){M.push(te(G));var ke=G=null,Te;for(Te in _)if(n.call(_,Te)){var Ue=_[Te];if(Ue!=null)switch(Te){case"children":G=Ue;break;case"dangerouslySetInnerHTML":ke=Ue;break;default:L(M,re,Te,Ue)}}return M.push(">"),z(M,ke,G),typeof G=="string"?(M.push(D(G)),null):G}var $=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,oe=new Map;function te(M){var _=oe.get(M);if(_===void 0){if(!$.test(M))throw Error(t(65,M));_="<"+M,oe.set(M,_)}return _}function ye(M,_,G,re,ke){switch(_){case"select":M.push(te("select"));var Te=null,Ue=null;for(zt in G)if(n.call(G,zt)){var nt=G[zt];if(nt!=null)switch(zt){case"children":Te=nt;break;case"dangerouslySetInnerHTML":Ue=nt;break;case"defaultValue":case"value":break;default:L(M,re,zt,nt)}}return M.push(">"),z(M,Ue,Te),Te;case"option":Ue=ke.selectedValue,M.push(te("option"));var ut=nt=null,Nt=null,zt=null;for(Te in G)if(n.call(G,Te)){var Tn=G[Te];if(Tn!=null)switch(Te){case"children":nt=Tn;break;case"selected":Nt=Tn;break;case"dangerouslySetInnerHTML":zt=Tn;break;case"value":ut=Tn;default:L(M,re,Te,Tn)}}if(Ue!=null)if(G=ut!==null?""+ut:V(nt),O(Ue)){for(re=0;re<Ue.length;re++)if(""+Ue[re]===G){M.push(' selected=""');break}}else""+Ue===G&&M.push(' selected=""');else Nt&&M.push(' selected=""');return M.push(">"),z(M,zt,nt),nt;case"textarea":M.push(te("textarea")),zt=Ue=Te=null;for(nt in G)if(n.call(G,nt)&&(ut=G[nt],ut!=null))switch(nt){case"children":zt=ut;break;case"value":Te=ut;break;case"defaultValue":Ue=ut;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:L(M,re,nt,ut)}if(Te===null&&Ue!==null&&(Te=Ue),M.push(">"),zt!=null){if(Te!=null)throw Error(t(92));if(O(zt)&&1<zt.length)throw Error(t(93));Te=""+zt}return typeof Te=="string"&&Te[0]===`
`&&M.push(`
`),Te!==null&&M.push(D(""+Te)),null;case"input":M.push(te("input")),ut=zt=nt=Te=null;for(Ue in G)if(n.call(G,Ue)&&(Nt=G[Ue],Nt!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":ut=Nt;break;case"defaultValue":nt=Nt;break;case"checked":zt=Nt;break;case"value":Te=Nt;break;default:L(M,re,Ue,Nt)}return zt!==null?L(M,re,"checked",zt):ut!==null&&L(M,re,"checked",ut),Te!==null?L(M,re,"value",Te):nt!==null&&L(M,re,"value",nt),M.push("/>"),null;case"menuitem":M.push(te("menuitem"));for(var Co in G)if(n.call(G,Co)&&(Te=G[Co],Te!=null))switch(Co){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:L(M,re,Co,Te)}return M.push(">"),null;case"title":M.push(te("title")),Te=null;for(Tn in G)if(n.call(G,Tn)&&(Ue=G[Tn],Ue!=null))switch(Tn){case"children":Te=Ue;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:L(M,re,Tn,Ue)}return M.push(">"),Te;case"listing":case"pre":M.push(te(_)),Ue=Te=null;for(ut in G)if(n.call(G,ut)&&(nt=G[ut],nt!=null))switch(ut){case"children":Te=nt;break;case"dangerouslySetInnerHTML":Ue=nt;break;default:L(M,re,ut,nt)}if(M.push(">"),Ue!=null){if(Te!=null)throw Error(t(60));if(typeof Ue!="object"||!("__html"in Ue))throw Error(t(61));G=Ue.__html,G!=null&&(typeof G=="string"&&0<G.length&&G[0]===`
`?M.push(`
`,G):M.push(""+G))}return typeof Te=="string"&&Te[0]===`
`&&M.push(`
`),Te;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":M.push(te(_));for(var mo in G)if(n.call(G,mo)&&(Te=G[mo],Te!=null))switch(mo){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,_));default:L(M,re,mo,Te)}return M.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Z(M,G,_,re);case"html":return ke.insertionMode===0&&M.push("<!DOCTYPE html>"),Z(M,G,_,re);default:if(_.indexOf("-")===-1&&typeof G.is!="string")return Z(M,G,_,re);M.push(te(_)),Ue=Te=null;for(Nt in G)if(n.call(G,Nt)&&(nt=G[Nt],nt!=null))switch(Nt){case"children":Te=nt;break;case"dangerouslySetInnerHTML":Ue=nt;break;case"style":U(M,re,nt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:s(Nt)&&typeof nt!="function"&&typeof nt!="symbol"&&M.push(" ",Nt,'="',D(nt),'"')}return M.push(">"),z(M,Ue,Te),Te}}function ge(M,_,G){if(M.push('<!--$?--><template id="'),G===null)throw Error(t(395));return M.push(G),M.push('"></template>')}function ce(M,_,G,re){switch(G.insertionMode){case 0:case 1:return M.push('<div hidden id="'),M.push(_.segmentPrefix),_=re.toString(16),M.push(_),M.push('">');case 2:return M.push('<svg aria-hidden="true" style="display:none" id="'),M.push(_.segmentPrefix),_=re.toString(16),M.push(_),M.push('">');case 3:return M.push('<math aria-hidden="true" style="display:none" id="'),M.push(_.segmentPrefix),_=re.toString(16),M.push(_),M.push('">');case 4:return M.push('<table hidden id="'),M.push(_.segmentPrefix),_=re.toString(16),M.push(_),M.push('">');case 5:return M.push('<table hidden><tbody id="'),M.push(_.segmentPrefix),_=re.toString(16),M.push(_),M.push('">');case 6:return M.push('<table hidden><tr id="'),M.push(_.segmentPrefix),_=re.toString(16),M.push(_),M.push('">');case 7:return M.push('<table hidden><colgroup id="'),M.push(_.segmentPrefix),_=re.toString(16),M.push(_),M.push('">');default:throw Error(t(397))}}function Q(M,_){switch(_.insertionMode){case 0:case 1:return M.push("</div>");case 2:return M.push("</svg>");case 3:return M.push("</math>");case 4:return M.push("</table>");case 5:return M.push("</tbody></table>");case 6:return M.push("</tr></table>");case 7:return M.push("</colgroup></table>");default:throw Error(t(397))}}var ue=/[<\u2028\u2029]/g;function se(M){return JSON.stringify(M).replace(ue,function(_){switch(_){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function we(M,_){return _=_===void 0?"":_,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:_+"P:",segmentPrefix:_+"S:",boundaryPrefix:_+"B:",idPrefix:_,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:M}}function J(M,_,G,re){return G.generateStaticMarkup?(M.push(D(_)),!1):(_===""?M=re:(re&&M.push("<!-- -->"),M.push(D(_)),M=!0),M)}var ee=Object.assign,fe=Symbol.for("react.element"),xe=Symbol.for("react.portal"),je=Symbol.for("react.fragment"),Ve=Symbol.for("react.strict_mode"),Re=Symbol.for("react.profiler"),$e=Symbol.for("react.provider"),qe=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),ct=Symbol.for("react.scope"),Tt=Symbol.for("react.debug_trace_mode"),xt=Symbol.for("react.legacy_hidden"),_t=Symbol.for("react.default_value"),Yt=Symbol.iterator;function vn(M){if(M==null)return null;if(typeof M=="function")return M.displayName||M.name||null;if(typeof M=="string")return M;switch(M){case je:return"Fragment";case xe:return"Portal";case Re:return"Profiler";case Ve:return"StrictMode";case It:return"Suspense";case Fe:return"SuspenseList"}if(typeof M=="object")switch(M.$$typeof){case qe:return(M.displayName||"Context")+".Consumer";case $e:return(M._context.displayName||"Context")+".Provider";case lt:var _=M.render;return M=M.displayName,M||(M=_.displayName||_.name||"",M=M!==""?"ForwardRef("+M+")":"ForwardRef"),M;case st:return _=M.displayName||null,_!==null?_:vn(M.type)||"Memo";case it:_=M._payload,M=M._init;try{return vn(M(_))}catch{}}return null}var $t={};function tn(M,_){if(M=M.contextTypes,!M)return $t;var G={},re;for(re in M)G[re]=_[re];return G}var rn=null;function Xt(M,_){if(M!==_){M.context._currentValue2=M.parentValue,M=M.parent;var G=_.parent;if(M===null){if(G!==null)throw Error(t(401))}else{if(G===null)throw Error(t(401));Xt(M,G)}_.context._currentValue2=_.value}}function Ln(M){M.context._currentValue2=M.parentValue,M=M.parent,M!==null&&Ln(M)}function lr(M){var _=M.parent;_!==null&&lr(_),M.context._currentValue2=M.value}function $r(M,_){if(M.context._currentValue2=M.parentValue,M=M.parent,M===null)throw Error(t(402));M.depth===_.depth?Xt(M,_):$r(M,_)}function tr(M,_){var G=_.parent;if(G===null)throw Error(t(402));M.depth===G.depth?Xt(M,G):tr(M,G),_.context._currentValue2=_.value}function nr(M){var _=rn;_!==M&&(_===null?lr(M):M===null?Ln(_):_.depth===M.depth?Xt(_,M):_.depth>M.depth?$r(_,M):tr(_,M),rn=M)}var Pi={isMounted:function(){return!1},enqueueSetState:function(M,_){M=M._reactInternals,M.queue!==null&&M.queue.push(_)},enqueueReplaceState:function(M,_){M=M._reactInternals,M.replace=!0,M.queue=[_]},enqueueForceUpdate:function(){}};function Eo(M,_,G,re){var ke=M.state!==void 0?M.state:null;M.updater=Pi,M.props=G,M.state=ke;var Te={queue:[],replace:!1};M._reactInternals=Te;var Ue=_.contextType;if(M.context=typeof Ue=="object"&&Ue!==null?Ue._currentValue2:re,Ue=_.getDerivedStateFromProps,typeof Ue=="function"&&(Ue=Ue(G,ke),ke=Ue==null?ke:ee({},ke,Ue),M.state=ke),typeof _.getDerivedStateFromProps!="function"&&typeof M.getSnapshotBeforeUpdate!="function"&&(typeof M.UNSAFE_componentWillMount=="function"||typeof M.componentWillMount=="function"))if(_=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),_!==M.state&&Pi.enqueueReplaceState(M,M.state,null),Te.queue!==null&&0<Te.queue.length)if(_=Te.queue,Ue=Te.replace,Te.queue=null,Te.replace=!1,Ue&&_.length===1)M.state=_[0];else{for(Te=Ue?_[0]:M.state,ke=!0,Ue=Ue?1:0;Ue<_.length;Ue++){var nt=_[Ue];nt=typeof nt=="function"?nt.call(M,Te,G,re):nt,nt!=null&&(ke?(ke=!1,Te=ee({},Te,nt)):ee(Te,nt))}M.state=Te}else Te.queue=null}var Uo={id:1,overflow:""};function ji(M,_,G){var re=M.id;M=M.overflow;var ke=32-xo(re)-1;re&=~(1<<ke),G+=1;var Te=32-xo(_)+ke;if(30<Te){var Ue=ke-ke%5;return Te=(re&(1<<Ue)-1).toString(32),re>>=Ue,ke-=Ue,{id:1<<32-xo(_)+ke|G<<ke|re,overflow:Te+M}}return{id:1<<Te|G<<ke|re,overflow:M}}var xo=Math.clz32?Math.clz32:li,Li=Math.log,aa=Math.LN2;function li(M){return M>>>=0,M===0?32:31-(Li(M)/aa|0)|0}function Ri(M,_){return M===_&&(M!==0||1/M===1/_)||M!==M&&_!==_}var X=typeof Object.is=="function"?Object.is:Ri,he=null,Ne=null,Be=null,He=null,Xe=!1,et=!1,kt=0,Kt=null,Pn=0;function wn(){if(he===null)throw Error(t(321));return he}function jr(){if(0<Pn)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Rn(){return He===null?Be===null?(Xe=!1,Be=He=jr()):(Xe=!0,He=Be):He.next===null?(Xe=!1,He=He.next=jr()):(Xe=!0,He=He.next),He}function rr(){Ne=he=null,et=!1,Be=null,Pn=0,He=Kt=null}function Lr(M,_){return typeof _=="function"?_(M):_}function sa(M,_,G){if(he=wn(),He=Rn(),Xe){var re=He.queue;if(_=re.dispatch,Kt!==null&&(G=Kt.get(re),G!==void 0)){Kt.delete(re),re=He.memoizedState;do re=M(re,G.action),G=G.next;while(G!==null);return He.memoizedState=re,[re,_]}return[He.memoizedState,_]}return M=M===Lr?typeof _=="function"?_():_:G!==void 0?G(_):_,He.memoizedState=M,M=He.queue={last:null,dispatch:null},M=M.dispatch=co.bind(null,he,M),[He.memoizedState,M]}function bn(M,_){if(he=wn(),He=Rn(),_=_===void 0?null:_,He!==null){var G=He.memoizedState;if(G!==null&&_!==null){var re=G[1];e:if(re===null)re=!1;else{for(var ke=0;ke<re.length&&ke<_.length;ke++)if(!X(_[ke],re[ke])){re=!1;break e}re=!0}if(re)return G[0]}}return M=M(),He.memoizedState=[M,_],M}function co(M,_,G){if(25<=Pn)throw Error(t(301));if(M===he)if(et=!0,M={action:G,next:null},Kt===null&&(Kt=new Map),G=Kt.get(_),G===void 0)Kt.set(_,M);else{for(_=G;_.next!==null;)_=_.next;_.next=M}}function fo(){throw Error(t(394))}function Cr(){}var Yo={readContext:function(M){return M._currentValue2},useContext:function(M){return wn(),M._currentValue2},useMemo:bn,useReducer:sa,useRef:function(M){he=wn(),He=Rn();var _=He.memoizedState;return _===null?(M={current:M},He.memoizedState=M):_},useState:function(M){return sa(Lr,M)},useInsertionEffect:Cr,useLayoutEffect:function(){},useCallback:function(M,_){return bn(function(){return M},_)},useImperativeHandle:Cr,useEffect:Cr,useDebugValue:Cr,useDeferredValue:function(M){return wn(),M},useTransition:function(){return wn(),[!1,fo]},useId:function(){var M=Ne.treeContext,_=M.overflow;M=M.id,M=(M&~(1<<32-xo(M)-1)).toString(32)+_;var G=ho;if(G===null)throw Error(t(404));return _=kt++,M=":"+G.idPrefix+"R"+M,0<_&&(M+="H"+_.toString(32)),M+":"},useMutableSource:function(M,_){return wn(),_(M._source)},useSyncExternalStore:function(M,_,G){if(G===void 0)throw Error(t(407));return G()}},ho=null,gl=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function _i(M){return console.error(M),null}function Bi(){}function au(M,_,G,re,ke,Te,Ue,nt,ut){var Nt=[],zt=new Set;return _={destination:null,responseState:_,progressiveChunkSize:re===void 0?12800:re,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:zt,pingedTasks:Nt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:ke===void 0?_i:ke,onAllReady:Te===void 0?Bi:Te,onShellReady:Ue===void 0?Bi:Ue,onShellError:nt===void 0?Bi:nt,onFatalError:ut===void 0?Bi:ut},G=La(_,0,null,G,!1,!1),G.parentFlushed=!0,M=yl(_,M,null,G,zt,$t,null,Uo),Nt.push(M),_}function yl(M,_,G,re,ke,Te,Ue,nt){M.allPendingTasks++,G===null?M.pendingRootTasks++:G.pendingTasks++;var ut={node:_,ping:function(){var Nt=M.pingedTasks;Nt.push(ut),Nt.length===1&&po(M)},blockedBoundary:G,blockedSegment:re,abortSet:ke,legacyContext:Te,context:Ue,treeContext:nt};return ke.add(ut),ut}function La(M,_,G,re,ke,Te){return{status:0,id:-1,index:_,parentFlushed:!1,chunks:[],children:[],formatContext:re,boundary:G,lastPushedText:ke,textEmbedded:Te}}function la(M,_){if(M=M.onError(_),M!=null&&typeof M!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof M+'" instead');return M}function Ra(M,_){var G=M.onShellError;G(_),G=M.onFatalError,G(_),M.destination!==null?(M.status=2,M.destination.destroy(_)):(M.status=1,M.fatalError=_)}function vl(M,_,G,re,ke){for(he={},Ne=_,kt=0,M=G(re,ke);et;)et=!1,kt=0,Pn+=1,He=null,M=G(re,ke);return rr(),M}function _a(M,_,G,re){var ke=G.render(),Te=re.childContextTypes;if(Te!=null){var Ue=_.legacyContext;if(typeof G.getChildContext!="function")re=Ue;else{G=G.getChildContext();for(var nt in G)if(!(nt in Te))throw Error(t(108,vn(re)||"Unknown",nt));re=ee({},Ue,G)}_.legacyContext=re,Rr(M,_,ke),_.legacyContext=Ue}else Rr(M,_,ke)}function su(M,_){if(M&&M.defaultProps){_=ee({},_),M=M.defaultProps;for(var G in M)_[G]===void 0&&(_[G]=M[G]);return _}return _}function Sn(M,_,G,re,ke){if(typeof G=="function")if(G.prototype&&G.prototype.isReactComponent){ke=tn(G,_.legacyContext);var Te=G.contextType;Te=new G(re,typeof Te=="object"&&Te!==null?Te._currentValue2:ke),Eo(Te,G,re,ke),_a(M,_,Te,G)}else{Te=tn(G,_.legacyContext),ke=vl(M,_,G,re,Te);var Ue=kt!==0;if(typeof ke=="object"&&ke!==null&&typeof ke.render=="function"&&ke.$$typeof===void 0)Eo(ke,G,re,Te),_a(M,_,ke,G);else if(Ue){re=_.treeContext,_.treeContext=ji(re,1,0);try{Rr(M,_,ke)}finally{_.treeContext=re}}else Rr(M,_,ke)}else if(typeof G=="string"){switch(ke=_.blockedSegment,Te=ye(ke.chunks,G,re,M.responseState,ke.formatContext),ke.lastPushedText=!1,Ue=ke.formatContext,ke.formatContext=B(Ue,G,re),ms(M,_,Te),ke.formatContext=Ue,G){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:ke.chunks.push("</",G,">")}ke.lastPushedText=!1}else{switch(G){case xt:case Tt:case Ve:case Re:case je:Rr(M,_,re.children);return;case Fe:Rr(M,_,re.children);return;case ct:throw Error(t(343));case It:e:{G=_.blockedBoundary,ke=_.blockedSegment,Te=re.fallback,re=re.children,Ue=new Set;var nt={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:Ue,errorDigest:null},ut=La(M,ke.chunks.length,nt,ke.formatContext,!1,!1);ke.children.push(ut),ke.lastPushedText=!1;var Nt=La(M,0,null,ke.formatContext,!1,!1);Nt.parentFlushed=!0,_.blockedBoundary=nt,_.blockedSegment=Nt;try{if(ms(M,_,re),M.responseState.generateStaticMarkup||Nt.lastPushedText&&Nt.textEmbedded&&Nt.chunks.push("<!-- -->"),Nt.status=1,ui(nt,Nt),nt.pendingTasks===0)break e}catch(zt){Nt.status=4,nt.forceClientRender=!0,nt.errorDigest=la(M,zt)}finally{_.blockedBoundary=G,_.blockedSegment=ke}_=yl(M,Te,G,ut,Ue,_.legacyContext,_.context,_.treeContext),M.pingedTasks.push(_)}return}if(typeof G=="object"&&G!==null)switch(G.$$typeof){case lt:if(re=vl(M,_,G.render,re,ke),kt!==0){G=_.treeContext,_.treeContext=ji(G,1,0);try{Rr(M,_,re)}finally{_.treeContext=G}}else Rr(M,_,re);return;case st:G=G.type,re=su(G,re),Sn(M,_,G,re,ke);return;case $e:if(ke=re.children,G=G._context,re=re.value,Te=G._currentValue2,G._currentValue2=re,Ue=rn,rn=re={parent:Ue,depth:Ue===null?0:Ue.depth+1,context:G,parentValue:Te,value:re},_.context=re,Rr(M,_,ke),M=rn,M===null)throw Error(t(403));re=M.parentValue,M.context._currentValue2=re===_t?M.context._defaultValue:re,M=rn=M.parent,_.context=M;return;case qe:re=re.children,re=re(G._currentValue2),Rr(M,_,re);return;case it:ke=G._init,G=ke(G._payload),re=su(G,re),Sn(M,_,G,re,void 0);return}throw Error(t(130,G==null?G:typeof G,""))}}function Rr(M,_,G){if(_.node=G,typeof G=="object"&&G!==null){switch(G.$$typeof){case fe:Sn(M,_,G.type,G.props,G.ref);return;case xe:throw Error(t(257));case it:var re=G._init;G=re(G._payload),Rr(M,_,G);return}if(O(G)){ps(M,_,G);return}if(G===null||typeof G!="object"?re=null:(re=Yt&&G[Yt]||G["@@iterator"],re=typeof re=="function"?re:null),re&&(re=re.call(G))){if(G=re.next(),!G.done){var ke=[];do ke.push(G.value),G=re.next();while(!G.done);ps(M,_,ke)}return}throw M=Object.prototype.toString.call(G),Error(t(31,M==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":M))}typeof G=="string"?(re=_.blockedSegment,re.lastPushedText=J(_.blockedSegment.chunks,G,M.responseState,re.lastPushedText)):typeof G=="number"&&(re=_.blockedSegment,re.lastPushedText=J(_.blockedSegment.chunks,""+G,M.responseState,re.lastPushedText))}function ps(M,_,G){for(var re=G.length,ke=0;ke<re;ke++){var Te=_.treeContext;_.treeContext=ji(Te,re,ke);try{ms(M,_,G[ke])}finally{_.treeContext=Te}}}function ms(M,_,G){var re=_.blockedSegment.formatContext,ke=_.legacyContext,Te=_.context;try{return Rr(M,_,G)}catch(ut){if(rr(),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"){G=ut;var Ue=_.blockedSegment,nt=La(M,Ue.chunks.length,null,Ue.formatContext,Ue.lastPushedText,!0);Ue.children.push(nt),Ue.lastPushedText=!1,M=yl(M,_.node,_.blockedBoundary,nt,_.abortSet,_.legacyContext,_.context,_.treeContext).ping,G.then(M,M),_.blockedSegment.formatContext=re,_.legacyContext=ke,_.context=Te,nr(Te)}else throw _.blockedSegment.formatContext=re,_.legacyContext=ke,_.context=Te,nr(Te),ut}}function Hi(M){var _=M.blockedBoundary;M=M.blockedSegment,M.status=3,zo(this,_,M)}function wl(M,_,G){var re=M.blockedBoundary;M.blockedSegment.status=3,re===null?(_.allPendingTasks--,_.status!==2&&(_.status=2,_.destination!==null&&_.destination.push(null))):(re.pendingTasks--,re.forceClientRender||(re.forceClientRender=!0,M=G===void 0?Error(t(432)):G,re.errorDigest=_.onError(M),re.parentFlushed&&_.clientRenderedBoundaries.push(re)),re.fallbackAbortableTasks.forEach(function(ke){return wl(ke,_,G)}),re.fallbackAbortableTasks.clear(),_.allPendingTasks--,_.allPendingTasks===0&&(re=_.onAllReady,re()))}function ui(M,_){if(_.chunks.length===0&&_.children.length===1&&_.children[0].boundary===null){var G=_.children[0];G.id=_.id,G.parentFlushed=!0,G.status===1&&ui(M,G)}else M.completedSegments.push(_)}function zo(M,_,G){if(_===null){if(G.parentFlushed){if(M.completedRootSegment!==null)throw Error(t(389));M.completedRootSegment=G}M.pendingRootTasks--,M.pendingRootTasks===0&&(M.onShellError=Bi,_=M.onShellReady,_())}else _.pendingTasks--,_.forceClientRender||(_.pendingTasks===0?(G.parentFlushed&&G.status===1&&ui(_,G),_.parentFlushed&&M.completedBoundaries.push(_),_.fallbackAbortableTasks.forEach(Hi,M),_.fallbackAbortableTasks.clear()):G.parentFlushed&&G.status===1&&(ui(_,G),_.completedSegments.length===1&&_.parentFlushed&&M.partialBoundaries.push(_)));M.allPendingTasks--,M.allPendingTasks===0&&(M=M.onAllReady,M())}function po(M){if(M.status!==2){var _=rn,G=gl.current;gl.current=Yo;var re=ho;ho=M.responseState;try{var ke=M.pingedTasks,Te;for(Te=0;Te<ke.length;Te++){var Ue=ke[Te],nt=M,ut=Ue.blockedSegment;if(ut.status===0){nr(Ue.context);try{Rr(nt,Ue,Ue.node),nt.responseState.generateStaticMarkup||ut.lastPushedText&&ut.textEmbedded&&ut.chunks.push("<!-- -->"),Ue.abortSet.delete(Ue),ut.status=1,zo(nt,Ue.blockedBoundary,ut)}catch(_r){if(rr(),typeof _r=="object"&&_r!==null&&typeof _r.then=="function"){var Nt=Ue.ping;_r.then(Nt,Nt)}else{Ue.abortSet.delete(Ue),ut.status=4;var zt=Ue.blockedBoundary,Tn=_r,Co=la(nt,Tn);if(zt===null?Ra(nt,Tn):(zt.pendingTasks--,zt.forceClientRender||(zt.forceClientRender=!0,zt.errorDigest=Co,zt.parentFlushed&&nt.clientRenderedBoundaries.push(zt))),nt.allPendingTasks--,nt.allPendingTasks===0){var mo=nt.onAllReady;mo()}}}}}ke.splice(0,Te),M.destination!==null&&Vo(M,M.destination)}catch(_r){la(M,_r),Ra(M,_r)}finally{ho=re,gl.current=G,G===Yo&&nr(_)}}}function Ba(M,_,G){switch(G.parentFlushed=!0,G.status){case 0:var re=G.id=M.nextSegmentId++;return G.lastPushedText=!1,G.textEmbedded=!1,M=M.responseState,_.push('<template id="'),_.push(M.placeholderPrefix),M=re.toString(16),_.push(M),_.push('"></template>');case 1:G.status=2;var ke=!0;re=G.chunks;var Te=0;G=G.children;for(var Ue=0;Ue<G.length;Ue++){for(ke=G[Ue];Te<ke.index;Te++)_.push(re[Te]);ke=vr(M,_,ke)}for(;Te<re.length-1;Te++)_.push(re[Te]);return Te<re.length&&(ke=_.push(re[Te])),ke;default:throw Error(t(390))}}function vr(M,_,G){var re=G.boundary;if(re===null)return Ba(M,_,G);if(re.parentFlushed=!0,re.forceClientRender)return M.responseState.generateStaticMarkup||(re=re.errorDigest,_.push("<!--$!-->"),_.push("<template"),re&&(_.push(' data-dgst="'),re=D(re),_.push(re),_.push('"')),_.push("></template>")),Ba(M,_,G),M=M.responseState.generateStaticMarkup?!0:_.push("<!--/$-->"),M;if(0<re.pendingTasks){re.rootSegmentID=M.nextSegmentId++,0<re.completedSegments.length&&M.partialBoundaries.push(re);var ke=M.responseState,Te=ke.nextSuspenseID++;return ke=ke.boundaryPrefix+Te.toString(16),re=re.id=ke,ge(_,M.responseState,re),Ba(M,_,G),_.push("<!--/$-->")}if(re.byteSize>M.progressiveChunkSize)return re.rootSegmentID=M.nextSegmentId++,M.completedBoundaries.push(re),ge(_,M.responseState,re.id),Ba(M,_,G),_.push("<!--/$-->");if(M.responseState.generateStaticMarkup||_.push("<!--$-->"),G=re.completedSegments,G.length!==1)throw Error(t(391));return vr(M,_,G[0]),M=M.responseState.generateStaticMarkup?!0:_.push("<!--/$-->"),M}function gs(M,_,G){return ce(_,M.responseState,G.formatContext,G.id),vr(M,_,G),Q(_,G.formatContext)}function ys(M,_,G){for(var re=G.completedSegments,ke=0;ke<re.length;ke++)vs(M,_,G,re[ke]);if(re.length=0,M=M.responseState,re=G.id,G=G.rootSegmentID,_.push(M.startInlineScript),M.sentCompleteBoundaryFunction?_.push('$RC("'):(M.sentCompleteBoundaryFunction=!0,_.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),re===null)throw Error(t(395));return G=G.toString(16),_.push(re),_.push('","'),_.push(M.segmentPrefix),_.push(G),_.push('")<\/script>')}function vs(M,_,G,re){if(re.status===2)return!0;var ke=re.id;if(ke===-1){if((re.id=G.rootSegmentID)===-1)throw Error(t(392));return gs(M,_,re)}return gs(M,_,re),M=M.responseState,_.push(M.startInlineScript),M.sentCompleteSegmentFunction?_.push('$RS("'):(M.sentCompleteSegmentFunction=!0,_.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),_.push(M.segmentPrefix),ke=ke.toString(16),_.push(ke),_.push('","'),_.push(M.placeholderPrefix),_.push(ke),_.push('")<\/script>')}function Vo(M,_){try{var G=M.completedRootSegment;if(G!==null&&M.pendingRootTasks===0){vr(M,_,G),M.completedRootSegment=null;var re=M.responseState.bootstrapChunks;for(G=0;G<re.length-1;G++)_.push(re[G]);G<re.length&&_.push(re[G])}var ke=M.clientRenderedBoundaries,Te;for(Te=0;Te<ke.length;Te++){var Ue=ke[Te];re=_;var nt=M.responseState,ut=Ue.id,Nt=Ue.errorDigest,zt=Ue.errorMessage,Tn=Ue.errorComponentStack;if(re.push(nt.startInlineScript),nt.sentClientRenderFunction?re.push('$RX("'):(nt.sentClientRenderFunction=!0,re.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),ut===null)throw Error(t(395));if(re.push(ut),re.push('"'),Nt||zt||Tn){re.push(",");var Co=se(Nt||"");re.push(Co)}if(zt||Tn){re.push(",");var mo=se(zt||"");re.push(mo)}if(Tn){re.push(",");var _r=se(Tn);re.push(_r)}if(!re.push(")<\/script>")){M.destination=null,Te++,ke.splice(0,Te);return}}ke.splice(0,Te);var ci=M.completedBoundaries;for(Te=0;Te<ci.length;Te++)if(!ys(M,_,ci[Te])){M.destination=null,Te++,ci.splice(0,Te);return}ci.splice(0,Te);var go=M.partialBoundaries;for(Te=0;Te<go.length;Te++){var Mo=go[Te];e:{ke=M,Ue=_;var qr=Mo.completedSegments;for(nt=0;nt<qr.length;nt++)if(!vs(ke,Ue,Mo,qr[nt])){nt++,qr.splice(0,nt);var Wo=!1;break e}qr.splice(0,nt),Wo=!0}if(!Wo){M.destination=null,Te++,go.splice(0,Te);return}}go.splice(0,Te);var yo=M.completedBoundaries;for(Te=0;Te<yo.length;Te++)if(!ys(M,_,yo[Te])){M.destination=null,Te++,yo.splice(0,Te);return}yo.splice(0,Te)}finally{M.allPendingTasks===0&&M.pingedTasks.length===0&&M.clientRenderedBoundaries.length===0&&M.completedBoundaries.length===0&&_.push(null)}}function Ha(M,_){try{var G=M.abortableTasks;G.forEach(function(re){return wl(re,M,_)}),G.clear(),M.destination!==null&&Vo(M,M.destination)}catch(re){la(M,re),Ra(M,re)}}function Ui(){}function Zo(M,_,G,re){var ke=!1,Te=null,Ue="",nt={push:function(Nt){return Nt!==null&&(Ue+=Nt),!0},destroy:function(Nt){ke=!0,Te=Nt}},ut=!1;if(M=au(M,we(G,_?_.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Ui,void 0,function(){ut=!0},void 0,void 0),po(M),Ha(M,re),M.status===1)M.status=2,nt.destroy(M.fatalError);else if(M.status!==2&&M.destination===null){M.destination=nt;try{Vo(M,nt)}catch(Nt){la(M,Nt),Ra(M,Nt)}}if(ke)throw Te;if(!ut)throw Error(t(426));return Ue}return nd.renderToNodeStream=function(){throw Error(t(207))},nd.renderToStaticMarkup=function(M,_){return Zo(M,_,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},nd.renderToStaticNodeStream=function(){throw Error(t(208))},nd.renderToString=function(M,_){return Zo(M,_,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},nd.version="18.2.0",nd}var Oy={},zT;function XQ(){if(zT)return Oy;zT=1;var e=j;function t(k){for(var R="https://reactjs.org/docs/error-decoder.html?invariant="+k,W=1;W<arguments.length;W++)R+="&args[]="+encodeURIComponent(arguments[W]);return"Minified React error #"+k+"; visit "+R+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=null,r=0;function o(k,R){if(R.length!==0)if(512<R.length)0<r&&(k.enqueue(new Uint8Array(n.buffer,0,r)),n=new Uint8Array(512),r=0),k.enqueue(R);else{var W=n.length-r;W<R.length&&(W===0?k.enqueue(n):(n.set(R.subarray(0,W),r),k.enqueue(n),R=R.subarray(W)),n=new Uint8Array(512),r=0),n.set(R,r),r+=R.length}}function i(k,R){return o(k,R),!0}function s(k){n&&0<r&&(k.enqueue(new Uint8Array(n.buffer,0,r)),n=null,r=0)}var c=new TextEncoder;function d(k){return c.encode(k)}function h(k){return c.encode(k)}function m(k,R){typeof k.error=="function"?k.error(R):k.close()}var g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},D={};function T(k){return g.call(D,k)?!0:g.call(b,k)?!1:v.test(k)?D[k]=!0:(b[k]=!0,!1)}function I(k,R,W,ne,Ae,Ie,ze){this.acceptsBooleans=R===2||R===3||R===4,this.attributeName=ne,this.attributeNamespace=Ae,this.mustUseProperty=W,this.propertyName=k,this.type=R,this.sanitizeURL=Ie,this.removeEmptyString=ze}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(k){O[k]=new I(k,0,!1,k,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(k){var R=k[0];O[R]=new I(R,1,!1,k[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(k){O[k]=new I(k,2,!1,k.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(k){O[k]=new I(k,2,!1,k,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(k){O[k]=new I(k,3,!1,k.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(k){O[k]=new I(k,3,!0,k,null,!1,!1)}),["capture","download"].forEach(function(k){O[k]=new I(k,4,!1,k,null,!1,!1)}),["cols","rows","size","span"].forEach(function(k){O[k]=new I(k,6,!1,k,null,!1,!1)}),["rowSpan","start"].forEach(function(k){O[k]=new I(k,5,!1,k.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function B(k){return k[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(k){var R=k.replace(N,B);O[R]=new I(R,1,!1,k,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(k){var R=k.replace(N,B);O[R]=new I(R,1,!1,k,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(k){var R=k.replace(N,B);O[R]=new I(R,1,!1,k,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(k){O[k]=new I(k,1,!1,k.toLowerCase(),null,!1,!1)}),O.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(k){O[k]=new I(k,1,!1,k.toLowerCase(),null,!0,!0)});var P={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U=["Webkit","ms","Moz","O"];Object.keys(P).forEach(function(k){U.forEach(function(R){R=R+k.charAt(0).toUpperCase()+k.substring(1),P[R]=P[k]})});var L=/["'&<>]/;function z(k){if(typeof k=="boolean"||typeof k=="number")return""+k;k=""+k;var R=L.exec(k);if(R){var W="",ne,Ae=0;for(ne=R.index;ne<k.length;ne++){switch(k.charCodeAt(ne)){case 34:R="&quot;";break;case 38:R="&amp;";break;case 39:R="&#x27;";break;case 60:R="&lt;";break;case 62:R="&gt;";break;default:continue}Ae!==ne&&(W+=k.substring(Ae,ne)),Ae=ne+1,W+=R}k=Ae!==ne?W+k.substring(Ae,ne):W}return k}var V=/([A-Z])/g,Z=/^ms-/,$=Array.isArray,oe=h("<script>"),te=h("<\/script>"),ye=h('<script src="'),ge=h('<script type="module" src="'),ce=h('" async=""><\/script>'),Q=/(<\/|<)(s)(cript)/gi;function ue(k,R,W,ne){return R+(W==="s"?"\\u0073":"\\u0053")+ne}function se(k,R,W,ne,Ae){k=k===void 0?"":k,R=R===void 0?oe:h('<script nonce="'+z(R)+'">');var Ie=[];if(W!==void 0&&Ie.push(R,d((""+W).replace(Q,ue)),te),ne!==void 0)for(W=0;W<ne.length;W++)Ie.push(ye,d(z(ne[W])),ce);if(Ae!==void 0)for(ne=0;ne<Ae.length;ne++)Ie.push(ge,d(z(Ae[ne])),ce);return{bootstrapChunks:Ie,startInlineScript:R,placeholderPrefix:h(k+"P:"),segmentPrefix:h(k+"S:"),boundaryPrefix:k+"B:",idPrefix:k,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function we(k,R){return{insertionMode:k,selectedValue:R}}function J(k){return we(k==="http://www.w3.org/2000/svg"?2:k==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function ee(k,R,W){switch(R){case"select":return we(1,W.value!=null?W.value:W.defaultValue);case"svg":return we(2,null);case"math":return we(3,null);case"foreignObject":return we(1,null);case"table":return we(4,null);case"thead":case"tbody":case"tfoot":return we(5,null);case"colgroup":return we(7,null);case"tr":return we(6,null)}return 4<=k.insertionMode||k.insertionMode===0?we(1,null):k}var fe=h("<!-- -->");function xe(k,R,W,ne){return R===""?ne:(ne&&k.push(fe),k.push(d(z(R))),!0)}var je=new Map,Ve=h(' style="'),Re=h(":"),$e=h(";");function qe(k,R,W){if(typeof W!="object")throw Error(t(62));R=!0;for(var ne in W)if(g.call(W,ne)){var Ae=W[ne];if(Ae!=null&&typeof Ae!="boolean"&&Ae!==""){if(ne.indexOf("--")===0){var Ie=d(z(ne));Ae=d(z((""+Ae).trim()))}else{Ie=ne;var ze=je.get(Ie);ze!==void 0||(ze=h(z(Ie.replace(V,"-$1").toLowerCase().replace(Z,"-ms-"))),je.set(Ie,ze)),Ie=ze,Ae=typeof Ae=="number"?Ae===0||g.call(P,ne)?d(""+Ae):d(Ae+"px"):d(z((""+Ae).trim()))}R?(R=!1,k.push(Ve,Ie,Re,Ae)):k.push($e,Ie,Re,Ae)}}R||k.push(Fe)}var lt=h(" "),It=h('="'),Fe=h('"'),st=h('=""');function it(k,R,W,ne){switch(W){case"style":qe(k,R,ne);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<W.length)||W[0]!=="o"&&W[0]!=="O"||W[1]!=="n"&&W[1]!=="N"){if(R=O.hasOwnProperty(W)?O[W]:null,R!==null){switch(typeof ne){case"function":case"symbol":return;case"boolean":if(!R.acceptsBooleans)return}switch(W=d(R.attributeName),R.type){case 3:ne&&k.push(lt,W,st);break;case 4:ne===!0?k.push(lt,W,st):ne!==!1&&k.push(lt,W,It,d(z(ne)),Fe);break;case 5:isNaN(ne)||k.push(lt,W,It,d(z(ne)),Fe);break;case 6:!isNaN(ne)&&1<=ne&&k.push(lt,W,It,d(z(ne)),Fe);break;default:R.sanitizeURL&&(ne=""+ne),k.push(lt,W,It,d(z(ne)),Fe)}}else if(T(W)){switch(typeof ne){case"function":case"symbol":return;case"boolean":if(R=W.toLowerCase().slice(0,5),R!=="data-"&&R!=="aria-")return}k.push(lt,d(W),It,d(z(ne)),Fe)}}}var ct=h(">"),Tt=h("/>");function xt(k,R,W){if(R!=null){if(W!=null)throw Error(t(60));if(typeof R!="object"||!("__html"in R))throw Error(t(61));R=R.__html,R!=null&&k.push(d(""+R))}}function _t(k){var R="";return e.Children.forEach(k,function(W){W!=null&&(R+=W)}),R}var Yt=h(' selected=""');function vn(k,R,W,ne){k.push(Xt(W));var Ae=W=null,Ie;for(Ie in R)if(g.call(R,Ie)){var ze=R[Ie];if(ze!=null)switch(Ie){case"children":W=ze;break;case"dangerouslySetInnerHTML":Ae=ze;break;default:it(k,ne,Ie,ze)}}return k.push(ct),xt(k,Ae,W),typeof W=="string"?(k.push(d(z(W))),null):W}var $t=h(`
`),tn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,rn=new Map;function Xt(k){var R=rn.get(k);if(R===void 0){if(!tn.test(k))throw Error(t(65,k));R=h("<"+k),rn.set(k,R)}return R}var Ln=h("<!DOCTYPE html>");function lr(k,R,W,ne,Ae){switch(R){case"select":k.push(Xt("select"));var Ie=null,ze=null;for(jt in W)if(g.call(W,jt)){var tt=W[jt];if(tt!=null)switch(jt){case"children":Ie=tt;break;case"dangerouslySetInnerHTML":ze=tt;break;case"defaultValue":case"value":break;default:it(k,ne,jt,tt)}}return k.push(ct),xt(k,ze,Ie),Ie;case"option":ze=Ae.selectedValue,k.push(Xt("option"));var St=tt=null,Zt=null,jt=null;for(Ie in W)if(g.call(W,Ie)){var Cn=W[Ie];if(Cn!=null)switch(Ie){case"children":tt=Cn;break;case"selected":Zt=Cn;break;case"dangerouslySetInnerHTML":jt=Cn;break;case"value":St=Cn;default:it(k,ne,Ie,Cn)}}if(ze!=null)if(W=St!==null?""+St:_t(tt),$(ze)){for(ne=0;ne<ze.length;ne++)if(""+ze[ne]===W){k.push(Yt);break}}else""+ze===W&&k.push(Yt);else Zt&&k.push(Yt);return k.push(ct),xt(k,jt,tt),tt;case"textarea":k.push(Xt("textarea")),jt=ze=Ie=null;for(tt in W)if(g.call(W,tt)&&(St=W[tt],St!=null))switch(tt){case"children":jt=St;break;case"value":Ie=St;break;case"defaultValue":ze=St;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:it(k,ne,tt,St)}if(Ie===null&&ze!==null&&(Ie=ze),k.push(ct),jt!=null){if(Ie!=null)throw Error(t(92));if($(jt)&&1<jt.length)throw Error(t(93));Ie=""+jt}return typeof Ie=="string"&&Ie[0]===`
`&&k.push($t),Ie!==null&&k.push(d(z(""+Ie))),null;case"input":k.push(Xt("input")),St=jt=tt=Ie=null;for(ze in W)if(g.call(W,ze)&&(Zt=W[ze],Zt!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":St=Zt;break;case"defaultValue":tt=Zt;break;case"checked":jt=Zt;break;case"value":Ie=Zt;break;default:it(k,ne,ze,Zt)}return jt!==null?it(k,ne,"checked",jt):St!==null&&it(k,ne,"checked",St),Ie!==null?it(k,ne,"value",Ie):tt!==null&&it(k,ne,"value",tt),k.push(Tt),null;case"menuitem":k.push(Xt("menuitem"));for(var Hr in W)if(g.call(W,Hr)&&(Ie=W[Hr],Ie!=null))switch(Hr){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:it(k,ne,Hr,Ie)}return k.push(ct),null;case"title":k.push(Xt("title")),Ie=null;for(Cn in W)if(g.call(W,Cn)&&(ze=W[Cn],ze!=null))switch(Cn){case"children":Ie=ze;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:it(k,ne,Cn,ze)}return k.push(ct),Ie;case"listing":case"pre":k.push(Xt(R)),ze=Ie=null;for(St in W)if(g.call(W,St)&&(tt=W[St],tt!=null))switch(St){case"children":Ie=tt;break;case"dangerouslySetInnerHTML":ze=tt;break;default:it(k,ne,St,tt)}if(k.push(ct),ze!=null){if(Ie!=null)throw Error(t(60));if(typeof ze!="object"||!("__html"in ze))throw Error(t(61));W=ze.__html,W!=null&&(typeof W=="string"&&0<W.length&&W[0]===`
`?k.push($t,d(W)):k.push(d(""+W)))}return typeof Ie=="string"&&Ie[0]===`
`&&k.push($t),Ie;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":k.push(Xt(R));for(var ko in W)if(g.call(W,ko)&&(Ie=W[ko],Ie!=null))switch(ko){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,R));default:it(k,ne,ko,Ie)}return k.push(Tt),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return vn(k,W,R,ne);case"html":return Ae.insertionMode===0&&k.push(Ln),vn(k,W,R,ne);default:if(R.indexOf("-")===-1&&typeof W.is!="string")return vn(k,W,R,ne);k.push(Xt(R)),ze=Ie=null;for(Zt in W)if(g.call(W,Zt)&&(tt=W[Zt],tt!=null))switch(Zt){case"children":Ie=tt;break;case"dangerouslySetInnerHTML":ze=tt;break;case"style":qe(k,ne,tt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:T(Zt)&&typeof tt!="function"&&typeof tt!="symbol"&&k.push(lt,d(Zt),It,d(z(tt)),Fe)}return k.push(ct),xt(k,ze,Ie),Ie}}var $r=h("</"),tr=h(">"),nr=h('<template id="'),Pi=h('"></template>'),Eo=h("<!--$-->"),Uo=h('<!--$?--><template id="'),ji=h('"></template>'),xo=h("<!--$!-->"),Li=h("<!--/$-->"),aa=h("<template"),li=h('"'),Ri=h(' data-dgst="');h(' data-msg="'),h(' data-stck="');var X=h("></template>");function he(k,R,W){if(o(k,Uo),W===null)throw Error(t(395));return o(k,W),i(k,ji)}var Ne=h('<div hidden id="'),Be=h('">'),He=h("</div>"),Xe=h('<svg aria-hidden="true" style="display:none" id="'),et=h('">'),kt=h("</svg>"),Kt=h('<math aria-hidden="true" style="display:none" id="'),Pn=h('">'),wn=h("</math>"),jr=h('<table hidden id="'),Rn=h('">'),rr=h("</table>"),Lr=h('<table hidden><tbody id="'),sa=h('">'),bn=h("</tbody></table>"),co=h('<table hidden><tr id="'),fo=h('">'),Cr=h("</tr></table>"),Yo=h('<table hidden><colgroup id="'),ho=h('">'),gl=h("</colgroup></table>");function _i(k,R,W,ne){switch(W.insertionMode){case 0:case 1:return o(k,Ne),o(k,R.segmentPrefix),o(k,d(ne.toString(16))),i(k,Be);case 2:return o(k,Xe),o(k,R.segmentPrefix),o(k,d(ne.toString(16))),i(k,et);case 3:return o(k,Kt),o(k,R.segmentPrefix),o(k,d(ne.toString(16))),i(k,Pn);case 4:return o(k,jr),o(k,R.segmentPrefix),o(k,d(ne.toString(16))),i(k,Rn);case 5:return o(k,Lr),o(k,R.segmentPrefix),o(k,d(ne.toString(16))),i(k,sa);case 6:return o(k,co),o(k,R.segmentPrefix),o(k,d(ne.toString(16))),i(k,fo);case 7:return o(k,Yo),o(k,R.segmentPrefix),o(k,d(ne.toString(16))),i(k,ho);default:throw Error(t(397))}}function Bi(k,R){switch(R.insertionMode){case 0:case 1:return i(k,He);case 2:return i(k,kt);case 3:return i(k,wn);case 4:return i(k,rr);case 5:return i(k,bn);case 6:return i(k,Cr);case 7:return i(k,gl);default:throw Error(t(397))}}var au=h('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),yl=h('$RS("'),La=h('","'),la=h('")<\/script>'),Ra=h('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),vl=h('$RC("'),_a=h('","'),su=h('")<\/script>'),Sn=h('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Rr=h('$RX("'),ps=h('"'),ms=h(")<\/script>"),Hi=h(","),wl=/[<\u2028\u2029]/g;function ui(k){return JSON.stringify(k).replace(wl,function(R){switch(R){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var zo=Object.assign,po=Symbol.for("react.element"),Ba=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),gs=Symbol.for("react.strict_mode"),ys=Symbol.for("react.profiler"),vs=Symbol.for("react.provider"),Vo=Symbol.for("react.context"),Ha=Symbol.for("react.forward_ref"),Ui=Symbol.for("react.suspense"),Zo=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),G=Symbol.for("react.scope"),re=Symbol.for("react.debug_trace_mode"),ke=Symbol.for("react.legacy_hidden"),Te=Symbol.for("react.default_value"),Ue=Symbol.iterator;function nt(k){if(k==null)return null;if(typeof k=="function")return k.displayName||k.name||null;if(typeof k=="string")return k;switch(k){case vr:return"Fragment";case Ba:return"Portal";case ys:return"Profiler";case gs:return"StrictMode";case Ui:return"Suspense";case Zo:return"SuspenseList"}if(typeof k=="object")switch(k.$$typeof){case Vo:return(k.displayName||"Context")+".Consumer";case vs:return(k._context.displayName||"Context")+".Provider";case Ha:var R=k.render;return k=k.displayName,k||(k=R.displayName||R.name||"",k=k!==""?"ForwardRef("+k+")":"ForwardRef"),k;case M:return R=k.displayName||null,R!==null?R:nt(k.type)||"Memo";case _:R=k._payload,k=k._init;try{return nt(k(R))}catch{}}return null}var ut={};function Nt(k,R){if(k=k.contextTypes,!k)return ut;var W={},ne;for(ne in k)W[ne]=R[ne];return W}var zt=null;function Tn(k,R){if(k!==R){k.context._currentValue=k.parentValue,k=k.parent;var W=R.parent;if(k===null){if(W!==null)throw Error(t(401))}else{if(W===null)throw Error(t(401));Tn(k,W)}R.context._currentValue=R.value}}function Co(k){k.context._currentValue=k.parentValue,k=k.parent,k!==null&&Co(k)}function mo(k){var R=k.parent;R!==null&&mo(R),k.context._currentValue=k.value}function _r(k,R){if(k.context._currentValue=k.parentValue,k=k.parent,k===null)throw Error(t(402));k.depth===R.depth?Tn(k,R):_r(k,R)}function ci(k,R){var W=R.parent;if(W===null)throw Error(t(402));k.depth===W.depth?Tn(k,W):ci(k,W),R.context._currentValue=R.value}function go(k){var R=zt;R!==k&&(R===null?mo(k):k===null?Co(R):R.depth===k.depth?Tn(R,k):R.depth>k.depth?_r(R,k):ci(R,k),zt=k)}var Mo={isMounted:function(){return!1},enqueueSetState:function(k,R){k=k._reactInternals,k.queue!==null&&k.queue.push(R)},enqueueReplaceState:function(k,R){k=k._reactInternals,k.replace=!0,k.queue=[R]},enqueueForceUpdate:function(){}};function qr(k,R,W,ne){var Ae=k.state!==void 0?k.state:null;k.updater=Mo,k.props=W,k.state=Ae;var Ie={queue:[],replace:!1};k._reactInternals=Ie;var ze=R.contextType;if(k.context=typeof ze=="object"&&ze!==null?ze._currentValue:ne,ze=R.getDerivedStateFromProps,typeof ze=="function"&&(ze=ze(W,Ae),Ae=ze==null?Ae:zo({},Ae,ze),k.state=Ae),typeof R.getDerivedStateFromProps!="function"&&typeof k.getSnapshotBeforeUpdate!="function"&&(typeof k.UNSAFE_componentWillMount=="function"||typeof k.componentWillMount=="function"))if(R=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),R!==k.state&&Mo.enqueueReplaceState(k,k.state,null),Ie.queue!==null&&0<Ie.queue.length)if(R=Ie.queue,ze=Ie.replace,Ie.queue=null,Ie.replace=!1,ze&&R.length===1)k.state=R[0];else{for(Ie=ze?R[0]:k.state,Ae=!0,ze=ze?1:0;ze<R.length;ze++){var tt=R[ze];tt=typeof tt=="function"?tt.call(k,Ie,W,ne):tt,tt!=null&&(Ae?(Ae=!1,Ie=zo({},Ie,tt)):zo(Ie,tt))}k.state=Ie}else Ie.queue=null}var Wo={id:1,overflow:""};function yo(k,R,W){var ne=k.id;k=k.overflow;var Ae=32-ua(ne)-1;ne&=~(1<<Ae),W+=1;var Ie=32-ua(R)+Ae;if(30<Ie){var ze=Ae-Ae%5;return Ie=(ne&(1<<ze)-1).toString(32),ne>>=ze,Ae-=ze,{id:1<<32-ua(R)+Ae|W<<Ae|ne,overflow:Ie+k}}return{id:1<<Ie|W<<Ae|ne,overflow:k}}var ua=Math.clz32?Math.clz32:Md,ca=Math.log,Rh=Math.LN2;function Md(k){return k>>>=0,k===0?32:31-(ca(k)/Rh|0)|0}function Ua(k,R){return k===R&&(k!==0||1/k===1/R)||k!==k&&R!==R}var _h=typeof Object.is=="function"?Object.is:Ua,di=null,ws=null,bl=null,xn=null,on=!1,an=!1,fi=0,$o=null,lu=0;function Ya(){if(di===null)throw Error(t(321));return di}function uu(){if(0<lu)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function bs(){return xn===null?bl===null?(on=!1,bl=xn=uu()):(on=!0,xn=bl):xn.next===null?(on=!1,xn=xn.next=uu()):(on=!0,xn=xn.next),xn}function Ss(){ws=di=null,an=!1,bl=null,lu=0,xn=$o=null}function hc(k,R){return typeof R=="function"?R(k):R}function Nn(k,R,W){if(di=Ya(),xn=bs(),on){var ne=xn.queue;if(R=ne.dispatch,$o!==null&&(W=$o.get(ne),W!==void 0)){$o.delete(ne),ne=xn.memoizedState;do ne=k(ne,W.action),W=W.next;while(W!==null);return xn.memoizedState=ne,[ne,R]}return[xn.memoizedState,R]}return k=k===hc?typeof R=="function"?R():R:W!==void 0?W(R):R,xn.memoizedState=k,k=xn.queue={last:null,dispatch:null},k=k.dispatch=hi.bind(null,di,k),[xn.memoizedState,k]}function Ds(k,R){if(di=Ya(),xn=bs(),R=R===void 0?null:R,xn!==null){var W=xn.memoizedState;if(W!==null&&R!==null){var ne=W[1];e:if(ne===null)ne=!1;else{for(var Ae=0;Ae<ne.length&&Ae<R.length;Ae++)if(!_h(R[Ae],ne[Ae])){ne=!1;break e}ne=!0}if(ne)return W[0]}}return k=k(),xn.memoizedState=[k,R],k}function hi(k,R,W){if(25<=lu)throw Error(t(301));if(k===di)if(an=!0,k={action:W,next:null},$o===null&&($o=new Map),W=$o.get(R),W===void 0)$o.set(R,k);else{for(R=W;R.next!==null;)R=R.next;R.next=k}}function pc(){throw Error(t(394))}function Yi(){}var Mr={readContext:function(k){return k._currentValue},useContext:function(k){return Ya(),k._currentValue},useMemo:Ds,useReducer:Nn,useRef:function(k){di=Ya(),xn=bs();var R=xn.memoizedState;return R===null?(k={current:k},xn.memoizedState=k):R},useState:function(k){return Nn(hc,k)},useInsertionEffect:Yi,useLayoutEffect:function(){},useCallback:function(k,R){return Ds(function(){return k},R)},useImperativeHandle:Yi,useEffect:Yi,useDebugValue:Yi,useDeferredValue:function(k){return Ya(),k},useTransition:function(){return Ya(),[!1,pc]},useId:function(){var k=ws.treeContext,R=k.overflow;k=k.id,k=(k&~(1<<32-ua(k)-1)).toString(32)+R;var W=Ts;if(W===null)throw Error(t(404));return R=fi++,k=":"+W.idPrefix+"R"+k,0<R&&(k+="H"+R.toString(32)),k+":"},useMutableSource:function(k,R){return Ya(),R(k._source)},useSyncExternalStore:function(k,R,W){if(W===void 0)throw Error(t(407));return W()}},Ts=null,kr=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function za(k){return console.error(k),null}function da(){}function Is(k,R,W,ne,Ae,Ie,ze,tt,St){var Zt=[],jt=new Set;return R={destination:null,responseState:R,progressiveChunkSize:ne===void 0?12800:ne,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:jt,pingedTasks:Zt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:Ae===void 0?za:Ae,onAllReady:Ie===void 0?da:Ie,onShellReady:ze===void 0?da:ze,onShellError:tt===void 0?da:tt,onFatalError:St===void 0?da:St},W=ur(R,0,null,W,!1,!1),W.parentFlushed=!0,k=cu(R,k,null,W,jt,ut,null,Wo),Zt.push(k),R}function cu(k,R,W,ne,Ae,Ie,ze,tt){k.allPendingTasks++,W===null?k.pendingRootTasks++:W.pendingTasks++;var St={node:R,ping:function(){var Zt=k.pingedTasks;Zt.push(St),Zt.length===1&&gc(k)},blockedBoundary:W,blockedSegment:ne,abortSet:Ae,legacyContext:Ie,context:ze,treeContext:tt};return Ae.add(St),St}function ur(k,R,W,ne,Ae,Ie){return{status:0,id:-1,index:R,parentFlushed:!1,chunks:[],children:[],formatContext:ne,boundary:W,lastPushedText:Ae,textEmbedded:Ie}}function Va(k,R){if(k=k.onError(R),k!=null&&typeof k!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof k+'" instead');return k}function or(k,R){var W=k.onShellError;W(R),W=k.onFatalError,W(R),k.destination!==null?(k.status=2,m(k.destination,R)):(k.status=1,k.fatalError=R)}function Sl(k,R,W,ne,Ae){for(di={},ws=R,fi=0,k=W(ne,Ae);an;)an=!1,fi=0,lu+=1,xn=null,k=W(ne,Ae);return Ss(),k}function du(k,R,W,ne){var Ae=W.render(),Ie=ne.childContextTypes;if(Ie!=null){var ze=R.legacyContext;if(typeof W.getChildContext!="function")ne=ze;else{W=W.getChildContext();for(var tt in W)if(!(tt in Ie))throw Error(t(108,nt(ne)||"Unknown",tt));ne=zo({},ze,W)}R.legacyContext=ne,Br(k,R,Ae),R.legacyContext=ze}else Br(k,R,Ae)}function zi(k,R){if(k&&k.defaultProps){R=zo({},R),k=k.defaultProps;for(var W in k)R[W]===void 0&&(R[W]=k[W]);return R}return R}function Es(k,R,W,ne,Ae){if(typeof W=="function")if(W.prototype&&W.prototype.isReactComponent){Ae=Nt(W,R.legacyContext);var Ie=W.contextType;Ie=new W(ne,typeof Ie=="object"&&Ie!==null?Ie._currentValue:Ae),qr(Ie,W,ne,Ae),du(k,R,Ie,W)}else{Ie=Nt(W,R.legacyContext),Ae=Sl(k,R,W,ne,Ie);var ze=fi!==0;if(typeof Ae=="object"&&Ae!==null&&typeof Ae.render=="function"&&Ae.$$typeof===void 0)qr(Ae,W,ne,Ie),du(k,R,Ae,W);else if(ze){ne=R.treeContext,R.treeContext=yo(ne,1,0);try{Br(k,R,Ae)}finally{R.treeContext=ne}}else Br(k,R,Ae)}else if(typeof W=="string"){switch(Ae=R.blockedSegment,Ie=lr(Ae.chunks,W,ne,k.responseState,Ae.formatContext),Ae.lastPushedText=!1,ze=Ae.formatContext,Ae.formatContext=ee(ze,W,ne),pi(k,R,Ie),Ae.formatContext=ze,W){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:Ae.chunks.push($r,d(W),tr)}Ae.lastPushedText=!1}else{switch(W){case ke:case re:case gs:case ys:case vr:Br(k,R,ne.children);return;case Zo:Br(k,R,ne.children);return;case G:throw Error(t(343));case Ui:e:{W=R.blockedBoundary,Ae=R.blockedSegment,Ie=ne.fallback,ne=ne.children,ze=new Set;var tt={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:ze,errorDigest:null},St=ur(k,Ae.chunks.length,tt,Ae.formatContext,!1,!1);Ae.children.push(St),Ae.lastPushedText=!1;var Zt=ur(k,0,null,Ae.formatContext,!1,!1);Zt.parentFlushed=!0,R.blockedBoundary=tt,R.blockedSegment=Zt;try{if(pi(k,R,ne),Zt.lastPushedText&&Zt.textEmbedded&&Zt.chunks.push(fe),Zt.status=1,xs(tt,Zt),tt.pendingTasks===0)break e}catch(jt){Zt.status=4,tt.forceClientRender=!0,tt.errorDigest=Va(k,jt)}finally{R.blockedBoundary=W,R.blockedSegment=Ae}R=cu(k,Ie,W,St,ze,R.legacyContext,R.context,R.treeContext),k.pingedTasks.push(R)}return}if(typeof W=="object"&&W!==null)switch(W.$$typeof){case Ha:if(ne=Sl(k,R,W.render,ne,Ae),fi!==0){W=R.treeContext,R.treeContext=yo(W,1,0);try{Br(k,R,ne)}finally{R.treeContext=W}}else Br(k,R,ne);return;case M:W=W.type,ne=zi(W,ne),Es(k,R,W,ne,Ae);return;case vs:if(Ae=ne.children,W=W._context,ne=ne.value,Ie=W._currentValue,W._currentValue=ne,ze=zt,zt=ne={parent:ze,depth:ze===null?0:ze.depth+1,context:W,parentValue:Ie,value:ne},R.context=ne,Br(k,R,Ae),k=zt,k===null)throw Error(t(403));ne=k.parentValue,k.context._currentValue=ne===Te?k.context._defaultValue:ne,k=zt=k.parent,R.context=k;return;case Vo:ne=ne.children,ne=ne(W._currentValue),Br(k,R,ne);return;case _:Ae=W._init,W=Ae(W._payload),ne=zi(W,ne),Es(k,R,W,ne,void 0);return}throw Error(t(130,W==null?W:typeof W,""))}}function Br(k,R,W){if(R.node=W,typeof W=="object"&&W!==null){switch(W.$$typeof){case po:Es(k,R,W.type,W.props,W.ref);return;case Ba:throw Error(t(257));case _:var ne=W._init;W=ne(W._payload),Br(k,R,W);return}if($(W)){In(k,R,W);return}if(W===null||typeof W!="object"?ne=null:(ne=Ue&&W[Ue]||W["@@iterator"],ne=typeof ne=="function"?ne:null),ne&&(ne=ne.call(W))){if(W=ne.next(),!W.done){var Ae=[];do Ae.push(W.value),W=ne.next();while(!W.done);In(k,R,Ae)}return}throw k=Object.prototype.toString.call(W),Error(t(31,k==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":k))}typeof W=="string"?(ne=R.blockedSegment,ne.lastPushedText=xe(R.blockedSegment.chunks,W,k.responseState,ne.lastPushedText)):typeof W=="number"&&(ne=R.blockedSegment,ne.lastPushedText=xe(R.blockedSegment.chunks,""+W,k.responseState,ne.lastPushedText))}function In(k,R,W){for(var ne=W.length,Ae=0;Ae<ne;Ae++){var Ie=R.treeContext;R.treeContext=yo(Ie,ne,Ae);try{pi(k,R,W[Ae])}finally{R.treeContext=Ie}}}function pi(k,R,W){var ne=R.blockedSegment.formatContext,Ae=R.legacyContext,Ie=R.context;try{return Br(k,R,W)}catch(St){if(Ss(),typeof St=="object"&&St!==null&&typeof St.then=="function"){W=St;var ze=R.blockedSegment,tt=ur(k,ze.chunks.length,null,ze.formatContext,ze.lastPushedText,!0);ze.children.push(tt),ze.lastPushedText=!1,k=cu(k,R.node,R.blockedBoundary,tt,R.abortSet,R.legacyContext,R.context,R.treeContext).ping,W.then(k,k),R.blockedSegment.formatContext=ne,R.legacyContext=Ae,R.context=Ie,go(Ie)}else throw R.blockedSegment.formatContext=ne,R.legacyContext=Ae,R.context=Ie,go(Ie),St}}function mc(k){var R=k.blockedBoundary;k=k.blockedSegment,k.status=3,Nd(this,R,k)}function kd(k,R,W){var ne=k.blockedBoundary;k.blockedSegment.status=3,ne===null?(R.allPendingTasks--,R.status!==2&&(R.status=2,R.destination!==null&&R.destination.close())):(ne.pendingTasks--,ne.forceClientRender||(ne.forceClientRender=!0,k=W===void 0?Error(t(432)):W,ne.errorDigest=R.onError(k),ne.parentFlushed&&R.clientRenderedBoundaries.push(ne)),ne.fallbackAbortableTasks.forEach(function(Ae){return kd(Ae,R,W)}),ne.fallbackAbortableTasks.clear(),R.allPendingTasks--,R.allPendingTasks===0&&(ne=R.onAllReady,ne()))}function xs(k,R){if(R.chunks.length===0&&R.children.length===1&&R.children[0].boundary===null){var W=R.children[0];W.id=R.id,W.parentFlushed=!0,W.status===1&&xs(k,W)}else k.completedSegments.push(R)}function Nd(k,R,W){if(R===null){if(W.parentFlushed){if(k.completedRootSegment!==null)throw Error(t(389));k.completedRootSegment=W}k.pendingRootTasks--,k.pendingRootTasks===0&&(k.onShellError=da,R=k.onShellReady,R())}else R.pendingTasks--,R.forceClientRender||(R.pendingTasks===0?(W.parentFlushed&&W.status===1&&xs(R,W),R.parentFlushed&&k.completedBoundaries.push(R),R.fallbackAbortableTasks.forEach(mc,k),R.fallbackAbortableTasks.clear()):W.parentFlushed&&W.status===1&&(xs(R,W),R.completedSegments.length===1&&R.parentFlushed&&k.partialBoundaries.push(R)));k.allPendingTasks--,k.allPendingTasks===0&&(k=k.onAllReady,k())}function gc(k){if(k.status!==2){var R=zt,W=kr.current;kr.current=Mr;var ne=Ts;Ts=k.responseState;try{var Ae=k.pingedTasks,Ie;for(Ie=0;Ie<Ae.length;Ie++){var ze=Ae[Ie],tt=k,St=ze.blockedSegment;if(St.status===0){go(ze.context);try{Br(tt,ze,ze.node),St.lastPushedText&&St.textEmbedded&&St.chunks.push(fe),ze.abortSet.delete(ze),St.status=1,Nd(tt,ze.blockedBoundary,St)}catch(No){if(Ss(),typeof No=="object"&&No!==null&&typeof No.then=="function"){var Zt=ze.ping;No.then(Zt,Zt)}else{ze.abortSet.delete(ze),St.status=4;var jt=ze.blockedBoundary,Cn=No,Hr=Va(tt,Cn);if(jt===null?or(tt,Cn):(jt.pendingTasks--,jt.forceClientRender||(jt.forceClientRender=!0,jt.errorDigest=Hr,jt.parentFlushed&&tt.clientRenderedBoundaries.push(jt))),tt.allPendingTasks--,tt.allPendingTasks===0){var ko=tt.onAllReady;ko()}}}}}Ae.splice(0,Ie),k.destination!==null&&pu(k,k.destination)}catch(No){Va(k,No),or(k,No)}finally{Ts=ne,kr.current=W,W===Mr&&go(R)}}}function fu(k,R,W){switch(W.parentFlushed=!0,W.status){case 0:var ne=W.id=k.nextSegmentId++;return W.lastPushedText=!1,W.textEmbedded=!1,k=k.responseState,o(R,nr),o(R,k.placeholderPrefix),k=d(ne.toString(16)),o(R,k),i(R,Pi);case 1:W.status=2;var Ae=!0;ne=W.chunks;var Ie=0;W=W.children;for(var ze=0;ze<W.length;ze++){for(Ae=W[ze];Ie<Ae.index;Ie++)o(R,ne[Ie]);Ae=Dl(k,R,Ae)}for(;Ie<ne.length-1;Ie++)o(R,ne[Ie]);return Ie<ne.length&&(Ae=i(R,ne[Ie])),Ae;default:throw Error(t(390))}}function Dl(k,R,W){var ne=W.boundary;if(ne===null)return fu(k,R,W);if(ne.parentFlushed=!0,ne.forceClientRender)ne=ne.errorDigest,i(R,xo),o(R,aa),ne&&(o(R,Ri),o(R,d(z(ne))),o(R,li)),i(R,X),fu(k,R,W);else if(0<ne.pendingTasks){ne.rootSegmentID=k.nextSegmentId++,0<ne.completedSegments.length&&k.partialBoundaries.push(ne);var Ae=k.responseState,Ie=Ae.nextSuspenseID++;Ae=h(Ae.boundaryPrefix+Ie.toString(16)),ne=ne.id=Ae,he(R,k.responseState,ne),fu(k,R,W)}else if(ne.byteSize>k.progressiveChunkSize)ne.rootSegmentID=k.nextSegmentId++,k.completedBoundaries.push(ne),he(R,k.responseState,ne.id),fu(k,R,W);else{if(i(R,Eo),W=ne.completedSegments,W.length!==1)throw Error(t(391));Dl(k,R,W[0])}return i(R,Li)}function Tl(k,R,W){return _i(R,k.responseState,W.formatContext,W.id),Dl(k,R,W),Bi(R,W.formatContext)}function Za(k,R,W){for(var ne=W.completedSegments,Ae=0;Ae<ne.length;Ae++)hu(k,R,W,ne[Ae]);if(ne.length=0,k=k.responseState,ne=W.id,W=W.rootSegmentID,o(R,k.startInlineScript),k.sentCompleteBoundaryFunction?o(R,vl):(k.sentCompleteBoundaryFunction=!0,o(R,Ra)),ne===null)throw Error(t(395));return W=d(W.toString(16)),o(R,ne),o(R,_a),o(R,k.segmentPrefix),o(R,W),i(R,su)}function hu(k,R,W,ne){if(ne.status===2)return!0;var Ae=ne.id;if(Ae===-1){if((ne.id=W.rootSegmentID)===-1)throw Error(t(392));return Tl(k,R,ne)}return Tl(k,R,ne),k=k.responseState,o(R,k.startInlineScript),k.sentCompleteSegmentFunction?o(R,yl):(k.sentCompleteSegmentFunction=!0,o(R,au)),o(R,k.segmentPrefix),Ae=d(Ae.toString(16)),o(R,Ae),o(R,La),o(R,k.placeholderPrefix),o(R,Ae),i(R,la)}function pu(k,R){n=new Uint8Array(512),r=0;try{var W=k.completedRootSegment;if(W!==null&&k.pendingRootTasks===0){Dl(k,R,W),k.completedRootSegment=null;var ne=k.responseState.bootstrapChunks;for(W=0;W<ne.length-1;W++)o(R,ne[W]);W<ne.length&&i(R,ne[W])}var Ae=k.clientRenderedBoundaries,Ie;for(Ie=0;Ie<Ae.length;Ie++){var ze=Ae[Ie];ne=R;var tt=k.responseState,St=ze.id,Zt=ze.errorDigest,jt=ze.errorMessage,Cn=ze.errorComponentStack;if(o(ne,tt.startInlineScript),tt.sentClientRenderFunction?o(ne,Rr):(tt.sentClientRenderFunction=!0,o(ne,Sn)),St===null)throw Error(t(395));o(ne,St),o(ne,ps),(Zt||jt||Cn)&&(o(ne,Hi),o(ne,d(ui(Zt||"")))),(jt||Cn)&&(o(ne,Hi),o(ne,d(ui(jt||"")))),Cn&&(o(ne,Hi),o(ne,d(ui(Cn)))),i(ne,ms)}Ae.splice(0,Ie);var Hr=k.completedBoundaries;for(Ie=0;Ie<Hr.length;Ie++)Za(k,R,Hr[Ie]);Hr.splice(0,Ie),s(R),n=new Uint8Array(512),r=0;var ko=k.partialBoundaries;for(Ie=0;Ie<ko.length;Ie++){var No=ko[Ie];e:{Ae=k,ze=R;var Il=No.completedSegments;for(tt=0;tt<Il.length;tt++)if(!hu(Ae,ze,No,Il[tt])){tt++,Il.splice(0,tt);var vc=!1;break e}Il.splice(0,tt),vc=!0}if(!vc){k.destination=null,Ie++,ko.splice(0,Ie);return}}ko.splice(0,Ie);var fa=k.completedBoundaries;for(Ie=0;Ie<fa.length;Ie++)Za(k,R,fa[Ie]);fa.splice(0,Ie)}finally{s(R),k.allPendingTasks===0&&k.pingedTasks.length===0&&k.clientRenderedBoundaries.length===0&&k.completedBoundaries.length===0&&R.close()}}function yc(k,R){try{var W=k.abortableTasks;W.forEach(function(ne){return kd(ne,k,R)}),W.clear(),k.destination!==null&&pu(k,k.destination)}catch(ne){Va(k,ne),or(k,ne)}}return Oy.renderToReadableStream=function(k,R){return new Promise(function(W,ne){var Ae,Ie,ze=new Promise(function(jt,Cn){Ie=jt,Ae=Cn}),tt=Is(k,se(R?R.identifierPrefix:void 0,R?R.nonce:void 0,R?R.bootstrapScriptContent:void 0,R?R.bootstrapScripts:void 0,R?R.bootstrapModules:void 0),J(R?R.namespaceURI:void 0),R?R.progressiveChunkSize:void 0,R?R.onError:void 0,Ie,function(){var jt=new ReadableStream({type:"bytes",pull:function(Cn){if(tt.status===1)tt.status=2,m(Cn,tt.fatalError);else if(tt.status!==2&&tt.destination===null){tt.destination=Cn;try{pu(tt,Cn)}catch(Hr){Va(tt,Hr),or(tt,Hr)}}},cancel:function(){yc(tt)}},{highWaterMark:0});jt.allReady=ze,W(jt)},function(jt){ze.catch(function(){}),ne(jt)},Ae);if(R&&R.signal){var St=R.signal,Zt=function(){yc(tt,St.reason),St.removeEventListener("abort",Zt)};St.addEventListener("abort",Zt)}gc(tt)})},Oy.version="18.2.0",Oy}var Lh,_M;Lh=QQ();_M=XQ();Lh.version;Lh.renderToString;var eX=Lh.renderToStaticMarkup;Lh.renderToNodeStream;Lh.renderToStaticNodeStream;_M.renderToReadableStream;const BM=Me.oneOf(["top","right","bottom","left","bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned","top-left-aligned","top-middle-aligned","top-right-aligned","auto"]),HM=Me.oneOf(["top-middle","top-left","top-right","bottom-left","bottom-right","bottom-middle","middle-left","middle-right","middle-middle"]),UM=Me.shape({nextLabel:Me.string,prevLabel:Me.string,skipLabel:Me.string,doneLabel:Me.string,hidePrev:Me.bool,hideNext:Me.bool,tooltipPosition:BM,tooltipClass:Me.string,highlightClass:Me.string,exitOnEsc:Me.bool,exitOnOverlayClick:Me.bool,showStepNumbers:Me.bool,keyboardNavigation:Me.bool,showButtons:Me.bool,showBullets:Me.bool,showProgress:Me.bool,scrollToElement:Me.bool,overlayOpacity:Me.number,scrollPadding:Me.number,positionPrecedence:Me.arrayOf(Me.string),disableInteraction:Me.bool,hintPosition:HM,hintButtonLabel:Me.string,hintAnimation:Me.bool}),YM={hidePrev:!0,hideNext:!0};function zM(){return typeof window>"u"}class U1 extends j.Component{constructor(n){super(n);De(this,"onExit",()=>{const{onExit:n}=this.props;this.isVisible=!1,n(this.introJs._currentStep)});De(this,"onBeforeExit",()=>{const{onBeforeExit:n}=this.props;return n?n(this.introJs._currentStep):!0});De(this,"onBeforeChange",n=>{if(!this.isVisible)return!0;const{onBeforeChange:r,onPreventChange:o}=this.props;if(r){const i=r(this.introJs._currentStep,n);return i===!1&&o&&setTimeout(()=>{o(this.introJs._currentStep)},0),i}return!0});De(this,"onAfterChange",n=>{if(!this.isVisible)return;const{onAfterChange:r}=this.props;r&&r(this.introJs._currentStep,n)});De(this,"onChange",n=>{if(!this.isVisible)return;const{onChange:r}=this.props;r&&r(this.introJs._currentStep,n)});De(this,"onComplete",()=>{const{onComplete:n}=this.props;n&&n()});De(this,"updateStepElement",n=>{const r=document.querySelector(this.introJs._options.steps[n].element);r&&(this.introJs._introItems[n].element=r,this.introJs._introItems[n].position=this.introJs._options.steps[n].position||"auto")});this.introJs=null,this.isConfigured=!1,this.isVisible=!1,this.installIntroJs()}componentDidMount(){this.props.enabled&&(this.configureIntroJs(),this.renderSteps())}componentDidUpdate(n){const{enabled:r,steps:o,options:i}=this.props;(!this.isConfigured||n.steps!==o||n.options!==i)&&(this.configureIntroJs(),this.renderSteps()),n.enabled!==r&&this.renderSteps()}componentWillUnmount(){this.introJs.exit()}installIntroJs(){zM()||(this.introJs=Cv(),this.introJs.onexit(this.onExit),this.introJs.onbeforeexit(this.onBeforeExit),this.introJs.onbeforechange(this.onBeforeChange),this.introJs.onafterchange(this.onAfterChange),this.introJs.onchange(this.onChange),this.introJs.oncomplete(this.onComplete))}configureIntroJs(){const{options:n,steps:r}=this.props,o=r.map(i=>j.isValidElement(i.intro)?{...i,intro:eX(i.intro)}:i);this.introJs.setOptions({...n,steps:o}),this.isConfigured=!0}renderSteps(){const{enabled:n,initialStep:r,steps:o,onStart:i}=this.props;n&&o.length>0&&!this.isVisible?(this.introJs.start(),this.isVisible=!0,this.introJs.goToStepNumber(r+1),i&&i(this.introJs._currentStep)):!n&&this.isVisible&&(this.isVisible=!1,this.introJs.exit())}render(){return null}}De(U1,"propTypes",{enabled:Me.bool,initialStep:Me.number.isRequired,steps:Me.arrayOf(Me.shape({element:Me.oneOfType([Me.string,typeof Element>"u"?Me.any:Me.instanceOf(Element)]),intro:Me.node.isRequired,position:BM,tooltipClass:Me.string,highlightClass:Me.string})).isRequired,onStart:Me.func,onExit:Me.func.isRequired,onBeforeExit:Me.func,onBeforeChange:Me.func,onAfterChange:Me.func,onChange:Me.func,onPreventChange:Me.func,onComplete:Me.func,options:UM}),De(U1,"defaultProps",{enabled:!1,onStart:null,onBeforeExit:null,onBeforeChange:null,onAfterChange:null,onChange:null,onPreventChange:null,onComplete:null,options:YM});class VT extends j.Component{constructor(t){super(t),this.introJs=null,this.isConfigured=!1,this.installIntroJs()}componentDidMount(){this.props.enabled&&(this.configureIntroJs(),this.renderHints())}componentDidUpdate(t){const{enabled:n,hints:r,options:o}=this.props;(!this.isConfigured||t.hints!==r||t.options!==o)&&(this.configureIntroJs(),this.renderHints()),t.enabled!==n&&this.renderHints()}componentWillUnmount(){this.introJs.hideHints()}installIntroJs(){if(zM())return;this.introJs=Cv();const{onClick:t,onClose:n}=this.props;t&&this.introJs.onhintclick(t),n&&this.introJs.onhintclose(n)}configureIntroJs(){const{options:t,hints:n}=this.props;this.introJs.removeHints(),this.introJs.setOptions({...t,hints:n}),this.isConfigured=!0}renderHints(){const{enabled:t,hints:n}=this.props;t&&n.length>0?this.introJs.showHints():t||this.introJs.hideHints()}render(){return null}}De(VT,"propTypes",{enabled:Me.bool,hints:Me.arrayOf(Me.shape({element:Me.string.isRequired,hint:Me.string.isRequired,hintPosition:HM})).isRequired,onClick:Me.func,onClose:Me.func,options:UM}),De(VT,"defaultProps",{enabled:!1,onClick:null,onClose:null,options:YM});const tX=[{element:".left-sidebar",intro:x("This is Thino's sidebar. Navigate to different path or select query filter.")},{element:".user-banner-container",intro:x("Click here and go to settings page.")},{element:".path-entry-wrapper",intro:x("Click here and go to different path.")},{element:".queries-wrapper",intro:x("Select or create query filter here.")},{element:".status-text-container.sidebar",intro:x("See the status of Thinos here.")+x("It is not available on small view")},{element:".heatmap-default",intro:x("See your time status of thinos here.")},{element:".tags-wrapper",intro:x("See your tags here. Tags will be shown when thino contains tags.")},{element:".section-header-container.memos-header-container",intro:x("Search your thino quickly here.")},{element:".memo-editor-wrapper",intro:x("Edit or create your thino here.")},{element:".memolist-wrapper",intro:x("See your thinos here.")}],nX=[{element:".memos-sidebar-wrapper.left-sidebar",intro:x("This is Thino's sidebar. Navigate to different path or select query filter.")},{element:".user-banner-container",intro:x("Click here and go to settings page.")},{element:".heatmap-default",intro:x("See your time status of thinos here.")},{element:".path-entry-wrapper",intro:x("Click here and go to different path.")},{element:".queries-wrapper",intro:x("Select or create query filter here.")},{element:".tags-wrapper",intro:x("See your tags here. Tags will be shown when thino contains tags.")},{element:".section-header-container.memos-header-container",intro:x("Search your thino quickly here.")},{element:".memo-editor-wrapper",intro:x("Edit or create your thino here.")},{element:".memolist-wrapper",intro:x("See your thinos here.")}],rX={nextLabel:x("Next"),prevLabel:x("Previous"),doneLabel:x("Done"),hideNext:!1};function oX(){var v;const{dailyNotesState:{settings:e,verifyState:t},locationState:{pathname:n},globalState:{isMobileView:r,memoListView:o,globalEditorShown:i,locked:s,exited:c}}=j.useContext(Pt),d=j.useRef(null),h=j.useRef(null),m=e?e.FirstLoaded:(v=app.plugins.getPlugin("obsidian-memos").settings)==null?void 0:v.FirstLoaded;j.useEffect(()=>{if(!e.needVerify){ft.setLocked(!1);return}ft.setLocked(!0)},[e==null?void 0:e.needVerify]),j.useEffect(()=>{if(!h.current)return;(async()=>{var I;const D=!C.Platform.isDesktop&&await((I=window.Capacitor)==null?void 0:I.Plugins.Device.getId()),T=C.Platform.isDesktop?await er():D.identifier||D.uuid;!t||(t==null?void 0:t.appId)!==T?h.current.toggleClass("hide-pro",!0):h.current.toggleClass("hide-pro",!1)})()},[t,h.current]);const g=()=>{ft.setExitSteps(!1)};return y.jsxs(y.Fragment,{children:[m&&y.jsx(zQ,{}),y.jsx(U1,{ref:d,enabled:c,steps:(e==null?void 0:e.DefaultThemeForThino)==="modern"?tX:nX,initialStep:0,onExit:g,options:rX,onBeforeChange:b=>{(r&&(e==null?void 0:e.DefaultThemeForThino)==="classic"&&b===6||r&&(e==null?void 0:e.DefaultThemeForThino)==="modern"&&b===7)&&ft.setShowSiderbarInMobileView(!1)}}),s&&!m&&y.jsx(YQ,{}),!s&&!m&&i&&y.jsx(fd,{editorType:"block"}),!s&&!m&&!i&&y.jsx("section",{ref:h,id:"page-wrapper","data-path":n,className:Gn(`memos-${n==="/"?o:"list"}-view`,(e==null?void 0:e.DefaultThemeForThino)==="modern"?"modern":"classic"),children:y.jsxs(y.Fragment,{children:[y.jsx(jT,{sidebarPosition:"left",className:"left-sidebar"}),y.jsx("main",{className:"content-wrapper",children:bX(n)}),(e==null?void 0:e.DefaultThemeForThino)==="modern"&&!r?y.jsx(jT,{sidebarPosition:"right",className:"right-sidebar"}):null]})})]})}const iX={"*":y.jsx(oX,{})},aX=e=>{const{memo:t,handleDeletedMemoAction:n}=e,{dailyNotesState:r}=j.useContext(Pt),o={...t,createdAtStr:at.getDateTimeString(t.createdAt),deletedAtStr:at.getDateTimeString(t.deletedAt||t.createdAt)},i=ie.useRef(null),s=ie.useRef(null),[c,d]=ie.useState(""),[h,m]=fl(!1),g={restore:j.useRef(null),delete:j.useRef(null),source:j.useRef(null)};j.useEffect(()=>{s&&(C.setIcon(g.restore.current,"archive-restore"),C.setIcon(g.delete.current,"trash"),C.setIcon(g.source.current,"home"))},[s]),j.useEffect(()=>{if(!i.current||!s.current||i.current.hasChildNodes()&&t.content===c||!r.view)return;const I=r.view;d(t.content),i.current.hasChildNodes()&&i.current.empty();async function O(){var B;await C.MarkdownRenderer.render(r.app,t.content+`
`,i.current,t.path,I);const N=(B=i.current)==null?void 0:B.querySelectorAll(".internal-link");N==null||N.forEach(P=>{const U=P,L=U.getAttribute("data-href");if(!L)return;r.app.metadataCache.getFirstLinkpathDest(L,t.path)||P.classList.add("is-unresolved"),U.addEventListener("mouseover",V=>{V.stopPropagation(),r.app.workspace.trigger("hover-link",{event:V,source:"thino",hoverParent:I.containerEl,targetEl:U,linktext:L,sourcePath:U.href})})})}O()},[t.content,s]);const v=async()=>{if(h)try{await _e.deleteMemoById(o.id),n(o.id)}catch(I){new C.Notice(I.message)}else m()},b=async()=>{switch(o.sourceType){case"DAILY":await sb(o.id,o.path);break;case"CANVAS":await ub(o.id,o.path);break;case"MULTI":await ab(o.path);break;case"FILE":await lb(o.id,o.path);break}},D=async()=>{try{const I=await _e.restoreMemoById(o.id),O=r.app,N=O==null?void 0:O.loadLocalStorage("tokenForSync");I&&I.webId&&N&&r.settings.startSync&&await UI(I.webId),I&&_e.editMemo(I),n(o.id),new C.Notice(x("RESTORE SUCCEED"))}catch(I){new C.Notice(I.message)}},T=()=>{h&&m(!1)};return y.jsxs("div",{ref:s,className:`memo-wrapper ${"memos-"+o.id}`,onMouseLeave:T,children:[y.jsxs("div",{className:"memo-top-wrapper",children:[y.jsxs("span",{className:"time-text",children:[x("DELETE AT")," ",o.deletedAtStr]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:I=>{I&&C.setIcon(I,"more-horizontal")},className:"btn more-action-btn"}),y.jsx("div",{className:"more-action-btns-wrapper",children:y.jsxs("div",{className:"more-action-btns-container",children:[y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:g.restore,className:"more-action-item-icon"}),y.jsx("span",{className:"btn restore-btn",onClick:D,children:x("RESTORE")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:g.source,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:b,children:x("SOURCE")})]}),y.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[y.jsx("span",{ref:g.delete,className:"more-action-item-icon"}),y.jsx("span",{className:`btn delete-btn ${h?"final-confirm":""}`,onClick:v,children:x(h?"CONFIRM！":"DELETE")})]})]})})]})]}),y.jsx("div",{ref:i,className:"memo-content-text",onContextMenu:I=>{I.preventDefault(),I.stopPropagation()}})]})},sX=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:o,type:i,text:s,filter:c}=t,d=Qt.getQueryById(c);return!!(r||o&&o.from<o.to||i||s||d)||d||n?e.filter(m=>{let g=!0;if(m.thinoType!==void 0&&n&&m.thinoType==="TASK-DONE"&&(g=!1),m.content.contains("comment:")&&(g=!1),d){const v=JSON.parse(d.querystring);Array.isArray(v)&&(g=Dh(m,v))}if(r){const v=new Set;for(const b of Array.from(m.content.match(yr)||[])){const T=b.replace(yr,"$1").trim().split("/");let I="";for(const O of T)I+=O,v.add(I),I+="/"}for(const b of Array.from(m.content.match(Pr)||[])){const T=b.replace(Pr,"$1").trim().split("/");let I="";for(const O of T)I+=O,v.add(I),I+="/"}for(const b of Array.from(m.content.match(so)||[])){const T=b.replace(so,"$2").trim().split("/");let I="";for(const O of T)I+=O,v.add(I),I+="/"}v.has(r)||(g=!1)}return o&&o.from<o.to&&(at.getTimeStampByDate(m.createdAt)<o.from||at.getTimeStampByDate(m.createdAt)>o.to)&&(g=!1),i&&(i==="NOT_TAGGED"&&(m.content.match(yr)!==null||m.content.match(so)!==null||m.content.match(Pr)!==null)||i==="LINKED"&&m.content.match(Id)===null||i==="IMAGED"&&m.content.match(Ed)===null||i==="CONNECTED"&&m.content.match(sc)===null)&&(g=!1),s&&!m.content.toLowerCase().includes(s.toLowerCase())&&(g=!1),g}):e.filter(m=>!m.content.contains("comment:"))},lX=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=j.useContext(Pt),r=Ph(),[o,i]=j.useState([]),s=ie.useRef(null);j.useEffect(()=>{const h=sX({memos:n.filter(m=>m.deletedAt!==""&&m.deletedAt),query:e,HideDoneTasks:!1});i(h),r.setFinish()},[n,s.current,e]);const c=j.useCallback(h=>{i(m=>m.filter(g=>g.id!==h))},[]),d=j.useCallback(()=>{ft.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"memo-trash-wrapper",ref:s,children:[y.jsxs("div",{className:"section-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(ka,{when:t,children:y.jsx("button",{ref:h=>{h&&C.setIcon(h,"menu")},className:"btn action-btn clickable-icon",onClick:d})}),y.jsxs("span",{className:"go-home-btn",onClick:()=>{ot.clearQuery(),ot.setPathname("/")},children:["🏠 ",x("Return To Home Page")]})]}),y.jsx($m,{})]}),y.jsx(ug,{thinosCount:o.length,thinos:o}),r.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:x("Fetching data...")})}):o.length===0?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:x("Here is No Memos.")})}):y.jsx("div",{className:"deleted-memos-container",children:o.map(h=>y.jsx(aX,{memo:h,handleDeletedMemoAction:c},`${h.id}-${h.updatedAt}`))})]})},Py="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='currentColor'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M19%203H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2zm0%2016H5V5h14v14zM17.99%209l-1.41-1.42-6.59%206.59-2.58-2.57-1.42%201.41%204%203.99z'/%3e%3c/svg%3e",jy="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='currentColor'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0V0z'/%3e%3cpath%20d='M19%205v14H5V5h14m0-2H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2z'/%3e%3c/svg%3e",uX=()=>{const{globalState:e}=j.useContext(Pt),{useTinyUndoHistoryCache:t,shouldHideImageUrl:n,shouldSplitMemoWord:r,shouldUseMarkdownParser:o}=e,i=`👋 你好呀～欢迎使用memos!
* ✨ **开源项目**；
* 😋 精美且细节的视觉样式；
* 📑 体验优良的交互逻辑；`,s=()=>{ft.setAppSetting({useTinyUndoHistoryCache:!t})},c=()=>{ft.setAppSetting({shouldSplitMemoWord:!r})},d=()=>{ft.setAppSetting({shouldHideImageUrl:!n})},h=()=>{ft.setAppSetting({shouldUseMarkdownParser:!o})},m=async()=>{const g=_e.getState().memos.map(D=>({...D})),v=JSON.stringify(g),b=document.createElement("a");b.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(v)),b.setAttribute("download","data.json"),b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"section-container preferences-section-container",children:[y.jsx("p",{className:"title-text",children:"Memo 显示相关"}),y.jsx("div",{className:"demo-content-container memo-content-text",dangerouslySetInnerHTML:{__html:t1(i)}}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:c,children:[y.jsx("span",{className:"normal-text",children:"中英文内容自动间隔"}),y.jsx("img",{className:"icon-img",src:r?Py:jy})]}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:h,children:[y.jsx("span",{className:"normal-text",children:"部分 markdown 格式解析"}),y.jsx("img",{className:"icon-img",src:o?Py:jy})]}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:d,children:[y.jsx("span",{className:"normal-text",children:"隐藏图片链接地址"}),y.jsx("img",{className:"icon-img",src:n?Py:jy})]})]}),y.jsxs("div",{className:"section-container preferences-section-container",children:[y.jsx("p",{className:"title-text",children:"编辑器"}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:s,children:[y.jsxs("span",{className:"normal-text",children:["启用"," ",y.jsx("a",{target:"_blank",href:"https://github.com/boojack/tiny-undo",onClick:g=>g.stopPropagation(),rel:"noreferrer",children:"tiny-undo"})]}),y.jsx("img",{className:"icon-img",src:t?Py:jy})]})]}),y.jsxs("div",{className:"section-container hidden",children:[y.jsx("p",{className:"title-text",children:"其他"}),y.jsx("div",{className:"btn-container",children:y.jsx("button",{className:"btn export-btn",onClick:m,children:"导出数据(JSON)"})})]})]})},cX=()=>{const{globalState:{isMobileView:e}}=j.useContext(Pt);j.useEffect(()=>{_e.fetchAllMemos()},[]);const t=j.useCallback(()=>{ft.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"preference-wrapper",children:[y.jsx("div",{className:"section-header-container",children:y.jsxs("div",{className:"title-text",children:[y.jsx(ka,{when:e,children:y.jsx("button",{className:"action-btn",onClick:t})}),y.jsx("span",{className:"normal-text",children:"账号与设置"})]})}),y.jsx("div",{className:"sections-wrapper",children:y.jsx(uX,{})})]})},dX=e=>{const{dailyNotesState:{app:t,settings:n,view:r}}=j.useContext(Pt),{memo:o,handleUnarchivedMemoAction:i}=e,s=ie.useRef(null),c=ie.useRef(null),[d,h]=ie.useState(""),m={...o,createdAtStr:at.getDateTimeString(o.createdAt),deletedAtStr:at.getDateTimeString(o.deletedAt||o.createdAt)},[g,v]=fl(!1),b={restore:j.useRef(null),delete:j.useRef(null),source:j.useRef(null)};j.useEffect(()=>{c&&(C.setIcon(b.restore.current,"archive-restore"),C.setIcon(b.delete.current,"trash"),C.setIcon(b.source.current,"home"))},[c]),j.useEffect(()=>{if(!s.current||!c.current||s.current.hasChildNodes()&&o.content===d||!r)return;h(o.content),s.current.hasChildNodes()&&s.current.empty();async function N(){var P,U;(P=s.current)==null||P.toggleClass(["markdown-rendered"],!0),await C.MarkdownRenderer.render(t,o.content+`
`,s.current,o.path,r);const B=(U=s.current)==null?void 0:U.querySelectorAll(".internal-link");B==null||B.forEach(L=>{const z=L,V=z.getAttribute("data-href");if(!V)return;t.metadataCache.getFirstLinkpathDest(V,o.path)||L.classList.add("is-unresolved"),z.addEventListener("mouseover",$=>{$.stopPropagation(),t.workspace.trigger("hover-link",{event:$,source:"thino",hoverParent:r.containerEl,targetEl:z,linktext:V,sourcePath:z.href})})})}N()},[o.content,c]);const D=async()=>{switch(m.sourceType){case"DAILY":await sb(m.id,m.path);break;case"CANVAS":await ub(m.id,m.path);break;case"MULTI":await ab(m.path);break;case"FILE":await lb(m.id,m.path);break}},T=async()=>{if(g)try{if(n.DeleteThinoDirectly)await _e.deleteMemoById(m.id);else{const N=await _e.hideMemoById(m.id);N&&_e.editMemo(N)}}catch(N){new C.Notice(N.message)}else v()},I=async()=>{try{const N=await _e.unarchiveMemo(m);N&&_e.editMemo(N),i(m.id),new C.Notice(x("RESTORE SUCCEED"))}catch(N){new C.Notice(N.message)}},O=()=>{g&&v(!1)};return y.jsxs("div",{ref:c,className:`memo-wrapper ${"memos-"+m.id}`,onMouseLeave:O,children:[y.jsxs("div",{className:"memo-top-wrapper",children:[y.jsxs("span",{className:"time-text",children:[x("ARCHIVED AT")," ",m.updatedAt]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:N=>{N&&C.setIcon(N,"more-horizontal")},className:"btn more-action-btn"}),y.jsx("div",{className:"more-action-btns-wrapper",children:y.jsxs("div",{className:"more-action-btns-container",children:[y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:b.restore,className:"more-action-item-icon"}),y.jsx("span",{className:"btn restore-btn",onClick:I,children:x("RESTORE")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:b.source,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:D,children:x("SOURCE")})]}),y.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[y.jsx("span",{ref:b.delete,className:"more-action-item-icon"}),y.jsx("span",{className:`btn delete-btn ${g?"final-confirm":""}`,onClick:T,children:x(g?"CONFIRM！":"DELETE")})]})]})})]})]}),y.jsx("div",{ref:s,className:"memo-content-text"})]})},fX=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:o,type:i,text:s,filter:c}=t,d=Qt.getQueryById(c);return!!(r||o&&o.from<o.to||i||s||d)||d||n?e.filter(m=>{let g=!0;if(m.thinoType!==void 0&&n&&m.thinoType==="TASK-DONE"&&(g=!1),m.content.contains("comment:")&&(g=!1),d){const v=JSON.parse(d.querystring);Array.isArray(v)&&(g=Dh(m,v))}if(r){const v=new Set;for(const b of Array.from(m.content.match(yr)||[])){const T=b.replace(yr,"$1").trim().split("/");let I="";for(const O of T)I+=O,v.add(I),I+="/"}for(const b of Array.from(m.content.match(Pr)||[])){const T=b.replace(Pr,"$1").trim().split("/");let I="";for(const O of T)I+=O,v.add(I),I+="/"}for(const b of Array.from(m.content.match(so)||[])){const T=b.replace(so,"$2").trim().split("/");let I="";for(const O of T)I+=O,v.add(I),I+="/"}v.has(r)||(g=!1)}return o&&o.from<o.to&&(at.getTimeStampByDate(m.createdAt)<o.from||at.getTimeStampByDate(m.createdAt)>o.to)&&(g=!1),i&&(i==="NOT_TAGGED"&&(m.content.match(yr)!==null||m.content.match(so)!==null||m.content.match(Pr)!==null)||i==="LINKED"&&m.content.match(Id)===null||i==="IMAGED"&&m.content.match(Ed)===null||i==="CONNECTED"&&m.content.match(sc)===null)&&(g=!1),s&&!m.content.toLowerCase().includes(s.toLowerCase())&&(g=!1),g}):e.filter(m=>!m.content.contains("comment:"))},hX=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=j.useContext(Pt),r=Ph(),[o,i]=j.useState([]),s=ie.useRef(null);j.useEffect(()=>{const m=fX({memos:n.filter(g=>g.rowStatus==="ARCHIVED"&&g.deletedAt===""),query:e,HideDoneTasks:!1});i(m),r.setFinish()},[n,s.current,e]);const c=j.useCallback(m=>{i(g=>g.filter(v=>v.id!==m))},[]),d=j.useCallback(m=>{i(g=>g.filter(v=>v.id!==m))},[]),h=j.useCallback(()=>{ft.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"memo-trash-wrapper",ref:s,children:[y.jsxs("div",{className:"section-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(ka,{when:t,children:y.jsx("button",{ref:m=>{m&&C.setIcon(m,"menu")},className:"btn action-btn clickable-icon",onClick:h})}),y.jsxs("span",{className:"go-home-btn",onClick:()=>{ot.clearQuery(),ot.setPathname("/")},children:["🏠 ",x("Return To Home Page")]})]}),y.jsx($m,{})]}),y.jsx(ug,{thinosCount:o.length,thinos:o}),r.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("p",{className:"tip-text",children:x("Fetching data...")})}):o.length===0?y.jsx("div",{className:"tip-text-container",children:y.jsx("p",{className:"tip-text",children:x("Here is No Memos.")})}):y.jsx("div",{className:"deleted-memos-container",children:o.map(m=>y.jsx(dX,{memo:m,handleUnarchivedMemoAction:d,handleDeletedMemoAction:c},`${m.id}-${m.updatedAt}`))})]})},pX=()=>{const{dailyNotesState:{app:e},locationState:{query:t},globalState:{isMobileView:n,changedByMemos:r},memoState:{memos:o}}=j.useContext(Pt),i=Ph(),[s,c]=j.useState([]),[d,h]=j.useState([]),m=ie.useRef(null),g=ie.useRef(null),[v,b]=j.useState(!1),[D,T]=j.useState([]),I=ie.useRef([]),O=j.useCallback(({memos:P,query:U,HideDoneTasks:L})=>{const{tag:z,duration:V,type:Z,text:$,filter:oe}=U,te=Qt.getQueryById(oe);return!!(z||V&&V.from<V.to||Z||$||te)||te||L?P.filter(ge=>{let ce=!0;if(ge.thinoType!==void 0&&L&&ge.thinoType==="TASK-DONE"&&(ce=!1),ge.content.contains("comment:")&&(ce=!1),te){const Q=JSON.parse(te.querystring);Array.isArray(Q)&&(ce=Dh(ge,Q))}if(z){const Q=new Set;for(const ue of Array.from(ge.content.match(yr)||[])){const we=ue.replace(yr,"$1").trim().split("/");let J="";for(const ee of we)J+=ee,Q.add(J),J+="/"}for(const ue of Array.from(ge.content.match(Pr)||[])){const we=ue.replace(Pr,"$1").trim().split("/");let J="";for(const ee of we)J+=ee,Q.add(J),J+="/"}for(const ue of Array.from(ge.content.match(so)||[])){const we=ue.replace(so,"$2").trim().split("/");let J="";for(const ee of we)J+=ee,Q.add(J),J+="/"}Q.has(z)||(ce=!1)}return V&&V.from<V.to&&(at.getTimeStampByDate(ge.createdAt)<V.from||at.getTimeStampByDate(ge.createdAt)>V.to)&&(ce=!1),Z&&(Z==="NOT_TAGGED"&&(ge.content.match(yr)!==null||ge.content.match(Pr)!==null)||Z==="LINKED"&&ge.content.match(Id)===null||Z==="IMAGED"&&ge.content.match(Ed)===null||Z==="CONNECTED"&&ge.content.match(sc)===null)&&(ce=!1),$&&!ge.content.toLowerCase().includes($.toLowerCase())&&(ce=!1),ce}):P},[]);j.useEffect(()=>{g.current&&(C.setIcon(g.current,"refresh-cw"),e.workspace.on("refresh-review-memos",B))},[g]),j.useEffect(()=>{if(!v)return;if(t){const L=[...O({memos:o,query:t,HideDoneTasks:!1})].sort(()=>Math.random()-Math.random()).slice(0,10);c(L),b(!1);return}const P=[...D].sort(()=>Math.random()-Math.random()).slice(0,10);c(P),b(!1)},[v]),j.useEffect(()=>{if(!(D.length>0))return;const P=[...D].sort(()=>Math.random()-Math.random()).slice(0,10);c(P),b(!1)},[D]),j.useEffect(()=>{m.current&&(T(O({memos:o,query:t,HideDoneTasks:!1}).filter(P=>P.rowStatus!=="ARCHIVED"&&!(P.deletedAt!==""&&P.deletedAt))),i.setFinish(),ot.clearQuery())},[o,m.current]),j.useEffect(()=>{if(r&&I.current.length>0){const P=D.filter(L=>I.current.includes(L.id)),U=I.current.map(L=>P.find(z=>z.id===L)).filter(L=>L!==void 0);h(U);return}I.current=s.map(P=>P.id),h(s)},[s]),j.useEffect(()=>{if(s.length===0)return;const P=O({memos:s,query:t,HideDoneTasks:!1});h(P)},[t]);const N=j.useCallback(()=>{ft.setShowSiderbarInMobileView(!0)},[]),B=()=>{b(!0)};return y.jsxs("div",{className:"memo-review-wrapper",ref:m,children:[y.jsx("div",{className:"section-header-container",children:y.jsxs("div",{className:"title-wrapper",children:[y.jsxs("div",{className:"title-btns-left-wrapper",children:[y.jsx(ka,{when:n,children:y.jsx("button",{ref:P=>{P&&C.setIcon(P,"menu")},className:"btn action-btn clickable-icon",onClick:N})}),y.jsx("span",{ref:g,onClick:B,className:"refresh-icon"})]}),y.jsx("div",{className:"title-btns-right-wrapper",children:y.jsxs("span",{className:"go-home-btn",onClick:()=>{ot.setPathname("/")},children:["🏠 ",x("Return To Home Page")]})})]})}),y.jsx(ug,{}),i.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:x("Fetching data...")})}):o.length===0?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:x("Here is No Memos.")})}):y.jsx("div",{className:"review-memos-container",children:d.map(P=>y.jsx(Oi,{memo:P},`${P==null?void 0:P.id}-${P.createdAt}`))})]})},VM=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:o,type:i,text:s,filter:c}=t,d=Qt.getQueryById(c);return!!(r||o&&o.from<o.to||i||s||d)||d||n?e.filter(m=>{let g=!0;if(m.thinoType!==void 0&&n&&m.thinoType==="TASK-DONE"&&(g=!1),m.content.contains("comment:")&&(g=!1),d){const v=JSON.parse(d.querystring);Array.isArray(v)&&(g=Dh(m,v))}if(r){const v=new Set;for(const b of Array.from(m.content.match(yr)||[])){const T=b.replace(yr,"$1").trim().split("/");let I="";for(const O of T)I+=O,v.add(I),I+="/"}for(const b of Array.from(m.content.match(Pr)||[])){const T=b.replace(Pr,"$1").trim().split("/");let I="";for(const O of T)I+=O,v.add(I),I+="/"}for(const b of Array.from(m.content.match(so)||[])){const T=b.replace(so,"$2").trim().split("/");let I="";for(const O of T)I+=O,v.add(I),I+="/"}v.has(r)||(g=!1)}return o&&o.from<o.to&&(at.getTimeStampByDate(m.createdAt)<o.from||at.getTimeStampByDate(m.createdAt)>o.to)&&(g=!1),i&&(i==="NOT_TAGGED"&&(m.content.match(yr)!==null||m.content.match(so)!==null||m.content.match(Pr)!==null)||i==="LINKED"&&m.content.match(Id)===null||i==="IMAGED"&&m.content.match(Ed)===null||i==="CONNECTED"&&m.content.match(sc)===null)&&(g=!1),s&&!m.content.toLowerCase().includes(s.toLowerCase())&&(g=!1),g}):e.filter(m=>!m.content.contains("comment:"))},mX=j.forwardRef((e,t)=>{const{currentDate:n,setCurrentDateStamp:r}=e,[o,i]=j.useState(!1),s=at.getDateStampByDate(at.getDateString(n)),c=j.useRef(null);j.useEffect(()=>{c.current&&(!o&&C.setIcon(c.current,"more-horizontal"),o&&C.setIcon(c.current,"x"))},[c.current,o]);const d=h=>{r(h)};return j.useImperativeHandle(t,()=>({closeDatePicker:()=>{i(!1)}})),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"date-card-container",children:[y.jsxs("div",{className:"date-container-details",children:[y.jsxs("div",{className:"details-text",children:[C.moment(s,"x").format("dddd")+" ",y.jsx("div",{className:"date-text",children:C.moment(s,"x").format("MMM")+" "+C.moment(s,"x").format("DD")})]}),y.jsx("div",{className:"details-logo-text",children:x("Daily Memos")})]}),y.jsxs("div",{className:"date-container-info",children:[y.jsxs("div",{className:"date-container-info-text",children:["Week ",y.jsx("div",{className:"week-text",children:C.moment(s,"x").format("ww")}),"of ",y.jsx("div",{className:"year-text",children:C.moment(s,"x").format("YYYY")})]}),y.jsx("div",{ref:c,onClick:()=>i(!o)})]})]}),y.jsx(Yv,{className:`date-picker ${o?"":"hidden"}`,datestamp:s,handleDateStampChange:d})]})}),gX=({thino:e})=>{const t=j.useCallback(()=>{Th(e)},[]);return y.jsxs("div",{className:"daily-thino-wrapper",children:[y.jsx("div",{className:"time-wrapper",onClick:t,children:y.jsx("span",{className:"normal-text",children:C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm")})}),y.jsx("div",{className:"daily-thino-container",children:y.jsx(Oi,{memo:e})})]})},yX=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n},dailyNotesState:{settings:r,app:o}}=j.useContext(Pt),i=Ph(),[s,c]=j.useState([]),[d,h]=j.useState(at.getDateStampByDate(at.getDateString(C.moment().format("YYYY-MM-DD HH:mm:ss")))),m=j.useRef(),g=j.useRef(null),v=ie.useRef(null),b=j.useRef(null),[D,T]=j.useState(!1);j.useEffect(()=>{e.duration&&e.duration.from&&e.duration.to&&h(e.duration.from)},[e.duration]),j.useEffect(()=>{b.current&&(C.setIcon&&b&&!D&&C.setIcon(b.current,"share"),C.setIcon&&b&&D&&C.setIcon(b.current,"chrome"))},[b.current,D]),j.useEffect(()=>{const B=VM({memos:n,query:e,HideDoneTasks:!1}).filter(P=>at.getTimeStampByDate(P.createdAt)>=d&&at.getTimeStampByDate(P.createdAt)<d+ul).filter(P=>P.deletedAt==="").sort((P,U)=>at.getTimeStampByDate(P.createdAt)-at.getTimeStampByDate(U.createdAt));c(B),i.setFinish()},[n,d,v.current,e]);const I=j.useCallback(()=>{ft.setShowSiderbarInMobileView(!0)},[]),O=async()=>{var N;m.current&&((N=m==null?void 0:m.current)==null||N.closeDatePicker()),T(!0),setTimeout(()=>{if(!g.current){T(!1);return}document.body.hasClass("theme-dark"),Zv(g.current).then(B=>{if(r!=null&&r.AutoSaveWhenOnMobile&&C.Platform.isMobile){const P=B.split("base64,")[1];Ov(P,"image/png").arrayBuffer().then(async L=>{let z;const V="png",Z=ru();for(const $ in Z)if(Z[$]instanceof C.TFile){z=Z[$];break}z!==void 0&&await o.vault.createBinary(await vault.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,V,z),L)})}Wv({imgUrl:B}),T(!1)}).catch(()=>{T(!1)})},0)};return y.jsxs("div",{className:"daily-thinos-list-wrapper",ref:v,children:[y.jsxs("div",{className:"section-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(ka,{when:t,children:y.jsx("button",{ref:N=>{N&&C.setIcon(N,"menu")},className:"btn action-btn clickable-icon",onClick:I})}),y.jsxs("span",{className:"go-home-btn",onClick:()=>{ot.clearQuery(),ot.setPathname("/")},children:["🏠 ",x("Return To Home Page")]})]}),y.jsxs("div",{className:"header-right-section",children:[y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:N=>{C.setIcon&&N&&C.setIcon(N,"chevron-left")},className:"btn btn-text",onClick:()=>h(N=>N-ul)}),y.jsx("span",{ref:N=>{C.setIcon&&N&&C.setIcon(N,"chevron-right")},className:"btn btn-text",onClick:()=>h(N=>N+ul)}),y.jsx("span",{ref:b,className:Gn("btn btn-text share-btn",D?"generating":""),onClick:O})]}),y.jsx(iS,{}),y.jsx($m,{})]})]}),y.jsx(ug,{thinosCount:s.length,thinos:s}),y.jsx("div",{className:"daily-thinos-view-wrapper",children:y.jsxs("div",{ref:g,className:"daily-thinos-view-container",children:[y.jsx(mX,{ref:m,currentDate:new Date(d),setCurrentDateStamp:h}),i.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("p",{className:"tip-text",children:x("Fetching data...")})}):s.length===0?y.jsx("div",{className:"tip-container",children:y.jsx("p",{className:"tip-text",children:x("Noooop!")})}):y.jsx("div",{className:"daily-thinos-list-container",children:s.map(N=>y.jsx(gX,{thino:N},`${N.id}-${N.updatedAt}`))})]})})]})},vX={"/recycle":y.jsx(lX,{}),"/setting":y.jsx(cX,{}),"/archive":y.jsx(hX,{}),"/review":y.jsx(pX,{}),"/daily":y.jsx(yX,{}),"*":y.jsx(AQ,{})},ZM=e=>t=>{for(const n of Object.keys(e))if(n===t)return e[n];return e["*"]},wX=ZM(iX),bX=ZM(vX);function SX({app:e}){const{locationState:{pathname:t},dailyNotesState:{settings:n}}=j.useContext(Pt);return j.useEffect(()=>{_e.fetchAllMemos()},[]),!mm()&&!e.plugins.getPlugin("periodic-notes")&&(n!=null&&n.EnabledLocationList.find(r=>r.value==="DAILY"))&&new C.Notice(x("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),!mm()&&(n!=null&&n.EnabledLocationList.find(r=>r.value==="DAILY"))&&!KN()&&new C.Notice(x("Your daily note folder is not set correctly, please check your settings")),y.jsx(Pa,{store:Le,context:Pt,children:wX(t)})}function DX(e){const t=e.view.canvas;if(!t||!e.view.file.path.endsWith(".thino.canvas")||t.thinoBtn)return;const n=t.wrapperEl.createDiv({cls:"thino-canvas-menu-btn"}),r=Wm(n);r.render(y.jsx(ie.StrictMode,{children:y.jsx(Pa,{store:Le,context:Pt,children:y.jsx(TX,{leaf:e})})})),t.thinoBtn=r,yt.getState().view.appendRoot({root:r,canvas:t})}function TX({leaf:e}){const{memoState:{memos:t},locationState:{query:n}}=j.useContext(Pt),r=ie.useRef(null),o=ie.useRef(null),[i,s]=ie.useState(!1),[c,d]=ie.useState([]),[h,m]=ie.useState([]),{tag:g,duration:v,type:b,text:D,filter:T}=n,I=Qt.getQueryById(T),O=!!(g||v&&v.from<v.to||b||D||I);return j.useEffect(()=>{o.current&&C.setIcon(o.current,"eraser")},[o.current]),j.useEffect(()=>{r.current&&C.setIcon(r.current,"Memos")},[r.current]),j.useEffect(()=>{const N=e.view.file.path;d(t.filter(B=>B.sourceType==="CANVAS"&&B.path===N))},[t]),j.useEffect(()=>{if(c.length===0||!n)return;const N=VM({memos:c,query:n,HideDoneTasks:!1});m(N)},[n,c]),j.useEffect(()=>{if(!n)return;const N=new Set(h.map(P=>P.id)),B=Array.from(e.view.canvas.nodes.values());B.forEach(P=>{P.nodeEl.toggleVisibility(!0),e.view.canvas.getEdgesForNode(P).forEach(U=>{var L,z,V;(L=U.lineGroupEl)==null||L.toggleClass("hidden",!1),(z=U.lineStartGroupEl)==null||z.toggleClass("hidden",!1),(V=U.lineEndGroupEl)==null||V.toggleClass("hidden",!1)})}),B.filter(P=>!N.has(P.id)).forEach(P=>{P.nodeEl.toggleVisibility(!1),e.view.canvas.getEdgesForNode(P).forEach(U=>{var L,z,V;(L=U.lineGroupEl)==null||L.toggleClass("hidden",!0),(z=U.lineStartGroupEl)==null||z.toggleClass("hidden",!0),(V=U.lineEndGroupEl)==null||V.toggleClass("hidden",!0)})})},[h]),y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:r,className:"btn-container",onClick:()=>s(!i)}),i&&y.jsxs("div",{className:"thino-canvas-menu",children:[y.jsxs("div",{className:"thino-canvas-filter-group",children:[y.jsx(iS,{}),y.jsx($m,{}),O&&y.jsx("div",{ref:o,className:"clear-query",onClick:()=>{ot.clearQuery()}})]}),y.jsx(bm,{initThinos:h})]})]})}const Bo="thino_view";class IX extends C.EditorSuggest{constructor(n,r){super(n);De(this,"root");De(this,"editor");De(this,"cursor");De(this,"plugin");this.plugin=r,this.suggestEl.toggleClass("thino-date-selector",!0)}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const o=(i=r.parentElement)==null?void 0:i.parentElement;return(o==null?void 0:o.classList.contains("common-editor-inputer"))||!1}onTrigger(n,r){const i=r.getLine(n.line)[n.ch-1];return this.checkInMemosView(r)&&i==="@"?(this.cursor=n,this.editor=r,C.Platform.isMobile?(new bx(this.app,"text",s=>{this.selectSuggestion(parseInt(s),new MouseEvent("click"))}).open(),null):{start:{line:n.line,ch:n.ch-1},end:n,query:""}):null}getSuggestions(){return[parseInt(C.moment().startOf("day").format("x"))]}renderSuggestion(n,r){r.empty(),this.root=Aa.createRoot(r),this.root.render(y.jsx(ie.StrictMode,{children:y.jsx(Yv,{className:"editor-date-picker",datestamp:n,handleDateStampChange:this.selectSuggestion.bind(this)})}))}selectSuggestion(n,r){var c,d,h;if(r instanceof KeyboardEvent||r instanceof PointerEvent&&!r.target.closest(".day-item"))return;const o=(c=this.app.workspace.getLeavesOfType("thino_view")[0])==null?void 0:c.view;(d=o==null?void 0:o.contentEl.find(".action-btn.list-or-task.list"))==null||d.click();let i="",s="";switch(this.plugin.settings.InsertDateFormat){case"Dataview":i="[due::",s="]";break;case"Tasks":i="📆";break}this.editor.replaceRange(i+C.moment(n).format("YYYY-MM-DD")+s,{line:this.cursor.line,ch:this.cursor.ch-1},this.cursor),(h=this.root)==null||h.unmount(),this.close()}}class EX extends C.EditorSuggest{constructor(n,r){super(n);De(this,"root");De(this,"editor");De(this,"cursor");De(this,"plugin");De(this,"memos",[]);this.plugin=r,this.memos=_e.getState().memos.filter(o=>!o.deletedAt&&o.rowStatus!=="ARCHIVED")}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const o=(i=r.parentElement)==null?void 0:i.parentElement;return(o==null?void 0:o.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const o=C.prepareFuzzySearch(n);return r.map(i=>{const s=o(i.content);return s?{item:i,match:s}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r))return null;const i=r.getLine(n.line).slice(0,n.ch);if(i.lastIndexOf("~")===-1)return null;const s=i.slice(i.lastIndexOf("~")+1,n.ch);if(i[i.lastIndexOf("~")-1]!==" "&&i.lastIndexOf("~")!==0)return null;const c=s.trim();return this.memos=_e.getState().memos.filter(d=>!d.deletedAt&&d.rowStatus!=="ARCHIVED"),{start:{line:n.line,ch:n.ch-c.length},end:n,query:c}}getSuggestions(n){return n.query?this.fuzzySearchItemsOptimized(n.query,this.memos).sort((o,i)=>i.match.score-o.match.score).map(o=>o.item).map(o=>({time:o.createdAt,id:o.id,content:o.content})):this.memos.map(o=>({time:o.createdAt,id:o.id,content:o.content}))}renderSuggestion(n,r){r.toggleClass("thino-suggestion",!0),r.createEl("div",{cls:"thino-suggestion-time",text:n.time}),r.createEl("div",{cls:"thino-suggestion-container"}).createEl("div",{cls:"thino-suggestion-content",text:n.content})}selectSuggestion(n){const r=n.id;this.context.editor.replaceRange("MARK: [@THINO]("+r+")",{line:this.context.end.line,ch:this.context.start.ch-1},this.context.end)}}class xX{constructor(){De(this,"path","/fake-file-that-generated-for-thino.png");De(this,"basename","fake-file-that-generated-for-thino");De(this,"extension","png");De(this,"deleted",!1);De(this,"name","fake-file-that-generated-for-thino.png");De(this,"parent",null);De(this,"stat");De(this,"vault",null)}static[Symbol.hasInstance](t){return t instanceof C.TFile}setPath(t){}getNewPathAfterRename(t){}getShortName(){}cache(t){}updateCacheLimit(){}}class nc extends C.ItemView{constructor(n,r){super(n);De(this,"scope",new C.Scope(this.app.scope));De(this,"root");De(this,"mobileHeaderRoot");De(this,"plugin");De(this,"hoverPopover");De(this,"memosComponent");De(this,"rootList",[]);De(this,"editor",null);De(this,"navigation",!1);De(this,"file",this.app.vault.getMarkdownFiles()[0]||new xX);De(this,"handleUpdateInstance",n=>{this.editor=n.editor});De(this,"updateCacheDebounced",C.debounce(async n=>{this.app.vault.getFileByPath(n.path)&&await _e.updateMemosInFile(n)},1e3));this.plugin=r,this.registerScope()}getDisplayText(){return"Thino"}getIcon(){return"Memos"}getViewType(){return Bo}getMode(){return"source"}canToggleBacklinks(){return!1}registerScope(){const{scope:n}=this;n.register(["Mod"],"Enter",()=>{}),n.register([],"i",r=>{const o=r.target;o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.hasClass("cm-line")||o.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-textarea"))}),n.register(["Mod"],"f",r=>{const o=r.target;o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.hasClass("cm-line")||o.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"o",r=>{const o=r.target;o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.hasClass("cm-line")||o.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"Escape",()=>{setTimeout(()=>{this.plugin.app.workspace.trigger("blur-on-memos")},20)})}async onFileDeleted(n){var d,h,m;const r=Xf(n,"day"),o=n.path.contains(".thino")&&n.path.contains(".canvas"),i=n.path.contains(".thino")&&n.path.contains(".md"),s=((d=this.plugin.settings)==null?void 0:d.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",c=(m=((h=n.parent)==null?void 0:h.path)||n.path)==null?void 0:m.contains(s==null?void 0:s.trim());(r||o&&this.plugin.settings.EnabledLocationList.find(g=>g.value==="CANVAS"))&&(await _e.removeMemosInFile(n),_e.updateTagsState()),c&&this.plugin.settings.EnabledLocationList.find(g=>g.value==="MULTI")&&(await _e.removeMemosInFile(n,s),_e.updateTagsState()),i&&this.plugin.settings.EnabledLocationList.find(g=>g.value==="FILE")&&(await _e.removeMemosInFile(n),_e.updateTagsState())}async onFileModified(n){var d;if(ft.getState().changedByMemos){ft.setChangedByMemos(!1);return}const r=Xf(n,"day"),o=n.path.contains(".thino")&&n.path.contains(".canvas"),i=n.path.contains(".thino")&&n.path.contains(".md"),s=((d=this.plugin.settings)==null?void 0:d.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",c=n.parent.path.contains(s==null?void 0:s.trim());if(r||o&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="CANVAS")){await _e.updateMemosInFile(n),_e.updateTagsState();return}c&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="MULTI")&&(await _e.updateMemosInFile(n,s),_e.updateTagsState()),i&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="FILE")&&(await _e.updateMemosInFile(n),_e.updateTagsState())}async onFileCreated(n){var r;if(this.app.workspace.layoutReady&&this.memosComponent){const o=Xf(n,"day"),i=n.path.contains(".thino")&&n.path.contains(".canvas"),s=n.path.contains(".thino")&&n.path.contains(".md"),c=((r=this.plugin.settings)==null?void 0:r.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",d=n.parent.path.contains(c==null?void 0:c.trim());if(o){await yt.updateDailyNotes(n,!1),await _e.updateMemosInFile(n),_e.updateTagsState();return}if(i&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="CANVAS")){await _e.updateMemosInFile(n),_e.updateTagsState();return}d&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="MULTI")&&(await _e.updateMemosInFile(n,c),_e.updateTagsState()),s&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="FILE")&&(await _e.updateMemosInFile(n),_e.updateTagsState())}}async onResize(){var r;super.onResize();const n=this.leaf;if(n&&n.height!==0){if(n.view.containerEl.toggleClass("tiny-view",n.width<600),n.view.containerEl.toggleClass("waterfall-small-group",n.width<1300),n.width>950){n.view.containerEl.classList.toggle("mobile-view",!1),ft.setIsMobileView(n.width<=950);return}if((r=this.plugin.settings)!=null&&r.ShowLeftSideBar&&!C.Platform.isMobile)return;n.view.containerEl.classList.toggle("mobile-view",!0),ft.setIsMobileView(n.width<=950)}}appendToHeader(){const n=this.leaf.view.titleContainerEl;n&&(this.mobileHeaderRoot=Aa.createRoot(n),this.mobileHeaderRoot.render(y.jsx(ie.StrictMode,{children:y.jsx(Pa,{store:Le,context:Pt,children:y.jsx(Xy,{})})})))}appendRoot({root:n,canvas:r}){this.rootList.push({root:n,canvas:r})}async onOpen(){this.navigation=this.plugin.settings.navigation,await this.onResize(),this.onFileCreated=this.onFileCreated.bind(this),this.onFileDeleted=this.onFileDeleted.bind(this),this.onFileModified=this.onFileModified.bind(this),C.Platform.isTablet&&document.body.toggleClass("is-tablet",!0),C.Platform.isMobile&&!C.Platform.isTablet&&this.appendToHeader(),this.registerEvent(this.app.vault.on("create",this.onFileCreated)),this.registerEvent(this.app.vault.on("delete",this.onFileDeleted)),this.registerEvent(this.app.vault.on("modify",C.debounce(this.onFileModified,2e3,!0))),this.registerEvent(this.app.workspace.on("active-leaf-change",n=>{n.view.getViewType()==="canvas"&&DX(n)})),this.registerEvent(this.app.metadataCache.on("changed",(n,r,o)=>{Xf(n,"day")&&this.updateCacheDebounced(n)}));try{this.root=Aa.createRoot(this.contentEl),yt.setView(this),this.root.render(y.jsx(ie.StrictMode,{children:y.jsx(SX,{app:this.plugin.app})}))}catch(n){console.error(n)}}onunload(){var n;super.onunload(),this.root.unmount(),(n=this.mobileHeaderRoot)==null||n.unmount(),this.rootList.forEach(r=>{var o,i,s;(o=r==null?void 0:r.root)==null||o.unmount(),(i=r==null?void 0:r.canvas)!=null&&i.thinoBtn&&(r.canvas.thinoBtn=void 0),(s=r==null?void 0:r.canvas)!=null&&s.wrapperEl.find(".thino-canvas-menu-btn")&&r.canvas.wrapperEl.find(".thino-canvas-menu-btn").detach()})}}const ZT={Memos:'<svg t="1641348507339" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2120" width="100" height="100"><path d="M126.692653 478.099639l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356 0 18.992434 15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297C161.116003 493.523561 145.706067 478.099639 126.692653 478.099639zM244.662333 243.526943c13.742566-13.110184 14.310011-34.948836 1.185841-48.706388l-62.644762-65.668806c-13.128167-13.762547-34.974811-14.229091-48.717377-1.118906s-14.261059 34.911872-1.132893 48.674419l62.644762 65.668806C209.123074 256.13262 230.919767 256.637127 244.662333 243.526943zM543.066631 957.422083l-60.603757 0c-18.654764 0-33.794964 15.147193-33.794964 33.862898 0 18.661757 15.1402 32.71502 33.794964 32.71502l60.603757 0c18.654764 0 33.794964-14.053262 33.794964-32.71502C576.861595 972.568277 561.721395 957.422083 543.066631 957.422083zM988.076617 479.050709l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356s15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297S1007.09003 479.050709 988.076617 479.050709zM512.268737 192.765564c-172.737143 0-312.75527 150.079292-312.75527 322.746503 0 125.630192 74.080583 233.957298 180.936128 283.703669l0 84.51838c0 16.762614 15.410935 31.35435 34.42335 31.35435 0.598415 0 1.193833-0.014985 1.785255-0.042958 0.618395 0.026974 1.239788 0.042958 1.867175 0.042958l187.479731 0c5.905227 0 11.455802-1.220807 16.288078-3.477601 12.231044-4.657447 20.795671-15.383962 20.795671-27.87575l0-84.052835c107.391021-49.534578 181.935151-158.147405 181.935151-284.168214C825.024007 342.843857 684.997888 192.765564 512.268737 192.765564zM574.863548 742.713968l0 80.17063c0 3.159911-0.221783 5.976158-0.642372 8.496694l0 19.092336-124.910895 0 0-17.71768c-0.423586-2.856208-0.642372-6.123015-0.642372-9.870351l0-80.443363c-99.204024-27.75387-171.970892-118.821847-171.970892-226.930167 0-130.094827 105.4689-245.507007 235.571719-245.507007s235.563727 115.41218 235.563727 245.507007C747.832465 623.984031 674.578074 715.293772 574.863548 742.713968zM895.407204 129.328576c-13.429872-13.429872-35.233558-13.439862-48.677416 0.004995l-64.174267 64.175266c-13.448853 13.448853-13.443858 35.257534-0.013986 48.687406 13.429872 13.429872 35.281511 13.477825 48.730364 0.028972l64.175266-64.175266C908.889025 164.605092 908.837076 142.758448 895.407204 129.328576zM511.796199 159.617967c18.992434 0 34.417356-15.410935 34.417356-34.42335l0-90.757281c0-19.019408-15.423923-34.437336-34.417356-34.437336-18.992434 0-34.477297 15.416929-34.477297 34.437336l0 90.757281C477.317903 144.208031 492.802766 159.617967 511.796199 159.617967z" fill="currentColor" p-id="2121"></path></svg>'};function CX(){Object.keys(ZT).forEach(e=>{C.addIcon(e,ZT[e])})}const dS=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;const WT=typeof TextEncoder=="function"?new TextEncoder:void 0,MX="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",im=Array.prototype.slice.call(MX);(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(im);const Xs=String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);const kX=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),NX=e=>{let t,n,r,o,i="";const s=e.length%3;for(let c=0;c<e.length;){if((n=e.charCodeAt(c++))>255||(r=e.charCodeAt(c++))>255||(o=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,i+=im[t>>18&63]+im[t>>12&63]+im[t>>6&63]+im[t&63]}return s?i.slice(0,s-3)+"===".substring(s):i},WM=typeof btoa=="function"?e=>btoa(e):dS?e=>Buffer.from(e,"binary").toString("base64"):NX,AX=dS?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,o=e.length;r<o;r+=4096)n.push(Xs.apply(null,e.subarray(r,r+4096)));return WM(n.join(""))},FX=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Xs(192|t>>>6)+Xs(128|t&63):Xs(224|t>>>12&15)+Xs(128|t>>>6&63)+Xs(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Xs(240|t>>>18&7)+Xs(128|t>>>12&63)+Xs(128|t>>>6&63)+Xs(128|t&63)}},OX=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,PX=e=>e.replace(OX,FX),$T=dS?e=>Buffer.from(e,"utf8").toString("base64"):WT?e=>AX(WT.encode(e)):e=>WM(PX(e)),jX=(e,t=!1)=>t?kX($T(e)):$T(e),Ww=C.Platform.isDesktop&&require("os"),$M=async()=>{var r,o;let e="";if(C.Platform.isDesktop)e=await er();else{const i=await((r=window.Capacitor)==null?void 0:r.Plugins.Device.getId());e=i.identifier||i.uuid}let t;if(Ww)t=JSON.stringify({hostname:Ww.hostname(),platform:Ww.platform(),machineid:e});else{const i=await((o=window.Capacitor)==null?void 0:o.Plugins.Device.getInfo()),s=i==null?void 0:i.model,c=i==null?void 0:i.platform;t=JSON.stringify({hostname:s||("mobile"+C.Platform.isMobile?Math.random().toString(36).substring(7):""),platform:c||"mobile",machineid:e})}return jX(t)},LX=async()=>{var t;let e="";if(C.Platform.isDesktop)e=await er();else{const n=await((t=window.Capacitor)==null?void 0:t.Plugins.Device.getId());e=n.identifier||n.uuid}return e},RX={General:"chef-hat",Thino:"Memos",Interface:"brush",Share:"share-2",Advanced:"cog"},qM=[{value:"DAILY",target:"ProcessEntriesBelow",insert:"InsertAfter"},{value:"CANVAS",target:"MemoDefaultCanvasPath"},{value:"MULTI",target:"MemoDefaultMultiFilePath"},{value:"FILE",target:"MemoDefaultSingleFilePath"}],el={FirstLoaded:!0,StartDate:"Sunday",InsertAfter:"",UserName:"THINO 😉",ProcessEntriesBelow:"",Language:"en",SaveMemoButtonLabel:"NOTE",SaveMemoButtonIcon:"",ShareFooterStart:"{ThinoNum} Thino {UsedDay} Day",ShareFooterEnd:"✍️ by {UserName}",DefaultPrefix:"List",DefaultTimePrefix:"HH:mm",UseDailyOrPeriodic:"Daily",InsertDateFormat:"Tasks",DefaultEditorLocation:"Top",UseButtonToShowEditor:!1,FocusOnEditor:!0,OpenDailyMemosWithMemos:!0,HideDoneTasks:!1,ShowTaskLabel:!1,MobileAndDesktop:"All",OpenMemosAutomatically:!1,ShowTime:!0,ShowDate:!0,AddBlankLineWhenDate:!1,AutoSaveWhenOnMobile:!1,DeleteFileName:"delete",QueryFileName:"query",UseVaultTags:!1,SetCustomBackgroundImage:!1,SetCustomMemoFooter:!1,DefaultLightBackgroundImage:"",DefaultDarkBackgroundImage:"",DefaultLightBackgroundImageForClean:"",DefaultDarkBackgroundImageForClean:"",DefaultMemoComposition:"{TIME} {CONTENT}",CommentOnMemos:!1,CommentsInOriginalNotes:!1,FetchMemosMark:"#memo",FetchMemosFromNote:!1,ShowCommentOnMemos:!1,ShowLeftSideBar:!1,MemoListView:"list",MemoSaveLocation:"DAILY",MemoOtherSaveLocation:{MemoDefaultCanvasPath:"basic.thino.canvas",MemoDefaultMultiFilePath:"Thino",MemoDefaultSingleFilePath:"basic.thino.md"},MemoDailyTarget:5,HeatmapColorScheme:"default",EnabledHttpApi:!1,HttpApiIpType:"localhost",HttpApiPort:"43999",AutoDownloadImage:!1,EditorType:"obsidian",EnabledLocationList:qM,DeleteThinoDirectly:!1,CaptureKey:{EnableCaptureKey:!1,OpenThinoGlobally:"CommandOrControl+Shift+T",ShowNearMouse:!1},startSync:!1,tokenForVerify:{},saveThinoType:"FILE",showDayMark:!1,dayMarkRange:"day",navigation:!1,password:"",needVerify:!1,addTagAutomatically:!1,addTagPosition:"End",addTagWithNewline:!1,chatViewStyle:"default",MomentsBackgroundImage:"https://images.pexels.com/photos/531767/pexels-photo-531767.jpeg",MomentsIcon:"https://images.pexels.com/photos/256514/pexels-photo-256514.jpeg",MomentsQuote:"Share your thino with the world",DefaultThemeForThino:"modern",LastUpdatedVersion:"0.0.0",ShareToThinoWithText:!1,ShareToThinoWithTextAppend:"",ShareToThinoWithTextPrepend:"",ShareToThinoWithTextNewline:"none",hidePinnedGroup:!1,DifferentInsertTarget:!1,InsertAfterForTask:"",ProcessContentTarget:"custom",InsertType:"custom",ShareAppendType:"preset",SharePrependType:"preset"};function _X({plugin:e}){const{dailyNotesState:{verifyState:t}}=j.useContext(Pt),[n,r]=j.useState(!1),[o,i]=j.useState(!1),[s,c]=j.useState(""),[d,h]=j.useState("");j.useEffect(()=>{LX().then(v=>{h(v)})},[]);const m=async()=>{var T;const v=s,b=!C.Platform.isDesktop&&await((T=window.Capacitor)==null?void 0:T.Plugins.Device.getId()),D=C.Platform.isDesktop?await er():b.identifier||b.uuid;v&&(e.settingTab.updateSettings("tokenForVerify",{...e.settings.tokenForVerify,[D]:v}),e.verify().then(I=>{I&&(r(!0),ft.setRefresh(!0),setTimeout(()=>{e.settingTab.display()},200),e.registerToolbarCheck()),new C.Notice(x(I?"Verify successfully":"Failed to verify"))}).catch(I=>{new C.Notice(x("Failed to verify"))}))},g=async v=>{c(v)};return y.jsx("div",{className:"thino-verify-component",children:t?y.jsxs("div",{className:"thino-verify-content verified",children:[y.jsx("div",{className:"thino-verified-text",children:x("You have verified your account. Congrats!")}),y.jsx("div",{className:"thino-description-link",children:y.jsxs("p",{children:[x("If you have any questions, please contact us."),y.jsx("span",{className:"thino-url",onClick:()=>{const v=localStorage.getItem("language");v&&(v==="zh"||v==="zh-TW")?window.open("https://pkmer.cn"):window.open("https://thino.pkmer.net/en/")},children:"@ PKMer"})]})})]}):y.jsxs("div",{className:"thino-verify-content",children:[y.jsxs("div",{className:"thino-description-link",children:[x("You can buy a license from")+"->",y.jsxs("span",{className:"thino-url",onClick:()=>{const v=localStorage.getItem("language");v&&(v==="zh"||v==="zh-TW")?window.open("https://pkmer.cn/products/thino"):window.open("https://thino.pkmer.net/en/#price")},children:[" ","PKMer"]})]}),y.jsx("textarea",{className:"thino-verify-textarea",value:s,onChange:v=>g(v.target.value),placeholder:x("Input activation code here")}),y.jsxs("div",{className:"thino-button-container",children:[y.jsxs("div",{className:"thino-button-group",children:[y.jsx("button",{onClick:async()=>{try{const v=await $M();await navigator.clipboard.writeText(v),i(!0)}catch(v){console.error(v),new C.Notice("Failed to copy id");return}new C.Notice(x("Copied to clipboard Successfully"))},children:x("Copy Thino id")}),y.jsx("button",{onClick:()=>{if(!o){new C.Notice(x("Please copy Thino id first"));return}const v=localStorage.getItem("language");v&&(v==="zh"||v==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&getCode"):window.open("https://pkmer.net/en/userprofile/#tab-21&getCode"),r(!0)},children:x("Get activation code")}),s&&y.jsx(y.Fragment,{children:y.jsx("button",{onClick:async()=>{await m()},children:x("Verify")})})]}),n?y.jsx("p",{children:x("After you verify your account, please refresh this page.")}):""]}),y.jsxs("div",{className:"thino-description-link",children:[x("If you have any questions, please contact us."),y.jsx("span",{className:"thino-url",onClick:()=>{const v=localStorage.getItem("language");v&&(v==="zh"||v==="zh-TW")?window.open("https://pkmer.cn"):window.open("https://thino.pkmer.net/en/")},children:"@ PKMer"})]})]})})}class BX extends C.PluginSettingTab{constructor(n,r){super(n,r);De(this,"plugin");De(this,"applyDebounceTimer",0);De(this,"tabContent",new Map);De(this,"selectedTab","General");De(this,"search");De(this,"searchSettingInfo",new Map);De(this,"searchZeroState");De(this,"navigateEl");De(this,"passwordMatched",!1);De(this,"root");De(this,"debounceApplySettingsUpdate",C.debounce(async()=>{await this.plugin.saveSettings()},100,!0));De(this,"debounceDisplay",C.debounce(async()=>{await this.display()},300,!0));this.plugin=r}updateSettings(n,r){this.plugin.settings={...this.plugin.settings,[n]:r},this.applySettingsUpdate()}applySettingsUpdate(){this.debounceApplySettingsUpdate(),_e.updateTagsState()}async hide(){var n;(n=this.root)==null||n.unmount(),this.passwordMatched=!1}async display(){var n;await this.plugin.loadSettings(),this.root&&((n=this.root)==null||n.unmount()),this.containerEl.empty(),this.containerEl.toggleClass("memos-settings",!0),C.Platform.isMobile&&this.containerEl.toggleClass("memos-mobile",!0),this.generateSettingsTitle(),this.addTabHeader()}generateSettingsTitle(){const n=this.containerEl.createDiv("memos-setting-title");n.createEl("h2",{text:"Thino"}),this.generateSearchBar(n)}addTabHeader(){const n=this.containerEl.createEl("nav",{cls:"memos-setting-header"});this.navigateEl=n.createDiv("memos-setting-tab-group");const r=this.containerEl.createDiv("memos-setting-content");this.updateOldData(),this.createTabAndContent("General",this.navigateEl,r,(o,i)=>this.generateGeneralSettings(i,o)),this.createTabAndContent("Thino",this.navigateEl,r,(o,i)=>this.generateMemosSettings(i,o)),this.createTabAndContent("Interface",this.navigateEl,r,(o,i)=>this.generateThemeSettings(i,o)),this.createTabAndContent("Share",this.navigateEl,r,(o,i)=>this.generateShareSettings(i,o)),this.createTabAndContent("Advanced",this.navigateEl,r,(o,i)=>this.generateAdvancedSettings(i,o)),this.createSearchZeroState(r)}updateOldData(){this.plugin.settings.UserName.startsWith("MEMO ")&&(this.plugin.settings.UserName="THINO 😉"),this.plugin.settings.ShareFooterStart.contains("{Memo")&&(this.plugin.settings.ShareFooterStart=this.plugin.settings.ShareFooterStart.replace("{MemosNum}","{ThinoNum}").replace("memos","thino")),this.applySettingsUpdate()}generateSearchBar(n){const r=new C.Setting(n);r.settingEl.style.border="none",r.addSearch(o=>{this.search=o}),this.search.setPlaceholder(x("Search all settings")),this.search.inputEl.oninput=()=>{for(const o of this.tabContent){const i=o[1];i.navButton.removeClass("memos-navigation-item-selected"),i.content.show(),i.heading.show();const s=this.search.getValue();this.selectedTab==""&&s.trim()!=""&&this.searchSettings(s.toLowerCase()),this.selectedTab=""}this.navigateEl.addClass("memos-setting-searching")},this.search.inputEl.onblur=()=>{this.navigateEl.removeClass("memos-setting-searching")},this.search.onChange(o=>{var i;if(o===""){this.triggerTabChange((i=this.tabContent.get("General"))==null?void 0:i.navButton,"General");return}this.searchSettings(o.toLowerCase())})}triggerTabChange(n,r){if(this.selectedTab==r)return;n.toggleClass("memos-navigation-item-selected",!0);const o=this.tabContent.get(r);if((o==null?void 0:o.content).show(),this.selectedTab!=""){const i=this.tabContent.get(this.selectedTab);i==null||i.navButton.removeClass("memos-navigation-item-selected"),(i==null?void 0:i.content).hide()}else{this.searchZeroState.hide();for(const i of this.searchSettingInfo)for(const s of i[1])s.containerEl.show();for(const i of this.tabContent){const s=i[1];s.heading.hide(),r!==i[0]&&s.content.hide()}}this.selectedTab=r}createTabAndContent(n,r,o,i){const s=this.selectedTab===n,c=r.createDiv("memos-navigation-item");c.toggleClass("memos-desktop",!0),C.setIcon(c.createEl("div",{cls:"memos-navigation-item-icon"}),RX[n]),c.createSpan({text:x(n)}),c.onclick=()=>{this.triggerTabChange(c,n)};const d=o.createDiv("memos-tab-settings"),h=d.createEl("h2",{cls:"memos-setting-heading",text:n+" Settings"});h.hide(),d.id=n.toLowerCase().replace(" ","-"),s?c.addClass("memos-navigation-item-selected"):d.hide(),i&&i(d,n),this.tabContent.set(n,{content:d,heading:h,navButton:c})}searchSettings(n){var i;const r=new Set,o=(s,c)=>{s.show(),r.has(c)||r.add(c)};for(const s of this.searchSettingInfo){const c=s[0],d=s[1];for(const h of d)if(n.trim()===""||(i=h.alias)!=null&&i.includes(n)||h.description.includes(n)||h.name.includes(n))o(h.containerEl,c);else if(h.options&&h.options.length>0)for(const m of h.options){if(m.description.toLowerCase().includes(n)||m.name.toLowerCase().includes(n)){o(h.containerEl,c);break}else if(m.options){for(const g of m.options)if(g.description.toLowerCase().includes(n)||g.value.toLowerCase().includes(n)){o(h.containerEl,c);break}}h.containerEl.hide()}else h.containerEl.hide()}for(const s of this.tabContent)r.has(s[0])?s[1].heading.show():s[1].heading.hide();r.size===0?this.searchZeroState.show():this.searchZeroState.hide()}addSettingToMasterSettingsList(n,r,o="",i="",s=[],c=""){var h;const d={containerEl:r,name:o.toLowerCase(),description:i.toLowerCase(),options:s,alias:c};this.searchSettingInfo.has(n)?(h=this.searchSettingInfo.get(n))==null||h.push(d):this.searchSettingInfo.set(n,[d])}createSearchZeroState(n){this.searchZeroState=n.createDiv(),this.searchZeroState.hide(),this.searchZeroState.createEl(C.Platform.isMobile?"h3":"h2",{text:"No settings match search"}).style.textAlign="center"}generateGeneralSettings(n,r){this.customHeading(n,r)}async generateThemeSettings(n,r){var d;const o=yt.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),s=C.Platform.isDesktop?await er():i.identifier||i.uuid,c=o&&(o==null?void 0:o.appId)===s;await this.customNameAndTheme(n,r,c)}async generateMemosSettings(n,r){var d;const o=yt.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),s=C.Platform.isDesktop?await er():i.identifier||i.uuid,c=o&&(o==null?void 0:o.appId)===s;this.setPasswordSettings(n,r),this.addMemoSettings(n,r),this.customFileNameSettings(n,r,c),this.addThinoProSettings(n,r,c)}async generateShareSettings(n,r){var d;const o=yt.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),s=C.Platform.isDesktop?await er():i.identifier||i.uuid,c=o&&(o==null?void 0:o.appId)===s;new dt(r,this).setHeading().setTab(n).setName(x("Copy filtered results")),this.copyMemosSettings(n,r),new dt(r,this).setHeading().setTab(n).setName(x("Share image")),this.shareMemosSettings(n,r),C.Platform.isMobile&&this.shareToThinosSettings(n,r,c)}async generateAdvancedSettings(n,r){var d;this.saveDataSettings(n,r),this.fetchDataSettings(n,r),this.navigationSettings(n,r);const o=yt.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),s=C.Platform.isDesktop?await er():i.identifier||i.uuid,c=o&&(o==null?void 0:o.appId)===s;this.setGlobalSettings(n,r,c)}async customNameAndTheme(n,r,o){new dt(r,this).setName(x("Theme for Thino")).setDesc(x("Set the theme for Thino")).setTab(n).addDropdown(async s=>{s.addOption("modern","Modern"),s.addOption("classic","Classic"),s.setValue(this.plugin.settings.DefaultThemeForThino).onChange(async c=>{this.plugin.settings.DefaultThemeForThino=c,this.applySettingsUpdate()})}),new dt(r,this).setTab(n).setHeading().setName(x("Interface Details"));let i;new dt(r,this).setName(x("Heatmap Color Scheme")).setDesc(x("Set different color scheme for heatmap.")).setTab(n).addDropdown(async s=>{i=s,i.addOption("default",x("Default")),i.addOption("gray",x("Gray")),i.addOption("grass",x("Grass")),i.addOption("flame",x("Flame")),i.addOption("olive",x("Olive")),i.addOption("ice",x("Ice")),i.addOption("magenta",x("Magenta")),i.setValue(this.plugin.settings.HeatmapColorScheme).onChange(async c=>{this.plugin.settings.HeatmapColorScheme=c,this.applySettingsUpdate()})}),new dt(r,this).setName(x("Show Tasks Label")).setDesc(x("Show tasks label near the time text. False by default")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.ShowTaskLabel).onChange(async c=>{this.plugin.settings.ShowTaskLabel=c,this.applySettingsUpdate()})),new dt(r,this).setName(x("Save Memo button label")).setDesc(x("The text shown on the save Memo button in the UI. 'NOTEIT' by default.")).setTab(n).addText(s=>s.setPlaceholder(el.SaveMemoButtonLabel).setValue(this.plugin.settings.SaveMemoButtonLabel).onChange(async c=>{this.plugin.settings.SaveMemoButtonLabel=c,this.applySettingsUpdate()})),C.Platform.isDesktop&&new dt(r,this).setName(x("Always Show Leaf Sidebar on PC")).setDesc(x("Show left sidebar on PC even when the leaf width is less than 875px. False by default.")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.ShowLeftSideBar).onChange(async c=>{this.plugin.settings.ShowLeftSideBar=c,this.applySettingsUpdate()})),await this.getEditorLocation(r,n),new dt(r,this).setHeading().setTab(n).setName("💎 "+x("Pro features")),this.addThinoDailyMarkSettings(n,r,o),new dt(r,this).setName(x("Chat view style")).setDesc(x("Set the style of chat view")).setTab(n).addDropdown(async s=>{i=s,i.addOption("default","Default"),i.addOption("fluent","Fluent"),i.addOption("inline","Inline"),i.setValue(this.plugin.settings.chatViewStyle).onChange(async c=>{if(!o){An();return}this.plugin.settings.chatViewStyle=c,this.applySettingsUpdate()})}),this.addThinoMomentsSettings(n,r,o)}addThinoDailyMarkSettings(n,r,o){let i;new dt(r,this).setName(x("Show day mark in thino list")).setDesc(x("Show day mark on the top of daily range thino. False by default.")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.showDayMark).onChange(async c=>{if(!o){An();return}this.plugin.settings.showDayMark=c,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.showDayMark&&(new dt(r,this).setName(x("Day mark range")).setDesc(x("Set the range of day mark. Day by default.")).setTab(n).addDropdown(async s=>{i=s,i.addOption("day","day"),i.addOption("week","week"),i.addOption("month","month"),i.addOption("quarter","quarter"),i.addOption("year","year"),i.setValue(this.plugin.settings.dayMarkRange).onChange(async c=>{this.plugin.settings.dayMarkRange=c,this.applySettingsUpdate()})}),new dt(r,this).setName(x("Hide pinned group")).setDesc(x("Hide pinned group in thino list. False by default.")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.hidePinnedGroup).onChange(async c=>{if(!o){An();return}this.plugin.settings.hidePinnedGroup=c,this.applySettingsUpdate()})))}addThinoMomentsSettings(n,r,o){new dt(r,this).setTab(n).setName(x("Background image for moments view")).setDesc(x("Set the background image for moments view")).addText(i=>{new id(i.inputEl),i.setPlaceholder("URL").setValue(this.plugin.settings.MomentsBackgroundImage).onChange(async s=>{o&&(this.plugin.settings.MomentsBackgroundImage=s,this.applySettingsUpdate())})})}async getEditorLocation(n,r){let o;C.Platform.isMobile&&(new dt(n,this).setName(x("Default editor position on mobile")).setDesc(x("Set the default editor position on Mobile, 'Top' by default.")).setTab(r).addDropdown(async i=>{o=i,o.addOption("Top",x("Top")),o.addOption("Bottom",x("Bottom")),o.setValue(this.plugin.settings.DefaultEditorLocation).onChange(async s=>{this.plugin.settings.DefaultEditorLocation=s,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})}),this.plugin.settings.DefaultEditorLocation!=="Top"&&new dt(n,this).setName(x("Use button to show editor on mobile")).setDesc(x("Set a float button to call editor on mobile. Only when editor located at the bottom works.")).setTab(r).addToggle(i=>i.setValue(this.plugin.settings.UseButtonToShowEditor).onChange(async s=>{this.plugin.settings.UseButtonToShowEditor=s,this.applySettingsUpdate()})))}customHeading(n,r){new dt(r,this).setHeading().setName(x("User info")).setTab(n),new dt(r,this).setName(x("User name")).setDesc(x("Set your user name here. 'Memos 😏' By default")).setTab(n).addText(v=>v.setPlaceholder(el.UserName).setValue(this.plugin.settings.UserName).onChange(async b=>{this.plugin.settings.UserName=b,this.applySettingsUpdate()})),new dt(r,this).setTab(n).setName(x("User icon")).setDesc(x("Set user icon for thino. You can input http/https link or file path in vault.")).addText(v=>{new id(v.inputEl),v.setPlaceholder("URL").setValue(this.plugin.settings.MomentsIcon).onChange(async b=>{this.plugin.settings.MomentsIcon=b,this.applySettingsUpdate()})}),new dt(r,this).setTab(n).setName(x("User quote")).setDesc(x("Set user quote for thino")).addText(v=>v.setPlaceholder("Input anything here").setValue(this.plugin.settings.MomentsQuote).onChange(async b=>{this.plugin.settings.MomentsQuote=b,this.applySettingsUpdate()}));let o=!1;const i=document.createDocumentFragment();i.createEl("span",{text:x("Connect to PKMer Sync, you can check it in ")});const s=localStorage.getItem("language");let c;s&&s==="zh"?c="https://pkmer.cn/products/UserProfile/#tab-21&activateSync":c="https://thino.pkmer.net/en/",i.createEl("a",{text:x("PKMer Sync"),attr:{href:c}}),new dt(r,this).setHeading().setName(x("Pro verification status")).setTab(n);const d=document.createDocumentFragment(),h=d.createEl("div",{cls:"thino-activation"}),m=new dt(r,this).setName(x("Activate Pro Version")).setDesc(d).setTab(n);m.settingEl.toggleClass("thino-activation-setting",!0),m.nameEl.toggleClass("thino-activation-title",!0),this.root=Aa.createRoot(h),this.root.render(y.jsx(Pa,{store:Le,context:Pt,children:y.jsx(_X,{plugin:this.plugin})}));let g=!1;new dt(r,this).setName(x("Deactivate")).setTab(n).addButton(v=>{v.setWarning().setButtonText(x("Remove")).onClick(async()=>{var T;if(!g){v.setButtonText(x("Confirm?")),g=!0;return}g=!1;const b=!C.Platform.isDesktop&&await((T=window.Capacitor)==null?void 0:T.Plugins.Device.getId()),D=C.Platform.isDesktop?await er():b.identifier||b.uuid;this.plugin.settings.tokenForVerify[D]&&(delete this.plugin.settings.tokenForVerify[D],await this.plugin.saveSettings(),new C.Notice(x("Remove successfully"))),await this.plugin.verify(),ft.setRefresh(!0),setTimeout(()=>{this.display()},20)})}),(s==="zh"||s==="zh-TW")&&new dt(r,this).setHeading().setName(x("Sync service")).setTab(n),(s==="zh"||s==="zh-TW")&&new dt(r,this).setName(x("Sync Thino via PKMer")).setDesc(i).setTab(n).addButton(v=>{var D;const b=(D=this.plugin.app)==null?void 0:D.loadLocalStorage("tokenForSync");v.setButtonText(x(b?"Unlink":"Link")).onClick(async()=>{var T;if(!b){const I=localStorage.getItem("language");I&&(I==="zh"||I==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&activateSync"):window.open("https://thino.pkmer.net/en/");return}if(!o){v.setButtonText(x("Confirm?")),o=!0;return}o=!1,b&&((T=this.plugin.app)==null||T.saveLocalStorage("tokenForSync",""),new C.Notice(x("Remove successfully"))),ft.setRefresh(!0),setTimeout(()=>{this.display()},20)})}),(s==="zh"||s==="zh-TW")&&this.showSyncStatus(r,n)}showSyncStatus(n,r){var i;(i=this.plugin.app)!=null&&i.loadLocalStorage("tokenForSync")&&(new dt(n,this).setName(x("Save thino type when sync local")).setDesc(x("Set the default save thino type when sync local, FILE by default.")).setTab(r).addDropdown(async s=>{s.addOption("DAILY",x("DAILY")),s.addOption("FILE",x("FILE")),s.setValue(this.plugin.settings.saveThinoType).onChange(async c=>{this.plugin.settings.saveThinoType=c,this.applySettingsUpdate()})}),new dt(n,this).setName(x("Sync Status")).setDesc(x("Start or stop sync")).setTab(r).addButton(s=>{s.setButtonText(this.plugin.settings.startSync?x("Stop"):x("Start")).onClick(async()=>{this.plugin.settings.startSync=!this.plugin.settings.startSync,await this.plugin.saveSettings(),ft.setRefresh(!0),new C.Notice(this.plugin.settings.startSync?x("Start sync successfully"):x("Stop sync successfully")),setTimeout(()=>{this.display()},200)})}))}addMemoSettings(n,r){new dt(r,this).setName(x("Open Memos when obsidian opens")).setDesc(x("When enable this, Memos will open when Obsidian opens. False by default.")).setTab(n).addDropdown(i=>{i.addOption("Desktop","Desktop"),i.addOption("Mobile","Mobile"),i.addOption("All","All"),i.setValue(this.plugin.settings.MobileAndDesktop).onChange(async s=>{this.plugin.settings.MobileAndDesktop=s,this.applySettingsUpdate()})}).addToggle(i=>i.setValue(this.plugin.settings.OpenMemosAutomatically).onChange(async s=>{this.plugin.settings.OpenMemosAutomatically=s,this.applySettingsUpdate()})),new dt(r,this).setHeading().setTab(n).setName(x("Editor")),new dt(r,this).setName(x("Use Tags In Vault")).setDesc(x("Use tags in vault rather than only in Memos. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.UseVaultTags).onChange(async s=>{this.plugin.settings.UseVaultTags=s,this.applySettingsUpdate()}));let o;new dt(r,this).setName(x("Default insert date format")).setDesc(x("Set the default date format when insert date by @, 'Tasks' by default.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("Tasks","Tasks"),o.addOption("Dataview","Dataview"),o.setValue(this.plugin.settings.InsertDateFormat).onChange(async s=>{this.plugin.settings.InsertDateFormat=s,this.applySettingsUpdate()})}),new dt(r,this).setHeading().setTab(n).setName(x("Daily notes")),new dt(r,this).setName(x("Default prefix when save thino")).setDesc(x("Set the default prefix when create memo, 'List' by default.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("List",x("List")),o.addOption("Task",x("Task")),o.setValue(this.plugin.settings.DefaultPrefix).onChange(async s=>{this.plugin.settings.DefaultPrefix=s,this.applySettingsUpdate()})}),this.plugin.settings.EnabledLocationList.some(i=>i.value==="DAILY")&&new dt(r,this).setName(x("Default time prefix for thino in daily notes")).setDesc(x("Set default time prefix for thino in daily notes.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("HH:mm","HH:mm"),o.addOption("HH:mm:ss","HH:mm:ss"),o.setValue(this.plugin.settings.DefaultTimePrefix).onChange(async s=>{this.plugin.settings.DefaultTimePrefix=s,this.applySettingsUpdate()})})}addThinoProSettings(n,r,o){new dt(r,this).setHeading().setTab(n).setName("💎 "+x("Pro features")),new dt(r,this).setName(x("Default save type")).setDesc(x('Set the default save type for thino. "DAILY" by default')).setTab(n).addDropdown(async i=>{for(const s of this.plugin.settings.EnabledLocationList)i.addOption(s.value,x(s.value));i.setValue(this.plugin.settings.MemoSaveLocation||this.plugin.settings.EnabledLocationList[0].value).onChange(async s=>{if(!o){An();return}this.plugin.settings.MemoSaveLocation=s,this.applySettingsUpdate()})}),new dt(r,this).setName(x("Add tag automatically")).setDesc(x("Add tag to the end or beginning of the thino content when creating a thino and filtering tags")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.addTagAutomatically).onChange(async s=>{if(!o){An();return}this.plugin.settings.addTagAutomatically=s,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.addTagAutomatically&&(new dt(r,this).setName(x("Add tag position")).setDesc(x("Set the position of the tag when adding tag automatically")).setTab(n).addDropdown(async i=>{i.addOption("End",x("End")),i.addOption("Beginning",x("Beginning")),i.setValue(this.plugin.settings.addTagPosition).onChange(async s=>{this.plugin.settings.addTagPosition=s,this.applySettingsUpdate()})}),new dt(r,this).setName(x("Add tag with new line")).setDesc(x("Add tag with new line when adding tag automatically")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.addTagWithNewline).onChange(async s=>{this.plugin.settings.addTagWithNewline=s,this.applySettingsUpdate()})))}memosCommentSettings(n,r){new dt(r,this).setName(x("Allow Comments On Memos")).setDesc(x("You can comment on memos. False by default")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.CommentOnMemos).onChange(async i=>{this.plugin.settings.CommentOnMemos=i,this.applySettingsUpdate(),this.display()})),this.plugin.settings.CommentOnMemos&&(new dt(r,this).setName(x("Always Show Memo Comments")).setDesc(x("Always show memo comments on memos. False by default")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.ShowCommentOnMemos).onChange(async i=>{this.plugin.settings.ShowCommentOnMemos=i,this.applySettingsUpdate()})),new dt(r,this).setName(x("Comments In Original DailyNotes/Notes")).setDesc(x("You should install Dataview Plugin ver 0.5.9 or later to use this feature.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.CommentsInOriginalNotes).onChange(async i=>{this.plugin.settings.CommentsInOriginalNotes=i,this.applySettingsUpdate()})))}shareToThinosSettings(n,r,o){new dt(r,this).setHeading().setTab(n).setName("💎 "+x("Pro features")),new dt(r,this).setTab(n).setName(x("Append/prepend text when share to Thino")).addToggle(i=>{i.setValue(this.plugin.settings.ShareToThinoWithText).onChange(async s=>{if(!o){An();return}this.plugin.settings.ShareToThinoWithText=s,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.ShareToThinoWithText&&(new dt(r,this).setTab(n).setName(x("Prepend Text Action")).addDropdown(i=>{i.addOption("none",x("None")),i.addOption("preset",x("Preset")),i.addOption("input",x("Input")),i.addOption("selectTags",x("Select Tags")),i.setValue(this.plugin.settings.SharePrependType).onChange(async s=>{this.plugin.settings.SharePrependType=s,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.SharePrependType==="preset"&&new dt(r,this).setTab(n).setName(x("Prepend text when share to Thino")).addText(i=>{i.setPlaceholder(x("Input anything here")).setValue(this.plugin.settings.ShareToThinoWithTextPrepend).onChange(async s=>{this.plugin.settings.ShareToThinoWithTextPrepend=s,this.applySettingsUpdate()})}),new dt(r,this).setTab(n).setName(x("Append Text Action")).addDropdown(i=>{i.addOption("none",x("None")),i.addOption("preset",x("Preset")),i.addOption("input",x("Input")),i.addOption("selectTags",x("Select Tags")),i.setValue(this.plugin.settings.ShareAppendType).onChange(async s=>{this.plugin.settings.ShareAppendType=s,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.ShareAppendType==="preset"&&new dt(r,this).setTab(n).setName(x("Append text when share to Thino")).addText(i=>{i.setPlaceholder(x("Input anything here")).setValue(this.plugin.settings.ShareToThinoWithTextAppend).onChange(async s=>{this.plugin.settings.ShareToThinoWithTextAppend=s,this.applySettingsUpdate()})}),new dt(r,this).setTab(n).setName(x("Add newline when append/prepend text")).addDropdown(async i=>{i.addOption("prepend",x("Prepend")),i.addOption("append",x("Append")),i.addOption("both",x("Both")),i.addOption("none",x("None")),i.setValue(this.plugin.settings.ShareToThinoWithTextNewline).onChange(async s=>{this.plugin.settings.ShareToThinoWithTextNewline=s,this.applySettingsUpdate()})}))}copyMemosSettings(n,r){new dt(r,this).setName(x("Show Time When Copy Results")).setDesc(x("Show time when you copy results, like 12:00. Copy time by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.ShowTime).onChange(async i=>{this.plugin.settings.ShowTime=i,this.applySettingsUpdate()})),new dt(r,this).setName(x("Show Date When Copy Results")).setDesc(x("Show date when you copy results, like [[2022-01-01]]. Copy date by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.ShowDate).onChange(async i=>{this.plugin.settings.ShowDate=i,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.ShowDate&&new dt(r,this).setName(x("Add Blank Line Between Different Date")).setDesc(x("Add blank line when copy result with date. No blank line by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.AddBlankLineWhenDate).onChange(async i=>{this.plugin.settings.AddBlankLineWhenDate=i,this.applySettingsUpdate()}))}shareMemosSettings(n,r){this.customMemoFooter(n,r),new dt(r,this).setName(x("Custom Background Image")).setDesc(x("Set custom background image.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.SetCustomBackgroundImage).onChange(async i=>{this.plugin.settings.SetCustomBackgroundImage=i,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomBackgroundImage&&(new dt(r,this).setName(x("Background Image in Light Theme")+` [${x("Modern")}]`).setDesc(x('Set background image in light theme. Set something like "Daily/one.png"')).setTab(n).addText(o=>{new id(o.inputEl),o.setPlaceholder(el.DefaultLightBackgroundImage).setValue(this.plugin.settings.DefaultLightBackgroundImage).onChange(async i=>{this.plugin.settings.DefaultLightBackgroundImage=i,this.applySettingsUpdate()})}),new dt(r,this).setName(x("Background Image in Dark Theme")+` [${x("Modern")}]`).setDesc(x('Set background image in dark theme. Set something like "Daily/one.png"')).setTab(n).addText(o=>{new id(o.inputEl),o.setPlaceholder(el.DefaultDarkBackgroundImage).setValue(this.plugin.settings.DefaultDarkBackgroundImage).onChange(async i=>{this.plugin.settings.DefaultDarkBackgroundImage=i,this.applySettingsUpdate()})}),new dt(r,this).setName(x("Background Image in Light Theme")+` [${x("Clean")}]`).setDesc(x('Set background image in light theme. Set something like "Daily/one.png"')).setTab(n).addText(o=>{new id(o.inputEl),o.setPlaceholder(el.DefaultLightBackgroundImageForClean).setValue(this.plugin.settings.DefaultLightBackgroundImageForClean).onChange(async i=>{this.plugin.settings.DefaultLightBackgroundImageForClean=i,this.applySettingsUpdate()})}),new dt(r,this).setName(x("Background Image in Dark Theme")+` [${x("Clean")}]`).setDesc(x('Set background image in dark theme. Set something like "Daily/one.png"')).setTab(n).addText(o=>{new id(o.inputEl),o.setPlaceholder(el.DefaultDarkBackgroundImageForClean).setValue(this.plugin.settings.DefaultDarkBackgroundImageForClean).onChange(async i=>{this.plugin.settings.DefaultDarkBackgroundImageForClean=i,this.applySettingsUpdate()})}))}customMemoFooter(n,r){new dt(r,this).setName(x("Custom Memo Footer")).setDesc(x("Set custom memo footer.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.SetCustomMemoFooter).onChange(async i=>{this.plugin.settings.SetCustomMemoFooter=i,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomMemoFooter&&new dt(r,this).setName(x("Share Memos Image Footer Start")).setDesc(x("Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default")).setTab(n).addText(o=>o.setPlaceholder(el.ShareFooterStart).setValue(this.plugin.settings.ShareFooterStart).onChange(async i=>{this.plugin.settings.ShareFooterStart=i,this.applySettingsUpdate()}))}saveDataSettings(n,r){let o;new dt(r,this).setName(x("Default Editor Mode")).setDesc(x("Live-Preview Mode OR Source Mode.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("obsidian",x("Live-preview")),o.addOption("memos",x("Source")),o.setValue(this.plugin.settings.EditorType).onChange(async s=>{this.plugin.settings.EditorType=s,this.applySettingsUpdate()})}),new dt(r,this).setName(x("Delete Thino Directly")).setDesc(x("When delete thino directly, it will not be moved to trash. False by default.")).setTab(n).addToggle(i=>{i.setValue(this.plugin.settings.DeleteThinoDirectly).onChange(async s=>{this.plugin.settings.DeleteThinoDirectly=s,this.applySettingsUpdate()})})}async initHttpServer(n,r){var d;const o=yt.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),s=C.Platform.isDesktop?await er():i.identifier||i.uuid,c=o&&(o==null?void 0:o.appId)===s;new dt(n,this).setName(x("Enable Local Http Server")).setTab(r).setDisabled(!c).addToggle(h=>h.setValue(this.plugin.settings.EnabledHttpApi).onChange(async m=>{if(!c){An();return}this.plugin.settings.EnabledHttpApi=m,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.settings.EnabledHttpApi?this.plugin.initServer():this.plugin.stopServer(),this.display()},100)})),this.plugin.settings.EnabledHttpApi&&(new dt(n,this).setName(x("Memos Http Server Port")).setDesc(x("Set memos http server port to listen. '43999' by default")).setTab(r).addText(h=>h.setPlaceholder(el.HttpApiPort).setValue(this.plugin.settings.HttpApiPort).onChange(async m=>{if(!c){An();return}this.plugin.settings.HttpApiPort=m,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})),new dt(n,this).setName(x("Auto Download Image")).setDesc(x("Auto download image when save to thino. 'false' by default")).setTab(r).setDisabled(!c).addToggle(h=>{h.setValue(this.plugin.settings.AutoDownloadImage).onChange(async m=>{if(!c){An();return}this.plugin.settings.AutoDownloadImage=m,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}),new dt(n,this).setName(x("Thino Http IP Type")).setDesc(x("Set Thino http server ip to listen. 'localhost' by default")).setTab(r).addDropdown(h=>{h.addOption("localhost","localhost"),h.addOption("127.0.0.1","127.0.0.1"),h.setValue(this.plugin.settings.HttpApiIpType).onChange(async m=>{if(!o||(o==null?void 0:o.appId)!==s){An();return}this.plugin.settings.HttpApiIpType=m,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}))}fetchDataSettings(n,r){let o;new dt(r,this).setName(x("Use which plugin's default configuration")).setDesc(x("Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("Daily",x("Daily")),o.addOption("Periodic","Periodic"),o.setValue(this.plugin.settings.UseDailyOrPeriodic).onChange(async s=>{this.plugin.settings.UseDailyOrPeriodic=s,this.applySettingsUpdate()})})}navigationSettings(n,r){new dt(r,this).setName(x("Open link directly in Thino view")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.navigation).onChange(async i=>{this.plugin.settings.navigation=i,this.applySettingsUpdate()}))}setPasswordSettings(n,r){new dt(r,this).setName(x("Need password to unlock Thino")).setTab(n).addToggle(o=>{this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched&&(o.toggleEl.onclick=i=>{this.passwordMatched||(i.preventDefault(),new qT(this.app,this,this.plugin,s=>{o.setDisabled(!s),this.passwordMatched=s,this.debounceDisplay()}).open(),new C.Notice(x("Please input your password to change password settings")))}),o.setDisabled(this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched).setValue(this.plugin.settings.needVerify).onChange(async i=>{this.plugin.settings.needVerify=i,i&&(this.passwordMatched=!1),this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.needVerify&&new dt(r,this).setName(x("Password to lock Thino")).setTab(n).addText(o=>{this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched&&(o.inputEl.onclick=i=>{this.passwordMatched||(i.preventDefault(),new qT(this.app,this,this.plugin,s=>{o.inputEl.readOnly=!s,this.passwordMatched=s,this.debounceDisplay()}).open(),new C.Notice(x("Please input your password to change password settings")))}),o.inputEl.readOnly=this.plugin.settings.password&&this.plugin.settings.needVerify&&!this.passwordMatched,o.inputEl.oncopy=()=>!1,o.inputEl.type="password",o.setValue(this.plugin.settings.password).onChange(async i=>{this.plugin.settings.password=i,this.applySettingsUpdate()})})}setGlobalSettings(n,r,o){new dt(r,this).setHeading().setTab(n).setName("💎 "+x("Pro features")),this.initHttpServer(r,n),new dt(r,this).setName(x("Enable opening thino globally")).setDesc(x("Enable opening thino globally. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.CaptureKey.EnableCaptureKey).onChange(async s=>{if(!o){An();return}this.plugin.settings.CaptureKey.EnableCaptureKey=s,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.CaptureKey.EnableCaptureKey&&(new dt(r,this).setName(x("Key for opening thino globally")).setDesc(x("Set key for opening thino globally. CTRL + SHIFT + T by default.")).setTab(n).addText(i=>i.setPlaceholder(el.CaptureKey.OpenThinoGlobally).setValue(this.plugin.settings.CaptureKey.OpenThinoGlobally).onChange(async s=>{if(!o){An();return}this.plugin.settings.CaptureKey.OpenThinoGlobally=s,this.applySettingsUpdate()})),new dt(r,this).setName(x("Show thino near mouse")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.CaptureKey.ShowNearMouse).onChange(async s=>{if(!o){An();return}this.plugin.settings.CaptureKey.ShowNearMouse=s,this.applySettingsUpdate()})))}checkInList(n){return this.plugin.settings.EnabledLocationList.find(r=>r.value===n)!==void 0}customFileNameSettings(n,r,o){var d;const i=document.createDocumentFragment(),s=i.createEl("div",{cls:"memo-save-location-desc"});for(const h of qM){const m=s.createEl("div",{cls:`memo-save-location-desc-item ${h.value}`}),g=m.createEl("span",{cls:"memo-save-location-desc-item-icon"});C.setIcon(g,((d=gm.find(I=>I.title===h.value))==null?void 0:d.icon)||""),m.createEl("span",{cls:"memo-save-location-desc-item-desc",text:`${x(h.value)}`});const v=m.createEl("span",{cls:"memo-save-location-desc-item-toggle"}),b=m.createEl("span",{cls:"memo-save-location-desc-item-setting"});h.value!=="DAILY"&&m.createEl("span",{cls:["memo-save-location-desc-item-pro","user-pro-badge"],text:"PRO"}),new C.ToggleComponent(v).setValue(this.checkInList(h.value)).onChange(async I=>{if(!o){An();return}I?(await _e.updateTypeMemos(h.value),this.plugin.settings.EnabledLocationList=[...this.plugin.settings.EnabledLocationList,h]):(await _e.removeTypeMemos(h.value),this.plugin.settings.EnabledLocationList=this.plugin.settings.EnabledLocationList.filter(O=>O.value!==h.value)),this.plugin.settings.EnabledLocationList.length===1&&(this.plugin.settings.MemoSaveLocation=h.value),this.applySettingsUpdate(),setTimeout(()=>{this.display()},500)}).setDisabled(this.plugin.settings.EnabledLocationList.length===1&&this.checkInList(h.value)),new C.ExtraButtonComponent(b).setIcon("settings").onClick(()=>{new HX(this.app,this,this.plugin,h,o).open()})}const c=new dt(r,this).setName(x("Save type for Thino")).setDesc(i).setTab(n);c.settingEl.toggleClass("memo-save-location-setting",!0),c.nameEl.toggleClass("memo-save-location-title",!0)}}class HX extends C.Modal{constructor(n,r,o,i,s){super(n);De(this,"plugin");De(this,"settingTab");De(this,"LocationList");De(this,"target","");De(this,"insertTarget","");De(this,"verified");De(this,"updateValue",C.debounce(n=>{this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target=n.trim()===""?"basic":n.trim():this.target=n.trim()===""&&this.LocationList.value==="MULTI"?"Memos":n.trim()},400,!0));De(this,"debounceDisplay",C.debounce(()=>this.display(),400,!0));this.verified=s,this.app=n,this.settingTab=r,this.plugin=o,this.LocationList=i,this.target=i.target!=="ProcessEntriesBelow"?o.settings.MemoOtherSaveLocation[i.target]:o.settings[i.target],this.insertTarget=o.settings.InsertAfter}onOpen(){this.display()}async display(){var d;const{contentEl:n}=this;this.contentEl.empty(),(d=n.parentElement)==null||d.classList.add("memo-save-location-modal"),this.titleEl.toggleClass("modal-title",!0),this.titleEl.setText(x("Save type for Thino")+` [${x(this.LocationList.value)}]`),(this.LocationList.value==="FILE"||this.LocationList.value==="CANVAS")&&n.createDiv("modal-desc",h=>{h.setText(x('You can set folder name with file name like "folder/file"'))}),this.LocationList.value==="MULTI"&&n.createDiv("modal-desc",h=>{h.setText(x('You can set folder name like "folder1/folder2/folder3" to create sub-folder'))}),this.LocationList.value==="DAILY"&&n.createDiv("modal-desc",h=>{h.setText(x('You can set target heading like "# Heading" to control data location'))});const r=n.createDiv("modal-setting"),o=this.LocationList.value==="DAILY"?x("Process Memos below"):this.LocationList.value==="MULTI"?x("Set the folder name"):x("Set the filename");if(this.LocationList.value==="DAILY"&&(new dt(r,this.settingTab).setName(x("Set thino insert place")).setDesc(x("Set where to insert thino content")).addDropdown(async h=>{h.addOption("end",x("End of the diary")),h.addOption("custom",x("Custom location")),h.setValue(this.plugin.settings.InsertType).onChange(async m=>{this.plugin.settings.InsertType=m,this.settingTab.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.InsertType==="custom"&&await this.addDailySettings(r),new dt(r,this.settingTab).setName(x("Set process target")).setDesc(x("You can set whole diary or only part of it")).addDropdown(async h=>{h.addOption("custom",x("Custom")),h.addOption("whole",x("Whole diary")),h.setValue(this.plugin.settings.ProcessContentTarget).onChange(async m=>{this.plugin.settings.ProcessContentTarget=m,this.settingTab.applySettingsUpdate(),this.debounceDisplay()})})),this.LocationList.value!=="DAILY"||this.plugin.settings.ProcessContentTarget!=="whole"){const h=new dt(r,this.settingTab).setName(o).addText(m=>m.setPlaceholder(this.LocationList.value==="DAILY"?x("# Heading"):x("Set the filename for current location file")).setValue(this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target.replace(/\.thino\.(canvas|md)/g,""):this.target).onChange(async g=>{const v=this.LocationList.value==="CANVAS"?".thino.canvas":this.LocationList.value==="FILE"?".thino.md":"";this.updateValue(g.replace(/\.thino\.(canvas|md)/g,"")+v)}));this.LocationList.value==="DAILY"&&h.setDesc(x("If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.")),this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"&&h.controlEl.createEl("span",{text:`${this.LocationList.value==="FILE"?".thino.md":".thino.canvas"}`})}const i=n.createDiv("button-group"),s=i.createEl("button",{text:x("Cancel")}),c=i.createEl("button",{text:x("Save")});c.onclick=async()=>{if(!this.verified&&this.LocationList.value!=="DAILY"){this.close(),An();return}this.LocationList.target!=="ProcessEntriesBelow"?this.plugin.settings.MemoOtherSaveLocation[this.LocationList.target]=this.target:this.plugin.settings[this.LocationList.target]=this.target,this.LocationList.value==="MULTI"&&at.checkDailyInMulti(this.plugin.settings),this.LocationList.target==="ProcessEntriesBelow"&&(this.plugin.settings.InsertAfter=this.insertTarget),this.settingTab.applySettingsUpdate(),setTimeout(()=>{_e.updateTypeMemos(this.LocationList.value)},1e3),this.close()},s.onclick=async()=>{this.close()}}async addDailySettings(n){var d,h,m,g;const r=yt.getState().verifyState,o=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),i=C.Platform.isDesktop?await er():o.identifier||o.uuid,s=r&&(r==null?void 0:r.appId)===i,c=((h=this.plugin.settings)!=null&&h.DifferentInsertTarget?`[${x("List")}] `:"")+x("Insert after heading");new dt(n,this.settingTab).setName(c).setDesc(x("If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")).addText(v=>v.setPlaceholder(x("# Heading")).setValue(this.insertTarget).onChange(async b=>{this.insertTarget=b})),(m=this.plugin.settings)!=null&&m.DifferentInsertTarget&&new dt(n,this.settingTab).setName(((g=this.plugin.settings)!=null&&g.DifferentInsertTarget?`[${x("Task")}] `:"")+x("Insert after heading")).setDesc(x("Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")).addText(v=>{v.setPlaceholder(x("# Heading")).setValue(this.plugin.settings.InsertAfterForTask).onChange(async b=>{this.plugin.settings.InsertAfterForTask=b,this.settingTab.applySettingsUpdate()})}),new dt(n,this.settingTab).setName(x("Different insert target for different type")).setDesc(x("Toggle this to set different insert target for different type of thino, like task or list type of thino")).addToggle(v=>v.setValue(this.plugin.settings.DifferentInsertTarget).onChange(async b=>{if(!s){An();return}this.plugin.settings.DifferentInsertTarget=b,this.settingTab.applySettingsUpdate(),this.debounceDisplay()}))}onClose(){const{contentEl:n}=this;n.empty()}}class qT extends C.Modal{constructor(n,r,o,i){super(n);De(this,"plugin");De(this,"settingTab");this.cb=i,this.app=n,this.settingTab=r,this.plugin=o}onOpen(){var d;const{contentEl:n}=this;(d=n.parentElement)==null||d.classList.add("memo-save-location-modal"),this.titleEl.toggleClass("modal-title",!0),this.titleEl.setText(x("Password for Thino")),n.createDiv("modal-desc",h=>{h.setText(x("Please input your password to change password settings"))});const r=n.createDiv("modal-setting"),o=new dt(r,this.settingTab).setName(x("Password")).addText(h=>{h.setPlaceholder(x("Please input your password")).inputEl.type="password"}),i=n.createDiv("button-group"),s=i.createEl("button",{text:x("Cancel")}),c=i.createEl("button",{cls:"thino-password-confirm-btn",text:x("Confirm?").replace(/(\?|？)/g,"")});c.onclick=async()=>{var h;o.controlEl.querySelector("input").value===this.plugin.settings.password?((h=this.cb)==null||h.call(this,!0),this.close()):new C.Notice(x("Password is incorrect"))},s.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}function m0(e){return e.split("-")[0]}function GM(e){return e.split("-")[1]}function fS(e){return["top","bottom"].includes(m0(e))?"x":"y"}function JM(e){return e==="y"?"height":"width"}function GT(e){let{reference:t,floating:n,placement:r}=e;const o=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2;let s;switch(m0(r)){case"top":s={x:o,y:t.y-n.height};break;case"bottom":s={x:o,y:t.y+t.height};break;case"right":s={x:t.x+t.width,y:i};break;case"left":s={x:t.x-n.width,y:i};break;default:s={x:t.x,y:t.y}}const c=fS(r),d=JM(c);switch(GM(r)){case"start":s[c]=s[c]-(t[d]/2-n[d]/2);break;case"end":s[c]=s[c]+(t[d]/2-n[d]/2);break}return s}const UX=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n;let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:h}=GT({...c,placement:r}),m=r,g={};for(let v=0;v<i.length;v++){const{name:b,fn:D}=i[v],{x:T,y:I,data:O,reset:N}=await D({x:d,y:h,initialPlacement:r,placement:m,strategy:o,middlewareData:g,rects:c,platform:s,elements:{reference:e,floating:t}});if(d=T??d,h=I??h,g={...g,[b]:O??{}},N){typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(c=N.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):N.rects),{x:d,y:h}=GT({...c,placement:m})),v=-1;continue}}return{x:d,y:h,placement:m,strategy:o,middlewareData:g}};function YX(e){return{top:0,right:0,bottom:0,left:0,...e}}function zX(e){return typeof e!="number"?YX(e):{top:e,right:e,bottom:e,left:e}}function Y1(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function z1(e,t){t===void 0&&(t={});const{x:n,y:r,platform:o,rects:i,elements:s,strategy:c}=e,{boundary:d="clippingParents",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:v=0}=t,b=zX(v),T=s[g?m==="floating"?"reference":"floating":m],I=await o.getClippingClientRect({element:await o.isElement(T)?T:T.contextElement||await o.getDocumentElement({element:s.floating}),boundary:d,rootBoundary:h}),O=Y1(await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:m==="floating"?{...i.floating,x:n,y:r}:i.reference,offsetParent:await o.getOffsetParent({element:s.floating}),strategy:c}));return{top:I.top-O.top+b.top,bottom:O.bottom-I.bottom+b.bottom,left:I.left-O.left+b.left,right:O.right-I.right+b.right}}const VX={left:"right",right:"left",bottom:"top",top:"bottom"};function Mv(e){return e.replace(/left|right|bottom|top/g,t=>VX[t])}function ZX(e,t){const n=GM(e)==="start",r=fS(e),o=JM(r);let i=r==="x"?n?"right":"left":n?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Mv(i)),{main:i,cross:Mv(i)}}const WX={start:"end",end:"start"};function JT(e){return e.replace(/start|end/g,t=>WX[t])}function $X(e){const t=Mv(e);return[JT(e),t,JT(t)]}const qX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c}=t;if((n=i.flip)!=null&&n.skip)return{};const{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",flipAlignment:v=!0,...b}=e,D=m0(o),I=m||(D===c||!v?[Mv(c)]:$X(c)),O=[c,...I],N=await z1(t,b),B=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&B.push(N[D]),h){const{main:V,cross:Z}=ZX(o,s);B.push(N[V],N[Z])}if(P=[...P,{placement:o,overflows:B}],!B.every(V=>V<=0)){var U,L;const V=((U=(L=i.flip)==null?void 0:L.index)!=null?U:0)+1,Z=O[V];if(Z)return{data:{index:V,overflows:P},reset:{placement:Z}};let $="bottom";switch(g){case"bestFit":{var z;const oe=(z=P.slice().sort((te,ye)=>te.overflows.filter(ge=>ge>0).reduce((ge,ce)=>ge+ce,0)-ye.overflows.filter(ge=>ge>0).reduce((ge,ce)=>ge+ce,0))[0])==null?void 0:z.placement;oe&&($=oe);break}case"initialPlacement":$=c;break}return{data:{skip:!0},reset:{placement:$}}}return{}}}};function GX(e){let{placement:t,rects:n,value:r}=e;const o=m0(t),i=["left","top"].includes(o)?-1:1,s=typeof r=="function"?r({...n,placement:t}):r,{mainAxis:c,crossAxis:d}=typeof s=="number"?{mainAxis:s,crossAxis:0}:{mainAxis:0,crossAxis:0,...s};return fS(o)==="x"?{x:d,y:c*i}:{x:c*i,y:d}}const JX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(t){const{x:n,y:r,placement:o,rects:i}=t,s=GX({placement:o,rects:i,value:e});return{x:n+s.x,y:r+s.y,data:s}}}};function hS(e){return(e==null?void 0:e.toString())==="[object Window]"}function dc(e){if(e==null)return window;if(!hS(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function g0(e){return dc(e).getComputedStyle(e)}function tu(e){return hS(e)?"":e?(e.nodeName||"").toLowerCase():""}function nu(e){return e instanceof dc(e).HTMLElement}function kv(e){return e instanceof dc(e).Element}function KX(e){return e instanceof dc(e).Node}function KM(e){const t=dc(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function y0(e){const{overflow:t,overflowX:n,overflowY:r}=g0(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function QX(e){return["table","td","th"].includes(tu(e))}function QM(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=g0(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}const KT=Math.min,hm=Math.max,Nv=Math.round;function fh(e,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect();let r=1,o=1;return t&&nu(e)&&(r=e.offsetWidth>0&&Nv(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Nv(n.height)/e.offsetHeight||1),{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function fc(e){return((KX(e)?e.ownerDocument:e.document)||window.document).documentElement}function v0(e){return hS(e)?{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function XM(e){return fh(fc(e)).left+v0(e).scrollLeft}function XX(e){const t=fh(e);return Nv(t.width)!==e.offsetWidth||Nv(t.height)!==e.offsetHeight}function eee(e,t,n){const r=nu(t),o=fc(t),i=fh(e,r&&XX(t));let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(r||!r&&n!=="fixed")if((tu(t)!=="body"||y0(o))&&(s=v0(t)),nu(t)){const d=fh(t,!0);c.x=d.x+t.clientLeft,c.y=d.y+t.clientTop}else o&&(c.x=XM(o));return{x:i.left+s.scrollLeft-c.x,y:i.top+s.scrollTop-c.y,width:i.width,height:i.height}}function w0(e){return tu(e)==="html"?e:e.assignedSlot||e.parentNode||(KM(e)?e.host:null)||fc(e)}function QT(e){return!nu(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function tee(e){let t=w0(e);for(;nu(t)&&!["html","body"].includes(tu(t));){if(QM(t))return t;t=t.parentNode}return null}function V1(e){const t=dc(e);let n=QT(e);for(;n&&QX(n)&&getComputedStyle(n).position==="static";)n=QT(n);return n&&(tu(n)==="html"||tu(n)==="body"&&getComputedStyle(n).position==="static"&&!QM(n))?t:n||tee(e)||t}function XT(e){return{width:e.offsetWidth,height:e.offsetHeight}}function nee(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=nu(n),i=fc(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&r!=="fixed")&&((tu(n)!=="body"||y0(i))&&(s=v0(n)),nu(n))){const d=fh(n,!0);c.x=d.x+n.clientLeft,c.y=d.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+c.x,y:t.y-s.scrollTop+c.y}}function ree(e){const t=dc(e),n=fc(e),r=t.visualViewport;let o=n.clientWidth,i=n.clientHeight,s=0,c=0;return r&&(o=r.width,i=r.height,Math.abs(t.innerWidth/r.scale-r.width)<.01&&(s=r.offsetLeft,c=r.offsetTop)),{width:o,height:i,x:s,y:c}}function oee(e){var t;const n=fc(e),r=v0(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=hm(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=hm(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let c=-r.scrollLeft+XM(e);const d=-r.scrollTop;return g0(o||n).direction==="rtl"&&(c+=hm(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:c,y:d}}function e3(e){return["html","body","#document"].includes(tu(e))?e.ownerDocument.body:nu(e)&&y0(e)?e:e3(w0(e))}function t3(e,t){var n;t===void 0&&(t=[]);const r=e3(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=dc(r),s=o?[i].concat(i.visualViewport||[],y0(r)?r:[]):r,c=t.concat(s);return o?c:c.concat(t3(w0(s)))}function iee(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&KM(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function aee(e){const t=fh(e),n=t.top+e.clientTop,r=t.left+e.clientLeft;return{top:n,left:r,x:r,y:n,right:r+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function eI(e,t){return t==="viewport"?Y1(ree(e)):kv(t)?aee(t):Y1(oee(fc(e)))}function see(e){const t=t3(w0(e)),r=["absolute","fixed"].includes(g0(e).position)&&nu(e)?V1(e):e;return kv(r)?t.filter(o=>kv(o)&&iee(o,r)&&tu(o)!=="body"):[]}function lee(e){let{element:t,boundary:n,rootBoundary:r}=e;const i=[...n==="clippingParents"?see(t):[].concat(n),r],s=i[0],c=i.reduce((d,h)=>{const m=eI(t,h);return d.top=hm(m.top,d.top),d.right=KT(m.right,d.right),d.bottom=KT(m.bottom,d.bottom),d.left=hm(m.left,d.left),d},eI(t,s));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}const uee={getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:eee(t,V1(n),r),floating:{...XT(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:e=>nee(e),getOffsetParent:e=>{let{element:t}=e;return V1(t)},isElement:e=>kv(e),getDocumentElement:e=>{let{element:t}=e;return fc(t)},getClippingClientRect:e=>lee(e),getDimensions:e=>{let{element:t}=e;return XT(t)},getClientRects:e=>{let{element:t}=e;return t.getClientRects()}},cee=(e,t,n)=>UX(e,t,{platform:uee,...n});var dee=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var s=i[o];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const fee=Wr(dee),$w=pm.Facet.define({combine:e=>{var t,n;return{defaultPlacement:((t=e.find(r=>r.defaultPlacement))==null?void 0:t.defaultPlacement)||"top",padding:((n=e.find(r=>r.padding))==null?void 0:n.padding)||8}}}),n3=e=>e.split("-")[0],hee=e=>e==="x"?"y":"x",pee=e=>["top","bottom"].includes(n3(e))?"x":"y",Xp=(e,t,n)=>Math.max(e,Math.min(t,n)),mee=(e,t)=>Object.fromEntries(Object.entries(e).map(([n,r],o)=>[n,t(r,n,o)])),gee=e=>e===void 0?e:typeof e=="number"?-e:mee(e,t=>t!==void 0?-t:t),yee=(e={})=>({name:"shift",fn:async t=>{const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c=({x:I,y:O})=>({x:I,y:O}),editorMenu:d,...h}=e,m={x:n,y:r},g=await z1(t,h),v=pee(n3(o)),b=hee(v);let D=m[v],T=m[b];if(i){const I=v==="y"?"top":"left",O=v==="y"?"bottom":"right",N=D+g[I],B=D-g[O];if(d){const P=await z1(t,{...h,boundary:d.dom,padding:gee(h.padding)});if((b==="y"?["top","bottom"]:["left","right"]).every(L=>P[L]<=0)){const L=t.rects.floating.width,z=D+P[I]-L,V=D-P[O]+L,Z=Math.abs(g[I]-P[I]),$=Math.abs(g[O]-P[O]);Z>=L||$<Z?D=Xp(N,D,z):D=Xp(V,D,B)}else D=Xp(N,D,B)}else D=Xp(N,D,B)}if(s){const I=b==="y"?"top":"left",O=b==="y"?"bottom":"right",N=T+g[I],B=T-g[O];T=Xp(N,T,B)}return c({...t,[v]:D,[b]:T})}}),vee="thino-mini-toolbar",wee=(e=0,t=0)=>({width:0,height:0,top:t,left:e,bottom:t,right:e,x:e,y:t}),bee=(e,t)=>{if(!e)return null;const n=Math.min(e.left,(t==null?void 0:t.left)??e.left),r=Math.max(e.right,(t==null?void 0:t.right)??e.right),o=Math.max(e.bottom,(t==null?void 0:t.bottom)??e.bottom)-Math.min(e.top,(t==null?void 0:t.top)??e.top),i=Math.min(e.top,(t==null?void 0:t.top)??e.top),s=i+o,c={left:n,right:r,top:i,bottom:s,width:0,height:o,x:i,y:n};return t&&(c.width=Math.abs(r-n)),c},See=wee();class Dee{constructor(t){De(this,"containerEl");De(this,"virtualEl");De(this,"toolbar",null);De(this,"isThinoView");De(this,"tooltipInfo");De(this,"inView",!0);De(this,"defaultPlacement");De(this,"editorMenu");De(this,"cachedRefRect",null);De(this,"readFromDOM",()=>{if(this.tooltipInfo){const{start:t}=this.tooltipInfo;let{end:n}=this.tooltipInfo;n&&t===n&&(n=void 0);const r=this.view.coordsAtPos(t);let o=n?this.view.coordsAtPos(n):null;if(r&&o&&r.top!==o.top){const s=this.view.contentDOM.getBoundingClientRect();o={left:s.right,right:s.right,top:r.top,bottom:r.bottom}}const i=bee(r,o);i&&(this.cachedRefRect=i,this.computePosition(i))}});this.view=t,this.containerEl=this.view.dom.parentElement,this.defaultPlacement=this.view.state.facet($w).defaultPlacement,this.tooltipInfo=t.state.facet(Z1),this.virtualEl={rect:See,getBoundingClientRect(){return this.rect}},this.maybeMeasure(),this.editorMenu={currMenu:null,evtRef:t.state.field(C.editorInfoField)},this.isThinoView=this.checkThinoView()}get workspace(){return this.view.state.field(C.editorInfoField).app.workspace}checkThinoView(){return this.view.state.field(C.editorInfoField)&&this.view.state.field(C.editorInfoField)instanceof nc}shouldRemoveToolbar(t){const n=t??this.tooltipInfo;return!(n!=null&&n.end||this.editorMenu.currMenu)}onEditorMenuOpen(t){this.editorMenu.currMenu||(this.editorMenu.currMenu=t,this.cachedRefRect?this.computePosition(this.cachedRefRect):this.maybeMeasure(),!C.Platform.isMacOS&&this.tooltipInfo&&(this.createToolbar(),this.maybeMeasure()))}onEditorMenuClose(t){this.editorMenu.currMenu===t&&(this.editorMenu.currMenu=null),!C.Platform.isMacOS&&this.toolbar&&this.shouldRemoveToolbar()&&this.removeToolbar()}createToolbar(t){const n=t??this.tooltipInfo;if(!n)return;this.removeToolbar();const r=n.create(this.containerEl),o=this.view.state.field(C.editorInfoField);if(!o||!(o!=null&&o.editor))return;const i=o.editor.offsetToPos(n.start),s=n.end?o.editor.offsetToPos(n.end):i;this.workspace.trigger(vee,r,{from:i,to:s},o.editor,o),this.toolbar=r}removeToolbar(){this.toolbar&&(this.toolbar.hide(),this.toolbar=null)}update(t){if(!this.isThinoView)return;const n=t.state.facet(Z1),r=n!==this.tooltipInfo&&!fee(n,this.tooltipInfo);r&&(this.tooltipInfo=n,this.shouldRemoveToolbar()?this.removeToolbar():n&&!this.toolbar&&this.createToolbar(n));const o=r||t.geometryChanged,i=t.state.facet($w);i.defaultPlacement!=this.defaultPlacement&&(i.defaultPlacement=this.defaultPlacement),o&&this.maybeMeasure()}destroy(){this.editorMenu.currMenu=null,this.removeToolbar(),this.toolbar=null,this.view.state.field(C.editorInfoField).app.workspace.offref(this.editorMenu.evtRef)}async computePosition(t){if(!this.toolbar)return;this.virtualEl.rect=t;const{padding:n}=this.view.state.facet($w),{x:r,y:o}=await cee(this.virtualEl,this.toolbar.dom,{placement:this.defaultPlacement,middleware:[JX({mainAxis:5}),qX({padding:n,boundary:this.view.scrollDOM}),yee({padding:n,boundary:this.view.scrollDOM,editorMenu:this.editorMenu.currMenu})]});Object.assign(this.toolbar.dom.style,{top:"0",left:"0",transform:`translate(${Math.round(r)}px,${Math.round(o)}px)`})}maybeMeasure(){this.view.inView&&this.toolbar&&this.view.requestMeasure({read:this.readFromDOM}),this.inView!=this.view.inView&&(this.inView=this.view.inView,this.inView||this.removeToolbar())}}const Tee=al.ViewPlugin.fromClass(Dee,{eventHandlers:{scroll(){this.maybeMeasure()}}}),Z1=pm.Facet.define({enables:[Tee],combine:e=>e.filter(t=>t!=null).first()??null}),Iee=e=>{const t=kee(e);t&&window.navigator.clipboard.writeText(t==null?void 0:t.getSelection())},Eee=e=>{e.commands.executeCommandById("editor:toggle-bold",e)},xee=e=>{e.commands.executeCommandById("editor:toggle-strikethrough",e)},Cee=e=>{e.commands.executeCommandById("editor:toggle-highlight",e)},Mee=e=>{e.commands.executeCommandById("editor:toggle-italics",e)},kee=e=>{const{editor:t}=e.field(C.editorInfoField);return t},tI=(e,t)=>{const n=e.selection.ranges[0];if(!n)return null;const{anchor:r,head:o,empty:i}=n,[s,c]=[r,o].sort();return{start:s,end:i?void 0:c,create:h=>new Oee(h).addSmallButton(g=>g.setClass("clickable-icon").setIcon("copy").onClick(()=>Iee(e))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("bold").onClick(()=>Eee(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("italic").onClick(()=>Mee(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("strikethrough").onClick(()=>xee(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("highlighter").onClick(()=>Cee(t)))}},Nee=e=>pm.StateField.define({create:t=>tI(t,e),update:(t,n)=>!n.docChanged&&!n.selection?t:tI(n.state,e),provide:t=>Z1.from(t)}),Aee=e=>[Nee(e)];class Fee extends C.BaseComponent{constructor(n){super();De(this,"button");De(this,"disabled",!1);De(this,"dropdownOptions",[]);De(this,"menu");De(this,"menuOpened",!1);this.button=new C.ButtonComponent(n)}setDisabled(n){return this.button.setDisabled(n),this.disabled=n,this}setIcon(n){return this.button.setIcon(n),this}setClass(n){return this.button.setClass(n),this}setDropdownText(n){var d;const r=this.button.buttonEl.createDiv("mini-toolbar-text"),o=this.button.buttonEl.createDiv("mini-toolbar-icon-with-text");C.setIcon(o,"chevron-down");const i=(d=n.doc.lineAt(n.selection.ranges[0].from))==null?void 0:d.from,s=sw.syntaxTree(n).resolveInner(i+1),c=s.type.prop(sw.tokenClassNodeProp);return r.setText(this.detectFormat(c,s)||"Text"),this}setDropdownIcon(){const n=this.button.buttonEl.createDiv("mini-toolbar-highlight-icon"),r=this.button.buttonEl.createDiv("mini-toolbar-icon-with-icon");return C.setIcon(n,"highlighter"),C.setIcon(r,"chevron-down"),this}detectFormat(n,r){var o;if(!n)return"Text";if(n.includes("strong"))return"Bold";if(n.includes("em"))return"Italic";if(n.includes("strikethrough"))return"Strike";if(n.contains("hmd-codeblock"))return"CodeBlock";if(n.contains("hmd-inline-code"))return"Code";if(n.contains("formatting-header")){const i=n.match(/header-\d{1,}/);if(i)return"Heading "+i[0].slice(-1)}if(n.contains("formatting-list")||n.contains("hmd-list-indent")){if(r!=null&&r.parent){const i=(o=r.parent)==null?void 0:o.type.prop(sw.lineClassNodeProp);if(i!=null&&i.contains("HyperMD-task-line"))return"To-do list"}if(n.contains("formatting-list-ol"))return"Numbered list";if(n.contains("formatting-list-ul"))return"Bulleted list"}}setTooltip(n){return this.button.setTooltip(n),this}setOptionsList(n){return this.dropdownOptions=n,this}onClick(n){return this.dropdownOptions.length>0?(this.button.onClick(r=>this.showEditMenu(r)),this):(this.button.onClick(n),this)}showEditMenu(n){var s,c;if(this.menuOpened=!this.menuOpened,!this.menuOpened)return;this.menu=new C.Menu,this.menu.onHide(()=>{this.menuOpened=!1});const r=n.currentTarget,o=(s=n.currentTarget)==null?void 0:s.getBoundingClientRect(),i={x:o.left-6,y:o.bottom+6};for(let d=0;d<((c=this.dropdownOptions)==null?void 0:c.length);d++)this.menu.addItem(h=>{h.setIcon("zap").setTitle(this.dropdownOptions[d]).onClick(()=>{})});this.menu.setParentElement(r).showAtPosition(i)}then(n){return n(this),this}}class Oee extends C.Component{constructor(n){super();De(this,"dom");De(this,"smallBtnContainer");De(this,"unloading",!1);this.dom=n==null?void 0:n.createDiv({cls:"cm-mini-toolbar"},r=>r.style.position="absolute"),this.smallBtnContainer=this.dom}addSmallButton(n){return n(new Fee(this.smallBtnContainer)),this}hide(){return this.unload(),this.unloading?this:(this.unloading=!0,this.dom.detach(),this.unloading=!1,this)}}const Pee=al.Decoration.line({attributes:{"data-ph":x("What do you think now...")},class:"thino-editor-placeholder"}),jee=pm.StateField.define({create(){return al.Decoration.none},update(e,t){const n=t.state.field(C.editorInfoField);if(!(n!=null&&n.view)&&!((n==null?void 0:n.view)instanceof nc))return e;const r=new pm.RangeSetBuilder,o=t.state.doc.toString(),i=t.state.doc.lineAt(0);return(o==null?void 0:o.length)==0&&r.add(i.from,i.from,Pee),r.finish()},provide:e=>al.EditorView.decorations.from(e)});function r3(e){return`userId:${e}`}function Lee(e,t){return`expiryDate:${t}:${e}`}function Ree(e){try{const t=r3(e==null?void 0:e.appId);return Vr.get([t])[t]||""}catch(t){return console.error(t),""}}function _ee(e,t){try{const n=r3(t==null?void 0:t.appId);return Vr.set({[n]:e}),{userId:e,key:n}}catch(n){console.error(n)}}function Bee(e,t){try{const n=Lee(Ree(t),t==null?void 0:t.appId);Vr.set({[n]:e})}catch(n){console.error(n)}}const Hee=at.grabImageFromUrl,Uee=require("http"),Yee=require("url");function zee(e){const t=e.indexOf(";base64,"),n=e.substring(5,t),r=e.substr(t+8),o=atob(r),i=new ArrayBuffer(o.length),s=new Uint8Array(i);for(let d=0;d<o.length;d++)s[d]=o.charCodeAt(d);return new Blob([i],{type:n})}const nI=async e=>{const{type:t}=e;if(t.startsWith("image"))try{return`${await cb.upload(e)}`}catch(n){new C.Notice(n)}};function Vee(e){const t=Uee.createServer(async function(n,r){r.setHeader("Access-Control-Allow-Origin","*"),r.setHeader("Access-Control-Allow-Methods","GET, HEAD, POST, OPTIONS, PUT, PATCH, DELETE"),r.setHeader("Access-Control-Allow-Headers","Access-Control-Allow-Headers, Origin, Authorization,Accept,x-client-id, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, hypothesis-client-version"),r.setHeader("Access-Control-Allow-Credentials","true");try{if(n.url){const o=Yee.parse(n.url,!0);if(o.pathname==="/create"&&n.method==="POST"){let i="";n.on("data",s=>{i+=s}),n.on("end",async()=>{const s=JSON.parse(i),{text:c,isList:d,type:h,imageList:m}=s;let g=c;if(!g){r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thino:null,link:null}));return}new RegExp(/(<([^>]+)>)/g).test(c)&&(g=C.htmlToMarkdown(c));let b=[];const D=[];if(e.AutoDownloadImage){const I=g.match(Ed)||[];if(I.length>0){for(const O of I)try{const N=await Hee(O);if(N.size===0)continue;const B=new File([N],"image.png",{type:"image/png"}),P=await nI(B);D.push({oldUrl:O,newUrl:P})}catch(N){console.error(N)}D.forEach(O=>{g=g.replace(O.oldUrl,O.newUrl)}),m&&m.length>0&&(b=await Promise.all(m.map(async O=>{const N=zee(O);return new File([N],"image.png",{type:"image/png"})})));for(const O of b){const N=await nI(O);g+=`
${N}`}}}const T=await _e.createThino({content:g,isList:d,type:h});T&&(_e.pushMemo(T),ot.clearQuery()),r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thino:T,link:`obsidian://thino?openId=${T.id}`}))})}else if(o.pathname==="/search"&&n.method==="GET"){const i=o.query,{keyword:s}=i,c=_e.getThinoViaKeyword(s);r.statusCode=200,r.setHeader("Content-Type","application/json");const d=JSON.stringify({status:"success",thinos:c});r.end(d)}else r.statusCode=404,r.end()}}catch(o){console.error(o),r.statusCode=500,r.end({status:"error",message:o.message})}});return{listen(n,r){try{t.listen({port:parseInt(r),host:n})}catch(o){console.error(o),new C.Notice(x("Thino - Failed to start HTTP server, please check the port is available."))}new C.Notice(`${x("Thino - Started HTTP server on port")} ${r}`)},close(){t.close(),new C.Notice(x("Thino - Terminated HTTP server"))}}}const{clipboard:Qn}=C.Platform.isDesktop?require("electron"):"";class Zee{constructor(){De(this,"eventListeners");this.eventListeners={}}on(t,n){this.eventListeners[t]=this.eventListeners[t]||[],this.eventListeners[t].push(n)}once(t,n){n.$emitOnce=!0,this.on(t,n)}removeListener(t,n){if(this.eventListeners[t]){const r=this.eventListeners[t].findIndex(o=>o===n);r>=0&&this.eventListeners[t].splice(r,1)}}removeAllListeners(t){this.eventListeners[t]&&(this.eventListeners[t].length=0)}emit(t,...n){this.eventListeners[t]&&this.eventListeners[t].forEach(r=>{r.call(this,...n),r.$emitOnce&&this.removeListener(t,r)})}}const Jf=new Zee;let em=null,rI=Qn==null?void 0:Qn.readText(),oI=Qn==null?void 0:Qn.readImage();Qn&&(Qn.on=(e,t)=>(Jf.on(e,t),Qn),Qn.once=(e,t)=>(Jf.once(e,t),Qn),Qn.off=(e,t)=>(t?Jf.removeListener(e,t):Jf.removeAllListeners(e),Qn),Qn.startWatching=()=>(em||(em=setInterval(()=>{Wee(rI,rI=Qn==null?void 0:Qn.readText())&&Jf.emit("text-changed"),$ee(oI,oI=Qn==null?void 0:Qn.readImage())&&Jf.emit("image-changed")},500)),Qn),Qn.stopWatching=()=>(em&&clearInterval(em),em=null,Qn));function Wee(e,t){return t&&e!==t}function $ee(e,t){return!t.isEmpty()&&e.toDataURL()!==t.toDataURL()}var cI;const qw=(cI=require("electron"))==null?void 0:cI.remote;var dI,fI;const iI=(fI=(dI=require("electron"))==null?void 0:dI.remote)==null?void 0:fI.screen;class qee{constructor(t,n){De(this,"isRegisted");De(this,"leaf");De(this,"clipboard");De(this,"isScreenTop",!1);De(this,"currentSplitWindow");De(this,"intervalNum");De(this,"allowsCopy",!1);De(this,"plugin");De(this,"actionEl",null);this.app=t,this.plugin=n,this.isRegisted=!1,this.leaf=null,this.clipboard=Qn}async onload(){C.Platform.isDesktop&&(this.initGlobalCopyEvents(),await this.registerAllShortcuts(),this.registerEvents())}registerEvents(){this.plugin.registerEvent(this.app.workspace.on("quit",()=>{qw.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally)}))}initGlobalCopyEvents(){this.plugin.addCommand({id:"init-global-copy-events",name:x("Global copy"),callback:()=>{this.allowsCopy=!this.allowsCopy,!this.allowsCopy&&this.clipboard.stopWatching(),this.allowsCopy&&this.clipboard.startWatching(),this.leaf&&this.allowsCopy&&(this.actionEl=this.leaf.view.addAction("clipboard-x","Stop global copying",()=>{var t;this.allowsCopy=!1,this.clipboard.stopWatching(),(t=this.actionEl)==null||t.remove()}))}})}onunload(){this.isRegisted&&(qw.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally),this.clipboard.off("text-changed"),this.clipboard.off("image-changed"),this.clipboard.stopWatching(),this.leaf&&this.leaf.detach())}getCurrentLeaf(){var n;return this.leaf?this.app.workspace.getLeavesOfType("thino_view").length>0&&!!this.app.workspace.getLeafById(this.leaf.id)?!0:((n=this.leaf)==null||n.detach(),this.currentSplitWindow.close(),this.currentSplitWindow=null,this.leaf=null,this.isScreenTop=!1,!1):!1}async registerAllShortcuts(){qw.globalShortcut.register(this.plugin.settings.CaptureKey.OpenThinoGlobally,()=>{this.getCurrentLeaf()?this.showThinoView():this.openThinoView()}),this.isRegisted=!0}showThinoView(){var r,o,i,s;const t=iI.getCursorScreenPoint(),n=(s=(i=(o=(r=this.leaf)==null?void 0:r.parent)==null?void 0:o.parent)==null?void 0:i.win)==null?void 0:s.electronWindow;if(n){if(n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),this.leaf.view.containerEl.toggleClass("thino-float-window",!0),n.isMinimized()&&n.restore(),n.focus(),this.plugin.settings.CaptureKey.ShowNearMouse){const{width:c,height:d}=n.getBounds();n.setBounds({x:t.x,y:t.y,width:c,height:d})}if(this.app.workspace.trigger("focus-on-textarea"),this.isScreenTop){this.isScreenTop=!1,setTimeout(()=>{n.setAlwaysOnTop(!1,"screen")},200);return}this.isScreenTop=!0}}openThinoView(){var i,s,c,d,h;this.leaf=this.app.workspace.openPopoutLeaf({size:{width:400,height:400}});const t=this.leaf;this.leaf.view.containerEl.toggleClass("thino-float-window",!0),this.leaf.setViewState({type:"thino_view"}),setTimeout(()=>{t.view.containerEl.classList.toggle("mobile-view",!0)},0),this.currentSplitWindow=(s=(i=this.leaf)==null?void 0:i.parent)==null?void 0:s.parent;const n=(h=(d=(c=this.leaf)==null?void 0:c.parent)==null?void 0:d.parent)==null?void 0:h.win.electronWindow;if(!n)return;n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),this.isScreenTop=!0;const r=this.app,o=m=>{var b,D,T;const g=iI.getCursorScreenPoint(),v=(T=(D=(b=t==null?void 0:t.parent)==null?void 0:b.parent)==null?void 0:D.win)==null?void 0:T.electronWindow;if(v){if(v.isMinimized()&&v.restore(),!this.isScreenTop&&this.plugin.settings.CaptureKey.ShowNearMouse){const{width:I,height:O}=v.getBounds();v.setBounds({x:g.x,y:g.y-200,width:I,height:O})}v.setAlwaysOnTop(!0,"screen"),r.workspace.trigger("focus-on-textarea"),r.workspace.trigger("send-to-thino",m,t)}};this.clipboard.on("text-changed",()=>{const m=this.clipboard.readText();o(m)}).on("image-changed",()=>{const m=this.clipboard.readImage();o(m)})}}class aI extends C.EditorSuggest{constructor(n,r){super(n);De(this,"root");De(this,"editor");De(this,"cursor");De(this,"plugin");De(this,"tags");De(this,"type","customTag");De(this,"HASHTAG_REGEX",/(^|\s)#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]*$/g);this.plugin=r}checkSettings(){return this.plugin.settings.UseVaultTags}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const o=(i=r.parentElement)==null?void 0:i.parentElement;return(o==null?void 0:o.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const o=C.prepareFuzzySearch(n);return r.map(s=>{const c=o(s);return c?{item:s,match:c}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r)||this.checkSettings())return null;this.tags=_e.getState().tags,this.cursor=n,this.editor=r;const o=n.line,i=r.getLine(o),s=i.substr(0,n.ch);if(s.match(this.HASHTAG_REGEX)&&i.substr(n.ch,1)!=="#"){const c=s.lastIndexOf("#"),d=s.substr(c+1);return{start:{line:o,ch:c},end:{line:o,ch:n.ch},query:d}}return null}getSuggestions(n){return this.fuzzySearchItemsOptimized(n.query,this.tags).map(r=>r.item).sort((r,o)=>r.localeCompare(o))||[]}renderSuggestion(n,r){r.setText(n)}selectSuggestion(n){if(this.context){const r=this.context.editor,o=this.context.start,i=this.context.end;r.transaction({changes:[{from:o,to:i,text:"#"+n+" "}]}),setTimeout(function(){return r.focus()})}this.close()}}const pS=crypto,o3=e=>e instanceof CryptoKey,Ly=new TextEncoder,mS=new TextDecoder;function Gee(...e){const t=e.reduce((o,{length:i})=>o+i,0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}const Jee=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},Gw=e=>{let t=e;t instanceof Uint8Array&&(t=mS.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return Jee(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class b0 extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class Kee extends b0{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class S0 extends b0{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class To extends b0{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class Qee extends b0{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}function Wl(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Ry(e,t){return e.name===t}function Jw(e){return parseInt(e.name.slice(4),10)}function Xee(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function ete(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();n+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw new TypeError(n)}}function tte(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!Ry(e.algorithm,"HMAC"))throw Wl("HMAC");const r=parseInt(t.slice(2),10);if(Jw(e.algorithm.hash)!==r)throw Wl(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Ry(e.algorithm,"RSASSA-PKCS1-v1_5"))throw Wl("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(Jw(e.algorithm.hash)!==r)throw Wl(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Ry(e.algorithm,"RSA-PSS"))throw Wl("RSA-PSS");const r=parseInt(t.slice(2),10);if(Jw(e.algorithm.hash)!==r)throw Wl(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw Wl("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!Ry(e.algorithm,"ECDSA"))throw Wl("ECDSA");const r=Xee(t);if(e.algorithm.namedCurve!==r)throw Wl(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}ete(e,n)}function i3(e,t,...n){var r;if(n.length>2){const o=n.pop();e+=`one of type ${n.join(", ")}, or ${o}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const sI=(e,...t)=>i3("Key must be ",e,...t);function a3(e,t,...n){return i3(`Key for the ${e} algorithm must be `,t,...n)}const s3=e=>o3(e),il=["CryptoKey"],nte=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const o=Object.keys(r);if(!n||n.size===0){n=new Set(o);continue}for(const i of o){if(n.has(i))return!1;n.add(i)}}return!0};function rte(e){return typeof e=="object"&&e!==null}function lI(e){if(!rte(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const ote=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},Ku=(e,t,n=0)=>{n===0&&(t.unshift(t.length),t.unshift(6));const r=e.indexOf(t[0],n);if(r===-1)return!1;const o=e.subarray(r,r+t.length);return o.length!==t.length?!1:o.every((i,s)=>i===t[s])||Ku(e,t,r+1)},uI=e=>{switch(!0){case Ku(e,[42,134,72,206,61,3,1,7]):return"P-256";case Ku(e,[43,129,4,0,34]):return"P-384";case Ku(e,[43,129,4,0,35]):return"P-521";case Ku(e,[43,101,110]):return"X25519";case Ku(e,[43,101,111]):return"X448";case Ku(e,[43,101,112]):return"Ed25519";case Ku(e,[43,101,113]):return"Ed448";default:throw new S0("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},ite=async(e,t,n,r,o)=>{let i,s;const c=new Uint8Array(atob(n.replace(e,"")).split("").map(h=>h.charCodeAt(0))),d=t==="spki";switch(r){case"PS256":case"PS384":case"PS512":i={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`},s=d?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":i={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`},s=d?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":i={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`},s=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":i={name:"ECDSA",namedCurve:"P-256"},s=d?["verify"]:["sign"];break;case"ES384":i={name:"ECDSA",namedCurve:"P-384"},s=d?["verify"]:["sign"];break;case"ES512":i={name:"ECDSA",namedCurve:"P-521"},s=d?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const h=uI(c);i=h.startsWith("P-")?{name:"ECDH",namedCurve:h}:{name:h},s=d?[]:["deriveBits"];break}case"EdDSA":i={name:uI(c)},s=d?["verify"]:["sign"];break;default:throw new S0('Invalid or unsupported "alg" (Algorithm) value')}return pS.subtle.importKey(t,c,i,(o==null?void 0:o.extractable)??!1,s)},ate=(e,t,n)=>ite(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,n);async function ste(e,t,n){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return ate(e,t,n)}const lte=(e,t)=>{if(!(t instanceof Uint8Array)){if(!s3(t))throw new TypeError(a3(e,t,...il,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${il.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},ute=(e,t,n)=>{if(!s3(t))throw new TypeError(a3(e,t,...il));if(t.type==="secret")throw new TypeError(`${il.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&t.type==="public")throw new TypeError(`${il.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&t.type==="public")throw new TypeError(`${il.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&n==="verify"&&t.type==="private")throw new TypeError(`${il.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&n==="encrypt"&&t.type==="private")throw new TypeError(`${il.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},cte=(e,t,n)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?lte(e,t):ute(e,t,n)};function dte(e,t,n,r,o){if(o.crit!==void 0&&r.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(s=>typeof s!="string"||s.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let i;n!==void 0?i=new Map([...Object.entries(n),...t.entries()]):i=t;for(const s of r.crit){if(!i.has(s))throw new S0(`Extension Header Parameter "${s}" is not recognized`);if(o[s]===void 0)throw new e(`Extension Header Parameter "${s}" is missing`);if(i.get(s)&&r[s]===void 0)throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(r.crit)}const fte=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};function hte(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new S0(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function pte(e,t,n){if(o3(t))return tte(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(sI(t,...il));return pS.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(sI(t,...il,"Uint8Array"))}const mte=async(e,t,n,r)=>{const o=await pte(e,t,"verify");ote(e,o);const i=hte(e,o.algorithm);try{return await pS.subtle.verify(i,o,n,r)}catch{return!1}};async function gte(e,t,n){if(!lI(e))throw new To("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new To('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new To("JWS Protected Header incorrect type");if(e.payload===void 0)throw new To("JWS Payload missing");if(typeof e.signature!="string")throw new To("JWS Signature missing or incorrect type");if(e.header!==void 0&&!lI(e.header))throw new To("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const T=Gw(e.protected);r=JSON.parse(mS.decode(T))}catch{throw new To("JWS Protected Header is invalid")}if(!nte(r,e.header))throw new To("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...r,...e.header},i=dte(To,new Map([["b64",!0]]),n==null?void 0:n.crit,r,o);let s=!0;if(i.has("b64")&&(s=r.b64,typeof s!="boolean"))throw new To('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:c}=o;if(typeof c!="string"||!c)throw new To('JWS "alg" (Algorithm) Header Parameter missing or invalid');const d=n&&fte("algorithms",n.algorithms);if(d&&!d.has(c))throw new Kee('"alg" (Algorithm) Header Parameter value not allowed');if(s){if(typeof e.payload!="string")throw new To("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new To("JWS Payload must be a string or an Uint8Array instance");let h=!1;typeof t=="function"&&(t=await t(r,e),h=!0),cte(c,t,"verify");const m=Gee(Ly.encode(e.protected??""),Ly.encode("."),typeof e.payload=="string"?Ly.encode(e.payload):e.payload);let g;try{g=Gw(e.signature)}catch{throw new To("Failed to base64url decode the signature")}if(!await mte(c,t,g,m))throw new Qee;let b;if(s)try{b=Gw(e.payload)}catch{throw new To("Failed to base64url decode the payload")}else typeof e.payload=="string"?b=Ly.encode(e.payload):b=e.payload;const D={payload:b};return e.protected!==void 0&&(D.protectedHeader=r),e.header!==void 0&&(D.unprotectedHeader=e.header),h?{...D,key:t}:D}async function yte(e,t,n){if(e instanceof Uint8Array&&(e=mS.decode(e)),typeof e!="string")throw new To("Compact JWS must be a string or Uint8Array");const{0:r,1:o,2:i,length:s}=e.split(".");if(s!==3)throw new To("Invalid Compact JWS");const c=await gte({payload:o,protected:r,signature:i},t,n),d={payload:c.payload,protectedHeader:c.protectedHeader};return typeof t=="function"?{...d,key:c.key}:d}const vte={webId:"globe-2",pinned:"pin",archived:"archive",visibility:"eye",deleted:"trash"};class wte extends al.WidgetType{constructor(n,r,o,i,s){super();De(this,"error",!1);this.view=n,this.plugin=r,this.target=o,this.type=i,this.to=s}eq(n){return this.target===n.target}toDOM(){const n=createSpan();return n.toggleClass("thino-inline-widget",!0),C.setIcon(n,vte[this.type]||"help-circle"),C.setTooltip&&C.setTooltip(n,this.target),n}}function bte(e){class t{constructor(o){De(this,"view");De(this,"match",new al.MatchDecorator({regexp:/\[(webId|pinned|archived|visibility|deleted)::([^\]]+)\]/g,decorate:(o,i,s,c,d)=>{this.shouldRender(d,i,s)&&o(i,s,al.Decoration.replace({widget:new wte(d,e,c[0],c[1],s)}))}}));De(this,"decorations",al.Decoration.none);this.view=o,this.updateDecorations(o)}update(o){this.updateDecorations(o.view,o)}destroy(){this.decorations=al.Decoration.none}updateDecorations(o,i){!i||this.decorations.size===0?this.decorations=this.match.createDeco(o):this.decorations=this.match.updateDeco(i,this.decorations)}isLivePreview(o){return o.field(C.editorLivePreviewField)}shouldRender(o,i,s){return!o.state.selection.ranges.some(d=>d.from<=i?d.to>=i:d.from<=s)&&this.isLivePreview(o.state)}}const n={decorations:r=>r.decorations.update({filter:(o,i,s)=>{const c=s.spec.widget;return c&&c.error?!1:o===i||!r.view.state.selection.ranges.filter(d=>{const h=d.from,m=d.to;return h<=o?m>=o:h<=i}).length}})};return al.ViewPlugin.fromClass(t,n)}const Ste=e=>e.ctrlKey!==void 0||e.metaKey!==void 0||e.shiftKey!==void 0||e.altKey!==void 0,_y=()=>{new C.Notice(x("Open Memos Successfully"))},By=[{id:"open-thino-in-left-sidebar",shortName:x("Left sidebar"),name:x("Open thino in left sidebar"),icon:"arrow-left",location:"left",cb:_y,modKeys:"shift"},{id:"open-thino-in-right-sidebar",shortName:x("Right sidebar"),name:x("Open thino in right sidebar"),icon:"arrow-right",location:"right",cb:_y,modKeys:["ctrl","meta"]},{id:"open-thino-in-float",shortName:x("Float window"),name:x("Open thino in float window"),icon:"layout",location:"float",cb:_y,modKeys:"alt"},{id:"open-thino-in-center",shortName:x("Center window"),name:x("Open thino in center window"),icon:"tv-2",location:"center",cb:_y,modKeys:void 0}];function W1(e,t,n){return new Promise((r,o)=>{let i="",s="";const c=d=>new Promise((h,m)=>{const g=t.ShareToThinoWithTextNewline===d||t.ShareToThinoWithTextNewline==="both"?`
`:" ";switch(t[d==="prepend"?"SharePrependType":"ShareAppendType"]){case"none":h();break;case"preset":t.ShareToThinoWithText&&(d==="prepend"?i=t.ShareToThinoWithTextPrepend+g:s=g+t.ShareToThinoWithTextAppend),h();break;case"input":{const v="Thino "+x(d==="prepend"?"Prepend text":"Append text");new l3(e,v,b=>{d==="prepend"?i=b.trim()+(b.trim()?g:""):s=(b.trim()?g:"")+b,h()}).open();break}case"selectTags":new eO(e,v=>{const b=v.length>0?v.map(D=>"#"+D).join(" "):"";d==="prepend"?i=b.trim()+(b.trim()?g:""):s=(b.trim()?g:"")+b.trim(),h()}).open();break;default:m(new Error("Invalid configuration type."))}});Promise.all([c("append"),c("prepend")]).then(()=>n(i,s)).then(()=>r()).catch(o)})}const Dte=async(e="test",t,n)=>{let r=e;try{await W1(t,n,async(o,i)=>{r=o+r+i;const s=await _e.createThino({content:r,type:n.MemoSaveLocation||"DAILY",isList:!0});_e.pushMemo(s)})}catch(o){console.error("Configuration failed:",o);return}};class Tte extends C.Plugin{constructor(){super(...arguments);De(this,"settings");De(this,"settingTab");De(this,"triggerBySelf",!1);De(this,"updatedID","");De(this,"debounceTimer",0);De(this,"apiHttpServer",null);De(this,"captureService",null);De(this,"loaded",!1)}async onload(){await this.loadSettings(),CX(),this.registerRibbon(),await this.verify();try{await this.checkVersionAndShowChangeLog()}catch(n){console.error(n)}this.settingTab=new BX(this.app,this),this.addSettingTab(this.settingTab),this.initEditor(),this.initURIHandler(),this.registerMobileEvent(),this.registerCommands(),this.registerCanvasNodeMemos(),this.registerHoverEvent(),this.registerLinkOpen(),this.registerCodeBlocks(),this.registerEditorSuggest(new IX(this.app,this)),this.registerEditorExtension([jee]),this.app.workspace.onLayoutReady(this.onLayoutReady.bind(this)),this.registerView(Bo,n=>new nc(n,this))}async loadSettings(){this.settings=Object.assign({},el,await this.loadData()),yt.setSettings(this.settings)}async saveSettings(){await this.saveData(this.settings),yt.setSettings(this.settings)}onunload(){var r;this.app.workspace.detachLeavesOfType(Bo),_e.clearMemos(),Le.dispatch({type:"CLEAR_MEMOS",payload:null}),Le.dispatch({type:"CLEAR_FILES",payload:null}),Le.dispatch({type:"CLEAR_VIEW",payload:null});const n=document.body.find(".dialog-wrapper");n&&((r=n.parentElement)==null||r.detach()),this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null),this.captureService&&this.captureService.onunload(),new C.Notice(x("Close Memos Successfully"))}initEditor(){const n=()=>{const r=this.app.embedRegistry;if(!r)return!1;const o=r.embedByExtension.md,i=createEl("div"),s=o({app:this.app,containerEl:i},null,null);if(s.editable=!0,s.set(""),s.showEditor(),!s.editMode)return!1;const c=Object.getPrototypeOf(Object.getPrototypeOf(s.editMode));return yt.setEditor(c),i.detach(),!0};this.app.workspace.onLayoutReady(()=>{n()||this.app.workspace.onLayoutReady(()=>{setTimeout(()=>{n()},100)})}),this.register(lm(C.MetadataCache.prototype,{getFileCache:r=>function(o){return!(o!=null&&o.path)&&!o?null:r.call(this,o)}}))}initApp(){yt.setApp(this.app)}initURIHandler(){this.registerObsidianProtocolHandler("thino",async n=>{var s,c,d;if(!n)return;if(n.userid)try{const h=n.userid;_ee(h,this.app),Bee(C.moment().add(30,"days").valueOf(),this.app),ft.setRefresh(!0)}catch(h){console.error(h),new C.Notice(x("Failed to verify"))}if(n.token)try{const h=n.token;(s=this.app)==null||s.saveLocalStorage("tokenForSync",h),setTimeout(()=>{this.app.setting.open(),this.app.setting.openTabById(this.manifest.id||"obsidian-memos"),this.settingTab.display()},200),new C.Notice(x("Saved sync token successfully"))}catch(h){console.error(h),new C.Notice(x("Failed to save"))}if(n.copyToken){this.app.setting.open(),this.app.setting.openTabById(this.manifest.id??"obsidian-memos");const h=await $M();await navigator.clipboard.writeText(h),new C.Notice(x("Copied app id successfully"))}const r=(c=yt.getState())==null?void 0:c.verifyState,o=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),i=C.Platform.isDesktop?await er():o.identifier||o.uuid;if(!(!r||(r==null?void 0:r.appId)!==i)){if(n.content){const h=n.type,m=decodeURI(n.content)!==n.content?decodeURI(n.content):n.content,g=n.task,v=await _e.createThino({content:m,type:h,isList:!!g});if(!v)return;_e.pushMemo(v),ot.clearQuery()}n.openId&&await _e.openThinoByID(n.openId)}})}initGlobalManifest(){ft.setPluginManifest(this.manifest)}stopServer(){this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null)}async initServer(){var i,s;if(C.Platform.isMobile||!this.settings.EnabledHttpApi)return;const n=(i=yt.getState())==null?void 0:i.verifyState,r=!C.Platform.isDesktop&&await((s=window.Capacitor)==null?void 0:s.Plugins.Device.getId()),o=C.Platform.isDesktop?await er():r.identifier||r.uuid;!n||(n==null?void 0:n.appId)!==o||(this.apiHttpServer=Vee(this.settings),this.initServerPort())}initServerPort(){this.apiHttpServer&&this.settings.EnabledHttpApi&&this.apiHttpServer.listen(this.settings.HttpApiIpType,this.settings.HttpApiPort)}async initCaptureService(){var i,s;if(C.Platform.isMobile||!this.settings.CaptureKey.EnableCaptureKey)return;const n=(i=yt.getState())==null?void 0:i.verifyState,r=!C.Platform.isDesktop&&await((s=window.Capacitor)==null?void 0:s.Plugins.Device.getId()),o=C.Platform.isDesktop?await er():r.identifier||r.uuid;!n||(n==null?void 0:n.appId)!==o||(this.captureService=new qee(this.app,this),await this.captureService.onload())}registerMobileEvent(){C.Platform.isMobile&&(this.registerEvent(this.app.workspace.on("receive-text-menu",(n,r)=>{n.addItem(o=>{o.setSection("options").setIcon("popup-open").setTitle(x("Insert as Memo")).onClick(async()=>{let i=r;try{await W1(this.app,this.settings,async(s,c)=>{i=s+i+c;const d=await _e.createThino({content:i,type:this.settings.MemoSaveLocation||"DAILY",isList:!0});_e.pushMemo(d)})}catch(s){console.error("Configuration failed:",s);return}})})})),this.registerEvent(this.app.workspace.on("receive-files-menu",(n,r)=>{n.addItem(o=>{o.setIcon("popup-open").setTitle(x("Insert file as memo content")).onClick(async()=>{let s=r.map(c=>this.app.fileManager.generateMarkdownLink(c,c.path)).join(`
`);try{await W1(this.app,this.settings,async(c,d)=>{s=c+s+d;const h=await _e.createThino({content:s,type:this.settings.MemoSaveLocation||"DAILY",isList:!0});_e.pushMemo(h)})}catch(c){console.error("Configuration failed:",c);return}})})})))}registerCommands(){By.forEach(n=>{this.addCommand({id:n.id,name:n.name,callback:()=>this.openMemos(n.location,n.cb),hotkeys:[]})}),this.addCommand({id:"show-thino-editor",name:x("Show thino editor"),checkCallback:n=>{if(_e.initialized&&yt.initialized){if(!n){if(!yt.getState().view){new C.Notice(x("Please open thino first"));return}new Nx(this.app).open()}return!0}}}),this.addCommand({id:"lock-thino",name:x("Lock thino"),checkCallback:n=>{if(this.app.workspace.getActiveViewOfType(nc)&&this.settings.needVerify)return n||ft.setLocked(!0),!0}}),this.addCommand({id:"copy-debug-info",name:x("Copy debug info"),callback:()=>{try{const n=this.app.internalPlugins.plugins["daily-notes"];let r;r={settings:{...this.settings,tokenForVerify:"***"},manifest:this.manifest,platform:C.Platform.resourcePathPrefix},n&&(r={...r,dailyNotePluginInfo:{options:n.instance.options}}),navigator.clipboard.writeText(`\`\`\`json
${JSON.stringify(r,null,2)}
\`\`\``),new C.Notice(x("Debug info copied to clipboard"))}catch(n){console.error(n)}}}),this.addCommand({id:"insert-editor",name:x("Insert editor"),checkCallback:n=>{const r=this.app.workspace.getActiveViewOfType(C.MarkdownView);if(r&&r.getViewType()==="markdown")return n||r.editor.replaceSelection("\n```thino\n{\n  editor: false\n}\n```\n"),!0}}),this.addCommand({id:"test-command",name:"Test command",callback:async()=>{await Dte("test",this.app,this.settings)}}),this.addCommand({id:"toggle-minimal-thino",name:x("Toggle minimal mode"),callback:()=>{const n=document.body.hasClass("minimal-thino");document.body.toggleClass("minimal-thino",!n)}}),this.addCommand({id:"focus-on-thino-editor",name:x("Focus on thino editor"),callback:()=>this.focusOnEditor(),hotkeys:[]}),this.addCommand({id:"reinit-thino-sync",name:x("ReSync web thinos to local"),callback:()=>{FQ(this.app)}}),this.addCommand({id:"init-thino-sync",name:x("Sync local thinos to web"),callback:async()=>{var r;if(!((r=this.app)==null?void 0:r.loadLocalStorage("tokenForSync"))){new C.Notice(x("Please input token first"));return}if(!this.settings.startSync){new C.Notice(x("Please enable sync first"));return}try{await _e.initSync()}catch(o){console.error(o),new C.Notice(x("Init Failed"))}}}),this.addCommand({id:"show-daily-thino",name:x("Show daily thino"),callback:()=>this.openDailyMemo(),hotkeys:[]}),this.addCommand({id:"focus-on-search-bar",name:x("Focus on search bar"),callback:()=>this.searchIt(),hotkeys:[]}),this.addCommand({id:"show-thino-in-popover",name:x("Show-thino in popover(Hover editor)"),callback:()=>this.showInPopover(),hotkeys:[]})}async onLayoutReady(){this.initApp(),await this.initServer(),this.initGlobalManifest(),await this.initMemos(),this.autoOpenMemos(),this.registerThinoWidget(),await this.registerToolbarCheck(),await this.initCaptureService(),yt.setPlugin(this);const n=this.app.workspace.editorSuggest.suggests.findIndex(r=>r.type==="customTag");n!==-1?(this.app.workspace.editorSuggest.suggests.splice(n,1),this.app.workspace.editorSuggest.suggests.unshift(new aI(this.app,this))):this.app.workspace.editorSuggest.suggests.unshift(new aI(this.app,this))}async initMemos(){try{await this.initDailyNotes()}catch(n){console.error(n)}yt.getState(),_e.getState(),await _e.fetchAllMemos()}async initDailyNotes(){this.settings.EnabledLocationList.find(n=>n.value==="DAILY")&&await yt.fechLocalDailyNotes()}registerCanvasNodeMemos(){if(!C.requireApiVersion("1.2.0")||!this.settings.EnabledLocationList.find(i=>i.value==="CANVAS"))return;const n=i=>{clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>{setTimeout(async()=>{const s=i.canvas.getData(),c=s.nodes.find(d=>d.id===i.id);if(c&&(r(c),i.canvas.setData(s),_e.getMemoById(i.id))){const h=await _e.updateMemo(i.id,c.text,c.thinoType);_e.editMemo(h)}i.canvas.requestSave(!0)},0)},800)},r=i=>{i.createdAt||(i.createdAt=C.moment().format("YYYY-MM-DD HH:mm:ss")),i.updatedAt=C.moment().format("YYYY-MM-DD HH:mm:ss"),i.deletedAt=i.deletedAt?i.deletedAt:"",i.pinned=i.pinned?i.pinned:!1,i.visibility=i.visibility?i.visibility:"PUBLIC",i.rowStatus=i.rowStatus?i.rowStatus:"NORMAL",i.thinoType=i.thinoType?i.thinoType:"JOURNAL",i.hasId=i.hasId?i.hasId:"",i.linkId=i.linkId?i.linkId:"",i.resourceList=[]},o=()=>{var v,b;const i=(v=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:v.view;if(!i||!(i==null?void 0:i.canvas))return!1;const c=((b=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:b.view).canvas.nodes.values(),h=Array.from(c).filter(D=>D.text!==void 0);if(!h||h.length===0)return!1;const m=h[0].child;if(!m)return!1;const g=lm(m.constructor.prototype,{save:D=>function(...T){D.call(this,...T),this.node.isEditing&&n(this.node)}});return this.register(g),!0};this.app.workspace.onLayoutReady(()=>{if(!o()){const i=this.app.workspace.on("layout-change",()=>{o()&&this.app.workspace.offref(i)});this.registerEvent(i)}})}registerLinkOpen(){lm(C.Workspace.prototype,{openLinkText:n=>async function(...r){const o=_e.getState().memos;if(o.find(i=>i.id===r[0]||i.id===r[1])){const i=o.find(s=>s.id===r[0]||s.id===r[1]);if(i){Th(i);return}}await n.call(this,...r)}})}registerHoverEvent(){this.registerHoverLinkSource("thino",{defaultMod:!0,display:"Thino"})}registerCodeBlocks(){this.registerMarkdownCodeBlockProcessor("thino",async(n,r)=>{var o;if(n){if(!((o=this.app.workspace.getLeavesOfType("thino_view"))!=null&&o.length)){r.toggleClass(["thino-editor-codeblock","view-error"],!0),zO(r,this);return}if(n){const i=C.parseYaml(n);ZO(r,i)}}})}registerRibbon(){this.addRibbonIcon("Memos",x("ribbonIconTitle"),async n=>{if(n.button===2){n.preventDefault();const r=new C.Menu;By.forEach(o=>{r.addItem(i=>{i.setTitle(o.shortName).setIcon(o.icon).onClick(async()=>{await this.openMemos(o.location,o.cb)})})}),r.showAtMouseEvent(n);return}for(let r=0;r<By.length;r++){const o=By[r];if(!o.modKeys){await this.openMemos(o.location,o.cb);break}if(!Ste(n))continue;const i=s=>n[`${s}Key`];if(typeof o.modKeys=="string"&&i(o.modKeys)||Array.isArray(o.modKeys)&&o.modKeys.some(i)){await this.openMemos(o.location,o.cb);break}}})}registerThinoWidget(){this.registerEditorExtension([bte(this)])}async registerToolbarCheck(){var i,s;if(this.loaded)return;const n=(i=yt.getState())==null?void 0:i.verifyState,r=!C.Platform.isDesktop&&await((s=window.Capacitor)==null?void 0:s.Plugins.Device.getId()),o=C.Platform.isDesktop?await er():r.identifier||r.uuid;!n||(n==null?void 0:n.appId)!==o||(this.registerEditorExtension([Aee(this.app)]),this.registerEditorSuggest(new EX(this.app,this)),this.loaded=!0)}async verify(){var o;let n="";if(C.Platform.isDesktop)n=await er();else{const i=await((o=window.Capacitor.Plugins.Device)==null?void 0:o.getId());if(!i)return;n=i.identifier||i.uuid}async function r(i){if(!i)return yt.setVerifyState(null),!1;const d=await ste(`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAr+i4MLzI40gGFHl7gdRH
UL1mH0NcWEs1/IBYDDbc9ALbvUGwDaUcVIKke+b+F4T7qISexyGd5qV0s1vNYeCk
iCTq4w3+CFDurIFYAgQYTcV6K5pL8Bpb79FEclsTnAcKgiuzKBxPZ1djKxbgnmFj
+PE+EcmX+JJK9hG1O8X+YFJoPJWl225eCoysONickiI7Ndwu9YLR8pIUb1VMyJSy
cMR87z466Nc5Hx2QhwyuiiQYL3Ru4WkNF3AVWgqeOlhBDybFFwDaV7OOMTiYtH46
3iKx6azEVS8W/gYfrW+hKp2VziPPw3oxouP/wCes/4qRlXkwyjSwtfLtpE4Rsa4+
swIDAQAB
-----END PUBLIC KEY-----`,"RS256");try{const{payload:h}=await yte(i,d),m=JSON.parse(new TextDecoder().decode(h));return!m||m.iss!=="pkmer"||m.type!=="thino"||m.appId!==n?!1:(yt.setVerifyState(m),!0)}catch(h){console.error(h)}}return await r(this.settings.tokenForVerify[n])}async checkVersionAndShowChangeLog(){const n=this.manifest.version,r=this.settings.LastUpdatedVersion;n!==r&&(this.settings.LastUpdatedVersion=n,await this.saveSettings(),this.showChangeLog())}showChangeLog(){new gS(this.app,this.manifest.version).open()}autoOpenMemos(){this.app.workspace.getLeavesOfType(Bo).length>0||this.settings.MobileAndDesktop==="Mobile"&&C.Platform.isDesktop||this.settings.MobileAndDesktop==="Desktop"&&C.Platform.isMobile||this.settings.OpenMemosAutomatically&&this.openMemos()}async openDailyMemo(){if(this.app.workspace.getLeavesOfType(Bo).length>0){ot.setPathname("/daily");return}await this.openMemos(),ot.setPathname("/daily")}async openMemos(n="center",r){const o=this.app.workspace;if(o.getLeavesOfType(Bo).length>0){const c=o.getLeavesOfType(Bo)[0];o.setActiveLeaf(c),o.revealLeaf(c);return}o.detachLeavesOfType(Bo);let i;switch(n){case"left":i=o.getLeftLeaf(!1);break;case"right":i=o.getRightLeaf(!1);break;case"float":i=o.getLeaf("window");break;default:i=o.getLeaf(!0);break}i&&(await i.setViewState({type:Bo}),o.revealLeaf(i));const s=i.view.containerEl.querySelector("textarea");s&&s.focus(),r==null||r()}async searchIt(){const n=this.app.workspace,r=n.getLeavesOfType(Bo);if(!(r.length>0)){await this.openMemos(),this.app.workspace.trigger("focus-on-searchbar");return}const o=r[0];n.revealLeaf(o),this.app.workspace.trigger("focus-on-searchbar")}async focusOnEditor(){if(!(this.app.workspace.getLeavesOfType(Bo).length>0)){await this.openMemos();return}this.app.workspace.trigger("focus-on-textarea")}changeStatus(){const n=this.app.workspace,r=n.getLeavesOfType(Bo);if(!(r.length>0)){new C.Notice(x("Please Open Memos First"));return}const o=r[0];n.setActiveLeaf(o),o.view.containerEl.querySelector(".list-or-task").click()}async showInPopover(){var i,s,c;const n=this.app.workspace;if(n.detachLeavesOfType(Bo),!this.app.plugins.getPlugin("obsidian-hover-editor")){new C.Notice(x("Please install obsidian-hover-editor plugin first"));return}const o=await((i=this.app.plugins.getPlugin("obsidian-hover-editor"))==null?void 0:i.spawnPopover());o&&(await o.setViewState({type:Bo}),n.revealLeaf(o),o.view.containerEl.classList.add("mobile-view"),(s=this.settings)!=null&&s.FocusOnEditor&&o.view.containerEl.querySelector("textarea")!==void 0&&((c=o.view.containerEl.querySelector("textarea"))==null||c.focus()))}}class gS extends C.Modal{constructor(n,r){super(n);De(this,"component");this.version=r}async onOpen(){const{contentEl:n}=this;this.containerEl.toggleClass("thino-changelog-modal",!0),n.createEl("h2",{text:x("Thino update info"),cls:"thino-changelog-title"}).createDiv({cls:"thino-changelog-version",text:`${this.version}`});try{n.createEl("h3",{text:x("Latest version")});const o=n.createDiv("current-change-log");n.createEl("hr"),n.createEl("h3",{text:x("Previous version")});const i=n.createDiv("prev-change-log"),c=await C.requestUrl("https://raw.githubusercontent.com/Quorafind/Obsidian-Thino/main/CHANGELOG.md");this.component=new C.Component;const[d,h]=this.getLatestVersionContent(c.text);let m=d,g=h;try{const v=localStorage.getItem("language"),b=v&&(v==="zh"||v==="zh-TW");m=b?d.replaceAll("> [!tips]+","> [!tips]-").replaceAll("> [!note]-","> [!note]+"):d,g=b?h.replaceAll("> [!tips]+","> [!tips]-").replaceAll("> [!note]-","> [!note]+"):h}catch(v){console.error(v)}await C.MarkdownRenderer.render(this.app,m,o,"",this.component),await C.MarkdownRenderer.render(this.app,g,i,"",this.component)}catch(o){console.error(o),n.createEl("p",{text:x("Failed to load changelog")}),n.createEl("a",{text:x("View online"),attr:{href:"https://raw.githubusercontent.com/Quorafind/Obsidian-Thino/main/CHANGELOG.md",target:"_blank"}})}}getLatestVersionContent(n){const r=/^# .+/gm,o=[...n.matchAll(r)];if(o.length===0)return[n,""];const i=o[0].index||0;let s=n.length;o.length>1&&(s=o[1].index||n.length);const c=n.substring(i,s).trim(),d=n.substring(s).trim();return[c,d]}onClose(){var r;const{contentEl:n}=this;n.empty(),(r=this.component)==null||r.unload()}}class l3 extends C.Modal{constructor(n,r,o){super(n);De(this,"inputEl");De(this,"callback");this.title=r,this.callback=o}onOpen(){const{contentEl:n}=this;this.setTitle(this.title),this.containerEl.toggleClass(["thino-input-dialog","thino-bulk-action-dialog","tag-actions"],!0),this.inputEl=n.createEl("input",{attr:{type:"text"}}),this.inputEl.focus(),new C.Setting(n).addButton(r=>{r.setButtonText(x("OK")).onClick(()=>{this.close()})})}onClose(){this.contentEl.empty(),this.callback(this.inputEl.value)}}exports.ChangeLogModal=gS;exports.InputModal=l3;exports.default=Tte;
