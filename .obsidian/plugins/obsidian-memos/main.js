"use strict";var ZN=Object.defineProperty;var $N=(e,t,n)=>t in e?ZN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var De=(e,t,n)=>($N(e,typeof t!="symbol"?t+"":t,n),n);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const C=require("obsidian"),_w=require("@codemirror/language"),Cm=require("@codemirror/state"),fl=require("@codemirror/view");function qN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mE={exports:{}},rm={},gE={exports:{}},ln={},TD;function GN(){if(TD)return ln;TD=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function I(K,oe,pe){this.props=K,this.context=oe,this.refs=S,this.updater=pe||w}I.prototype.isReactComponent={},I.prototype.setState=function(K,oe){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,oe,"setState")},I.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function k(){}k.prototype=I.prototype;function P(K,oe,pe){this.props=K,this.context=oe,this.refs=S,this.updater=pe||w}var R=P.prototype=new k;R.constructor=P,T(R,I.prototype),R.isPureReactComponent=!0;var M=Array.isArray,_=Object.prototype.hasOwnProperty,L={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function Y(K,oe,pe){var Ee,je={},Ae=null,Be=null;if(oe!=null)for(Ee in oe.ref!==void 0&&(Be=oe.ref),oe.key!==void 0&&(Ae=""+oe.key),oe)_.call(oe,Ee)&&!z.hasOwnProperty(Ee)&&(je[Ee]=oe[Ee]);var Je=arguments.length-2;if(Je===1)je.children=pe;else if(1<Je){for(var ze=Array(Je),Qe=0;Qe<Je;Qe++)ze[Qe]=arguments[Qe+2];je.children=ze}if(K&&K.defaultProps)for(Ee in Je=K.defaultProps,Je)je[Ee]===void 0&&(je[Ee]=Je[Ee]);return{$$typeof:e,type:K,key:Ae,ref:Be,props:je,_owner:L.current}}function V(K,oe){return{$$typeof:e,type:K.type,key:oe,ref:K.ref,props:K.props,_owner:K._owner}}function $(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function re(K){var oe={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(pe){return oe[pe]})}var Q=/\/+/g;function ae(K,oe){return typeof K=="object"&&K!==null&&K.key!=null?re(""+K.key):oe.toString(36)}function X(K,oe,pe,Ee,je){var Ae=typeof K;(Ae==="undefined"||Ae==="boolean")&&(K=null);var Be=!1;if(K===null)Be=!0;else switch(Ae){case"string":case"number":Be=!0;break;case"object":switch(K.$$typeof){case e:case t:Be=!0}}if(Be)return Be=K,je=je(Be),K=Ee===""?"."+ae(Be,0):Ee,M(je)?(pe="",K!=null&&(pe=K.replace(Q,"$&/")+"/"),X(je,oe,pe,"",function(Qe){return Qe})):je!=null&&($(je)&&(je=V(je,pe+(!je.key||Be&&Be.key===je.key?"":(""+je.key).replace(Q,"$&/")+"/")+K)),oe.push(je)),1;if(Be=0,Ee=Ee===""?".":Ee+":",M(K))for(var Je=0;Je<K.length;Je++){Ae=K[Je];var ze=Ee+ae(Ae,Je);Be+=X(Ae,oe,pe,ze,je)}else if(ze=v(K),typeof ze=="function")for(K=ze.call(K),Je=0;!(Ae=K.next()).done;)Ae=Ae.value,ze=Ee+ae(Ae,Je++),Be+=X(Ae,oe,pe,ze,je);else if(Ae==="object")throw oe=String(K),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return Be}function ie(K,oe,pe){if(K==null)return K;var Ee=[],je=0;return X(K,Ee,"","",function(Ae){return oe.call(pe,Ae,je++)}),Ee}function Z(K){if(K._status===-1){var oe=K._result;oe=oe(),oe.then(function(pe){(K._status===0||K._status===-1)&&(K._status=1,K._result=pe)},function(pe){(K._status===0||K._status===-1)&&(K._status=2,K._result=pe)}),K._status===-1&&(K._status=0,K._result=oe)}if(K._status===1)return K._result.default;throw K._result}var ue={current:null},ne={transition:null},he={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:ne,ReactCurrentOwner:L};return ln.Children={map:ie,forEach:function(K,oe,pe){ie(K,function(){oe.apply(this,arguments)},pe)},count:function(K){var oe=0;return ie(K,function(){oe++}),oe},toArray:function(K){return ie(K,function(oe){return oe})||[]},only:function(K){if(!$(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},ln.Component=I,ln.Fragment=n,ln.Profiler=o,ln.PureComponent=P,ln.StrictMode=r,ln.Suspense=d,ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,ln.cloneElement=function(K,oe,pe){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var Ee=T({},K.props),je=K.key,Ae=K.ref,Be=K._owner;if(oe!=null){if(oe.ref!==void 0&&(Ae=oe.ref,Be=L.current),oe.key!==void 0&&(je=""+oe.key),K.type&&K.type.defaultProps)var Je=K.type.defaultProps;for(ze in oe)_.call(oe,ze)&&!z.hasOwnProperty(ze)&&(Ee[ze]=oe[ze]===void 0&&Je!==void 0?Je[ze]:oe[ze])}var ze=arguments.length-2;if(ze===1)Ee.children=pe;else if(1<ze){Je=Array(ze);for(var Qe=0;Qe<ze;Qe++)Je[Qe]=arguments[Qe+2];Ee.children=Je}return{$$typeof:e,type:K.type,key:je,ref:Ae,props:Ee,_owner:Be}},ln.createContext=function(K){return K={$$typeof:a,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:i,_context:K},K.Consumer=K},ln.createElement=Y,ln.createFactory=function(K){var oe=Y.bind(null,K);return oe.type=K,oe},ln.createRef=function(){return{current:null}},ln.forwardRef=function(K){return{$$typeof:c,render:K}},ln.isValidElement=$,ln.lazy=function(K){return{$$typeof:m,_payload:{_status:-1,_result:K},_init:Z}},ln.memo=function(K,oe){return{$$typeof:f,type:K,compare:oe===void 0?null:oe}},ln.startTransition=function(K){var oe=ne.transition;ne.transition={};try{K()}finally{ne.transition=oe}},ln.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ln.useCallback=function(K,oe){return ue.current.useCallback(K,oe)},ln.useContext=function(K){return ue.current.useContext(K)},ln.useDebugValue=function(){},ln.useDeferredValue=function(K){return ue.current.useDeferredValue(K)},ln.useEffect=function(K,oe){return ue.current.useEffect(K,oe)},ln.useId=function(){return ue.current.useId()},ln.useImperativeHandle=function(K,oe,pe){return ue.current.useImperativeHandle(K,oe,pe)},ln.useInsertionEffect=function(K,oe){return ue.current.useInsertionEffect(K,oe)},ln.useLayoutEffect=function(K,oe){return ue.current.useLayoutEffect(K,oe)},ln.useMemo=function(K,oe){return ue.current.useMemo(K,oe)},ln.useReducer=function(K,oe,pe){return ue.current.useReducer(K,oe,pe)},ln.useRef=function(K){return ue.current.useRef(K)},ln.useState=function(K){return ue.current.useState(K)},ln.useSyncExternalStore=function(K,oe,pe){return ue.current.useSyncExternalStore(K,oe,pe)},ln.useTransition=function(){return ue.current.useTransition()},ln.version="18.2.0",ln}gE.exports=GN();var F=gE.exports;const le=$r(F),JN=qN({__proto__:null,default:le},[F]);var ID;function KN(){if(ID)return rm;ID=1;var e=F,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,f){var m,g={},v=null,w=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(w=d.ref);for(m in d)r.call(d,m)&&!i.hasOwnProperty(m)&&(g[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:t,type:c,key:v,ref:w,props:g,_owner:o.current}}return rm.Fragment=n,rm.jsx=a,rm.jsxs=a,rm}mE.exports=KN();var y=mE.exports;const _a=e=>{const{children:t,store:n,context:r}=e,[o,i]=F.useState(n.getState());return F.useEffect(()=>{const a=n.subscribe(c=>{i(c)});return()=>{a()}},[]),y.jsx(r.Provider,{value:o,children:t})};function QN(e){const t=Object.keys(e),n={};for(const r of t)typeof e[r]=="function"&&(n[r]=e[r]);return(r={},o)=>{let i=!1;const a={};for(const c of t){const d=r[c],f=n[c](d,o);a[c]=f,i=i||f!==d}return i?a:r}}function XN(e,t){const n=[];let r=e;return{dispatch:c=>{const d=t(r,c),f=r;r=d;for(const m of n)m(r,f)},getState:()=>r,subscribe:c=>{let d=!0;return n.push(c),()=>{if(!d)return;const f=n.indexOf(c);n.splice(f,1),d=!1}}}}function eA(e,t){switch(t.type){case"SET_MARK_MEMO_ID":return t.payload.markMemoId===e.markMemoId?e:{...e,markMemoId:t.payload.markMemoId};case"SET_EDIT_MEMO_ID":return t.payload.editMemoId===e.editMemoId?e:{...e,editMemoId:t.payload.editMemoId};case"SET_GLOBAL_EDITOR_SHOWN":return t.payload.globalEditorShown===e.globalEditorShown?e:{...e,globalEditorShown:t.payload.globalEditorShown};case"SET_COMMENT_MEMO_ID":return t.payload.commentMemoId===e.commentMemoId?e:{...e,commentMemoId:t.payload.commentMemoId};case"SET_MOBILE_VIEW":return t.payload.isMobileView===e.isMobileView?e:{...e,isMobileView:t.payload.isMobileView};case"SET_CHANGED_BY_MEMOS":return t.payload.changedByMemos===e.changedByMemos?e:{...e,changedByMemos:t.payload.changedByMemos};case"SET_REFRESH":return t.payload.refresh===e.refresh?e:{...e,refresh:t.payload.refresh};case"SET_INSTANCE":return{...e,instanceList:e.instanceList.set(t.payload.id,t.payload.instance)};case"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW":return t.payload.showSiderbarInMobileView===e.showSiderbarInMobileView?e:{...e,showSiderbarInMobileView:t.payload.showSiderbarInMobileView};case"SET_MEMO_LIST_VIEW":return t.payload.memoListView===e.memoListView?e:{...e,memoListView:t.payload.memoListView};case"SET_MEMO_PLUGIN_MANIFEST":return{...e,manifest:t.payload.manifest};case"SET_LOADED":return{...e,loaded:t.payload.loaded};case"SET_EXIT_STEPS":return{...e,exited:t.payload.exited};case"SET_LOCKED":return{...e,locked:t.payload.locked};case"SET_APP_SETTING":return{...e,...t.payload};default:return e}}const tA={markMemoId:"",editMemoId:"",commentMemoId:"",shouldSplitMemoWord:!0,shouldHideImageUrl:!0,shouldUseMarkdownParser:!0,useTinyUndoHistoryCache:!1,isMobileView:!1,showSiderbarInMobileView:!1,changedByMemos:!1,memoListView:null,manifest:null,refresh:!1,loaded:!1,globalEditorShown:!1,instanceList:new Map,locked:!1,exited:!1};function nA(e,t){switch(t.type){case"RELOAD":return yE;case"SET_LOCATION":return t.payload;case"SET_PATHNAME":return t.payload.pathname===e.pathname?e:{...e,pathname:t.payload.pathname};case"SET_HASH":return t.payload.hash===e.hash?e:{...e,hash:t.payload.hash};case"SET_QUERY":return{...e,query:{...t.payload}};case"SET_TAG_QUERY":return t.payload.tag===e.query.tag?e:{...e,query:{...e.query,tag:t.payload.tag}};case"SET_DURATION_QUERY":return t.payload.duration===e.query.duration?e:{...e,query:{...e.query,duration:{...e.query.duration,...t.payload.duration}}};case"SET_TYPE":return t.payload.type===e.query.type?e:{...e,query:{...e.query,type:t.payload.type}};case"SET_TEXT":return t.payload.text===e.query.text?e:{...e,query:{...e.query,text:t.payload.text}};case"SET_QUERY_FILTER":return t.payload===e.query.filter?e:{...e,query:{...e.query,filter:t.payload}};default:return e}}const yE={pathname:"/",hash:"",query:{tag:"",duration:null,type:"",text:"",filter:""}};var cn={};Object.defineProperty(cn,"__esModule",{value:!0});var sr=C;const Ab="YYYY-MM-DD",Fb="gggg-[W]ww",vE="YYYY-MM",wE="YYYY-[Q]Q",bE="YYYY";function Gm(e){var n,r;const t=window.app.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n[e])==null?void 0:r.enabled)}function Jm(){var e,t,n,r;try{const{internalPlugins:o,plugins:i}=window.app;if(Gm("daily")){const{format:f,folder:m,template:g}=((t=(e=i.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:t.daily)||{};return{format:f||Ab,folder:(m==null?void 0:m.trim())||"",template:(g==null?void 0:g.trim())||""}}const{folder:a,format:c,template:d}=((r=(n=o.getPluginById("daily-notes"))==null?void 0:n.instance)==null?void 0:r.options)||{};return{format:c||Ab,folder:(a==null?void 0:a.trim())||"",template:(d==null?void 0:d.trim())||""}}catch{}}function Km(){var e,t,n,r,o,i,a;try{const c=window.app.plugins,d=(e=c.getPlugin("calendar"))==null?void 0:e.options,f=(n=(t=c.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.weekly;if(Gm("weekly"))return{format:f.format||Fb,folder:((r=f.folder)==null?void 0:r.trim())||"",template:((o=f.template)==null?void 0:o.trim())||""};const m=d||{};return{format:m.weeklyNoteFormat||Fb,folder:((i=m.weeklyNoteFolder)==null?void 0:i.trim())||"",template:((a=m.weeklyNoteTemplate)==null?void 0:a.trim())||""}}catch{}}function Qm(){var t,n,r,o;const e=window.app.plugins;try{const i=Gm("monthly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.monthly)||{};return{format:i.format||vE,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((o=i.template)==null?void 0:o.trim())||""}}catch{}}function Xm(){var t,n,r,o;const e=window.app.plugins;try{const i=Gm("quarterly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.quarterly)||{};return{format:i.format||wE,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((o=i.template)==null?void 0:o.trim())||""}}catch{}}function eg(){var t,n,r,o;const e=window.app.plugins;try{const i=Gm("yearly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.yearly)||{};return{format:i.format||bE,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((o=i.template)==null?void 0:o.trim())||""}}catch{}}function SE(...e){let t=[];for(let r=0,o=e.length;r<o;r++)t=t.concat(e[r].split("/"));const n=[];for(let r=0,o=t.length;r<o;r++){const i=t[r];!i||i==="."||n.push(i)}return t[0]===""&&n.unshift(""),n.join("/")}function rA(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function oA(e){const t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){const n=SE(...t);window.app.vault.getAbstractFileByPath(n)||await window.app.vault.createFolder(n)}}async function tg(e,t){t.endsWith(".md")||(t+=".md");const n=sr.normalizePath(SE(e,t));return await oA(n),n}async function Mh(e){const{metadataCache:t,vault:n}=window.app,r=sr.normalizePath(e);if(r==="/")return Promise.resolve(["",null]);try{const o=t.getFirstLinkpathDest(r,""),i=await n.cachedRead(o),a=window.app.foldManager.load(o);return[i,a]}catch(o){return console.error(`Failed to read the daily note template '${r}'`,o),new sr.Notice("Failed to read the daily note template"),["",null]}}function ws(e,t="day"){const n=e.clone().startOf(t).format();return`${t}-${n}`}function DE(e){return e.replace(/\[[^\]]*\]/g,"")}function iA(e,t){if(t==="week"){const n=DE(e);return/w{1,2}/i.test(n)&&(/M{1,4}/.test(n)||/D{1,4}/.test(n))}return!1}function kh(e,t){return TE(e.basename,t)}function aA(e,t){return TE(rA(e),t)}function TE(e,t){const r={day:Jm,week:Km,month:Qm,quarter:Xm,year:eg}[t]().format.split("/").pop(),o=window.moment(e,r,!0);if(!o.isValid())return null;if(iA(r,t)&&t==="week"){const i=DE(r);if(/w{1,2}/i.test(i))return window.moment(e,r.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return o}class sA extends Error{}async function IE(e){const t=window.app,{vault:n}=t,r=window.moment,{template:o,format:i,folder:a}=Jm(),[c,d]=await Mh(o),f=e.format(i),m=await tg(a,f);try{const g=await n.create(m,c.replace(/{{\s*date\s*}}/gi,f).replace(/{{\s*time\s*}}/gi,r().format("HH:mm")).replace(/{{\s*title\s*}}/gi,f).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(v,w,T,S,I,k)=>{const P=r(),R=e.clone().set({hour:P.get("hour"),minute:P.get("minute"),second:P.get("second")});return T&&R.add(parseInt(S,10),I),k?R.format(k.substring(1).trim()):R.format(i)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(i)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(i)));return t.foldManager.save(g,d),g}catch(g){console.error(`Failed to create file: '${m}'`,g),new sr.Notice("Unable to create new file.")}}function lA(e,t){return t[ws(e,"day")]??null}function cA(){const{vault:e}=window.app,{folder:t}=Jm(),n=e.getAbstractFileByPath(sr.normalizePath(t));if(!n)throw new sA("Failed to find daily notes folder");const r={};return sr.Vault.recurseChildren(n,o=>{if(o instanceof sr.TFile){const i=kh(o,"day");if(i){const a=ws(i,"day");r[a]=o}}}),r}class uA extends Error{}function dA(){const{moment:e}=window;let t=e.localeData()._week.dow;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)n.push(n.shift()),t--;return n}function fA(e){return dA().indexOf(e.toLowerCase())}async function EE(e){const{vault:t}=window.app,{template:n,format:r,folder:o}=Km(),[i,a]=await Mh(n),c=e.format(r),d=await tg(o,c);try{const f=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,v,w,T,S)=>{const I=window.moment(),k=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return v&&k.add(parseInt(w,10),T),S?k.format(S.substring(1).trim()):k.format(r)}).replace(/{{\s*title\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(m,g,v)=>{const w=fA(g);return e.weekday(w).format(v.trim())}));return window.app.foldManager.save(f,a),f}catch(f){console.error(`Failed to create file: '${d}'`,f),new sr.Notice("Unable to create new file.")}}function hA(e,t){return t[ws(e,"week")]??null}function pA(){const e={};if(!CE())return e;const{vault:t}=window.app,{folder:n}=Km(),r=t.getAbstractFileByPath(sr.normalizePath(n));if(!r)throw new uA("Failed to find weekly notes folder");return sr.Vault.recurseChildren(r,o=>{if(o instanceof sr.TFile){const i=kh(o,"week");if(i){const a=ws(i,"week");e[a]=o}}}),e}class mA extends Error{}async function xE(e){const{vault:t}=window.app,{template:n,format:r,folder:o}=Qm(),[i,a]=await Mh(n),c=e.format(r),d=await tg(o,c);try{const f=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,v,w,T,S)=>{const I=window.moment(),k=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return v&&k.add(parseInt(w,10),T),S?k.format(S.substring(1).trim()):k.format(r)}).replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c));return window.app.foldManager.save(f,a),f}catch(f){console.error(`Failed to create file: '${d}'`,f),new sr.Notice("Unable to create new file.")}}function gA(e,t){return t[ws(e,"month")]??null}function yA(){const e={};if(!ME())return e;const{vault:t}=window.app,{folder:n}=Qm(),r=t.getAbstractFileByPath(sr.normalizePath(n));if(!r)throw new mA("Failed to find monthly notes folder");return sr.Vault.recurseChildren(r,o=>{if(o instanceof sr.TFile){const i=kh(o,"month");if(i){const a=ws(i,"month");e[a]=o}}}),e}class vA extends Error{}async function wA(e){const{vault:t}=window.app,{template:n,format:r,folder:o}=Xm(),[i,a]=await Mh(n),c=e.format(r),d=await tg(o,c);try{const f=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,v,w,T,S)=>{const I=window.moment(),k=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return v&&k.add(parseInt(w,10),T),S?k.format(S.substring(1).trim()):k.format(r)}).replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c));return window.app.foldManager.save(f,a),f}catch(f){console.error(`Failed to create file: '${d}'`,f),new sr.Notice("Unable to create new file.")}}function bA(e,t){return t[ws(e,"quarter")]??null}function SA(){const e={};if(!kE())return e;const{vault:t}=window.app,{folder:n}=Xm(),r=t.getAbstractFileByPath(sr.normalizePath(n));if(!r)throw new vA("Failed to find quarterly notes folder");return sr.Vault.recurseChildren(r,o=>{if(o instanceof sr.TFile){const i=kh(o,"quarter");if(i){const a=ws(i,"quarter");e[a]=o}}}),e}class DA extends Error{}async function TA(e){const{vault:t}=window.app,{template:n,format:r,folder:o}=eg(),[i,a]=await Mh(n),c=e.format(r),d=await tg(o,c);try{const f=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,v,w,T,S)=>{const I=window.moment(),k=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return v&&k.add(parseInt(w,10),T),S?k.format(S.substring(1).trim()):k.format(r)}).replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c));return window.app.foldManager.save(f,a),f}catch(f){console.error(`Failed to create file: '${d}'`,f),new sr.Notice("Unable to create new file.")}}function IA(e,t){return t[ws(e,"year")]??null}function EA(){const e={};if(!NE())return e;const{vault:t}=window.app,{folder:n}=eg(),r=t.getAbstractFileByPath(sr.normalizePath(n));if(!r)throw new DA("Failed to find yearly notes folder");return sr.Vault.recurseChildren(r,o=>{if(o instanceof sr.TFile){const i=kh(o,"year");if(i){const a=ws(i,"year");e[a]=o}}}),e}function xA(){var r,o;const{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;const n=e.plugins.getPlugin("periodic-notes");return n&&((o=(r=n.settings)==null?void 0:r.daily)==null?void 0:o.enabled)}function CE(){var n,r;const{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;const t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.weekly)==null?void 0:r.enabled)}function ME(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.monthly)==null?void 0:r.enabled)}function kE(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.quarterly)==null?void 0:r.enabled)}function NE(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.yearly)==null?void 0:r.enabled)}function CA(e){const t={day:Jm,week:Km,month:Qm,quarter:Xm,year:eg}[e];return t()}function MA(e,t){return{day:IE,month:xE,week:EE}[e](t)}cn.DEFAULT_DAILY_NOTE_FORMAT=Ab;cn.DEFAULT_MONTHLY_NOTE_FORMAT=vE;cn.DEFAULT_QUARTERLY_NOTE_FORMAT=wE;cn.DEFAULT_WEEKLY_NOTE_FORMAT=Fb;cn.DEFAULT_YEARLY_NOTE_FORMAT=bE;var Mm=cn.appHasDailyNotesPluginLoaded=xA;cn.appHasMonthlyNotesPluginLoaded=ME;cn.appHasQuarterlyNotesPluginLoaded=kE;cn.appHasWeeklyNotesPluginLoaded=CE;cn.appHasYearlyNotesPluginLoaded=NE;var AE=cn.createDailyNote=IE;cn.createMonthlyNote=xE;cn.createPeriodicNote=MA;cn.createQuarterlyNote=wA;cn.createWeeklyNote=EE;cn.createYearlyNote=TA;var uc=cn.getAllDailyNotes=cA;cn.getAllMonthlyNotes=yA;cn.getAllQuarterlyNotes=SA;cn.getAllWeeklyNotes=pA;cn.getAllYearlyNotes=EA;var n0=cn.getDailyNote=lA,su=cn.getDailyNoteSettings=Jm,uh=cn.getDateFromFile=kh;cn.getDateFromPath=aA;cn.getDateUID=ws;cn.getMonthlyNote=gA;cn.getMonthlyNoteSettings=Qm;cn.getPeriodicNoteSettings=CA;cn.getQuarterlyNote=bA;cn.getQuarterlyNoteSettings=Xm;cn.getTemplateInfo=Mh;cn.getWeeklyNote=hA;cn.getWeeklyNoteSettings=Km;cn.getYearlyNote=IA;cn.getYearlyNoteSettings=eg;const kA={},NA={},AA={},FA={},FE={welcome:"Welcome to Thino",ribbonIconTitle:"Thino",to:"to",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekDaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],year:null,month:null,"Basic Options":"Basic options","User name":"User name","Set your user name here. 'Memos 😏' By default":"Set your user name here. 'Thino 😏' By default",'You can set target heading like "# Heading" to control data location':'You can set target heading like "# Heading" to control data location',"Insert after heading":"Insert after heading","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"You should set the same heading below if you want to insert and process thino below the same heading.","Allows admonitions to be created using ":"Allows admonitions to be created using ","Process Memos below":"Process thino below","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.","Save Memo button label":"Save thino button label","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"The text shown on the save Thino button in the UI. 'NOTEIT' by default.","Focus on editor when open memos":"Focus on editor when open thino","Focus on editor when open memos. Focus by default.":"Focus on editor when open thino. Focus by default.","Open daily memos with open memos":"Open daily thino with open thino","Open daily memos with open memos. Open by default.":"Open daily thino with open thino. Open by default.","Open Memos when obsidian opens":"Open Thino when obsidian opens","When enable this, Memos will open when Obsidian opens. False by default.":"When enable this, Thino will open when Obsidian opens. False by default.","Hide done tasks in Memo list":"Hide done tasks in Thino list","Hide all done tasks in Memo list. Show done tasks by default.":"Hide all done tasks in Thino list. Show done tasks by default.","Advanced Options":"Advanced Options","UI language for date":"UI language for date","Translates the date UI language. Only 'en' and 'zh' are available.":"Translates the date UI language. Only 'en' and 'zh' are available.","Default prefix when save thino":"Default prefix when save thino","Set the default prefix when create memo, 'List' by default.":"Set the default prefix when create thino, 'List' by default.","Default insert date format":"Default insert date format","Set the default date format when insert date by @, 'Tasks' by default.":"Set the default date format when insert date by @, 'Tasks' by default.","Default editor position on mobile":"Default editor position on mobile","Set the default editor position on Mobile, 'Top' by default.":"Set the default editor position on Mobile, 'Top' by default.","Use button to show editor on mobile":"Use button to show editor on mobile","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Set a float button to call editor on mobile. Only when editor located at the bottom works.","Show Time When Copy Results":"Show Time When Copy Results","Show time when you copy results, like 12:00. Copy time by default.":"Show time when you copy results, like 12:00. Copy time by default.","Show Date When Copy Results":"Show Date When Copy Results","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Show date when you copy results, like [[2022-01-01]]. Copy date by default.","Add Blank Line Between Different Date":"Add Blank Line Between Different Date","Add blank line when copy result with date. No blank line by default.":"Add blank line when copy result with date. No blank line by default.","Share Options":"Share Options","Share Memos Image Footer Start":"Share Thino Image Footer Start","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default","Share Memos Image Footer End":"Share Thino Image Footer End","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default","Save Shared Image To Folder For Mobile":"Save Shared Image To Folder For Mobile","Save image to folder for mobile. False by Default":"Save image to folder for mobile. False by Default","Say Thank You":"Say Thank You",Donate:"Donate","If you like this plugin, consider donating to support continued development:":"If you like this plugin, consider donating to support continued development:","File Name of Recycle Bin":"File Name of Recycle Bin","Set the filename for recycle bin. 'delete' By default":"Set the filename for recycle bin. 'delete' By default","File Name of Query File":"File Name of Query File","Set the filename for query file. 'query' By default":"Set the filename for query file. 'query' By default","Use Tags In Vault":"Use Tags In Vault","Use tags in vault rather than only in Memos. False by default.":"Use tags in vault rather than only in Thino. False by default.","Ready to convert image into background":"Ready to convert image into background",List:"List",Task:"Task",Top:"Top",Bottom:"Bottom",TAG:"TAG",DAY:"DAY",QUERY:"Query",EDIT:"EDIT",PIN:"PIN",UNPIN:"UNPIN",DELETE:"DELETE","CONFIRM！":"CONFIRM！","CREATE FILTER":"CREATE FILTER","Comment it...":"Comment it...",Settings:"Settings","Recycle bin":"Recycle bin","About Me":"About Me","Fetching data...":"Fetching data...","Here is No Memos.":"Here is No Thino.","Frequently Used Tags":"Frequently Used Tags","What do you think now...":"What do you think now...",READ:"READ",MARK:"MARK",SHARE:"SHARE",SOURCE:"SOURCE",RESTORE:"RESTORE",ARCHIVE:"Archive","DELETE AT":"DELETE AT","Noooop!":"Noooop!","All Data is Loaded 🎉":"All Data is Loaded 🎉","Quick filter":"Quick filter",TYPE:"TYPE",LINKED:"LINKED","NO TAGS":"NO TAGS","HAS LINKS":"HAS LINKS","HAS IMAGES":"HAS IMAGES",INCLUDE:"INCLUDE",EXCLUDE:"EXCLUDE",TEXT:"TEXT",IS:"IS",AND:"AND",OR:"OR",LIST:"LIST",ISNOT:"ISNOT",SELECT:"SELECT","ADD FILTER TERMS":"ADD FILTER TERMS",FILTER:"FILTER",Filter:"Filter",TITLE:"TITLE","CREATE QUERY":"CREATE QUERY","EDIT QUERY":"EDIT QUERY",MATCH:"MATCH",TIMES:"TIMES","Share Memo Image":"Share Thino Image","↗Click the button to save":"↗Click the button to save","Image is generating...":"Image is generating...","Image is loading...":"Image is loading...","Loading...":"Loading...","😟 Cannot load image, image link maybe broken":"😟 Cannot load image, image link maybe broken","Daily Memos":"Daily Thino","CANCEL EDIT":"CANCEL EDIT","LINK TO THE":"LINK TO THE","Mobile Options":"Mobile Options","Experimental Options":"Experimental Options","Don't support web image yet, please input image path in vault":"Don't support web image yet, please input image path in vault","Background Image in Dark Theme":"Background Image in Dark Theme","Background Image in Light Theme":"Background Image in Light Theme",'Set background image in dark theme. Set something like "Daily/one.png"':'Set background image in dark theme. Set something like "Daily/one.png"','Set background image in light theme. Set something like "Daily/one.png"':'Set background image in light theme. Set something like "Daily/one.png"','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Set default thino composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default',"Default Memo Composition":"[Deprecated] Default Thino Composition","Show Tasks Label":"Show Tasks Label","Show tasks label near the time text. False by default":"Show tasks label near the time text. False by default","Please Open Memos First":"Please Open Thino First",DATE:"DATE",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"BEFORE",AFTER:"AFTER","Allow Comments On Memos":"Allow Comments On Thino","You can comment on memos. False by default":"You can comment on thino. False by default",Import:"Import","TITLE CANNOT BE NULL!":"TITLE CANNOT BE NULL!","FILTER CANNOT BE NULL!":"FILTER CANNOT BE NULL!","Comments In Original DailyNotes/Notes":"Comments In Original DailyNotes/Notes","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"You should install Dataview Plugin ver 0.5.9 or later to use this feature.","Open Memos Successfully":"Open Thino Successfully","Fetch Memos Error":"😭 Fetch Error","Copied to clipboard Successfully":"Copied to clipboard Successfully","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Check if you opened Daily Notes Plugin Or Periodic Notes Plugin","Please finish the last filter setting first":"Please finish the last filter setting first","Close Memos Successfully":"Close Thino Successfully","Insert as Memo":"Insert as Thino","Insert file as memo content":"Insert file as thino content","Image load failed":"Image load failed","Content cannot be empty":"Content cannot be empty","Unable to create new file.":"Unable to create new file.","Failed to fetch deleted memos: ":"Failed to fetch deleted thino: ","RESTORE SUCCEED":"RESTORE SUCCEED","DELETE SUCCEED":"DELETE SUCCEED","Save Memo button icon":"Save Thino button icon","The icon shown on the save Memo button in the UI.":"The icon shown on the save Thino button in the UI.","Fetch Memos From Particular Notes":"Fetch Thino From Particular Notes",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'You can set any Dataview Query for thino to fetch it. All thino in those notes will show on list. "#memo" by default',"Allow Memos to Fetch Memo from Notes":"Allow Thino to Fetch Thino from Notes","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"Use Thino to manage all thino in your notes, not only in daily notes. False by default","Always Show Memo Comments":"Always Show Thino Comments","Always show memo comments on memos. False by default":"Always show thino comments on thino. False by default","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.","Please check your daily note plugin OR periodic notes plugin settings":"Please check your daily note plugin OR periodic notes plugin settings","Use which plugin's default configuration":"Use which plugin's default configuration","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino use the plugin's default configuration to fetch thino from daily, 'Daily' by default.",Daily:"Daily","Always Show Leaf Sidebar on PC":"Always Show Leaf Sidebar on PC","Show left sidebar on PC even when the leaf width is less than 875px. False by default.":"Show left sidebar on PC even when the leaf width is less than 875px. False by default.","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set format for daily notes in both periodic-notes and daily-notes plugins.","fetch more":"fetch more","Search all settings":"Search all settings",General:"General",Theme:"Theme",Share:"Share",Advanced:"Advanced",Thino:"Thino","Random Review":"Random Review","ARCHIVED AT":"ARCHIVED AT","Failed to get memos from daily notes":"Failed to get thino from daily notes","Failed to delete memo":"Failed to delete thino","CTRL + ENTER to save":"CTRL + ENTER to save","Started from":"Started from","Custom Background Image":"Custom Background Image","Set custom background image.":"Set custom background image.","Custom Memo Footer":"Custom Thino Footer","Set custom memo footer.":"Set custom thino footer.","Heatmap Color Scheme":"Heatmap Color Scheme","Set different color scheme for heatmap.":"Set different color scheme for heatmap.","Enable Local Http Server":"Enable Local Http Server","Memos Http Server Port":"Thino Http Server Port","Set memos http server port to listen. '43999' by default":"Set thino http server port to listen. '43999' by default","Default Editor Mode":"Default Editor Mode","Live-Preview Mode OR Source Mode.":"Live-Preview Mode/Source Mode.","Save type for Thino":"Save type for Thino",DAILY:"DAILY",MULTI:"MULTI",CANVAS:"CANVAS",ALL:"ALL",FILE:"FILE",TODO:"TODO",DONE:"DONE",JOURNAL:"JOURNAL",OTHER:"OTHER","Failed to create daily note, check if it exists.":"Failed to create daily note, check if it exists.","Failed to create daily note. Please check if you created a folder for daily notes.":"Failed to create daily note. Please check if you created a folder for daily notes.","After you verify your account, please refresh this page.":"After you verify your account, please refresh this page.",Verify:"Verify","Oops! You forget to verify insider account":"Oops! You forget to verify insider account","If you have any questions, please contact us.":"If you have any questions, please contact us.","Delete Thino Directly":"Delete Thino Directly","When delete thino directly, it will not be moved to trash. False by default.":"When delete thino directly, it will not be moved to trash. False by default.","Enable opening thino globally":"Enable opening thino globally","Enable opening thino globally. False by default.":"Enable opening thino globally. False by default.","Key for opening thino globally":"Key for opening thino globally","Set key for opening thino globally. CTRL + SHIFT + T by default.":"Set key for opening thino globally. CTRL + SHIFT + T by default.","Key for showing thino globally":"Key for showing thino globally","Set key for showing thino globally. CTRL + SHIFT + E by default.":"Set key for showing thino globally. CTRL + SHIFT + E by default.","Get activation code":"Get activation code","Input activation code here":"Input activation code here","Copy Thino id":"Copy Thino id","Activate Pro Version":"Activate Pro Version","Please copy Thino id first":"Please copy Thino id first",'You can set folder name with file name like "folder/file"':'You can set folder name with file name like "folder/file"','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'You can set folder name like "folder1/folder2/folder3" to create sub-folder',"Default save type":"Default save location",'Set the default save type for thino. "DAILY" by default':'Set the default save type for thino. "DAILY" by default',"Sync Thino via PKMer":"Sync Thino via PKMer",Unlink:"Unlink",Link:"Link","Connect to PKMer Sync, you can check it in ":"Connect to PKMer Sync, you can check it in ","PKMer Sync":"PKMer Sync","Remove successfully":"Remove successfully",Deactivate:"Deactivate",Remove:"Remove","Confirm?":"Confirm?","Sync Status":"Sync Status","Start or stop sync":"Start or stop sync","Stop sync successfully":"Stop sync successfully","Start sync successfully":"Start sync successfully",Stop:"Stop",Start:"Start","Show thino near mouse":"Show thino near mouse","Query not found":"Query not found","Send to clipboard successfully":"Send to clipboard successfully","Thino - Failed to start HTTP server, please check the port is available.":"Thino - Failed to start HTTP server, please check the port is available.","Thino - Started HTTP server on port":"Thino - Started HTTP server on port","Thino - Terminated HTTP server":"Thino - Terminated HTTP server","File not exist":"File not exist","Thino not found":"Thino not found","File not found for the given thino path, is creating a new file":"File not found for the given thino path, is creating a new file","Saved sync token successfully":"Saved sync token successfully","Failed to find daily notes folder":"Failed to find daily notes folder","Please install obsidian-hover-editor plugin first":"Please install obsidian-hover-editor plugin first","Copied app id successfully":"Copied app id successfully","Please input token first":"Please input token first","Please enable sync first":"Please enable sync first","Init Failed":"Init Failed","Verify successfully":"Verify successfully","Failed to verify":"Failed to verify","Folder not found for the given thino path, is creating a new folder":"Folder not found for the given thino path, is creating a new folder","File not found for the given thino path":"File not found for the given thino path","Failed to read current daily note, check if it exists.":"Failed to read current daily note, check if it exists.","Failed to save":"Failed to save","Failed to login, please login again":"Failed to login, please login again","COPY FAILED":"COPY FAILED","COPY SUCCEED":"COPY SUCCEED","Copy selected text":"Copy selected text","Copy thino":"Copy thino",COPY:"COPY","This is a pro feature, please upgrade to pro version to use it.":"This is a pro feature, please upgrade to pro version to use it.","You can get pro version from: ":"You can get pro version from: ",Save:"Save",Cancel:"Cancel","Thino Daily Target":"Thino Daily Target",Input:"Input","#Tag":"#Tag","to create tag":"to create tag","You have verified your account. Congrats!":"You have verified your account. Congrats!","Pro features":"Pro features","Target Thino Count":"Target Thino Count",on:"on","Switch waterfall view":"Switch waterfall view","Switch view":"Switch view","Switch list view":"Switch list view","Set daily target":"Set daily target","Thino Save To: ":"Thino Save To: ","Enter fullscreen mode":"Enter fullscreen mode","Exit fullscreen mode":"Exit fullscreen mode",words:"words","Return To Home Page":"Return Home","Open thino in center window":"Open thino in center window","Open thino in float window":"Open thino in float window","Open thino in right sidebar":"Open thino in right sidebar","Open thino in left sidebar":"Open thino in left sidebar","Show thino editor":"Show thino editor","Toggle minimal mode":"Toggle minimal mode","Focus on thino editor":"Focus on thino editor","ReSync web thinos to local":"ReSync web thinos to local","Sync local thinos to web":"Sync local thinos to web","Show daily thino":"Show daily thino","Focus on search bar":"Focus on search bar","Show-thino in popover(Hover editor)":"Show-thino in popover(Hover editor)","Center window":"Center window","Float window":"Float window","Right sidebar":"Right sidebar","Left sidebar":"Left sidebar","Save thino type when sync local":"Save thino type when sync local","Set the default save thino type when sync local, FILE by default.":"Set the default save thino type when sync local, FILE by default.","Sync service":"Sync service","Pro verification status":"Pro verification status","Live-preview":"Live-preview",Source:"Source","Global copy":"Global copy","Set the folder name":"Set the folder name","Set the filename":"Set the filename","Set the filename for current location file":"Set the filename for current location file","Switch calendar type":"Switch calendar type",alphabetical:"alphabetical",alphabeticalReverse:"alphabeticalReverse",byCount:"byCount",byCountReverse:"byCountReverse","Type here":"Type here",Today:"Today",Yesterday:"Yesterday","Last 7 days":"Last 7 days","Last 30 days":"Last 30 days","Last 90 days":"Last 90 days","Last 180 days":"Last 180 days","Last 365 days":"Last 365 days",Found:"Found","Copy filtered thinos":"Copy filtered thinos","Bulk delete":"Bulk delete","Bulk archive":"Bulk archive","Bulk tag operation":"Bulk tag operation","Bulk restore":"Bulk restore","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.",Preview:"Preview","Set and save":"Set and save","Show day mark in thino list":"Show day mark in thino list","Show day mark on the top of daily range thino. False by default.":"Show day mark on the top of daily range thino. False by default.","Click to expand or fold, Cmd+Click to show all thinos of the day":"Click to expand or fold, Cmd+Click to show all thinos of the day","You can buy a license from":"You can buy a license from","No thinos in range":"No thinos in range",Month:"Month",Week:"Week",Day:"Day",Agenda:"Agenda",Tomorrow:"Tomorrow",Previous:"Previous",Next:"Next","Search all columns...":"Search all columns...","Basic Info":"Basic Info","Additional Info":"Additional Info","Created At":"Created At",Content:"Content","Thino Type":"Thino Type","Source Type":"Source Type","Row status":"Row status",Path:"Path","Pinned Status":"Pinned Status",Table:"Table",Chat:"Chat",Moments:"Moments",Waterfall:"Waterfall",Calendar:"Calendar","Go to page":"Go to page",Page:"Page",Show:"Show",rows:"rows","Temp Filter":"Temp Filter","Open link directly in Thino view":"Open link directly in Thino view","Day mark range":"Day mark range","Set the range of day mark. Day by default.":"Set the range of day mark. Day by default.","Thino is locked":"Thino is locked","Please unlock Thino by input password":"Please unlock Thino by input password","Auto Download Image":"Auto Download Image","Auto download image when save to thino. 'false' by default":"Auto download image when save to thino. 'false' by default","Thino Http IP Type":"Thino Http IP Type","Set Thino http server ip to listen. 'localhost' by default":"Set Thino http server ip to listen. 'localhost' by default","Password to lock Thino":"Password to lock Thino",Unlock:"Unlock",Locked:"Locked","Password is incorrect":"Password is incorrect",Lock:"Lock","Need password to unlock Thino":"Need password to unlock Thino","You have not set a password or enable this feature yet":"You have not set a password or enable this feature yet",Password:"Password","Password for Thino":"Password for Thino","Please input your password to change password settings":"Please input your password to change password settings","Please input your password":"Please input your password","Lock thino":"Lock thino",date:"date",time:"time",event:"event","Add tag position":"Add tag position","Set the position of the tag when adding tag automatically":"Set the position of the tag when adding tag automatically","Add tag automatically":"Add tag automatically","Add tag to the end or beginning of the thino content when creating a thino and filtering tags":"Add tag to the end or beginning of the thino content when creating a thino and filtering tags","Add tag with new line":"Add tag with new line","Add tag with new line when adding tag automatically":"Add tag with new line when adding tag automatically","Input to select more tags":"Input to select more tags","Tag Bulk Edit":"Tag Bulk Edit","Tag Bulk Select":"Tag Bulk Select","Exist Tags":"Exist Tags","Selected Tags":"Selected Tags","Click to remove exist tag":"Click to remove exist tag","Click to remove selected tag":"Click to remove selected tag","Select tags":"Select tags","Input to select exist tag":"Input to select exist tag",Beginning:"Beginning",End:"End","Set the heading for saving thino":"Set the heading for saving thino","# Heading":"# Heading","Chat view style":"Chat view style","Set the style of chat view":"Set the style of chat view","Background image for moments view":"Background image for moments view","Set the background image for moments view":"Set the background image for moments view","Icon for moments/chat view/share image":"Icon for moments/chat view/share image","Set the icon for moments/chat view/share image":"Set the icon for moments/chat view/share image","Quote for moments view/share image":"Quote for moments view/share image","Set the quote for moments view/share image":"Set the quote for moments view/share image","Theme for Thino":"Theme for Thino","Set the theme for Thino":"Set the theme for Thino","Interface Details":"Interface Details","Task amount":"Task amount","Thino status":"Thino status","Used tags":"Used tags","Used days":"Used days","Most active day":"Most active day","Most active hour":"Most active hour","Thino amount":"Thino amount","No content to generate.":"No content to generate.","Image generated successfully.":"Image generated successfully.","Failed to generate image.":"Failed to generate image.","Share filtered thinos as image":"Share filtered thinos as image","Latest version":"Latest version","Previous version":"Previous version","Thino update info":"Thino update info","Debug info copied to clipboard":"Debug info copied to clipboard","Copy debug info":"Copy debug info","Failed to load changelog":"Failed to load changelog","View online":"View online",ChangeLog:"ChangeLog","Please open thino first":"Please open thino first","Insert editor":"Insert editor","Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly.":"Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly.","Default time prefix for thino in daily notes":"Default time prefix for thino in daily notes","Set default time prefix for thino in daily notes.":"Set default time prefix for thino in daily notes.","Save image successfully":"Save image successfully","User quote":"User quote","Set user quote for thino":"Set user quote for thino","User icon":"User icon","Set user icon for thino. You can input http/https link or file path in vault.":"Set user icon for thino. You can input http/https link or file path in vault.","User info":"User info","Copy filtered results":"Copy filtered results","Share image":"Share image",Default:"Default",Gray:"Gray",Grass:"Grass",Flame:"Flame",Olive:"Olive",Ice:"Ice",Magenta:"Magenta","Daily notes":"Daily notes",Editor:"Editor","Append/prepend text when share to Thino":"Append/prepend text when share to Thino","Append text when share to Thino":"Append text when share to Thino","Prepend text when share to Thino":"Prepend text when share to Thino","Add newline when append/prepend text":"Add newline when append/prepend text","Input anything here":"Input anything here",Prepend:"Prepend",Append:"Append",Both:"Both",None:"None","Hide pinned group":"Hide pinned group","Hide pinned group in thino list. False by default.":"Hide pinned group in thino list. False by default.","Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.","Different insert target for different type":"Different insert target for different type","Toggle this to set different insert target for different type of thino, like task or list type of thino":"Toggle this to set different insert target for different type of thino, like task or list type of thino","You can set whole diary or only part of it":"You can set whole diary or only part of it","Set process target":"Set process target",Custom:"Custom","Whole diary":"Whole Diary","Set thino insert place":"Set thino insert place","Set where to insert thino content":"Set where to insert thino content","End of the diary":"End of the diary","Custom location":"Custom location","Setting guide":"User setting guide","Details settings":"Details settings","Start Thino":"Start Thino","About Thino Pro":"About Thino Pro",Enabled:"Enabled",Enable:"Enable","Daily notes folder":"Daily notes folder","Set daily notes folder":"Set daily notes folder","Daily note name format":"Daily note name format","Set daily note name format":"Set daily note name format","Daily note plugin":"Daily note plugin","Enable daily note plugin":"Enable daily note plugin",Selected:"Selected",Select:"Select","A classic theme for Thino with a two-column layout":"A classic theme for Thino with a two-column layout",Classic:"Classic","A modern theme for Thino with a three-column layout and some unique features.":"A modern theme for Thino with a three-column layout and some unique features.",Modern:"Modern","Go and enjoy Thino":"Go and enjoy Thino","Congrats! All settings done":"Congrats! All settings done","Adjust settings that influence your user experience with Thino.":"Adjust settings that influence your user experience with Thino.","Set preferences for using Thino":"Set preferences for using Thino","If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.":"If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.","Go with daily note plugin":"Go with daily note plugin","Choose a theme for Thino.":"Choose a theme for Thino.","Set theme for Thino":"Set theme for Thino","Set up your user info for Thino.":"Set up your user info for Thino.","Get started with Thino":"Get started with Thino","Skip and start Thino":"Skip and start Thino","Next step":"Next step","Back to previous step":"Back to previous step","Click to enable =>":"Click to enable =>","This is Thino's sidebar. Navigate to different path or select query filter.":"This is Thino's sidebar. Navigate to different path or select query filter.","Click here and go to settings page.":"Click here and go to settings page.","Click here and go to different path.":"Click here and go to different path.","Select or create query filter here.":"Select or create query filter here.","See the status of Thinos here.":"See the status of Thinos here.","Search your thino quickly here.":"Search your thino quickly here.","Edit or create your thino here.":"Edit or create your thino here.","See your thinos here.":"See your thinos here.","See your time status of thinos here.":"See your time status of thinos here.","See your tags here. Tags will be shown when thino contains tags.":"See your tags here. Tags will be shown when thino contains tags.",Done:"Done","Thino is ready to use. ":"Thino is ready to use. ","You can start using Thino now. If you want to know more about Thino Pro, click the button below.":"You can start using Thino now. If you want to know more about Thino Pro, click the button below.","Default time prefix":"Default time prefix","Append Text Action":"Append Text Action","Prepend Text Action":"Prepend Text Action",Preset:"Preset","Select Tags":"Select Tags","It is not available on small view":"It is not available on small view","Append text":"Append text","Prepend text":"Prepend text","Your daily note folder is not set correctly, please check your settings":"Your daily note folder is not set correctly, please check your settings","Default sharing style":"Default sharing style","Set the default style for sharing thino, 'Modern' by default.":'Set the default style for sharing thino, "Modern" by default.',Clean:"Clean",Minimal:"Minimal",Gradient:"Gradient","Thino share":"Thino share","Copy to clipboard failed":"Copy to clipboard failed","Copy to clipboard successfully":"Copy to clipboard successfully","Your content has been copied to clipboard, and inserted into the editor. Please try it again":"Your content has been copied to clipboard, and inserted into the editor. Please try it again","Share thino":"Share thino","Set file name after create thino":"Set file name after create thino","You can set file name after create thino. A input box will show when you create thino.":"You can set file name after create thino. A input box will show when you create thino.",SPLIT:"SPLIT","Split by Heading 1":"Split by Heading 1","Split by Heading 2":"Split by Heading 2","Split by Heading 3":"Split by Heading 3","Insert task":"Insert task","All settings have been reset to default.":"All settings have been reset to default.","Reset all Thino settings":"Reset all Thino settings","Reset settings":"Reset settings","Reset Thino settings to default settings.":"Reset Thino settings to default settings.","Task Management":"Task Management","Append completed date when task done in thino":"Append completed date when task done in thino","Append completed date when task done in thino. False by default":"Append completed date when task done in thino. False by default","Set tag for single file that Thino indexes":"Set tag for single file that Thino indexes","When you set a tag here, Thino will index this file contains this tag and show it in the list. Don't need to add `#`.":"When you set a tag here, Thino will index this file contains this tag and show it in the list. Don't need to add `#`.","Set tag for file type file":"Set tag for file type file","Set tag for multi type file":"Set tag for multi type file","Please input the tag":"Please input the tag","Merge thinos in to thino share image":"Merge thinos in to thino share image","Custom height for Thino content":"Custom height for Thino content","Set custom height for Thino content. Like 200px or 20rem":"Set custom height for Thino content. Like 200px or 20rem","Input height":"Input height","Submit issue":"Submit issue","Current version":"Current version","Bug report":"Bug report","Click the button to copy debug info and open the issue page":"Click the button to copy debug info and open the issue page","Copy and go":"Copy and go","Debug info copied":"Debug info copied","Feature request":"Feature request","Submit your feature request to the issue page":"Submit your feature request to the issue page",Go:"Go","Toggle query list visibility":"Toggle query list visibility","Toggle tags visibility":"Toggle tags visibility","Toggle sidebar visibility":"Toggle sidebar visibility"},PA={},OA={},jA={welcome:"Bienvenue dans Mémo !",ribbonIconTitle:"Mémos",months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],weekDaysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],to:"à",year:null,month:null,"Basic Options":"Options basique","User name":"Username","Set your user name here. 'Memos 😏' By default":"Définissez votre username ici. Défaut : 'Memo 😏'","Insert after heading":"Insérer après le titre","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Vous devez définir le même titre en-dessous si vous voulez insérer et traiter des mémos sous le même titre.","Allows admonitions to be created using ":"Permet de créer des admonitions en utilisant","Process Memos below":"Insérer Mémo sous","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Seulement les entrée sous cette section/phrase dans vos notes seront considérés. S'il n'existe pas, aucune notes ne sera traité pour ce fichier.","Save Memo button label":"Titre du bouton de sauvegarde","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"Le texte affiché sur le bouton de sauvegarde dans l'UI. Défaut : 'NOTEIT'","Focus on editor when open memos":"Focus sur l'éditeur lors de l'ouverture du mémo.","Focus on editor when open memos. Focus by default.":"Focus sur l'éditeur lors de l'ouverture du mémo. Focus par défaut.","Open daily memos with open memos":"Ouvrir les mémos quotidiens quand mémo est ouvert.","Open daily memos with open memos. Open by default.":"Ouvrir les mémos quotidiens quand mémo est ouvert.","Open Memos when obsidian opens":"Ouvrir Mémo quand Obsidian est ouvert.","When enable this, Memos will open when Obsidian opens. False by default.":"Quand activé, Memo sera ouvert quand Obsidian à l'ouverture d'Obsidian. Désactivé par défaut.","Hide done tasks in Memo list":"Masquer les tâches accomplies dans la liste des mémos.","Hide all done tasks in Memo list. Show done tasks by default.":"Masquer les tâches accomplies dans les mémos. Affiche les tâches accomplies par défaut.","Advanced Options":"Options avancées","UI language for date":"Langue de l'UI pour la date","Translates the date UI language. Only 'en' and 'zh' are available.":"Traduit la langue des dates dans l'UI. Seuls 'en', 'fr' et 'zh' sont disponibles. ","Default prefix":"Préfix par défaut.","Set the default prefix when create memo, 'List' by default.":"Définit le préfix par défaut lors de la création d'un mémo. Défault : 'Liste'","Default insert date format":"Format de la date insérée par défaut.","Default editor position on mobile":"Position par défaut de l'éditeur sur mobile.","Set the default date format when insert date by @, 'Tasks' by default.":"Définit le format de la date par défaut lors de l'insertion de la date par @. Défaut : 'Tâches'.","Set the default editor position on Mobile, 'Top' by default.":"Position par défaut de l'éditeur sur le mobile. Défaut : 'Haut'.","Use button to show editor on mobile":"Utilisation du bouton pour afficher l'éditeur sur le mobile.","Show Time When Copy Results":"Aficher l'heure quand les résultats sont copiés","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Place un bouton flottant pour appeler l'éditeur sur mobile. Fonctionne uniquement quand l'éditeur est placé en bas.","Show time when you copy results, like 12:00. Copy time by default.":"Affiche l'heure quand les résultats sont copiés, comme '12:00'. Copie l'heure par défaut","Show Date When Copy Results":"Affiche la date quand les résultats sont copiés","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Affiche la date quand les résultats sont copiés, comme [[2022-01-01]]. Par défaut, copie la date.","Add Blank Line Between Different Date":"Ajoute une ligne entre les différentes dates.","Add blank line when copy result with date. No blank line by default.":"Ajoute une ligne lors de la copie du résultat avec la date. Pas de ligne par défaut.","Share Options":"Options de partage","Share Memos Image Footer Start":"Début du pied de page — Partage de mémo de mémos","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Définissez ce que vous voulez ici, utilisez {ThinoNum} pour afficher le nombre de thino, {UsedDay} pour les jours. Par défaut : '{ThinoNum} Thino {UsedDay} Days.","Share Memos Image Footer End":"Fin du pied de page — Partage de mémo","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Définissez ce que vous voulez ici. Utilisez {UserName} comme username. Par défaut : '✍️ By {UserName}'","Save Shared Image To Folder For Mobile":"Sauvegarde des images partagés dans un dossier sur mobile.","Save image to folder for mobile. False by Default":"Sauvegarder les images dans un dossier sur mobile. Désactivé par défaut.","Say Thank You":"Dites Merci",Donate:"Faire un don","If you like this plugin, consider donating to support continued development:":"Si vous aimez ce plugin, envisagez de faire un don pour soutenir le développement continu :","File Name of Recycle Bin":"Nom de la corbeille","Set the filename for recycle bin. 'delete' By default":"Définition du nom de la poubelle. Défaut : 'Delete'","Set the filename for query file. 'query' By default":"Définit le nom de fichier pour les requête. Défaut : 'Query'","Use Tags In Vault":"Utiliser des tags dans le Coffre","Use tags in vault rather than only in Memos. False by default.":"Utiliser des tags du coffre plutôt que ceux que seulement dans Mémo. Désactivé par défaut.","Ready to convert image into background":"Prêt pour convertir des image en arrière-plan.",List:"Liste",Task:"Tâche",Top:"Haut",Bottom:"Bas",TAG:"TAG",DAY:"JOUR",QUERY:"RECHERCHE",EDIT:"EDITER",PIN:"PIN",UNPIN:"ÉPINGLER",DELETE:"DESÉPINGLER","CONFIRM！":"CONFIRMER ！","CREATE FILTER":"CRÉER FILTRE",Settings:"Paramètres","Recycle bin":"Corbeille","About Me":"À propos de moi","Fetching data...":"Récupération des données...","Here is No Memos.":"Il n'y a pas de Memos.","Frequently Used Tags":"Tags fréquemment utilisés","What do you think now...":"Que pensez-vous maintenant...",READ:"LU",MARK:"MARQUER",SHARE:"PARTAGER",SOURCE:"SOURCE",RESTORE:"RESTAURER","DELETE AT":"SUPPRIMER","Noooop!":"Noooop!","All Data is Loaded 🎉":"Toutes les données sont chargées 🎉","Quick filter":"Filtre rapide",TYPE:"TYPE",LINKED:"LIEN","NO TAGS":"PAS DE TAGS","HAS LINKS":"A DES LIENS","HAS IMAGES":"A DES IMAGES",INCLUDE:"INCLUS",EXCLUDE:"EXCLUS",TEXT:"TEXTE",IS:"EST",ISNOT:"N'EST PAS",SELECT:"SELECTION","ADD FILTER TERMS":"AJOUTER DES TERMES FILTRÉ",FILTER:"FILTRE",TITLE:"TITRE","CREATE QUERY":"CRÉER UNE RECHERCHE","EDIT QUERY":"ÉDITER UNE RECHERCHE",MATCH:"MATCH",TIMES:"HEURE","Share Memo Image":"Partager un mémo image","↗Click the button to save":"↗Clique pour sauvegarder","Image is generating...":"Génération de l'image...","Image is loading...":"Image en chargement...","Loading...":"Chargement...","😟 Cannot load image, image link maybe broken":"😟 Impossible de charger l'image, le lien peut être brisé","Daily Memos":"Mémo quotidien","CANCEL EDIT":"ANNULER L'ÉDITION","LINK TO THE":"LIENS À","Mobile Options":"Options mobile","Don't support web image yet, please input image path in vault":"Ne supporte pas les images webs. Merci d'insérer le chemin de l'image depuis le coffre.","Background Image in Dark Theme":"Image de fond en thème sombre","Background Image in Light Theme":"Image de fond en thème clair",'Set background image in dark theme. Set something like "Daily/one.png"':"Définir l'image de fond en thème sombre. Définir 'Daily/one.png' par exemple.",'Set background image in light theme. Set something like "Daily/one.png"':"Définir l'image de fond en thème clair. Définir 'Daily/one.png' par exemple.",'Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Définir la composition par défaut du mémo, vous devez utiliser {TIME} comme "HH:mm" et {CONTENT} comme contenu. "{TIME} {CONTENT}" par défaut',"Default Memo Composition":"Composition par défaut du mémo","Show Tasks Label":"Afficher les étiquettes des tâches","Show tasks label near the time text. False by default":"Afficher les étiquettes des tâches à côté du texte horaire. Désactivé par défaut.","Please Open Memos First":"Merci d'ouvrir les mémos en premier"},LA={},RA={},_A={},BA={},HA={},YA={},UA={},zA={},VA={welcome:"Bem-vindo ao Thino!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],to:"para",year:null,month:null,"Basic Options":"Opções Básicas","User name":"Nome de Usuário","Set your user name here. 'Memos 😏' By default":"Defina o nome de usuário. Padrão: 'Thino 😏'.","Insert after heading":"Inserir após o cabeçalho","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Deve definir o mesmo cabeçalho na configuração posterior se pretende inserir e processar memorandos abaixo do cabeçalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabeçalho","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Somente as entradas abaixo deste cabeçalho serão processadas nas suas notas. Se não configurar esta funcionalidade, nenhuma nota será processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Botão de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do botão guardar memorandos. Padrão: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padrão: "Focar".',"Open daily memos with open memos":"Abrir memorandos diários ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos diários ao iniciar o Thino. Padrão: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta opção está activa, o Memos abrirá quando o Obsidian inicia. Padrão: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas concluídas na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas concluídas na lista de memorandos. Padrão: "Mostrar tarefas concluídas".',"Advanced Options":"Opções Avançadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' estão disponíveis.","Default prefix when save thino":"Prefixo Padrão","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padrão quando um memorando é criado. Padrão: 'Lista'.","Default insert date format":"Formato Padrão para Inserção de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padrão ao inserir a data usando '@'. Padrão: 'Tarefas'.","Default editor position on mobile":"Posição Padrão do Editor de Memorandos na Versão Móvel","Set the default editor position on Mobile, 'Top' by default.":"Define a posição padrão do editor de memorandos na versão móvel. Padrão: 'Topo'.","Use button to show editor on mobile":"Usar Botão para Mostrar o Editor na Versão Móvel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um botão flutuante para abrir o editor na versão móvel. Opção disponível somente quando a posição do editor está definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padrão: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padrão: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padrão: "Não adicionar linha."',"Share Options":"Opções de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - Início do Rodapé","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o número de thinorandos e use {UsedDay} para dias. 'Padrão: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodapé","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usuário. Padrão: '✍️ Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Versão Móvel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na versão móvel. Padrão: "Falso".',"Say Thank You":"Agradeça",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento contínuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padrão: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padrão: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e não somente dos memorandos. Padrão: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRM！":"CONFIRMAR！","CREATE FILTER":"CRIAR FILTRO",Settings:"Definições","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"Não existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que está a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded 🎉":"Todos os Dados foram Carregados 🎉","Quick filter":"Filtro rápido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"É",ISNOT:"NÃO É",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"TÍTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","↗Click the button to save":"↗Clique no botão para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","😟 Cannot load image, image link maybe broken":"😟 Não é possível carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Diários","CANCEL EDIT":"CANCELAR EDIÇÃO","LINK TO THE":"LINK PARA O","Mobile Options":"Opções Móveis","Don't support web image yet, please input image path in vault":"Ainda não existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Opções Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composição padrão do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conteúdo. Padrão: "{TIME} {CONTENT}".',"Default Memo Composition":"Composição Padrão de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas próximas do texto de tempo. Padrão: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Comentários nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padrão: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O TÍTULO NÃO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO NÃO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Comentários nas Notas/Notas Diárias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a versão 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"😭 Erro de Fetch","Copied to clipboard Successfully":"Copiado para a área de transferência com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Diárias ou de Notas Periódicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configuração do último filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conteúdo de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conteúdo não pode estar vazio","Unable to create new file.":"Não foi possível criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"Ícone do Botão para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O ícone exibido na UI do botão para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Específicas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas serão mostrados na lista. Padrão: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e não apenas nas notas diárias. Padrão: "Falso".',"Always Show Memo Comments":"Mostrar Comentários dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os comentários dos memorandos. Padrão: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"Não definiu a pasta para as notas diárias, quer no plugin the Notas Periódicas ou de Notas Diárias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configurações dos plugins de Notas Diárias OU de Notas Periódicas","Use Which Plugin's Default Configuration":"Usar a Configuração Padrão do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configuração padrão do plugin seleccionado para obter memorandos diariamente. Padrão: 'Notas Diárias'.",Daily:"Diário"},WA={welcome:"Bem-vindo ao Memos!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],to:"para",year:null,month:null,"Basic Options":"Opções Básicas","User name":"Nome de Usuário","Set your user name here. 'Memos 😏' By default":"Defina o nome de usuário. Padrão: 'Thino 😏'.","Insert after heading":"Inserir após o cabeçalho","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Deve definir o mesmo cabeçalho na configuração posterior se pretende inserir e processar memorandos abaixo do cabeçalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabeçalho","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Somente as entradas abaixo deste cabeçalho serão processadas nas suas notas. Se não configurar esta funcionalidade, nenhuma nota será processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Botão de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do botão guardar memorandos. Padrão: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padrão: "Focar".',"Open daily memos with open memos":"Abrir memorandos diários ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos diários ao iniciar o Thino. Padrão: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta opção está activa, o Memos abrirá quando o Obsidian inicia. Padrão: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas concluídas na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas concluídas na lista de memorandos. Padrão: "Mostrar tarefas concluídas".',"Advanced Options":"Opções Avançadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' estão disponíveis.","Default prefix when save thino":"Prefixo Padrão","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padrão quando um memorando é criado. Padrão: 'Lista'.","Default insert date format":"Formato Padrão para Inserção de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padrão ao inserir a data usando '@'. Padrão: 'Tarefas'.","Default editor position on mobile":"Posição Padrão do Editor de Memorandos na Versão Móvel","Set the default editor position on Mobile, 'Top' by default.":"Define a posição padrão do editor de memorandos na versão móvel. Padrão: 'Topo'.","Use button to show editor on mobile":"Usar Botão para Mostrar o Editor na Versão Móvel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um botão flutuante para abrir o editor na versão móvel. Opção disponível somente quando a posição do editor está definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padrão: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padrão: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padrão: "Não adicionar linha."',"Share Options":"Opções de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - Início do Rodapé","Set anything you want here, use {ThinoNum} to display Number of memos, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o número de thinorandos e use {UsedDay} para dias. 'Padrão: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodapé","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usuário. Padrão: '✍️ Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Versão Móvel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na versão móvel. Padrão: "Falso".',"Say Thank You":"Agradeça",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento contínuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padrão: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padrão: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e não somente dos memorandos. Padrão: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRM！":"CONFIRMAR！","CREATE FILTER":"CRIAR FILTRO",Settings:"Definições","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"Não existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que está a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded 🎉":"Todos os Dados foram Carregados 🎉","Quick filter":"Filtro rápido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"É",ISNOT:"NÃO É",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"TÍTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","↗Click the button to save":"↗Clique no botão para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","😟 Cannot load image, image link maybe broken":"😟 Não é possível carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Diários","CANCEL EDIT":"CANCELAR EDIÇÃO","LINK TO THE":"LINK PARA O","Mobile Options":"Opções Móveis","Don't support web image yet, please input image path in vault":"Ainda não existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Opções Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composição padrão do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conteúdo. Padrão: "{TIME} {CONTENT}".',"Default Memo Composition":"Composição Padrão de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas próximas do texto de tempo. Padrão: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Comentários nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padrão: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O TÍTULO NÃO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO NÃO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Comentários nas Notas/Notas Diárias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a versão 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"😭 Erro de Fetch","Copied to clipboard Successfully":"Copiado para a área de transferência com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Diárias ou de Notas Periódicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configuração do último filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conteúdo de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conteúdo não pode estar vazio","Unable to create new file.":"Não foi possível criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"Ícone do Botão para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O ícone exibido na UI do botão para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Específicas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas serão mostrados na lista. Padrão: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e não apenas nas notas diárias. Padrão: "Falso".',"Always Show Memo Comments":"Mostrar Comentários dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os comentários dos memorandos. Padrão: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"Não definiu a pasta para as notas diárias, quer no plugin the Notas Periódicas ou de Notas Diárias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configurações dos plugins de Notas Diárias OU de Notas Periódicas","Use Which Plugin's Default Configuration":"Usar a Configuração Padrão do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configuração padrão do plugin seleccionado para obter memorandos diariamente. Padrão: 'Notas Diárias'.",Daily:"Diário"},ZA={},$A={},qA={},GA={welcome:"欢迎使用 Thino ",ribbonIconTitle:"Thino",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:[null,null,null,null,null,null,null,null,null,null,null,null],weekDays:["周日","周一","周二","周三","周四","周五","周六"],weekDaysShort:["周日","周一","周二","周三","周四","周五","周六"],to:"至",year:"年",month:"月","Basic Options":"基础选项","User name":"用户名","Set your user name here. 'Memos 😏' By default":"在这里设置你喜欢的用户名。 默认为 'Thino 😏'",'You can set target heading like "# Heading" to control data location':'你可以设置目标标题，例如 "# Heading" 来控制数据的位置',"Insert after heading":"在指定标题后插入 Thino","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"若留空，则记录的 thino 内容在日记末尾插入，若填写标题，则记录的 thino 内容统一都记录在该标题下","Process Memos below":"解析指定标题后的 Thino","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"若留空，则在Thino界面会显示所有thino记录内容，若填写标题，则Thino界面只显示该标题下的内容，写入其他位置的内容不显示","Save Memo button label":"保存按钮上的文本","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"在保存按钮上展示的文本。默认为 'NOTEIT'","Focus on editor when open memos":"自动聚焦到 Thino 输入框","Focus on editor when open memos. Focus by default.":"当打开 Thino 的时候自动聚焦到 Thino 输入框。默认开启","Open daily memos with open memos":"打开每日 Thino 的时候打开 Thino 界面","Open daily memos with open memos. Open by default.":"打开每日 Thino 的时候打开 Thino 界面。默认开启","Open Memos when obsidian opens":"当开启 Obsidian 的时候自动打开 Thino","When enable this, Memos will open when Obsidian opens. False by default.":"当开启该选项, Thino 会在 Obsidian 打开时自动打开。默认不开启。","Hide done tasks in Memo list":"在 Thino 列表中隐藏已完成 Thino","Hide all done tasks in Memo list. Show done tasks by default.":"在 Thino 列表中隐藏已完成 Thino。默认不开启","Advanced Options":"进阶选项","UI language for date":"针对日期展示的语言界面","Translates the date UI language. Only 'en' and 'zh' are available.":"对日期的不同翻译。目前只能选择 'en' 和 'zh'（未来会废置）","Default prefix when save thino":"保存 Thino 时的默认前缀","Set the default prefix when create memo, 'List' by default.":"设置默认的前缀样式。默认为列表","Default insert date format":"插入日期附带的样式","Set the default date format when insert date by @, 'Tasks' by default.":"当使用 @ 来快速插入日期时，插入日期附带的样式，默认为 'Tasks' 样式","Default editor position on mobile":"在移动端上的默认编辑器位置","Set the default editor position on Mobile, 'Top' by default.":"设置在移动端上的默认编辑器位置，默认在顶部。","Use button to show editor on mobile":"当编辑器位置在底部时，用按钮来唤出编辑器","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"设置一个浮动按钮来唤出编辑器。当在移动端上启用该选项才会生效","Show Time When Copy Results":"当复制检索结果时附带时间","Show time when you copy results, like 12:00. Copy time by default.":"在复制检索结果时附带其时间，例如 12:00 。默认开启","Show Date When Copy Results":"当复制检索结果时附带日期","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"在复制检索结果时附带其日期，例如 [[2022-01-01]]。默认开启","Add Blank Line Between Different Date":"在复制日期的时候加上空行","Add blank line when copy result with date. No blank line by default.":"在复制日期的时候在相邻的日期之间加上空行。默认无空行","Share Options":"分享选项","Share Memos Image Footer Start":"分享 Thino 图片的左边页脚","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"你可以在这里设置你想要的任意文本，用 {ThinoNum} 来展示你记录的 thino 数量，{UsedDay} 来展示使用日期。默认为'{ThinoNum} Thino {UsedDay} Days'","Share Memos Image Footer End":"分享 Thino 图片的右边页脚","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"你可以在这里设置你想要的任意文本，用 {UserName} 来展示你的用户名。默认为 '✍️ By {UserName}'","Save Shared Image To Folder For Mobile":"当在移动端上时保存图片到文件夹","Save image to folder for mobile. False by Default":"当在移动端上时，保存生成的图片到文件夹","Say Thank You":"感谢开发",Donate:"捐赠","If you like this plugin, consider donating to support continued development:":"如果你喜欢这个插件，而且也希望给我买鸡腿，那么可以考虑 Github 页面右边的 Sponsor~","File Name of Recycle Bin":"回收站的文件名","Set the filename for recycle bin. 'delete' By default":"给回收站设置一个文件名。默认为'delete'","File Name of Query File":"检索文件的文件名","Set the filename for query file. 'query' By default":"设置存放检索式的文件的文件名。默认为'query'","Use Tags In Vault":"使用在库内的所有标签","Use tags in vault rather than only in Memos. False by default.":"使用在库内的而不是 Thino 内的标签。默认关闭","Don't support web image yet, please input image path in vault":"暂不支持网络图片，请使用本地图片","Ready to convert image into background":"正在将图片转换为背景图",List:"列表",Task:"任务",Top:"顶部",Bottom:"底部",TAG:"标签",DAY:"天",QUERY:"检索式",EDIT:"编辑",PIN:"置顶",UNPIN:"取消置顶",DELETE:"删除","CONFIRM！":"确定删除","CREATE FILTER":"创建检索式",Filter:"筛选",Settings:"设置","Recycle bin":"回收站","About Me":"关于","Fetching data...":"获取数据中...","Here is No Memos.":"没有找到 Thino","Frequently Used Tags":"常用标签","What do you think now...":"你现在在想什么？",READ:"阅读",MARK:"引用",SHARE:"分享",SOURCE:"来源",RESTORE:"恢复",ARCHIVE:"归档","DELETE AT":"删除于","Noooop!":"啥都没有！","All Data is Loaded 🎉":"所有数据都加载好啦 🎉","Quick filter":"快速筛选",TYPE:"类型",LINKED:"有链接","NO TAGS":"无标签","HAS LINKS":"有超链接","HAS IMAGES":"有图片",INCLUDE:"包括",EXCLUDE:"排除",TEXT:"文本",IS:"是",AND:"和",OR:"或",LIST:"状态",ISNOT:"不是",SELECT:"选择","ADD FILTER TERMS":"添加检索条件",FILTER:"筛选器",TITLE:"标题","CREATE QUERY":"创建检索式","EDIT QUERY":"编辑检索式",MATCH:"匹配",TIMES:"次","Share Memo Image":"分享 Thino 图片","↗Click the button to save":"↗点击右上角的按钮来保存","Image is generating...":"图片正在生成中...","Image is loading...":"图片正在加载中...","😟 Cannot load image, image link maybe broken":"😟 无法加载图片，图片链接也许不存在","Loading...":"努力加载中...","Daily Memos":"每日 Thino","CANCEL EDIT":"取消编辑","LINK TO THE":"链接到","Mobile Options":"移动端选项","Experimental Options":"实验性选项","Background Image in Dark Theme":"深色主题的背景图","Background Image in Light Theme":"浅色主题的背景图",'Set background image in dark theme. Set something like "Daily/one.png"':'设置深色主题的背景图。请设置类似"Daily/one.png"的路径','Set background image in light theme. Set something like "Daily/one.png"':'设置浅色主题的背景图。请设置类似"Daily/one.png"的路径','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'设置默认 Thino 组成，你必须要使用 {TIME} 作为 "HH:mm" 而且要设置 {CONTENT} 作为内容识别。默认情况下， Thino 基于 "{TIME} {CONTENT}" 识别',"Default Memo Composition":"【已弃置】默认 Thino 组成","Show Tasks Label":"展示任务标签","Show tasks label near the time text. False by default":"在 Thino 的时间旁展示任务标签。默认情况下不展示","Please Open Memos First":"请先打开 Thino","Comment it...":"评论...",DATE:"日期",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"Obsidian Natrual DATES language 插件没启动",BEFORE:"在之前",AFTER:"在之后","Allow Comments On Memos":"允许在 Thino 上评论","You can comment on memos. False by default":"你可以在 Thino 点击图标进行评论了。默认不开启",Import:"导入","TITLE CANNOT BE NULL!":"标题不可以为空！","FILTER CANNOT BE NULL!":"筛选器不可以为空！","Comments In Original DailyNotes/Notes":"在原文件中进行评论","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"你需要安装 0.5.9 版本以上的 Dataview 插件来使用该功能","Open Memos Successfully":"成功打开 Thino ","Fetch Memos Error":"😭 Thino 获取失败","Copied to clipboard Successfully":"复制成功","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"请检查你有没有开启日记插件或者 Periodic Notes 插件且启用了日记模式","Please finish the last filter setting first":"先完善上一个过滤器吧","Close Memos Successfully":"成功关闭 Thino ","Insert as Memo":"插入内容为 Thino","Insert file as memo content":"插入文件为 Thino","Image load failed":"有个图片加载失败了😟","Content cannot be empty":"内容不能为空呀","Unable to create new file.":"无法新建文件","Failed to fetch deleted memos: ":"无法获取已删除的 Thino ：","RESTORE SUCCEED":"成功恢复 Thino","DELETE SUCCEED":"删除成功","Save Memo button icon":"保存按钮上的图标","The icon shown on the save Memo button in the UI.":"你可以设置保存按钮上的图标","Fetch Memos From Particular Notes":"从指定的文件中获取 Thino",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'你可以给笔记设置指定检索式来让 Memos 可以索引到它。默认为 "#memo" ',"Allow Memos to Fetch Memo from Notes":"允许 Thino 从笔记中获取 Thino","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"使用 Memos 来管理你笔记中的 Memos，不单只 DailyNotes 中的内容。默认为关闭","Always Show Memo Comments":"评论将总是可见","Always show memo comments on memos. False by default":"当开启后评论总是会在 Thino 的下方展示。默认为关闭","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"你在 Periodic Notes 插件和日记插件都没设置日记的所在文件夹","Please check your daily note plugin OR periodic notes plugin settings":"请检查你的日记插件和/或 Periodic Notes 插件的设置","Use which plugin's default configuration":"使用哪个插件的默认日记配置","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino 采用指定插件的默认配置来获取 Thino。默认为日记插件。",Daily:"日记插件","Always Show Leaf Sidebar on PC":"在 PC 上总是展示左侧栏","Show left sidebar on PC even when the leaf width is less than 875px. False by default.":"在 PC 上即使页面宽度小于 875px 时都展示左侧栏。默认为关闭","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"你在 Periodic Notes 插件和日记插件都没设置日记的格式","fetch more":"加载更多","Search all settings":"搜索所有设置","Random Review":"随机回顾","ARCHIVED AT":"归档于","Failed to get memos from daily notes":"无法从日记中获取 Thino","Failed to delete memo":"无法删除 Thino","CTRL + ENTER to save":"CTRL + ENTER 保存","Started from":"开始于","Custom Background Image":"自定义背景图","Set custom background image.":"设置自定义背景图","Custom Memo Footer":"自定义 Thino 页脚","Set custom memo footer.":"设置自定义 Thino 页脚","Heatmap Color Scheme":"热力图颜色","Set different color scheme for heatmap.":"设置热力图的颜色","Enable Local Http Server":"启用本地 HTTP 服务器","Memos Http Server Port":"Thino HTTP 服务器端口","Set memos http server port to listen. '43999' by default":"设置 Thino HTTP 服务器端口。默认为 '43999'","Live-Preview Mode OR Source Mode.":"基于 Thino 的所见即所得模式（默认） 或者 源码模式，你可以自己选择适合自己的输入体验。","Default Editor Mode":"默认编辑器模式","Save type for Thino":"Thino 保存类型",DAILY:"日记",MULTI:"多文件",CANVAS:"画布",FILE:"单文件",ALL:"所有","Failed to create daily note, check if it exists.":"无法创建日记，请检查是否存在文件夹","Failed to create daily note. Please check if you created a folder for daily notes.":"无法创建日记，请检查是否存在日记文件夹","After you verify your account, please refresh this page.":"验证成功后，请刷新页面。",Verify:"去验证","Oops! You forget to verify insider account":"内测账户验证失败","If you have any questions, please contact us.":"如果你有任何问题，请联系我们。","Delete Thino Directly":"直接删除 Thino","When delete thino directly, it will not be moved to trash. False by default.":"当直接删除 Thino 时，不会移动到回收站。默认为关闭","Get activation code":"获取激活码","Input activation code here":"在这里输入激活码","Copy Thino id":"获取 Thino id","Activate Pro Version":"激活专业版","Please copy Thino id first":"请先获取 Thino id",'You can set folder name with file name like "folder/file"':'你可以设置例如 "folder/file" 的文件夹名+文件名的搭配来存放在指定文件夹','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'你可以设置例如 "folder1/folder2/folder3" 的文件夹名来创建子文件夹',"Default save type":"默认保存类型",'Set the default save type for thino. "DAILY" by default':'设置 Thino 的默认保存类型。默认为 "日记"',"Enable opening thino globally":"全局唤醒 Thino","Enable opening thino globally. False by default.":"全局唤醒 Thino。默认为关闭","Key for opening thino globally":"全局唤醒 Thino 的快捷键","Set key for opening thino globally. CTRL + SHIFT + T by default.":"设置全局唤醒 Thino 的快捷键。默认为 CTRL + SHIFT + T","Sync Thino via PKMer":"通过 PKMer 同步 Thino",Unlink:"取消链接",Link:"链接","Connect to PKMer Sync, you can check it in ":"连接到 PKMer 同步，你可以在该链接中查看：","PKMer Sync":"PKMer 同步","Remove successfully":"移除成功",Deactivate:"取消激活",Remove:"移除","Confirm?":"确认？","Sync Status":"同步状态","Start or stop sync":"开始或停止同步","Stop sync successfully":"停止同步成功","Start sync successfully":"开始同步成功",Stop:"停止",Start:"开始","Show thino near mouse":"在鼠标附近展示 Thino","Query not found":"检索式未找到","Send to clipboard successfully":"发送到剪贴板成功","Thino - Failed to start HTTP server, please check the port is available.":"Thino - 启动 HTTP 服务器失败，请检查端口是否可用。","Thino - Started HTTP server on port":"Thino - 启动 HTTP 服务器成功，端口为","Thino - Terminated HTTP server":"Thino - 终止 HTTP 服务器","File not exist":"文件不存在","Thino not found":"Thino 未找到","File not found for the given thino path, is creating a new file":"未找到承载指定 Thino 的文件，正在创建新文件","Saved sync token successfully":"保存同步令牌成功","Failed to find daily notes folder":"未找到日记文件夹","Please install obsidian-hover-editor plugin first":"请先安装 obsidian-hover-editor 插件","Copied app id successfully":"复制 app id 成功","Please input token first":"请先输入 token","Please enable sync first":"请先启用同步","Init Failed":"初始化失败","Folder not found for the given thino path, is creating a new folder":"未找到承载指定 Thino 的文件夹，正在创建新文件夹","File not found for the given thino path":"未找到承载指定 Thino 的文件","Failed to read current daily note, check if it exists.":"无法读取日记文件，请检查是否存在","Verify successfully":"验证成功","Failed to verify":"验证失败","Failed to save":"保存失败","Failed to login, please login again":"登录已过期，请重新登录","COPY FAILED":"复制失败","COPY SUCCEED":"复制成功","Copy selected text":"复制选中文本","Copy thino":"复制",COPY:"复制","This is a pro feature, please upgrade to pro version to use it.":"这是专业版功能，请升级到专业版来使用它。","You can get pro version from: ":"你可以从这里获取专业版：",Save:"保存",Cancel:"取消","Thino Daily Target":"Thino 每日目标",Input:"输入","#Tag":"#标签","to create tag":"来创建标签","You have verified your account. Congrats!":"你已经验证了你的账户。恭喜！","Pro features":"专业版功能","Target Thino Count":"目标 Thino 数量",on:"在","Switch waterfall view":"切换瀑布流视图","Switch view":"切换视图","Switch list view":"切换列表视图","Set daily target":"设置每日目标","Thino Save To: ":"Thino 保存到：","Enter fullscreen mode":"进入全屏模式","Exit fullscreen mode":"退出全屏模式",words:"字词","Return To Home Page":"返回首页","Open thino in center window":"在中心窗口打开 thino","Open thino in float window":"在浮动窗口打开 thino","Open thino in right sidebar":"在右侧边栏打开 thino","Open thino in left sidebar":"在左侧边栏打开 thino","Show thino editor":"显示 thino 编辑器","Toggle minimal mode":"切换 Minimal 模式","Focus on thino editor":"聚焦到 thino 编辑器","ReSync web thinos to local":"重新同步 web 上的 thino 到本地","Sync local thinos to web":"同步本地的 thino 到 web","Show daily thino":"显示每日 thino 视图","Focus on search bar":"聚焦到搜索栏","Show-thino in popover(Hover editor)":"在弹出框中显示 thino","Center window":"中心窗口","Float window":"浮动窗口","Right sidebar":"右侧边栏","Left sidebar":"左侧边栏","Save thino type when sync local":"同步本地时保存的 thino 类型","Set the default save thino type when sync local, FILE by default.":"设置同步本地时保存的 thino 类型，默认为单文件。","Sync service":"同步服务","Pro verification status":"专业版激活状态","Live-preview":"所见即所得",Source:"源码",General:"通用",Thino:"Thino",Theme:"主题",Share:"分享",Interface:"界面",Advanced:"进阶","Global copy":"全局复制","Set the folder name":"设置文件夹名","Set the filename":"设置文件名","Set the filename for current location file":"设置当前位置文件的文件名","Switch calendar type":"切换日历类型",alphabetical:"标签名称（A-Z）",alphabeticalReverse:"标签名称（Z-A）",byCount:"按使用次数（从高到低）",byCountReverse:"按使用次数（从低到高）","Type here":"在这里输入",Today:"今天",Yesterday:"昨天","Last 7 days":"最近 7 天","Last 30 days":"最近 30 天","Last 90 days":"最近 90 天","Last 180 days":"最近 180 天","Last 365 days":"最近 365 天",Found:"被找到","Copy filtered thinos":"复制筛选的 thino","Bulk delete":"批量删除","Bulk archive":"批量归档","Bulk tag operation":"标签编辑","Bulk restore":"批量恢复","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"如果你禁用了日记插件，可能会导致 thino 无法被正确删除。请启用插件后再试一次。",Preview:"预览","Set and save":"设置并保存","Show day mark in thino list":"在 Thino 列中展示日期标记","Show day mark on the top of daily range thino. False by default.":"在 Thino 列中展示日期标记。默认为关闭","Click to expand or fold, Cmd+Click to show all thinos of the day":"点击展开或折叠，Cmd+点击展示当天所有 thino","You can buy a license from":"你可以从这里购买许可证","No thinos in range":"该范围内没有 thino",Month:"月视图",Week:"周视图",Day:"日视图",Agenda:"日程视图",Tomorrow:"明天",Previous:"往前",Next:"往后","Search all columns...":"搜索所有的列...","Basic Info":"基础信息","Additional Info":"附加信息","Created At":"创建于",Content:"内容","Thino Type":"Thino 类型","Source Type":"来源类型","Row status":"归档状态",Path:"路径","Pinned Status":"置顶状态",Table:"表格",Chat:"聊天",Moments:"动态",Waterfall:"瀑布流",Calendar:"日历","Go to page":"跳转到页",Page:"页",Show:"展示",rows:"行","Temp Filter":"临时筛选器","Set the heading for saving thino":"设置保存 Thino 的标题","# Heading":"# 标题","Open link directly in Thino view":"Thino 视图内直接打开双链","Day mark range":"日期标记范围","Set the range of day mark. Day by default.":"设置日期标记的范围，默认为天","Thino is locked":"Thino 已锁定","Please unlock Thino by input password":"请输入密码来解锁 Thino","Auto Download Image":"自动下载图片","Auto download image when save to thino. 'false' by default":"当保存到 Thino 时自动下载图片。默认为 'false'","Thino Http IP Type":"Thino HTTP 服务器 IP 类型","Set Thino http server ip to listen. 'localhost' by default":"设置 Thino HTTP 服务器 IP。默认为 'localhost'","Password to lock Thino":"锁定 Thino 的密码",Unlock:"解锁",Locked:"已锁定","Password is incorrect":"密码错误",Lock:"锁定","Need password to unlock Thino":"需要密码来解锁 Thino","You have not set a password or enable this feature yet":"你还没有设置密码或者启用该功能",Password:"密码","Password for Thino":"Thino 的密码","Please input your password to change password settings":"请输入原来的密码来修改密码设置","Please input your password":"请输入密码","Lock thino":"锁定 Thino",date:"日期",time:"时间",event:"事件","Add tag position":"添加标签位置","Set the position of the tag when adding tag automatically":"设置自动添加标签的位置","Add tag automatically":"自动添加标签","Add tag to the end or beginning of the thino content when creating a thino and filtering tags":"在创建 Thino 和筛选标签时，将标签添加到 Thino 内容的末尾或开头","Add tag with new line":"添加标签时换行","Add tag with new line when adding tag automatically":"自动添加标签时换行","Input to select more tags":"输入来选择更多标签","Tag Bulk Edit":"标签批量编辑","Tag Bulk Select":"标签批量选择","Exist Tags":"已有标签","Selected Tags":"已选标签","Click to remove exist tag":"点击移除已有标签","Click to remove selected tag":"点击移除已选标签","Select tags":"选择标签","Input to select exist tag":"输入来选择已有标签",Beginning:"开头",End:"末尾","Chat view style":"聊天视图样式","Set the style of chat view":"设置聊天视图的样式","Background image for moments view":"动态视图的背景图","Set the background image for moments view":"设置动态视图的背景图","Icon for moments/chat view/share image":"动态/聊天视图/分享图的头像","Set the icon for moments/chat view/share image":"设置动态/聊天视图/分享图的头像","Quote for moments view/share image":"动态视图/分享图的个性签名","Set the quote for moments view/share image":"设置动态视图/分享图的个性签名","Theme for Thino":"Thino 主题","Set the theme for Thino":"设置 Thino 的主题","Interface Details":"界面详情","Task amount":"任务数量","Thino status":"Thino 状态","Used tags":"使用的标签","Used days":"使用的天数","Most active day":"最活跃的一天","Most active hour":"最活跃的一小时","Thino amount":"Thino 数量","No content to generate.":"没有内容可以生成。","Image generated successfully.":"图片生成成功。","Failed to generate image.":"图片生成失败。","Share filtered thinos as image":"分享筛选的 Thino 为图片","Latest version":"最新版本","Previous version":"之前版本","Thino update info":"Thino 更新信息","Debug info copied to clipboard":"调试信息已复制到剪贴板","Copy debug info":"复制调试信息","Failed to load changelog":"无法加载更新日志","View online":"在线查看",ChangeLog:"更新日志","Please open thino first":"请先打开 Thino","Insert editor":"插入编辑器","Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly.":"请在 Thino 设置中为多文件设置不同的路径，日记文件夹与多文件保存路径重复，或者存在被重复读取可能","Default time prefix for thino in daily notes":"日记中 Thino 的默认时间前缀","Set default time prefix for thino in daily notes.":"设置日记中 Thino 的默认时间前缀","Save image successfully":"保存图片成功","User quote":"用户签名","Set user quote for thino":"设置用户签名","User icon":"用户头像","Set user icon for thino. You can input http/https link or file path in vault.":"设置用户头像。你可以设置 http/https 链接或者 vault 中的文件路径。","User info":"用户信息","Copy filtered results":"复制筛选结果","Share image":"分享图片",Default:"默认",Gray:"灰色",Grass:"草绿",Flame:"火焰",Olive:"橄榄",Ice:"冰",Magenta:"品红","Daily notes":"日记相关",Editor:"编辑器","Append/prepend text when share to Thino":"分享到 Thino 时添加/前置文本","Append text when share to Thino":"分享到 Thino 时添加文本","Prepend text when share to Thino":"分享到 Thino 时前置文本","Add newline when append/prepend text":"添加换行符",Prepend:"前置",Append:"后置",Both:"两者",None:"无","Hide pinned group":"隐藏置顶分组","Hide pinned group in thino list. False by default.":"隐藏置顶的 Thino 分组。默认为关闭","Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"设置 Thino 任务类型的标题，如果提供了标题，所有记录的 Thino 内容将统一归类到该标题下。","Different insert target for different type":"不同类型的 Thino 有不同的插入目标","Toggle this to set different insert target for different type of thino, like task or list type of thino":"切换此选项以为不同类型的 Thino 设置不同的插入目标，例如任务或列表类型的 Thino","Set process target":"设置处理目标","You can set whole diary or only part of it":"你可以设置整个日记或者其中的一部分",Custom:"自定义","Whole diary":"整个日记","Set thino insert place":"设置 Thino 插入位置","Set where to insert thino content":"设置 Thino 内容插入位置","End of the diary":"日记的末尾","Custom location":"自定义位置","Setting guide":"设置流程","Details settings":"详细设置","Start Thino":"开始 Thino","About Thino Pro":"关于 Thino 专业版",Enabled:"已启用",Enable:"启用","Daily notes folder":"日记文件夹","Set daily notes folder":"设置日记文件夹","Daily note name format":"日记文件名格式","Set daily note name format":"设置日记文件名格式","Daily note plugin":"日记插件","Enable daily note plugin":"启用日记插件",Selected:"已选择",Select:"选择","A classic theme for Thino with a two-column layout":"Thino 的经典主题，采用两列布局",Classic:"经典","A modern theme for Thino with a three-column layout and some unique features.":"Thino 的现代主题，采用三列布局和一些独特的功能。",Modern:"现代","Go and enjoy Thino":"去享受 Thino 吧","Congrats! All settings done":"恭喜！所有设置已完成","Adjust settings that influence your user experience with Thino.":"调整影响你使用 Thino 的设置。","Set preferences for using Thino":"设置使用 Thino 的偏好","If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.":"如果你使用的是 Thino 基础版，启用日记插件是必须的。配置其设置以有效地使用它。","Go with daily note plugin":"使用日记插件","Choose a theme for Thino.":"选择 Thino 的主题。","Set theme for Thino":"设置 Thino 的主题","Set up your user info for Thino.":"设置你的用户信息。","Get started with Thino":"开始使用 Thino","Skip and start Thino":"跳过并开始 Thino","Next step":"下一步","Back to previous step":"返回上一步","Click to enable =>":"点击启用 =>","This is Thino's sidebar. Navigate to different path or select query filter.":"这是 Thino 的侧边栏。你可以导航到不同的路径或选择查询过滤器。","Click here and go to settings page.":"点击这里并转到设置页面。","Click here and go to different path.":"点击这里并转到不同的路径。","Select or create query filter here.":"在这里选择或创建查询过滤器。","See the status of Thinos here.":"在这里看到 Thino 的状态。","Search your thino quickly here.":"在这里快速搜索你的 Thino。","Edit or create your thino here.":"在这里编辑或创建你的 Thino。","See your thinos here.":"在这里看到你的 Thino。","See your time status of thinos here.":"在这里看到你的 Thino 时间状态。","See your tags here. Tags will be shown when thino contains tags.":"在这里看到你的标签。当 Thino 包含标签时，标签将显示。",Done:"完成","Thino is ready to use. ":"Thino 已准备好使用。","You can start using Thino now. If you want to know more about Thino Pro, click the button below.":"你现在可以开始使用 Thino 了。如果你想了解更多关于 Thino 专业版的信息，请点击下面的按钮。","Default time prefix":"默认时间前缀","Append Text Action":"分享到 Thino 时的后置文本动作","Prepend Text Action":"分享到 Thino 时的前置文本动作",Preset:"预设","Select Tags":"选择标签","It is not available on small view":"在窄的视图中不可用","Append text":"在末尾添加文本","Prepend text":"在开头添加文本","Your daily note folder is not set correctly, please check your settings":"你的日记文件夹设置不正确，请检查你的设置","Default sharing style":"默认分享样式","Set the default style for sharing thino, 'Modern' by default.":"设置 Thino 的默认分享样式，默认为“现代”。",Clean:"清爽",Minimal:"极简",Gradient:"渐变","Thino share":"Thino 分享","Copy to clipboard failed":"复制到剪贴板失败","Copy to clipboard successfully":"复制到剪贴板成功","Your content has been copied to clipboard, and inserted into the editor. Please try it again":"你的内容已经复制到剪贴板，并插入到编辑器中。请再试一次","Share thino":"分享 Thino","Set file name after create thino":"创建 Thino 后设置文件名","You can set file name after create thino. A input box will show when you create thino.":"你可以在创建 Thino 后设置文件名。当你创建 Thino 时，会显示一个输入框。",SPLIT:"分割","Split by Heading 1":"按一级标题分割","Split by Heading 2":"按二级标题分割","Split by Heading 3":"按三级标题分割","Insert task":"插入任务","All settings have been reset to default.":"所有设置已重置为默认值。","Reset all Thino settings":"重置所有 Thino 设置","Reset settings":"重置设置","Reset Thino settings to default settings.":"将 Thino 设置重置为默认设置。","Task Management":"任务管理","Append completed date when task done in thino":"在 Thino 中的任务完成时添加完成日期","Append completed date when task done in thino. False by default":"在 Thino 中的任务完成时添加完成日期。默认为关闭","Set tag for single file that Thino indexes":"Thino 会索引被设置标签的单文件","When you set a tag here, Thino will index this file contains this tag and show it in the list. Don't need to add `#`.":"当你在这里设置一个标签时，Thino 会索引包含这个标签的文件，并在列表中显示。不需要添加 `#`。","Set tag for file type file":"为单文件类型文件设置标签","Set tag for multi type file":"为多文件类型文件设置标签","Please input the tag":"请输入标签","Merge thinos in to thino share image":"合并 Thino 到 Thino 分享图片","Custom height for Thino content":"自定义 Thino 内容高度","Set custom height for Thino content. Like 200px or 20rem":"设置 Thino 内容的自定义高度。如 200px 或 20rem","Input height":"输入高度","Submit issue":"提交问题","Current version":"当前版本","Bug report":"Bug 报告","Click the button to copy debug info and open the issue page":"点击按钮复制调试信息并打开问题页面","Copy and go":"复制并前往","Debug info copied":"调试信息已复制","Feature request":"功能请求","Submit your feature request to the issue page":"提交你的功能请求到问题页面",Go:"前往","Toggle query list visibility":"切换 Query 列表可见性","Toggle tags visibility":"切换标签可见性","Toggle sidebar visibility":"切换侧边栏可见性"},JA={},KA={ar:kA,cs:NA,da:AA,de:FA,en:FE,"en-gb":PA,es:OA,fr:jA,hi:LA,id:RA,it:_A,ja:BA,ko:HA,nl:YA,nn:UA,pl:zA,pt:VA,"pt-br":WA,ro:ZA,ru:$A,tr:qA,"zh-cn":GA,"zh-tw":JA},ED=KA[C.moment.locale()];function E(e){const t=ED&&ED[e]||FE[e];return t===null?t:t||e}const QA=/```([\s\S]*?)```/g,XA=/\*\*(.+?)\*\*/g,e6=/\*(.+?)\*/g,t6=/\[ \] /g,n6=/\[.{1}\] /g,r6=/^[*-]/g,o6=/(\d+)\. /g,xD=/\[\[([^\]]+)\]\]/g,Pb=/\[([^\]]+)\]\((([^\]]+).md)\)/g,i6=(e,t)=>{const n=e.replace(QA,"<pre lang=''>$1</pre>").replace(r6,"<span class='counter-block'>•</span>").replace(o6,"<span class='counter-block'>$1.</span>").replace(t6,"<span class='todo-block' data-type='todo'>⬜</span>").replace(n6,"<span class='todo-block' data-type='done'>✅</span>").replace(XA,"<strong>$1</strong>").replace(e6,"<em>$1</em>").replace(/&lt;br&gt;/g,"</p><p>").replace(/&amp;/g,"&");let r=n;if(t){if(xD.test(n)){const o=n.match(xD);for(let i=0;i<o.length;i++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(o[i])){const a=a6(o[i]);if(/\|/g.test(a)){const[c,d]=a.split("|"),f=Bw(c,d);r=n.replace(o[i],f)}else{const f=Bw(a,"");r=r.replace(o[i],f)}}}if(Pb.test(n)){const o=n.match(Pb);for(let i=0;i<o.length;i++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(o[i])){const a=l6(o[i]),c=s6(o[i]),d=Bw(a,c);r=n.replace(o[i],d)}}}return r},Bw=(e,t)=>{const{metadataCache:n}=Re.getState().dailyNotesState.app;return n.getFirstLinkpathDest(decodeURIComponent(e),"")instanceof C.TFile?t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${e}</a>`:t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${e}</a>`},a6=e=>{var t;return(t=/\[\[([^\]]+)\]\]/g.exec(e))==null?void 0:t[1]},s6=e=>{var t;return(t=Pb.exec(e))==null?void 0:t[1]},l6=e=>{var t;return(t=/\[([^\]]+)\]\((([^\]]+).md)\)/g.exec(e))==null?void 0:t[3]},CD=e=>{const t=document.createElement("div");return t.className="memo-content-text",t.innerHTML=e,t.innerText},c6=e=>e.replace(/\n/g,"<br>"),u6=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML},MD="mobile-show-sidebar",PE=200,Ai=3600*24*1e3,gr=/\s#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,so=/(<p>|<br>)#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,jr=/^#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/gu,Ld=/(\s|：|\(|>|^)((http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-]))/g,d6=/\[([\s\S]*?)\]\(([\s\S]*?)\)/gu,Rd=/([^\s<\\*>'(]+\.(jpeg|jpg|gif|png|svg))(\]\])?(\))?/g,gu=/\[@(.+?)\]\((.+?)\)/g,f6=/[#*"\/\\<>:|\[\]\?]/gim,h6=/^(-|\*|\d\.)\s(\[.\]\s)?(\d{1,2}:\d{2}(:\d{2})?)\s(.*)/g,km=[{title:"DAILY",icon:"list"},{title:"CANVAS",icon:"layout-dashboard"},{title:"MULTI",icon:"file-text"},{title:"FILE",icon:"edit"}];var Ob;(e=>{function t(){return parseInt(C.moment().format("x"))}e.getNowTimeStamp=t;function n(Y){const V=/'’A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,$=/\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5/.source,re=/[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5]{1}/.source,Q=new RegExp([`(?:[0-9]+(?:(?:,|\\.)[0-9]+)*|[\\-${V}])+`,$,re].join("|"),"g");return(Y.match(Q)||[]).length}e.getWordCount=n;function r(Y){Mm()&&(Y!=null&&Y.EnabledLocationList.some(V=>V.value==="DAILY"))&&(Y!=null&&Y.EnabledLocationList.some(V=>V.value==="MULTI"))&&r0().contains(Y==null?void 0:Y.MemoOtherSaveLocation.MemoDefaultMultiFilePath)&&new C.Notice(E("Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly."),5e3)}e.checkDailyInMulti=r;function o(){const Y=navigator.userAgent;let V="Unknown";return Y.indexOf("Win")!=-1?V="Windows":Y.indexOf("Mac")!=-1?V="MacOS":Y.indexOf("Linux")!=-1&&(V="Linux"),V}e.getOSVersion=o;function i(Y){return typeof Y=="string"&&(Y=Y.replaceAll("-","/")),new Date(Y).getTime()}e.getTimeStampByDate=i;function a(Y){const V=new Date(i(Y));return new Date(V.getFullYear(),V.getMonth(),V.getDate()).getTime()}e.getDateStampByDate=a;function c(Y){const V=new Date(i(Y)),$=V.getFullYear(),re=V.getMonth()+1,Q=V.getDate();return`${$}/${re}/${Q}`}e.getDateString=c;function d(Y){const V=new Date(i(Y)),$=V.getHours(),re=V.getMinutes(),Q=$<10?"0"+$:$,ae=re<10?"0"+re:re;return`${Q}:${ae}`}e.getTimeString=d;function f(Y){const V=new Date(i(Y)),$=V.getFullYear(),re=V.getMonth()+1,Q=V.getDate(),ae=V.getHours(),X=V.getMinutes(),ie=V.getSeconds(),Z=re<10?"0"+re:re,ue=Q<10?"0"+Q:Q,ne=ae<10?"0"+ae:ae,he=X<10?"0"+X:X,K=ie<10?"0"+ie:ie;return`${$}/${Z}/${ue} ${ne}:${he}:${K}`}e.getDateTimeString=f;function m(Y){return Array.from(new Set(Y))}e.dedupe=m;function g(Y){const V=new Set,$=[];for(const re of Y)V.has(re.id)||(V.add(re.id),$.push(re));return $}e.dedupeObjectWithId=g;function v(Y,V){let $=null;return()=>{$&&clearTimeout($),$=setTimeout(Y,V)}}e.debounce=v;function w(Y,V,$=!1,re){let Q=null,ae=!1;function X(...ie){if(Q&&clearTimeout(Q),$&&!ae){const Z=Y.apply(this,ie);re&&typeof re=="function"&&re(Z),ae=!0}else Q=setTimeout(()=>{const Z=Y.apply(this,ie);re&&typeof re=="function"&&re(Z),ae=!1,Q=null},V)}return X.cancel=function(){Q&&clearTimeout(Q),Q=null,ae=!1},X}e.debouncePlus=w;function T(Y,V){let $=!0;return()=>{if(!$)return!1;$=!1,setTimeout(()=>{Y(),$=!0},V)}}e.throttle=T;function S(Y){const V=[],$=Object.keys(Y).sort();for(const re of $){const Q=Y[re];Q&&(typeof Q=="object"?V.push(...S(Q).split("&")):V.push(`${re}=${Q}`))}return V.join("&")}e.transformObjectToParamsString=S;function I(Y){const V={},$=Y.split("&");for(const re of $){const[Q,ae]=re.split("=");Q&&ae&&(V[Q]=ae)}return V}e.transformParamsStringToObject=I;function k(Y){if(!Y)return{};const V={},$=Object.keys(Y).sort();for(const re of $){const Q=Y[re];if(typeof Q=="object"){const ae=k(JSON.parse(JSON.stringify(Q)));ae&&Object.keys(ae).length>0&&(V[re]=ae)}else Q&&(V[re]=Q)}return V}e.filterObjectNullKeys=k;async function P(Y){if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(Y)}catch(V){console.warn("Copy to clipboard failed.",V)}else console.warn("Copy to clipboard failed, methods not supports.")}e.copyTextToClipboard=P;function R(Y){return new Promise(V=>{const $=new Image;$.onload=()=>{const{width:re,height:Q}=$;re>0&&Q>0?V({width:re,height:Q}):V({width:0,height:0})},$.onerror=()=>{V({width:0,height:0})},$.className="hidden",$.src=Y,document.body.appendChild($),$.remove()})}e.getImageSize=R;async function M(Y){var Q,ae,X,ie;let V;const re=app.plugins.getPlugin("obsidian-memos").settings.UseDailyOrPeriodic==="Daily";try{return!re&&((ie=(X=(ae=(Q=window.app.plugins)==null?void 0:Q.getPlugin("periodic-notes"))==null?void 0:ae.calendarSetManager)==null?void 0:X.getActiveConfig("day"))!=null&&ie.enabled)?(V=await window.app.plugins.getPlugin("periodic-notes").createPeriodicNote("day",Y),V):(V=await app.internalPlugins.getPluginById("daily-notes").instance.getDailyNote(Y)||await AE(Y),V)}catch(Z){return console.error(Z),new C.Notice(E("Failed to create daily note. Please check if you created a folder for daily notes.")),null}}e.createDailyNoteCheck=M;function _(Y){const V=[];let $=0;for(;$<Y;$++)V.push((16*Math.random()|0).toString(16));return V.join("")}e.randomId=_;function L(Y){return Y.replace(/[\p{P}\p{Z}\p{S}]/gu,"").length}e.countWords=L;async function z(Y){try{const V=await C.requestUrl(Y),$=new Uint8Array(V.arrayBuffer);return new Blob([$],{type:"image/png"})}catch(V){return console.error("error in grabImageFromUrl",Y,V),new Blob}}e.grabImageFromUrl=z})(Ob||(Ob={}));const ct=Ob;function p6(){var i,a,c,d,f,m;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(c=(a=(i=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:i.calendarSetManager)==null?void 0:a.getActiveConfig("day"))==null?void 0:c.folder,o=(m=(f=(d=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:d.settings)==null?void 0:f.daily)==null?void 0:m.format;switch(r===void 0?n=o:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=su().format||"YYYY-MM-DD";break;case"Periodic":e=n||"YYYY-MM-DD";break;default:e=su().format||"YYYY-MM-DD";break}return e===void 0&&new C.Notice(E("You didn't set format for daily notes in both periodic-notes and daily-notes plugins.")),e}function r0(){var i,a,c,d,f,m;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(c=(a=(i=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:i.calendarSetManager)==null?void 0:a.getActiveConfig("day"))==null?void 0:c.folder,o=(m=(f=(d=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:d.settings)==null?void 0:f.daily)==null?void 0:m.folder;switch(r===void 0?n=o:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=su().folder||"";break;case"Periodic":e=n||"";break;default:e=su().folder||"";break}return e===void 0&&new C.Notice(E("You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.")),e}function m6(){const e=r0();return!(e!==void 0&&!app.vault.getFolderByPath(e))}function jb(e,t){var r;e=u6(e),e=c6(e).split("<br>").map(o=>`<p>${o!==""?o:"<br>"}</p>`).join(""),e=i6(e,t),e=e.replace(gr,"<span class='tag-span'>#$1</span>").replace(so,"<p><span class='tag-span'>#$2</span>").replace(Ld,"$1<a class='link' target='_blank' rel='noreferrer' href='$2'>$2</a>").replace(d6,"<a class='link' target='_blank' rel='noreferrer' href='$2'>$1</a>").replace(gu,"<span class='memo-link-text' data-value='$2'>$1</span>").replace(/\^\S{6}/g,"");const n=document.createElement("div");n.innerHTML=e;for(let o=0;o<n.children.length;o++){const i=n.children[o];if(i.tagName==="P"&&i.textContent===""&&((r=i.firstElementChild)==null?void 0:r.tagName)!=="BR"){i.remove(),o--;continue}}return n.innerHTML}const o0=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),o=new Uint8Array(r);for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return new Blob([r],{type:t})};function g6(e,t){switch(t.type){case"SET_MEMOS":{const n=t.payload.memos.sort((o,i)=>{const a=ct.getTimeStampByDate(o.createdAt),c=ct.getTimeStampByDate(i.createdAt);return a===c?i.id.localeCompare(o.id):ct.getTimeStampByDate(i.createdAt)-ct.getTimeStampByDate(o.createdAt)}),r=ct.dedupeObjectWithId(n);return{...e,memos:[...r]}}case"SET_COMMENT_MEMOS":{const n=ct.dedupeObjectWithId(t.payload.commentMemos.sort((r,o)=>ct.getTimeStampByDate(o.createdAt)-ct.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"SET_TAGS":return{...e,tags:t.payload.tags,tagsNum:t.payload.tagsNum};case"INSERT_MEMO":{const n=ct.dedupeObjectWithId([t.payload.memo,...e.memos].sort((r,o)=>ct.getTimeStampByDate(o.createdAt)-ct.getTimeStampByDate(r.createdAt)));return{...e,memos:n}}case"INSERT_COMMENT_MEMO":{const n=ct.dedupeObjectWithId([t.payload.memo,...e.commentMemos].sort((r,o)=>ct.getTimeStampByDate(o.createdAt)-ct.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"DELETE_MEMO_BY_ID":return{...e,memos:[...e.memos].filter(n=>n.id!==t.payload.id)};case"DELETE_MEMO_BY_ID_BATCH":{const n=[...e.memos];return t.payload.ids.forEach(r=>{n.splice(n.findIndex(o=>o.id===r),1)}),{...e,memos:[...n]}}case"PREPARE_UPDATE_THINO":return{...e,preparingUpdateMemo:[...e.preparingUpdateMemo,{thino:t.payload.thino,originalId:t.payload.originalId}]};case"REMOVE_PREPARE_UPDATE_THINO":return{...e,preparingUpdateMemo:[]};case"REMOVE_PARTICULAR_PREPARE_UPDATE_THINO":return{...e,preparingUpdateMemo:e.preparingUpdateMemo.filter(n=>n.originalId!==t.payload.originalId)};case"CLEAR_MEMOS":return{...OE};case"EDIT_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"EDIT_MEMO_PATH":{const n=e.memos.map(r=>r.path===t.payload.path?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"UPDATE_MEMO_BATCH":{const n=e.memos.filter(o=>o.path!==t.payload.path),r=ct.dedupeObjectWithId([...t.payload.memos,...n].sort((o,i)=>ct.getTimeStampByDate(i.createdAt)-ct.getTimeStampByDate(o.createdAt)));return{...e,memos:[...r]}}case"ARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"ARCHIVE_MEMO_BY_ID_BULK":{const n=e.memos.map(r=>t.payload.some(o=>o.id===r.id)?{...r,...t.payload.filter(o=>o.id===r.id)[0]}:r);return{...e,memos:[...n]}}case"UNARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"PIN_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,pinned:t.payload.pinned}:r);return{...e,memos:[...n]}}case"EDIT_COMMENT_MEMO":{const n=e.commentMemos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,commentMemos:[...n]}}default:return e}}const OE={memos:[],commentMemos:[],tags:[],tagsNum:{},preparingUpdateMemo:[]};function y6(e,t){switch(t.type){case"SIGN_IN":return{user:t.payload.user};case"SIGN_OUT":return{user:null};default:return e}}const v6={user:null};function w6(e,t){switch(t.type){case"SET_QUERIES":{const n=ct.dedupeObjectWithId(t.payload.queries.sort((r,o)=>ct.getTimeStampByDate(o.createdAt)-ct.getTimeStampByDate(r.createdAt)).sort((r,o)=>ct.getTimeStampByDate(o.pinnedAt??0)-ct.getTimeStampByDate(r.pinnedAt??0)));return{...e,queries:n}}case"INSERT_QUERY":{const n=ct.dedupeObjectWithId([t.payload.query,...e.queries].sort((r,o)=>ct.getTimeStampByDate(o.createdAt)-ct.getTimeStampByDate(r.createdAt)));return{...e,queries:n}}case"DELETE_QUERY_BY_ID":return{...e,queries:[...e.queries].filter(n=>n.id!==t.payload.id)};case"UPDATE_QUERY":{const n=e.queries.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,queries:n}}default:return e}}const b6={queries:[]};function S6(e,t){var n,r,o,i;switch(t.type){case"SET_DAILY_NOTES":return{...e,dailyNotes:t.payload.dailyNotes};case"SET_APP":return e.app?{...e}:{...e,app:t.payload.app};case"SET_PLUGIN":return e.plugin?{...e}:{...e,plugin:t.payload.plugin};case"SET_EDITOR":return e.editor?{...e}:{...e,editor:t.payload.editor};case"SET_SETTINGS":return e.settings&&e.settings===t.payload.settings?{...e}:{...e,settings:t.payload.settings};case"SET_VIEW":return e.view&&((r=(n=e.view)==null?void 0:n.leaf)==null?void 0:r.id)===((i=(o=t.payload.view)==null?void 0:o.leaf)==null?void 0:i.id)?{...e}:{...e,view:t.payload.view};case"CLEAR_VIEW":return e.view&&e.view.unload(),{...e,view:null};case"CLEAR_FILES":return{...e,dailyNotes:null};case"SET_VERIFY_STATE":return{...e,verifyState:t.payload.verifyState};default:return e}}const D6={dailyNotes:null,app:null,view:null,settings:null,editor:null,plugin:null,verifyState:null},Re=XN({globalState:tA,locationState:yE,memoState:OE,userState:v6,queryState:b6,dailyNotesState:D6},QN({globalState:eA,locationState:nA,memoState:g6,userState:y6,queryState:w6,dailyNotesState:S6})),Ot=F.createContext(Re.getState());String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object regexp]"?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});class T6{constructor(){De(this,"initialized",!1)}getState(){return Re.getState().dailyNotesState}setApp(t){return Re.dispatch({type:"SET_APP",payload:{app:t}}),t}setPlugin(t){return Re.dispatch({type:"SET_PLUGIN",payload:{plugin:t}}),t}setSettings(t){return Re.dispatch({type:"SET_SETTINGS",payload:{settings:t}}),this.initialized||(this.initialized=!0),t}setView(t){return Re.dispatch({type:"SET_VIEW",payload:{view:t}}),t}setEditor(t){return Re.dispatch({type:"SET_EDITOR",payload:{editor:t}}),t}async updateDailyNotes(t,n){const r=this.getState().dailyNotes,o=uh(t,"day");return n?delete r[`day-${o.format("YYYY-MM-DD")}T00:00:00+08:00}`]:r[`day-${o.format("YYYY-MM-DD")}T00:00:00+08:00}`]=t,Re.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:r}}),r}setVerifyState(t){return Re.dispatch({type:"SET_VERIFY_STATE",payload:{verifyState:t}}),t}async fechLocalDailyNotes(){try{const t=uc();return Re.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:t}}),t}catch(t){console.error(t)}}}const ft=new T6;var Wr;(e=>{function t(i){const a={};for(const c of i)try{const d=localStorage.getItem(c);if(d!==null){const f=JSON.parse(d);a[c]=f}}catch(d){console.error("Get storage failed in ",c,d)}return a}e.get=t;function n(i){for(const a in i)try{const c=JSON.stringify(i[a]);localStorage.setItem(a,c)}catch(c){console.error("Save storage failed in ",a,c)}}e.set=n;function r(i){for(const a of i)try{localStorage.removeItem(a)}catch(c){console.error("Remove storage failed in ",a,c)}}e.remove=r;function o(){var a;const i=document.createElement("iframe");i.style.display="none",document.body.appendChild(i),(a=i.contentWindow)==null||a.localStorage.setItem("t",Date.now().toString()),i.remove()}e.emitStorageChangedEvent=o})(Wr||(Wr={}));class I6{constructor(){De(this,"getState",()=>Re.getState().globalState);De(this,"setEditMemoId",t=>{Re.dispatch({type:"SET_EDIT_MEMO_ID",payload:{editMemoId:t}})});De(this,"setRefresh",t=>{Re.dispatch({type:"SET_REFRESH",payload:{refresh:t}})});De(this,"setCommentMemoId",t=>{Re.dispatch({type:"SET_COMMENT_MEMO_ID",payload:{commentMemoId:t}})});De(this,"setMarkMemoId",t=>{Re.dispatch({type:"SET_MARK_MEMO_ID",payload:{markMemoId:t}})});De(this,"setLoaded",t=>{Re.dispatch({type:"SET_LOADED",payload:{loaded:t}})});De(this,"setGlobalEditorShown",t=>{Re.dispatch({type:"SET_GLOBAL_EDITOR_SHOWN",payload:{globalEditorShown:t}})});De(this,"setIsMobileView",t=>{Re.dispatch({type:"SET_MOBILE_VIEW",payload:{isMobileView:t}})});De(this,"setChangedByMemos",t=>{Re.dispatch({type:"SET_CHANGED_BY_MEMOS",payload:{changedByMemos:t}})});De(this,"setShowSiderbarInMobileView",t=>{Re.dispatch({type:"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW",payload:{showSiderbarInMobileView:t}})});De(this,"setAppSetting",t=>{Re.dispatch({type:"SET_APP_SETTING",payload:t}),Wr.set(t)});De(this,"setMemoListView",t=>{Re.dispatch({type:"SET_MEMO_LIST_VIEW",payload:{memoListView:t}})});De(this,"setInstance",(t,n)=>{Re.dispatch({type:"SET_INSTANCE",payload:{id:t,instance:n}})});De(this,"setLocked",t=>{Re.dispatch({type:"SET_LOCKED",payload:{locked:t}})});De(this,"setExitSteps",t=>{Re.dispatch({type:"SET_EXIT_STEPS",payload:{exited:t}})});De(this,"setPluginManifest",t=>{Re.dispatch({type:"SET_MEMO_PLUGIN_MANIFEST",payload:{manifest:t}})});const t=Wr.get(["shouldSplitMemoWord","shouldHideImageUrl","shouldUseMarkdownParser","useTinyUndoHistoryCache"]),n={shouldSplitMemoWord:t.shouldSplitMemoWord||!0,shouldHideImageUrl:t.shouldHideImageUrl||!0,shouldUseMarkdownParser:t.shouldUseMarkdownParser||!0,useTinyUndoHistoryCache:t.useTinyUndoHistoryCache||!1};this.setAppSetting(n)}}const dt=new I6;class E6{constructor(){De(this,"updateStateWithLocation",()=>{const{pathname:t,search:n,hash:r}=window.location,o=new URLSearchParams(n),i={pathname:"/",hash:"",query:{tag:"",duration:null,text:"",type:"",filter:""}};i.query.tag=o.get("tag")||"",i.query.type=o.get("type")??"",i.query.text=o.get("text")??"",i.query.filter=o.get("filter")??"";const a=parseInt(o.get("from")??"0"),c=parseInt(o.get("to")??"0");c>a&&c!==0&&(i.query.duration={from:a,to:c}),i.hash=r,i.pathname=this.getValidPathname(t),Re.dispatch({type:"SET_LOCATION",payload:i})});De(this,"getState",()=>Re.getState().locationState);De(this,"clearQuery",()=>{Re.dispatch({type:"SET_QUERY",payload:{tag:"",duration:null,text:"",type:"",filter:""}})});De(this,"setQuery",t=>{Re.dispatch({type:"SET_QUERY",payload:t})});De(this,"reloadApp",()=>{Re.dispatch({type:"RELOAD"})});De(this,"setHash",t=>{Re.dispatch({type:"SET_HASH",payload:{hash:t}})});De(this,"setPathname",t=>{Re.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});De(this,"pushHistory",t=>{Re.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});De(this,"replaceHistory",t=>{Re.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});De(this,"setMemoTypeQuery",(t="")=>{Re.dispatch({type:"SET_TYPE",payload:{type:t}})});De(this,"setMemoFilter",t=>{Re.dispatch({type:"SET_QUERY_FILTER",payload:t})});De(this,"setTextQuery",t=>{Re.dispatch({type:"SET_TEXT",payload:{text:t}})});De(this,"setTimeQuery",t=>{Re.dispatch({type:"SET_DURATION_QUERY",payload:{duration:t}})});De(this,"setTagQuery",t=>{Re.dispatch({type:"SET_TAG_QUERY",payload:{tag:t}})});De(this,"setFromAndToQuery",(t,n)=>{Re.dispatch({type:"SET_DURATION_QUERY",payload:{duration:{from:t,to:n}}})});De(this,"getValidPathname",t=>["/","/homeboard","/recycle","/setting"].includes(t)?t:"/");this.updateStateWithLocation(),window.onpopstate=()=>{this.updateStateWithLocation()}}}const ot=new E6,bd=e=>`${e.vault.configDir}/query.json`,jE=async(e,t)=>{try{return await e.vault.adapter.read(t),!0}catch(n){return console.error(n),!1}},Nh=async e=>(await jE(e,bd(e))||await LE(e),JSON.parse(await e.vault.adapter.read(bd(e))).queries||[]),ng=async(e,t)=>{await e.vault.adapter.write(bd(e),JSON.stringify({queries:t},null,2))},LE=async e=>{const t=dt.getState().manifest,n=e.plugins.getPlugin(t.id||"obsidian-memos").settings,r=e.metadataCache.getFirstLinkpathDest(n.QueryFileName,"");if(!r)await e.vault.adapter.write(bd(e),JSON.stringify({queries:[]},null,2));else{const i=(await e.vault.read(r)).split(`
`);i.length===0&&await e.vault.adapter.write(bd(e),JSON.stringify({queries:[]},null,2));const a=[];for(let c=0;c<i.length;c++){const d=c,f="Memos";let m="未命名";const g=i[c];let v=C.moment().format("YYYY/MM/DD HH:mm:ss"),w="[]";const T=g.match(/^\d{14,16}/);T&&(v=C.moment(T[0].slice(0,14),"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:ss"));const S=g.match(/\[\{(.+)\}\]/);S&&(w=S[0]);const I=g.match(/\s(.+)\s\[\{/);I&&(m=I[0].slice(1,-3)),a.push({id:d,pinnedAt:"",createdAt:v,updatedAt:v,title:m,querystring:w,userId:f})}await e.vault.adapter.write(bd(e),JSON.stringify({queries:a},null,2))}},x6=async()=>{const{app:e}=Re.getState().dailyNotesState;return await jE(e,bd(e))||await LE(e),await Nh(e)||[]},C6=(e,t)=>({createdAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),id:e,pinnedAt:"",querystring:t,title:E("Temp Filter"),updatedAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"}),M6=async(e,t)=>{const n=await Nh(Re.getState().dailyNotesState.app)||[],r={createdAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),id:C.moment().format("YYYYMMDDHHmmss")+n.length,pinnedAt:"",querystring:t,title:e,updatedAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"};return n.push(r),await ng(Re.getState().dailyNotesState.app,n),r};var Sv={exports:{}};Sv.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",f=500,m="__lodash_placeholder__",g=1,v=2,w=4,T=1,S=2,I=1,k=2,P=4,R=8,M=16,_=32,L=64,z=128,Y=256,V=512,$=30,re="...",Q=800,ae=16,X=1,ie=2,Z=3,ue=1/0,ne=9007199254740991,he=17976931348623157e292,K=NaN,oe=4294967295,pe=oe-1,Ee=oe>>>1,je=[["ary",z],["bind",I],["bindKey",k],["curry",R],["curryRight",M],["flip",V],["partial",_],["partialRight",L],["rearg",Y]],Ae="[object Arguments]",Be="[object Array]",Je="[object AsyncFunction]",ze="[object Boolean]",Qe="[object Date]",It="[object DOMException]",Zt="[object Error]",_e="[object Function]",tt="[object GeneratorFunction]",st="[object Map]",yt="[object Number]",xt="[object Null]",Tt="[object Object]",qt="[object Promise]",zt="[object Proxy]",$t="[object RegExp]",Gt="[object Set]",un="[object String]",Xt="[object Symbol]",Qn="[object Undefined]",Cn="[object WeakMap]",Cr="[object WeakSet]",yr="[object ArrayBuffer]",Rn="[object DataView]",Li="[object Float32Array]",Eo="[object Float64Array]",Uo="[object Int8Array]",Ri="[object Int16Array]",xo="[object Int32Array]",_i="[object Uint8Array]",ua="[object Uint8ClampedArray]",ci="[object Uint16Array]",Bi="[object Uint32Array]",te=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,Fe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,He=/&(?:amp|lt|gt|quot|#39);/g,Ye=/[&<>"']/g,et=RegExp(He.source),nt=RegExp(Ye.source),kt=/<%-([\s\S]+?)%>/g,en=/<%([\s\S]+?)%>/g,jn=/<%=([\s\S]+?)%>/g,wn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lr=/^\w*$/,_n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rr=/[\\^$.*+?()[\]{}|]/g,Rr=RegExp(rr.source),da=/^\s+/,Sn=/\s/,uo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fo=/\{\n\/\* \[wrapped with (.+)\] \*/,Mr=/,? & /,zo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ho=/[()=,{}\[\]\/\s]/,Dl=/\\(\\)?/g,Hi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Yi=/\w*$/,hc=/^[-+]0x[0-9a-f]+$/i,Tl=/^0b[01]+$/i,Ha=/^\[object .+?Constructor\]$/,fa=/^0o[0-7]+$/i,Ya=/^(?:0|[1-9]\d*)$/,Il=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ua=/($^)/,pc=/['\n\r\u2028\u2029\\]/g,Dn="\\ud800-\\udfff",_r="\\u0300-\\u036f",bs="\\ufe20-\\ufe2f",Ss="\\u20d0-\\u20ff",Ui=_r+bs+Ss,El="\\u2700-\\u27bf",ui="a-z\\xdf-\\xf6\\xf8-\\xff",Vo="\\xac\\xb1\\xd7\\xf7",po="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",za="\\u2000-\\u206f",vr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ds="A-Z\\xc0-\\xd6\\xd8-\\xde",Ts="\\ufe0e\\ufe0f",Is=Vo+po+za+vr,Wo="['’]",Va="["+Dn+"]",zi="["+Is+"]",Zo="["+Ui+"]",N="\\d+",H="["+El+"]",J="["+ui+"]",ce="[^"+Dn+Is+N+El+ui+Ds+"]",Ne="\\ud83c[\\udffb-\\udfff]",Ie="(?:"+Zo+"|"+Ne+")",Ue="[^"+Dn+"]",it="(?:\\ud83c[\\udde6-\\uddff]){2}",ut="[\\ud800-\\udbff][\\udc00-\\udfff]",Nt="["+Ds+"]",Yt="\\u200d",In="(?:"+J+"|"+ce+")",Co="(?:"+Nt+"|"+ce+")",mo="(?:"+Wo+"(?:d|ll|m|re|s|t|ve))?",Br="(?:"+Wo+"(?:D|LL|M|RE|S|T|VE))?",di=Ie+"?",go="["+Ts+"]?",Mo="(?:"+Yt+"(?:"+[Ue,it,ut].join("|")+")"+go+di+")*",qr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$o="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yo=go+di+Mo,ha="(?:"+[H,it,ut].join("|")+")"+yo,pa="(?:"+[Ue+Zo+"?",Zo,it,ut,Va].join("|")+")",Qh=RegExp(Wo,"g"),Hd=RegExp(Zo,"g"),Wa=RegExp(Ne+"(?="+Ne+")|"+pa+yo,"g"),Xh=RegExp([Nt+"?"+J+"+"+mo+"(?="+[zi,Nt,"$"].join("|")+")",Co+"+"+Br+"(?="+[zi,Nt+In,"$"].join("|")+")",Nt+"?"+In+"+"+mo,Nt+"+"+Br,$o,qr,N,ha].join("|"),"g"),fi=RegExp("["+Yt+Dn+Ui+Ts+"]"),Es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Mn=-1,on={};on[Li]=on[Eo]=on[Uo]=on[Ri]=on[xo]=on[_i]=on[ua]=on[ci]=on[Bi]=!0,on[Ae]=on[Be]=on[yr]=on[ze]=on[Rn]=on[Qe]=on[Zt]=on[_e]=on[st]=on[yt]=on[Tt]=on[$t]=on[Gt]=on[un]=on[Cn]=!1;var an={};an[Ae]=an[Be]=an[yr]=an[Rn]=an[ze]=an[Qe]=an[Li]=an[Eo]=an[Uo]=an[Ri]=an[xo]=an[st]=an[yt]=an[Tt]=an[$t]=an[Gt]=an[un]=an[Xt]=an[_i]=an[ua]=an[ci]=an[Bi]=!0,an[Zt]=an[_e]=an[Cn]=!1;var hi={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},qo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Za={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gc=parseFloat,xs=parseInt,Cs=typeof Vr=="object"&&Vr&&Vr.Object===Object&&Vr,Tu=typeof self=="object"&&self&&self.Object===Object&&self,Fn=Cs||Tu||Function("return this")(),Ms=t&&!t.nodeType&&t,pi=Ms&&!0&&e&&!e.nodeType&&e,Iu=pi&&pi.exports===Ms,Vi=Iu&&Cs.process,kr=function(){try{var be=pi&&pi.require&&pi.require("util").types;return be||Vi&&Vi.binding&&Vi.binding("util")}catch{}}(),ks=kr&&kr.isArrayBuffer,Nr=kr&&kr.isDate,$a=kr&&kr.isMap,ma=kr&&kr.isRegExp,Ns=kr&&kr.isSet,yc=kr&&kr.isTypedArray;function lr(be,Ve,Oe){switch(Oe.length){case 0:return be.call(Ve);case 1:return be.call(Ve,Oe[0]);case 2:return be.call(Ve,Oe[0],Oe[1]);case 3:return be.call(Ve,Oe[0],Oe[1],Oe[2])}return be.apply(Ve,Oe)}function qa(be,Ve,Oe,mt){for(var Wt=-1,pn=be==null?0:be.length;++Wt<pn;){var cr=be[Wt];Ve(mt,cr,Oe(cr),be)}return mt}function or(be,Ve){for(var Oe=-1,mt=be==null?0:be.length;++Oe<mt&&Ve(be[Oe],Oe,be)!==!1;);return be}function Cl(be,Ve){for(var Oe=be==null?0:be.length;Oe--&&Ve(be[Oe],Oe,be)!==!1;);return be}function vc(be,Ve){for(var Oe=-1,mt=be==null?0:be.length;++Oe<mt;)if(!Ve(be[Oe],Oe,be))return!1;return!0}function Wi(be,Ve){for(var Oe=-1,mt=be==null?0:be.length,Wt=0,pn=[];++Oe<mt;){var cr=be[Oe];Ve(cr,Oe,be)&&(pn[Wt++]=cr)}return pn}function As(be,Ve){var Oe=be==null?0:be.length;return!!Oe&&Ga(be,Ve,0)>-1}function Hr(be,Ve,Oe){for(var mt=-1,Wt=be==null?0:be.length;++mt<Wt;)if(Oe(Ve,be[mt]))return!0;return!1}function En(be,Ve){for(var Oe=-1,mt=be==null?0:be.length,Wt=Array(mt);++Oe<mt;)Wt[Oe]=Ve(be[Oe],Oe,be);return Wt}function mi(be,Ve){for(var Oe=-1,mt=Ve.length,Wt=be.length;++Oe<mt;)be[Wt+Oe]=Ve[Oe];return be}function Eu(be,Ve,Oe,mt){var Wt=-1,pn=be==null?0:be.length;for(mt&&pn&&(Oe=be[++Wt]);++Wt<pn;)Oe=Ve(Oe,be[Wt],Wt,be);return Oe}function Yd(be,Ve,Oe,mt){var Wt=be==null?0:be.length;for(mt&&Wt&&(Oe=be[--Wt]);Wt--;)Oe=Ve(Oe,be[Wt],Wt,be);return Oe}function Fs(be,Ve){for(var Oe=-1,mt=be==null?0:be.length;++Oe<mt;)if(Ve(be[Oe],Oe,be))return!0;return!1}var Ud=A("length");function xu(be){return be.split("")}function wc(be){return be.match(zo)||[]}function Ml(be,Ve,Oe){var mt;return Oe(be,function(Wt,pn,cr){if(Ve(Wt,pn,cr))return mt=pn,!1}),mt}function kl(be,Ve,Oe,mt){for(var Wt=be.length,pn=Oe+(mt?1:-1);mt?pn--:++pn<Wt;)if(Ve(be[pn],pn,be))return pn;return-1}function Ga(be,Ve,Oe){return Ve===Ve?Vd(be,Ve,Oe):kl(be,Sc,Oe)}function bc(be,Ve,Oe,mt){for(var Wt=Oe-1,pn=be.length;++Wt<pn;)if(mt(be[Wt],Ve))return Wt;return-1}function Sc(be){return be!==be}function Cu(be,Ve){var Oe=be==null?0:be.length;return Oe?Pe(be,Ve)/Oe:K}function A(be){return function(Ve){return Ve==null?n:Ve[be]}}function B(be){return function(Ve){return be==null?n:be[Ve]}}function q(be,Ve,Oe,mt,Wt){return Wt(be,function(pn,cr,Nn){Oe=mt?(mt=!1,pn):Ve(Oe,pn,cr,Nn)}),Oe}function se(be,Ve){var Oe=be.length;for(be.sort(Ve);Oe--;)be[Oe]=be[Oe].value;return be}function Pe(be,Ve){for(var Oe,mt=-1,Wt=be.length;++mt<Wt;){var pn=Ve(be[mt]);pn!==n&&(Oe=Oe===n?pn:Oe+pn)}return Oe}function xe(be,Ve){for(var Oe=-1,mt=Array(be);++Oe<be;)mt[Oe]=Ve(Oe);return mt}function We(be,Ve){return En(Ve,function(Oe){return[Oe,be[Oe]]})}function rt(be){return be&&be.slice(0,Wd(be)+1).replace(da,"")}function St(be){return function(Ve){return be(Ve)}}function Vt(be,Ve){return En(Ve,function(Oe){return be[Oe]})}function jt(be,Ve){return be.has(Ve)}function kn(be,Ve){for(var Oe=-1,mt=be.length;++Oe<mt&&Ga(Ve,be[Oe],0)>-1;);return Oe}function Yr(be,Ve){for(var Oe=be.length;Oe--&&Ga(Ve,be[Oe],0)>-1;);return Oe}function ko(be,Ve){for(var Oe=be.length,mt=0;Oe--;)be[Oe]===Ve&&++mt;return mt}var No=B(hi),Nl=B(qo);function Mu(be){return"\\"+Za[be]}function ga(be,Ve){return be==null?n:be[Ve]}function Dc(be){return fi.test(be)}function X0(be){return Es.test(be)}function ew(be){for(var Ve,Oe=[];!(Ve=be.next()).done;)Oe.push(Ve.value);return Oe}function zd(be){var Ve=-1,Oe=Array(be.size);return be.forEach(function(mt,Wt){Oe[++Ve]=[Wt,mt]}),Oe}function ep(be,Ve){return function(Oe){return be(Ve(Oe))}}function gi(be,Ve){for(var Oe=-1,mt=be.length,Wt=0,pn=[];++Oe<mt;){var cr=be[Oe];(cr===Ve||cr===m)&&(be[Oe]=m,pn[Wt++]=Oe)}return pn}function Ps(be){var Ve=-1,Oe=Array(be.size);return be.forEach(function(mt){Oe[++Ve]=mt}),Oe}function tw(be){var Ve=-1,Oe=Array(be.size);return be.forEach(function(mt){Oe[++Ve]=[mt,mt]}),Oe}function Vd(be,Ve,Oe){for(var mt=Oe-1,Wt=be.length;++mt<Wt;)if(be[mt]===Ve)return mt;return-1}function nw(be,Ve,Oe){for(var mt=Oe+1;mt--;)if(be[mt]===Ve)return mt;return mt}function Al(be){return Dc(be)?Mg(be):Ud(be)}function Go(be){return Dc(be)?kg(be):xu(be)}function Wd(be){for(var Ve=be.length;Ve--&&Sn.test(be.charAt(Ve)););return Ve}var Cg=B(mc);function Mg(be){for(var Ve=Wa.lastIndex=0;Wa.test(be);)++Ve;return Ve}function kg(be){return be.match(Wa)||[]}function rw(be){return be.match(Xh)||[]}var ow=function be(Ve){Ve=Ve==null?Fn:Tc.defaults(Fn.Object(),Ve,Tc.pick(Fn,xl));var Oe=Ve.Array,mt=Ve.Date,Wt=Ve.Error,pn=Ve.Function,cr=Ve.Math,Nn=Ve.Object,ku=Ve.RegExp,iw=Ve.String,yi=Ve.TypeError,Ja=Oe.prototype,tp=pn.prototype,ya=Nn.prototype,Ic=Ve["__core-js_shared__"],Nu=tp.toString,mn=ya.hasOwnProperty,Ec=0,Zd=function(){var u=/[^.]+$/.exec(Ic&&Ic.keys&&Ic.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Au=ya.toString,$d=Nu.call(Nn),Ng=Fn._,Ag=ku("^"+Nu.call(mn).replace(rr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fu=Iu?Ve.Buffer:n,Ka=Ve.Symbol,Pu=Ve.Uint8Array,np=Fu?Fu.allocUnsafe:n,Zi=ep(Nn.getPrototypeOf,Nn),qd=Nn.create,Gd=ya.propertyIsEnumerable,Jd=Ja.splice,Fg=Ka?Ka.isConcatSpreadable:n,Qa=Ka?Ka.iterator:n,Fl=Ka?Ka.toStringTag:n,Ou=function(){try{var u=os(Nn,"defineProperty");return u({},"",{}),u}catch{}}(),Pg=Ve.clearTimeout!==Fn.clearTimeout&&Ve.clearTimeout,Bn=mt&&mt.now!==Fn.Date.now&&mt.now,rp=Ve.setTimeout!==Fn.setTimeout&&Ve.setTimeout,Pl=cr.ceil,Os=cr.floor,Kd=Nn.getOwnPropertySymbols,op=Fu?Fu.isBuffer:n,xc=Ve.isFinite,Qd=Ja.join,Cc=ep(Nn.keys,Nn),ur=cr.max,Gr=cr.min,aw=mt.now,Og=Ve.parseInt,ju=cr.random,Xd=Ja.reverse,Lu=os(Ve,"DataView"),Ol=os(Ve,"Map"),Ru=os(Ve,"Promise"),js=os(Ve,"Set"),_u=os(Ve,"WeakMap"),Mc=os(Nn,"create"),ef=_u&&new _u,kc={},ip=Gs(Lu),Ls=Gs(Ol),jg=Gs(Ru),Nc=Gs(js),va=Gs(_u),Rs=Ka?Ka.prototype:n,Jo=Rs?Rs.valueOf:n,tf=Rs?Rs.toString:n;function G(u){if(fr(u)&&!Qt(u)&&!(u instanceof Jt)){if(u instanceof Jr)return u;if(mn.call(u,"__wrapped__"))return _p(u)}return new Jr(u)}var Ac=function(){function u(){}return function(h){if(!ar(h))return{};if(qd)return qd(h);u.prototype=h;var D=new u;return u.prototype=n,D}}();function wa(){}function Jr(u,h){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}G.templateSettings={escape:kt,evaluate:en,interpolate:jn,variable:"",imports:{_:G}},G.prototype=wa.prototype,G.prototype.constructor=G,Jr.prototype=Ac(wa.prototype),Jr.prototype.constructor=Jr;function Jt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function nf(){var u=new Jt(this.__wrapped__);return u.__actions__=bo(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=bo(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=bo(this.__views__),u}function ap(){if(this.__filtered__){var u=new Jt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Fc(){var u=this.__wrapped__.value(),h=this.__dir__,D=Qt(u),j=h<0,U=D?u.length:0,ee=iy(0,U,this.__views__),fe=ee.start,ve=ee.end,Se=ve-fe,Ze=j?ve:fe-1,$e=this.__iteratees__,Ke=$e.length,ht=0,Ct=Gr(Se,this.__takeCount__);if(!D||!j&&U==Se&&Ct==Se)return vp(u,this.__actions__);var _t=[];e:for(;Se--&&ht<Ct;){Ze+=h;for(var rn=-1,Bt=u[Ze];++rn<Ke;){var sn=$e[rn],hn=sn.iteratee,na=sn.type,ri=hn(Bt);if(na==ie)Bt=ri;else if(!ri){if(na==X)continue e;break e}}_t[ht++]=Bt}return _t}Jt.prototype=Ac(wa.prototype),Jt.prototype.constructor=Jt;function Ao(u){var h=-1,D=u==null?0:u.length;for(this.clear();++h<D;){var j=u[h];this.set(j[0],j[1])}}function Hn(){this.__data__=Mc?Mc(null):{},this.size=0}function Ln(u){var h=this.has(u)&&delete this.__data__[u];return this.size-=h?1:0,h}function _s(u){var h=this.__data__;if(Mc){var D=h[u];return D===d?n:D}return mn.call(h,u)?h[u]:n}function Kr(u){var h=this.__data__;return Mc?h[u]!==n:mn.call(h,u)}function Fo(u,h){var D=this.__data__;return this.size+=this.has(u)?0:1,D[u]=Mc&&h===n?d:h,this}Ao.prototype.clear=Hn,Ao.prototype.delete=Ln,Ao.prototype.get=_s,Ao.prototype.has=Kr,Ao.prototype.set=Fo;function vo(u){var h=-1,D=u==null?0:u.length;for(this.clear();++h<D;){var j=u[h];this.set(j[0],j[1])}}function Pc(){this.__data__=[],this.size=0}function Po(u){var h=this.__data__,D=Xr(h,u);if(D<0)return!1;var j=h.length-1;return D==j?h.pop():Jd.call(h,D,1),--this.size,!0}function rf(u){var h=this.__data__,D=Xr(h,u);return D<0?n:h[D][1]}function Lg(u){return Xr(this.__data__,u)>-1}function Rg(u,h){var D=this.__data__,j=Xr(D,u);return j<0?(++this.size,D.push([u,h])):D[j][1]=h,this}vo.prototype.clear=Pc,vo.prototype.delete=Po,vo.prototype.get=rf,vo.prototype.has=Lg,vo.prototype.set=Rg;function vi(u){var h=-1,D=u==null?0:u.length;for(this.clear();++h<D;){var j=u[h];this.set(j[0],j[1])}}function _g(){this.size=0,this.__data__={hash:new Ao,map:new(Ol||vo),string:new Ao}}function Xa(u){var h=Af(this,u).delete(u);return this.size-=h?1:0,h}function of(u){return Af(this,u).get(u)}function sp(u){return Af(this,u).has(u)}function Bg(u,h){var D=Af(this,u),j=D.size;return D.set(u,h),this.size+=D.size==j?0:1,this}vi.prototype.clear=_g,vi.prototype.delete=Xa,vi.prototype.get=of,vi.prototype.has=sp,vi.prototype.set=Bg;function jl(u){var h=-1,D=u==null?0:u.length;for(this.__data__=new vi;++h<D;)this.add(u[h])}function Bs(u){return this.__data__.set(u,d),this}function Oc(u){return this.__data__.has(u)}jl.prototype.add=jl.prototype.push=Bs,jl.prototype.has=Oc;function Qr(u){var h=this.__data__=new vo(u);this.size=h.size}function af(){this.__data__=new vo,this.size=0}function sf(u){var h=this.__data__,D=h.delete(u);return this.size=h.size,D}function wi(u){return this.__data__.get(u)}function bi(u){return this.__data__.has(u)}function Ll(u,h){var D=this.__data__;if(D instanceof vo){var j=D.__data__;if(!Ol||j.length<o-1)return j.push([u,h]),this.size=++D.size,this;D=this.__data__=new vi(j)}return D.set(u,h),this.size=D.size,this}Qr.prototype.clear=af,Qr.prototype.delete=sf,Qr.prototype.get=wi,Qr.prototype.has=bi,Qr.prototype.set=Ll;function ba(u,h){var D=Qt(u),j=!D&&cd(u),U=!D&&!j&&Kc(u),ee=!D&&!j&&!U&&eh(u),fe=D||j||U||ee,ve=fe?xe(u.length,iw):[],Se=ve.length;for(var Ze in u)(h||mn.call(u,Ze))&&!(fe&&(Ze=="length"||U&&(Ze=="offset"||Ze=="parent")||ee&&(Ze=="buffer"||Ze=="byteLength"||Ze=="byteOffset")||Di(Ze,Se)))&&ve.push(Ze);return ve}function Sa(u){var h=u.length;return h?u[Zu(0,h-1)]:n}function Rl(u,h){return ei(bo(u),es(h,0,u.length))}function Hg(u){return ei(bo(u))}function Bu(u,h,D){(D!==n&&!ss(u[h],D)||D===n&&!(h in u))&&Da(u,h,D)}function _l(u,h,D){var j=u[h];(!(mn.call(u,h)&&ss(j,D))||D===n&&!(h in u))&&Da(u,h,D)}function Xr(u,h){for(var D=u.length;D--;)if(ss(u[D][0],h))return D;return-1}function Ko(u,h,D,j){return Ia(u,function(U,ee,fe){h(j,U,D(U),fe)}),j}function Yn(u,h){return u&&Qi(h,ao(h),u)}function $i(u,h){return u&&Qi(h,xi(h),u)}function Da(u,h,D){h=="__proto__"&&Ou?Ou(u,h,{configurable:!0,enumerable:!0,value:D,writable:!0}):u[h]=D}function lf(u,h){for(var D=-1,j=h.length,U=Oe(j),ee=u==null;++D<j;)U[D]=ee?n:kw(u,h[D]);return U}function es(u,h,D){return u===u&&(D!==n&&(u=u<=D?u:D),h!==n&&(u=u>=h?u:h)),u}function Oo(u,h,D,j,U,ee){var fe,ve=h&g,Se=h&v,Ze=h&w;if(D&&(fe=U?D(u,j,U,ee):D(u)),fe!==n)return fe;if(!ar(u))return u;var $e=Qt(u);if($e){if(fe=ay(u),!ve)return bo(u,fe)}else{var Ke=ro(u),ht=Ke==_e||Ke==tt;if(Kc(u))return bp(u,ve);if(Ke==Tt||Ke==Ae||ht&&!U){if(fe=Se||ht?{}:Wc(u),!ve)return Se?lw(u,$i(fe,u)):Jg(u,Yn(fe,u))}else{if(!an[Ke])return U?u:{};fe=oo(u,Ke,ve)}}ee||(ee=new Qr);var Ct=ee.get(u);if(Ct)return Ct;ee.set(u,fe),lD(u)?u.forEach(function(Bt){fe.add(Oo(Bt,h,D,Bt,u,ee))}):aD(u)&&u.forEach(function(Bt,sn){fe.set(sn,Oo(Bt,h,D,sn,u,ee))});var _t=Ze?Se?Xu:Nf:Se?xi:ao,rn=$e?n:_t(u);return or(rn||u,function(Bt,sn){rn&&(sn=Bt,Bt=u[sn]),_l(fe,sn,Oo(Bt,h,D,sn,u,ee))}),fe}function Yg(u){var h=ao(u);return function(D){return Hu(D,u,h)}}function Hu(u,h,D){var j=D.length;if(u==null)return!j;for(u=Nn(u);j--;){var U=D[j],ee=h[U],fe=u[U];if(fe===n&&!(U in u)||!ee(fe))return!1}return!0}function lp(u,h,D){if(typeof u!="function")throw new yi(a);return $c(function(){u.apply(n,D)},h)}function Ta(u,h,D,j){var U=-1,ee=As,fe=!0,ve=u.length,Se=[],Ze=h.length;if(!ve)return Se;D&&(h=En(h,St(D))),j?(ee=Hr,fe=!1):h.length>=o&&(ee=jt,fe=!1,h=new jl(h));e:for(;++U<ve;){var $e=u[U],Ke=D==null?$e:D($e);if($e=j||$e!==0?$e:0,fe&&Ke===Ke){for(var ht=Ze;ht--;)if(h[ht]===Ke)continue e;Se.push($e)}else ee(h,Ke,j)||Se.push($e)}return Se}var Ia=Kg(Si),Ug=Kg(Hs,!0);function qi(u,h){var D=!0;return Ia(u,function(j,U,ee){return D=!!h(j,U,ee),D}),D}function Bl(u,h,D){for(var j=-1,U=u.length;++j<U;){var ee=u[j],fe=h(ee);if(fe!=null&&(ve===n?fe===fe&&!ta(fe):D(fe,ve)))var ve=fe,Se=ee}return Se}function cf(u,h,D,j){var U=u.length;for(D=nn(D),D<0&&(D=-D>U?0:U+D),j=j===n||j>U?U:nn(j),j<0&&(j+=U),j=D>j?0:uD(j);D<j;)u[D++]=h;return u}function Hl(u,h){var D=[];return Ia(u,function(j,U,ee){h(j,U,ee)&&D.push(j)}),D}function wr(u,h,D,j,U){var ee=-1,fe=u.length;for(D||(D=dw),U||(U=[]);++ee<fe;){var ve=u[ee];h>0&&D(ve)?h>1?wr(ve,h-1,D,j,U):mi(U,ve):j||(U[U.length]=ve)}return U}var Yu=Ep(),uf=Ep(!0);function Si(u,h){return u&&Yu(u,h,ao)}function Hs(u,h){return u&&uf(u,h,ao)}function wo(u,h){return Wi(h,function(D){return ql(u[D])})}function Qo(u,h){h=ts(h,u);for(var D=0,j=h.length;u!=null&&D<j;)u=u[Xi(h[D++])];return D&&D==j?u:n}function df(u,h,D){var j=h(u);return Qt(u)?j:mi(j,D(u))}function eo(u){return u==null?u===n?Qn:xt:Fl&&Fl in Nn(u)?oy(u):uy(u)}function Gi(u,h){return u>h}function Ys(u,h){return u!=null&&mn.call(u,h)}function cp(u,h){return u!=null&&h in Nn(u)}function zg(u,h,D){return u>=Gr(h,D)&&u<ur(h,D)}function Ji(u,h,D){for(var j=D?Hr:As,U=u[0].length,ee=u.length,fe=ee,ve=Oe(ee),Se=1/0,Ze=[];fe--;){var $e=u[fe];fe&&h&&($e=En($e,St(h))),Se=Gr($e.length,Se),ve[fe]=!D&&(h||U>=120&&$e.length>=120)?new jl(fe&&$e):n}$e=u[0];var Ke=-1,ht=ve[0];e:for(;++Ke<U&&Ze.length<Se;){var Ct=$e[Ke],_t=h?h(Ct):Ct;if(Ct=D||Ct!==0?Ct:0,!(ht?jt(ht,_t):j(Ze,_t,D))){for(fe=ee;--fe;){var rn=ve[fe];if(!(rn?jt(rn,_t):j(u[fe],_t,D)))continue e}ht&&ht.push(_t),Ze.push(Ct)}}return Ze}function Us(u,h,D,j){return Si(u,function(U,ee,fe){h(j,D(U),ee,fe)}),j}function zs(u,h,D){h=ts(h,u),u=Of(u,h);var j=u==null?u:u[Xi(Ir(h))];return j==null?n:lr(j,u,D)}function up(u){return fr(u)&&eo(u)==Ae}function ff(u){return fr(u)&&eo(u)==yr}function Vg(u){return fr(u)&&eo(u)==Qe}function jc(u,h,D,j,U){return u===h?!0:u==null||h==null||!fr(u)&&!fr(h)?u!==u&&h!==h:dp(u,h,D,j,jc,U)}function dp(u,h,D,j,U,ee){var fe=Qt(u),ve=Qt(h),Se=fe?Be:ro(u),Ze=ve?Be:ro(h);Se=Se==Ae?Tt:Se,Ze=Ze==Ae?Tt:Ze;var $e=Se==Tt,Ke=Ze==Tt,ht=Se==Ze;if(ht&&Kc(u)){if(!Kc(h))return!1;fe=!0,$e=!1}if(ht&&!$e)return ee||(ee=new Qr),fe||eh(u)?kf(u,h,D,j,U,ee):ry(u,h,Se,D,j,U,ee);if(!(D&T)){var Ct=$e&&mn.call(u,"__wrapped__"),_t=Ke&&mn.call(h,"__wrapped__");if(Ct||_t){var rn=Ct?u.value():u,Bt=_t?h.value():h;return ee||(ee=new Qr),U(rn,Bt,D,j,ee)}}return ht?(ee||(ee=new Qr),Ap(u,h,D,j,U,ee)):!1}function hf(u){return fr(u)&&ro(u)==st}function pf(u,h,D,j){var U=D.length,ee=U,fe=!j;if(u==null)return!ee;for(u=Nn(u);U--;){var ve=D[U];if(fe&&ve[2]?ve[1]!==u[ve[0]]:!(ve[0]in u))return!1}for(;++U<ee;){ve=D[U];var Se=ve[0],Ze=u[Se],$e=ve[1];if(fe&&ve[2]){if(Ze===n&&!(Se in u))return!1}else{var Ke=new Qr;if(j)var ht=j(Ze,$e,Se,u,h,Ke);if(!(ht===n?jc($e,Ze,T|S,j,Ke):ht))return!1}}return!0}function fp(u){if(!ar(u)||jp(u))return!1;var h=ql(u)?Ag:Ha;return h.test(Gs(u))}function Wg(u){return fr(u)&&eo(u)==$t}function hp(u){return fr(u)&&ro(u)==Gt}function Uu(u){return fr(u)&&xy(u.length)&&!!on[eo(u)]}function zu(u){return typeof u=="function"?u:u==null?Ci:typeof u=="object"?Qt(u)?Ki(u[0],u[1]):Lc(u):SD(u)}function mf(u){if(!nd(u))return Cc(u);var h=[];for(var D in Nn(u))mn.call(u,D)&&D!="constructor"&&h.push(D);return h}function Zg(u){if(!ar(u))return cy(u);var h=nd(u),D=[];for(var j in u)j=="constructor"&&(h||!mn.call(u,j))||D.push(j);return D}function Vs(u,h){return u<h}function pp(u,h){var D=-1,j=Ei(u)?Oe(u.length):[];return Ia(u,function(U,ee,fe){j[++D]=h(U,ee,fe)}),j}function Lc(u){var h=Ff(u);return h.length==1&&h[0][2]?rd(h[0][0],h[0][1]):function(D){return D===u||pf(D,u,h)}}function Ki(u,h){return Op(u)&&Zc(h)?rd(Xi(u),h):function(D){var j=kw(D,u);return j===n&&j===h?Nw(D,u):jc(h,j,T|S)}}function Ws(u,h,D,j,U){u!==h&&Yu(h,function(ee,fe){if(U||(U=new Qr),ar(ee))Vu(u,h,fe,D,Ws,j,U);else{var ve=j?j(Xo(u,fe),ee,fe+"",u,h,U):n;ve===n&&(ve=ee),Bu(u,fe,ve)}},xi)}function Vu(u,h,D,j,U,ee,fe){var ve=Xo(u,D),Se=Xo(h,D),Ze=fe.get(Se);if(Ze){Bu(u,D,Ze);return}var $e=ee?ee(ve,Se,D+"",u,h,fe):n,Ke=$e===n;if(Ke){var ht=Qt(Se),Ct=!ht&&Kc(Se),_t=!ht&&!Ct&&eh(Se);$e=Se,ht||Ct||_t?Qt(ve)?$e=ve:Er(ve)?$e=bo(ve):Ct?(Ke=!1,$e=bp(Se,!0)):_t?(Ke=!1,$e=Dp(Se,!0)):$e=[]:nm(Se)||cd(Se)?($e=ve,cd(ve)?$e=dD(ve):(!ar(ve)||ql(ve))&&($e=Wc(Se))):Ke=!1}Ke&&(fe.set(Se,$e),U($e,Se,j,ee,fe),fe.delete(Se)),Bu(u,D,$e)}function Zs(u,h){var D=u.length;if(D)return h+=h<0?D:0,Di(h,D)?u[h]:n}function gf(u,h,D){h.length?h=En(h,function(ee){return Qt(ee)?function(fe){return Qo(fe,ee.length===1?ee[0]:ee)}:ee}):h=[Ci];var j=-1;h=En(h,St(At()));var U=pp(u,function(ee,fe,ve){var Se=En(h,function(Ze){return Ze(ee)});return{criteria:Se,index:++j,value:ee}});return se(U,function(ee,fe){return Gg(ee,fe,D)})}function Rc(u,h){return mp(u,h,function(D,j){return Nw(u,j)})}function mp(u,h,D){for(var j=-1,U=h.length,ee={};++j<U;){var fe=h[j],ve=Qo(u,fe);D(ve,fe)&&Zn(ee,ts(fe,u),ve)}return ee}function gp(u){return function(h){return Qo(h,u)}}function Un(u,h,D,j){var U=j?bc:Ga,ee=-1,fe=h.length,ve=u;for(u===h&&(h=bo(h)),D&&(ve=En(u,St(D)));++ee<fe;)for(var Se=0,Ze=h[ee],$e=D?D(Ze):Ze;(Se=U(ve,$e,Se,j))>-1;)ve!==u&&Jd.call(ve,Se,1),Jd.call(u,Se,1);return u}function Wu(u,h){for(var D=u?h.length:0,j=D-1;D--;){var U=h[D];if(D==j||U!==ee){var ee=U;Di(U)?Jd.call(u,U,1):Ul(u,U)}}return u}function Zu(u,h){return u+Os(ju()*(h-u+1))}function yp(u,h,D,j){for(var U=-1,ee=ur(Pl((h-u)/(D||1)),0),fe=Oe(ee);ee--;)fe[j?ee:++U]=u,u+=D;return fe}function _c(u,h){var D="";if(!u||h<1||h>ne)return D;do h%2&&(D+=u),h=Os(h/2),h&&(u+=u);while(h);return D}function Kt(u,h){return jf(Pf(u,h,Ci),u+"")}function Yl(u){return Sa(th(u))}function Wn(u,h){var D=th(u);return ei(D,es(h,0,D.length))}function Zn(u,h,D,j){if(!ar(u))return u;h=ts(h,u);for(var U=-1,ee=h.length,fe=ee-1,ve=u;ve!=null&&++U<ee;){var Se=Xi(h[U]),Ze=D;if(Se==="__proto__"||Se==="constructor"||Se==="prototype")return u;if(U!=fe){var $e=ve[Se];Ze=j?j($e,Se,ve):n,Ze===n&&(Ze=ar($e)?$e:Di(h[U+1])?[]:{})}_l(ve,Se,Ze),ve=ve[Se]}return u}var br=ef?function(u,h){return ef.set(u,h),u}:Ci,yf=Ou?function(u,h){return Ou(u,"toString",{configurable:!0,enumerable:!1,value:Fw(h),writable:!0})}:Ci;function $u(u){return ei(th(u))}function to(u,h,D){var j=-1,U=u.length;h<0&&(h=-h>U?0:U+h),D=D>U?U:D,D<0&&(D+=U),U=h>D?0:D-h>>>0,h>>>=0;for(var ee=Oe(U);++j<U;)ee[j]=u[j+h];return ee}function sw(u,h){var D;return Ia(u,function(j,U,ee){return D=h(j,U,ee),!D}),!!D}function Sr(u,h,D){var j=0,U=u==null?j:u.length;if(typeof h=="number"&&h===h&&U<=Ee){for(;j<U;){var ee=j+U>>>1,fe=u[ee];fe!==null&&!ta(fe)&&(D?fe<=h:fe<h)?j=ee+1:U=ee}return U}return qu(u,h,Ci,D)}function qu(u,h,D,j){var U=0,ee=u==null?0:u.length;if(ee===0)return 0;h=D(h);for(var fe=h!==h,ve=h===null,Se=ta(h),Ze=h===n;U<ee;){var $e=Os((U+ee)/2),Ke=D(u[$e]),ht=Ke!==n,Ct=Ke===null,_t=Ke===Ke,rn=ta(Ke);if(fe)var Bt=j||_t;else Ze?Bt=_t&&(j||ht):ve?Bt=_t&&ht&&(j||!Ct):Se?Bt=_t&&ht&&!Ct&&(j||!rn):Ct||rn?Bt=!1:Bt=j?Ke<=h:Ke<h;Bt?U=$e+1:ee=$e}return Gr(ee,pe)}function vf(u,h){for(var D=-1,j=u.length,U=0,ee=[];++D<j;){var fe=u[D],ve=h?h(fe):fe;if(!D||!ss(ve,Se)){var Se=ve;ee[U++]=fe===0?0:fe}}return ee}function wf(u){return typeof u=="number"?u:ta(u)?K:+u}function Xn(u){if(typeof u=="string")return u;if(Qt(u))return En(u,Xn)+"";if(ta(u))return tf?tf.call(u):"";var h=u+"";return h=="0"&&1/u==-ue?"-0":h}function Dr(u,h,D){var j=-1,U=As,ee=u.length,fe=!0,ve=[],Se=ve;if(D)fe=!1,U=Hr;else if(ee>=o){var Ze=h?null:So(u);if(Ze)return Ps(Ze);fe=!1,U=jt,Se=new jl}else Se=h?[]:ve;e:for(;++j<ee;){var $e=u[j],Ke=h?h($e):$e;if($e=D||$e!==0?$e:0,fe&&Ke===Ke){for(var ht=Se.length;ht--;)if(Se[ht]===Ke)continue e;h&&Se.push(Ke),ve.push($e)}else U(Se,Ke,D)||(Se!==ve&&Se.push(Ke),ve.push($e))}return ve}function Ul(u,h){return h=ts(h,u),u=Of(u,h),u==null||delete u[Xi(Ir(h))]}function bf(u,h,D,j){return Zn(u,h,D(Qo(u,h)),j)}function Bc(u,h,D,j){for(var U=u.length,ee=j?U:-1;(j?ee--:++ee<U)&&h(u[ee],ee,u););return D?to(u,j?0:ee,j?ee+1:U):to(u,j?ee+1:0,j?U:ee)}function vp(u,h){var D=u;return D instanceof Jt&&(D=D.value()),Eu(h,function(j,U){return U.func.apply(U.thisArg,mi([j],U.args))},D)}function Sf(u,h,D){var j=u.length;if(j<2)return j?Dr(u[0]):[];for(var U=-1,ee=Oe(j);++U<j;)for(var fe=u[U],ve=-1;++ve<j;)ve!=U&&(ee[U]=Ta(ee[U]||fe,u[ve],h,D));return Dr(wr(ee,1),h,D)}function wp(u,h,D){for(var j=-1,U=u.length,ee=h.length,fe={};++j<U;){var ve=j<ee?h[j]:n;D(fe,u[j],ve)}return fe}function Df(u){return Er(u)?u:[]}function Tf(u){return typeof u=="function"?u:Ci}function ts(u,h){return Qt(u)?u:Op(u,h)?[u]:dy(An(u))}var $g=Kt;function ns(u,h,D){var j=u.length;return D=D===n?j:D,!h&&D>=j?u:to(u,h,D)}var Hc=Pg||function(u){return Fn.clearTimeout(u)};function bp(u,h){if(h)return u.slice();var D=u.length,j=np?np(D):new u.constructor(D);return u.copy(j),j}function Yc(u){var h=new u.constructor(u.byteLength);return new Pu(h).set(new Pu(u)),h}function If(u,h){var D=h?Yc(u.buffer):u.buffer;return new u.constructor(D,u.byteOffset,u.byteLength)}function qg(u){var h=new u.constructor(u.source,Yi.exec(u));return h.lastIndex=u.lastIndex,h}function Sp(u){return Jo?Nn(Jo.call(u)):{}}function Dp(u,h){var D=h?Yc(u.buffer):u.buffer;return new u.constructor(D,u.byteOffset,u.length)}function Tp(u,h){if(u!==h){var D=u!==n,j=u===null,U=u===u,ee=ta(u),fe=h!==n,ve=h===null,Se=h===h,Ze=ta(h);if(!ve&&!Ze&&!ee&&u>h||ee&&fe&&Se&&!ve&&!Ze||j&&fe&&Se||!D&&Se||!U)return 1;if(!j&&!ee&&!Ze&&u<h||Ze&&D&&U&&!j&&!ee||ve&&D&&U||!fe&&U||!Se)return-1}return 0}function Gg(u,h,D){for(var j=-1,U=u.criteria,ee=h.criteria,fe=U.length,ve=D.length;++j<fe;){var Se=Tp(U[j],ee[j]);if(Se){if(j>=ve)return Se;var Ze=D[j];return Se*(Ze=="desc"?-1:1)}}return u.index-h.index}function Ip(u,h,D,j){for(var U=-1,ee=u.length,fe=D.length,ve=-1,Se=h.length,Ze=ur(ee-fe,0),$e=Oe(Se+Ze),Ke=!j;++ve<Se;)$e[ve]=h[ve];for(;++U<fe;)(Ke||U<ee)&&($e[D[U]]=u[U]);for(;Ze--;)$e[ve++]=u[U++];return $e}function Ef(u,h,D,j){for(var U=-1,ee=u.length,fe=-1,ve=D.length,Se=-1,Ze=h.length,$e=ur(ee-ve,0),Ke=Oe($e+Ze),ht=!j;++U<$e;)Ke[U]=u[U];for(var Ct=U;++Se<Ze;)Ke[Ct+Se]=h[Se];for(;++fe<ve;)(ht||U<ee)&&(Ke[Ct+D[fe]]=u[U++]);return Ke}function bo(u,h){var D=-1,j=u.length;for(h||(h=Oe(j));++D<j;)h[D]=u[D];return h}function Qi(u,h,D,j){var U=!D;D||(D={});for(var ee=-1,fe=h.length;++ee<fe;){var ve=h[ee],Se=j?j(D[ve],u[ve],ve,D,u):n;Se===n&&(Se=u[ve]),U?Da(D,ve,Se):_l(D,ve,Se)}return D}function Jg(u,h){return Qi(u,Vc(u),h)}function lw(u,h){return Qi(u,Ca(u),h)}function Gu(u,h){return function(D,j){var U=Qt(D)?qa:Ko,ee=h?h():{};return U(D,u,At(j,2),ee)}}function Uc(u){return Kt(function(h,D){var j=-1,U=D.length,ee=U>1?D[U-1]:n,fe=U>2?D[2]:n;for(ee=u.length>3&&typeof ee=="function"?(U--,ee):n,fe&&Tn(D[0],D[1],fe)&&(ee=U<3?n:ee,U=1),h=Nn(h);++j<U;){var ve=D[j];ve&&u(h,ve,j,ee)}return h})}function Kg(u,h){return function(D,j){if(D==null)return D;if(!Ei(D))return u(D,j);for(var U=D.length,ee=h?U:-1,fe=Nn(D);(h?ee--:++ee<U)&&j(fe[ee],ee,fe)!==!1;);return D}}function Ep(u){return function(h,D,j){for(var U=-1,ee=Nn(h),fe=j(h),ve=fe.length;ve--;){var Se=fe[u?ve:++U];if(D(ee[Se],Se,ee)===!1)break}return h}}function Qg(u,h,D){var j=h&I,U=Ju(u);function ee(){var fe=this&&this!==Fn&&this instanceof ee?U:u;return fe.apply(j?D:this,arguments)}return ee}function xp(u){return function(h){h=An(h);var D=Dc(h)?Go(h):n,j=D?D[0]:h.charAt(0),U=D?ns(D,1).join(""):h.slice(1);return j[u]()+U}}function rs(u){return function(h){return Eu(wD(vD(h).replace(Qh,"")),u,"")}}function Ju(u){return function(){var h=arguments;switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3]);case 5:return new u(h[0],h[1],h[2],h[3],h[4]);case 6:return new u(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new u(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var D=Ac(u.prototype),j=u.apply(D,h);return ar(j)?j:D}}function cw(u,h,D){var j=Ju(u);function U(){for(var ee=arguments.length,fe=Oe(ee),ve=ee,Se=$s(U);ve--;)fe[ve]=arguments[ve];var Ze=ee<3&&fe[0]!==Se&&fe[ee-1]!==Se?[]:gi(fe,Se);if(ee-=Ze.length,ee<D)return ty(u,h,zc,U.placeholder,n,fe,Ze,n,n,D-ee);var $e=this&&this!==Fn&&this instanceof U?j:u;return lr($e,this,fe)}return U}function Xg(u){return function(h,D,j){var U=Nn(h);if(!Ei(h)){var ee=At(D,3);h=ao(h),D=function(ve){return ee(U[ve],ve,U)}}var fe=u(h,D,j);return fe>-1?U[ee?h[fe]:fe]:n}}function zl(u){return xa(function(h){var D=h.length,j=D,U=Jr.prototype.thru;for(u&&h.reverse();j--;){var ee=h[j];if(typeof ee!="function")throw new yi(a);if(U&&!fe&&td(ee)=="wrapper")var fe=new Jr([],!0)}for(j=fe?j:D;++j<D;){ee=h[j];var ve=td(ee),Se=ve=="wrapper"?ed(ee):n;Se&&qs(Se[0])&&Se[1]==(z|R|_|Y)&&!Se[4].length&&Se[9]==1?fe=fe[td(Se[0])].apply(fe,Se[3]):fe=ee.length==1&&qs(ee)?fe[ve]():fe.thru(ee)}return function(){var Ze=arguments,$e=Ze[0];if(fe&&Ze.length==1&&Qt($e))return fe.plant($e).value();for(var Ke=0,ht=D?h[Ke].apply(this,Ze):$e;++Ke<D;)ht=h[Ke].call(this,ht);return ht}})}function zc(u,h,D,j,U,ee,fe,ve,Se,Ze){var $e=h&z,Ke=h&I,ht=h&k,Ct=h&(R|M),_t=h&V,rn=ht?n:Ju(u);function Bt(){for(var sn=arguments.length,hn=Oe(sn),na=sn;na--;)hn[na]=arguments[na];if(Ct)var ri=$s(Bt),ra=ko(hn,ri);if(j&&(hn=Ip(hn,j,U,Ct)),ee&&(hn=Ef(hn,ee,fe,Ct)),sn-=ra,Ct&&sn<Ze){var xr=gi(hn,ri);return ty(u,h,zc,Bt.placeholder,D,hn,xr,ve,Se,Ze-sn)}var ls=Ke?D:this,Jl=ht?ls[u]:u;return sn=hn.length,ve?hn=Ur(hn,ve):_t&&sn>1&&hn.reverse(),$e&&Se<sn&&(hn.length=Se),this&&this!==Fn&&this instanceof Bt&&(Jl=rn||Ju(Jl)),Jl.apply(ls,hn)}return Bt}function xf(u,h){return function(D,j){return Us(D,u,h(j),{})}}function Cf(u,h){return function(D,j){var U;if(D===n&&j===n)return h;if(D!==n&&(U=D),j!==n){if(U===n)return j;typeof D=="string"||typeof j=="string"?(D=Xn(D),j=Xn(j)):(D=wf(D),j=wf(j)),U=u(D,j)}return U}}function Mf(u){return xa(function(h){return h=En(h,St(At())),Kt(function(D){var j=this;return u(h,function(U){return lr(U,j,D)})})})}function Ku(u,h){h=h===n?" ":Xn(h);var D=h.length;if(D<2)return D?_c(h,u):h;var j=_c(h,Pl(u/Al(h)));return Dc(h)?ns(Go(j),0,u).join(""):j.slice(0,u)}function ey(u,h,D,j){var U=h&I,ee=Ju(u);function fe(){for(var ve=-1,Se=arguments.length,Ze=-1,$e=j.length,Ke=Oe($e+Se),ht=this&&this!==Fn&&this instanceof fe?ee:u;++Ze<$e;)Ke[Ze]=j[Ze];for(;Se--;)Ke[Ze++]=arguments[++ve];return lr(ht,U?D:this,Ke)}return fe}function Cp(u){return function(h,D,j){return j&&typeof j!="number"&&Tn(h,D,j)&&(D=j=n),h=Gl(h),D===n?(D=h,h=0):D=Gl(D),j=j===n?h<D?1:-1:Gl(j),yp(h,D,j,u)}}function Qu(u){return function(h,D){return typeof h=="string"&&typeof D=="string"||(h=Ma(h),D=Ma(D)),u(h,D)}}function ty(u,h,D,j,U,ee,fe,ve,Se,Ze){var $e=h&R,Ke=$e?fe:n,ht=$e?n:fe,Ct=$e?ee:n,_t=$e?n:ee;h|=$e?_:L,h&=~($e?L:_),h&P||(h&=~(I|k));var rn=[u,h,U,Ct,Ke,_t,ht,ve,Se,Ze],Bt=D.apply(n,rn);return qs(u)&&is(Bt,rn),Bt.placeholder=j,Ti(Bt,u,h)}function no(u){var h=cr[u];return function(D,j){if(D=Ma(D),j=j==null?0:Gr(nn(j),292),j&&xc(D)){var U=(An(D)+"e").split("e"),ee=h(U[0]+"e"+(+U[1]+j));return U=(An(ee)+"e").split("e"),+(U[0]+"e"+(+U[1]-j))}return h(D)}}var So=js&&1/Ps(new js([,-0]))[1]==ue?function(u){return new js(u)}:jw;function Mp(u){return function(h){var D=ro(h);return D==st?zd(h):D==Gt?tw(h):We(h,u(h))}}function Ea(u,h,D,j,U,ee,fe,ve){var Se=h&k;if(!Se&&typeof u!="function")throw new yi(a);var Ze=j?j.length:0;if(Ze||(h&=~(_|L),j=U=n),fe=fe===n?fe:ur(nn(fe),0),ve=ve===n?ve:nn(ve),Ze-=U?U.length:0,h&L){var $e=j,Ke=U;j=U=n}var ht=Se?n:ed(u),Ct=[u,h,D,j,U,$e,Ke,ee,fe,ve];if(ht&&ly(Ct,ht),u=Ct[0],h=Ct[1],D=Ct[2],j=Ct[3],U=Ct[4],ve=Ct[9]=Ct[9]===n?Se?0:u.length:ur(Ct[9]-Ze,0),!ve&&h&(R|M)&&(h&=~(R|M)),!h||h==I)var _t=Qg(u,h,D);else h==R||h==M?_t=cw(u,h,ve):(h==_||h==(I|_))&&!U.length?_t=ey(u,h,D,j):_t=zc.apply(n,Ct);var rn=ht?br:is;return Ti(rn(_t,Ct),u,h)}function kp(u,h,D,j){return u===n||ss(u,ya[D])&&!mn.call(j,D)?h:u}function Np(u,h,D,j,U,ee){return ar(u)&&ar(h)&&(ee.set(h,u),Ws(u,h,n,Np,ee),ee.delete(h)),u}function ny(u){return nm(u)?n:u}function kf(u,h,D,j,U,ee){var fe=D&T,ve=u.length,Se=h.length;if(ve!=Se&&!(fe&&Se>ve))return!1;var Ze=ee.get(u),$e=ee.get(h);if(Ze&&$e)return Ze==h&&$e==u;var Ke=-1,ht=!0,Ct=D&S?new jl:n;for(ee.set(u,h),ee.set(h,u);++Ke<ve;){var _t=u[Ke],rn=h[Ke];if(j)var Bt=fe?j(rn,_t,Ke,h,u,ee):j(_t,rn,Ke,u,h,ee);if(Bt!==n){if(Bt)continue;ht=!1;break}if(Ct){if(!Fs(h,function(sn,hn){if(!jt(Ct,hn)&&(_t===sn||U(_t,sn,D,j,ee)))return Ct.push(hn)})){ht=!1;break}}else if(!(_t===rn||U(_t,rn,D,j,ee))){ht=!1;break}}return ee.delete(u),ee.delete(h),ht}function ry(u,h,D,j,U,ee,fe){switch(D){case Rn:if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case yr:return!(u.byteLength!=h.byteLength||!ee(new Pu(u),new Pu(h)));case ze:case Qe:case yt:return ss(+u,+h);case Zt:return u.name==h.name&&u.message==h.message;case $t:case un:return u==h+"";case st:var ve=zd;case Gt:var Se=j&T;if(ve||(ve=Ps),u.size!=h.size&&!Se)return!1;var Ze=fe.get(u);if(Ze)return Ze==h;j|=S,fe.set(u,h);var $e=kf(ve(u),ve(h),j,U,ee,fe);return fe.delete(u),$e;case Xt:if(Jo)return Jo.call(u)==Jo.call(h)}return!1}function Ap(u,h,D,j,U,ee){var fe=D&T,ve=Nf(u),Se=ve.length,Ze=Nf(h),$e=Ze.length;if(Se!=$e&&!fe)return!1;for(var Ke=Se;Ke--;){var ht=ve[Ke];if(!(fe?ht in h:mn.call(h,ht)))return!1}var Ct=ee.get(u),_t=ee.get(h);if(Ct&&_t)return Ct==h&&_t==u;var rn=!0;ee.set(u,h),ee.set(h,u);for(var Bt=fe;++Ke<Se;){ht=ve[Ke];var sn=u[ht],hn=h[ht];if(j)var na=fe?j(hn,sn,ht,h,u,ee):j(sn,hn,ht,u,h,ee);if(!(na===n?sn===hn||U(sn,hn,D,j,ee):na)){rn=!1;break}Bt||(Bt=ht=="constructor")}if(rn&&!Bt){var ri=u.constructor,ra=h.constructor;ri!=ra&&"constructor"in u&&"constructor"in h&&!(typeof ri=="function"&&ri instanceof ri&&typeof ra=="function"&&ra instanceof ra)&&(rn=!1)}return ee.delete(u),ee.delete(h),rn}function xa(u){return jf(Pf(u,n,od),u+"")}function Nf(u){return df(u,ao,Vc)}function Xu(u){return df(u,xi,Ca)}var ed=ef?function(u){return ef.get(u)}:jw;function td(u){for(var h=u.name+"",D=kc[h],j=mn.call(kc,h)?D.length:0;j--;){var U=D[j],ee=U.func;if(ee==null||ee==u)return U.name}return h}function $s(u){var h=mn.call(G,"placeholder")?G:u;return h.placeholder}function At(){var u=G.iteratee||Pw;return u=u===Pw?zu:u,arguments.length?u(arguments[0],arguments[1]):u}function Af(u,h){var D=u.__data__;return vt(h)?D[typeof h=="string"?"string":"hash"]:D.map}function Ff(u){for(var h=ao(u),D=h.length;D--;){var j=h[D],U=u[j];h[D]=[j,U,Zc(U)]}return h}function os(u,h){var D=ga(u,h);return fp(D)?D:n}function oy(u){var h=mn.call(u,Fl),D=u[Fl];try{u[Fl]=n;var j=!0}catch{}var U=Au.call(u);return j&&(h?u[Fl]=D:delete u[Fl]),U}var Vc=Kd?function(u){return u==null?[]:(u=Nn(u),Wi(Kd(u),function(h){return Gd.call(u,h)}))}:Lw,Ca=Kd?function(u){for(var h=[];u;)mi(h,Vc(u)),u=Zi(u);return h}:Lw,ro=eo;(Lu&&ro(new Lu(new ArrayBuffer(1)))!=Rn||Ol&&ro(new Ol)!=st||Ru&&ro(Ru.resolve())!=qt||js&&ro(new js)!=Gt||_u&&ro(new _u)!=Cn)&&(ro=function(u){var h=eo(u),D=h==Tt?u.constructor:n,j=D?Gs(D):"";if(j)switch(j){case ip:return Rn;case Ls:return st;case jg:return qt;case Nc:return Gt;case va:return Cn}return h});function iy(u,h,D){for(var j=-1,U=D.length;++j<U;){var ee=D[j],fe=ee.size;switch(ee.type){case"drop":u+=fe;break;case"dropRight":h-=fe;break;case"take":h=Gr(h,u+fe);break;case"takeRight":u=ur(u,h-fe);break}}return{start:u,end:h}}function Fp(u){var h=u.match(fo);return h?h[1].split(Mr):[]}function Pp(u,h,D){h=ts(h,u);for(var j=-1,U=h.length,ee=!1;++j<U;){var fe=Xi(h[j]);if(!(ee=u!=null&&D(u,fe)))break;u=u[fe]}return ee||++j!=U?ee:(U=u==null?0:u.length,!!U&&xy(U)&&Di(fe,U)&&(Qt(u)||cd(u)))}function ay(u){var h=u.length,D=new u.constructor(h);return h&&typeof u[0]=="string"&&mn.call(u,"index")&&(D.index=u.index,D.input=u.input),D}function Wc(u){return typeof u.constructor=="function"&&!nd(u)?Ac(Zi(u)):{}}function oo(u,h,D){var j=u.constructor;switch(h){case yr:return Yc(u);case ze:case Qe:return new j(+u);case Rn:return If(u,D);case Li:case Eo:case Uo:case Ri:case xo:case _i:case ua:case ci:case Bi:return Dp(u,D);case st:return new j;case yt:case un:return new j(u);case $t:return qg(u);case Gt:return new j;case Xt:return Sp(u)}}function uw(u,h){var D=h.length;if(!D)return u;var j=D-1;return h[j]=(D>1?"& ":"")+h[j],h=h.join(D>2?", ":" "),u.replace(uo,`{
/* [wrapped with `+h+`] */
`)}function dw(u){return Qt(u)||cd(u)||!!(Fg&&u&&u[Fg])}function Di(u,h){var D=typeof u;return h=h??ne,!!h&&(D=="number"||D!="symbol"&&Ya.test(u))&&u>-1&&u%1==0&&u<h}function Tn(u,h,D){if(!ar(D))return!1;var j=typeof h;return(j=="number"?Ei(D)&&Di(h,D.length):j=="string"&&h in D)?ss(D[h],u):!1}function Op(u,h){if(Qt(u))return!1;var D=typeof u;return D=="number"||D=="symbol"||D=="boolean"||u==null||ta(u)?!0:Lr.test(u)||!wn.test(u)||h!=null&&u in Nn(h)}function vt(u){var h=typeof u;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?u!=="__proto__":u===null}function qs(u){var h=td(u),D=G[h];if(typeof D!="function"||!(h in Jt.prototype))return!1;if(u===D)return!0;var j=ed(D);return!!j&&u===j[0]}function jp(u){return!!Zd&&Zd in u}var sy=Ic?ql:Rw;function nd(u){var h=u&&u.constructor,D=typeof h=="function"&&h.prototype||ya;return u===D}function Zc(u){return u===u&&!ar(u)}function rd(u,h){return function(D){return D==null?!1:D[u]===h&&(h!==n||u in Nn(D))}}function Lp(u){var h=we(u,function(j){return D.size===f&&D.clear(),j}),D=h.cache;return h}function ly(u,h){var D=u[1],j=h[1],U=D|j,ee=U<(I|k|z),fe=j==z&&D==R||j==z&&D==Y&&u[7].length<=h[8]||j==(z|Y)&&h[7].length<=h[8]&&D==R;if(!(ee||fe))return u;j&I&&(u[2]=h[2],U|=D&I?0:P);var ve=h[3];if(ve){var Se=u[3];u[3]=Se?Ip(Se,ve,h[4]):ve,u[4]=Se?gi(u[3],m):h[4]}return ve=h[5],ve&&(Se=u[5],u[5]=Se?Ef(Se,ve,h[6]):ve,u[6]=Se?gi(u[5],m):h[6]),ve=h[7],ve&&(u[7]=ve),j&z&&(u[8]=u[8]==null?h[8]:Gr(u[8],h[8])),u[9]==null&&(u[9]=h[9]),u[0]=h[0],u[1]=U,u}function cy(u){var h=[];if(u!=null)for(var D in Nn(u))h.push(D);return h}function uy(u){return Au.call(u)}function Pf(u,h,D){return h=ur(h===n?u.length-1:h,0),function(){for(var j=arguments,U=-1,ee=ur(j.length-h,0),fe=Oe(ee);++U<ee;)fe[U]=j[h+U];U=-1;for(var ve=Oe(h+1);++U<h;)ve[U]=j[U];return ve[h]=D(fe),lr(u,this,ve)}}function Of(u,h){return h.length<2?u:Qo(u,to(h,0,-1))}function Ur(u,h){for(var D=u.length,j=Gr(h.length,D),U=bo(u);j--;){var ee=h[j];u[j]=Di(ee,D)?U[ee]:n}return u}function Xo(u,h){if(!(h==="constructor"&&typeof u[h]=="function")&&h!="__proto__")return u[h]}var is=Rp(br),$c=rp||function(u,h){return Fn.setTimeout(u,h)},jf=Rp(yf);function Ti(u,h,D){var j=h+"";return jf(u,uw(j,fy(Fp(j),D)))}function Rp(u){var h=0,D=0;return function(){var j=aw(),U=ae-(j-D);if(D=j,U>0){if(++h>=Q)return arguments[0]}else h=0;return u.apply(n,arguments)}}function ei(u,h){var D=-1,j=u.length,U=j-1;for(h=h===n?j:h;++D<h;){var ee=Zu(D,U),fe=u[ee];u[ee]=u[D],u[D]=fe}return u.length=h,u}var dy=Lp(function(u){var h=[];return u.charCodeAt(0)===46&&h.push(""),u.replace(_n,function(D,j,U,ee){h.push(U?ee.replace(Dl,"$1"):j||D)}),h});function Xi(u){if(typeof u=="string"||ta(u))return u;var h=u+"";return h=="0"&&1/u==-ue?"-0":h}function Gs(u){if(u!=null){try{return Nu.call(u)}catch{}try{return u+""}catch{}}return""}function fy(u,h){return or(je,function(D){var j="_."+D[0];h&D[1]&&!As(u,j)&&u.push(j)}),u.sort()}function _p(u){if(u instanceof Jt)return u.clone();var h=new Jr(u.__wrapped__,u.__chain__);return h.__actions__=bo(u.__actions__),h.__index__=u.__index__,h.__values__=u.__values__,h}function fw(u,h,D){(D?Tn(u,h,D):h===n)?h=1:h=ur(nn(h),0);var j=u==null?0:u.length;if(!j||h<1)return[];for(var U=0,ee=0,fe=Oe(Pl(j/h));U<j;)fe[ee++]=to(u,U,U+=h);return fe}function Lf(u){for(var h=-1,D=u==null?0:u.length,j=0,U=[];++h<D;){var ee=u[h];ee&&(U[j++]=ee)}return U}function Bp(){var u=arguments.length;if(!u)return[];for(var h=Oe(u-1),D=arguments[0],j=u;j--;)h[j-1]=arguments[j];return mi(Qt(D)?bo(D):[D],wr(h,1))}var Ii=Kt(function(u,h){return Er(u)?Ta(u,wr(h,1,Er,!0)):[]}),fn=Kt(function(u,h){var D=Ir(h);return Er(D)&&(D=n),Er(u)?Ta(u,wr(h,1,Er,!0),At(D,2)):[]}),Ar=Kt(function(u,h){var D=Ir(h);return Er(D)&&(D=n),Er(u)?Ta(u,wr(h,1,Er,!0),n,D):[]});function dr(u,h,D){var j=u==null?0:u.length;return j?(h=D||h===n?1:nn(h),to(u,h<0?0:h,j)):[]}function zr(u,h,D){var j=u==null?0:u.length;return j?(h=D||h===n?1:nn(h),h=j-h,to(u,0,h<0?0:h)):[]}function ti(u,h){return u&&u.length?Bc(u,At(h,3),!0,!0):[]}function qc(u,h){return u&&u.length?Bc(u,At(h,3),!0):[]}function Tr(u,h,D,j){var U=u==null?0:u.length;return U?(D&&typeof D!="number"&&Tn(u,h,D)&&(D=0,j=U),cf(u,h,D,j)):[]}function Gc(u,h,D){var j=u==null?0:u.length;if(!j)return-1;var U=D==null?0:nn(D);return U<0&&(U=ur(j+U,0)),kl(u,At(h,3),U)}function Js(u,h,D){var j=u==null?0:u.length;if(!j)return-1;var U=j-1;return D!==n&&(U=nn(D),U=D<0?ur(j+U,0):Gr(U,j-1)),kl(u,At(h,3),U,!0)}function od(u){var h=u==null?0:u.length;return h?wr(u,1):[]}function Hp(u){var h=u==null?0:u.length;return h?wr(u,ue):[]}function id(u,h){var D=u==null?0:u.length;return D?(h=h===n?1:nn(h),wr(u,h)):[]}function jo(u){for(var h=-1,D=u==null?0:u.length,j={};++h<D;){var U=u[h];j[U[0]]=U[1]}return j}function Rf(u){return u&&u.length?u[0]:n}function Jc(u,h,D){var j=u==null?0:u.length;if(!j)return-1;var U=D==null?0:nn(D);return U<0&&(U=ur(j+U,0)),Ga(u,h,U)}function as(u){var h=u==null?0:u.length;return h?to(u,0,-1):[]}var _f=Kt(function(u){var h=En(u,Df);return h.length&&h[0]===u[0]?Ji(h):[]}),Yp=Kt(function(u){var h=Ir(u),D=En(u,Df);return h===Ir(D)?h=n:D.pop(),D.length&&D[0]===u[0]?Ji(D,At(h,2)):[]}),Ks=Kt(function(u){var h=Ir(u),D=En(u,Df);return h=typeof h=="function"?h:n,h&&D.pop(),D.length&&D[0]===u[0]?Ji(D,n,h):[]});function Bf(u,h){return u==null?"":Qd.call(u,h)}function Ir(u){var h=u==null?0:u.length;return h?u[h-1]:n}function Hf(u,h,D){var j=u==null?0:u.length;if(!j)return-1;var U=j;return D!==n&&(U=nn(D),U=U<0?ur(j+U,0):Gr(U,j-1)),h===h?nw(u,h,U):kl(u,Sc,U,!0)}function ad(u,h){return u&&u.length?Zs(u,nn(h)):n}var Up=Kt(sd);function sd(u,h){return u&&u.length&&h&&h.length?Un(u,h):u}function Yf(u,h,D){return u&&u.length&&h&&h.length?Un(u,h,At(D,2)):u}function Do(u,h,D){return u&&u.length&&h&&h.length?Un(u,h,n,D):u}var Qs=xa(function(u,h){var D=u==null?0:u.length,j=lf(u,h);return Wu(u,En(h,function(U){return Di(U,D)?+U:U}).sort(Tp)),j});function ea(u,h){var D=[];if(!(u&&u.length))return D;var j=-1,U=[],ee=u.length;for(h=At(h,3);++j<ee;){var fe=u[j];h(fe,j,u)&&(D.push(fe),U.push(j))}return Wu(u,U),D}function io(u){return u==null?u:Xd.call(u)}function hy(u,h,D){var j=u==null?0:u.length;return j?(D&&typeof D!="number"&&Tn(u,h,D)?(h=0,D=j):(h=h==null?0:nn(h),D=D===n?j:nn(D)),to(u,h,D)):[]}function zp(u,h){return Sr(u,h)}function Vp(u,h,D){return qu(u,h,At(D,2))}function hw(u,h){var D=u==null?0:u.length;if(D){var j=Sr(u,h);if(j<D&&ss(u[j],h))return j}return-1}function Xs(u,h){return Sr(u,h,!0)}function py(u,h,D){return qu(u,h,At(D,2),!0)}function Wp(u,h){var D=u==null?0:u.length;if(D){var j=Sr(u,h,!0)-1;if(ss(u[j],h))return j}return-1}function Vl(u){return u&&u.length?vf(u):[]}function Zp(u,h){return u&&u.length?vf(u,At(h,2)):[]}function Wl(u){var h=u==null?0:u.length;return h?to(u,1,h):[]}function my(u,h,D){return u&&u.length?(h=D||h===n?1:nn(h),to(u,0,h<0?0:h)):[]}function gy(u,h,D){var j=u==null?0:u.length;return j?(h=D||h===n?1:nn(h),h=j-h,to(u,h<0?0:h,j)):[]}function $p(u,h){return u&&u.length?Bc(u,At(h,3),!1,!0):[]}function Uf(u,h){return u&&u.length?Bc(u,At(h,3)):[]}var pw=Kt(function(u){return Dr(wr(u,1,Er,!0))}),mw=Kt(function(u){var h=Ir(u);return Er(h)&&(h=n),Dr(wr(u,1,Er,!0),At(h,2))}),yy=Kt(function(u){var h=Ir(u);return h=typeof h=="function"?h:n,Dr(wr(u,1,Er,!0),n,h)});function vy(u){return u&&u.length?Dr(u):[]}function Zl(u,h){return u&&u.length?Dr(u,At(h,2)):[]}function gw(u,h){return h=typeof h=="function"?h:n,u&&u.length?Dr(u,n,h):[]}function el(u){if(!(u&&u.length))return[];var h=0;return u=Wi(u,function(D){if(Er(D))return h=ur(D.length,h),!0}),xe(h,function(D){return En(u,A(D))})}function qp(u,h){if(!(u&&u.length))return[];var D=el(u);return h==null?D:En(D,function(j){return lr(h,n,j)})}var er=Kt(function(u,h){return Er(u)?Ta(u,h):[]}),yw=Kt(function(u){return Sf(Wi(u,Er))}),wy=Kt(function(u){var h=Ir(u);return Er(h)&&(h=n),Sf(Wi(u,Er),At(h,2))}),vw=Kt(function(u){var h=Ir(u);return h=typeof h=="function"?h:n,Sf(Wi(u,Er),n,h)}),ww=Kt(el);function by(u,h){return wp(u||[],h||[],_l)}function Sy(u,h){return wp(u||[],h||[],Zn)}var bw=Kt(function(u){var h=u.length,D=h>1?u[h-1]:n;return D=typeof D=="function"?(u.pop(),D):n,qp(u,D)});function ni(u){var h=G(u);return h.__chain__=!0,h}function Gp(u,h){return h(u),u}function zf(u,h){return h(u)}var tl=xa(function(u){var h=u.length,D=h?u[0]:0,j=this.__wrapped__,U=function(ee){return lf(ee,u)};return h>1||this.__actions__.length||!(j instanceof Jt)||!Di(D)?this.thru(U):(j=j.slice(D,+D+(h?1:0)),j.__actions__.push({func:zf,args:[U],thisArg:n}),new Jr(j,this.__chain__).thru(function(ee){return h&&!ee.length&&ee.push(n),ee}))});function Vf(){return ni(this)}function $l(){return new Jr(this.value(),this.__chain__)}function Wf(){this.__values__===n&&(this.__values__=cD(this.value()));var u=this.__index__>=this.__values__.length,h=u?n:this.__values__[this.__index__++];return{done:u,value:h}}function Jp(){return this}function Kp(u){for(var h,D=this;D instanceof wa;){var j=_p(D);j.__index__=0,j.__values__=n,h?U.__wrapped__=j:h=j;var U=j;D=D.__wrapped__}return U.__wrapped__=u,h}function Sw(){var u=this.__wrapped__;if(u instanceof Jt){var h=u;return this.__actions__.length&&(h=new Jt(this)),h=h.reverse(),h.__actions__.push({func:zf,args:[io],thisArg:n}),new Jr(h,this.__chain__)}return this.thru(io)}function Qp(){return vp(this.__wrapped__,this.__actions__)}var Dw=Gu(function(u,h,D){mn.call(u,D)?++u[D]:Da(u,D,1)});function Dy(u,h,D){var j=Qt(u)?vc:qi;return D&&Tn(u,h,D)&&(h=n),j(u,At(h,3))}function Ty(u,h){var D=Qt(u)?Wi:Hl;return D(u,At(h,3))}var Zf=Xg(Gc),$f=Xg(Js);function Iy(u,h){return wr(Kf(u,h),1)}function Xp(u,h){return wr(Kf(u,h),ue)}function Tw(u,h,D){return D=D===n?1:nn(D),wr(Kf(u,h),D)}function em(u,h){var D=Qt(u)?or:Ia;return D(u,At(h,3))}function qf(u,h){var D=Qt(u)?Cl:Ug;return D(u,At(h,3))}var Gf=Gu(function(u,h,D){mn.call(u,D)?u[D].push(h):Da(u,D,[h])});function tm(u,h,D,j){u=Ei(u)?u:th(u),D=D&&!j?nn(D):0;var U=u.length;return D<0&&(D=ur(U+D,0)),Cy(u)?D<=U&&u.indexOf(h,D)>-1:!!U&&Ga(u,h,D)>-1}var Jf=Kt(function(u,h,D){var j=-1,U=typeof h=="function",ee=Ei(u)?Oe(u.length):[];return Ia(u,function(fe){ee[++j]=U?lr(h,fe,D):zs(fe,h,D)}),ee}),Ey=Gu(function(u,h,D){Da(u,D,h)});function Kf(u,h){var D=Qt(u)?En:pp;return D(u,At(h,3))}function Qf(u,h,D,j){return u==null?[]:(Qt(h)||(h=h==null?[]:[h]),D=j?n:D,Qt(D)||(D=D==null?[]:[D]),gf(u,h,D))}var Iw=Gu(function(u,h,D){u[D?0:1].push(h)},function(){return[[],[]]});function ld(u,h,D){var j=Qt(u)?Eu:q,U=arguments.length<3;return j(u,At(h,4),D,U,Ia)}function Ew(u,h,D){var j=Qt(u)?Yd:q,U=arguments.length<3;return j(u,At(h,4),D,U,Ug)}function Xf(u,h){var D=Qt(u)?Wi:Hl;return D(u,Me(At(h,3)))}function s(u){var h=Qt(u)?Sa:Yl;return h(u)}function l(u,h,D){(D?Tn(u,h,D):h===n)?h=1:h=nn(h);var j=Qt(u)?Rl:Wn;return j(u,h)}function p(u){var h=Qt(u)?Hg:$u;return h(u)}function b(u){if(u==null)return 0;if(Ei(u))return Cy(u)?Al(u):u.length;var h=ro(u);return h==st||h==Gt?u.size:mf(u).length}function x(u,h,D){var j=Qt(u)?Fs:sw;return D&&Tn(u,h,D)&&(h=n),j(u,At(h,3))}var O=Kt(function(u,h){if(u==null)return[];var D=h.length;return D>1&&Tn(u,h[0],h[1])?h=[]:D>2&&Tn(h[0],h[1],h[2])&&(h=[h[0]]),gf(u,wr(h,1),[])}),W=Bn||function(){return Fn.Date.now()};function de(u,h){if(typeof h!="function")throw new yi(a);return u=nn(u),function(){if(--u<1)return h.apply(this,arguments)}}function ye(u,h,D){return h=D?n:h,h=u&&h==null?u.length:h,Ea(u,z,n,n,n,n,h)}function Le(u,h){var D;if(typeof h!="function")throw new yi(a);return u=nn(u),function(){return--u>0&&(D=h.apply(this,arguments)),u<=1&&(h=n),D}}var Ge=Kt(function(u,h,D){var j=I;if(D.length){var U=gi(D,$s(Ge));j|=_}return Ea(u,j,h,D,U)}),Xe=Kt(function(u,h,D){var j=I|k;if(D.length){var U=gi(D,$s(Xe));j|=_}return Ea(h,j,u,D,U)});function qe(u,h,D){h=D?n:h;var j=Ea(u,R,n,n,n,n,n,h);return j.placeholder=qe.placeholder,j}function gt(u,h,D){h=D?n:h;var j=Ea(u,M,n,n,n,n,n,h);return j.placeholder=gt.placeholder,j}function bt(u,h,D){var j,U,ee,fe,ve,Se,Ze=0,$e=!1,Ke=!1,ht=!0;if(typeof u!="function")throw new yi(a);h=Ma(h)||0,ar(D)&&($e=!!D.leading,Ke="maxWait"in D,ee=Ke?ur(Ma(D.maxWait)||0,h):ee,ht="trailing"in D?!!D.trailing:ht);function Ct(xr){var ls=j,Jl=U;return j=U=n,Ze=xr,fe=u.apply(Jl,ls),fe}function _t(xr){return Ze=xr,ve=$c(sn,h),$e?Ct(xr):fe}function rn(xr){var ls=xr-Se,Jl=xr-Ze,DD=h-ls;return Ke?Gr(DD,ee-Jl):DD}function Bt(xr){var ls=xr-Se,Jl=xr-Ze;return Se===n||ls>=h||ls<0||Ke&&Jl>=ee}function sn(){var xr=W();if(Bt(xr))return hn(xr);ve=$c(sn,rn(xr))}function hn(xr){return ve=n,ht&&j?Ct(xr):(j=U=n,fe)}function na(){ve!==n&&Hc(ve),Ze=0,j=Se=U=ve=n}function ri(){return ve===n?fe:hn(W())}function ra(){var xr=W(),ls=Bt(xr);if(j=arguments,U=this,Se=xr,ls){if(ve===n)return _t(Se);if(Ke)return Hc(ve),ve=$c(sn,h),Ct(Se)}return ve===n&&(ve=$c(sn,h)),fe}return ra.cancel=na,ra.flush=ri,ra}var Dt=Kt(function(u,h){return lp(u,1,h)}),ir=Kt(function(u,h,D){return lp(u,Ma(h)||0,D)});function Ce(u){return Ea(u,V)}function we(u,h){if(typeof u!="function"||h!=null&&typeof h!="function")throw new yi(a);var D=function(){var j=arguments,U=h?h.apply(this,j):j[0],ee=D.cache;if(ee.has(U))return ee.get(U);var fe=u.apply(this,j);return D.cache=ee.set(U,fe)||ee,fe};return D.cache=new(we.Cache||vi),D}we.Cache=vi;function Me(u){if(typeof u!="function")throw new yi(a);return function(){var h=arguments;switch(h.length){case 0:return!u.call(this);case 1:return!u.call(this,h[0]);case 2:return!u.call(this,h[0],h[1]);case 3:return!u.call(this,h[0],h[1],h[2])}return!u.apply(this,h)}}function at(u){return Le(2,u)}var Et=$g(function(u,h){h=h.length==1&&Qt(h[0])?En(h[0],St(At())):En(wr(h,1),St(At()));var D=h.length;return Kt(function(j){for(var U=-1,ee=Gr(j.length,D);++U<ee;)j[U]=h[U].call(this,j[U]);return lr(u,this,j)})}),Ft=Kt(function(u,h){var D=gi(h,$s(Ft));return Ea(u,_,n,h,D)}),Pt=Kt(function(u,h){var D=gi(h,$s(Pt));return Ea(u,L,n,h,D)}),Ht=xa(function(u,h){return Ea(u,Y,n,n,n,h)});function Fr(u,h){if(typeof u!="function")throw new yi(a);return h=h===n?h:nn(h),Kt(u,h)}function gn(u,h){if(typeof u!="function")throw new yi(a);return h=h==null?0:ur(nn(h),0),Kt(function(D){var j=D[h],U=ns(D,0,h);return j&&mi(U,j),lr(u,this,U)})}function nl(u,h,D){var j=!0,U=!0;if(typeof u!="function")throw new yi(a);return ar(D)&&(j="leading"in D?!!D.leading:j,U="trailing"in D?!!D.trailing:U),bt(u,h,{leading:j,maxWait:h,trailing:U})}function xw(u){return ye(u,1)}function Ik(u,h){return Ft(Tf(h),u)}function Ek(){if(!arguments.length)return[];var u=arguments[0];return Qt(u)?u:[u]}function xk(u){return Oo(u,w)}function Ck(u,h){return h=typeof h=="function"?h:n,Oo(u,w,h)}function Mk(u){return Oo(u,g|w)}function kk(u,h){return h=typeof h=="function"?h:n,Oo(u,g|w,h)}function Nk(u,h){return h==null||Hu(u,h,ao(h))}function ss(u,h){return u===h||u!==u&&h!==h}var Ak=Qu(Gi),Fk=Qu(function(u,h){return u>=h}),cd=up(function(){return arguments}())?up:function(u){return fr(u)&&mn.call(u,"callee")&&!Gd.call(u,"callee")},Qt=Oe.isArray,Pk=ks?St(ks):ff;function Ei(u){return u!=null&&xy(u.length)&&!ql(u)}function Er(u){return fr(u)&&Ei(u)}function Ok(u){return u===!0||u===!1||fr(u)&&eo(u)==ze}var Kc=op||Rw,jk=Nr?St(Nr):Vg;function Lk(u){return fr(u)&&u.nodeType===1&&!nm(u)}function Rk(u){if(u==null)return!0;if(Ei(u)&&(Qt(u)||typeof u=="string"||typeof u.splice=="function"||Kc(u)||eh(u)||cd(u)))return!u.length;var h=ro(u);if(h==st||h==Gt)return!u.size;if(nd(u))return!mf(u).length;for(var D in u)if(mn.call(u,D))return!1;return!0}function _k(u,h){return jc(u,h)}function Bk(u,h,D){D=typeof D=="function"?D:n;var j=D?D(u,h):n;return j===n?jc(u,h,n,D):!!j}function Cw(u){if(!fr(u))return!1;var h=eo(u);return h==Zt||h==It||typeof u.message=="string"&&typeof u.name=="string"&&!nm(u)}function Hk(u){return typeof u=="number"&&xc(u)}function ql(u){if(!ar(u))return!1;var h=eo(u);return h==_e||h==tt||h==Je||h==zt}function iD(u){return typeof u=="number"&&u==nn(u)}function xy(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ne}function ar(u){var h=typeof u;return u!=null&&(h=="object"||h=="function")}function fr(u){return u!=null&&typeof u=="object"}var aD=$a?St($a):hf;function Yk(u,h){return u===h||pf(u,h,Ff(h))}function Uk(u,h,D){return D=typeof D=="function"?D:n,pf(u,h,Ff(h),D)}function zk(u){return sD(u)&&u!=+u}function Vk(u){if(sy(u))throw new Wt(i);return fp(u)}function Wk(u){return u===null}function Zk(u){return u==null}function sD(u){return typeof u=="number"||fr(u)&&eo(u)==yt}function nm(u){if(!fr(u)||eo(u)!=Tt)return!1;var h=Zi(u);if(h===null)return!0;var D=mn.call(h,"constructor")&&h.constructor;return typeof D=="function"&&D instanceof D&&Nu.call(D)==$d}var Mw=ma?St(ma):Wg;function $k(u){return iD(u)&&u>=-ne&&u<=ne}var lD=Ns?St(Ns):hp;function Cy(u){return typeof u=="string"||!Qt(u)&&fr(u)&&eo(u)==un}function ta(u){return typeof u=="symbol"||fr(u)&&eo(u)==Xt}var eh=yc?St(yc):Uu;function qk(u){return u===n}function Gk(u){return fr(u)&&ro(u)==Cn}function Jk(u){return fr(u)&&eo(u)==Cr}var Kk=Qu(Vs),Qk=Qu(function(u,h){return u<=h});function cD(u){if(!u)return[];if(Ei(u))return Cy(u)?Go(u):bo(u);if(Qa&&u[Qa])return ew(u[Qa]());var h=ro(u),D=h==st?zd:h==Gt?Ps:th;return D(u)}function Gl(u){if(!u)return u===0?u:0;if(u=Ma(u),u===ue||u===-ue){var h=u<0?-1:1;return h*he}return u===u?u:0}function nn(u){var h=Gl(u),D=h%1;return h===h?D?h-D:h:0}function uD(u){return u?es(nn(u),0,oe):0}function Ma(u){if(typeof u=="number")return u;if(ta(u))return K;if(ar(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=ar(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=rt(u);var D=Tl.test(u);return D||fa.test(u)?xs(u.slice(2),D?2:8):hc.test(u)?K:+u}function dD(u){return Qi(u,xi(u))}function Xk(u){return u?es(nn(u),-ne,ne):u===0?u:0}function An(u){return u==null?"":Xn(u)}var e4=Uc(function(u,h){if(nd(h)||Ei(h)){Qi(h,ao(h),u);return}for(var D in h)mn.call(h,D)&&_l(u,D,h[D])}),fD=Uc(function(u,h){Qi(h,xi(h),u)}),My=Uc(function(u,h,D,j){Qi(h,xi(h),u,j)}),t4=Uc(function(u,h,D,j){Qi(h,ao(h),u,j)}),n4=xa(lf);function r4(u,h){var D=Ac(u);return h==null?D:Yn(D,h)}var o4=Kt(function(u,h){u=Nn(u);var D=-1,j=h.length,U=j>2?h[2]:n;for(U&&Tn(h[0],h[1],U)&&(j=1);++D<j;)for(var ee=h[D],fe=xi(ee),ve=-1,Se=fe.length;++ve<Se;){var Ze=fe[ve],$e=u[Ze];($e===n||ss($e,ya[Ze])&&!mn.call(u,Ze))&&(u[Ze]=ee[Ze])}return u}),i4=Kt(function(u){return u.push(n,Np),lr(hD,n,u)});function a4(u,h){return Ml(u,At(h,3),Si)}function s4(u,h){return Ml(u,At(h,3),Hs)}function l4(u,h){return u==null?u:Yu(u,At(h,3),xi)}function c4(u,h){return u==null?u:uf(u,At(h,3),xi)}function u4(u,h){return u&&Si(u,At(h,3))}function d4(u,h){return u&&Hs(u,At(h,3))}function f4(u){return u==null?[]:wo(u,ao(u))}function h4(u){return u==null?[]:wo(u,xi(u))}function kw(u,h,D){var j=u==null?n:Qo(u,h);return j===n?D:j}function p4(u,h){return u!=null&&Pp(u,h,Ys)}function Nw(u,h){return u!=null&&Pp(u,h,cp)}var m4=xf(function(u,h,D){h!=null&&typeof h.toString!="function"&&(h=Au.call(h)),u[h]=D},Fw(Ci)),g4=xf(function(u,h,D){h!=null&&typeof h.toString!="function"&&(h=Au.call(h)),mn.call(u,h)?u[h].push(D):u[h]=[D]},At),y4=Kt(zs);function ao(u){return Ei(u)?ba(u):mf(u)}function xi(u){return Ei(u)?ba(u,!0):Zg(u)}function v4(u,h){var D={};return h=At(h,3),Si(u,function(j,U,ee){Da(D,h(j,U,ee),j)}),D}function w4(u,h){var D={};return h=At(h,3),Si(u,function(j,U,ee){Da(D,U,h(j,U,ee))}),D}var b4=Uc(function(u,h,D){Ws(u,h,D)}),hD=Uc(function(u,h,D,j){Ws(u,h,D,j)}),S4=xa(function(u,h){var D={};if(u==null)return D;var j=!1;h=En(h,function(ee){return ee=ts(ee,u),j||(j=ee.length>1),ee}),Qi(u,Xu(u),D),j&&(D=Oo(D,g|v|w,ny));for(var U=h.length;U--;)Ul(D,h[U]);return D});function D4(u,h){return pD(u,Me(At(h)))}var T4=xa(function(u,h){return u==null?{}:Rc(u,h)});function pD(u,h){if(u==null)return{};var D=En(Xu(u),function(j){return[j]});return h=At(h),mp(u,D,function(j,U){return h(j,U[0])})}function I4(u,h,D){h=ts(h,u);var j=-1,U=h.length;for(U||(U=1,u=n);++j<U;){var ee=u==null?n:u[Xi(h[j])];ee===n&&(j=U,ee=D),u=ql(ee)?ee.call(u):ee}return u}function E4(u,h,D){return u==null?u:Zn(u,h,D)}function x4(u,h,D,j){return j=typeof j=="function"?j:n,u==null?u:Zn(u,h,D,j)}var mD=Mp(ao),gD=Mp(xi);function C4(u,h,D){var j=Qt(u),U=j||Kc(u)||eh(u);if(h=At(h,4),D==null){var ee=u&&u.constructor;U?D=j?new ee:[]:ar(u)?D=ql(ee)?Ac(Zi(u)):{}:D={}}return(U?or:Si)(u,function(fe,ve,Se){return h(D,fe,ve,Se)}),D}function M4(u,h){return u==null?!0:Ul(u,h)}function k4(u,h,D){return u==null?u:bf(u,h,Tf(D))}function N4(u,h,D,j){return j=typeof j=="function"?j:n,u==null?u:bf(u,h,Tf(D),j)}function th(u){return u==null?[]:Vt(u,ao(u))}function A4(u){return u==null?[]:Vt(u,xi(u))}function F4(u,h,D){return D===n&&(D=h,h=n),D!==n&&(D=Ma(D),D=D===D?D:0),h!==n&&(h=Ma(h),h=h===h?h:0),es(Ma(u),h,D)}function P4(u,h,D){return h=Gl(h),D===n?(D=h,h=0):D=Gl(D),u=Ma(u),zg(u,h,D)}function O4(u,h,D){if(D&&typeof D!="boolean"&&Tn(u,h,D)&&(h=D=n),D===n&&(typeof h=="boolean"?(D=h,h=n):typeof u=="boolean"&&(D=u,u=n)),u===n&&h===n?(u=0,h=1):(u=Gl(u),h===n?(h=u,u=0):h=Gl(h)),u>h){var j=u;u=h,h=j}if(D||u%1||h%1){var U=ju();return Gr(u+U*(h-u+gc("1e-"+((U+"").length-1))),h)}return Zu(u,h)}var j4=rs(function(u,h,D){return h=h.toLowerCase(),u+(D?yD(h):h)});function yD(u){return Aw(An(u).toLowerCase())}function vD(u){return u=An(u),u&&u.replace(Il,No).replace(Hd,"")}function L4(u,h,D){u=An(u),h=Xn(h);var j=u.length;D=D===n?j:es(nn(D),0,j);var U=D;return D-=h.length,D>=0&&u.slice(D,U)==h}function R4(u){return u=An(u),u&&nt.test(u)?u.replace(Ye,Nl):u}function _4(u){return u=An(u),u&&Rr.test(u)?u.replace(rr,"\\$&"):u}var B4=rs(function(u,h,D){return u+(D?"-":"")+h.toLowerCase()}),H4=rs(function(u,h,D){return u+(D?" ":"")+h.toLowerCase()}),Y4=xp("toLowerCase");function U4(u,h,D){u=An(u),h=nn(h);var j=h?Al(u):0;if(!h||j>=h)return u;var U=(h-j)/2;return Ku(Os(U),D)+u+Ku(Pl(U),D)}function z4(u,h,D){u=An(u),h=nn(h);var j=h?Al(u):0;return h&&j<h?u+Ku(h-j,D):u}function V4(u,h,D){u=An(u),h=nn(h);var j=h?Al(u):0;return h&&j<h?Ku(h-j,D)+u:u}function W4(u,h,D){return D||h==null?h=0:h&&(h=+h),Og(An(u).replace(da,""),h||0)}function Z4(u,h,D){return(D?Tn(u,h,D):h===n)?h=1:h=nn(h),_c(An(u),h)}function $4(){var u=arguments,h=An(u[0]);return u.length<3?h:h.replace(u[1],u[2])}var q4=rs(function(u,h,D){return u+(D?"_":"")+h.toLowerCase()});function G4(u,h,D){return D&&typeof D!="number"&&Tn(u,h,D)&&(h=D=n),D=D===n?oe:D>>>0,D?(u=An(u),u&&(typeof h=="string"||h!=null&&!Mw(h))&&(h=Xn(h),!h&&Dc(u))?ns(Go(u),0,D):u.split(h,D)):[]}var J4=rs(function(u,h,D){return u+(D?" ":"")+Aw(h)});function K4(u,h,D){return u=An(u),D=D==null?0:es(nn(D),0,u.length),h=Xn(h),u.slice(D,D+h.length)==h}function Q4(u,h,D){var j=G.templateSettings;D&&Tn(u,h,D)&&(h=n),u=An(u),h=My({},h,j,kp);var U=My({},h.imports,j.imports,kp),ee=ao(U),fe=Vt(U,ee),ve,Se,Ze=0,$e=h.interpolate||Ua,Ke="__p += '",ht=ku((h.escape||Ua).source+"|"+$e.source+"|"+($e===jn?Hi:Ua).source+"|"+(h.evaluate||Ua).source+"|$","g"),Ct="//# sourceURL="+(mn.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Mn+"]")+`
`;u.replace(ht,function(Bt,sn,hn,na,ri,ra){return hn||(hn=na),Ke+=u.slice(Ze,ra).replace(pc,Mu),sn&&(ve=!0,Ke+=`' +
__e(`+sn+`) +
'`),ri&&(Se=!0,Ke+=`';
`+ri+`;
__p += '`),hn&&(Ke+=`' +
((__t = (`+hn+`)) == null ? '' : __t) +
'`),Ze=ra+Bt.length,Bt}),Ke+=`';
`;var _t=mn.call(h,"variable")&&h.variable;if(!_t)Ke=`with (obj) {
`+Ke+`
}
`;else if(ho.test(_t))throw new Wt(c);Ke=(Se?Ke.replace(te,""):Ke).replace(ge,"$1").replace(Fe,"$1;"),Ke="function("+(_t||"obj")+`) {
`+(_t?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ve?", __e = _.escape":"")+(Se?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ke+`return __p
}`;var rn=bD(function(){return pn(ee,Ct+"return "+Ke).apply(n,fe)});if(rn.source=Ke,Cw(rn))throw rn;return rn}function X4(u){return An(u).toLowerCase()}function eN(u){return An(u).toUpperCase()}function tN(u,h,D){if(u=An(u),u&&(D||h===n))return rt(u);if(!u||!(h=Xn(h)))return u;var j=Go(u),U=Go(h),ee=kn(j,U),fe=Yr(j,U)+1;return ns(j,ee,fe).join("")}function nN(u,h,D){if(u=An(u),u&&(D||h===n))return u.slice(0,Wd(u)+1);if(!u||!(h=Xn(h)))return u;var j=Go(u),U=Yr(j,Go(h))+1;return ns(j,0,U).join("")}function rN(u,h,D){if(u=An(u),u&&(D||h===n))return u.replace(da,"");if(!u||!(h=Xn(h)))return u;var j=Go(u),U=kn(j,Go(h));return ns(j,U).join("")}function oN(u,h){var D=$,j=re;if(ar(h)){var U="separator"in h?h.separator:U;D="length"in h?nn(h.length):D,j="omission"in h?Xn(h.omission):j}u=An(u);var ee=u.length;if(Dc(u)){var fe=Go(u);ee=fe.length}if(D>=ee)return u;var ve=D-Al(j);if(ve<1)return j;var Se=fe?ns(fe,0,ve).join(""):u.slice(0,ve);if(U===n)return Se+j;if(fe&&(ve+=Se.length-ve),Mw(U)){if(u.slice(ve).search(U)){var Ze,$e=Se;for(U.global||(U=ku(U.source,An(Yi.exec(U))+"g")),U.lastIndex=0;Ze=U.exec($e);)var Ke=Ze.index;Se=Se.slice(0,Ke===n?ve:Ke)}}else if(u.indexOf(Xn(U),ve)!=ve){var ht=Se.lastIndexOf(U);ht>-1&&(Se=Se.slice(0,ht))}return Se+j}function iN(u){return u=An(u),u&&et.test(u)?u.replace(He,Cg):u}var aN=rs(function(u,h,D){return u+(D?" ":"")+h.toUpperCase()}),Aw=xp("toUpperCase");function wD(u,h,D){return u=An(u),h=D?n:h,h===n?X0(u)?rw(u):wc(u):u.match(h)||[]}var bD=Kt(function(u,h){try{return lr(u,n,h)}catch(D){return Cw(D)?D:new Wt(D)}}),sN=xa(function(u,h){return or(h,function(D){D=Xi(D),Da(u,D,Ge(u[D],u))}),u});function lN(u){var h=u==null?0:u.length,D=At();return u=h?En(u,function(j){if(typeof j[1]!="function")throw new yi(a);return[D(j[0]),j[1]]}):[],Kt(function(j){for(var U=-1;++U<h;){var ee=u[U];if(lr(ee[0],this,j))return lr(ee[1],this,j)}})}function cN(u){return Yg(Oo(u,g))}function Fw(u){return function(){return u}}function uN(u,h){return u==null||u!==u?h:u}var dN=zl(),fN=zl(!0);function Ci(u){return u}function Pw(u){return zu(typeof u=="function"?u:Oo(u,g))}function hN(u){return Lc(Oo(u,g))}function pN(u,h){return Ki(u,Oo(h,g))}var mN=Kt(function(u,h){return function(D){return zs(D,u,h)}}),gN=Kt(function(u,h){return function(D){return zs(u,D,h)}});function Ow(u,h,D){var j=ao(h),U=wo(h,j);D==null&&!(ar(h)&&(U.length||!j.length))&&(D=h,h=u,u=this,U=wo(h,ao(h)));var ee=!(ar(D)&&"chain"in D)||!!D.chain,fe=ql(u);return or(U,function(ve){var Se=h[ve];u[ve]=Se,fe&&(u.prototype[ve]=function(){var Ze=this.__chain__;if(ee||Ze){var $e=u(this.__wrapped__),Ke=$e.__actions__=bo(this.__actions__);return Ke.push({func:Se,args:arguments,thisArg:u}),$e.__chain__=Ze,$e}return Se.apply(u,mi([this.value()],arguments))})}),u}function yN(){return Fn._===this&&(Fn._=Ng),this}function jw(){}function vN(u){return u=nn(u),Kt(function(h){return Zs(h,u)})}var wN=Mf(En),bN=Mf(vc),SN=Mf(Fs);function SD(u){return Op(u)?A(Xi(u)):gp(u)}function DN(u){return function(h){return u==null?n:Qo(u,h)}}var TN=Cp(),IN=Cp(!0);function Lw(){return[]}function Rw(){return!1}function EN(){return{}}function xN(){return""}function CN(){return!0}function MN(u,h){if(u=nn(u),u<1||u>ne)return[];var D=oe,j=Gr(u,oe);h=At(h),u-=oe;for(var U=xe(j,h);++D<u;)h(D);return U}function kN(u){return Qt(u)?En(u,Xi):ta(u)?[u]:bo(dy(An(u)))}function NN(u){var h=++Ec;return An(u)+h}var AN=Cf(function(u,h){return u+h},0),FN=no("ceil"),PN=Cf(function(u,h){return u/h},1),ON=no("floor");function jN(u){return u&&u.length?Bl(u,Ci,Gi):n}function LN(u,h){return u&&u.length?Bl(u,At(h,2),Gi):n}function RN(u){return Cu(u,Ci)}function _N(u,h){return Cu(u,At(h,2))}function BN(u){return u&&u.length?Bl(u,Ci,Vs):n}function HN(u,h){return u&&u.length?Bl(u,At(h,2),Vs):n}var YN=Cf(function(u,h){return u*h},1),UN=no("round"),zN=Cf(function(u,h){return u-h},0);function VN(u){return u&&u.length?Pe(u,Ci):0}function WN(u,h){return u&&u.length?Pe(u,At(h,2)):0}return G.after=de,G.ary=ye,G.assign=e4,G.assignIn=fD,G.assignInWith=My,G.assignWith=t4,G.at=n4,G.before=Le,G.bind=Ge,G.bindAll=sN,G.bindKey=Xe,G.castArray=Ek,G.chain=ni,G.chunk=fw,G.compact=Lf,G.concat=Bp,G.cond=lN,G.conforms=cN,G.constant=Fw,G.countBy=Dw,G.create=r4,G.curry=qe,G.curryRight=gt,G.debounce=bt,G.defaults=o4,G.defaultsDeep=i4,G.defer=Dt,G.delay=ir,G.difference=Ii,G.differenceBy=fn,G.differenceWith=Ar,G.drop=dr,G.dropRight=zr,G.dropRightWhile=ti,G.dropWhile=qc,G.fill=Tr,G.filter=Ty,G.flatMap=Iy,G.flatMapDeep=Xp,G.flatMapDepth=Tw,G.flatten=od,G.flattenDeep=Hp,G.flattenDepth=id,G.flip=Ce,G.flow=dN,G.flowRight=fN,G.fromPairs=jo,G.functions=f4,G.functionsIn=h4,G.groupBy=Gf,G.initial=as,G.intersection=_f,G.intersectionBy=Yp,G.intersectionWith=Ks,G.invert=m4,G.invertBy=g4,G.invokeMap=Jf,G.iteratee=Pw,G.keyBy=Ey,G.keys=ao,G.keysIn=xi,G.map=Kf,G.mapKeys=v4,G.mapValues=w4,G.matches=hN,G.matchesProperty=pN,G.memoize=we,G.merge=b4,G.mergeWith=hD,G.method=mN,G.methodOf=gN,G.mixin=Ow,G.negate=Me,G.nthArg=vN,G.omit=S4,G.omitBy=D4,G.once=at,G.orderBy=Qf,G.over=wN,G.overArgs=Et,G.overEvery=bN,G.overSome=SN,G.partial=Ft,G.partialRight=Pt,G.partition=Iw,G.pick=T4,G.pickBy=pD,G.property=SD,G.propertyOf=DN,G.pull=Up,G.pullAll=sd,G.pullAllBy=Yf,G.pullAllWith=Do,G.pullAt=Qs,G.range=TN,G.rangeRight=IN,G.rearg=Ht,G.reject=Xf,G.remove=ea,G.rest=Fr,G.reverse=io,G.sampleSize=l,G.set=E4,G.setWith=x4,G.shuffle=p,G.slice=hy,G.sortBy=O,G.sortedUniq=Vl,G.sortedUniqBy=Zp,G.split=G4,G.spread=gn,G.tail=Wl,G.take=my,G.takeRight=gy,G.takeRightWhile=$p,G.takeWhile=Uf,G.tap=Gp,G.throttle=nl,G.thru=zf,G.toArray=cD,G.toPairs=mD,G.toPairsIn=gD,G.toPath=kN,G.toPlainObject=dD,G.transform=C4,G.unary=xw,G.union=pw,G.unionBy=mw,G.unionWith=yy,G.uniq=vy,G.uniqBy=Zl,G.uniqWith=gw,G.unset=M4,G.unzip=el,G.unzipWith=qp,G.update=k4,G.updateWith=N4,G.values=th,G.valuesIn=A4,G.without=er,G.words=wD,G.wrap=Ik,G.xor=yw,G.xorBy=wy,G.xorWith=vw,G.zip=ww,G.zipObject=by,G.zipObjectDeep=Sy,G.zipWith=bw,G.entries=mD,G.entriesIn=gD,G.extend=fD,G.extendWith=My,Ow(G,G),G.add=AN,G.attempt=bD,G.camelCase=j4,G.capitalize=yD,G.ceil=FN,G.clamp=F4,G.clone=xk,G.cloneDeep=Mk,G.cloneDeepWith=kk,G.cloneWith=Ck,G.conformsTo=Nk,G.deburr=vD,G.defaultTo=uN,G.divide=PN,G.endsWith=L4,G.eq=ss,G.escape=R4,G.escapeRegExp=_4,G.every=Dy,G.find=Zf,G.findIndex=Gc,G.findKey=a4,G.findLast=$f,G.findLastIndex=Js,G.findLastKey=s4,G.floor=ON,G.forEach=em,G.forEachRight=qf,G.forIn=l4,G.forInRight=c4,G.forOwn=u4,G.forOwnRight=d4,G.get=kw,G.gt=Ak,G.gte=Fk,G.has=p4,G.hasIn=Nw,G.head=Rf,G.identity=Ci,G.includes=tm,G.indexOf=Jc,G.inRange=P4,G.invoke=y4,G.isArguments=cd,G.isArray=Qt,G.isArrayBuffer=Pk,G.isArrayLike=Ei,G.isArrayLikeObject=Er,G.isBoolean=Ok,G.isBuffer=Kc,G.isDate=jk,G.isElement=Lk,G.isEmpty=Rk,G.isEqual=_k,G.isEqualWith=Bk,G.isError=Cw,G.isFinite=Hk,G.isFunction=ql,G.isInteger=iD,G.isLength=xy,G.isMap=aD,G.isMatch=Yk,G.isMatchWith=Uk,G.isNaN=zk,G.isNative=Vk,G.isNil=Zk,G.isNull=Wk,G.isNumber=sD,G.isObject=ar,G.isObjectLike=fr,G.isPlainObject=nm,G.isRegExp=Mw,G.isSafeInteger=$k,G.isSet=lD,G.isString=Cy,G.isSymbol=ta,G.isTypedArray=eh,G.isUndefined=qk,G.isWeakMap=Gk,G.isWeakSet=Jk,G.join=Bf,G.kebabCase=B4,G.last=Ir,G.lastIndexOf=Hf,G.lowerCase=H4,G.lowerFirst=Y4,G.lt=Kk,G.lte=Qk,G.max=jN,G.maxBy=LN,G.mean=RN,G.meanBy=_N,G.min=BN,G.minBy=HN,G.stubArray=Lw,G.stubFalse=Rw,G.stubObject=EN,G.stubString=xN,G.stubTrue=CN,G.multiply=YN,G.nth=ad,G.noConflict=yN,G.noop=jw,G.now=W,G.pad=U4,G.padEnd=z4,G.padStart=V4,G.parseInt=W4,G.random=O4,G.reduce=ld,G.reduceRight=Ew,G.repeat=Z4,G.replace=$4,G.result=I4,G.round=UN,G.runInContext=be,G.sample=s,G.size=b,G.snakeCase=q4,G.some=x,G.sortedIndex=zp,G.sortedIndexBy=Vp,G.sortedIndexOf=hw,G.sortedLastIndex=Xs,G.sortedLastIndexBy=py,G.sortedLastIndexOf=Wp,G.startCase=J4,G.startsWith=K4,G.subtract=zN,G.sum=VN,G.sumBy=WN,G.template=Q4,G.times=MN,G.toFinite=Gl,G.toInteger=nn,G.toLength=uD,G.toLower=X4,G.toNumber=Ma,G.toSafeInteger=Xk,G.toString=An,G.toUpper=eN,G.trim=tN,G.trimEnd=nN,G.trimStart=rN,G.truncate=oN,G.unescape=iN,G.uniqueId=NN,G.upperCase=aN,G.upperFirst=Aw,G.each=em,G.eachRight=qf,G.first=Rf,Ow(G,function(){var u={};return Si(G,function(h,D){mn.call(G.prototype,D)||(u[D]=h)}),u}(),{chain:!1}),G.VERSION=r,or(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){G[u].placeholder=G}),or(["drop","take"],function(u,h){Jt.prototype[u]=function(D){D=D===n?1:ur(nn(D),0);var j=this.__filtered__&&!h?new Jt(this):this.clone();return j.__filtered__?j.__takeCount__=Gr(D,j.__takeCount__):j.__views__.push({size:Gr(D,oe),type:u+(j.__dir__<0?"Right":"")}),j},Jt.prototype[u+"Right"]=function(D){return this.reverse()[u](D).reverse()}}),or(["filter","map","takeWhile"],function(u,h){var D=h+1,j=D==X||D==Z;Jt.prototype[u]=function(U){var ee=this.clone();return ee.__iteratees__.push({iteratee:At(U,3),type:D}),ee.__filtered__=ee.__filtered__||j,ee}}),or(["head","last"],function(u,h){var D="take"+(h?"Right":"");Jt.prototype[u]=function(){return this[D](1).value()[0]}}),or(["initial","tail"],function(u,h){var D="drop"+(h?"":"Right");Jt.prototype[u]=function(){return this.__filtered__?new Jt(this):this[D](1)}}),Jt.prototype.compact=function(){return this.filter(Ci)},Jt.prototype.find=function(u){return this.filter(u).head()},Jt.prototype.findLast=function(u){return this.reverse().find(u)},Jt.prototype.invokeMap=Kt(function(u,h){return typeof u=="function"?new Jt(this):this.map(function(D){return zs(D,u,h)})}),Jt.prototype.reject=function(u){return this.filter(Me(At(u)))},Jt.prototype.slice=function(u,h){u=nn(u);var D=this;return D.__filtered__&&(u>0||h<0)?new Jt(D):(u<0?D=D.takeRight(-u):u&&(D=D.drop(u)),h!==n&&(h=nn(h),D=h<0?D.dropRight(-h):D.take(h-u)),D)},Jt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Jt.prototype.toArray=function(){return this.take(oe)},Si(Jt.prototype,function(u,h){var D=/^(?:filter|find|map|reject)|While$/.test(h),j=/^(?:head|last)$/.test(h),U=G[j?"take"+(h=="last"?"Right":""):h],ee=j||/^find/.test(h);U&&(G.prototype[h]=function(){var fe=this.__wrapped__,ve=j?[1]:arguments,Se=fe instanceof Jt,Ze=ve[0],$e=Se||Qt(fe),Ke=function(sn){var hn=U.apply(G,mi([sn],ve));return j&&ht?hn[0]:hn};$e&&D&&typeof Ze=="function"&&Ze.length!=1&&(Se=$e=!1);var ht=this.__chain__,Ct=!!this.__actions__.length,_t=ee&&!ht,rn=Se&&!Ct;if(!ee&&$e){fe=rn?fe:new Jt(this);var Bt=u.apply(fe,ve);return Bt.__actions__.push({func:zf,args:[Ke],thisArg:n}),new Jr(Bt,ht)}return _t&&rn?u.apply(this,ve):(Bt=this.thru(Ke),_t?j?Bt.value()[0]:Bt.value():Bt)})}),or(["pop","push","shift","sort","splice","unshift"],function(u){var h=Ja[u],D=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",j=/^(?:pop|shift)$/.test(u);G.prototype[u]=function(){var U=arguments;if(j&&!this.__chain__){var ee=this.value();return h.apply(Qt(ee)?ee:[],U)}return this[D](function(fe){return h.apply(Qt(fe)?fe:[],U)})}}),Si(Jt.prototype,function(u,h){var D=G[h];if(D){var j=D.name+"";mn.call(kc,j)||(kc[j]=[]),kc[j].push({name:h,func:D})}}),kc[zc(n,k).name]=[{name:"wrapper",func:n}],Jt.prototype.clone=nf,Jt.prototype.reverse=ap,Jt.prototype.value=Fc,G.prototype.at=tl,G.prototype.chain=Vf,G.prototype.commit=$l,G.prototype.next=Wf,G.prototype.plant=Kp,G.prototype.reverse=Sw,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=Qp,G.prototype.first=G.prototype.head,Qa&&(G.prototype[Qa]=Jp),G},Tc=ow();pi?((pi.exports=Tc)._=Tc,Ms._=Tc):Fn._=Tc}).call(Vr)})(Sv,Sv.exports);var RE=Sv.exports;function ky(e){const t=e.match(/^#+/);return t?t[0].length:0}function kD(e,t){const n=e.split(`
`);let r="",o=[],i=!1,a=1;for(let c=0;c<n.length;c++){const d=n[c];if(d.startsWith("#")&&/^#{1,6}\s/g.test(d)){if(i&&ky(d)<=ky(t))break;r=d,r===t?(i=!0,a=c+1):i&&ky(d)>ky(t)?o.push(d):(i=!1,o=[])}else i&&o.push(d)}return t?RE.isEmpty(o)?{content:"",startLine:-1}:{content:o.join(`
`),startLine:a}:{content:e,startLine:0}}function A1(e){const t={};for(const n of e)n.parent&&n.parent>0&&(t[n.position.start.line]=n.parent);return t}function k6(e,t,n){var g;const r={},o=(v,w)=>{for(;v[w]!==void 0&&v[w]!==w;)w=v[w];return w},i=ft.getState().app,a=n.split(`
`),c=t+a.length-1,d=(g=i.metadataCache.getFileCache(e))==null?void 0:g.listItems,f={};if(!d)return[];d.forEach(v=>{var S,I;const w=v.position.start.line,T=v.position.end.line;if(w>=t&&T<=c){const k=w-t,P=T-t,R=a.slice(k,P+1),M=R.join(`
`);if(v.parent&&v.parent>0&&(r[v.position.start.line]=v.parent),v.parent&&f[v.parent]){if(w-v.parent===1){const L=(S=a[k])==null?void 0:S.match(/^(\s*)/);L&&(f[v.parent].indent=L[0])}const _=new RegExp("^"+f[v.parent].indent);f[v.parent].content+=`
`+M.split(`
`).map(L=>L==null?void 0:L.replace(_,"")).join(`
`)}else if(v.parent&&f[o(r,v.parent)]){const _=new RegExp("^"+f[o(r,v.parent)].indent);f[o(r,v.parent)].content+=`
`+M.split(`
`).map(L=>L==null?void 0:L.replace(_,"")).join(`
`)}else if(new RegExp(h6).test(M)){f[w]||(f[w]={content:"",blockId:"",indent:""});const _=R.length>1&&((I=R[1])==null?void 0:I.match(/^(\s*)/));_&&(f[w].indent=_[0]),f[w].content=M.split(`
`).map(L=>L==null?void 0:L.replace(f[w].indent,"")).join(`
`),f[w].blockId=v.id}}}),e.path.includes("2024-04-07");const m=Object.keys(f).map(v=>({line:f[v].content,blockId:f[v].blockId||"",index:parseInt(v)}));return e.path.includes("2024-04-07"),m}async function N6(e,t){let n=t.vault.getAbstractFileByPath(e);return n||(new C.Notice(E("File not found for the given thino path, is creating a new file")),n=await t.vault.create(e,'{"nodes": [], "edges": []}'),dt.setChangedByMemos(!0)),n}async function A6(e,t){var o;let n;try{n=await t.vault.read(e)}catch(i){console.error(i),n=await t.vault.cachedRead(e)}const r=(o=t.metadataCache.getFileCache(e))==null?void 0:o.frontmatterPosition;return r?n.slice(r.end.offset+1):n}function F6(e){const t=e.split(/\r?\n/),n=[];let r="",o=[],i=0;for(let a=0;a<t.length;a++){const c=t[a];c.startsWith("#")?(r&&n.push({header:r,content:o.join(`
`).trim(),pos:{start:i,end:a-1}}),r=c,o=[],i=a):o.push(c)}return r&&n.push({header:r,content:o.join(`
`).trim(),pos:{start:i,end:t.length-1}}),n}function P6(e){const t=e.split(/\r?\n/),n=[];let r=!1,o=[],i="";for(let a=0;a<t.length;a++){const c=t[a];c.startsWith("> [!thino]")?(r&&(n.push({metadata:i,content:o.join(`
`).trim()}),o=[]),r=!0,i=c.replace("> [!thino]","").trim()):r&&c.startsWith(">")?o.push(c.replace(/^> /,"")):r&&!c.startsWith(">")&&(r=!1,n.push({metadata:i,content:o.join(`
`).trim()}),o=[],i="")}return r&&n.push({metadata:i,content:o.join(`
`).trim()}),n}const O6=e=>{let t;switch(e){case" ":t="TASK-TODO";break;case"x":case"X":t="TASK-DONE";break;default:t="TASK-"+e;break}return t};async function j6(e,t){if(!t)return 0;const{vault:n}=Re.getState().dailyNotesState.app,r=e==null?void 0:e.DefaultMemoComposition,o=e!=null&&e.ProcessEntriesBelow&&(e==null?void 0:e.ProcessContentTarget)!=="whole"?e==null?void 0:e.ProcessEntriesBelow:"",i=(e==null?void 0:e.ProcessContentTarget)!=="whole"?e!=null&&e.DifferentInsertTarget?e!=null&&e.InsertAfterForTask?e==null?void 0:e.InsertAfterForTask:"":o:"";let a;try{a=await n.read(t)}catch(T){console.error(T),a=await n.cachedRead(t)}let c;r!=""&&/{TIME}/g.test(r)&&/{CONTENT}/g.test(r)?c="(-|\\*) (\\[(.{1})\\]\\s)?"+r.replace(/{TIME}/g,"((\\<time\\>)?\\d{1,2}:\\d{2}(\\:\\d{2})?)?").replace(/ {CONTENT}/g,""):c="(-|\\*) (\\[(.{1})\\]\\s)?((\\<time\\>)?\\d{1,2}\\:\\d{2}(\\:\\d{2})?)?";const d=new RegExp(c,"g"),f=(a.match(d)||[]).length,m=new RegExp(o.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g"),g=new RegExp(i.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g"),v=(a.match(m)||[]).length,w=(a.match(g)||[]).length;return a=null,v||w?f:0}function ND(e,t,n,r,o){var d,f;const i=uh(o,"day")||C.moment(o.stat.ctime);let a;const c=k6(o,n,t);for(const m of c){const g=B6(e.DefaultMemoComposition,m.line),v=H6(e.DefaultMemoComposition,m.line),w=Y6(m.line);let T=L6(m.line);if(i.hours(parseInt(g)),i.minutes(parseInt(v)),w&&i.seconds(parseInt(w)),!w&&i.seconds(0),/^\s*[-*]\s(\[(.)\])\s/g.test(m.line)){const L=U6(m.line);T=R6(m.line),a=O6(L)}else a="JOURNAL";o.path.includes("2024-04-07");let S=T.trim().replaceAll(/<br>/g,`
`);const I=new RegExp(/\[(pinned|PINNED)::true\]/,"g").test(T),k=new RegExp(/\[(archived|ARCHIVED)::true\]/,"g").test(T),P=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").test(T),R=(d=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(T))==null?void 0:d[2],M=(f=new RegExp(/\[(webId|WEBID)::([^\]]*)\]/,"g").exec(T))==null?void 0:f[2],_=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(T)?"PUBLIC":"PRIVATE";o.path.includes("2024-04-07"),S=S.replace(/\s\[pinned::[^\]]+\]/g,"").replace(/\s\[visibility::[^\]]+\]/g,"").replace(/\s\[archived::[^\]]+\]/g,"").replace(/\s\[deleted::[^\]]+\]/g,"").replace(/\s\[webId::[^\]]+\]/g,""),m.blockId&&(S=S.replace("^"+(m==null?void 0:m.blockId),"")),r.push({id:i.format("YYYYMMDDHHmmss")+`${m.index}`,content:S.trim(),createdAt:i.format("YYYY/MM/DD HH:mm:ss"),updatedAt:i.format("YYYY/MM/DD HH:mm:ss"),thinoType:a,hasId:m.blockId?m.blockId:"",linkId:"",path:o.path,deletedAt:P?C.moment(R,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",rowStatus:k?"ARCHIVED":"NORMAL",visibility:_,pinned:I,creatorName:"Memo",resourceList:[],sourceType:"DAILY",webId:M})}}function L6(e){return e.replace(/^(-|\*|\d\.) (\d{1,2}:\d{2}(:\d{2})?)\s(.*)/g,"$4")}function R6(e){return _6(e)}const _6=e=>{var r;let t;t="^(-|\\*|\\d\\.)\\s+\\[.\\]\\s(\\d{1,2}:\\d{2}(:\\d{2})?)\\s([\\w\\W]*)";const n=new RegExp(t,"");return e.contains(`
`),(r=n.exec(e))==null?void 0:r[4]},B6=(e,t)=>{var o;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\:\\d{2})?").replace(/{CONTENT}/g,"(.*)"):n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)",(o=new RegExp(n,"").exec(t))==null?void 0:o[6]},H6=(e,t)=>{var o;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\:\\d{2})?").replace(/{CONTENT}/g,"(.*)"):n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)",(o=new RegExp(n,"").exec(t))==null?void 0:o[7]},Y6=e=>{var r;const t="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\d{1,2})\\:(\\d{2})\\:(\\d{2})(.*)";return(r=new RegExp(t,"").exec(e))==null?void 0:r[7]},U6=e=>{var t;return(t=/^\s*[\-\*]\s(\[(.{1})\])\s(.*)/.exec(e))==null?void 0:t[2]},_E=()=>Mm()?!0:(new C.Notice(E("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),!1);async function BE(e,t){if(!e)return t;const n=Re.getState().dailyNotesState.app||window.app,r=await A6(e,n);let o=C.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss");await n.fileManager.processFrontMatter(e,i=>{if(i.id||(i.id=ct.randomId(16)),i.createdAt?o=C.moment(i.createdAt,"YYYY/MM/DD HH:mm:ss").isValid()?i.createdAt:o:i.createdAt=o,!r.trim())return t;const a=!!i.pinned,c=i.rowStatus&&i.rowStatus==="ARCHIVED",d=!!i.deletedAt,f=i.deletedAt?i.deletedAt:"",m=i.visibility?i.visibility:"PRIVATE",g=i.thinoType?i.thinoType:"JOURNAL",v=i.webId?i.webId:"",w=i.id?i.id:"",T=i.hasId?i.hasId:"",S=i.linkId?i.linkId:"",I=e.path,k="Memo",P="MULTI",R=[];return t.push({id:w,content:r,createdAt:o,updatedAt:o,deletedAt:d?C.moment(f,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:a,rowStatus:c?"ARCHIVED":"NORMAL",visibility:m,thinoType:g,hasId:T,linkId:S,path:I,creatorName:k,sourceType:P,resourceList:R,webId:v}),t})}async function Lb(e,t){var w,T,S,I,k,P;if(!e)return t;const{vault:n}=Re.getState().dailyNotesState.app||window.app;let r;try{r=await n.read(e)}catch(R){console.error(R),r=await n.cachedRead(e)}if(!r)return;const o=C.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss"),i=C.moment(e.stat.mtime).format("YYYY/MM/DD HH:mm:ss"),a=e.path,c="Thino",d="FILE",f="",m="",g=[],v=await F6(r);for(const R of v){const M=P6(R.content);for(const _ of M){const L=_.metadata.match(/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2}/g);if(!L)continue;const z=(T=(w=_.metadata.match(/id::([^\]]*)/g))==null?void 0:w[0])==null?void 0:T.replace("id::","");if(!z)continue;const Y=L?L[0]:o,V=L?L[0]:i,$=_.metadata.match(/webId::([^\]]*)/g)?(I=(S=_.metadata.match(/webId::([^\]]*)/g))==null?void 0:S[0])==null?void 0:I.replace("webId::",""):"",re=_.metadata.contains("[pinned::true]"),Q=_.metadata.contains("[archived::true]"),ae=_.metadata.contains("[deleted::"),X=(k=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(_.metadata))==null?void 0:k[2],ie=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(_.metadata)?"PUBLIC":"PRIVATE",Z=(P=new RegExp(/\[(thinoType|THINOTYPE)::([^\]]*)\]/,"g").exec(_.metadata))==null?void 0:P[2];t.push({id:z,content:_.content,createdAt:Y,updatedAt:V,deletedAt:ae?C.moment(X,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:re,rowStatus:Q?"ARCHIVED":"NORMAL",visibility:ie,thinoType:Z||"JOURNAL",hasId:f,linkId:m,path:a,creatorName:c,sourceType:d,resourceList:g,webId:$})}}return t}async function HE(e,t){if(!e)return[];const n=Re.getState().dailyNotesState.settings,{vault:r}=Re.getState().dailyNotesState.app||window.app;if(await j6(n,e)===0)return;let i;try{i=await r.read(e)}catch(g){console.error(g),i=await r.cachedRead(e)}const{content:a,startLine:c}=kD(i,(n==null?void 0:n.ProcessContentTarget)==="whole"?"":n.ProcessEntriesBelow);let d="",f=0;if(n.DifferentInsertTarget&&(n==null?void 0:n.ProcessContentTarget)!=="whole"&&n.InsertAfterForTask&&!a.includes(n.InsertAfterForTask)){const{content:g,startLine:v}=kD(i,n.InsertAfterForTask);d=g,f=v}const m=[];ND(n,a,c,m,e),n.DifferentInsertTarget&&d&&ND(n,d,f,m,e),m.length!==0&&t.push(...m.sort((g,v)=>g.createdAt>v.createdAt?-1:1))}async function YE(e,t){const n=Re.getState().dailyNotesState.app||app;if(!(e instanceof C.TFile))return;let r;try{r=await n.vault.read(e)}catch(a){console.error(a),r=await n.vault.cachedRead(e)}if(!r)return;const o=JSON.parse(r),i=o==null?void 0:o.nodes;for(const a of i){if(a.type==="group"||a.createdAt===void 0||a.text.trim()==="")continue;const c=C.moment(a==null?void 0:a.createdAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),d=C.moment(a==null?void 0:a.updatedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),f=a!=null&&a.deletedAt?C.moment(a==null?void 0:a.deletedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",m=!!(a!=null&&a.pinned),g=a!=null&&a.archived?"ARCHIVED":"NORMAL",v=a!=null&&a.visibility?a==null?void 0:a.visibility:"PRIVATE",w=a!=null&&a.thinoType?a==null?void 0:a.thinoType:"JOURNAL",T=a!=null&&a.text?a==null?void 0:a.text:"",S=a!=null&&a.id?a==null?void 0:a.id:"",I=a!=null&&a.hasId?a==null?void 0:a.hasId:"",k=a!=null&&a.linkId?a==null?void 0:a.linkId:"",P=e.path,R="Memo",M="CANVAS",_=[],L=a!=null&&a.webId?a==null?void 0:a.webId:void 0;t.push({id:S,content:T,createdAt:c,updatedAt:d,deletedAt:f,pinned:m,rowStatus:g,visibility:v,thinoType:w,hasId:I,linkId:k,path:P,creatorName:R,sourceType:M,resourceList:_,webId:L})}}async function AD(e=[]){const t=[],n=[],r=Re.getState().dailyNotesState.app||app,{vault:o}=r,{settings:i}=Re.getState().dailyNotesState,a=r.loadLocalStorage("tokenForSync"),c=async(d,f)=>{for(const m of d)try{await f(m,t,i)}catch(g){console.error(g),new C.Notice(g)}};if(e.includes("CANVAS")){const d=z6(o);await c(d,YE)}if(e.includes("MULTI")){const d=V6(o,r,i);await c(d,BE)}if(e.includes("DAILY")){const d=await W6(o);await c(d,HE)}if(e.includes("FILE")||a){const d=Z6(o,r,i);await c(d,Lb)}return{memos:t,commentMemos:n}}function z6(e){return e.getAllLoadedFiles().filter(t=>t instanceof C.TFile&&t.extension==="canvas"&&t.name.includes(".thino"))}function V6(e,t,n){const r=e.getMarkdownFiles(),o=r.filter(a=>{var c,d;return((c=a.parent)==null?void 0:c.path.includes(n.MemoOtherSaveLocation.MemoDefaultMultiFilePath.trim()))&&!((d=a.path)!=null&&d.endsWith("thino.md"))}),i=n.TagForMultiTypeFiles?r.filter(a=>{var c,d;return!((c=a.parent)!=null&&c.path.includes(n.MemoOtherSaveLocation.MemoDefaultMultiFilePath.trim())&&!((d=a.path)!=null&&d.endsWith("thino.md")))&&C.getAllTags(t.metadataCache.getFileCache(a)).contains("#"+n.TagForMultiTypeFiles.replace("#",""))}):[];return[...o,...i]}async function W6(e){const t=r0();t===void 0&&new C.Notice(E("Please check your daily note plugin OR periodic notes plugin settings")+"folder path is empty or undefined"),e.getAbstractFileByPath(C.normalizePath(t))||new C.Notice(E("Failed to find daily notes folder"));const r=uc();return Object.values(r).filter(o=>o instanceof C.TFile&&o.extension==="md")}function Z6(e,t,n){const r=e.getMarkdownFiles(),o=r.filter(a=>a.name.trim().includes("thino")),i=n.TagForFileTypeFiles?r.filter(a=>!a.name.trim().includes("thino")&&C.getAllTags(t.metadataCache.getFileCache(a)).contains("#"+n.TagForFileTypeFiles.replace("#",""))):[];return[...o,...i]}const $6=async(e,t,n)=>{const r=await Nh(Re.getState().dailyNotesState.app)||[],o=r.find(c=>c.id===e),i={...o,title:t,querystring:n},a=r.findIndex(c=>c.id===e);return r[a]=i,await ng(Re.getState().dailyNotesState.app,r),[o]},q6="https://api.thino.pkmer.cn/test",Ah=q6,G6="unknown",J6=/!\[(?<content>[^\]]+)\]\((?<link>[^)]+)\)/g;function K6(e){return e.substring(e.lastIndexOf(".")+1)}function Q6(e){return{id:e.id,createdAt:Date.now().toString(),filename:e.id,type:`${K6(e.id)}`,size:e.size.toString()}}function X6(e){const t=e==null?void 0:e.matchAll(J6);return t?Array.from(t).map(n=>{var r;return Q6({url:(r=n.groups)==null?void 0:r.link,id:G6,size:0,mtime:""})}).filter(n=>n.type!="html"):[]}function rg(e){var t;return{id:e.id,createdAt:C.moment(e.ctime.toString(),"x").format("YYYY/MM/DD HH:mm:ss"),updatedAt:C.moment(e.mtime.toString(),"x").format("YYYY/MM/DD HH:mm:ss"),deletedAt:(t=e.ttime)!=null&&t.toString()?C.moment(e.ttime.toString(),"x").format("YYYY-MM-DD HH:mm:ss"):"",rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,resourceList:X6(e.content),creatorName:"thino",sourceType:(e==null?void 0:e.thinoType)||"FILE",visibility:"PUBLIC",localId:e.originalId,deleted:!!e.dtime}}async function e8(e){const n={url:`${Ah}/thino/getThinos${e?`?since=${e}&includeDeleted=true`:""}`,method:"GET",headers:{Authorization:`Bearer ${Fh()}`}};return C.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to fetch memos: ${r.status}`);try{return r.json.payload.map(i=>rg(i))}catch(o){console.error(`Error processing memo response: ${o}`)}}).catch(r=>(console.error(r),[]))}function Fh(){const e=Re.getState().dailyNotesState.app||app;return(e==null?void 0:e.loadLocalStorage("tokenForSync"))||""}async function F1(e){const t=`${Ah}/thino/createThino`,n={content:e.content,thinoType:(e==null?void 0:e.thinoType)||"FILE",pinned:!1,rowStatus:"NORMAL",encrypted:!1},r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${Fh()}`}};return C.requestUrl(r).then(o=>{o.status>=400&&console.error(`Failed to create memo: ${o.status}`);try{const i=o.json;return rg(i.payload)}catch(i){console.error(`Error processing memo creation response: ${i}`)}}).catch(o=>(console.error(o),null))}function t8(e){return{id:e.id,ctime:C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").valueOf(),mtime:C.moment(e.updatedAt,"YYYY/MM/DD HH:mm:ss").valueOf(),ttime:e.deletedAt?C.moment(e.deletedAt,"YYYY/MM/DD HH:mm:ss").valueOf():void 0,rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,encrypted:!1,thinoType:e.sourceType==="DAILY"?"DAILY":"FILE",tags:[]}}async function n8(e){const t=`${Ah}/thino/createThinosByData`,n=e.map(o=>t8(o)),r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${Fh()}`}};return C.requestUrl(r).then(o=>{o.status>=400&&console.error(`Failed to create thinos: ${o.status}`);try{return o.json.payload.map(c=>rg(c))}catch(i){console.error(`Error processing thinos creation response: ${i}`)}}).catch(o=>(console.error(o),[]))}async function Hw(e){const n={url:`${Ah}/thino/updateThinoById/${e.id}`,method:"POST",contentType:"application/json",body:JSON.stringify(e),headers:{Authorization:`Bearer ${Fh()}`}};return C.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to update memo: ${r.status}`);try{const o=r.json;return rg(o.payload)}catch(o){console.error(`Error processing memo update response: ${o}`)}}).catch(r=>(console.error(r),null))}async function Nm(e){const n={url:`${Ah}/thino/recoverThinoFromTrash/${e}`,method:"POST",headers:{Authorization:`Bearer ${Fh()}`}};return C.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to recover memo: ${r.status}`);try{const o=r.json;return rg(o.payload)}catch(o){console.error(`Error processing memo recovery response: ${o}`)}}).catch(r=>(console.error(r),null))}async function P1(e){const n={url:`${Ah}/thino/deleteThinoById/${e}`,method:"DELETE",headers:{Authorization:`Bearer ${Fh()}`}};return C.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to delete memo: ${r.status}`)}).catch(r=>(console.error(r),null))}function r8(e){return(e==null?void 0:e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))||e}function o8(e){const t=[];let n=e;for(;n.contains(`
`);){const r=n.indexOf(`
`);t.push(n.slice(0,r)),n=n.slice(r+1)}return t.push(n),t}async function i8({content:e,isList:t,name:n}){const r=Re.getState().dailyNotesState.settings,o=C.moment(),i=ct.randomId(16),a=(r==null?void 0:r.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",c=n||`${o.format("YYYYMMDD")}-${i}`,d=`${a}/${c}.md`,f={id:i,content:e,deletedAt:"",path:d,createdAt:o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:o.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"MULTI"},m=ft.getState().app||window.app,{vault:g,fileManager:v}=m,w=g.getAbstractFileByPath(a);(!w||!(w instanceof C.TFolder))&&(new C.Notice(E("Folder not found for the given thino path, is creating a new folder")),await g.createFolder(a)),dt.setChangedByMemos(!0);let T;const S=m.vault.getFileByPath(d);return S?T=await g.create(`${a}/${o.format("YYYYMMDD")}-${i}.md`,e):T=await g.create(d,e),await v.processFrontMatter(T,I=>{I.id=i,I.createdAt=o.format("YYYY/MM/DD HH:mm:ss"),I.updatedAt=o.format("YYYY/MM/DD HH:mm:ss"),I.thinoType=t?"JOURNAL":"TASK-TODO"}),(!n||S)&&(r!=null&&r.SetFileNameAfterCreate)&&m.fileManager.promptForFileRename(T),f}async function a8({content:e,isList:t}){const n=Re.getState().dailyNotesState.settings,r=C.moment(),o=ct.randomId(16),i=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",a={id:o,content:e,deletedAt:"",path:i,createdAt:r.format("YYYY/MM/DD HH:mm:ss"),updatedAt:r.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE"},c=ft.getState().app,{vault:d}=c;let f=d.getAbstractFileByPath(i);(!f||!(f instanceof C.TFile))&&(new C.Notice(E("File not found for the given thino path, is creating a new file")),f=await d.create(i,""));let m="";try{m=await d.read(f)||await d.cachedRead(f)}catch(k){console.error(k),new C.Notice(E("Failed to read current daily note, check if it exists."))}const g=m.indexOf(`# ${r.format("YYYY-MM-DD")}`);let v=m.indexOf(`
#`,g+1);v===-1&&(v=m.length);const w=`> [!thino] ${r.format("YYYY/MM/DD HH:mm:ss")} %% [id::${o}] [thinoType::${t?"JOURNAL":"TASK-TODO"}] %%`,T=e.replace(/\n/g,`
> `),S=`
${w}
> ${T}
`;let I;if(g===-1){const k=`# ${r.format("YYYY-MM-DD")}`;I=`${m.substring(0,v)}
${k}${S}
${m.substring(v)}`}else I=`${m.substring(0,v)}${S}${m.substring(v)}`;return setTimeout(async()=>{dt.setChangedByMemos(!0),await d.modify(f,I)},200),a}async function FD(e){const t=Re.getState().dailyNotesState.settings,n=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),r=e.id,o=(t==null?void 0:t.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",i={id:r,content:e.content,deletedAt:e.deletedAt||"",path:o,createdAt:n.format("YYYY/MM/DD HH:mm:ss"),updatedAt:n.format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",hasId:"",linkId:"",pinned:e.pinned,visibility:"PUBLIC",rowStatus:e.rowStatus||"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE",webId:e.id},a=ft.getState().app,{vault:c}=a;let d=c.getAbstractFileByPath(o);(!d||!(d instanceof C.TFile))&&(new C.Notice(E("File not found for the given thino path, is creating a new file")),d=await c.create(o,""));let f="";try{f=await c.read(d)||await c.cachedRead(d)}catch(I){console.error(I),new C.Notice(E("Failed to read current daily note, check if it exists."))}const m=f.indexOf(`# ${n.format("YYYY-MM-DD")}`);let g=f.indexOf(`
#`,m+1);g===-1&&(g=f.length);const v=`> [!thino] ${n.format("YYYY/MM/DD HH:mm:ss")} %% [id::${r}] [thinoType::JOURNAL]${e.rowStatus==="ARCHIVED"?" [archived::true]":""}${e.pinned===!0?" [pinned::true]":""}${e.deletedAt?` [deleted::${e.deletedAt}]`:""}${e.id?` [webId::${e.id}]`:""}  %%`,w=e.content.replace(/\n/g,`
> `),T=`
${v}
> ${w}
`;let S;if(m===-1){const I=`# ${n.format("YYYY-MM-DD")}`;S=`${f.substring(0,g)}
${I}${T}
${f.substring(g)}`}else S=`${f.substring(0,g)}${T}${f.substring(g)}`;return dt.setChangedByMemos(!0),await c.modify(d,S),i}async function s8({content:e,isList:t}){const n=Re.getState().dailyNotesState.settings,r=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultCanvasPath)||"basic.thino.canvas",o=C.moment(),i=ct.randomId(16),a={id:i,content:e,deletedAt:"",path:r,createdAt:o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:o.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"CANVAS"},c=ft.getState().app,{vault:d}=c,f=await N6(r,c);if(!f||!(f instanceof C.TFile)){new C.Notice(E("File not found for the given thino path, is creating a new file"));return}const m=await d.read(f),g=JSON.parse(m);if(g.nodes.find(I=>I.id===a.id))return;let w;g.nodes.length>0&&(w=[...g.nodes].reduce((I,k)=>{if(!I.createdAt)return k;const P=C.moment(I.createdAt,"YYYY/MM/DD HH:mm:ss"),R=C.moment(k.createdAt,"YYYY/MM/DD HH:mm:ss");return P.isAfter(R)?I:k}));const T=w?{x:w.x,y:w.y+100,width:w.width,height:w.height}:{x:0,y:0,width:200,height:100};g.nodes.push({...T,type:"text",id:i,text:e,deletedAt:"",createdAt:o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:o.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[]}),dt.setChangedByMemos(!0);const S=JSON.stringify(g,null,2);return await d.modify(f,S),a}async function PD(e,t,n){var $;const{vault:r}=Re.getState().dailyNotesState.app||app,o=Re.getState().dailyNotesState.app||app,i=Re.getState().dailyNotesState.settings,a=o.vault.getConfig("useTab")===void 0||app.vault.getConfig("useTab")===!0,c=a?1:o.vault.getConfig("tabSize"),d=(a?"	":" ").repeat(c),f=e.split(`
`).join(`
`+d),m=n||C.moment(),{DifferentInsertTarget:g,InsertAfterForTask:v,InsertType:w}=i,T=m.format(i.DefaultTimePrefix||"HH:mm"),S=o==null?void 0:o.loadLocalStorage("tokenForSync");let I="";try{e&&S&&i.startSync&&(I=(await F1({content:e,thinoType:"DAILY"})).id)}catch(re){console.error(re)}const k=t?"- ":"- [ ] ",P=i!=null&&i.DefaultMemoComposition?`${k}${($=i==null?void 0:i.DefaultMemoComposition)==null?void 0:$.replace(/{TIME}/g,T).replace(/{CONTENT}/g,(f.split(`
`).length>1||/^((-|\*|\d\.|>)\s|```)/g.test(f)?`
`+d:"")+f)}${f.split(`
`).length>1&&/((-|\*|\d\.|>)\s|```)/g.test(f.split(`
`)[f.split(`
`).length-1])&&I?`
`+d:" "}${I?`[webId::${I}]`:""}`:`${k}${T} ${f.split(`
`).length>1||/^((-|\*|\d\.|>)\s|```)/g.test(f)?`
`+d:""}${f}${f.split(`
`).length>1&&/((-|\*|\d\.|>)\s|```)/g.test(f.split(`
`)[f.split(`
`).length-1])&&I?`
`+d:" "}${I?`[webId::${I}]`:""}`,R=uc(),M=n0(m,R);let _;if(M?_=M:_=await ct.createDailyNoteCheck(m),!_){new C.Notice(E("Failed to create daily note, check if it exists."));return}M||await ft.fechLocalDailyNotes();let L="";try{L=await r.read(_)||await r.cachedRead(_)}catch(re){console.error(re),new C.Notice(E("Failed to read current daily note, check if it exists."))}const z=w==="end"?"":t?i.InsertAfter:g&&v||i.InsertAfter,Y=await UE(z,P,L);await r.modify(_,Y.content);const V=Y.posNum===-1?zE(Y.content).length-(P.split(`
`).length-1)-1:Y.posNum+1;return dt.setChangedByMemos(!0),{id:m.format("YYYYMMDDHHmm")+"00"+V,content:e,deletedAt:"",createdAt:m.format("YYYY/MM/DD HH:mm:ss"),updatedAt:m.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",path:_.path,hasId:"",linkId:"",webId:I,pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"DAILY"}}async function l8(e){const{vault:t}=Re.getState().dailyNotesState.app??app,n=Re.getState().dailyNotesState.app||app,{DefaultMemoComposition:r,InsertAfter:o,DefaultTimePrefix:i,DifferentInsertTarget:a,InsertAfterForTask:c,InsertType:d}=Re.getState().dailyNotesState.settings;let f=(e.pinned?" [pinned::true]":"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.visibility==="PRIVATE"?' [visibility::"PRIVATE"]':"");if(e.id){const $=" [webId::"+e.id+"]";f+=$}const m=C.moment();if(e.deletedAt){const $=" [deleted::"+m.format("YYYYMMDDHHmmss")+"]";f+=$}const g=n.vault.getConfig("useTab")===void 0||app.vault.getConfig("useTab")===!0,v=g?1:n.vault.getConfig("tabSize"),w=(g?"	":" ").repeat(v),T=e.content.split(`
`).join(`
`+w),S=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),I=S.format(i||"HH:mm"),k=e.thinoType?"- [ ] ":"- ",P=r?`${k}${r==null?void 0:r.replace(/{TIME}/g,I).replace(/{CONTENT}/g,(T.split(`
`).length>1||/^((-|\*|\d\.|>)\s|```)/g.test(T)?`
`+w:"")+T)}${T.split(`
`).length>1&&/```/g.test(T.split(`
`)[T.split(`
`).length-1])&&f.trim()?`
`+w:" "}${f}`:`${k}${I} ${T.split(`
`).length>1||/^((-|\*|\d\.|>)\s|```)/g.test(T)?`
`+w:""}${T}${T.split(`
`).length>1&&/```/g.test(T.split(`
`)[T.split(`
`).length-1])&&f.trim()?`
`+w:" "}${f}`,R=uc(),M=n0(S,R);let _;if(M?_=M:_=await ct.createDailyNoteCheck(S),!_){new C.Notice(E("Failed to create daily note, check if it exists.")),new C.Notice(E("Your content has been copied to clipboard, and inserted into the editor. Please try it again")),await navigator.clipboard.writeText(e.content);const $=this.app.workspace.getLeavesOfType("thino_view").first();n.workspace.trigger("send-to-thino",e.content,$);return}M||await ft.fechLocalDailyNotes();let L="";try{L=await t.read(_)||await t.cachedRead(_)}catch($){console.error($),new C.Notice(E("Failed to read current daily note, check if it exists."))}const z=d==="end"?"":e.thinoType&&a&&c||o,Y=await UE(z,P,L);await t.modify(_,Y.content);const V=Y.posNum===-1?zE(Y.content).length-1:Y.posNum+1;return dt.setChangedByMemos(!0),{id:S.format("YYYYMMDDHHmm")+"00"+V,content:e.content,deletedAt:e.deletedAt??"",createdAt:S.format("YYYY/MM/DD HH:mm:ss"),updatedAt:S.format("YYYY/MM/DD HH:mm:ss"),thinoType:e.thinoType??"JOURNAL",path:_.path,hasId:"",linkId:"",pinned:e.pinned??!1,visibility:"PUBLIC",rowStatus:e.rowStatus??"NORMAL",webId:e.id,creatorName:"Thino",resourceList:[],sourceType:"DAILY"}}async function UE(e,t,n){const r=new RegExp(`s*${await r8(e)}s*`),o=o8(n),i=o.findIndex(f=>r.test(f)),a=(e==null?void 0:e.trim())===""?!0:i===-1;a&&console.error("unable to find insert after line in file.");const c=o.slice(i+1).findIndex(f=>/^#+ |---/.test(f)),d=c!==-1;if(d){let f;for(let m=c+i;m>i;m--)if(!/^[\s\n ]*$/.test(o[m])){f=m;break}return f||(f=i),await OD(t,n,a?-1:f,d)}else return await OD(t,n,o.length-1,d)}async function OD(e,t,n,r){if(n<-1)throw new Error("Invalid position");if(n===-1)return{content:`${t}
${e}`,posNum:-1};const o=t.split(`
`),i=o.slice(0,n+1).join(`
`),a=o.slice(n+1).join(`
`),c=a.trim().length>0;return{content:`${i}${!c&&!r||!i.endsWith(`
`)?`
`:""}${e}${(c||r?`
`:"")+a}`,posNum:n}}const zE=e=>e.split(/\r?\n/);async function c8(e){const t=Re.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof C.TFile)){new C.Notice(E("File not found for the given thino path"));return}await t.vault.delete(n)}async function u8(e){const t=Re.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof C.TFile)){new C.Notice(E("File not found for the given thino path"));return}const o=(await t.vault.read(n)).split(`
`),i=o.findIndex(d=>d.includes(e.id));if(i===-1){new C.Notice(E("Thino not found"));return}const a=o.findIndex((d,f)=>f>i&&d.trim()==="");a===-1?o.splice(i,o.length-i):o.splice(i,a-i);const c=o.join(`
`);if(!c){new C.Notice(E("Thino not found"));return}dt.setChangedByMemos(!0),await t.vault.modify(n,c)}async function d8(e){const t=Re.getState().dailyNotesState.app,n=t.metadataCache.getFirstLinkpathDest("",e.path);if(!n){new C.Notice(E("File not found for the given thino path"));return}const r=await t.vault.read(n),o=JSON.parse(r),i=o.nodes,a=i.findIndex(m=>m.id===e.id);if(a===-1){new C.Notice(E("Thino not found"));return}i.splice(a,1);const c=o.edges;c.filter(m=>m.fromNode===e.id||m.toNode===e.id).forEach(m=>{const g=c.findIndex(v=>v.id===m.id);g!==-1&&c.splice(g,1)}),dt.setChangedByMemos(!0);const f=JSON.stringify(o,null,2);await t.vault.modify(n,f)}async function f8(e){_E()||new C.Notice(E("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."),5e3);const{vault:t,metadataCache:n}=Re.getState().dailyNotesState.app,r=e.path,o=t.getAbstractFileByPath(r);if(!o){new C.Notice(E("Please check your daily note plugin OR periodic notes plugin settings"));return}const i=await t.read(o),a=i.split(`
`),c=n.getFileCache(o),d=(c==null?void 0:c.listItems)||[],f=parseInt(e.id.slice(14));let m=f;function g(S,I){const k=[];for(const P in I)I[P]===S&&k.push(parseInt(P),...g(parseInt(P),I));return k}const v=A1(d),w=d.find(S=>S.position.start.line===f),T=g(f,v);if(T.length>0){const S=T.map(I=>{const k=d.find(P=>P.position.start.line===I);return k?k.position.end.line:-1});m=Math.max(...S,w.position.end.line)}else m=w.position.end.line;if(!i){new C.Notice(E("Thino not found"));return}dt.setChangedByMemos(!0),a.splice(f,m-f+1),await t.modify(o,a.join(`
`))}async function h8(){const{vault:e,metadataCache:t}=Re.getState().dailyNotesState.app,n=Re.getState().dailyNotesState.settings,o=r0()+"/"+n.DeleteFileName+".md",i=[],a=t.getFirstLinkpathDest("",o);if(a instanceof C.TFile){let c=await e.read(a),d=p8(c);if(d.length===0)return i;for(let f=0;f<d.length;f++){const m=d[f];if(/- /.test(m)){const v=m8(m).slice(0,13),w=C.moment(v,"YYYYMMDDHHmmss"),T=y8(d[f]),S=C.moment(T.slice(0,13),"YYYYMMDDHHmmss"),I=g8(d[f]);i.push({id:T,content:I,user_id:1,createdAt:w.format("YYYY/MM/DD HH:mm:SS"),updatedAt:w.format("YYYY/MM/DD HH:mm:SS"),deletedAt:S})}else continue}d=null,c=null}return i}const p8=e=>e.split(/\r?\n/),m8=e=>{var t;return(t=/^- (\d{14})(\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[1]},g8=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[2]},y8=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[4]};async function v8(e){const t=await Nh(Re.getState().dailyNotesState.app)||[],n=t.findIndex(r=>r.id===e);t.splice(n,1),await ng(Re.getState().dailyNotesState.app,t)}const w8=async e=>{const{app:t}=Re.getState().dailyNotesState,n=await Nh(t)||[],r=n.find(o=>o.id===e);if(r){const o=C.moment().format("YYYY/MM/DD HH:mm:ss");return r.pinnedAt=o,await ng(t,n),o}else{new C.Notice(E("Query not found"));return}},b8=async e=>{const{app:t}=Re.getState().dailyNotesState,n=await Nh(t)||[],r=n.find(o=>o.id===e);if(r){r.pinnedAt="",await ng(t,n);return}else{new C.Notice(E("Query not found"));return}};function S8(e,t){const n=/%%(.*?)%%/,r=e.match(n);if(!r)return e;const o=r[1].trim(),i={};o.split(" ").forEach(c=>{const[d,f]=c.slice(1,-1).split("::");i[d]=f});for(const c of Object.keys(t))if(c!=="id"&&c!=="content"){if(c==="rowStatus"&&t.rowStatus==="ARCHIVED"){i.archived="true";continue}else if(c==="rowStatus"&&t.rowStatus==="NORMAL"){delete i.archived;continue}if(c==="deleted"&&t.deleted){const d=C.moment().format("YYYYMMDDHHmmss");i.deleted=d}else typeof t[c]=="boolean"?t[c]?i[c]="true":delete i[c]:t[c]&&(i[c]=t[c])}const a=Object.entries(i).map(([c,d])=>`[${c}::${d}]`).join(" ");return e.replace(n,`%% ${a} %%`)}async function hs(e,t){if(!e.sourceType||e.sourceType!=="MULTI")return e;const{vault:n,fileManager:r}=Re.getState().dailyNotesState.app,o=n.getAbstractFileByPath(e.path);if(!o)return e;const i=C.moment();if(await r.processFrontMatter(o,a=>{(t.pinned!==void 0||t.thinoType||t.rowStatus||t.visibility||t.deleted)&&dt.setChangedByMemos(!0),t.id&&(a.id=t.id),t.thinoType&&(a.thinoType=t.thinoType),t.rowStatus&&(a.rowStatus=t.rowStatus),t.visibility&&(a.visibility=t.visibility),t.webId&&(a.webId=t.webId),t.pinned!==void 0&&(a.pinned=t.pinned),t.deleted!==void 0&&(a.deletedAt=t.deleted?i.format("YYYY/MM/DD HH:mm:ss"):""),a.createdAt||(a.createdAt=i.format("YYYY/MM/DD HH:mm:ss")),a.updatedAt=i.format("YYYY/MM/DD HH:mm:ss")}),t.content){const a=await n.read(o);let c=a;const d=t.content.replace(/\$/g,"$$$$");c=a.replace(e.content,d),await n.modify(o,c)}return dt.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||i.format("YYYY/MM/DD HH:mm:ss"),updatedAt:e.updatedAt,content:t.content||e.content,rowStatus:t.rowStatus||e.rowStatus,visibility:t.visibility||e.visibility,pinned:t.pinned!==void 0?t.pinned:e.pinned,webId:t.webId||e.webId,deletedAt:t.deleted?i.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function al(e,t){if(!e.sourceType||e.sourceType!=="FILE")return e;const{vault:n}=Re.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const o=C.moment();let i="";try{i=await n.read(r)}catch(k){console.error(k),i=await n.cachedRead(r)}const a=i.split(/\r?\n/),c=a.findIndex(k=>k.includes(e.id)||e.webId&&k.includes(e.webId)),d=a[c];if(!d)return e;const f=S8(d,t);if(!d)return e;const m=f+`
`,g=a.findIndex((k,P)=>P>c&&k.trim()==="");let v="";g===-1&&(v=a.slice(c+1).join(`
`)),g!==-1&&(v=a.slice(c+1,g).join(`
`));let w=v;t!=null&&t.content&&(w=t.content.split(/\r?\n/).map(M=>"> "+M).join(`
`));const S=(m+w).split(/\r?\n/);a.splice(c,g?g-c:a.length-c,...S);const I=a.join(`
`);return await n.modify(r,I),dt.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:e.updatedAt,content:t.content||e.content,rowStatus:t.rowStatus||e.rowStatus,visibility:t.visibility||e.visibility,pinned:t.pinned!==void 0?t.pinned:e.pinned,webId:t.webId||e.webId,deletedAt:t.deleted?o.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function sl(e,t){if(!e.sourceType||e.sourceType!=="CANVAS")return e;const{vault:n}=Re.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const o=await n.read(r),i=JSON.parse(o),a=i.nodes.find(f=>f.id===e.id);if(!a)return e;t.content&&(a.text=t.content),t.thinoType&&(a.thinoType=t.thinoType),t.rowStatus&&(a.rowStatus=t.rowStatus),t.visibility&&(a.visibility=t.visibility),t.pinned!==void 0&&(a.pinned=t.pinned),t.webId&&(a.webId=t.webId);const c=C.moment();t.deleted!==void 0&&(a.deletedAt=t.deleted?c.format("YYYY/MM/DD HH:mm:ss"):""),a.updatedAt=c.format("YYYY/MM/DD HH:mm:ss");const d=JSON.stringify(i,null,2);return await n.modify(r,d),dt.setChangedByMemos(!0),{...e,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt,updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?c.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function ll(e,t){var ae;_E()||new C.Notice(E("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."));const{vault:n,metadataCache:r}=Re.getState().dailyNotesState.app,o=Re.getState().dailyNotesState.app,{settings:i}=Re.getState().dailyNotesState,a=e.id.toString().slice(0,14),c=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(C.moment(a,"YYYYMMDDHHmmss"))?C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"):C.moment(a,"YYYYMMDDHHmmss"),d=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(c,"day"),f=e.path,m=n.getAbstractFileByPath(f)||n.getAbstractFileByPath(e.path);if(!m)return new C.Notice(E("Please check your daily note plugin OR periodic notes plugin settings")),e;const v=(await n.read(m)).split(`
`),w=r.getFileCache(m),T=(w==null?void 0:w.listItems)||[];if(T.length===0)return new C.Notice(E("Thino not found")),e;const S=parseInt(e.id.slice(14));let I=S;function k(X,ie){const Z=[];for(const ue in ie)ie[ue]===X&&Z.push(parseInt(ue),...k(parseInt(ue),ie));return Z}const P=A1(T),R=T.find(X=>X.position.start.line===S);if(!R)return new C.Notice(E("Thino not found")),e;const M=k(S,P);if(M.length>0){const X=M.map(ie=>{const Z=T.find(ue=>ue.position.start.line===ie);return Z?Z.position.end.line:-1});I=Math.max(...X,R.position.end.line)}else I=R.position.end.line;const _=v.slice(S,I+1);let L=_.join(`
`);const z=d?C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm"):(parseInt(e.id.toString().slice(10,12))+24).toString()+":"+e.id.toString().slice(12,14);if(!L)return new C.Notice(E("Thino not found")),e;const Y=o.vault.getConfig("useTab")===void 0||app.vault.getConfig("useTab")===!0,V=Y?1:o.vault.getConfig("tabSize"),$=(Y?"	":" ").repeat(V);let re=z;if(i.DefaultTimePrefix!=="HH:mm"&&(re=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format(i.DefaultTimePrefix)),t.content){const X=e.thinoType==="TASK-TODO"?"- [ ] ":e.thinoType==="TASK-DONE"?"- [x] ":e.thinoType.startsWith("TASK")?`- [${e.thinoType.slice(5)}] `:"- ",ie=(e.pinned?" [pinned::true]":"")+(e.deletedAt?` [deleted::${e.deletedAt}]`:"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.webId?" [webId::"+e.webId+"]":""),Z=t.content.trim().split(`
`)[t.content.trim().split(`
`).length-1].trim(),ue=e.hasId&&t.content.trim().split(`
`).length>1&&new RegExp(/(-|\*|\d{1,2}\.)\s/g).test(Z)?" ^"+e.hasId:" ";L=`${X}${re}${ue}${t.content.trim().split(`
`).length>1||/^((-|\*|\d\.|>)\s|```)/g.test(t.content)?`
`+$:""}${t.content.trim().split(`
`).join(`
`+$)}${/((-|\*|\d\.|>)\s|```)/g.test(t.content.split(`
`)[t.content.split(`
`).length-1])?`
`+$:" "}${ie.trim()}`}if(t.thinoType){const X=t.thinoType==="TASK-TODO"?"- [ ] ":t.thinoType==="TASK-DONE"?"- [x] ":t.thinoType.startsWith("TASK")?`- [${t.thinoType.slice(5)}] `:"- ";L=L.replace(/^((- \[.\] )|((-|\*) ))/,X)}if(t.rowStatus){const X=t.rowStatus==="ARCHIVED"?"[archived::"+(t.rowStatus==="ARCHIVED"?"true":"false")+"]":"";L=L.includes("[archived::")?L.replace(/\[archived::(true|false)\]/,X):L+`${/((-|\*|\d\.|>)\s|```)/g.test(L.split(`
`)[L.split(`
`).length-1])?`
`+$:" "}`+X}if(t.visibility){const X='[visibility::"'+t.visibility+'"]';L=L.includes("[visibility::")?L.replace(/\[visibility::"(PUBLIC|PROTECTED)"\]/g,X):L+`${/((-|\*|\d\.|>)\s|```)/g.test(L.split(`
`)[L.split(`
`).length-1])?`
`+$:" "}`+X}if(t.pinned!==void 0){const X=t.pinned?"[pinned::"+(t.pinned?"true":"false")+"]":"";L=L.includes("[pinned::")?L.replace(/\[pinned::(true|false)\]/,t.pinned===!1?"":X):L+`${/((-|\*|\d\.|>)\s|```)/g.test(L.split(`
`)[L.split(`
`).length-1])?`
`+$:" "}`+X}if(t.webId!==void 0){const X="[webId::"+t.webId+"]";L=L.includes("[webId::")?L.replace(/\[webId::([^\]]+)\]/,t.webId===""?"":X):L+`${/((-|\*|\d\.|>)\s|```)/g.test(L.split(`
`)[L.split(`
`).length-1])?`
`+$:" "}`+X}const Q=C.moment();if(t.deleted!==void 0){const X="[deleted::"+Q.format("YYYYMMDDHHmmss")+"]";t.deleted?(L=L.replace(/\[deleted::([^\]]+)\]/,""),L=L+`${/((-|\*|\d\.|>)\s|```)/g.test(L.split(`
`)[L.split(`
`).length-1])?`
`+$:" "}`+X):t.deleted===!1&&(L=L.replace(/\[deleted::([^\]]+)\]/,""))}if(e.hasId&&((ae=t.content)==null?void 0:ae.split(`
`).length)===1){const X=" ^"+e.hasId;L=L.trim().replace(/\s\^([0-9a-zA-Z-]+)($|\n)/g,"")+`${/((-|\*|\d\.|>)\s|```)/g.test(L.split(`
`)[L.split(`
`).length-1])?`
`+$:" "}`+X}return L!==_.join(`
`)?(v.splice(S,I-R.position.start.line+1,L),await n.modify(m,v.join(`
`)),dt.setChangedByMemos(!0),{...e,thinoType:t.thinoType??e.thinoType,createdAt:e.createdAt,updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?Q.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}):e}async function D8(e,t,n){var k;const{vault:r,metadataCache:o}=Re.getState().dailyNotesState.app||window.app,i=r.getFileByPath(e);if(!i)return;const a=((k=o.getFileCache(i))==null?void 0:k.listItems)||[],c=A1(a),d=[],f=r.getConfig("useTab")===void 0||app.vault.getConfig("useTab")===!0,m=f?1:r.getConfig("tabSize"),g=(f?"	":" ").repeat(m);function v(P,R){const M=[];for(const _ in R)R[_]===P&&M.push(parseInt(_),...v(parseInt(_),R));return M}const w=C.moment(),T=t.map(P=>{const R=a.find(z=>z.position.start.line===parseInt(P.id.slice(14))),_=v(parseInt(P.id.slice(14)),c).map(z=>{const Y=a.find(V=>V.position.start.line===z);return Y?Y.position.end.line:-1}),L=Math.max(..._,R.position.end.line);return{id:P.id,start:R.position.start.line,end:L}}),I=(await r.read(i)).split(`
`);return T.forEach(P=>{const M=I.slice(P.start,P.end+1).join(`
`),L=M.split(`
`)[M.split(`
`).length-1].trim();let z=M;if(n==="delete"){const Y="[deleted::"+w.format("YYYYMMDDHHmmss")+"]";z=z.replace(/\[deleted::([^\]]+)\]/,""),z=M+`${M.split(`
`).length>1&&/```/g.test(L)?`
`+g:" "}`+Y}if(n==="restoreFromDelete"&&(z=z.replace(/ ?\[deleted::([^\]]+)\]/,"")),n==="archive"){const Y="[archived::true]";z=z.includes("[archived::")?z.replace(/\[archived::(true|false)\]/,Y):z+`${z.split(`
`).length>1&&/```/g.test(L)?`
`+g:" "}`+Y}n==="restoreFromArchive"&&(z=z.replace(/ ?\[archived::(true|false)\]/,"")),n==="deleteForever"?I.splice(P.start,P.end-P.start+1):I.splice(P.start,P.end-P.start+1,z),d.push({...t.find(Y=>Y.id===P.id),deletedAt:n==="delete"?w.format("YYYY/MM/DD HH:mm:ss"):"",rowStatus:n==="archive"?"ARCHIVED":"NORMAL"})}),await r.modify(i,I.join(`
`)),dt.setChangedByMemos(!0),d}const T8=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return sl(e,{id:e.id,pinned:!0});case"DAILY":return ll(e,{id:e.id,pinned:!0});case"MULTI":return hs(e,{id:e.id,pinned:!0});case"FILE":return al(e,{id:e.id,pinned:!0})}},I8=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return sl(e,{id:e.id,pinned:!1});case"DAILY":return ll(e,{id:e.id,pinned:!1});case"MULTI":return hs(e,{id:e.id,pinned:!1});case"FILE":return al(e,{id:e.id,pinned:!1})}};var Rb;(e=>{async function t(S){return await AD(S)}e.getMyMemos=t;async function n(S){return await AD([S])}e.updateSpecificTypeMemo=n;function r(){return h8()}e.getMyDeletedMemos=r;function o(S){const I=Te.getMemoById(S);if(I)switch(I==null?void 0:I.sourceType){case"DAILY":return ll(I,{id:I.id,deleted:!1});case"CANVAS":return sl(I,{id:I.id,deleted:!1});case"MULTI":return hs(I,{id:I.id,deleted:!1});case"FILE":return al(I,{id:I.id,deleted:!1})}}e.restoreMemo=o;function i(S){return u8(S)}e.deleteMemoInSingleFile=i;function a(S){return c8(S)}e.deleteMemoInMultiFiles=a;function c(S){return f8(S)}e.deleteMemoInDailyNote=c;function d(S){return d8(S)}e.deleteMemoInCanvas=d;function f(){return x6()}e.getMyQueries=f;async function m(S,I){return await M6(S,I)}e.createQuery=m;function g(S,I,k){return $6(S,I,k)}e.updateQuery=g;function v(S){return v8(S)}e.deleteQueryById=v;function w(S){return w8(S)}e.pinQuery=w;function T(S){return b8(S)}e.unpinQuery=T})(Rb||(Rb={}));const ki=Rb;var dc={};Object.defineProperty(dc,"__esModule",{value:!0});class _d extends Error{}class E8 extends _d{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class x8 extends _d{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class C8 extends _d{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class mm extends _d{}class VE extends _d{constructor(t){super(`Invalid unit ${t}`)}}class Na extends _d{}class Qc extends _d{constructor(){super("Zone is an abstract class")}}const pt="numeric",ys="short",aa="long",Dv={year:pt,month:pt,day:pt},WE={year:pt,month:ys,day:pt},M8={year:pt,month:ys,day:pt,weekday:ys},ZE={year:pt,month:aa,day:pt},$E={year:pt,month:aa,day:pt,weekday:aa},qE={hour:pt,minute:pt},GE={hour:pt,minute:pt,second:pt},JE={hour:pt,minute:pt,second:pt,timeZoneName:ys},KE={hour:pt,minute:pt,second:pt,timeZoneName:aa},QE={hour:pt,minute:pt,hourCycle:"h23"},XE={hour:pt,minute:pt,second:pt,hourCycle:"h23"},ex={hour:pt,minute:pt,second:pt,hourCycle:"h23",timeZoneName:ys},tx={hour:pt,minute:pt,second:pt,hourCycle:"h23",timeZoneName:aa},nx={year:pt,month:pt,day:pt,hour:pt,minute:pt},rx={year:pt,month:pt,day:pt,hour:pt,minute:pt,second:pt},ox={year:pt,month:ys,day:pt,hour:pt,minute:pt},ix={year:pt,month:ys,day:pt,hour:pt,minute:pt,second:pt},k8={year:pt,month:ys,day:pt,weekday:ys,hour:pt,minute:pt},ax={year:pt,month:aa,day:pt,hour:pt,minute:pt,timeZoneName:ys},sx={year:pt,month:aa,day:pt,hour:pt,minute:pt,second:pt,timeZoneName:ys},lx={year:pt,month:aa,day:pt,weekday:aa,hour:pt,minute:pt,timeZoneName:aa},cx={year:pt,month:aa,day:pt,weekday:aa,hour:pt,minute:pt,second:pt,timeZoneName:aa};class og{get type(){throw new Qc}get name(){throw new Qc}get ianaName(){return this.name}get isUniversal(){throw new Qc}offsetName(t,n){throw new Qc}formatOffset(t,n){throw new Qc}offset(t){throw new Qc}equals(t){throw new Qc}get isValid(){throw new Qc}}let Yw=null;class i0 extends og{static get instance(){return Yw===null&&(Yw=new i0),Yw}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return dx(t,n,r)}formatOffset(t,n){return Sm(this.offset(t),n)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let ov={};function N8(e){return ov[e]||(ov[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ov[e]}const A8={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function F8(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,o,i,a,c,d,f,m]=r;return[a,o,i,c,d,f,m]}function P8(e,t){const n=e.formatToParts(t),r=[];for(let o=0;o<n.length;o++){const{type:i,value:a}=n[o],c=A8[i];i==="era"?r[c]=a:yn(c)||(r[c]=parseInt(a,10))}return r}let Ny={};class oc extends og{static create(t){return Ny[t]||(Ny[t]=new oc(t)),Ny[t]}static resetCache(){Ny={},ov={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=oc.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return dx(t,n,r,this.name)}formatOffset(t,n){return Sm(this.offset(t),n)}offset(t){const n=new Date(t);if(isNaN(n))return NaN;const r=N8(this.name);let[o,i,a,c,d,f,m]=r.formatToParts?P8(r,n):F8(r,n);c==="BC"&&(o=-Math.abs(o)+1);const v=L1({year:o,month:i,day:a,hour:d===24?0:d,minute:f,second:m,millisecond:0});let w=+n;const T=w%1e3;return w-=T>=0?T:1e3+T,(v-w)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let jD={};function O8(e,t={}){const n=JSON.stringify([e,t]);let r=jD[n];return r||(r=new Intl.ListFormat(e,t),jD[n]=r),r}let _b={};function Bb(e,t={}){const n=JSON.stringify([e,t]);let r=_b[n];return r||(r=new Intl.DateTimeFormat(e,t),_b[n]=r),r}let Hb={};function j8(e,t={}){const n=JSON.stringify([e,t]);let r=Hb[n];return r||(r=new Intl.NumberFormat(e,t),Hb[n]=r),r}let Yb={};function L8(e,t={}){const{base:n,...r}=t,o=JSON.stringify([e,r]);let i=Yb[o];return i||(i=new Intl.RelativeTimeFormat(e,t),Yb[o]=i),i}let gm=null;function R8(){return gm||(gm=new Intl.DateTimeFormat().resolvedOptions().locale,gm)}function _8(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(n===-1)return[e];{let r,o;try{r=Bb(e).resolvedOptions(),o=e}catch{const d=e.substring(0,n);r=Bb(d).resolvedOptions(),o=d}const{numberingSystem:i,calendar:a}=r;return[o,i,a]}}function B8(e,t,n){return(n||t)&&(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e}function H8(e){const t=[];for(let n=1;n<=12;n++){const r=Mt.utc(2016,n,1);t.push(e(r))}return t}function Y8(e){const t=[];for(let n=1;n<=7;n++){const r=Mt.utc(2016,11,13+n);t.push(e(r))}return t}function Ay(e,t,n,r,o){const i=e.listingMode(n);return i==="error"?null:i==="en"?r(t):o(t)}function U8(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class z8{constructor(t,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:o,floor:i,...a}=r;if(!n||Object.keys(a).length>0){const c={useGrouping:!1,...r};r.padTo>0&&(c.minimumIntegerDigits=r.padTo),this.inf=j8(t,c)}}format(t){if(this.inf){const n=this.floor?Math.floor(t):t;return this.inf.format(n)}else{const n=this.floor?Math.floor(t):j1(t,3);return Or(n,this.padTo)}}}class V8{constructor(t,n,r){this.opts=r;let o;if(t.zone.isUniversal){const a=-1*(t.offset/60),c=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;t.offset!==0&&oc.create(c).valid?(o=c,this.dt=t):(o="UTC",r.timeZoneName?this.dt=t:this.dt=t.offset===0?t:Mt.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,o=t.zone.name);const i={...this.opts};i.timeZone=i.timeZone||o,this.dtf=Bb(n,i)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class W8{constructor(t,n,r){this.opts={style:"long",...r},!n&&ux()&&(this.rtf=L8(t,r))}format(t,n){return this.rtf?this.rtf.format(t,n):lF(n,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,n){return this.rtf?this.rtf.formatToParts(t,n):[]}}class Gn{static fromOpts(t){return Gn.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,n,r,o=!1){const i=t||Pr.defaultLocale,a=i||(o?"en-US":R8()),c=n||Pr.defaultNumberingSystem,d=r||Pr.defaultOutputCalendar;return new Gn(a,c,d,i)}static resetCache(){gm=null,_b={},Hb={},Yb={}}static fromObject({locale:t,numberingSystem:n,outputCalendar:r}={}){return Gn.create(t,n,r)}constructor(t,n,r,o){const[i,a,c]=_8(t);this.locale=i,this.numberingSystem=n||a||null,this.outputCalendar=r||c||null,this.intl=B8(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=U8(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&n?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Gn.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,n=!1,r=!0){return Ay(this,t,r,px,()=>{const o=n?{month:t,day:"numeric"}:{month:t},i=n?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=H8(a=>this.extract(a,o,"month"))),this.monthsCache[i][t]})}weekdays(t,n=!1,r=!0){return Ay(this,t,r,yx,()=>{const o=n?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=n?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=Y8(a=>this.extract(a,o,"weekday"))),this.weekdaysCache[i][t]})}meridiems(t=!0){return Ay(this,void 0,t,()=>vx,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Mt.utc(2016,11,13,9),Mt.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(t,n=!0){return Ay(this,t,n,wx,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[Mt.utc(-40,1,1),Mt.utc(2017,1,1)].map(o=>this.extract(o,r,"era"))),this.eraCache[t]})}extract(t,n,r){const o=this.dtFormatter(t,n),i=o.formatToParts(),a=i.find(c=>c.type.toLowerCase()===r);return a?a.value:null}numberFormatter(t={}){return new z8(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,n={}){return new V8(t,this.intl,n)}relFormatter(t={}){return new W8(this.intl,this.isEnglish(),t)}listFormatter(t={}){return O8(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let Uw=null;class ai extends og{static get utcInstance(){return Uw===null&&(Uw=new ai(0)),Uw}static instance(t){return t===0?ai.utcInstance:new ai(t)}static parseSpecifier(t){if(t){const n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new ai(s0(n[1],n[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Sm(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Sm(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,n){return Sm(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class Z8 extends og{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function au(e,t){if(yn(e)||e===null)return t;if(e instanceof og)return e;if($8(e)){const n=e.toLowerCase();return n==="default"?t:n==="local"||n==="system"?i0.instance:n==="utc"||n==="gmt"?ai.utcInstance:ai.parseSpecifier(n)||oc.create(e)}else return Sd(e)?ai.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new Z8(e)}let LD=()=>Date.now(),RD="system",_D=null,BD=null,HD=null,YD=60,UD;class Pr{static get now(){return LD}static set now(t){LD=t}static set defaultZone(t){RD=t}static get defaultZone(){return au(RD,i0.instance)}static get defaultLocale(){return _D}static set defaultLocale(t){_D=t}static get defaultNumberingSystem(){return BD}static set defaultNumberingSystem(t){BD=t}static get defaultOutputCalendar(){return HD}static set defaultOutputCalendar(t){HD=t}static get twoDigitCutoffYear(){return YD}static set twoDigitCutoffYear(t){YD=t%100}static get throwOnInvalid(){return UD}static set throwOnInvalid(t){UD=t}static resetCaches(){Gn.resetCache(),oc.resetCache()}}function yn(e){return typeof e>"u"}function Sd(e){return typeof e=="number"}function a0(e){return typeof e=="number"&&e%1===0}function $8(e){return typeof e=="string"}function q8(e){return Object.prototype.toString.call(e)==="[object Date]"}function ux(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function G8(e){return Array.isArray(e)?e:[e]}function zD(e,t,n){if(e.length!==0)return e.reduce((r,o)=>{const i=[t(o),o];return r&&n(r[0],i[0])===r[0]?r:i},null)[1]}function J8(e,t){return t.reduce((n,r)=>(n[r]=e[r],n),{})}function gh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rc(e,t,n){return a0(e)&&e>=t&&e<=n}function K8(e,t){return e-t*Math.floor(e/t)}function Or(e,t=2){const n=e<0;let r;return n?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function iu(e){if(!(yn(e)||e===null||e===""))return parseInt(e,10)}function ud(e){if(!(yn(e)||e===null||e===""))return parseFloat(e)}function O1(e){if(!(yn(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function j1(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function ig(e){return e%4===0&&(e%100!==0||e%400===0)}function bm(e){return ig(e)?366:365}function Tv(e,t){const n=K8(t-1,12)+1,r=e+(t-n)/12;return n===2?ig(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function L1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function Iv(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return t===4||r===3?53:52}function Ub(e){return e>99?e:e>Pr.twoDigitCutoffYear?1900+e:2e3+e}function dx(e,t,n,r=null){const o=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const a={timeZoneName:t,...i},c=new Intl.DateTimeFormat(n,a).formatToParts(o).find(d=>d.type.toLowerCase()==="timezonename");return c?c.value:null}function s0(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0,o=n<0||Object.is(n,-0)?-r:r;return n*60+o}function fx(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Na(`Invalid unit value ${e}`);return t}function Ev(e,t){const n={};for(const r in e)if(gh(e,r)){const o=e[r];if(o==null)continue;n[t(r)]=fx(o)}return n}function Sm(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(t){case"short":return`${o}${Or(n,2)}:${Or(r,2)}`;case"narrow":return`${o}${n}${r>0?`:${r}`:""}`;case"techie":return`${o}${Or(n,2)}${Or(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function l0(e){return J8(e,["hour","minute","second","millisecond"])}const Q8=["January","February","March","April","May","June","July","August","September","October","November","December"],hx=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],X8=["J","F","M","A","M","J","J","A","S","O","N","D"];function px(e){switch(e){case"narrow":return[...X8];case"short":return[...hx];case"long":return[...Q8];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const mx=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],gx=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],eF=["M","T","W","T","F","S","S"];function yx(e){switch(e){case"narrow":return[...eF];case"short":return[...gx];case"long":return[...mx];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const vx=["AM","PM"],tF=["Before Christ","Anno Domini"],nF=["BC","AD"],rF=["B","A"];function wx(e){switch(e){case"narrow":return[...rF];case"short":return[...nF];case"long":return[...tF];default:return null}}function oF(e){return vx[e.hour<12?0:1]}function iF(e,t){return yx(t)[e.weekday-1]}function aF(e,t){return px(t)[e.month-1]}function sF(e,t){return wx(t)[e.year<0?0:1]}function lF(e,t,n="always",r=!1){const o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(e)===-1;if(n==="auto"&&i){const g=e==="days";switch(t){case 1:return g?"tomorrow":`next ${o[e][0]}`;case-1:return g?"yesterday":`last ${o[e][0]}`;case 0:return g?"today":`this ${o[e][0]}`}}const a=Object.is(t,-0)||t<0,c=Math.abs(t),d=c===1,f=o[e],m=r?d?f[1]:f[2]||f[1]:d?o[e][0]:e;return a?`${c} ${m} ago`:`in ${c} ${m}`}function VD(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const cF={D:Dv,DD:WE,DDD:ZE,DDDD:$E,t:qE,tt:GE,ttt:JE,tttt:KE,T:QE,TT:XE,TTT:ex,TTTT:tx,f:nx,ff:ox,fff:ax,ffff:lx,F:rx,FF:ix,FFF:sx,FFFF:cx};class Ho{static create(t,n={}){return new Ho(t,n)}static parseFormat(t){let n=null,r="",o=!1;const i=[];for(let a=0;a<t.length;a++){const c=t.charAt(a);c==="'"?(r.length>0&&i.push({literal:o,val:r}),n=null,r="",o=!o):o||c===n?r+=c:(r.length>0&&i.push({literal:!1,val:r}),r=c,n=c)}return r.length>0&&i.push({literal:o,val:r}),i}static macroTokenToFormatOpts(t){return cF[t]}constructor(t,n){this.opts=n,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTime(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTimeParts(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).formatToParts()}formatInterval(t,n={}){return this.loc.dtFormatter(t.start,{...this.opts,...n}).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).resolvedOptions()}num(t,n=0){if(this.opts.forceSimple)return Or(t,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,n){const r=this.loc.listingMode()==="en",o=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(w,T)=>this.loc.extract(t,w,T),a=w=>t.isOffsetFixed&&t.offset===0&&w.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,w.format):"",c=()=>r?oF(t):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(w,T)=>r?aF(t,w):i(T?{month:w}:{month:w,day:"numeric"},"month"),f=(w,T)=>r?iF(t,w):i(T?{weekday:w}:{weekday:w,month:"long",day:"numeric"},"weekday"),m=w=>{const T=Ho.macroTokenToFormatOpts(w);return T?this.formatWithSystemDefault(t,T):w},g=w=>r?sF(t,w):i({era:w},"era"),v=w=>{switch(w){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return c();case"d":return o?i({day:"numeric"},"day"):this.num(t.day);case"dd":return o?i({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return f("short",!0);case"cccc":return f("long",!0);case"ccccc":return f("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return f("short",!1);case"EEEE":return f("long",!1);case"EEEEE":return f("narrow",!1);case"L":return o?i({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return o?i({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return o?i({month:"numeric"},"month"):this.num(t.month);case"MM":return o?i({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return o?i({year:"numeric"},"year"):this.num(t.year);case"yy":return o?i({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return o?i({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return o?i({year:"numeric"},"year"):this.num(t.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return m(w)}};return VD(Ho.parseFormat(n),v)}formatDurationFromString(t,n){const r=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=d=>f=>{const m=r(f);return m?this.num(d.get(m),f.length):f},i=Ho.parseFormat(n),a=i.reduce((d,{literal:f,val:m})=>f?d:d.concat(m),[]),c=t.shiftTo(...a.map(r).filter(d=>d));return VD(i,o(c))}}class ms{constructor(t,n){this.reason=t,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const bx=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ph(...e){const t=e.reduce((n,r)=>n+r.source,"");return RegExp(`^${t}$`)}function Oh(...e){return t=>e.reduce(([n,r,o],i)=>{const[a,c,d]=i(t,o);return[{...n,...a},c||r,d]},[{},null,1]).slice(0,2)}function jh(e,...t){if(e==null)return[null,null];for(const[n,r]of t){const o=n.exec(e);if(o)return r(o)}return[null,null]}function Sx(...e){return(t,n)=>{const r={};let o;for(o=0;o<e.length;o++)r[e[o]]=iu(t[n+o]);return[r,null,n+o]}}const Dx=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,uF=`(?:${Dx.source}?(?:\\[(${bx.source})\\])?)?`,R1=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Tx=RegExp(`${R1.source}${uF}`),_1=RegExp(`(?:T${Tx.source})?`),dF=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,fF=/(\d{4})-?W(\d\d)(?:-?(\d))?/,hF=/(\d{4})-?(\d{3})/,pF=Sx("weekYear","weekNumber","weekDay"),mF=Sx("year","ordinal"),gF=/(\d{4})-(\d\d)-(\d\d)/,Ix=RegExp(`${R1.source} ?(?:${Dx.source}|(${bx.source}))?`),yF=RegExp(`(?: ${Ix.source})?`);function fh(e,t,n){const r=e[t];return yn(r)?n:iu(r)}function vF(e,t){return[{year:fh(e,t),month:fh(e,t+1,1),day:fh(e,t+2,1)},null,t+3]}function Lh(e,t){return[{hours:fh(e,t,0),minutes:fh(e,t+1,0),seconds:fh(e,t+2,0),milliseconds:O1(e[t+3])},null,t+4]}function ag(e,t){const n=!e[t]&&!e[t+1],r=s0(e[t+1],e[t+2]),o=n?null:ai.instance(r);return[{},o,t+3]}function sg(e,t){const n=e[t]?oc.create(e[t]):null;return[{},n,t+1]}const wF=RegExp(`^T?${R1.source}$`),bF=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function SF(e){const[t,n,r,o,i,a,c,d,f]=e,m=t[0]==="-",g=d&&d[0]==="-",v=(w,T=!1)=>w!==void 0&&(T||w&&m)?-w:w;return[{years:v(ud(n)),months:v(ud(r)),weeks:v(ud(o)),days:v(ud(i)),hours:v(ud(a)),minutes:v(ud(c)),seconds:v(ud(d),d==="-0"),milliseconds:v(O1(f),g)}]}const DF={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function B1(e,t,n,r,o,i,a){const c={year:t.length===2?Ub(iu(t)):iu(t),month:hx.indexOf(n)+1,day:iu(r),hour:iu(o),minute:iu(i)};return a&&(c.second=iu(a)),e&&(c.weekday=e.length>3?mx.indexOf(e)+1:gx.indexOf(e)+1),c}const TF=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function IF(e){const[,t,n,r,o,i,a,c,d,f,m,g]=e,v=B1(t,o,r,n,i,a,c);let w;return d?w=DF[d]:f?w=0:w=s0(m,g),[v,new ai(w)]}function EF(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const xF=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,CF=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,MF=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function WD(e){const[,t,n,r,o,i,a,c]=e;return[B1(t,o,r,n,i,a,c),ai.utcInstance]}function kF(e){const[,t,n,r,o,i,a,c]=e;return[B1(t,c,n,r,o,i,a),ai.utcInstance]}const NF=Ph(dF,_1),AF=Ph(fF,_1),FF=Ph(hF,_1),PF=Ph(Tx),Ex=Oh(vF,Lh,ag,sg),OF=Oh(pF,Lh,ag,sg),jF=Oh(mF,Lh,ag,sg),LF=Oh(Lh,ag,sg);function RF(e){return jh(e,[NF,Ex],[AF,OF],[FF,jF],[PF,LF])}function _F(e){return jh(EF(e),[TF,IF])}function BF(e){return jh(e,[xF,WD],[CF,WD],[MF,kF])}function HF(e){return jh(e,[bF,SF])}const YF=Oh(Lh);function UF(e){return jh(e,[wF,YF])}const zF=Ph(gF,yF),VF=Ph(Ix),WF=Oh(Lh,ag,sg);function ZF(e){return jh(e,[zF,Ex],[VF,WF])}const $F="Invalid Duration",xx={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},qF={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...xx},ka=146097/400,nh=146097/4800,GF={years:{quarters:4,months:12,weeks:ka/7,days:ka,hours:ka*24,minutes:ka*24*60,seconds:ka*24*60*60,milliseconds:ka*24*60*60*1e3},quarters:{months:3,weeks:ka/28,days:ka/4,hours:ka*24/4,minutes:ka*24*60/4,seconds:ka*24*60*60/4,milliseconds:ka*24*60*60*1e3/4},months:{weeks:nh/7,days:nh,hours:nh*24,minutes:nh*24*60,seconds:nh*24*60*60,milliseconds:nh*24*60*60*1e3},...xx},hd=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],JF=hd.slice(0).reverse();function Xc(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new wt(r)}function KF(e){return e<0?Math.floor(e):Math.ceil(e)}function Cx(e,t,n,r,o){const i=e[o][n],a=t[n]/i,c=Math.sign(a)===Math.sign(r[o]),d=!c&&r[o]!==0&&Math.abs(a)<=1?KF(a):Math.trunc(a);r[o]+=d,t[n]-=d*i}function QF(e,t){JF.reduce((n,r)=>yn(t[r])?n:(n&&Cx(e,t,n,t,r),r),null)}function XF(e){const t={};for(const[n,r]of Object.entries(e))r!==0&&(t[n]=r);return t}class wt{constructor(t){const n=t.conversionAccuracy==="longterm"||!1;let r=n?GF:qF;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||Gn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,n){return wt.fromObject({milliseconds:t},n)}static fromObject(t,n={}){if(t==null||typeof t!="object")throw new Na(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new wt({values:Ev(t,wt.normalizeUnit),loc:Gn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(t){if(Sd(t))return wt.fromMillis(t);if(wt.isDuration(t))return t;if(typeof t=="object")return wt.fromObject(t);throw new Na(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,n){const[r]=HF(t);return r?wt.fromObject(r,n):wt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,n){const[r]=UF(t);return r?wt.fromObject(r,n):wt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new Na("need to specify a reason the Duration is invalid");const r=t instanceof ms?t:new ms(t,n);if(Pr.throwOnInvalid)throw new C8(r);return new wt({invalid:r})}static normalizeUnit(t){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!n)throw new VE(t);return n}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Ho.create(this.loc,r).formatDurationFromString(this,t):$F}toHuman(t={}){const n=hd.map(r=>{const o=this.values[r];return yn(o)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(o)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=j1(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let o=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(o+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||r.milliseconds!==0)&&(o+=".SSS"));let i=r.toFormat(o);return t.includePrefix&&(i="T"+i),i}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const n=wt.fromDurationLike(t),r={};for(const o of hd)(gh(n.values,o)||gh(this.values,o))&&(r[o]=n.get(o)+this.get(o));return Xc(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const n=wt.fromDurationLike(t);return this.plus(n.negate())}mapUnits(t){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=fx(t(this.values[r],r));return Xc(this,{values:n},!0)}get(t){return this[wt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const n={...this.values,...Ev(t,wt.normalizeUnit)};return Xc(this,{values:n})}reconfigure({locale:t,numberingSystem:n,conversionAccuracy:r,matrix:o}={}){const a={loc:this.loc.clone({locale:t,numberingSystem:n}),matrix:o,conversionAccuracy:r};return Xc(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return QF(this.matrix,t),Xc(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=XF(this.normalize().shiftToAll().toObject());return Xc(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(a=>wt.normalizeUnit(a));const n={},r={},o=this.toObject();let i;for(const a of hd)if(t.indexOf(a)>=0){i=a;let c=0;for(const f in r)c+=this.matrix[f][a]*r[f],r[f]=0;Sd(o[a])&&(c+=o[a]);const d=Math.trunc(c);n[a]=d,r[a]=(c*1e3-d*1e3)/1e3;for(const f in o)hd.indexOf(f)>hd.indexOf(a)&&Cx(this.matrix,o,f,n,a)}else Sd(o[a])&&(r[a]=o[a]);for(const a in r)r[a]!==0&&(n[i]+=a===i?r[a]:r[a]/this.matrix[i][a]);return Xc(this,{values:n},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=this.values[n]===0?0:-this.values[n];return Xc(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function n(r,o){return r===void 0||r===0?o===void 0||o===0:r===o}for(const r of hd)if(!n(this.values[r],t.values[r]))return!1;return!0}}const rh="Invalid Interval";function e9(e,t){return!e||!e.isValid?pr.invalid("missing or invalid start"):!t||!t.isValid?pr.invalid("missing or invalid end"):t<e?pr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class pr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new Na("need to specify a reason the Interval is invalid");const r=t instanceof ms?t:new ms(t,n);if(Pr.throwOnInvalid)throw new x8(r);return new pr({invalid:r})}static fromDateTimes(t,n){const r=am(t),o=am(n),i=e9(r,o);return i??new pr({start:r,end:o})}static after(t,n){const r=wt.fromDurationLike(n),o=am(t);return pr.fromDateTimes(o,o.plus(r))}static before(t,n){const r=wt.fromDurationLike(n),o=am(t);return pr.fromDateTimes(o.minus(r),o)}static fromISO(t,n){const[r,o]=(t||"").split("/",2);if(r&&o){let i,a;try{i=Mt.fromISO(r,n),a=i.isValid}catch{a=!1}let c,d;try{c=Mt.fromISO(o,n),d=c.isValid}catch{d=!1}if(a&&d)return pr.fromDateTimes(i,c);if(a){const f=wt.fromISO(o,n);if(f.isValid)return pr.after(i,f)}else if(d){const f=wt.fromISO(r,n);if(f.isValid)return pr.before(c,f)}}return pr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(t),r=this.end.startOf(t);return Math.floor(r.diff(n,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:n}={}){return this.isValid?pr.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];const n=t.map(am).filter(a=>this.contains(a)).sort(),r=[];let{s:o}=this,i=0;for(;o<this.e;){const a=n[i]||this.e,c=+a>+this.e?this.e:a;r.push(pr.fromDateTimes(o,c)),o=c,i+=1}return r}splitBy(t){const n=wt.fromDurationLike(t);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,o=1,i;const a=[];for(;r<this.e;){const c=this.start.plus(n.mapUnits(d=>d*o));i=+c>+this.e?this.e:c,a.push(pr.fromDateTimes(r,i)),r=i,o+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:pr.fromDateTimes(n,r)}union(t){if(!this.isValid)return this;const n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return pr.fromDateTimes(n,r)}static merge(t){const[n,r]=t.sort((o,i)=>o.s-i.s).reduce(([o,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[o,i.union(a)]:[o.concat([i]),a]:[o,a],[[],null]);return r&&n.push(r),n}static xor(t){let n=null,r=0;const o=[],i=t.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),a=Array.prototype.concat(...i),c=a.sort((d,f)=>d.time-f.time);for(const d of c)r+=d.type==="s"?1:-1,r===1?n=d.time:(n&&+n!=+d.time&&o.push(pr.fromDateTimes(n,d.time)),n=null);return pr.merge(o)}difference(...t){return pr.xor([this].concat(t)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:rh}toLocaleString(t=Dv,n={}){return this.isValid?Ho.create(this.s.loc.clone(n),t).formatInterval(this):rh}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:rh}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:rh}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:rh}toFormat(t,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${n}${this.e.toFormat(t)}`:rh}toDuration(t,n){return this.isValid?this.e.diff(this.s,t,n):wt.invalid(this.invalidReason)}mapEndpoints(t){return pr.fromDateTimes(t(this.s),t(this.e))}}class Fy{static hasDST(t=Pr.defaultZone){const n=Mt.now().setZone(t).set({month:12});return!t.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(t){return oc.isValidZone(t)}static normalizeZone(t){return au(t,Pr.defaultZone)}static months(t="long",{locale:n=null,numberingSystem:r=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||Gn.create(n,r,i)).months(t)}static monthsFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||Gn.create(n,r,i)).months(t,!0)}static weekdays(t="long",{locale:n=null,numberingSystem:r=null,locObj:o=null}={}){return(o||Gn.create(n,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:o=null}={}){return(o||Gn.create(n,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Gn.create(t).meridiems()}static eras(t="short",{locale:n=null}={}){return Gn.create(n,null,"gregory").eras(t)}static features(){return{relative:ux()}}}function ZD(e,t){const n=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(wt.fromMillis(r).as("days"))}function t9(e,t,n){const r=[["years",(d,f)=>f.year-d.year],["quarters",(d,f)=>f.quarter-d.quarter+(f.year-d.year)*4],["months",(d,f)=>f.month-d.month+(f.year-d.year)*12],["weeks",(d,f)=>{const m=ZD(d,f);return(m-m%7)/7}],["days",ZD]],o={},i=e;let a,c;for(const[d,f]of r)n.indexOf(d)>=0&&(a=d,o[d]=f(e,t),c=i.plus(o),c>t?(o[d]--,e=i.plus(o)):e=c);return[e,o,c,a]}function n9(e,t,n,r){let[o,i,a,c]=t9(e,t,n);const d=t-o,f=n.filter(g=>["hours","minutes","seconds","milliseconds"].indexOf(g)>=0);f.length===0&&(a<t&&(a=o.plus({[c]:1})),a!==o&&(i[c]=(i[c]||0)+d/(a-o)));const m=wt.fromObject(i,r);return f.length>0?wt.fromMillis(d,r).shiftTo(...f).plus(m):m}const H1={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},$D={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},r9=H1.hanidec.replace(/[\[|\]]/g,"").split("");function o9(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(e[n].search(H1.hanidec)!==-1)t+=r9.indexOf(e[n]);else for(const o in $D){const[i,a]=$D[o];r>=i&&r<=a&&(t+=r-i)}}return parseInt(t,10)}else return t}function cs({numberingSystem:e},t=""){return new RegExp(`${H1[e||"latn"]}${t}`)}const i9="missing Intl.DateTimeFormat.formatToParts support";function xn(e,t=n=>n){return{regex:e,deser:([n])=>t(o9(n))}}const a9=" ",Mx=`[ ${a9}]`,kx=new RegExp(Mx,"g");function s9(e){return e.replace(/\./g,"\\.?").replace(kx,Mx)}function qD(e){return e.replace(/\./g,"").replace(kx," ").toLowerCase()}function us(e,t){return e===null?null:{regex:RegExp(e.map(s9).join("|")),deser:([n])=>e.findIndex(r=>qD(n)===qD(r))+t}}function GD(e,t){return{regex:e,deser:([,n,r])=>s0(n,r),groups:t}}function zw(e){return{regex:e,deser:([t])=>t}}function l9(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function c9(e,t){const n=cs(t),r=cs(t,"{2}"),o=cs(t,"{3}"),i=cs(t,"{4}"),a=cs(t,"{6}"),c=cs(t,"{1,2}"),d=cs(t,"{1,3}"),f=cs(t,"{1,6}"),m=cs(t,"{1,9}"),g=cs(t,"{2,4}"),v=cs(t,"{4,6}"),w=I=>({regex:RegExp(l9(I.val)),deser:([k])=>k,literal:!0}),S=(I=>{if(e.literal)return w(I);switch(I.val){case"G":return us(t.eras("short",!1),0);case"GG":return us(t.eras("long",!1),0);case"y":return xn(f);case"yy":return xn(g,Ub);case"yyyy":return xn(i);case"yyyyy":return xn(v);case"yyyyyy":return xn(a);case"M":return xn(c);case"MM":return xn(r);case"MMM":return us(t.months("short",!0,!1),1);case"MMMM":return us(t.months("long",!0,!1),1);case"L":return xn(c);case"LL":return xn(r);case"LLL":return us(t.months("short",!1,!1),1);case"LLLL":return us(t.months("long",!1,!1),1);case"d":return xn(c);case"dd":return xn(r);case"o":return xn(d);case"ooo":return xn(o);case"HH":return xn(r);case"H":return xn(c);case"hh":return xn(r);case"h":return xn(c);case"mm":return xn(r);case"m":return xn(c);case"q":return xn(c);case"qq":return xn(r);case"s":return xn(c);case"ss":return xn(r);case"S":return xn(d);case"SSS":return xn(o);case"u":return zw(m);case"uu":return zw(c);case"uuu":return xn(n);case"a":return us(t.meridiems(),0);case"kkkk":return xn(i);case"kk":return xn(g,Ub);case"W":return xn(c);case"WW":return xn(r);case"E":case"c":return xn(n);case"EEE":return us(t.weekdays("short",!1,!1),1);case"EEEE":return us(t.weekdays("long",!1,!1),1);case"ccc":return us(t.weekdays("short",!0,!1),1);case"cccc":return us(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return GD(new RegExp(`([+-]${c.source})(?::(${r.source}))?`),2);case"ZZZ":return GD(new RegExp(`([+-]${c.source})(${r.source})?`),2);case"z":return zw(/[a-z_+-/]{1,256}?/i);default:return w(I)}})(e)||{invalidReason:i9};return S.token=e,S}const u9={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function d9(e,t){const{type:n,value:r}=e;if(n==="literal")return{literal:!0,val:r};const o=t[n];let i=u9[n];if(typeof i=="object"&&(i=i[o]),i)return{literal:!1,val:i}}function f9(e){return[`^${e.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,e]}function h9(e,t,n){const r=e.match(t);if(r){const o={};let i=1;for(const a in n)if(gh(n,a)){const c=n[a],d=c.groups?c.groups+1:1;!c.literal&&c.token&&(o[c.token.val[0]]=c.deser(r.slice(i,i+d))),i+=d}return[r,o]}else return[r,{}]}function p9(e){const t=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return yn(e.z)||(n=oc.create(e.z)),yn(e.Z)||(n||(n=new ai(e.Z)),r=e.Z),yn(e.q)||(e.M=(e.q-1)*3+1),yn(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),yn(e.u)||(e.S=O1(e.u)),[Object.keys(e).reduce((i,a)=>{const c=t(a);return c&&(i[c]=e[a]),i},{}),n,r]}let Vw=null;function m9(){return Vw||(Vw=Mt.fromMillis(1555555555555)),Vw}function g9(e,t){if(e.literal)return e;const n=Ho.macroTokenToFormatOpts(e.val),r=Fx(n,t);return r==null||r.includes(void 0)?e:r}function Nx(e,t){return Array.prototype.concat(...e.map(n=>g9(n,t)))}function Ax(e,t,n){const r=Nx(Ho.parseFormat(n),e),o=r.map(a=>c9(a,e)),i=o.find(a=>a.invalidReason);if(i)return{input:t,tokens:r,invalidReason:i.invalidReason};{const[a,c]=f9(o),d=RegExp(a,"i"),[f,m]=h9(t,d,c),[g,v,w]=m?p9(m):[null,null,void 0];if(gh(m,"a")&&gh(m,"H"))throw new mm("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:d,rawMatches:f,matches:m,result:g,zone:v,specificOffset:w}}}function y9(e,t,n){const{result:r,zone:o,specificOffset:i,invalidReason:a}=Ax(e,t,n);return[r,o,i,a]}function Fx(e,t){return e?Ho.create(t,e).formatDateTimeParts(m9()).map(o=>d9(o,e)):null}const Px=[0,31,59,90,120,151,181,212,243,273,304,334],Ox=[0,31,60,91,121,152,182,213,244,274,305,335];function Aa(e,t){return new ms("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function jx(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const o=r.getUTCDay();return o===0?7:o}function Lx(e,t,n){return n+(ig(e)?Ox:Px)[t-1]}function Rx(e,t){const n=ig(e)?Ox:Px,r=n.findIndex(i=>i<t),o=t-n[r];return{month:r+1,day:o}}function zb(e){const{year:t,month:n,day:r}=e,o=Lx(t,n,r),i=jx(t,n,r);let a=Math.floor((o-i+10)/7),c;return a<1?(c=t-1,a=Iv(c)):a>Iv(t)?(c=t+1,a=1):c=t,{weekYear:c,weekNumber:a,weekday:i,...l0(e)}}function JD(e){const{weekYear:t,weekNumber:n,weekday:r}=e,o=jx(t,1,4),i=bm(t);let a=n*7+r-o-3,c;a<1?(c=t-1,a+=bm(c)):a>i?(c=t+1,a-=bm(t)):c=t;const{month:d,day:f}=Rx(c,a);return{year:c,month:d,day:f,...l0(e)}}function Ww(e){const{year:t,month:n,day:r}=e,o=Lx(t,n,r);return{year:t,ordinal:o,...l0(e)}}function KD(e){const{year:t,ordinal:n}=e,{month:r,day:o}=Rx(t,n);return{year:t,month:r,day:o,...l0(e)}}function v9(e){const t=a0(e.weekYear),n=rc(e.weekNumber,1,Iv(e.weekYear)),r=rc(e.weekday,1,7);return t?n?r?!1:Aa("weekday",e.weekday):Aa("week",e.week):Aa("weekYear",e.weekYear)}function w9(e){const t=a0(e.year),n=rc(e.ordinal,1,bm(e.year));return t?n?!1:Aa("ordinal",e.ordinal):Aa("year",e.year)}function _x(e){const t=a0(e.year),n=rc(e.month,1,12),r=rc(e.day,1,Tv(e.year,e.month));return t?n?r?!1:Aa("day",e.day):Aa("month",e.month):Aa("year",e.year)}function Bx(e){const{hour:t,minute:n,second:r,millisecond:o}=e,i=rc(t,0,23)||t===24&&n===0&&r===0&&o===0,a=rc(n,0,59),c=rc(r,0,59),d=rc(o,0,999);return i?a?c?d?!1:Aa("millisecond",o):Aa("second",r):Aa("minute",n):Aa("hour",t)}const Zw="Invalid DateTime",QD=864e13;function Py(e){return new ms("unsupported zone",`the zone "${e.name}" is not supported`)}function $w(e){return e.weekData===null&&(e.weekData=zb(e.c)),e.weekData}function om(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Mt({...n,...t,old:n})}function Hx(e,t,n){let r=e-t*60*1e3;const o=n.offset(r);if(t===o)return[r,t];r-=(o-t)*60*1e3;const i=n.offset(r);return o===i?[r,o]:[e-Math.min(o,i)*60*1e3,Math.max(o,i)]}function XD(e,t){e+=t*60*1e3;const n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function iv(e,t,n){return Hx(L1(e),t,n)}function eT(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),o=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,i={...e.c,year:r,month:o,day:Math.min(e.c.day,Tv(r,o))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},a=wt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),c=L1(i);let[d,f]=Hx(c,n,e.zone);return a!==0&&(d+=a,f=e.zone.offset(d)),{ts:d,o:f}}function im(e,t,n,r,o,i){const{setZone:a,zone:c}=n;if(e&&Object.keys(e).length!==0){const d=t||c,f=Mt.fromObject(e,{...n,zone:d,specificOffset:i});return a?f:f.setZone(c)}else return Mt.invalid(new ms("unparsable",`the input "${o}" can't be parsed as ${r}`))}function Oy(e,t,n=!0){return e.isValid?Ho.create(Gn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function qw(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=Or(e.c.year,n?6:4),t?(r+="-",r+=Or(e.c.month),r+="-",r+=Or(e.c.day)):(r+=Or(e.c.month),r+=Or(e.c.day)),r}function tT(e,t,n,r,o,i){let a=Or(e.c.hour);return t?(a+=":",a+=Or(e.c.minute),(e.c.second!==0||!n)&&(a+=":")):a+=Or(e.c.minute),(e.c.second!==0||!n)&&(a+=Or(e.c.second),(e.c.millisecond!==0||!r)&&(a+=".",a+=Or(e.c.millisecond,3))),o&&(e.isOffsetFixed&&e.offset===0&&!i?a+="Z":e.o<0?(a+="-",a+=Or(Math.trunc(-e.o/60)),a+=":",a+=Or(Math.trunc(-e.o%60))):(a+="+",a+=Or(Math.trunc(e.o/60)),a+=":",a+=Or(Math.trunc(e.o%60)))),i&&(a+="["+e.zone.ianaName+"]"),a}const Yx={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},b9={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},S9={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ux=["year","month","day","hour","minute","second","millisecond"],D9=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],T9=["year","ordinal","hour","minute","second","millisecond"];function nT(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new VE(e);return t}function rT(e,t){const n=au(t.zone,Pr.defaultZone),r=Gn.fromObject(t),o=Pr.now();let i,a;if(yn(e.year))i=o;else{for(const f of Ux)yn(e[f])&&(e[f]=Yx[f]);const c=_x(e)||Bx(e);if(c)return Mt.invalid(c);const d=n.offset(o);[i,a]=iv(e,d,n)}return new Mt({ts:i,zone:n,loc:r,o:a})}function oT(e,t,n){const r=yn(n.round)?!0:n.round,o=(a,c)=>(a=j1(a,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(a,c)),i=a=>n.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(n.unit)return o(i(n.unit),n.unit);for(const a of n.units){const c=i(a);if(Math.abs(c)>=1)return o(c,a)}return o(e>t?-0:0,n.units[n.units.length-1])}function iT(e){let t={},n;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],n=Array.from(e).slice(0,e.length-1)):n=Array.from(e),[t,n]}class Mt{constructor(t){const n=t.zone||Pr.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new ms("invalid input"):null)||(n.isValid?null:Py(n));this.ts=yn(t.ts)?Pr.now():t.ts;let o=null,i=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n))[o,i]=[t.old.c,t.old.o];else{const c=n.offset(this.ts);o=XD(this.ts,c),r=Number.isNaN(o.year)?new ms("invalid input"):null,o=r?null:o,i=r?null:c}this._zone=n,this.loc=t.loc||Gn.create(),this.invalid=r,this.weekData=null,this.c=o,this.o=i,this.isLuxonDateTime=!0}static now(){return new Mt({})}static local(){const[t,n]=iT(arguments),[r,o,i,a,c,d,f]=n;return rT({year:r,month:o,day:i,hour:a,minute:c,second:d,millisecond:f},t)}static utc(){const[t,n]=iT(arguments),[r,o,i,a,c,d,f]=n;return t.zone=ai.utcInstance,rT({year:r,month:o,day:i,hour:a,minute:c,second:d,millisecond:f},t)}static fromJSDate(t,n={}){const r=q8(t)?t.valueOf():NaN;if(Number.isNaN(r))return Mt.invalid("invalid input");const o=au(n.zone,Pr.defaultZone);return o.isValid?new Mt({ts:r,zone:o,loc:Gn.fromObject(n)}):Mt.invalid(Py(o))}static fromMillis(t,n={}){if(Sd(t))return t<-QD||t>QD?Mt.invalid("Timestamp out of range"):new Mt({ts:t,zone:au(n.zone,Pr.defaultZone),loc:Gn.fromObject(n)});throw new Na(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(Sd(t))return new Mt({ts:t*1e3,zone:au(n.zone,Pr.defaultZone),loc:Gn.fromObject(n)});throw new Na("fromSeconds requires a numerical input")}static fromObject(t,n={}){t=t||{};const r=au(n.zone,Pr.defaultZone);if(!r.isValid)return Mt.invalid(Py(r));const o=Pr.now(),i=yn(n.specificOffset)?r.offset(o):n.specificOffset,a=Ev(t,nT),c=!yn(a.ordinal),d=!yn(a.year),f=!yn(a.month)||!yn(a.day),m=d||f,g=a.weekYear||a.weekNumber,v=Gn.fromObject(n);if((m||c)&&g)throw new mm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&c)throw new mm("Can't mix ordinal dates with month/day");const w=g||a.weekday&&!m;let T,S,I=XD(o,i);w?(T=D9,S=b9,I=zb(I)):c?(T=T9,S=S9,I=Ww(I)):(T=Ux,S=Yx);let k=!1;for(const Y of T){const V=a[Y];yn(V)?k?a[Y]=S[Y]:a[Y]=I[Y]:k=!0}const P=w?v9(a):c?w9(a):_x(a),R=P||Bx(a);if(R)return Mt.invalid(R);const M=w?JD(a):c?KD(a):a,[_,L]=iv(M,i,r),z=new Mt({ts:_,zone:r,o:L,loc:v});return a.weekday&&m&&t.weekday!==z.weekday?Mt.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${z.toISO()}`):z}static fromISO(t,n={}){const[r,o]=RF(t);return im(r,o,n,"ISO 8601",t)}static fromRFC2822(t,n={}){const[r,o]=_F(t);return im(r,o,n,"RFC 2822",t)}static fromHTTP(t,n={}){const[r,o]=BF(t);return im(r,o,n,"HTTP",n)}static fromFormat(t,n,r={}){if(yn(t)||yn(n))throw new Na("fromFormat requires an input string and a format");const{locale:o=null,numberingSystem:i=null}=r,a=Gn.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0}),[c,d,f,m]=y9(a,t,n);return m?Mt.invalid(m):im(c,d,r,`format ${n}`,t,f)}static fromString(t,n,r={}){return Mt.fromFormat(t,n,r)}static fromSQL(t,n={}){const[r,o]=ZF(t);return im(r,o,n,"SQL",t)}static invalid(t,n=null){if(!t)throw new Na("need to specify a reason the DateTime is invalid");const r=t instanceof ms?t:new ms(t,n);if(Pr.throwOnInvalid)throw new E8(r);return new Mt({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,n={}){const r=Fx(t,Gn.fromObject(n));return r?r.map(o=>o?o.val:null).join(""):null}static expandFormat(t,n={}){return Nx(Ho.parseFormat(t),Gn.fromObject(n)).map(o=>o.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?$w(this).weekYear:NaN}get weekNumber(){return this.isValid?$w(this).weekNumber:NaN}get weekday(){return this.isValid?$w(this).weekday:NaN}get ordinal(){return this.isValid?Ww(this.c).ordinal:NaN}get monthShort(){return this.isValid?Fy.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Fy.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Fy.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Fy.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return ig(this.year)}get daysInMonth(){return Tv(this.year,this.month)}get daysInYear(){return this.isValid?bm(this.year):NaN}get weeksInWeekYear(){return this.isValid?Iv(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:n,numberingSystem:r,calendar:o}=Ho.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:o}}toUTC(t=0,n={}){return this.setZone(ai.instance(t),n)}toLocal(){return this.setZone(Pr.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(t=au(t,Pr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let o=this.ts;if(n||r){const i=t.offset(this.ts),a=this.toObject();[o]=iv(a,i,t)}return om(this,{ts:o,zone:t})}else return Mt.invalid(Py(t))}reconfigure({locale:t,numberingSystem:n,outputCalendar:r}={}){const o=this.loc.clone({locale:t,numberingSystem:n,outputCalendar:r});return om(this,{loc:o})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const n=Ev(t,nT),r=!yn(n.weekYear)||!yn(n.weekNumber)||!yn(n.weekday),o=!yn(n.ordinal),i=!yn(n.year),a=!yn(n.month)||!yn(n.day),c=i||a,d=n.weekYear||n.weekNumber;if((c||o)&&d)throw new mm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&o)throw new mm("Can't mix ordinal dates with month/day");let f;r?f=JD({...zb(this.c),...n}):yn(n.ordinal)?(f={...this.toObject(),...n},yn(n.day)&&(f.day=Math.min(Tv(f.year,f.month),f.day))):f=KD({...Ww(this.c),...n});const[m,g]=iv(f,this.o,this.zone);return om(this,{ts:m,o:g})}plus(t){if(!this.isValid)return this;const n=wt.fromDurationLike(t);return om(this,eT(this,n))}minus(t){if(!this.isValid)return this;const n=wt.fromDurationLike(t).negate();return om(this,eT(this,n))}startOf(t){if(!this.isValid)return this;const n={},r=wt.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const o=Math.ceil(this.month/3);n.month=(o-1)*3+1}return this.set(n)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,n={}){return this.isValid?Ho.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,t):Zw}toLocaleString(t=Dv,n={}){return this.isValid?Ho.create(this.loc.clone(n),t).formatDateTime(this):Zw}toLocaleParts(t={}){return this.isValid?Ho.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:o=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const a=t==="extended";let c=qw(this,a);return c+="T",c+=tT(this,a,n,r,o,i),c}toISODate({format:t="extended"}={}){return this.isValid?qw(this,t==="extended"):null}toISOWeekDate(){return Oy(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:o=!1,extendedZone:i=!1,format:a="extended"}={}){return this.isValid?(o?"T":"")+tT(this,a==="extended",n,t,r,i):null}toRFC2822(){return Oy(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Oy(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?qw(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let o="HH:mm:ss.SSS";return(n||t)&&(r&&(o+=" "),n?o+="z":t&&(o+="ZZ")),Oy(this,o,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Zw}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const n={...this.c};return t.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,n="milliseconds",r={}){if(!this.isValid||!t.isValid)return wt.invalid("created by diffing an invalid DateTime");const o={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=G8(n).map(wt.normalizeUnit),a=t.valueOf()>this.valueOf(),c=a?this:t,d=a?t:this,f=n9(c,d,i,o);return a?f.negate():f}diffNow(t="milliseconds",n={}){return this.diff(Mt.now(),t,n)}until(t){return this.isValid?pr.fromDateTimes(this,t):this}hasSame(t,n){if(!this.isValid)return!1;const r=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(n)<=r&&r<=o.endOf(n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const n=t.base||Mt.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0;let o=["years","months","days","hours","minutes","seconds"],i=t.unit;return Array.isArray(t.unit)&&(o=t.unit,i=void 0),oT(n,this.plus(r),{...t,numeric:"always",units:o,unit:i})}toRelativeCalendar(t={}){return this.isValid?oT(t.base||Mt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Mt.isDateTime))throw new Na("min requires all arguments be DateTimes");return zD(t,n=>n.valueOf(),Math.min)}static max(...t){if(!t.every(Mt.isDateTime))throw new Na("max requires all arguments be DateTimes");return zD(t,n=>n.valueOf(),Math.max)}static fromFormatExplain(t,n,r={}){const{locale:o=null,numberingSystem:i=null}=r,a=Gn.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0});return Ax(a,t,n)}static fromStringExplain(t,n,r={}){return Mt.fromFormatExplain(t,n,r)}static get DATE_SHORT(){return Dv}static get DATE_MED(){return WE}static get DATE_MED_WITH_WEEKDAY(){return M8}static get DATE_FULL(){return ZE}static get DATE_HUGE(){return $E}static get TIME_SIMPLE(){return qE}static get TIME_WITH_SECONDS(){return GE}static get TIME_WITH_SHORT_OFFSET(){return JE}static get TIME_WITH_LONG_OFFSET(){return KE}static get TIME_24_SIMPLE(){return QE}static get TIME_24_WITH_SECONDS(){return XE}static get TIME_24_WITH_SHORT_OFFSET(){return ex}static get TIME_24_WITH_LONG_OFFSET(){return tx}static get DATETIME_SHORT(){return nx}static get DATETIME_SHORT_WITH_SECONDS(){return rx}static get DATETIME_MED(){return ox}static get DATETIME_MED_WITH_SECONDS(){return ix}static get DATETIME_MED_WITH_WEEKDAY(){return k8}static get DATETIME_FULL(){return ax}static get DATETIME_FULL_WITH_SECONDS(){return sx}static get DATETIME_HUGE(){return lx}static get DATETIME_HUGE_WITH_SECONDS(){return cx}}function am(e){if(Mt.isDateTime(e))return e;if(e&&e.valueOf&&Sd(e.valueOf()))return Mt.fromJSDate(e);if(e&&typeof e=="object")return Mt.fromObject(e);throw new Na(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const Y1={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},I9={allowHtml:!0};({...Y1,...I9});class U1{constructor(t){this.value=t,this.successful=!0}map(t){return new U1(t(this.value))}flatMap(t){return t(this.value)}mapErr(t){return this}bimap(t,n){return this.map(t)}orElse(t){return this.value}cast(){return this}orElseThrow(t){return this.value}}class z1{constructor(t){this.error=t,this.successful=!1}map(t){return this}flatMap(t){return this}mapErr(t){return new z1(t(this.error))}bimap(t,n){return this.mapErr(n)}orElse(t){return t}cast(){return this}orElseThrow(t){throw t?new Error(t(this.error)):new Error(""+this.error)}}var xv;(function(e){function t(i){return new U1(i)}e.success=t;function n(i){return new z1(i)}e.failure=n;function r(i,a,c){return i.successful?a.successful?c(i.value,a.value):n(a.error):n(i.error)}e.flatMap2=r;function o(i,a,c){return r(i,a,(d,f)=>t(c(d,f)))}e.map2=o})(xv||(xv={}));var E9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Vr<"u"?Vr:typeof self<"u"?self:{},me={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:E9,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=n,o.c=r,o.d=function(i,a,c){o.o(i,a)||Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:c})},o.r=function(i){Object.defineProperty(i,"__esModule",{value:!0})},o.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(a,"a",a),a},o.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},o.p="",o(o.s=0)}([function(n,r,o){function i(te){if(!(this instanceof i))return new i(te);this._=te}var a=i.prototype;function c(te,ge){for(var Fe=0;Fe<te;Fe++)ge(Fe)}function d(te,ge,Fe){return function(He,Ye){c(Ye.length,function(et){He(Ye[et],et,Ye)})}(function(He,Ye,et){ge=te(ge,He,Ye,et)},Fe),ge}function f(te,ge){return d(function(Fe,He,Ye,et){return Fe.concat([te(He,Ye,et)])},[],ge)}function m(te,ge){var Fe={v:0,buf:ge};return c(te,function(){var He;Fe={v:Fe.v<<1|(He=Fe.buf,He[0]>>7),buf:function(Ye){var et=d(function(nt,kt,en,jn){return nt.concat(en===jn.length-1?Buffer.from([kt,0]).readUInt16BE(0):jn.readUInt16BE(en))},[],Ye);return Buffer.from(f(function(nt){return(nt<<1&65535)>>8},et))}(Fe.buf)}}),Fe}function g(){return typeof Buffer<"u"}function v(){if(!g())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function w(te){v();var ge=d(function(et,nt){return et+nt},0,te);if(ge%8!=0)throw new Error("The bits ["+te.join(", ")+"] add up to "+ge+" which is not an even number of bytes; the total should be divisible by 8");var Fe,He=ge/8,Ye=(Fe=function(et){return et>48},d(function(et,nt){return et||(Fe(nt)?nt:et)},null,te));if(Ye)throw new Error(Ye+" bit range requested exceeds 48 bit (6 byte) Number max.");return new i(function(et,nt){var kt=He+nt;return kt>et.length?Y(nt,He.toString()+" bytes"):z(kt,d(function(en,jn){var wn=m(jn,en.buf);return{coll:en.coll.concat(wn.v),buf:wn.buf}},{coll:[],buf:et.slice(nt,kt)},te).coll)})}function T(te,ge){return new i(function(Fe,He){return v(),He+ge>Fe.length?Y(He,ge+" bytes for "+te):z(He+ge,Fe.slice(He,He+ge))})}function S(te,ge){if(typeof(Fe=ge)!="number"||Math.floor(Fe)!==Fe||ge<0||ge>6)throw new Error(te+" requires integer length in range [0, 6].");var Fe}function I(te){return S("uintBE",te),T("uintBE("+te+")",te).map(function(ge){return ge.readUIntBE(0,te)})}function k(te){return S("uintLE",te),T("uintLE("+te+")",te).map(function(ge){return ge.readUIntLE(0,te)})}function P(te){return S("intBE",te),T("intBE("+te+")",te).map(function(ge){return ge.readIntBE(0,te)})}function R(te){return S("intLE",te),T("intLE("+te+")",te).map(function(ge){return ge.readIntLE(0,te)})}function M(te){return te instanceof i}function _(te){return{}.toString.call(te)==="[object Array]"}function L(te){return g()&&Buffer.isBuffer(te)}function z(te,ge){return{status:!0,index:te,value:ge,furthest:-1,expected:[]}}function Y(te,ge){return _(ge)||(ge=[ge]),{status:!1,index:-1,value:null,furthest:te,expected:ge}}function V(te,ge){if(!ge||te.furthest>ge.furthest)return te;var Fe=te.furthest===ge.furthest?function(He,Ye){if(function(){if(i._supportsSet!==void 0)return i._supportsSet;var rr=typeof Set<"u";return i._supportsSet=rr,rr}()&&Array.from){for(var et=new Set(He),nt=0;nt<Ye.length;nt++)et.add(Ye[nt]);var kt=Array.from(et);return kt.sort(),kt}for(var en={},jn=0;jn<He.length;jn++)en[He[jn]]=!0;for(var wn=0;wn<Ye.length;wn++)en[Ye[wn]]=!0;var Lr=[];for(var _n in en)({}).hasOwnProperty.call(en,_n)&&Lr.push(_n);return Lr.sort(),Lr}(te.expected,ge.expected):ge.expected;return{status:te.status,index:te.index,value:te.value,furthest:ge.furthest,expected:Fe}}var $={};function re(te,ge){if(L(te))return{offset:ge,line:-1,column:-1};te in $||($[te]={});for(var Fe=$[te],He=0,Ye=0,et=0,nt=ge;nt>=0;){if(nt in Fe){He=Fe[nt].line,et===0&&(et=Fe[nt].lineStart);break}(te.charAt(nt)===`
`||te.charAt(nt)==="\r"&&te.charAt(nt+1)!==`
`)&&(Ye++,et===0&&(et=nt+1)),nt--}var kt=He+Ye,en=ge-et;return Fe[ge]={line:kt,lineStart:et},{offset:ge,line:kt+1,column:en+1}}function Q(te){if(!M(te))throw new Error("not a parser: "+te)}function ae(te,ge){return typeof te=="string"?te.charAt(ge):te[ge]}function X(te){if(typeof te!="number")throw new Error("not a number: "+te)}function ie(te){if(typeof te!="function")throw new Error("not a function: "+te)}function Z(te){if(typeof te!="string")throw new Error("not a string: "+te)}var ue=2,ne=3,he=8,K=5*he,oe=4*he,pe="  ";function Ee(te,ge){return new Array(ge+1).join(te)}function je(te,ge,Fe){var He=ge-te.length;return He<=0?te:Ee(Fe,He)+te}function Ae(te,ge,Fe,He){return{from:te-ge>0?te-ge:0,to:te+Fe>He?He:te+Fe}}function Be(te,ge){var Fe,He,Ye,et,nt,kt=ge.index,en=kt.offset,jn=1;if(en===te.length)return"Got the end of the input";if(L(te)){var wn=en-en%he,Lr=en-wn,_n=Ae(wn,K,oe+he,te.length),rr=f(function(Sn){return f(function(uo){return je(uo.toString(16),2,"0")},Sn)},function(Sn,uo){var fo=Sn.length,Mr=[],zo=0;if(fo<=uo)return[Sn.slice()];for(var ho=0;ho<fo;ho++)Mr[zo]||Mr.push([]),Mr[zo].push(Sn[ho]),(ho+1)%uo==0&&zo++;return Mr}(te.slice(_n.from,_n.to).toJSON().data,he));et=function(Sn){return Sn.from===0&&Sn.to===1?{from:Sn.from,to:Sn.to}:{from:Sn.from/he,to:Math.floor(Sn.to/he)}}(_n),He=wn/he,Fe=3*Lr,Lr>=4&&(Fe+=1),jn=2,Ye=f(function(Sn){return Sn.length<=4?Sn.join(" "):Sn.slice(0,4).join(" ")+"  "+Sn.slice(4).join(" ")},rr),(nt=(8*(et.to>0?et.to-1:et.to)).toString(16).length)<2&&(nt=2)}else{var Rr=te.split(/\r\n|[\n\r\u2028\u2029]/);Fe=kt.column-1,He=kt.line-1,et=Ae(He,ue,ne,Rr.length),Ye=Rr.slice(et.from,et.to),nt=et.to.toString().length}var da=He-et.from;return L(te)&&(nt=(8*(et.to>0?et.to-1:et.to)).toString(16).length)<2&&(nt=2),d(function(Sn,uo,fo){var Mr,zo=fo===da,ho=zo?"> ":pe;return Mr=L(te)?je((8*(et.from+fo)).toString(16),nt,"0"):je((et.from+fo+1).toString(),nt," "),[].concat(Sn,[ho+Mr+" | "+uo],zo?[pe+Ee(" ",nt)+" | "+je("",Fe," ")+Ee("^",jn)]:[])},[],Ye).join(`
`)}function Je(te,ge){return[`
`,"-- PARSING FAILED "+Ee("-",50),`

`,Be(te,ge),`

`,(Fe=ge.expected,Fe.length===1?`Expected:

`+Fe[0]:`Expected one of the following: 

`+Fe.join(", ")),`
`].join("");var Fe}function ze(te){return te.flags!==void 0?te.flags:[te.global?"g":"",te.ignoreCase?"i":"",te.multiline?"m":"",te.unicode?"u":"",te.sticky?"y":""].join("")}function Qe(){for(var te=[].slice.call(arguments),ge=te.length,Fe=0;Fe<ge;Fe+=1)Q(te[Fe]);return i(function(He,Ye){for(var et,nt=new Array(ge),kt=0;kt<ge;kt+=1){if(!(et=V(te[kt]._(He,Ye),et)).status)return et;nt[kt]=et.value,Ye=et.index}return V(z(Ye,nt),et)})}function It(){var te=[].slice.call(arguments);if(te.length===0)throw new Error("seqMap needs at least one argument");var ge=te.pop();return ie(ge),Qe.apply(null,te).map(function(Fe){return ge.apply(null,Fe)})}function Zt(){var te=[].slice.call(arguments),ge=te.length;if(ge===0)return Tt("zero alternates");for(var Fe=0;Fe<ge;Fe+=1)Q(te[Fe]);return i(function(He,Ye){for(var et,nt=0;nt<te.length;nt+=1)if((et=V(te[nt]._(He,Ye),et)).status)return et;return et})}function _e(te,ge){return tt(te,ge).or(xt([]))}function tt(te,ge){return Q(te),Q(ge),It(te,ge.then(te).many(),function(Fe,He){return[Fe].concat(He)})}function st(te){Z(te);var ge="'"+te+"'";return i(function(Fe,He){var Ye=He+te.length,et=Fe.slice(He,Ye);return et===te?z(Ye,et):Y(He,ge)})}function yt(te,ge){(function(Ye){if(!(Ye instanceof RegExp))throw new Error("not a regexp: "+Ye);for(var et=ze(Ye),nt=0;nt<et.length;nt++){var kt=et.charAt(nt);if(kt!=="i"&&kt!=="m"&&kt!=="u"&&kt!=="s")throw new Error('unsupported regexp flag "'+kt+'": '+Ye)}})(te),arguments.length>=2?X(ge):ge=0;var Fe=function(Ye){return RegExp("^(?:"+Ye.source+")",ze(Ye))}(te),He=""+te;return i(function(Ye,et){var nt=Fe.exec(Ye.slice(et));if(nt){if(0<=ge&&ge<=nt.length){var kt=nt[0],en=nt[ge];return z(et+kt.length,en)}return Y(et,"valid match group (0 to "+nt.length+") in "+He)}return Y(et,He)})}function xt(te){return i(function(ge,Fe){return z(Fe,te)})}function Tt(te){return i(function(ge,Fe){return Y(Fe,te)})}function qt(te){if(M(te))return i(function(ge,Fe){var He=te._(ge,Fe);return He.index=Fe,He.value="",He});if(typeof te=="string")return qt(st(te));if(te instanceof RegExp)return qt(yt(te));throw new Error("not a string, regexp, or parser: "+te)}function zt(te){return Q(te),i(function(ge,Fe){var He=te._(ge,Fe),Ye=ge.slice(Fe,He.index);return He.status?Y(Fe,'not "'+Ye+'"'):z(Fe,null)})}function $t(te){return ie(te),i(function(ge,Fe){var He=ae(ge,Fe);return Fe<ge.length&&te(He)?z(Fe+1,He):Y(Fe,"a character/byte matching "+te)})}function Gt(te,ge){arguments.length<2&&(ge=te,te=void 0);var Fe=i(function(He,Ye){return Fe._=ge()._,Fe._(He,Ye)});return te?Fe.desc(te):Fe}function un(){return Tt("fantasy-land/empty")}a.parse=function(te){if(typeof te!="string"&&!L(te))throw new Error(".parse must be called with a string or Buffer as its argument");var ge,Fe=this.skip(Cr)._(te,0);return ge=Fe.status?{status:!0,value:Fe.value}:{status:!1,index:re(te,Fe.furthest),expected:Fe.expected},delete $[te],ge},a.tryParse=function(te){var ge=this.parse(te);if(ge.status)return ge.value;var Fe=Je(te,ge),He=new Error(Fe);throw He.type="ParsimmonError",He.result=ge,He},a.assert=function(te,ge){return this.chain(function(Fe){return te(Fe)?xt(Fe):Tt(ge)})},a.or=function(te){return Zt(this,te)},a.trim=function(te){return this.wrap(te,te)},a.wrap=function(te,ge){return It(te,this,ge,function(Fe,He){return He})},a.thru=function(te){return te(this)},a.then=function(te){return Q(te),Qe(this,te).map(function(ge){return ge[1]})},a.many=function(){var te=this;return i(function(ge,Fe){for(var He=[],Ye=void 0;;){if(!(Ye=V(te._(ge,Fe),Ye)).status)return V(z(Fe,He),Ye);if(Fe===Ye.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");Fe=Ye.index,He.push(Ye.value)}})},a.tieWith=function(te){return Z(te),this.map(function(ge){if(function(Ye){if(!_(Ye))throw new Error("not an array: "+Ye)}(ge),ge.length){Z(ge[0]);for(var Fe=ge[0],He=1;He<ge.length;He++)Z(ge[He]),Fe+=te+ge[He];return Fe}return""})},a.tie=function(){return this.tieWith("")},a.times=function(te,ge){var Fe=this;return arguments.length<2&&(ge=te),X(te),X(ge),i(function(He,Ye){for(var et=[],nt=void 0,kt=void 0,en=0;en<te;en+=1){if(kt=V(nt=Fe._(He,Ye),kt),!nt.status)return kt;Ye=nt.index,et.push(nt.value)}for(;en<ge&&(kt=V(nt=Fe._(He,Ye),kt),nt.status);en+=1)Ye=nt.index,et.push(nt.value);return V(z(Ye,et),kt)})},a.result=function(te){return this.map(function(){return te})},a.atMost=function(te){return this.times(0,te)},a.atLeast=function(te){return It(this.times(te),this.many(),function(ge,Fe){return ge.concat(Fe)})},a.map=function(te){ie(te);var ge=this;return i(function(Fe,He){var Ye=ge._(Fe,He);return Ye.status?V(z(Ye.index,te(Ye.value)),Ye):Ye})},a.contramap=function(te){ie(te);var ge=this;return i(function(Fe,He){var Ye=ge.parse(te(Fe.slice(He)));return Ye.status?z(He+Fe.length,Ye.value):Ye})},a.promap=function(te,ge){return ie(te),ie(ge),this.contramap(te).map(ge)},a.skip=function(te){return Qe(this,te).map(function(ge){return ge[0]})},a.mark=function(){return It(Xt,this,Xt,function(te,ge,Fe){return{start:te,value:ge,end:Fe}})},a.node=function(te){return It(Xt,this,Xt,function(ge,Fe,He){return{name:te,value:Fe,start:ge,end:He}})},a.sepBy=function(te){return _e(this,te)},a.sepBy1=function(te){return tt(this,te)},a.lookahead=function(te){return this.skip(qt(te))},a.notFollowedBy=function(te){return this.skip(zt(te))},a.desc=function(te){_(te)||(te=[te]);var ge=this;return i(function(Fe,He){var Ye=ge._(Fe,He);return Ye.status||(Ye.expected=te),Ye})},a.fallback=function(te){return this.or(xt(te))},a.ap=function(te){return It(te,this,function(ge,Fe){return ge(Fe)})},a.chain=function(te){var ge=this;return i(function(Fe,He){var Ye=ge._(Fe,He);return Ye.status?V(te(Ye.value)._(Fe,Ye.index),Ye):Ye})},a.concat=a.or,a.empty=un,a.of=xt,a["fantasy-land/ap"]=a.ap,a["fantasy-land/chain"]=a.chain,a["fantasy-land/concat"]=a.concat,a["fantasy-land/empty"]=a.empty,a["fantasy-land/of"]=a.of,a["fantasy-land/map"]=a.map;var Xt=i(function(te,ge){return z(ge,re(te,ge))}),Qn=i(function(te,ge){return ge>=te.length?Y(ge,"any character/byte"):z(ge+1,ae(te,ge))}),Cn=i(function(te,ge){return z(te.length,te.slice(ge))}),Cr=i(function(te,ge){return ge<te.length?Y(ge,"EOF"):z(ge,null)}),yr=yt(/[0-9]/).desc("a digit"),Rn=yt(/[0-9]*/).desc("optional digits"),Li=yt(/[a-z]/i).desc("a letter"),Eo=yt(/[a-z]*/i).desc("optional letters"),Uo=yt(/\s*/).desc("optional whitespace"),Ri=yt(/\s+/).desc("whitespace"),xo=st("\r"),_i=st(`
`),ua=st(`\r
`),ci=Zt(ua,_i,xo).desc("newline"),Bi=Zt(ci,Cr);i.all=Cn,i.alt=Zt,i.any=Qn,i.cr=xo,i.createLanguage=function(te){var ge={};for(var Fe in te)({}).hasOwnProperty.call(te,Fe)&&function(He){ge[He]=Gt(function(){return te[He](ge)})}(Fe);return ge},i.crlf=ua,i.custom=function(te){return i(te(z,Y))},i.digit=yr,i.digits=Rn,i.empty=un,i.end=Bi,i.eof=Cr,i.fail=Tt,i.formatError=Je,i.index=Xt,i.isParser=M,i.lazy=Gt,i.letter=Li,i.letters=Eo,i.lf=_i,i.lookahead=qt,i.makeFailure=Y,i.makeSuccess=z,i.newline=ci,i.noneOf=function(te){return $t(function(ge){return te.indexOf(ge)<0}).desc("none of '"+te+"'")},i.notFollowedBy=zt,i.of=xt,i.oneOf=function(te){for(var ge=te.split(""),Fe=0;Fe<ge.length;Fe++)ge[Fe]="'"+ge[Fe]+"'";return $t(function(He){return te.indexOf(He)>=0}).desc(ge)},i.optWhitespace=Uo,i.Parser=i,i.range=function(te,ge){return $t(function(Fe){return te<=Fe&&Fe<=ge}).desc(te+"-"+ge)},i.regex=yt,i.regexp=yt,i.sepBy=_e,i.sepBy1=tt,i.seq=Qe,i.seqMap=It,i.seqObj=function(){for(var te,ge={},Fe=0,He=(te=arguments,Array.prototype.slice.call(te)),Ye=He.length,et=0;et<Ye;et+=1){var nt=He[et];if(!M(nt)){if(_(nt)&&nt.length===2&&typeof nt[0]=="string"&&M(nt[1])){var kt=nt[0];if(Object.prototype.hasOwnProperty.call(ge,kt))throw new Error("seqObj: duplicate key "+kt);ge[kt]=!0,Fe++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(Fe===0)throw new Error("seqObj expects at least one named parser, found zero");return i(function(en,jn){for(var wn,Lr={},_n=0;_n<Ye;_n+=1){var rr,Rr;if(_(He[_n])?(rr=He[_n][0],Rr=He[_n][1]):(rr=null,Rr=He[_n]),!(wn=V(Rr._(en,jn),wn)).status)return wn;rr&&(Lr[rr]=wn.value),jn=wn.index}return V(z(jn,Lr),wn)})},i.string=st,i.succeed=xt,i.takeWhile=function(te){return ie(te),i(function(ge,Fe){for(var He=Fe;He<ge.length&&te(ae(ge,He));)He++;return z(He,ge.slice(Fe,He))})},i.test=$t,i.whitespace=Ri,i["fantasy-land/empty"]=un,i["fantasy-land/of"]=xt,i.Binary={bitSeq:w,bitSeqObj:function(te){v();var ge={},Fe=0,He=f(function(et){if(_(et)){var nt=et;if(nt.length!==2)throw new Error("["+nt.join(", ")+"] should be length 2, got length "+nt.length);if(Z(nt[0]),X(nt[1]),Object.prototype.hasOwnProperty.call(ge,nt[0]))throw new Error("duplicate key in bitSeqObj: "+nt[0]);return ge[nt[0]]=!0,Fe++,nt}return X(et),[null,et]},te);if(Fe<1)throw new Error("bitSeqObj expects at least one named pair, got ["+te.join(", ")+"]");var Ye=f(function(et){return et[0]},He);return w(f(function(et){return et[1]},He)).map(function(et){return d(function(nt,kt){return kt[0]!==null&&(nt[kt[0]]=kt[1]),nt},{},f(function(nt,kt){return[nt,et[kt]]},Ye))})},byte:function(te){if(v(),X(te),te>255)throw new Error("Value specified to byte constructor ("+te+"=0x"+te.toString(16)+") is larger in value than a single byte.");var ge=(te>15?"0x":"0x0")+te.toString(16);return i(function(Fe,He){var Ye=ae(Fe,He);return Ye===te?z(He+1,Ye):Y(He,ge)})},buffer:function(te){return T("buffer",te).map(function(ge){return Buffer.from(ge)})},encodedString:function(te,ge){return T("string",ge).map(function(Fe){return Fe.toString(te)})},uintBE:I,uint8BE:I(1),uint16BE:I(2),uint32BE:I(4),uintLE:k,uint8LE:k(1),uint16LE:k(2),uint32LE:k(4),intBE:P,int8BE:P(1),int16BE:P(2),int32BE:P(4),intLE:R,int8LE:R(1),int16LE:R(2),int32LE:R(4),floatBE:T("floatBE",4).map(function(te){return te.readFloatBE(0)}),floatLE:T("floatLE",4).map(function(te){return te.readFloatLE(0)}),doubleBE:T("doubleBE",8).map(function(te){return te.readDoubleBE(0)}),doubleLE:T("doubleLE",8).map(function(te){return te.readDoubleLE(0)})},n.exports=i}])})})(me);var V1=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function zx(e){return e==null?e:e.shiftToAll().normalize()}function aT(e){return e.includes("/")&&(e=e.substring(e.lastIndexOf("/")+1)),e.endsWith(".md")&&(e=e.substring(0,e.length-3)),e}me.exports.alt(me.exports.regex(new RegExp(V1(),"")),me.exports.regex(/[0-9\p{Letter}_-]+/u).map(e=>e.toLocaleLowerCase()),me.exports.whitespace.map(e=>"-"),me.exports.any.map(e=>"")).many().map(e=>e.join(""));const x9=me.exports.alt(me.exports.regex(new RegExp(V1(),"")),me.exports.regex(/[0-9\p{Letter}_-]+/u),me.exports.whitespace.map(e=>" "),me.exports.any.map(e=>" ")).many().map(e=>e.join("").split(/\s+/).join(" ").trim());function C9(e){return x9.tryParse(e)}function M9(e){return e=zx(e),e=wt.fromObject(Object.fromEntries(Object.entries(e.toObject()).filter(([,t])=>t>0))),e.toHuman()}var Am;(function(e){function t(M,_=Y1,L=!1){let z=n(M);if(!z)return _.renderNullAs;switch(z.type){case"null":return _.renderNullAs;case"string":return z.value;case"number":case"boolean":return""+z.value;case"html":return z.value.outerHTML;case"widget":return z.value.markdown();case"link":return z.value.markdown();case"function":return"<function>";case"array":let Y="";return L&&(Y+="["),Y+=z.value.map(V=>t(V,_,!0)).join(", "),L&&(Y+="]"),Y;case"object":return"{ "+Object.entries(z.value).map(V=>V[0]+": "+t(V[1],_,!0)).join(", ")+" }";case"date":return z.value.second==0&&z.value.hour==0&&z.value.minute==0?z.value.toFormat(_.defaultDateFormat):z.value.toFormat(_.defaultDateTimeFormat);case"duration":return M9(z.value)}}e.toString=t;function n(M){return v(M)?{type:"null",value:M}:f(M)?{type:"number",value:M}:d(M)?{type:"string",value:M}:T(M)?{type:"boolean",value:M}:g(M)?{type:"duration",value:M}:m(M)?{type:"date",value:M}:I(M)?{type:"widget",value:M}:w(M)?{type:"array",value:M}:S(M)?{type:"link",value:M}:R(M)?{type:"function",value:M}:k(M)?{type:"html",value:M}:P(M)?{type:"object",value:M}:void 0}e.wrapValue=n;function r(M,_){if(P(M)){let L={};for(let[z,Y]of Object.entries(M))L[z]=r(Y,_);return L}else if(w(M)){let L=[];for(let z of M)L.push(r(z,_));return L}else return _(M)}e.mapLeaves=r;function o(M,_,L){var z,Y;if(M===void 0&&(M=null),_===void 0&&(_=null),M===null&&_===null)return 0;if(M===null)return-1;if(_===null)return 1;let V=n(M),$=n(_);if(V===void 0&&$===void 0)return 0;if(V===void 0)return-1;if($===void 0)return 1;if(V.type!=$.type)return V.type.localeCompare($.type);if(V.value===$.value)return 0;switch(V.type){case"string":return V.value.localeCompare($.value);case"number":return V.value<$.value?-1:V.value==$.value?0:1;case"null":return 0;case"boolean":return V.value==$.value?0:V.value?1:-1;case"link":let re=V.value,Q=$.value,ae=L??(Ee=>Ee),X=ae(re.path).localeCompare(ae(Q.path));if(X!=0)return X;let ie=re.type.localeCompare(Q.type);return ie!=0?ie:re.subpath&&!Q.subpath?1:!re.subpath&&Q.subpath?-1:!re.subpath&&!Q.subpath?0:((z=re.subpath)!==null&&z!==void 0?z:"").localeCompare((Y=Q.subpath)!==null&&Y!==void 0?Y:"");case"date":return V.value<$.value?-1:V.value.equals($.value)?0:1;case"duration":return V.value<$.value?-1:V.value.equals($.value)?0:1;case"array":let Z=V.value,ue=$.value;for(let Ee=0;Ee<Math.min(Z.length,ue.length);Ee++){let je=o(Z[Ee],ue[Ee]);if(je!=0)return je}return Z.length-ue.length;case"object":let ne=V.value,he=$.value,K=Array.from(Object.keys(ne)),oe=Array.from(Object.keys(he));K.sort(),oe.sort();let pe=o(K,oe);if(pe!=0)return pe;for(let Ee of K){let je=o(ne[Ee],he[Ee]);if(je!=0)return je}return 0;case"widget":case"html":case"function":return 0}}e.compareValue=o;function i(M){var _;return(_=n(M))===null||_===void 0?void 0:_.type}e.typeOf=i;function a(M){let _=n(M);if(!_)return!1;switch(_.type){case"number":return _.value!=0;case"string":return _.value.length>0;case"boolean":return _.value;case"link":return!!_.value.path;case"date":return _.value.toMillis()!=0;case"duration":return _.value.as("seconds")!=0;case"object":return Object.keys(_.value).length>0;case"array":return _.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}e.isTruthy=a;function c(M){if(M==null)return M;if(e.isArray(M))return[].concat(M.map(_=>c(_)));if(e.isObject(M)){let _={};for(let[L,z]of Object.entries(M))_[L]=c(z);return _}else return M}e.deepCopy=c;function d(M){return typeof M=="string"}e.isString=d;function f(M){return typeof M=="number"}e.isNumber=f;function m(M){return M instanceof Mt}e.isDate=m;function g(M){return M instanceof wt}e.isDuration=g;function v(M){return M==null}e.isNull=v;function w(M){return Array.isArray(M)}e.isArray=w;function T(M){return typeof M=="boolean"}e.isBoolean=T;function S(M){return M instanceof _o}e.isLink=S;function I(M){return M instanceof W1}e.isWidget=I;function k(M){return typeof HTMLElement<"u"?M instanceof HTMLElement:!1}e.isHtml=k;function P(M){return typeof M=="object"&&!k(M)&&!I(M)&&!w(M)&&!g(M)&&!m(M)&&!S(M)&&M!==void 0&&!v(M)}e.isObject=P;function R(M){return typeof M=="function"}e.isFunction=R})(Am||(Am={}));var sT;(function(e){function t(o){return Am.isObject(o)&&Object.keys(o).length==2&&"key"in o&&"rows"in o}e.isElementGroup=t;function n(o){for(let i of o)if(!t(i))return!1;return!0}e.isGrouping=n;function r(o){if(n(o)){let i=0;for(let a of o)i+=r(a.rows);return i}else return o.length}e.count=r})(sT||(sT={}));class _o{constructor(t){Object.assign(this,t)}static file(t,n=!1,r){return new _o({path:t,embed:n,display:r,subpath:void 0,type:"file"})}static infer(t,n=!1,r){if(t.includes("#^")){let o=t.split("#^");return _o.block(o[0],o[1],n,r)}else if(t.includes("#")){let o=t.split("#");return _o.header(o[0],o[1],n,r)}else return _o.file(t,n,r)}static header(t,n,r,o){return new _o({path:t,embed:r,display:o,subpath:C9(n),type:"header"})}static block(t,n,r,o){return new _o({path:t,embed:r,display:o,subpath:n,type:"block"})}static fromObject(t){return new _o(t)}equals(t){return t==null||t==null?!1:this.path==t.path&&this.type==t.type&&this.subpath==t.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(t){return new _o(Object.assign({},this,{path:t}))}withDisplay(t){return new _o(Object.assign({},this,{display:t}))}withHeader(t){return _o.header(this.path,t,this.embed,this.display)}toFile(){return _o.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let t=new _o(this);return t.embed=!0,t}}fromEmbed(){if(this.embed){let t=new _o(this);return t.embed=!1,t}else return this}markdown(){let t=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?t+="|"+this.display:(t+="|"+aT(this.path),(this.type=="header"||this.type=="block")&&(t+=" > "+this.subpath)),t+="]]",t}obsidianLink(){var t,n;const r=this.path.replace("|","\\|");return this.type=="header"?r+"#"+((t=this.subpath)===null||t===void 0?void 0:t.replace("|","\\|")):this.type=="block"?r+"#^"+((n=this.subpath)===null||n===void 0?void 0:n.replace("|","\\|")):r}fileName(){return aT(this.path).replace(".md","")}}class W1{constructor(t){this.$widget=t}}class k9 extends W1{constructor(t,n){super("dataview:list-pair"),this.key=t,this.value=n}markdown(){return`${Am.toString(this.key)}: ${Am.toString(this.value)}`}}class N9 extends W1{constructor(t,n){super("dataview:external-link"),this.url=t,this.display=n}markdown(){var t;return`[${(t=this.display)!==null&&t!==void 0?t:this.url}](${this.url})`}}var lT;(function(e){function t(a,c){return new k9(a,c)}e.listPair=t;function n(a,c){return new N9(a,c)}e.externalLink=n;function r(a){return a.$widget==="dataview:list-pair"}e.isListPair=r;function o(a){return a.$widget==="dataview:external-link"}e.isExternalLink=o;function i(a){return r(a)||o(a)}e.isBuiltin=i})(lT||(lT={}));var hr;(function(e){function t(v){return{type:"variable",name:v}}e.variable=t;function n(v){return{type:"literal",value:v}}e.literal=n;function r(v,w,T){return{type:"binaryop",left:v,op:w,right:T}}e.binaryOp=r;function o(v,w){return{type:"index",object:v,index:w}}e.index=o;function i(v){let w=v.split("."),T=e.variable(w[0]);for(let S=1;S<w.length;S++)T=e.index(T,e.literal(w[S]));return T}e.indexVariable=i;function a(v,w){return{type:"lambda",arguments:v,value:w}}e.lambda=a;function c(v,w){return{type:"function",func:v,arguments:w}}e.func=c;function d(v){return{type:"list",values:v}}e.list=d;function f(v){return{type:"object",values:v}}e.object=f;function m(v){return{type:"negated",child:v}}e.negate=m;function g(v){return v=="<="||v=="<"||v==">"||v==">="||v=="!="||v=="="}e.isCompareOp=g,e.NULL=e.literal(null)})(hr||(hr={}));var cl;(function(e){function t(m){return{type:"tag",tag:m}}e.tag=t;function n(m){return{type:"csv",path:m}}e.csv=n;function r(m){return{type:"folder",folder:m}}e.folder=r;function o(m,g){return{type:"link",file:m,direction:g?"incoming":"outgoing"}}e.link=o;function i(m,g,v){return{type:"binaryop",left:m,op:g,right:v}}e.binaryOp=i;function a(m,g){return{type:"binaryop",left:m,op:"&",right:g}}e.and=a;function c(m,g){return{type:"binaryop",left:m,op:"|",right:g}}e.or=c;function d(m){return{type:"negate",child:m}}e.negate=d;function f(){return{type:"empty"}}e.empty=f})(cl||(cl={}));const cT=new RegExp(V1(),""),Vb={year:wt.fromObject({years:1}),years:wt.fromObject({years:1}),yr:wt.fromObject({years:1}),yrs:wt.fromObject({years:1}),month:wt.fromObject({months:1}),months:wt.fromObject({months:1}),mo:wt.fromObject({months:1}),mos:wt.fromObject({months:1}),week:wt.fromObject({weeks:1}),weeks:wt.fromObject({weeks:1}),wk:wt.fromObject({weeks:1}),wks:wt.fromObject({weeks:1}),w:wt.fromObject({weeks:1}),day:wt.fromObject({days:1}),days:wt.fromObject({days:1}),d:wt.fromObject({days:1}),hour:wt.fromObject({hours:1}),hours:wt.fromObject({hours:1}),hr:wt.fromObject({hours:1}),hrs:wt.fromObject({hours:1}),h:wt.fromObject({hours:1}),minute:wt.fromObject({minutes:1}),minutes:wt.fromObject({minutes:1}),min:wt.fromObject({minutes:1}),mins:wt.fromObject({minutes:1}),m:wt.fromObject({minutes:1}),second:wt.fromObject({seconds:1}),seconds:wt.fromObject({seconds:1}),sec:wt.fromObject({seconds:1}),secs:wt.fromObject({seconds:1}),s:wt.fromObject({seconds:1})},Wb={now:()=>Mt.local(),today:()=>Mt.local().startOf("day"),yesterday:()=>Mt.local().startOf("day").minus(wt.fromObject({days:1})),tomorrow:()=>Mt.local().startOf("day").plus(wt.fromObject({days:1})),sow:()=>Mt.local().startOf("week"),"start-of-week":()=>Mt.local().startOf("week"),eow:()=>Mt.local().endOf("week"),"end-of-week":()=>Mt.local().endOf("week"),soy:()=>Mt.local().startOf("year"),"start-of-year":()=>Mt.local().startOf("year"),eoy:()=>Mt.local().endOf("year"),"end-of-year":()=>Mt.local().endOf("year"),som:()=>Mt.local().startOf("month"),"start-of-month":()=>Mt.local().startOf("month"),eom:()=>Mt.local().endOf("month"),"end-of-month":()=>Mt.local().endOf("month")},Zb=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function A9(e){let t=-1;for(;(t=e.indexOf("|",t+1))>=0;)if(!(t>0&&e[t-1]=="\\"))return[e.substring(0,t).replace(/\\\|/g,"|"),e.substring(t+1)];return[e.replace(/\\\|/g,"|"),void 0]}function F9(e){let[t,n]=A9(e);return _o.infer(t,!1,n)}function sm(e,t,n){return me.exports.seqMap(e,me.exports.seq(me.exports.optWhitespace,t,me.exports.optWhitespace,e).many(),(r,o)=>{if(o.length==0)return r;let i=n(r,o[0][1],o[0][3]);for(let a=1;a<o.length;a++)i=n(i,o[a][1],o[a][3]);return i})}function P9(e,...t){return me.exports.custom((n,r)=>(o,i)=>{let a=e._(o,i);if(!a.status)return a;for(let c of t){let d=c(a.value)._(o,a.index);if(!d.status)return a;a=d}return a})}const fs=me.exports.createLanguage({number:e=>me.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(t=>Number.parseFloat(t)).desc("number"),string:e=>me.exports.string('"').then(me.exports.alt(e.escapeCharacter,me.exports.noneOf('"\\')).atLeast(0).map(t=>t.join(""))).skip(me.exports.string('"')).desc("string"),escapeCharacter:e=>me.exports.string("\\").then(me.exports.any).map(t=>t==='"'?'"':t==="\\"?"\\":"\\"+t),bool:e=>me.exports.regexp(/true|false|True|False/).map(t=>t.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:e=>me.exports.seqMap(me.exports.string("#"),me.exports.alt(me.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(t,n)=>t+n.join("")).desc("tag ('#hello/stuff')"),identifier:e=>me.exports.seqMap(me.exports.alt(me.exports.regexp(new RegExp("\\p{Letter}","u")),me.exports.regexp(cT).desc("text")),me.exports.alt(me.exports.regexp(/[0-9\p{Letter}_-]/u),me.exports.regexp(cT).desc("text")).many(),(t,n)=>t+n.join("")).desc("variable identifier"),link:e=>me.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(t=>F9(t)).desc("file link"),embedLink:e=>me.exports.seqMap(me.exports.string("!").atMost(1),e.link,(t,n)=>(t.length>0&&(n.embed=!0),n)).desc("file link"),binaryPlusMinus:e=>me.exports.regexp(/\+|-/).map(t=>t).desc("'+' or '-'"),binaryMulDiv:e=>me.exports.regexp(/\*|\/|%/).map(t=>t).desc("'*' or '/' or '%'"),binaryCompareOp:e=>me.exports.regexp(/>=|<=|!=|>|<|=/).map(t=>t).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:e=>me.exports.regexp(/and|or|&|\|/i).map(t=>t.toLowerCase()=="and"?"&":t.toLowerCase()=="or"?"|":t).desc("'and' or 'or'"),rootDate:e=>me.exports.seqMap(me.exports.regexp(/\d{4}/),me.exports.string("-"),me.exports.regexp(/\d{2}/),(t,n,r)=>Mt.fromObject({year:Number.parseInt(t),month:Number.parseInt(r)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:e=>me.exports.alt(...Object.keys(Wb).sort((t,n)=>n.length-t.length).map(me.exports.string)),date:e=>P9(e.rootDate,t=>me.exports.seqMap(me.exports.string("-"),me.exports.regexp(/\d{2}/),(n,r)=>t.set({day:Number.parseInt(r)})),t=>me.exports.seqMap(me.exports.string("T"),me.exports.regexp(/\d{2}/),(n,r)=>t.set({hour:Number.parseInt(r)})),t=>me.exports.seqMap(me.exports.string(":"),me.exports.regexp(/\d{2}/),(n,r)=>t.set({minute:Number.parseInt(r)})),t=>me.exports.seqMap(me.exports.string(":"),me.exports.regexp(/\d{2}/),(n,r)=>t.set({second:Number.parseInt(r)})),t=>me.exports.alt(me.exports.seqMap(me.exports.string("."),me.exports.regexp(/\d{3}/),(n,r)=>t.set({millisecond:Number.parseInt(r)})),me.exports.succeed(t)),t=>me.exports.alt(me.exports.seqMap(me.exports.string("+").or(me.exports.string("-")),me.exports.regexp(/\d{1,2}(:\d{2})?/),(n,r)=>t.setZone("UTC"+n+r,{keepLocalTime:!0})),me.exports.seqMap(me.exports.string("Z"),()=>t.setZone("utc",{keepLocalTime:!0})),me.exports.seqMap(me.exports.string("["),me.exports.regexp(/[0-9A-Za-z+-\/]+/u),me.exports.string("]"),(n,r,o)=>t.setZone(r,{keepLocalTime:!0})))).assert(t=>t.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:e=>me.exports.alt(e.dateShorthand.map(t=>Wb[t]()),e.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:e=>me.exports.alt(...Object.keys(Vb).sort((t,n)=>n.length-t.length).map(me.exports.string)),duration:e=>me.exports.seqMap(e.number,me.exports.optWhitespace,e.durationType,(t,n,r)=>Vb[r].mapUnits(o=>o*t)).sepBy1(me.exports.string(",").trim(me.exports.optWhitespace).or(me.exports.optWhitespace)).map(t=>t.reduce((n,r)=>n.plus(r))).desc("duration like 4hr2min"),rawNull:e=>me.exports.string("null"),tagSource:e=>e.tag.map(t=>cl.tag(t)),csvSource:e=>me.exports.seqMap(me.exports.string("csv(").skip(me.exports.optWhitespace),e.string,me.exports.string(")"),(t,n,r)=>cl.csv(n)),linkIncomingSource:e=>e.link.map(t=>cl.link(t.path,!0)),linkOutgoingSource:e=>me.exports.seqMap(me.exports.string("outgoing(").skip(me.exports.optWhitespace),e.link,me.exports.string(")"),(t,n,r)=>cl.link(n.path,!1)),folderSource:e=>e.string.map(t=>cl.folder(t)),parensSource:e=>me.exports.seqMap(me.exports.string("("),me.exports.optWhitespace,e.source,me.exports.optWhitespace,me.exports.string(")"),(t,n,r,o,i)=>r),negateSource:e=>me.exports.seqMap(me.exports.alt(me.exports.string("-"),me.exports.string("!")),e.atomSource,(t,n)=>cl.negate(n)),atomSource:e=>me.exports.alt(e.parensSource,e.negateSource,e.linkOutgoingSource,e.linkIncomingSource,e.folderSource,e.tagSource,e.csvSource),binaryOpSource:e=>sm(e.atomSource,e.binaryBooleanOp.map(t=>t),cl.binaryOp),source:e=>e.binaryOpSource,variableField:e=>e.identifier.chain(t=>Zb.includes(t.toUpperCase())?me.exports.fail("Variable fields cannot be a keyword ("+Zb.join(" or ")+")"):me.exports.succeed(hr.variable(t))).desc("variable"),numberField:e=>e.number.map(t=>hr.literal(t)).desc("number"),stringField:e=>e.string.map(t=>hr.literal(t)).desc("string"),boolField:e=>e.bool.map(t=>hr.literal(t)).desc("boolean"),dateField:e=>me.exports.seqMap(me.exports.string("date("),me.exports.optWhitespace,e.datePlus,me.exports.optWhitespace,me.exports.string(")"),(t,n,r,o,i)=>hr.literal(r)).desc("date"),durationField:e=>me.exports.seqMap(me.exports.string("dur("),me.exports.optWhitespace,e.duration,me.exports.optWhitespace,me.exports.string(")"),(t,n,r,o,i)=>hr.literal(r)).desc("duration"),nullField:e=>e.rawNull.map(t=>hr.NULL),linkField:e=>e.link.map(t=>hr.literal(t)),listField:e=>e.field.sepBy(me.exports.string(",").trim(me.exports.optWhitespace)).wrap(me.exports.string("[").skip(me.exports.optWhitespace),me.exports.optWhitespace.then(me.exports.string("]"))).map(t=>hr.list(t)).desc("list ('[1, 2, 3]')"),objectField:e=>me.exports.seqMap(e.identifier.or(e.string),me.exports.string(":").trim(me.exports.optWhitespace),e.field,(t,n,r)=>({name:t,value:r})).sepBy(me.exports.string(",").trim(me.exports.optWhitespace)).wrap(me.exports.string("{").skip(me.exports.optWhitespace),me.exports.optWhitespace.then(me.exports.string("}"))).map(t=>{let n={};for(let r of t)n[r.name]=r.value;return hr.object(n)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:e=>me.exports.alt(e.date,e.duration.map(t=>zx(t)),e.string,e.tag,e.embedLink,e.bool,e.number,e.rawNull),inlineFieldList:e=>e.atomInlineField.sepBy(me.exports.string(",").trim(me.exports.optWhitespace).lookahead(e.atomInlineField)),inlineField:e=>me.exports.alt(me.exports.seqMap(e.atomInlineField,me.exports.string(",").trim(me.exports.optWhitespace),e.inlineFieldList,(t,n,r)=>[t].concat(r)),e.atomInlineField),atomField:e=>me.exports.alt(e.embedLink.map(t=>hr.literal(t)),e.negatedField,e.linkField,e.listField,e.objectField,e.lambdaField,e.parensField,e.boolField,e.numberField,e.stringField,e.dateField,e.durationField,e.nullField,e.variableField),indexField:e=>me.exports.seqMap(e.atomField,me.exports.alt(e.dotPostfix,e.indexPostfix,e.functionPostfix).many(),(t,n)=>{let r=t;for(let o of n)switch(o.type){case"dot":r=hr.index(r,hr.literal(o.field));break;case"index":r=hr.index(r,o.field);break;case"function":r=hr.func(r,o.fields);break}return r}),negatedField:e=>me.exports.seqMap(me.exports.string("!"),e.indexField,(t,n)=>hr.negate(n)).desc("negated field"),parensField:e=>me.exports.seqMap(me.exports.string("("),me.exports.optWhitespace,e.field,me.exports.optWhitespace,me.exports.string(")"),(t,n,r,o,i)=>r),lambdaField:e=>me.exports.seqMap(e.identifier.sepBy(me.exports.string(",").trim(me.exports.optWhitespace)).wrap(me.exports.string("(").trim(me.exports.optWhitespace),me.exports.string(")").trim(me.exports.optWhitespace)),me.exports.string("=>").trim(me.exports.optWhitespace),e.field,(t,n,r)=>({type:"lambda",arguments:t,value:r})),dotPostfix:e=>me.exports.seqMap(me.exports.string("."),e.identifier,(t,n)=>({type:"dot",field:n})),indexPostfix:e=>me.exports.seqMap(me.exports.string("["),me.exports.optWhitespace,e.field,me.exports.optWhitespace,me.exports.string("]"),(t,n,r,o,i)=>({type:"index",field:r})),functionPostfix:e=>me.exports.seqMap(me.exports.string("("),me.exports.optWhitespace,e.field.sepBy(me.exports.string(",").trim(me.exports.optWhitespace)),me.exports.optWhitespace,me.exports.string(")"),(t,n,r,o,i)=>({type:"function",fields:r})),binaryMulDivField:e=>sm(e.indexField,e.binaryMulDiv,hr.binaryOp),binaryPlusMinusField:e=>sm(e.binaryMulDivField,e.binaryPlusMinus,hr.binaryOp),binaryCompareField:e=>sm(e.binaryPlusMinusField,e.binaryCompareOp,hr.binaryOp),binaryBooleanField:e=>sm(e.binaryCompareField,e.binaryBooleanOp,hr.binaryOp),binaryOpField:e=>e.binaryBooleanField,field:e=>e.binaryOpField});function O9(e){try{return xv.success(fs.field.tryParse(e))}catch(t){return xv.failure(""+t)}}var Cv;(function(e){function t(r,o){return{name:r,field:o}}e.named=t;function n(r,o){return{field:r,direction:o}}e.sortBy=n})(Cv||(Cv={}));function j9(e){return me.exports.custom((t,n)=>(r,o)=>{let i=e._(r,o);return i.status?Object.assign({},i,{value:[i.value,r.substring(o,i.index)]}):i})}function L9(e){return e.split(/[\r\n]+/).map(t=>t.trim()).join("")}const R9=me.exports.createLanguage({queryType:e=>me.exports.alt(me.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(t=>t.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:e=>me.exports.seqMap(fs.field.skip(me.exports.whitespace),me.exports.regexp(/AS/i).skip(me.exports.whitespace),fs.identifier.or(fs.string),(t,n,r)=>Cv.named(r,t)),namedField:e=>me.exports.alt(e.explicitNamedField,j9(fs.field).map(([t,n])=>Cv.named(L9(n),t))),sortField:e=>me.exports.seqMap(fs.field.skip(me.exports.optWhitespace),me.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(t,n)=>{let r=n.length==0?"ascending":n[0].toLowerCase();return r=="desc"&&(r="descending"),r=="asc"&&(r="ascending"),{field:t,direction:r}}),headerClause:e=>e.queryType.skip(me.exports.whitespace).chain(t=>{switch(t){case"table":return me.exports.seqMap(me.exports.regexp(/WITHOUT\s+ID/i).skip(me.exports.optWhitespace).atMost(1),me.exports.sepBy(e.namedField,me.exports.string(",").trim(me.exports.optWhitespace)),(n,r)=>({type:"table",fields:r,showId:n.length==0}));case"list":return me.exports.seqMap(me.exports.regexp(/WITHOUT\s+ID/i).skip(me.exports.optWhitespace).atMost(1),fs.field.atMost(1),(n,r)=>({type:"list",format:r.length==1?r[0]:void 0,showId:n.length==0}));case"task":return me.exports.succeed({type:"task"});case"calendar":return me.exports.seqMap(e.namedField,n=>({type:"calendar",showId:!0,field:n}));default:return me.exports.fail(`Unrecognized query type '${t}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:e=>me.exports.seqMap(me.exports.regexp(/FROM/i),me.exports.whitespace,fs.source,(t,n,r)=>r),whereClause:e=>me.exports.seqMap(me.exports.regexp(/WHERE/i),me.exports.whitespace,fs.field,(t,n,r)=>({type:"where",clause:r})).desc("WHERE <expression>"),sortByClause:e=>me.exports.seqMap(me.exports.regexp(/SORT/i),me.exports.whitespace,e.sortField.sepBy1(me.exports.string(",").trim(me.exports.optWhitespace)),(t,n,r)=>({type:"sort",fields:r})).desc("SORT field [ASC/DESC]"),limitClause:e=>me.exports.seqMap(me.exports.regexp(/LIMIT/i),me.exports.whitespace,fs.field,(t,n,r)=>({type:"limit",amount:r})).desc("LIMIT <value>"),flattenClause:e=>me.exports.seqMap(me.exports.regexp(/FLATTEN/i).skip(me.exports.whitespace),e.namedField,(t,n)=>({type:"flatten",field:n})).desc("FLATTEN <value> [AS <name>]"),groupByClause:e=>me.exports.seqMap(me.exports.regexp(/GROUP BY/i).skip(me.exports.whitespace),e.namedField,(t,n)=>({type:"group",field:n})).desc("GROUP BY <value> [AS <name>]"),clause:e=>me.exports.alt(e.fromClause,e.whereClause,e.sortByClause,e.limitClause,e.groupByClause,e.flattenClause),query:e=>me.exports.seqMap(e.headerClause.trim(me.exports.optWhitespace),e.fromClause.trim(me.exports.optWhitespace).atMost(1),e.clause.trim(me.exports.optWhitespace).many(),(t,n,r)=>({header:t,source:n.length==0?cl.folder(""):n[0],operations:r,settings:Y1}))}),_9=e=>{var t;return e?(t=e.plugins.plugins.dataview)===null||t===void 0?void 0:t.api:window.DataviewAPI},B9=e=>e.plugins.enabledPlugins.has("dataview");dc.DATE_SHORTHANDS=Wb;dc.DURATION_TYPES=Vb;dc.EXPRESSION=fs;dc.KEYWORDS=Zb;dc.QUERY_LANGUAGE=R9;var H9=dc.getAPI=_9;dc.isPluginEnabled=B9;dc.parseField=O9;async function Y9(e,t,n,r,o){var I,k;const{vault:i,metadataCache:a}=Re.getState().dailyNotesState.app===void 0?app:Re.getState().dailyNotesState.app,c=Re.getState().dailyNotesState.settings,d=e.replace(/\n/g,"<br>");if(n===void 0)return;const f=a.getFirstLinkpathDest("",n),m=C.moment(),g=m.format("YYYYMMDDHHmmss"),v=r.slice(14),w="    ",T=g+" "+d.trim(),S=w+"- "+g+" "+d.trim();if(f){let P;if(c!=null&&c.CommentOnMemos&&(c!=null&&c.CommentsInOriginalNotes)){const L=H9();if(L!==void 0)try{P=(k=(I=L.page(f.path))==null?void 0:I.file.lists.values)==null?void 0:k.filter(z=>z.line===parseInt(v))}catch(z){console.error(z)}}const R=await i.read(f);let M=0;P[0].children.values.length>0?M=P[0].children.values[P[0].children.values.length-1].line:M=P[0].line;const _=await U9(S,R,M);if(await i.modify(f,_.content),t)return{id:g+(M+1),content:T,deletedAt:"",createdAt:m.format("YYYY/MM/DD HH:mm:ss"),updatedAt:m.format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",path:f.path,hasId:"",linkId:o}}}async function U9(e,t,n){if(n===-1)return{content:`${t}
${e}`,posNum:-1};const r=t.split(`
`),o=r.slice(0,n+1).join(`
`),i=r.slice(n+1).join(`
`);return/^\s*$/g.test(r[n+1])?{content:`${o}
${e}
${i}`,posNum:n}:{content:`${o}
${e}
${i}`,posNum:n}}function z9(e,t,n){var o;const r=t.workspace.getLeavesOfType("markdown");for(const i of r){const a=i.view;if(((o=a==null?void 0:a.file)==null?void 0:o.path)===e){t.workspace.revealLeaf(i);try{return i.view.setEphemeralState({line:n}),!0}catch(c){return console.error(c),!1}}}return!1}const Z1=async e=>{var i;const t=ft.getState().app,n=t.workspace.getLeavesOfType("markdown");for(const a of n){const c=a.view;if(((i=c==null?void 0:c.file)==null?void 0:i.path)===e){t.workspace.revealLeaf(a);return}}const r=t.metadataCache.getFirstLinkpathDest("",e);if(!r){new C.Notice(E("File not found for the given thino path"));return}await t.workspace.getLeaf(!0).openFile(r)},$1=async(e,t)=>{const{app:n}=ft.getState(),r=parseInt(e.slice(14));if(z9(t,n,r))return;const o=n.metadataCache.getFirstLinkpathDest("",t);if(!C.Platform.isMobile)await n.workspace.getLeaf(!0).openFile(o,{eState:{line:r}});else{let i=n.workspace.activeLeaf;i===null&&(i=n.workspace.getLeaf(!0)),await i.openFile(o,{eState:{line:r}})}},q1=async(e,t)=>{var f,m,g;const n=ft.getState().app,r=n.metadataCache.getFirstLinkpathDest("",t);if(!r){new C.Notice(E("File not found for the given thino path"));return}let o="";try{o=await n.vault.read(r)}catch(v){console.error(v),o=await n.vault.cachedRead(r)}const a=o.split(/\r?\n/).findIndex(v=>v.contains(e)),c=n.workspace.getLeavesOfType("markdown");for(const v of c){const w=v.view;if(((f=w==null?void 0:w.file)==null?void 0:f.path)===r.path){n.workspace.revealLeaf(v);try{(m=v.view.editor)==null||m.setCursor({line:a,ch:1});return}catch(T){console.error(T)}}}const d=n.workspace.getLeaf(!0);await d.openFile(r,{eState:{line:a}});try{(g=d.view.editor)==null||g.setCursor({line:a,ch:1})}catch(v){console.error(v)}},G1=async(e,t)=>{var c;const n=ft.getState().app,r=(d,f)=>{var g;const m=(g=Array.from(d.nodes.values()))==null?void 0:g.find(v=>v.id===f);return m?(d.selectOnly(m),d.zoomToSelection(),!0):!1},o=n.workspace.getLeavesOfType("canvas");for(const d of o){const f=d.view;if(((c=f==null?void 0:f.file)==null?void 0:c.path)===t&&(n.workspace.revealLeaf(d),r(f.canvas,e)))return}const i=n.metadataCache.getFirstLinkpathDest("",t);if(!i){new C.Notice(E("File not found for the given thino path"));return}const a=n.workspace.getLeaf(!0);await a.openFile(i),setTimeout(()=>{var d;r((d=a.view)==null?void 0:d.canvas,e)},10)};class V9{constructor(){De(this,"initialized",!1)}getState(){return Re.getState().memoState}async fetchAllMemos(){const t=ft.getState().settings;ct.checkDailyInMulti(t);const n=await ki.getMyMemos(t.EnabledLocationList.map(i=>i.value)),r=[...n.memos],o=[...n.commentMemos];return Re.dispatch({type:"SET_MEMOS",payload:{memos:r}}),Re.dispatch({type:"SET_COMMENT_MEMOS",payload:{commentMemos:o}}),this.initialized||(this.initialized=!0,dt.setLoaded(!0)),r}async updateTypeMemos(t){const n=await ki.updateSpecificTypeMemo(t),r=this.getState().memos.filter(o=>o.sourceType!==t);Re.dispatch({type:"SET_MEMOS",payload:{memos:[...r,...n.memos]}})}async removeTypeMemos(t){const n=this.getState().memos.filter(r=>r.sourceType!==t);Re.dispatch({type:"SET_MEMOS",payload:{memos:[...n]}})}async fetchDeletedMemos(){const t=await ki.getMyDeletedMemos();return t.sort((n,r)=>ct.getTimeStampByDate(r.deletedAt)-ct.getTimeStampByDate(n.deletedAt)),t}pushMemo(t){Re.dispatch({type:"INSERT_MEMO",payload:{memo:{...t}}})}pushCommentMemo(t){Re.dispatch({type:"INSERT_COMMENT_MEMO",payload:{memo:{...t}}})}getMemoById(t){for(const n of this.getState().memos)if(n.id===t)return n;return null}getCommentMemoById(t){for(const n of this.getState().commentMemos)if(n.id===t)return n;return null}getMemoByWebId(t){for(const n of this.getState().memos)if(n.webId===t||n.id===t)return n;return null}async updateMemoById(t,n,r){const o=this.getMemoByWebId(t);if(!o)return;let i=null;const a=r?{}:{content:n.content,rowStatus:n.rowStatus,pinned:n.pinned,deleted:!!n.deletedAt,thinoType:n.thinoType??""};switch(o.sourceType){case"DAILY":i=await ll(o,{id:o.id,webId:n.id,...a});break;case"CANVAS":i=await sl(o,{id:o.id,webId:n.id,...a});break;case"MULTI":i=await hs(o,{id:o.id,webId:n.id,...a});break;case"FILE":i=await al(o,{id:o.id,webId:n.id,...a});break}if(!i)return o;Re.dispatch({type:"EDIT_MEMO",payload:i})}async archiveThinoBulk(t){const n=[];for(const r of t){let o;switch(r.sourceType){case"DAILY":o=await ll(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(o);break;case"CANVAS":o=await sl(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(o);break;case"MULTI":o=await hs(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(o);break;case"FILE":o=await al(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(o);break}}return n.length>0?(Re.dispatch({type:"ARCHIVE_MEMO_BY_ID_BULK",payload:n}),n):t}async dealWithDailyThinoBulk(t,n,r){const o=await D8(t,n,r);return r==="deleteForever"?await this.deleteThinosWithIdBulk(o.map(i=>i.id)):this.editMemoBulk(o),o}async deleteThinosWithIdBulk(t){for(const n of t)Re.dispatch({type:"DELETE_MEMO_BY_ID",payload:{id:n}})}async archiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await ll(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"CANVAS":n=await sl(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"MULTI":n=await hs(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"FILE":n=await al(t,{id:t.id,rowStatus:"ARCHIVED"});break}return n?(Re.dispatch({type:"ARCHIVE_MEMO_BY_ID",payload:n}),n):t}async pushToUpdateList(t,n){Re.dispatch({type:"PREPARE_UPDATE_THINO",payload:{thino:t,originalId:n}})}async removePrepareUpdateThinoById(t){Re.dispatch({type:"REMOVE_PARTICULAR_PREPARE_UPDATE_THINO",payload:{originalId:t}})}async removePrepareUpdateThino(){Re.dispatch({type:"REMOVE_PREPARE_UPDATE_THINO",payload:null})}async unarchiveThinoBulk(t){const n=[];for(const r of t){let o;switch(r.sourceType){case"DAILY":o=await ll(r,{id:r.id,rowStatus:"NORMAL"}),n.push(o);break;case"CANVAS":o=await sl(r,{id:r.id,rowStatus:"NORMAL"}),n.push(o);break;case"MULTI":o=await hs(r,{id:r.id,rowStatus:"NORMAL"}),n.push(o);break;case"FILE":o=await al(r,{id:r.id,rowStatus:"NORMAL"}),n.push(o);break}}return n.length>0?(Re.dispatch({type:"ARCHIVE_MEMO_BY_ID_BULK",payload:n}),n):t}async unarchiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await ll(t,{id:t.id,rowStatus:"NORMAL"});break;case"CANVAS":n=await sl(t,{id:t.id,rowStatus:"NORMAL"});break;case"MULTI":n=await hs(t,{id:t.id,rowStatus:"NORMAL"});break;case"FILE":n=await al(t,{id:t.id,rowStatus:"NORMAL"});break}return Re.dispatch({type:"UNARCHIVE_MEMO_BY_ID",payload:n}),n}async hideMemoById(t){const n=this.getMemoById(t);if(!n)return n;let r=null;switch(n.sourceType){case"DAILY":r=await ll(n,{id:n.id,deleted:!0});break;case"CANVAS":r=await sl(n,{id:n.id,deleted:!0});break;case"MULTI":r=await hs(n,{id:n.id,deleted:!0});break;case"FILE":r=await al(n,{id:n.id,deleted:!0});break}if(!r)return n;if(r)return r}async restoreMemoById(t){return await ki.restoreMemo(t)}async deleteMemoById(t,n){const r=this.getMemoById(t);try{switch(r.sourceType){case"DAILY":await ki.deleteMemoInDailyNote(r);break;case"CANVAS":await ki.deleteMemoInCanvas(r);break;case"MULTI":await ki.deleteMemoInMultiFiles(r);break;case"FILE":await ki.deleteMemoInSingleFile(r);break}Re.dispatch({type:"DELETE_MEMO_BY_ID",payload:{id:t}})}catch(c){console.error(c),new C.Notice(E("Failed to delete memo"))}if(n&&n==="local")return;const o=ft.getState().settings,i=ft.getState().app;!(i!=null&&i.loadLocalStorage("tokenForSync"))||!o.startSync||r.webId&&await P1(r.webId)}async removeMemosInFile(t,n){var o,i;const r=[];try{if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n){const c=this.getState().memos.filter(d=>d.path.trim()===t.path.trim());r.push(...c)}else if(t.path.contains("thino.canvas")){const c=this.getState().memos.filter(d=>d.path.trim()===t.path.trim());r.push(...c)}else if((o=t==null?void 0:t.parent)!=null&&o.path.contains(n)||!(t!=null&&t.parent)&&!((i=t==null?void 0:t.parent)!=null&&i.path)){const c=this.getState().memos.filter(d=>d.path.trim()===t.path.trim());c.length>0&&r.push(...c)}else t.path.endsWith(".md")&&t.path.contains(".thino")&&await Lb(t,r);const a=r.map(c=>c.id);Re.dispatch({type:"DELETE_MEMO_BY_ID_BATCH",payload:{ids:a}})}catch(a){console.error(a)}}async removeThinosByPath(t){const r=this.getState().memos.filter(o=>o.path===t).map(o=>o.id);Re.dispatch({type:"DELETE_MEMO_BY_ID_BATCH",payload:{ids:r}})}async updateMemosInFile(t,n){const r=[],o=async()=>{var i;if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n){await HE(t,r);return}else if(t.path.contains("thino.canvas")){await YE(t,r);return}else if((i=t==null?void 0:t.parent)!=null&&i.path.contains(n)&&!t.path.endsWith(".thino.md")){await BE(t,r);return}else if(t.path.endsWith(".thino.md")){console.error(t),await Lb(t,r);return}};try{await o(),Re.dispatch({type:"UPDATE_MEMO_BATCH",payload:{memos:r,path:t.path}})}catch(i){console.error(i)}}async updateMemoProperty(t){const n=ct.randomId(16),r=await hs(t,{id:n});Re.dispatch({type:"EDIT_MEMO_PATH",payload:r})}editMemo(t){const n=t.webId;Re.dispatch({type:"EDIT_MEMO",payload:t});const r=ft.getState().settings,o=ft.getState().app;if(!(!(o!=null&&o.loadLocalStorage("tokenForSync"))||!r.startSync))try{t&&n&&Hw({id:n,content:t.content,rowStatus:t.rowStatus,pinned:t.pinned,ttime:t.deletedAt?C.moment(t.deletedAt,"YYYY/MM/DD HH:mm:ss").valueOf():0,thinoType:t.sourceType==="DAILY"?"DAILY":"FILE"})}catch(a){console.error(a)}}editMemoBulk(t){for(const n of t)this.editMemo(n);this.updateTagsState()}editCommentMemo(t){Re.dispatch({type:"EDIT_COMMENT_MEMO",payload:t})}getThinoViaKeyword(t){const{memos:n}=this.getState();return n.filter(o=>o.content.toLowerCase().includes(t==null?void 0:t.toLowerCase()))}updateTagsState(){const{memos:t}=this.getState(),n=new Set,r={};for(const o of t){const i=o.content.replace(/<[^>]*>/g,"").replace(/\`\`\`(.*)?\n[\s\S]*?\n\`\`\`/gm,"").replace(/\`([^\`].*?)\`/g,"");if(o.deletedAt!==""&&o.deletedAt)continue;[...Array.from(i.match(gr)||[]),...Array.from(i.match(jr)||[]),...Array.from(i.match(so)||[])].forEach(c=>{const d=c.replace(gr,"$1").replace(jr,"$1").replace(so,"$2").trim();/^\d+$/.test(d)||(n.add(d),r[d]=(r[d]||0)+1)})}Re.dispatch({type:"SET_TAGS",payload:{tags:Array.from(n),tagsNum:r}})}clearMemos(){Re.dispatch({type:"SET_MEMOS",payload:{memos:[]}})}async getLinkedMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes(t))}async getCommentMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes("comment: "+t))}async createMemoMultiFile({content:t,isList:n,name:r}){return await i8({content:t,isList:n,name:r})}async createMemoSingleFile({content:t,isList:n}){return await a8({content:t,isList:n})}async createOrPatchThinoFromWeb(t){const n=this.getState().memos;if(t.localId&&(n!=null&&n.some(i=>i.id===t.localId)))return await this.updateMemoById(t.localId,t,!0),null;if(n!=null&&n.some(i=>i.id===t.id)||n!=null&&n.some(i=>i.webId===t.id))return await this.updateMemoById(t.id,t,!1),null;let r=t.sourceType;const o=ft.getState().settings;switch(o&&(o!=null&&o.saveThinoType)&&(r=o.saveThinoType!=="FILE"?o.saveThinoType:t.sourceType),r){case"FILE":case"MULTI":case"CANVAS":return await FD(t);case"DAILY":return await l8(t);default:return await FD(t)}}async initSync(){const n=this.getState().memos.filter(o=>!o.webId),r=await n8(n);for(const o of r)await this.createOrPatchThinoFromWeb(o)}async createMemoCanvas({text:t,isList:n}){return await s8({content:t,isList:n})}async createMemoDaily(t,n){return await PD(t,n)}async pinMemoById(t){const n=this.getMemoById(t),r=await T8(n);Re.dispatch({type:"PIN_MEMO",payload:r});try{const o=ft.getState().settings,i=ft.getState().app;if((i==null?void 0:i.loadLocalStorage("tokenForSync"))&&o.startSync){const c=await Hw({id:r.webId,pinned:!0});this.editMemo(c)}}catch(o){console.error(o)}}async unpinMemoById(t){const n=this.getMemoById(t),r=await I8(n);Re.dispatch({type:"PIN_MEMO",payload:r});try{const o=ft.getState().settings,i=ft.getState().app;if((i==null?void 0:i.loadLocalStorage("tokenForSync"))&&o.startSync){const c=await Hw({id:r.webId,pinned:!1});this.editMemo(c)}}catch(o){console.error(o)}}async createCommentMemo(t,n,r,o,i){return await Y9(t,n,r,o,i)}async importMemos(t,n,r){return await PD(t,n,r)}async createThino({content:t,isList:n,type:r,name:o}){let i=null;switch(r.toLowerCase()){case"canvas":i=await Te.createMemoCanvas({text:t,isList:n});break;case"multi":i=await Te.createMemoMultiFile({content:t,isList:n,name:o});break;case"daily":i=await Te.createMemoDaily(t,n);break;case"file":i=await Te.createMemoSingleFile({content:t,isList:n});break;default:i=await Te.createMemoDaily(t,n);break}const a=ft.getState().settings,c=ft.getState().app,d=c==null?void 0:c.loadLocalStorage("tokenForSync");return i&&d&&a.startSync&&setTimeout(async()=>{try{const f=await F1({content:t,thinoType:r==="DAILY"?"DAILY":"FILE"});await this.updateMemoById(i.id,f,!0)}catch(f){console.error(f)}},200),i}async openThinoByID(t){const n=this.getMemoById(t);if(n)switch(n.sourceType){case"DAILY":await $1(n.id,n.path);break;case"CANVAS":await G1(n.id,n.path);break;case"MULTI":await Z1(n.path);break;case"FILE":await q1(n.id,n.path);break}}async updateMemo(t,n,r){const o=this.getMemoById(t);if(o){let i=null;switch(o.sourceType){case"DAILY":i=await ll(o,{id:o.id,content:n,thinoType:r||o.thinoType});break;case"CANVAS":i=await sl(o,{id:o.id,content:n,thinoType:r||o.thinoType});break;case"MULTI":i=await hs(o,{id:o.id,content:n,thinoType:r||o.thinoType});break;case"FILE":i=await al(o,{id:o.id,content:n,thinoType:r||o.thinoType})}if(i)return i}return o}}const Te=new V9;class W9{getState(){return Re.getState().queryState}async getMyAllQueries(){const t=ot.getState().query.filter,n=this.getQueryById(t),r=await ki.getMyQueries();return Re.dispatch({type:"SET_QUERIES",payload:{queries:[...r,...n?[n]:[]]}}),r}getQueryById(t){return this.getState().queries.find(n=>n.id===t)}pushQuery(t){Re.dispatch({type:"INSERT_QUERY",payload:{query:{...t}}})}editQuery(t){Re.dispatch({type:"UPDATE_QUERY",payload:t})}async deleteQuery(t){await ki.deleteQueryById(t),Re.dispatch({type:"DELETE_QUERY_BY_ID",payload:{id:t}})}async createQuery(t,n){return await ki.createQuery(t,n)}createTempQuery(t,n){return C6(t,n)}async updateQuery(t,n,r){return await ki.updateQuery(t,n,r)}async pinQuery(t){await ki.pinQuery(t)}async unpinQuery(t){await ki.unpinQuery(t)}}const tn=new W9;class Z9{async upload(t){const{vault:n,fileManager:r}=Re.getState().dailyNotesState.app,o=await t.arrayBuffer(),i=$9(t.type),a=uc(),c=C.moment(),d=n0(c,a);let f;if(d)d instanceof C.TFile&&(f=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,i,d),o));else{const m=await AE(c);f=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,i,m),o)}return r.generateMarkdownLink(f,f.path,"","")}async parseHtml(t){const n=await t.text(),r=document.createElement("html");r.innerHTML=n;const o=Array.from(r.getElementsByClassName("memo"));for(const i of o){const a=i.getElementsByClassName("content")[0],c=C.htmlToMarkdown(a.innerHTML),d=await Te.importMemos(c,!0,C.moment(i.getElementsByClassName("time")[0].innerHTML));Te.pushMemo(d)}}}const $9=e=>{var t;return(t=/^image\/(.+)$/.exec(e))==null?void 0:t[1]},J1=new Z9;var Oa={},Vx={exports:{}},Mi={},Gw={exports:{}},Jw={},uT;function q9(){return uT||(uT=1,function(e){function t(ne,he){var K=ne.length;ne.push(he);e:for(;0<K;){var oe=K-1>>>1,pe=ne[oe];if(0<o(pe,he))ne[oe]=he,ne[K]=pe,K=oe;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var he=ne[0],K=ne.pop();if(K!==he){ne[0]=K;e:for(var oe=0,pe=ne.length,Ee=pe>>>1;oe<Ee;){var je=2*(oe+1)-1,Ae=ne[je],Be=je+1,Je=ne[Be];if(0>o(Ae,K))Be<pe&&0>o(Je,Ae)?(ne[oe]=Je,ne[Be]=K,oe=Be):(ne[oe]=Ae,ne[je]=K,oe=je);else if(Be<pe&&0>o(Je,K))ne[oe]=Je,ne[Be]=K,oe=Be;else break e}}return he}function o(ne,he){var K=ne.sortIndex-he.sortIndex;return K!==0?K:ne.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var d=[],f=[],m=1,g=null,v=3,w=!1,T=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ne){for(var he=n(f);he!==null;){if(he.callback===null)r(f);else if(he.startTime<=ne)r(f),he.sortIndex=he.expirationTime,t(d,he);else break;he=n(f)}}function M(ne){if(S=!1,R(ne),!T)if(n(d)!==null)T=!0,Z(_);else{var he=n(f);he!==null&&ue(M,he.startTime-ne)}}function _(ne,he){T=!1,S&&(S=!1,k(Y),Y=-1),w=!0;var K=v;try{for(R(he),g=n(d);g!==null&&(!(g.expirationTime>he)||ne&&!re());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,v=g.priorityLevel;var pe=oe(g.expirationTime<=he);he=e.unstable_now(),typeof pe=="function"?g.callback=pe:g===n(d)&&r(d),R(he)}else r(d);g=n(d)}if(g!==null)var Ee=!0;else{var je=n(f);je!==null&&ue(M,je.startTime-he),Ee=!1}return Ee}finally{g=null,v=K,w=!1}}var L=!1,z=null,Y=-1,V=5,$=-1;function re(){return!(e.unstable_now()-$<V)}function Q(){if(z!==null){var ne=e.unstable_now();$=ne;var he=!0;try{he=z(!0,ne)}finally{he?ae():(L=!1,z=null)}}else L=!1}var ae;if(typeof P=="function")ae=function(){P(Q)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ie=X.port2;X.port1.onmessage=Q,ae=function(){ie.postMessage(null)}}else ae=function(){I(Q,0)};function Z(ne){z=ne,L||(L=!0,ae())}function ue(ne,he){Y=I(function(){ne(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){T||w||(T=!0,Z(_))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(ne){switch(v){case 1:case 2:case 3:var he=3;break;default:he=v}var K=v;v=he;try{return ne()}finally{v=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,he){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var K=v;v=ne;try{return he()}finally{v=K}},e.unstable_scheduleCallback=function(ne,he,K){var oe=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?oe+K:oe):K=oe,ne){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=K+pe,ne={id:m++,callback:he,priorityLevel:ne,startTime:K,expirationTime:pe,sortIndex:-1},K>oe?(ne.sortIndex=K,t(f,ne),n(d)===null&&ne===n(f)&&(S?(k(Y),Y=-1):S=!0,ue(M,K-oe))):(ne.sortIndex=pe,t(d,ne),T||w||(T=!0,Z(_))),ne},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(ne){var he=v;return function(){var K=v;v=he;try{return ne.apply(this,arguments)}finally{v=K}}}}(Jw)),Jw}var dT;function G9(){return dT||(dT=1,Gw.exports=q9()),Gw.exports}var fT;function J9(){if(fT)return Mi;fT=1;var e=F,t=G9();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(o[s]=l,s=0;s<l.length;s++)r.add(l[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(s){return d.call(g,s)?!0:d.call(m,s)?!1:f.test(s)?g[s]=!0:(m[s]=!0,!1)}function w(s,l,p,b){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function T(s,l,p,b){if(l===null||typeof l>"u"||w(s,l,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(s,l,p,b,x,O,W){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=b,this.attributeNamespace=x,this.mustUseProperty=p,this.propertyName=s,this.type=l,this.sanitizeURL=O,this.removeEmptyString=W}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];I[l]=new S(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(k,P);I[l]=new S(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(k,P);I[l]=new S(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(k,P);I[l]=new S(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,l,p,b){var x=I.hasOwnProperty(l)?I[l]:null;(x!==null?x.type!==0:b||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(T(l,p,x,b)&&(p=null),b||x===null?v(l)&&(p===null?s.removeAttribute(l):s.setAttribute(l,""+p)):x.mustUseProperty?s[x.propertyName]=p===null?x.type===3?!1:"":p:(l=x.attributeName,b=x.attributeNamespace,p===null?s.removeAttribute(l):(x=x.type,p=x===3||x===4&&p===!0?"":""+p,b?s.setAttributeNS(b,l,p):s.setAttribute(l,p))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),re=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),ne=Symbol.iterator;function he(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var K=Object.assign,oe;function pe(s){if(oe===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);oe=l&&l[1]||""}return`
`+oe+s}var Ee=!1;function je(s,l){if(!s||Ee)return"";Ee=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Le){var b=Le}Reflect.construct(s,[],l)}else{try{l.call()}catch(Le){b=Le}s.call(l.prototype)}else{try{throw Error()}catch(Le){b=Le}s()}}catch(Le){if(Le&&b&&typeof Le.stack=="string"){for(var x=Le.stack.split(`
`),O=b.stack.split(`
`),W=x.length-1,de=O.length-1;1<=W&&0<=de&&x[W]!==O[de];)de--;for(;1<=W&&0<=de;W--,de--)if(x[W]!==O[de]){if(W!==1||de!==1)do if(W--,de--,0>de||x[W]!==O[de]){var ye=`
`+x[W].replace(" at new "," at ");return s.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",s.displayName)),ye}while(1<=W&&0<=de);break}}}finally{Ee=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?pe(s):""}function Ae(s){switch(s.tag){case 5:return pe(s.type);case 16:return pe("Lazy");case 13:return pe("Suspense");case 19:return pe("SuspenseList");case 0:case 2:case 15:return s=je(s.type,!1),s;case 11:return s=je(s.type.render,!1),s;case 1:return s=je(s.type,!0),s;default:return""}}function Be(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case L:return"Portal";case V:return"Profiler";case Y:return"StrictMode";case ae:return"Suspense";case X:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case re:return(s.displayName||"Context")+".Consumer";case $:return(s._context.displayName||"Context")+".Provider";case Q:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ie:return l=s.displayName||null,l!==null?l:Be(s.type)||"Memo";case Z:l=s._payload,s=s._init;try{return Be(s(l))}catch{}}return null}function Je(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(l);case 8:return l===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ze(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qe(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function It(s){var l=Qe(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),b=""+s[l];if(!s.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,O=p.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return x.call(this)},set:function(W){b=""+W,O.call(this,W)}}),Object.defineProperty(s,l,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(W){b=""+W},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Zt(s){s._valueTracker||(s._valueTracker=It(s))}function _e(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var p=l.getValue(),b="";return s&&(b=Qe(s)?s.checked?"true":"false":s.value),s=b,s!==p?(l.setValue(s),!0):!1}function tt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function st(s,l){var p=l.checked;return K({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function yt(s,l){var p=l.defaultValue==null?"":l.defaultValue,b=l.checked!=null?l.checked:l.defaultChecked;p=ze(l.value!=null?l.value:p),s._wrapperState={initialChecked:b,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function xt(s,l){l=l.checked,l!=null&&R(s,"checked",l,!1)}function Tt(s,l){xt(s,l);var p=ze(l.value),b=l.type;if(p!=null)b==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(b==="submit"||b==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?zt(s,l.type,p):l.hasOwnProperty("defaultValue")&&zt(s,l.type,ze(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function qt(s,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var b=l.type;if(!(b!=="submit"&&b!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,p||l===s.value||(s.value=l),s.defaultValue=l}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function zt(s,l,p){(l!=="number"||tt(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var $t=Array.isArray;function Gt(s,l,p,b){if(s=s.options,l){l={};for(var x=0;x<p.length;x++)l["$"+p[x]]=!0;for(p=0;p<s.length;p++)x=l.hasOwnProperty("$"+s[p].value),s[p].selected!==x&&(s[p].selected=x),x&&b&&(s[p].defaultSelected=!0)}else{for(p=""+ze(p),l=null,x=0;x<s.length;x++){if(s[x].value===p){s[x].selected=!0,b&&(s[x].defaultSelected=!0);return}l!==null||s[x].disabled||(l=s[x])}l!==null&&(l.selected=!0)}}function un(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Xt(s,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(n(92));if($t(p)){if(1<p.length)throw Error(n(93));p=p[0]}l=p}l==null&&(l=""),p=l}s._wrapperState={initialValue:ze(p)}}function Qn(s,l){var p=ze(l.value),b=ze(l.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),l.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),b!=null&&(s.defaultValue=""+b)}function Cn(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Cr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yr(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Cr(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Rn,Li=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,b,x){MSApp.execUnsafeLocalFunction(function(){return s(l,p,b,x)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(Rn=Rn||document.createElement("div"),Rn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Rn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Eo(s,l){if(l){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=l;return}}s.textContent=l}var Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ri=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach(function(s){Ri.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Uo[l]=Uo[s]})});function xo(s,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||Uo.hasOwnProperty(s)&&Uo[s]?(""+l).trim():l+"px"}function _i(s,l){s=s.style;for(var p in l)if(l.hasOwnProperty(p)){var b=p.indexOf("--")===0,x=xo(p,l[p],b);p==="float"&&(p="cssFloat"),b?s.setProperty(p,x):s[p]=x}}var ua=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ci(s,l){if(l){if(ua[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Bi(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var te=null;function ge(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fe=null,He=null,Ye=null;function et(s){if(s=Jr(s)){if(typeof Fe!="function")throw Error(n(280));var l=s.stateNode;l&&(l=nf(l),Fe(s.stateNode,s.type,l))}}function nt(s){He?Ye?Ye.push(s):Ye=[s]:He=s}function kt(){if(He){var s=He,l=Ye;if(Ye=He=null,et(s),l)for(s=0;s<l.length;s++)et(l[s])}}function en(s,l){return s(l)}function jn(){}var wn=!1;function Lr(s,l,p){if(wn)return s(l,p);wn=!0;try{return en(s,l,p)}finally{wn=!1,(He!==null||Ye!==null)&&(jn(),kt())}}function _n(s,l){var p=s.stateNode;if(p===null)return null;var b=nf(p);if(b===null)return null;p=b[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(s=s.type,b=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!b;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,l,typeof p));return p}var rr=!1;if(c)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){rr=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{rr=!1}function da(s,l,p,b,x,O,W,de,ye){var Le=Array.prototype.slice.call(arguments,3);try{l.apply(p,Le)}catch(Ge){this.onError(Ge)}}var Sn=!1,uo=null,fo=!1,Mr=null,zo={onError:function(s){Sn=!0,uo=s}};function ho(s,l,p,b,x,O,W,de,ye){Sn=!1,uo=null,da.apply(zo,arguments)}function Dl(s,l,p,b,x,O,W,de,ye){if(ho.apply(this,arguments),Sn){if(Sn){var Le=uo;Sn=!1,uo=null}else throw Error(n(198));fo||(fo=!0,Mr=Le)}}function Hi(s){var l=s,p=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,l.flags&4098&&(p=l.return),s=l.return;while(s)}return l.tag===3?p:null}function Yi(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function hc(s){if(Hi(s)!==s)throw Error(n(188))}function Tl(s){var l=s.alternate;if(!l){if(l=Hi(s),l===null)throw Error(n(188));return l!==s?null:s}for(var p=s,b=l;;){var x=p.return;if(x===null)break;var O=x.alternate;if(O===null){if(b=x.return,b!==null){p=b;continue}break}if(x.child===O.child){for(O=x.child;O;){if(O===p)return hc(x),s;if(O===b)return hc(x),l;O=O.sibling}throw Error(n(188))}if(p.return!==b.return)p=x,b=O;else{for(var W=!1,de=x.child;de;){if(de===p){W=!0,p=x,b=O;break}if(de===b){W=!0,b=x,p=O;break}de=de.sibling}if(!W){for(de=O.child;de;){if(de===p){W=!0,p=O,b=x;break}if(de===b){W=!0,b=O,p=x;break}de=de.sibling}if(!W)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:l}function Ha(s){return s=Tl(s),s!==null?fa(s):null}function fa(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=fa(s);if(l!==null)return l;s=s.sibling}return null}var Ya=t.unstable_scheduleCallback,Il=t.unstable_cancelCallback,Ua=t.unstable_shouldYield,pc=t.unstable_requestPaint,Dn=t.unstable_now,_r=t.unstable_getCurrentPriorityLevel,bs=t.unstable_ImmediatePriority,Ss=t.unstable_UserBlockingPriority,Ui=t.unstable_NormalPriority,El=t.unstable_LowPriority,ui=t.unstable_IdlePriority,Vo=null,po=null;function za(s){if(po&&typeof po.onCommitFiberRoot=="function")try{po.onCommitFiberRoot(Vo,s,void 0,(s.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:Is,Ds=Math.log,Ts=Math.LN2;function Is(s){return s>>>=0,s===0?32:31-(Ds(s)/Ts|0)|0}var Wo=64,Va=4194304;function zi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Zo(s,l){var p=s.pendingLanes;if(p===0)return 0;var b=0,x=s.suspendedLanes,O=s.pingedLanes,W=p&268435455;if(W!==0){var de=W&~x;de!==0?b=zi(de):(O&=W,O!==0&&(b=zi(O)))}else W=p&~x,W!==0?b=zi(W):O!==0&&(b=zi(O));if(b===0)return 0;if(l!==0&&l!==b&&!(l&x)&&(x=b&-b,O=l&-l,x>=O||x===16&&(O&4194240)!==0))return l;if(b&4&&(b|=p&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=b;0<l;)p=31-vr(l),x=1<<p,b|=s[p],l&=~x;return b}function N(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H(s,l){for(var p=s.suspendedLanes,b=s.pingedLanes,x=s.expirationTimes,O=s.pendingLanes;0<O;){var W=31-vr(O),de=1<<W,ye=x[W];ye===-1?(!(de&p)||de&b)&&(x[W]=N(de,l)):ye<=l&&(s.expiredLanes|=de),O&=~de}}function J(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ce(){var s=Wo;return Wo<<=1,!(Wo&4194240)&&(Wo=64),s}function Ne(s){for(var l=[],p=0;31>p;p++)l.push(s);return l}function Ie(s,l,p){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-vr(l),s[l]=p}function Ue(s,l){var p=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var b=s.eventTimes;for(s=s.expirationTimes;0<p;){var x=31-vr(p),O=1<<x;l[x]=0,b[x]=-1,s[x]=-1,p&=~O}}function it(s,l){var p=s.entangledLanes|=l;for(s=s.entanglements;p;){var b=31-vr(p),x=1<<b;x&l|s[b]&l&&(s[b]|=l),p&=~x}}var ut=0;function Nt(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Yt,In,Co,mo,Br,di=!1,go=[],Mo=null,qr=null,$o=null,yo=new Map,ha=new Map,pa=[],Qh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hd(s,l){switch(s){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":yo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(l.pointerId)}}function Wa(s,l,p,b,x,O){return s===null||s.nativeEvent!==O?(s={blockedOn:l,domEventName:p,eventSystemFlags:b,nativeEvent:O,targetContainers:[x]},l!==null&&(l=Jr(l),l!==null&&In(l)),s):(s.eventSystemFlags|=b,l=s.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),s)}function Xh(s,l,p,b,x){switch(l){case"focusin":return Mo=Wa(Mo,s,l,p,b,x),!0;case"dragenter":return qr=Wa(qr,s,l,p,b,x),!0;case"mouseover":return $o=Wa($o,s,l,p,b,x),!0;case"pointerover":var O=x.pointerId;return yo.set(O,Wa(yo.get(O)||null,s,l,p,b,x)),!0;case"gotpointercapture":return O=x.pointerId,ha.set(O,Wa(ha.get(O)||null,s,l,p,b,x)),!0}return!1}function fi(s){var l=wa(s.target);if(l!==null){var p=Hi(l);if(p!==null){if(l=p.tag,l===13){if(l=Yi(p),l!==null){s.blockedOn=l,Br(s.priority,function(){Co(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Es(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var p=Cs(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var b=new p.constructor(p.type,p);te=b,p.target.dispatchEvent(b),te=null}else return l=Jr(p),l!==null&&In(l),s.blockedOn=p,!1;l.shift()}return!0}function xl(s,l,p){Es(s)&&p.delete(l)}function Mn(){di=!1,Mo!==null&&Es(Mo)&&(Mo=null),qr!==null&&Es(qr)&&(qr=null),$o!==null&&Es($o)&&($o=null),yo.forEach(xl),ha.forEach(xl)}function on(s,l){s.blockedOn===l&&(s.blockedOn=null,di||(di=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mn)))}function an(s){function l(x){return on(x,s)}if(0<go.length){on(go[0],s);for(var p=1;p<go.length;p++){var b=go[p];b.blockedOn===s&&(b.blockedOn=null)}}for(Mo!==null&&on(Mo,s),qr!==null&&on(qr,s),$o!==null&&on($o,s),yo.forEach(l),ha.forEach(l),p=0;p<pa.length;p++)b=pa[p],b.blockedOn===s&&(b.blockedOn=null);for(;0<pa.length&&(p=pa[0],p.blockedOn===null);)fi(p),p.blockedOn===null&&pa.shift()}var hi=M.ReactCurrentBatchConfig,qo=!0;function mc(s,l,p,b){var x=ut,O=hi.transition;hi.transition=null;try{ut=1,gc(s,l,p,b)}finally{ut=x,hi.transition=O}}function Za(s,l,p,b){var x=ut,O=hi.transition;hi.transition=null;try{ut=4,gc(s,l,p,b)}finally{ut=x,hi.transition=O}}function gc(s,l,p,b){if(qo){var x=Cs(s,l,p,b);if(x===null)op(s,l,b,xs,p),Hd(s,b);else if(Xh(x,s,l,p,b))b.stopPropagation();else if(Hd(s,b),l&4&&-1<Qh.indexOf(s)){for(;x!==null;){var O=Jr(x);if(O!==null&&Yt(O),O=Cs(s,l,p,b),O===null&&op(s,l,b,xs,p),O===x)break;x=O}x!==null&&b.stopPropagation()}else op(s,l,b,null,p)}}var xs=null;function Cs(s,l,p,b){if(xs=null,s=ge(b),s=wa(s),s!==null)if(l=Hi(s),l===null)s=null;else if(p=l.tag,p===13){if(s=Yi(l),s!==null)return s;s=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return xs=s,null}function Tu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_r()){case bs:return 1;case Ss:return 4;case Ui:case El:return 16;case ui:return 536870912;default:return 16}default:return 16}}var Fn=null,Ms=null,pi=null;function Iu(){if(pi)return pi;var s,l=Ms,p=l.length,b,x="value"in Fn?Fn.value:Fn.textContent,O=x.length;for(s=0;s<p&&l[s]===x[s];s++);var W=p-s;for(b=1;b<=W&&l[p-b]===x[O-b];b++);return pi=x.slice(s,1<b?1-b:void 0)}function Vi(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function kr(){return!0}function ks(){return!1}function Nr(s){function l(p,b,x,O,W){this._reactName=p,this._targetInst=x,this.type=b,this.nativeEvent=O,this.target=W,this.currentTarget=null;for(var de in s)s.hasOwnProperty(de)&&(p=s[de],this[de]=p?p(O):O[de]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?kr:ks,this.isPropagationStopped=ks,this}return K(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),l}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=Nr($a),Ns=K({},$a,{view:0,detail:0}),yc=Nr(Ns),lr,qa,or,Cl=K({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==or&&(or&&s.type==="mousemove"?(lr=s.screenX-or.screenX,qa=s.screenY-or.screenY):qa=lr=0,or=s),lr)},movementY:function(s){return"movementY"in s?s.movementY:qa}}),vc=Nr(Cl),Wi=K({},Cl,{dataTransfer:0}),As=Nr(Wi),Hr=K({},Ns,{relatedTarget:0}),En=Nr(Hr),mi=K({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Nr(mi),Yd=K({},$a,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Fs=Nr(Yd),Ud=K({},$a,{data:0}),xu=Nr(Ud),wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ml={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ga(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=kl[s])?!!l[s]:!1}function bc(){return Ga}var Sc=K({},Ns,{key:function(s){if(s.key){var l=wc[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Vi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ml[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(s){return s.type==="keypress"?Vi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Vi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Cu=Nr(Sc),A=K({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=Nr(A),q=K({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),se=Nr(q),Pe=K({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),xe=Nr(Pe),We=K({},Cl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=Nr(We),St=[9,13,27,32],Vt=c&&"CompositionEvent"in window,jt=null;c&&"documentMode"in document&&(jt=document.documentMode);var kn=c&&"TextEvent"in window&&!jt,Yr=c&&(!Vt||jt&&8<jt&&11>=jt),ko=" ",No=!1;function Nl(s,l){switch(s){case"keyup":return St.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ga=!1;function Dc(s,l){switch(s){case"compositionend":return Mu(l);case"keypress":return l.which!==32?null:(No=!0,ko);case"textInput":return s=l.data,s===ko&&No?null:s;default:return null}}function X0(s,l){if(ga)return s==="compositionend"||!Vt&&Nl(s,l)?(s=Iu(),pi=Ms=Fn=null,ga=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Yr&&l.locale!=="ko"?null:l.data;default:return null}}var ew={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!ew[s.type]:l==="textarea"}function ep(s,l,p,b){nt(b),l=Qd(l,"onChange"),0<l.length&&(p=new ma("onChange","change",null,p,b),s.push({event:p,listeners:l}))}var gi=null,Ps=null;function tw(s){Pg(s,0)}function Vd(s){var l=Jt(s);if(_e(l))return s}function nw(s,l){if(s==="change")return l}var Al=!1;if(c){var Go;if(c){var Wd="oninput"in document;if(!Wd){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Wd=typeof Cg.oninput=="function"}Go=Wd}else Go=!1;Al=Go&&(!document.documentMode||9<document.documentMode)}function Mg(){gi&&(gi.detachEvent("onpropertychange",kg),Ps=gi=null)}function kg(s){if(s.propertyName==="value"&&Vd(Ps)){var l=[];ep(l,Ps,s,ge(s)),Lr(tw,l)}}function rw(s,l,p){s==="focusin"?(Mg(),gi=l,Ps=p,gi.attachEvent("onpropertychange",kg)):s==="focusout"&&Mg()}function ow(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Vd(Ps)}function Tc(s,l){if(s==="click")return Vd(l)}function be(s,l){if(s==="input"||s==="change")return Vd(l)}function Ve(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Oe=typeof Object.is=="function"?Object.is:Ve;function mt(s,l){if(Oe(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var p=Object.keys(s),b=Object.keys(l);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var x=p[b];if(!d.call(l,x)||!Oe(s[x],l[x]))return!1}return!0}function Wt(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function pn(s,l){var p=Wt(s);s=0;for(var b;p;){if(p.nodeType===3){if(b=s+p.textContent.length,s<=l&&b>=l)return{node:p,offset:l-s};s=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Wt(p)}}function cr(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?cr(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Nn(){for(var s=window,l=tt();l instanceof s.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)s=l.contentWindow;else break;l=tt(s.document)}return l}function ku(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function iw(s){var l=Nn(),p=s.focusedElem,b=s.selectionRange;if(l!==p&&p&&p.ownerDocument&&cr(p.ownerDocument.documentElement,p)){if(b!==null&&ku(p)){if(l=b.start,s=b.end,s===void 0&&(s=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(s,p.value.length);else if(s=(l=p.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var x=p.textContent.length,O=Math.min(b.start,x);b=b.end===void 0?O:Math.min(b.end,x),!s.extend&&O>b&&(x=b,b=O,O=x),x=pn(p,O);var W=pn(p,b);x&&W&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==W.node||s.focusOffset!==W.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),s.removeAllRanges(),O>b?(s.addRange(l),s.extend(W.node,W.offset)):(l.setEnd(W.node,W.offset),s.addRange(l)))}}for(l=[],s=p;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)s=l[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var yi=c&&"documentMode"in document&&11>=document.documentMode,Ja=null,tp=null,ya=null,Ic=!1;function Nu(s,l,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Ic||Ja==null||Ja!==tt(b)||(b=Ja,"selectionStart"in b&&ku(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),ya&&mt(ya,b)||(ya=b,b=Qd(tp,"onSelect"),0<b.length&&(l=new ma("onSelect","select",null,l,p),s.push({event:l,listeners:b}),l.target=Ja)))}function mn(s,l){var p={};return p[s.toLowerCase()]=l.toLowerCase(),p["Webkit"+s]="webkit"+l,p["Moz"+s]="moz"+l,p}var Ec={animationend:mn("Animation","AnimationEnd"),animationiteration:mn("Animation","AnimationIteration"),animationstart:mn("Animation","AnimationStart"),transitionend:mn("Transition","TransitionEnd")},Zd={},Au={};c&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function $d(s){if(Zd[s])return Zd[s];if(!Ec[s])return s;var l=Ec[s],p;for(p in l)if(l.hasOwnProperty(p)&&p in Au)return Zd[s]=l[p];return s}var Ng=$d("animationend"),Ag=$d("animationiteration"),Fu=$d("animationstart"),Ka=$d("transitionend"),Pu=new Map,np="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(s,l){Pu.set(s,l),i(l,[s])}for(var qd=0;qd<np.length;qd++){var Gd=np[qd],Jd=Gd.toLowerCase(),Fg=Gd[0].toUpperCase()+Gd.slice(1);Zi(Jd,"on"+Fg)}Zi(Ng,"onAnimationEnd"),Zi(Ag,"onAnimationIteration"),Zi(Fu,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(Ka,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function Ou(s,l,p){var b=s.type||"unknown-event";s.currentTarget=p,Dl(b,l,void 0,s),s.currentTarget=null}function Pg(s,l){l=(l&4)!==0;for(var p=0;p<s.length;p++){var b=s[p],x=b.event;b=b.listeners;e:{var O=void 0;if(l)for(var W=b.length-1;0<=W;W--){var de=b[W],ye=de.instance,Le=de.currentTarget;if(de=de.listener,ye!==O&&x.isPropagationStopped())break e;Ou(x,de,Le),O=ye}else for(W=0;W<b.length;W++){if(de=b[W],ye=de.instance,Le=de.currentTarget,de=de.listener,ye!==O&&x.isPropagationStopped())break e;Ou(x,de,Le),O=ye}}}if(fo)throw s=Mr,fo=!1,Mr=null,s}function Bn(s,l){var p=l[tf];p===void 0&&(p=l[tf]=new Set);var b=s+"__bubble";p.has(b)||(Kd(l,s,2,!1),p.add(b))}function rp(s,l,p){var b=0;l&&(b|=4),Kd(p,s,b,l)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Os(s){if(!s[Pl]){s[Pl]=!0,r.forEach(function(p){p!=="selectionchange"&&(Fl.has(p)||rp(p,!1,s),rp(p,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Pl]||(l[Pl]=!0,rp("selectionchange",!1,l))}}function Kd(s,l,p,b){switch(Tu(l)){case 1:var x=mc;break;case 4:x=Za;break;default:x=gc}p=x.bind(null,l,p,s),x=void 0,!rr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),b?x!==void 0?s.addEventListener(l,p,{capture:!0,passive:x}):s.addEventListener(l,p,!0):x!==void 0?s.addEventListener(l,p,{passive:x}):s.addEventListener(l,p,!1)}function op(s,l,p,b,x){var O=b;if(!(l&1)&&!(l&2)&&b!==null)e:for(;;){if(b===null)return;var W=b.tag;if(W===3||W===4){var de=b.stateNode.containerInfo;if(de===x||de.nodeType===8&&de.parentNode===x)break;if(W===4)for(W=b.return;W!==null;){var ye=W.tag;if((ye===3||ye===4)&&(ye=W.stateNode.containerInfo,ye===x||ye.nodeType===8&&ye.parentNode===x))return;W=W.return}for(;de!==null;){if(W=wa(de),W===null)return;if(ye=W.tag,ye===5||ye===6){b=O=W;continue e}de=de.parentNode}}b=b.return}Lr(function(){var Le=O,Ge=ge(p),Xe=[];e:{var qe=Pu.get(s);if(qe!==void 0){var gt=ma,bt=s;switch(s){case"keypress":if(Vi(p)===0)break e;case"keydown":case"keyup":gt=Cu;break;case"focusin":bt="focus",gt=En;break;case"focusout":bt="blur",gt=En;break;case"beforeblur":case"afterblur":gt=En;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=As;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=se;break;case Ng:case Ag:case Fu:gt=Eu;break;case Ka:gt=xe;break;case"scroll":gt=yc;break;case"wheel":gt=rt;break;case"copy":case"cut":case"paste":gt=Fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=B}var Dt=(l&4)!==0,ir=!Dt&&s==="scroll",Ce=Dt?qe!==null?qe+"Capture":null:qe;Dt=[];for(var we=Le,Me;we!==null;){Me=we;var at=Me.stateNode;if(Me.tag===5&&at!==null&&(Me=at,Ce!==null&&(at=_n(we,Ce),at!=null&&Dt.push(xc(we,at,Me)))),ir)break;we=we.return}0<Dt.length&&(qe=new gt(qe,bt,null,p,Ge),Xe.push({event:qe,listeners:Dt}))}}if(!(l&7)){e:{if(qe=s==="mouseover"||s==="pointerover",gt=s==="mouseout"||s==="pointerout",qe&&p!==te&&(bt=p.relatedTarget||p.fromElement)&&(wa(bt)||bt[Jo]))break e;if((gt||qe)&&(qe=Ge.window===Ge?Ge:(qe=Ge.ownerDocument)?qe.defaultView||qe.parentWindow:window,gt?(bt=p.relatedTarget||p.toElement,gt=Le,bt=bt?wa(bt):null,bt!==null&&(ir=Hi(bt),bt!==ir||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(gt=null,bt=Le),gt!==bt)){if(Dt=vc,at="onMouseLeave",Ce="onMouseEnter",we="mouse",(s==="pointerout"||s==="pointerover")&&(Dt=B,at="onPointerLeave",Ce="onPointerEnter",we="pointer"),ir=gt==null?qe:Jt(gt),Me=bt==null?qe:Jt(bt),qe=new Dt(at,we+"leave",gt,p,Ge),qe.target=ir,qe.relatedTarget=Me,at=null,wa(Ge)===Le&&(Dt=new Dt(Ce,we+"enter",bt,p,Ge),Dt.target=Me,Dt.relatedTarget=ir,at=Dt),ir=at,gt&&bt)t:{for(Dt=gt,Ce=bt,we=0,Me=Dt;Me;Me=Cc(Me))we++;for(Me=0,at=Ce;at;at=Cc(at))Me++;for(;0<we-Me;)Dt=Cc(Dt),we--;for(;0<Me-we;)Ce=Cc(Ce),Me--;for(;we--;){if(Dt===Ce||Ce!==null&&Dt===Ce.alternate)break t;Dt=Cc(Dt),Ce=Cc(Ce)}Dt=null}else Dt=null;gt!==null&&ur(Xe,qe,gt,Dt,!1),bt!==null&&ir!==null&&ur(Xe,ir,bt,Dt,!0)}}e:{if(qe=Le?Jt(Le):window,gt=qe.nodeName&&qe.nodeName.toLowerCase(),gt==="select"||gt==="input"&&qe.type==="file")var Et=nw;else if(zd(qe))if(Al)Et=be;else{Et=ow;var Ft=rw}else(gt=qe.nodeName)&&gt.toLowerCase()==="input"&&(qe.type==="checkbox"||qe.type==="radio")&&(Et=Tc);if(Et&&(Et=Et(s,Le))){ep(Xe,Et,p,Ge);break e}Ft&&Ft(s,qe,Le),s==="focusout"&&(Ft=qe._wrapperState)&&Ft.controlled&&qe.type==="number"&&zt(qe,"number",qe.value)}switch(Ft=Le?Jt(Le):window,s){case"focusin":(zd(Ft)||Ft.contentEditable==="true")&&(Ja=Ft,tp=Le,ya=null);break;case"focusout":ya=tp=Ja=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,Nu(Xe,p,Ge);break;case"selectionchange":if(yi)break;case"keydown":case"keyup":Nu(Xe,p,Ge)}var Pt;if(Vt)e:{switch(s){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else ga?Nl(s,p)&&(Ht="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Ht="onCompositionStart");Ht&&(Yr&&p.locale!=="ko"&&(ga||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&ga&&(Pt=Iu()):(Fn=Ge,Ms="value"in Fn?Fn.value:Fn.textContent,ga=!0)),Ft=Qd(Le,Ht),0<Ft.length&&(Ht=new xu(Ht,s,null,p,Ge),Xe.push({event:Ht,listeners:Ft}),Pt?Ht.data=Pt:(Pt=Mu(p),Pt!==null&&(Ht.data=Pt)))),(Pt=kn?Dc(s,p):X0(s,p))&&(Le=Qd(Le,"onBeforeInput"),0<Le.length&&(Ge=new xu("onBeforeInput","beforeinput",null,p,Ge),Xe.push({event:Ge,listeners:Le}),Ge.data=Pt))}Pg(Xe,l)})}function xc(s,l,p){return{instance:s,listener:l,currentTarget:p}}function Qd(s,l){for(var p=l+"Capture",b=[];s!==null;){var x=s,O=x.stateNode;x.tag===5&&O!==null&&(x=O,O=_n(s,p),O!=null&&b.unshift(xc(s,O,x)),O=_n(s,l),O!=null&&b.push(xc(s,O,x))),s=s.return}return b}function Cc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ur(s,l,p,b,x){for(var O=l._reactName,W=[];p!==null&&p!==b;){var de=p,ye=de.alternate,Le=de.stateNode;if(ye!==null&&ye===b)break;de.tag===5&&Le!==null&&(de=Le,x?(ye=_n(p,O),ye!=null&&W.unshift(xc(p,ye,de))):x||(ye=_n(p,O),ye!=null&&W.push(xc(p,ye,de)))),p=p.return}W.length!==0&&s.push({event:l,listeners:W})}var Gr=/\r\n?/g,aw=/\u0000|\uFFFD/g;function Og(s){return(typeof s=="string"?s:""+s).replace(Gr,`
`).replace(aw,"")}function ju(s,l,p){if(l=Og(l),Og(s)!==l&&p)throw Error(n(425))}function Xd(){}var Lu=null,Ol=null;function Ru(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var js=typeof setTimeout=="function"?setTimeout:void 0,_u=typeof clearTimeout=="function"?clearTimeout:void 0,Mc=typeof Promise=="function"?Promise:void 0,ef=typeof queueMicrotask=="function"?queueMicrotask:typeof Mc<"u"?function(s){return Mc.resolve(null).then(s).catch(kc)}:js;function kc(s){setTimeout(function(){throw s})}function ip(s,l){var p=l,b=0;do{var x=p.nextSibling;if(s.removeChild(p),x&&x.nodeType===8)if(p=x.data,p==="/$"){if(b===0){s.removeChild(x),an(l);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=x}while(p);an(l)}function Ls(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function jg(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return s;l--}else p==="/$"&&l++}s=s.previousSibling}return null}var Nc=Math.random().toString(36).slice(2),va="__reactFiber$"+Nc,Rs="__reactProps$"+Nc,Jo="__reactContainer$"+Nc,tf="__reactEvents$"+Nc,G="__reactListeners$"+Nc,Ac="__reactHandles$"+Nc;function wa(s){var l=s[va];if(l)return l;for(var p=s.parentNode;p;){if(l=p[Jo]||p[va]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(s=jg(s);s!==null;){if(p=s[va])return p;s=jg(s)}return l}s=p,p=s.parentNode}return null}function Jr(s){return s=s[va]||s[Jo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Jt(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function nf(s){return s[Rs]||null}var ap=[],Fc=-1;function Ao(s){return{current:s}}function Hn(s){0>Fc||(s.current=ap[Fc],ap[Fc]=null,Fc--)}function Ln(s,l){Fc++,ap[Fc]=s.current,s.current=l}var _s={},Kr=Ao(_s),Fo=Ao(!1),vo=_s;function Pc(s,l){var p=s.type.contextTypes;if(!p)return _s;var b=s.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===l)return b.__reactInternalMemoizedMaskedChildContext;var x={},O;for(O in p)x[O]=l[O];return b&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=x),x}function Po(s){return s=s.childContextTypes,s!=null}function rf(){Hn(Fo),Hn(Kr)}function Lg(s,l,p){if(Kr.current!==_s)throw Error(n(168));Ln(Kr,l),Ln(Fo,p)}function Rg(s,l,p){var b=s.stateNode;if(l=l.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var x in b)if(!(x in l))throw Error(n(108,Je(s)||"Unknown",x));return K({},p,b)}function vi(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||_s,vo=Kr.current,Ln(Kr,s),Ln(Fo,Fo.current),!0}function _g(s,l,p){var b=s.stateNode;if(!b)throw Error(n(169));p?(s=Rg(s,l,vo),b.__reactInternalMemoizedMergedChildContext=s,Hn(Fo),Hn(Kr),Ln(Kr,s)):Hn(Fo),Ln(Fo,p)}var Xa=null,of=!1,sp=!1;function Bg(s){Xa===null?Xa=[s]:Xa.push(s)}function jl(s){of=!0,Bg(s)}function Bs(){if(!sp&&Xa!==null){sp=!0;var s=0,l=ut;try{var p=Xa;for(ut=1;s<p.length;s++){var b=p[s];do b=b(!0);while(b!==null)}Xa=null,of=!1}catch(x){throw Xa!==null&&(Xa=Xa.slice(s+1)),Ya(bs,Bs),x}finally{ut=l,sp=!1}}return null}var Oc=[],Qr=0,af=null,sf=0,wi=[],bi=0,Ll=null,ba=1,Sa="";function Rl(s,l){Oc[Qr++]=sf,Oc[Qr++]=af,af=s,sf=l}function Hg(s,l,p){wi[bi++]=ba,wi[bi++]=Sa,wi[bi++]=Ll,Ll=s;var b=ba;s=Sa;var x=32-vr(b)-1;b&=~(1<<x),p+=1;var O=32-vr(l)+x;if(30<O){var W=x-x%5;O=(b&(1<<W)-1).toString(32),b>>=W,x-=W,ba=1<<32-vr(l)+x|p<<x|b,Sa=O+s}else ba=1<<O|p<<x|b,Sa=s}function Bu(s){s.return!==null&&(Rl(s,1),Hg(s,1,0))}function _l(s){for(;s===af;)af=Oc[--Qr],Oc[Qr]=null,sf=Oc[--Qr],Oc[Qr]=null;for(;s===Ll;)Ll=wi[--bi],wi[bi]=null,Sa=wi[--bi],wi[bi]=null,ba=wi[--bi],wi[bi]=null}var Xr=null,Ko=null,Yn=!1,$i=null;function Da(s,l){var p=ni(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=s,l=s.deletions,l===null?(s.deletions=[p],s.flags|=16):l.push(p)}function lf(s,l){switch(s.tag){case 5:var p=s.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Xr=s,Ko=Ls(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Xr=s,Ko=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=Ll!==null?{id:ba,overflow:Sa}:null,s.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=ni(18,null,null,0),p.stateNode=l,p.return=s,s.child=p,Xr=s,Ko=null,!0):!1;default:return!1}}function es(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Oo(s){if(Yn){var l=Ko;if(l){var p=l;if(!lf(s,l)){if(es(s))throw Error(n(418));l=Ls(p.nextSibling);var b=Xr;l&&lf(s,l)?Da(b,p):(s.flags=s.flags&-4097|2,Yn=!1,Xr=s)}}else{if(es(s))throw Error(n(418));s.flags=s.flags&-4097|2,Yn=!1,Xr=s}}}function Yg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Xr=s}function Hu(s){if(s!==Xr)return!1;if(!Yn)return Yg(s),Yn=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Ru(s.type,s.memoizedProps)),l&&(l=Ko)){if(es(s))throw lp(),Error(n(418));for(;l;)Da(s,l),l=Ls(l.nextSibling)}if(Yg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(l===0){Ko=Ls(s.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}s=s.nextSibling}Ko=null}}else Ko=Xr?Ls(s.stateNode.nextSibling):null;return!0}function lp(){for(var s=Ko;s;)s=Ls(s.nextSibling)}function Ta(){Ko=Xr=null,Yn=!1}function Ia(s){$i===null?$i=[s]:$i.push(s)}var Ug=M.ReactCurrentBatchConfig;function qi(s,l){if(s&&s.defaultProps){l=K({},l),s=s.defaultProps;for(var p in s)l[p]===void 0&&(l[p]=s[p]);return l}return l}var Bl=Ao(null),cf=null,Hl=null,wr=null;function Yu(){wr=Hl=cf=null}function uf(s){var l=Bl.current;Hn(Bl),s._currentValue=l}function Si(s,l,p){for(;s!==null;){var b=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,b!==null&&(b.childLanes|=l)):b!==null&&(b.childLanes&l)!==l&&(b.childLanes|=l),s===p)break;s=s.return}}function Hs(s,l){cf=s,wr=Hl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&l&&(no=!0),s.firstContext=null)}function wo(s){var l=s._currentValue;if(wr!==s)if(s={context:s,memoizedValue:l,next:null},Hl===null){if(cf===null)throw Error(n(308));Hl=s,cf.dependencies={lanes:0,firstContext:s}}else Hl=Hl.next=s;return l}var Qo=null;function df(s){Qo===null?Qo=[s]:Qo.push(s)}function eo(s,l,p,b){var x=l.interleaved;return x===null?(p.next=p,df(l)):(p.next=x.next,x.next=p),l.interleaved=p,Gi(s,b)}function Gi(s,l){s.lanes|=l;var p=s.alternate;for(p!==null&&(p.lanes|=l),p=s,s=s.return;s!==null;)s.childLanes|=l,p=s.alternate,p!==null&&(p.childLanes|=l),p=s,s=s.return;return p.tag===3?p.stateNode:null}var Ys=!1;function cp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zg(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ji(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function Us(s,l,p){var b=s.updateQueue;if(b===null)return null;if(b=b.shared,fn&2){var x=b.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),b.pending=l,Gi(s,p)}return x=b.interleaved,x===null?(l.next=l,df(b)):(l.next=x.next,x.next=l),b.interleaved=l,Gi(s,p)}function zs(s,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var b=l.lanes;b&=s.pendingLanes,p|=b,l.lanes=p,it(s,p)}}function up(s,l){var p=s.updateQueue,b=s.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var x=null,O=null;if(p=p.firstBaseUpdate,p!==null){do{var W={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};O===null?x=O=W:O=O.next=W,p=p.next}while(p!==null);O===null?x=O=l:O=O.next=l}else x=O=l;p={baseState:b.baseState,firstBaseUpdate:x,lastBaseUpdate:O,shared:b.shared,effects:b.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=l:s.next=l,p.lastBaseUpdate=l}function ff(s,l,p,b){var x=s.updateQueue;Ys=!1;var O=x.firstBaseUpdate,W=x.lastBaseUpdate,de=x.shared.pending;if(de!==null){x.shared.pending=null;var ye=de,Le=ye.next;ye.next=null,W===null?O=Le:W.next=Le,W=ye;var Ge=s.alternate;Ge!==null&&(Ge=Ge.updateQueue,de=Ge.lastBaseUpdate,de!==W&&(de===null?Ge.firstBaseUpdate=Le:de.next=Le,Ge.lastBaseUpdate=ye))}if(O!==null){var Xe=x.baseState;W=0,Ge=Le=ye=null,de=O;do{var qe=de.lane,gt=de.eventTime;if((b&qe)===qe){Ge!==null&&(Ge=Ge.next={eventTime:gt,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var bt=s,Dt=de;switch(qe=l,gt=p,Dt.tag){case 1:if(bt=Dt.payload,typeof bt=="function"){Xe=bt.call(gt,Xe,qe);break e}Xe=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Dt.payload,qe=typeof bt=="function"?bt.call(gt,Xe,qe):bt,qe==null)break e;Xe=K({},Xe,qe);break e;case 2:Ys=!0}}de.callback!==null&&de.lane!==0&&(s.flags|=64,qe=x.effects,qe===null?x.effects=[de]:qe.push(de))}else gt={eventTime:gt,lane:qe,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Ge===null?(Le=Ge=gt,ye=Xe):Ge=Ge.next=gt,W|=qe;if(de=de.next,de===null){if(de=x.shared.pending,de===null)break;qe=de,de=qe.next,qe.next=null,x.lastBaseUpdate=qe,x.shared.pending=null}}while(!0);if(Ge===null&&(ye=Xe),x.baseState=ye,x.firstBaseUpdate=Le,x.lastBaseUpdate=Ge,l=x.shared.interleaved,l!==null){x=l;do W|=x.lane,x=x.next;while(x!==l)}else O===null&&(x.shared.lanes=0);Js|=W,s.lanes=W,s.memoizedState=Xe}}function Vg(s,l,p){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var b=s[l],x=b.callback;if(x!==null){if(b.callback=null,b=p,typeof x!="function")throw Error(n(191,x));x.call(b)}}}var jc=new e.Component().refs;function dp(s,l,p,b){l=s.memoizedState,p=p(b,l),p=p==null?l:K({},l,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var hf={isMounted:function(s){return(s=s._reactInternals)?Hi(s)===s:!1},enqueueSetState:function(s,l,p){s=s._reactInternals;var b=Do(),x=Qs(s),O=Ji(b,x);O.payload=l,p!=null&&(O.callback=p),l=Us(s,O,x),l!==null&&(ea(l,s,x,b),zs(l,s,x))},enqueueReplaceState:function(s,l,p){s=s._reactInternals;var b=Do(),x=Qs(s),O=Ji(b,x);O.tag=1,O.payload=l,p!=null&&(O.callback=p),l=Us(s,O,x),l!==null&&(ea(l,s,x,b),zs(l,s,x))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var p=Do(),b=Qs(s),x=Ji(p,b);x.tag=2,l!=null&&(x.callback=l),l=Us(s,x,b),l!==null&&(ea(l,s,b,p),zs(l,s,b))}};function pf(s,l,p,b,x,O,W){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(b,O,W):l.prototype&&l.prototype.isPureReactComponent?!mt(p,b)||!mt(x,O):!0}function fp(s,l,p){var b=!1,x=_s,O=l.contextType;return typeof O=="object"&&O!==null?O=wo(O):(x=Po(l)?vo:Kr.current,b=l.contextTypes,O=(b=b!=null)?Pc(s,x):_s),l=new l(p,O),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=hf,s.stateNode=l,l._reactInternals=s,b&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=O),l}function Wg(s,l,p,b){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,b),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,b),l.state!==s&&hf.enqueueReplaceState(l,l.state,null)}function hp(s,l,p,b){var x=s.stateNode;x.props=p,x.state=s.memoizedState,x.refs=jc,cp(s);var O=l.contextType;typeof O=="object"&&O!==null?x.context=wo(O):(O=Po(l)?vo:Kr.current,x.context=Pc(s,O)),x.state=s.memoizedState,O=l.getDerivedStateFromProps,typeof O=="function"&&(dp(s,l,O,p),x.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&hf.enqueueReplaceState(x,x.state,null),ff(s,p,x,b),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Uu(s,l,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var b=p.stateNode}if(!b)throw Error(n(147,s));var x=b,O=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===O?l.ref:(l=function(W){var de=x.refs;de===jc&&(de=x.refs={}),W===null?delete de[O]:de[O]=W},l._stringRef=O,l)}if(typeof s!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,s))}return s}function zu(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function mf(s){var l=s._init;return l(s._payload)}function Zg(s){function l(Ce,we){if(s){var Me=Ce.deletions;Me===null?(Ce.deletions=[we],Ce.flags|=16):Me.push(we)}}function p(Ce,we){if(!s)return null;for(;we!==null;)l(Ce,we),we=we.sibling;return null}function b(Ce,we){for(Ce=new Map;we!==null;)we.key!==null?Ce.set(we.key,we):Ce.set(we.index,we),we=we.sibling;return Ce}function x(Ce,we){return Ce=tl(Ce,we),Ce.index=0,Ce.sibling=null,Ce}function O(Ce,we,Me){return Ce.index=Me,s?(Me=Ce.alternate,Me!==null?(Me=Me.index,Me<we?(Ce.flags|=2,we):Me):(Ce.flags|=2,we)):(Ce.flags|=1048576,we)}function W(Ce){return s&&Ce.alternate===null&&(Ce.flags|=2),Ce}function de(Ce,we,Me,at){return we===null||we.tag!==6?(we=Jp(Me,Ce.mode,at),we.return=Ce,we):(we=x(we,Me),we.return=Ce,we)}function ye(Ce,we,Me,at){var Et=Me.type;return Et===z?Ge(Ce,we,Me.props.children,at,Me.key):we!==null&&(we.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Z&&mf(Et)===we.type)?(at=x(we,Me.props),at.ref=Uu(Ce,we,Me),at.return=Ce,at):(at=Vf(Me.type,Me.key,Me.props,null,Ce.mode,at),at.ref=Uu(Ce,we,Me),at.return=Ce,at)}function Le(Ce,we,Me,at){return we===null||we.tag!==4||we.stateNode.containerInfo!==Me.containerInfo||we.stateNode.implementation!==Me.implementation?(we=Kp(Me,Ce.mode,at),we.return=Ce,we):(we=x(we,Me.children||[]),we.return=Ce,we)}function Ge(Ce,we,Me,at,Et){return we===null||we.tag!==7?(we=$l(Me,Ce.mode,at,Et),we.return=Ce,we):(we=x(we,Me),we.return=Ce,we)}function Xe(Ce,we,Me){if(typeof we=="string"&&we!==""||typeof we=="number")return we=Jp(""+we,Ce.mode,Me),we.return=Ce,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case _:return Me=Vf(we.type,we.key,we.props,null,Ce.mode,Me),Me.ref=Uu(Ce,null,we),Me.return=Ce,Me;case L:return we=Kp(we,Ce.mode,Me),we.return=Ce,we;case Z:var at=we._init;return Xe(Ce,at(we._payload),Me)}if($t(we)||he(we))return we=$l(we,Ce.mode,Me,null),we.return=Ce,we;zu(Ce,we)}return null}function qe(Ce,we,Me,at){var Et=we!==null?we.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Et!==null?null:de(Ce,we,""+Me,at);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case _:return Me.key===Et?ye(Ce,we,Me,at):null;case L:return Me.key===Et?Le(Ce,we,Me,at):null;case Z:return Et=Me._init,qe(Ce,we,Et(Me._payload),at)}if($t(Me)||he(Me))return Et!==null?null:Ge(Ce,we,Me,at,null);zu(Ce,Me)}return null}function gt(Ce,we,Me,at,Et){if(typeof at=="string"&&at!==""||typeof at=="number")return Ce=Ce.get(Me)||null,de(we,Ce,""+at,Et);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case _:return Ce=Ce.get(at.key===null?Me:at.key)||null,ye(we,Ce,at,Et);case L:return Ce=Ce.get(at.key===null?Me:at.key)||null,Le(we,Ce,at,Et);case Z:var Ft=at._init;return gt(Ce,we,Me,Ft(at._payload),Et)}if($t(at)||he(at))return Ce=Ce.get(Me)||null,Ge(we,Ce,at,Et,null);zu(we,at)}return null}function bt(Ce,we,Me,at){for(var Et=null,Ft=null,Pt=we,Ht=we=0,Fr=null;Pt!==null&&Ht<Me.length;Ht++){Pt.index>Ht?(Fr=Pt,Pt=null):Fr=Pt.sibling;var gn=qe(Ce,Pt,Me[Ht],at);if(gn===null){Pt===null&&(Pt=Fr);break}s&&Pt&&gn.alternate===null&&l(Ce,Pt),we=O(gn,we,Ht),Ft===null?Et=gn:Ft.sibling=gn,Ft=gn,Pt=Fr}if(Ht===Me.length)return p(Ce,Pt),Yn&&Rl(Ce,Ht),Et;if(Pt===null){for(;Ht<Me.length;Ht++)Pt=Xe(Ce,Me[Ht],at),Pt!==null&&(we=O(Pt,we,Ht),Ft===null?Et=Pt:Ft.sibling=Pt,Ft=Pt);return Yn&&Rl(Ce,Ht),Et}for(Pt=b(Ce,Pt);Ht<Me.length;Ht++)Fr=gt(Pt,Ce,Ht,Me[Ht],at),Fr!==null&&(s&&Fr.alternate!==null&&Pt.delete(Fr.key===null?Ht:Fr.key),we=O(Fr,we,Ht),Ft===null?Et=Fr:Ft.sibling=Fr,Ft=Fr);return s&&Pt.forEach(function(nl){return l(Ce,nl)}),Yn&&Rl(Ce,Ht),Et}function Dt(Ce,we,Me,at){var Et=he(Me);if(typeof Et!="function")throw Error(n(150));if(Me=Et.call(Me),Me==null)throw Error(n(151));for(var Ft=Et=null,Pt=we,Ht=we=0,Fr=null,gn=Me.next();Pt!==null&&!gn.done;Ht++,gn=Me.next()){Pt.index>Ht?(Fr=Pt,Pt=null):Fr=Pt.sibling;var nl=qe(Ce,Pt,gn.value,at);if(nl===null){Pt===null&&(Pt=Fr);break}s&&Pt&&nl.alternate===null&&l(Ce,Pt),we=O(nl,we,Ht),Ft===null?Et=nl:Ft.sibling=nl,Ft=nl,Pt=Fr}if(gn.done)return p(Ce,Pt),Yn&&Rl(Ce,Ht),Et;if(Pt===null){for(;!gn.done;Ht++,gn=Me.next())gn=Xe(Ce,gn.value,at),gn!==null&&(we=O(gn,we,Ht),Ft===null?Et=gn:Ft.sibling=gn,Ft=gn);return Yn&&Rl(Ce,Ht),Et}for(Pt=b(Ce,Pt);!gn.done;Ht++,gn=Me.next())gn=gt(Pt,Ce,Ht,gn.value,at),gn!==null&&(s&&gn.alternate!==null&&Pt.delete(gn.key===null?Ht:gn.key),we=O(gn,we,Ht),Ft===null?Et=gn:Ft.sibling=gn,Ft=gn);return s&&Pt.forEach(function(xw){return l(Ce,xw)}),Yn&&Rl(Ce,Ht),Et}function ir(Ce,we,Me,at){if(typeof Me=="object"&&Me!==null&&Me.type===z&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case _:e:{for(var Et=Me.key,Ft=we;Ft!==null;){if(Ft.key===Et){if(Et=Me.type,Et===z){if(Ft.tag===7){p(Ce,Ft.sibling),we=x(Ft,Me.props.children),we.return=Ce,Ce=we;break e}}else if(Ft.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Z&&mf(Et)===Ft.type){p(Ce,Ft.sibling),we=x(Ft,Me.props),we.ref=Uu(Ce,Ft,Me),we.return=Ce,Ce=we;break e}p(Ce,Ft);break}else l(Ce,Ft);Ft=Ft.sibling}Me.type===z?(we=$l(Me.props.children,Ce.mode,at,Me.key),we.return=Ce,Ce=we):(at=Vf(Me.type,Me.key,Me.props,null,Ce.mode,at),at.ref=Uu(Ce,we,Me),at.return=Ce,Ce=at)}return W(Ce);case L:e:{for(Ft=Me.key;we!==null;){if(we.key===Ft)if(we.tag===4&&we.stateNode.containerInfo===Me.containerInfo&&we.stateNode.implementation===Me.implementation){p(Ce,we.sibling),we=x(we,Me.children||[]),we.return=Ce,Ce=we;break e}else{p(Ce,we);break}else l(Ce,we);we=we.sibling}we=Kp(Me,Ce.mode,at),we.return=Ce,Ce=we}return W(Ce);case Z:return Ft=Me._init,ir(Ce,we,Ft(Me._payload),at)}if($t(Me))return bt(Ce,we,Me,at);if(he(Me))return Dt(Ce,we,Me,at);zu(Ce,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,we!==null&&we.tag===6?(p(Ce,we.sibling),we=x(we,Me),we.return=Ce,Ce=we):(p(Ce,we),we=Jp(Me,Ce.mode,at),we.return=Ce,Ce=we),W(Ce)):p(Ce,we)}return ir}var Vs=Zg(!0),pp=Zg(!1),Lc={},Ki=Ao(Lc),Ws=Ao(Lc),Vu=Ao(Lc);function Zs(s){if(s===Lc)throw Error(n(174));return s}function gf(s,l){switch(Ln(Vu,l),Ln(Ws,s),Ln(Ki,Lc),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:yr(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=yr(l,s)}Hn(Ki),Ln(Ki,l)}function Rc(){Hn(Ki),Hn(Ws),Hn(Vu)}function mp(s){Zs(Vu.current);var l=Zs(Ki.current),p=yr(l,s.type);l!==p&&(Ln(Ws,s),Ln(Ki,p))}function gp(s){Ws.current===s&&(Hn(Ki),Hn(Ws))}var Un=Ao(0);function Wu(s){for(var l=s;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Zu=[];function yp(){for(var s=0;s<Zu.length;s++)Zu[s]._workInProgressVersionPrimary=null;Zu.length=0}var _c=M.ReactCurrentDispatcher,Kt=M.ReactCurrentBatchConfig,Yl=0,Wn=null,Zn=null,br=null,yf=!1,$u=!1,to=0,sw=0;function Sr(){throw Error(n(321))}function qu(s,l){if(l===null)return!1;for(var p=0;p<l.length&&p<s.length;p++)if(!Oe(s[p],l[p]))return!1;return!0}function vf(s,l,p,b,x,O){if(Yl=O,Wn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,_c.current=s===null||s.memoizedState===null?Ju:cw,s=p(b,x),$u){O=0;do{if($u=!1,to=0,25<=O)throw Error(n(301));O+=1,br=Zn=null,l.updateQueue=null,_c.current=Xg,s=p(b,x)}while($u)}if(_c.current=rs,l=Zn!==null&&Zn.next!==null,Yl=0,br=Zn=Wn=null,yf=!1,l)throw Error(n(300));return s}function wf(){var s=to!==0;return to=0,s}function Xn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Wn.memoizedState=br=s:br=br.next=s,br}function Dr(){if(Zn===null){var s=Wn.alternate;s=s!==null?s.memoizedState:null}else s=Zn.next;var l=br===null?Wn.memoizedState:br.next;if(l!==null)br=l,Zn=s;else{if(s===null)throw Error(n(310));Zn=s,s={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},br===null?Wn.memoizedState=br=s:br=br.next=s}return br}function Ul(s,l){return typeof l=="function"?l(s):l}function bf(s){var l=Dr(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var b=Zn,x=b.baseQueue,O=p.pending;if(O!==null){if(x!==null){var W=x.next;x.next=O.next,O.next=W}b.baseQueue=x=O,p.pending=null}if(x!==null){O=x.next,b=b.baseState;var de=W=null,ye=null,Le=O;do{var Ge=Le.lane;if((Yl&Ge)===Ge)ye!==null&&(ye=ye.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),b=Le.hasEagerState?Le.eagerState:s(b,Le.action);else{var Xe={lane:Ge,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};ye===null?(de=ye=Xe,W=b):ye=ye.next=Xe,Wn.lanes|=Ge,Js|=Ge}Le=Le.next}while(Le!==null&&Le!==O);ye===null?W=b:ye.next=de,Oe(b,l.memoizedState)||(no=!0),l.memoizedState=b,l.baseState=W,l.baseQueue=ye,p.lastRenderedState=b}if(s=p.interleaved,s!==null){x=s;do O=x.lane,Wn.lanes|=O,Js|=O,x=x.next;while(x!==s)}else x===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function Bc(s){var l=Dr(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var b=p.dispatch,x=p.pending,O=l.memoizedState;if(x!==null){p.pending=null;var W=x=x.next;do O=s(O,W.action),W=W.next;while(W!==x);Oe(O,l.memoizedState)||(no=!0),l.memoizedState=O,l.baseQueue===null&&(l.baseState=O),p.lastRenderedState=O}return[O,b]}function vp(){}function Sf(s,l){var p=Wn,b=Dr(),x=l(),O=!Oe(b.memoizedState,x);if(O&&(b.memoizedState=x,no=!0),b=b.queue,Sp(Tf.bind(null,p,b,s),[s]),b.getSnapshot!==l||O||br!==null&&br.memoizedState.tag&1){if(p.flags|=2048,Hc(9,Df.bind(null,p,b,x,l),void 0,null),Ar===null)throw Error(n(349));Yl&30||wp(p,l,x)}return x}function wp(s,l,p){s.flags|=16384,s={getSnapshot:l,value:p},l=Wn.updateQueue,l===null?(l={lastEffect:null,stores:null},Wn.updateQueue=l,l.stores=[s]):(p=l.stores,p===null?l.stores=[s]:p.push(s))}function Df(s,l,p,b){l.value=p,l.getSnapshot=b,ts(l)&&$g(s)}function Tf(s,l,p){return p(function(){ts(l)&&$g(s)})}function ts(s){var l=s.getSnapshot;s=s.value;try{var p=l();return!Oe(s,p)}catch{return!0}}function $g(s){var l=Gi(s,1);l!==null&&ea(l,s,1,-1)}function ns(s){var l=Xn();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:s},l.queue=s,s=s.dispatch=Kg.bind(null,Wn,s),[l.memoizedState,s]}function Hc(s,l,p,b){return s={tag:s,create:l,destroy:p,deps:b,next:null},l=Wn.updateQueue,l===null?(l={lastEffect:null,stores:null},Wn.updateQueue=l,l.lastEffect=s.next=s):(p=l.lastEffect,p===null?l.lastEffect=s.next=s:(b=p.next,p.next=s,s.next=b,l.lastEffect=s)),s}function bp(){return Dr().memoizedState}function Yc(s,l,p,b){var x=Xn();Wn.flags|=s,x.memoizedState=Hc(1|l,p,void 0,b===void 0?null:b)}function If(s,l,p,b){var x=Dr();b=b===void 0?null:b;var O=void 0;if(Zn!==null){var W=Zn.memoizedState;if(O=W.destroy,b!==null&&qu(b,W.deps)){x.memoizedState=Hc(l,p,O,b);return}}Wn.flags|=s,x.memoizedState=Hc(1|l,p,O,b)}function qg(s,l){return Yc(8390656,8,s,l)}function Sp(s,l){return If(2048,8,s,l)}function Dp(s,l){return If(4,2,s,l)}function Tp(s,l){return If(4,4,s,l)}function Gg(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Ip(s,l,p){return p=p!=null?p.concat([s]):null,If(4,4,Gg.bind(null,l,s),p)}function Ef(){}function bo(s,l){var p=Dr();l=l===void 0?null:l;var b=p.memoizedState;return b!==null&&l!==null&&qu(l,b[1])?b[0]:(p.memoizedState=[s,l],s)}function Qi(s,l){var p=Dr();l=l===void 0?null:l;var b=p.memoizedState;return b!==null&&l!==null&&qu(l,b[1])?b[0]:(s=s(),p.memoizedState=[s,l],s)}function Jg(s,l,p){return Yl&21?(Oe(p,l)||(p=ce(),Wn.lanes|=p,Js|=p,s.baseState=!0),l):(s.baseState&&(s.baseState=!1,no=!0),s.memoizedState=p)}function lw(s,l){var p=ut;ut=p!==0&&4>p?p:4,s(!0);var b=Kt.transition;Kt.transition={};try{s(!1),l()}finally{ut=p,Kt.transition=b}}function Gu(){return Dr().memoizedState}function Uc(s,l,p){var b=Qs(s);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},Ep(s))Qg(l,p);else if(p=eo(s,l,p,b),p!==null){var x=Do();ea(p,s,b,x),xp(p,l,b)}}function Kg(s,l,p){var b=Qs(s),x={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(Ep(s))Qg(l,x);else{var O=s.alternate;if(s.lanes===0&&(O===null||O.lanes===0)&&(O=l.lastRenderedReducer,O!==null))try{var W=l.lastRenderedState,de=O(W,p);if(x.hasEagerState=!0,x.eagerState=de,Oe(de,W)){var ye=l.interleaved;ye===null?(x.next=x,df(l)):(x.next=ye.next,ye.next=x),l.interleaved=x;return}}catch{}p=eo(s,l,x,b),p!==null&&(x=Do(),ea(p,s,b,x),xp(p,l,b))}}function Ep(s){var l=s.alternate;return s===Wn||l!==null&&l===Wn}function Qg(s,l){$u=yf=!0;var p=s.pending;p===null?l.next=l:(l.next=p.next,p.next=l),s.pending=l}function xp(s,l,p){if(p&4194240){var b=l.lanes;b&=s.pendingLanes,p|=b,l.lanes=p,it(s,p)}}var rs={readContext:wo,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},Ju={readContext:wo,useCallback:function(s,l){return Xn().memoizedState=[s,l===void 0?null:l],s},useContext:wo,useEffect:qg,useImperativeHandle:function(s,l,p){return p=p!=null?p.concat([s]):null,Yc(4194308,4,Gg.bind(null,l,s),p)},useLayoutEffect:function(s,l){return Yc(4194308,4,s,l)},useInsertionEffect:function(s,l){return Yc(4,2,s,l)},useMemo:function(s,l){var p=Xn();return l=l===void 0?null:l,s=s(),p.memoizedState=[s,l],s},useReducer:function(s,l,p){var b=Xn();return l=p!==void 0?p(l):l,b.memoizedState=b.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},b.queue=s,s=s.dispatch=Uc.bind(null,Wn,s),[b.memoizedState,s]},useRef:function(s){var l=Xn();return s={current:s},l.memoizedState=s},useState:ns,useDebugValue:Ef,useDeferredValue:function(s){return Xn().memoizedState=s},useTransition:function(){var s=ns(!1),l=s[0];return s=lw.bind(null,s[1]),Xn().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,p){var b=Wn,x=Xn();if(Yn){if(p===void 0)throw Error(n(407));p=p()}else{if(p=l(),Ar===null)throw Error(n(349));Yl&30||wp(b,l,p)}x.memoizedState=p;var O={value:p,getSnapshot:l};return x.queue=O,qg(Tf.bind(null,b,O,s),[s]),b.flags|=2048,Hc(9,Df.bind(null,b,O,p,l),void 0,null),p},useId:function(){var s=Xn(),l=Ar.identifierPrefix;if(Yn){var p=Sa,b=ba;p=(b&~(1<<32-vr(b)-1)).toString(32)+p,l=":"+l+"R"+p,p=to++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=sw++,l=":"+l+"r"+p.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},cw={readContext:wo,useCallback:bo,useContext:wo,useEffect:Sp,useImperativeHandle:Ip,useInsertionEffect:Dp,useLayoutEffect:Tp,useMemo:Qi,useReducer:bf,useRef:bp,useState:function(){return bf(Ul)},useDebugValue:Ef,useDeferredValue:function(s){var l=Dr();return Jg(l,Zn.memoizedState,s)},useTransition:function(){var s=bf(Ul)[0],l=Dr().memoizedState;return[s,l]},useMutableSource:vp,useSyncExternalStore:Sf,useId:Gu,unstable_isNewReconciler:!1},Xg={readContext:wo,useCallback:bo,useContext:wo,useEffect:Sp,useImperativeHandle:Ip,useInsertionEffect:Dp,useLayoutEffect:Tp,useMemo:Qi,useReducer:Bc,useRef:bp,useState:function(){return Bc(Ul)},useDebugValue:Ef,useDeferredValue:function(s){var l=Dr();return Zn===null?l.memoizedState=s:Jg(l,Zn.memoizedState,s)},useTransition:function(){var s=Bc(Ul)[0],l=Dr().memoizedState;return[s,l]},useMutableSource:vp,useSyncExternalStore:Sf,useId:Gu,unstable_isNewReconciler:!1};function zl(s,l){try{var p="",b=l;do p+=Ae(b),b=b.return;while(b);var x=p}catch(O){x=`
Error generating stack: `+O.message+`
`+O.stack}return{value:s,source:l,stack:x,digest:null}}function zc(s,l,p){return{value:s,source:null,stack:p??null,digest:l??null}}function xf(s,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var Cf=typeof WeakMap=="function"?WeakMap:Map;function Mf(s,l,p){p=Ji(-1,p),p.tag=3,p.payload={element:null};var b=l.value;return p.callback=function(){_f||(_f=!0,Yp=b),xf(s,l)},p}function Ku(s,l,p){p=Ji(-1,p),p.tag=3;var b=s.type.getDerivedStateFromError;if(typeof b=="function"){var x=l.value;p.payload=function(){return b(x)},p.callback=function(){xf(s,l)}}var O=s.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(p.callback=function(){xf(s,l),typeof b!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var W=l.stack;this.componentDidCatch(l.value,{componentStack:W!==null?W:""})}),p}function ey(s,l,p){var b=s.pingCache;if(b===null){b=s.pingCache=new Cf;var x=new Set;b.set(l,x)}else x=b.get(l),x===void 0&&(x=new Set,b.set(l,x));x.has(p)||(x.add(p),s=yw.bind(null,s,l,p),l.then(s,s))}function Cp(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Qu(s,l,p,b,x){return s.mode&1?(s.flags|=65536,s.lanes=x,s):(s===l?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=Ji(-1,1),l.tag=2,Us(p,l,1))),p.lanes|=1),s)}var ty=M.ReactCurrentOwner,no=!1;function So(s,l,p,b){l.child=s===null?pp(l,null,p,b):Vs(l,s.child,p,b)}function Mp(s,l,p,b,x){p=p.render;var O=l.ref;return Hs(l,x),b=vf(s,l,p,b,O,x),p=wf(),s!==null&&!no?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~x,Ca(s,l,x)):(Yn&&p&&Bu(l),l.flags|=1,So(s,l,b,x),l.child)}function Ea(s,l,p,b,x){if(s===null){var O=p.type;return typeof O=="function"&&!Gp(O)&&O.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=O,kp(s,l,O,b,x)):(s=Vf(p.type,null,b,l,l.mode,x),s.ref=l.ref,s.return=l,l.child=s)}if(O=s.child,!(s.lanes&x)){var W=O.memoizedProps;if(p=p.compare,p=p!==null?p:mt,p(W,b)&&s.ref===l.ref)return Ca(s,l,x)}return l.flags|=1,s=tl(O,b),s.ref=l.ref,s.return=l,l.child=s}function kp(s,l,p,b,x){if(s!==null){var O=s.memoizedProps;if(mt(O,b)&&s.ref===l.ref)if(no=!1,l.pendingProps=b=O,(s.lanes&x)!==0)s.flags&131072&&(no=!0);else return l.lanes=s.lanes,Ca(s,l,x)}return kf(s,l,p,b,x)}function Np(s,l,p){var b=l.pendingProps,x=b.children,O=s!==null?s.memoizedState:null;if(b.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ln(qc,ti),ti|=p;else{if(!(p&1073741824))return s=O!==null?O.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,Ln(qc,ti),ti|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=O!==null?O.baseLanes:p,Ln(qc,ti),ti|=b}else O!==null?(b=O.baseLanes|p,l.memoizedState=null):b=p,Ln(qc,ti),ti|=b;return So(s,l,x,p),l.child}function ny(s,l){var p=l.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function kf(s,l,p,b,x){var O=Po(p)?vo:Kr.current;return O=Pc(l,O),Hs(l,x),p=vf(s,l,p,b,O,x),b=wf(),s!==null&&!no?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~x,Ca(s,l,x)):(Yn&&b&&Bu(l),l.flags|=1,So(s,l,p,x),l.child)}function ry(s,l,p,b,x){if(Po(p)){var O=!0;vi(l)}else O=!1;if(Hs(l,x),l.stateNode===null)Vc(s,l),fp(l,p,b),hp(l,p,b,x),b=!0;else if(s===null){var W=l.stateNode,de=l.memoizedProps;W.props=de;var ye=W.context,Le=p.contextType;typeof Le=="object"&&Le!==null?Le=wo(Le):(Le=Po(p)?vo:Kr.current,Le=Pc(l,Le));var Ge=p.getDerivedStateFromProps,Xe=typeof Ge=="function"||typeof W.getSnapshotBeforeUpdate=="function";Xe||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(de!==b||ye!==Le)&&Wg(l,W,b,Le),Ys=!1;var qe=l.memoizedState;W.state=qe,ff(l,b,W,x),ye=l.memoizedState,de!==b||qe!==ye||Fo.current||Ys?(typeof Ge=="function"&&(dp(l,p,Ge,b),ye=l.memoizedState),(de=Ys||pf(l,p,de,b,qe,ye,Le))?(Xe||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(l.flags|=4194308)):(typeof W.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=b,l.memoizedState=ye),W.props=b,W.state=ye,W.context=Le,b=de):(typeof W.componentDidMount=="function"&&(l.flags|=4194308),b=!1)}else{W=l.stateNode,zg(s,l),de=l.memoizedProps,Le=l.type===l.elementType?de:qi(l.type,de),W.props=Le,Xe=l.pendingProps,qe=W.context,ye=p.contextType,typeof ye=="object"&&ye!==null?ye=wo(ye):(ye=Po(p)?vo:Kr.current,ye=Pc(l,ye));var gt=p.getDerivedStateFromProps;(Ge=typeof gt=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(de!==Xe||qe!==ye)&&Wg(l,W,b,ye),Ys=!1,qe=l.memoizedState,W.state=qe,ff(l,b,W,x);var bt=l.memoizedState;de!==Xe||qe!==bt||Fo.current||Ys?(typeof gt=="function"&&(dp(l,p,gt,b),bt=l.memoizedState),(Le=Ys||pf(l,p,Le,b,qe,bt,ye)||!1)?(Ge||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(b,bt,ye),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(b,bt,ye)),typeof W.componentDidUpdate=="function"&&(l.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof W.componentDidUpdate!="function"||de===s.memoizedProps&&qe===s.memoizedState||(l.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||de===s.memoizedProps&&qe===s.memoizedState||(l.flags|=1024),l.memoizedProps=b,l.memoizedState=bt),W.props=b,W.state=bt,W.context=ye,b=Le):(typeof W.componentDidUpdate!="function"||de===s.memoizedProps&&qe===s.memoizedState||(l.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||de===s.memoizedProps&&qe===s.memoizedState||(l.flags|=1024),b=!1)}return Ap(s,l,p,b,O,x)}function Ap(s,l,p,b,x,O){ny(s,l);var W=(l.flags&128)!==0;if(!b&&!W)return x&&_g(l,p,!1),Ca(s,l,O);b=l.stateNode,ty.current=l;var de=W&&typeof p.getDerivedStateFromError!="function"?null:b.render();return l.flags|=1,s!==null&&W?(l.child=Vs(l,s.child,null,O),l.child=Vs(l,null,de,O)):So(s,l,de,O),l.memoizedState=b.state,x&&_g(l,p,!0),l.child}function xa(s){var l=s.stateNode;l.pendingContext?Lg(s,l.pendingContext,l.pendingContext!==l.context):l.context&&Lg(s,l.context,!1),gf(s,l.containerInfo)}function Nf(s,l,p,b,x){return Ta(),Ia(x),l.flags|=256,So(s,l,p,b),l.child}var Xu={dehydrated:null,treeContext:null,retryLane:0};function ed(s){return{baseLanes:s,cachePool:null,transitions:null}}function td(s,l,p){var b=l.pendingProps,x=Un.current,O=!1,W=(l.flags&128)!==0,de;if((de=W)||(de=s!==null&&s.memoizedState===null?!1:(x&2)!==0),de?(O=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),Ln(Un,x&1),s===null)return Oo(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(l.mode&1?s.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(W=b.children,s=b.fallback,O?(b=l.mode,O=l.child,W={mode:"hidden",children:W},!(b&1)&&O!==null?(O.childLanes=0,O.pendingProps=W):O=Wf(W,b,0,null),s=$l(s,b,p,null),O.return=l,s.return=l,O.sibling=s,l.child=O,l.child.memoizedState=ed(p),l.memoizedState=Xu,s):$s(l,W));if(x=s.memoizedState,x!==null&&(de=x.dehydrated,de!==null))return Af(s,l,W,b,de,x,p);if(O){O=b.fallback,W=l.mode,x=s.child,de=x.sibling;var ye={mode:"hidden",children:b.children};return!(W&1)&&l.child!==x?(b=l.child,b.childLanes=0,b.pendingProps=ye,l.deletions=null):(b=tl(x,ye),b.subtreeFlags=x.subtreeFlags&14680064),de!==null?O=tl(de,O):(O=$l(O,W,p,null),O.flags|=2),O.return=l,b.return=l,b.sibling=O,l.child=b,b=O,O=l.child,W=s.child.memoizedState,W=W===null?ed(p):{baseLanes:W.baseLanes|p,cachePool:null,transitions:W.transitions},O.memoizedState=W,O.childLanes=s.childLanes&~p,l.memoizedState=Xu,b}return O=s.child,s=O.sibling,b=tl(O,{mode:"visible",children:b.children}),!(l.mode&1)&&(b.lanes=p),b.return=l,b.sibling=null,s!==null&&(p=l.deletions,p===null?(l.deletions=[s],l.flags|=16):p.push(s)),l.child=b,l.memoizedState=null,b}function $s(s,l){return l=Wf({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function At(s,l,p,b){return b!==null&&Ia(b),Vs(l,s.child,null,p),s=$s(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function Af(s,l,p,b,x,O,W){if(p)return l.flags&256?(l.flags&=-257,b=zc(Error(n(422))),At(s,l,W,b)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(O=b.fallback,x=l.mode,b=Wf({mode:"visible",children:b.children},x,0,null),O=$l(O,x,W,null),O.flags|=2,b.return=l,O.return=l,b.sibling=O,l.child=b,l.mode&1&&Vs(l,s.child,null,W),l.child.memoizedState=ed(W),l.memoizedState=Xu,O);if(!(l.mode&1))return At(s,l,W,null);if(x.data==="$!"){if(b=x.nextSibling&&x.nextSibling.dataset,b)var de=b.dgst;return b=de,O=Error(n(419)),b=zc(O,b,void 0),At(s,l,W,b)}if(de=(W&s.childLanes)!==0,no||de){if(b=Ar,b!==null){switch(W&-W){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=x&(b.suspendedLanes|W)?0:x,x!==0&&x!==O.retryLane&&(O.retryLane=x,Gi(s,x),ea(b,s,x,-1))}return $p(),b=zc(Error(n(421))),At(s,l,W,b)}return x.data==="$?"?(l.flags|=128,l.child=s.child,l=vw.bind(null,s),x._reactRetry=l,null):(s=O.treeContext,Ko=Ls(x.nextSibling),Xr=l,Yn=!0,$i=null,s!==null&&(wi[bi++]=ba,wi[bi++]=Sa,wi[bi++]=Ll,ba=s.id,Sa=s.overflow,Ll=l),l=$s(l,b.children),l.flags|=4096,l)}function Ff(s,l,p){s.lanes|=l;var b=s.alternate;b!==null&&(b.lanes|=l),Si(s.return,l,p)}function os(s,l,p,b,x){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:x}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=p,O.tailMode=x)}function oy(s,l,p){var b=l.pendingProps,x=b.revealOrder,O=b.tail;if(So(s,l,b.children,p),b=Un.current,b&2)b=b&1|2,l.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ff(s,p,l);else if(s.tag===19)Ff(s,p,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}b&=1}if(Ln(Un,b),!(l.mode&1))l.memoizedState=null;else switch(x){case"forwards":for(p=l.child,x=null;p!==null;)s=p.alternate,s!==null&&Wu(s)===null&&(x=p),p=p.sibling;p=x,p===null?(x=l.child,l.child=null):(x=p.sibling,p.sibling=null),os(l,!1,x,p,O);break;case"backwards":for(p=null,x=l.child,l.child=null;x!==null;){if(s=x.alternate,s!==null&&Wu(s)===null){l.child=x;break}s=x.sibling,x.sibling=p,p=x,x=s}os(l,!0,p,null,O);break;case"together":os(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Vc(s,l){!(l.mode&1)&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function Ca(s,l,p){if(s!==null&&(l.dependencies=s.dependencies),Js|=l.lanes,!(p&l.childLanes))return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,p=tl(s,s.pendingProps),l.child=p,p.return=l;s.sibling!==null;)s=s.sibling,p=p.sibling=tl(s,s.pendingProps),p.return=l;p.sibling=null}return l.child}function ro(s,l,p){switch(l.tag){case 3:xa(l),Ta();break;case 5:mp(l);break;case 1:Po(l.type)&&vi(l);break;case 4:gf(l,l.stateNode.containerInfo);break;case 10:var b=l.type._context,x=l.memoizedProps.value;Ln(Bl,b._currentValue),b._currentValue=x;break;case 13:if(b=l.memoizedState,b!==null)return b.dehydrated!==null?(Ln(Un,Un.current&1),l.flags|=128,null):p&l.child.childLanes?td(s,l,p):(Ln(Un,Un.current&1),s=Ca(s,l,p),s!==null?s.sibling:null);Ln(Un,Un.current&1);break;case 19:if(b=(p&l.childLanes)!==0,s.flags&128){if(b)return oy(s,l,p);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ln(Un,Un.current),b)break;return null;case 22:case 23:return l.lanes=0,Np(s,l,p)}return Ca(s,l,p)}var iy,Fp,Pp,ay;iy=function(s,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Fp=function(){},Pp=function(s,l,p,b){var x=s.memoizedProps;if(x!==b){s=l.stateNode,Zs(Ki.current);var O=null;switch(p){case"input":x=st(s,x),b=st(s,b),O=[];break;case"select":x=K({},x,{value:void 0}),b=K({},b,{value:void 0}),O=[];break;case"textarea":x=un(s,x),b=un(s,b),O=[];break;default:typeof x.onClick!="function"&&typeof b.onClick=="function"&&(s.onclick=Xd)}ci(p,b);var W;p=null;for(Le in x)if(!b.hasOwnProperty(Le)&&x.hasOwnProperty(Le)&&x[Le]!=null)if(Le==="style"){var de=x[Le];for(W in de)de.hasOwnProperty(W)&&(p||(p={}),p[W]="")}else Le!=="dangerouslySetInnerHTML"&&Le!=="children"&&Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&Le!=="autoFocus"&&(o.hasOwnProperty(Le)?O||(O=[]):(O=O||[]).push(Le,null));for(Le in b){var ye=b[Le];if(de=x!=null?x[Le]:void 0,b.hasOwnProperty(Le)&&ye!==de&&(ye!=null||de!=null))if(Le==="style")if(de){for(W in de)!de.hasOwnProperty(W)||ye&&ye.hasOwnProperty(W)||(p||(p={}),p[W]="");for(W in ye)ye.hasOwnProperty(W)&&de[W]!==ye[W]&&(p||(p={}),p[W]=ye[W])}else p||(O||(O=[]),O.push(Le,p)),p=ye;else Le==="dangerouslySetInnerHTML"?(ye=ye?ye.__html:void 0,de=de?de.__html:void 0,ye!=null&&de!==ye&&(O=O||[]).push(Le,ye)):Le==="children"?typeof ye!="string"&&typeof ye!="number"||(O=O||[]).push(Le,""+ye):Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&(o.hasOwnProperty(Le)?(ye!=null&&Le==="onScroll"&&Bn("scroll",s),O||de===ye||(O=[])):(O=O||[]).push(Le,ye))}p&&(O=O||[]).push("style",p);var Le=O;(l.updateQueue=Le)&&(l.flags|=4)}},ay=function(s,l,p,b){p!==b&&(l.flags|=4)};function Wc(s,l){if(!Yn)switch(s.tailMode){case"hidden":l=s.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:b.sibling=null}}function oo(s){var l=s.alternate!==null&&s.alternate.child===s.child,p=0,b=0;if(l)for(var x=s.child;x!==null;)p|=x.lanes|x.childLanes,b|=x.subtreeFlags&14680064,b|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)p|=x.lanes|x.childLanes,b|=x.subtreeFlags,b|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=b,s.childLanes=p,l}function uw(s,l,p){var b=l.pendingProps;switch(_l(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oo(l),null;case 1:return Po(l.type)&&rf(),oo(l),null;case 3:return b=l.stateNode,Rc(),Hn(Fo),Hn(Kr),yp(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(s===null||s.child===null)&&(Hu(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,$i!==null&&(Vp($i),$i=null))),Fp(s,l),oo(l),null;case 5:gp(l);var x=Zs(Vu.current);if(p=l.type,s!==null&&l.stateNode!=null)Pp(s,l,p,b,x),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!b){if(l.stateNode===null)throw Error(n(166));return oo(l),null}if(s=Zs(Ki.current),Hu(l)){b=l.stateNode,p=l.type;var O=l.memoizedProps;switch(b[va]=l,b[Rs]=O,s=(l.mode&1)!==0,p){case"dialog":Bn("cancel",b),Bn("close",b);break;case"iframe":case"object":case"embed":Bn("load",b);break;case"video":case"audio":for(x=0;x<Qa.length;x++)Bn(Qa[x],b);break;case"source":Bn("error",b);break;case"img":case"image":case"link":Bn("error",b),Bn("load",b);break;case"details":Bn("toggle",b);break;case"input":yt(b,O),Bn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!O.multiple},Bn("invalid",b);break;case"textarea":Xt(b,O),Bn("invalid",b)}ci(p,O),x=null;for(var W in O)if(O.hasOwnProperty(W)){var de=O[W];W==="children"?typeof de=="string"?b.textContent!==de&&(O.suppressHydrationWarning!==!0&&ju(b.textContent,de,s),x=["children",de]):typeof de=="number"&&b.textContent!==""+de&&(O.suppressHydrationWarning!==!0&&ju(b.textContent,de,s),x=["children",""+de]):o.hasOwnProperty(W)&&de!=null&&W==="onScroll"&&Bn("scroll",b)}switch(p){case"input":Zt(b),qt(b,O,!0);break;case"textarea":Zt(b),Cn(b);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(b.onclick=Xd)}b=x,l.updateQueue=b,b!==null&&(l.flags|=4)}else{W=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Cr(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=W.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof b.is=="string"?s=W.createElement(p,{is:b.is}):(s=W.createElement(p),p==="select"&&(W=s,b.multiple?W.multiple=!0:b.size&&(W.size=b.size))):s=W.createElementNS(s,p),s[va]=l,s[Rs]=b,iy(s,l,!1,!1),l.stateNode=s;e:{switch(W=Bi(p,b),p){case"dialog":Bn("cancel",s),Bn("close",s),x=b;break;case"iframe":case"object":case"embed":Bn("load",s),x=b;break;case"video":case"audio":for(x=0;x<Qa.length;x++)Bn(Qa[x],s);x=b;break;case"source":Bn("error",s),x=b;break;case"img":case"image":case"link":Bn("error",s),Bn("load",s),x=b;break;case"details":Bn("toggle",s),x=b;break;case"input":yt(s,b),x=st(s,b),Bn("invalid",s);break;case"option":x=b;break;case"select":s._wrapperState={wasMultiple:!!b.multiple},x=K({},b,{value:void 0}),Bn("invalid",s);break;case"textarea":Xt(s,b),x=un(s,b),Bn("invalid",s);break;default:x=b}ci(p,x),de=x;for(O in de)if(de.hasOwnProperty(O)){var ye=de[O];O==="style"?_i(s,ye):O==="dangerouslySetInnerHTML"?(ye=ye?ye.__html:void 0,ye!=null&&Li(s,ye)):O==="children"?typeof ye=="string"?(p!=="textarea"||ye!=="")&&Eo(s,ye):typeof ye=="number"&&Eo(s,""+ye):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(o.hasOwnProperty(O)?ye!=null&&O==="onScroll"&&Bn("scroll",s):ye!=null&&R(s,O,ye,W))}switch(p){case"input":Zt(s),qt(s,b,!1);break;case"textarea":Zt(s),Cn(s);break;case"option":b.value!=null&&s.setAttribute("value",""+ze(b.value));break;case"select":s.multiple=!!b.multiple,O=b.value,O!=null?Gt(s,!!b.multiple,O,!1):b.defaultValue!=null&&Gt(s,!!b.multiple,b.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Xd)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return oo(l),null;case 6:if(s&&l.stateNode!=null)ay(s,l,s.memoizedProps,b);else{if(typeof b!="string"&&l.stateNode===null)throw Error(n(166));if(p=Zs(Vu.current),Zs(Ki.current),Hu(l)){if(b=l.stateNode,p=l.memoizedProps,b[va]=l,(O=b.nodeValue!==p)&&(s=Xr,s!==null))switch(s.tag){case 3:ju(b.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ju(b.nodeValue,p,(s.mode&1)!==0)}O&&(l.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[va]=l,l.stateNode=b}return oo(l),null;case 13:if(Hn(Un),b=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Yn&&Ko!==null&&l.mode&1&&!(l.flags&128))lp(),Ta(),l.flags|=98560,O=!1;else if(O=Hu(l),b!==null&&b.dehydrated!==null){if(s===null){if(!O)throw Error(n(318));if(O=l.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[va]=l}else Ta(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;oo(l),O=!1}else $i!==null&&(Vp($i),$i=null),O=!0;if(!O)return l.flags&65536?l:null}return l.flags&128?(l.lanes=p,l):(b=b!==null,b!==(s!==null&&s.memoizedState!==null)&&b&&(l.child.flags|=8192,l.mode&1&&(s===null||Un.current&1?Tr===0&&(Tr=3):$p())),l.updateQueue!==null&&(l.flags|=4),oo(l),null);case 4:return Rc(),Fp(s,l),s===null&&Os(l.stateNode.containerInfo),oo(l),null;case 10:return uf(l.type._context),oo(l),null;case 17:return Po(l.type)&&rf(),oo(l),null;case 19:if(Hn(Un),O=l.memoizedState,O===null)return oo(l),null;if(b=(l.flags&128)!==0,W=O.rendering,W===null)if(b)Wc(O,!1);else{if(Tr!==0||s!==null&&s.flags&128)for(s=l.child;s!==null;){if(W=Wu(s),W!==null){for(l.flags|=128,Wc(O,!1),b=W.updateQueue,b!==null&&(l.updateQueue=b,l.flags|=4),l.subtreeFlags=0,b=p,p=l.child;p!==null;)O=p,s=b,O.flags&=14680066,W=O.alternate,W===null?(O.childLanes=0,O.lanes=s,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=W.childLanes,O.lanes=W.lanes,O.child=W.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=W.memoizedProps,O.memoizedState=W.memoizedState,O.updateQueue=W.updateQueue,O.type=W.type,s=W.dependencies,O.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return Ln(Un,Un.current&1|2),l.child}s=s.sibling}O.tail!==null&&Dn()>Jc&&(l.flags|=128,b=!0,Wc(O,!1),l.lanes=4194304)}else{if(!b)if(s=Wu(W),s!==null){if(l.flags|=128,b=!0,p=s.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),Wc(O,!0),O.tail===null&&O.tailMode==="hidden"&&!W.alternate&&!Yn)return oo(l),null}else 2*Dn()-O.renderingStartTime>Jc&&p!==1073741824&&(l.flags|=128,b=!0,Wc(O,!1),l.lanes=4194304);O.isBackwards?(W.sibling=l.child,l.child=W):(p=O.last,p!==null?p.sibling=W:l.child=W,O.last=W)}return O.tail!==null?(l=O.tail,O.rendering=l,O.tail=l.sibling,O.renderingStartTime=Dn(),l.sibling=null,p=Un.current,Ln(Un,b?p&1|2:p&1),l):(oo(l),null);case 22:case 23:return Zp(),b=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==b&&(l.flags|=8192),b&&l.mode&1?ti&1073741824&&(oo(l),l.subtreeFlags&6&&(l.flags|=8192)):oo(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function dw(s,l){switch(_l(l),l.tag){case 1:return Po(l.type)&&rf(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Rc(),Hn(Fo),Hn(Kr),yp(),s=l.flags,s&65536&&!(s&128)?(l.flags=s&-65537|128,l):null;case 5:return gp(l),null;case 13:if(Hn(Un),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ta()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Hn(Un),null;case 4:return Rc(),null;case 10:return uf(l.type._context),null;case 22:case 23:return Zp(),null;case 24:return null;default:return null}}var Di=!1,Tn=!1,Op=typeof WeakSet=="function"?WeakSet:Set,vt=null;function qs(s,l){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){er(s,l,b)}else p.current=null}function jp(s,l,p){try{p()}catch(b){er(s,l,b)}}var sy=!1;function nd(s,l){if(Lu=qo,s=Nn(),ku(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var x=b.anchorOffset,O=b.focusNode;b=b.focusOffset;try{p.nodeType,O.nodeType}catch{p=null;break e}var W=0,de=-1,ye=-1,Le=0,Ge=0,Xe=s,qe=null;t:for(;;){for(var gt;Xe!==p||x!==0&&Xe.nodeType!==3||(de=W+x),Xe!==O||b!==0&&Xe.nodeType!==3||(ye=W+b),Xe.nodeType===3&&(W+=Xe.nodeValue.length),(gt=Xe.firstChild)!==null;)qe=Xe,Xe=gt;for(;;){if(Xe===s)break t;if(qe===p&&++Le===x&&(de=W),qe===O&&++Ge===b&&(ye=W),(gt=Xe.nextSibling)!==null)break;Xe=qe,qe=Xe.parentNode}Xe=gt}p=de===-1||ye===-1?null:{start:de,end:ye}}else p=null}p=p||{start:0,end:0}}else p=null;for(Ol={focusedElem:s,selectionRange:p},qo=!1,vt=l;vt!==null;)if(l=vt,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,vt=s;else for(;vt!==null;){l=vt;try{var bt=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var Dt=bt.memoizedProps,ir=bt.memoizedState,Ce=l.stateNode,we=Ce.getSnapshotBeforeUpdate(l.elementType===l.type?Dt:qi(l.type,Dt),ir);Ce.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var Me=l.stateNode.containerInfo;Me.nodeType===1?Me.textContent="":Me.nodeType===9&&Me.documentElement&&Me.removeChild(Me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(at){er(l,l.return,at)}if(s=l.sibling,s!==null){s.return=l.return,vt=s;break}vt=l.return}return bt=sy,sy=!1,bt}function Zc(s,l,p){var b=l.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var x=b=b.next;do{if((x.tag&s)===s){var O=x.destroy;x.destroy=void 0,O!==void 0&&jp(l,p,O)}x=x.next}while(x!==b)}}function rd(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&s)===s){var b=p.create;p.destroy=b()}p=p.next}while(p!==l)}}function Lp(s){var l=s.ref;if(l!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof l=="function"?l(s):l.current=s}}function ly(s){var l=s.alternate;l!==null&&(s.alternate=null,ly(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[va],delete l[Rs],delete l[tf],delete l[G],delete l[Ac])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function cy(s){return s.tag===5||s.tag===3||s.tag===4}function uy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pf(s,l,p){var b=s.tag;if(b===5||b===6)s=s.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(s,l):p.insertBefore(s,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(s,p)):(l=p,l.appendChild(s)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Xd));else if(b!==4&&(s=s.child,s!==null))for(Pf(s,l,p),s=s.sibling;s!==null;)Pf(s,l,p),s=s.sibling}function Of(s,l,p){var b=s.tag;if(b===5||b===6)s=s.stateNode,l?p.insertBefore(s,l):p.appendChild(s);else if(b!==4&&(s=s.child,s!==null))for(Of(s,l,p),s=s.sibling;s!==null;)Of(s,l,p),s=s.sibling}var Ur=null,Xo=!1;function is(s,l,p){for(p=p.child;p!==null;)$c(s,l,p),p=p.sibling}function $c(s,l,p){if(po&&typeof po.onCommitFiberUnmount=="function")try{po.onCommitFiberUnmount(Vo,p)}catch{}switch(p.tag){case 5:Tn||qs(p,l);case 6:var b=Ur,x=Xo;Ur=null,is(s,l,p),Ur=b,Xo=x,Ur!==null&&(Xo?(s=Ur,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):Ur.removeChild(p.stateNode));break;case 18:Ur!==null&&(Xo?(s=Ur,p=p.stateNode,s.nodeType===8?ip(s.parentNode,p):s.nodeType===1&&ip(s,p),an(s)):ip(Ur,p.stateNode));break;case 4:b=Ur,x=Xo,Ur=p.stateNode.containerInfo,Xo=!0,is(s,l,p),Ur=b,Xo=x;break;case 0:case 11:case 14:case 15:if(!Tn&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){x=b=b.next;do{var O=x,W=O.destroy;O=O.tag,W!==void 0&&(O&2||O&4)&&jp(p,l,W),x=x.next}while(x!==b)}is(s,l,p);break;case 1:if(!Tn&&(qs(p,l),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(de){er(p,l,de)}is(s,l,p);break;case 21:is(s,l,p);break;case 22:p.mode&1?(Tn=(b=Tn)||p.memoizedState!==null,is(s,l,p),Tn=b):is(s,l,p);break;default:is(s,l,p)}}function jf(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new Op),l.forEach(function(b){var x=ww.bind(null,s,b);p.has(b)||(p.add(b),b.then(x,x))})}}function Ti(s,l){var p=l.deletions;if(p!==null)for(var b=0;b<p.length;b++){var x=p[b];try{var O=s,W=l,de=W;e:for(;de!==null;){switch(de.tag){case 5:Ur=de.stateNode,Xo=!1;break e;case 3:Ur=de.stateNode.containerInfo,Xo=!0;break e;case 4:Ur=de.stateNode.containerInfo,Xo=!0;break e}de=de.return}if(Ur===null)throw Error(n(160));$c(O,W,x),Ur=null,Xo=!1;var ye=x.alternate;ye!==null&&(ye.return=null),x.return=null}catch(Le){er(x,l,Le)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Rp(l,s),l=l.sibling}function Rp(s,l){var p=s.alternate,b=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ti(l,s),ei(s),b&4){try{Zc(3,s,s.return),rd(3,s)}catch(Dt){er(s,s.return,Dt)}try{Zc(5,s,s.return)}catch(Dt){er(s,s.return,Dt)}}break;case 1:Ti(l,s),ei(s),b&512&&p!==null&&qs(p,p.return);break;case 5:if(Ti(l,s),ei(s),b&512&&p!==null&&qs(p,p.return),s.flags&32){var x=s.stateNode;try{Eo(x,"")}catch(Dt){er(s,s.return,Dt)}}if(b&4&&(x=s.stateNode,x!=null)){var O=s.memoizedProps,W=p!==null?p.memoizedProps:O,de=s.type,ye=s.updateQueue;if(s.updateQueue=null,ye!==null)try{de==="input"&&O.type==="radio"&&O.name!=null&&xt(x,O),Bi(de,W);var Le=Bi(de,O);for(W=0;W<ye.length;W+=2){var Ge=ye[W],Xe=ye[W+1];Ge==="style"?_i(x,Xe):Ge==="dangerouslySetInnerHTML"?Li(x,Xe):Ge==="children"?Eo(x,Xe):R(x,Ge,Xe,Le)}switch(de){case"input":Tt(x,O);break;case"textarea":Qn(x,O);break;case"select":var qe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!O.multiple;var gt=O.value;gt!=null?Gt(x,!!O.multiple,gt,!1):qe!==!!O.multiple&&(O.defaultValue!=null?Gt(x,!!O.multiple,O.defaultValue,!0):Gt(x,!!O.multiple,O.multiple?[]:"",!1))}x[Rs]=O}catch(Dt){er(s,s.return,Dt)}}break;case 6:if(Ti(l,s),ei(s),b&4){if(s.stateNode===null)throw Error(n(162));x=s.stateNode,O=s.memoizedProps;try{x.nodeValue=O}catch(Dt){er(s,s.return,Dt)}}break;case 3:if(Ti(l,s),ei(s),b&4&&p!==null&&p.memoizedState.isDehydrated)try{an(l.containerInfo)}catch(Dt){er(s,s.return,Dt)}break;case 4:Ti(l,s),ei(s);break;case 13:Ti(l,s),ei(s),x=s.child,x.flags&8192&&(O=x.memoizedState!==null,x.stateNode.isHidden=O,!O||x.alternate!==null&&x.alternate.memoizedState!==null||(Rf=Dn())),b&4&&jf(s);break;case 22:if(Ge=p!==null&&p.memoizedState!==null,s.mode&1?(Tn=(Le=Tn)||Ge,Ti(l,s),Tn=Le):Ti(l,s),ei(s),b&8192){if(Le=s.memoizedState!==null,(s.stateNode.isHidden=Le)&&!Ge&&s.mode&1)for(vt=s,Ge=s.child;Ge!==null;){for(Xe=vt=Ge;vt!==null;){switch(qe=vt,gt=qe.child,qe.tag){case 0:case 11:case 14:case 15:Zc(4,qe,qe.return);break;case 1:qs(qe,qe.return);var bt=qe.stateNode;if(typeof bt.componentWillUnmount=="function"){b=qe,p=qe.return;try{l=b,bt.props=l.memoizedProps,bt.state=l.memoizedState,bt.componentWillUnmount()}catch(Dt){er(b,p,Dt)}}break;case 5:qs(qe,qe.return);break;case 22:if(qe.memoizedState!==null){fy(Xe);continue}}gt!==null?(gt.return=qe,vt=gt):fy(Xe)}Ge=Ge.sibling}e:for(Ge=null,Xe=s;;){if(Xe.tag===5){if(Ge===null){Ge=Xe;try{x=Xe.stateNode,Le?(O=x.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(de=Xe.stateNode,ye=Xe.memoizedProps.style,W=ye!=null&&ye.hasOwnProperty("display")?ye.display:null,de.style.display=xo("display",W))}catch(Dt){er(s,s.return,Dt)}}}else if(Xe.tag===6){if(Ge===null)try{Xe.stateNode.nodeValue=Le?"":Xe.memoizedProps}catch(Dt){er(s,s.return,Dt)}}else if((Xe.tag!==22&&Xe.tag!==23||Xe.memoizedState===null||Xe===s)&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===s)break e;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===s)break e;Ge===Xe&&(Ge=null),Xe=Xe.return}Ge===Xe&&(Ge=null),Xe.sibling.return=Xe.return,Xe=Xe.sibling}}break;case 19:Ti(l,s),ei(s),b&4&&jf(s);break;case 21:break;default:Ti(l,s),ei(s)}}function ei(s){var l=s.flags;if(l&2){try{e:{for(var p=s.return;p!==null;){if(cy(p)){var b=p;break e}p=p.return}throw Error(n(160))}switch(b.tag){case 5:var x=b.stateNode;b.flags&32&&(Eo(x,""),b.flags&=-33);var O=uy(s);Of(s,O,x);break;case 3:case 4:var W=b.stateNode.containerInfo,de=uy(s);Pf(s,de,W);break;default:throw Error(n(161))}}catch(ye){er(s,s.return,ye)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function dy(s,l,p){vt=s,Xi(s)}function Xi(s,l,p){for(var b=(s.mode&1)!==0;vt!==null;){var x=vt,O=x.child;if(x.tag===22&&b){var W=x.memoizedState!==null||Di;if(!W){var de=x.alternate,ye=de!==null&&de.memoizedState!==null||Tn;de=Di;var Le=Tn;if(Di=W,(Tn=ye)&&!Le)for(vt=x;vt!==null;)W=vt,ye=W.child,W.tag===22&&W.memoizedState!==null?_p(x):ye!==null?(ye.return=W,vt=ye):_p(x);for(;O!==null;)vt=O,Xi(O),O=O.sibling;vt=x,Di=de,Tn=Le}Gs(s)}else x.subtreeFlags&8772&&O!==null?(O.return=x,vt=O):Gs(s)}}function Gs(s){for(;vt!==null;){var l=vt;if(l.flags&8772){var p=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:Tn||rd(5,l);break;case 1:var b=l.stateNode;if(l.flags&4&&!Tn)if(p===null)b.componentDidMount();else{var x=l.elementType===l.type?p.memoizedProps:qi(l.type,p.memoizedProps);b.componentDidUpdate(x,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var O=l.updateQueue;O!==null&&Vg(l,O,b);break;case 3:var W=l.updateQueue;if(W!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}Vg(l,W,p)}break;case 5:var de=l.stateNode;if(p===null&&l.flags&4){p=de;var ye=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ye.autoFocus&&p.focus();break;case"img":ye.src&&(p.src=ye.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Le=l.alternate;if(Le!==null){var Ge=Le.memoizedState;if(Ge!==null){var Xe=Ge.dehydrated;Xe!==null&&an(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Tn||l.flags&512&&Lp(l)}catch(qe){er(l,l.return,qe)}}if(l===s){vt=null;break}if(p=l.sibling,p!==null){p.return=l.return,vt=p;break}vt=l.return}}function fy(s){for(;vt!==null;){var l=vt;if(l===s){vt=null;break}var p=l.sibling;if(p!==null){p.return=l.return,vt=p;break}vt=l.return}}function _p(s){for(;vt!==null;){var l=vt;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{rd(4,l)}catch(ye){er(l,p,ye)}break;case 1:var b=l.stateNode;if(typeof b.componentDidMount=="function"){var x=l.return;try{b.componentDidMount()}catch(ye){er(l,x,ye)}}var O=l.return;try{Lp(l)}catch(ye){er(l,O,ye)}break;case 5:var W=l.return;try{Lp(l)}catch(ye){er(l,W,ye)}}}catch(ye){er(l,l.return,ye)}if(l===s){vt=null;break}var de=l.sibling;if(de!==null){de.return=l.return,vt=de;break}vt=l.return}}var fw=Math.ceil,Lf=M.ReactCurrentDispatcher,Bp=M.ReactCurrentOwner,Ii=M.ReactCurrentBatchConfig,fn=0,Ar=null,dr=null,zr=0,ti=0,qc=Ao(0),Tr=0,Gc=null,Js=0,od=0,Hp=0,id=null,jo=null,Rf=0,Jc=1/0,as=null,_f=!1,Yp=null,Ks=null,Bf=!1,Ir=null,Hf=0,ad=0,Up=null,sd=-1,Yf=0;function Do(){return fn&6?Dn():sd!==-1?sd:sd=Dn()}function Qs(s){return s.mode&1?fn&2&&zr!==0?zr&-zr:Ug.transition!==null?(Yf===0&&(Yf=ce()),Yf):(s=ut,s!==0||(s=window.event,s=s===void 0?16:Tu(s.type)),s):1}function ea(s,l,p,b){if(50<ad)throw ad=0,Up=null,Error(n(185));Ie(s,p,b),(!(fn&2)||s!==Ar)&&(s===Ar&&(!(fn&2)&&(od|=p),Tr===4&&Xs(s,zr)),io(s,b),p===1&&fn===0&&!(l.mode&1)&&(Jc=Dn()+500,of&&Bs()))}function io(s,l){var p=s.callbackNode;H(s,l);var b=Zo(s,s===Ar?zr:0);if(b===0)p!==null&&Il(p),s.callbackNode=null,s.callbackPriority=0;else if(l=b&-b,s.callbackPriority!==l){if(p!=null&&Il(p),l===1)s.tag===0?jl(py.bind(null,s)):Bg(py.bind(null,s)),ef(function(){!(fn&6)&&Bs()}),p=null;else{switch(Nt(b)){case 1:p=bs;break;case 4:p=Ss;break;case 16:p=Ui;break;case 536870912:p=ui;break;default:p=Ui}p=Sy(p,hy.bind(null,s))}s.callbackPriority=l,s.callbackNode=p}}function hy(s,l){if(sd=-1,Yf=0,fn&6)throw Error(n(327));var p=s.callbackNode;if(el()&&s.callbackNode!==p)return null;var b=Zo(s,s===Ar?zr:0);if(b===0)return null;if(b&30||b&s.expiredLanes||l)l=Uf(s,b);else{l=b;var x=fn;fn|=2;var O=gy();(Ar!==s||zr!==l)&&(as=null,Jc=Dn()+500,Wl(s,l));do try{mw();break}catch(de){my(s,de)}while(!0);Yu(),Lf.current=O,fn=x,dr!==null?l=0:(Ar=null,zr=0,l=Tr)}if(l!==0){if(l===2&&(x=J(s),x!==0&&(b=x,l=zp(s,x))),l===1)throw p=Gc,Wl(s,0),Xs(s,b),io(s,Dn()),p;if(l===6)Xs(s,b);else{if(x=s.current.alternate,!(b&30)&&!hw(x)&&(l=Uf(s,b),l===2&&(O=J(s),O!==0&&(b=O,l=zp(s,O))),l===1))throw p=Gc,Wl(s,0),Xs(s,b),io(s,Dn()),p;switch(s.finishedWork=x,s.finishedLanes=b,l){case 0:case 1:throw Error(n(345));case 2:Zl(s,jo,as);break;case 3:if(Xs(s,b),(b&130023424)===b&&(l=Rf+500-Dn(),10<l)){if(Zo(s,0)!==0)break;if(x=s.suspendedLanes,(x&b)!==b){Do(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=js(Zl.bind(null,s,jo,as),l);break}Zl(s,jo,as);break;case 4:if(Xs(s,b),(b&4194240)===b)break;for(l=s.eventTimes,x=-1;0<b;){var W=31-vr(b);O=1<<W,W=l[W],W>x&&(x=W),b&=~O}if(b=x,b=Dn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*fw(b/1960))-b,10<b){s.timeoutHandle=js(Zl.bind(null,s,jo,as),b);break}Zl(s,jo,as);break;case 5:Zl(s,jo,as);break;default:throw Error(n(329))}}}return io(s,Dn()),s.callbackNode===p?hy.bind(null,s):null}function zp(s,l){var p=id;return s.current.memoizedState.isDehydrated&&(Wl(s,l).flags|=256),s=Uf(s,l),s!==2&&(l=jo,jo=p,l!==null&&Vp(l)),s}function Vp(s){jo===null?jo=s:jo.push.apply(jo,s)}function hw(s){for(var l=s;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var x=p[b],O=x.getSnapshot;x=x.value;try{if(!Oe(O(),x))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Xs(s,l){for(l&=~Hp,l&=~od,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var p=31-vr(l),b=1<<p;s[p]=-1,l&=~b}}function py(s){if(fn&6)throw Error(n(327));el();var l=Zo(s,0);if(!(l&1))return io(s,Dn()),null;var p=Uf(s,l);if(s.tag!==0&&p===2){var b=J(s);b!==0&&(l=b,p=zp(s,b))}if(p===1)throw p=Gc,Wl(s,0),Xs(s,l),io(s,Dn()),p;if(p===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Zl(s,jo,as),io(s,Dn()),null}function Wp(s,l){var p=fn;fn|=1;try{return s(l)}finally{fn=p,fn===0&&(Jc=Dn()+500,of&&Bs())}}function Vl(s){Ir!==null&&Ir.tag===0&&!(fn&6)&&el();var l=fn;fn|=1;var p=Ii.transition,b=ut;try{if(Ii.transition=null,ut=1,s)return s()}finally{ut=b,Ii.transition=p,fn=l,!(fn&6)&&Bs()}}function Zp(){ti=qc.current,Hn(qc)}function Wl(s,l){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,_u(p)),dr!==null)for(p=dr.return;p!==null;){var b=p;switch(_l(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&rf();break;case 3:Rc(),Hn(Fo),Hn(Kr),yp();break;case 5:gp(b);break;case 4:Rc();break;case 13:Hn(Un);break;case 19:Hn(Un);break;case 10:uf(b.type._context);break;case 22:case 23:Zp()}p=p.return}if(Ar=s,dr=s=tl(s.current,null),zr=ti=l,Tr=0,Gc=null,Hp=od=Js=0,jo=id=null,Qo!==null){for(l=0;l<Qo.length;l++)if(p=Qo[l],b=p.interleaved,b!==null){p.interleaved=null;var x=b.next,O=p.pending;if(O!==null){var W=O.next;O.next=x,b.next=W}p.pending=b}Qo=null}return s}function my(s,l){do{var p=dr;try{if(Yu(),_c.current=rs,yf){for(var b=Wn.memoizedState;b!==null;){var x=b.queue;x!==null&&(x.pending=null),b=b.next}yf=!1}if(Yl=0,br=Zn=Wn=null,$u=!1,to=0,Bp.current=null,p===null||p.return===null){Tr=1,Gc=l,dr=null;break}e:{var O=s,W=p.return,de=p,ye=l;if(l=zr,de.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Le=ye,Ge=de,Xe=Ge.tag;if(!(Ge.mode&1)&&(Xe===0||Xe===11||Xe===15)){var qe=Ge.alternate;qe?(Ge.updateQueue=qe.updateQueue,Ge.memoizedState=qe.memoizedState,Ge.lanes=qe.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var gt=Cp(W);if(gt!==null){gt.flags&=-257,Qu(gt,W,de,O,l),gt.mode&1&&ey(O,Le,l),l=gt,ye=Le;var bt=l.updateQueue;if(bt===null){var Dt=new Set;Dt.add(ye),l.updateQueue=Dt}else bt.add(ye);break e}else{if(!(l&1)){ey(O,Le,l),$p();break e}ye=Error(n(426))}}else if(Yn&&de.mode&1){var ir=Cp(W);if(ir!==null){!(ir.flags&65536)&&(ir.flags|=256),Qu(ir,W,de,O,l),Ia(zl(ye,de));break e}}O=ye=zl(ye,de),Tr!==4&&(Tr=2),id===null?id=[O]:id.push(O),O=W;do{switch(O.tag){case 3:O.flags|=65536,l&=-l,O.lanes|=l;var Ce=Mf(O,ye,l);up(O,Ce);break e;case 1:de=ye;var we=O.type,Me=O.stateNode;if(!(O.flags&128)&&(typeof we.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(Ks===null||!Ks.has(Me)))){O.flags|=65536,l&=-l,O.lanes|=l;var at=Ku(O,de,l);up(O,at);break e}}O=O.return}while(O!==null)}vy(p)}catch(Et){l=Et,dr===p&&p!==null&&(dr=p=p.return);continue}break}while(!0)}function gy(){var s=Lf.current;return Lf.current=rs,s===null?rs:s}function $p(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),Ar===null||!(Js&268435455)&&!(od&268435455)||Xs(Ar,zr)}function Uf(s,l){var p=fn;fn|=2;var b=gy();(Ar!==s||zr!==l)&&(as=null,Wl(s,l));do try{pw();break}catch(x){my(s,x)}while(!0);if(Yu(),fn=p,Lf.current=b,dr!==null)throw Error(n(261));return Ar=null,zr=0,Tr}function pw(){for(;dr!==null;)yy(dr)}function mw(){for(;dr!==null&&!Ua();)yy(dr)}function yy(s){var l=by(s.alternate,s,ti);s.memoizedProps=s.pendingProps,l===null?vy(s):dr=l,Bp.current=null}function vy(s){var l=s;do{var p=l.alternate;if(s=l.return,l.flags&32768){if(p=dw(p,l),p!==null){p.flags&=32767,dr=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Tr=6,dr=null;return}}else if(p=uw(p,l,ti),p!==null){dr=p;return}if(l=l.sibling,l!==null){dr=l;return}dr=l=s}while(l!==null);Tr===0&&(Tr=5)}function Zl(s,l,p){var b=ut,x=Ii.transition;try{Ii.transition=null,ut=1,gw(s,l,p,b)}finally{Ii.transition=x,ut=b}return null}function gw(s,l,p,b){do el();while(Ir!==null);if(fn&6)throw Error(n(327));p=s.finishedWork;var x=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var O=p.lanes|p.childLanes;if(Ue(s,O),s===Ar&&(dr=Ar=null,zr=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||Bf||(Bf=!0,Sy(Ui,function(){return el(),null})),O=(p.flags&15990)!==0,p.subtreeFlags&15990||O){O=Ii.transition,Ii.transition=null;var W=ut;ut=1;var de=fn;fn|=4,Bp.current=null,nd(s,p),Rp(p,s),iw(Ol),qo=!!Lu,Ol=Lu=null,s.current=p,dy(p),pc(),fn=de,ut=W,Ii.transition=O}else s.current=p;if(Bf&&(Bf=!1,Ir=s,Hf=x),O=s.pendingLanes,O===0&&(Ks=null),za(p.stateNode),io(s,Dn()),l!==null)for(b=s.onRecoverableError,p=0;p<l.length;p++)x=l[p],b(x.value,{componentStack:x.stack,digest:x.digest});if(_f)throw _f=!1,s=Yp,Yp=null,s;return Hf&1&&s.tag!==0&&el(),O=s.pendingLanes,O&1?s===Up?ad++:(ad=0,Up=s):ad=0,Bs(),null}function el(){if(Ir!==null){var s=Nt(Hf),l=Ii.transition,p=ut;try{if(Ii.transition=null,ut=16>s?16:s,Ir===null)var b=!1;else{if(s=Ir,Ir=null,Hf=0,fn&6)throw Error(n(331));var x=fn;for(fn|=4,vt=s.current;vt!==null;){var O=vt,W=O.child;if(vt.flags&16){var de=O.deletions;if(de!==null){for(var ye=0;ye<de.length;ye++){var Le=de[ye];for(vt=Le;vt!==null;){var Ge=vt;switch(Ge.tag){case 0:case 11:case 15:Zc(8,Ge,O)}var Xe=Ge.child;if(Xe!==null)Xe.return=Ge,vt=Xe;else for(;vt!==null;){Ge=vt;var qe=Ge.sibling,gt=Ge.return;if(ly(Ge),Ge===Le){vt=null;break}if(qe!==null){qe.return=gt,vt=qe;break}vt=gt}}}var bt=O.alternate;if(bt!==null){var Dt=bt.child;if(Dt!==null){bt.child=null;do{var ir=Dt.sibling;Dt.sibling=null,Dt=ir}while(Dt!==null)}}vt=O}}if(O.subtreeFlags&2064&&W!==null)W.return=O,vt=W;else e:for(;vt!==null;){if(O=vt,O.flags&2048)switch(O.tag){case 0:case 11:case 15:Zc(9,O,O.return)}var Ce=O.sibling;if(Ce!==null){Ce.return=O.return,vt=Ce;break e}vt=O.return}}var we=s.current;for(vt=we;vt!==null;){W=vt;var Me=W.child;if(W.subtreeFlags&2064&&Me!==null)Me.return=W,vt=Me;else e:for(W=we;vt!==null;){if(de=vt,de.flags&2048)try{switch(de.tag){case 0:case 11:case 15:rd(9,de)}}catch(Et){er(de,de.return,Et)}if(de===W){vt=null;break e}var at=de.sibling;if(at!==null){at.return=de.return,vt=at;break e}vt=de.return}}if(fn=x,Bs(),po&&typeof po.onPostCommitFiberRoot=="function")try{po.onPostCommitFiberRoot(Vo,s)}catch{}b=!0}return b}finally{ut=p,Ii.transition=l}}return!1}function qp(s,l,p){l=zl(p,l),l=Mf(s,l,1),s=Us(s,l,1),l=Do(),s!==null&&(Ie(s,1,l),io(s,l))}function er(s,l,p){if(s.tag===3)qp(s,s,p);else for(;l!==null;){if(l.tag===3){qp(l,s,p);break}else if(l.tag===1){var b=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ks===null||!Ks.has(b))){s=zl(p,s),s=Ku(l,s,1),l=Us(l,s,1),s=Do(),l!==null&&(Ie(l,1,s),io(l,s));break}}l=l.return}}function yw(s,l,p){var b=s.pingCache;b!==null&&b.delete(l),l=Do(),s.pingedLanes|=s.suspendedLanes&p,Ar===s&&(zr&p)===p&&(Tr===4||Tr===3&&(zr&130023424)===zr&&500>Dn()-Rf?Wl(s,0):Hp|=p),io(s,l)}function wy(s,l){l===0&&(s.mode&1?(l=Va,Va<<=1,!(Va&130023424)&&(Va=4194304)):l=1);var p=Do();s=Gi(s,l),s!==null&&(Ie(s,l,p),io(s,p))}function vw(s){var l=s.memoizedState,p=0;l!==null&&(p=l.retryLane),wy(s,p)}function ww(s,l){var p=0;switch(s.tag){case 13:var b=s.stateNode,x=s.memoizedState;x!==null&&(p=x.retryLane);break;case 19:b=s.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(l),wy(s,p)}var by;by=function(s,l,p){if(s!==null)if(s.memoizedProps!==l.pendingProps||Fo.current)no=!0;else{if(!(s.lanes&p)&&!(l.flags&128))return no=!1,ro(s,l,p);no=!!(s.flags&131072)}else no=!1,Yn&&l.flags&1048576&&Hg(l,sf,l.index);switch(l.lanes=0,l.tag){case 2:var b=l.type;Vc(s,l),s=l.pendingProps;var x=Pc(l,Kr.current);Hs(l,p),x=vf(null,l,b,s,x,p);var O=wf();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Po(b)?(O=!0,vi(l)):O=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,cp(l),x.updater=hf,l.stateNode=x,x._reactInternals=l,hp(l,b,s,p),l=Ap(null,l,b,!0,O,p)):(l.tag=0,Yn&&O&&Bu(l),So(null,l,x,p),l=l.child),l;case 16:b=l.elementType;e:{switch(Vc(s,l),s=l.pendingProps,x=b._init,b=x(b._payload),l.type=b,x=l.tag=zf(b),s=qi(b,s),x){case 0:l=kf(null,l,b,s,p);break e;case 1:l=ry(null,l,b,s,p);break e;case 11:l=Mp(null,l,b,s,p);break e;case 14:l=Ea(null,l,b,qi(b.type,s),p);break e}throw Error(n(306,b,""))}return l;case 0:return b=l.type,x=l.pendingProps,x=l.elementType===b?x:qi(b,x),kf(s,l,b,x,p);case 1:return b=l.type,x=l.pendingProps,x=l.elementType===b?x:qi(b,x),ry(s,l,b,x,p);case 3:e:{if(xa(l),s===null)throw Error(n(387));b=l.pendingProps,O=l.memoizedState,x=O.element,zg(s,l),ff(l,b,null,p);var W=l.memoizedState;if(b=W.element,O.isDehydrated)if(O={element:b,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},l.updateQueue.baseState=O,l.memoizedState=O,l.flags&256){x=zl(Error(n(423)),l),l=Nf(s,l,b,p,x);break e}else if(b!==x){x=zl(Error(n(424)),l),l=Nf(s,l,b,p,x);break e}else for(Ko=Ls(l.stateNode.containerInfo.firstChild),Xr=l,Yn=!0,$i=null,p=pp(l,null,b,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ta(),b===x){l=Ca(s,l,p);break e}So(s,l,b,p)}l=l.child}return l;case 5:return mp(l),s===null&&Oo(l),b=l.type,x=l.pendingProps,O=s!==null?s.memoizedProps:null,W=x.children,Ru(b,x)?W=null:O!==null&&Ru(b,O)&&(l.flags|=32),ny(s,l),So(s,l,W,p),l.child;case 6:return s===null&&Oo(l),null;case 13:return td(s,l,p);case 4:return gf(l,l.stateNode.containerInfo),b=l.pendingProps,s===null?l.child=Vs(l,null,b,p):So(s,l,b,p),l.child;case 11:return b=l.type,x=l.pendingProps,x=l.elementType===b?x:qi(b,x),Mp(s,l,b,x,p);case 7:return So(s,l,l.pendingProps,p),l.child;case 8:return So(s,l,l.pendingProps.children,p),l.child;case 12:return So(s,l,l.pendingProps.children,p),l.child;case 10:e:{if(b=l.type._context,x=l.pendingProps,O=l.memoizedProps,W=x.value,Ln(Bl,b._currentValue),b._currentValue=W,O!==null)if(Oe(O.value,W)){if(O.children===x.children&&!Fo.current){l=Ca(s,l,p);break e}}else for(O=l.child,O!==null&&(O.return=l);O!==null;){var de=O.dependencies;if(de!==null){W=O.child;for(var ye=de.firstContext;ye!==null;){if(ye.context===b){if(O.tag===1){ye=Ji(-1,p&-p),ye.tag=2;var Le=O.updateQueue;if(Le!==null){Le=Le.shared;var Ge=Le.pending;Ge===null?ye.next=ye:(ye.next=Ge.next,Ge.next=ye),Le.pending=ye}}O.lanes|=p,ye=O.alternate,ye!==null&&(ye.lanes|=p),Si(O.return,p,l),de.lanes|=p;break}ye=ye.next}}else if(O.tag===10)W=O.type===l.type?null:O.child;else if(O.tag===18){if(W=O.return,W===null)throw Error(n(341));W.lanes|=p,de=W.alternate,de!==null&&(de.lanes|=p),Si(W,p,l),W=O.sibling}else W=O.child;if(W!==null)W.return=O;else for(W=O;W!==null;){if(W===l){W=null;break}if(O=W.sibling,O!==null){O.return=W.return,W=O;break}W=W.return}O=W}So(s,l,x.children,p),l=l.child}return l;case 9:return x=l.type,b=l.pendingProps.children,Hs(l,p),x=wo(x),b=b(x),l.flags|=1,So(s,l,b,p),l.child;case 14:return b=l.type,x=qi(b,l.pendingProps),x=qi(b.type,x),Ea(s,l,b,x,p);case 15:return kp(s,l,l.type,l.pendingProps,p);case 17:return b=l.type,x=l.pendingProps,x=l.elementType===b?x:qi(b,x),Vc(s,l),l.tag=1,Po(b)?(s=!0,vi(l)):s=!1,Hs(l,p),fp(l,b,x),hp(l,b,x,p),Ap(null,l,b,!0,s,p);case 19:return oy(s,l,p);case 22:return Np(s,l,p)}throw Error(n(156,l.tag))};function Sy(s,l){return Ya(s,l)}function bw(s,l,p,b){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(s,l,p,b){return new bw(s,l,p,b)}function Gp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function zf(s){if(typeof s=="function")return Gp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Q)return 11;if(s===ie)return 14}return 2}function tl(s,l){var p=s.alternate;return p===null?(p=ni(s.tag,l,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=l,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,l=s.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Vf(s,l,p,b,x,O){var W=2;if(b=s,typeof s=="function")Gp(s)&&(W=1);else if(typeof s=="string")W=5;else e:switch(s){case z:return $l(p.children,x,O,l);case Y:W=8,x|=8;break;case V:return s=ni(12,p,l,x|2),s.elementType=V,s.lanes=O,s;case ae:return s=ni(13,p,l,x),s.elementType=ae,s.lanes=O,s;case X:return s=ni(19,p,l,x),s.elementType=X,s.lanes=O,s;case ue:return Wf(p,x,O,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:W=10;break e;case re:W=9;break e;case Q:W=11;break e;case ie:W=14;break e;case Z:W=16,b=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=ni(W,p,l,x),l.elementType=s,l.type=b,l.lanes=O,l}function $l(s,l,p,b){return s=ni(7,s,b,l),s.lanes=p,s}function Wf(s,l,p,b){return s=ni(22,s,b,l),s.elementType=ue,s.lanes=p,s.stateNode={isHidden:!1},s}function Jp(s,l,p){return s=ni(6,s,null,l),s.lanes=p,s}function Kp(s,l,p){return l=ni(4,s.children!==null?s.children:[],s.key,l),l.lanes=p,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function Sw(s,l,p,b,x){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ne(0),this.expirationTimes=Ne(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.identifierPrefix=b,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Qp(s,l,p,b,x,O,W,de,ye){return s=new Sw(s,l,p,de,ye),l===1?(l=1,O===!0&&(l|=8)):l=0,O=ni(3,null,null,l),s.current=O,O.stateNode=s,O.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(O),s}function Dw(s,l,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:b==null?null:""+b,children:s,containerInfo:l,implementation:p}}function Dy(s){if(!s)return _s;s=s._reactInternals;e:{if(Hi(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Po(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var p=s.type;if(Po(p))return Rg(s,p,l)}return l}function Ty(s,l,p,b,x,O,W,de,ye){return s=Qp(p,b,!0,s,x,O,W,de,ye),s.context=Dy(null),p=s.current,b=Do(),x=Qs(p),O=Ji(b,x),O.callback=l??null,Us(p,O,x),s.current.lanes=x,Ie(s,x,b),io(s,b),s}function Zf(s,l,p,b){var x=l.current,O=Do(),W=Qs(x);return p=Dy(p),l.context===null?l.context=p:l.pendingContext=p,l=Ji(O,W),l.payload={element:s},b=b===void 0?null:b,b!==null&&(l.callback=b),s=Us(x,l,W),s!==null&&(ea(s,x,W,O),zs(s,x,W)),W}function $f(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Iy(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<l?p:l}}function Xp(s,l){Iy(s,l),(s=s.alternate)&&Iy(s,l)}function Tw(){return null}var em=typeof reportError=="function"?reportError:function(s){console.error(s)};function qf(s){this._internalRoot=s}Gf.prototype.render=qf.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));Zf(s,l,null,null)},Gf.prototype.unmount=qf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Vl(function(){Zf(null,s,null,null)}),l[Jo]=null}};function Gf(s){this._internalRoot=s}Gf.prototype.unstable_scheduleHydration=function(s){if(s){var l=mo();s={blockedOn:null,target:s,priority:l};for(var p=0;p<pa.length&&l!==0&&l<pa[p].priority;p++);pa.splice(p,0,s),p===0&&fi(s)}};function tm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Jf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ey(){}function Kf(s,l,p,b,x){if(x){if(typeof b=="function"){var O=b;b=function(){var Le=$f(W);O.call(Le)}}var W=Ty(l,b,s,0,null,!1,!1,"",Ey);return s._reactRootContainer=W,s[Jo]=W.current,Os(s.nodeType===8?s.parentNode:s),Vl(),W}for(;x=s.lastChild;)s.removeChild(x);if(typeof b=="function"){var de=b;b=function(){var Le=$f(ye);de.call(Le)}}var ye=Qp(s,0,!1,null,null,!1,!1,"",Ey);return s._reactRootContainer=ye,s[Jo]=ye.current,Os(s.nodeType===8?s.parentNode:s),Vl(function(){Zf(l,ye,p,b)}),ye}function Qf(s,l,p,b,x){var O=p._reactRootContainer;if(O){var W=O;if(typeof x=="function"){var de=x;x=function(){var ye=$f(W);de.call(ye)}}Zf(l,W,s,x)}else W=Kf(p,l,s,x,b);return $f(W)}Yt=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var p=zi(l.pendingLanes);p!==0&&(it(l,p|1),io(l,Dn()),!(fn&6)&&(Jc=Dn()+500,Bs()))}break;case 13:Vl(function(){var b=Gi(s,1);if(b!==null){var x=Do();ea(b,s,1,x)}}),Xp(s,1)}},In=function(s){if(s.tag===13){var l=Gi(s,134217728);if(l!==null){var p=Do();ea(l,s,134217728,p)}Xp(s,134217728)}},Co=function(s){if(s.tag===13){var l=Qs(s),p=Gi(s,l);if(p!==null){var b=Do();ea(p,s,l,b)}Xp(s,l)}},mo=function(){return ut},Br=function(s,l){var p=ut;try{return ut=s,l()}finally{ut=p}},Fe=function(s,l,p){switch(l){case"input":if(Tt(s,p),l=p.name,p.type==="radio"&&l!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var b=p[l];if(b!==s&&b.form===s.form){var x=nf(b);if(!x)throw Error(n(90));_e(b),Tt(b,x)}}}break;case"textarea":Qn(s,p);break;case"select":l=p.value,l!=null&&Gt(s,!!p.multiple,l,!1)}},en=Wp,jn=Vl;var Iw={usingClientEntryPoint:!1,Events:[Jr,Jt,nf,nt,kt,Wp]},ld={findFiberByHostInstance:wa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ew={bundleType:ld.bundleType,version:ld.version,rendererPackageName:ld.rendererPackageName,rendererConfig:ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ha(s),s===null?null:s.stateNode},findFiberByHostInstance:ld.findFiberByHostInstance||Tw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{Vo=Xf.inject(Ew),po=Xf}catch{}}return Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iw,Mi.createPortal=function(s,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tm(l))throw Error(n(200));return Dw(s,l,null,p)},Mi.createRoot=function(s,l){if(!tm(s))throw Error(n(299));var p=!1,b="",x=em;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Qp(s,1,!1,null,null,p,!1,b,x),s[Jo]=l.current,Os(s.nodeType===8?s.parentNode:s),new qf(l)},Mi.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ha(l),s=s===null?null:s.stateNode,s},Mi.flushSync=function(s){return Vl(s)},Mi.hydrate=function(s,l,p){if(!Jf(l))throw Error(n(200));return Qf(null,s,l,!0,p)},Mi.hydrateRoot=function(s,l,p){if(!tm(s))throw Error(n(405));var b=p!=null&&p.hydratedSources||null,x=!1,O="",W=em;if(p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(O=p.identifierPrefix),p.onRecoverableError!==void 0&&(W=p.onRecoverableError)),l=Ty(l,null,s,1,p??null,x,!1,O,W),s[Jo]=l.current,Os(s),b)for(s=0;s<b.length;s++)p=b[s],x=p._getVersion,x=x(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,x]:l.mutableSourceEagerHydrationData.push(p,x);return new Gf(l)},Mi.render=function(s,l,p){if(!Jf(l))throw Error(n(200));return Qf(null,s,l,!1,p)},Mi.unmountComponentAtNode=function(s){if(!Jf(s))throw Error(n(40));return s._reactRootContainer?(Vl(function(){Qf(null,null,s,!1,function(){s._reactRootContainer=null,s[Jo]=null})}),!0):!1},Mi.unstable_batchedUpdates=Wp,Mi.unstable_renderSubtreeIntoContainer=function(s,l,p,b){if(!Jf(p))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Qf(s,l,p,!1,b)},Mi.version="18.2.0-next-9e3b772b8-20220608",Mi}function Wx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wx)}catch(e){console.error(e)}}Wx();Vx.exports=J9();var c0=Vx.exports;const K1=$r(c0);var lg,Zx=c0;lg=Oa.createRoot=Zx.createRoot;Oa.hydrateRoot=Zx.hydrateRoot;const K9=e=>{const{children:t,className:n,clickSpaceDestroy:r,destroy:o}=e,i=()=>{r&&o()},a=c=>{(c.key==="Escape"||(c.ctrlKey||c.metaKey)&&c.key.toLowerCase()==="w")&&o()};return y.jsx("div",{className:`dialog-wrapper ${n}`,onClick:i,onKeyDown:c=>a(c),children:y.jsx("div",{className:"dialog-container",onClick:c=>c.stopPropagation(),children:t})})};function u0(e,t,n){const r=document.createElement("div");document.body.append(r),setTimeout(()=>{var d;(d=r.firstElementChild)==null||d.classList.add("showup")},0);const o={destroy:()=>{var d,f;(d=r.firstElementChild)==null||d.classList.remove("showup"),(f=r.firstElementChild)==null||f.classList.add("showoff"),setTimeout(()=>{r.detach(),c.unmount(),document.body.find(".domtoimage-thino")&&document.body.findAll(".domtoimage-thino").forEach(g=>{g.detach()})},PE)}},i={...n,destroy:o.destroy};let a=y.jsx(K9,{destroy:o.destroy,clickSpaceDestroy:!0,...e,children:y.jsx(t,{...i})});a=y.jsx(_a,{store:Re,context:Ot,children:a});const c=Oa.createRoot(r);return c.render(a),o}class Q9 extends C.Modal{constructor(n,r,o){super(n);De(this,"plugin");this.version=o,this.plugin=r}onOpen(){super.onOpen(),this.titleEl.setText(E("Submit issue")),new C.Setting(this.contentEl).setName(E("Current version")+": "+this.version),new C.Setting(this.contentEl).setName(E("Bug report")).setDesc(E("Click the button to copy debug info and open the issue page")).addButton(n=>{n.setButtonText(E("Copy and go")).onClick(async()=>{await rD(this.plugin),new C.Notice(E("Debug info copied")),setTimeout(()=>{window.open("https://github.com/Quorafind/Obsidian-Thino/issues/new/choose"),this.close()},100)})}),new C.Setting(this.contentEl).setName(E("Feature request")).setDesc(E("Submit your feature request to the issue page")).addButton(n=>{n.setButtonText(E("Go")).onClick(async()=>{window.open("https://github.com/Quorafind/Obsidian-Thino/issues/new/choose"),this.close()})})}}const X9=e=>{const{shownStatus:t,setShownStatus:n}=e,{dailyNotesState:{app:r,settings:o,plugin:i},globalState:{manifest:a}}=F.useContext(Ot),c=F.useRef(null);F.useEffect(()=>{if(t){const S=I=>{var k;(k=c.current)!=null&&k.contains(I.target)||I.stopPropagation(),n(!1)};window.addEventListener("click",S,{capture:!0,once:!0})}},[t]);const d=F.useCallback(async S=>{const{type:I}=S;if(I.startsWith("text"))try{return`${await J1.parseHtml(S)}`}catch(k){new C.Notice(k)}},[]),f=F.useCallback(()=>{const S=document.createElement("input");document.body.appendChild(S),S.type="file",S.multiple=!1,S.accept="text/html",S.onchange=async()=>{if(!S.files||S.files.length===0)return;const I=S.files[0];await d(I),document.body.removeChild(S)},S.click()},[]),m=()=>{r.setting.open(),r.setting.openTabById(a.id||"obsidian-memos")},g=()=>{if(o!=null&&o.needVerify){dt.setLocked(!0);return}else new C.Notice(E("You have not set a password or enable this feature yet")),r.setting.open(),r.setting.openTabById(a.id||"obsidian-memos")},v=()=>{new oD(r,a.version).open()},w=()=>{dt.setShowSiderbarInMobileView(!1),i.settingTab.updateSettings("FirstLoaded",!0)},T=()=>{new Q9(r,i,a.version).open()};return y.jsxs("div",{className:`menu-btns-popup ${t?"":"hidden"}`,ref:c,children:[y.jsxs("div",{className:"btn action-btn",onClick:m,children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,"user")},className:"icon"}),E("Settings")]}),(o==null?void 0:o.needVerify)&&y.jsxs("div",{className:"btn action-btn",onClick:g,children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,"lock")},className:"icon"}),E("Lock")]}),y.jsxs("div",{className:"btn action-btn",onClick:f,children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,"import")},className:"icon"}),E("Import")]}),y.jsxs("div",{className:"btn action-btn",onClick:v,children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,"file-text")},className:"icon"}),E("ChangeLog")]}),y.jsxs("div",{className:"btn action-btn",onClick:w,children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,"file-text")},className:"icon"}),E("Setting guide")]}),y.jsxs("div",{className:"btn action-btn",onClick:T,children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,"file-text")},className:"icon"}),E("Submit issue")]})]})};function $x(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=$x(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Kn(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=$x(e))&&(r&&(r+=" "),r+=t);return r}const e5=e=>{const t={};return e.forEach(n=>{const r=n.createdAt.split(" ")[0];t[r]?t[r]++:t[r]=1}),Object.keys(t).sort((n,r)=>t[r]-t[n])[0]},t5=e=>{const t={};return e.forEach(n=>{const r=n.createdAt.slice(11,13);t[r]?t[r]++:t[r]=1}),Object.keys(t).sort((n,r)=>t[r]-t[n])[0]},Q1=({statusType:e})=>{const{memoState:{memos:t,tags:n},locationState:{pathname:r},dailyNotesState:{settings:o,app:i}}=F.useContext(Ot),[a,c]=F.useState(0),[d,f]=F.useState(0),[m,g]=F.useState(0),[v,w]=F.useState(null),[T,S]=F.useState(!1),I=le.useRef(null),[k,P]=F.useState(0),[R,M]=F.useState(0),[_,L]=F.useState(0),[z,Y]=F.useState(""),[V,$]=F.useState(""),[re,Q]=F.useState(!1),[ae,X]=F.useState(null);F.useEffect(()=>{const ne=t.filter(he=>!he.deletedAt&&he.rowStatus!=="ARCHIVED");L(ne.filter(he=>{var K;return(K=he.thinoType)==null?void 0:K.startsWith("TASK")}).length),Y(e5(t)),$(t5(t))},[t]),F.useLayoutEffect(()=>{if(!i)return;const{tags:ne,memos:he,days:K}=n5(i);g(ne),c(he),f(K)},[i]),F.useEffect(()=>{let ne=0;const he=a-k,K=1e3,oe=pe=>{ne||(ne=pe);const Ee=pe-ne;if(Ee<K){const je=Ee/K;P(k+he*je),requestAnimationFrame(oe)}else P(a)};requestAnimationFrame(oe)},[a]),F.useEffect(()=>{let ne=0;const he=d-R,K=1e3,oe=pe=>{ne||(ne=pe);const Ee=pe-ne;if(Ee<K){const je=Ee/K;M(R+he*je),requestAnimationFrame(oe)}else M(d)};requestAnimationFrame(oe)},[d]),F.useEffect(()=>{!o||!i||(S(a>9999||m>999||d>999),r5({tags:m,memos:a,days:d},i))},[a,m,d]),F.useEffect(()=>{Te.initialized&&t&&r==="/"&&(g(n.length),c(t.filter(ne=>!(ne.deletedAt!==""&&ne.deletedAt)).length),w(t.length>0?t[t.length-1]:null))},[n,t,r]),F.useEffect(()=>{if(!Te.initialized)return;if(!v){f(0);return}if(!I.current||!(v!=null&&v.createdAt))return;C.requireApiVersion("1.4.4")&&C.setTooltip(I.current,E("Started from")+" "+ct.getDateTimeString((v==null?void 0:v.createdAt)??""));const ne=Math.ceil((Date.now()-ct.getTimeStampByDate(v==null?void 0:v.createdAt))/1e3/3600/24);f(t?ne:0)},[v]);const ie=(ne,he)=>{if(re&&he===ae){ot.setMemoFilter(""),Q(!1);return}const K=tn.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([ne]));tn.pushQuery(K),ot.setMemoFilter(K.id),Q(!0),X(he)},Z=()=>{ie({type:"LIST",value:{operator:"IS_NOT",value:"LIST"},relation:"AND"},"LIST")},ue=()=>{ie({type:"TYPE",value:{operator:"IS_NOT",value:"NOT_TAGGED"},relation:"AND"},"TYPE")};return y.jsx("div",{className:Kn("status-text-container",T?"text-overflow":"",e),children:e==="banner"?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"status-text memos-text",children:[y.jsx("span",{className:"amount-text",children:Math.round(k)}),y.jsx("span",{className:"type-text",children:"THINO"})]}),y.jsxs("div",{className:"status-text tags-text",children:[y.jsx("span",{className:"amount-text",children:m}),y.jsx("span",{className:"type-text",children:E("TAG")})]}),y.jsxs("div",{ref:I,className:"status-text duration-text",onClick:()=>{dt.setShowSiderbarInMobileView(!1),ot.setPathname("/daily")},children:[y.jsx("span",{className:"amount-text",children:Math.round(R)??0}),y.jsx("span",{className:"type-text",children:E("DAY")})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"status-sidebar-header title-text",children:y.jsx("span",{className:"normal-text",children:E("Thino status")})}),y.jsxs("div",{className:"status-sidebar-wrapper",children:[y.jsxs("div",{className:"status-text memos-text",children:[y.jsx("span",{className:"type-text",children:E("Thino amount")}),y.jsx("span",{className:"amount-text",children:Math.round(k)})]}),y.jsxs("div",{className:"status-text memos-text",onClick:Z,children:[y.jsx("span",{className:"type-text",children:E("Task amount")}),y.jsx("span",{className:"amount-text",children:Math.round(_)??0})]}),y.jsxs("div",{className:"status-text tags-text",onClick:ue,children:[y.jsx("span",{className:"type-text",children:E("Used tags")}),y.jsx("span",{className:"amount-text",children:m})]}),y.jsxs("div",{ref:I,className:"status-text duration-text",onClick:()=>{dt.setShowSiderbarInMobileView(!1),ot.setPathname("/daily")},children:[y.jsx("span",{className:"type-text",children:E("Used days")}),y.jsx("span",{className:"amount-text",children:Math.round(R)??0})]}),y.jsxs("div",{className:"status-text most-active-day-text",onClick:()=>{const ne=C.moment(z,"YYYY/MM/DD").startOf("day").valueOf(),he=C.moment(z,"YYYY/MM/DD").endOf("day").valueOf();ot.setFromAndToQuery(ne,he)},children:[y.jsx("span",{className:"type-text",children:E("Most active day")}),y.jsx("span",{className:"amount-text",children:z})]}),y.jsxs("div",{className:"status-text most-active-hour-text",children:[y.jsx("span",{className:"type-text",children:E("Most active hour")}),y.jsx("span",{className:"amount-text",children:V})]})]})]})})};function qx(e){return`userBannerCache:${e}`}function n5(e){try{const t=qx(e==null?void 0:e.appId),n=Wr.get([t])[t];return n?JSON.parse(n):{tags:0,memos:0,days:0}}catch(t){return console.error(t),{tags:0,memos:0,days:0}}}function r5({tags:e,memos:t,days:n},r){try{const o={tags:e,memos:t,days:n},i=qx(r==null?void 0:r.appId);Wr.set({[i]:JSON.stringify(o)})}catch(o){console.error(o)}}const o5=[{text:E("AND"),value:"AND"},{text:E("OR"),value:"OR"}],ru={TAG:{value:"TAG",text:E("TAG"),operators:[{text:E("INCLUDE"),value:"CONTAIN"},{text:E("EXCLUDE"),value:"NOT_CONTAIN"}]},TYPE:{value:"TYPE",text:E("TYPE"),operators:[{value:"IS",text:E("IS")},{value:"IS_NOT",text:E("ISNOT")}],values:[{value:"CONNECTED",text:E("LINKED")},{value:"NOT_TAGGED",text:E("NO TAGS")},{value:"LINKED",text:E("HAS LINKS")},{value:"IMAGED",text:E("HAS IMAGES")}]},TEXT:{value:"TEXT",text:E("TEXT"),operators:[{value:"CONTAIN",text:E("INCLUDE")},{value:"NOT_CONTAIN",text:E("EXCLUDE")}]},DATE:{value:"DATE",text:E("DATE"),operators:[{value:"NOT_CONTAIN",text:E("BEFORE")},{value:"CONTAIN",text:E("AFTER")}]},LIST:{value:"LIST",text:E("LIST"),operators:[{value:"IS",text:E("IS")},{value:"IS_NOT",text:E("ISNOT")}],values:[{value:"TODO",text:E("TODO")},{value:"DONE",text:E("DONE")},{value:"LIST",text:E("JOURNAL")},{value:"OTHER",text:E("OTHER")}]},SOURCE:{value:"SOURCE",text:E("SOURCE"),operators:[{value:"IS",text:E("IS")},{value:"IS_NOT",text:E("ISNOT")}],values:[{value:"DAILY",text:E("DAILY")},{value:"MULTI",text:E("MULTI")},{value:"FILE",text:E("FILE")},{value:"CANVAS",text:E("CANVAS")}]}},$b=ru.TYPE.values,i5=e=>{for(const t of $b)if(t.value===e)return t.text;return""},hT=()=>({type:"TAG",value:{operator:"CONTAIN",value:""},relation:"AND"}),Rh=(e,t)=>{let n=!0;for(const r of t){const{relation:o}=r,i=a5(e,r);o==="OR"?n=n||i:n=n&&i}return n},a5=(e,t)=>{const{type:n,value:{operator:r,value:o}}=t;if(o==="")return!0;let i=!0;if(n==="TAG"){let a=!0;const c=new Set;for(const d of Array.from(e.content.match(gr)||[])){const m=d.replace(gr,"$1").trim().split("/");let g="";for(const v of m)g+=v,c.add(g),g+="/"}for(const d of Array.from(e.content.match(jr)||[])){const m=d.replace(jr,"$1").trim().split("/");let g="";for(const v of m)g+=v,c.add(g),g+="/"}c.has(o)||(a=!1),r==="NOT_CONTAIN"&&(a=!a),i=a}else if(n==="TYPE"){let a=!1;(o==="NOT_TAGGED"&&e.content.match(gr)===null&&e.content.match(so)===null||o==="LINKED"&&e.content.match(Ld)!==null||o==="IMAGED"&&e.content.match(Rd)!==null||o==="CONNECTED"&&e.content.match(gu)!==null)&&(a=!0),r==="IS_NOT"&&(a=!a),i=a}else if(n==="TEXT"){let a=e.content.toLowerCase().includes(o.toLowerCase());r==="NOT_CONTAIN"&&(a=!a),i=a}else if(n==="LIST"){let c=(e.thinoType==="JOURNAL"?"LIST":e.thinoType==="TASK-TODO"?"TODO":e.thinoType==="TASK-DONE"?"DONE":"OTHER").contains(o);r==="IS_NOT"&&(c=!c),i=c}else if(n==="SOURCE"){let a=e.sourceType===o;r==="IS_NOT"&&(a=!a),i=a}else if(n==="DATE"){const a=C.moment(o,"YYYY-MM-DD").isValid();let c,d;if(a)c=C.moment(o,"YYYY-MM-DD"),d=c.isBefore(C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),"day");else{const m=(app.plugins.enabledPlugins.has("nldates-obsidian")&&app.plugins.getPlugin("nldates-obsidian")).parseDate(o);m.date!==null&&(d=m.moment.isBefore(C.moment(e.createdAt),"day"))}r==="NOT_CONTAIN"&&(d=!d),i=d}return i=e.linkId===""?i:!1,i};function yl(e){const[t,n]=F.useState(()=>!!e),r=F.useCallback(o=>{n(typeof o=="boolean"?o:i=>!i)},[]);return[t,r]}const cg=()=>{const{dailyNotesState:{app:e,view:t},locationState:{query:{type:n}}}=F.useContext(Ot),r=le.useRef(null),o=le.useRef(null),[i,a]=yl(!1);F.useEffect(()=>{!r||!t||!e||(t.registerEvent(e.workspace.on("blur-on-memos",()=>{var g;(g=r.current)==null||g.blur()})),t.registerEvent(e.workspace.on("focus-on-searchBar",()=>{var g;(g=r.current)==null||g.focus()})))},[r,e,t]),F.useEffect(()=>{o&&C.setIcon(o.current,"search")},[o]);const c=g=>{const{type:v}=ot.getState().query;g===v&&(g=""),ot.setMemoTypeQuery(g)},d=g=>{const v=g.currentTarget.value;if(!v.contains(" -time: ")){ot.setTextQuery(v);return}const w=v.split(" -time: ")[1],T=w.length>10?w.match(/\d{4}-\d{2}-\d{2}/g):null;if(T==null){ot.setTextQuery(v.split(" -time: ")[0]);return}if(T.length===1){const S=C.moment(T[0]);ot.setTimeQuery({from:S.startOf("day").valueOf(),to:S.endOf("day").valueOf()})}else if(T.length===2){const S=C.moment(T[0]),I=C.moment(T[1]);ot.setTimeQuery({from:S.startOf("day").valueOf(),to:I.endOf("day").valueOf()})}ot.setTextQuery(v.split(" -time: ")[0])},f=()=>{a(!0)},m=()=>{a(!1)};return y.jsxs("div",{className:"search-bar-container",children:[y.jsxs("div",{className:"search-bar-inputer",children:[y.jsx("span",{ref:o,className:"btn icon-img"}),y.jsx("input",{ref:r,className:"text-input",type:"text",onMouseOver:f,onMouseOut:m,placeholder:i?E("Type here"):"",onChange:d})]}),y.jsx("div",{className:"quickly-action-wrapper",children:y.jsxs("div",{className:"quickly-action-container",children:[y.jsx("span",{className:"title-text",children:E("Quick filter")}),y.jsxs("div",{className:"section-container types-container",children:[y.jsxs("span",{className:"section-text",children:[E("TYPE"),":"]}),y.jsx("div",{className:"values-container",children:$b.map((g,v)=>y.jsxs("div",{children:[y.jsx("span",{className:`type-item ${n===g.value?"selected":""}`,onClick:()=>{c(g.value)},children:g.text}),v+1<$b.length?y.jsx("span",{className:"split-text",children:"/"}):null]},g.value))})]})]})})]})},s5=e=>{const{children:t,when:n}=e;return n?y.jsx(y.Fragment,{children:t}):null},Fa=s5;function bn(){const e=document.createDocumentFragment();e.createEl("div",{cls:"thino-info"}).createEl("div",{text:E("This is a pro feature, please upgrade to pro version to use it.")});const r=e.createEl("div",{cls:"thino-link"}).createEl("div",{text:E("You can get pro version from: ")}),o=localStorage.getItem("language");let i="https://pkmer.cn/products/UserProfile/";o&&o==="zh"?i="https://pkmer.cn/products/thino/":i="https://thino.pkmer.net/en/",r.createEl("a",{text:"PKMer",attr:{href:i}}),new C.Notice(e,5e3)}const{exec:l5,execSync:Wre}=C.Platform.isDesktop&&require("child_process"),{createHash:c5}=C.Platform.isDesktop&&require("crypto"),u5={native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"},d5=C.Platform.isDesktop&&{darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:`${u5[f5()]}\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid`,linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"};function f5(){return process.platform!=="win32"?"":process.arch==="ia32"&&Object.hasOwnProperty.call(process.env,"PROCESSOR_ARCHITEW6432")?"mixed":"native"}function h5(e){return c5("sha256").update(e).digest("hex")}function p5(e){switch(process.platform){case"darwin":return e.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return e.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"freebsd":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error(`Unsupported platform: ${process.platform}`)}}function Jn(e=!1){return new Promise((t,n)=>{l5(d5[process.platform],{},(r,o)=>{if(r)return n(new Error(`Error while obtaining machine id: ${r.stack}`));const i=p5(o.toString());return t(e?i:h5(i))})})}const pT={list:"align-left",waterfall:"layout-grid",calendar:"calendar",minimal:"list",table:"table",chat:"message-square",moments:"chrome"},m5=e=>{const{dailyNotesState:{app:t,view:n,verifyState:r,settings:o},globalState:{manifest:i,isMobileView:a}}=F.useContext(Ot),c=F.useRef(null),d=F.useRef(null),[f,m]=F.useState((window.app||t).loadLocalStorage("thinoListView")),[g,v]=F.useState(null);F.useEffect(()=>{if(!i||!t)return;const T=t==null?void 0:t.plugins.getPlugin(i.id);v(T),m(T==null?void 0:T.settings.MemoListView),dt.setMemoListView(T==null?void 0:T.settings.MemoListView)},[i,t]),F.useEffect(()=>{if(!t||!n||!g||!g.settings)return;const T=()=>{var I;if(n.leaf.height===0)return;const S=(I=g==null?void 0:g.settings)==null?void 0:I.MemoListView;S==="chat"||S==="moments"||(n.leaf.width>950?(m(S),dt.setMemoListView(S)):n.leaf.width<=950&&(dt.setMemoListView("list"),m("list")))};T(),d.current||(d.current=t.workspace.on("resize",T),n.registerEvent(d.current))},[t,n,g]),F.useEffect(()=>{c&&(C.setIcon(c.current,pT[f||"list"]),dt.setMemoListView(f),C.requireApiVersion("1.4.4")&&C.setTooltip(c.current,E("Switch view")))},[f]);const w=async T=>{var M;const S=!C.Platform.isDesktop&&await((M=window.Capacitor)==null?void 0:M.Plugins.Device.getId()),I=C.Platform.isDesktop?await Jn():S.identifier||S.uuid;if(!r||(r==null?void 0:r.appId)!==I){bn();return}const k=async _=>{dt.setMemoListView(_),g&&(g.settings.MemoListView=_,await g.saveSettings()),m(_)},P=[{view:"list",title:E("List")},{view:"chat",title:E("Chat")},{view:"moments",title:E("Moments")}];a||P.push({view:"waterfall",title:E("Waterfall")},{view:"calendar",title:E("Calendar")},{view:"table",title:E("Table")});const R=new C.Menu;P.forEach(({view:_,title:L})=>{R.addItem(z=>{z.setChecked(f===_).setIcon(pT[_]).setTitle(L).onClick(()=>{f!==_&&k(_)})})}),R.showAtMouseEvent(T.nativeEvent)};return y.jsx("div",{className:`memos-view-switcher-wrapper ${e.className?e.className:""} pro`,ref:c,onClick:w})},g5=()=>{const e=F.useRef(null);return F.useEffect(()=>{e&&(C.setIcon(e.current,"calendar-check"),C.setTooltip&&C.setTooltip(e.current,E("Daily Memos")))},[e]),y.jsx("div",{className:"memos-review-entry-wrapper",ref:e,onClick:()=>{ot.setPathname("/daily")}})},Kw=()=>({type:"initialText",value:"",timestamp:Date.now(),selectionStart:0,selectionEnd:0}),mT={initialValue:"",interval:300};class y5{constructor(t,n=mT){this.listeners=[],this.runUndo=()=>{const r=this.actions[this.currentIndex].selectionStart;this.currentIndex>0&&this.currentIndex--,this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.runRedo=()=>{this.currentIndex<this.actions.length-1&&this.currentIndex++;const r=this.actions[this.currentIndex].selectionEnd;this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.getActions=()=>this.actions,this.setState=(r,o)=>{this.actions=[...r],this.currentIndex=o<this.actions.length?o:this.actions.length-1,this.dispatchChange()},this.resetState=()=>{this.actions=[Kw()],this.currentIndex=0,this.dispatchChange()},this.destroy=()=>{this.rmEventListeners()},this.subscribe=r=>{this.listeners.push(r)},this.handleElementKeydown=r=>{const o=r;o.key==="z"&&!o.shiftKey&&(o.metaKey||o.ctrlKey)?(r.preventDefault(),this.runUndo()):(o.key==="z"&&o.shiftKey&&(o.metaKey||o.ctrlKey)||o.key==="y"&&(o.metaKey||o.ctrlKey))&&(r.preventDefault(),this.runRedo())},this.handleElementInput=r=>{const o=r,i=this.actions[this.currentIndex];this.pushNewAction({type:o.inputType,value:this.element.value,timestamp:Date.now(),selectionStart:this.element.selectionEnd-(this.element.value.length-i.value.length),selectionEnd:this.element.selectionEnd})},this.addEventListeners=()=>{this.element.addEventListener("keydown",this.handleElementKeydown),this.element.addEventListener("input",this.handleElementInput)},this.rmEventListeners=()=>{this.element.removeEventListener("keydown",this.handleElementKeydown),this.element.removeEventListener("input",this.handleElementInput)},this.pushNewAction=r=>{const o=this.actions[this.currentIndex];o&&o.type===r.type&&r.timestamp-o.timestamp<this.config.interval?this.actions[this.currentIndex]=Object.assign(Object.assign({},o),{value:r.value,selectionEnd:r.selectionEnd,timestamp:r.timestamp}):(this.config.maxSize&&this.currentIndex>=this.config.maxSize?(this.actions.shift(),this.actions[0]=Kw()):this.currentIndex++,this.actions[this.currentIndex]=r,this.actions=this.actions.slice(0,this.currentIndex+1)),this.dispatchChange()},this.dispatchChange=()=>{for(const r of this.listeners)r([...this.actions],this.currentIndex)},this.element=t,this.config=Object.assign(Object.assign({},mT),n),this.config.initialActions&&this.config.initialActions.length>0?(this.actions=this.config.initialActions,this.config.initialIndex!==void 0&&this.config.initialIndex<this.actions.length?this.currentIndex=this.config.initialIndex:this.currentIndex=this.actions.length-1):(this.actions=[Kw()],this.currentIndex=0,this.config.initialValue!==""&&(this.actions.push({type:"insertText",value:this.config.initialValue,timestamp:Date.now(),selectionStart:0,selectionEnd:this.config.initialValue.length}),this.currentIndex++)),this.element.value=this.actions[this.currentIndex].value,this.addEventListeners()}}function v5(){const[,e]=F.useState(!1);return F.useCallback(()=>{e(n=>!n)},[])}var Gx={exports:{}};(function(e){(function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=typeof window<"u",r=n&&window.mozInnerScreenX!=null;function o(i,a,c){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var d=c&&c.debug||!1;if(d){var f=document.querySelector("#input-textarea-caret-position-mirror-div");f&&f.parentNode.removeChild(f)}var m=document.createElement("div");m.id="input-textarea-caret-position-mirror-div",document.body.appendChild(m);var g=m.style,v=window.getComputedStyle?getComputedStyle(i):i.currentStyle;g.whiteSpace="pre-wrap",i.nodeName!=="INPUT"&&(g.wordWrap="break-word"),g.position="absolute",d||(g.visibility="hidden"),t.forEach(function(S){g[S]=v[S]}),r?i.scrollHeight>parseInt(v.height)&&(g.overflowY="scroll"):g.overflow="hidden",m.textContent=i.value.substring(0,a),i.nodeName==="INPUT"&&(m.textContent=m.textContent.replace(/\s/g," "));var w=document.createElement("span");w.textContent=i.value.substring(a)||".",m.appendChild(w);var T={top:w.offsetTop+parseInt(v.borderTopWidth),left:w.offsetLeft+parseInt(v.borderLeftWidth)};return d?w.style.backgroundColor="#aaa":document.body.removeChild(m),T}e.exports=o})()})(Gx);var w5=Gx.exports;const b5=$r(w5);var Jx=Vr.CustomEvent;function S5(){try{var e=new Jx("cat",{detail:{foo:"bar"}});return e.type==="cat"&&e.detail.foo==="bar"}catch{}return!1}var D5=S5()?Jx:typeof document<"u"&&typeof document.createEvent=="function"?function(t,n){var r=document.createEvent("CustomEvent");return n?r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):r.initCustomEvent(t,!1,!1,void 0),r}:function(t,n){var r=document.createEventObject();return r.type=t,n?(r.bubbles=!!n.bubbles,r.cancelable=!!n.cancelable,r.detail=n.detail):(r.bubbles=!1,r.cancelable=!1,r.detail=void 0),r};const T5=$r(D5);function I5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){I5(e,o,n[o])})}return e}function ug(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d0(e,t,n){return t&&gT(e.prototype,t),n&&gT(e,n),e}function hh(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hh=function(n){return typeof n}:hh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hh(e)}function av(e){return typeof Symbol=="function"&&hh(Symbol.iterator)==="symbol"?av=function(n){return hh(n)}:av=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":hh(n)},av(e)}function x5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f0(e,t){return t&&(av(t)==="object"||typeof t=="function")?t:x5(e)}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yh(e)}function qb(e,t){return qb=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},qb(e,t)}function h0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qb(e,t)}function C5(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function M5(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function k5(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function N5(e){return C5(e)||M5(e)||k5()}var ia={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},A5=function e(){var t=this;ug(this,e),this.startListen=function(n){n&&n.addEventListener("keydown",t.f)},this.stopListen=function(n){n&&n.removeEventListener("keydown",t.f)},this.add=function(n,r){var o=n;return typeof o!="object"&&(o=[o]),t.listeners[t.index]={keyCode:o,fn:r},t.index++},this.remove=function(n){delete t.listeners[n]},this.removeAll=function(){t.listeners={},t.index=1},this.index=1,this.listeners={},this.f=function(n){if(n){var r=n.keyCode||n.which;Object.values(t.listeners).forEach(function(o){var i=o.keyCode,a=o.fn;i.includes(r)&&(n.stopPropagation(),n.preventDefault(),a(n))})}}},wd=new A5,F5=function(e){h0(t,e);function t(){var n,r;ug(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=f0(this,(n=yh(t)).call.apply(n,[this].concat(i))),r.selectItem=function(){var c=r.props,d=c.item,f=c.onSelectHandler;f(d)},r}return d0(t,[{key:"shouldComponentUpdate",value:function(r){return this.props.item!==r.item||this.props.selected!==r.selected||this.props.style!==r.style||this.props.className!==r.className}},{key:"render",value:function(){var r=this,o=this.props,i=o.component,a=o.style,c=o.onClickHandler,d=o.item,f=o.selected,m=o.className,g=o.innerRef;return le.createElement("li",{className:"rta__item  ".concat(f===!0?"rta__item--selected":""," ").concat(m||""),style:a},le.createElement("div",{className:"rta__entity ".concat(f===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:c,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){r.clicked=!0,r.selectItem()},onTouchEnd:function(w){w.preventDefault(),r.clicked&&c(w)},onTouchMove:function(){r.clicked=!1},onTouchCancel:function(){r.clicked=!1},ref:g},le.createElement(i,{selected:f,entity:d})))}}]),t}(le.Component),P5=function(e){h0(t,e);function t(){var n,r;ug(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=f0(this,(n=yh(t)).call.apply(n,[this].concat(i))),r.state={selectedItem:null},r.cachedIdOfItems=new Map,r.onPressEnter=function(c){typeof c<"u"&&c.preventDefault();var d=r.props.values;r.modifyText(d[r.getPositionInList()])},r.getPositionInList=function(){var c=r.props.values,d=r.state.selectedItem;return d?c.findIndex(function(f){return r.getId(f)===r.getId(d)}):0},r.getId=function(c){if(r.cachedIdOfItems.has(c))return r.cachedIdOfItems.get(c);var d=r.props.getTextToReplace(c),f=function(){if(d){if(d.key)return d.key;if(typeof c=="string"||!c.key)return d.text}if(!c.key)throw new Error("Item ".concat(JSON.stringify(c),' has to have defined "key" property'));return c.key},m=f();return r.cachedIdOfItems.set(c,m),m},r.listeners=[],r.itemsRef={},r.modifyText=function(c){if(c){var d=r.props.onSelect;d(c)}},r.selectItem=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=r.props.onItemHighlighted;r.state.selectedItem!==c&&r.setState({selectedItem:c},function(){f(c),d&&r.props.dropdownScroll(r.itemsRef[r.getId(c)])})},r.scroll=function(c){c.preventDefault();var d=r.props.values,f=c.keyCode||c.which,m=r.getPositionInList(),g;switch(f){case ia.DOWN:g=m+1;break;case ia.UP:g=m-1;break;default:g=m;break}g=(g%d.length+d.length)%d.length,r.selectItem(d[g],[ia.DOWN,ia.UP].includes(f))},r.isSelected=function(c){var d=r.state.selectedItem;return d?r.getId(d)===r.getId(c):!1},r}return d0(t,[{key:"componentDidMount",value:function(){this.listeners.push(wd.add([ia.DOWN,ia.UP],this.scroll),wd.add([ia.ENTER,ia.TAB],this.onPressEnter));var r=this.props.values;r&&r[0]&&this.selectItem(r[0])}},{key:"componentDidUpdate",value:function(r){var o=this,i=r.values,a=this.props.values,c=i.map(function(f){return o.getId(f)}).join(""),d=a.map(function(f){return o.getId(f)}).join("");c!==d&&a&&a[0]&&this.selectItem(a[0])}},{key:"componentWillUnmount",value:function(){for(var r;this.listeners.length;)r=this.listeners.pop(),wd.remove(r)}},{key:"render",value:function(){var r=this,o=this.props,i=o.values,a=o.component,c=o.style,d=o.itemClassName,f=o.className,m=o.itemStyle;return le.createElement("ul",{className:"rta__list ".concat(f||""),style:c},i.map(function(g){return le.createElement(F5,{key:r.getId(g),innerRef:function(w){r.itemsRef[r.getId(g)]=w},selected:r.isSelected(g),item:g,className:d,style:m,onClickHandler:r.onPressEnter,onSelectHandler:r.selectItem,component:a})}))}}]),t}(le.Component);function O5(e,t){var n=parseInt(getComputedStyle(t).getPropertyValue("height"),10),r=parseInt(getComputedStyle(e).getPropertyValue("height"),10)-n,o=t.offsetTop,i=e.scrollTop;o<i+r&&i<o||(e.scrollTop=o)}var yT="next",eu={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},vT=function(t){return console.error("RTA: dataProvider fails: ".concat(t,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},j5=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],jy=function(t){return N5(t).map(function(n){return j5.includes(n)?"\\".concat(n):n}).join("")},L5=function(e){h0(t,e);function t(){return ug(this,t),f0(this,yh(t).apply(this,arguments))}return d0(t,[{key:"componentDidMount",value:function(){var r=this.props.boundariesElement;if(typeof r=="string"){var o=document.querySelector(r);if(!o)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=o}else if(r instanceof HTMLElement)this.containerElem=r;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var r,o,i=this.props.top||0,a=this.props.left||0,c=[],d=[],f=0,m=0,g=this.containerElem.getBoundingClientRect(),v=this.ref.getBoundingClientRect(),w=this.props.textareaRef.getBoundingClientRect(),T=window.getComputedStyle(this.ref),S=parseInt(T.getPropertyValue("margin-top"),10),I=parseInt(T.getPropertyValue("margin-bottom"),10),k=parseInt(T.getPropertyValue("margin-left"),10),P=parseInt(T.getPropertyValue("margin-right"),10),R=S+I+w.top+i+v.height,M=k+P+w.left+a+v.width;M>g.right&&w.left+a>v.width?(m=a-v.width,c.push(eu.X.LEFT),d.push(eu.X.RIGHT)):(m=a,c.push(eu.X.RIGHT),d.push(eu.X.LEFT)),R>g.bottom&&w.top+i>v.height?(f=i-v.height,c.push(eu.Y.TOP),d.push(eu.Y.BOTTOM)):(f=i,c.push(eu.Y.BOTTOM),d.push(eu.Y.TOP)),this.props.renderToBody&&(f+=w.top,m+=w.left),this.ref.style.top="".concat(f,"px"),this.ref.style.left="".concat(m,"px"),(r=this.ref.classList).remove.apply(r,d),(o=this.ref.classList).add.apply(o,c)}},{key:"render",value:function(){var r=this,o=this.props,i=o.style,a=o.className,c=o.innerRef,d=o.children,f=o.renderToBody,m=document.body,g=le.createElement("div",{ref:function(w){r.ref=w,c(w)},className:"rta__autocomplete ".concat(a||""),style:i},d);return f&&m!==null?K1.createPortal(g,m):g}}]),t}(le.Component),Kx=function(e){h0(t,e);function t(n){var r;ug(this,t),r=f0(this,yh(t).call(this,n)),r.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},r.escListenerInit=function(){r.escListener||(r.escListener=wd.add(ia.ESC,r._closeAutocomplete))},r.escListenerDestroy=function(){r.escListener&&(wd.remove(r.escListener),r.escListener=null)},r.getSelectionPosition=function(){return r.textareaRef?{selectionStart:r.textareaRef.selectionStart,selectionEnd:r.textareaRef.selectionEnd}:null},r.getSelectedText=function(){if(!r.textareaRef)return null;var d=r.textareaRef,f=d.selectionStart,m=d.selectionEnd;return f===m?null:r.state.value.substr(f,m-f)},r.setCaretPosition=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;r.textareaRef&&(r.textareaRef.focus(),r.textareaRef.setSelectionRange(d,d))},r.getCaretPosition=function(){if(!r.textareaRef)return 0;var d=r.textareaRef.selectionEnd;return d},r._handleCaretChange=function(d){var f=function(){var v=r.getCaretPosition()-1;r.lastTrigger=r.lastTrigger?v:0};if(d.type==="keydown"){var m=d.keyCode||d.which;switch(m){case ia.UP:case ia.DOWN:r._isAutocompleteOpen()||f();break;case ia.LEFT:case ia.RIGHT:f();break}return}f()},r._onSelect=function(d){var f=r.state,m=f.selectionEnd,g=f.currentTrigger,v=f.value,w=r.props.onItemSelected;if(g){var T=r._getTextToReplace(g);if(!T){r._closeAutocomplete();return}var S=T(d);if(!S){r._closeAutocomplete();return}w&&w({currentTrigger:g,item:d});var I=function($,re,Q){switch($){case"start":return Q;case"next":case"end":return Q+re.length;default:if(!Number.isInteger($))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return $}},k=v.slice(0,m),P=jy(g),R=k.length-k.lastIndexOf(g),M=k.search(new RegExp("(?!".concat(P,")$")))-R,_=S.caretPosition==="next"?"".concat(S.text," "):S.text,L=I(S.caretPosition,_,M),z=k.substring(0,M)+_,Y=v.replace(k,z);r.setState({value:Y,dataLoading:!1},function(){var V=r.tokenRegExpEnding.exec(_),$=V?V[0].length:1;r.lastTrigger=L&&L-$,r.textareaRef.value=Y,r.textareaRef.selectionEnd=L,r._changeHandler();var re=r.textareaRef.scrollTop;r.setCaretPosition(L),window.chrome&&(r.textareaRef.scrollTop=re)})}},r._getTextToReplace=function(d){var f=r.props.trigger[d];if(!d||!f)return null;var m=f.output;return function(g){if(typeof g=="object"&&(!m||typeof m!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(m){var v=m(g,d);if(v===void 0||typeof v=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(v),'". Check the implementation for trigger "').concat(d,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(v===null)return null;if(typeof v=="string")return{text:v,caretPosition:yT};if(!v.text&&typeof v.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(d,`"
`));if(!v.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(d,`"
`));return v}if(typeof g!="string")throw new Error(`Output item should be string
`);return{text:"".concat(d).concat(g).concat(d),caretPosition:yT}}},r._getCurrentTriggerSettings=function(){var d=r.state.currentTrigger;return d?r.props.trigger[d]:null},r._getValuesFromProvider=function(){var d=r.state,f=d.currentTrigger,m=d.actualToken,g=r._getCurrentTriggerSettings();if(!(!f||!g)){var v=g.dataProvider,w=g.component;if(typeof v!="function")throw new Error("Trigger provider has to be a function!");r.setState({dataLoading:!0});var T=v(m);T instanceof Promise||(T=Promise.resolve(T)),T.then(function(S){if(!Array.isArray(S))throw new Error("Trigger provider has to provide an array!");if(typeof w!="function")throw new Error("Component should be defined!");if(f===r.state.currentTrigger){if(!S.length){r._closeAutocomplete();return}r.setState({dataLoading:!1,data:S,component:w})}}).catch(function(S){return vT(S.message)})}},r._getSuggestions=function(){var d=r.state,f=d.currentTrigger,m=d.data;return!f||!m||m&&!m.length?null:m},r._createRegExp=function(){var d=r.props.trigger;r.tokenRegExp=new RegExp("(".concat(Object.keys(d).sort(function(f,m){return f<m?1:f>m?-1:0}).map(function(f){return jy(f)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),r.tokenRegExpEnding=new RegExp("(".concat(Object.keys(d).sort(function(f,m){return f<m?1:f>m?-1:0}).map(function(f){return jy(f)}).join("|"),")$"))},r._closeAutocomplete=function(){var d=r.state.currentTrigger;r.escListenerDestroy(),r.setState({data:null,dataLoading:!1,currentTrigger:null},function(){d&&r._onItemHighlightedHandler(null)})},r._cleanUpProps=function(){var d=E5({},r.props),f=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var m in d)f.includes(m)&&delete d[m];return d},r._changeHandler=function(d){var f=r.props,m=f.trigger,g=f.onChange,v=f.minChar,w=f.onCaretPositionChange,T=f.movePopupAsYouType,S=r.state,I=S.top,k=S.left,P=d;P||(P=new T5("change",{bubbles:!0}),r.textareaRef.dispatchEvent(P));var R=P.target||r.textareaRef,M=R.selectionEnd,_=R.value;if(r.lastValueBubbledEvent=_,g&&P&&(P.persist&&P.persist(),g(new Proxy(P,{get:function(K,oe,pe){return oe==="target"?R:Reflect.get(K,oe,pe)}}))),w){var L=r.getCaretPosition();w(L)}r.setState({value:_});var z=function(){var K=b5(R,M),oe=K.top,pe=K.left;r.setState({top:oe-r.textareaRef.scrollTop||0,left:pe})},Y=function(K){r.lastTrigger=M-K,r._closeAutocomplete(),z()};if(M<=r.lastTrigger){var V=_.slice(0,M),$=r.tokenRegExp.exec(V);Y($?$[0].length:0)}var re=_.slice(r.lastTrigger,M),Q=r.tokenRegExp.exec(re),ae=Q&&Q[0],X=Q&&Q[1]||null,ie=X?X.length-1:0,Z=r.tokenRegExpEnding.exec(re);if(Z?Y(Z[0].length):r._isAutocompleteOpen()||r._closeAutocomplete(),(!ae||ae.length<=v+ie)&&(r.state.currentTrigger&&!m[r.state.currentTrigger].allowWhitespace||!r.state.currentTrigger)){r._closeAutocomplete();return}if(X&&m[X].afterWhitespace&&!/\s/.test(_[M-ae.length-1])&&_[M-ae.length-1]!==void 0){r._closeAutocomplete();return}if(r.state.currentTrigger&&m[r.state.currentTrigger].allowWhitespace){if(Q=new RegExp("".concat(jy(r.state.currentTrigger),".*$")).exec(_.slice(0,M)),ae=Q&&Q[0],!ae){r._closeAutocomplete();return}X=Object.keys(m).find(function(he){return he.slice(0,ie+1)===ae.slice(0,ie+1)})||null}var ue=ae.slice(1);if(X){(T||I===null&&k===null||r.state.currentTrigger!==X)&&z(),r.escListenerInit();var ne=r._getTextToReplace(X);r.setState({selectionEnd:M,currentTrigger:X,textToReplace:ne,actualToken:ue},function(){try{r._getValuesFromProvider()}catch(he){vT(he.message)}})}},r._selectHandler=function(d){var f=r.props,m=f.onCaretPositionChange,g=f.onSelect;if(m){var v=r.getCaretPosition();m(v)}g&&(d.persist(),g(d))},r._shouldStayOpen=function(d){var f=d.relatedTarget;return f===null&&(f=document.activeElement),!!(r.dropdownRef&&f instanceof Node&&r.dropdownRef.contains(f))},r._onClick=function(d){var f=r.props.onClick;f&&(d.persist(),f(d)),!r._shouldStayOpen(d)&&r._closeAutocomplete()},r._onBlur=function(d){var f=r.props.onBlur;f&&(d.persist(),f(d)),!r._shouldStayOpen(d)&&r._closeAutocomplete()},r._onScrollHandler=function(){r._closeAutocomplete()},r._onItemHighlightedHandler=function(d){var f=r.props.onItemHighlighted,m=r.state.currentTrigger;if(f)if(typeof f=="function")f({currentTrigger:m,item:d});else throw new Error("`onItemHighlighted` has to be a function")},r._dropdownScroll=function(d){var f=r.props.scrollToItem;if(f){if(f===!0){O5(r.dropdownRef,d);return}if(typeof f!="function"||f.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");f(r.dropdownRef,d)}},r._isAutocompleteOpen=function(){var d=r.state,f=d.dataLoading,m=d.currentTrigger,g=r._getSuggestions();return!!((f||g)&&m)},r._textareaRef=function(d){r.props.innerRef&&r.props.innerRef(d),r.textareaRef=d},r.lastTrigger=0,r.escListener=null;var o=r.props,i=o.loadingComponent,a=o.trigger,c=o.value;if(c&&(r.state.value=c),r._createRegExp(),!i)throw new Error("RTA: loadingComponent is not defined");if(!a)throw new Error("RTA: trigger is not defined");return r}return d0(t,[{key:"componentDidMount",value:function(){wd.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(r){var o=r.trigger,i=r.value,a=this.props,c=a.trigger,d=a.value;Object.keys(c).join("")!==Object.keys(o).join("")&&this._createRegExp(),i!==d&&this.lastValueBubbledEvent!==d&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),wd.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var r=this,o=this.props,i=o.loadingComponent,a=o.style,c=o.className,d=o.listStyle,f=o.itemStyle,m=o.boundariesElement,g=o.movePopupAsYouType,v=o.listClassName,w=o.itemClassName,T=o.dropdownClassName,S=o.dropdownStyle,I=o.containerStyle,k=o.containerClassName,P=o.loaderStyle,R=o.loaderClassName,M=o.textAreaComponent,_=o.renderToBody,L=this.state,z=L.left,Y=L.top,V=L.dataLoading,$=L.component,re=L.value,Q=L.textToReplace,ae=this._isAutocompleteOpen(),X=this._getSuggestions(),ie={},Z;return M.component?(Z=M.component,ie[M.ref]=this._textareaRef):(Z=M,ie.ref=this._textareaRef),le.createElement("div",{className:"rta ".concat(V===!0?"rta--loading":""," ").concat(k||""),style:I},le.createElement(Z,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(c||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:re,style:a},ie)),ae&&le.createElement(L5,{innerRef:function(ne){r.dropdownRef=ne},top:Y,left:z,style:S,className:T,movePopupAsYouType:g,boundariesElement:m,textareaRef:this.textareaRef,renderToBody:_},X&&$&&Q&&le.createElement(P5,{values:X,component:$,style:d,className:v,itemClassName:w,itemStyle:f,getTextToReplace:Q,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),V&&le.createElement("div",{className:"rta__loader ".concat(X!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(R||""),style:P},le.createElement(i,{data:X}))))}}],[{key:"getDerivedStateFromProps",value:function(r){var o=r.value;return o==null?null:{value:o}}}]),t}(le.Component);Kx.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1};const R5=()=>{const{app:e}=ft.getState(),t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())},_5=e=>{let t=[];const n=ft.getState().settings;if(n&&(n!=null&&n.UseVaultTags))t=R5();else{const{tags:i}=Te.getState();t=i}const r=e.toLowerCase(),o=[];return t.forEach(i=>{i&&i.toLowerCase().contains(r)&&o.push({name:i,char:i})}),o},B5=e=>{const{app:t}=ft.getState(),n=t.vault.getAllLoadedFiles(),r=[];let o;return n.forEach(i=>{e==="["?o="":e.contains("[")&&(o=e.slice(1));const a=o.toLowerCase();i instanceof C.TFile&&["md","png","jpg","canvas","jpeg","gif"].contains(i.extension)&&i.path.toLowerCase().contains(a)&&r.push({name:i.basename,char:i.name,file:i})}),r};var Qw=F,H5=function(e){return typeof e=="function"},Y5=function(e){var t=Qw.useState(e),n=t[0],r=t[1],o=Qw.useRef(n),i=Qw.useCallback(function(a){o.current=H5(a)?a(o.current):a,r(o.current)},[]);return[n,i,o]},U5=Y5;const oi=$r(U5);function z5(e){return e.containerEl.matches(".memos-list-view")}function Xw(){}function V5(e){return{app:e.app,showSearch:Xw,toggleMode:Xw,onMarkdownScroll:Xw,getMode:()=>"source",scroll:0,editMode:null,get file(){return e.file},get path(){return e.file.path}}}const W5=(e,t)=>{const{dailyNotesState:{app:n,plugin:r,editor:o,view:i,dailyNotes:a}}=F.useContext(Ot),[c,d]=F.useState(null),[f,m]=F.useState(!1),[g,v]=F.useState(""),[w,T]=F.useState(null),S=F.useRef(C.debounce((Y,V,$)=>{$5(Y,V,$)},100)),I=F.useRef();F.useEffect(()=>{var Y;if(!w){if(!a&&!(n&&window.app)){const V=(Y=n||window.app)==null?void 0:Y.vault.getMarkdownFiles();T(V[0]);return}for(const V in a)if(a[V]instanceof C.TFile){T(a[V]);break}}},[a]),F.useEffect(()=>{if(!i.plugin.MarkdownEditor||typeof i.plugin.MarkdownEditor!="function"||!e)return;class Y extends i.plugin.MarkdownEditor{updateBottomPadding(){}onUpdate(X,ie){super.onUpdate(X,ie),P&&P(i,this.get())}}const V=V5(i),$=i.plugin.addChild(new Y(n,e,V));$&&!t&&dt.setInstance(`${i.leaf.id}`,$),V.editMode=$,$.owner.editor=$.editor;const re=Z5(n,t?"modal":"view");$.set&&$.set(re||"",!0),n.workspace.trigger("thino-editor-created",e,$.editor);const Q=$.cm;return I.current=Q,m(!0),d($),()=>{m(!1),c==null||c.destroy(),i.plugin.removeChild($),I.current=null}},[e]),F.useEffect(()=>{!c||!n||S.current(g,n,t?"modal":"view")},[g,n]);const k=()=>{c&&c.toggleSource()},P=C.debounce((Y,V)=>R(Y,V),500,!0),R=(Y,V)=>{Y&&v(V)};return{instance:c,value:g,set:Y=>{try{c&&((c==null?void 0:c.editor).replaceSelection(Y),v(Y))}catch(V){console.error(V)}},get:()=>c?c.get():"",append:(Y,V)=>{if(!c||V&&V!==c.owner.leaf.id)return;const re=(c.get()||"")+Y;(c==null?void 0:c.editor).replaceSelection(Y),v(re)},clear:()=>{c&&(c.clear(),v(""))},toggleSource:k}};function Qx(e,t){return`thinoEditorContentCache:${e}:${t||"view"}`}function Z5(e,t){try{const n=Qx(e==null?void 0:e.appId,t);return Wr.get([n])[n]||""}catch(n){return console.error(n),""}}function $5(e,t,n){try{const r=Qx(t==null?void 0:t.appId,n);Wr.set({[r]:e})}catch(r){console.error(r)}}function q5(e,t){return{line:e.line,ch:e.ch+t}}const wT=({entity:{name:e,char:t,file:n}})=>y.jsx("div",{children:`${t}`}),G5=({data:e})=>y.jsx("div",{children:"Loading"});let rl;const J5=F.forwardRef((e,t)=>{var je;const{globalState:{useTinyUndoHistoryCache:n,globalEditorShown:r,memoListView:o},dailyNotesState:{settings:i,app:a}}=F.useContext(Ot),{SaveMemoButtonLabel:c,SaveMemoButtonIcon:d}=i,{className:f,inputerType:m,initialContent:g,placeholder:v,showConfirmBtn:w,showCancelBtn:T,onConfirmBtnClick:S,onCancelBtnClick:I,onContentChange:k}=e,P=F.useRef(null),R=F.useRef(null),M=F.useRef(null),_=v5(),{instance:L,value:z,set:Y,get:V,append:$,clear:re,toggleSource:Q}=W5(R.current,e.modal),[,ae,X]=oi(0),[ie,Z]=oi(!1);F.useEffect(()=>{var Ae,Be;if(i&&i.FocusOnEditor)switch(m){case"minimal":case"memos":(Ae=P.current)==null||Ae.focus();break;case"obsidian":L&&((Be=L.editor)==null||Be.focus())}},[i,L]),F.useEffect(()=>{if(!a)return;const Ae=a.workspace.getLeavesOfType(Bo);let Be,Je;Ae.length>0?(Je=Ae[0].view.containerEl,Be=Je.offsetHeight):(Je=document,Be=window.outerHeight),ae(Be)},[a]),F.useEffect(()=>{!P.current||m==="obsidian"||g&&(P.current.value=g,_())},[]),F.useEffect(()=>{var Ae;if(m!=="obsidian")if(n){if(!P.current)return;const{tinyUndoActionsCache:Be,tinyUndoIndexCache:Je}=Wr.get(["tinyUndoActionsCache","tinyUndoIndexCache"]);return M.current=new y5(P.current,{interval:5e3,initialActions:Be,initialIndex:Je}),M.current.subscribe((ze,Qe)=>{Wr.set({tinyUndoActionsCache:ze,tinyUndoIndexCache:Qe})}),()=>{var ze;(ze=M.current)==null||ze.destroy()}}else(Ae=M.current)==null||Ae.destroy(),M.current=null,Wr.remove(["tinyUndoActionsCache","tinyUndoIndexCache"])},[n]),F.useEffect(()=>{P.current&&(P.current.style.height="auto",P.current.style.height=(P.current.scrollHeight??0)+"px")},[(je=P.current)==null?void 0:je.value]),F.useImperativeHandle(t,()=>({element:P.current,blur:()=>{var Ae,Be;switch(m){case"minimal":case"memos":(Ae=P.current)==null||Ae.blur();break;case"obsidian":L&&((Be=L.editor)==null||Be.blur())}},focus:Ae=>{var Be,Je,ze,Qe,It;switch(m){case"minimal":case"memos":(Be=P.current)==null||Be.focus();break;case"obsidian":if(L){if(Ae&&Ae!==((Qe=(ze=(Je=L==null?void 0:L.owner)==null?void 0:Je.view)==null?void 0:ze.leaf)==null?void 0:Qe.id))return;(It=L.editor)==null||It.focus()}}},insertTag:Ae=>{var Be,Je,ze;switch(m){case"minimal":case"memos":{if(!P.current)return;const Qe=P.current.value;P.current.value=Qe.slice(0,P.current.selectionStart)+"# "+Qe.slice(P.current.selectionStart),k(P.current.value),_();break}case"obsidian":if(Ae&&Ae!==((ze=(Je=(Be=L==null?void 0:L.owner)==null?void 0:Be.view)==null?void 0:Je.leaf)==null?void 0:ze.id))return;if(L){const Qe=L.editor,It=Qe.getCursor("from");Qe.replaceRange("#",It),Qe.setSelection(q5(It,1))}break}},insertText:(Ae,Be)=>{switch(m){case"minimal":case"memos":{if(!P.current)return;const Je=P.current.value;P.current.value=Je.slice(0,P.current.selectionStart)+Ae+Je.slice(P.current.selectionStart),k(P.current.value),_()}break;case"obsidian":L&&$(Ae,Be);break}},setContent:Ae=>{switch(m){case"minimal":case"memos":P.current&&(P.current.value=Ae,k(P.current.value),_());break;case"obsidian":L&&Y(Ae);break}},getContent:()=>{switch(m){case"minimal":case"memos":return P.current?P.current.value:"";case"obsidian":return V()}},toggleSource:()=>{switch(m){case"minimal":case"memos":break;case"obsidian":Q();break}},clear:()=>{switch(m){case"minimal":case"memos":P.current&&(P.current.value="",k(P.current.value),_());break;case"obsidian":re();break}}}),[L,m]);const ue=Ae=>{if(!P.current)return;const{fileManager:Be}=Re.getState().dailyNotesState.app;if(Ae.currentTrigger==="#"){const Je=P.current.value;let ze;rl!=null?ze=rl.length:ze=0;let Qe=P.current.selectionStart;for(let It=0;It<Je.length;It++)/\s/g.test(Je[Qe])||Qe++;P.current.value=Je.slice(0,P.current.selectionStart-ze)+Ae.item.char+Je.slice(Qe),k(P.current.value),_()}else if(Ae.currentTrigger==="[["){const Je=Be.generateMarkdownLink(Ae.item.file,Ae.item.file.path,"",""),ze=P.current.value;let Qe;rl!=null?Je.contains("[[")||Ae.item.file.extension!=="md"?Qe=rl.length+1:Qe=rl.length+2:Qe=2;let It=P.current.selectionStart;for(let Zt=0;Zt<ze.length;Zt++)/\s/g.test(ze[It])||It++;P.current.value=ze.slice(0,P.current.selectionStart-Qe)+Je+ze.slice(It),k(P.current.value),_()}},ne=F.useCallback(()=>{var Ae;k(((Ae=P.current)==null?void 0:Ae.value)||""),_()},[]),he=()=>{var Ae;switch(m){case"minimal":case"memos":if(!P.current)return;P.current.value=oe(),S(P.current.value),P.current.value="",_(),(Ae=M.current)==null||Ae.resetState();break;case"obsidian":S(V()),re(),_();break}},K=F.useCallback(()=>{switch(m){case"minimal":case"memos":P.current&&(P.current.value="",k(P.current.value),_());break;case"obsidian":re();break}I()},[m,L,P]),oe=()=>Wr.get(["thinoEditorContentCache"]).thinoEditorContentCache||"",pe=()=>{if(P.current)return P.current.value=oe(),P.current.value},Ee=Ae=>{switch(Ae){case"memos":return y.jsx(Kx,{className:`common-editor-inputer scroll ${ie?" editing":""}`,loadingComponent:G5,placeholder:v,movePopupAsYouType:!0,value:pe(),innerRef:Be=>{P.current=Be},onFocus:()=>{Z(!0)},onBlur:()=>{Z(!1)},onInput:ne,style:{maxHeight:`${X.current>400?X.current-400:100}px`},dropdownStyle:{minWidth:180,maxHeight:250,overflowY:"auto"},minChar:0,onItemSelected:ue,scrollToItem:!0,trigger:{"#":{dataProvider:Be=>(rl=Be,_5(Be).map(({name:Je,char:ze})=>({name:Je,char:ze}))),component:wT,afterWhitespace:!0,output:Be=>Be.char},"[[":{dataProvider:Be=>(rl=Be,B5(Be).slice(0,10).map(({name:Je,char:ze,file:Qe})=>({name:Je,char:ze,file:Qe}))),component:wT,afterWhitespace:!0,output:Be=>Be.char}}});case"minimal":return y.jsx("textarea",{style:{minHeight:48},className:"common-editor-inputer scroll",rows:1,placeholder:v,ref:P,onInput:ne});case"obsidian":return y.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",onClick:()=>{var Be;(Be=L==null?void 0:L.editor)==null||Be.focus()},ref:R});default:return y.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",ref:R})}};return y.jsxs("div",{className:"common-editor-wrapper "+f,children:[Ee(m),y.jsxs("div",{className:"common-tools-wrapper",children:[y.jsx("div",{className:"common-tools-container",children:y.jsx(Fa,{when:e.tools!==void 0,children:e.tools})}),y.jsxs("div",{className:"btns-container",children:[y.jsx(Fa,{when:T,children:y.jsx("button",{className:"action-btn cancel-btn",onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!r&&K()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||r)&&K()},children:ot.getState().pathname==="/"&&o==="chat"&&((i==null?void 0:i.chatViewStyle)==="fluent"||(i==null?void 0:i.chatViewStyle)==="inline")?"":E("CANCEL EDIT")})}),y.jsx(Fa,{when:w,children:y.jsxs("button",{title:"Ctrl/Cmd + Enter to save thino",className:"action-btn confirm-btn",onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!r&&he()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||r)&&he()},children:[o==="chat"&&((i==null?void 0:i.chatViewStyle)==="fluent"||(i==null?void 0:i.chatViewStyle)==="inline")?"":c,y.jsx("span",{className:"icon-text",children:null})]})})]})]})]})}),K5=typeof window<"u"?F.useLayoutEffect:F.useEffect;function Q5(e,t,n,r){const o=F.useRef(t);K5(()=>{o.current=t},[t]),F.useEffect(()=>{const i=(n==null?void 0:n.current)||window;if(!(i&&i.addEventListener))return;const a=c=>{o.current(c)};return i.addEventListener(e,a,r),()=>{i.removeEventListener(e,a,r)}},[e,n,r])}function dg(e,t,n="mousedown"){Q5(n,r=>{const o=r.target;if(!o||!o.isConnected||o.closest(".suggestion-container")||o.closest(".menu"))return;(Array.isArray(e)?e.every(a=>a.current&&!a.current.contains(o)):e.current&&!e.current.contains(o))&&t(r)})}const Xx=e=>{const{year:t,handleYearChange:n}=e,[r,o]=F.useState([]),[i,a]=F.useState(t),c=F.useRef(null),d=F.useRef(null),[f,m]=le.useState(!1),g=le.useRef(null);dg(g,()=>{m(!1)}),F.useEffect(()=>{c.current&&C.setIcon(c.current,"chevron-left"),d.current&&C.setIcon(d.current,"chevron-right")},[c,d,f]),F.useEffect(()=>{w(i)},[t]);const w=T=>{const S=parseInt(T),I=S-S%10,k=[];for(let P=0;P<10;P++)k.push(`${I+P}`);o(k)};return y.jsxs(y.Fragment,{children:[y.jsxs("span",{className:"btn year-btn",onClick:()=>{m(!f)},children:[y.jsx("span",{children:t}),y.jsx("span",{children:E("year")})]}),f&&y.jsxs("div",{ref:g,className:"year-picker-wrapper",children:[y.jsxs("div",{className:"year-picker-header",children:[y.jsxs("div",{className:"year-picker-header-title",children:[i," "+(E("year")||"")]}),y.jsxs("div",{className:"year-picker-header-btns",children:[y.jsx("span",{className:"btn",ref:c,onClick:()=>{const T=parseInt(i)-10;a(T.toString()),w(T.toString())}}),y.jsx("span",{className:"btn",ref:d,onClick:()=>{const T=parseInt(i)+10;a(T.toString()),w(T.toString())}})]})]}),y.jsx("div",{className:"year-picker-body",children:y.jsx("div",{className:"year-picker-body-list",children:r.map(T=>y.jsx("div",{className:`year-picker-body-item ${T===i?"selected":""}`,onClick:()=>{a(T),n(T),m(!1)},children:T},T))})})]})]})},eC=e=>{const{month:t,handleMonthChange:n}=e,[r,o]=F.useState([]),[i,a]=F.useState((parseInt(t)+1).toString()),[c,d]=le.useState(!1),f=le.useRef(null);dg(f,()=>{d(!1)}),F.useEffect(()=>{g()},[t]);const g=()=>{const v=[];for(let w=1;w<=12;w++)v.push(`${w}`);o(v)};return y.jsxs(y.Fragment,{children:[y.jsxs("span",{className:"btn month-btn",onClick:()=>{d(!c)},children:[y.jsxs("span",{children:[E("monthsShort")[parseInt(t)]||parseInt(t)+1," "]}),y.jsx("span",{children:E("month")||""})]}),c&&y.jsxs("div",{ref:f,className:"month-picker-wrapper",children:[y.jsxs("div",{className:"month-picker-header",children:[y.jsxs("div",{className:"month-picker-header-title",children:[i," "+(E("month")||"")]}),y.jsx("div",{className:"month-picker-header-btns"})]}),y.jsx("div",{className:"month-picker-body",children:y.jsx("div",{className:"month-picker-body-list",children:r.map(v=>y.jsx("div",{className:`month-picker-body-item ${v===i?"selected":""}`,onClick:()=>{a(v),n(v),d(!1)},children:v},v))})})]})]})},p0=e=>{const{className:t,datestamp:n,handleDateStampChange:r}=e,[o,i]=F.useState(lm(n)),[a,c]=F.useState(n);F.useEffect(()=>{i(lm(n))},[n]);const d=new Date(o),f=d.getDay(),m=[];for(let T=0;T<f;T++)m.push({date:0,datestamp:d.getTime()-Ai*(7-T)});const g=X5(o);for(let T=1;T<=g;T++)m.push({date:T,datestamp:d.getTime()+Ai*(T-1)});const v=(T,S)=>{r(S,T.nativeEvent),c(S)},w=T=>{const S=d.getFullYear(),I=d.getMonth()+1;let k=0;I===1&&T===-1?k=new Date(`${S-1}/12/1`).getTime():I===12&&T===1?k=new Date(`${S+1}/1/1`).getTime():k=new Date(`${S}/${I+T}/1`).getTime(),i(lm(k))};return y.jsxs("div",{className:`date-picker-wrapper ${t}`,children:[y.jsxs("div",{className:"date-picker-header",children:[y.jsx("span",{ref:T=>{T&&C.setIcon(T,"chevron-left")},className:"btn btn-text",onClick:()=>w(-1)}),y.jsxs("span",{className:"normal-text",children:[y.jsx(Xx,{year:d.getFullYear().toString(),handleYearChange:T=>{i(lm(new Date(`${T}/${d.getMonth()+1}/1`).getTime()))}}),y.jsx(eC,{month:d.getMonth().toString(),handleMonthChange:T=>{i(lm(new Date(`${d.getFullYear()}/${parseInt(T)}/1`).getTime()))}})]}),y.jsx("span",{ref:T=>{T&&C.setIcon(T,"chevron-right")},className:"btn btn-text",onClick:()=>w(1)})]}),y.jsxs("div",{className:"date-picker-day-container",children:[y.jsx("div",{className:"date-picker-day-header",children:E("weekDaysShort").map(T=>y.jsx("span",{className:"day-item",children:T},T))}),y.jsx("div",{className:"date-picker-day-content",children:m.map(T=>T.date===0?y.jsx("span",{className:"day-item null",children:""},T.datestamp):y.jsx("span",{className:`day-item ${T.datestamp===n?"current":""} ${T.datestamp===a?"selected":""}`,onClick:S=>v(S,T.datestamp),children:y.jsx("span",{className:"day-item-text",children:T.date})},T.datestamp))})]})]})};function X5(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/Ai}function lm(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}var bT=function(t){return t.reduce(function(n,r){var o=r[0],i=r[1];return n[o]=i,n},{})},ST=typeof window<"u"&&window.document&&window.document.createElement?F.useLayoutEffect:F.useEffect,Fi="top",ja="bottom",La="right",Pi="left",X1="auto",fg=[Fi,ja,La,Pi],vh="start",Fm="end",eP="clippingParents",tC="viewport",cm="popper",tP="reference",DT=fg.reduce(function(e,t){return e.concat([t+"-"+vh,t+"-"+Fm])},[]),eS=[].concat(fg,[X1]).reduce(function(e,t){return e.concat([t,t+"-"+vh,t+"-"+Fm])},[]),nP="beforeRead",rP="read",oP="afterRead",iP="beforeMain",aP="main",sP="afterMain",lP="beforeWrite",cP="write",uP="afterWrite",dP=[nP,rP,oP,iP,aP,sP,lP,cP,uP];function vl(e){return e?(e.nodeName||"").toLowerCase():null}function la(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ed(e){var t=la(e).Element;return e instanceof t||e instanceof Element}function Pa(e){var t=la(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function tS(e){if(typeof ShadowRoot>"u")return!1;var t=la(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function fP(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!Pa(i)||!vl(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(a){var c=o[a];c===!1?i.removeAttribute(a):i.setAttribute(a,c===!0?"":c)}))})}function hP(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=a.reduce(function(d,f){return d[f]="",d},{});!Pa(o)||!vl(o)||(Object.assign(o.style,c),Object.keys(i).forEach(function(d){o.removeAttribute(d)}))})}}const pP={name:"applyStyles",enabled:!0,phase:"write",fn:fP,effect:hP,requires:["computeStyles"]};function ml(e){return e.split("-")[0]}var Dd=Math.max,Mv=Math.min,wh=Math.round;function Gb(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function nC(){return!/^((?!chrome|android).)*safari/i.test(Gb())}function bh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&Pa(e)&&(o=e.offsetWidth>0&&wh(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&wh(r.height)/e.offsetHeight||1);var a=Ed(e)?la(e):window,c=a.visualViewport,d=!nC()&&n,f=(r.left+(d&&c?c.offsetLeft:0))/o,m=(r.top+(d&&c?c.offsetTop:0))/i,g=r.width/o,v=r.height/i;return{width:g,height:v,top:m,right:f+g,bottom:m+v,left:f,x:f,y:m}}function nS(e){var t=bh(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function rC(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&tS(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ic(e){return la(e).getComputedStyle(e)}function mP(e){return["table","td","th"].indexOf(vl(e))>=0}function yu(e){return((Ed(e)?e.ownerDocument:e.document)||window.document).documentElement}function m0(e){return vl(e)==="html"?e:e.assignedSlot||e.parentNode||(tS(e)?e.host:null)||yu(e)}function TT(e){return!Pa(e)||ic(e).position==="fixed"?null:e.offsetParent}function gP(e){var t=/firefox/i.test(Gb()),n=/Trident/i.test(Gb());if(n&&Pa(e)){var r=ic(e);if(r.position==="fixed")return null}var o=m0(e);for(tS(o)&&(o=o.host);Pa(o)&&["html","body"].indexOf(vl(o))<0;){var i=ic(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function hg(e){for(var t=la(e),n=TT(e);n&&mP(n)&&ic(n).position==="static";)n=TT(n);return n&&(vl(n)==="html"||vl(n)==="body"&&ic(n).position==="static")?t:n||gP(e)||t}function rS(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Dm(e,t,n){return Dd(e,Mv(t,n))}function yP(e,t,n){var r=Dm(e,t,n);return r>n?n:r}function oC(){return{top:0,right:0,bottom:0,left:0}}function iC(e){return Object.assign({},oC(),e)}function aC(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var vP=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,iC(typeof t!="number"?t:aC(t,fg))};function wP(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,c=ml(n.placement),d=rS(c),f=[Pi,La].indexOf(c)>=0,m=f?"height":"width";if(!(!i||!a)){var g=vP(o.padding,n),v=nS(i),w=d==="y"?Fi:Pi,T=d==="y"?ja:La,S=n.rects.reference[m]+n.rects.reference[d]-a[d]-n.rects.popper[m],I=a[d]-n.rects.reference[d],k=hg(i),P=k?d==="y"?k.clientHeight||0:k.clientWidth||0:0,R=S/2-I/2,M=g[w],_=P-v[m]-g[T],L=P/2-v[m]/2+R,z=Dm(M,L,_),Y=d;n.modifiersData[r]=(t={},t[Y]=z,t.centerOffset=z-L,t)}}function bP(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||rC(t.elements.popper,o)&&(t.elements.arrow=o))}const sC={name:"arrow",enabled:!0,phase:"main",fn:wP,effect:bP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Sh(e){return e.split("-")[1]}var SP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function DP(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:wh(n*o)/o||0,y:wh(r*o)/o||0}}function IT(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,c=e.position,d=e.gpuAcceleration,f=e.adaptive,m=e.roundOffsets,g=e.isFixed,v=a.x,w=v===void 0?0:v,T=a.y,S=T===void 0?0:T,I=typeof m=="function"?m({x:w,y:S}):{x:w,y:S};w=I.x,S=I.y;var k=a.hasOwnProperty("x"),P=a.hasOwnProperty("y"),R=Pi,M=Fi,_=window;if(f){var L=hg(n),z="clientHeight",Y="clientWidth";if(L===la(n)&&(L=yu(n),ic(L).position!=="static"&&c==="absolute"&&(z="scrollHeight",Y="scrollWidth")),o===Fi||(o===Pi||o===La)&&i===Fm){M=ja;var V=g&&L===_&&_.visualViewport?_.visualViewport.height:L[z];S-=V-r.height,S*=d?1:-1}if(o===Pi||(o===Fi||o===ja)&&i===Fm){R=La;var $=g&&L===_&&_.visualViewport?_.visualViewport.width:L[Y];w-=$-r.width,w*=d?1:-1}}var re=Object.assign({position:c},f&&SP),Q=m===!0?DP({x:w,y:S},la(n)):{x:w,y:S};if(w=Q.x,S=Q.y,d){var ae;return Object.assign({},re,(ae={},ae[M]=P?"0":"",ae[R]=k?"0":"",ae.transform=(_.devicePixelRatio||1)<=1?"translate("+w+"px, "+S+"px)":"translate3d("+w+"px, "+S+"px, 0)",ae))}return Object.assign({},re,(t={},t[M]=P?S+"px":"",t[R]=k?w+"px":"",t.transform="",t))}function TP(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,c=n.roundOffsets,d=c===void 0?!0:c,f={placement:ml(t.placement),variation:Sh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,IT(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,IT(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const lC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:TP,data:{}};var Ly={passive:!0};function IP(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,a=r.resize,c=a===void 0?!0:a,d=la(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&f.forEach(function(m){m.addEventListener("scroll",n.update,Ly)}),c&&d.addEventListener("resize",n.update,Ly),function(){i&&f.forEach(function(m){m.removeEventListener("scroll",n.update,Ly)}),c&&d.removeEventListener("resize",n.update,Ly)}}const cC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:IP,data:{}};var EP={left:"right",right:"left",bottom:"top",top:"bottom"};function sv(e){return e.replace(/left|right|bottom|top/g,function(t){return EP[t]})}var xP={start:"end",end:"start"};function ET(e){return e.replace(/start|end/g,function(t){return xP[t]})}function oS(e){var t=la(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function iS(e){return bh(yu(e)).left+oS(e).scrollLeft}function CP(e,t){var n=la(e),r=yu(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,c=0,d=0;if(o){i=o.width,a=o.height;var f=nC();(f||!f&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}return{width:i,height:a,x:c+iS(e),y:d}}function MP(e){var t,n=yu(e),r=oS(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=Dd(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Dd(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-r.scrollLeft+iS(e),d=-r.scrollTop;return ic(o||n).direction==="rtl"&&(c+=Dd(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:c,y:d}}function aS(e){var t=ic(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function uC(e){return["html","body","#document"].indexOf(vl(e))>=0?e.ownerDocument.body:Pa(e)&&aS(e)?e:uC(m0(e))}function Tm(e,t){var n;t===void 0&&(t=[]);var r=uC(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=la(r),a=o?[i].concat(i.visualViewport||[],aS(r)?r:[]):r,c=t.concat(a);return o?c:c.concat(Tm(m0(a)))}function Jb(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function kP(e,t){var n=bh(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function xT(e,t,n){return t===tC?Jb(CP(e,n)):Ed(t)?kP(t,n):Jb(MP(yu(e)))}function NP(e){var t=Tm(m0(e)),n=["absolute","fixed"].indexOf(ic(e).position)>=0,r=n&&Pa(e)?hg(e):e;return Ed(r)?t.filter(function(o){return Ed(o)&&rC(o,r)&&vl(o)!=="body"}):[]}function AP(e,t,n,r){var o=t==="clippingParents"?NP(e):[].concat(t),i=[].concat(o,[n]),a=i[0],c=i.reduce(function(d,f){var m=xT(e,f,r);return d.top=Dd(m.top,d.top),d.right=Mv(m.right,d.right),d.bottom=Mv(m.bottom,d.bottom),d.left=Dd(m.left,d.left),d},xT(e,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function dC(e){var t=e.reference,n=e.element,r=e.placement,o=r?ml(r):null,i=r?Sh(r):null,a=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,d;switch(o){case Fi:d={x:a,y:t.y-n.height};break;case ja:d={x:a,y:t.y+t.height};break;case La:d={x:t.x+t.width,y:c};break;case Pi:d={x:t.x-n.width,y:c};break;default:d={x:t.x,y:t.y}}var f=o?rS(o):null;if(f!=null){var m=f==="y"?"height":"width";switch(i){case vh:d[f]=d[f]-(t[m]/2-n[m]/2);break;case Fm:d[f]=d[f]+(t[m]/2-n[m]/2);break}}return d}function Pm(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.strategy,a=i===void 0?e.strategy:i,c=n.boundary,d=c===void 0?eP:c,f=n.rootBoundary,m=f===void 0?tC:f,g=n.elementContext,v=g===void 0?cm:g,w=n.altBoundary,T=w===void 0?!1:w,S=n.padding,I=S===void 0?0:S,k=iC(typeof I!="number"?I:aC(I,fg)),P=v===cm?tP:cm,R=e.rects.popper,M=e.elements[T?P:v],_=AP(Ed(M)?M:M.contextElement||yu(e.elements.popper),d,m,a),L=bh(e.elements.reference),z=dC({reference:L,element:R,strategy:"absolute",placement:o}),Y=Jb(Object.assign({},R,z)),V=v===cm?Y:L,$={top:_.top-V.top+k.top,bottom:V.bottom-_.bottom+k.bottom,left:_.left-V.left+k.left,right:V.right-_.right+k.right},re=e.modifiersData.offset;if(v===cm&&re){var Q=re[o];Object.keys($).forEach(function(ae){var X=[La,ja].indexOf(ae)>=0?1:-1,ie=[Fi,ja].indexOf(ae)>=0?"y":"x";$[ae]+=Q[ie]*X})}return $}function FP(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,c=n.flipVariations,d=n.allowedAutoPlacements,f=d===void 0?eS:d,m=Sh(r),g=m?c?DT:DT.filter(function(T){return Sh(T)===m}):fg,v=g.filter(function(T){return f.indexOf(T)>=0});v.length===0&&(v=g);var w=v.reduce(function(T,S){return T[S]=Pm(e,{placement:S,boundary:o,rootBoundary:i,padding:a})[ml(S)],T},{});return Object.keys(w).sort(function(T,S){return w[T]-w[S]})}function PP(e){if(ml(e)===X1)return[];var t=sv(e);return[ET(e),t,ET(t)]}function OP(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,c=a===void 0?!0:a,d=n.fallbackPlacements,f=n.padding,m=n.boundary,g=n.rootBoundary,v=n.altBoundary,w=n.flipVariations,T=w===void 0?!0:w,S=n.allowedAutoPlacements,I=t.options.placement,k=ml(I),P=k===I,R=d||(P||!T?[sv(I)]:PP(I)),M=[I].concat(R).reduce(function(je,Ae){return je.concat(ml(Ae)===X1?FP(t,{placement:Ae,boundary:m,rootBoundary:g,padding:f,flipVariations:T,allowedAutoPlacements:S}):Ae)},[]),_=t.rects.reference,L=t.rects.popper,z=new Map,Y=!0,V=M[0],$=0;$<M.length;$++){var re=M[$],Q=ml(re),ae=Sh(re)===vh,X=[Fi,ja].indexOf(Q)>=0,ie=X?"width":"height",Z=Pm(t,{placement:re,boundary:m,rootBoundary:g,altBoundary:v,padding:f}),ue=X?ae?La:Pi:ae?ja:Fi;_[ie]>L[ie]&&(ue=sv(ue));var ne=sv(ue),he=[];if(i&&he.push(Z[Q]<=0),c&&he.push(Z[ue]<=0,Z[ne]<=0),he.every(function(je){return je})){V=re,Y=!1;break}z.set(re,he)}if(Y)for(var K=T?3:1,oe=function(Ae){var Be=M.find(function(Je){var ze=z.get(Je);if(ze)return ze.slice(0,Ae).every(function(Qe){return Qe})});if(Be)return V=Be,"break"},pe=K;pe>0;pe--){var Ee=oe(pe);if(Ee==="break")break}t.placement!==V&&(t.modifiersData[r]._skip=!0,t.placement=V,t.reset=!0)}}const fC={name:"flip",enabled:!0,phase:"main",fn:OP,requiresIfExists:["offset"],data:{_skip:!1}};function CT(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function MT(e){return[Fi,La,ja,Pi].some(function(t){return e[t]>=0})}function jP(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Pm(t,{elementContext:"reference"}),c=Pm(t,{altBoundary:!0}),d=CT(a,r),f=CT(c,o,i),m=MT(d),g=MT(f);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:m,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":g})}const hC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:jP};function LP(e,t,n){var r=ml(e),o=[Pi,Fi].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],c=i[1];return a=a||0,c=(c||0)*o,[Pi,La].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function RP(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,a=eS.reduce(function(m,g){return m[g]=LP(g,t.rects,i),m},{}),c=a[t.placement],d=c.x,f=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=f),t.modifiersData[r]=a}const pC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:RP};function _P(e){var t=e.state,n=e.name;t.modifiersData[n]=dC({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const mC={name:"popperOffsets",enabled:!0,phase:"read",fn:_P,data:{}};function BP(e){return e==="x"?"y":"x"}function HP(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,c=a===void 0?!1:a,d=n.boundary,f=n.rootBoundary,m=n.altBoundary,g=n.padding,v=n.tether,w=v===void 0?!0:v,T=n.tetherOffset,S=T===void 0?0:T,I=Pm(t,{boundary:d,rootBoundary:f,padding:g,altBoundary:m}),k=ml(t.placement),P=Sh(t.placement),R=!P,M=rS(k),_=BP(M),L=t.modifiersData.popperOffsets,z=t.rects.reference,Y=t.rects.popper,V=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,$=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),re=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(L){if(i){var ae,X=M==="y"?Fi:Pi,ie=M==="y"?ja:La,Z=M==="y"?"height":"width",ue=L[M],ne=ue+I[X],he=ue-I[ie],K=w?-Y[Z]/2:0,oe=P===vh?z[Z]:Y[Z],pe=P===vh?-Y[Z]:-z[Z],Ee=t.elements.arrow,je=w&&Ee?nS(Ee):{width:0,height:0},Ae=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:oC(),Be=Ae[X],Je=Ae[ie],ze=Dm(0,z[Z],je[Z]),Qe=R?z[Z]/2-K-ze-Be-$.mainAxis:oe-ze-Be-$.mainAxis,It=R?-z[Z]/2+K+ze+Je+$.mainAxis:pe+ze+Je+$.mainAxis,Zt=t.elements.arrow&&hg(t.elements.arrow),_e=Zt?M==="y"?Zt.clientTop||0:Zt.clientLeft||0:0,tt=(ae=re==null?void 0:re[M])!=null?ae:0,st=ue+Qe-tt-_e,yt=ue+It-tt,xt=Dm(w?Mv(ne,st):ne,ue,w?Dd(he,yt):he);L[M]=xt,Q[M]=xt-ue}if(c){var Tt,qt=M==="x"?Fi:Pi,zt=M==="x"?ja:La,$t=L[_],Gt=_==="y"?"height":"width",un=$t+I[qt],Xt=$t-I[zt],Qn=[Fi,Pi].indexOf(k)!==-1,Cn=(Tt=re==null?void 0:re[_])!=null?Tt:0,Cr=Qn?un:$t-z[Gt]-Y[Gt]-Cn+$.altAxis,yr=Qn?$t+z[Gt]+Y[Gt]-Cn-$.altAxis:Xt,Rn=w&&Qn?yP(Cr,$t,yr):Dm(w?Cr:un,$t,w?yr:Xt);L[_]=Rn,Q[_]=Rn-$t}t.modifiersData[r]=Q}}const gC={name:"preventOverflow",enabled:!0,phase:"main",fn:HP,requiresIfExists:["offset"]};function YP(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function UP(e){return e===la(e)||!Pa(e)?oS(e):YP(e)}function zP(e){var t=e.getBoundingClientRect(),n=wh(t.width)/e.offsetWidth||1,r=wh(t.height)/e.offsetHeight||1;return n!==1||r!==1}function VP(e,t,n){n===void 0&&(n=!1);var r=Pa(t),o=Pa(t)&&zP(t),i=yu(t),a=bh(e,o,n),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((vl(t)!=="body"||aS(i))&&(c=UP(t)),Pa(t)?(d=bh(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=iS(i))),{x:a.left+c.scrollLeft-d.x,y:a.top+c.scrollTop-d.y,width:a.width,height:a.height}}function WP(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(c){if(!n.has(c)){var d=t.get(c);d&&o(d)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function ZP(e){var t=WP(e);return dP.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function $P(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function qP(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var kT={placement:"bottom",modifiers:[],strategy:"absolute"};function NT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function yC(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?kT:o;return function(c,d,f){f===void 0&&(f=i);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},kT,i),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},g=[],v=!1,w={state:m,setOptions:function(k){var P=typeof k=="function"?k(m.options):k;S(),m.options=Object.assign({},i,m.options,P),m.scrollParents={reference:Ed(c)?Tm(c):c.contextElement?Tm(c.contextElement):[],popper:Tm(d)};var R=ZP(qP([].concat(r,m.options.modifiers)));return m.orderedModifiers=R.filter(function(M){return M.enabled}),T(),w.update()},forceUpdate:function(){if(!v){var k=m.elements,P=k.reference,R=k.popper;if(NT(P,R)){m.rects={reference:VP(P,hg(R),m.options.strategy==="fixed"),popper:nS(R)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function($){return m.modifiersData[$.name]=Object.assign({},$.data)});for(var M=0;M<m.orderedModifiers.length;M++){if(m.reset===!0){m.reset=!1,M=-1;continue}var _=m.orderedModifiers[M],L=_.fn,z=_.options,Y=z===void 0?{}:z,V=_.name;typeof L=="function"&&(m=L({state:m,options:Y,name:V,instance:w})||m)}}}},update:$P(function(){return new Promise(function(I){w.forceUpdate(),I(m)})}),destroy:function(){S(),v=!0}};if(!NT(c,d))return w;w.setOptions(f).then(function(I){!v&&f.onFirstUpdate&&f.onFirstUpdate(I)});function T(){m.orderedModifiers.forEach(function(I){var k=I.name,P=I.options,R=P===void 0?{}:P,M=I.effect;if(typeof M=="function"){var _=M({state:m,name:k,instance:w,options:R}),L=function(){};g.push(_||L)}})}function S(){g.forEach(function(I){return I()}),g=[]}return w}}var GP=[cC,mC,lC,pP,pC,fC,gC,sC,hC],vC=yC({defaultModifiers:GP}),JP=typeof Element<"u",KP=typeof Map=="function",QP=typeof Set=="function",XP=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function lv(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!lv(e[r],t[r]))return!1;return!0}var i;if(KP&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!lv(r.value[1],t.get(r.value[0])))return!1;return!0}if(QP&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(XP&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(JP&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!lv(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var eO=function(t,n){try{return lv(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const tO=$r(eO);var nO=[],g0=function(t,n,r){r===void 0&&(r={});var o=F.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||nO},a=F.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=a[0],d=a[1],f=F.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(w){var T=w.state,S=Object.keys(T.elements);c0.flushSync(function(){d({styles:bT(S.map(function(I){return[I,T.styles[I]||{}]})),attributes:bT(S.map(function(I){return[I,T.attributes[I]]}))})})},requires:["computeStyles"]}},[]),m=F.useMemo(function(){var v={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[f,{name:"applyStyles",enabled:!1}])};return tO(o.current,v)?o.current||v:(o.current=v,v)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,f]),g=F.useRef();return ST(function(){g.current&&g.current.setOptions(m)},[m]),ST(function(){if(!(t==null||n==null)){var v=r.createPopper||vC,w=v(t,n,m);return g.current=w,function(){w.destroy(),g.current=null}}},[t,n,r.createPopper]),{state:g.current?g.current.state:null,styles:c.styles,attributes:c.attributes,update:g.current?g.current.update:null,forceUpdate:g.current?g.current.forceUpdate:null}},rO=function(){},oO=rO;const iO=$r(oO),aO=(e,t)=>({placement:e,modifiers:[{name:"flip",options:{allowedAutoPlacements:t,rootBoundary:"document"}},{name:"preventOverflow",options:{rootBoundary:"document"}}]}),sO=e=>{const n=F.useRef(null),[r,o]=F.useState(null),[i,a]=F.useState(0);let c,d;const f=()=>{if(C.Platform.isMobile){c="right-end",d=["bottom"];return}const g=window.innerWidth-i>280*1.2,v=window.innerWidth-i<280,w=window.innerWidth>280*1.5;if(e.DefaultEditorLocation!=="Bottom"){g?(c="right-end",d=["left-end"]):v&&w?(c="left-end",d=["right-end"]):(c="bottom",d=["bottom"]);return}g?(c="top-end",d=["top-start"]):v&&i>280?(c="top-start",d=["top-end"]):(c="top",d=["top"])};F.useEffect(()=>{e&&f()},[i,e==null?void 0:e.DefaultEditorLocation]);const m=g0(n.current,r,aO(c,d));return{setPosX:a,popperRef:n,setPopperElement:o,popper:m}},lO=()=>{const e=new Set,t=ot.getState().query.filter,n=ot.getState().query.tag,r=tn.getQueryById(t||"");if(r&&r.querystring){const o=JSON.parse(r.querystring);if(Array.isArray(o))for(const i of o)i.type==="TAG"&&i.value&&i.value.operator==="CONTAIN"&&e.add(i.value.value)}return n&&e.add(n),Array.from(e)},cO=e=>{const{offsetLeft:t,offsetTop:n,offsetHeight:r,offsetWidth:o,selectionEnd:i}=e,a=document.createElement("div"),c=window.getComputedStyle(e);for(const S of c)a.style.setProperty(S,c.getPropertyValue(S));a.style.position="fixed",a.style.visibility="hidden",a.style.whiteSpace="pre-wrap";const f=e.tagName==="INPUT"?e.value.replace(/ /g,"."):e.value;a.textContent=f.substring(0,i||0),e.tagName==="TEXTAREA"&&(a.style.height="auto");const m=document.createElement("span");m.textContent=f.substring(i||0)||".",a.appendChild(m),document.body.appendChild(a);const{offsetLeft:g,offsetTop:v,offsetHeight:w,offsetWidth:T}=m;return document.body.removeChild(a),{x:t+g,y:n+v,h:r+w,w:o+T}},Td=({className:e,editorType:t,destroy:n,modal:r})=>{const{globalState:o,dailyNotesState:{app:i,settings:a,view:c,verifyState:d}}=F.useContext(Ot),[f,m]=yl(!0),g=F.useRef(f),[v,w]=oi(!0),T=F.useRef(null),S=F.useRef(null),I=F.useRef(o),[k,P]=oi(!1),[R,M]=oi(!1),{setPosX:_,popperRef:L,setPopperElement:z,popper:Y}=sO(a),[V]=oi(parseInt(C.moment().format("x"))),$=F.useRef(null),[re,Q]=oi((a==null?void 0:a.EnabledLocationList.length)===1?a==null?void 0:a.EnabledLocationList[0].value:(a==null?void 0:a.MemoSaveLocation)||"DAILY"),ae=F.useRef(a.MemoSaveLocation||"DAILY");F.useEffect(()=>{g.current=f},[f]),F.useEffect(()=>{!S.current||!i||!c||(c.registerEvent(i.workspace.on("focus-on-textarea",_e=>{var tt;(tt=S.current)==null||tt.focus(_e==null?void 0:_e.id)})),c.registerEvent(i.workspace.on("blur-on-memos",()=>{var _e;(_e=S.current)==null||_e.blur()})),c.registerEvent(i.workspace.on("send-to-thino",async(_e,tt)=>{var st,yt;if(typeof _e=="string")(st=S.current)==null||st.insertText(_e+`
`,tt.id);else{const xt=_e.toPNG(),Tt=new Blob([xt],{type:"image/png"}),qt=new File([Tt],"image.png",{type:"image/png",lastModified:Date.now()});if(!qt)return;const zt=await he(qt);zt&&((yt=S.current)==null||yt.insertText(zt+`
`,tt.id))}})))},[S,c,i]),F.useEffect(()=>{a&&m(a.DefaultPrefix==="List")},[a==null?void 0:a.DefaultPrefix]),F.useEffect(()=>{if(a){if(a.EnabledLocationList.length===1){Q(a.EnabledLocationList[0].value);return}Q(a.MemoSaveLocation||"DAILY")}},[a==null?void 0:a.MemoSaveLocation,a==null?void 0:a.EnabledLocationList]),F.useEffect(()=>{var st;if(!a||!$.current)return;const _e=(st=km.find(yt=>yt.title===re))==null?void 0:st.icon;C.setIcon($.current,_e),C.requireApiVersion("1.4.4")&&C.setTooltip($.current,E("Thino Save To: ")+re),ae.current=re;const tt=o.manifest;if(tt){const yt=i==null?void 0:i.plugins.getPlugin(tt.id);if(yt){if(yt.settings.MemoSaveLocation===re)return;yt.settings.MemoSaveLocation=re,yt.saveSettings()}}},[re,v]),F.useEffect(()=>{S.current&&a.MemoSaveLocation&&Q(a.MemoSaveLocation)},[$,a]),F.useEffect(()=>{if(!S.current||!a||C.Platform.isDesktop||o.globalEditorShown)return;const _e=a.UseButtonToShowEditor&&a.DefaultEditorLocation==="Bottom";if(C.Platform.isDesktop){w(!0);return}if(t&&t==="inline"){w(!0);return}if(w(C.Platform.isMobile&&!_e),!_e||o.memoListView==="chat")return;const tt=document.body.find(".memolist-wrapper");tt&&(tt.onscroll=()=>{if(o.globalEditorShown)return;if(!o.memoListView&&dt.getState().memoListView==="chat"){tt.onscroll=null;return}const st=S.current.getContent();C.Platform.isMobile&&_e&&!st&&w(!1)})},[o.globalEditorShown,t,S]);const X=()=>{M(!1)};F.useEffect(()=>{var _e,tt,st,yt,xt,Tt,qt,zt,$t;if(i&&(o.markMemoId||(_e=o.editMemoId)!=null&&_e.trim()&&o.editMemoId!==I.current.editMemoId)){const Gt=i.workspace.getLeavesOfType("thino_view");Gt.length>0&&i.workspace.revealLeaf(Gt[0])}if(o.markMemoId){const Gt=`${E("MARK")}: [@THINO](${o.markMemoId})`;(tt=S.current)==null||tt.insertText(Gt),(st=S.current)==null||st.focus(),dt.setMarkMemoId("");return}if((yt=o.editMemoId)!=null&&yt.trim()&&o.editMemoId!==I.current.editMemoId){const Gt=Te.getMemoById(o.editMemoId);if(Gt)switch(m(Gt.thinoType==="JOURNAL"),a.EditorType){case"memos":(xt=S.current)==null||xt.setContent(Gt.content.replace(/ \^\S{6}$/,"")||""),(Tt=S.current)==null||Tt.focus();break;case"obsidian":(qt=S.current)==null||qt.clear(),(zt=S.current)==null||zt.setContent(Gt.content.replace(/ \^\S{6}$/,"")||""),($t=S.current)==null||$t.focus();break}}I.current=o},[o.markMemoId,o.editMemoId]),F.useEffect(()=>{var _e,tt,st;!S.current||k||a.EditorType==="memos"&&((_e=S.current)==null||_e.element.addEventListener("paste",ie),(tt=S.current)==null||tt.element.addEventListener("drop",Z),(st=S.current)==null||st.element.addEventListener("click",ue),P(!0))},[S.current]);const ie=async _e=>{var tt;if(_e.clipboardData&&_e.clipboardData.files.length>0){_e.preventDefault();const st=_e.clipboardData.files;for(const yt of st){const xt=await he(yt);xt&&((tt=S.current)==null||tt.insertText(xt))}}},Z=async _e=>{var tt;if(_e.dataTransfer&&_e.dataTransfer.files.length>0){_e.preventDefault();const st=_e.dataTransfer.files;for(const yt of st){const xt=await he(yt);xt&&((tt=S.current)==null||tt.insertText(xt))}}},ue=()=>{var _e;pe(((_e=S.current)==null?void 0:_e.element.value)||"")},ne=async(_e,tt)=>{var xt,Tt,qt;const st=_e.ctrlKey||_e.metaKey,yt=_e.altKey;if(_e.key==="Escape"&&o.globalEditorShown&&(dt.setGlobalEditorShown(!1),_e.preventDefault()),st&&_e.key==="Enter"){_e.preventDefault(),_e.stopPropagation(),tt?(await K((Tt=S.current)==null?void 0:Tt.getContent()),(qt=S.current)==null||qt.clear()):await K((xt=S.current)==null?void 0:xt.element.value);return}if(yt)for(let zt=0;zt<a.EnabledLocationList.length;zt++)_e.key===(zt+1).toString()&&Q(a.EnabledLocationList[zt].value);setTimeout(()=>{var zt;tt||pe(((zt=S.current)==null?void 0:zt.element.value)||"")})},he=F.useCallback(async _e=>{const{type:tt}=_e;if(tt.startsWith("image"))try{return`${await J1.upload(_e)}`}catch(st){new C.Notice(st)}},[]),K=async _e=>{if(!_e||_e.trim()===""){new C.Notice(E("Content cannot be empty"));return}const tt=ft.getState().settings,st=tt==null?void 0:tt.addTagAutomatically,yt=tt==null?void 0:tt.addTagWithNewline,xt=tt==null?void 0:tt.addTagPosition,qt=(lO()||[]).filter(un=>!_e.includes(`#${un}`)),zt=async(un,Xt)=>{Xt=Xt.replaceAll("&nbsp;"," "),Ry("");try{if(!un){let Cn;switch(ae.current){case"CANVAS":Cn=await Te.createMemoCanvas({text:Xt,isList:g.current});break;case"MULTI":Cn=await Te.createMemoMultiFile({content:Xt,isList:g.current});break;case"DAILY":Cn=await Te.createMemoDaily(Xt,g.current);break;case"FILE":Cn=await Te.createMemoSingleFile({content:Xt,isList:g.current});break}if(!Cn)return;Te.pushMemo(Cn),(!st||qt.length===0)&&ot.clearQuery();const Cr=i||ft.getState().app,yr=Cr==null?void 0:Cr.loadLocalStorage("tokenForSync");Cn&&yr&&a.startSync&&setTimeout(async()=>{try{if(ae.current!=="DAILY"){const Rn=await F1({content:Xt,thinoType:"FILE"});await Te.updateMemoById(Cn.id,Rn,!0)}}catch(Rn){console.error(Rn)}},200);return}const Qn=Te.getMemoById(un);if(Qn&&(Qn.content!==Xt||Qn.thinoType!==(g.current?"JOURNAL":"TASK-TODO"))){const Cn=await Te.updateMemo(Qn.id,Xt,g.current?"JOURNAL":Qn.thinoType.startsWith("TASK")?Qn.thinoType:"TASK-TODO");Cn.updatedAt=ct.getDateTimeString(Date.now()),Te.editMemo(Cn)}dt.setEditMemoId("")}catch(Qn){new C.Notice(Qn.message)}},{editMemoId:$t}=dt.getState(),Gt=qt&&qt.length>0&&st?xt==="Beginning"?`${qt.map(un=>`#${un}`).join(" ")} ${yt?`
`:""}${_e}`:`${_e} ${yt?`
`:""}${qt.map(un=>`#${un}`).join(" ")}`:_e;await zt($t,Gt),n&&n(),Ry("")},oe=F.useCallback(()=>{var _e;dt.setEditMemoId(""),(_e=S.current)==null||_e.setContent(""),Ry("")},[]),pe=F.useCallback(_e=>{if(Ry(_e??""),!S.current)return;const tt=S.current.getContent(),st=S.current.element.selectionStart,yt=tt.slice(0,st),xt=tt.slice(st);(yt.endsWith("@")||yt.endsWith("📆"))&&xt.startsWith(" ")||(yt.endsWith("@")||yt.endsWith("📆"))&&xt===""?(ze(),M(!0)):M(!1),setTimeout(()=>{var Tt;(Tt=S.current)==null||Tt.focus()})},[a.EditorType]),Ee=_e=>{if(!S.current||!a)return;_e&&(X(),m(!1));const tt=S.current.getContent(),st=S.current.element.selectionStart,yt=tt.slice(0,st),xt=tt.slice(st),Tt=C.moment(_e);if(yt.endsWith("@"))switch(a.InsertDateFormat){case"Dataview":S.current.element.value=tt.slice(0,S.current.element.selectionStart-1)+"[due:: "+Tt.format("YYYY-MM-DD")+"]"+xt,S.current.element.setSelectionRange(st+17,st+17),S.current.focus(),pe(S.current.element.value);break;case"Tasks":S.current.element.value=tt.slice(0,S.current.element.selectionStart-1)+"📅 "+Tt.format("YYYY-MM-DD")+xt,S.current.element.setSelectionRange(st+11,st+11),S.current.focus(),pe(S.current.element.value)}else{S.current.element.value=yt+Tt.format("YYYY-MM-DD")+xt,S.current.element.setSelectionRange(st+10,st+10),S.current.focus(),pe(S.current.element.value);return}},je=()=>{S.current&&m()},Ae=async()=>{var st;const _e=!C.Platform.isDesktop&&await((st=window.Capacitor)==null?void 0:st.Plugins.Device.getId()),tt=C.Platform.isDesktop?await Jn():_e.identifier||_e.uuid;return!d||(d==null?void 0:d.appId)!==tt?(bn(),!1):!0},Be=async _e=>{if(!await Ae())return;const tt=new C.Menu;a.EnabledLocationList.forEach(Tt=>{tt.addItem(qt=>{var zt;qt.setTitle(E(Tt.value)).setIcon(((zt=km.find($t=>$t.title===Tt.value))==null?void 0:zt.icon)??"file").setChecked(re===Tt.value).onClick(()=>{Q(Tt.value)})})});let st=_e.target,yt=null;for(;!st.hasClass("location-wrapper")&&(yt=st.parentElement,yt);)st=yt;const xt=st.getBoundingClientRect();setTimeout(()=>{tt.showAtPosition({x:xt.x,y:xt.bottom,width:xt.width,left:!1,overlap:!0})},200)},Je=F.useCallback(()=>{var _e,tt;if(!(!S.current&&a.EditorType==="memos"))switch(a.EditorType){case"obsidian":(_e=S.current)==null||_e.focus(),(tt=S.current)==null||tt.insertTag();break;case"memos":{const st=S.current.getContent(),yt=S.current.element.selectionStart,xt=st.slice(0,yt),Tt=st.slice(yt);let qt=xt+"# "+Tt,zt=xt.length+1;xt.endsWith("#")&&Tt.startsWith(" ")&&(qt=xt.slice(0,xt.length-1)+Tt.slice(1),zt=xt.length-1),S.current.element.value=qt,S.current.element.setSelectionRange(zt,zt),S.current.focus();const $t=new Event("input",{bubbles:!0,cancelable:!0});S.current.element.dispatchEvent($t),pe(S.current.element.value)}}},[i]),ze=F.useCallback(()=>{if(!S.current||!L.current||!a||!i)return;const st=i.workspace.getLeavesOfType(Bo)[0].view.containerEl,yt=280,xt=st.clientWidth,{x:Tt,y:qt}=cO(S.current.element);let zt,$t;C.Platform.isMobile?(window.innerWidth-Tt>yt?zt=(Tt+yt+16>xt,Tt+18):window.innerWidth-Tt<yt?zt=(Tt+yt+16>xt,Tt+34):zt=S.current.element.clientWidth/2,a.DefaultEditorLocation==="Bottom"&&window.innerWidth>875?$t=qt+4:a.DefaultEditorLocation==="Bottom"&&window.innerWidth<=875?$t=qt+19:a.DefaultEditorLocation==="Top"&&window.innerWidth<=875&&($t=qt+36)):(zt=(Tt+yt+16>xt,Tt+18),$t=qt+34),_(Tt),L.current.style.left=`${zt}px`,L.current.style.top=`${$t}px`},[a,i]),Qe=F.useCallback(()=>{const _e=document.createElement("input");document.body.appendChild(_e),_e.type="file",_e.multiple=!1,_e.accept="image/png, image/gif, image/jpeg",_e.onchange=async()=>{var yt;if(!_e.files||_e.files.length===0)return;const tt=_e.files[0],st=await he(tt);st&&((yt=S.current)==null||yt.insertText(st)),document.body.removeChild(_e)},_e.click()},[]),It=!!o.editMemoId,Zt=F.useMemo(()=>({className:"memo-editor",inputerType:a.EditorType||"obsidian",modal:r,initialContent:uO(),placeholder:E("What do you think now..."),showConfirmBtn:!0,showCancelBtn:It,showTools:!0,onConfirmBtnClick:K,onCancelBtnClick:oe,onContentChange:pe}),[It,a.EditorType]);return y.jsxs(y.Fragment,{children:[!o.globalEditorShown&&t==="block"&&y.jsx("div",{ref:_e=>{T.current=_e,_e&&C.setIcon&&C.setIcon(_e,"plus-circle")},className:`memo-show-editor-button ${v?"hidden":""}`,onClick:()=>{var _e;(_e=T.current.firstElementChild)==null||_e.toggleClass("rotate-hidden",!0),setTimeout(()=>{w(!0),T.current.firstElementChild.toggleClass("rotate-hidden",!1)},500),setTimeout(()=>{var tt;(tt=S.current)==null||tt.focus()},600)}}),y.jsxs("div",{className:`memo-editor-wrapper ${e||""} ${It?"edit-ing":""} ${o.globalEditorShown?"fullscreen-editor":""} ${v?"":"hidden"}`,onKeyDownCapture:_e=>ne(_e,!0),children:[y.jsx("span",{className:`tip-text ${It?"":"hidden"}`,children:"Modifying..."}),y.jsx(J5,{ref:S,...Zt,tools:y.jsxs(y.Fragment,{children:[y.jsx("span",{ref:_e=>{_e&&C.setIcon(_e,"hash")},className:"btn action-btn add-tag",onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!o.globalEditorShown&&Je()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||o.globalEditorShown)&&Je()}}),y.jsx("span",{ref:_e=>{_e&&C.setIcon(_e,"paperclip")},className:"btn action-btn file-upload",onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!o.globalEditorShown&&Qe()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||o.globalEditorShown)&&Qe()}}),y.jsx("span",{ref:_e=>{_e&&C.setIcon(_e,f?"layout-list":"check-square")},className:Kn("btn action-btn list-or-task",f?"list":"task"),onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!o.globalEditorShown&&je()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||o.globalEditorShown)&&je()}}),y.jsx("div",{ref:_e=>{_e&&(C.setIcon&&C.setIcon(_e,o.globalEditorShown?"shrink":"expand"),C.setTooltip&&C.setTooltip(_e,o.globalEditorShown?E("Exit fullscreen mode"):E("Enter fullscreen mode")))},className:"action-btn show-editor pro",onPointerDown:async()=>{await Ae()&&(w(!0),dt.setGlobalEditorShown(!o.globalEditorShown))}}),y.jsx("div",{className:"action-btn split-line pro"}),y.jsx("div",{className:"action-btn location-wrapper pro",onClick:async _e=>{a&&a.DefaultEditorLocation==="Top"&&!o.globalEditorShown&&await Be(_e)},onPointerDown:async _e=>{(a&&a.DefaultEditorLocation==="Bottom"||o.globalEditorShown)&&await Be(_e)},children:y.jsx("div",{ref:$,className:"action-btn file-location-btn"})})]})}),y.jsx("div",{ref:L,className:"date-picker",children:R&&y.jsx("div",{tabIndex:-1,style:Y.styles.popper,...Y.attributes.popper,ref:z,role:"dialog",children:y.jsx(p0,{className:`editor-date-picker ${R?"":"hidden"}`,datestamp:V,handleDateStampChange:Ee})})})]})]})};function uO(){return Wr.get(["thinoEditorContentCache"]).thinoEditorContentCache??""}function Ry(e){Wr.set({thinoEditorContentCache:e})}const dO=e=>{const t=[];return e.map(n=>{t.length==0?t.push({date:C.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]}):t.some(o=>{if(o.date==C.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"))return o.have.push(n),!0})||t.push({date:C.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]})}),t},fO=e=>Te.getState().commentMemos.filter(t=>t.linkId===e.hasId).sort((t,n)=>ct.getTimeStampByDate(t.createdAt)-ct.getTimeStampByDate(n.createdAt)).map(t=>({...t,createdAtStr:ct.getDateTimeString(t.createdAt),dateStr:ct.getDateString(t.createdAt)})),hO=e=>{const t=ft.getState().settings,n=p6(),r=t!=null&&t.ShowDate?"    ":"",o="YYYY/MM/DD HH:mm:ss",i=/comment:(.*)$/g,a=/^\d{14}/g,c=(g,v,w)=>{const T=C.moment(g.createdAt,o).format("HH:mm");return w?w.replace(/{TIME}/g,T).replace(/{CONTENT}/g,v):`${T} ${v}`},d=g=>{const v=g.match(/TASK-(.*)?/g);return v?v[1]:""},f=g=>g==="TASK-TODO"?"- [ ] ":g==="TASK-DONE"?"- [x] ":g.match(/TASK-(.*)?/g)?`- [${d(g)}] `:"- ",m=g=>g.reduce((v,w)=>{const T=w.sourceType!=="MULTI"?`${w.content}`:`[[${w.path}]]`,S=t!=null&&t.ShowTime?c(w,T,t==null?void 0:t.DefaultMemoComposition):T,I=`${f(w.thinoType)}${S}`;let k="";return t.CommentOnMemos&&w.hasId!==void 0&&w.hasId!==""&&(k=fO(w).reduce((R,M)=>{const _=f(M.thinoType),L=M.content.replace(i,"").replace(a,""),z=t!=null&&t.ShowDate?`${_}[[${C.moment(M.createdAt).format(n)}]] ${C.moment(M.createdAt).format("HH:mm")} ${L}`:`${_}${L}`;return R+r+"    "+z+`
`},"")),v+r+I.replace(/ \^\S{6}/g,"")+`
`+k},"");return e.reduce((g,v)=>{const w=t!=null&&t.ShowDate?`- [[${C.moment(v.date,"YYYY-MM-DD").format(n)}]]
`:"",T=m(v.have),S=t!=null&&t.ShowDate&&(t!=null&&t.AddBlankLineWhenDate)&&!(t!=null&&t.CommentOnMemos)?`
`:"";return g+w+T+S},"").replace(/<br>/g,`
    `)},pO=[{label:E("Today"),value:C.moment().format("YYYY-MM-DD")},{label:E("Yesterday"),value:C.moment().subtract(1,"days").format("YYYY-MM-DD")},{label:E("Last 7 days"),value:C.moment().subtract(7,"days").format("YYYY-MM-DD")},{label:E("Last 30 days"),value:C.moment().subtract(30,"days").format("YYYY-MM-DD")},{label:E("Last 90 days"),value:C.moment().subtract(90,"days").format("YYYY-MM-DD")},{label:E("Last 180 days"),value:C.moment().subtract(180,"days").format("YYYY-MM-DD")},{label:E("Last 365 days"),value:C.moment().subtract(365,"days").format("YYYY-MM-DD")}],wC=e=>{const{handleValueChange:t,setShownStatus:n}=e;return y.jsxs(y.Fragment,{children:[e.type==="icon"&&y.jsx("div",{className:"quick-date-btn-group",children:pO.map((r,o)=>y.jsx("div",{className:"btn action-btn quick-date-btn",onClick:()=>{t(r.value),n&&n(!1)},children:r.label},o))}),y.jsx(p0,{className:"calendar-date-picker",datestamp:(e==null?void 0:e.defaultValue)||C.moment().startOf("day").valueOf(),handleDateStampChange:(r,o)=>{t(e.type==="icon"?C.moment(r).format("YYYY-MM-DD"):r.toString()),n&&n(!1)}})]})},kv=e=>{const{handleValueChange:t}=e,[n,r]=le.useState(!1),o=le.useRef(null),i=le.useRef(null),a=g0(i.current,o.current,{placement:"bottom-start"});return dg(o,()=>{r(!1)}),y.jsxs(y.Fragment,{children:[y.jsx("span",{ref:d=>{i.current=d,d&&e.type==="icon"&&C.setIcon(d,"calendar")},className:`btn calendar-btn ${e.type==="icon"?"icon-btn":"text-btn"}`,onClick:()=>{!C.Platform.isMobile&&r(!n),!C.Platform.isMobile&&(a!=null&&a.update)&&(a==null||a.update()),C.Platform.isMobile&&new bC(ft.getState().app,e.type,t).open()},children:e.type==="text"&&e.defaultValue?e.defaultText?e.defaultText:C.moment(e.defaultValue,"x").subtract(e.startOrEnd==="end"?1:0,"days").format("YYYY/MM/DD"):""}),y.jsx("div",{className:`menu-btns-popup ${n?"":"hidden"}`,ref:o,style:a.styles.popper,children:y.jsx(wC,{type:e.defaultText?"icon":e.type,handleValueChange:t,setShownStatus:r})})]})};class bC extends C.Modal{constructor(n,r,o){super(n);De(this,"root");De(this,"type");De(this,"handleValueChange");this.type=r,this.handleValueChange=o}onOpen(){const{contentEl:n}=this;this.root=lg(n),this.root.render(y.jsx(wC,{type:this.type,handleValueChange:this.handleValueChange.bind(this),setShownStatus:r=>{!r&&this.close()}}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const mO=(e,t)=>(e%t+t)%t;class gO{constructor(t,n,r){De(this,"owner");De(this,"values");De(this,"suggestions");De(this,"selectedItem");De(this,"containerEl");this.owner=t,this.containerEl=n,n.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),n.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),r.register([],"ArrowUp",o=>{if(!o.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),r.register([],"ArrowDown",o=>{if(!o.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),r.register([],"Enter",o=>{if(!o.isComposing)return this.useSelectedItem(o),!1})}onSuggestionClick(t,n){t.preventDefault();const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1),this.useSelectedItem(t)}onSuggestionMouseover(t,n){const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1)}setSuggestions(t){this.containerEl.empty();const n=[];t.forEach(r=>{const o=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(r,o),n.push(o)}),this.values=t,this.suggestions=n,this.setSelectedItem(0,!1)}useSelectedItem(t){const n=this.values[this.selectedItem];n&&this.owner.selectSuggestion(n,t)}setSelectedItem(t,n){const r=mO(t,this.suggestions.length),o=this.suggestions[this.selectedItem],i=this.suggestions[r];o==null||o.removeClass("is-selected"),i==null||i.addClass("is-selected"),this.selectedItem=r,n&&i.scrollIntoView(!1)}}class SC{constructor(t,n){De(this,"inputEl");De(this,"popper");De(this,"scope");De(this,"suggestEl");De(this,"suggest");De(this,"cb");this.inputEl=t,this.scope=new C.Scope,this.cb=n,this.suggestEl=createDiv("suggestion-container");const r=this.suggestEl.createDiv("suggestion");this.suggest=new gO(this,r,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("click",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",o=>{o.preventDefault()})}clearInput(){this.inputEl.value="",this.inputEl.trigger("blur"),this.inputEl.trigger("focus"),this.inputEl.trigger("input"),this.onInputChanged()}onInputChanged(){const t=this.inputEl.value,n=this.getSuggestions(t);if(!n){this.close();return}n.length>0?(this.suggest.setSuggestions(n),this.open(app.dom.appContainerEl,this.inputEl)):this.close()}open(t,n){app.keymap.pushScope(this.scope),t.appendChild(this.suggestEl),this.popper=vC(n,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:r,instance:o})=>{const i=`${r.rects.reference.width}px`;r.styles.popper.width!==i&&(r.styles.popper.width=i,o.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}destroy(){this.inputEl.removeEventListener("input",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("blur",this.close.bind(this)),this.close()}updateCb(t){this.cb=t}}const yO=e=>{const t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())};let Om=class extends SC{fuzzySearchItemsOptimized(t,n){const r=C.prepareFuzzySearch(t);return n.map(o=>{const i=r(o);return i?{item:o,match:i,score:i.score}:null}).sort((o,i)=>(i==null?void 0:i.score)-(o==null?void 0:o.score)).filter(Boolean)}getSuggestions(t){const{settings:n,app:r}=ft.getState(),o=t.toLocaleLowerCase(),i=n.UseVaultTags?yO(r):Te.getState().tags;return this.fuzzySearchItemsOptimized(o,i).map(a=>a.item)}renderSuggestion(t,n){n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:t})}selectSuggestion(t){this.inputEl.value=t,this.cb&&this.cb(t),this.inputEl.dispatchEvent(new Event("change")),this.inputEl.trigger("change"),this.close()}};const vO=e=>{const t=new Set;return e.forEach(n=>{const r=new RegExp(gr).exec(n.content),o=new RegExp(jr).exec(n.content);if(r)for(let i=1;i<r.length;i++)t.add(r[i]);if(o)for(let i=1;i<o.length;i++)t.add(o[i])}),Array.from(t)};class wO extends C.Modal{constructor(n,r){super(n);De(this,"root");De(this,"cb");De(this,"tags",[]);this.cb=r}onOpen(){super.onOpen(),this.containerEl.toggleClass(["thino-bulk-action-dialog","tag-actions"],!0),this.root=Oa.createRoot(this.contentEl),this.root.render(y.jsx(_a,{store:Re,context:Ot,children:y.jsx(bO,{closeDialog:this.closeDialog.bind(this)})}))}closeDialog(n){this.tags=n,this.close()}onClose(){var n;this.cb(this.tags),super.onClose(),(n=this.root)==null||n.unmount()}}const bO=({closeDialog:e})=>{const[t,n]=le.useState([]),r=le.useRef(null),o=le.useRef(null);F.useEffect(()=>{if(o.current){if(r.current){r.current.updateCb(i);return}r.current=new Om(o.current,i)}},[o.current,t]);const i=c=>{if(!c)return;const d=new Set(t);d.add(c),n(Array.from(d)),r.current.clearInput()},a=()=>{e(t)};return y.jsxs("div",{className:"thino-tag-operation",children:[y.jsx("div",{className:"tag-operation-title",children:E("Tag Bulk Select")}),y.jsxs("div",{className:"tag-operation-content",children:[y.jsxs("div",{className:"tag-operation-content-title selected-tags",children:[y.jsx("div",{className:"name",children:E("Selected Tags")}),y.jsx("div",{className:"desc",children:E("Click to remove selected tag")})]}),y.jsx("div",{className:"tag-operation-content-tags selected-tags",children:t.map(c=>y.jsx("div",{className:"tag-operation-content-tag",onClick:()=>{n(t.filter(d=>d!==c))},children:c},c))}),y.jsx("div",{className:"tag-operation-content-inputer",children:y.jsx("input",{placeholder:E("Input to select exist tag"),ref:o,onKeyDown:c=>{c.key==="Enter"&&i(o.current.value)}})}),y.jsxs("div",{className:"tag-operation-content-btn-group",children:[y.jsx("button",{className:"cancel-btn",onClick:()=>{e([])},children:E("Cancel")}),y.jsx("button",{className:"save-btn",onClick:a,children:E("Save")})]})]})]})},SO=({app:e,thinos:t,closeDialog:n})=>{const[r,o]=le.useState([]),[i,a]=le.useState([]),[c,d]=le.useState([]),f=le.useRef(null),m=le.useRef(null),g=le.useRef(null),v=le.useRef("End"),w=le.useRef(!1),T=le.useRef(null);F.useEffect(()=>{t&&t.length&&o(vO(t))},[t]),F.useEffect(()=>{!g.current||!m.current||(new C.Setting(m.current).setName(E("Add tag position")).addDropdown(P=>{P.addOption("End",E("End")),P.addOption("Beginning",E("Beginning")),P.setValue("End").onChange(async R=>{v.current=R})}),new C.Setting(g.current).setName(E("Add tag with new line")).addToggle(P=>{P.setValue(!1).onChange(async R=>{w.current=R})}))},[]);const S=P=>{if(!P)return;const R=new Set(i);R.add(P),a(Array.from(R)),f.current.clearInput()};F.useEffect(()=>{if(T.current){if(f.current){f.current.updateCb(S);return}f.current=new Om(T.current,S)}},[T.current,i]);const I=()=>{n(),k({remove:c,add:i,targetThinos:t})},k=async({remove:P,add:R,targetThinos:M})=>{const _=w.current||!1,L=[];for(const z of M){let Y=z.content;for(const V of P)Y=Y.replace(new RegExp(`#${V}`,"g"),"");if(Y=Y.trim(),R.length>0&&(Y=v.current==="Beginning"?`${R.map(V=>`#${V}`).join(" ")} ${_?`
`:""}${Y}`:`${Y} ${_?`
`:""}${R.map(V=>`#${V}`).join(" ")}`),z&&z.content!==Y){const V=await Te.updateMemo(z.id,Y==null?void 0:Y.trim());L.push(V)}}L.length>0&&Te.editMemoBulk(L),L.length>0&&ot.clearQuery()};return y.jsxs("div",{className:"thino-tag-operation",children:[y.jsx("div",{className:"tag-operation-title",children:E("Tag Bulk Edit")}),y.jsxs("div",{className:"tag-operation-content",children:[r.length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"tag-operation-content-title exist-tags",children:[y.jsx("div",{className:"name",children:E("Exist Tags")}),y.jsx("div",{className:"desc",children:E("Click to remove exist tag")})]}),y.jsx("div",{className:"tag-operation-content-tags exist-tags",children:r.map(P=>y.jsx("div",{className:Kn("tag-operation-content-tag",c.includes(P)&&"tag-operation-content-tag-removed"),onClick:()=>{c.includes(P)||d([...c,P]),c.includes(P)&&d(c.filter(R=>R!==P)),i.includes(P)&&a(i.filter(R=>R!==P))},children:P},P))})]}),y.jsxs("div",{className:"tag-operation-content-title selected-tags",children:[y.jsx("div",{className:"name",children:E("Selected Tags")}),y.jsx("div",{className:"desc",children:E("Click to remove selected tag")})]}),y.jsx("div",{className:"tag-operation-content-tags selected-tags",children:i.map(P=>y.jsx("div",{className:"tag-operation-content-tag",onClick:()=>{a(i.filter(R=>R!==P))},children:P},P))}),y.jsx("div",{className:"tag-operation-content-inputer",children:y.jsx("input",{placeholder:E("Input to select exist tag"),ref:T,onKeyDown:P=>{P.key==="Enter"&&S(T.current.value)}})}),y.jsxs("div",{className:"tag-operation-settings",children:[y.jsx("div",{ref:m}),y.jsx("div",{ref:g})]}),y.jsxs("div",{className:"tag-operation-content-btn-group",children:[y.jsx("button",{className:"cancel-btn",onClick:n,children:E("Cancel")}),y.jsx("button",{className:"save-btn",onClick:I,children:E("Save")})]})]})]})},Kb=new Map,xd=async(e,t=!0)=>{const{vault:n,metadataCache:r}=ft.getState().app;if(t&&Kb.has(e))return Promise.resolve(Kb.get(e));if(e.contains("data:image"))return e;let o;const i=await n.adapter.exists(C.normalizePath(e));let a="";try{if(!i&&!/(http|https)/g.test(e)&&!e.includes("data:image")){let c;if(e.startsWith("app://")){const d=C.normalizePath(decodeURIComponent(e).replace(C.Platform.resourcePathPrefix,"").replace(/\?(.*)$/,"").replace(C.normalizePath(app==null?void 0:app.vault.adapter.basePath),""));a=C.normalizePath(decodeURIComponent(d))}else{if(c=r.getFirstLinkpathDest(e,""),!c){new C.Notice(E("File not exist"));return}a=c.path}}else a=e}catch(c){console.error(c)}if(a){if(/(http|https)/g.test(a))if(a.startsWith("http://localhost")){let c=a;c=c.replace("http://localhost/_capacitor_file_",""),c=decodeURIComponent(c).replace(/\?(.*)$/,"").replace(app==null?void 0:app.vault.adapter.basePath,""),c=C.normalizePath(decodeURIComponent(c));const d=await n.adapter.readBinary(c),f=new Uint8Array(d);o=new Blob([f],{type:"image/png"})}else try{const c=await C.requestUrl(e),d=new Uint8Array(c.arrayBuffer);o=new Blob([d],{type:"image/png"})}catch{}else if(a){const c=await n.adapter.readBinary(a),d=new Uint8Array(c);o=new Blob([d],{type:"image/png"})}return o?await DO(o,e):""}},DO=(e,t)=>new Promise(n=>{const r=new FileReader;r.onloadend=()=>{const o=r.result;Kb.set(t,o),n(o)},r.readAsDataURL(e)}),ym=async e=>{if(!e.style.backgroundImage.includes("url(")&&!e.style.backgroundImage.includes("http"))return;let t=e.style.backgroundImage.includes("url(")?e.style.backgroundImage.slice(5,-2):e.style.backgroundImage;return t?(t.startsWith("http://localhost")&&(t=t.replace("http://localhost/_capacitor_file_",""),t=decodeURIComponent(t).replace(/\?(.*)$/,"").replace(app==null?void 0:app.vault.adapter.basePath,""),t=C.normalizePath(decodeURIComponent(t))),await xd(t)):void 0},TO=async e=>{var n;return e.getAttribute("src")?(n=e==null?void 0:e.src)!=null&&n.startsWith("http://localhost")?await xd(e.getAttribute("path")||C.normalizePath(e==null?void 0:e.parentElement.getAttribute("src"))):await xd(e.getAttribute("src")):void 0},Ut=PO(),Nv=OO(),DC=jO(),TC=LO(),dd={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,httpTimeout:3e4,styleCaching:"strict",corsImg:void 0},dn={toSvg:IC,toPng:xO,toJpeg:CO,toBlob:MO,toPixelData:EO,toCanvas:kO,impl:{fontFaces:DC,images:TC,util:Ut,inliner:Nv,urlCache:[],options:{}}},sS=(typeof Node<"u"?Node.ELEMENT_NODE:void 0)||1,cv=(typeof global<"u"?global.getComputedStyle:void 0)||(typeof window<"u"?window.getComputedStyle:void 0)||globalThis.getComputedStyle,IO=(typeof global<"u"?global.atob:void 0)||(typeof window<"u"?window.atob:void 0)||globalThis.atob;function IC(e,t){dn.impl.util.getWindow(e),t=t||{},NO(t);let n=[];return Promise.resolve(e).then(r).then(function(d){return EC(d,t,null)}).then(AO).then(FO).then(a).then(c).then(o).then(i);function r(d){if(d.nodeType===sS)return d;const f=d,m=d.parentNode,g=document.createElement("span");return m.replaceChild(g,f),g.append(d),n.push({parent:m,child:f,wrapper:g}),g}function o(d){for(;n.length>0;){const f=n.pop();f.parent.replaceChild(f.child,f.wrapper)}return d}function i(d){return dn.impl.urlCache=[],UO(),d}function a(d){t.bgcolor&&(d.style.backgroundColor=t.bgcolor),t.width&&(d.style.width=`${t.width}px`),t.height&&(d.style.height=`${t.height}px`),t.style&&Object.keys(t.style).forEach(function(m){d.style[m]=t.style[m]});let f=null;return typeof t.onclone=="function"&&(f=t.onclone(d)),Promise.resolve(f).then(function(){return d})}function c(d){let f=t.width||Ut.width(d),m=t.height||Ut.height(d);return Promise.resolve(d).then(function(g){return g.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(g)}).then(Ut.escapeXhtml).then(function(g){const v=(Ut.isDimensionMissing(f)?' width="100%"':` width="${f}"`)+(Ut.isDimensionMissing(m)?' height="100%"':` height="${m}"`);return`<svg xmlns="http://www.w3.org/2000/svg"${(Ut.isDimensionMissing(f)?"":` width="${f}"`)+(Ut.isDimensionMissing(m)?"":` height="${m}"`)}><foreignObject${v}>${g}</foreignObject></svg>`}).then(function(g){return`data:image/svg+xml;charset=utf-8,${g}`})}}function EO(e,t){return pg(e,t).then(function(n){return n.getContext("2d").getImageData(0,0,Ut.width(e),Ut.height(e)).data})}function xO(e,t){return pg(e,t).then(function(n){return n.toDataURL()})}function CO(e,t){return pg(e,t).then(function(n){return n.toDataURL("image/jpeg",(t?t.quality:void 0)||1)})}function MO(e,t){return pg(e,t).then(Ut.canvasToBlob)}function kO(e,t){return pg(e,t)}function NO(e){typeof e.copyDefaultStyles>"u"?dn.impl.options.copyDefaultStyles=dd.copyDefaultStyles:dn.impl.options.copyDefaultStyles=e.copyDefaultStyles,typeof e.imagePlaceholder>"u"?dn.impl.options.imagePlaceholder=dd.imagePlaceholder:dn.impl.options.imagePlaceholder=e.imagePlaceholder,typeof e.cacheBust>"u"?dn.impl.options.cacheBust=dd.cacheBust:dn.impl.options.cacheBust=e.cacheBust,typeof e.corsImg>"u"?dn.impl.options.corsImg=dd.corsImg:dn.impl.options.corsImg=e.corsImg,typeof e.useCredentials>"u"?dn.impl.options.useCredentials=dd.useCredentials:dn.impl.options.useCredentials=e.useCredentials,typeof e.httpTimeout>"u"?dn.impl.options.httpTimeout=dd.httpTimeout:dn.impl.options.httpTimeout=e.httpTimeout,typeof e.styleCaching>"u"?dn.impl.options.styleCaching=dd.styleCaching:dn.impl.options.styleCaching=e.styleCaching,dn.impl.options.requestUrl=e.requestUrl,dn.impl.options.type=e.type||"image/png"}function pg(e,t){return t=t||{},IC(e,t).then(Ut.makeImage).then(function(r){const o=typeof t.scale!="number"?1:t.scale,i=n(e,o),a=i.getContext("2d");return a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,r&&(a.scale(o,o),a.drawImage(r,0,0)),i});function n(r,o){let i=t.width||Ut.width(r),a=t.height||Ut.height(r);Ut.isDimensionMissing(i)&&(i=Ut.isDimensionMissing(a)?300:a*2),Ut.isDimensionMissing(a)&&(a=i/2);const c=document.createElement("canvas");if(c.width=i*o,c.height=a*o,t.bgcolor){const d=c.getContext("2d");d.fillStyle=t.bgcolor,d.fillRect(0,0,c.width,c.height)}return c}}let oa=null;function EC(e,t,n,r){const o=t.filter;if(e===oa||Ut.isHTMLScriptElement(e)||Ut.isHTMLStyleElement(e)||Ut.isHTMLLinkElement(e)||n!==null&&o&&!o(e))return Promise.resolve();return Promise.resolve(e).then(i).then(function(f){return c(f,a(e))}).then(function(f){return d(f,e)});function i(f){return Ut.isHTMLCanvasElement(f)?Ut.makeImage(f.toDataURL()):f.cloneNode(!1)}function a(f){return Ut.isElementHostForOpenShadowRoot(f)?f.shadowRoot:f}function c(f,m){const g=T(m);let v=Promise.resolve();if(g.length!==0){const S=cv(w(m));Ut.asArray(g).forEach(function(I){v=v.then(function(){return EC(I,t,S).then(function(k){k&&f.appendChild(k)})})})}return v.then(function(){return f});function w(S){return Ut.isShadowRoot(S)?S.host:S}function T(S){return Ut.isShadowSlotElement(S)?S.assignedNodes():S.childNodes}}function d(f,m){if(!Ut.isElement(f)||Ut.isShadowSlotElement(m))return Promise.resolve(f);return Promise.resolve().then(g).then(v).then(w).then(T).then(function(){return f});function g(){I(m,f);function S(k,P){P.font=k.font,P.fontFamily=k.fontFamily,P.fontFeatureSettings=k.fontFeatureSettings,P.fontKerning=k.fontKerning,P.fontSize=k.fontSize,P.fontStretch=k.fontStretch,P.fontStyle=k.fontStyle,P.fontVariant=k.fontVariant,P.fontVariantCaps=k.fontVariantCaps,P.fontVariantEastAsian=k.fontVariantEastAsian,P.fontVariantLigatures=k.fontVariantLigatures,P.fontVariantNumeric=k.fontVariantNumeric,P.fontVariationSettings=k.fontVariationSettings,P.fontWeight=k.fontWeight}function I(k,P){const R=cv(k);R.cssText?(P.style.cssText=R.cssText,S(R,P.style)):(_O(t,k,R,n,P),n===null&&(["inset-block","inset-block-start","inset-block-end"].forEach(M=>P.style.removeProperty(M)),["left","right","top","bottom"].forEach(M=>{P.style.getPropertyValue(M)&&P.style.setProperty(M,"0px")})))}}function v(){const S=Ut.uid();[":before",":after"].forEach(function(k){I(k)});function I(k){const P=cv(m,k),R=P.getPropertyValue("content");if(R===""||R==="none")return;const M=f.getAttribute("class")||"";f.setAttribute("class",`${M} ${S}`);const _=document.createElement("style");_.appendChild(L()),f.appendChild(_);function L(){const z=`.${S}:${k}`,Y=P.cssText?V():$();return document.createTextNode(`${z}{${Y}}`);function V(){return`${P.cssText} content: ${R};`}function $(){return`${Ut.asArray(P).map(Q).join("; ")};`;function Q(ae){const X=P.getPropertyValue(ae),ie=P.getPropertyPriority(ae)?" !important":"";return`${ae}: ${X}${ie}`}}}}}function w(){Ut.isHTMLTextAreaElement(m)&&(f.innerHTML=m.value),Ut.isHTMLInputElement(m)&&f.setAttribute("value",m.value)}function T(){Ut.isSVGElement(f)&&(f.setAttribute("xmlns","http://www.w3.org/2000/svg"),Ut.isSVGRectElement(f)&&["width","height"].forEach(function(S){const I=f.getAttribute(S);I&&f.style.setProperty(S,I)}))}}}function AO(e){return DC.resolveAll().then(function(t){if(t!==""){const n=document.createElement("style");e.appendChild(n),n.appendChild(document.createTextNode(t))}return e})}function FO(e){return TC.inlineAll(e).then(function(){return e})}function PO(){let e=0;return{escape:V,isDataUrl:k,canvasToBlob:M,resolveUrl:_,getAndEncode:Y,uid:L,delay:$,asArray:re,escapeXhtml:Q,makeImage:z,width:ae,height:X,getWindow:t,isElement:i,isElementHostForOpenShadowRoot:n,isShadowRoot:r,isInShadowRoot:o,isHTMLElement:c,isHTMLCanvasElement:a,isHTMLInputElement:f,isHTMLImageElement:d,isHTMLLinkElement:m,isHTMLScriptElement:g,isHTMLStyleElement:v,isHTMLTextAreaElement:w,isShadowSlotElement:T,isSVGElement:S,isSVGRectElement:I,isDimensionMissing:P};function t(Z){const ue=Z?Z.ownerDocument:void 0;return(ue?ue.defaultView:void 0)||global||window}function n(Z){return i(Z)&&Z.shadowRoot!==null}function r(Z){return Z instanceof t(Z).ShadowRoot}function o(Z){return Z!==null&&Object.prototype.hasOwnProperty.call(Z,"getRootNode")&&r(Z.getRootNode())}function i(Z){return Z instanceof t(Z).Element}function a(Z){return Z instanceof t(Z).HTMLCanvasElement}function c(Z){return Z instanceof t(Z).HTMLElement}function d(Z){return Z instanceof t(Z).HTMLImageElement}function f(Z){return Z instanceof t(Z).HTMLInputElement}function m(Z){return Z instanceof t(Z).HTMLLinkElement}function g(Z){return Z instanceof t(Z).HTMLScriptElement}function v(Z){return Z instanceof t(Z).HTMLStyleElement}function w(Z){return Z instanceof t(Z).HTMLTextAreaElement}function T(Z){return o(Z)&&Z instanceof t(Z).HTMLSlotElement}function S(Z){return Z instanceof t(Z).SVGElement}function I(Z){return Z instanceof t(Z).SVGRectElement}function k(Z){return Z.search(/^(data:)/)!==-1}function P(Z){return isNaN(Z)||Z<=0}function R(Z){return new Promise(function(ue){const ne=IO(Z.toDataURL().split(",")[1]),he=ne.length,K=new Uint8Array(he);for(let oe=0;oe<he;oe++)K[oe]=ne.charCodeAt(oe);ue(new Blob([K],{type:dn.impl.options.type}))})}function M(Z){return Z.toBlob?new Promise(function(ue){Z.toBlob(ue)}):R(Z)}function _(Z,ue){const ne=document.implementation.createHTMLDocument(),he=ne.createElement("base");ne.head.appendChild(he);const K=ne.createElement("a");return ne.body.appendChild(K),he.href=ue,K.href=Z,K.href}function L(){return`u${Z()}${e++}`;function Z(){return`0000${(Math.random()*Math.pow(36,4)<<0).toString(36)}`.slice(-4)}}function z(Z){return Z==="data:,"?Promise.resolve():new Promise(function(ue,ne){const he=new Image;dn.impl.options.useCredentials&&(he.crossOrigin="use-credentials"),he.onload=function(){window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){ue(he)}):ue(he)},he.onerror=ne,he.src=Z})}function Y(Z){let ue=dn.impl.urlCache.find(function(ne){return ne.url===Z});return ue||(ue={url:Z,promise:null},dn.impl.urlCache.push(ue)),ue.promise===null&&(dn.impl.options.cacheBust&&(Z+=(/\?/.test(Z)?"&":"?")+new Date().getTime()),dn.impl.options.requestUrl&&/^http/.test(Z)?ue.promise=dn.impl.options.requestUrl({url:Z,method:"GET"}).then(ne=>new Promise(he=>{const K=new FileReader;K.onload=function(oe){he(oe.target.result)},K.readAsDataURL(new Blob([ne.arrayBuffer],{type:ne.headers["content-type"]}))})).catch(ne=>(console.error("cannot fetch resource: "+Z+", error: "+ne),"")):ue.promise=new Promise(function(ne){const he=dn.impl.options.httpTimeout,K=new XMLHttpRequest;if(K.onreadystatechange=pe,K.ontimeout=Ee,K.responseType="blob",K.timeout=he,dn.impl.options.useCredentials&&(K.withCredentials=!0),dn.impl.options.corsImg&&Z.indexOf("http")===0&&Z.indexOf(window.location.origin)===-1){const Be=(dn.impl.options.corsImg.method||"GET").toUpperCase()==="POST"?"POST":"GET";K.open(Be,(dn.impl.options.corsImg.url||"").replace("#{cors}",Z),!0);let Je=!1;const ze=dn.impl.options.corsImg.headers||{};Object.keys(ze).forEach(function(It){ze[It].indexOf("application/json")!==-1&&(Je=!0),K.setRequestHeader(It,ze[It])});const Qe=je(dn.impl.options.corsImg.data||"");Object.keys(Qe).forEach(function(It){typeof Qe[It]=="string"&&(Qe[It]=Qe[It].replace("#{cors}",Z))}),K.send(Je?JSON.stringify(Qe):Qe)}else K.open("GET",Z,!0),K.send();let oe;if(dn.impl.options.imagePlaceholder){const Be=dn.impl.options.imagePlaceholder.split(/,/);Be&&Be[1]&&(oe=Be[1])}function pe(){if(K.readyState!==4)return;if(K.status>=300){oe?ne(oe):Ae(`cannot fetch resource: ${Z}, status: ${K.status}`);return}const Be=new FileReader;Be.onloadend=function(){ne(Be.result)},Be.readAsDataURL(K.response)}function Ee(){oe?ne(oe):Ae(`timeout of ${he}ms occured while fetching resource: ${Z}`)}function je(Be){try{return JSON.parse(JSON.stringify(Be))}catch{Ae("corsImg.data is missing or invalid");return}}function Ae(Be){console.error(Be),ne("")}})),ue.promise}function V(Z){return Z.replace(/([.*+?^${}()|[]\/\\])/g,"\\$1")}function $(Z){return function(ue){return new Promise(function(ne){setTimeout(function(){ne(ue)},Z)})}}function re(Z){const ue=[],ne=Z.length;for(let he=0;he<ne;he++)ue.push(Z[he]);return ue}function Q(Z){return Z.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")}function ae(Z){const ue=ie(Z,"width");if(!isNaN(ue))return ue;const ne=ie(Z,"border-left-width"),he=ie(Z,"border-right-width");return Z.scrollWidth+ne+he}function X(Z){const ue=ie(Z,"height");if(!isNaN(ue))return ue;const ne=ie(Z,"border-top-width"),he=ie(Z,"border-bottom-width");return Z.scrollHeight+ne+he}function ie(Z,ue){if(Z.nodeType===sS){let ne=cv(Z).getPropertyValue(ue);if(ne.slice(-2)==="px")return ne=ne.slice(0,-2),parseFloat(ne)}return NaN}}function OO(){const e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:o,shouldProcess:t,impl:{readUrls:n,inline:r}};function t(i){return i.search(e)!==-1}function n(i){const a=[];let c;for(;(c=e.exec(i))!==null;)a.push(c[1]);return a.filter(function(d){return!Ut.isDataUrl(d)})}function r(i,a,c,d){return Promise.resolve(a).then(function(m){return c?Ut.resolveUrl(m,c):m}).then(d||Ut.getAndEncode).then(function(m){return i.replace(f(a),`$1${m}$3`)});function f(m){return new RegExp(`(url\\(['"]?)(${Ut.escape(m)})(['"]?\\))`,"g")}}function o(i,a,c){if(d())return Promise.resolve(i);return Promise.resolve(i).then(n).then(function(f){let m=Promise.resolve(i);return f.forEach(function(g){m=m.then(function(v){return r(v,g,a,c)})}),m});function d(){return!t(i)}}}function jO(){return{resolveAll:e,impl:{readAll:t}};function e(){return t().then(function(n){return Promise.all(n.map(function(r){return r.resolve()}))}).then(function(n){return n.join(`
`)})}function t(){return Promise.resolve(Ut.asArray(document.styleSheets)).then(r).then(n).then(function(i){return i.map(o)});function n(i){return i.filter(function(a){return a.type===CSSRule.FONT_FACE_RULE}).filter(function(a){return Nv.shouldProcess(a.style.getPropertyValue("src"))})}function r(i){const a=[];return i.forEach(function(c){if(Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(c),"cssRules"))try{Ut.asArray(c.cssRules||[]).forEach(a.push.bind(a))}catch(d){console.error(`domtoimage: Error while reading CSS rules from ${c.href}`,d.toString())}}),a}function o(i){return{resolve:function(){const c=(i.parentStyleSheet||{}).href;return Nv.inlineAll(i.cssText,c)},src:function(){return i.style.getPropertyValue("src")}}}}}function LO(){return{inlineAll:t,impl:{newImage:e}};function e(n){return{inline:r};function r(o){return Ut.isDataUrl(n.src)?Promise.resolve():Promise.resolve(n.src).then(o||Ut.getAndEncode).then(function(i){return new Promise(function(a){n.onload=a,n.onerror=a,n.src=i})})}}function t(n){if(!Ut.isElement(n))return Promise.resolve(n);return r(n).then(function(){return Ut.isHTMLImageElement(n)?e(n).inline():Promise.all(Ut.asArray(n.childNodes).map(function(o){return t(o)}))});function r(o){const a=["background","background-image"].map(function(c){const d=o.style.getPropertyValue(c),f=o.style.getPropertyPriority(c);return d?Nv.inlineAll(d).then(function(m){o.style.setProperty(c,m,f)}):Promise.resolve()});return Promise.all(a).then(function(){return o})}}}function RO(e,t,n,r){const o=["background-clip"].indexOf(t)>=0;r?(e.setProperty(t,n,r),o&&e.setProperty(`-webkit-${t}`,n,r)):(e.setProperty(t,n),o&&e.setProperty(`-webkit-${t}`,n))}function _O(e,t,n,r,o){const i=dn.impl.options.copyDefaultStyles?HO(e,t):{},a=o.style;Ut.asArray(n).forEach(function(c){const d=n.getPropertyValue(c),f=i[c],m=r?r.getPropertyValue(c):void 0;if(d!==f||r&&d!==m){const g=n.getPropertyPriority(c);RO(a,c,d,g)}})}let _y=null,uv={};const BO=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"];function HO(e,t){const n=c(t),r=d(n);if(uv[r])return uv[r];const o=YO(),i=f(o.document,n),a=m(o,i);return g(i),uv[r]=a,a;function c(v){const w=[];do{if(v.nodeType===sS){const T=v.tagName;if(w.push(T),BO.includes(T))break}v=v.parentNode}while(v);return w}function d(v){return e.styleCaching==="relaxed"?v.filter((w,T,S)=>T===0||T===S.length-1).join(">"):v.join(">")}function f(v,w){let T=v.body;do{const S=w.pop(),I=v.createElement(S);T.appendChild(I),T=I}while(w.length>0);return T.textContent="​",T}function m(v,w){const T={},S=v.getComputedStyle(w);return Ut.asArray(S).forEach(function(I){T[I]=I==="width"||I==="height"?"auto":S.getPropertyValue(I)}),T}function g(v){do{const w=v.parentElement;w!==null&&w.removeChild(v),v=w}while(v&&v.tagName!=="BODY")}}function YO(){if(oa)return oa.contentWindow;const e=document.characterSet||"UTF-8",t=document.doctype,n=t?`<!DOCTYPE ${r(t.name)} ${r(t.publicId)} ${r(t.systemId)}`.trim()+">":"";return oa=document.createElement("iframe"),oa.id="domtoimage-sandbox-"+Ut.uid(),oa.className="domtoimage-thino",oa.style.visibility="hidden",oa.style.position="fixed",document.body.appendChild(oa),o(oa,n,e,"domtoimage-sandbox");function r(i){if(i){const a=document.createElement("div");return a.innerText=i,a.innerHTML}else return""}function o(i,a,c,d){try{return i.contentWindow.document.write(`${a}<html><head><meta charset='${c}'><title>${d}</title></head><body></body></html>`),i.contentWindow}catch{}const f=document.createElement("meta");f.setAttribute("charset",c);try{const m=document.implementation.createHTMLDocument(d);m.head.appendChild(f);const g=a+m.documentElement.outerHTML;return i.setAttribute("srcdoc",g),i.contentWindow}catch{}return i.contentDocument.head.appendChild(f),i.contentDocument.title=d,i.contentWindow}}function UO(){oa&&(document.body.removeChild(oa),oa=null),_y&&clearTimeout(_y),_y=setTimeout(()=>{_y=null,uv={}},20*1e3)}async function zO(e,t,n){return await dn.toCanvas(e,{width:e.clientWidth,height:e.clientHeight,quality:1,scale:t?2:1,requestUrl:C.requestUrl,type:n})}const y0=async(e,t)=>(await zO(e,!0,"image/jpeg")).toDataURL(),AT=async e=>{e.startsWith("http")&&(e=await xd(e));const t=e.split("base64,")[1],n=o0(t,"image/png");await xC(n),new C.Notice(E("Send to clipboard successfully"))},VO=async(e,t)=>{const n=await e.vault.adapter.exists(t);let r="";if(n)r=t;else{const c=e.metadataCache.getFirstLinkpathDest(t,"");if(!c){new C.Notice(E("File not exist"));return}r=c.path}const o=await e.vault.adapter.readBinary(r),i=new Uint8Array(o),a=new Blob([i],{type:"image/png"});await xC(a)},xC=async e=>{const t=new ClipboardItem({"image/png":e});await window.navigator.clipboard.write([t])},FT=1.1,PT=300,OT=20,WO=({destroy:e,imgUrl:t,filepath:n,otherIMGEls:r,currentIndex:o})=>{const i=F.useRef(null),[a,c]=F.useState(-1),d=Re.getState().dailyNotesState.app,[f,m]=F.useState(o),[g,v]=F.useState(t),w={close:F.useRef(null),previous:F.useRef(null),next:F.useRef(null),decrease:F.useRef(null),increase:F.useRef(null),zoom:F.useRef(null),copy:F.useRef(null)};F.useEffect(()=>{!n&&!t||(C.setIcon(w.close.current,"x"),w.previous.current&&C.setIcon(w.previous.current,"arrow-left"),w.next.current&&C.setIcon(w.next.current,"arrow-right"),C.setIcon(w.decrease.current,"zoom-out"),C.setIcon(w.increase.current,"zoom-in"),C.setIcon(w.zoom.current,"circle"),C.setIcon(w.copy.current,"clipboard"))},[w]),F.useEffect(()=>{ct.getImageSize(g).then(({width:L})=>{c(L!==0?40:0)})},[g]);const T=()=>{let L=f-1;L<0&&(L=r.length-1),m(L),v(r[L].src)},S=()=>{let L=f+1;L>=r.length&&(L=0),m(L),v(r[L].src)},I=()=>{e()},k=()=>{a>30&&c(a-10)},P=()=>{c(a+10)},R=L=>{L.target!==i.current&&L.target===i.current.parentElement&&I()},M=L=>{if(L.ctrlKey){L.preventDefault();const z=i.current,Y=L.nativeEvent.offsetX,V=L.nativeEvent.offsetY,$=Y/z.clientWidth,re=V/z.clientHeight;let Q;L.deltaY>0?Q=a/FT:Q=a*FT,Q>PT?Q=PT:Q<OT&&(Q=OT);const ae=a;c(Q);const X=L.currentTarget;X.scrollLeft+=(Q-ae)*$,X.scrollTop+=(Q-ae)*re}else L.deltaX!==0&&(L.currentTarget.scrollLeft+=L.deltaX)},_=async()=>{if(g&&!n)await AT(t);else if(n){const z=r[f].parentElement.getAttribute("src");if(!z){await AT(g);return}await VO(d,z)}};return y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:w.close,className:"btn close-btn",onClick:I}),y.jsxs("div",{className:"img-container internal-embed image-embed is-loaded",onClick:R,onWheel:M,children:[y.jsx("img",{className:a<=0?"hidden":"",ref:i,height:a+"%",src:g}),y.jsx("span",{className:"loading-text "+(a===-1?"":"hidden"),children:E("Image is loading...")}),y.jsx("span",{className:"loading-text "+(a===0?"":"hidden"),children:E("😟 Cannot load image, image link maybe broken")})]}),y.jsxs("div",{className:"action-btns-container",children:[r&&(r==null?void 0:r.length)>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:w.previous,className:"btn",onClick:T}),y.jsx("button",{ref:w.next,className:"btn",onClick:S})]}),y.jsx("button",{ref:w.decrease,className:"btn",onClick:k}),y.jsx("button",{ref:w.increase,className:"btn",onClick:P}),y.jsx("button",{ref:w.zoom,className:"btn",onClick:()=>c(80)}),y.jsx("button",{ref:w.copy,className:"btn",onClick:_})]})]})};function v0({imgUrl:e,filepath:t,otherIMGEls:n,currentIndex:r}){u0({className:"preview-image-dialog"},WO,{...{imgUrl:e,otherIMGEls:n,currentIndex:r},filepath:t})}const ZO=e=>{const{dailyNotesState:{app:t,view:n}}=F.useContext(Ot),{memo:r,handleMemoContentClick:o,handleMemoDoubleClick:i}=e,a=le.useRef(null),[c,d]=le.useState(""),f=le.useRef(c);return F.useEffect(()=>{if(!a.current||a.current.hasChildNodes()&&r.content===c||!n||!t||f.current===r.content)return;d(r.content),a.current.hasChildNodes()&&a.current.empty(),(async()=>{C.MarkdownRenderer.render(t,r.content,a.current,r.path,n).then(()=>{var v,w;f.current=r.content,(v=a.current)==null||v.toggleClass(["markdown-rendered"],!0);const g=(w=a.current)==null?void 0:w.querySelectorAll(".internal-link");g==null||g.forEach(T=>{const S=T,I=S.getAttribute("data-href");if(!I)return;t.metadataCache.getFirstLinkpathDest(I,r.path)||T.classList.add("is-unresolved"),S.addEventListener("mouseover",P=>{P.stopPropagation(),t.workspace.trigger("hover-link",{event:P,source:"thino",hoverParent:n.containerEl,targetEl:S,linktext:I,sourcePath:S.href})})})})})()},[r.content,n,t]),y.jsx("div",{ref:a,className:"memo-content-text",onClick:m=>o(m,r),onDoubleClick:i,onContextMenu:m=>{m.preventDefault()}})},CC=F.memo(ZO),$O=e=>{const[t,n]=F.useState({...e.memo,createdAtStr:ct.getDateTimeString(e.memo.createdAt)}),[r,o]=F.useState([]),[i,a]=F.useState([]);F.useEffect(()=>{(async()=>{try{const g=[],v=[...t.content.matchAll(gu)];for(const T of v)if(T&&T.length===3){const S=T[2],I=Te.getMemoById(S);I&&g.push({...I,createdAtStr:ct.getDateTimeString(I.createdAt),dateStr:ct.getDateString(I.createdAt)})}o([...g]);const w=await Te.getLinkedMemos(t.id);a(w.sort((T,S)=>ct.getTimeStampByDate(S.createdAt)-ct.getTimeStampByDate(T.createdAt)).map(T=>({...T,createdAtStr:ct.getDateTimeString(T.createdAt),dateStr:ct.getDateString(T.createdAt)})))}catch(g){console.error(g)}})()},[t.id]);const c=F.useCallback(async m=>{var v;const g=m.target;if(g.className==="memo-link-text"){const w=(v=g.dataset)==null?void 0:v.value,T=Te.getMemoById(w??"");if(T){const S={...T,createdAtStr:ct.getDateTimeString(T.createdAt)};o([]),a([]),n(S)}else new C.Notice(E("Thino not found")),g.classList.remove("memo-link-text")}},[]),d=F.useCallback(m=>{o([]),a([]),n({...m,createdAtStr:ct.getDateTimeString(m.createdAt)})},[t.id]),f=F.useCallback(()=>{e.destroy(),dt.setEditMemoId(t.id)},[t.id]);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"memo-card-container",children:[y.jsxs("div",{className:"header-container",children:[y.jsx("span",{className:"time-text",children:t.createdAtStr}),y.jsxs("div",{className:"btns-container",children:[y.jsx("button",{ref:m=>{m&&C.setIcon(m,"edit")},className:"btn edit-btn",onClick:f}),y.jsx("button",{ref:m=>{m&&C.setIcon(m,"x")},className:"btn close-btn",onClick:e.destroy})]})]}),y.jsx("div",{className:"memo-container",children:y.jsx("div",{className:"memo-content-text",children:y.jsx(CC,{memo:t,handleMemoContentClick:c,handleMemoDoubleClick:()=>{}})})}),y.jsx("div",{className:"layer-container"})]}),r.length>0?y.jsxs("div",{className:"linked-memos-wrapper",children:[y.jsxs("span",{className:"normal-text",children:[E("LINKED")," ",r.length," THINO"," "]}),r.map(m=>{const g=CD(jb(m.content)).replaceAll(`
`," ");return y.jsxs("div",{className:"linked-memo-container",onClick:()=>d(m),children:[y.jsxs("span",{className:"time-text",children:[m.dateStr," "]}),g]},m.id)})]}):null,i.length>0?y.jsxs("div",{className:"linked-memos-wrapper",children:[y.jsxs("span",{className:"normal-text",children:[i.length," THINO ",E("LINK TO THE")," THINO"]}),i.map(m=>{const g=CD(jb(m.content)).replaceAll(`
`," ");return y.jsxs("div",{className:"linked-memo-container",onClick:()=>d(m),children:[y.jsxs("span",{className:"time-text",children:[m.dateStr," "]}),g]},m.id)})]}):null]})};function _h(e){u0({className:"memo-card-dialog"},$O,{memo:e})}function uu(e){return MC(e)?(e.nodeName||"").toLowerCase():"#document"}function sa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vu(e){var t;return(t=(MC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function MC(e){return e instanceof Node||e instanceof sa(e).Node}function Yo(e){return e instanceof Element||e instanceof sa(e).Element}function wl(e){return e instanceof HTMLElement||e instanceof sa(e).HTMLElement}function Qb(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sa(e).ShadowRoot}function mg(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ra(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function qO(e){return["table","td","th"].includes(uu(e))}function lS(e){const t=cS(),n=Ra(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function GO(e){let t=Dh(e);for(;wl(t)&&!w0(t);){if(lS(t))return t;t=Dh(t)}return null}function cS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function w0(e){return["html","body","#document"].includes(uu(e))}function Ra(e){return sa(e).getComputedStyle(e)}function b0(e){return Yo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Dh(e){if(uu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Qb(e)&&e.host||vu(e);return Qb(t)?t.host:t}function kC(e){const t=Dh(e);return w0(t)?e.ownerDocument?e.ownerDocument.body:e.body:wl(t)&&mg(t)?t:kC(t)}function Xb(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=kC(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=sa(o);return i?t.concat(a,a.visualViewport||[],mg(o)?o:[],a.frameElement&&n?Xb(a.frameElement):[]):t.concat(o,Xb(o,[],n))}function dv(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Qb(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function e1(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function By(e){return(e==null?void 0:e.ownerDocument)||document}function JO(e){return"composedPath"in e?e.composedPath()[0]:e.target}const t1=Math.min,ph=Math.max,Av=Math.round,du=e=>({x:e,y:e}),KO={left:"right",right:"left",bottom:"top",top:"bottom"},QO={start:"end",end:"start"};function jT(e,t,n){return ph(e,t1(t,n))}function S0(e,t){return typeof e=="function"?e(t):e}function Cd(e){return e.split("-")[0]}function D0(e){return e.split("-")[1]}function NC(e){return e==="x"?"y":"x"}function AC(e){return e==="y"?"height":"width"}function T0(e){return["top","bottom"].includes(Cd(e))?"y":"x"}function FC(e){return NC(T0(e))}function XO(e,t,n){n===void 0&&(n=!1);const r=D0(e),o=FC(e),i=AC(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Fv(a)),[a,Fv(a)]}function ej(e){const t=Fv(e);return[n1(e),t,n1(t)]}function n1(e){return e.replace(/start|end/g,t=>QO[t])}function tj(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}function nj(e,t,n,r){const o=D0(e);let i=tj(Cd(e),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(n1)))),i}function Fv(e){return e.replace(/left|right|bottom|top/g,t=>KO[t])}function rj(e){return{top:0,right:0,bottom:0,left:0,...e}}function oj(e){return typeof e!="number"?rj(e):{top:e,right:e,bottom:e,left:e}}function Pv(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function LT(e,t,n){let{reference:r,floating:o}=e;const i=T0(t),a=FC(t),c=AC(a),d=Cd(t),f=i==="y",m=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,v=r[c]/2-o[c]/2;let w;switch(d){case"top":w={x:m,y:r.y-o.height};break;case"bottom":w={x:m,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:g};break;case"left":w={x:r.x-o.width,y:g};break;default:w={x:r.x,y:r.y}}switch(D0(t)){case"start":w[a]-=v*(n&&f?-1:1);break;case"end":w[a]+=v*(n&&f?-1:1);break}return w}const ij=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:g}=LT(f,r,d),v=r,w={},T=0;for(let S=0;S<c.length;S++){const{name:I,fn:k}=c[S],{x:P,y:R,data:M,reset:_}=await k({x:m,y:g,initialPlacement:r,placement:v,strategy:o,middlewareData:w,rects:f,platform:a,elements:{reference:e,floating:t}});m=P??m,g=R??g,w={...w,[I]:{...w[I],...M}},_&&T<=50&&(T++,typeof _=="object"&&(_.placement&&(v=_.placement),_.rects&&(f=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:m,y:g}=LT(f,v,d)),S=-1)}return{x:m,y:g,placement:v,strategy:o,middlewareData:w}};async function PC(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:a,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:w=0}=S0(t,e),T=oj(w),I=c[v?g==="floating"?"reference":"floating":g],k=Pv(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(I)))==null||n?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:d})),P=g==="floating"?{...a.floating,x:r,y:o}:a.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),M=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},_=Pv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:R,strategy:d}):P);return{top:(k.top-_.top+T.top)/M.y,bottom:(_.bottom-k.bottom+T.bottom)/M.y,left:(k.left-_.left+T.left)/M.x,right:(_.right-k.right+T.right)/M.x}}const aj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:S=!0,...I}=S0(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const k=Cd(o),P=Cd(c)===c,R=await(d.isRTL==null?void 0:d.isRTL(f.floating)),M=v||(P||!S?[Fv(c)]:ej(c));!v&&T!=="none"&&M.push(...nj(c,S,T,R));const _=[c,...M],L=await PC(t,I),z=[];let Y=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&z.push(L[k]),g){const Q=XO(o,a,R);z.push(L[Q[0]],L[Q[1]])}if(Y=[...Y,{placement:o,overflows:z}],!z.every(Q=>Q<=0)){var V,$;const Q=(((V=i.flip)==null?void 0:V.index)||0)+1,ae=_[Q];if(ae)return{data:{index:Q,overflows:Y},reset:{placement:ae}};let X=($=Y.filter(ie=>ie.overflows[0]<=0).sort((ie,Z)=>ie.overflows[1]-Z.overflows[1])[0])==null?void 0:$.placement;if(!X)switch(w){case"bestFit":{var re;const ie=(re=Y.map(Z=>[Z.placement,Z.overflows.filter(ue=>ue>0).reduce((ue,ne)=>ue+ne,0)]).sort((Z,ue)=>Z[1]-ue[1])[0])==null?void 0:re[0];ie&&(X=ie);break}case"initialPlacement":X=c;break}if(o!==X)return{reset:{placement:X}}}return{}}}};async function sj(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=Cd(n),c=D0(n),d=T0(n)==="y",f=["left","top"].includes(a)?-1:1,m=i&&d?-1:1,g=S0(t,e);let{mainAxis:v,crossAxis:w,alignmentAxis:T}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return c&&typeof T=="number"&&(w=c==="end"?T*-1:T),d?{x:w*m,y:v*f}:{x:v*f,y:w*m}}const lj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:c}=t,d=await sj(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+d.x,y:i+d.y,data:{...d,placement:a}}}}},cj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:I=>{let{x:k,y:P}=I;return{x:k,y:P}}},...d}=S0(e,t),f={x:n,y:r},m=await PC(t,d),g=T0(Cd(o)),v=NC(g);let w=f[v],T=f[g];if(i){const I=v==="y"?"top":"left",k=v==="y"?"bottom":"right",P=w+m[I],R=w-m[k];w=jT(P,w,R)}if(a){const I=g==="y"?"top":"left",k=g==="y"?"bottom":"right",P=T+m[I],R=T-m[k];T=jT(P,T,R)}const S=c.fn({...t,[v]:w,[g]:T});return{...S,data:{x:S.x-n,y:S.y-r}}}}};function OC(e){const t=Ra(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=wl(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,c=Av(n)!==i||Av(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function jC(e){return Yo(e)?e:e.contextElement}function mh(e){const t=jC(e);if(!wl(t))return du(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=OC(t);let a=(i?Av(n.width):n.width)/r,c=(i?Av(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const uj=du(0);function LC(e){const t=sa(e);return!cS()||!t.visualViewport?uj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dj(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==sa(e)?!1:t}function jm(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=jC(e);let a=du(1);t&&(r?Yo(r)&&(a=mh(r)):a=mh(e));const c=dj(i,n,r)?LC(i):du(0);let d=(o.left+c.x)/a.x,f=(o.top+c.y)/a.y,m=o.width/a.x,g=o.height/a.y;if(i){const v=sa(i),w=r&&Yo(r)?sa(r):r;let T=v,S=T.frameElement;for(;S&&r&&w!==T;){const I=mh(S),k=S.getBoundingClientRect(),P=Ra(S),R=k.left+(S.clientLeft+parseFloat(P.paddingLeft))*I.x,M=k.top+(S.clientTop+parseFloat(P.paddingTop))*I.y;d*=I.x,f*=I.y,m*=I.x,g*=I.y,d+=R,f+=M,T=sa(S),S=T.frameElement}}return Pv({width:m,height:g,x:d,y:f})}const fj=[":popover-open",":modal"];function RC(e){return fj.some(t=>{try{return e.matches(t)}catch{return!1}})}function hj(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",a=vu(r),c=t?RC(t.floating):!1;if(r===a||c&&i)return n;let d={scrollLeft:0,scrollTop:0},f=du(1);const m=du(0),g=wl(r);if((g||!g&&!i)&&((uu(r)!=="body"||mg(a))&&(d=b0(r)),wl(r))){const v=jm(r);f=mh(r),m.x=v.x+r.clientLeft,m.y=v.y+r.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x,y:n.y*f.y-d.scrollTop*f.y+m.y}}function pj(e){return Array.from(e.getClientRects())}function _C(e){return jm(vu(e)).left+b0(e).scrollLeft}function mj(e){const t=vu(e),n=b0(e),r=e.ownerDocument.body,o=ph(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ph(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+_C(e);const c=-n.scrollTop;return Ra(r).direction==="rtl"&&(a+=ph(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:c}}function gj(e,t){const n=sa(e),r=vu(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,d=0;if(o){i=o.width,a=o.height;const f=cS();(!f||f&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}return{width:i,height:a,x:c,y:d}}function yj(e,t){const n=jm(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=wl(e)?mh(e):du(1),a=e.clientWidth*i.x,c=e.clientHeight*i.y,d=o*i.x,f=r*i.y;return{width:a,height:c,x:d,y:f}}function RT(e,t,n){let r;if(t==="viewport")r=gj(e,n);else if(t==="document")r=mj(vu(e));else if(Yo(t))r=yj(t,n);else{const o=LC(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Pv(r)}function BC(e,t){const n=Dh(e);return n===t||!Yo(n)||w0(n)?!1:Ra(n).position==="fixed"||BC(n,t)}function vj(e,t){const n=t.get(e);if(n)return n;let r=Xb(e,[],!1).filter(c=>Yo(c)&&uu(c)!=="body"),o=null;const i=Ra(e).position==="fixed";let a=i?Dh(e):e;for(;Yo(a)&&!w0(a);){const c=Ra(a),d=lS(a);!d&&c.position==="fixed"&&(o=null),(i?!d&&!o:!d&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||mg(a)&&!d&&BC(e,a))?r=r.filter(m=>m!==a):o=c,a=Dh(a)}return t.set(e,r),r}function wj(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?vj(t,this._c):[].concat(n),r],c=a[0],d=a.reduce((f,m)=>{const g=RT(t,m,o);return f.top=ph(g.top,f.top),f.right=t1(g.right,f.right),f.bottom=t1(g.bottom,f.bottom),f.left=ph(g.left,f.left),f},RT(t,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function bj(e){const{width:t,height:n}=OC(e);return{width:t,height:n}}function Sj(e,t,n){const r=wl(t),o=vu(t),i=n==="fixed",a=jm(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=du(0);if(r||!r&&!i)if((uu(t)!=="body"||mg(o))&&(c=b0(t)),r){const g=jm(t,!0,i,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else o&&(d.x=_C(o));const f=a.left+c.scrollLeft-d.x,m=a.top+c.scrollTop-d.y;return{x:f,y:m,width:a.width,height:a.height}}function _T(e,t){return!wl(e)||Ra(e).position==="fixed"?null:t?t(e):e.offsetParent}function HC(e,t){const n=sa(e);if(!wl(e)||RC(e))return n;let r=_T(e,t);for(;r&&qO(r)&&Ra(r).position==="static";)r=_T(r,t);return r&&(uu(r)==="html"||uu(r)==="body"&&Ra(r).position==="static"&&!lS(r))?n:r||GO(e)||n}const Dj=async function(e){const t=this.getOffsetParent||HC,n=this.getDimensions;return{reference:Sj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function Tj(e){return Ra(e).direction==="rtl"}const Ij={convertOffsetParentRelativeRectToViewportRelativeRect:hj,getDocumentElement:vu,getClippingRect:wj,getOffsetParent:HC,getElementRects:Dj,getClientRects:pj,getDimensions:bj,getScale:mh,isElement:Yo,isRTL:Tj},Ej=cj,xj=(e,t,n)=>{const r=new Map,o={platform:Ij,...n},i={...o.platform,_c:r};return ij(e,t,{...o,platform:i})};var fv=typeof document<"u"?F.useLayoutEffect:F.useEffect;function Ov(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ov(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Ov(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function YC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function BT(e,t){const n=YC(e);return Math.round(t*n)/n}function HT(e){const t=F.useRef(e);return fv(()=>{t.current=e}),t}function Cj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[m,g]=F.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,w]=F.useState(r);Ov(v,r)||w(r);const[T,S]=F.useState(null),[I,k]=F.useState(null),P=F.useCallback(ue=>{ue!==L.current&&(L.current=ue,S(ue))},[]),R=F.useCallback(ue=>{ue!==z.current&&(z.current=ue,k(ue))},[]),M=i||T,_=a||I,L=F.useRef(null),z=F.useRef(null),Y=F.useRef(m),V=d!=null,$=HT(d),re=HT(o),Q=F.useCallback(()=>{if(!L.current||!z.current)return;const ue={placement:t,strategy:n,middleware:v};re.current&&(ue.platform=re.current),xj(L.current,z.current,ue).then(ne=>{const he={...ne,isPositioned:!0};ae.current&&!Ov(Y.current,he)&&(Y.current=he,c0.flushSync(()=>{g(he)}))})},[v,t,n,re]);fv(()=>{f===!1&&Y.current.isPositioned&&(Y.current.isPositioned=!1,g(ue=>({...ue,isPositioned:!1})))},[f]);const ae=F.useRef(!1);fv(()=>(ae.current=!0,()=>{ae.current=!1}),[]),fv(()=>{if(M&&(L.current=M),_&&(z.current=_),M&&_){if($.current)return $.current(M,_,Q);Q()}},[M,_,Q,$,V]);const X=F.useMemo(()=>({reference:L,floating:z,setReference:P,setFloating:R}),[P,R]),ie=F.useMemo(()=>({reference:M,floating:_}),[M,_]),Z=F.useMemo(()=>{const ue={position:n,left:0,top:0};if(!ie.floating)return ue;const ne=BT(ie.floating,m.x),he=BT(ie.floating,m.y);return c?{...ue,transform:"translate("+ne+"px, "+he+"px)",...YC(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:he}},[n,c,ie.floating,m.x,m.y]);return F.useMemo(()=>({...m,update:Q,refs:X,elements:ie,floatingStyles:Z}),[m,Q,X,ie,Z])}const UC={...JN},Mj=UC.useInsertionEffect,kj=Mj||(e=>e());function Nj(e){const t=F.useRef(()=>{});return kj(()=>{t.current=e}),F.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Th=typeof document<"u"?F.useLayoutEffect:F.useEffect;let YT=!1,Aj=0;const UT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Aj++;function Fj(){const[e,t]=F.useState(()=>YT?UT():void 0);return Th(()=>{e==null&&t(UT())},[]),F.useEffect(()=>{YT=!0},[]),e}const Pj=UC.useId,Oj=Pj||Fj;function jj(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Lj=F.createContext(null),Rj=F.createContext(null),zC=()=>{var e;return((e=F.useContext(Lj))==null?void 0:e.id)||null},VC=()=>F.useContext(Rj);function _j(e){return"data-floating-ui-"+e}function zT(e){const t=F.useRef(e);return Th(()=>{t.current=e}),t}const VT=_j("safe-polygon");function eb(e,t,n){return n&&!e1(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Bj(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:a,floating:c},refs:d}=e,{enabled:f=!0,delay:m=0,handleClose:g=null,mouseOnly:v=!1,restMs:w=0,move:T=!0}=t,S=VC(),I=zC(),k=zT(g),P=zT(m),R=F.useRef(),M=F.useRef(),_=F.useRef(),L=F.useRef(),z=F.useRef(!0),Y=F.useRef(!1),V=F.useRef(()=>{}),$=F.useCallback(()=>{var X;const ie=(X=o.current.openEvent)==null?void 0:X.type;return(ie==null?void 0:ie.includes("mouse"))&&ie!=="mousedown"},[o]);F.useEffect(()=>{if(!f)return;function X(ie){let{open:Z}=ie;Z||(clearTimeout(M.current),clearTimeout(L.current),z.current=!0)}return i.on("openchange",X),()=>{i.off("openchange",X)}},[f,i]),F.useEffect(()=>{if(!f||!k.current||!n)return;function X(Z){$()&&r(!1,Z,"hover")}const ie=By(c).documentElement;return ie.addEventListener("mouseleave",X),()=>{ie.removeEventListener("mouseleave",X)}},[c,n,r,f,k,$]);const re=F.useCallback(function(X,ie,Z){ie===void 0&&(ie=!0),Z===void 0&&(Z="hover");const ue=eb(P.current,"close",R.current);ue&&!_.current?(clearTimeout(M.current),M.current=setTimeout(()=>r(!1,X,Z),ue)):ie&&(clearTimeout(M.current),r(!1,X,Z))},[P,r]),Q=F.useCallback(()=>{V.current(),_.current=void 0},[]),ae=F.useCallback(()=>{if(Y.current){const X=By(d.floating.current).body;X.style.pointerEvents="",X.removeAttribute(VT),Y.current=!1}},[d]);return F.useEffect(()=>{if(!f)return;function X(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function ie(ne){if(clearTimeout(M.current),z.current=!1,v&&!e1(R.current)||w>0&&eb(P.current,"open")===0)return;const he=eb(P.current,"open",R.current);he?M.current=setTimeout(()=>{r(!0,ne,"hover")},he):r(!0,ne,"hover")}function Z(ne){if(X())return;V.current();const he=By(c);if(clearTimeout(L.current),k.current){n||clearTimeout(M.current),_.current=k.current({...e,tree:S,x:ne.clientX,y:ne.clientY,onClose(){ae(),Q(),re(ne,!0,"safe-polygon")}});const oe=_.current;he.addEventListener("mousemove",oe),V.current=()=>{he.removeEventListener("mousemove",oe)};return}(R.current==="touch"?!dv(c,ne.relatedTarget):!0)&&re(ne)}function ue(ne){X()||k.current==null||k.current({...e,tree:S,x:ne.clientX,y:ne.clientY,onClose(){ae(),Q(),re(ne)}})(ne)}if(Yo(a)){const ne=a;return n&&ne.addEventListener("mouseleave",ue),c==null||c.addEventListener("mouseleave",ue),T&&ne.addEventListener("mousemove",ie,{once:!0}),ne.addEventListener("mouseenter",ie),ne.addEventListener("mouseleave",Z),()=>{n&&ne.removeEventListener("mouseleave",ue),c==null||c.removeEventListener("mouseleave",ue),T&&ne.removeEventListener("mousemove",ie),ne.removeEventListener("mouseenter",ie),ne.removeEventListener("mouseleave",Z)}}},[a,c,f,e,v,w,T,re,Q,ae,r,n,S,P,k,o]),Th(()=>{var X;if(f&&n&&(X=k.current)!=null&&X.__options.blockPointerEvents&&$()){const Z=By(c).body;if(Z.setAttribute(VT,""),Z.style.pointerEvents="none",Y.current=!0,Yo(a)&&c){var ie;const ue=a,ne=S==null||(ie=S.nodesRef.current.find(he=>he.id===I))==null||(ie=ie.context)==null?void 0:ie.elements.floating;return ne&&(ne.style.pointerEvents=""),ue.style.pointerEvents="auto",c.style.pointerEvents="auto",()=>{ue.style.pointerEvents="",c.style.pointerEvents=""}}}},[f,n,I,c,a,S,k,$]),Th(()=>{n||(R.current=void 0,Q(),ae())},[n,Q,ae]),F.useEffect(()=>()=>{Q(),clearTimeout(M.current),clearTimeout(L.current),ae()},[f,a,Q,ae]),F.useMemo(()=>{if(!f)return{};function X(ie){R.current=ie.pointerType}return{reference:{onPointerDown:X,onPointerEnter:X,onMouseMove(ie){function Z(){z.current||r(!0,ie.nativeEvent,"hover")}v&&!e1(R.current)||n||w===0||(clearTimeout(L.current),R.current==="touch"?Z():L.current=setTimeout(Z,w))}},floating:{onMouseEnter(){clearTimeout(M.current)},onMouseLeave(ie){re(ie.nativeEvent,!1)}}}},[f,v,n,w,r,re])}function Hj(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(a=>{var c;return o.parentId===a.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function Yj(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,a]=F.useState(null),[c,d]=F.useState(null),m=((t=e.elements)==null?void 0:t.reference)||i;Th(()=>{m&&(S.current=m)},[m]);const g=Cj({...e,elements:{...e.elements,...c&&{reference:c}}}),v=VC(),w=zC()!=null,T=Nj((Y,V,$)=>{I.current.openEvent=Y?V:void 0,k.emit("openchange",{open:Y,event:V,reason:$,nested:w}),r==null||r(Y,V,$)}),S=F.useRef(null),I=F.useRef({}),k=F.useState(()=>jj())[0],P=Oj(),R=F.useCallback(Y=>{const V=Yo(Y)?{getBoundingClientRect:()=>Y.getBoundingClientRect(),contextElement:Y}:Y;d(V),g.refs.setReference(V)},[g.refs]),M=F.useCallback(Y=>{(Yo(Y)||Y===null)&&(S.current=Y,a(Y)),(Yo(g.refs.reference.current)||g.refs.reference.current===null||Y!==null&&!Yo(Y))&&g.refs.setReference(Y)},[g.refs]),_=F.useMemo(()=>({...g.refs,setReference:M,setPositionReference:R,domReference:S}),[g.refs,M,R]),L=F.useMemo(()=>({...g.elements,domReference:m}),[g.elements,m]),z=F.useMemo(()=>({...g,refs:_,elements:L,dataRef:I,nodeId:o,floatingId:P,events:k,open:n,onOpenChange:T}),[g,o,P,k,n,T,_,L]);return Th(()=>{const Y=v==null?void 0:v.nodesRef.current.find(V=>V.id===o);Y&&(Y.context=z)}),F.useMemo(()=>({...g,context:z,refs:_,elements:L}),[g,_,L,z])}const WT="active",ZT="selected";function tb(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[WT]:a,[ZT]:c,...d}=e;i=d}return{...n==="floating"&&{tabIndex:-1},...i,...t.map(a=>{const c=a?a[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((a,c)=>(c&&Object.entries(c).forEach(d=>{let[f,m]=d;if(!(o&&[WT,ZT].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof m=="function"){var g;(g=r.get(f))==null||g.push(m),a[f]=function(){for(var v,w=arguments.length,T=new Array(w),S=0;S<w;S++)T[S]=arguments[S];return(v=r.get(f))==null?void 0:v.map(I=>I(...T)).find(I=>I!==void 0)}}}else a[f]=m}),a),{})}}function Uj(e){e===void 0&&(e=[]);const t=e,n=F.useCallback(i=>tb(i,e,"reference"),t),r=F.useCallback(i=>tb(i,e,"floating"),t),o=F.useCallback(i=>tb(i,e,"item"),e.map(i=>i==null?void 0:i.item));return F.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}function $T(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let a=0,c=i-1;a<i;c=a++){const[d,f]=t[a]||[0,0],[m,g]=t[c]||[0,0];f>=r!=g>=r&&n<=(m-d)*(r-f)/(g-f)+d&&(o=!o)}return o}function zj(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Vj(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,a=null,c=null,d=performance.now();function f(g,v){const w=performance.now(),T=w-d;if(a===null||c===null||T===0)return a=g,c=v,d=w,null;const S=g-a,I=v-c,P=Math.sqrt(S*S+I*I)/T;return a=g,c=v,d=w,P}const m=g=>{let{x:v,y:w,placement:T,elements:S,onClose:I,nodeId:k,tree:P}=g;return function(M){function _(){clearTimeout(o),I()}if(clearTimeout(o),!S.domReference||!S.floating||T==null||v==null||w==null)return;const{clientX:L,clientY:z}=M,Y=[L,z],V=JO(M),$=M.type==="mouseleave",re=dv(S.floating,V),Q=dv(S.domReference,V),ae=S.domReference.getBoundingClientRect(),X=S.floating.getBoundingClientRect(),ie=T.split("-")[0],Z=v>X.right-X.width/2,ue=w>X.bottom-X.height/2,ne=zj(Y,ae),he=X.width>ae.width,K=X.height>ae.height,oe=(he?ae:X).left,pe=(he?ae:X).right,Ee=(K?ae:X).top,je=(K?ae:X).bottom;if(re&&(i=!0,!$))return;if(Q&&(i=!1),Q&&!$){i=!0;return}if($&&Yo(M.relatedTarget)&&dv(S.floating,M.relatedTarget)||P&&Hj(P.nodesRef.current,k).some(Je=>{let{context:ze}=Je;return ze==null?void 0:ze.open}))return;if(ie==="top"&&w>=ae.bottom-1||ie==="bottom"&&w<=ae.top+1||ie==="left"&&v>=ae.right-1||ie==="right"&&v<=ae.left+1)return _();let Ae=[];switch(ie){case"top":Ae=[[oe,ae.top+1],[oe,X.bottom-1],[pe,X.bottom-1],[pe,ae.top+1]];break;case"bottom":Ae=[[oe,X.top+1],[oe,ae.bottom-1],[pe,ae.bottom-1],[pe,X.top+1]];break;case"left":Ae=[[X.right-1,je],[X.right-1,Ee],[ae.left+1,Ee],[ae.left+1,je]];break;case"right":Ae=[[ae.right-1,je],[ae.right-1,Ee],[X.left+1,Ee],[X.left+1,je]];break}function Be(Je){let[ze,Qe]=Je;switch(ie){case"top":{const It=[he?ze+t/2:Z?ze+t*4:ze-t*4,Qe+t+1],Zt=[he?ze-t/2:Z?ze+t*4:ze-t*4,Qe+t+1],_e=[[X.left,Z||he?X.bottom-t:X.top],[X.right,Z?he?X.bottom-t:X.top:X.bottom-t]];return[It,Zt,..._e]}case"bottom":{const It=[he?ze+t/2:Z?ze+t*4:ze-t*4,Qe-t],Zt=[he?ze-t/2:Z?ze+t*4:ze-t*4,Qe-t],_e=[[X.left,Z||he?X.top+t:X.bottom],[X.right,Z?he?X.top+t:X.bottom:X.top+t]];return[It,Zt,..._e]}case"left":{const It=[ze+t+1,K?Qe+t/2:ue?Qe+t*4:Qe-t*4],Zt=[ze+t+1,K?Qe-t/2:ue?Qe+t*4:Qe-t*4];return[...[[ue||K?X.right-t:X.left,X.top],[ue?K?X.right-t:X.left:X.right-t,X.bottom]],It,Zt]}case"right":{const It=[ze-t,K?Qe+t/2:ue?Qe+t*4:Qe-t*4],Zt=[ze-t,K?Qe-t/2:ue?Qe+t*4:Qe-t*4],_e=[[ue||K?X.left+t:X.right,X.top],[ue?K?X.left+t:X.right:X.left+t,X.bottom]];return[It,Zt,..._e]}}}if(!$T([L,z],Ae)){if(i&&!ne)return _();if(!$&&r){const Je=f(M.clientX,M.clientY);if(Je!==null&&Je<.1)return _()}$T([L,z],Be([v,w]))?!i&&r&&(o=window.setTimeout(_,40)):_()}}};return m.__options={blockPointerEvents:n},m}const Wj=F.forwardRef((e,t)=>{var ae;const{memo:n,handlePinMemoClick:r,handleFixMemoClick:o,handleSourceMemoClick:i,handleShowMemoStoryDialog:a,handleCopyMemoClick:c,handleEditMemoClick:d,handleGenMemoImageBtnClick:f,handleMarkMemoClick:m,handleArchiveMemo:g,handleDeleteMemoClick:v,handleSplitMemoClick:w}=e,T=Re.getState().dailyNotesState.settings,S=T.EnabledLocationList.find(X=>X.value==="MULTI"),[I,k]=yl(!1),P=F.useRef(null),R={pinRef:F.useRef(null),fixRef:F.useRef(null),typeRef:F.useRef(null),moreRef:F.useRef(null)},[M,_]=F.useState(!1),{refs:L,floatingStyles:z,context:Y}=Yj({open:M,onOpenChange:_,placement:"bottom-end",middleware:[aj(),Ej(),lj({crossAxis:5,mainAxis:-5})]}),V=Bj(Y,{handleClose:Vj({requireIntent:!1})}),{getReferenceProps:$,getFloatingProps:re}=Uj([V]),Q={copy:F.useRef(null),read:F.useRef(null),mark:F.useRef(null),share:F.useRef(null),edit:F.useRef(null),source:F.useRef(null),archive:F.useRef(null),delete:F.useRef(null),split:F.useRef(null)};return F.useEffect(()=>{!P.current||!M||(C.setIcon(Q.copy.current,"copy"),C.setIcon(Q.read.current,"book-open"),C.setIcon(Q.mark.current,"bookmark"),C.setIcon(Q.share.current,"share-2"),C.setIcon(Q.edit.current,"pencil"),C.setIcon(Q.source.current,"home"),C.setIcon(Q.archive.current,"archive"),C.setIcon(Q.delete.current,"trash"),Q.split.current&&C.setIcon(Q.split.current,"separator-horizontal"))},[P,M]),F.useEffect(()=>{if(!R.typeRef)return;const X=km.find(ie=>ie.title===n.sourceType);C.setIcon(R.typeRef.current,X.icon),C.requireApiVersion("1.4.4")&&C.setTooltip(R.typeRef.current,n.path),R.fixRef&&(C.setIcon(R.fixRef.current,"shield-alert"),C.requireApiVersion("1.4.4")&&C.setTooltip(R.fixRef.current,"Update Thino property"))},[R.typeRef]),F.useEffect(()=>{R.pinRef&&(n.pinned?(C.setIcon(R.pinRef.current,"pin-off"),C.requireApiVersion("1.4.4")&&C.setTooltip(R.pinRef.current,E("UNPIN"))):(C.setIcon(R.pinRef.current,"pin"),C.requireApiVersion("1.4.4")&&C.setTooltip(R.pinRef.current,E("PIN"))))},[R.pinRef,n.pinned]),F.useImperativeHandle(t,()=>({toggleConfirm:X=>k(X),confirmStatus:I})),y.jsx("div",{ref:P,className:"memo-top-right-wrapper",children:y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:R.fixRef,className:`btn ${n.sourceType!=="MULTI"||n.id!==""?"hidden":""} fix-memo-btn`,onClick:()=>o(n)}),y.jsx("span",{ref:R.typeRef,className:`btn ${n.sourceType==="DAILY"?"hidden":""} source-type-btn`,onClick:()=>i(n)}),y.jsx("span",{ref:R.pinRef,className:`btn ${e.memo.pinned?"pinned-btn":"unpinned-btn"} pro`,onClick:r}),y.jsx("div",{ref:L.setReference,...$(),children:y.jsx("span",{ref:X=>{R.moreRef.current=X,X&&C.setIcon(X,"more-horizontal")},className:"btn more-action-btn"})}),M&&y.jsx("div",{ref:L.setFloating,className:"more-action-btns-wrapper",style:z,...re(),children:y.jsxs("div",{className:"more-action-btns-container",children:[y.jsxs("div",{className:"more-action-btn-group more-action-menu-item",children:[y.jsx("span",{ref:Q.copy,className:"more-action-item-icon",onClick:c}),y.jsx("span",{ref:Q.edit,className:"more-action-item-icon",onClick:d}),y.jsx("span",{ref:Q.share,className:"more-action-item-icon",onClick:f})]}),y.jsx("hr",{className:"menu-hr"}),y.jsxs("div",{className:"more-action-menu-item",onClick:a,children:[y.jsx("span",{ref:Q.read,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",children:E("READ")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:Q.mark,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:m,children:E("MARK")})]}),((ae=/(^|\n)#{1,6}\s/g.exec(n.content))==null?void 0:ae.length)>1&&S&&y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:Q.split,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:w,children:E("SPLIT")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:Q.source,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:()=>i(n),children:E("SOURCE")})]}),y.jsx("hr",{className:"menu-hr"}),y.jsxs("div",{className:"more-action-menu-item archive-menu-item",children:[y.jsx("span",{ref:Q.archive,className:"more-action-item-icon"}),y.jsx("span",{className:"btn delete-btn",onClick:()=>g(n),children:E("ARCHIVE").toUpperCase()})]}),y.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[y.jsx("span",{ref:Q.delete,className:"more-action-item-icon"}),y.jsx("span",{className:`btn delete-btn ${I?"final-confirm":""}`,onClick:async X=>{X.stopPropagation(),X.preventDefault(),await v(X)},children:I?E("CONFIRM！"):T.DeleteThinoDirectly?E("DELETE"):E("Recycle bin").toUpperCase()})]}),y.jsx("hr",{className:"menu-hr"}),y.jsx("div",{className:"text-count-item more-action-menu-item",children:y.jsx("span",{className:"btn text-count-btn",children:ct.getWordCount(n.content.replace(/```[^\S\r\n]*[a-z]*\n.*?\n```/g,""))+` ${E("words")}`})})]})})]})})}),Zj=e=>{const{memo:t,handleMemoTypeToggle:n,handleShowMemoStoryDialog:r,settings:o}=e;return y.jsxs("div",{className:"memo-top-left-wrapper",children:[e.children,y.jsx("span",{title:t.createdAt,className:"time-text",onClick:r,children:t.createdAt}),y.jsx("div",{className:`btn memo-type-img ${o!=null&&o.ShowTaskLabel?"":"hidden"}`,onClick:n,children:t.thinoType!=="JOURNAL"&&y.jsx("input",{className:"task-list-item-checkbox",type:"checkbox",checked:t.thinoType!=="TASK-TODO","data-task":t.thinoType==="TASK-TODO"?"":t.thinoType==="TASK-DONE"?"x":t.thinoType.slice(5)})})]})};class $j extends C.SuggestModal{constructor(t,n){super(t),this.thino=n}sanitisedFileName(t){const n=f6;return t.replace(n,"").trim().slice(0,255)}ensureUniqueFileNames(t){const n=[];return t.map(o=>{const i=this.sanitisedFileName(o[0]),a=n.filter(c=>c==i);return n.push(i),a.length>=1?`${i}${a.length+1}`:i})}contentSplitByHeading(t,n){const r=t.split(`
`),o=new Array(n).join("#")+" ",i=new Array(n+1).join("#")+" ",a=[];let c=[];return r.forEach((d,f)=>{d.startsWith(i)?(c.length>0&&(a.push(c),c=[]),c.push(d)):c.length>0&&!d.startsWith(o)?c.push(d):c.length>0&&(a.push(c),c=[]),f===r.length-1&&c.length>0&&a.push(c)}),a}onChooseSuggestion(t,n){this.selectSuggestion(t,n)}renderSuggestion(t,n){n.setText(t.title)}getSuggestions(){return[{id:"splitByHeading1",title:E("Split by Heading 1")},{id:"splitByHeading2",title:E("Split by Heading 2")},{id:"splitByHeading3",title:E("Split by Heading 3")}]}async selectSuggestion(t,n){let r=[];if(t.id==="splitByHeading1"?r=this.contentSplitByHeading(this.thino.content,1):t.id==="splitByHeading2"?r=this.contentSplitByHeading(this.thino.content,2):t.id==="splitByHeading3"&&(r=this.contentSplitByHeading(this.thino.content,3)),r.length===0){new C.Notice("No headings found"),this.close();return}const o=this.ensureUniqueFileNames(r);for(const c of r){const d=r.indexOf(c),f=await Te.createThino({content:c.join(`
`),name:o[d],type:"MULTI",isList:!0});Te.pushMemo(f)}let i=this.thino.content;r.forEach((c,d)=>{i=i.replace(c.join(`
`),`[[${o[d]}]]`)});const a=await Te.updateMemo(this.thino.id,i);a&&Te.editMemo(a),this.close()}}const qj=async(e,t,n)=>{const r=n.getAttribute("href"),o=n.className;if(o.contains("tag"))Gj(n.innerText.slice(1));else if(o.contains("internal-link")){const i=n.getAttribute("data-href"),a=Te.getMemoById(i??"");a?_h(a):await e.workspace.openLinkText(i,i,!C.Platform.isMobile&&t.navigation!==!0)}else r&&window.open(r,"_blank")},Gj=e=>{const t=ot.getState().query.tag;ot.setTagQuery(t.contains(",")?t.split(",").includes(e)?t.split(",").filter(n=>n!==e).join(","):t+","+e:t===e?"":e)},Jj=(e,t)=>{const n=t==null?void 0:t.getAttribute("src"),r=t==null?void 0:t.parentElement.getAttribute("src"),o=[...(e==null?void 0:e.querySelectorAll("img"))||[]],i=o.indexOf(t);v0({imgUrl:n,filepath:n.startsWith("app")?r:void 0,otherIMGEls:o,currentIndex:i})},Kj=e=>{var r;const t=(r=e.dataset)==null?void 0:r.value,n=Te.getMemoById(t??"");n?_h(n):(new C.Notice("Thino Not Found"),e.classList.remove("memo-link-text"))},Qj=async(e,t,n,r)=>{var c;const o=e!=null&&e.AppendDateWhenTaskDone?" ✅ "+C.moment().format("YYYY-MM-DD"):"",i=((c=r.parentElement.dataset)==null?void 0:c.task)==="x"?"DONE":"TODO",a=[...(n==null?void 0:n.querySelectorAll("li.task-list-item"))||[]];for(const d of a)if(d===r||d===r.closest("li.task-list-item")){const f=a.indexOf(d),m=t.content.split(/\n/),g=[];for(let I=0;I<m.length;I++)(m[I].trim().startsWith("- [ ]")||m[I].trim().startsWith("- [x]"))&&g.push(I);const v=g[f];let T=m[v].replace(/- \[ \] |- \[x\] /g,i==="TODO"?"- [x] ":"- [ ] ")+(i==="TODO"?o:"");e.AppendDateWhenTaskDone&&i!=="TODO"&&(T=T.replace(/ ✅ \d{4}-\d{2}-\d{2}/g,"")),m[v]=T;const S=m.join(`
`).trim();if(t&&t.content!==S){const I=await Te.updateMemo(t.id,S);Te.editMemo(I)}}},Xj=e=>{const{globalState:{editMemoId:t},dailyNotesState:{app:n,view:r,settings:o,verifyState:i},locationState:{pathname:a}}=F.useContext(Ot),{memo:c,type:d="inline"}=e,f=F.useRef(null),m=F.useRef(null),[g,v]=F.useState(!1);F.useEffect(()=>{g&&setTimeout(()=>{dt.setEditMemoId(c.id)},100)},[g]),F.useEffect(()=>{(a==="/review"||a==="/daily")&&t!==c.id&&g&&v(!1)},[t]);const w=Z=>{if(Z.ctrlKey||Z.metaKey){const ue=C.moment(c.createdAt,"YYYY/MM/DD HH:mm:ss");ot.setFromAndToQuery(ue.startOf("day").valueOf(),ue.endOf("day").valueOf());return}_h(c)},T=()=>{if(o!=null&&o.UseButtonToShowEditor&&(o==null?void 0:o.DefaultEditorLocation)==="Bottom"){const Z=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.hidden)");Z&&Z.trigger("click")}dt.setMarkMemoId(c.id)},S=async()=>{var ne;const Z=!C.Platform.isDesktop&&await((ne=window.Capacitor)==null?void 0:ne.Plugins.Device.getId()),ue=C.Platform.isDesktop?await Jn():Z.identifier||Z.uuid;if(!i||(i==null?void 0:i.appId)!==ue){bn();return}c.pinned?await Te.unpinMemoById(c.id):await Te.pinMemoById(c.id)},I=()=>{if(o!=null&&o.UseButtonToShowEditor&&(o==null?void 0:o.DefaultEditorLocation)==="Bottom"&&C.Platform.isMobile){const Z=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.hidden)");Z&&Z.trigger("click")}(a==="/review"||a==="/daily")&&v(!0),a!=="/review"&&a!=="/daily"&&dt.setEditMemoId(c.id)},k=async Z=>{Z.sourceType==="MULTI"&&Z.id.trim()===""&&await Te.updateMemoProperty(Z)},P=async Z=>{await Te.openThinoByID(Z.id)},R=async Z=>{try{const ue=await Te.archiveMemo(Z);ue&&Te.editMemo(ue)}catch(ue){console.error(ue),new C.Notice(ue.message)}},M=async(Z,ue)=>{if(!ue&&m.current&&!m.current.confirmStatus){m.current&&m.current.toggleConfirm();return}try{if(o.DeleteThinoDirectly)await Te.deleteMemoById(c.id);else{const ne=await Te.hideMemoById(c.id);ne&&Te.editMemo(ne)}}catch(ne){new C.Notice(ne.message)}dt.getState().editMemoId===c.id&&dt.setEditMemoId("")},_=()=>{if(m.current&&!m.current.confirmStatus){m.current&&m.current.toggleConfirm(!1);return}},L=()=>{yd(c)},z=async()=>{const Z=await Te.updateMemo(c.id,c.content,c.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");Z&&Te.editMemo(Z)},Y=async Z=>{Z.stopPropagation(),navigator.clipboard.writeText(c.content).then(()=>{new C.Notice(E("COPY SUCCEED"))}).catch(()=>{new C.Notice(E("COPY FAILED"))})},V=async()=>{new $j(n,c).open()},$=Z=>{Z&&Z.target.tagName!=="INPUT"&&I()},re=async(Z,ue)=>{Z.preventDefault(),Z.stopPropagation();const ne=Z.target;if(Z.ctrlKey||Z.metaKey){await P(ue);return}if(ne.tagName==="A"){await qj(n,r,ne);return}if(ne.tagName==="IMG"){Jj(f.current,ne);return}if(ne.tagName==="A"&&ne.getAttribute("href")){const he=ne.getAttribute("href");window.open(he,"_blank");return}if(ne.className==="memo-link-text"){Kj(ne);return}if(ne.tagName==="INPUT"&&ne.hasClass("task-list-item-checkbox")){await Qj(o,ue,f.current,ne);return}},Q=Z=>{const ue=new C.Menu;ue.dom.toggleClass("memo-context-menu",!0);const ne=window.getSelection();(ne==null?void 0:ne.toString().length)>0&&ue.addItem(he=>{he.setIcon("copy").setTitle(E("Copy selected text")).onClick(()=>{navigator.clipboard.writeText(ne.toString()).then(()=>{new C.Notice(E("COPY SUCCEED"))}).catch(()=>{new C.Notice(E("COPY FAILED"))})})}).addSeparator(),ue.addItem(he=>{he.setIcon("copy").setTitle(E("Copy thino").toLocaleUpperCase()).onClick(async K=>{await Y(K),ue.close()})}).addItem(he=>{he.setIcon("book-open").setTitle(E("READ")).onClick(w)}).addItem(he=>{he.setIcon(c.pinned?"pin-off":"pin").setTitle(c.pinned?E("UNPIN"):E("PIN")).onClick(S)}).addItem(he=>{he.setIcon("bookmark").setTitle(E("MARK")).onClick(T)}).addItem(he=>{he.setIcon("share-2").setTitle(E("SHARE")).onClick(L)}).addItem(he=>{he.setIcon("pencil").setTitle(E("EDIT")).onClick(I)}).addItem(he=>{he.setIcon("home").setTitle(E("SOURCE")).onClick(()=>P(c))}).addSeparator().addItem(he=>{he.setIcon("archive").setTitle(E("ARCHIVE").toLocaleUpperCase()).onClick(()=>R(c))}).addItem(he=>{he.setIcon("trash").setTitle(E("DELETE")).onClick(async K=>{await M(K,!0)})}),ue.showAtMouseEvent(Z.nativeEvent)},ae=F.useMemo(()=>({memo:c,handlePinMemoClick:S,handleFixMemoClick:k,handleSourceMemoClick:P,handleArchiveMemo:R,handleDeleteMemoClick:M,handleGenMemoImageBtnClick:L,handleMarkMemoClick:T,handleEditMemoClick:I,handleCopyMemoClick:Y,handleShowMemoStoryDialog:w,handleSplitMemoClick:V}),[c]),X=F.useMemo(()=>({memo:c,handleMemoTypeToggle:z,handleShowMemoStoryDialog:w,settings:o}),[c,o]),ie=F.useMemo(()=>y.jsxs("div",{ref:f,className:`memo-wrapper ${c.pinned?"pinned":""}`,"data-source-type":c.sourceType,"data-thino-type":c.thinoType,"data-thino-id":c.id,onMouseLeave:_,onMouseOver:Z=>{Z.shiftKey&&(Z.stopPropagation(),n.workspace.trigger("hover-link",{event:Z,source:"thino",hoverParent:r.containerEl,targetEl:f.current,linktext:c.path,sourcePath:c.path,state:{scroll:c.sourceType==="DAILY"?parseInt(c.id.slice(14)):0}}))},onContextMenu:Q,children:[g&&y.jsx(Td,{editorType:"inline"}),!g&&y.jsxs(y.Fragment,{children:[d==="inline"&&y.jsxs("div",{className:"memo-top-wrapper",draggable:!0,onDragStart:Z=>{Z.target.classList.add("dragging"),Z.dataTransfer.setDragImage(f.current,0,0),Z.dataTransfer.setData("text/plain",c.content)},onDragEnd:Z=>{Z.target.classList.remove("dragging")},children:[y.jsx(Zj,{...X}),y.jsx(Wj,{ref:m,...ae})]}),y.jsx(CC,{memo:c,handleMemoContentClick:re,handleMemoDoubleClick:$})]})]}),[c,g]);return y.jsx(y.Fragment,{children:ie})},ji=F.memo(Xj);class lt extends C.Setting{constructor(n,r){super(n);De(this,"settingTab");De(this,"name","");De(this,"desc","");this.settingTab=r}setName(n){return super.setName(n),this.name=n,this}setDesc(n){return super.setDesc(n),this.desc=n,this}setTab(n){const r=typeof this.name=="string"?this.name:this.name.textContent||"",o=typeof this.desc=="string"?this.desc:this.desc.textContent||"";return this.settingTab.addSettingToMasterSettingsList(n,this.settingEl,r,o),this}}class eL extends C.Modal{constructor(n,r,o,i,a){super(n);De(this,"plugin");De(this,"settingTab");De(this,"target",5);De(this,"cb");this.app=n,this.settingTab=r,this.plugin=o,this.target=i,this.cb=a}onOpen(){var c;const{contentEl:n}=this;(c=n.parentElement)==null||c.classList.add("memo-save-location-modal"),n.createEl("h3",{text:E("Thino Daily Target")});const r=n.createDiv("modal-setting");new lt(r,this.settingTab).setName(E("Target Thino Count")).addSlider(d=>{d.setDynamicTooltip().setValue(this.target).setLimits(1,30,1).onChange(async f=>{this.target=f})});const o=n.createDiv("button-group"),i=o.createEl("button",{text:E("Cancel")}),a=o.createEl("button",{text:E("Save")});a.onclick=async()=>{this.plugin.settings.MemoDailyTarget=this.target,this.settingTab.applySettingsUpdate(),this.cb(this.target),this.close()},i.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}const tL=({allStat:e,todayTimeStamp:t,calendarType:n,handleCalendarTypeChange:r})=>{const{dailyNotesState:{app:o,settings:i},globalState:{manifest:a}}=F.useContext(Ot),[c,d]=F.useState(),[f,m]=F.useState(5),[g,v]=F.useState(0),[w,T]=F.useState(0),[S,I]=F.useState(i.HeatmapColorScheme||"default"),k=F.useRef(null),P=F.useRef(null);F.useEffect(()=>{i.HeatmapColorScheme&&I(i.HeatmapColorScheme)},[i.HeatmapColorScheme]),F.useEffect(()=>{let M,_=5;a&&o&&(M=o==null?void 0:o.plugins.getPlugin(a.id),_=M==null?void 0:M.settings.MemoDailyTarget,d(M)),m(_)},[a,o]),F.useEffect(()=>{const M=e.find(z=>z.timestamp===t),_=M?M.count:0;T(_);const L=Math.min(100,_/f*100);v(L)},[e,f]),F.useEffect(()=>{C.requireApiVersion("1.4.4")&&(C.setTooltip(P.current,g.toFixed(2)+"%"),C.setTooltip(k.current,E("Set daily target")+` (${w}/${f})`))},[g,w]),F.useEffect(()=>{k.current&&(k.current.hasChildNodes()||C.setIcon(k.current,"crosshair"),C.requireApiVersion("1.4.4")&&C.setTooltip(P.current,g+"%"))},[k,f]);const R=F.useCallback(()=>{if(!c)return;new eL(o,c==null?void 0:c.settingTab,c,f,_=>{m(_)}).open()},[c,f]);return y.jsx(y.Fragment,{children:y.jsxs("div",{className:`usage-daily-progress-wrapper heatmap-${S}`,children:[y.jsx("div",{ref:P,className:"daily-progress-bar",children:y.jsx("div",{className:"daily-progress-bar-inner",style:{width:`${g}%`}})}),y.jsx("div",{ref:k,className:"daily-progress-target",onClick:R}),y.jsx("div",{ref:M=>{M&&C.setIcon(M,n==="basic"?"layout-grid":"calendar"),M&&C.setTooltip&&C.setTooltip(M,E("Switch calendar type"))},className:"switch-calendar-type-btn",onClick:()=>r&&r(n==="basic"?"heatmap":"basic")})]})})},nL=(e,t)=>{const n=[],r=Math.floor((e-t)/Ai);for(let o=0;o<=r;o++)n.push({timestamp:t+Ai*o,count:0,list:0});return n},rL=e=>{const{className:t,view:n,datestamp:r,handleDateStampChange:o,handleDateItemClick:i,handleMonthChange:a,dailyStat:c}=e,d=C.moment().startOf("day").valueOf(),[f,m]=F.useState(oh(r)),[g,v]=F.useState(null),[w,T]=F.useState(e.dailyStat);F.useEffect(()=>{m(oh(r));const M=nL(iL(r),oh(r)),_=e.thinos.filter(L=>!L.deletedAt&&L.rowStatus!=="ARCHIVED");for(const L of _){const Y=C.moment(L.createdAt,"YYYY/MM/DD HH:mm:ss").startOf("day").diff(C.moment(f).startOf("day"),"days");Y>=0&&Y<M.length&&(M[Y].count+=1,L.thinoType==="JOURNAL"&&(M[Y].list+=1))}T(M)},[r]);const S=new Date(f),I=S.getDay(),k=[];for(let M=0;M<I;M++)k.push({date:0,datestamp:S.getTime()-Ai*(7-M)});const P=oL(f);for(let M=1;M<=P;M++)k.push({date:M,datestamp:S.getTime()+Ai*(M-1)});const R=M=>{const _=S.getFullYear(),L=S.getMonth()+1;let z=0;L===1&&M===-1?z=new Date(`${_-1}/12/1`).getTime():L===12&&M===1?z=new Date(`${_+1}/1/1`).getTime():z=new Date(`${_}/${L+M}/1`).getTime(),m(oh(z)),a&&a(z)};return y.jsxs("div",{className:`heatmap-date-picker-wrapper ${t}`,children:[y.jsxs("div",{className:"date-picker-header",children:[y.jsx("span",{ref:M=>{M&&C.setIcon(M,"chevron-left")},className:"btn btn-text",onClick:()=>R(-1)}),y.jsxs("span",{className:"normal-text",children:[y.jsx(Xx,{year:S.getFullYear().toString(),handleYearChange:M=>{m(oh(new Date(`${M}/${S.getMonth()+1}/1`).getTime()))}}),y.jsx(eC,{month:S.getMonth().toString(),handleMonthChange:M=>{m(oh(new Date(`${S.getFullYear()}/${parseInt(M)}/1`).getTime()))}})]}),y.jsx("span",{ref:M=>{M&&C.setIcon(M,"chevron-right")},className:"btn btn-text",onClick:()=>R(1)})]}),y.jsxs("div",{className:"date-picker-day-container",children:[y.jsx("div",{className:"date-picker-day-header",children:E("weekDaysShort").map(M=>y.jsx("span",{className:"day-item",children:M},M))}),y.jsx("div",{className:"date-picker-day-content",children:k.map(M=>{if(M.date===0)return y.jsx("span",{className:"day-item null",children:""},M.datestamp);const _=w.find(Y=>Y.timestamp===M.datestamp)||{count:0,timestamp:M.datestamp,list:0},L=_.count-_.list,z=_.list;return y.jsxs("span",{className:`day-item ${M.datestamp===d?"current":""} ${M.datestamp===g?"selected":""} ${nb(_.count)}`,onClick:Y=>{o(r,Y.nativeEvent),v(M.datestamp===g?null:M.datestamp),i&&i(Y,_)},onMouseOver:Y=>{if(!_||!_.count)return;const V=new C.HoverPopover(n,Y.currentTarget,100);WC(V,{d:M,list:z,task:L})},children:[y.jsx("span",{className:"day-item-text",children:M.date}),y.jsx(y.Fragment,{children:_&&_.count!==0&&y.jsxs("span",{className:"day-item-dots",children:[L>0&&y.jsx("div",{className:`day-item-dot thino-task-dot ${nb(L)}`}),z>0&&y.jsx("div",{className:`day-item-dot thino-list-dot ${nb(z)}`})]})})]},M.datestamp)})})]})]})};function WC(e,{d:t,list:n,task:r}){e.hoverEl.toggleClass("thino-hover-popover",!0);const o=e.hoverEl.createDiv({cls:"thino-hover-popover-content"});o.createDiv({cls:"thino-date-item",text:`${C.moment(t.datestamp).format("YYYY-MM-DD")}`});const i=o.createDiv({cls:"thino-task-item"});i.createSpan({cls:"thino-task-item-title-text",text:`${E("Task")}: `}),i.createSpan({cls:"thino-task-item-title-count",text:`${r}`});const a=o.createDiv({cls:"thino-list-item"});a.createSpan({cls:"thino-list-item-title-text",text:`${E("List")}: `}),a.createSpan({cls:"thino-list-item-title-count",text:`${n}`})}function oL(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/Ai}function oh(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}function iL(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return(n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-Ai}function nb(e){return e<=0?"":e<=1?"stat-day-L1-bg":e<=2?"stat-day-L2-bg":e<=4?"stat-day-L3-bg":"stat-day-L4-bg"}const qT={width:12,height:7},GT=(e,t)=>{const n=[];for(let r=0;r<=e;r++)n.push({timestamp:t+Ai*r,count:0,list:0});return n},Lm=({initThinos:e,basicType:t})=>{const n=parseInt(C.moment().endOf("day").format("x"));new Date(n).getDay();const r=parseInt(C.moment().startOf("day").format("x")),o=new Array(6-new Date(n).getDay()).fill(0),i=qT.width*qT.height,a=parseInt(C.moment().startOf("day").subtract(i,"days").format("x")),c=C.moment().startOf("day").subtract(i,"days"),{memoState:{memos:d},dailyNotesState:{view:f,app:m,settings:g,verifyState:v}}=F.useContext(Ot),[w,T]=oi(t||sL(m||window.app)||"heatmap"),[S,I]=oi(C.moment().startOf("day").valueOf()),[k,P]=oi(g.HeatmapColorScheme||"default"),[R,M]=oi(GT(i,a)),[_,L]=oi(null),[z,Y,V]=oi(""),$=F.useRef(null);F.useEffect(()=>{const ie=GT(i,a),Z=(e||d).filter(ue=>!ue.deletedAt&&ue.rowStatus!=="ARCHIVED");for(const ue of Z){const he=C.moment(ue.createdAt.replaceAll("/","-"),"YYYY-MM-DD HH:mm:ss").startOf("day").diff(c,"days");he>=0&&he<ie.length&&(ie[he].count+=1,ue.thinoType==="JOURNAL"&&(ie[he].list+=1))}M([...ie])},[d,e]),F.useEffect(()=>{g.HeatmapColorScheme&&P(g.HeatmapColorScheme)},[g.HeatmapColorScheme]);const re=F.useCallback((ie,Z)=>{if(!Z||!Z.count)return;const ue=Z.count-Z.list,ne=Z.list,he={date:Z.timestamp,datestamp:Z.timestamp},K=new C.HoverPopover(f,ie.currentTarget,100);WC(K,{d:he,list:ne,task:ue})},[]),Q=()=>{T(w==="heatmap"?"basic":"heatmap"),aL(m,w==="heatmap"?"basic":"heatmap"),I(C.moment().startOf("day").valueOf())},ae=F.useCallback(async(ie,Z)=>{if(Z.count===0)return;const ue=ot.getState().query.duration,ne=ue==null?void 0:ue.from,he=ue==null?void 0:ue.to,K=C.moment(ne).diff(he,"day")==0;if(ne===Z.timestamp&&K)ot.setFromAndToQuery(0,0),L(null),Y(null);else if(ne!==Z.timestamp&&ne>0&&ie.shiftKey){const oe=C.moment(Z.timestamp).endOf("day").diff(he,"day");ne===0&&ie.shiftKey?Y("from"):oe<0&&K&&Y("to"),C.moment(ne).isBefore(Z.timestamp)?V.current==="to"?oe<0?ot.setFromAndToQuery(Z.timestamp,he):(ot.setFromAndToQuery(parseInt(C.moment(he).startOf("day").format("x")),parseInt(C.moment(Z.timestamp).endOf("day").format("x"))),Y("from")):V.current==="from"&&(oe<0,ot.setFromAndToQuery(ne,parseInt(C.moment(Z.timestamp).endOf("day").format("x")))):V.current==="to"?ot.setFromAndToQuery(Z.timestamp,he):V.current==="from"&&(ot.setFromAndToQuery(Z.timestamp,parseInt(C.moment(ne).endOf("day").format("x"))),Y("to"))}else if(ne===0&&ie.shiftKey)ot.setFromAndToQuery(Z.timestamp,parseInt(C.moment().endOf("day").format("x")));else if(Z.count>0&&(ie.ctrlKey||ie.metaKey)){const{app:oe,dailyNotes:pe}=ft.getState(),Ee=n0(C.moment(Z.timestamp),pe);if(!C.Platform.isMobile)await oe.workspace.getLeaf(!0).openFile(Ee);else{let je=oe.workspace.activeLeaf;je===null&&(je=oe.workspace.getLeaf(!0)),je.openFile(Ee)}}else Z.count>0&&!ie.shiftKey&&!ie.ctrlKey&&!ie.metaKey&&(["/","/recycle"].includes(ot.getState().pathname)||ot.setPathname("/"),ot.setFromAndToQuery(Z.timestamp,ct.getTimeStampByDate(C.moment(Z.timestamp+Ai).subtract(1,"days").endOf("day").format("YYYY-MM-DD HH:mm:ss"))),L(Z))},[]),X=F.useMemo(()=>y.jsx(rL,{className:`heatmap-${k}`,view:f,datestamp:S,dailyStat:R,thinos:e||d,handleMonthChange:ie=>{I(ie)},handleDateStampChange:ie=>{},handleDateItemClick:(ie,Z)=>ae(ie,Z)}),[JSON.stringify(R),e,d,f,S,k]);return y.jsxs(y.Fragment,{children:[w==="basic"&&X,w==="heatmap"&&y.jsxs("div",{className:`usage-heat-map-wrapper heatmap-${k}`,ref:$,children:[y.jsxs("div",{className:"day-tip-text-container",children:[y.jsx("span",{className:"tip-text",children:E("weekDaysShort")[0]}),y.jsx("span",{className:"tip-text"}),y.jsx("span",{className:"tip-text",children:E("weekDaysShort")[2]}),y.jsx("span",{className:"tip-text"}),y.jsx("span",{className:"tip-text",children:E("weekDaysShort")[4]}),y.jsx("span",{className:"tip-text"}),y.jsx("span",{className:"tip-text",children:E("weekDaysShort")[6]})]}),y.jsxs("div",{className:"usage-heat-map",children:[R.slice(R.length-84+o.length,R.length).map((ie,Z)=>{const ue=ie.count,ne=ue<=0?"":ue<=1?"stat-day-L1-bg":ue<=2?"stat-day-L2-bg":ue<=4?"stat-day-L3-bg":"stat-day-L4-bg";return y.jsx("span",{"data-timestamp":ie.timestamp,"data-count":ie.count,"data-list-count":ie.list,"data-task-count":ie.count-ie.list,className:`stat-container ${ne} ${_===ie?"current":""} ${r===ie.timestamp?"today":""}`,onMouseOver:he=>re(he,ie),onClick:he=>ae(he,ie)},Z)}),o.map((ie,Z)=>y.jsx("span",{className:"stat-container null"},Z))]})]}),!t&&y.jsx(tL,{allStat:R,todayTimeStamp:r,calendarType:w,handleCalendarTypeChange:Q})]})};function aL(e,t){try{e==null||e.saveLocalStorage("calendarType",t)}catch(n){console.error(n)}}function sL(e){try{return(e==null?void 0:e.loadLocalStorage("calendarType"))||"heatmap"}catch(t){return console.error(t),"heatmap"}}const ZC=({type:e,timestamp:t})=>{const{memoState:{memos:n}}=F.useContext(Ot),[r,o]=F.useState([]),i=le.useRef(null);return F.useEffect(()=>{if(e==="daily"){if(t){const c=n.filter(d=>C.moment(d.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(C.moment(t,"YYYY/MM/DD HH:mm:ss"),"day"));o(c);return}const a=n.filter(c=>C.moment(c.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(C.moment(),"day"));o(a)}else if(e==="latest"){const a=n.filter(f=>!f.deletedAt&&f.rowStatus!=="ARCHIVED"),c=a.filter(f=>f.pinned),d=a.filter(f=>!f.pinned).slice(0,5);o([...c,...d])}},[n]),F.useEffect(()=>{i.current&&(i.current.scrollTop=0)},[n]),r.length>0?y.jsx("div",{ref:i,className:"thino-list-container",children:r.map(a=>y.jsx(ji,{memo:a}))}):y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:E("Here is No Memos.")})})},lL=(e,t)=>{Oa.createRoot(e).render(y.jsx(le.StrictMode,{children:y.jsx(_a,{store:Re,context:Ot,children:y.jsx(cL,{plugin:t})})}))},cL=({plugin:e})=>y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"thino-error-code-block",children:E("Please open thino first")}),y.jsx("button",{className:"thino-open-view",onClick:()=>e.openMemos("center"),children:E("Open thino in center window")})]}),uL=(e,t)=>{Oa.createRoot(e).render(y.jsx(le.StrictMode,{children:y.jsx(_a,{store:Re,context:Ot,children:y.jsx(dL,{yaml:t})})}))},dL=({yaml:e})=>{const t=Object.keys(e).filter(o=>e[o]),n=e.daily?e.daily:"",r=o=>{switch(o){case"editor":return JT;case"heatmap":return hL;case"calendar":return pL;case"daily":return gL;case"list":return yL;case"status":return mL;default:return JT}};return y.jsx(y.Fragment,{children:t.map(o=>y.jsx("div",{"data-embed-type":o,className:Kn("thino-embed-container",o==="editor"?"thino-editor-modal":""),children:o==="daily"?r(o)(n):r(o)()}))})};function JT(){return y.jsx(Td,{editorType:"inline",modal:!0})}function fL(e,t,n){try{const r=Oa.createRoot(e);return r.render(y.jsx(le.StrictMode,{children:y.jsx(_a,{store:Re,context:Ot,children:y.jsx(Td,{editorType:"inline",destroy:t,modal:n})})})),r}catch(r){console.error(r)}}function hL(){return y.jsx(Lm,{basicType:"heatmap"})}function pL(){return y.jsx(Lm,{basicType:"basic"})}function mL(){return y.jsx(Q1,{statusType:"banner"})}function gL(e){return y.jsx(ZC,{type:"daily",timestamp:e})}function yL(){return y.jsx(ZC,{type:"latest"})}class $C extends C.Modal{constructor(n){super(n);De(this,"root")}getViewType(){return"thino_view"}onOpen(){const{contentEl:n,modalEl:r}=this;try{this.root=fL(n,this.close.bind(this),this),r.toggleClass("thino-editor-modal",!0),setTimeout(()=>{var o;(o=n.querySelector("textarea"))==null||o.focus(),this.app.workspace.trigger("focus-on-textarea")},10)}catch(o){console.error(o)}}onClose(){this.root.unmount(),this.containerEl&&this.containerEl.empty()}}function vL(e,t){if(e==null)return{};var n=wL(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wL(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function jv(){return jv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(this,arguments)}function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function um(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(r){bL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const SL={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},rb=2;class Lv extends le.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||rb,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||rb});let r=1/0,o=n.default||rb;for(let i in n){const a=parseInt(i);a>0&&t<=a&&a<r&&(r=a,o=n[i])}o=Math.max(1,parseInt(o)||1),this.state.columnCount!==o&&this.setState({columnCount:o})}itemsInColumns(){const t=this.state.columnCount,n=new Array(t),r=le.Children.toArray(this.props.children);for(let o=0;o<r.length;o++){const i=o%t;n[i]||(n[i]=[]),n[i].push(r[o])}return n}renderColumns(){const{column:t,columnAttrs:n={},columnClassName:r}=this.props,o=this.itemsInColumns(),i=`${100/o.length}%`;let a=r;a&&typeof a!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof a>"u"&&(a="my-masonry-grid_column"));const c=um(um(um({},t),n),{},{style:um(um({},n.style),{},{width:i}),className:a});return o.map((d,f)=>le.createElement("div",jv({},c,{key:f}),d))}logDeprecated(t){console.error("[Masonry]",t)}render(){const t=this.props,{children:n,breakpointCols:r,columnClassName:o,columnAttrs:i,column:a,className:c}=t,d=vL(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let f=c;return typeof c!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof c>"u"&&(f="my-masonry-grid")),le.createElement("div",jv({},d,{className:f}),this.renderColumns())}}Lv.defaultProps=SL;const r1=e=>{F.useContext(Ot);const t=Re.getState().dailyNotesState.settings,{thinos:n,dayMark:r,dayMarkRange:o="day",thinoWrapper:i}=e,[a,c]=le.useState(!(t!=null&&t.hidePinnedGroup&&r==="PINNED")),d=le.useRef(null);F.useEffect(()=>{d&&C.setTooltip&&C.setTooltip(d.current,E("Click to expand or fold, Cmd+Click to show all thinos of the day"))},[d]);const f=m=>{if(C.Keymap.isModifier(m.nativeEvent,"Mod")){const g={day:"YYYY-MM-DD",week:"YYYY-[W]WW",month:"YYYY-MM",quarter:"YYYY-[Q]Q",year:"YYYY"},v=C.moment(r,g[o]);ot.setFromAndToQuery(v.startOf(o).valueOf(),v.endOf(o).valueOf());return}c(!a)};return y.jsx(y.Fragment,{children:e.type==="list"?y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:d,className:`day-mark ${a?"":"folded"} PINNED`,onClick:f,children:y.jsxs("span",{className:"day-mark-text",children:[a?"▼ ":"▶ ",r==="PINNED"?r+" 📌":r]})},r),a&&n.map((m,g)=>i?y.jsx("div",{children:i({thino:m})},`${m.id}-${C.moment(m.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`):y.jsx(ji,{memo:m},`${m.id}-${C.moment(m.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`))]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:d,className:`day-mark ${a?"":"folded"}`,onClick:f,children:y.jsxs("span",{className:"day-mark-text",children:[a?"▼ ":"▶ ",r==="PINNED"?r+" 📌":r]})},r),y.jsx(Lv,{breakpointCols:e.type==="waterfall"?3:1,className:`${e.type}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:a&&n.map((m,g)=>i?y.jsx("div",{children:i({thino:m})},`${m.id}-${C.moment(m.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`):y.jsx(ji,{memo:m},`${m.id}-${C.moment(m.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`))})]})})};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function DL(e,t){if(ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qC(e){var t=DL(e,"string");return ac(t)=="symbol"?t:String(t)}function gd(e,t,n){return t=qC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(n),!0).forEach(function(r){gd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I0(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function bl(e,t){if(e==null)return{};var n=I0(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qC(r.key),r)}}function co(e,t,n){return t&&XT(e.prototype,t),n&&XT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rv(e){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rv(e)}function GC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GC=function(){return!!e})()}function JC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TL(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JC(e)}function si(e,t,n){return t=Rv(t),TL(e,GC()?Reflect.construct(t,n||[],Rv(e).constructor):t.apply(e,n))}function _v(e,t){return _v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},_v(e,t)}function li(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_v(e,t)}function KC(e){if(Array.isArray(e))return e}function IL(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,c=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(m){f=!0,o=m}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw o}}return c}}function o1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uS(e,t){if(e){if(typeof e=="string")return o1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o1(e,t)}}function QC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ec(e,t){return KC(e)||IL(e,t)||uS(e,t)||QC()}function mr(){return mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mr.apply(this,arguments)}var EL=function(e,t,n,r,o,i,a,c){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,r,o,i,a,c],m=0;d=new Error(t.replace(/%s/g,function(){return f[m++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}},xL=EL;const Rm=$r(xL);var CL=function(){};function ML(e,t){var n={};return Object.keys(e).forEach(function(r){n[hv(r)]=CL}),n}function e2(e,t){return e[t]!==void 0}function hv(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function kL(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function NL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_v(e,t)}function XC(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function eM(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function tM(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}XC.__suppressDeprecationWarning=!0;eM.__suppressDeprecationWarning=!0;tM.__suppressDeprecationWarning=!0;function AL(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,o=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?o="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||r!==null||o!==null){var i=e.displayName||e.name,a=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=XC,t.componentWillReceiveProps=eM),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=tM;var c=t.componentDidUpdate;t.componentDidUpdate=function(f,m,g){var v=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:g;c.call(this,f,m,v)}}return e}var FL="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function nM(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",o=kL(e),i=Object.keys(t),a=i.map(hv);o||!n.length||Rm(!1);var c=function(f){NL(m,f);function m(){for(var v,w=arguments.length,T=new Array(w),S=0;S<w;S++)T[S]=arguments[S];v=f.call.apply(f,[this].concat(T))||this,v.handlers=Object.create(null),i.forEach(function(k){var P=t[k],R=function(_){if(v.props[P]){var L;v._notifying=!0;for(var z=arguments.length,Y=new Array(z>1?z-1:0),V=1;V<z;V++)Y[V-1]=arguments[V];(L=v.props)[P].apply(L,[_].concat(Y)),v._notifying=!1}v.unmounted||v.setState(function($){var re,Q=$.values;return{values:mr(Object.create(null),Q,(re={},re[k]=_,re))}})};v.handlers[P]=R}),n.length&&(v.attachRef=function(k){v.inner=k});var I=Object.create(null);return i.forEach(function(k){I[k]=v.props[hv(k)]}),v.state={values:I,prevProps:{}},v}var g=m.prototype;return g.shouldComponentUpdate=function(){return!this._notifying},m.getDerivedStateFromProps=function(w,T){var S=T.values,I=T.prevProps,k={values:mr(Object.create(null),S),prevProps:{}};return i.forEach(function(P){k.prevProps[P]=w[P],!e2(w,P)&&e2(I,P)&&(k.values[P]=w[hv(P)])}),k},g.componentWillUnmount=function(){this.unmounted=!0},g.render=function(){var w=this,T=this.props,S=T.innerRef,I=I0(T,["innerRef"]);a.forEach(function(P){delete I[P]});var k={};return i.forEach(function(P){var R=w.props[P];k[P]=R!==void 0?R:w.state.values[P]}),le.createElement(e,mr({},I,k,this.handlers,{ref:S||this.attachRef}))},m}(le.Component);AL(c),c.displayName="Uncontrolled("+r+")",c.propTypes=mr({innerRef:function(){}},ML(t)),n.forEach(function(f){c.prototype[f]=function(){var g;return(g=this.inner)[f].apply(g,arguments)}});var d=c;return le.forwardRef&&(d=le.forwardRef(function(f,m){return le.createElement(c,mr({},f,{innerRef:m,__source:{fileName:FL,lineNumber:128},__self:this}))}),d.propTypes=c.propTypes),d.ControlledComponent=e,d.deferControlTo=function(f,m,g){return m===void 0&&(m={}),nM(f,mr({},t,m),g)},d}function rM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=rM(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Zr(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=rM(e))&&(r&&(r+=" "),r+=t);return r}var oM={exports:{}},ob,t2;function PL(){if(t2)return ob;t2=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ob=e,ob}var ib,n2;function OL(){if(n2)return ib;n2=1;var e=PL();function t(){}function n(){}return n.resetWarningCache=t,ib=function(){function r(a,c,d,f,m,g){if(g!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function o(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},ib}oM.exports=OL()();var jL=oM.exports;const ke=$r(jL);var Bv="milliseconds",_m="seconds",Bm="minutes",Hm="hours",Md="day",Ih="week",Ym="month",kd="year",Nd="decade",Ad="century",iM={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},LL={month:1,year:12,decade:10*12,century:100*12};function RL(e){return[31,_L(e),31,30,31,30,31,31,30,31,30,31]}function _L(e){return e%4===0&&e%100!==0||e%400===0?29:28}function vs(e,t,n){switch(e=new Date(e),n){case Bv:case _m:case Bm:case Hm:case Md:case Ih:return BL(e,t*iM[n]);case Ym:case kd:case Nd:case Ad:return HL(e,t*LL[n])}throw new TypeError('Invalid units: "'+n+'"')}function BL(e,t){var n=new Date(+e+t);return YL(e,n)}function HL(e,t){var n=e.getFullYear(),r=e.getMonth(),o=e.getDate(),i=n*12+r+t,a=Math.trunc(i/12),c=i%12,d=Math.min(o,RL(a)[c]),f=new Date(e);return f.setFullYear(a),f.setDate(1),f.setMonth(c),f.setDate(d),f}function YL(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),o=r-n;return new Date(+t+o*iM.minutes)}function Um(e,t,n){return vs(e,-t,n)}function Io(e,t,n){switch(e=new Date(e),t){case Ad:case Nd:case kd:e=Yv(e,0);case Ym:e=uM(e,1);case Ih:case Md:e=Wm(e,0);case Hm:e=Eh(e,0);case Bm:e=Vm(e,0);case _m:e=zm(e,0)}return t===Nd&&(e=Um(e,Fd(e)%10,"year")),t===Ad&&(e=Um(e,Fd(e)%100,"year")),t===Ih&&(e=dM(e,0,n)),e}function Hv(e,t,n){switch(e=new Date(e),e=Io(e,t,n),t){case Ad:case Nd:case kd:case Ym:case Ih:e=vs(e,1,t),e=Um(e,1,Md),e.setHours(23,59,59,999);break;case Md:e.setHours(23,59,59,999);break;case Hm:case Bm:case _m:e=vs(e,1,t),e=Um(e,1,Bv)}return e}var gg=Hh(function(e,t){return e===t}),dS=Hh(function(e,t){return e!==t}),E0=Hh(function(e,t){return e>t}),yg=Hh(function(e,t){return e>=t}),fS=Hh(function(e,t){return e<t}),Bh=Hh(function(e,t){return e<=t});function aM(){return new Date(Math.min.apply(Math,arguments))}function sM(){return new Date(Math.max.apply(Math,arguments))}function lM(e,t,n,r){return r=r||"day",(!t||yg(e,t,r))&&(!n||Bh(e,n,r))}var zm=wu("Milliseconds"),Vm=wu("Seconds"),Eh=wu("Minutes"),Wm=wu("Hours"),cM=wu("Day"),uM=wu("Date"),Yv=wu("Month"),Fd=wu("FullYear");function UL(e,t){return t===void 0?Fd(Io(e,Nd)):vs(e,t+10,kd)}function zL(e,t){return t===void 0?Fd(Io(e,Ad)):vs(e,t+100,kd)}function dM(e,t,n){var r=(cM(e)+7-(n||0))%7;return t===void 0?r:vs(e,t-r,Md)}function VL(e,t,n,r){var o,i,a;switch(n){case Bv:case _m:case Bm:case Hm:case Md:case Ih:o=t.getTime()-e.getTime();break;case Ym:case kd:case Nd:case Ad:o=(Fd(t)-Fd(e))*12+Yv(t)-Yv(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case Bv:i=1;break;case _m:i=1e3;break;case Bm:i=1e3*60;break;case Hm:i=1e3*60*60;break;case Md:i=1e3*60*60*24;break;case Ih:i=1e3*60*60*24*7;break;case Ym:i=1;break;case kd:i=12;break;case Nd:i=120;break;case Ad:i=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return a=o/i,r?a:Math.round(a)}function wu(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var o=new Date(n);return o["set"+e](r),t&&o["get"+e]()!=r&&(e==="Hours"||r>=t&&o.getHours()-n.getHours()<Math.floor(r/t))&&o["set"+e](r+t),o}}function Hh(e){return function(t,n,r){return e(+Io(t,r),+Io(n,r))}}const r2=Object.freeze(Object.defineProperty({__proto__:null,add:vs,century:zL,date:uM,day:cM,decade:UL,diff:VL,endOf:Hv,eq:gg,gt:E0,gte:yg,hours:Wm,inRange:lM,lt:fS,lte:Bh,max:sM,milliseconds:zm,min:aM,minutes:Eh,month:Yv,neq:dS,seconds:Vm,startOf:Io,subtract:Um,weekday:dM,year:Fd},Symbol.toStringTag,{value:"Module"}));function WL(e){if(Array.isArray(e))return o1(e)}function fM(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pv(e){return WL(e)||fM(e)||uS(e)||ZL()}function $L(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var hM=$L;function qL(e,t){return e===t||e!==e&&t!==t}var vg=qL,GL=typeof Vr=="object"&&Vr&&Vr.Object===Object&&Vr,pM=GL,JL=pM,KL=typeof self=="object"&&self&&self.Object===Object&&self,QL=JL||KL||Function("return this")(),Sl=QL,XL=Sl,e7=XL.Symbol,Yh=e7,o2=Yh,mM=Object.prototype,t7=mM.hasOwnProperty,n7=mM.toString,dm=o2?o2.toStringTag:void 0;function r7(e){var t=t7.call(e,dm),n=e[dm];try{e[dm]=void 0;var r=!0}catch{}var o=n7.call(e);return r&&(t?e[dm]=n:delete e[dm]),o}var o7=r7,i7=Object.prototype,a7=i7.toString;function s7(e){return a7.call(e)}var l7=s7,i2=Yh,c7=o7,u7=l7,d7="[object Null]",f7="[object Undefined]",a2=i2?i2.toStringTag:void 0;function h7(e){return e==null?e===void 0?f7:d7:a2&&a2 in Object(e)?c7(e):u7(e)}var Uh=h7;function p7(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fc=p7,m7=Uh,g7=fc,y7="[object AsyncFunction]",v7="[object Function]",w7="[object GeneratorFunction]",b7="[object Proxy]";function S7(e){if(!g7(e))return!1;var t=m7(e);return t==v7||t==w7||t==y7||t==b7}var hS=S7,D7=9007199254740991;function T7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=D7}var pS=T7,I7=hS,E7=pS;function x7(e){return e!=null&&E7(e.length)&&!I7(e)}var wg=x7,C7=9007199254740991,M7=/^(?:0|[1-9]\d*)$/;function k7(e,t){var n=typeof e;return t=t??C7,!!t&&(n=="number"||n!="symbol"&&M7.test(e))&&e>-1&&e%1==0&&e<t}var mS=k7,N7=vg,A7=wg,F7=mS,P7=fc;function O7(e,t,n){if(!P7(n))return!1;var r=typeof t;return(r=="number"?A7(n)&&F7(t,n.length):r=="string"&&t in n)?N7(n[t],e):!1}var x0=O7,j7=/\s/;function L7(e){for(var t=e.length;t--&&j7.test(e.charAt(t)););return t}var R7=L7,_7=R7,B7=/^\s+/;function H7(e){return e&&e.slice(0,_7(e)+1).replace(B7,"")}var Y7=H7;function U7(e){return e!=null&&typeof e=="object"}var bu=U7,z7=Uh,V7=bu,W7="[object Symbol]";function Z7(e){return typeof e=="symbol"||V7(e)&&z7(e)==W7}var bg=Z7,$7=Y7,s2=fc,q7=bg,l2=NaN,G7=/^[-+]0x[0-9a-f]+$/i,J7=/^0b[01]+$/i,K7=/^0o[0-7]+$/i,Q7=parseInt;function X7(e){if(typeof e=="number")return e;if(q7(e))return l2;if(s2(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=s2(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$7(e);var n=J7.test(e);return n||K7.test(e)?Q7(e.slice(2),n?2:8):G7.test(e)?l2:+e}var eR=X7,tR=eR,c2=1/0,nR=17976931348623157e292;function rR(e){if(!e)return e===0?e:0;if(e=tR(e),e===c2||e===-c2){var t=e<0?-1:1;return t*nR}return e===e?e:0}var gM=rR,oR=gM;function iR(e){var t=oR(e),n=t%1;return t===t?n?t-n:t:0}var yM=iR,aR=hM,sR=x0,lR=yM,cR=Math.ceil,uR=Math.max;function dR(e,t,n){(n?sR(e,t,n):t===void 0)?t=1:t=uR(lR(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=Array(cR(r/t));o<r;)a[i++]=aR(e,o,o+=t);return a}var fR=dR;const hR=$r(fR);function Sg(e){return e&&e.ownerDocument||document}function pR(e){var t=Sg(e);return t&&t.defaultView||window}function mR(e,t){return pR(e).getComputedStyle(e,t)}var gR=/([A-Z])/g;function yR(e){return e.replace(gR,"-$1").toLowerCase()}var vR=/^ms-/;function Hy(e){return yR(e).replace(vR,"-ms-")}var wR=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function bR(e){return!!(e&&wR.test(e))}function lh(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Hy(t))||mR(e).getPropertyValue(Hy(t));Object.keys(t).forEach(function(o){var i=t[o];!i&&i!==0?e.style.removeProperty(Hy(o)):bR(o)?r+=o+"("+i+") ":n+=Hy(o)+": "+i+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function Zm(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function SR(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function gS(e){return"window"in e&&e.window===e?e:SR(e)&&e.defaultView||!1}function vM(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,o){var i=gS(r);if(o===void 0)return i?i[e]:r[t];i?i.scrollTo(i[e],o):r[t]=o}return n}const wM=vM("pageXOffset"),bM=vM("pageYOffset");function Id(e){var t=Sg(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!Zm(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+bM(r)-(r.clientTop||0),left:n.left+wM(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var DR=function(t){return!!t&&"offsetParent"in t};function TR(e){for(var t=Sg(e),n=e&&e.offsetParent;DR(n)&&n.nodeName!=="HTML"&&lh(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var IR=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function SM(e,t){var n={top:0,left:0},r;if(lh(e,"position")==="fixed")r=e.getBoundingClientRect();else{var o=t||TR(e);r=Id(e),IR(o)!=="html"&&(n=Id(o));var i=String(lh(o,"borderTopWidth")||0);n.top+=parseInt(i,10)-bM(o)||0;var a=String(lh(o,"borderLeftWidth")||0);n.left+=parseInt(a,10)-wM(o)||0}var c=String(lh(e,"marginTop")||0),d=String(lh(e,"marginLeft")||0);return mr({},r,{top:r.top-n.top-(parseInt(c,10)||0),left:r.left-n.left-(parseInt(d,10)||0)})}const yS=!!(typeof window<"u"&&window.document&&window.document.createElement);var u2=new Date().getTime();function ER(e){var t=new Date().getTime(),n=Math.max(0,16-(t-u2)),r=setTimeout(e,n);return u2=t,r}var xR=["","webkit","moz","o","ms"],i1="clearTimeout",a1=ER,d2=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};yS&&xR.some(function(e){var t=d2(e,"request");return t in window&&(i1=d2(e,"cancel"),a1=function(r){return window[t](r)}),!!a1});var f2=function(t){typeof window[i1]=="function"&&window[i1](t)},DM=a1,ab;function CR(e,t){if(!ab){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;ab=function(i,a){return r.call(i,a)}}return ab(e,t)}var MR=Function.prototype.bind.call(Function.prototype.call,[].slice);function kR(e,t){return MR(e.querySelectorAll(t))}var s1=!1,l1=!1;try{var sb={get passive(){return s1=!0},get once(){return l1=s1=!0}};yS&&(window.addEventListener("test",sb,sb),window.removeEventListener("test",sb,!0))}catch{}function NR(e,t,n,r){if(r&&typeof r!="boolean"&&!l1){var o=r.once,i=r.capture,a=n;!l1&&o&&(a=n.__once||function c(d){this.removeEventListener(t,c,i),n.call(this,d)},n.__once=a),e.addEventListener(t,a,s1?r:i)}e.addEventListener(t,n,r)}function AR(e){const t=F.useRef(e);return F.useEffect(()=>{t.current=e},[e]),t}function h2(e){const t=AR(e);return F.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function p2(){return F.useState(null)}function FR(){const e=F.useRef(!0),t=F.useRef(()=>e.current);return F.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function PR(e){const t=FR();return[e[0],F.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var OR=yC({defaultModifiers:[hC,mC,lC,cC,pC,fC,gC,sC]}),m2=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},jR={name:"applyStyles",enabled:!1},LR={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,o=r.reference,i=r.popper;if("removeAttribute"in o){var a=(o.getAttribute("aria-describedby")||"").split(",").filter(function(c){return c.trim()!==i.id});a.length?o.setAttribute("aria-describedby",a.join(",")):o.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,o=r.elements,i=o.popper,a=o.reference,c=(n=i.getAttribute("role"))==null?void 0:n.toLowerCase();if(i.id&&c==="tooltip"&&"setAttribute"in a){var d=a.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(i.id)!==-1)return;a.setAttribute("aria-describedby",d?d+","+i.id:i.id)}}},RR=[];function _R(e,t,n){var r=n===void 0?{}:n,o=r.enabled,i=o===void 0?!0:o,a=r.placement,c=a===void 0?"bottom":a,d=r.strategy,f=d===void 0?"absolute":d,m=r.modifiers,g=m===void 0?RR:m,v=I0(r,["enabled","placement","strategy","modifiers"]),w=F.useRef(),T=F.useCallback(function(){var M;(M=w.current)==null||M.update()},[]),S=F.useCallback(function(){var M;(M=w.current)==null||M.forceUpdate()},[]),I=PR(F.useState({placement:c,update:T,forceUpdate:S,attributes:{},styles:{popper:m2(f),arrow:{}}})),k=I[0],P=I[1],R=F.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(_){var L=_.state,z={},Y={};Object.keys(L.elements).forEach(function(V){z[V]=L.styles[V],Y[V]=L.attributes[V]}),P({state:L,styles:z,attributes:Y,update:T,forceUpdate:S,placement:L.placement})}}},[T,S,P]);return F.useEffect(function(){!w.current||!i||w.current.setOptions({placement:c,strategy:f,modifiers:[].concat(g,[R,jR])})},[f,c,R,i]),F.useEffect(function(){if(!(!i||e==null||t==null))return w.current=OR(e,t,mr({},v,{placement:c,strategy:f,modifiers:[].concat(g,[LR,R])})),function(){w.current!=null&&(w.current.destroy(),w.current=void 0,P(function(M){return mr({},M,{attributes:{},styles:{popper:m2(f)}})}))}},[i,e,t]),k}function BR(e,t,n,r){var o=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}function vm(e,t,n,r){return NR(e,t,n,r),function(){BR(e,t,n,r)}}function HR(e){return e&&"setState"in e?K1.findDOMNode(e):e??null}const YR=function(e){return Sg(HR(e))};var UR=27,g2=function(){};function zR(e){return e.button===0}function VR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var y2=function(t){return t&&("current"in t?t.current:t)};function WR(e,t,n){var r=n===void 0?{}:n,o=r.disabled,i=r.clickTrigger,a=i===void 0?"click":i,c=F.useRef(!1),d=t||g2,f=F.useCallback(function(v){var w,T=y2(e);iO(!!T,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),c.current=!T||VR(v)||!zR(v)||!!Zm(T,(w=v.composedPath==null?void 0:v.composedPath()[0])!=null?w:v.target)},[e]),m=h2(function(v){c.current||d(v)}),g=h2(function(v){v.keyCode===UR&&d(v)});F.useEffect(function(){if(!(o||e==null)){var v=window.event,w=YR(y2(e)),T=vm(w,a,f,!0),S=vm(w,a,function(P){if(P===v){v=void 0;return}m(P)}),I=vm(w,"keyup",function(P){if(P===v){v=void 0;return}g(P)}),k=[];return"ontouchstart"in w.documentElement&&(k=[].slice.call(w.body.children).map(function(P){return vm(P,"mousemove",g2)})),function(){T(),S(),I(),k.forEach(function(P){return P()})}}},[e,o,a,f,m,g])}function ZR(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function $R(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function qR(e){var t,n,r,o,i=e.enabled,a=e.enableEvents,c=e.placement,d=e.flip,f=e.offset,m=e.fixed,g=e.containerPadding,v=e.arrowElement,w=e.popperConfig,T=w===void 0?{}:w,S=ZR(T.modifiers);return mr({},T,{placement:c,enabled:i,strategy:m?"fixed":T.strategy,modifiers:$R(mr({},S,{eventListeners:{enabled:a},preventOverflow:mr({},S.preventOverflow,{options:g?mr({padding:g},(t=S.preventOverflow)==null?void 0:t.options):(n=S.preventOverflow)==null?void 0:n.options}),offset:{options:mr({offset:f},(r=S.offset)==null?void 0:r.options)},arrow:mr({},S.arrow,{enabled:!!v,options:mr({},(o=S.arrow)==null?void 0:o.options,{element:v})}),flip:mr({enabled:!!d},S.flip)}))})}function GR(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function JR(e,t){e.classList?e.classList.add(t):GR(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function v2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function KR(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=v2(e.className,t):e.setAttribute("class",v2(e.className&&e.className.baseVal||"",t))}var Yy;function TM(e){if((!Yy&&Yy!==0||e)&&yS){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Yy=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Yy}var lb=function(t){var n;return typeof document>"u"?null:t==null?Sg().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function w2(e,t){var n=F.useState(function(){return lb(e)}),r=n[0],o=n[1];if(!r){var i=lb(e);i&&o(i)}return F.useEffect(function(){t&&r&&t(r)},[t,r]),F.useEffect(function(){var a=lb(e);a!==r&&o(a)},[e,r]),r}const b2=e=>!e||typeof e=="function"?e:t=>{e.current=t};function QR(e,t){const n=b2(e),r=b2(t);return o=>{n&&n(o),r&&r(o)}}function XR(e,t){return F.useMemo(()=>QR(e,t),[e,t])}var vS=le.forwardRef(function(e,t){var n=e.flip,r=e.offset,o=e.placement,i=e.containerPadding,a=i===void 0?5:i,c=e.popperConfig,d=c===void 0?{}:c,f=e.transition,m=p2(),g=m[0],v=m[1],w=p2(),T=w[0],S=w[1],I=XR(v,t),k=w2(e.container),P=w2(e.target),R=F.useState(!e.show),M=R[0],_=R[1],L=_R(P,g,qR({placement:o,enableEvents:!!e.show,containerPadding:a||5,flip:n,offset:r,arrowElement:T,popperConfig:d})),z=L.styles,Y=L.attributes,V=I0(L,["styles","attributes"]);e.show?M&&_(!1):!e.transition&&!M&&_(!0);var $=function(){_(!0),e.onExited&&e.onExited.apply(e,arguments)},re=e.show||f&&!M;if(WR(g,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!re)return null;var Q=e.children(mr({},V,{show:!!e.show,props:mr({},Y.popper,{style:z.popper,ref:I}),arrowProps:mr({},Y.arrow,{style:z.arrow,ref:S})}));if(f){var ae=e.onExit,X=e.onExiting,ie=e.onEnter,Z=e.onEntering,ue=e.onEntered;Q=le.createElement(f,{in:e.show,appear:!0,onExit:ae,onExiting:X,onExited:$,onEnter:ie,onEntering:Z,onEntered:ue},Q)}return k?K1.createPortal(Q,k):null});vS.displayName="Overlay";vS.propTypes={show:ke.bool,placement:ke.oneOf(eS),target:ke.any,container:ke.any,flip:ke.bool,children:ke.func.isRequired,containerPadding:ke.number,popperConfig:ke.object,rootClose:ke.bool,rootCloseEvent:ke.oneOf(["click","mousedown"]),rootCloseDisabled:ke.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(t.rootClose){var i;return(i=ke.func).isRequired.apply(i,[t].concat(r))}return ke.func.apply(ke,[t].concat(r))},transition:ke.elementType,onEnter:ke.func,onEntering:ke.func,onEntered:ke.func,onExit:ke.func,onExiting:ke.func,onExited:ke.func};const e_=vS;function t_(){this.__data__=[],this.size=0}var n_=t_,r_=vg;function o_(e,t){for(var n=e.length;n--;)if(r_(e[n][0],t))return n;return-1}var C0=o_,i_=C0,a_=Array.prototype,s_=a_.splice;function l_(e){var t=this.__data__,n=i_(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():s_.call(t,n,1),--this.size,!0}var c_=l_,u_=C0;function d_(e){var t=this.__data__,n=u_(t,e);return n<0?void 0:t[n][1]}var f_=d_,h_=C0;function p_(e){return h_(this.__data__,e)>-1}var m_=p_,g_=C0;function y_(e,t){var n=this.__data__,r=g_(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var v_=y_,w_=n_,b_=c_,S_=f_,D_=m_,T_=v_;function zh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zh.prototype.clear=w_;zh.prototype.delete=b_;zh.prototype.get=S_;zh.prototype.has=D_;zh.prototype.set=T_;var M0=zh,I_=M0;function E_(){this.__data__=new I_,this.size=0}var x_=E_;function C_(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var M_=C_;function k_(e){return this.__data__.get(e)}var N_=k_;function A_(e){return this.__data__.has(e)}var F_=A_,P_=Sl,O_=P_["__core-js_shared__"],j_=O_,cb=j_,S2=function(){var e=/[^.]+$/.exec(cb&&cb.keys&&cb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function L_(e){return!!S2&&S2 in e}var R_=L_,__=Function.prototype,B_=__.toString;function H_(e){if(e!=null){try{return B_.call(e)}catch{}try{return e+""}catch{}}return""}var IM=H_,Y_=hS,U_=R_,z_=fc,V_=IM,W_=/[\\^$.*+?()[\]{}|]/g,Z_=/^\[object .+?Constructor\]$/,$_=Function.prototype,q_=Object.prototype,G_=$_.toString,J_=q_.hasOwnProperty,K_=RegExp("^"+G_.call(J_).replace(W_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Q_(e){if(!z_(e)||U_(e))return!1;var t=Y_(e)?K_:Z_;return t.test(V_(e))}var X_=Q_;function eB(e,t){return e==null?void 0:e[t]}var tB=eB,nB=X_,rB=tB;function oB(e,t){var n=rB(e,t);return nB(n)?n:void 0}var Bd=oB,iB=Bd,aB=Sl,sB=iB(aB,"Map"),wS=sB,lB=Bd,cB=lB(Object,"create"),k0=cB,D2=k0;function uB(){this.__data__=D2?D2(null):{},this.size=0}var dB=uB;function fB(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var hB=fB,pB=k0,mB="__lodash_hash_undefined__",gB=Object.prototype,yB=gB.hasOwnProperty;function vB(e){var t=this.__data__;if(pB){var n=t[e];return n===mB?void 0:n}return yB.call(t,e)?t[e]:void 0}var wB=vB,bB=k0,SB=Object.prototype,DB=SB.hasOwnProperty;function TB(e){var t=this.__data__;return bB?t[e]!==void 0:DB.call(t,e)}var IB=TB,EB=k0,xB="__lodash_hash_undefined__";function CB(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=EB&&t===void 0?xB:t,this}var MB=CB,kB=dB,NB=hB,AB=wB,FB=IB,PB=MB;function Vh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Vh.prototype.clear=kB;Vh.prototype.delete=NB;Vh.prototype.get=AB;Vh.prototype.has=FB;Vh.prototype.set=PB;var OB=Vh,T2=OB,jB=M0,LB=wS;function RB(){this.size=0,this.__data__={hash:new T2,map:new(LB||jB),string:new T2}}var _B=RB;function BB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var HB=BB,YB=HB;function UB(e,t){var n=e.__data__;return YB(t)?n[typeof t=="string"?"string":"hash"]:n.map}var N0=UB,zB=N0;function VB(e){var t=zB(this,e).delete(e);return this.size-=t?1:0,t}var WB=VB,ZB=N0;function $B(e){return ZB(this,e).get(e)}var qB=$B,GB=N0;function JB(e){return GB(this,e).has(e)}var KB=JB,QB=N0;function XB(e,t){var n=QB(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var eH=XB,tH=_B,nH=WB,rH=qB,oH=KB,iH=eH;function Wh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wh.prototype.clear=tH;Wh.prototype.delete=nH;Wh.prototype.get=rH;Wh.prototype.has=oH;Wh.prototype.set=iH;var bS=Wh,aH=M0,sH=wS,lH=bS,cH=200;function uH(e,t){var n=this.__data__;if(n instanceof aH){var r=n.__data__;if(!sH||r.length<cH-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new lH(r)}return n.set(e,t),this.size=n.size,this}var dH=uH,fH=M0,hH=x_,pH=M_,mH=N_,gH=F_,yH=dH;function Zh(e){var t=this.__data__=new fH(e);this.size=t.size}Zh.prototype.clear=hH;Zh.prototype.delete=pH;Zh.prototype.get=mH;Zh.prototype.has=gH;Zh.prototype.set=yH;var SS=Zh,vH="__lodash_hash_undefined__";function wH(e){return this.__data__.set(e,vH),this}var bH=wH;function SH(e){return this.__data__.has(e)}var DH=SH,TH=bS,IH=bH,EH=DH;function Uv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new TH;++t<n;)this.add(e[t])}Uv.prototype.add=Uv.prototype.push=IH;Uv.prototype.has=EH;var xH=Uv;function CH(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var MH=CH;function kH(e,t){return e.has(t)}var NH=kH,AH=xH,FH=MH,PH=NH,OH=1,jH=2;function LH(e,t,n,r,o,i){var a=n&OH,c=e.length,d=t.length;if(c!=d&&!(a&&d>c))return!1;var f=i.get(e),m=i.get(t);if(f&&m)return f==t&&m==e;var g=-1,v=!0,w=n&jH?new AH:void 0;for(i.set(e,t),i.set(t,e);++g<c;){var T=e[g],S=t[g];if(r)var I=a?r(S,T,g,t,e,i):r(T,S,g,e,t,i);if(I!==void 0){if(I)continue;v=!1;break}if(w){if(!FH(t,function(k,P){if(!PH(w,P)&&(T===k||o(T,k,n,r,i)))return w.push(P)})){v=!1;break}}else if(!(T===S||o(T,S,n,r,i))){v=!1;break}}return i.delete(e),i.delete(t),v}var EM=LH,RH=Sl,_H=RH.Uint8Array,xM=_H;function BH(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var HH=BH;function YH(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var UH=YH,I2=Yh,E2=xM,zH=vg,VH=EM,WH=HH,ZH=UH,$H=1,qH=2,GH="[object Boolean]",JH="[object Date]",KH="[object Error]",QH="[object Map]",XH="[object Number]",eY="[object RegExp]",tY="[object Set]",nY="[object String]",rY="[object Symbol]",oY="[object ArrayBuffer]",iY="[object DataView]",x2=I2?I2.prototype:void 0,ub=x2?x2.valueOf:void 0;function aY(e,t,n,r,o,i,a){switch(n){case iY:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case oY:return!(e.byteLength!=t.byteLength||!i(new E2(e),new E2(t)));case GH:case JH:case XH:return zH(+e,+t);case KH:return e.name==t.name&&e.message==t.message;case eY:case nY:return e==t+"";case QH:var c=WH;case tY:var d=r&$H;if(c||(c=ZH),e.size!=t.size&&!d)return!1;var f=a.get(e);if(f)return f==t;r|=qH,a.set(e,t);var m=VH(c(e),c(t),r,o,i,a);return a.delete(e),m;case rY:if(ub)return ub.call(e)==ub.call(t)}return!1}var sY=aY;function lY(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var DS=lY,cY=Array.isArray,Ba=cY,uY=DS,dY=Ba;function fY(e,t,n){var r=t(e);return dY(e)?r:uY(r,n(e))}var CM=fY;function hY(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}var pY=hY;function mY(){return[]}var MM=mY,gY=pY,yY=MM,vY=Object.prototype,wY=vY.propertyIsEnumerable,C2=Object.getOwnPropertySymbols,bY=C2?function(e){return e==null?[]:(e=Object(e),gY(C2(e),function(t){return wY.call(e,t)}))}:yY,TS=bY;function SY(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var DY=SY,TY=Uh,IY=bu,EY="[object Arguments]";function xY(e){return IY(e)&&TY(e)==EY}var CY=xY,M2=CY,MY=bu,kM=Object.prototype,kY=kM.hasOwnProperty,NY=kM.propertyIsEnumerable,AY=M2(function(){return arguments}())?M2:function(e){return MY(e)&&kY.call(e,"callee")&&!NY.call(e,"callee")},IS=AY,zv={exports:{}};function FY(){return!1}var PY=FY;zv.exports;(function(e,t){var n=Sl,r=PY,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===o,c=a?n.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||r;e.exports=f})(zv,zv.exports);var A0=zv.exports,OY=Uh,jY=pS,LY=bu,RY="[object Arguments]",_Y="[object Array]",BY="[object Boolean]",HY="[object Date]",YY="[object Error]",UY="[object Function]",zY="[object Map]",VY="[object Number]",WY="[object Object]",ZY="[object RegExp]",$Y="[object Set]",qY="[object String]",GY="[object WeakMap]",JY="[object ArrayBuffer]",KY="[object DataView]",QY="[object Float32Array]",XY="[object Float64Array]",eU="[object Int8Array]",tU="[object Int16Array]",nU="[object Int32Array]",rU="[object Uint8Array]",oU="[object Uint8ClampedArray]",iU="[object Uint16Array]",aU="[object Uint32Array]",$n={};$n[QY]=$n[XY]=$n[eU]=$n[tU]=$n[nU]=$n[rU]=$n[oU]=$n[iU]=$n[aU]=!0;$n[RY]=$n[_Y]=$n[JY]=$n[BY]=$n[KY]=$n[HY]=$n[YY]=$n[UY]=$n[zY]=$n[VY]=$n[WY]=$n[ZY]=$n[$Y]=$n[qY]=$n[GY]=!1;function sU(e){return LY(e)&&jY(e.length)&&!!$n[OY(e)]}var lU=sU;function cU(e){return function(t){return e(t)}}var F0=cU,Vv={exports:{}};Vv.exports;(function(e,t){var n=pM,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i&&n.process,c=function(){try{var d=o&&o.require&&o.require("util").types;return d||a&&a.binding&&a.binding("util")}catch{}}();e.exports=c})(Vv,Vv.exports);var ES=Vv.exports,uU=lU,dU=F0,k2=ES,N2=k2&&k2.isTypedArray,fU=N2?dU(N2):uU,xS=fU,hU=DY,pU=IS,mU=Ba,gU=A0,yU=mS,vU=xS,wU=Object.prototype,bU=wU.hasOwnProperty;function SU(e,t){var n=mU(e),r=!n&&pU(e),o=!n&&!r&&gU(e),i=!n&&!r&&!o&&vU(e),a=n||r||o||i,c=a?hU(e.length,String):[],d=c.length;for(var f in e)(t||bU.call(e,f))&&!(a&&(f=="length"||o&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||yU(f,d)))&&c.push(f);return c}var NM=SU,DU=Object.prototype;function TU(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||DU;return e===n}var CS=TU;function IU(e,t){return function(n){return e(t(n))}}var AM=IU,EU=AM,xU=EU(Object.keys,Object),CU=xU,MU=CS,kU=CU,NU=Object.prototype,AU=NU.hasOwnProperty;function FU(e){if(!MU(e))return kU(e);var t=[];for(var n in Object(e))AU.call(e,n)&&n!="constructor"&&t.push(n);return t}var PU=FU,OU=NM,jU=PU,LU=wg;function RU(e){return LU(e)?OU(e):jU(e)}var Dg=RU,_U=CM,BU=TS,HU=Dg;function YU(e){return _U(e,HU,BU)}var FM=YU,A2=FM,UU=1,zU=Object.prototype,VU=zU.hasOwnProperty;function WU(e,t,n,r,o,i){var a=n&UU,c=A2(e),d=c.length,f=A2(t),m=f.length;if(d!=m&&!a)return!1;for(var g=d;g--;){var v=c[g];if(!(a?v in t:VU.call(t,v)))return!1}var w=i.get(e),T=i.get(t);if(w&&T)return w==t&&T==e;var S=!0;i.set(e,t),i.set(t,e);for(var I=a;++g<d;){v=c[g];var k=e[v],P=t[v];if(r)var R=a?r(P,k,v,t,e,i):r(k,P,v,e,t,i);if(!(R===void 0?k===P||o(k,P,n,r,i):R)){S=!1;break}I||(I=v=="constructor")}if(S&&!I){var M=e.constructor,_=t.constructor;M!=_&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof _=="function"&&_ instanceof _)&&(S=!1)}return i.delete(e),i.delete(t),S}var ZU=WU,$U=Bd,qU=Sl,GU=$U(qU,"DataView"),JU=GU,KU=Bd,QU=Sl,XU=KU(QU,"Promise"),ez=XU,tz=Bd,nz=Sl,rz=tz(nz,"Set"),oz=rz,iz=Bd,az=Sl,sz=iz(az,"WeakMap"),lz=sz,c1=JU,u1=wS,d1=ez,f1=oz,h1=lz,PM=Uh,$h=IM,F2="[object Map]",cz="[object Object]",P2="[object Promise]",O2="[object Set]",j2="[object WeakMap]",L2="[object DataView]",uz=$h(c1),dz=$h(u1),fz=$h(d1),hz=$h(f1),pz=$h(h1),pd=PM;(c1&&pd(new c1(new ArrayBuffer(1)))!=L2||u1&&pd(new u1)!=F2||d1&&pd(d1.resolve())!=P2||f1&&pd(new f1)!=O2||h1&&pd(new h1)!=j2)&&(pd=function(e){var t=PM(e),n=t==cz?e.constructor:void 0,r=n?$h(n):"";if(r)switch(r){case uz:return L2;case dz:return F2;case fz:return P2;case hz:return O2;case pz:return j2}return t});var P0=pd,db=SS,mz=EM,gz=sY,yz=ZU,R2=P0,_2=Ba,B2=A0,vz=xS,wz=1,H2="[object Arguments]",Y2="[object Array]",Uy="[object Object]",bz=Object.prototype,U2=bz.hasOwnProperty;function Sz(e,t,n,r,o,i){var a=_2(e),c=_2(t),d=a?Y2:R2(e),f=c?Y2:R2(t);d=d==H2?Uy:d,f=f==H2?Uy:f;var m=d==Uy,g=f==Uy,v=d==f;if(v&&B2(e)){if(!B2(t))return!1;a=!0,m=!1}if(v&&!m)return i||(i=new db),a||vz(e)?mz(e,t,n,r,o,i):gz(e,t,d,n,r,o,i);if(!(n&wz)){var w=m&&U2.call(e,"__wrapped__"),T=g&&U2.call(t,"__wrapped__");if(w||T){var S=w?e.value():e,I=T?t.value():t;return i||(i=new db),o(S,I,n,r,i)}}return v?(i||(i=new db),yz(e,t,n,r,o,i)):!1}var Dz=Sz,Tz=Dz,z2=bu;function OM(e,t,n,r,o){return e===t?!0:e==null||t==null||!z2(e)&&!z2(t)?e!==e&&t!==t:Tz(e,t,n,r,OM,o)}var MS=OM,Iz=MS;function Ez(e,t){return Iz(e,t)}var xz=Ez;const Cz=$r(xz);function fb(e,t){var n=gS(e);return n?n.innerHeight:t?e.clientHeight:Id(e).height}function jM(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(CR(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function Mz(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var kz=Mz,Nz=SS,Az=MS,Fz=1,Pz=2;function Oz(e,t,n,r){var o=n.length,i=o,a=!r;if(e==null)return!i;for(e=Object(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){c=n[o];var d=c[0],f=e[d],m=c[1];if(a&&c[2]){if(f===void 0&&!(d in e))return!1}else{var g=new Nz;if(r)var v=r(f,m,d,e,t,g);if(!(v===void 0?Az(m,f,Fz|Pz,r,g):v))return!1}}return!0}var jz=Oz,Lz=fc;function Rz(e){return e===e&&!Lz(e)}var LM=Rz,_z=LM,Bz=Dg;function Hz(e){for(var t=Bz(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,_z(o)]}return t}var Yz=Hz;function Uz(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var RM=Uz,zz=jz,Vz=Yz,Wz=RM;function Zz(e){var t=Vz(e);return t.length==1&&t[0][2]?Wz(t[0][0],t[0][1]):function(n){return n===e||zz(n,e,t)}}var $z=Zz,qz=Ba,Gz=bg,Jz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kz=/^\w*$/;function Qz(e,t){if(qz(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Gz(e)?!0:Kz.test(e)||!Jz.test(e)||t!=null&&e in Object(t)}var kS=Qz,_M=bS,Xz="Expected a function";function NS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Xz);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(NS.Cache||_M),n}NS.Cache=_M;var eV=NS,tV=eV,nV=500;function rV(e){var t=tV(e,function(r){return n.size===nV&&n.clear(),r}),n=t.cache;return t}var oV=rV,iV=oV,aV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sV=/\\(\\)?/g,lV=iV(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(aV,function(n,r,o,i){t.push(o?i.replace(sV,"$1"):r||n)}),t}),cV=lV;function uV(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var AS=uV,V2=Yh,dV=AS,fV=Ba,hV=bg,pV=1/0,W2=V2?V2.prototype:void 0,Z2=W2?W2.toString:void 0;function BM(e){if(typeof e=="string")return e;if(fV(e))return dV(e,BM)+"";if(hV(e))return Z2?Z2.call(e):"";var t=e+"";return t=="0"&&1/e==-pV?"-0":t}var mV=BM,gV=mV;function yV(e){return e==null?"":gV(e)}var vV=yV,wV=Ba,bV=kS,SV=cV,DV=vV;function TV(e,t){return wV(e)?e:bV(e,t)?[e]:SV(DV(e))}var O0=TV,IV=bg,EV=1/0;function xV(e){if(typeof e=="string"||IV(e))return e;var t=e+"";return t=="0"&&1/e==-EV?"-0":t}var Tg=xV,CV=O0,MV=Tg;function kV(e,t){t=CV(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[MV(t[n++])];return n&&n==r?e:void 0}var j0=kV,NV=j0;function AV(e,t,n){var r=e==null?void 0:NV(e,t);return r===void 0?n:r}var FV=AV;function PV(e,t){return e!=null&&t in Object(e)}var OV=PV,jV=O0,LV=IS,RV=Ba,_V=mS,BV=pS,HV=Tg;function YV(e,t,n){t=jV(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=HV(t[r]);if(!(i=e!=null&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&BV(o)&&_V(a,o)&&(RV(e)||LV(e)))}var UV=YV,zV=OV,VV=UV;function WV(e,t){return e!=null&&VV(e,t,zV)}var ZV=WV,$V=MS,qV=FV,GV=ZV,JV=kS,KV=LM,QV=RM,XV=Tg,eW=1,tW=2;function nW(e,t){return JV(e)&&KV(t)?QV(XV(e),t):function(n){var r=qV(n,e);return r===void 0&&r===t?GV(n,e):$V(t,r,eW|tW)}}var rW=nW;function oW(e){return e}var L0=oW;function iW(e){return function(t){return t==null?void 0:t[e]}}var aW=iW,sW=j0;function lW(e){return function(t){return sW(t,e)}}var cW=lW,uW=aW,dW=cW,fW=kS,hW=Tg;function pW(e){return fW(e)?uW(hW(e)):dW(e)}var mW=pW,gW=$z,yW=rW,vW=L0,wW=Ba,bW=mW;function SW(e){return typeof e=="function"?e:e==null?vW:typeof e=="object"?wW(e)?yW(e[0],e[1]):gW(e):bW(e)}var R0=SW,DW=kz,TW=R0,IW=yM,EW=Math.max;function xW(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:IW(n);return o<0&&(o=EW(r+o,0)),DW(e,TW(t),o)}var CW=xW;const MW=$r(CW);var kW=Math.ceil,NW=Math.max;function AW(e,t,n,r){for(var o=-1,i=NW(kW((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}var FW=AW,PW=FW,OW=x0,hb=gM;function jW(e){return function(t,n,r){return r&&typeof r!="number"&&OW(t,n,r)&&(n=r=void 0),t=hb(t),n===void 0?(n=t,t=0):n=hb(n),r=r===void 0?t<n?1:-1:hb(r),PW(t,n,r,e)}}var LW=jW,RW=LW,_W=RW(),BW=_W;const HW=$r(BW);var $2=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function YW(e,t){return!!(e===t||$2(e)&&$2(t))}function UW(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!YW(e[n],t[n]))return!1;return!0}function HM(e,t){t===void 0&&(t=UW);var n=null;function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var a=e.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){n=null},r}var q2=Yh,zW=IS,VW=Ba,G2=q2?q2.isConcatSpreadable:void 0;function WW(e){return VW(e)||zW(e)||!!(G2&&e&&e[G2])}var ZW=WW,$W=DS,qW=ZW;function YM(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=qW),o||(o=[]);++i<a;){var c=e[i];t>0&&n(c)?t>1?YM(c,t-1,n,r,o):$W(o,c):r||(o[o.length]=c)}return o}var UM=YM;function GW(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),c=a.length;c--;){var d=a[e?c:++o];if(n(i[d],d,i)===!1)break}return t}}var JW=GW,KW=JW,QW=KW(),XW=QW,eZ=XW,tZ=Dg;function nZ(e,t){return e&&eZ(e,t,tZ)}var FS=nZ,rZ=wg;function oZ(e,t){return function(n,r){if(n==null)return n;if(!rZ(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}var iZ=oZ,aZ=FS,sZ=iZ,lZ=sZ(aZ),cZ=lZ,uZ=cZ,dZ=wg;function fZ(e,t){var n=-1,r=dZ(e)?Array(e.length):[];return uZ(e,function(o,i,a){r[++n]=t(o,i,a)}),r}var hZ=fZ;function pZ(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var mZ=pZ,J2=bg;function gZ(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=J2(e),a=t!==void 0,c=t===null,d=t===t,f=J2(t);if(!c&&!f&&!i&&e>t||i&&a&&d&&!c&&!f||r&&a&&d||!n&&d||!o)return 1;if(!r&&!i&&!f&&e<t||f&&n&&o&&!r&&!i||c&&n&&o||!a&&o||!d)return-1}return 0}var yZ=gZ,vZ=yZ;function wZ(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,c=n.length;++r<a;){var d=vZ(o[r],i[r]);if(d){if(r>=c)return d;var f=n[r];return d*(f=="desc"?-1:1)}}return e.index-t.index}var bZ=wZ,pb=AS,SZ=j0,DZ=R0,TZ=hZ,IZ=mZ,EZ=F0,xZ=bZ,CZ=L0,MZ=Ba;function kZ(e,t,n){t.length?t=pb(t,function(i){return MZ(i)?function(a){return SZ(a,i.length===1?i[0]:i)}:i}):t=[CZ];var r=-1;t=pb(t,EZ(DZ));var o=TZ(e,function(i,a,c){var d=pb(t,function(f){return f(i)});return{criteria:d,index:++r,value:i}});return IZ(o,function(i,a){return xZ(i,a,n)})}var NZ=kZ;function AZ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var FZ=AZ,PZ=FZ,K2=Math.max;function OZ(e,t,n){return t=K2(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=K2(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(a),PZ(e,this,c)}}var zM=OZ;function jZ(e){return function(){return e}}var LZ=jZ,RZ=Bd,_Z=function(){try{var e=RZ(Object,"defineProperty");return e({},"",{}),e}catch{}}(),VM=_Z,BZ=LZ,Q2=VM,HZ=L0,YZ=Q2?function(e,t){return Q2(e,"toString",{configurable:!0,enumerable:!1,value:BZ(t),writable:!0})}:HZ,UZ=YZ,zZ=800,VZ=16,WZ=Date.now;function ZZ(e){var t=0,n=0;return function(){var r=WZ(),o=VZ-(r-n);if(n=r,o>0){if(++t>=zZ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var $Z=ZZ,qZ=UZ,GZ=$Z,JZ=GZ(qZ),WM=JZ,KZ=L0,QZ=zM,XZ=WM;function e$(e,t){return XZ(QZ(e,t,KZ),e+"")}var ZM=e$,t$=UM,n$=NZ,r$=ZM,X2=x0,o$=r$(function(e,t){if(e==null)return[];var n=t.length;return n>1&&X2(e,t[0],t[1])?t=[]:n>2&&X2(t[0],t[1],t[2])&&(t=[t[0]]),n$(e,t$(t,1),[])}),i$=o$;const a$=$r(i$);function p1(e,t){var n=gS(e);return n?n.innerWidth:t?e.clientWidth:Id(e).width}function $M(e){return KC(e)||fM(e)||uS(e)||QC()}function s$(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var qM=s$,eI=VM;function l$(e,t,n){t=="__proto__"&&eI?eI(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var PS=l$,c$=PS,u$=vg,d$=Object.prototype,f$=d$.hasOwnProperty;function h$(e,t,n){var r=e[t];(!(f$.call(e,t)&&u$(r,n))||n===void 0&&!(t in e))&&c$(e,t,n)}var GM=h$,p$=GM,m$=PS;function g$(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var c=t[i],d=r?r(n[c],e[c],c,n,e):void 0;d===void 0&&(d=e[c]),o?m$(n,c,d):p$(n,c,d)}return n}var Ig=g$,y$=Ig,v$=Dg;function w$(e,t){return e&&y$(t,v$(t),e)}var b$=w$;function S$(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var D$=S$,T$=fc,I$=CS,E$=D$,x$=Object.prototype,C$=x$.hasOwnProperty;function M$(e){if(!T$(e))return E$(e);var t=I$(e),n=[];for(var r in e)r=="constructor"&&(t||!C$.call(e,r))||n.push(r);return n}var k$=M$,N$=NM,A$=k$,F$=wg;function P$(e){return F$(e)?N$(e,!0):A$(e)}var _0=P$,O$=Ig,j$=_0;function L$(e,t){return e&&O$(t,j$(t),e)}var R$=L$,Wv={exports:{}};Wv.exports;(function(e,t){var n=Sl,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i?n.Buffer:void 0,c=a?a.allocUnsafe:void 0;function d(f,m){if(m)return f.slice();var g=f.length,v=c?c(g):new f.constructor(g);return f.copy(v),v}e.exports=d})(Wv,Wv.exports);var _$=Wv.exports;function B$(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var H$=B$,Y$=Ig,U$=TS;function z$(e,t){return Y$(e,U$(e),t)}var V$=z$,W$=AM,Z$=W$(Object.getPrototypeOf,Object),B0=Z$,$$=DS,q$=B0,G$=TS,J$=MM,K$=Object.getOwnPropertySymbols,Q$=K$?function(e){for(var t=[];e;)$$(t,G$(e)),e=q$(e);return t}:J$,JM=Q$,X$=Ig,eq=JM;function tq(e,t){return X$(e,eq(e),t)}var nq=tq,rq=CM,oq=JM,iq=_0;function aq(e){return rq(e,iq,oq)}var KM=aq,sq=Object.prototype,lq=sq.hasOwnProperty;function cq(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&lq.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var uq=cq,tI=xM;function dq(e){var t=new e.constructor(e.byteLength);return new tI(t).set(new tI(e)),t}var OS=dq,fq=OS;function hq(e,t){var n=t?fq(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var pq=hq,mq=/\w*$/;function gq(e){var t=new e.constructor(e.source,mq.exec(e));return t.lastIndex=e.lastIndex,t}var yq=gq,nI=Yh,rI=nI?nI.prototype:void 0,oI=rI?rI.valueOf:void 0;function vq(e){return oI?Object(oI.call(e)):{}}var wq=vq,bq=OS;function Sq(e,t){var n=t?bq(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Dq=Sq,Tq=OS,Iq=pq,Eq=yq,xq=wq,Cq=Dq,Mq="[object Boolean]",kq="[object Date]",Nq="[object Map]",Aq="[object Number]",Fq="[object RegExp]",Pq="[object Set]",Oq="[object String]",jq="[object Symbol]",Lq="[object ArrayBuffer]",Rq="[object DataView]",_q="[object Float32Array]",Bq="[object Float64Array]",Hq="[object Int8Array]",Yq="[object Int16Array]",Uq="[object Int32Array]",zq="[object Uint8Array]",Vq="[object Uint8ClampedArray]",Wq="[object Uint16Array]",Zq="[object Uint32Array]";function $q(e,t,n){var r=e.constructor;switch(t){case Lq:return Tq(e);case Mq:case kq:return new r(+e);case Rq:return Iq(e,n);case _q:case Bq:case Hq:case Yq:case Uq:case zq:case Vq:case Wq:case Zq:return Cq(e,n);case Nq:return new r;case Aq:case Oq:return new r(e);case Fq:return Eq(e);case Pq:return new r;case jq:return xq(e)}}var qq=$q,Gq=fc,iI=Object.create,Jq=function(){function e(){}return function(t){if(!Gq(t))return{};if(iI)return iI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),QM=Jq,Kq=QM,Qq=B0,Xq=CS;function eG(e){return typeof e.constructor=="function"&&!Xq(e)?Kq(Qq(e)):{}}var tG=eG,nG=P0,rG=bu,oG="[object Map]";function iG(e){return rG(e)&&nG(e)==oG}var aG=iG,sG=aG,lG=F0,aI=ES,sI=aI&&aI.isMap,cG=sI?lG(sI):sG,uG=cG,dG=P0,fG=bu,hG="[object Set]";function pG(e){return fG(e)&&dG(e)==hG}var mG=pG,gG=mG,yG=F0,lI=ES,cI=lI&&lI.isSet,vG=cI?yG(cI):gG,wG=vG,bG=SS,SG=qM,DG=GM,TG=b$,IG=R$,EG=_$,xG=H$,CG=V$,MG=nq,kG=FM,NG=KM,AG=P0,FG=uq,PG=qq,OG=tG,jG=Ba,LG=A0,RG=uG,_G=fc,BG=wG,HG=Dg,YG=_0,UG=1,zG=2,VG=4,XM="[object Arguments]",WG="[object Array]",ZG="[object Boolean]",$G="[object Date]",qG="[object Error]",e3="[object Function]",GG="[object GeneratorFunction]",JG="[object Map]",KG="[object Number]",t3="[object Object]",QG="[object RegExp]",XG="[object Set]",eJ="[object String]",tJ="[object Symbol]",nJ="[object WeakMap]",rJ="[object ArrayBuffer]",oJ="[object DataView]",iJ="[object Float32Array]",aJ="[object Float64Array]",sJ="[object Int8Array]",lJ="[object Int16Array]",cJ="[object Int32Array]",uJ="[object Uint8Array]",dJ="[object Uint8ClampedArray]",fJ="[object Uint16Array]",hJ="[object Uint32Array]",Vn={};Vn[XM]=Vn[WG]=Vn[rJ]=Vn[oJ]=Vn[ZG]=Vn[$G]=Vn[iJ]=Vn[aJ]=Vn[sJ]=Vn[lJ]=Vn[cJ]=Vn[JG]=Vn[KG]=Vn[t3]=Vn[QG]=Vn[XG]=Vn[eJ]=Vn[tJ]=Vn[uJ]=Vn[dJ]=Vn[fJ]=Vn[hJ]=!0;Vn[qG]=Vn[e3]=Vn[nJ]=!1;function mv(e,t,n,r,o,i){var a,c=t&UG,d=t&zG,f=t&VG;if(n&&(a=o?n(e,r,o,i):n(e)),a!==void 0)return a;if(!_G(e))return e;var m=jG(e);if(m){if(a=FG(e),!c)return xG(e,a)}else{var g=AG(e),v=g==e3||g==GG;if(LG(e))return EG(e,c);if(g==t3||g==XM||v&&!o){if(a=d||v?{}:OG(e),!c)return d?MG(e,IG(a,e)):CG(e,TG(a,e))}else{if(!Vn[g])return o?e:{};a=PG(e,g,c)}}i||(i=new bG);var w=i.get(e);if(w)return w;i.set(e,a),BG(e)?e.forEach(function(I){a.add(mv(I,t,n,I,e,i))}):RG(e)&&e.forEach(function(I,k){a.set(k,mv(I,t,n,k,e,i))});var T=f?d?NG:kG:d?YG:HG,S=m?void 0:T(e);return SG(S||e,function(I,k){S&&(k=I,I=e[k]),DG(a,k,mv(I,t,n,k,e,i))}),a}var pJ=mv;function mJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var gJ=mJ,yJ=j0,vJ=hM;function wJ(e,t){return t.length<2?e:yJ(e,vJ(t,0,-1))}var bJ=wJ,SJ=O0,DJ=gJ,TJ=bJ,IJ=Tg;function EJ(e,t){return t=SJ(t,e),e=TJ(e,t),e==null||delete e[IJ(DJ(t))]}var xJ=EJ,CJ=Uh,MJ=B0,kJ=bu,NJ="[object Object]",AJ=Function.prototype,FJ=Object.prototype,n3=AJ.toString,PJ=FJ.hasOwnProperty,OJ=n3.call(Object);function jJ(e){if(!kJ(e)||CJ(e)!=NJ)return!1;var t=MJ(e);if(t===null)return!0;var n=PJ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&n3.call(n)==OJ}var LJ=jJ,RJ=LJ;function _J(e){return RJ(e)?void 0:e}var BJ=_J,HJ=UM;function YJ(e){var t=e==null?0:e.length;return t?HJ(e,1):[]}var UJ=YJ,zJ=UJ,VJ=zM,WJ=WM;function ZJ(e){return WJ(VJ(e,void 0,zJ),e+"")}var $J=ZJ,qJ=AS,GJ=pJ,JJ=xJ,KJ=O0,QJ=Ig,XJ=BJ,eK=$J,tK=KM,nK=1,rK=2,oK=4,iK=eK(function(e,t){var n={};if(e==null)return n;var r=!1;t=qJ(t,function(i){return i=KJ(i,e),r||(r=i.length>1),i}),QJ(e,tK(e),n),r&&(n=GJ(n,nK|rK|oK,XJ));for(var o=t.length;o--;)JJ(n,t[o]);return n}),aK=iK;const sK=$r(aK);var lK=ZM,cK=vg,uK=x0,dK=_0,r3=Object.prototype,fK=r3.hasOwnProperty,hK=lK(function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&uK(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=dK(i),c=-1,d=a.length;++c<d;){var f=a[c],m=e[f];(m===void 0||cK(m,r3[f])&&!fK.call(e,f))&&(e[f]=i[f])}return e}),pK=hK;const mK=$r(pK);var gK=qM,yK=QM,vK=FS,wK=R0,bK=B0,SK=Ba,DK=A0,TK=hS,IK=fc,EK=xS;function xK(e,t,n){var r=SK(e),o=r||DK(e)||EK(e);if(t=wK(t),n==null){var i=e&&e.constructor;o?n=r?new i:[]:IK(e)?n=TK(i)?yK(bK(e)):{}:n={}}return(o?gK:vK)(e,function(a,c,d){return t(n,a,c,d)}),n}var CK=xK;const MK=$r(CK);var kK=PS,NK=FS,AK=R0;function FK(e,t){var n={};return t=AK(t),NK(e,function(r,o,i){kK(n,o,t(r,o,i))}),n}var PK=FK;const OK=$r(PK);var jK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vr,function(){return function(n,r,o){r.prototype.isBetween=function(i,a,c,d){var f=o(i),m=o(a),g=(d=d||"()")[0]==="(",v=d[1]===")";return(g?this.isAfter(f,c):!this.isBefore(f,c))&&(v?this.isBefore(m,c):!this.isAfter(m,c))||(g?this.isBefore(f,c):!this.isAfter(f,c))&&(v?this.isAfter(m,c):!this.isBefore(m,c))}}})})(jK);var LK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vr,function(){return function(n,r){r.prototype.isSameOrAfter=function(o,i){return this.isSame(o,i)||this.isAfter(o,i)}}})})(LK);var RK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vr,function(){return function(n,r){r.prototype.isSameOrBefore=function(o,i){return this.isSame(o,i)||this.isBefore(o,i)}}})})(RK);var _K={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vr,function(){return function(n,r,o){var i=r.prototype,a=function(g){return g&&(g.indexOf?g:g.s)},c=function(g,v,w,T,S){var I=g.name?g:g.$locale(),k=a(I[v]),P=a(I[w]),R=k||P.map(function(_){return _.slice(0,T)});if(!S)return R;var M=I.weekStart;return R.map(function(_,L){return R[(L+(M||0))%7]})},d=function(){return o.Ls[o.locale()]},f=function(g,v){return g.formats[v]||function(w){return w.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,S,I){return S||I.slice(1)})}(g.formats[v.toUpperCase()])},m=function(){var g=this;return{months:function(v){return v?v.format("MMMM"):c(g,"months")},monthsShort:function(v){return v?v.format("MMM"):c(g,"monthsShort","months",3)},firstDayOfWeek:function(){return g.$locale().weekStart||0},weekdays:function(v){return v?v.format("dddd"):c(g,"weekdays")},weekdaysMin:function(v){return v?v.format("dd"):c(g,"weekdaysMin","weekdays",2)},weekdaysShort:function(v){return v?v.format("ddd"):c(g,"weekdaysShort","weekdays",3)},longDateFormat:function(v){return f(g.$locale(),v)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return m.bind(this)()},o.localeData=function(){var g=d();return{firstDayOfWeek:function(){return g.weekStart||0},weekdays:function(){return o.weekdays()},weekdaysShort:function(){return o.weekdaysShort()},weekdaysMin:function(){return o.weekdaysMin()},months:function(){return o.months()},monthsShort:function(){return o.monthsShort()},longDateFormat:function(v){return f(g,v)},meridiem:g.meridiem,ordinal:g.ordinal}},o.months=function(){return c(d(),"months")},o.monthsShort=function(){return c(d(),"monthsShort","months",3)},o.weekdays=function(g){return c(d(),"weekdays",null,null,g)},o.weekdaysShort=function(g){return c(d(),"weekdaysShort","weekdays",3,g)},o.weekdaysMin=function(g){return c(d(),"weekdaysMin","weekdays",2,g)}}})})(_K);var BK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,o,i){var a=o.prototype,c=a.format;i.en.formats=n,a.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var f=this.$locale().formats,m=function(g,v){return g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(w,T,S){var I=S&&S.toUpperCase();return T||v[S]||n[S]||v[I].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,P,R){return P||R.slice(1)})})}(d,f===void 0?{}:f);return c.call(this,m)}}})})(BK);var HK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vr,function(){return function(n,r,o){var i=function(a,c){if(!c||!c.length||c.length===1&&!c[0]||c.length===1&&Array.isArray(c[0])&&!c[0].length)return null;var d;c.length===1&&c[0].length>0&&(c=c[0]),d=(c=c.filter(function(m){return m}))[0];for(var f=1;f<c.length;f+=1)c[f].isValid()&&!c[f][a](d)||(d=c[f]);return d};o.max=function(){var a=[].slice.call(arguments,0);return i("isAfter",a)},o.min=function(){var a=[].slice.call(arguments,0);return i("isBefore",a)}}})})(HK);var YK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vr,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(i,a,c){var d=a.prototype;c.utc=function(S){var I={date:S,utc:!0,args:arguments};return new a(I)},d.utc=function(S){var I=c(this.toDate(),{locale:this.$L,utc:!0});return S?I.add(this.utcOffset(),n):I},d.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var f=d.parse;d.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),f.call(this,S)};var m=d.init;d.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else m.call(this)};var g=d.utcOffset;d.utcOffset=function(S,I){var k=this.$utils().u;if(k(S))return this.$u?0:k(this.$offset)?g.call(this):this.$offset;if(typeof S=="string"&&(S=function(_){_===void 0&&(_="");var L=_.match(r);if(!L)return null;var z=(""+L[0]).match(o)||["-",0,0],Y=z[0],V=60*+z[1]+ +z[2];return V===0?0:Y==="+"?V:-V}(S),S===null))return this;var P=Math.abs(S)<=16?60*S:S,R=this;if(I)return R.$offset=P,R.$u=S===0,R;if(S!==0){var M=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(R=this.local().add(P+M,n)).$offset=P,R.$x.$localOffset=M}else R=this.utc();return R};var v=d.format;d.format=function(S){var I=S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,I)},d.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var w=d.toDate;d.toDate=function(S){return S==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():w.call(this)};var T=d.diff;d.diff=function(S,I,k){if(S&&this.$u===S.$u)return T.call(this,S,I,k);var P=this.local(),R=c(S).local();return T.call(P,R,I,k)}}})})(YK);function Xl(e){return e.children}var Oi={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},ii={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},uI=Object.keys(ii).map(function(e){return ii[e]});ke.oneOfType([ke.string,ke.func]);ke.any;ke.func;ke.oneOfType([ke.arrayOf(ke.oneOf(uI)),ke.objectOf(function(e,t){var n=uI.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return ke.elementType.apply(ke,[e,t].concat(o))})]);ke.oneOfType([ke.oneOf(["overlap","no-overlap"]),ke.func]);function nr(e,t){e&&e.apply(null,[].concat(t))}var dI={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function o3(e,t){var n=Io(e,"month");return Io(n,"week",t.startOfWeek())}function i3(e,t){var n=Hv(e,"month");return Hv(n,"week",t.startOfWeek())}function UK(e,t){for(var n=o3(e,t),r=i3(e,t),o=[];Bh(n,r,"day");)o.push(n),n=vs(n,1,"day");return o}function zK(e,t){var n=Io(e,t);return gg(n,e)?n:vs(n,1,t)}function VK(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,o=[];Bh(r,t,n);)o.push(r),r=vs(r,1,n);return o}function WK(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Io(e,"day"),e=Wm(e,Wm(t)),e=Eh(e,Eh(t)),e=Vm(e,Vm(t)),zm(e,zm(t)))}function fI(e){return Wm(e)===0&&Eh(e)===0&&Vm(e)===0&&zm(e)===0}function ZK(e,t,n,r){return n==="day"&&(n="date"),Math.abs(r2[n](e,void 0,r)-r2[n](t,void 0,r))}function jS(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Io(e,n)/dI[n]-+Io(t,n)/dI[n]))}var $K=ke.oneOfType([ke.string,ke.func]);function qK(e,t,n,r,o){var i=typeof r=="function"?r(n,o,e):t.call(e,n,r,o);return Rm(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function GK(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function LS(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function JK(e,t){return jS(e,t,"minutes")+LS(e,t)}function KK(e){var t=Io(e,"day");return jS(t,e,"minutes")+LS(t,e)}function QK(e,t){return fS(e,t,"day")}function XK(e,t,n){var r=gg(e,t,"minutes");return r?yg(t,n,"minutes"):E0(t,n,"minutes")}function m1(e,t){return ZK(e,t,"day")}function eQ(e){var t=e.evtA,n=t.start,r=t.end,o=t.allDay,i=e.evtB,a=i.start,c=i.end,d=i.allDay,f=+Io(n,"day")-+Io(a,"day"),m=m1(n,r),g=m1(a,c);return f||g-m||!!d-!!o||+n-+a||+r-+c}function tQ(e){var t=e.event,n=t.start,r=t.end,o=e.range,i=o.start,a=o.end,c=Io(n,"day"),d=Bh(c,a,"day"),f=dS(c,r,"minutes"),m=f?E0(r,i,"minutes"):yg(r,i,"minutes");return d&&m}function nQ(e,t){return gg(e,t,"day")}function rQ(e,t){return fI(e)&&fI(t)}var oQ=co(function e(t){var n=this;lo(this,e),Rm(typeof t.format=="function","date localizer `format(..)` must be a function"),Rm(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||$K,this.formats=t.formats,this.format=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return qK.apply(void 0,[n,t.format].concat(o))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||WK,this.inRange=t.inRange||lM,this.lt=t.lt||fS,this.lte=t.lte||Bh,this.gt=t.gt||E0,this.gte=t.gte||yg,this.eq=t.eq||gg,this.neq=t.neq||dS,this.startOf=t.startOf||Io,this.endOf=t.endOf||Hv,this.add=t.add||vs,this.range=t.range||VK,this.diff=t.diff||jS,this.ceil=t.ceil||zK,this.min=t.min||aM,this.max=t.max||sM,this.minutes=t.minutes||Eh,this.daySpan=t.daySpan||m1,this.firstVisibleDay=t.firstVisibleDay||o3,this.lastVisibleDay=t.lastVisibleDay||i3,this.visibleDays=t.visibleDays||UK,this.getSlotDate=t.getSlotDate||GK,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||LS,this.getTotalMin=t.getTotalMin||JK,this.getMinutesFromMidnight=t.getMinutesFromMidnight||KK,this.continuesPrior=t.continuesPrior||QK,this.continuesAfter=t.continuesAfter||XK,this.sortEvents=t.sortEvents||eQ,this.inEventRange=t.inEventRange||tQ,this.isSameDate=t.isSameDate||nQ,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||rQ,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function iQ(e,t,n,r){var o=zn(zn({},e.formats),n);return zn(zn({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(a,c){return e.format(a,o[c]||c,t)}})}var aQ={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function sQ(e){return zn(zn({},aQ),e)}function lQ(e){var t=e.ref,n=e.callback;F.useEffect(function(){var r=function(i){t.current&&!t.current.contains(i.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var cQ=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],a3=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return co(t,[{key:"render",value:function(){var r=this.props,o=r.style,i=r.className,a=r.event,c=r.selected,d=r.isAllDay,f=r.onSelect,m=r.onDoubleClick,g=r.onKeyPress,v=r.localizer,w=r.continuesPrior,T=r.continuesAfter,S=r.accessors,I=r.getters,k=r.children,P=r.components,R=P.event,M=P.eventWrapper,_=r.slotStart,L=r.slotEnd,z=bl(r,cQ);delete z.resizable;var Y=S.title(a),V=S.tooltip(a),$=S.end(a),re=S.start(a),Q=S.allDay(a),ae=d||Q||v.diff(re,v.ceil($,"day"),"day")>1,X=I.eventProp(a,re,$,c),ie=le.createElement("div",{className:"rbc-event-content",title:V||void 0},R?le.createElement(R,{event:a,continuesPrior:w,continuesAfter:T,title:Y,isAllDay:Q,localizer:v,slotStart:_,slotEnd:L}):Y);return le.createElement(M,Object.assign({},this.props,{type:"date"}),le.createElement("div",Object.assign({},z,{style:zn(zn({},X.style),o),className:Zr("rbc-event",i,X.className,{"rbc-selected":c,"rbc-event-allday":ae,"rbc-event-continues-prior":w,"rbc-event-continues-after":T}),onClick:function(ue){return f&&f(a,ue)},onDoubleClick:function(ue){return m&&m(a,ue)},onKeyDown:function(ue){return g&&g(a,ue)}}),typeof k=="function"?k(ie):ie))}}]),t}(le.Component);function H0(e,t){return!e||t==null?!1:Cz(e,t)}function s3(e,t){var n=e.right-e.left,r=n/t;return r}function l3(e,t,n,r){var o=s3(e,r);return n?r-1-Math.floor((t-e.left)/o):Math.floor((t-e.left)/o)}function uQ(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function dQ(e,t,n,r,o){var i=-1,a=-1,c=r-1,d=s3(t,r),f=l3(t,n.x,o,r),m=t.top<n.y&&t.bottom>n.y,g=t.top<e.y&&t.bottom>e.y,v=e.y>t.bottom,w=t.top>e.y,T=n.top<t.top&&n.bottom>t.bottom;return T&&(i=0,a=c),m&&(w?(i=0,a=f):v&&(i=f,a=c)),g&&(i=a=o?c-Math.floor((e.x-t.left)/d):Math.floor((e.x-t.left)/d),m?f<i?i=f:a=f:e.y<n.y?a=c:i=0),{startIdx:i,endIdx:a}}function fQ(e){var t=e.target,n=e.offset,r=e.container,o=e.box,i=Id(t),a=i.top,c=i.left,d=i.width,f=i.height,m=Id(r),g=m.top,v=m.left,w=m.width,T=m.height,S=Id(o),I=S.width,k=S.height,P=g+T,R=v+w,M=a+k,_=c+I,L=n.x,z=n.y,Y=M>P?a-k-z:a+z+f,V=_>R?c+L-I+d:c+L;return{topOffset:Y,leftOffset:V}}function hQ(e){var t=e.containerRef,n=e.accessors,r=e.getters,o=e.selected,i=e.components,a=e.localizer,c=e.position,d=e.show,f=e.events,m=e.slotStart,g=e.slotEnd,v=e.onSelect,w=e.onDoubleClick,T=e.onKeyPress,S=e.handleDragStart,I=e.popperRef,k=e.target,P=e.offset;lQ({ref:I,callback:d}),F.useLayoutEffect(function(){var _=fQ({target:k,offset:P,container:t.current,box:I.current}),L=_.topOffset,z=_.leftOffset;I.current.style.top="".concat(L,"px"),I.current.style.left="".concat(z,"px")},[P.x,P.y,k]);var R=c.width,M={minWidth:R+R/2};return le.createElement("div",{style:M,className:"rbc-overlay",ref:I},le.createElement("div",{className:"rbc-overlay-header"},a.format(m,"dayHeaderFormat")),f.map(function(_,L){return le.createElement(a3,{key:L,type:"popup",localizer:a,event:_,getters:r,onSelect:v,accessors:n,components:i,onDoubleClick:w,onKeyPress:T,continuesPrior:a.lt(n.end(_),m,"day"),continuesAfter:a.gte(n.start(_),g,"day"),slotStart:m,slotEnd:g,selected:H0(_,o),draggable:!0,onDragStart:function(){return S(_)},onDragEnd:function(){return d()}})}))}var c3=le.forwardRef(function(e,t){return le.createElement(hQ,Object.assign({},e,{popperRef:t}))});c3.propTypes={accessors:ke.object.isRequired,getters:ke.object.isRequired,selected:ke.object,components:ke.object.isRequired,localizer:ke.object.isRequired,position:ke.object.isRequired,show:ke.func.isRequired,events:ke.array.isRequired,slotStart:ke.instanceOf(Date).isRequired,slotEnd:ke.instanceOf(Date),onSelect:ke.func,onDoubleClick:ke.func,onKeyPress:ke.func,handleDragStart:ke.func,style:ke.object,offset:ke.shape({x:ke.number,y:ke.number})};function pQ(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,o=e.overlay,i=e.accessors,a=e.localizer,c=e.components,d=e.getters,f=e.selected,m=e.handleSelectEvent,g=e.handleDoubleClickEvent,v=e.handleKeyPressEvent,w=e.handleDragStart,T=e.onHide,S=e.overlayDisplay,I=F.useRef(null);if(!o.position)return null;var k=r;isNaN(r)||(k={x:r,y:r});var P=o.position,R=o.events,M=o.date,_=o.end;return le.createElement(e_,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:T,target:o.target},function(L){var z=L.props;return le.createElement(c3,Object.assign({},z,{containerRef:t,ref:I,target:o.target,offset:k,accessors:i,getters:d,selected:f,components:c,localizer:a,position:P,show:S,events:R,slotStart:M,slotEnd:_,onSelect:m,onDoubleClick:g,onKeyPress:v,handleDragStart:w}))})}var RS=le.forwardRef(function(e,t){return le.createElement(pQ,Object.assign({},e,{containerRef:t}))});RS.propTypes={popupOffset:ke.oneOfType([ke.number,ke.shape({x:ke.number,y:ke.number})]),overlay:ke.shape({position:ke.object,events:ke.array,date:ke.instanceOf(Date),end:ke.instanceOf(Date)}),accessors:ke.object.isRequired,localizer:ke.object.isRequired,components:ke.object.isRequired,getters:ke.object.isRequired,selected:ke.object,handleSelectEvent:ke.func,handleDoubleClickEvent:ke.func,handleKeyPressEvent:ke.func,handleDragStart:ke.func,onHide:ke.func,overlayDisplay:ke.func};function Lo(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return vm(n,e,t,{passive:!1})}function mQ(e,t,n){return!e||Zm(e,document.elementFromPoint(t,n))}function gQ(e,t){var n=t.clientX,r=t.clientY,o=document.elementFromPoint(n,r);return jM(o,".rbc-event",e)}function yQ(e,t){var n=t.clientX,r=t.clientY,o=document.elementFromPoint(n,r);return jM(o,".rbc-show-more",e)}function Zv(e,t){return!!gQ(e,t)}function vQ(e,t){return!!yQ(e,t)}function ih(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var hI=5,wQ=250,u3=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,o=r===void 0?!1:r,i=n.longPressThreshold,a=i===void 0?250:i,c=n.validContainers,d=c===void 0?[]:c;lo(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||o,this.longPressThreshold=a,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Lo("touchmove",function(){},window),this._removeKeyDownListener=Lo("keydown",this._keyListener),this._removeKeyUpListener=Lo("keyup",this._keyListener),this._removeDropFromOutsideListener=Lo("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Lo("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return co(e,[{key:"on",value:function(n,r){var o=this._listeners[n]||(this._listeners[n]=[]);return o.push(r),{remove:function(){var a=o.indexOf(r);a!==-1&&o.splice(a,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a,c=this._listeners[n]||[];return c.forEach(function(d){a===void 0&&(a=d.apply(void 0,o))}),a}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:pI(r,Pd(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var o=this,i=null,a=null,c=null,d=function(v){i=setTimeout(function(){m(),n(v)},o.longPressThreshold),a=Lo("touchmove",function(){return m()}),c=Lo("touchend",function(){return m()})},f=Lo("touchstart",d),m=function(){i&&clearTimeout(i),a&&a(),c&&c(),i=null,a=null,c=null};return r&&d(r),function(){m(),f()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=Lo("mousedown",function(i){n._removeInitialEventListener(),n._handleInitialEvent(i),n._removeInitialEventListener=Lo("mousedown",n._handleInitialEvent)}),o=Lo("touchstart",function(i){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,i)});this._removeInitialEventListener=function(){r(),o()}}},{key:"_dropFromOutsideListener",value:function(n){var r=ih(n),o=r.pageX,i=r.pageY,a=r.clientX,c=r.clientY;this.emit("dropFromOutside",{x:o,y:i,clientX:a,clientY:c}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=ih(n),o=r.pageX,i=r.pageY,a=r.clientX,c=r.clientY;this.emit("dragOverFromOutside",{x:o,y:i,clientX:a,clientY:c}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(!this.isDetached){var r=ih(n),o=r.clientX,i=r.clientY,a=r.pageX,c=r.pageY,d=this.container(),f,m;if(!(n.which===3||n.button===2||!mQ(d,o,i))){if(!this.globalMouse&&d&&!Zm(d,n.target)){var g=bQ(0),v=g.top,w=g.left,T=g.bottom,S=g.right;if(m=Pd(d),f=pI({top:m.top-v,left:m.left-w,bottom:m.bottom+T,right:m.right+S},{top:c,left:a}),!f)return}var I=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:a,y:c,clientX:o,clientY:i});if(I!==!1)switch(n.type){case"mousedown":this._removeEndListener=Lo("mouseup",this._handleTerminatingEvent),this._onEscListener=Lo("keydown",this._handleTerminatingEvent),this._removeMoveListener=Lo("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Lo("touchend",this._handleTerminatingEvent),this._removeMoveListener=Lo("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,o=this.validContainers;return!o||!o.length||!r?!0:o.some(function(i){return!!r.closest(i)})}},{key:"_handleTerminatingEvent",value:function(n){var r=ih(n),o=r.pageX,i=r.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),!!this._initialEventData){var a=!this.container||Zm(this.container(),n.target),c=this._isWithinValidContainer(n),d=this._selectRect,f=this.isClick(o,i);return this._initialEventData=null,n.key==="Escape"||!c?this.emit("reset"):f&&a?this._handleClickEvent(n):f?this.emit("reset"):this.emit("select",d)}}},{key:"_handleClickEvent",value:function(n){var r=ih(n),o=r.pageX,i=r.pageY,a=r.clientX,c=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<wQ?(this._lastClickData=null,this.emit("doubleClick",{x:o,y:i,clientX:a,clientY:c})):(this._lastClickData={timestamp:d},this.emit("click",{x:o,y:i,clientX:a,clientY:c}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,o=r.x,i=r.y,a=ih(n),c=a.pageX,d=a.pageY,f=Math.abs(o-c),m=Math.abs(i-d),g=Math.min(c,o),v=Math.min(d,i),w=this.selecting;this.isClick(c,d)&&!w&&!(f||m)||(this.selecting=!0,this._selectRect={top:v,left:g,x:c,y:d,right:g+f,bottom:v+m},w||this.emit("selectStart",this._initialEventData),this.isClick(c,d)||this.emit("selecting",this._selectRect),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var o=this._initialEventData,i=o.x,a=o.y,c=o.isTouch;return!c&&Math.abs(n-i)<=hI&&Math.abs(r-a)<=hI}}]),e}();function bQ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ac(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function pI(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Pd(e),o=r.top,i=r.left,a=r.right,c=a===void 0?i:a,d=r.bottom,f=d===void 0?o:d,m=Pd(t),g=m.top,v=m.left,w=m.right,T=w===void 0?v:w,S=m.bottom,I=S===void 0?g:S;return!(f-n<g||o+n>I||c-n<v||i+n>T)}function Pd(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+mI("left"),r=t.top+mI("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function mI(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var SQ=function(e){li(t,e);function t(n,r){var o;return lo(this,t),o=si(this,t,[n,r]),o.state={selecting:!1},o.containerRef=F.createRef(),o}return co(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,o=r.range,i=r.getNow,a=r.getters,c=r.date,d=r.components.dateCellWrapper,f=r.localizer,m=this.state,g=m.selecting,v=m.startIdx,w=m.endIdx,T=i();return le.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},o.map(function(S,I){var k=g&&I>=v&&I<=w,P=a.dayProp(S),R=P.className,M=P.style;return le.createElement(d,{key:I,value:S,range:o},le.createElement("div",{style:M,className:Zr("rbc-day-bg",R,k&&"rbc-selected-cell",f.isSameDate(S,T)&&"rbc-today",c&&f.neq(c,S,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,o=this.containerRef.current,i=this._selector=new u3(this.props.container,{longPressThreshold:this.props.longPressThreshold}),a=function(d,f){if(!Zv(o,d)&&!vQ(o,d)){var m=Pd(o),g=r.props,v=g.range,w=g.rtl;if(uQ(m,d)){var T=l3(m,d.x,w,v.length);r._selectSlot({startIdx:T,endIdx:T,action:f,box:d})}}r._initial={},r.setState({selecting:!1})};i.on("selecting",function(c){var d=r.props,f=d.range,m=d.rtl,g=-1,v=-1;if(r.state.selecting||(nr(r.props.onSelectStart,[c]),r._initial={x:c.x,y:c.y}),i.isSelected(o)){var w=Pd(o),T=dQ(r._initial,w,c,f.length,m);g=T.startIdx,v=T.endIdx}r.setState({selecting:!0,startIdx:g,endIdx:v})}),i.on("beforeSelect",function(c){if(r.props.selectable==="ignoreEvents")return!Zv(r.containerRef.current,c)}),i.on("click",function(c){return a(c,"click")}),i.on("doubleClick",function(c){return a(c,"doubleClick")}),i.on("select",function(c){r._selectSlot(zn(zn({},r.state),{},{action:"select",bounds:c})),r._initial={},r.setState({selecting:!1}),nr(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var o=r.endIdx,i=r.startIdx,a=r.action,c=r.bounds,d=r.box;o!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:o,action:a,bounds:c,box:d,resourceId:this.props.resourceId})}}]),t}(le.Component),hl={propTypes:{slotMetrics:ke.object.isRequired,selected:ke.object,isAllDay:ke.bool,accessors:ke.object.isRequired,localizer:ke.object.isRequired,components:ke.object.isRequired,getters:ke.object.isRequired,onSelect:ke.func,onDoubleClick:ke.func,onKeyPress:ke.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var o=t.accessors,i=t.getters,a=t.onSelect,c=t.onDoubleClick,d=t.onKeyPress,f=t.localizer,m=t.slotMetrics,g=t.components,v=t.resizable,w=m.continuesPrior(n),T=m.continuesAfter(n);return le.createElement(a3,{event:n,getters:i,localizer:f,accessors:o,components:g,onSelect:a,onDoubleClick:c,onKeyPress:d,continuesPrior:w,continuesAfter:T,slotStart:m.first,slotEnd:m.last,selected:H0(n,r),resizable:v})},renderSpan:function(t,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(n)/t*100+"%";return le.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},o)}},d3=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return co(t,[{key:"render",value:function(){var r=this,o=this.props,i=o.segments,a=o.slotMetrics.slots,c=o.className,d=1;return le.createElement("div",{className:Zr(c,"rbc-row")},i.reduce(function(f,m,g){var v=m.event,w=m.left,T=m.right,S=m.span,I="_lvl_"+g,k=w-d,P=hl.renderEvent(r.props,v);return k&&f.push(hl.renderSpan(a,k,"".concat(I,"_gap"))),f.push(hl.renderSpan(a,S,I,P)),d=T+1,f},[]))}}]),t}(le.Component);d3.defaultProps=zn({},hl.defaultProps);function f3(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,o=e.localizer;return{first:t[0],last:o.add(t[t.length-1],1,r)}}function DQ(e,t,n,r){var o=f3({dateRange:t,localizer:r}),i=o.first,a=o.last,c=r.diff(i,a,"day"),d=r.max(r.startOf(n.start(e),"day"),i),f=r.min(r.ceil(n.end(e),"day"),a),m=MW(t,function(v){return r.isSameDate(v,d)}),g=r.diff(d,f,"day");return g=Math.min(g,c),g=Math.max(g-r.segmentOffset,1),{event:e,span:g,left:m+1,right:Math.max(m+g,1)}}function h3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,o,i=[],a=[];for(n=0;n<e.length;n++){for(o=e[n],r=0;r<i.length&&TQ(o,i[r]);r++);r>=t?a.push(o):(i[r]||(i[r]=[])).push(o)}for(n=0;n<i.length;n++)i[n].sort(function(c,d){return c.left-d.left});return{levels:i,extra:a}}function $m(e,t,n,r,o){var i={start:r.start(e),end:r.end(e)},a={start:t,end:n};return o.inEventRange({event:i,range:a})}function TQ(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function IQ(e,t,n){var r=pv(e),o=[],i=[];r.forEach(function(d){var f=t.start(d),m=t.end(d);n.daySpan(f,m)>1?o.push(d):i.push(d)});var a=o.sort(function(d,f){return g1(d,f,t,n)}),c=i.sort(function(d,f){return g1(d,f,t,n)});return[].concat(pv(a),pv(c))}function g1(e,t,n,r){var o={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:o,evtB:i})}var p3=function(t,n){return t.left<=n&&t.right>=n},gI=function(t,n){return t.filter(function(r){return p3(r,n)}).map(function(r){return r.event})},m3=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return co(t,[{key:"render",value:function(){for(var r=this.props,o=r.segments,i=r.slotMetrics.slots,a=h3(o).levels[0],c=1,d=1,f=[];c<=i;){var m="_lvl_"+c,g=a.filter(function(P){return p3(P,c)})[0]||{},v=g.event,w=g.left,T=g.right,S=g.span;if(!v){c++;continue}var I=Math.max(0,w-d);if(this.canRenderSlotEvent(w,S)){var k=hl.renderEvent(this.props,v);I&&f.push(hl.renderSpan(i,I,m+"_gap")),f.push(hl.renderSpan(i,S,m,k)),d=c=T+1}else I&&f.push(hl.renderSpan(i,I,m+"_gap")),f.push(hl.renderSpan(i,1,m,this.renderShowMore(o,c))),d=c+=1}return le.createElement("div",{className:"rbc-row"},f)}},{key:"canRenderSlotEvent",value:function(r,o){var i=this.props.segments;return HW(r,r+o).every(function(a){var c=gI(i,a).length;return c===1})}},{key:"renderShowMore",value:function(r,o){var i=this,a=this.props,c=a.localizer,d=a.slotMetrics,f=d.getEventsForSlot(o),m=gI(r,o),g=m.length;return g?le.createElement("button",{type:"button",key:"sm_"+o,className:Zr("rbc-button-link","rbc-show-more"),onClick:function(w){return i.showMore(o,w)}},c.messages.showMore(g,m,f)):!1}},{key:"showMore",value:function(r,o){o.preventDefault(),o.stopPropagation(),this.props.onShowMore(r,o.target)}}]),t}(le.Component);m3.defaultProps=zn({},hl.defaultProps);var EQ=function(t){var n=t.children;return le.createElement("div",{className:"rbc-row-content-scroll-container"},n)},xQ=function(t,n){return t.left<=n&&t.right>=n},CQ=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function g3(){return HM(function(e){for(var t=e.range,n=e.events,r=e.maxRows,o=e.minRows,i=e.accessors,a=e.localizer,c=f3({dateRange:t,localizer:a}),d=c.first,f=c.last,m=n.map(function(S){return DQ(S,t,i,a)}),g=h3(m,Math.max(r-1,1)),v=g.levels,w=g.extra,T=w.length>0?o-1:o;v.length<T;)v.push([]);return{first:d,last:f,levels:v,extra:w,range:t,slots:t.length,clone:function(I){var k=g3();return k(zn(zn({},e),I))},getDateForSlot:function(I){return t[I]},getSlotForDate:function(I){return t.find(function(k){return a.isSameDate(k,I)})},getEventsForSlot:function(I){return m.filter(function(k){return xQ(k,I)}).map(function(k){return k.event})},continuesPrior:function(I){return a.continuesPrior(i.start(I),d)},continuesAfter:function(I){var k=i.start(I),P=i.end(I);return a.continuesAfter(k,P,f)}}},CQ)}var $v=function(e){li(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=si(this,t,[].concat(o)),n.handleSelectSlot=function(a){var c=n.props,d=c.range,f=c.onSelectSlot;f(d.slice(a.start,a.end+1),a)},n.handleShowMore=function(a,c){var d=n.props,f=d.range,m=d.onShowMore,g=n.slotMetrics(n.props),v=kR(n.containerRef.current,".rbc-row-bg")[0],w;v&&(w=v.children[a-1]);var T=g.getEventsForSlot(a);m(T,f[a-1],w,a,c)},n.getContainer=function(){var a=n.props.container;return a?a():n.containerRef.current},n.renderHeadingCell=function(a,c){var d=n.props,f=d.renderHeader,m=d.getNow,g=d.localizer;return f({date:a,key:"header_".concat(c),className:Zr("rbc-date-cell",g.isSameDate(a,m())&&"rbc-now")})},n.renderDummy=function(){var a=n.props,c=a.className,d=a.range,f=a.renderHeader,m=a.showAllEvents;return le.createElement("div",{className:c,ref:n.containerRef},le.createElement("div",{className:Zr("rbc-row-content",m&&"rbc-row-content-scrollable")},f&&le.createElement("div",{className:"rbc-row",ref:n.headingRowRef},d.map(n.renderHeadingCell)),le.createElement("div",{className:"rbc-row",ref:n.eventRowRef},le.createElement("div",{className:"rbc-row-segment"},le.createElement("div",{className:"rbc-event"},le.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=F.createRef(),n.headingRowRef=F.createRef(),n.eventRowRef=F.createRef(),n.slotMetrics=g3(),n}return co(t,[{key:"getRowLimit",value:function(){var r,o=fb(this.eventRowRef.current),i=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?fb(this.headingRowRef.current):0,a=fb(this.containerRef.current)-i;return Math.max(Math.floor(a/o),1)}},{key:"render",value:function(){var r=this.props,o=r.date,i=r.rtl,a=r.range,c=r.className,d=r.selected,f=r.selectable,m=r.renderForMeasure,g=r.accessors,v=r.getters,w=r.components,T=r.getNow,S=r.renderHeader,I=r.onSelect,k=r.localizer,P=r.onSelectStart,R=r.onSelectEnd,M=r.onDoubleClick,_=r.onKeyPress,L=r.resourceId,z=r.longPressThreshold,Y=r.isAllDay,V=r.resizable,$=r.showAllEvents;if(m)return this.renderDummy();var re=this.slotMetrics(this.props),Q=re.levels,ae=re.extra,X=$?EQ:Xl,ie=w.weekWrapper,Z={selected:d,accessors:g,getters:v,localizer:k,components:w,onSelect:I,onDoubleClick:M,onKeyPress:_,resourceId:L,slotMetrics:re,resizable:V};return le.createElement("div",{className:c,role:"rowgroup",ref:this.containerRef},le.createElement(SQ,{localizer:k,date:o,getNow:T,rtl:i,range:a,selectable:f,container:this.getContainer,getters:v,onSelectStart:P,onSelectEnd:R,onSelectSlot:this.handleSelectSlot,components:w,longPressThreshold:z,resourceId:L}),le.createElement("div",{className:Zr("rbc-row-content",$&&"rbc-row-content-scrollable"),role:"row"},S&&le.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},a.map(this.renderHeadingCell)),le.createElement(X,null,le.createElement(ie,Object.assign({isAllDay:Y},Z,{rtl:this.props.rtl}),Q.map(function(ue,ne){return le.createElement(d3,Object.assign({key:ne,segments:ue},Z))}),!!ae.length&&le.createElement(m3,Object.assign({segments:ae,onShowMore:this.handleShowMore},Z))))))}}]),t}(le.Component);$v.defaultProps={minRows:0,maxRows:1/0};var y3=function(t){var n=t.label;return le.createElement("span",{role:"columnheader","aria-sort":"none"},n)},MQ=function(t){var n=t.label,r=t.drilldownView,o=t.onDrillDown;return r?le.createElement("button",{type:"button",className:"rbc-button-link",onClick:o,role:"cell"},n):le.createElement("span",null,n)},kQ=["date","className"],NQ=function(t,n,r,o,i){return t.filter(function(a){return $m(a,n,r,o,i)})},Y0=function(e){li(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=si(this,t,[].concat(o)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(a,c){var d=n.props,f=d.events,m=d.components,g=d.selectable,v=d.getNow,w=d.selected,T=d.date,S=d.localizer,I=d.longPressThreshold,k=d.accessors,P=d.getters,R=d.showAllEvents,M=n.state,_=M.needLimitMeasure,L=M.rowLimit,z=NQ(pv(f),a[0],a[a.length-1],k,S),Y=IQ(z,k,S);return le.createElement($v,{key:c,ref:c===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:v,date:T,range:a,events:Y,maxRows:R?1/0:L,selected:w,selectable:g,components:m,accessors:k,getters:P,localizer:S,renderHeader:n.readerDateHeading,renderForMeasure:_,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:I,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:R})},n.readerDateHeading=function(a){var c=a.date,d=a.className,f=bl(a,kQ),m=n.props,g=m.date,v=m.getDrilldownView,w=m.localizer,T=w.neq(c,g,"month"),S=w.isSameDate(c,g),I=v(c),k=w.format(c,"dateFormat"),P=n.props.components.dateHeader||MQ;return le.createElement("div",Object.assign({},f,{className:Zr(d,T&&"rbc-off-range",S&&"rbc-current"),role:"cell"}),le.createElement(P,{label:k,date:c,drilldownView:I,isOffRange:T,onDrillDown:function(M){return n.handleHeadingClick(c,I,M)}}))},n.handleSelectSlot=function(a,c){n._pendingSelection=n._pendingSelection.concat(a),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(c)})},n.handleHeadingClick=function(a,c,d){d.preventDefault(),n.clearSelection(),nr(n.props.onDrillDown,[a,c])},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];nr(n.props.onSelectEvent,c)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];nr(n.props.onDoubleClickEvent,c)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];nr(n.props.onKeyPressEvent,c)},n.handleShowMore=function(a,c,d,f,m){var g=n.props,v=g.popup,w=g.onDrillDown,T=g.onShowMore,S=g.getDrilldownView,I=g.doShowMoreDrillDown;if(n.clearSelection(),v){var k=SM(d,n.containerRef.current);n.setState({overlay:{date:c,events:a,position:k,target:m}})}else I&&nr(w,[c,S(c)||ii.DAY]);nr(T,[a,c,f])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=F.createRef(),n.slotRowRef=F.createRef(),n._bgRows=[],n._pendingSelection=[],n}return co(t,[{key:"componentDidMount",value:function(){var r=this,o;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){o||DM(function(){o=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,o=r.date,i=r.localizer,a=r.className,c=i.visibleDays(o,i),d=hR(c,7);return this._weekCount=d.length,le.createElement("div",{className:Zr("rbc-month-view",a),role:"table","aria-label":"Month View",ref:this.containerRef},le.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var o=this.props,i=o.localizer,a=o.components,c=r[0],d=r[r.length-1],f=a.header||y3;return i.range(c,d,"day").map(function(m,g){return le.createElement("div",{key:"header_"+g,className:"rbc-header"},le.createElement(f,{date:m,localizer:i,label:i.format(m,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,o,i=this,a=(r=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&r!==void 0?r:{},c=this.props,d=c.accessors,f=c.localizer,m=c.components,g=c.getters,v=c.selected,w=c.popupOffset,T=c.handleDragStart,S=function(){return i.setState({overlay:null})};return le.createElement(RS,{overlay:a,accessors:d,localizer:f,components:m,getters:g,selected:v,popupOffset:w,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:T,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:S})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var o=this._pendingSelection.slice();this._pendingSelection=[],o.sort(function(c,d){return+c-+d});var i=new Date(o[0]),a=new Date(o[o.length-1]);a.setDate(o[o.length-1].getDate()+1),nr(this.props.onSelectSlot,{slots:o,start:i,end:a,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,o){var i=r.date,a=r.localizer;return{date:i,needLimitMeasure:a.neq(i,o.date,"month")}}}]),t}(le.Component);Y0.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),o=n.lastVisibleDay(e,n);return{start:r,end:o}};Y0.navigate=function(e,t,n){var r=n.localizer;switch(t){case Oi.PREVIOUS:return r.add(e,-1,"month");case Oi.NEXT:return r.add(e,1,"month");default:return e}};Y0.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var yI=function(t){var n=t.min,r=t.max,o=t.step,i=t.slots,a=t.localizer;return"".concat(+a.startOf(n,"minutes"))+"".concat(+a.startOf(r,"minutes"))+"".concat(o,"-").concat(i)};function _S(e){for(var t=e.min,n=e.max,r=e.step,o=e.timeslots,i=e.localizer,a=yI({start:t,end:n,step:r,timeslots:o,localizer:i}),c=1+i.getTotalMin(t,n),d=i.getMinutesFromMidnight(t),f=Math.ceil((c-1)/(r*o)),m=f*o,g=new Array(f),v=new Array(m),w=0;w<f;w++){g[w]=new Array(o);for(var T=0;T<o;T++){var S=w*o+T,I=S*r;v[S]=g[w][T]=i.getSlotDate(t,d,I)}}var k=v.length*r;v.push(i.getSlotDate(t,d,k));function P(R){var M=i.diff(t,R,"minutes")+i.getDstOffset(t,R);return Math.min(M,c)}return{groups:g,update:function(M){return yI(M)!==a?_S(M):this},dateIsInGroup:function(M,_){var L=g[_+1];return i.inRange(M,g[_][0],L?L[0]:n,"minutes")},nextSlot:function(M){var _=v[Math.min(v.indexOf(M)+1,v.length-1)];return _===M&&(_=i.add(M,r,"minutes")),_},closestSlotToPosition:function(M){var _=Math.min(v.length-1,Math.max(0,Math.floor(M*m)));return v[_]},closestSlotFromPoint:function(M,_){var L=Math.abs(_.top-_.bottom);return this.closestSlotToPosition((M.y-_.top)/L)},closestSlotFromDate:function(M){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(M,t,"minutes"))return v[0];if(i.gt(M,n,"minutes"))return v[v.length-1];var L=i.diff(t,M,"minutes");return v[(L-L%r)/r+_]},startsBeforeDay:function(M){return i.lt(M,t,"day")},startsAfterDay:function(M){return i.gt(M,n,"day")},startsBefore:function(M){return i.lt(i.merge(t,M),t,"minutes")},startsAfter:function(M){return i.gt(i.merge(n,M),n,"minutes")},getRange:function(M,_,L,z){L||(M=i.min(n,i.max(t,M))),z||(_=i.min(n,i.max(t,_)));var Y=P(M),V=P(_),$=V>r*m&&!i.eq(n,_)?(Y-r)/(r*m)*100:Y/(r*m)*100;return{top:$,height:V/(r*m)*100-$,start:P(M),startDate:M,end:P(_),endDate:_}},getCurrentTimePosition:function(M){var _=P(M),L=_/(r*m)*100;return L}}}var AQ=function(){function e(t,n){var r=n.accessors,o=n.slotMetrics;lo(this,e);var i=o.getRange(r.start(t),r.end(t)),a=i.start,c=i.startDate,d=i.end,f=i.endDate,m=i.top,g=i.height;this.start=a,this.end=d,this.startMs=+c,this.endMs=+f,this.top=m,this.height=g,this.data=t}return co(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(o,i){return Math.max(o,i.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var o=this.row.leaves,i=o.indexOf(this);return i===o.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,o=n.xOffset,i=n._width,a=r.indexOf(this)+1;return o+a*i}}]),e}();function FQ(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function PQ(e){for(var t=a$(e,["startMs",function(c){return-c.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var o=0;o<t.length;o++){var i=t[o];if(!(r.endMs>i.startMs)){if(o>0){var a=t.splice(o,1)[0];n.push(a)}break}}}return n}function v3(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,o=e.accessors,i=t.map(function(m){return new AQ(m,{slotMetrics:r,accessors:o})}),a=PQ(i),c=[],d=function(){var g=a[f],v=c.find(function(S){return S.end>g.start||Math.abs(g.start-S.start)<n});if(!v)return g.rows=[],c.push(g),1;g.container=v;for(var w=null,T=v.rows.length-1;!w&&T>=0;T--)FQ(v.rows[T],g,n)&&(w=v.rows[T]);w?(w.leaves.push(g),g.row=w):(g.leaves=[],v.rows.push(g))},f=0;f<a.length;f++)d();return a.map(function(m){return{event:m.data,style:{top:m.top,height:m.height,width:m.width,xOffset:Math.max(0,m.xOffset)}}})}function w3(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var o=w3(e.friends[r],t,n);t=t>o?t:o}return t}function OQ(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,o=e.accessors,i=v3({events:t,minimumStartDifference:n,slotMetrics:r,accessors:o});i.sort(function(ie,Z){return ie=ie.style,Z=Z.style,ie.top!==Z.top?ie.top>Z.top?1:-1:ie.height!==Z.height?ie.top+ie.height<Z.top+Z.height?1:-1:0});for(var a=0;a<i.length;++a)i[a].friends=[],delete i[a].style.left,delete i[a].style.left,delete i[a].idx,delete i[a].size;for(var c=0;c<i.length-1;++c)for(var d=i[c],f=d.style.top,m=d.style.top+d.style.height,g=c+1;g<i.length;++g){var v=i[g],w=v.style.top,T=v.style.top+v.style.height;(w>=f&&T<=m||T>f&&T<=m||w>=f&&w<m)&&(d.friends.push(v),v.friends.push(d))}for(var S=0;S<i.length;++S){for(var I=i[S],k=[],P=0;P<100;++P)k.push(1);for(var R=0;R<I.friends.length;++R)I.friends[R].idx!==void 0&&(k[I.friends[R].idx]=0);I.idx=k.indexOf(1)}for(var M=0;M<i.length;++M){var _=0;if(!i[M].size){var L=[],z=w3(i[M],0,L);_=100/(z+1),i[M].size=_;for(var Y=0;Y<L.length;++Y)L[Y].size=_}}for(var V=0;V<i.length;++V){var $=i[V];$.style.left=$.idx*$.size;for(var re=0,Q=0;Q<$.friends.length;++Q){var ae=$.friends[Q].idx;re=re>ae?re:ae}re<=$.idx&&($.size=100-$.idx*$.size);var X=$.idx===0?0:3;$.style.width="calc(".concat($.size,"% - ").concat(X,"px)"),$.style.height="calc(".concat($.style.height,"% - 2px)"),$.style.xOffset="calc(".concat($.style.left,"% + ").concat(X,"px)")}return i}var vI={overlap:v3,"no-overlap":OQ};function jQ(e){return!!(e&&e.constructor&&e.call&&e.apply)}function LQ(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in vI&&(n=vI[t]),jQ(n)?n.apply(this,arguments):[]}var b3=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return co(t,[{key:"render",value:function(){var r=this.props,o=r.renderSlot,i=r.resource,a=r.group,c=r.getters,d=r.components,f=d===void 0?{}:d,m=f.timeSlotWrapper,g=m===void 0?Xl:m,v=c?c.slotGroupProp(a):{};return le.createElement("div",Object.assign({className:"rbc-timeslot-group"},v),a.map(function(w,T){var S=c?c.slotProp(w,i):{};return le.createElement(g,{key:T,value:w,resource:i},le.createElement("div",Object.assign({},S,{className:Zr("rbc-time-slot",S.className)}),o&&o(w,T)))}))}}]),t}(F.Component);function zy(e){return typeof e=="string"?e:e+"%"}function RQ(e){var t=e.style,n=e.className,r=e.event,o=e.accessors,i=e.rtl,a=e.selected,c=e.label,d=e.continuesPrior,f=e.continuesAfter,m=e.getters,g=e.onClick,v=e.onDoubleClick,w=e.isBackgroundEvent,T=e.onKeyPress,S=e.components,I=S.event,k=S.eventWrapper,P=o.title(r),R=o.tooltip(r),M=o.end(r),_=o.start(r),L=m.eventProp(r,_,M,a),z=[le.createElement("div",{key:"1",className:"rbc-event-label"},c),le.createElement("div",{key:"2",className:"rbc-event-content"},I?le.createElement(I,{event:r,title:P}):P)],Y=t.height,V=t.top,$=t.width,re=t.xOffset,Q=zn(zn({},L.style),{},gd({top:zy(V),height:zy(Y),width:zy($)},i?"right":"left",zy(re)));return le.createElement(k,Object.assign({type:"time"},e),le.createElement("div",{role:"button",tabIndex:0,onClick:g,onDoubleClick:v,style:Q,onKeyDown:T,title:R?(typeof c=="string"?c+": ":"")+R:void 0,className:Zr(w?"rbc-background-event":"rbc-event",n,L.className,{"rbc-selected":a,"rbc-event-continues-earlier":d,"rbc-event-continues-later":f})},z))}var _Q=function(t){var n=t.children,r=t.className,o=t.style,i=t.innerRef;return le.createElement("div",{className:r,style:o,ref:i},n)},BQ=le.forwardRef(function(e,t){return le.createElement(_Q,Object.assign({},e,{innerRef:t}))}),HQ=["dayProp"],YQ=["eventContainerWrapper"],S3=function(e){li(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=si(this,t,[].concat(o)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(a){var c=a.events,d=a.isBackgroundEvent,f=n.props,m=f.rtl,g=f.selected,v=f.accessors,w=f.localizer,T=f.getters,S=f.components,I=f.step,k=f.timeslots,P=f.dayLayoutAlgorithm,R=f.resizable,M=JC(n),_=M.slotMetrics,L=w.messages,z=LQ({events:c,accessors:v,slotMetrics:_,minimumStartDifference:Math.ceil(I*k/2),dayLayoutAlgorithm:P});return z.map(function(Y,V){var $=Y.event,re=Y.style,Q=v.end($),ae=v.start($),X="eventTimeRangeFormat",ie,Z=_.startsBeforeDay(ae),ue=_.startsAfterDay(Q);Z?X="eventTimeRangeEndFormat":ue&&(X="eventTimeRangeStartFormat"),Z&&ue?ie=L.allDay:ie=w.format({start:ae,end:Q},X);var ne=Z||_.startsBefore(ae),he=ue||_.startsAfter(Q);return le.createElement(RQ,{style:re,event:$,label:ie,key:"evt_"+V,getters:T,rtl:m,components:S,continuesPrior:ne,continuesAfter:he,accessors:v,resource:n.props.resource,selected:H0($,g),onClick:function(oe){return n._select(zn(zn(zn({},$),n.props.resource&&{sourceResource:n.props.resource}),d&&{isBackgroundEvent:!0}),oe)},onDoubleClick:function(oe){return n._doubleClick($,oe)},isBackgroundEvent:d,onKeyPress:function(oe){return n._keyPress($,oe)},resizable:R})})},n._selectable=function(){var a=n.containerRef.current,c=n.props,d=c.longPressThreshold,f=c.localizer,m=n._selector=new u3(function(){return a},{longPressThreshold:d}),g=function(S){var I=n.props.onSelecting,k=n.state||{},P=v(S),R=P.startDate,M=P.endDate;I&&(f.eq(k.startDate,R,"minutes")&&f.eq(k.endDate,M,"minutes")||I({start:R,end:M,resourceId:n.props.resource})===!1)||(n.state.start!==P.start||n.state.end!==P.end||n.state.selecting!==P.selecting)&&n.setState(P)},v=function(S){var I=n.slotMetrics.closestSlotFromPoint(S,Pd(a));n.state.selecting||(n._initialSlot=I);var k=n._initialSlot;f.lte(k,I)?I=n.slotMetrics.nextSlot(I):f.gt(k,I)&&(k=n.slotMetrics.nextSlot(k));var P=n.slotMetrics.getRange(f.min(k,I),f.max(k,I));return zn(zn({},P),{},{selecting:!0,top:"".concat(P.top,"%"),height:"".concat(P.height,"%")})},w=function(S,I){if(!Zv(n.containerRef.current,S)){var k=v(S),P=k.startDate,R=k.endDate;n._selectSlot({startDate:P,endDate:R,action:I,box:S})}n.setState({selecting:!1})};m.on("selecting",g),m.on("selectStart",g),m.on("beforeSelect",function(T){if(n.props.selectable==="ignoreEvents")return!Zv(n.containerRef.current,T)}),m.on("click",function(T){return w(T,"click")}),m.on("doubleClick",function(T){return w(T,"doubleClick")}),m.on("select",function(T){n.state.selecting&&(n._selectSlot(zn(zn({},n.state),{},{action:"select",bounds:T})),n.setState({selecting:!1}))}),m.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(a){for(var c=a.startDate,d=a.endDate,f=a.action,m=a.bounds,g=a.box,v=c,w=[];n.props.localizer.lte(v,d);)w.push(v),v=new Date(+v+n.props.step*60*1e3);nr(n.props.onSelectSlot,{slots:w,start:c,end:d,resourceId:n.props.resource,action:f,bounds:m,box:g})},n._select=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];nr(n.props.onSelectEvent,c)},n._doubleClick=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];nr(n.props.onDoubleClickEvent,c)},n._keyPress=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];nr(n.props.onKeyPressEvent,c)},n.slotMetrics=_S(n.props),n.containerRef=F.createRef(),n}return co(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,o){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(this.props);var i=this.props,a=i.getNow,c=i.isNow,d=i.localizer,f=i.date,m=i.min,g=i.max,v=d.neq(r.getNow(),a(),"minutes");if(r.isNow!==c||v){if(this.clearTimeIndicatorInterval(),c){var w=!v&&d.eq(r.date,f,"minutes")&&o.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(w)}}else c&&(d.neq(r.min,m,"minutes")||d.neq(r.max,g,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!o&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,o=r.min,i=r.max,a=r.getNow,c=a();if(c>=o&&c<=i){var d=this.slotMetrics.getCurrentTimePosition(c);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,o=r.date,i=r.max,a=r.rtl,c=r.isNow,d=r.resource,f=r.accessors,m=r.localizer,g=r.getters,v=g.dayProp,w=bl(g,HQ),T=r.components,S=T.eventContainerWrapper,I=bl(T,YQ),k=this.slotMetrics,P=this.state,R=P.selecting,M=P.top,_=P.height,L=P.startDate,z=P.endDate,Y={start:L,end:z},V=v(i),$=V.className,re=V.style,Q=I.dayColumnWrapper||BQ;return le.createElement(Q,{ref:this.containerRef,date:o,style:re,className:Zr($,"rbc-day-slot","rbc-time-column",c&&"rbc-now",c&&"rbc-today",R&&"rbc-slot-selecting"),slotMetrics:k},k.groups.map(function(ae,X){return le.createElement(b3,{key:X,group:ae,resource:d,getters:w,components:I})}),le.createElement(S,{localizer:m,resource:d,accessors:f,getters:w,components:I,slotMetrics:k},le.createElement("div",{className:Zr("rbc-events-container",a&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),R&&le.createElement("div",{className:"rbc-slot-selection",style:{top:M,height:_}},le.createElement("span",null,m.format(Y,"selectRangeFormat"))),c&&this.intervalTriggered&&le.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),t}(le.Component);S3.defaultProps={dragThroughEvents:!0,timeslots:2};function UQ(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var zQ=function(t){var n=t.min,r=t.max,o=t.timeslots,i=t.step,a=t.localizer,c=t.getNow,d=t.resource,f=t.components,m=t.getters,g=t.gutterRef,v=f.timeGutterWrapper,w=F.useMemo(function(){return UQ({min:n,max:r,localizer:a})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),a]),T=w.start,S=w.end,I=F.useState(_S({min:T,max:S,timeslots:o,step:i,localizer:a})),k=ec(I,2),P=k[0],R=k[1];F.useEffect(function(){P&&R(P.update({min:T,max:S,timeslots:o,step:i,localizer:a}))},[T==null?void 0:T.toISOString(),S==null?void 0:S.toISOString(),o,i]);var M=F.useCallback(function(_,L){if(L)return null;var z=P.dateIsInGroup(c(),L);return le.createElement("span",{className:Zr("rbc-label",z&&"rbc-now")},a.format(_,"timeGutterFormat"))},[P,a,c]);return le.createElement(v,{slotMetrics:P},le.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:g},P.groups.map(function(_,L){return le.createElement(b3,{key:L,group:_,resource:d,components:f,renderSlot:M,getters:m})})))},VQ=le.forwardRef(function(e,t){return le.createElement(zQ,Object.assign({gutterRef:t},e))}),WQ=function(t){var n=t.label;return le.createElement(le.Fragment,null,n)},ZQ=function(e){li(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=si(this,t,[].concat(o)),n.handleHeaderClick=function(a,c,d){d.preventDefault(),nr(n.props.onDrillDown,[a,c])},n.renderRow=function(a){var c=n.props,d=c.events,f=c.rtl,m=c.selectable,g=c.getNow,v=c.range,w=c.getters,T=c.localizer,S=c.accessors,I=c.components,k=c.resizable,P=S.resourceId(a),R=a?d.filter(function(M){return S.resource(M)===P}):d;return le.createElement($v,{isAllDay:!0,rtl:f,getNow:g,minRows:2,maxRows:n.props.allDayMaxRows+1,range:v,events:R,resourceId:P,className:"rbc-allday-cell",selectable:m,selected:n.props.selected,components:I,accessors:S,getters:w,localizer:T,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:k})},n}return co(t,[{key:"renderHeaderCells",value:function(r){var o=this,i=this.props,a=i.localizer,c=i.getDrilldownView,d=i.getNow,f=i.getters.dayProp,m=i.components.header,g=m===void 0?y3:m,v=d();return r.map(function(w,T){var S=c(w),I=a.format(w,"dayFormat"),k=f(w),P=k.className,R=k.style,M=le.createElement(g,{date:w,label:I,localizer:a});return le.createElement("div",{key:T,style:R,className:Zr("rbc-header",P,a.isSameDate(w,v)&&"rbc-today")},S?le.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(L){return o.handleHeaderClick(w,S,L)}},M):le.createElement("span",null,M))})}},{key:"render",value:function(){var r=this,o=this.props,i=o.width,a=o.rtl,c=o.resources,d=o.range,f=o.events,m=o.getNow,g=o.accessors,v=o.selectable,w=o.components,T=o.getters,S=o.scrollRef,I=o.localizer,k=o.isOverflowing,P=o.components,R=P.timeGutterHeader,M=P.resourceHeader,_=M===void 0?WQ:M,L=o.resizable,z={};k&&(z[a?"marginLeft":"marginRight"]="".concat(TM()-1,"px"));var Y=c.groupEvents(f);return le.createElement("div",{style:z,ref:S,className:Zr("rbc-time-header",k&&"rbc-overflowing")},le.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},R&&le.createElement(R,null)),c.map(function(V,$){var re=ec(V,2),Q=re[0],ae=re[1];return le.createElement("div",{className:"rbc-time-header-content",key:Q||$},ae&&le.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat($)},le.createElement("div",{className:"rbc-header"},le.createElement(_,{index:$,label:g.resourceTitle(ae),resource:ae}))),le.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),le.createElement($v,{isAllDay:!0,rtl:a,getNow:m,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:Y.get(Q)||[],resourceId:ae&&Q,className:"rbc-allday-cell",selectable:v,selected:r.props.selected,components:w,accessors:g,getters:T,localizer:I,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:L}))}))}}]),t}(le.Component),mb={};function $Q(e,t){return{map:function(r){return e?e.map(function(o,i){return r([t.resourceId(o),o],i)}):[r([mb,null],0)]},groupEvents:function(r){var o=new Map;return e?(r.forEach(function(i){var a=t.resource(i)||mb;if(Array.isArray(a))a.forEach(function(d){var f=o.get(d)||[];f.push(i),o.set(d,f)});else{var c=o.get(a)||[];c.push(i),o.set(a,c)}}),o):(o.set(mb,r),o)}}}var qh=function(e){li(t,e);function t(n){var r;return lo(this,t),r=si(this,t,[n]),r.handleScroll=function(o){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=o.target.scrollLeft)},r.handleResize=function(){f2(r.rafHandle),r.rafHandle=DM(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];nr(r.props.onKeyPressEvent,i)},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];nr(r.props.onSelectEvent,i)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];nr(r.props.onDoubleClickEvent,i)},r.handleShowMore=function(o,i,a,c,d){var f=r.props,m=f.popup,g=f.onDrillDown,v=f.onShowMore,w=f.getDrilldownView,T=f.doShowMoreDrillDown;if(r.clearSelection(),m){var S=SM(a,r.containerRef.current);r.setState({overlay:{date:i,events:o,position:zn(zn({},S),{},{width:"200px"}),target:d}})}else T&&nr(g,[i,w(i)||ii.DAY]);nr(v,[o,i,c])},r.handleSelectAllDaySlot=function(o,i){var a=r.props.onSelectSlot,c=new Date(o[0]),d=new Date(o[o.length-1]);d.setDate(o[o.length-1].getDate()+1),nr(a,{slots:o,start:c,end:d,action:i.action,resourceId:i.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var o=r.contentRef.current;if(o!=null&&o.scrollHeight){var i=o.scrollHeight>o.clientHeight;r.state.isOverflowing!==i&&(r._updatingOverflow=!0,r.setState({isOverflowing:i},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=HM(function(o,i){return $Q(o,i)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=le.createRef(),r.contentRef=le.createRef(),r.containerRef=le.createRef(),r._scrollRatio=null,r.gutterRef=F.createRef(),r}return co(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),f2(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(r,o,i,a){var c=this,d=this.props,f=d.min,m=d.max,g=d.components,v=d.accessors,w=d.localizer,T=d.dayLayoutAlgorithm,S=this.memoizedResources(this.props.resources,v),I=S.groupEvents(o),k=S.groupEvents(i);return S.map(function(P,R){var M=ec(P,2),_=M[0],L=M[1];return r.map(function(z,Y){var V=(I.get(_)||[]).filter(function(re){return w.inRange(z,v.start(re),v.end(re),"day")}),$=(k.get(_)||[]).filter(function(re){return w.inRange(z,v.start(re),v.end(re),"day")});return le.createElement(S3,Object.assign({},c.props,{localizer:w,min:w.merge(z,f),max:w.merge(z,m),resource:L&&_,components:g,isNow:w.isSameDate(z,a),key:R+"-"+Y,date:z,events:V,backgroundEvents:$,dayLayoutAlgorithm:T}))})})}},{key:"render",value:function(){var r,o=this.props,i=o.events,a=o.backgroundEvents,c=o.range,d=o.width,f=o.rtl,m=o.selected,g=o.getNow,v=o.resources,w=o.components,T=o.accessors,S=o.getters,I=o.localizer,k=o.min,P=o.max,R=o.showMultiDayTimes,M=o.longPressThreshold,_=o.resizable;d=d||this.state.gutterWidth;var L=c[0],z=c[c.length-1];this.slots=c.length;var Y=[],V=[],$=[];return i.forEach(function(re){if($m(re,L,z,T,I)){var Q=T.start(re),ae=T.end(re);T.allDay(re)||I.startAndEndAreDateOnly(Q,ae)||!R&&!I.isSameDate(Q,ae)?Y.push(re):V.push(re)}}),a.forEach(function(re){$m(re,L,z,T,I)&&$.push(re)}),Y.sort(function(re,Q){return g1(re,Q,T,I)}),le.createElement("div",{className:Zr("rbc-time-view",v&&"rbc-time-view-resources"),ref:this.containerRef},le.createElement(ZQ,{range:c,events:Y,width:d,rtl:f,getNow:g,localizer:I,selected:m,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(v,T),selectable:this.props.selectable,accessors:T,getters:S,components:w,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:M,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:_}),this.props.popup&&this.renderOverlay(),le.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},le.createElement(VQ,{date:L,ref:this.gutterRef,localizer:I,min:I.merge(L,k),max:I.merge(L,P),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:w,className:"rbc-time-gutter",getters:S}),this.renderEvents(c,V,$,g())))}},{key:"renderOverlay",value:function(){var r,o,i=this,a=(r=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&r!==void 0?r:{},c=this.props,d=c.accessors,f=c.localizer,m=c.components,g=c.getters,v=c.selected,w=c.popupOffset,T=c.handleDragStart,S=function(){return i.setState({overlay:null})};return le.createElement(RS,{overlay:a,accessors:d,localizer:f,components:m,getters:g,selected:v,popupOffset:w,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:T,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:S})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var o,i=(o=r.gutterRef)!==null&&o!==void 0&&o.current?p1(r.gutterRef.current):void 0;i&&r.state.gutterWidth!==i&&r.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=r.min,i=r.max,a=r.scrollToTime,c=r.localizer,d=c.diff(c.merge(a,o),a,"milliseconds"),f=c.diff(o,i,"milliseconds");this._scrollRatio=d/f}}]),t}(F.Component);qh.defaultProps={step:30,timeslots:2};var qQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],U0=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return co(t,[{key:"render",value:function(){var r=this.props,o=r.date,i=r.localizer,a=r.min,c=a===void 0?i.startOf(new Date,"day"):a,d=r.max,f=d===void 0?i.endOf(new Date,"day"):d,m=r.scrollToTime,g=m===void 0?i.startOf(new Date,"day"):m,v=r.enableAutoScroll,w=v===void 0?!0:v,T=bl(r,qQ),S=t.range(o,{localizer:i});return le.createElement(qh,Object.assign({},T,{range:S,eventOffset:10,localizer:i,min:c,max:f,scrollToTime:g,enableAutoScroll:w}))}}]),t}(le.Component);U0.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};U0.navigate=function(e,t,n){var r=n.localizer;switch(t){case Oi.PREVIOUS:return r.add(e,-1,"day");case Oi.NEXT:return r.add(e,1,"day");default:return e}};U0.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var GQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],fu=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return co(t,[{key:"render",value:function(){var r=this.props,o=r.date,i=r.localizer,a=r.min,c=a===void 0?i.startOf(new Date,"day"):a,d=r.max,f=d===void 0?i.endOf(new Date,"day"):d,m=r.scrollToTime,g=m===void 0?i.startOf(new Date,"day"):m,v=r.enableAutoScroll,w=v===void 0?!0:v,T=bl(r,GQ),S=t.range(o,this.props);return le.createElement(qh,Object.assign({},T,{range:S,eventOffset:15,localizer:i,min:c,max:f,scrollToTime:g,enableAutoScroll:w}))}}]),t}(le.Component);fu.defaultProps=qh.defaultProps;fu.navigate=function(e,t,n){var r=n.localizer;switch(t){case Oi.PREVIOUS:return r.add(e,-1,"week");case Oi.NEXT:return r.add(e,1,"week");default:return e}};fu.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),o=n.startOf(e,"week",r),i=n.endOf(e,"week",r);return n.range(o,i)};fu.title=function(e,t){var n=t.localizer,r=fu.range(e,{localizer:n}),o=$M(r),i=o[0],a=o.slice(1);return n.format({start:i,end:a.pop()},"dayRangeHeaderFormat")};var JQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function BS(e,t){return fu.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var Eg=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return co(t,[{key:"render",value:function(){var r=this.props,o=r.date,i=r.localizer,a=r.min,c=a===void 0?i.startOf(new Date,"day"):a,d=r.max,f=d===void 0?i.endOf(new Date,"day"):d,m=r.scrollToTime,g=m===void 0?i.startOf(new Date,"day"):m,v=r.enableAutoScroll,w=v===void 0?!0:v,T=bl(r,JQ),S=BS(o,this.props);return le.createElement(qh,Object.assign({},T,{range:S,eventOffset:15,localizer:i,min:c,max:f,scrollToTime:g,enableAutoScroll:w}))}}]),t}(le.Component);Eg.defaultProps=qh.defaultProps;Eg.range=BS;Eg.navigate=fu.navigate;Eg.title=function(e,t){var n=t.localizer,r=BS(e,{localizer:n}),o=$M(r),i=o[0],a=o.slice(1);return n.format({start:i,end:a.pop()},"dayRangeHeaderFormat")};function hu(e){var t=e.accessors,n=e.components,r=e.date,o=e.events,i=e.getters,a=e.length,c=e.localizer,d=e.onDoubleClickEvent,f=e.onSelectEvent,m=e.selected,g=F.useRef(null),v=F.useRef(null),w=F.useRef(null),T=F.useRef(null),S=F.useRef(null);F.useEffect(function(){P()});var I=function(z,Y,V){var $=n.event,re=n.date;return Y=Y.filter(function(Q){return $m(Q,c.startOf(z,"day"),c.endOf(z,"day"),t,c)}),Y.map(function(Q,ae){var X=t.title(Q),ie=t.end(Q),Z=t.start(Q),ue=i.eventProp(Q,Z,ie,H0(Q,m)),ne=ae===0&&c.format(z,"agendaDateFormat"),he=ae===0?le.createElement("td",{rowSpan:Y.length,className:"rbc-agenda-date-cell"},re?le.createElement(re,{day:z,label:ne}):ne):!1;return le.createElement("tr",{key:V+"_"+ae,className:ue.className,style:ue.style},he,le.createElement("td",{className:"rbc-agenda-time-cell"},k(z,Q)),le.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(oe){return f&&f(Q,oe)},onDoubleClick:function(oe){return d&&d(Q,oe)}},$?le.createElement($,{event:Q,title:X}):X))},[])},k=function(z,Y){var V="",$=n.time,re=c.messages.allDay,Q=t.end(Y),ae=t.start(Y);return t.allDay(Y)||(c.eq(ae,Q)?re=c.format(ae,"agendaTimeFormat"):c.isSameDate(ae,Q)?re=c.format({start:ae,end:Q},"agendaTimeRangeFormat"):c.isSameDate(z,ae)?re=c.format(ae,"agendaTimeFormat"):c.isSameDate(z,Q)&&(re=c.format(Q,"agendaTimeFormat"))),c.gt(z,ae,"day")&&(V="rbc-continues-prior"),c.lt(z,Q,"day")&&(V+=" rbc-continues-after"),le.createElement("span",{className:V.trim()},$?le.createElement($,{event:Y,day:z,label:re}):re)},P=function(){if(S.current){var z=g.current,Y=S.current.firstChild;if(Y){var V=T.current.scrollHeight>T.current.clientHeight,$=[],re=$;$=[p1(Y.children[0]),p1(Y.children[1])],(re[0]!==$[0]||re[1]!==$[1])&&(v.current.style.width=$[0]+"px",w.current.style.width=$[1]+"px"),V?(JR(z,"rbc-header-overflowing"),z.style.marginRight=TM()+"px"):KR(z,"rbc-header-overflowing")}}},R=c.messages,M=c.add(r,a,"day"),_=c.range(r,M,"day");return o=o.filter(function(L){return $m(L,c.startOf(r,"day"),c.endOf(M,"day"),t,c)}),o.sort(function(L,z){return+t.start(L)-+t.start(z)}),le.createElement("div",{className:"rbc-agenda-view"},o.length!==0?le.createElement(le.Fragment,null,le.createElement("table",{ref:g,className:"rbc-agenda-table"},le.createElement("thead",null,le.createElement("tr",null,le.createElement("th",{className:"rbc-header",ref:v},R.date),le.createElement("th",{className:"rbc-header",ref:w},R.time),le.createElement("th",{className:"rbc-header"},R.event)))),le.createElement("div",{className:"rbc-agenda-content",ref:T},le.createElement("table",{className:"rbc-agenda-table"},le.createElement("tbody",{ref:S},_.map(function(L,z){return I(L,o,z)}))))):le.createElement("span",{className:"rbc-agenda-empty"},R.noEventsInRange))}hu.defaultProps={length:30};hu.range=function(e,t){var n=t.length,r=n===void 0?hu.defaultProps.length:n,o=t.localizer,i=o.add(e,r,"day");return{start:e,end:i}};hu.navigate=function(e,t,n){var r=n.length,o=r===void 0?hu.defaultProps.length:r,i=n.localizer;switch(t){case Oi.PREVIOUS:return i.add(e,-o,"day");case Oi.NEXT:return i.add(e,o,"day");default:return e}};hu.title=function(e,t){var n=t.length,r=n===void 0?hu.defaultProps.length:n,o=t.localizer,i=o.add(e,r,"day");return o.format({start:e,end:i},"agendaHeaderFormat")};var gv=gd(gd(gd(gd(gd({},ii.MONTH,Y0),ii.WEEK,fu),ii.WORK_WEEK,Eg),ii.DAY,U0),ii.AGENDA,hu),KQ=["action","date","today"];function QQ(e,t){var n=t.action,r=t.date,o=t.today,i=bl(t,KQ);switch(e=typeof e=="string"?gv[e]:e,n){case Oi.TODAY:r=o||new Date;break;case Oi.DATE:break;default:Rm(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,i)}return r}var XQ=function(e){li(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=si(this,t,[].concat(o)),n.navigate=function(a){n.props.onNavigate(a)},n.view=function(a){n.props.onView(a)},n}return co(t,[{key:"render",value:function(){var r=this.props,o=r.localizer.messages,i=r.label;return le.createElement("div",{className:"rbc-toolbar"},le.createElement("span",{className:"rbc-btn-group"},le.createElement("button",{type:"button",onClick:this.navigate.bind(null,Oi.TODAY)},o.today),le.createElement("button",{type:"button",onClick:this.navigate.bind(null,Oi.PREVIOUS)},o.previous),le.createElement("button",{type:"button",onClick:this.navigate.bind(null,Oi.NEXT)},o.next)),le.createElement("span",{className:"rbc-toolbar-label"},i),le.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(o)))}},{key:"viewNamesGroup",value:function(r){var o=this,i=this.props.views,a=this.props.view;if(i.length>1)return i.map(function(c){return le.createElement("button",{type:"button",key:c,className:Zr({"rbc-active":a===c}),onClick:o.view.bind(null,c)},r[c])})}}]),t}(le.Component);function eX(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&ac(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var tu=function(t){return function(n){return eX(n,t)}},tX=["view","date","getNow","onNavigate"],nX=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function D3(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var o=ec(r[n],2),i=o[0],a=o[1];a&&t.push(i)}return t}function rX(e,t){var n=t.views,r=D3(n);return r.indexOf(e)!==-1}var T3=function(e){li(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=si(this,t,[].concat(o)),n.getViews=function(){var a=n.props.views;return Array.isArray(a)?MK(a,function(c,d){return c[d]=gv[d]},{}):ac(a)==="object"?OK(a,function(c,d){return c===!0?gv[d]:c}):gv},n.getView=function(){var a=n.getViews();return a[n.props.view]},n.getDrilldownView=function(a){var c=n.props,d=c.view,f=c.drilldownView,m=c.getDrilldownView;return m?m(a,d,Object.keys(n.getViews())):f},n.handleRangeChange=function(a,c,d){var f=n.props,m=f.onRangeChange,g=f.localizer;m&&c.range&&m(c.range(a,{localizer:g}),d)},n.handleNavigate=function(a,c){var d=n.props,f=d.view,m=d.date,g=d.getNow,v=d.onNavigate,w=bl(d,tX),T=n.getView(),S=g();m=QQ(T,zn(zn({},w),{},{action:a,date:c||m||S,today:S})),v(m,f,a),n.handleRangeChange(m,T)},n.handleViewChange=function(a){a!==n.props.view&&rX(a,n.props)&&n.props.onView(a);var c=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),c[a],a)},n.handleSelectEvent=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];nr(n.props.onSelectEvent,c)},n.handleDoubleClickEvent=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];nr(n.props.onDoubleClickEvent,c)},n.handleKeyPressEvent=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];nr(n.props.onKeyPressEvent,c)},n.handleSelectSlot=function(a){nr(n.props.onSelectSlot,a)},n.handleDrillDown=function(a,c){var d=n.props.onDrillDown;if(d){d(a,c,n.drilldownView);return}c&&n.handleViewChange(c),n.handleNavigate(Oi.DATE,a)},n.state={context:t.getContext(n.props)},n}return co(t,[{key:"render",value:function(){var r=this.props,o=r.view,i=r.toolbar,a=r.events,c=r.backgroundEvents,d=r.style,f=r.className,m=r.elementProps,g=r.date,v=r.getNow,w=r.length,T=r.showMultiDayTimes,S=r.onShowMore,I=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var k=bl(r,nX);g=g||v();var P=this.getView(),R=this.state.context,M=R.accessors,_=R.components,L=R.getters,z=R.localizer,Y=R.viewNames,V=_.toolbar||XQ,$=P.title(g,{localizer:z,length:w});return le.createElement("div",Object.assign({},m,{className:Zr(f,"rbc-calendar",k.rtl&&"rbc-rtl"),style:d}),i&&le.createElement(V,{date:g,view:o,views:Y,label:$,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:z}),le.createElement(P,Object.assign({},k,{events:a,backgroundEvents:c,date:g,getNow:v,length:w,localizer:z,getters:L,components:_,accessors:M,showMultiDayTimes:T,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:S,doShowMoreDrillDown:I})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var o=r.startAccessor,i=r.endAccessor,a=r.allDayAccessor,c=r.tooltipAccessor,d=r.titleAccessor,f=r.resourceAccessor,m=r.resourceIdAccessor,g=r.resourceTitleAccessor,v=r.eventPropGetter,w=r.backgroundEventPropGetter,T=r.slotPropGetter,S=r.slotGroupPropGetter,I=r.dayPropGetter,k=r.view,P=r.views,R=r.localizer,M=r.culture,_=r.messages,L=_===void 0?{}:_,z=r.components,Y=z===void 0?{}:z,V=r.formats,$=V===void 0?{}:V,re=D3(P),Q=sQ(L);return{viewNames:re,localizer:iQ(R,M,$,Q),getters:{eventProp:function(){return v&&v.apply(void 0,arguments)||{}},backgroundEventProp:function(){return w&&w.apply(void 0,arguments)||{}},slotProp:function(){return T&&T.apply(void 0,arguments)||{}},slotGroupProp:function(){return S&&S.apply(void 0,arguments)||{}},dayProp:function(){return I&&I.apply(void 0,arguments)||{}}},components:mK(Y[k]||{},sK(Y,re),{eventWrapper:Xl,backgroundEventWrapper:Xl,eventContainerWrapper:Xl,dateCellWrapper:Xl,weekWrapper:Xl,timeSlotWrapper:Xl,timeGutterWrapper:Xl}),accessors:{start:tu(o),end:tu(i),allDay:tu(a),tooltip:tu(c),title:tu(d),resource:tu(f),resourceId:tu(m),resourceTitle:tu(g)}}}}]),t}(le.Component);T3.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:ii.MONTH,views:[ii.MONTH,ii.WEEK,ii.DAY,ii.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:ii.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var oX=nM(T3,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),iX=function(t,n,r){var o=t.start,i=t.end;return r.format(o,"MMMM DD",n)+" – "+r.format(i,r.eq(o,i,"month")?"DD":"MMMM DD",n)},aX=function(t,n,r){var o=t.start,i=t.end;return r.format(o,"L",n)+" – "+r.format(i,"L",n)},gb=function(t,n,r){var o=t.start,i=t.end;return r.format(o,"LT",n)+" – "+r.format(i,"LT",n)},sX=function(t,n,r){var o=t.start;return r.format(o,"LT",n)+" – "},lX=function(t,n,r){var o=t.end;return" – "+r.format(o,"LT",n)},cX={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:gb,eventTimeRangeFormat:gb,eventTimeRangeStartFormat:sX,eventTimeRangeEndFormat:lX,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:iX,agendaHeaderFormat:aX,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:gb};function nu(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function uX(e){var t=function(pe,Ee){return Ee?pe.locale(Ee):pe};function n(oe){return e(oe).toDate().getTimezoneOffset()}function r(oe,pe){var Ee,je,Ae=e(oe).local(),Be=e(pe).local();if(!e.tz)return Ae.toDate().getTimezoneOffset()-Be.toDate().getTimezoneOffset();var Je=(Ee=Ae==null||(je=Ae._z)===null||je===void 0?void 0:je.name)!==null&&Ee!==void 0?Ee:e.tz.guess(),ze=e.tz.zone(Je).utcOffset(+Ae),Qe=e.tz.zone(Je).utcOffset(+Be);return ze-Qe}function o(oe){var pe=e(oe).startOf("day");return r(pe,oe)}function i(oe,pe,Ee){var je=nu(Ee),Ae=je?e(oe).startOf(je):e(oe),Be=je?e(pe).startOf(je):e(pe);return[Ae,Be,je]}function a(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,pe=arguments.length>1?arguments[1]:void 0,Ee=nu(pe);return Ee?e(oe).startOf(Ee).toDate():e(oe).toDate()}function c(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,pe=arguments.length>1?arguments[1]:void 0,Ee=nu(pe);return Ee?e(oe).endOf(Ee).toDate():e(oe).toDate()}function d(oe,pe,Ee){var je=i(oe,pe,Ee),Ae=ec(je,3),Be=Ae[0],Je=Ae[1],ze=Ae[2];return Be.isSame(Je,ze)}function f(oe,pe,Ee){return!d(oe,pe,Ee)}function m(oe,pe,Ee){var je=i(oe,pe,Ee),Ae=ec(je,3),Be=Ae[0],Je=Ae[1],ze=Ae[2];return Be.isAfter(Je,ze)}function g(oe,pe,Ee){var je=i(oe,pe,Ee),Ae=ec(je,3),Be=Ae[0],Je=Ae[1],ze=Ae[2];return Be.isBefore(Je,ze)}function v(oe,pe,Ee){var je=i(oe,pe,Ee),Ae=ec(je,3),Be=Ae[0],Je=Ae[1],ze=Ae[2];return Be.isSameOrBefore(Je,ze)}function w(oe,pe,Ee){var je=i(oe,pe,Ee),Ae=ec(je,3),Be=Ae[0],Je=Ae[1],ze=Ae[2];return Be.isSameOrBefore(Je,ze)}function T(oe,pe,Ee){var je=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",Ae=nu(je),Be=e(oe),Je=e(pe),ze=e(Ee);return Be.isBetween(Je,ze,Ae,"[]")}function S(oe,pe){var Ee=e(oe),je=e(pe),Ae=e.min(Ee,je);return Ae.toDate()}function I(oe,pe){var Ee=e(oe),je=e(pe),Ae=e.max(Ee,je);return Ae.toDate()}function k(oe,pe){if(!oe&&!pe)return null;var Ee=e(pe).format("HH:mm:ss"),je=e(oe).startOf("day").format("MM/DD/YYYY");return e("".concat(je," ").concat(Ee),"MM/DD/YYYY HH:mm:ss").toDate()}function P(oe,pe,Ee){var je=nu(Ee);return e(oe).add(pe,je).toDate()}function R(oe,pe){for(var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",je=nu(Ee),Ae=e(oe).toDate(),Be=[];w(Ae,pe);)Be.push(Ae),Ae=P(Ae,1,je);return Be}function M(oe,pe){var Ee=nu(pe),je=a(oe,Ee);return d(je,oe)?je:P(je,1,Ee)}function _(oe,pe){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",je=nu(Ee),Ae=e(oe),Be=e(pe);return Be.diff(Ae,je)}function L(oe){var pe=e(oe);return pe.minutes()}function z(oe){var pe=oe?e.localeData(oe):e.localeData();return pe?pe.firstDayOfWeek():0}function Y(oe){return e(oe).startOf("month").startOf("week").toDate()}function V(oe){return e(oe).endOf("month").endOf("week").toDate()}function $(oe){for(var pe=Y(oe),Ee=V(oe),je=[];w(pe,Ee);)je.push(pe),pe=P(pe,1,"d");return je}function re(oe,pe,Ee){return e(oe).startOf("day").minute(pe+Ee).toDate()}function Q(oe,pe){return _(oe,pe,"minutes")}function ae(oe){var pe=e(oe).startOf("day"),Ee=e(oe);return Ee.diff(pe,"minutes")+o(oe)}function X(oe,pe){var Ee=e(oe),je=e(pe);return Ee.isBefore(je,"day")}function ie(oe,pe,Ee){var je=e(pe),Ae=e(Ee);return je.isSameOrAfter(Ae,"minutes")}function Z(oe,pe){var Ee=e(oe),je=e(pe),Ae=e.duration(je.diff(Ee));return Ae.days()}function ue(oe){var pe=oe.evtA,Ee=pe.start,je=pe.end,Ae=pe.allDay,Be=oe.evtB,Je=Be.start,ze=Be.end,Qe=Be.allDay,It=+a(Ee,"day")-+a(Je,"day"),Zt=Z(Ee,je),_e=Z(Je,ze);return It||_e-Zt||!!Qe-!!Ae||+Ee-+Je||+je-+ze}function ne(oe){var pe=oe.event,Ee=pe.start,je=pe.end,Ae=oe.range,Be=Ae.start,Je=Ae.end,ze=e(Ee).startOf("day"),Qe=e(je),It=e(Be),Zt=e(Je),_e=ze.isSameOrBefore(Zt,"day"),tt=!ze.isSame(Qe,"minutes"),st=tt?Qe.isAfter(It,"minutes"):Qe.isSameOrAfter(It,"minutes");return _e&&st}function he(oe,pe){var Ee=e(oe),je=e(pe);return Ee.isSame(je,"day")}function K(){var oe=new Date,pe=/-/.test(oe.toString())?"-":"",Ee=oe.getTimezoneOffset(),je=Number("".concat(pe).concat(Math.abs(Ee))),Ae=e().utcOffset();return Ae>je?1:0}return new oQ({formats:cX,firstOfWeek:z,firstVisibleDay:Y,lastVisibleDay:V,visibleDays:$,format:function(pe,Ee,je){return t(e(pe),je).format(Ee)},lt:g,lte:w,gt:m,gte:v,eq:d,neq:f,merge:k,inRange:T,startOf:a,endOf:c,range:R,add:P,diff:_,ceil:M,min:S,max:I,minutes:L,getSlotDate:re,getTimezoneOffset:n,getDstOffset:r,getTotalMin:Q,getMinutesFromMidnight:ae,continuesPrior:X,continuesAfter:ie,sortEvents:ue,inEventRange:ne,isSameDate:he,daySpan:Z,browserTZOffset:K})}function wI(e,t,n,r,o){const i={start:r.start(e),end:r.end(e)},a={start:t,end:n};return o.inEventRange({event:i,range:a})}function dX(e,t){return!e||t==null?!1:RE.isEqual(e,t)}const dh={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};function sc({accessors:e,components:t,date:n,events:r,getters:o,length:i,localizer:a,onDoubleClickEvent:c,onSelectEvent:d,selected:f}){F.useRef(null);const m=F.useRef(null),g=F.useRef(null),v=F.useRef(null),w=F.useRef(null),[T,S]=F.useState(!1),[I,k]=F.useState(!1),P=($,re,Q)=>{const{event:ae,date:X}=t;return re=re.filter(ie=>wI(ie,a.startOf($,"day"),a.endOf($,"day"),e,a)),re.map((ie,Z)=>{const ue=e.title(ie),ne=e.end(ie),he=e.start(ie),K=o.eventProp(ie,he,ne,dX(ie,f)),oe=Z===0&&a.format($,"agendaDateFormat"),pe=Z===0?y.jsx("td",{rowSpan:re.length,className:"rbc-agenda-date-cell",children:X?y.jsx(X,{day:$,label:oe}):oe}):!1;return y.jsxs("tr",{className:K.className,style:K.style,children:[pe,y.jsx("td",{className:"rbc-agenda-time-cell",children:R($,ie)}),y.jsx("td",{className:"rbc-agenda-event-cell",onClick:Ee=>d&&d(ie,Ee),onDoubleClick:Ee=>c&&c(ie,Ee),children:ae?y.jsx(ae,{event:ie,title:ue}):ue})]},Q+"_"+Z)},[])},R=($,re)=>{const Q=t.time;let ae="",X=a.messages.allDay;const ie=e.end(re),Z=e.start(re);return e.allDay(re)||(a.eq(Z,ie)?X=a.format(Z,"agendaTimeFormat"):a.isSameDate(Z,ie)?X=a.format({start:Z,end:ie},"agendaTimeRangeFormat"):a.isSameDate($,Z)?X=a.format(Z,"agendaTimeFormat"):a.isSameDate($,ie)&&(X=a.format(ie,"agendaTimeFormat"))),a.gt($,Z,"day")&&(ae="rbc-continues-prior"),a.lt($,ie,"day")&&(ae+=" rbc-continues-after"),y.jsx("span",{className:ae.trim(),children:Q?y.jsx(Q,{event:re,day:$,label:X}):X})},{messages:M}=a,_=a.add(n,-i/2,"day"),L=a.add(n,i/2,"day"),z=a.range(_,L,"day");T&&z.reverse(),r=r.filter($=>wI($,a.startOf(_,"day"),a.endOf(L,"day"),e,a)),r.sort(($,re)=>+e.start($)-+e.start(re)),I&&r.reverse();const Y=F.useCallback(()=>setTimeout(()=>{w.current&&y0(w.current,{backgroundColor:"#ffffff",pixelRatio:window.devicePixelRatio*2}).then($=>{new C.Notice(E("Image is generating..."));const re=ft.getState().settings.AutoSaveWhenOnMobile,Q=ft.getState().app.vault;if(re&&C.Platform.isMobile){const ae=$.split("base64,")[1];o0(ae,"image/png").arrayBuffer().then(async ie=>{let Z;const ue="png",ne=uc();for(const he in ne)if(ne[he]instanceof C.TFile){Z=ne[he];break}Z!==void 0&&await Q.createBinary(await Q.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,ue,Z),ie)})}v0({imgUrl:$})}).catch($=>{console.error($)})},0),[w.current,z]),V=F.useCallback($=>{const re=new C.Menu;re.addItem(Q=>{Q.setIcon("share-2").setTitle(E("Share")).onClick(()=>{Y()})}),re.showAtMouseEvent($.nativeEvent)},[w.current,z,Y]);return y.jsx("div",{className:"rbc-agenda-view",children:r.length!==0?y.jsx(le.Fragment,{children:y.jsxs("table",{ref:w,className:"rbc-agenda-table",children:[y.jsx("thead",{onContextMenu:V,children:y.jsxs("tr",{children:[y.jsx("th",{className:"rbc-header",ref:m,onClick:()=>{S(!T)},children:M.date+(T?" 🔼":" 🔽")}),y.jsx("th",{className:"rbc-header",ref:g,onClick:()=>{k(!I)},children:M.time+(I?" 🔼":" 🔽")}),y.jsx("th",{className:"rbc-header",children:M.event})]})}),y.jsx("tbody",{ref:v,children:z.map(($,re)=>P($,r,re))})]})}):y.jsx("span",{className:"rbc-agenda-empty",children:M.noEventsInRange})})}sc.propTypes={accessors:ke.object.isRequired,components:ke.object.isRequired,date:ke.instanceOf(Date),events:ke.array,getters:ke.object.isRequired,length:ke.number.isRequired,localizer:ke.object.isRequired,onSelectEvent:ke.func,onDoubleClickEvent:ke.func,selected:ke.object};sc.defaultProps={length:30};sc.range=(e,{length:t=sc.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),o=n.add(e,t/2,"day");return{customStart:r,customEnd:o}};sc.navigate=(e,t,{length:n=sc.defaultProps.length,localizer:r})=>{switch(t){case dh.PREVIOUS:return r.add(e,-n,"day");case dh.NEXT:return r.add(e,n,"day");default:return e}};sc.title=(e,{length:t=sc.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),o=n.add(e,t/2,"day");return n.format({start:r,end:o},"agendaHeaderFormat")};function fX(e,t){e.hoverEl.toggleClass("thino-hover-popover",!0);const n=lg(e.hoverEl);return n.render(y.jsx(_a,{store:Re,context:Ot,children:y.jsx(ji,{memo:t})})),n}function hX({event:e}){const t=e.resource,n=t.content.split(`
`)[0].slice(0,20),r=le.useRef(null),o=le.useRef(null),i=le.useRef(null);F.useEffect(()=>{if(o.current)return C.setIcon(o.current,"calendar"),()=>{r.current&&(r.current=null)}},[r]);const a=F.useCallback(d=>{i.current&&(i.current.unmount(),i.current=null),i.current=d},[]),c=F.useCallback(d=>{if(!r.current||!C.Keymap.isModifier(d.nativeEvent,"Mod"))return;const f=new C.HoverPopover(ft.getState().view,r.current,100),m=fX(f,t);a(m)},[r.current]);return y.jsxs("span",{className:"rbc-event-renderer","data-source-type":t.sourceType,"data-thino-type":t.thinoType,"data-thino-id":t.id,ref:r,"aria-label":t.path,onMouseOver:c,children:[y.jsx(pX,{event:e}),y.jsx("strong",{children:n})]})}const pX=({event:e})=>{const t=le.useRef(null),n=e.resource;F.useEffect(()=>{t.current&&C.setIcon(t.current,n.thinoType==="JOURNAL"?"calendar":n.thinoType==="TASK-TODO"?"square":"check-square")},[n==null?void 0:n.thinoType,t]);const r=F.useCallback(async o=>{o.stopPropagation(),o.preventDefault(),await(async()=>{const a=await Te.updateMemo(n.id,n.content,n.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");a&&Te.editMemo(a)})()},[n==null?void 0:n.thinoType,n==null?void 0:n.id,n==null?void 0:n.content]);return y.jsx(y.Fragment,{children:y.jsxs("span",{className:"rbc-event-icon-group",children:[y.jsx("span",{className:"rbc-event-icon",ref:t,onClick:r}),y.jsx("span",{className:Kn("rbc-event-time","hidden"),children:y.jsx("span",{className:"rbc-event-time-text",children:C.moment(e.start).format("HH:mm")})})]})})};function I3({views:e,view:t,messages:n,onView:r}){return e.map(o=>y.jsx("button",{type:"button",className:Kn({"rbc-active":t===o}),onClick:()=>r(o),children:n[o]},o))}I3.propTypes={messages:ke.object,onView:ke.func,view:ke.string,views:ke.array};function E3({date:e,label:t,localizer:{messages:n},onNavigate:r,onView:o,view:i,views:a}){const c={previous:F.useRef(null),today:F.useRef(null),next:F.useRef(null)};F.useEffect(()=>{c&&(C.setIcon(c.previous.current,"chevron-left"),C.setIcon(c.today.current,"dot"),C.setIcon(c.next.current,"chevron-right"))},[c]);const d=F.useMemo(()=>y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:c.previous,type:"button",onClick:()=>r(dh.PREVIOUS),"aria-label":n.previous,children:"<"}),y.jsx("button",{ref:c.today,type:"button",onClick:()=>r(dh.TODAY),"aria-label":n.today,children:"•"}),y.jsx("button",{ref:c.next,type:"button",onClick:()=>r(dh.NEXT),"aria-label":n.next,children:">"})]}),[n]);return y.jsxs("div",{className:"rbc-toolbar",children:[y.jsx("span",{className:Kn("rbc-btn-group","thino-view-custom-toolbar"),children:d}),y.jsx("span",{className:"rbc-toolbar-label",children:y.jsx(kv,{type:"text",handleValueChange:f=>{r(dh.DATE,C.moment(f,"YYYY-MM-DD").format("YYYY-MM-DDTHH:mm:ssZ"))},defaultText:t+(i==="week"?C.moment(e.valueOf(),"x").format(" [W]WW"):""),defaultValue:C.moment(e.valueOf(),"x").valueOf()})}),y.jsx("span",{className:"rbc-btn-group",children:y.jsx(I3,{view:i,views:a,messages:n,onView:o})})]})}E3.propTypes={date:ke.instanceOf(Date),label:ke.string,localizer:ke.object,messages:ke.object,onNavigate:ke.func,onView:ke.func,view:ke.string,views:ke.array};function mX({event:e,children:t,showPopup:n,callRender:r,...o}){const i=F.useRef(null),a=F.useRef(null),c=F.useCallback(d=>{if(!d.isTrusted){r();return}a.current=d.nativeEvent.target,a.current&&(a.current.hasClass("rbc-event")||(a.current=a.current.closest(".rbc-event")),i.current!==null?(window.clearTimeout(i.current),i.current=null):i.current=window.setTimeout(()=>{n(e,a.current),i.current=null},250))},[e,n]);return y.jsx(y.Fragment,{children:y.jsx("div",{className:"rbc-event-wrapper","aria-describedby":"thino",onClick:c,children:t})})}const gX=uX(C.moment),yX=({event:e})=>{const t=e.resource;return y.jsx(y.Fragment,{children:y.jsx(ji,{memo:t})})},vX=e=>{var Q;const{thinos:t}=e,[n,r]=le.useState([]),[o,i]=le.useState((app==null?void 0:app.loadLocalStorage("thino-calendar-view"))||"month"),[a,c]=le.useState(null),d=le.useRef(null),f=le.useRef(null),[m,g]=le.useState(!1),v=F.useRef(null),[w,T]=F.useState(new Date);F.useEffect(()=>()=>{d.current&&(d.current=null),f.current&&(f.current=null),v.current&&(v.current=null)},[]),F.useEffect(()=>{const ae=t.map(X=>{const ie=C.moment(X.createdAt,"YYYY/MM/DD HH:mm:ss"),Z=ie.clone().add(1,"minute");return{title:X.content,start:new Date(ie.format("YYYY-MM-DDTHH:mm:ss")),end:new Date(Z.format("YYYY-MM-DDTHH:mm:ss")),resource:X}});r(ae)},[t]),F.useEffect(()=>{app==null||app.saveLocalStorage("thino-calendar-view",o)},[o]),F.useEffect(()=>{m&&c(t.find(ae=>ae.id===a.id))},[t]),F.useEffect(()=>{a&&v.current.update()},[a]),v.current=g0(d.current,f.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]});const S=F.useCallback(()=>{v.current.update(),v.current.update()},[]),I=F.useCallback((ae,X)=>{c(null),M(),v.current.state.elements.reference=X,c(ae.resource),_()},[]),k=F.useCallback(()=>{M(),c(null)},[]),P=F.useCallback((ae,X,ie)=>{var Z;if(R(ae),X==="week"||X==="day"){const ue=d.current.find(".rbc-event-wrapper");if(d.current.closest(".memolist-wrapper"),ue){(Z=ue.children[0])==null||Z.click();return}else{setTimeout(()=>{var he,K;const ne=d.current.find(".rbc-event-wrapper");(K=(he=ne==null?void 0:ne.children)==null?void 0:he[0])==null||K.click()},0);return}}},[]),R=F.useCallback(ae=>{T(ae)},[T]);dg(f,k);const M=F.useCallback(()=>{g(!1)},[g]),_=F.useCallback(()=>{v.current.update(),g(!0)},[g]),L=F.useCallback(ae=>{const X=ae.resource;dt.setEditMemoId(X.id)},[]),z=F.useCallback(ae=>{i(ae)},[i]),{components:Y,views:V,messages:$}=F.useMemo(()=>({components:{toolbar:E3,eventWrapper:ae=>y.jsx(mX,{...ae,callRender:S,showPopup:I}),agenda:{event:yX},event:hX},views:{month:!0,agenda:sc,week:!0,day:!0},messages:{month:E("Month"),day:E("Day"),next:E("Next"),previous:E("Previous"),today:E("Today"),agenda:E("Agenda"),week:E("Week"),yesterday:E("Yesterday"),tomorrow:E("Tomorrow"),noEventsInRange:E("No thinos in range"),date:E("date"),time:E("time"),event:E("event")}}),[]),re=F.useMemo(()=>({timeGutterFormat:(ae,X,ie)=>ie.format(ae,"HH:mm",X),agendaTimeRangeFormat:({start:ae,end:X},ie,Z)=>Z.format(ae,"HH:mm",ie)+" — "+Z.format(X,"HH:mm",ie),agendaHeaderFormat:({start:ae,end:X},ie,Z)=>Z.format(ae,"YYYY-MM-DD")+" — "+Z.format(X,"YYYY-MM-DD")}),[]);return y.jsxs("div",{ref:d,className:"calendar-view",children:[y.jsx(oX,{date:w,messages:$,components:Y,localizer:gX,events:n,views:V,onView:z,onDoubleClickEvent:L,onNavigate:P,formats:re,defaultView:o,tooltipAccessor:null,startAccessor:"start",endAccessor:"end"}),y.jsx("div",{ref:f,style:(Q=v.current)==null?void 0:Q.styles.popper,className:Kn("thino-popup-container",m?"":"hidden"),children:a&&y.jsx(ji,{memo:a})})]})};function lu(e,t){return typeof e=="function"?e(t):e}function ca(e,t){return n=>{t.setState(r=>({...r,[e]:lu(n,r[e])}))}}function qv(e){return e instanceof Function}function wX(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function bX(e,t){const n=[],r=o=>{o.forEach(i=>{n.push(i);const a=t(i);a!=null&&a.length&&r(a)})};return r(e),n}function Lt(e,t,n){let r=[],o;return i=>{let a;n.key&&n.debug&&(a=Date.now());const c=e(i);if(!(c.length!==r.length||c.some((m,g)=>r[g]!==m)))return o;r=c;let f;if(n.key&&n.debug&&(f=Date.now()),o=t(...c),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const m=Math.round((Date.now()-a)*100)/100,v=Math.round((Date.now()-f)*100)/100/16,w=(T,S)=>{for(T=String(T);T.length<S;)T=" "+T;return T}}return o}}function Rt(e,t,n,r){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[t]},key:!1,onChange:r}}function SX(e,t,n,r){var o,i;const c={...e._getDefaultColumnDef(),...t},d=c.accessorKey;let f=(o=(i=c.id)!=null?i:d?d.replace(".","_"):void 0)!=null?o:typeof c.header=="string"?c.header:void 0,m;if(c.accessorFn?m=c.accessorFn:d&&(d.includes(".")?m=v=>{let w=v;for(const S of d.split(".")){var T;w=(T=w)==null?void 0:T[S]}return w}:m=v=>v[c.accessorKey]),!f)throw new Error;let g={id:`${String(f)}`,accessorFn:m,parent:r,depth:n,columnDef:c,columns:[],getFlatColumns:Lt(()=>[!0],()=>{var v;return[g,...(v=g.columns)==null?void 0:v.flatMap(w=>w.getFlatColumns())]},Rt(e.options,"debugColumns")),getLeafColumns:Lt(()=>[e._getOrderColumnsFn()],v=>{var w;if((w=g.columns)!=null&&w.length){let T=g.columns.flatMap(S=>S.getLeafColumns());return v(T)}return[g]},Rt(e.options,"debugColumns"))};for(const v of e._features)v.createColumn==null||v.createColumn(g,e);return g}const Ro="debugHeaders";function bI(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],c=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(c),a.push(d)};return c(i),a},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(a=>{a.createHeader==null||a.createHeader(i,e)}),i}const DX={createTable:e=>{e.getHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var i,a;const c=(i=r==null?void 0:r.map(g=>n.find(v=>v.id===g)).filter(Boolean))!=null?i:[],d=(a=o==null?void 0:o.map(g=>n.find(v=>v.id===g)).filter(Boolean))!=null?a:[],f=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(o!=null&&o.includes(g.id)));return Vy(t,[...c,...f,...d],e)},Rt(e.options,Ro)),e.getCenterHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(o!=null&&o.includes(i.id))),Vy(t,n,e,"center")),Rt(e.options,Ro)),e.getLeftHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(a=>n.find(c=>c.id===a)).filter(Boolean))!=null?o:[];return Vy(t,i,e,"left")},Rt(e.options,Ro)),e.getRightHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(a=>n.find(c=>c.id===a)).filter(Boolean))!=null?o:[];return Vy(t,i,e,"right")},Rt(e.options,Ro)),e.getFooterGroups=Lt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ro)),e.getLeftFooterGroups=Lt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ro)),e.getCenterFooterGroups=Lt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ro)),e.getRightFooterGroups=Lt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ro)),e.getFlatHeaders=Lt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ro)),e.getLeftFlatHeaders=Lt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ro)),e.getCenterFlatHeaders=Lt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ro)),e.getRightFlatHeaders=Lt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ro)),e.getCenterLeafHeaders=Lt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Ro)),e.getLeftLeafHeaders=Lt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Ro)),e.getRightLeafHeaders=Lt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Ro)),e.getLeafHeaders=Lt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,i,a,c,d,f;return[...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(a=(c=n[0])==null?void 0:c.headers)!=null?a:[],...(d=(f=r[0])==null?void 0:f.headers)!=null?d:[]].map(m=>m.getLeafHeaders()).flat()},Rt(e.options,Ro))}};function Vy(e,t,n,r){var o,i;let a=0;const c=function(v,w){w===void 0&&(w=1),a=Math.max(a,w),v.filter(T=>T.getIsVisible()).forEach(T=>{var S;(S=T.columns)!=null&&S.length&&c(T.columns,w+1)},0)};c(e);let d=[];const f=(v,w)=>{const T={depth:w,id:[r,`${w}`].filter(Boolean).join("_"),headers:[]},S=[];v.forEach(I=>{const k=[...S].reverse()[0],P=I.column.depth===T.depth;let R,M=!1;if(P&&I.column.parent?R=I.column.parent:(R=I.column,M=!0),k&&(k==null?void 0:k.column)===R)k.subHeaders.push(I);else{const _=bI(n,R,{id:[r,w,R.id,I==null?void 0:I.id].filter(Boolean).join("_"),isPlaceholder:M,placeholderId:M?`${S.filter(L=>L.column===R).length}`:void 0,depth:w,index:S.length});_.subHeaders.push(I),S.push(_)}T.headers.push(I),I.headerGroup=T}),d.push(T),w>0&&f(S,w-1)},m=t.map((v,w)=>bI(n,v,{depth:a,index:w}));f(m,a-1),d.reverse();const g=v=>v.filter(T=>T.column.getIsVisible()).map(T=>{let S=0,I=0,k=[0];T.subHeaders&&T.subHeaders.length?(k=[],g(T.subHeaders).forEach(R=>{let{colSpan:M,rowSpan:_}=R;S+=M,k.push(_)})):S=1;const P=Math.min(...k);return I+=P,T.colSpan=S,T.rowSpan=I,{colSpan:S,rowSpan:I}});return g((o=(i=d[0])==null?void 0:i.headers)!=null?o:[]),d}const Wy={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},yb=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),TX={getDefaultColumnDef:()=>Wy,getInitialState:e=>({columnSizing:{},columnSizingInfo:yb(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ca("columnSizing",e),onColumnSizingInfoChange:ca("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Wy.minSize,(r=i??e.columnDef.size)!=null?r:Wy.size),(o=e.columnDef.maxSize)!=null?o:Wy.maxSize)},e.getStart=Lt(n=>[n,Im(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,i)=>o+i.getSize(),0),Rt(t.options,"debugColumns")),e.getAfter=Lt(n=>[n,Im(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,i)=>o+i.getSize(),0),Rt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var i;n+=(i=o.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r==null?void 0:r.getCanResize();return i=>{if(!r||!o||(i.persist==null||i.persist(),vb(i)&&i.touches&&i.touches.length>1))return;const a=e.getSize(),c=e?e.getLeafHeaders().map(k=>[k.column.id,k.column.getSize()]):[[r.id,r.getSize()]],d=vb(i)?Math.round(i.touches[0].clientX):i.clientX,f={},m=(k,P)=>{typeof P=="number"&&(t.setColumnSizingInfo(R=>{var M,_;const L=t.options.columnResizeDirection==="rtl"?-1:1,z=(P-((M=R==null?void 0:R.startOffset)!=null?M:0))*L,Y=Math.max(z/((_=R==null?void 0:R.startSize)!=null?_:0),-.999999);return R.columnSizingStart.forEach(V=>{let[$,re]=V;f[$]=Math.round(Math.max(re+re*Y,0)*100)/100}),{...R,deltaOffset:z,deltaPercentage:Y}}),(t.options.columnResizeMode==="onChange"||k==="end")&&t.setColumnSizing(R=>({...R,...f})))},g=k=>m("move",k),v=k=>{m("end",k),t.setColumnSizingInfo(P=>({...P,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},w=n||typeof document<"u"?document:null,T={moveHandler:k=>g(k.clientX),upHandler:k=>{w==null||w.removeEventListener("mousemove",T.moveHandler),w==null||w.removeEventListener("mouseup",T.upHandler),v(k.clientX)}},S={moveHandler:k=>(k.cancelable&&(k.preventDefault(),k.stopPropagation()),g(k.touches[0].clientX),!1),upHandler:k=>{var P;w==null||w.removeEventListener("touchmove",S.moveHandler),w==null||w.removeEventListener("touchend",S.upHandler),k.cancelable&&(k.preventDefault(),k.stopPropagation()),v((P=k.touches[0])==null?void 0:P.clientX)}},I=IX()?{passive:!1}:!1;vb(i)?(w==null||w.addEventListener("touchmove",S.moveHandler,I),w==null||w.addEventListener("touchend",S.upHandler,I)):(w==null||w.addEventListener("mousemove",T.moveHandler,I),w==null||w.addEventListener("mouseup",T.upHandler,I)),t.setColumnSizingInfo(k=>({...k,startOffset:d,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?yb():(n=e.initialState.columnSizingInfo)!=null?n:yb())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let Zy=null;function IX(){if(typeof Zy=="boolean")return Zy;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Zy=e,Zy}function vb(e){return e.type==="touchstart"}const EX={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ca("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,i;e.setExpanded(r?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const a=i.split(".");r=Math.max(r,a.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const i=r===!0?!0:!!(r!=null&&r[e.id]);let a={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(c=>{a[c]=!0}):a=r,n=(o=n)!=null?o:!i,!i&&n)return{...a,[e.id]:!0};if(i&&!n){const{[e.id]:c,...d}=a;return d}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},x3=(e,t,n)=>{var r;const o=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(o))};x3.autoRemove=e=>gs(e);const C3=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};C3.autoRemove=e=>gs(e);const M3=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};M3.autoRemove=e=>gs(e);const k3=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};k3.autoRemove=e=>gs(e)||!(e!=null&&e.length);const N3=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});N3.autoRemove=e=>gs(e)||!(e!=null&&e.length);const A3=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});A3.autoRemove=e=>gs(e)||!(e!=null&&e.length);const F3=(e,t,n)=>e.getValue(t)===n;F3.autoRemove=e=>gs(e);const P3=(e,t,n)=>e.getValue(t)==n;P3.autoRemove=e=>gs(e);const HS=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};HS.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,a=n===null||Number.isNaN(o)?1/0:o;if(i>a){const c=i;i=a,a=c}return[i,a]};HS.autoRemove=e=>gs(e)||gs(e[0])&&gs(e[1]);const Kl={includesString:x3,includesStringSensitive:C3,equalsString:M3,arrIncludes:k3,arrIncludesAll:N3,arrIncludesSome:A3,equals:F3,weakEquals:P3,inNumberRange:HS};function gs(e){return e==null||e===""}const xX={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:ca("columnFilters",e),onGlobalFilterChange:ca("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Kl.includesString:typeof r=="number"?Kl.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Kl.equals:Array.isArray(r)?Kl.arrIncludes:Kl.weakEquals},e.getFilterFn=()=>{var n,r;return qv(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Kl[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,r,o,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),i=r==null?void 0:r.find(m=>m.id===e.id),a=lu(n,i?i.value:void 0);if(SI(o,a,e)){var c;return(c=r==null?void 0:r.filter(m=>m.id!==e.id))!=null?c:[]}const d={id:e.id,value:a};if(i){var f;return(f=r==null?void 0:r.map(m=>m.id===e.id?d:m))!=null?f:[]}return r!=null&&r.length?[...r,d]:[d]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Kl.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return qv(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Kl[r]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var i;return(i=lu(t,o))==null?void 0:i.filter(a=>{const c=n.find(d=>d.id===a.id);if(c){const d=c.getFilterFn();if(SI(d,a.value,c))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function SI(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const CX=(e,t,n)=>n.reduce((r,o)=>{const i=o.getValue(e);return r+(typeof i=="number"?i:0)},0),MX=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},kX=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},NX=(e,t,n)=>{let r,o;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r===void 0?a>=a&&(r=o=a):(r>a&&(r=a),o<a&&(o=a)))}),[r,o]},AX=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},FX=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!wX(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((i,a)=>i-a);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},PX=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),OX=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,jX=(e,t)=>t.length,wb={sum:CX,min:MX,max:kX,extent:NX,mean:AX,median:FX,unique:PX,uniqueCount:OX,count:jX},LX={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ca("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r,o,i;return(n=(r=(o=(i=e.columnDef.enableGrouping)!=null?i:!0)!=null?o:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return wb.sum;if(Object.prototype.toString.call(r)==="[object Date]")return wb.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return qv(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:wb[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function RX(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(a=>a.id===i)).filter(Boolean),...r]}const _X={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ca("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Lt(n=>[Im(t,n)],n=>n.findIndex(r=>r.id===e.id),Rt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Im(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=Im(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Lt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let i=[];if(!(t!=null&&t.length))i=o;else{const a=[...t],c=[...o];for(;c.length&&a.length;){const d=a.shift(),f=c.findIndex(m=>m.id===d);f>-1&&i.push(c.splice(f,1)[0])}i=[...i,...c]}return RX(i,n,r)},Rt(e.options,"debugTable"))}},y1=0,v1=10,bb=()=>({pageIndex:y1,pageSize:v1}),BX={getInitialState:e=>({...e,pagination:{...bb(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ca("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=i=>lu(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?bb():(o=e.initialState.pagination)!=null?o:bb())},e.setPageIndex=r=>{e.setPagination(o=>{let i=lu(r,o.pageIndex);const a=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,a)),{...o,pageIndex:i}})},e.resetPageIndex=r=>{var o,i;e.setPageIndex(r?y1:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?o:y1)},e.resetPageSize=r=>{var o,i;e.setPageSize(r?v1:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?o:v1)},e.setPageSize=r=>{e.setPagination(o=>{const i=Math.max(1,lu(r,o.pageSize)),a=o.pageSize*o.pageIndex,c=Math.floor(a/i);return{...o,pageIndex:c,pageSize:i}})},e.setPageCount=r=>e.setPagination(o=>{var i;let a=lu(r,(i=e.options.pageCount)!=null?i:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...o,pageCount:a}}),e.getPageOptions=Lt(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((i,a)=>a)),o},Rt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Sb=()=>({left:[],right:[]}),Db=()=>({top:[],bottom:[]}),HX={getInitialState:e=>({columnPinning:Sb(),rowPinning:Db(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ca("columnPinning",e),onRowPinningChange:ca("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var i,a;if(n==="right"){var c,d;return{left:((c=o==null?void 0:o.left)!=null?c:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((d=o==null?void 0:o.right)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var f,m;return{left:[...((f=o==null?void 0:o.left)!=null?f:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((m=o==null?void 0:o.right)!=null?m:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((i=o==null?void 0:o.left)!=null?i:[]).filter(g=>!(r!=null&&r.includes(g))),right:((a=o==null?void 0:o.right)!=null?a:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,i,a;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((i=(a=t.options.enableColumnPinning)!=null?a:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(c=>c.id),{left:r,right:o}=t.getState().columnPinning,i=n.some(c=>r==null?void 0:r.includes(c)),a=n.some(c=>o==null?void 0:o.includes(c));return i?"left":a?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,r,o)=>{const i=r?e.getLeafRows().map(d=>{let{id:f}=d;return f}):[],a=o?e.getParentRows().map(d=>{let{id:f}=d;return f}):[],c=new Set([...a,e.id,...i]);t.setRowPinning(d=>{var f,m;if(n==="bottom"){var g,v;return{top:((g=d==null?void 0:d.top)!=null?g:[]).filter(S=>!(c!=null&&c.has(S))),bottom:[...((v=d==null?void 0:d.bottom)!=null?v:[]).filter(S=>!(c!=null&&c.has(S))),...Array.from(c)]}}if(n==="top"){var w,T;return{top:[...((w=d==null?void 0:d.top)!=null?w:[]).filter(S=>!(c!=null&&c.has(S))),...Array.from(c)],bottom:((T=d==null?void 0:d.bottom)!=null?T:[]).filter(S=>!(c!=null&&c.has(S)))}}return{top:((f=d==null?void 0:d.top)!=null?f:[]).filter(S=>!(c!=null&&c.has(S))),bottom:((m=d==null?void 0:d.bottom)!=null?m:[]).filter(S=>!(c!=null&&c.has(S)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,i=n.some(c=>r==null?void 0:r.includes(c)),a=n.some(c=>o==null?void 0:o.includes(c));return i?"top":a?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const i=(n=t._getPinnedRows(o))==null?void 0:n.map(a=>{let{id:c}=a;return c});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1},e.getCenterVisibleCells=Lt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const i=[...r??[],...o??[]];return n.filter(a=>!i.includes(a.column.id))},Rt(t.options,"debugRows")),e.getLeftVisibleCells=Lt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(a=>a.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),Rt(t.options,"debugRows")),e.getRightVisibleCells=Lt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(a=>a.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),Rt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Sb():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Sb())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,i;return!!((o=r.left)!=null&&o.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Lt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),Rt(e.options,"debugColumns")),e.getRightLeafColumns=Lt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),Rt(e.options,"debugColumns")),e.getCenterLeafColumns=Lt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(i=>!o.includes(i.id))},Rt(e.options,"debugColumns")),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Db():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Db())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,i;return!!((o=r.top)!=null&&o.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=Lt(t=>[e.getRowModel().rows,e.getState().rowPinning[t],t],(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(a=>{const c=e.getRow(a,!0);return c.getIsAllParentsExpanded()?c:null}):(n??[]).map(a=>t.find(c=>c.id===a))).filter(Boolean).map(a=>({...a,position:r}))},Rt(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=Lt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(i=>!o.has(i.id))},Rt(e.options,"debugRows"))}},YX={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ca("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):o.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(i=>{w1(o,i.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Lt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Tb(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getFilteredSelectedRowModel=Lt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Tb(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getGroupedSelectedRowModel=Lt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Tb(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(i=>{var a;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return i;const c={...i};return w1(c,e.id,n,(a=r==null?void 0:r.selectChildren)!=null?a:!0,t),c})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return YS(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return b1(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return b1(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},w1=(e,t,n,r,o)=>{var i;const a=o.getRow(t,!0);n?(a.getCanMultiSelect()||Object.keys(e).forEach(c=>delete e[c]),a.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=a.subRows)!=null&&i.length&&a.getCanSelectSubRows()&&a.subRows.forEach(c=>w1(e,c.id,n,r,o))};function Tb(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(a,c){return a.map(d=>{var f;const m=YS(d,n);if(m&&(r.push(d),o[d.id]=d),(f=d.subRows)!=null&&f.length&&(d={...d,subRows:i(d.subRows)}),m)return d}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function YS(e,t){var n;return(n=t[e.id])!=null?n:!1}function b1(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,i=!1;return e.subRows.forEach(a=>{if(!(i&&!o)&&(a.getCanSelect()&&(YS(a,t)?i=!0:o=!1),a.subRows&&a.subRows.length)){const c=b1(a,t);c==="all"?i=!0:(c==="some"&&(i=!0),o=!1)}}),o?"all":i?"some":!1}const S1=/([0-9]+)/gm,UX=(e,t,n)=>O3(pu(e.getValue(n)).toLowerCase(),pu(t.getValue(n)).toLowerCase()),zX=(e,t,n)=>O3(pu(e.getValue(n)),pu(t.getValue(n))),VX=(e,t,n)=>US(pu(e.getValue(n)).toLowerCase(),pu(t.getValue(n)).toLowerCase()),WX=(e,t,n)=>US(pu(e.getValue(n)),pu(t.getValue(n))),ZX=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},$X=(e,t,n)=>US(e.getValue(n),t.getValue(n));function US(e,t){return e===t?0:e>t?1:-1}function pu(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function O3(e,t){const n=e.split(S1).filter(Boolean),r=t.split(S1).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),i=r.shift(),a=parseInt(o,10),c=parseInt(i,10),d=[a,c].sort();if(isNaN(d[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(d[1]))return isNaN(a)?-1:1;if(a>c)return 1;if(c>a)return-1}return n.length-r.length}const ch={alphanumeric:UX,alphanumericCaseSensitive:zX,text:VX,textCaseSensitive:WX,datetime:ZX,basic:$X},qX={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ca("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const i=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return ch.datetime;if(typeof i=="string"&&(r=!0,i.split(S1).length>1))return ch.alphanumeric}return r?ch.text:ch.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return qv(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:ch[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(a=>{const c=a==null?void 0:a.find(w=>w.id===e.id),d=a==null?void 0:a.findIndex(w=>w.id===e.id);let f=[],m,g=i?n:o==="desc";if(a!=null&&a.length&&e.getCanMultiSort()&&r?c?m="toggle":m="add":a!=null&&a.length&&d!==a.length-1?m="replace":c?m="toggle":m="replace",m==="toggle"&&(i||o||(m="remove")),m==="add"){var v;f=[...a,{id:e.id,desc:g}],f.splice(0,f.length-((v=t.options.maxMultiSortColCount)!=null?v:Number.MAX_SAFE_INTEGER))}else m==="toggle"?f=a.map(w=>w.id===e.id?{...w,desc:g}:w):m==="remove"?f=a.filter(w=>w.id!==e.id):f=[{id:e.id,desc:g}];return f})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const i=e.getFirstSortDir(),a=e.getIsSorted();return a?a!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:a==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},GX={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ca("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Lt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Rt(t.options,"debugRows")),e.getVisibleCells=Lt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],Rt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Lt(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),Rt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Im(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const DI=[DX,GX,_X,HX,xX,qX,LX,EX,BX,YX,TX];function JX(e){var t;e.debugAll||e.debugTable;let n={_features:DI};const r=n._features.reduce((m,g)=>Object.assign(m,g.getDefaultOptions==null?void 0:g.getDefaultOptions(n)),{}),o=m=>n.options.mergeOptions?n.options.mergeOptions(r,m):{...r,...m};let a={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(m=>{var g;a=(g=m.getInitialState==null?void 0:m.getInitialState(a))!=null?g:a});const c=[];let d=!1;const f={_features:DI,options:{...r,...e},initialState:a,_queue:m=>{c.push(m),d||(d=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();d=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{n.setState(n.initialState)},setOptions:m=>{const g=lu(m,n.options);n.options=o(g)},getState:()=>n.options.state,setState:m=>{n.options.onStateChange==null||n.options.onStateChange(m)},_getRowId:(m,g,v)=>{var w;return(w=n.options.getRowId==null?void 0:n.options.getRowId(m,g,v))!=null?w:`${v?[v.id,g].join("."):g}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(m,g)=>{let v=(g?n.getPrePaginationRowModel():n.getRowModel()).rowsById[m];if(!v&&(v=n.getCoreRowModel().rowsById[m],!v))throw new Error;return v},_getDefaultColumnDef:Lt(()=>[n.options.defaultColumn],m=>{var g;return m=(g=m)!=null?g:{},{header:v=>{const w=v.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:v=>{var w,T;return(w=(T=v.renderValue())==null||T.toString==null?void 0:T.toString())!=null?w:null},...n._features.reduce((v,w)=>Object.assign(v,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...m}},Rt(e,"debugColumns")),_getColumnDefs:()=>n.options.columns,getAllColumns:Lt(()=>[n._getColumnDefs()],m=>{const g=function(v,w,T){return T===void 0&&(T=0),v.map(S=>{const I=SX(n,S,T,w),k=S;return I.columns=k.columns?g(k.columns,I,T+1):[],I})};return g(m)},Rt(e,"debugColumns")),getAllFlatColumns:Lt(()=>[n.getAllColumns()],m=>m.flatMap(g=>g.getFlatColumns()),Rt(e,"debugColumns")),_getAllFlatColumnsById:Lt(()=>[n.getAllFlatColumns()],m=>m.reduce((g,v)=>(g[v.id]=v,g),{}),Rt(e,"debugColumns")),getAllLeafColumns:Lt(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(m,g)=>{let v=m.flatMap(w=>w.getLeafColumns());return g(v)},Rt(e,"debugColumns")),getColumn:m=>n._getAllFlatColumnsById()[m]};Object.assign(n,f);for(let m=0;m<n._features.length;m++){const g=n._features[m];g==null||g.createTable==null||g.createTable(n)}return n}function KX(e,t,n,r){const o=()=>{var a;return(a=i.getValue())!=null?a:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:Lt(()=>[e,n,t,i],(a,c,d,f)=>({table:a,column:c,row:d,cell:f,getValue:f.getValue,renderValue:f.renderValue}),Rt(e.options,"debugCells"))};return e._features.forEach(a=>{a.createCell==null||a.createCell(i,n,t,e)},{}),i}const zS=(e,t,n,r,o,i,a)=>{let c={id:t,index:r,original:n,depth:o,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(c._valuesCache.hasOwnProperty(d))return c._valuesCache[d];const f=e.getColumn(d);if(f!=null&&f.accessorFn)return c._valuesCache[d]=f.accessorFn(c.original,r),c._valuesCache[d]},getUniqueValues:d=>{if(c._uniqueValuesCache.hasOwnProperty(d))return c._uniqueValuesCache[d];const f=e.getColumn(d);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(c._uniqueValuesCache[d]=f.columnDef.getUniqueValues(c.original,r),c._uniqueValuesCache[d]):(c._uniqueValuesCache[d]=[c.getValue(d)],c._uniqueValuesCache[d])},renderValue:d=>{var f;return(f=c.getValue(d))!=null?f:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>bX(c.subRows,d=>d.subRows),getParentRow:()=>c.parentId?e.getRow(c.parentId,!0):void 0,getParentRows:()=>{let d=[],f=c;for(;;){const m=f.getParentRow();if(!m)break;d.push(m),f=m}return d.reverse()},getAllCells:Lt(()=>[e.getAllLeafColumns()],d=>d.map(f=>KX(e,c,f,f.id)),Rt(e.options,"debugRows")),_getAllCellsByColumnId:Lt(()=>[c.getAllCells()],d=>d.reduce((f,m)=>(f[m.column.id]=m,f),{}),Rt(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const f=e._features[d];f==null||f.createRow==null||f.createRow(c,e)}return c};function QX(){return e=>Lt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,i,a){i===void 0&&(i=0);const c=[];for(let f=0;f<o.length;f++){const m=zS(e,e._getRowId(o[f],f,a),o[f],f,i,void 0,a==null?void 0:a.id);if(n.flatRows.push(m),n.rowsById[m.id]=m,c.push(m),e.options.getSubRows){var d;m.originalSubRows=e.options.getSubRows(o[f],f),(d=m.originalSubRows)!=null&&d.length&&(m.subRows=r(m.originalSubRows,i+1,m))}}return c};return n.rows=r(t),n},Rt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function j3(e,t,n){return n.options.filterFromLeafRows?XX(e,t,n):eee(e,t,n)}function XX(e,t,n){var r;const o=[],i={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,c=function(d,f){f===void 0&&(f=0);const m=[];for(let v=0;v<d.length;v++){var g;let w=d[v];const T=zS(n,w.id,w.original,w.index,w.depth,void 0,w.parentId);if(T.columnFilters=w.columnFilters,(g=w.subRows)!=null&&g.length&&f<a){if(T.subRows=c(w.subRows,f+1),w=T,t(w)&&!T.subRows.length){m.push(w),i[w.id]=w,o.push(w);continue}if(t(w)||T.subRows.length){m.push(w),i[w.id]=w,o.push(w);continue}}else w=T,t(w)&&(m.push(w),i[w.id]=w,o.push(w))}return m};return{rows:c(e),flatRows:o,rowsById:i}}function eee(e,t,n){var r;const o=[],i={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,c=function(d,f){f===void 0&&(f=0);const m=[];for(let v=0;v<d.length;v++){let w=d[v];if(t(w)){var g;if((g=w.subRows)!=null&&g.length&&f<a){const S=zS(n,w.id,w.original,w.index,w.depth,void 0,w.parentId);S.subRows=c(w.subRows,f+1),w=S}m.push(w),o.push(w),i[w.id]=w}}return m};return{rows:c(e),flatRows:o,rowsById:i}}function tee(){return e=>Lt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let v=0;v<t.flatRows.length;v++)t.flatRows[v].columnFilters={},t.flatRows[v].columnFiltersMeta={};return t}const o=[],i=[];(n??[]).forEach(v=>{var w;const T=e.getColumn(v.id);if(!T)return;const S=T.getFilterFn();S&&o.push({id:v.id,filterFn:S,resolvedValue:(w=S.resolveFilterValue==null?void 0:S.resolveFilterValue(v.value))!=null?w:v.value})});const a=n.map(v=>v.id),c=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(v=>v.getCanGlobalFilter());r&&c&&d.length&&(a.push("__global__"),d.forEach(v=>{var w;i.push({id:v.id,filterFn:c,resolvedValue:(w=c.resolveFilterValue==null?void 0:c.resolveFilterValue(r))!=null?w:r})}));let f,m;for(let v=0;v<t.flatRows.length;v++){const w=t.flatRows[v];if(w.columnFilters={},o.length)for(let T=0;T<o.length;T++){f=o[T];const S=f.id;w.columnFilters[S]=f.filterFn(w,S,f.resolvedValue,I=>{w.columnFiltersMeta[S]=I})}if(i.length){for(let T=0;T<i.length;T++){m=i[T];const S=m.id;if(m.filterFn(w,S,m.resolvedValue,I=>{w.columnFiltersMeta[S]=I})){w.columnFilters.__global__=!0;break}}w.columnFilters.__global__!==!0&&(w.columnFilters.__global__=!1)}}const g=v=>{for(let w=0;w<a.length;w++)if(v.columnFilters[a[w]]===!1)return!1;return!0};return j3(t.rows,g,e)},Rt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function nee(){return(e,t)=>Lt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,o)=>{if(!n.rows.length||!(r!=null&&r.length)&&!o)return n;const i=[...r.map(c=>c.id).filter(c=>c!==t),o?"__global__":void 0].filter(Boolean),a=c=>{for(let d=0;d<i.length;d++)if(c.columnFilters[i[d]]===!1)return!1;return!0};return j3(n.rows,a,e)},Rt(e.options,"debugTable"))}function ree(){return(e,t)=>Lt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let i=0;i<n.flatRows.length;i++){const a=n.flatRows[i].getUniqueValues(t);for(let c=0;c<a.length;c++){const d=a[c];if(r.has(d)){var o;r.set(d,((o=r.get(d))!=null?o:0)+1)}else r.set(d,1)}}return r},Rt(e.options,"debugTable"))}function oee(){return(e,t)=>Lt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{var r;if(!n)return;const o=(r=n.flatRows[0])==null?void 0:r.getUniqueValues(t);if(typeof o>"u")return;let i=[o,o];for(let a=0;a<n.flatRows.length;a++){const c=n.flatRows[a].getUniqueValues(t);for(let d=0;d<c.length;d++){const f=c[d];f<i[0]?i[0]=f:f>i[1]&&(i[1]=f)}}return i},Rt(e.options,"debugTable"))}function iee(){return e=>Lt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],i=r.filter(d=>{var f;return(f=e.getColumn(d.id))==null?void 0:f.getCanSort()}),a={};i.forEach(d=>{const f=e.getColumn(d.id);f&&(a[d.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const c=d=>{const f=d.map(m=>({...m}));return f.sort((m,g)=>{for(let w=0;w<i.length;w+=1){var v;const T=i[w],S=a[T.id],I=(v=T==null?void 0:T.desc)!=null?v:!1;let k=0;if(S.sortUndefined){const P=m.getValue(T.id),R=g.getValue(T.id),M=P===void 0,_=R===void 0;(M||_)&&(k=M&&_?0:M?S.sortUndefined:-S.sortUndefined)}if(k===0&&(k=S.sortingFn(m,g,T.id)),k!==0)return I&&(k*=-1),S.invertSorting&&(k*=-1),k}return m.index-g.index}),f.forEach(m=>{var g;o.push(m),(g=m.subRows)!=null&&g.length&&(m.subRows=c(m.subRows))}),f};return{rows:c(n.rows),flatRows:o,rowsById:n.rowsById}},Rt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function aee(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function see(e){return t=>Lt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:i}=n;let{rows:a,flatRows:c,rowsById:d}=r;const f=o*i,m=f+o;a=a.slice(f,m);let g;t.options.paginateExpandedRows?g={rows:a,flatRows:c,rowsById:d}:g=aee({rows:a,flatRows:c,rowsById:d}),g.flatRows=[];const v=w=>{g.flatRows.push(w),w.subRows.length&&w.subRows.forEach(v)};return g.rows.forEach(v),g},Rt(t.options,"debugTable"))}function TI(e,t){return e?lee(e)?F.createElement(e,t):e:null}function lee(e){return cee(e)||typeof e=="function"||uee(e)}function cee(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function uee(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function dee(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=F.useState(()=>({current:JX(t)})),[r,o]=F.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:a=>{o(a),e.onStateChange==null||e.onStateChange(a)}})),n.current}const L3={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z"},fee=Object.keys(L3).join("|"),hee=new RegExp(fee,"g");function pee(e){return e.replace(hee,t=>L3[t])}const Ni={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function mee(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:Ni.MATCHES,!n.accessors){const a=II(e,t,n);return{rankedValue:e,rank:a,accessorIndex:-1,accessorThreshold:n.threshold,passed:a>=n.threshold}}const o=bee(e,n.accessors),i={rankedValue:e,rank:Ni.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let a=0;a<o.length;a++){const c=o[a];let d=II(c.itemValue,t,n);const{minRanking:f,maxRanking:m,threshold:g=n.threshold}=c.attributes;d<f&&d>=Ni.MATCHES?d=f:d>m&&(d=m),d=Math.min(d,m),d>=g&&d>i.rank&&(i.rank=d,i.passed=!0,i.accessorIndex=a,i.accessorThreshold=g,i.rankedValue=c.itemValue)}return i}function II(e,t,n){return e=EI(e,n),t=EI(t,n),t.length>e.length?Ni.NO_MATCH:e===t?Ni.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?Ni.EQUAL:e.startsWith(t)?Ni.STARTS_WITH:e.includes(` ${t}`)?Ni.WORD_STARTS_WITH:e.includes(t)?Ni.CONTAINS:t.length===1?Ni.NO_MATCH:gee(e).includes(t)?Ni.ACRONYM:yee(e,t))}function gee(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(i=>{t+=i.substr(0,1)})}),t}function yee(e,t){let n=0,r=0;function o(d,f,m){for(let g=m,v=f.length;g<v;g++)if(f[g]===d)return n+=1,g+1;return-1}function i(d){const f=1/d,m=n/t.length;return Ni.MATCHES+m*f}const a=o(t[0],e,0);if(a<0)return Ni.NO_MATCH;r=a;for(let d=1,f=t.length;d<f;d++){const m=t[d];if(r=o(m,e,r),!(r>-1))return Ni.NO_MATCH}const c=r-a;return i(c)}function vee(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function EI(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=pee(e)),e}function wee(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function bee(e,t){const n=[];for(let r=0,o=t.length;r<o;r++){const i=t[r],a=See(i),c=wee(e,i);for(let d=0,f=c.length;d<f;d++)n.push({itemValue:c[d],attributes:a})}return n}const xI={maxRanking:1/0,minRanking:-1/0};function See(e){return typeof e=="function"?xI:{...xI,...e}}const Dee=({thino:e})=>{const t=F.useRef(null);F.useEffect(()=>(t.current&&C.setIcon(t.current,"pin"),()=>{t.current&&(t.current=null)}),[t]);const n=F.useCallback(async()=>{e.pinned?await Te.unpinMemoById(e.id):await Te.pinMemoById(e.id)},[e]);return y.jsx("span",{ref:t,className:Kn("pinned-status",e.pinned?"pinned":"not-pinned"),onClick:n})},Tee=({thino:e})=>{const t=F.useRef(null);F.useEffect(()=>(t.current&&C.setIcon(t.current,e.thinoType==="JOURNAL"?"calendar":"check-square"),()=>{t.current&&(t.current=null)}),[t,e==null?void 0:e.thinoType]);const n=F.useCallback(async()=>{if(e.thinoType==="JOURNAL")return;const r=await Te.updateMemo(e.id,e.content,e.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");r&&Te.editMemo(r)},[e]);return y.jsx(y.Fragment,{children:e.thinoType!=="JOURNAL"?y.jsx("input",{className:Kn("thino-type-status","task-list-item-checkbox"),type:"checkbox",checked:e.thinoType!=="TASK-TODO","data-task":e.thinoType==="TASK-TODO"?"":e.thinoType==="TASK-DONE"?"x":e.thinoType.slice(5),onClick:n}):y.jsx("span",{ref:t,className:"thino-type-status"})})},Iee=({id:e,path:t})=>{const n=F.useRef(null);F.useEffect(()=>(n.current&&C.setIcon(n.current,"link"),()=>{n.current&&(n.current=null)}),[]);const r=F.useCallback(()=>{!e||!t||Te.openThinoByID(e)},[e,t]);return y.jsxs("span",{className:"source-thino",onClick:r,children:[y.jsx("span",{children:t}),y.jsx("span",{ref:n,className:"source-thino-icon"})]})},Eee=({id:e,sourceType:t})=>{const n=F.useRef(null);F.useEffect(()=>{var o;return n.current&&C.setIcon(n.current,((o=km.find(i=>i.title===t))==null?void 0:o.icon)||"list"),()=>{n.current&&(n.current=null)}},[]);const r=F.useCallback(async()=>{e&&await Te.openThinoByID(e)},[e]);return y.jsx("span",{ref:n,className:"source-type-icon",onClick:r})},CI=(e,t,n,r)=>{const o=mee(e.getValue(t),n);return r({itemRank:o}),o.passed},MI=(e,t,n)=>{var o,i;let r=0;return e.columnFiltersMeta[n]&&(r=vee((o=e.columnFiltersMeta[n])==null?void 0:o.itemRank,(i=t.columnFiltersMeta[n])==null?void 0:i.itemRank)),r===0?ch.alphanumeric(e,t,n):r};function xee({thinos:e}){var m;le.useReducer(()=>({}),{})[1];const[t,n]=le.useState([]),[r,o]=le.useState(""),i=le.useMemo(()=>[{header:E("Basic Info"),footer:g=>g.column.id,columns:[{accessorKey:"createdAt",header:()=>y.jsx("span",{className:"create-at-header-cell",children:E("Created At")}),cell:g=>g.getValue(),footer:g=>g.column.id,enableColumnFilter:!1},{accessorFn:g=>g.content,id:"content",header:()=>y.jsx("span",{className:"thino-header-cell",children:E("Thino")}),cell:g=>y.jsx(ji,{memo:g.row.original,type:"table"}),footer:g=>g.column.id,filterFn:"fuzzy",sortingFn:MI},{accessorFn:g=>g.thinoType,id:"thinoType",cell:g=>y.jsx(Tee,{thino:g.row.original}),header:()=>y.jsx("span",{children:E("Thino Type")}),footer:g=>g.column.id},{accessorFn:g=>g.sourceType,id:"sourceType",cell:g=>y.jsx(Eee,{id:g.row.original.id,sourceType:g.getValue()}),header:()=>y.jsx("span",{children:E("Source Type")}),footer:g=>g.column.id}]},{header:E("Additional Info"),footer:g=>g.column.id,columns:[{accessorKey:"pinned",header:()=>y.jsx("span",{children:E("Pinned Status")}),cell:g=>y.jsx(Dee,{thino:g.row.original}),footer:g=>g.column.id,filterFn:"fuzzy",sortingFn:MI},{accessorKey:"rowStatus",header:()=>y.jsx("span",{children:E("Row status")}),cell:g=>y.jsx("span",{children:g.getValue()==="NORMAL"?"":g.getValue()}),footer:g=>g.column.id},{accessorKey:"path",header:()=>E("Path"),cell:g=>y.jsx(Iee,{id:g.row.original.id,path:g.getValue()}),footer:g=>g.column.id}]}],[]),[a,c]=le.useState(()=>e),d=()=>c(g=>e);F.useEffect(()=>{d()},[e]);const f=dee({data:a,columns:i,filterFns:{fuzzy:CI},initialState:{pagination:{pageSize:20}},state:{columnFilters:t,globalFilter:r},onColumnFiltersChange:n,onGlobalFilterChange:o,globalFilterFn:CI,getCoreRowModel:QX(),getFilteredRowModel:tee(),getSortedRowModel:iee(),getPaginationRowModel:see(),getFacetedRowModel:nee(),getFacetedUniqueValues:ree(),getFacetedMinMaxValues:oee(),debugTable:!1,debugHeaders:!1,debugColumns:!1});return le.useEffect(()=>{var g,v;((g=f.getState().columnFilters[0])==null?void 0:g.id)==="createdAt"&&((v=f.getState().sorting[0])==null?void 0:v.id)!=="createdAt"&&f.setSorting([{id:"createdAt",desc:!1}])},[(m=f.getState().columnFilters[0])==null?void 0:m.id]),y.jsxs("div",{className:"table-view",children:[y.jsx("div",{children:y.jsx(yv,{value:r||"",onChange:g=>o(String(g)),className:"table-search-bar",placeholder:E("Search all columns...")})}),y.jsxs("table",{className:"thino-table",children:[y.jsx("thead",{children:f.getHeaderGroups().map(g=>y.jsx("tr",{children:g.headers.map(v=>y.jsx("th",{colSpan:v.colSpan,children:v.isPlaceholder?null:y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:Kn(v.column.getCanSort()?"filter-header":"","table-header",v.column.id==="content"?"content-header":""),onClick:v.column.getToggleSortingHandler(),children:[TI(v.column.columnDef.header,v.getContext()),{asc:" 🔼",desc:" 🔽"}[v.column.getIsSorted()]??null]}),v.column.getCanFilter()?y.jsx(Mee,{column:v.column,table:f}):null]})},v.id))},g.id))}),y.jsx("tbody",{children:f.getRowModel().rows.map(g=>y.jsx("tr",{className:Kn(g.getValue("pinned")?"pinned":""),children:g.getVisibleCells().map(v=>y.jsx("td",{children:TI(v.column.columnDef.cell,v.getContext())},v.id))},g.id))})]}),y.jsxs("div",{className:"table-nav-bar",children:[y.jsx("button",{className:"prev-start-btn",onClick:()=>f.setPageIndex(0),disabled:!f.getCanPreviousPage(),children:"<<"}),y.jsx("button",{className:"prev-btn",onClick:()=>f.previousPage(),disabled:!f.getCanPreviousPage(),children:"<"}),y.jsx("button",{className:"next-btn",onClick:()=>f.nextPage(),disabled:!f.getCanNextPage(),children:">"}),y.jsx("button",{className:"next-end-btn",onClick:()=>f.setPageIndex(f.getPageCount()-1),disabled:!f.getCanNextPage(),children:">>"}),y.jsxs("span",{className:"table-page-info",children:[y.jsx("div",{children:E("Page")}),y.jsxs("strong",{children:[f.getState().pagination.pageIndex+1," of ",f.getPageCount()]})]}),y.jsxs("span",{className:"table-page-jump",children:["| ",E("Go to page"),":",y.jsx("input",{type:"number",defaultValue:f.getState().pagination.pageIndex+1,onChange:g=>{const v=g.target.value?Number(g.target.value)-1:0;f.setPageIndex(v)},className:"jump-inputer"})]}),y.jsx("select",{value:f.getState().pagination.pageSize,onChange:g=>{f.setPageSize(Number(g.target.value))},children:[10,20,30,40,50].map(g=>y.jsxs("option",{value:g,children:[E("Show")," ",g," ",E("rows")]},g))})]})]})}const Cee=e=>e==="sourceType"?["ALL"]:["ALL","ALL-TASK"];function Mee({column:e,table:t}){var i,a,c,d,f,m,g,v,w;const n=(i=t.getPreFilteredRowModel().flatRows[0])==null?void 0:i.getValue(e.id),r=e.getFilterValue(),o=le.useMemo(()=>typeof n=="number"?[]:Array.from(e.getFacetedUniqueValues().keys()).sort(),[e.getFacetedUniqueValues()]);return typeof n=="number"?y.jsx("div",{children:y.jsxs("div",{className:"filter-input-group",children:[y.jsx(yv,{type:"number",min:Number(((a=e.getFacetedMinMaxValues())==null?void 0:a[0])??""),max:Number(((c=e.getFacetedMinMaxValues())==null?void 0:c[1])??""),value:(r==null?void 0:r[0])??"",onChange:T=>e.setFilterValue(S=>[T,S==null?void 0:S[1]]),placeholder:`Min ${(d=e.getFacetedMinMaxValues())!=null&&d[0]?`(${(f=e.getFacetedMinMaxValues())==null?void 0:f[0]})`:""}`,className:"filter-input-short"}),y.jsx(yv,{type:"number",min:Number(((m=e.getFacetedMinMaxValues())==null?void 0:m[0])??""),max:Number(((g=e.getFacetedMinMaxValues())==null?void 0:g[1])??""),value:(r==null?void 0:r[1])??"",onChange:T=>e.setFilterValue(S=>[S==null?void 0:S[0],T]),placeholder:`Max ${(v=e.getFacetedMinMaxValues())!=null&&v[1]?`(${(w=e.getFacetedMinMaxValues())==null?void 0:w[1]})`:""}`,className:"filter-input-short"})]})}):y.jsx(y.Fragment,{children:o.length>1?y.jsxs(y.Fragment,{children:[e.id!=="path"&&e.id!=="content"&&e.id!=="thinoType"&&e.id!=="sourceType"&&y.jsx("datalist",{id:e.id+"list",children:o.slice(0,5e3).map(T=>y.jsx("option",{value:T},T))}),e.id==="thinoType"||e.id==="sourceType"?y.jsx("select",{id:e.id,onChange:T=>e.setFilterValue(T.target.value==="ALL"?"":T.target.value==="ALL-TASK"?"TASK":T.target.value),children:[...Cee(e.id),...o].map(T=>y.jsx("option",{value:T,children:E(T)||T},T))}):"",e.id!=="thinoType"&&e.id!=="sourceType"?y.jsx(yv,{type:"text",value:r??"",onChange:T=>e.setFilterValue(T),placeholder:`Search... (${e.getFacetedUniqueValues().size})`,className:"filter-input-long",list:e.id+"list"}):""]}):""})}function yv({value:e,onChange:t,debounce:n=500,...r}){const[o,i]=le.useState(e);return le.useEffect(()=>{i(e)},[e]),le.useEffect(()=>{const a=setTimeout(()=>{t(o)},n);return()=>clearTimeout(a)},[o]),y.jsx("input",{...r,value:o,onChange:a=>i(a.target.value)})}const kee=e=>{const{locationState:{query:t},globalState:{memoListView:n,manifest:r},dailyNotesState:{app:o,settings:i}}=F.useContext(Ot),{thinos:a}=e,[c,d]=le.useState(qm(a,"day")),f=le.useRef(null),m=F.useRef([]),g=F.useRef(0);F.useEffect(()=>{d(qm(a,"day"))},[a]),F.useEffect(()=>{var P,R;const T=a.filter(M=>M.pinned),S=a.filter(M=>!M.pinned),I=m.current.filter(M=>M.pinned)[0],k=m.current.filter(M=>!M.pinned)[0];if(I&&I.id!==((P=T[0])==null?void 0:P.id)||k&&k.id!==((R=S[0])==null?void 0:R.id)){const M=f.current.closest(".memolist-wrapper");M.scrollTop=M.scrollHeight}else{const M=f.current.closest(".memolist-wrapper");M.scrollTop=M.scrollHeight-g.current,m.current=a}},[a]),F.useEffect(()=>{if(!f.current)return;const T=f.current.closest(".memolist-wrapper");T.scrollTop=T.scrollHeight},[t]),F.useEffect(()=>{if(n==="chat"&&f.current){const T=f.current.closest(".memolist-wrapper");T.scrollTop=T.scrollHeight,g.current=T.scrollHeight-T.scrollTop,m.current=a,T.onscrollend=()=>{g.current=T.scrollHeight-T.scrollTop}}},[f.current]);const v=F.useCallback(()=>{o.setting.open(),o.setting.openTabById(r.id||"obsidian-memos")},[o]),w=F.useMemo(()=>y.jsx(y.Fragment,{children:Object.keys(c).map((T,S)=>y.jsx(y.Fragment,{children:y.jsx(Nee,{thinos:c[T],dayMark:T,handleOpenSettings:v},T+S)}))}),[c]);return y.jsx("div",{ref:f,className:Kn("chat-view",`${i==null?void 0:i.chatViewStyle}-style`),children:w})},Nee=({thinos:e,dayMark:t,handleOpenSettings:n})=>{const{dailyNotesState:{settings:r,app:o}}=F.useContext(Ot),[i,a]=le.useState(!0),c=le.useRef(null),[d,f]=le.useState(r==null?void 0:r.MomentsIcon);F.useEffect(()=>{if(!(r!=null&&r.MomentsIcon)||!o)return;const w=o.vault.adapter.getResourcePath(C.normalizePath(r.MomentsIcon));w&&!(r!=null&&r.MomentsIcon.startsWith("http"))?f(w):f(r==null?void 0:r.MomentsIcon)},[r==null?void 0:r.MomentsIcon]);const m=w=>{if(C.Keymap.isModifier(w.nativeEvent,"Mod")){const T=C.moment(t,"YYYY-MM-DD");ot.setFromAndToQuery(T.startOf("day").valueOf(),T.endOf("day").valueOf());return}a(!i),c.current.scrollIntoView(!0)},g=w=>{_h(w)},v=F.useMemo(()=>e.map((w,T)=>y.jsxs("div",{className:"thino-bubble right",children:[y.jsx(Aee,{icon:d,handleOpenSettings:n}),y.jsx("div",{className:"wrap",children:y.jsx(Fee,{thino:w,handleClickTimeStamp:g},`${w.id}-${C.moment(w.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${T}`)})]},w.id+T)),[e,d]);return y.jsxs(y.Fragment,{children:[i&&v,y.jsx("div",{className:`thino-chat-day-mark day-mark ${i?"":"folded"}`,onClick:m,children:y.jsx("div",{className:"day-mark-bubble",children:(t==="PINNED"?t+" 📌":t)+(i?"":"...")})})]})},Aee=({icon:e,handleOpenSettings:t})=>y.jsx("div",{ref:n=>{if(e){n==null||n.empty();return}e||n&&C.setIcon(n,"Memos")},className:"icon-img",style:{backgroundImage:`url("${e}")`}}),Fee=({thino:e,handleClickTimeStamp:t})=>{const n=F.useCallback(async()=>{if(e.thinoType==="JOURNAL")return;const i=await Te.updateMemo(e.id,e.content,e.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");i&&Te.editMemo(i)},[e]),r=F.useMemo(()=>y.jsxs("div",{className:"content",children:[y.jsx("div",{className:"time-stamp","data-date":C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),"data-time":C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss"),onClick:()=>{t(e)},children:C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss")}),y.jsx(ji,{memo:e})]}),[e.content]),o=F.useMemo(()=>y.jsxs("div",{className:"content task",children:[y.jsx("div",{className:"task-inputer",children:y.jsx("input",{className:Kn("thino-type-status","task-list-item-checkbox"),type:"checkbox",checked:e.thinoType!=="TASK-TODO","data-task":e.thinoType==="TASK-TODO"?"":e.thinoType==="TASK-DONE"?"x":e.thinoType.slice(5),onClick:n})}),y.jsx("div",{className:"time-stamp","data-date":C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),"data-time":C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss"),onClick:()=>{t(e)},children:C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss")}),y.jsx(ji,{memo:e})]}),[e.content,e.thinoType]);return e.thinoType==="JOURNAL"?r:o};function Pee(e){const t=e.filter(r=>r.pinned),n=e.filter(r=>!r.pinned);return[...t,...n]}function qm(e,t){const n={},r={day:"YYYY-MM-DD ddd",week:"YYYY-[W]WW",month:"YYYY-MM",quarter:"YYYY-[Q]Q",year:"YYYY"};for(const o of e){const i=C.moment(o.createdAt,"YYYY/MM/DD HH:mm:ss").format(r[t]);if(o.pinned){n.PINNED||(n.PINNED=[]),n.PINNED.push(o);continue}n[i]||(n[i]=[]),n[i].push(o)}return n}function $y(e){const{tag:t,duration:n,type:r,text:o,filter:i}=e,a=tn.getQueryById(i);return!(!!(t||n&&n.from<n.to||r||o||a)||a)}const Oee=({tempMemos:e,query:t,HideDoneTasks:n})=>{const r=e.filter(g=>g.rowStatus!=="ARCHIVED"&&!(g.deletedAt!==""&&g.deletedAt)),{tag:o,duration:i,type:a,text:c,filter:d}=t,f=tn.getQueryById(d);return!!(o||i&&i.from<i.to||a||c||f)||f||n?r.filter(g=>{let v=!0;if(g.thinoType!==void 0&&n&&g.thinoType==="TASK-DONE"&&(v=!1),g.content.contains("comment:")&&(v=!1),f){const w=JSON.parse(f.querystring);Array.isArray(w)&&(v=Rh(g,w))}if(o){const w=new Set;for(const T of Array.from(g.content.match(gr)||[])){const I=T.replace(gr,"$1").trim().split("/");let k="";for(const P of I)k+=P,w.add(k),k+="/"}for(const T of Array.from(g.content.match(jr)||[])){const I=T.replace(jr,"$1").trim().split("/");let k="";for(const P of I)k+=P,w.add(k),k+="/"}for(const T of Array.from(g.content.match(so)||[])){const I=T.replace(so,"$2").trim().split("/");let k="";for(const P of I)k+=P,w.add(k),k+="/"}w.has(o)||(v=!1)}return i&&i.from<i.to&&(ct.getTimeStampByDate(g.createdAt)<i.from||ct.getTimeStampByDate(g.createdAt)>i.to)&&(v=!1),a&&(a==="NOT_TAGGED"&&(g.content.match(gr)!==null||g.content.match(so)!==null||g.content.match(jr)!==null)||a==="LINKED"&&g.content.match(Ld)===null||a==="IMAGED"&&g.content.match(Rd)===null||a==="CONNECTED"&&g.content.match(gu)===null)&&(v=!1),c&&!g.content.toLowerCase().includes(c.toLowerCase())&&(v=!1),v}):r.filter(g=>!g.content.contains("comment:"))},jee=({updateThinos:e})=>{var oe;const{locationState:{query:t},memoState:{memos:n},globalState:{memoListView:r},dailyNotesState:{app:o,settings:i,verifyState:a,plugin:c}}=F.useContext(Ot),[d,f]=F.useState(!1),[m,g]=F.useState(!1),[v,w,T]=oi([]),[S,I]=F.useState([]),[k,P]=F.useState({}),[R,M]=F.useState((oe=window.app||o)==null?void 0:oe.loadLocalStorage("thinoListView")),[_,L]=F.useState((o==null?void 0:o.loadLocalStorage("showDayMark"))||!1),[z,Y]=F.useState((o==null?void 0:o.loadLocalStorage("dayMarkRange"))||"day"),[V,$,re]=oi([]),Q=F.useRef(0),ae=F.useRef(!1),X=F.useRef(null),ie=F.useRef(null),Z=F.useRef(null),ue=F.useRef(null),ne=F.useRef(!1);F.useEffect(()=>{M(r),o&&o.saveLocalStorage("thinoListView",r),w(V.slice(0,v.length>20?Math.min(v.length,40):40))},[r]),F.useEffect(()=>()=>{ie.current&&(ie.current=null),Z.current&&(Z.current=null),ue.current&&(ue.current=null)},[]),F.useLayoutEffect(()=>{if((n.length!==0||!o)&&ne.current===!0)return;const pe=Lee(o);!pe||pe.length===0||($(pe),I(pe),L((o==null?void 0:o.loadLocalStorage("showDayMark"))||!1),o!=null&&o.loadLocalStorage("showDayMark")&&P(qm(pe,(o==null?void 0:o.loadLocalStorage("dayMarkRange"))||"day")))},[o]),F.useEffect(()=>{if(n.length===0&&!Te.initialized)return;f(!1);const pe=Pee(n),Ee=Oee({tempMemos:pe,query:t,HideDoneTasks:(i==null?void 0:i.HideDoneTasks)||!1});return ne.current=!0,e&&e(Ee),$(Ee),()=>{ne.current=!1}},[n,t,i==null?void 0:i.HideDoneTasks]),F.useEffect(()=>{w(V.slice(0,v.length>20?Math.min(v.length,40):40))},[V]),F.useEffect(()=>{var pe;v.length<40&&((pe=Z.current)==null||pe.click())},[V]),F.useEffect(()=>{($y(t)&&v.length<V.length||v.length<V.length&&!$y(t))&&g(!1),($y(t)&&v.length===n.length&&n.length>0||!$y(t)&&v.length===V.length&&V.length>0)&&g(!0),Ree(v||[],o),I(v),o==null||o.saveLocalStorage("showDayMark",i==null?void 0:i.showDayMark),o==null||o.saveLocalStorage("dayMarkRange",i==null?void 0:i.dayMarkRange),L((i==null?void 0:i.showDayMark)||!1),Y((i==null?void 0:i.dayMarkRange)||"day"),i!=null&&i.showDayMark&&P(qm(v,i==null?void 0:i.dayMarkRange))},[v,i==null?void 0:i.showDayMark,i==null?void 0:i.dayMarkRange]),F.useEffect(()=>{if(!ie.current)return;const pe=async()=>{ae.current||(Q.current++,await he(),Q.current>=1&&(ae.current=!0,setTimeout(()=>{Q.current=0,ae.current=!1},3e3)))};v.length<40&&pe();const Ee=new IntersectionObserver(([je])=>{if(je.isIntersecting){if(m)return;pe()}else Q.current=0,ae.current=!1});return ie!=null&&ie.current&&Ee.observe(ie.current),()=>{ie!=null&&ie.current&&Ee.unobserve(ie.current)}},[d,m,ie.current]),F.useEffect(()=>{var pe;(pe=ue.current)==null||pe.scrollTo({top:0})},[t]);const he=async()=>{try{if(re.current.length>T.current.length){f(!0);const pe=Math.min(T.current.length+40,re.current.length)-T.current.length,Ee=re.current.slice(T.current.length,T.current.length+pe);w(je=>[...je,...Ee]),f(!1),g(Ee.length<40)}}catch(pe){console.error(pe),new C.Notice(pe.response.data.message)}},K=F.useMemo(()=>y.jsx("div",{ref:ie,className:Kn("status-text-container",R==="calendar"||R==="table"?"hidden":""),children:y.jsx("p",{className:"status-text",children:d?E("Fetching data..."):m?V.length===0?E("Noooop!"):E("All Data is Loaded 🎉"):y.jsx(y.Fragment,{children:y.jsx("span",{ref:Z,className:"cursor-pointer hover:text-green-600",onClick:he,children:E("fetch more")})})})}),[R,he,V,d,m,ie]);return y.jsxs("div",{className:`memolist-wrapper ${m?"completed":""}`,ref:ue,children:[R==="chat"&&K,y.jsxs("div",{ref:X,className:"memolist-container",children:[R==="chat"&&y.jsx(kee,{thinos:S}),R==="calendar"&&y.jsx(vX,{thinos:V}),R==="table"&&y.jsx(xee,{thinos:V}),R==="moments"&&y.jsx(Bee,{thinos:S}),R==="list"&&y.jsx(Lv,{breakpointCols:1,className:`${R}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:_?y.jsx(y.Fragment,{children:Object.keys(k).sort((pe,Ee)=>Ee-pe).map(pe=>y.jsx(r1,{type:"list",thinos:k[pe],dayMark:pe,dayMarkRange:z},pe))}):S.map((pe,Ee)=>y.jsx(ji,{memo:pe},`${pe.id}-${C.moment(pe.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${Ee}`))}),R==="waterfall"&&y.jsx(y.Fragment,{children:_&&Object.keys(k).length>0?Object.keys(k).map(pe=>y.jsx(r1,{type:"waterfall",thinos:k[pe],dayMark:pe,dayMarkRange:z},pe)):y.jsx(Lv,{breakpointCols:3,className:`${R}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:S.map((pe,Ee)=>y.jsx(ji,{memo:pe},`${pe.id}-${C.moment(pe.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${Ee}`))})})]}),R!=="chat"&&K]})};function R3(e){return`memosListCache:${e}`}function Lee(e){var t;try{const n=R3(e==null?void 0:e.appId),r=Wr.get([n])[n];return r?((t=JSON.parse(r))==null?void 0:t.memos)||[]:[]}catch(n){return console.error(n),[]}}function Ree(e,t){try{if(!e)return;const n=e==null?void 0:e.slice(0,100),r=R3(t==null?void 0:t.appId);Wr.set({[r]:JSON.stringify({memos:n})})}catch(n){console.error(n)}}const _ee=({userIcon:e})=>y.jsx("div",{className:"moments-view-user-icon",ref:t=>{if(e){t==null||t.empty();return}e||t&&C.setIcon(t,"Memos")},style:{backgroundImage:`url("${e}")`}}),D1="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHZpZXdCb3g9IjAgMCAxNDQwIDU2MCI+PGcgbWFzaz0idXJsKCZxdW90OyNTdmdqc01hc2sxMDgwJnF1b3Q7KSIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjE0NDAiIGhlaWdodD0iNTYwIiB4PSIwIiB5PSIwIiBmaWxsPSIjMGUyYTQ3Ij48L3JlY3Q+PHVzZSB4bGluazpocmVmPSIjU3ZnanNTeW1ib2wxMDg3IiB4PSIwIiB5PSIwIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1N5bWJvbDEwODciIHg9IjcyMCIgeT0iMCI+PC91c2U+PC9nPjxkZWZzPjxtYXNrIGlkPSJTdmdqc01hc2sxMDgwIj48cmVjdCB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48L21hc2s+PHBhdGggZD0iTS0xIDAgYTEgMSAwIDEgMCAyIDAgYTEgMSAwIDEgMCAtMiAweiIgaWQ9IlN2Z2pzUGF0aDEwODIiPjwvcGF0aD48cGF0aCBkPSJNLTMgMCBhMyAzIDAgMSAwIDYgMCBhMyAzIDAgMSAwIC02IDB6IiBpZD0iU3ZnanNQYXRoMTA4NiI+PC9wYXRoPjxwYXRoIGQ9Ik0tNSAwIGE1IDUgMCAxIDAgMTAgMCBhNSA1IDAgMSAwIC0xMCAweiIgaWQ9IlN2Z2pzUGF0aDEwODMiPjwvcGF0aD48cGF0aCBkPSJNMiAtMiBMLTIgMnoiIGlkPSJTdmdqc1BhdGgxMDg0Ij48L3BhdGg+PHBhdGggZD0iTTYgLTYgTC02IDZ6IiBpZD0iU3ZnanNQYXRoMTA4MSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMCAtMzAgTC0zMCAzMHoiIGlkPSJTdmdqc1BhdGgxMDg1Ij48L3BhdGg+PC9kZWZzPjxzeW1ib2wgaWQ9IlN2Z2pzU3ltYm9sMTA4NyI+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSI5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI5MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iOTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iOTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjkwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjE1MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMTUwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjIxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjIxMCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIyMTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjIxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIyMTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMjEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyMTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyMTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMjcwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMjcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMjcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjI3MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjMzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjMzMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMzMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjM5MCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzOTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzkwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjM5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzOTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjM5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIzOTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzOTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iNDUwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI0NTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjQ1MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iNDUwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjQ1MCIgeT0iNDUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI0NTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1MTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1MTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjUxMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjU3MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI1NzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNTcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjU3MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjU3MCIgeT0iNTEwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjYzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2MzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNjMwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjYzMCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNjMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iNTEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2MzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjY5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjY5MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI2OTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjY5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNjkwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjY5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNjkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2OTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjY5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48L3N5bWJvbD48L3N2Zz4=",vv="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHZpZXdCb3g9IjAgMCAxNDQwIDU2MCI+PGcgbWFzaz0idXJsKCZxdW90OyNTdmdqc01hc2sxMDgwJnF1b3Q7KSIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjE0NDAiIGhlaWdodD0iNTYwIiB4PSIwIiB5PSIwIiBmaWxsPSJyZ2JhKDIzMSwgMjM4LCAyNDUsIDEpIj48L3JlY3Q+PHVzZSB4bGluazpocmVmPSIjU3ZnanNTeW1ib2wxMDg3IiB4PSIwIiB5PSIwIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1N5bWJvbDEwODciIHg9IjcyMCIgeT0iMCI+PC91c2U+PC9nPjxkZWZzPjxtYXNrIGlkPSJTdmdqc01hc2sxMDgwIj48cmVjdCB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48L21hc2s+PHBhdGggZD0iTS0xIDAgYTEgMSAwIDEgMCAyIDAgYTEgMSAwIDEgMCAtMiAweiIgaWQ9IlN2Z2pzUGF0aDEwODUiPjwvcGF0aD48cGF0aCBkPSJNLTMgMCBhMyAzIDAgMSAwIDYgMCBhMyAzIDAgMSAwIC02IDB6IiBpZD0iU3ZnanNQYXRoMTA4MyI+PC9wYXRoPjxwYXRoIGQ9Ik0tNSAwIGE1IDUgMCAxIDAgMTAgMCBhNSA1IDAgMSAwIC0xMCAweiIgaWQ9IlN2Z2pzUGF0aDEwODYiPjwvcGF0aD48cGF0aCBkPSJNMiAtMiBMLTIgMnoiIGlkPSJTdmdqc1BhdGgxMDg0Ij48L3BhdGg+PHBhdGggZD0iTTYgLTYgTC02IDZ6IiBpZD0iU3ZnanNQYXRoMTA4MSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMCAtMzAgTC0zMCAzMHoiIGlkPSJTdmdqc1BhdGgxMDgyIj48L3BhdGg+PC9kZWZzPjxzeW1ib2wgaWQ9IlN2Z2pzU3ltYm9sMTA4NyI+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjMwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIzMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iOTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI5MCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjkwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iOTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iOTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMTUwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIxNTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIxNTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIxNTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIxNTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjE1MCIgeT0iNTEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMjEwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIyMTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjIxMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMjEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMjEwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyMTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyMTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIyMTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyNzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjI3MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMjcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyNzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjMzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzMwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMzMwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMzkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIzOTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjM5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjM5MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjM5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzkwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzkwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNDUwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSI0NTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNDUwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNDUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI1MTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjUxMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTEwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTEwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTEwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTEwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1NzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjU3MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTcwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTcwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI1NzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI1NzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjYzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjY5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2OTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2OTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2OTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2OTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48L3N5bWJvbD48L3N2Zz4=",Bee=e=>{const{globalState:{memoListView:t,markMemoId:n,manifest:r,editMemoId:o},dailyNotesState:{app:i,settings:a}}=F.useContext(Ot),{thinos:c}=e,d=le.useRef(null),f=le.useRef(null),[m,g]=le.useState(!1),[v,w]=F.useState({}),[T,S]=F.useState((i==null?void 0:i.loadLocalStorage("dayMarkRange"))||"day"),[I,k]=le.useState(a==null?void 0:a.MomentsIcon);F.useEffect(()=>{if(!(a!=null&&a.MomentsIcon)||!i)return;const R=i.vault.adapter.getResourcePath(C.normalizePath(a.MomentsIcon));R&&!(a!=null&&a.MomentsIcon.startsWith("http"))?k(R):k(a==null?void 0:a.MomentsIcon)},[a==null?void 0:a.MomentsIcon,i]),F.useEffect(()=>{a!=null&&a.showDayMark&&w(qm(c,(i==null?void 0:i.loadLocalStorage("dayMarkRange"))||"day"))},[c]),F.useEffect(()=>{d.current.closest(".workspace-window")&&g(!0)},[d.current]),F.useEffect(()=>{n&&g(!0)},[n]),F.useEffect(()=>{o?(g(!0),setTimeout(()=>{i.workspace.trigger("focus-on-textarea")},200)):g(!1)},[o]),F.useEffect(()=>{f.current&&(!m&&C.setIcon(f.current,"camera"),m&&C.setIcon(f.current,"camera-off"))},[f.current,m]);const P=F.useCallback(()=>{i.setting.open(),i.setting.openTabById(r.id||"obsidian-memos")},[i]);return y.jsxs("div",{ref:d,className:Kn("moments-view",m?"show-editor":""),children:[y.jsxs("div",{className:"moments-view-background-wrapper",children:[y.jsx(Hee,{}),y.jsx("div",{ref:f,className:"moments-show-editor-btn",onClick:()=>{o&&m||((m||o)&&g(!m),!m&&!o&&new $C(i).open())}}),y.jsxs("div",{className:"moments-view-background-overlay",children:[y.jsxs("div",{className:"moments-view-user-info",children:[y.jsx("div",{className:"moments-view-user-name",children:a==null?void 0:a.UserName}),y.jsx(_ee,{userIcon:I})]}),y.jsx("div",{className:"moments-view-user-idea",children:a.MomentsQuote||" "})]})]}),a!=null&&a.showDayMark?v&&Object.keys(v).length>0&&Object.keys(v).map((R,M)=>y.jsx(r1,{type:"list",thinos:v[R],dayMark:R,dayMarkRange:T,thinoWrapper:_=>y.jsx(kI,{thino:_.thino,handleOpenSettings:P},_.thino.createdAt+M)},R)):c.map((R,M)=>y.jsx(kI,{thino:R,handleOpenSettings:P},R.createdAt+M))]})},Hee=()=>{const{dailyNotesState:{app:e,view:t,settings:n}}=F.useContext(Ot),[r,o]=F.useState((n==null?void 0:n.MomentsBackgroundImage)||vv);return F.useEffect(()=>{if(!(n!=null&&n.MomentsBackgroundImage)||!e){o(document.body.hasClass("theme-dark")?D1:vv);return}const i=e.vault.adapter.getResourcePath(C.normalizePath(n.MomentsBackgroundImage));i&&!(n!=null&&n.MomentsBackgroundImage.startsWith("http"))?o(i):o(n==null?void 0:n.MomentsBackgroundImage)},[n==null?void 0:n.MomentsBackgroundImage,e]),F.useEffect(()=>{t&&t.registerEvent(t.app.workspace.on("css-change",()=>{o(document.body.hasClass("theme-dark")&&!(n!=null&&n.MomentsBackgroundImage)?D1:!document.body.hasClass("theme-dark")&&!(n!=null&&n.MomentsBackgroundImage)?vv:n==null?void 0:n.MomentsBackgroundImage)}))},[t]),y.jsx("div",{className:"moments-view-background",style:{backgroundImage:`url("${r}")`}})},Yee=e=>{const{icon:t}=e,n=F.useCallback(()=>{app.setting.open(),app.setting.openTabById(manifest.id||"obsidian-memos")},[]);return y.jsx("div",{className:"thino-moment-icon",ref:r=>{if(t){r==null||r.empty();return}t||r&&C.setIcon(r,"Memos")},style:{backgroundImage:`url("${t}")`},onClick:n})},kI=e=>{const{dailyNotesState:{settings:t,app:n}}=F.useContext(Ot),r=F.useRef(null),o=F.useRef(null),{thino:i}=e,[a,c]=F.useState("");return F.useEffect(()=>{if(!(t!=null&&t.MomentsIcon)||!n)return;const d=n.vault.adapter.getResourcePath(C.normalizePath(t.MomentsIcon));d&&!(t!=null&&t.MomentsIcon.startsWith("http"))?c(d):c(t==null?void 0:t.MomentsIcon)},[t==null?void 0:t.MomentsIcon,n]),F.useEffect(()=>{r.current&&C.setIcon(r.current,"more-horizontal")},[r.current]),y.jsxs("div",{className:"thino-moment-wrapper",children:[y.jsx(Yee,{icon:a}),y.jsxs("div",{ref:o,className:"thino-moment-container",children:[y.jsx("div",{className:"thino-moment-user-name",children:t==null?void 0:t.UserName}),y.jsx("div",{className:"thino-moment-user-content",children:y.jsx(ji,{memo:i})})]})]})},Uee='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="1146.31828" height="801.00361" viewBox="0 0 1146.31828 801.00361" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M1050.69918,514.5082a456.24913,456.24913,0,0,1-37.38013-261.87c3.6001-23.1,9.44006-46.85,24.43018-64.79,14.38989-17.23,39.34985-27.37,60.0299-19.29-13.56994-29.61-47.76-46.5-80.59-47.33-34.09-.86-66.92,12.5-97.25,28.1-30.33,15.6-59.65,33.81006-92.21,43.99-53.5,16.72-111.91,10.34-165.5-6.09-53.58-16.44-103.62-42.47-154.62-65.71-51.01-23.24-104.17-44.03-160.01-48.91-55.84-4.87-115.25,7.89-157.24,45.01s-61.87,101.28-38.27,152.11c14.25,30.7,42.22,54.32,52.04,86.7,12.32,40.65-7.08,83.96-30.41,119.45-23.34,35.49-51.8,69.58-60.47,111.16-8.01,38.38,2.72,78.02,24.05,111.38a197.34468,197.34468,0,0,0,35.74,41.61c43.09,37.91,98.77,58.15,154.17,73.13,200.27,54.17,416.13,49.29,613.75-13.88,34.99-11.18,69.95-24.43,99.32-46.48,19.16-14.38,35.83-33.02,46.39-54.35a114.10574,114.10574,0,0,0,11.13-36.18005C1104.43917,610.17819,1072.9692,562.05819,1050.69918,514.5082Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><g opacity="0.17"><path d="M890.75032,246.45145c9.64171-4.20394-9.91163-6.65119-32.09585-7.45582s-49.02061-.76011-63.19756-3.04875c-13.71114-2.21343-12.7009-6.14907-13.85427-9.71489s-6.42446-7.222-27.81928-8.0147c-26.6607-.98774-70.62581,2.81434-90.75171.53173-18.78121-2.13011-7.61723-8.81182-35.00344-9.06755-15.63837-.146-35.7849,2.05682-53.18577,2.58844-16.33647.49909-28.42216-.53441-36.90357-1.924s-14.38875-3.15126-23.93413-4.37864c-25.06068-3.2224-74.09133-2.13925-117.853,1.99071s-81.27344,10.89816-102.42889,17.60175-27.00029,13.30376-22.07239,18.90071c3.14674,3.574,11.19915,6.91585,30.73235,8.352,36.53555,2.68621,101.58387-1.9375,139.33713.50645,21.0415,1.36213,30.3764,4.73924,48.83812,6.58716,19.83407,1.98528,48.86935,2.09051,77.39656,2.04341,59.39721-.09807,120.3137-.70829,182.42994-1.82747,25.94486-.46745,53.13-1.0752,80.73761-3.30289s55.76623-6.52591,61.59076-10.5553" transform="translate(-26.84086 -49.49819)" fill="#fff"/></g><path d="M1099.25911,172.04818c-.46-1.18-.96-2.35-1.48-3.49.84.33,1.68006.69,2.51,1.08Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><path d="M648.74482,314.5843c-7.66935-12.68445-16.75721-26.22767-30.98955-30.36953-16.482-4.7965-33.41319,4.73193-47.77473,14.13453a1392.15692,1392.15692,0,0,0-123.89338,91.28311l.04331.49239q46.22556-3.18781,92.451-6.37555c22.26532-1.53546,45.29557-3.2827,64.97195-13.8156,7.46652-3.99683,14.74475-9.33579,23.20555-9.70782,10.51175-.46217,19.67733,6.87923,26.8802,14.54931,42.60732,45.371,54.937,114.7541,102.73817,154.61592A1516.99458,1516.99458,0,0,0,648.74482,314.5843Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M910.64576,699.4127c-4.71168-5.94958-6.63691-7.343-11.28457-13.34761Q842.5968,612.64872,792.65327,534.27272q-33.92353-53.23005-64.48275-108.50439-14.54863-26.27808-28.29961-52.96872-10.67043-20.6952-20.8646-41.63793c-1.94357-3.98781-3.83209-7.99393-5.71122-12.00922-4.42788-9.44232-8.7734-18.93047-13.43942-28.24449-5.31687-10.61571-11.78905-21.74485-21.55259-28.877a29.4049,29.4049,0,0,0-15.31855-5.89457c-7.948-.51337-15.28185,2.76854-22.17569,6.35294-50.43858,26.301-97.65921,59.27589-140.36959,96.79771A730.77781,730.77781,0,0,0,346.39748,485.87843c-1.008,1.43927-3.39163.06418-2.37419-1.38422q6.00935-8.49818,12.25681-16.81288A734.81742,734.81742,0,0,1,543.87972,292.6956q18.24825-11.82579,37.18269-22.54245c6.36206-3.60275,12.75188-7.15967,19.25136-10.49653,6.37147-3.27274,13.13684-6.21547,20.41563-6.32547,24.77011-.385,37.5954,27.667,46.40506,46.54248q4.15283,8.9106,8.40636,17.76626,16.07481,33.62106,33.38729,66.628,10.68453,20.379,21.83683,40.51955,34.7071,62.71816,73.77854,122.897c34.5059,53.1429,68.73651,100.08874,108.04586,149.78473C913.67124,698.84433,911.73706,700.80615,910.64576,699.4127Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M457.9912,345.4352c-1.43911-1.60428-2.86926-3.20856-4.31777-4.81284-11.42244-12.63259-23.6788-25.11847-39.3644-32.36067a57.11021,57.11021,0,0,0-23.92678-5.54622c-8.56213.02753-16.93178,2.27348-24.84307,5.41792-3.74034,1.49428-7.39831,3.19021-11.00078,4.99614-4.11634,2.07182-8.15927,4.28118-12.1834,6.50883q-11.33112,6.27044-22.36816,13.0909-21.9606,13.5722-42.54565,29.21623-10.67111,8.11311-20.90175,16.75788-9.51557,8.03052-18.64618,16.492c-1.30168,1.20091-3.24526-.74255-1.94358-1.94347,1.60428-1.49428,3.22692-2.97938,4.84955-4.44612q6.87549-6.21547,13.9712-12.19258,12.93921-10.91827,26.54851-20.99312,21.16295-15.67614,43.78289-29.2254,11.3036-6.76547,22.91829-12.9626c2.33793-1.24674,4.70317-2.466,7.09571-3.6211a113.11435,113.11435,0,0,1,16.86778-6.86631,60.00626,60.00626,0,0,1,25.476-2.50266,66.32725,66.32725,0,0,1,23.50512,8.1314c15.40091,8.60812,27.34573,21.919,38.97005,34.90916C461.10844,344.80265,459.17382,346.75529,457.9912,345.4352Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M773.55166,476.34216l36.90462-13.498,18.32327-6.70182c5.96758-2.18267,11.92082-4.66747,18.08989-6.23037a28.53868,28.53868,0,0,1,16.37355.20862,37.73731,37.73731,0,0,1,12.771,7.91667,103.63871,103.63871,0,0,1,10.47488,11.18642c3.98932,4.79426,7.9197,9.63878,11.86772,14.46706q24.44135,29.89093,48.56306,60.04134,24.12118,30.14991,47.91981,60.556,23.85681,30.48042,47.38548,61.21573,2.8823,3.76519,5.75967,7.53415c1.0598,1.38809,3.44948.01962,2.37471-1.38807q-23.70225-31.04441-47.73491-61.83464-24.09177-30.86383-48.51646-61.46586-24.42423-30.60142-49.17854-60.93744-6.167-7.5576-12.35444-15.09858c-3.47954-4.24072-6.91984-8.52718-10.73629-12.47426-7.00538-7.24516-15.75772-13.64794-26.23437-13.82167-6.15972-.10214-12.121,1.85248-17.844,3.92288-6.16967,2.232-12.32455,4.50571-18.48632,6.7594L782.11123,470.2921l-9.29068,3.39811c-1.64874.603-.9365,3.26189.73111,2.65195Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M409.45248,324.15733c-18.75411-9.63866-42.77137-7.75087-60.00507,4.29119A855.84532,855.84532,0,0,1,446.818,351.17434C433.53537,343.3904,423.14521,331.19475,409.45248,324.15733Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M349.26282,328.41534,345.6524,331.35c1.22123-1.02713,2.4908-1.99013,3.795-2.90144C349.3858,328.43789,349.32442,328.426,349.26282,328.41534Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M874.62436,476.477c-3.63279-4.42206-7.56046-9.05222-12.99421-10.84836l-5.07308.20009a575.43629,575.43629,0,0,0,153.26729,175.22056Q942.22437,558.76317,874.62436,476.477Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M1086.66915,698.4482c-10.56006,21.33-27.23,39.97-46.39,54.35-29.37,22.05-64.33,35.3-99.32,46.48-197.62,63.17-413.48,68.05-613.75,13.88-55.4-14.98-111.08-35.22-154.17-73.13a197.34468,197.34468,0,0,1-35.74-41.61c57.35-31.52,126.86-43.4,193.19-41.95,95.09,2.08,187.96,27.46,282.16,40.59a1102.669,1102.669,0,0,0,334.04-4.6c38.31994-6.43,77.98-14.84,115.49-4.66A95.14954,95.14954,0,0,1,1086.66915,698.4482Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><circle cx="179.31828" cy="51" r="51" fill="#ccc"/><path d="M362.30892,97.84042C348.81185,83.6816,333.13643,70.765,314.57961,63.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557A64.90832,64.90832,0,0,1,232.6863,78.8348a74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46711,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,361.647,100.3475,1.5139,1.5139,0,0,0,362.30892,97.84042Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><path d="M208.57961,131.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557,64.90832,64.90832,0,0,1-22.05231,8.22681,74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46712,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,255.647,168.3475a1.5139,1.5139,0,0,0,.66193-2.50708C242.81185,151.6816,227.13643,138.765,208.57961,131.93948Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><polygon points="1047.411 588.142 1074.576 567.518 1087.816 580.759 1043.563 611.042 1047.411 588.142" fill="#2f2e41"/><path d="M1048.91635,694.42781H955.99269l3.25907-10.55987,0,0c20.1993-7.31227,8.85333-23.02957,28.06751-32.63666,46.9968-23.4984,65.19118-93.62006,58.30932-121.33935l30.798-1.30221S1118.95877,649.37476,1048.91635,694.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M1128.24653,644.78888a15.61893,15.61893,0,0,1-20.18272.37759l-.0604-.04961-.00207-.07767a14.96483,14.96483,0,0,0-.6-3.81936,10.69077,10.69077,0,0,1-.38818,2.64366l-.07784.28991-.20873-.21549c-.18027-.18589-.35474-.37472-.51859-.561a15.75088,15.75088,0,0,1-2.399-3.63269,45.91623,45.91623,0,0,0-12.74-15.87972,22.29237,22.29237,0,0,1-2.6727-2.57172,22.03415,22.03415,0,0,1,27.66955-33.56911l.13767.0806-.07148.1425a11.47756,11.47756,0,0,1-2.04788,2.954,14.96829,14.96829,0,0,0,3.15395-2.27865l.10006-.09436.11337.07818a22.12793,22.12793,0,0,1,4.0294,3.5867l.12844.14726a9.83643,9.83643,0,0,0,7.28375,3.36123,15.614,15.614,0,0,1,15.11947,18.29291l-.01769.10315-.10034.0304a13.39866,13.39866,0,0,1-5.45694.68088,15.22208,15.22208,0,0,0,4.86061,1.2174l.21654.01718-.06874.20619a15.6035,15.6035,0,0,1-4.50339,6.79l-.05928.05187-.06294.05509a15.3329,15.3329,0,0,0-5.297,10.64272A15.73345,15.73345,0,0,1,1128.24653,644.78888Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M1131.089,639.76934a15.57418,15.57418,0,0,1-.1756,1.67894,15.78521,15.78521,0,0,0,2.53772-7.82047c.02071-.42637.06546-.8511.12549-1.27393A14.8141,14.8141,0,0,0,1131.089,639.76934Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1136.00331,620.789a15.19815,15.19815,0,0,0,3.88418,1.09822,15.63,15.63,0,0,0,1.42322-1.73647A13.24363,13.24363,0,0,1,1136.00331,620.789Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1141.72736,615.66082a15.70907,15.70907,0,0,1-.11112,4.05194,15.52908,15.52908,0,0,0,1.75758-3.62455l.06874-.2062-.21655-.01718A15.09472,15.09472,0,0,1,1141.72736,615.66082Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1140.28241,600.83967a15.65079,15.65079,0,0,0-11.46149-5.29958,9.83649,9.83649,0,0,1-7.28378-3.36124l-.12843-.14726a22.12785,22.12785,0,0,0-4.02939-3.58669l-.11338-.07817-.10005.09434a14.9676,14.9676,0,0,1-3.154,2.27865,11.47832,11.47832,0,0,0,2.04794-2.954l.07146-.1425-.13766-.08059a22.01777,22.01777,0,0,0-32.62113,14.2542,22.02182,22.02182,0,0,1,30.259-8.11268l.13765.08059-.07145.1425a11.47814,11.47814,0,0,1-2.04794,2.954,14.96754,14.96754,0,0,0,3.154-2.27865l.10006-.09434.11338.07817a22.12857,22.12857,0,0,1,4.02939,3.5867l.12843.14725a9.83643,9.83643,0,0,0,7.28377,3.36124,15.61675,15.61675,0,0,1,15.10347,12.83488,18.92714,18.92714,0,0,0,2.26005-.55l.10034-.03039.01776-.10314A15.554,15.554,0,0,0,1140.28241,600.83967Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1173.15913,536.54065a50.29141,50.29141,0,0,1-42.007,49.59965l-.2484.04053-.19219-.16016a48.18565,48.18565,0,0,0-10.51008-6.67159,34.42316,34.42316,0,0,1,5.5662,6.56047l.53537.80469-.96485.04641c-.8328.04053-1.66038.0608-2.45919.0608a50.71554,50.71554,0,0,1-13.88445-1.92513c-20.51748-5.83748-42.55022-6.83567-65.48571-2.96711a71.77856,71.77856,0,0,1-11.90147.993A70.94787,70.94787,0,0,1,1009.287,444.63723l.48765-.16146.19251.47589a36.95659,36.95659,0,0,1,2.787,11.23306,48.19635,48.19635,0,0,0,1.19789-12.47116l-.01536-.44255.43013-.10786a71.24939,71.24939,0,0,1,17.24051-2.1147l.62918.00262a31.67228,31.67228,0,0,0,23.616-10.46237,50.27568,50.27568,0,0,1,76.38016,2.34611l.2118.26213-.1399.30723c-2.93769,6.47484-6.13818,11.19189-9.95836,14.64143a49.01343,49.01343,0,0,0,13.27978-9.16282l.502-.487.35234.60466A50.24214,50.24214,0,0,1,1143.32,464.4278l-.00065.25363c-.00065.08956-.00065.17977-.00065.26932,0,13.61317,5.26419,26.51577,14.46689,35.43934A50.66021,50.66021,0,0,1,1173.15913,536.54065Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M1111.68868,417.71713a35.519,35.519,0,0,1-6.33509,7.77159,48.88929,48.88929,0,0,0,9.89823-6.1865Q1113.50228,418.44038,1111.68868,417.71713Z" transform="translate(-26.84086 -49.49819)"/><path d="M1140.79293,477.73323a50.48191,50.48191,0,0,1,7.22981,8.80775,51.39288,51.39288,0,0,1-4.70405-21.59022c0-.08957,0-.17978.00065-.26932l.00064-.25364a50.24245,50.24245,0,0,0-6.83956-25.32735l-.35235-.60468-.50207.487a49.12616,49.12616,0,0,1-9.17043,6.983A48.97185,48.97185,0,0,0,1140.79293,477.73323Z" transform="translate(-26.84086 -49.49819)"/><path d="M1126.32733,441.77093l-.00065.25364c-.00064.08954-.00064.17975-.00064.26931,0,.49355.00894.98585.02272,1.47739a52.3648,52.3648,0,0,0,5.95587-10.26709l.13985-.30725-.21176-.26212a50.68811,50.68811,0,0,0-9.096-8.79733A50.35621,50.35621,0,0,1,1126.32733,441.77093Z" transform="translate(-26.84086 -49.49819)"/><path d="M1157.78559,500.3901a45.45934,45.45934,0,0,1-6.40838-7.79666,50.2297,50.2297,0,0,1-37.21772,70.89l-.24841.04054-.19217-.16016a48.188,48.188,0,0,0-10.5101-6.67159,34.42262,34.42262,0,0,1,5.56617,6.56046l.5354.80471-.96482.0464c-.83286.04054-1.66041.0608-2.4592.0608a50.71549,50.71549,0,0,1-13.88448-1.92514c-20.51749-5.83747-42.55022-6.83566-65.4857-2.9671a71.7793,71.7793,0,0,1-11.90145.993,70.62389,70.62389,0,0,1-47.12-17.969,71.01118,71.01118,0,0,0,64.1127,40.6259,71.77947,71.77947,0,0,0,11.90145-.99294c22.93547-3.86857,44.96821-2.87037,65.4857,2.96709a50.71543,50.71543,0,0,0,13.88448,1.92514c.79878,0,1.62634-.02026,2.45919-.0608l.96483-.0464-.5354-.80471a34.42263,34.42263,0,0,0-5.56618-6.56045,48.18774,48.18774,0,0,1,10.51011,6.67159l.19217.16016.24841-.04055a50.25392,50.25392,0,0,0,26.63344-85.75019Z" transform="translate(-26.84086 -49.49819)"/></g><polygon points="134.035 560.973 97.223 533.025 79.28 550.968 139.25 592.007 134.035 560.973" fill="#2f2e41"/><path d="M195.21,687.42781h125.9266L316.72,673.11747l0,0c-27.37332-9.9093-11.99769-31.20879-38.036-44.228-63.68827-31.84414-88.3446-126.87035-79.01856-164.43447l-41.73625-1.76471S100.29113,626.37364,195.21,687.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M80.55365,605.25219a20.7786,20.7786,0,0,0-7.17833-14.42261c-.0283-.02489-.05681-.05-.08529-.07465l-.08034-.0703a21.14539,21.14539,0,0,1-6.10283-9.20148l-.09315-.27942.29345-.02329a20.6283,20.6283,0,0,0,6.58691-1.64977,18.15726,18.15726,0,0,1-7.395-.9227l-.136-.0412-.024-.13979a21.15953,21.15953,0,0,1,20.48932-24.78985,13.32987,13.32987,0,0,0,9.87066-4.555l.17406-.19956a29.9868,29.9868,0,0,1,5.46049-4.86055l.15364-.106.13559.12786a20.2845,20.2845,0,0,0,4.27411,3.088,15.554,15.554,0,0,1-2.77519-4.00312l-.09688-.19312.18657-.10923A29.85984,29.85984,0,0,1,141.70818,588.318a30.209,30.209,0,0,1-3.62195,3.48511,62.224,62.224,0,0,0-17.26483,21.51959,21.34447,21.34447,0,0,1-3.251,4.92289c-.222.25244-.45848.50834-.70277.76026l-.28286.292-.10549-.39287a14.48742,14.48742,0,0,1-.526-3.58259,20.27961,20.27961,0,0,0-.813,5.17585l-.00281.10525-.08185.06724a21.15037,21.15037,0,0,1-34.50192-15.41853Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M83.85266,613.35673a21.10374,21.10374,0,0,0,.238,2.27524,21.39156,21.39156,0,0,1-3.439-10.598c-.02806-.57781-.08871-1.15339-.17006-1.72639A20.07562,20.07562,0,0,1,83.85266,613.35673Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M77.193,587.63524a20.59681,20.59681,0,0,1-5.2637,1.48826,21.18029,21.18029,0,0,1-1.92868-2.3532A17.94731,17.94731,0,0,0,77.193,587.63524Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M69.436,580.68579a21.28893,21.28893,0,0,0,.1506,5.491,21.04389,21.04389,0,0,1-2.3818-4.91186l-.09316-.27943.29346-.02329A20.4517,20.4517,0,0,0,69.436,580.68579Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M71.39415,560.60073a21.20931,21.20931,0,0,1,15.53218-7.18179,13.33,13.33,0,0,0,9.87069-4.555l.174-.19955a29.98717,29.98717,0,0,1,5.46048-4.86056l.15364-.10593.13559.12785a20.28377,20.28377,0,0,0,4.27415,3.08794,15.55474,15.55474,0,0,1-2.77529-4.00312l-.09683-.19312.18655-.10921A29.83764,29.83764,0,0,1,148.51627,561.925a29.84315,29.84315,0,0,0-41.00585-10.994l-.18655.10921.09683.19311a15.5548,15.5548,0,0,0,2.77529,4.00313,20.28412,20.28412,0,0,1-4.27415-3.08794l-.13559-.12786-.15364.10594a29.98711,29.98711,0,0,0-5.46048,4.86055l-.174.19956a13.33,13.33,0,0,1-9.87069,4.555A21.16316,21.16316,0,0,0,69.65975,579.135a25.64845,25.64845,0,0,1-3.06273-.74529l-.136-.04118-.02407-.13978A21.07824,21.07824,0,0,1,71.39415,560.60073Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M47.67454,424.47529c12.47114-12.09289,19.605-29.578,19.605-48.026,0-.12136,0-.24361-.00089-.365l-.00088-.34372a68.08611,68.08611,0,0,1,9.26876-34.32266l.47748-.81942.68034.66a66.42122,66.42122,0,0,0,17.99625,12.41711c-5.177-4.67469-9.51414-11.06706-13.4952-19.8415l-.18957-.41636.287-.35523a68.13168,68.13168,0,0,1,103.50749-3.17935,42.9211,42.9211,0,0,0,32.00348,14.1782l.85264-.00355a96.55467,96.55467,0,0,1,23.36369,2.86576l.58289.14617-.02081.59973a65.31307,65.31307,0,0,0,1.62334,16.90044,50.08227,50.08227,0,0,1,3.77686-15.22262l.26089-.64491.66085.21881a96.14585,96.14585,0,0,1-30.24771,187.39848A97.27192,97.27192,0,0,1,202.538,534.974c-31.0813-5.24253-60.93923-3.88982-88.74374,4.02092a68.72787,68.72787,0,0,1-18.81567,2.60886c-1.08252,0-2.204-.02747-3.33261-.08239l-1.30753-.0629L91.064,540.368a46.64968,46.64968,0,0,1,7.5431-8.8905,65.29981,65.29981,0,0,0-14.24286,9.0411l-.26045.217-.33662-.05492A68.10219,68.10219,0,0,1,47.67454,424.47529Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M110.14328,312.44a48.13438,48.13438,0,0,0,8.58508,10.53176,66.25283,66.25283,0,0,1-13.4137-8.38371Q107.68556,313.42016,110.14328,312.44Z" transform="translate(-26.84086 -49.49819)"/><path d="M70.70231,393.77157a68.411,68.411,0,0,0-9.79756,11.93592,69.64577,69.64577,0,0,0,6.37475-29.25825c0-.12137,0-.24362-.00088-.365l-.00087-.34372a68.08661,68.08661,0,0,1,9.26871-34.32266l.4775-.81944.68039.66a66.5738,66.5738,0,0,0,12.42741,9.46305C88.97194,367.31049,82.046,382.77189,70.70231,393.77157Z" transform="translate(-26.84086 -49.49819)"/><path d="M90.30555,345.03683l.00087.34372c.00088.12134.00088.24359.00088.365,0,.66884-.01212,1.336-.0308,2.0021A70.9624,70.9624,0,0,1,82.20534,333.834l-.18953-.41637.287-.35522a68.69044,68.69044,0,0,1,12.32659-11.92181A68.24086,68.24086,0,0,0,90.30555,345.03683Z" transform="translate(-26.84086 -49.49819)"/><path d="M47.67451,424.4753a61.60525,61.60525,0,0,0,8.6844-10.56575,68.06938,68.06938,0,0,0,50.436,96.06741l.33664.05494.26042-.217a65.30253,65.30253,0,0,1,14.24289-9.04108,46.64767,46.64767,0,0,0-7.54306,8.89047l-.72556,1.09052,1.3075.06287c1.12865.05494,2.25012.08239,3.33261.08239a68.72762,68.72762,0,0,0,18.81572-2.60886c27.80451-7.91072,57.66244-9.26344,88.74372-4.0209a97.27262,97.27262,0,0,0,16.12839,1.3456,95.7069,95.7069,0,0,0,63.8553-24.35094,96.23165,96.23165,0,0,1-86.88309,55.05467A97.27245,97.27245,0,0,1,202.538,534.974c-31.08129-5.24254-60.93922-3.88982-88.74373,4.0209a68.72763,68.72763,0,0,1-18.81572,2.60887c-1.08249,0-2.204-.02746-3.33261-.0824l-1.30749-.06287L91.064,540.368a46.64834,46.64834,0,0,1,7.54306-8.89047,65.30253,65.30253,0,0,0-14.24289,9.04108l-.26042.217-.33663-.05494A68.10219,68.10219,0,0,1,47.67451,424.4753Z" transform="translate(-26.84086 -49.49819)"/></g><circle cx="460.31828" cy="185" r="5" fill="#fff"/><circle cx="834.31828" cy="305" r="3" fill="#fff"/><circle cx="892.31828" cy="170" r="3" fill="#fff"/><circle cx="355.31828" cy="80" r="3" fill="#fff"/><circle cx="325.31828" cy="201" r="3" fill="#fff"/><circle cx="179.31828" cy="170" r="3" fill="#fff"/><circle cx="696.31828" cy="195" r="3" fill="#fff"/><circle cx="1003.31828" cy="98" r="3" fill="#fff"/><path d="M328.95929,413.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C339.30268,425.75443,332.75886,420.59829,328.95929,413.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M910.95929,612.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C921.30268,624.75443,914.75886,619.59829,910.95929,612.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M591.95929,449.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C602.30268,461.75443,595.75886,456.59829,591.95929,449.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M287.95929,565.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C298.30268,577.75443,291.75886,572.59829,287.95929,565.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M249.95929,651.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C260.30268,663.75443,253.75886,658.59829,249.95929,651.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><rect x="843.31828" y="68" width="11" height="589" fill="#3f3d56"/><rect x="813.31828" y="20" width="72" height="72" rx="35.99996" fill="#ff6582"/><path d="M418.64263,424.1385c0,11.47771,12.51572,21.67823,23.99344,21.67823s17.571-10.20052,17.571-21.67823a20.78224,20.78224,0,0,0-41.56448,0Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="398.471 484.489 437.067 483.005 439.294 442.925 394.76 442.925 398.471 484.489" fill="#ffb8b8"/><path d="M400.81364,561.4928a6.18231,6.18231,0,0,0-.36494-9.4728l7.00739-20.82235-11.03775,2.917-4.96213,19.32605a6.21581,6.21581,0,0,0,9.35743,8.05215Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><circle cx="415.75835" cy="381.62478" r="14.69804" fill="#ffb8b8"/><path d="M442.96047,429.64379l-10.73253-.28426a1.504,1.504,0,0,1-1.28014-.78738l-3.58787-6.65514a1.49783,1.49783,0,0,1,.39563-1.89138L441.79818,409.047a1.49679,1.49679,0,0,1,1.25618-.28037l11.34184,2.58422a1.499,1.499,0,0,1,1.1066,1.04314l4.4413,15.29492a1.49935,1.49935,0,0,1-1.51389,1.916l-5.5602-.27779a1.50724,1.50724,0,0,1-1.34747-1.0276l-.23052-.69867a.17342.17342,0,0,0-.338.05439,1.49974,1.49974,0,0,1-1.57346,1.4977l-1.84088-.09194a1.4954,1.4954,0,0,1-1.396-1.205l-.79385-3.99256a.1732.1732,0,0,0-.34188.01359l-.51866,4.442a1.492,1.492,0,0,1-1.48734,1.32546Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M432.2515,449.58079l19.00323.25331,6.18481,7.85346,9.95684,2.3481,2.5878,14.95427c1.29375,7.47624-.07979,12.21089-3.88076,18.77751l0,0-.45522,12.91771.503.91426a2.09364,2.09364,0,0,1-.63119,2.72267h0a4.27726,4.27726,0,0,1,.11752,2.81491l-.24528.81046s-.70783,5.66261-40.83239-.29293a3.95632,3.95632,0,0,1-3.34345-3.3986h0a2.95406,2.95406,0,0,1-.547-3.4038l.08175-.16348-.412-.48529a3.177,3.177,0,0,1-.1608-3.90659h0l-5.76652-41.25217,11.91192-3.71Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M419.16862,464.99288l-4.75684-3.94828s-4.22952,1.25013-7.18334,9.58077-13.08957,71.52656-13.08957,71.52656l11.87557-5.93778,16.8392-46.43085Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M524.81946,532.274a6.18228,6.18228,0,0,1-7.09116-6.29147l-20.54147-7.79242,9.257-6.682,18.08733,8.42424a6.21581,6.21581,0,0,1,.28831,12.34162Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><path d="M461.88061,464.63253l3.22471-5.27425s4.40655-.18456,9.89528,6.74353c2.81373,3.55161,21.04874,34.01719,21.04874,34.01719l16.86311,14.05546-13.80628,4.93081-16.27169-6.90314-18.244-30.078Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="435.555 666.81 444.739 666.81 449.108 631.385 435.553 631.386 435.555 666.81" fill="#ffb6b6"/><polygon points="355.157 661.099 364.044 663.415 377.208 630.238 364.091 626.819 355.157 661.099" fill="#ffb6b6"/><path d="M460.11787,711.77763l14.51826-.86655v6.22026l13.80293,9.53279a3.88541,3.88541,0,0,1-2.20782,7.08274H468.9467l-2.97925-6.15279-1.16325,6.15279h-6.517Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M380.13111,705.42858l14.2674,2.8235-1.569,6.01913,10.95211,12.70615a3.88541,3.88541,0,0,1-3.923,6.29683L383.133,728.91441l-1.331-6.70531-2.67759,5.66043-6.30624-1.64381Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M383.1248,688.31931l26.92081-55.33021,2.11353-65.49091C406.33233,556.677,423.491,532.805,423.491,532.805v-9.24491l41.91852,7.90812v0a201.21489,201.21489,0,0,1,12.26151,73.06026L475.982,694.04734h.52987a3.31527,3.31527,0,1,1,0,6.63053H459.9355a3.31527,3.31527,0,1,1,0-6.63053h.4274L448.4631,580.16351l-13.83654,56.19881L401.189,688.1066a3.3069,3.3069,0,0,1-.26524,6.60379H384.34739a3.31182,3.31182,0,0,1-1.22259-6.39108Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M382.75841,426.29647c6.19395-6.05935,10.09279-14.02773,15.22255-21.01108,5.1296-6.98327,12.35472-13.3824,21.01083-13.77026a13.03786,13.03786,0,0,1,8.16579,2.129,8.30541,8.30541,0,0,1,3.60455,7.36741c.9138-2.56674,4.99718-3.1453,6.588-.93331,1.59062,2.21191-.25722,5.89893-2.98115,5.94838l-.2671-1.05666a18.24877,18.24877,0,0,1-11.80141,7.83613,2.9783,2.9783,0,0,1-3.35526-3.85425C409.59087,410.80666,412.56052,428.25234,407,436s-21.45259,6.99551-30.82907,8.7353c-9.05466,1.68-17.85857-3.34756-25.69931-8.178A38.2715,38.2715,0,0,0,382.75841,426.29647Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M732.68989,636.90373,704.47275,624.455V613.75265l10.0561-.05651a7.46918,7.46918,0,0,0,7.044-5.10714l7.06437-21.19305a7.46924,7.46924,0,0,0-7.086-9.83122H704.47275v-9.959H725.913a7.46925,7.46925,0,0,0,7.27937-5.79584l4.865-21.16286a7.46923,7.46923,0,0,0-7.27937-9.14265H704.47275v-2.48975a4.97949,4.97949,0,0,0-9.959,0v2.48975H518.1566v-2.48975a4.9795,4.9795,0,0,0-9.959,0v2.48975H487.2868a7.46923,7.46923,0,0,0-7.27937,9.14265l4.865,21.16286a7.46925,7.46925,0,0,0,7.27937,5.79584H508.1976v9.959H496.51328a7.46923,7.46923,0,0,0-7.10927,9.76l7.21041,22.37711a7.46925,7.46925,0,0,0,7.15123,5.17837l4.432-.0249V624.455l-22.82269,12.44874a7.46922,7.46922,0,0,0-7.46924,7.46922v0a7.46925,7.46925,0,0,0,7.46924,7.46925H508.1976v54.77446a4.9795,4.9795,0,0,0,9.959,0V651.84222H694.51376v54.77446a4.97949,4.97949,0,0,0,9.959,0V651.84222h28.21714a7.46925,7.46925,0,0,0,7.46925-7.46925v0A7.46922,7.46922,0,0,0,732.68989,636.90373Zm-214.53329-69.298H694.51376v9.959H518.1566Zm0,56.84925v-9.65563l176.35716-.99076V624.455Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/></svg>',zee='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="855.93958" height="630.06608" viewBox="0 0 855.93958 630.06608" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M935.43234,472.55767c-3.73,43.08-22.51,84.71-49.3,119.14q-1.68,2.16-3.4,4.28-3.87,4.77-7.94,9.36-4.98,5.655-10.25,11.05005-4.29,4.43994-8.78,8.68994-3.465,3.315-7.01,6.5c-28.43,25.69-61.09,46.89-94.74,65.43005-65.67,36.17-137.65,63.56995-212.52,67.56-74.86,3.98-153.01-17.46-207.91-68.52-73.99-68.81-94.63995-183.58-64.6-280.05,19.98-64.18,60.76-122.24,116.26-160.16,55.02-37.59,124.43-54.51,190.12-43.44995,52.44-31.87006,121.09-32.48,178.1-8.89,30.42,12.59,57.72,31.31,81.67,53.93a339.34337,339.34337,0,0,1,30.72,33.23q1.455,1.785,2.88,3.6,5.97,7.545,11.55,15.4,8.01,11.265,15.21,23.03c1.32,2.16,2.63,4.33,3.91,6.52.86,1.47,1.73,2.95,2.58,4.44a.29776.29776,0,0,1,.04.1c13.31,23.41,24.19,48.39,29.86005,74.5,1,4.62,1.84,9.26,2.49,13.94v.01q.855,5.955,1.29,11.97A176.97711,176.97711,0,0,1,935.43234,472.55767Z" transform="translate(-172.03021 -134.96696)" fill="#3f3d56"/><path d="M740.07386,537.68412,591.61233,414.00627,735.84027,542.638a3.44161,3.44161,0,1,0,4.23359-4.95386Z" transform="translate(-172.03021 -134.96696)" fill="#f0f0f0" opacity="0.3"/><circle cx="227.58212" cy="250.78071" r="89" fill="#f2f2f2"/><path d="M478.61233,379.74767a80.99369,80.99369,0,0,1-81,81,81.57161,81.57161,0,0,1-27.8-4.9,81.05489,81.05489,0,1,1,108.8-76.1Z" transform="translate(-172.03021 -134.96696)" fill="#fff"/><circle cx="211.58212" cy="217.78071" r="25" fill="#e4e4e4"/><path d="M475.45236,357.27764a25.00115,25.00115,0,0,1-27.6-41.08A81.05279,81.05279,0,0,1,475.45236,357.27764Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="252.58212" cy="271.78071" r="9" fill="#e4e4e4"/><path d="M387.61233,457.74767a9.04581,9.04581,0,0,1-.31,2.34,79.52774,79.52774,0,0,1-17.49-4.24,9.00157,9.00157,0,0,1,17.8,1.9Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><path d="M334.61233,375.74767a18.002,18.002,0,0,1-16.8,17.96,81.54773,81.54773,0,0,1,1.76-35.71A18.00026,18.00026,0,0,1,334.61233,375.74767Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="606.45653" cy="208.48305" r="3.70234" fill="#6c63ff"/><circle cx="572.30231" cy="119.94851" r="2.16307" fill="#f0f0f0"/><circle cx="225.30231" cy="543.94851" r="2.16307" fill="#f0f0f0"/><circle cx="584.58144" cy="331.59402" r="2.16307" fill="#f0f0f0"/><circle cx="305.45653" cy="350.48305" r="3.70234" fill="#6c63ff"/><circle cx="171.45653" cy="416.48305" r="17.48305" fill="#6c63ff"/><circle cx="267.30231" cy="435.94851" r="2.16307" fill="#f0f0f0"/><circle cx="487.30231" cy="97.94851" r="2.16307" fill="#f0f0f0"/><circle cx="358.30231" cy="558.94851" r="2.16307" fill="#f0f0f0"/><circle cx="326.30231" cy="117.94851" r="2.16307" fill="#f0f0f0"/><circle cx="382.30231" cy="222.94851" r="2.16307" fill="#f0f0f0"/><circle cx="296.58144" cy="480.59402" r="2.16307" fill="#f0f0f0"/><circle cx="549.58144" cy="494.59402" r="2.16307" fill="#f0f0f0"/><circle cx="437.58144" cy="368.59402" r="2.16307" fill="#f0f0f0"/><circle cx="494.58144" cy="222.59402" r="2.16307" fill="#f0f0f0"/><circle cx="598.21204" cy="292.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="150.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="445.65473" r="4.28889" fill="#ff6584"/><path d="M863.45236,605.33764a7.694,7.694,0,0,0-7.39,5.58,7.3896,7.3896,0,0,0-.3,2.12v12.04q4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.68118,667.89806q-19.36816,0-42.45654-1.46386c-79.61377-5.05567-182.7378-22.63282-290.376-49.49219-107.6377-26.85938-206.93018-59.79395-279.58545-92.73438-35.39258-16.04687-62.55615-31.23632-80.73535-45.14746-19.24707-14.72705-27.666-27.564-25.02393-38.15283,5.148-20.62891,50.731-25.14209,88.064-25.29541l.01269,3c-51.26806.21045-81.51367,8.38672-85.16552,23.022-4.65186,18.64014,33.28662,47.74073,104.08691,79.84131,72.49561,32.86817,171.60547,65.73926,279.07324,92.55664,107.46729,26.81641,210.40137,44.36328,289.83985,49.40821,77.57861,4.92773,124.74316-2.9375,129.39453-21.57813,3.86181-15.47656-21.59815-38.27539-71.68946-64.19824l1.37891-2.66406c36.397,18.83593,78.64551,45.85156,73.22168,67.58886-2.64258,10.58887-16.10547,17.96485-40.01514,21.92285C927.0762,666.7672,910.33548,667.89806,890.68118,667.89806Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="714.58212" cy="208.78071" r="100.5" fill="#fff"/><path d="M886.61233,241.74767a102,102,0,1,0,102,102A101.635,101.635,0,0,0,886.61233,241.74767Zm0,201a99,99,0,1,1,99-99A98.61767,98.61767,0,0,1,886.61233,442.74767Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M798.417,367.81847a2.00078,2.00078,0,0,1-1.957-1.59765,97.66924,97.66924,0,0,1,22.34082-83.13526,2,2,0,0,1,2.98633,2.66114A93.59682,93.59682,0,0,0,800.378,365.41515a2.00228,2.00228,0,0,1-1.96094,2.40332Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><circle cx="714.51924" cy="238.27373" r="63.87702" fill="#6c63ff"/><path d="M866.24805,397.35666c-4.14062-.115-9.29385-.25869-13.26384-3.15874a10.18618,10.18618,0,0,1-4.00806-7.60607,6.85213,6.85213,0,0,1,2.33007-5.62763c2.07352-1.75216,5.10139-2.16313,8.36441-1.2042l-3.38076-24.7061,2.48174-.34,3.97444,29.04518-2.07245-.951c-2.4027-1.10205-5.70088-1.66285-7.7504.06911a4.40263,4.40263,0,0,0-1.44375,3.62659,7.69887,7.69887,0,0,0,2.98246,5.67107c3.08949,2.25668,7.19708,2.54779,11.85585,2.678Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><rect x="658.49493" y="222.21767" width="13.49133" height="2.50498" fill="#2f2e41"/><rect x="701.07961" y="222.21765" width="13.49133" height="2.50498" fill="#2f2e41"/><path d="M889.23233,452.90765h-57.9a8.14716,8.14716,0,0,0-8.13995,8.14v128.33a47.66955,47.66955,0,0,0,25.56,42.19995q3.555-3.18,7.01-6.5,4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005,4.08006-4.59,7.94-9.36,1.725-2.115,3.4-4.28c26.79-34.43,45.57-76.06,49.3-119.14A64.04854,64.04854,0,0,0,889.23233,452.90765Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M891.34231,479.68767a14.61136,14.61136,0,0,0-10.43-4.17,14.465,14.465,0,0,0-9.16,3.36005,13.12263,13.12263,0,0,0-1.17,1.07l-47.38995,48.6-34.37,35.25a6.80061,6.80061,0,0,0-1.28,1.8,7.29573,7.29573,0,0,0-.77,3.32,7.16751,7.16751,0,0,0,2.18006,5.07l1.35,1.32,9.8,9.55.01-.01a7.29073,7.29073,0,0,0,4.66,1.63,7.167,7.167,0,0,0,5.07-2.18l1.59-1.62,11.38-11.67.38-.39,68.41-70.16a14.69128,14.69128,0,0,0-.26-20.77Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.86152,343.44c2.1124-4.46658-.05349-9.23761-3.76378-12.09072-4.67557-3.59539-10.7221-3.00085-16.04008-1.29905-5.82238,1.8632-11.51366,5.21608-17.80383,5.02337a11.13058,11.13058,0,0,1-10.24407-7.27764c-3.3687-8.639.43561-18.29488,6.29971-24.84681a34.26766,34.26766,0,0,1,26.544-11.586,34.64989,34.64989,0,0,1,28.068,16.9026,1.54079,1.54079,0,0,0,2.05229.53813,36.88225,36.88225,0,0,1,28.39377-.71432,36.28984,36.28984,0,0,1,22.58042,34.49188c-.05,1.93122,2.95005,1.9301,3,0a39.89155,39.89155,0,0,0-10.59928-27.81249,38.71871,38.71871,0,0,0-27.56681-12.16772,39.33641,39.33641,0,0,0-17.32226,3.61223l2.05229.53813a37.69886,37.69886,0,0,0-25.0988-17.728,36.48542,36.48542,0,0,0-29.42384,7.32772c-7.70165,6.02707-13.53849,15.38016-13.17519,25.41071.15721,4.34047,1.44713,8.796,4.4606,12.03051,3.85981,4.14287,9.62229,4.85944,14.94631,3.798,7.07554-1.41071,13.53533-6.06449,20.91133-5.92113a10.21164,10.21164,0,0,1,7.6417,3.4453c1.62455,1.83335,2.6042,4.47042,1.49716,6.81122-.82094,1.73585,1.76463,3.26026,2.59041,1.51416Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M412.09426,704.32287c-35.59912.001-68.69433-1.22071-98.32226-3.68555-38.72656-3.22266-69.41455-8.40332-91.21045-15.39648-23.07666-7.40528-35.31934-16.667-36.38818-27.52832-2.083-21.15821,39.334-40.72461,74.44531-53.41309l1.01953,2.82227c-48.2168,17.42382-73.957,35.28613-72.47949,50.29785,1.88183,19.11914,47.39209,33.78125,124.86181,40.22754,79.3252,6.60058,183.71729,4.26172,293.94727-6.58985,110.23-10.84863,213.07568-28.90625,289.59131-50.8457,74.72607-21.42578,116.50488-44.67969,114.623-63.79883-1.5625-15.874-33.20264-28.793-89.0918-36.3789l.40332-2.97266c40.60986,5.51172,89.47949,16.76172,91.67383,39.05762,1.06933,10.86132-9.1333,22.332-30.32276,34.09375-20.01465,11.10937-49.10351,22.17285-86.45849,32.88281-76.68506,21.98828-179.71973,40.08105-290.12451,50.94824C539.00247,700.86,472.01663,704.32287,412.09426,704.32287Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="838.45653" cy="434.48305" r="17.48305" fill="#6c63ff"/><circle cx="331.45653" cy="17.48305" r="17.48305" fill="#e6e6e6"/><circle cx="19.45653" cy="433.48305" r="17.48305" fill="#e6e6e6"/><circle cx="127.45653" cy="108.48305" r="10.70234" fill="#ff6584"/><circle cx="77.45653" cy="514.48305" r="10.70234" fill="#ff6584"/><circle cx="807.45653" cy="339.48305" r="10.70234" fill="#ff6584"/><circle cx="645.45653" cy="598.48305" r="17.48305" fill="#e6e6e6"/></svg>',NI=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),o=new Uint8Array(r);for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return new Blob([r],{type:t})},AI=async e=>{const{vault:t}=ft.getState().app,n=await t.adapter.readBinary(e),r=new Uint8Array(n),o=new Blob([r],{type:"image/png"});return new Promise(i=>{const a=new FileReader;a.onloadend=()=>{const c=a.result;i(c)},a.readAsDataURL(o)})},Vee=async e=>{var n,r;const t=e.find(".thino-user-icon");if(!(t&&!/(http|app|base64)/.test((n=t==null?void 0:t.style)==null?void 0:n.backgroundImage))&&t&&(r=t==null?void 0:t.style)!=null&&r.backgroundImage){const o=await ym(t);t.style.backgroundImage=`url("${o}")`}},VS=async e=>{const t=e.findAll("img");for(const n of t)if(n.src.startsWith("http://localhost")){const r=await xd(n.getAttribute("path")||C.normalizePath(n==null?void 0:n.parentElement.getAttribute("src")));n.src=r}else{const r=await TO(n);n.src=r}},Wee=async e=>{const{app:t,settings:n}=ft.getState();let r,o;const i=document.body.hasClass("theme-light"),a=i?e==="modern"?n==null?void 0:n.DefaultLightBackgroundImage:n==null?void 0:n.DefaultLightBackgroundImageForClean:e==="modern"?n==null?void 0:n.DefaultDarkBackgroundImage:n==null?void 0:n.DefaultDarkBackgroundImageForClean,c=await t.vault.adapter.exists(a)&&/\.(png|svg|jpg|jpeg)/g.test(a),d=a==null?void 0:a.startsWith("http");switch(e){case"clean":c||d?(o=a,r=d?await xd(a):await AI(o)):r=i?vv:D1;break;case"minimal":break;case"modern":default:c||d?(o=a,r=d?await xd(a):await AI(o)):r="data:image/svg+xml;base64,"+btoa(i?Uee:zee);break}switch(e){case"modern":{const f=document.querySelector(".dialog-wrapper .memo-background .property-image");f.style.backgroundImage="url('"+r+"')";break}case"clean":{const f=document.querySelector(".dialog-wrapper .memo-container.clean .memo-background .property-image");f&&(f.style.backgroundImage="url('"+r+"')");break}case"minimal":break;default:{const f=document.querySelector(".dialog-wrapper .memo-background .property-image");f.style.backgroundImage="url('"+r+"')"}}return r},Zee=e=>{const{memo:t,destroy:n}=e,{memos:r}=Re.getState().memoState,{view:o,app:i,settings:a}=Re.getState().dailyNotesState,c={...t,createdAtStr:ct.getDateTimeString(t.createdAt)},[d,f]=F.useState(!1),[m,g]=F.useState(c.content),[v,w]=F.useState(!1),T=F.useRef(null),S=F.useRef(null),I=F.useRef(null),[k,P]=F.useState(e.style||(i||window.app).loadLocalStorage("memoShareDialogStyle")||"clean"),[R,M]=F.useState(""),_=F.useRef(null),L=F.useRef(null),[z,Y]=le.useState(a==null?void 0:a.MomentsIcon);F.useEffect(()=>{if(!(a!=null&&a.MomentsIcon)||!i)return;const ue=i.vault.adapter.getResourcePath(C.normalizePath(a.MomentsIcon));ue&&!(a!=null&&a.MomentsIcon.startsWith("http"))?Y(ue):Y(a==null?void 0:a.MomentsIcon)},[a==null?void 0:a.MomentsIcon,i]);let V,$;r.length&&(V=r.length>0?r[r.length-1]:null,V?$=r?Math.ceil((Date.now()-ct.getTimeStampByDate(V==null?void 0:V.createdAt))/1e3/3600/24)+1:0:$=0),a==null||a.ShareFooterEnd.replace("{UserName}",a==null?void 0:a.UserName);const re=a==null?void 0:a.ShareFooterStart.replace("{ThinoNum}",r.length.toString()).replace("{UsedDay}",$.toString());F.useEffect(()=>{!T.current||!S.current||(C.setIcon(T.current,"copy"),C.setIcon(S.current,"x"))},[T,S]),F.useEffect(()=>{I.current&&C.setIcon(I.current,"file-down")},[I]),F.useEffect(()=>{C.setIcon(T.current,v?"loader":"copy"),T.current.disabled=v,T.current.toggleClass("copying",v)},[v]),F.useEffect(()=>{if(!L.current||!o&&!e.view||d)return;g(t.content),L.current.hasChildNodes()&&L.current.empty();async function ue(){var ne;(ne=L.current)==null||ne.toggleClass(["markdown-rendered"],!0),await C.MarkdownRenderer.render(i,t.content+`
`,L.current,t.path,o||e.view)}ue(),setTimeout(async()=>{await Q()},PE)},[_,L,c,k]);const Q=async()=>{_.current&&(await Vee(_.current),await VS(_.current),Wee(k).then(ue=>{ue&&setTimeout(()=>{y0(_.current,{pixelRatio:window.devicePixelRatio*2}).then(ne=>{M(ne),f(!0)}).catch(()=>{})},600)}))},ae=()=>{n()},X=F.useCallback(ue=>{w(ue)},[v]),ie=async()=>{const{vault:ue}=Re.getState().dailyNotesState.app,ne=_.current.querySelector(".memo-shortcut-img");if(!ne)return;const he=ne==null?void 0:ne.getAttribute("src").split("base64,")[1],K=NI(he,"image/png");let oe;K.arrayBuffer().then(async pe=>{const Ee="png",je=uc();for(const Ae in je)if(je[Ae]instanceof C.TFile){oe=je[Ae];break}if(oe!==void 0){const Ae=await ue.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,Ee,oe);await ue.createBinary(Ae,pe),new C.Notice(E("Save image successfully"))}})},Z=async()=>{X(!0);const ue=_.current.querySelector(".memo-shortcut-img");if(!ue)return;const ne=ue==null?void 0:ue.getAttribute("src").split("base64,")[1],he=NI(ne,"image/png");if(!he){new C.Notice(E("Copy to clipboard failed"));return}const K=new ClipboardItem({"image/png":he});window.navigator.clipboard.write([K]).then(()=>{setTimeout(()=>{X(!1)},500)}),new C.Notice(E("Copy to clipboard successfully"))};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:Kn("dialog-header-container"),children:[y.jsxs("p",{className:"title-text",children:[y.jsx("span",{className:"icon-text",children:"🥰"}),E("Share Memo Image")]}),y.jsxs("div",{className:"btn-group",children:[C.Platform.isMobile&&y.jsx("button",{ref:I,className:"btn download-btn",onClick:ie}),y.jsx("button",{ref:T,className:"btn copy-btn",onClick:Z}),y.jsx("button",{ref:S,className:"btn close-btn",onClick:ae})]})]}),y.jsxs("div",{className:Kn("dialog-content-container",k),children:[y.jsx("div",{className:`tip-words-container ${R?"finish":"loading"}`,children:y.jsx("p",{className:"tip-text",children:E(R?"↗Click the button to save":"Image is generating...")})}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Default sharing style")}),y.jsx("div",{className:"setting-item-description",children:E("Set the default style for sharing thino, 'Modern' by default.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:k,onChange:async ue=>{ue.currentTarget.value!==k&&(f(!1),M(""),P(ue.currentTarget.value),(i||window.app).saveLocalStorage("memoShareDialogStyle",ue.currentTarget.value),await Q())},children:[y.jsx("option",{value:"modern",children:E("Modern")}),y.jsx("option",{value:"clean",children:E("Clean")}),y.jsx("option",{value:"minimal",children:E("Minimal")}),y.jsx("option",{value:"gradient",children:E("Gradient")})]})})]}),y.jsxs("div",{className:Kn("memo-container",k),ref:_,children:[y.jsx(Fa,{when:R!=="",children:y.jsx("img",{className:"memo-shortcut-img",onClick:Z,src:R})}),y.jsxs("div",{className:"memo-background",children:[y.jsx("div",{className:"property-image",style:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),y.jsx("span",{className:"background-container"}),y.jsxs("div",{className:"thino-user-header",children:[y.jsx("div",{className:"thino-user-icon",ref:ue=>{if(a!=null&&a.MomentsIcon){ue==null||ue.empty();return}a!=null&&a.MomentsIcon||ue&&C.setIcon(ue,"Memos")},style:{backgroundImage:`url("${z}")`}}),y.jsxs("div",{className:"thino-user-info",children:[y.jsx("div",{className:"thino-user-name",children:a==null?void 0:a.UserName}),(a==null?void 0:a.MomentsQuote)&&y.jsx("div",{className:"thino-user-quote",children:a==null?void 0:a.MomentsQuote})]})]}),y.jsx("div",{ref:L,className:"memo-content-text",style:{minHeight:a.MinHeightForShare||"200px"}}),y.jsx("div",{className:"thino-time-footer",children:c.createdAt}),y.jsxs("div",{className:"watermark-container",children:[y.jsxs("span",{className:"normal-text footer-start",children:[y.jsx("div",{className:"property-social-icons"}),y.jsx("span",{className:"name-text",children:re})]}),y.jsx("span",{className:"normal-text footer-end",children:y.jsx("span",{className:"name-text",children:"THINO"})})]})]})]})]})]})};function yd(e,t,n){u0({className:"share-memo-image-dialog"},Zee,{memo:e,style:t,view:n})}function Gh(e=!0){const[t,n]=F.useState({isLoading:e,isFailed:!1,isSucceed:!1,isPending:!1});return{...t,setLoading:()=>{n({...t,isLoading:!0,isFailed:!1,isPending:!1,isSucceed:!1})},setFinish:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!1,isSucceed:!0})},setError:()=>{n({...t,isLoading:!1,isFailed:!0,isPending:!1,isSucceed:!1})},setPending:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!0,isSucceed:!1})}}}const $ee=e=>{const{dailyNotesState:{app:t,settings:n,view:r}}=F.useContext(Ot),{memo:o,handleUnarchivedMemoAction:i}=e,a=le.useRef(null),c=le.useRef(null),[d,f]=le.useState(""),m={...o,createdAtStr:ct.getDateTimeString(o.createdAt),deletedAtStr:ct.getDateTimeString(o.deletedAt||o.createdAt)},[g,v]=yl(!1),w={restore:F.useRef(null),delete:F.useRef(null),source:F.useRef(null)};F.useEffect(()=>{c&&(C.setIcon(w.restore.current,"archive-restore"),C.setIcon(w.delete.current,"trash"),C.setIcon(w.source.current,"home"))},[c]),F.useEffect(()=>{if(!a.current||!c.current||a.current.hasChildNodes()&&o.content===d||!r)return;f(o.content),a.current.hasChildNodes()&&a.current.empty();async function P(){var M,_;(M=a.current)==null||M.toggleClass(["markdown-rendered"],!0),await C.MarkdownRenderer.render(t,o.content+`
`,a.current,o.path,r);const R=(_=a.current)==null?void 0:_.querySelectorAll(".internal-link");R==null||R.forEach(L=>{const z=L,Y=z.getAttribute("data-href");if(!Y)return;t.metadataCache.getFirstLinkpathDest(Y,o.path)||L.classList.add("is-unresolved"),z.addEventListener("mouseover",$=>{$.stopPropagation(),t.workspace.trigger("hover-link",{event:$,source:"thino",hoverParent:r.containerEl,targetEl:z,linktext:Y,sourcePath:z.href})})})}P()},[o.content,c]);const T=async()=>{switch(m.sourceType){case"DAILY":await $1(m.id,m.path);break;case"CANVAS":await G1(m.id,m.path);break;case"MULTI":await Z1(m.path);break;case"FILE":await q1(m.id,m.path);break}},S=async()=>{if(g)try{if(n.DeleteThinoDirectly)await Te.deleteMemoById(m.id);else{const P=await Te.hideMemoById(m.id);P&&Te.editMemo(P)}}catch(P){new C.Notice(P.message)}else v()},I=async()=>{try{const P=await Te.unarchiveMemo(m);P&&Te.editMemo(P),i(m.id),new C.Notice(E("RESTORE SUCCEED"))}catch(P){new C.Notice(P.message)}},k=()=>{g&&v(!1)};return y.jsxs("div",{ref:c,className:`memo-wrapper ${"memos-"+m.id}`,onMouseLeave:k,children:[y.jsxs("div",{className:"memo-top-wrapper",children:[y.jsxs("span",{className:"time-text",children:[E("ARCHIVED AT")," ",m.updatedAt]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:P=>{P&&C.setIcon(P,"more-horizontal")},className:"btn more-action-btn"}),y.jsx("div",{className:"more-action-btns-wrapper",children:y.jsxs("div",{className:"more-action-btns-container",children:[y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:w.restore,className:"more-action-item-icon"}),y.jsx("span",{className:"btn restore-btn",onClick:I,children:E("RESTORE")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:w.source,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:T,children:E("SOURCE")})]}),y.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[y.jsx("span",{ref:w.delete,className:"more-action-item-icon"}),y.jsx("span",{className:`btn delete-btn ${g?"final-confirm":""}`,onClick:S,children:E(g?"CONFIRM！":"DELETE")})]})]})})]})]}),y.jsx("div",{ref:a,className:"memo-content-text"})]})},tc=e=>{var n;const t=new Map;for(const r of e){const o=r.path;t.has(o)||t.set(o,[]),(n=t.get(o))==null||n.push(r)}return Array.from(t).map(([r,o])=>({path:r,thinos:o}))},qee=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:o,type:i,text:a,filter:c}=t,d=tn.getQueryById(c);return!!(r||o&&o.from<o.to||i||a||d)||d||n?e.filter(m=>{let g=!0;if(m.thinoType!==void 0&&n&&m.thinoType==="TASK-DONE"&&(g=!1),m.content.contains("comment:")&&(g=!1),d){const v=JSON.parse(d.querystring);Array.isArray(v)&&(g=Rh(m,v))}if(r){const v=new Set;for(const w of Array.from(m.content.match(gr)||[])){const S=w.replace(gr,"$1").trim().split("/");let I="";for(const k of S)I+=k,v.add(I),I+="/"}for(const w of Array.from(m.content.match(jr)||[])){const S=w.replace(jr,"$1").trim().split("/");let I="";for(const k of S)I+=k,v.add(I),I+="/"}for(const w of Array.from(m.content.match(so)||[])){const S=w.replace(so,"$2").trim().split("/");let I="";for(const k of S)I+=k,v.add(I),I+="/"}v.has(r)||(g=!1)}return o&&o.from<o.to&&(ct.getTimeStampByDate(m.createdAt)<o.from||ct.getTimeStampByDate(m.createdAt)>o.to)&&(g=!1),i&&(i==="NOT_TAGGED"&&(m.content.match(gr)!==null||m.content.match(so)!==null||m.content.match(jr)!==null)||i==="LINKED"&&m.content.match(Ld)===null||i==="IMAGED"&&m.content.match(Rd)===null||i==="CONNECTED"&&m.content.match(gu)===null)&&(g=!1),a&&!m.content.toLowerCase().includes(a.toLowerCase())&&(g=!1),g}):e.filter(m=>!m.content.contains("comment:"))},Gee=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=F.useContext(Ot),r=Gh(),[o,i]=F.useState([]),a=le.useRef(null),c=le.useRef(null);F.useEffect(()=>{c.current&&C.setIcon(c.current,"more-horizontal")},[c]),F.useEffect(()=>{const T=qee({memos:n.filter(S=>S.rowStatus==="ARCHIVED"&&S.deletedAt===""),query:e,HideDoneTasks:!1});i(T),r.setFinish()},[n,a.current,e]);const d=F.useCallback(T=>{i(S=>S.filter(I=>I.id!==T))},[]),f=F.useCallback(T=>{i(S=>S.filter(I=>I.id!==T))},[]),m=F.useCallback(()=>{dt.setShowSiderbarInMobileView(!0)},[]),g=async()=>{if(!((o==null?void 0:o.length)>0))return;if(!await ul()){bn();return}const T=[...o];try{const S=T.filter(R=>R.sourceType==="DAILY"),I=T.filter(R=>R.sourceType!=="DAILY"),k=await Te.unarchiveThinoBulk(I);for(const R of k)R&&Te.editMemo(R);const P=tc(S);for(const{path:R,thinos:M}of P)await Te.dealWithDailyThinoBulk(R,M,"restoreFromArchive");new C.Notice(E("RESTORE SUCCEED")),ot.clearQuery()}catch(S){console.error("error",S),new C.Notice(S.message)}},v=async()=>{if(!((o==null?void 0:o.length)>0))return;if(!await ul()){bn();return}const T=[...o],S=ft.getState().settings.DeleteThinoDirectly;try{const I=T.filter(R=>R.sourceType==="DAILY"),k=T.filter(R=>R.sourceType!=="DAILY");for(const R of k)if(S)await Te.deleteMemoById(R.id);else{const M=await Te.hideMemoById(R.id);M&&Te.editMemo(M)}const P=tc(I);for(const{path:R,thinos:M}of P)await Te.dealWithDailyThinoBulk(R,M,S?"deleteForever":"delete");ot.clearQuery()}catch(I){console.error("error",I),new C.Notice(I.message)}},w=T=>{const S=new C.Menu;S.addItem(I=>{I.setTitle(E("Bulk restore")).setIcon("archive").onClick(async()=>{new ps(app,E("RESTORE"),async k=>{k==="confirm"&&await g()}).open()})}).addItem(I=>{I.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new ps(app,E("DELETE"),async k=>{k==="confirm"&&await v()}).open()})}),S.showAtMouseEvent(T.nativeEvent)};return y.jsxs("div",{className:"memo-trash-wrapper",ref:a,children:[y.jsxs("div",{className:"section-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(Fa,{when:t,children:y.jsx("button",{ref:T=>{T&&C.setIcon(T,"menu")},className:"btn action-btn clickable-icon",onClick:m})}),y.jsxs("span",{className:"go-home-btn",onClick:()=>{ot.clearQuery(),ot.setPathname("/")},children:["🏠 ",E("Return To Home Page")]}),y.jsx("span",{ref:c,className:"menu-popup-btn",onClick:w})]}),y.jsx(cg,{})]}),y.jsx(xg,{thinosCount:o.length,thinos:o}),r.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("p",{className:"tip-text",children:E("Fetching data...")})}):o.length===0?y.jsx("div",{className:"tip-text-container",children:y.jsx("p",{className:"tip-text",children:E("Here is No Memos.")})}):y.jsx("div",{className:"deleted-memos-container",children:o.map(T=>y.jsx($ee,{memo:T,handleUnarchivedMemoAction:f,handleDeletedMemoAction:d},`${T.id}-${T.updatedAt}`))})]})},ul=async()=>{var r;const{verifyState:e}=ft.getState(),t=!C.Platform.isDesktop&&await((r=window.Capacitor)==null?void 0:r.Plugins.Device.getId()),n=C.Platform.isDesktop?await Jn():t.identifier||t.uuid;return e&&(e==null?void 0:e.appId)===n},Jee=async(e,t)=>{if(!(t!=="chat"&&t!=="moments")){if(t==="moments"){const n=e.querySelectorAll(".thino-moment-icon"),r=e.find(".moments-view-user-icon"),o=e.find(".moments-view-background");for(const i of n){const a=await ym(i);i.style.backgroundImage=`url(${a})`}if(r){const i=await ym(r);r.style.backgroundImage=`url(${i})`}if(o){const i=await ym(o);o.style.backgroundImage=`url(${i})`}}else if(t==="chat"){const n=e.querySelectorAll(".icon-img");for(const r of n){const o=await ym(r);r.style.backgroundImage=`url(${o})`}}}};class ps extends C.Modal{constructor(t,n,r){super(t),this.title=n,this.cb=r}onOpen(){super.onOpen(),this.containerEl.toggleClass("thino-bulk-action-dialog",!0),this.titleEl.setText(this.title+" "+E("Confirm?")),this.contentEl.createEl("button",{cls:"mod-warning",text:E("Confirm?").replace(/\?|？/,"")}).onclick=()=>{this.cb("confirm"),this.close()},this.contentEl.createEl("button",{text:E("Cancel")}).onclick=()=>{this.cb("cancel"),this.close()}}onClose(){super.onClose()}}class Kee extends C.Modal{constructor(n,r){super(n);De(this,"root");this.thinos=r}onOpen(){super.onOpen(),this.containerEl.toggleClass(["thino-bulk-action-dialog","tag-actions"],!0),this.root=Oa.createRoot(this.contentEl),this.root.render(y.jsx(_a,{store:Re,context:Ot,children:y.jsx(SO,{app:this.app,closeDialog:this.close.bind(this),thinos:this.thinos})}))}onClose(){var n;super.onClose(),(n=this.root)==null||n.unmount()}}const xg=({thinosCount:e,thinos:t})=>{const{globalState:{memoListView:n},locationState:{query:r,pathname:o},dailyNotesState:{settings:i,app:a}}=F.useContext(Ot),{tag:c,duration:d,type:f,text:m,filter:g}=r,v=tn.getQueryById(g),w=!!(c||d&&d.from<d.to||f||m||v),T=F.useRef(null);F.useEffect(()=>{T&&C.setIcon(T.current,"more-horizontal")},[T]);const S=async()=>{if(!((t==null?void 0:t.length)>0))return;const Y=dO(t),V=hO(Y);await ct.copyTextToClipboard(V),new C.Notice(E("Copied to clipboard Successfully"))},I=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await ul()){bn();return}const Y=[...t],V=i.DeleteThinoDirectly;try{const $=Y.filter(ae=>ae.sourceType==="DAILY"),re=Y.filter(ae=>ae.sourceType!=="DAILY");for(const ae of re)if(V)await Te.deleteMemoById(ae.id);else{const X=await Te.hideMemoById(ae.id);X&&Te.editMemo(X)}const Q=tc($);for(const{path:ae,thinos:X}of Q)await Te.dealWithDailyThinoBulk(ae,X,V?"deleteForever":"delete");Te.updateTagsState(),ot.clearQuery()}catch($){console.error("error",$),new C.Notice($.message)}},k=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await ul()){bn();return}const Y=[...t],V=ft.getState().settings.startSync,$=ft.getState().app,re=$==null?void 0:$.loadLocalStorage("tokenForSync");try{const Q=Y.filter(ie=>ie.sourceType==="DAILY"),ae=Y.filter(ie=>ie.sourceType!=="DAILY");for(const ie of ae)await Te.deleteMemoById(ie.id);const X=tc(Q);for(const{path:ie,thinos:Z}of X){const ue=await Te.dealWithDailyThinoBulk(ie,Z,"deleteForever");if(!(!re||!V))for(const ne of ue)ne&&ne.webId&&await P1(ne.webId)}Te.updateTagsState(),ot.clearQuery(),new C.Notice(E("DELETE SUCCEED"))}catch(Q){console.error("error",Q),new C.Notice(Q.message)}},P=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await ul()){bn();return}const Y=[...t];try{const V=Y.filter(ae=>ae.sourceType==="DAILY"),$=Y.filter(ae=>ae.sourceType!=="DAILY"),re=await Te.unarchiveThinoBulk($);for(const ae of re)ae&&Te.editMemo(ae);const Q=tc(V);for(const{path:ae,thinos:X}of Q)await Te.dealWithDailyThinoBulk(ae,X,"restoreFromArchive");new C.Notice(E("RESTORE SUCCEED")),Te.updateTagsState(),ot.clearQuery()}catch(V){console.error("error",V),new C.Notice(V.message)}},R=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await ul()){bn();return}const Y=[...t],V=ft.getState().settings.startSync,$=ft.getState().app,re=$==null?void 0:$.loadLocalStorage("tokenForSync");try{const Q=Y.filter(ie=>ie.sourceType==="DAILY"),ae=Y.filter(ie=>ie.sourceType!=="DAILY");for(const ie of ae){const Z=await Te.restoreMemoById(ie.id);Z&&Z.webId&&re&&V&&await Nm(Z.webId),Z&&Te.editMemo(Z)}const X=tc(Q);for(const{path:ie,thinos:Z}of X){const ue=await Te.dealWithDailyThinoBulk(ie,Z,"restoreFromDelete");for(const ne of ue)ne&&ne.webId&&re&&V&&await Nm(ne.webId),ne&&Te.editMemo(ne)}Te.updateTagsState(),ot.clearQuery(),new C.Notice(E("RESTORE SUCCEED"))}catch(Q){new C.Notice(Q.message)}},M=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await ul()){bn();return}const Y=[...t];try{const V=Y.filter(ae=>ae.sourceType==="DAILY"),$=Y.filter(ae=>ae.sourceType!=="DAILY"),re=await Te.archiveThinoBulk($);for(const ae of re)ae&&Te.editMemo(ae);const Q=tc(V);for(const{path:ae,thinos:X}of Q)await Te.dealWithDailyThinoBulk(ae,X,"archive");Te.updateTagsState(),ot.clearQuery()}catch(V){console.error("error",V),new C.Notice(V.message)}},_=async()=>{if((t==null?void 0:t.length)>0){if(!await ul()){bn();return}new Kee(a,t).open()}},L=async Y=>{document.body.toggleClass("thino-share-page",!0),setTimeout(async()=>{if(new C.Notice(E("Image is generating...")),!Y){new C.Notice(E("No content to generate."));return}await Jee(Y,n),await VS(Y);let V;document.body.hasClass("theme-dark")?V="#232323":V="#eaeaea",y0(Y,{backgroundColor:V,pixelRatio:window.devicePixelRatio*2}).then($=>{if(i!=null&&i.AutoSaveWhenOnMobile&&C.Platform.isMobile){const re=$.split("base64,")[1];o0(re,"image/png").arrayBuffer().then(async ae=>{let X;const ie="png",Z=uc();for(const ue in Z)if(Z[ue]instanceof C.TFile){X=Z[ue];break}X!==void 0&&await a.vault.createBinary(await vault.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,ie,X),ae)})}document.body.toggleClass("thino-share-page",!1),v0({imgUrl:$}),new C.Notice(E("Image generated successfully.")),Y.hasClass("share-image")?Y.toggleClass("share-image",!1):Y.closest(".share-image").toggleClass("share-image",!1)}).catch($=>{document.body.toggleClass("thino-share-page",!1),console.error($)})},0)},z=Y=>{const V=new C.Menu;switch(V.addItem($=>{$.setTitle(E("Copy filtered thinos")).setIcon("copy").onClick(async()=>{await S()})}),V.addItem($=>{$.setTitle(E("Share filtered thinos as image")).setIcon("image").onClick(async()=>{const re=document.querySelector(".memolist-container");re.toggleClass("share-image",!0);try{if(n==="calendar"){if(re.find(".rbc-agenda-table")){const Q=re.find(".rbc-agenda-table");await L(Q)}if(re.find(".rbc-month-view")){const Q=re.find(".rbc-month-view");await L(Q)}}else if(n==="table"){if(re.find(".thino-table")){const Q=re.find(".thino-table");await L(Q)}}else await L(re)}catch(Q){console.error(Q),new C.Notice(E("Failed to generate image.")),re.toggleClass("share-image",!1)}})}),V.addItem($=>{$.setTitle(E("Merge thinos in to thino share image")).setIcon("image").onClick(async()=>{let re="";t.forEach((ae,X)=>{re+=`> [!thino] ${ae.createdAt}
${ae.content.split(`
`).map(ie=>ie.trim()?`> ${ie}
`:`> 
`)}

`+(X===t.length-1?`

`:`

------

`)});const Q={createdAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),updatedAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),content:re.replace(/(^|\n),>/g,`
>`),id:"temp-"+Math.random().toString(36).substr(2,9),thinoType:"JOURNAL",sourceType:"DAILY",rowStatus:"NORMAL",visibility:"PRIVATE",pinned:!1,creatorName:"thino",deletedAt:"",path:"",resourceList:[]};yd(Q,"clean")})}),V.addSeparator(),o){case"/":V.addItem($=>{$.setTitle(E("Bulk tag operation")).setIcon("hash").onClick(async()=>{await _()})}).addItem($=>{$.setTitle(E("Bulk archive")).setIcon("archive").onClick(async()=>{new ps(a,E("ARCHIVE"),async re=>{re==="confirm"&&await M()}).open()})}).addItem($=>{$.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new ps(a,E("DELETE"),async re=>{re==="confirm"&&await I()}).open()})});break;case"/archive":V.addItem($=>{$.setTitle(E("Bulk restore")).setIcon("archive").onClick(async()=>{new ps(a,E("RESTORE"),async re=>{re==="confirm"&&await P()}).open()})}).addItem($=>{$.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new ps(a,E("DELETE"),async re=>{re==="confirm"&&await I()}).open()})});break;case"/recycle":V.addItem($=>{$.setTitle(E("Bulk restore")).setIcon("archive-restore").onClick(async()=>{new ps(a,E("RESTORE"),async re=>{re==="confirm"&&await R()}).open()})}).addItem($=>{$.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new ps(a,E("DELETE"),async re=>{re==="confirm"&&await k()}).open()})});break}V.showAtMouseEvent(Y.nativeEvent)};return y.jsxs("div",{className:`filter-query-container ${w?"":"hidden"}`,children:[y.jsxs("div",{className:"filter-query",children:[y.jsx("span",{className:"tip-text",children:E("FILTER")}),y.jsxs("div",{"data-filter-type":"query",className:"filter-item-container "+(v?"":"hidden"),onClick:()=>{ot.setMemoFilter("")},children:[y.jsx("span",{className:"icon-text",children:"🔖"})," ",v==null?void 0:v.title]}),y.jsxs("div",{"data-filter-type":"tag",className:"filter-item-container "+(c?"":"hidden"),onClick:()=>{ot.setTagQuery("")},children:[y.jsx("span",{className:"icon-text",children:"🏷️"})," ",c]}),y.jsxs("div",{"data-filter-type":"type",className:"filter-item-container "+(f?"":"hidden"),onClick:()=>{ot.setMemoTypeQuery("")},children:[y.jsx("span",{className:"icon-text",children:"📦"})," ",i5(f)]}),d&&d.from<d.to&&y.jsxs("div",{"data-filter-type":"date",className:"filter-item-container",children:[y.jsxs("div",{className:"day-picker-component-group",children:[y.jsx("span",{className:"icon-text",children:"🗓️"})," ",y.jsx(kv,{type:"text",startOrEnd:"start",defaultValue:C.moment(d.from,"x").valueOf(),handleValueChange:Y=>{const V=C.moment(d.to,"x"),$=C.moment(Y,"x"),re=$.isAfter(V)||$.isSame(V);ot.setFromAndToQuery(re?V.startOf("day").valueOf():C.moment(Y,"x").startOf("day").valueOf(),d.to)}}),y.jsx("span",{children:E("to")}),y.jsx(kv,{type:"text",startOrEnd:"end",defaultValue:C.moment(d.to,"x").add(1,"days").valueOf(),handleValueChange:Y=>{const V=C.moment(d.from,"x"),$=C.moment(Y,"x"),re=$.isBefore(V)||$.isSame(V),Q=C.moment(Y,"x").endOf("day").valueOf();ot.setFromAndToQuery(d.from,re?V.endOf("day").valueOf():Q)}})]}),y.jsx("div",{ref:Y=>Y&&C.setIcon(Y,"x"),className:"btn close-btn",onClick:()=>{ot.setFromAndToQuery(0,0)}})]}),y.jsxs("div",{className:"filter-item-container "+(m?"":"hidden"),onClick:()=>{ot.setTextQuery("")},children:[y.jsx("span",{className:"icon-text",children:"🔍"})," ",m]})]}),y.jsxs("div",{className:"thino-filter-items",children:[e&&y.jsx("div",{className:"thinos-count",children:`${e?`${e} Thinos `:""}`}),y.jsx("div",{ref:T,className:"btn memo-action-menu",onClick:z})]})]})},vd=async e=>{const{app:t,settings:n}=ft.getState();if(!n.startSync||!(t!=null&&t.loadLocalStorage("tokenForSync")))return;const r=await e8(e);if(!r||r.length===0)return;r.sort((a,c)=>C.moment(a.createdAt,"YYYY/MM/DD HH:mm:ss").isAfter(C.moment(c.createdAt,"YYYY/MM/DD HH:mm:ss"))?1:-1);const o=r.filter(a=>!a.deleted),i=r.filter(a=>a.deleted);for(let a=0;a<o.length;a++){const c=o[a],d=await Te.createOrPatchThinoFromWeb(c);d&&Te.pushMemo(d)}for(let a=0;a<i.length;a++){const c=i[a],d=Te.getMemoByWebId(c.id);d&&await Te.deleteMemoById(d.id,"local")}Te.updateTagsState(),ete(t)};function Qee(){const{settings:e,app:t,view:n}=ft.getState(),{globalState:{loaded:r,memoListView:o}}=F.useContext(Ot),i=C.Platform.isMobile&&e.DefaultEditorLocation==="Bottom",a=le.useRef(null),[c,d]=le.useState([]);F.useEffect(()=>{if(!t||!r||!n||!(t==null?void 0:t.loadLocalStorage("tokenForSync"))||!e.startSync)return;a.current=window.setInterval(async()=>{const v=T1(t);await vd(v)},3e4),n.registerInterval(a.current);const g=T1(t);return vd(g),()=>{a.current&&window.clearInterval(a.current)}},[n,t,r,e.startSync]);const f=[y.jsx(xg,{thinosCount:c.length,thinos:c},"filter"),y.jsx(jee,{updateThinos:m=>{d(m)}},"list")];return y.jsx(y.Fragment,{children:o==="chat"?y.jsx(y.Fragment,{children:[y.jsx(wv,{syncThino:vd},"header"),...f.reverse(),y.jsx(Td,{className:"mod-editor-bottom",editorType:"inline"},"editor")]}):y.jsx(y.Fragment,{children:i?[y.jsx(wv,{syncThino:vd},"header"),...f,y.jsx(Td,{className:"mod-editor-bottom",editorType:"block"},"editor")]:[y.jsx(wv,{syncThino:vd},"header"),y.jsx(Td,{editorType:"block"},"editor"),...f]})})}function Xee(e){try{e!=null&&e.saveLocalStorage&&(e==null||e.saveLocalStorage("thinoLastUpdated",C.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x")))}catch(t){console.error(t)}}function T1(e){try{const t=(e==null?void 0:e.loadLocalStorage)&&(e==null?void 0:e.loadLocalStorage("thinoLastUpdated"));return t||C.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x")}catch(t){return console.error(t),C.moment().format("x")}}function ete(e){try{e!=null&&e.saveLocalStorage&&(e==null||e.saveLocalStorage("thinoLastUpdated",C.moment().format("x")))}catch(t){console.error(t)}}const tte={text:E("SELECT"),value:""},nte=e=>{const{className:t,dataSource:n,handleValueChanged:r,value:o}=e,[i,a]=yl(!1),c=F.useRef(null);let d=tte;for(const g of n)if(g.value===o){d=g;break}F.useEffect(()=>{if(i){const g=v=>{var w;(w=c.current)!=null&&w.contains(v.target)||a(!1)};window.addEventListener("click",g,{capture:!0,once:!0})}},[i]);const f=g=>{r&&r(g.value),a(!1)},m=g=>{g.stopPropagation(),a()};return y.jsxs("div",{className:`selector-wrapper ${t||""}`,ref:c,children:[y.jsxs("div",{className:`current-value-container ${i?"active":""}`,onClick:m,children:[y.jsx("span",{className:"value-text",children:d.text}),y.jsx("span",{ref:g=>{g&&C.setIcon(g,"chevron-right")},className:"btn arrow-text"})]}),y.jsx("div",{className:`items-wrapper ${i?"":"hidden"}`,children:n.map(g=>y.jsx("div",{className:`item-container ${g.value===o?"selected":""}`,onClick:()=>{f(g)},children:g.text},g.value))})]})},ah=F.memo(nte),WS=e=>{const{destroy:t,queryId:n,type:r="dialog"}=e,[o,i]=F.useState(""),[a,c]=F.useState(r!=="dialog"?[hT()]:[]),d=Gh(!1),[f,m]=F.useState(!1),[g,v]=yl(!1),w=Te.getState().memos.filter(L=>!(L.deletedAt!==""&&L.deletedAt)).filter(L=>Rh(L,a)).length;F.useEffect(()=>{T()},[n]);const T=()=>{const L=tn.getQueryById(n??"");if(L){i(L.title);const z=JSON.parse(L.querystring);return Array.isArray(z)&&c(z),L}},S=L=>{const z=L.target.value;i(z)},I=async()=>{if(!o)return new C.Notice(E("TITLE CANNOT BE NULL!")),null;if(a.length===0)return new C.Notice(E("FILTER CANNOT BE NULL!")),null;if(a.length===1&&a[a.length-1].value.value==="")return new C.Notice(E("Please finish the last filter setting first")),null;let L;try{n&&!n.startsWith("Filter [Temp] ")?(L=await tn.updateQuery(n,o,JSON.stringify(a)),tn.editQuery(L),await tn.getMyAllQueries()):(L=await tn.createQuery(o,JSON.stringify(a)),tn.pushQuery(L),await tn.getMyAllQueries())}catch(z){new C.Notice(z.message)}return L},k=async()=>{switch(r){case"modal":case"inline":if(a.length===0){new C.Notice(E("FILTER CANNOT BE NULL!"));return}if(a.length===1&&a[a.length-1].value.value===""){new C.Notice(E("Please finish the last filter setting first"));return}try{const L=tn.getQueryById(n??"");if(L&&JSON.stringify(a)===L.querystring){ot.setMemoFilter(L.id),t();return}const z=tn.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(a));tn.pushQuery(z),ot.setMemoFilter(z.id)}catch(L){new C.Notice(L.message)}t();break;case"dialog":try{if(!await I())return}catch(L){console.error(L),new C.Notice(L.message)}t();break}},P=()=>{if(a.length===0){new C.Notice(E("FILTER CANNOT BE NULL!"));return}if(f){ot.setMemoFilter(""),m(!1);return}const L=tn.getQueryById(n??"");if(L&&JSON.stringify(a)===L.querystring){ot.setMemoFilter(L.id);return}const z=tn.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(a));tn.pushQuery(z),ot.setMemoFilter(z.id),e.setPreview&&e.setPreview(z.id),m(!0)},R=()=>{if(a.length>0&&a[a.length-1].value.value===""){new C.Notice(E("Please finish the last filter setting first"));return}c([...a,hT()])},M=F.useCallback((L,z)=>{c(Y=>{const V=[...Y];return V[L]=z,V})},[]),_=F.useCallback(L=>{c(z=>z.filter((V,$)=>$!==L))},[]);return y.jsxs(y.Fragment,{children:[r==="dialog"&&y.jsxs("div",{className:"dialog-header-container",children:[y.jsxs("span",{className:"title-text",children:[y.jsx("span",{className:"icon-text",children:"🔖"}),E(n?"EDIT QUERY":"CREATE QUERY")]}),y.jsx("button",{ref:L=>{L&&C.setIcon(L,"x")},className:"btn close-btn",onClick:t})]}),y.jsxs("div",{className:"dialog-content-container",children:[(r==="dialog"||g)&&y.jsxs("div",{className:"form-item-container input-form-container",children:[y.jsx("span",{className:"normal-text",children:E("TITLE")}),y.jsx("input",{className:"title-input",type:"text",value:o,onChange:S})]}),y.jsxs("div",{className:"form-item-container filter-form-container",children:[y.jsx("span",{className:"normal-text",children:E("FILTER")}),y.jsxs("div",{className:"filters-wrapper",children:[a.map((L,z)=>y.jsx(ote,{index:z,filter:L,handleFilterChange:M,handleFilterRemove:_},z)),y.jsx("div",{className:"create-filter-btn",onClick:R,children:E("ADD FILTER TERMS")})]})]})]}),y.jsx("div",{className:"dialog-footer-container",children:y.jsxs("div",{className:"btns-container",children:[(r==="inline"||r==="modal")&&y.jsx("button",{className:`btn ${g?"mod-cta":"save-btn"}`,onClick:async()=>{if(!g)v();else{const L=await I();v(!1),t(),L&&ot.setMemoFilter(L.id)}},children:E(g?"Set and save":"Save")}),y.jsxs("div",{className:"btns-group-container",children:[y.jsxs("span",{className:`tip-text ${a.length===0&&"hidden"}`,children:[E("MATCH")," Thino ",y.jsx("strong",{children:w})," ",E("TIMES")]}),y.jsx(y.Fragment,{children:r==="inline"&&y.jsx("button",{className:"btn mod-cta",onClick:P,children:E("Preview")})}),y.jsx("button",{className:`btn save-btn ${d.isLoading?"requesting":""}`,onClick:k,children:E(r==="inline"||r==="modal"?"Filter":n?"EDIT":"Save")})]})]})})]})},rte=e=>{const{index:t,filter:n,handleFilterChange:r,handleFilterRemove:o}=e,{type:i}=n,a=F.useRef(null),c=F.useRef(null),d=F.useRef(n),f=F.useRef(i);F.useEffect(()=>{d.current=e.filter},[n]),F.useEffect(()=>{if(a.current)return i==="TAG"&&!c.current&&(f.current=i,c.current=new Om(a.current,w)),()=>{c.current&&(c.current.destroy(),c.current=null)}},[a,i]);const m=F.useCallback(I=>{["AND","OR"].includes(I)&&r(t,{...n,relation:I})},[n]),g=F.useCallback(async I=>{var k;if(n.type!==I){const{verifyState:P}=ft.getState(),R=!C.Platform.isDesktop&&await((k=window.Capacitor)==null?void 0:k.Plugins.Device.getId()),M=C.Platform.isDesktop?await Jn():R.identifier||R.uuid,_=P&&(P==null?void 0:P.appId)===M;if(I==="SOURCE"&&!_){bn();return}const L=Object.values(ru[I].operators);r(t,{...n,type:I,value:{operator:L[0].value,value:""}})}},[n]),v=F.useCallback(I=>{r(t,{...n,value:{...n.value,operator:I}})},[n]),w=F.useCallback(I=>{r(t,{...d.current,value:{...d.current.value,value:I}})},[n]),T=()=>{o(t)},S={TYPE:y.jsx(ah,{className:"value-selector",dataSource:ru.TYPE.values,value:n.value.value,handleValueChanged:w}),LIST:y.jsx(ah,{className:"value-selector",dataSource:ru.LIST.values,value:n.value.value,handleValueChanged:w}),SOURCE:y.jsx(ah,{className:"value-selector",dataSource:ru.SOURCE.values,value:n.value.value,handleValueChanged:w}),TAG:y.jsx("input",{type:"text",id:Math.random().toString(36).substring(7),className:"value-inputer",ref:a,value:n.value.value,onChange:I=>{w(I.target.value)}}),TEXT:y.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:I=>{w(I.target.value)}}),DATE:y.jsxs("div",{className:"date-inputer",children:[y.jsx(kv,{type:"icon",handleValueChange:w}),y.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:I=>{w(I.target.value)}})]})};return y.jsxs("div",{className:"memo-filter-input-wrapper",children:[t>0&&y.jsx(ah,{className:"relation-selector",dataSource:o5,value:n.relation,handleValueChanged:m}),y.jsx(ah,{className:"type-selector",dataSource:Object.values(ru),value:n.type,handleValueChanged:g}),y.jsxs(y.Fragment,{children:[Object.keys(ru).includes(i)&&y.jsx(ah,{className:"operator-selector",dataSource:Object.values(ru[i].operators),value:n.value.operator,handleValueChanged:v}),S[i]]}),y.jsx("div",{ref:I=>{I&&C.setIcon(I,"x")},className:"btn remove-btn",onClick:T})]})},ote=F.memo(rte);function I1(e){u0({className:"create-query-dialog"},WS,{queryId:e})}const ZS=e=>{var w,T;const{dailyNotesState:{app:t,verifyState:n},locationState:{query:r}}=F.useContext(Ot),o=le.useRef(null),[i,a]=le.useState(!1),c=le.useRef(null),[d,f]=le.useState(""),m=g0(o.current,c.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,10]}}]});F.useEffect(()=>{i&&m.update&&(m==null||m.update())},[i]),F.useEffect(()=>{o&&C.setIcon(o.current,"filter")},[o]);const g=async()=>{var k;const S=!C.Platform.isDesktop&&await((k=window.Capacitor)==null?void 0:k.Plugins.Device.getId()),I=C.Platform.isDesktop?await Jn():S.identifier||S.uuid;return!n||(n==null?void 0:n.appId)!==I?(bn(),!1):!0};return dg(c,()=>{a(!1),d&&ot.getState().query.filter===d&&ot.setMemoFilter("")}),y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"thino-inline-filter-wrapper pro",ref:o,onClick:async()=>{await g()&&(C.Platform.isDesktop?(a(!i),await(m==null?void 0:m.update())):new ite(ft.getState().app,r.filter,I=>{f(I)}).open())}}),y.jsx("div",{ref:c,className:`thino-inline-filter-container ${i?"":"hidden"}`,style:m.styles.popper,children:i&&y.jsx(WS,{type:"inline",queryId:(w=r.filter)!=null&&w.startsWith("Filter [Temp] ")&&!((T=r.filter)!=null&&T.includes("Filter [Temp]"))?"":r.filter,destroy:()=>{a(!1)},setPreview:S=>{f(S)}})})]})};class ite extends C.Modal{constructor(n,r,o){super(n);De(this,"root");De(this,"setPreview");this.filter=r,this.setPreview=o}onOpen(){var r,o;const{contentEl:n}=this;this.root=lg(n),this.root.render(y.jsx(_a,{store:Re,context:Ot,children:y.jsx("div",{className:"thino-inline-filter-container",children:y.jsx(WS,{type:"modal",queryId:(r=this.filter)!=null&&r.startsWith("Filter [Temp] ")&&!((o=this.filter)!=null&&o.includes("Filter [Temp]"))?"":this.filter,destroy:()=>{this.close()},setPreview:i=>{this.setPreview(i)}})})}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const _3=()=>{const{dailyNotesState:{app:e},globalState:{isMobileView:t,showSiderbarInMobileView:n}}=F.useContext(Ot),[r]=F.useState(le.createRef());F.useEffect(()=>{if(!r.current)return;const i=r.current;C.setIcon(i,"refresh-cw")},[r.current]);const o=F.useCallback(async()=>{if(!(t&&n)){if(vd){const i=T1(e);await vd(i)}await Te.fetchAllMemos()}},[]);return y.jsx("span",{className:"refresh-icon",ref:r,onClick:()=>{o(),r&&r.current.firstElementChild.toggleClass("rotate-hidden",!0),setTimeout(()=>{r&&r.current.firstElementChild.toggleClass("rotate-hidden",!1)},1e3)}})},wv=()=>{const{locationState:{query:{filter:e}},globalState:{isMobileView:t},queryState:{queries:n}}=F.useContext(Ot),[r,o]=F.useState("THINO");F.useEffect(()=>{const a=tn.getQueryById(e);o(a?a.title:"THINO")},[e,n]);const i=F.useCallback(a=>{a.stopPropagation(),dt.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"section-header-container memos-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(Fa,{when:t,children:y.jsx("button",{ref:a=>{a&&C.setIcon(a,"menu")},className:"btn action-btn clickable-icon",onClick:i})}),y.jsx("span",{className:"normal-text",children:r}),y.jsx(_3,{})]}),y.jsxs("div",{className:"memos-header-search-section",children:[y.jsx(g5,{}),y.jsx(m5,{}),y.jsx(ZS,{}),y.jsx(cg,{})]})]})},ate=()=>{const{dailyNotesState:{settings:e,app:t,verifyState:n},globalState:{manifest:r,showSiderbarInMobileView:o,isMobileView:i}}=F.useContext(Ot),[a,c]=F.useState("Memos"),[d,f]=F.useState(!1),[m,g]=F.useState("");F.useEffect(()=>{if(!(e!=null&&e.MomentsIcon)||!t)return;const T=t.vault.adapter.getResourcePath(C.normalizePath(e.MomentsIcon));T&&!(e!=null&&e.MomentsIcon.startsWith("http"))?g(T):g(e==null?void 0:e.MomentsIcon)},[e==null?void 0:e.MomentsIcon,t]),F.useEffect(()=>{e&&c(e.UserName)},[e]);const v=F.useCallback(()=>{ot.pushHistory("/"),ot.clearQuery()},[]),w=()=>{const T=document.querySelector(".memos-sidebar-wrapper"),S=document.querySelector(".menu-btns-popup");S.style.top=70-T.scrollTop+"px",f(!0)};return y.jsxs("div",{className:"user-banner-container",children:[y.jsxs("div",{className:"userinfo-header-container",children:[y.jsxs("div",{className:"userinfo-container",onClick:()=>{t.setting.open(),t.setting.openTabById(r.id||"obsidian-memos")},children:[y.jsx("div",{ref:T=>{if(m){T==null||T.empty();return}m||T&&C.setIcon(T,"Memos")},className:"thino-user-icon",style:{backgroundImage:`url("${m}")`}}),y.jsxs("div",{className:"thino-user-info",children:[y.jsxs("span",{className:"username-container",children:[y.jsx("span",{"aria-label":a==="MEMO 😉"?"THINO 😉":a||"THINO",className:"username-text",onClick:v,children:a==="MEMO 😉"?"THINO 😉":a||"THINO"}),y.jsx("span",{className:`user-pro-badge ${n?"activated":""}`,onClick:()=>{t.setting.open(),t.setting.openTabById(r.id||"obsidian-memos")},children:"PRO"})]}),(e==null?void 0:e.MomentsQuote)&&y.jsx("span",{className:"thino-user-quote",children:e==null?void 0:e.MomentsQuote})]})]}),y.jsxs("span",{className:"btn-group",children:[(e==null?void 0:e.DefaultThemeForThino)==="modern"&&!i&&y.jsx(_3,{}),y.jsx("span",{ref:T=>{T&&T.hasChildNodes()||T&&C.setIcon(T,"more-horizontal")},className:"btn action-btn menu-popup-btn",onClick:w}),o&&y.jsx("span",{ref:T=>{T&&T.hasChildNodes()||T&&C.setIcon(T,"x")},className:"btn action-btn",onClick:()=>{dt.setShowSiderbarInMobileView(!1)}})]}),y.jsx(X9,{shownStatus:d,setShownStatus:f})]}),y.jsx(Q1,{statusType:"banner"})]})},FI=()=>{const{queryState:{queries:e},dailyNotesState:{app:t},locationState:{query:{filter:n}}}=F.useContext(Ot),r=Gh(),[o,i]=F.useState([]);return F.useEffect(()=>{const a=e.filter(c=>{var d,f;return!((d=c.id)!=null&&d.toString().startsWith("Filter [Temp]"))&&!((f=c.id)!=null&&f.toString().includes("Filter [Temp]"))}).sort((c,d)=>{if(d.pinnedAt&&!c.pinnedAt)return 1;if(c.pinnedAt&&!d.pinnedAt)return-1;const f=ct.getTimeStampByDate(c.pinnedAt||c.createdAt);return ct.getTimeStampByDate(d.pinnedAt||d.createdAt)-f});i(a)},[e]),F.useEffect(()=>{tn.getMyAllQueries().catch(()=>{}).finally(()=>{r.setFinish()})},[t]),y.jsxs("div",{className:"queries-wrapper",children:[y.jsxs("span",{className:"title-text",children:[y.jsx("span",{className:"normal-text",children:E("QUERY")}),y.jsx("span",{ref:a=>{a&&C.setIcon(a,"plus")},className:"btn create-query-btn",onClick:()=>I1()})]}),y.jsx(Fa,{when:r.isSucceed&&o.length===0,children:y.jsx("div",{className:"create-query-btn-container",children:y.jsx("span",{className:"btn",onClick:()=>I1(),children:E("CREATE FILTER")})})}),y.jsx("div",{className:"queries-container",children:o.map(a=>y.jsx(ste,{query:a,isActive:a.id===n},`${a.id}-${C.moment(a.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}`))})]})},ste=e=>{const{query:t,isActive:n}=e,[r,o]=yl(!1),[i,a]=yl(!1),c=()=>{ot.setMemoFilter(n?"":t.id)},d=S=>{S.stopPropagation(),o()},f=()=>{o(!1)},m=async S=>{if(S.stopPropagation(),i)try{await tn.deleteQuery(t.id)}catch(I){new C.Notice(I.message)}else a()},g=S=>{S.stopPropagation(),I1(t.id)},v=async S=>{S.stopPropagation();try{t.pinnedAt?await tn.unpinQuery(t.id):await tn.pinQuery(t.id),tn.editQuery({...t,pinnedAt:t.pinnedAt?"":ct.getDateTimeString(Date.now())})}catch(I){console.error(I)}},w=()=>{a(!1)},T=F.useMemo(()=>y.jsxs("div",{className:"action-btns-container",children:[y.jsxs("span",{className:"btn",onClick:v,children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,t.pinnedAt?"pin-off":"pin")},className:"icon-text"}),y.jsx("span",{className:"normal-text",children:t.pinnedAt?E("UNPIN"):E("PIN")})]}),y.jsxs("span",{className:"btn",onClick:g,children:[y.jsx("span",{ref:S=>{S&&!S.hasChildNodes()&&C.setIcon(S,"edit")},className:"icon-text"}),y.jsx("span",{className:"normal-text",children:E("EDIT")})]}),y.jsxs("span",{className:`btn delete-btn ${i?"final-confirm":""}`,onClick:m,onMouseLeave:w,children:[y.jsx("span",{ref:S=>{S&&!S.hasChildNodes()&&C.setIcon(S,"trash-2")},className:"icon-text"}),y.jsx("span",{className:"normal-text",children:E(i?"CONFIRM！":"DELETE")})]})]}),[t.pinnedAt,i]);return y.jsx(y.Fragment,{children:y.jsxs("div",{className:`query-item-container ${n?"active":""}`,onClick:c,children:[y.jsxs("div",{className:"query-text-container",children:[y.jsx("span",{ref:S=>{S&&!S.hasChildNodes()&&C.setIcon(S,"filter")},className:"icon-text"}),y.jsxs("span",{className:"query-text",children:[t.title,t.pinnedAt&&" 📌"]})]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:S=>{S&&!S.hasChildNodes()&&C.setIcon(S,"more-horizontal")},className:"btn action-btn toggle-btn",onClick:d}),y.jsx("div",{className:`action-btns-wrapper ${r?"":"hidden"}`,onMouseLeave:f,children:T})]})]})})},PI=()=>{var v,w;const{locationState:{query:{tag:e,filter:t}},dailyNotesState:{app:n},memoState:{tags:r,tagsNum:o,memos:i}}=F.useContext(Ot),a=t&&((v=t==null?void 0:t.toString())==null?void 0:v.startsWith("Filter [Temp] "))&&tn.getQueryById(t),[c,d]=F.useState([]),[f,m]=F.useState(((w=n||app)==null?void 0:w.loadLocalStorage("thino-tag-sort-order"))||"alphabetical");F.useEffect(()=>{var S;const T=(S=n||app)==null?void 0:S.loadLocalStorage("thino-temp-tags");d(T||[])},[]),F.useEffect(()=>{Te.updateTagsState()},[i]),F.useEffect(()=>{const T=Array.from(r).sort(),S={subTags:[]};for(const I of T){const k=I.split("/");let P=S,R="";for(let M=0;M<k.length;M++){const _=k[M];R+=M===0?_:"/"+_;let L=P.subTags.find(z=>z.text===R);if(L||(L={key:_,text:R,count:o[R]||0,subTags:[],parent:P},P.subTags.push(L)),M===k.length-1){let z=L.parent;for(;z;)z.count||(z.count=0),z.count+=o[R]||0,z=z.parent}P=L}}d(S.subTags)},[r]),F.useEffect(()=>{var T;Te.initialized&&((T=n||app)==null||T.saveLocalStorage("thino-temp-tags",c))},[c]);const g=T=>{T.stopPropagation();const S=new C.Menu;for(const I of["alphabetical","alphabeticalReverse","byCount","byCountReverse"])S.addItem(k=>{k.setTitle(E(I)).onClick(()=>{m(I),n==null||n.saveLocalStorage("thino-tag-sort-order",I)}).setChecked(f===I)}),I==="alphabeticalReverse"&&S.addSeparator();S.showAtMouseEvent(T.nativeEvent)};return y.jsxs("div",{className:"tags-wrapper",children:[y.jsxs("div",{className:"tags-header title-text",children:[y.jsx("span",{className:"normal-text",children:E("Frequently Used Tags")}),y.jsx("span",{ref:T=>{T&&C.setIcon(T,"arrow-down-narrow-wide")},className:"tags-sort-btn",onClick:g})]}),y.jsxs("div",{className:"tags-container",children:[c.sort(lte(f)).map((T,S)=>y.jsx(B3,{tag:T,tagQuery:e,filterQuery:a},T.text+"-"+S)),y.jsx(Fa,{when:c.length<5&&Te.initialized,children:y.jsxs("span",{className:"tag-tip-container",children:[E("Input")," ",y.jsxs("span",{className:"code-text",children:[E("#Tag")," "]}),E("to create tag"),"..."]})})]})]})},B3=e=>{const{tag:t,tagQuery:n,filterQuery:r}=e,o=n===t.text||r&&JSON.parse(r.querystring).find(m=>m.type==="TAG"&&m.value.value===t.text),i=t.subTags.length>0,[a,c]=yl(!1),d=async m=>{var g;if(m.ctrlKey||m.metaKey){const{verifyState:v}=ft.getState(),w=!C.Platform.isDesktop&&await((g=window.Capacitor)==null?void 0:g.Plugins.Device.getId()),T=C.Platform.isDesktop?await Jn():w.identifier||w.uuid;if(!(v&&(v==null?void 0:v.appId)===T)){bn();return}const I=ot.getState().query.filter;if(I&&(I!=null&&I.startsWith("Filter [Temp] "))){const P=tn.getQueryById(I).querystring,R=JSON.parse(P);let M;if(R.some(_=>_.type==="TAG"&&_.value.value===t.text)){if(M=R.filter(L=>L.value.value!==t.text),M.length===0){ot.setMemoFilter("");return}const _=tn.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{...M[0],relation:"AND"},...M.slice(1)]));tn.pushQuery(_),ot.setMemoFilter(_.id)}else{M=[...R,{type:"TAG",value:{value:t.text,operator:"CONTAIN"},relation:"OR"}];const _=tn.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(M));tn.pushQuery(_),ot.setMemoFilter(_.id)}}else if(n){ot.setTagQuery("");const k=tn.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{type:"TAG",value:{value:n,operator:"CONTAIN"},relation:"AND"},{type:"TAG",value:{value:t.text,operator:"CONTAIN"},relation:"OR"}]));tn.pushQuery(k),ot.setMemoFilter(k.id)}else if(!n){const k=tn.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{type:"TAG",value:{value:t.text,operator:"CONTAIN"},relation:"AND"}]));tn.pushQuery(k),ot.setMemoFilter(k.id)}ct.copyTextToClipboard(`#${t.text} `),["/","/recycle","/archive","/daily"].includes(ot.getState().pathname)||ot.setPathname("/");return}if(o){if(ot.setTagQuery(""),r){const w=JSON.parse(r.querystring).filter(S=>S.value.value!==t.text);if(w.length===0){ot.setMemoFilter("");return}const T=tn.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{...w[0],relation:"AND"},...w.slice(1)]));tn.pushQuery(T),ot.setMemoFilter(T.id)}}else await ct.copyTextToClipboard(`#${t.text} `),["/","/recycle","/archive","/daily"].includes(ot.getState().pathname)||ot.setPathname("/"),ot.setTagQuery(t.text)},f=m=>{m.stopPropagation(),c()};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:`tag-item-container ${o?"active":""}`,onClick:d,children:[y.jsxs("div",{className:"tag-text-container",children:[y.jsx("span",{ref:m=>{m&&C.setIcon(m,"hash")},className:"btn tag-btn"}),y.jsx("span",{className:"tag-text",children:t.key})]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{className:"tag-count",children:t.count}),i?y.jsx("span",{ref:m=>{m&&C.setIcon(m,"chevron-right")},className:`btn action-btn toggle-btn ${a?"shown":""}`,onClick:f}):null]})]}),i?y.jsx("div",{className:`subtags-container ${a?"":"hidden"}`,children:t.subTags.map((m,g)=>y.jsx(B3,{tag:m,tagQuery:n},m.text+"-"+g))}):null]})},OI=new Intl.Collator(void 0,{usage:"sort",sensitivity:"base",numeric:!0}).compare,Ib={alphabetical:(e,t)=>OI(e.text,t.text),alphabeticalReverse:(e,t)=>-OI(e.text,t.text),byCount:(e,t)=>t.count-e.count,byCountReverse:(e,t)=>e.count-t.count},lte=(e="byCount")=>Ib.hasOwnProperty(e)?Ib[e]:Ib.alphabetical,jI=()=>{const{dailyNotesState:{app:e,settings:t,verifyState:n}}=F.useContext(Ot),r=[{name:E("Random Review"),path:"/review",iconID:"star"},{name:E("ARCHIVE"),path:"/archive",iconID:"archive"},{name:E("Recycle bin"),path:"/recycle",iconID:"recycle"}],o=F.useRef([]);return F.useEffect(()=>{o.current.forEach((i,a)=>{i&&C.setIcon(i,r[a].iconID)})},[t,o]),y.jsx(y.Fragment,{children:y.jsx("div",{className:"path-entry-wrapper",children:r.map((i,a)=>y.jsx(y.Fragment,{children:y.jsxs("div",{className:`path-entry-container ${ot.getState().pathname===i.path?"active":""} ${t.DeleteThinoDirectly&&i.path==="/recycle"?"hidden":""} ${i.path==="/review"&&"pro"}`,onClick:async()=>{var f;const c=!C.Platform.isDesktop&&await((f=window.Capacitor)==null?void 0:f.Plugins.Device.getId()),d=C.Platform.isDesktop?await Jn():c.identifier||c.uuid;if(!n&&(n==null?void 0:n.appId)!==d&&i.path==="/review"){bn();return}if(ot.setPathname(i.path),i.path==="/review"&&ot.getState().pathname==="/review"){e.workspace.trigger("refresh-review-memos");return}ot.clearQuery()},children:[y.jsx("span",{ref:c=>o.current[a]=c,className:"path-entry-icon"}),y.jsx("span",{className:"path-entry-text",children:i.name})]},a)}))})})},LI=e=>{const{dailyNotesState:{settings:t},locationState:n,globalState:{isMobileView:r,showSiderbarInMobileView:o}}=F.useContext(Ot),i=F.useRef(null),a=F.useMemo(()=>c=>{var f,m,g;const d=dt.getState().showSiderbarInMobileView;if(!d){window.removeEventListener("click",a,{capture:!0});return}(f=i.current)!=null&&f.contains(c.target)||(g=(m=i.current)==null?void 0:m.parentNode)!=null&&g.contains(c.target)&&(d&&c.stopPropagation(),dt.setShowSiderbarInMobileView(!1),window.removeEventListener("click",a,{capture:!0}))},[]);return F.useEffect(()=>{dt.setShowSiderbarInMobileView(!1)},[n]),F.useEffect(()=>{o?document.body.classList.add(MD):document.body.classList.remove(MD)},[o]),F.useEffect(()=>{r&&o&&window.addEventListener("click",a,{capture:!0})},[r,o]),y.jsxs("aside",{className:Kn("memos-sidebar-wrapper",e.className),ref:i,children:[e.children,y.jsx(ate,{}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="right"?y.jsx(Lm,{}):null:y.jsx(Lm,{}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="left"?y.jsxs(y.Fragment,{children:[y.jsx(jI,{}),y.jsx(FI,{}),y.jsx(Q1,{statusType:"sidebar"})]}):null:y.jsxs(y.Fragment,{children:[y.jsx(jI,{}),y.jsx(FI,{})]}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="right"?y.jsx(y.Fragment,{children:y.jsx(PI,{})}):null:y.jsx(y.Fragment,{children:y.jsx(PI,{})})]})},cte=()=>{const{dailyNotesState:{settings:e}}=F.useContext(Ot),[t,n]=le.useState(""),r=o=>{n(o.target.value)};return y.jsx("div",{className:"locked-screen-wrapper",children:y.jsxs("div",{className:"locked-screen-content",children:[y.jsx("div",{className:"locked-screen-header",children:y.jsx("div",{className:"locked-screen-header-title",children:E("Locked")})}),y.jsx("div",{className:"locked-screen-body",children:y.jsxs("div",{className:"locked-screen-body-content",children:[y.jsxs("div",{className:"locked-screen-body-content-text",children:[y.jsx("div",{className:"locked-screen-body-content-text-title",children:E("Thino is locked")}),y.jsx("div",{className:"locked-screen-body-content-text-desc",children:E("Please unlock Thino by input password")})]}),y.jsxs("div",{className:"locked-screen-body-content-inputer",children:[y.jsx("input",{onKeyDown:o=>{o.key==="Enter"&&((e==null?void 0:e.password)===t?dt.setLocked(!1):new C.Notice(E("Password is incorrect")))},onChange:r,value:t,type:"password",className:"locked-screen-body-content-input"}),y.jsx("button",{className:"locked-screen-body-content-btn",onClick:()=>{(e==null?void 0:e.password)===t?dt.setLocked(!1):new C.Notice(E("Password is incorrect"))},children:E("Unlock")})]})]})})]})})};class md extends SC{fuzzySearchItemsOptimized(t,n){const r=C.prepareFuzzySearch(t);return n.map(o=>{const i=r(o.path);return i?{item:o,match:i,score:i.score}:null}).sort((o,i)=>(i==null?void 0:i.score)-(o==null?void 0:o.score)).filter(Boolean)}getSuggestions(t){const r=app.vault.getFiles().filter(i=>["png","jpg","jpeg","gif"].includes(i.extension)),o=t.toLowerCase();return this.fuzzySearchItemsOptimized(o,r).map(i=>i.item)}renderSuggestion(t,n){var i;const r=t.basename,o=((i=t.parent)==null?void 0:i.path)||"";n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:r}),n.createSpan({cls:"suggestion-path",text:o})}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}}const ute=e=>{const{dailyNotesState:{settings:t,app:n,plugin:r},globalState:{manifest:o}}=F.useContext(Ot),[i,a]=le.useState(0),[c,d]=le.useState(""),f=le.useRef(null),m=le.useRef(null),[g,v]=le.useState({enabled:!1,path:"",format:""});F.useEffect(()=>{if(i===2&&(t!=null&&t.EnabledLocationList.find(I=>I.value==="DAILY")))if(!Mm())v({enabled:!1,path:"",format:""});else{const I=su().folder,k=su().format;v({enabled:!0,path:I,format:k})}},[i]),F.useEffect(()=>{if(!(t!=null&&t.MomentsIcon)||!n){d("");return}const I=n.vault.adapter.getResourcePath(C.normalizePath(t.MomentsIcon));I&&!(t!=null&&t.MomentsIcon.startsWith("http"))?d(I):d(t==null?void 0:t.MomentsIcon)},[t==null?void 0:t.MomentsIcon,n]),F.useEffect(()=>{m&&(m.current=null)},[i]),F.useEffect(()=>{f.current&&(m.current||(m.current=new md(f.current)))},[f.current]);const w=(I,k)=>{let P=r;P||(P=n.plugins.getPlugin("obsidian-memos")),P.settingTab.updateSettings(I,k)},T=F.useMemo(()=>{switch(i){case 0:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:E("Get started with Thino")}),y.jsx("p",{children:E("Set up your user info for Thino.")})]});case 1:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:E("Set theme for Thino")}),y.jsx("p",{children:E("Choose a theme for Thino.")})]});case 2:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:E("Go with daily note plugin")}),y.jsx("p",{children:E("If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.")})]});case 3:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:E("Set preferences for using Thino")}),y.jsx("p",{children:E("Adjust settings that influence your user experience with Thino.")})]});case 4:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:E("Congrats! All settings done")}),y.jsx("p",{children:E("Go and enjoy Thino")})]})}},[i]),S=()=>{switch(i){case 0:return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"thino-user-preview-wrapper",children:y.jsxs("div",{className:"userinfo-container",onClick:()=>{n.setting.open(),n.setting.openTabById(o.id||"obsidian-memos")},children:[y.jsx("div",{ref:I=>{if(t!=null&&t.MomentsIcon){I==null||I.empty();return}t!=null&&t.MomentsIcon||I&&C.setIcon(I,"Memos")},className:"thino-user-icon",style:{backgroundImage:`url("${c}")`}}),y.jsxs("div",{className:"thino-user-info",children:[y.jsx("span",{className:"username-container",children:y.jsx("span",{"aria-label":(t==null?void 0:t.UserName)==="MEMO 😉"?"THINO 😉":(t==null?void 0:t.UserName)||"THINO",className:"username-text",children:(t==null?void 0:t.UserName)==="MEMO 😉"?"THINO 😉":(t==null?void 0:t.UserName)||"THINO"})}),(t==null?void 0:t.MomentsQuote)&&y.jsx("span",{className:"thino-user-quote",children:t==null?void 0:t.MomentsQuote})]})]})}),y.jsxs("div",{className:"thino-user-info-wrapper",children:[y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("User name")}),y.jsx("div",{className:"setting-item-description",children:E("Set your user name here. 'Memos 😏' By default")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"Thino 😏",defaultValue:t==null?void 0:t.UserName,onInput:I=>w("UserName",I.currentTarget.value)})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("User quote")}),y.jsx("div",{className:"setting-item-description",children:E("Set user quote for thino")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"Share thino with the world",defaultValue:t==null?void 0:t.MomentsQuote,onInput:I=>w("MomentsQuote",I.currentTarget.value)})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("User icon")}),y.jsx("div",{className:"setting-item-description",children:E("Set user icon for thino. You can input http/https link or file path in vault.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",ref:f,placeholder:"Input url or file path",defaultValue:t==null?void 0:t.MomentsIcon,onInput:I=>w("MomentsIcon",I.currentTarget.value)})})]})]})]});case 1:return y.jsx(y.Fragment,{children:y.jsxs("div",{className:Kn("theme-selector-group","selected"),children:[y.jsxs("div",{className:Kn("theme-selector",(t==null?void 0:t.DefaultThemeForThino)==="modern"?"selected":""),onClick:()=>w("DefaultThemeForThino","modern"),children:[y.jsxs("div",{className:"theme-selector-header-component",children:[y.jsx("div",{className:"theme-selector-header",children:E("Modern")}),y.jsx("div",{className:"theme-selector-description",children:E("A modern theme for Thino with a three-column layout and some unique features.")})]}),y.jsxs("div",{className:"theme-selector-content",children:[y.jsx("div",{className:"left-column column-component"}),y.jsx("div",{className:"center-column column-component"}),y.jsx("div",{className:"right-column column-component"})]}),y.jsx("div",{className:"theme-selector-footer",children:y.jsx("button",{className:"mod-cta",disabled:(t==null?void 0:t.DefaultThemeForThino)==="modern",onClick:()=>w("DefaultThemeForThino","modern"),children:(t==null?void 0:t.DefaultThemeForThino)==="modern"?E("Selected"):E("Select")})})]}),y.jsxs("div",{className:Kn("theme-selector",(t==null?void 0:t.DefaultThemeForThino)==="classic"?"selected":""),onClick:()=>w("DefaultThemeForThino","classic"),children:[y.jsxs("div",{className:"theme-selector-header-component",children:[y.jsx("div",{className:"theme-selector-header",children:E("Classic")}),y.jsx("div",{className:"theme-selector-description",children:E("A classic theme for Thino with a two-column layout")})]}),y.jsxs("div",{className:"theme-selector-content",children:[y.jsx("div",{className:"left-column column-component"}),y.jsx("div",{className:"center-column column-component"})]}),y.jsx("div",{className:"theme-selector-footer",children:y.jsx("button",{className:"mod-cta",disabled:(t==null?void 0:t.DefaultThemeForThino)==="classic",onClick:()=>w("DefaultThemeForThino","classic"),children:(t==null?void 0:t.DefaultThemeForThino)==="classic"?E("Selected"):E("Select")})})]})]})});case 2:return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"daily-note-plugin-status",children:[y.jsxs("div",{className:"daily-note-plugin-status-header",children:[y.jsx("div",{className:"plugin-status-header",children:E("Daily note plugin")}),y.jsx("div",{className:"plugin-status-description",children:E("Enable daily note plugin")})]}),y.jsx("div",{className:"daily-note-plugin-status-content",children:g.enabled&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"daily-note-format",children:[y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Daily note name format")}),y.jsx("div",{className:"setting-item-description",children:E("Set daily note name format")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"YYYY-MM-DD",defaultValue:g.format,onInput:I=>{v({...g,format:I.currentTarget.value.trim()});try{const k=n.internalPlugins.getPluginById("daily-notes");k.instance.options={...k.instance.options,format:I.currentTarget.value.trim()},k.saveData({...k.instance.options,format:I.currentTarget.value.trim()})}catch(k){console.error(k)}}})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Daily notes folder")}),y.jsx("div",{className:"setting-item-description",children:E("Set daily notes folder")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"YYYY-MM-DD",defaultValue:g.path,onInput:I=>{v({...g,path:I.currentTarget.value.trim()});try{const k=n.internalPlugins.getPluginById("daily-notes");k.instance.options={...k.instance.options,folder:I.currentTarget.value.trim()},k.saveData({...k.instance.options,folder:I.currentTarget.value.trim()})}catch(k){console.error(k)}}})})]})]})})}),y.jsxs("div",{className:"daily-note-plugin-status-footer",children:[!g.enabled&&y.jsx("div",{className:"notice-click",children:E("Click to enable =>")}),y.jsx("button",{className:"mod-cta",disabled:g.enabled,onClick:()=>{if(!g.enabled){n.internalPlugins.getPluginById("daily-notes").enable();const I=su().folder,k=su().format;v({enabled:!0,format:k,path:I})}},children:g.enabled?E("Enabled"):E("Enable")})]})]}),y.jsxs("div",{className:"thino-daily-settings-wrapper",children:[y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Default time prefix")}),y.jsx("div",{className:"setting-item-description",children:E("Set default time prefix for thino in daily notes.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.DefaultTimePrefix,onChange:I=>w("DefaultTimePrefix",I.currentTarget.value),children:[y.jsx("option",{value:"HH:mm",children:"HH:mm"}),y.jsx("option",{value:"HH:mm:ss",children:"HH:mm:ss"})]})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Set thino insert place")}),y.jsx("div",{className:"setting-item-description",children:E("Set where to insert thino content")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.InsertType,onChange:I=>w("InsertType",I.currentTarget.value),children:[y.jsx("option",{value:"end",children:E("End of the diary")}),y.jsx("option",{value:"custom",children:E("Custom location")})]})})]}),(t==null?void 0:t.InsertType)==="custom"&&y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Insert after heading")}),y.jsx("div",{className:"setting-item-description",children:E("If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"# Heading",defaultValue:t==null?void 0:t.InsertAfter,onInput:I=>w("InsertAfter",I.currentTarget.value)})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Set process target")}),y.jsx("div",{className:"setting-item-description",children:E("You can set whole diary or only part of it")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.ProcessContentTarget,onChange:I=>w("ProcessContentTarget",I.currentTarget.value),children:[y.jsx("option",{value:"custom",children:E("Custom")}),y.jsx("option",{value:"whole",children:E("Whole diary")})]})})]}),(t==null?void 0:t.ProcessContentTarget)==="custom"&&y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Process Memos below")}),y.jsx("div",{className:"setting-item-description",children:E("If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"# Heading",defaultValue:t==null?void 0:t.ProcessEntriesBelow,onInput:I=>w("ProcessEntriesBelow",I.currentTarget.value)})})]})]})]});case 3:return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"thino-custom-settings-wrapper",children:[y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Default prefix when save thino")}),y.jsx("div",{className:"setting-item-description",children:E("Set the default prefix when create memo, 'List' by default.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.DefaultPrefix,onChange:I=>w("DefaultPrefix",I.currentTarget.value),children:[y.jsx("option",{value:"List",children:E("List")}),y.jsx("option",{value:"Task",children:E("Task")})]})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Use Tags In Vault")}),y.jsx("div",{className:"setting-item-description",children:E("Use tags in vault rather than only in Memos. False by default.")})]}),y.jsx("div",{className:"setting-item-control",ref:I=>{I&&(I.hasChildNodes()||new C.ToggleComponent(I).setValue((t==null?void 0:t.UseVaultTags)===void 0?!1:t==null?void 0:t.UseVaultTags).onChange(k=>{w("UseVaultTags",k)}))}})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Delete Thino Directly")}),y.jsx("div",{className:"setting-item-description",children:E("When delete thino directly, it will not be moved to trash. False by default.")})]}),y.jsx("div",{className:"setting-item-control",ref:I=>{I&&(I.hasChildNodes()||new C.ToggleComponent(I).setValue((t==null?void 0:t.DeleteThinoDirectly)===void 0?!1:t==null?void 0:t.DeleteThinoDirectly).onChange(k=>{w("DeleteThinoDirectly",k)}))}})]})]})});case 4:return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"thino-congrats",children:[y.jsxs("div",{className:"final-congrats-text",children:[y.jsx("p",{className:"ready-use",children:E("Thino is ready to use. ")}),y.jsx("p",{className:"start-to-use",children:E("You can start using Thino now. If you want to know more about Thino Pro, click the button below.")})]}),y.jsxs("div",{className:"next-btns-group",children:[y.jsx("button",{onClick:()=>{const I=localStorage.getItem("language");I&&(I==="zh"||I==="zh-TW")?window.open("https://pkmer.cn/products/thino"):window.open("https://thino.pkmer.net/en/#price")},children:E("About Thino Pro")}),y.jsx("button",{className:"mod-cta",onClick:()=>{w("FirstLoaded",!1),dt.getState().isMobileView?(setTimeout(()=>{dt.setShowSiderbarInMobileView(!0)},500),setTimeout(()=>{dt.setExitSteps(!0)},1e3)):setTimeout(()=>{dt.setExitSteps(!0)},800)},children:E("Start Thino")})]})]})})}};return y.jsx(y.Fragment,{children:y.jsx("div",{className:"onboarding-view-container",children:y.jsx("div",{className:"onboarding-view-wrapper",children:y.jsxs("div",{"data-onboarding-step":i,className:"onboarding-view-content",children:[y.jsxs("div",{className:"onboarding-step-count",children:[i+1,"/5"]}),y.jsxs("div",{className:"onboarding-view-details",children:[y.jsxs("div",{className:"details-content",children:[y.jsx("div",{className:"onboarding-header-group",children:T}),y.jsx(y.Fragment,{children:y.jsx("div",{className:"onboarding-form",children:S()})})]}),y.jsxs("div",{className:"details-footer",children:[y.jsx("div",{className:"skip-btn",children:i!==4&&y.jsx("button",{onClick:()=>{w("FirstLoaded",!1)},children:E("Skip and start Thino")})}),y.jsxs("div",{className:"navigate-btns-group",children:[i!==0&&y.jsx("button",{onClick:()=>a(i-1),children:E("Back to previous step")}),i!==4&&y.jsx("button",{className:"mod-cta",onClick:()=>a(i+1),children:E("Next step")}),i===4&&y.jsx("button",{className:"details-settings-btn",onClick:()=>{n.setting.open(),n.setting.openTabById(o.id||"obsidian-memos")},children:E("Details settings")})]})]})]})]})})})})};function Gv(e){return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function Pn(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(f){try{d(r.next(f))}catch(m){i(m)}}function c(f){try{d(r.throw(f))}catch(m){i(m)}}function d(f){var m;f.done?o(f.value):(m=f.value,m instanceof n?m:new n(function(g){g(m)})).then(a,c)}d((r=r.apply(e,t||[])).next())})}function On(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(d){return function(f){return function(m){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,m[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&m[0]?r.return:m[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,m[1])).done)return o;switch(r=0,o&&(m=[2&m[0],o.value]),m[0]){case 0:case 1:o=m;break;case 4:return a.label++,{value:m[1],done:!1};case 5:a.label++,r=m[1],m=[0];continue;case 7:m=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!((o=o.length>0&&o[o.length-1])||m[0]!==6&&m[0]!==2)){a=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){a.label=m[1];break}if(m[0]===6&&a.label<o[1]){a.label=o[1],o=m;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(m);break}o[2]&&a.ops.pop(),a.trys.pop();continue}m=t.call(e,a)}catch(g){m=[6,g],r=0}finally{n=o=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([d,f])}}}function RI(e,t,n){var r,o=((r={})[e]=t,r.path="/",r.expires=void 0,r);if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o.expires=i.toUTCString()}var a=[];for(var c in o)a.push("".concat(c,"=").concat(o[c]));return document.cookie=a.join("; "),H3(e)}function H3(e){return(t={},document.cookie.split(";").forEach(function(n){var r=n.split("="),o=r[0],i=r[1];t[o.trim()]=i}),t)[e];var t}function dte(e,t){t?RI(e._options.dontShowAgainCookie,"true",e._options.dontShowAgainCookieDays):RI(e._options.dontShowAgainCookie,"",-1)}var qy,E1=(qy={},function(e,t){return t===void 0&&(t="introjs-stamp"),qy[t]=qy[t]||0,e[t]===void 0&&(e[t]=qy[t]++),e[t]}),gl=new(function(){function e(){this.events_key="introjs_event"}return e.prototype._id=function(t,n,r){return t+E1(n)+(r?"_".concat(E1(r)):"")},e.prototype.on=function(t,n,r,o,i){var a=this._id(n,r,o),c=function(d){return r(o||t,d||window.event)};"addEventListener"in t?t.addEventListener(n,c,i):"attachEvent"in t&&t.attachEvent("on".concat(n),c),t[this.events_key]=t[this.events_key]||{},t[this.events_key][a]=c},e.prototype.off=function(t,n,r,o,i){var a=this._id(n,r,o),c=t[this.events_key]&&t[this.events_key][a];c&&("removeEventListener"in t?t.removeEventListener(n,c,i):"detachEvent"in t&&t.detachEvent("on".concat(n),c),t[this.events_key][a]=null)},e}()),qn=function(e){return typeof e=="function"};function pl(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";n.match(t)||e.setAttribute("class","".concat(n," ").concat(t))}else if(e.classList!==void 0)for(var r=0,o=t.split(" ");r<o.length;r++){var i=o[r];e.classList.add(i)}else e.className.match(t)||(e.className+=" ".concat(t))}function $S(e,t){var n="";return"currentStyle"in e?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function _I(e,t){if(e){var n=function(r){var o=window.getComputedStyle(r),i=o.position==="absolute",a=/(auto|scroll)/;if(o.position==="fixed")return document.body;for(var c=r;c=c.parentElement;)if(o=window.getComputedStyle(c),(!i||o.position!=="static")&&a.test(o.overflow+o.overflowY+o.overflowX))return c;return document.body}(t);n!==document.body&&(n.scrollTop=t.offsetTop-n.offsetTop)}}function qS(){if(window.innerWidth!==void 0)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function BI(e,t,n,r,o){var i;if(t!=="off"&&e&&(i=t==="tooltip"?o.getBoundingClientRect():r.getBoundingClientRect(),!function(c){var d=c.getBoundingClientRect();return d.top>=0&&d.left>=0&&d.bottom+80<=window.innerHeight&&d.right<=window.innerWidth}(r))){var a=qS().height;i.bottom-(i.bottom-i.top)<0||r.clientHeight>a?window.scrollBy(0,i.top-(a/2-i.height/2)-n):window.scrollBy(0,i.top-(a/2-i.height/2)+n)}}function Em(e){e.setAttribute("role","button"),e.tabIndex=0}function z0(e){var t=e.parentElement;return!(!t||t.nodeName==="HTML")&&($S(e,"position")==="fixed"||z0(t))}function xh(e,t){var n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft;t=t||n;var a=e.getBoundingClientRect(),c=t.getBoundingClientRect(),d=$S(t,"position"),f={width:a.width,height:a.height};return t.tagName.toLowerCase()!=="body"&&d==="relative"||d==="sticky"?Object.assign(f,{top:a.top-c.top,left:a.left-c.left}):z0(e)?Object.assign(f,{top:a.top,left:a.left}):Object.assign(f,{top:a.top+o,left:a.left+i})}function GS(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";e.setAttribute("class",n.replace(t,"").replace(/^\s+|\s+$/g,""))}else e.className=e.className.replace(t,"").replace(/^\s+|\s+$/g,"")}function mu(e,t){var n="";if(e.style.cssText&&(n+=e.style.cssText),typeof t=="string")n+=t;else for(var r in t)n+="".concat(r,":").concat(t[r],";");e.style.cssText=n}function nc(e,t,n){if(n&&t){var r=xh(t.element,e._targetElement),o=e._options.helperElementPadding;t.element instanceof Element&&z0(t.element)?pl(n,"introjs-fixedTooltip"):GS(n,"introjs-fixedTooltip"),t.position==="floating"&&(o=0),mu(n,{width:"".concat(r.width+o,"px"),height:"".concat(r.height+o,"px"),top:"".concat(r.top-o/2,"px"),left:"".concat(r.left-o/2,"px")})}}function Gy(e,t,n,r,o){return e.left+t+n.width>r.width?(o.style.left="".concat(r.width-n.width-e.left,"px"),!1):(o.style.left="".concat(t,"px"),!0)}function Jy(e,t,n,r){return e.left+e.width-t-n.width<0?(r.style.left="".concat(-e.left,"px"),!1):(r.style.right="".concat(t,"px"),!0)}function ol(e,t){e.includes(t)&&e.splice(e.indexOf(t),1)}function fte(e,t,n,r){var o=e.slice(),i=qS(),a=xh(n).height+10,c=xh(n).width+20,d=t.getBoundingClientRect(),f="floating";if(d.bottom+a>i.height&&ol(o,"bottom"),d.top-a<0&&ol(o,"top"),d.right+c>i.width&&ol(o,"right"),d.left-c<0&&ol(o,"left"),r&&(r=r.split("-")[0]),o.length&&(f=o[0],o.includes(r)&&(f=r)),f==="top"||f==="bottom"){var m=void 0,g=[];f==="top"?(m="top-middle-aligned",g=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(m="bottom-middle-aligned",g=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),f=function(v,w,T,S){var I=w/2,k=Math.min(T,window.screen.width);return k-v<w&&(ol(S,"top-left-aligned"),ol(S,"bottom-left-aligned")),(v<I||k-v<I)&&(ol(S,"top-middle-aligned"),ol(S,"bottom-middle-aligned")),v<w&&(ol(S,"top-right-aligned"),ol(S,"bottom-right-aligned")),S.length?S[0]:null}(d.left,c,i.width,g)||m}return f}function Jv(e,t,n,r,o){if(o===void 0&&(o=!1),t){var i,a,c,d,f="";n.style.top="",n.style.right="",n.style.bottom="",n.style.left="",n.style.marginLeft="",n.style.marginTop="",r.style.display="inherit",f=typeof t.tooltipClass=="string"?t.tooltipClass:e._options.tooltipClass,n.className=["introjs-tooltip",f].filter(Boolean).join(" "),n.setAttribute("role","dialog"),(d=t.position)!=="floating"&&e._options.autoPosition&&(d=fte(e._options.positionPrecedence,t.element,n,d)),a=xh(t.element),i=xh(n),c=qS(),pl(n,"introjs-".concat(d));var m=a.width/2-i.width/2;switch(d){case"top-right-aligned":r.className="introjs-arrow bottom-right";var g=0;Jy(a,g,i,n),n.style.bottom="".concat(a.height+20,"px");break;case"top-middle-aligned":r.className="introjs-arrow bottom-middle",o&&(m+=5),Jy(a,m,i,n)&&(n.style.right="",Gy(a,m,i,c,n)),n.style.bottom="".concat(a.height+20,"px");break;case"top-left-aligned":case"top":r.className="introjs-arrow bottom",Gy(a,o?0:15,i,c,n),n.style.bottom="".concat(a.height+20,"px");break;case"right":n.style.left="".concat(a.width+20,"px"),a.top+i.height>c.height?(r.className="introjs-arrow left-bottom",n.style.top="-".concat(i.height-a.height-20,"px")):r.className="introjs-arrow left";break;case"left":o||e._options.showStepNumbers!==!0||(n.style.top="15px"),a.top+i.height>c.height?(n.style.top="-".concat(i.height-a.height-20,"px"),r.className="introjs-arrow right-bottom"):r.className="introjs-arrow right",n.style.right="".concat(a.width+20,"px");break;case"floating":r.style.display="none",n.style.left="50%",n.style.top="50%",n.style.marginLeft="-".concat(i.width/2,"px"),n.style.marginTop="-".concat(i.height/2,"px");break;case"bottom-right-aligned":r.className="introjs-arrow top-right",Jy(a,g=0,i,n),n.style.top="".concat(a.height+20,"px");break;case"bottom-middle-aligned":r.className="introjs-arrow top-middle",o&&(m+=5),Jy(a,m,i,n)&&(n.style.right="",Gy(a,m,i,c,n)),n.style.top="".concat(a.height+20,"px");break;default:r.className="introjs-arrow top",Gy(a,0,i,c,n),n.style.top="".concat(a.height+20,"px")}}}function Y3(){for(var e=0,t=Array.from(document.querySelectorAll(".introjs-showElement"));e<t.length;e++)GS(t[e],/introjs-[a-zA-Z]+/g)}function vn(e,t){var n=document.createElement(e);t=t||{};var r=/^(?:role|data-|aria-)/;for(var o in t){var i=t[o];o==="style"&&typeof i!="function"?mu(n,i):typeof i=="string"&&o.match(r)?n.setAttribute(o,i):n[o]=i}return n}function HI(e,t,n){if(n===void 0&&(n=!1),n){var r=t.style.opacity||"1";mu(t,{opacity:"0"}),window.setTimeout(function(){mu(t,{opacity:r})},10)}e.appendChild(t)}function U3(e,t){return(e+1)/t*100}function z3(e,t){var n=vn("div",{className:"introjs-bullets"});e._options.showBullets===!1&&(n.style.display="none");var r=vn("ul");r.setAttribute("role","tablist");for(var o=function(){var f=this.getAttribute("data-step-number");f!=null&&e.goToStep(parseInt(f,10))},i=0;i<e._introItems.length;i++){var a=e._introItems[i].step,c=vn("li"),d=vn("a");c.setAttribute("role","presentation"),d.setAttribute("role","tab"),d.onclick=o,i===t.step-1&&(d.className="active"),Em(d),d.innerHTML="&nbsp;",d.setAttribute("data-step-number",a.toString()),c.appendChild(d),r.appendChild(c)}return n.appendChild(r),n}function V3(e,t,n){var r=e.querySelector(".introjs-progress .introjs-progressbar");if(r){var o=U3(t,n);r.style.cssText="width:".concat(o,"%;"),r.setAttribute("aria-valuenow",o.toString())}}function W3(e,t){return Pn(this,void 0,void 0,function(){var n,r,o,i,a,c,d,f,m,g,v,w,T,S,I,k,P,R,M,_,L,z,Y,V,$=this;return On(this,function(re){switch(re.label){case 0:return qn(e._introChangeCallback)?[4,e._introChangeCallback.call(e,t.element)]:[3,2];case 1:re.sent(),re.label=2;case 2:return n=document.querySelector(".introjs-helperLayer"),r=document.querySelector(".introjs-tooltipReferenceLayer"),o="introjs-helperLayer",typeof t.highlightClass=="string"&&(o+=" ".concat(t.highlightClass)),typeof e._options.highlightClass=="string"&&(o+=" ".concat(e._options.highlightClass)),n!==null&&r!==null?(d=r.querySelector(".introjs-helperNumberLayer"),f=r.querySelector(".introjs-tooltiptext"),m=r.querySelector(".introjs-tooltip-title"),g=r.querySelector(".introjs-arrow"),v=r.querySelector(".introjs-tooltip"),c=r.querySelector(".introjs-skipbutton"),a=r.querySelector(".introjs-prevbutton"),i=r.querySelector(".introjs-nextbutton"),n.className=o,v.style.opacity="0",v.style.display="none",_I(e._options.scrollToElement,t.element),nc(e,t,n),nc(e,t,r),Y3(),e._lastShowElementTimer&&window.clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=window.setTimeout(function(){d!==null&&(d.innerHTML="".concat(t.step," ").concat(e._options.stepNumbersOfLabel," ").concat(e._introItems.length)),f.innerHTML=t.intro||"",m.innerHTML=t.title||"",v.style.display="block",Jv(e,t,v,g),function(Q,ae,X){if(Q){var ie=ae.querySelector(".introjs-bullets li > a.active"),Z=ae.querySelector('.introjs-bullets li > a[data-step-number="'.concat(X.step,'"]'));ie&&Z&&(ie.className="",Z.className="active")}}(e._options.showBullets,r,t),V3(r,e._currentStep,e._introItems.length),v.style.opacity="1",(i!=null&&/introjs-donebutton/gi.test(i.className)||i!=null)&&i.focus(),BI(e._options.scrollToElement,t.scrollTo,e._options.scrollPadding,t.element,f)},350)):(w=vn("div",{className:o}),T=vn("div",{className:"introjs-tooltipReferenceLayer"}),S=vn("div",{className:"introjs-arrow"}),I=vn("div",{className:"introjs-tooltip"}),k=vn("div",{className:"introjs-tooltiptext"}),P=vn("div",{className:"introjs-tooltip-header"}),R=vn("h1",{className:"introjs-tooltip-title"}),M=vn("div"),mu(w,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(e._options.overlayOpacity.toString(),") 0 0 0 5000px")}),_I(e._options.scrollToElement,t.element),nc(e,t,w),nc(e,t,T),HI(e._targetElement,w,!0),HI(e._targetElement,T),k.innerHTML=t.intro,R.innerHTML=t.title,M.className="introjs-tooltipbuttons",e._options.showButtons===!1&&(M.style.display="none"),P.appendChild(R),I.appendChild(P),I.appendChild(k),e._options.dontShowAgain&&(_=vn("div",{className:"introjs-dontShowAgain"}),(L=vn("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(Q){e.setDontShowAgain(Q.target.checked)},(z=vn("label",{htmlFor:"introjs-dontShowAgain"})).innerText=e._options.dontShowAgainLabel,_.appendChild(L),_.appendChild(z),I.appendChild(_)),I.appendChild(z3(e,t)),I.appendChild(function(Q){var ae=vn("div");ae.className="introjs-progress",Q._options.showProgress===!1&&(ae.style.display="none");var X=vn("div",{className:"introjs-progressbar"});Q._options.progressBarAdditionalClass&&(X.className+=" "+Q._options.progressBarAdditionalClass);var ie=U3(Q._currentStep,Q._introItems.length);return X.setAttribute("role","progress"),X.setAttribute("aria-valuemin","0"),X.setAttribute("aria-valuemax","100"),X.setAttribute("aria-valuenow",ie.toString()),X.style.cssText="width:".concat(ie,"%;"),ae.appendChild(X),ae}(e)),Y=vn("div"),e._options.showStepNumbers===!0&&(Y.className="introjs-helperNumberLayer",Y.innerHTML="".concat(t.step," ").concat(e._options.stepNumbersOfLabel," ").concat(e._introItems.length),I.appendChild(Y)),I.appendChild(S),T.appendChild(I),(i=vn("a")).onclick=function(){return Pn($,void 0,void 0,function(){return On(this,function(Q){switch(Q.label){case 0:return e._introItems.length-1===e._currentStep?[3,2]:[4,Od(e)];case 1:return Q.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(i.className)?qn(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"done")]:[3,4]:[3,6];case 3:Q.sent(),Q.label=4;case 4:return[4,jd(e,e._targetElement)];case 5:Q.sent(),Q.label=6;case 6:return[2]}})})},Em(i),i.innerHTML=e._options.nextLabel,(a=vn("a")).onclick=function(){return Pn($,void 0,void 0,function(){return On(this,function(Q){switch(Q.label){case 0:return e._currentStep>0?[4,Kv(e)]:[3,2];case 1:Q.sent(),Q.label=2;case 2:return[2]}})})},Em(a),a.innerHTML=e._options.prevLabel,Em(c=vn("a",{className:"introjs-skipbutton"})),c.innerHTML=e._options.skipLabel,c.onclick=function(){return Pn($,void 0,void 0,function(){return On(this,function(Q){switch(Q.label){case 0:return e._introItems.length-1===e._currentStep&&qn(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"skip")]:[3,2];case 1:Q.sent(),Q.label=2;case 2:return qn(e._introSkipCallback)?[4,e._introSkipCallback.call(e,e._currentStep)]:[3,4];case 3:Q.sent(),Q.label=4;case 4:return[4,jd(e,e._targetElement)];case 5:return Q.sent(),[2]}})})},P.appendChild(c),e._introItems.length>1&&M.appendChild(a),M.appendChild(i),I.appendChild(M),Jv(e,t,I,S),BI(e._options.scrollToElement,t.scrollTo,e._options.scrollPadding,t.element,I)),(V=e._targetElement.querySelector(".introjs-disableInteraction"))&&V.parentNode&&V.parentNode.removeChild(V),t.disableInteraction&&function(Q,ae){var X=document.querySelector(".introjs-disableInteraction");X===null&&(X=vn("div",{className:"introjs-disableInteraction"}),Q._targetElement.appendChild(X)),nc(Q,ae,X)}(e,t),e._currentStep===0&&e._introItems.length>1?(i!=null&&(i.className="".concat(e._options.buttonClass," introjs-nextbutton"),i.innerHTML=e._options.nextLabel),e._options.hidePrev===!0?(a!=null&&(a.className="".concat(e._options.buttonClass," introjs-prevbutton introjs-hidden")),i!=null&&pl(i,"introjs-fullbutton")):a!=null&&(a.className="".concat(e._options.buttonClass," introjs-prevbutton introjs-disabled"))):e._introItems.length-1===e._currentStep||e._introItems.length===1?(a!=null&&(a.className="".concat(e._options.buttonClass," introjs-prevbutton")),e._options.hideNext===!0?(i!=null&&(i.className="".concat(e._options.buttonClass," introjs-nextbutton introjs-hidden")),a!=null&&pl(a,"introjs-fullbutton")):i!=null&&(e._options.nextToDone===!0?(i.innerHTML=e._options.doneLabel,pl(i,"".concat(e._options.buttonClass," introjs-nextbutton introjs-donebutton"))):i.className="".concat(e._options.buttonClass," introjs-nextbutton introjs-disabled"))):(a!=null&&(a.className="".concat(e._options.buttonClass," introjs-prevbutton")),i!=null&&(i.className="".concat(e._options.buttonClass," introjs-nextbutton"),i.innerHTML=e._options.nextLabel)),a!=null&&a.setAttribute("role","button"),i!=null&&i.setAttribute("role","button"),c!=null&&c.setAttribute("role","button"),i!=null&&i.focus(),function(Q){pl(Q,"introjs-showElement");var ae=$S(Q,"position");ae!=="absolute"&&ae!=="relative"&&ae!=="sticky"&&ae!=="fixed"&&pl(Q,"introjs-relativePosition")}(t.element),qn(e._introAfterChangeCallback)?[4,e._introAfterChangeCallback.call(e,t.element)]:[3,4];case 3:re.sent(),re.label=4;case 4:return[2]}})})}function hte(e,t){return Pn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return e._currentStep=t-2,e._introItems===void 0?[3,2]:[4,Od(e)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function pte(e,t){return Pn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return e._currentStepNumber=t,e._introItems===void 0?[3,2]:[4,Od(e)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function Od(e){return Pn(this,void 0,void 0,function(){var t,n,r;return On(this,function(o){switch(o.label){case 0:if(e._direction="forward",e._currentStepNumber!==void 0)for(t=0;t<e._introItems.length;t++)e._introItems[t].step===e._currentStepNumber&&(e._currentStep=t-1,e._currentStepNumber=void 0);return e._currentStep===-1?e._currentStep=0:++e._currentStep,n=e._introItems[e._currentStep],r=!0,qn(e._introBeforeChangeCallback)?[4,e._introBeforeChangeCallback.call(e,n&&n.element,e._currentStep,e._direction)]:[3,2];case 1:r=o.sent(),o.label=2;case 2:return r===!1?(--e._currentStep,[2,!1]):e._introItems.length<=e._currentStep?qn(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"end")]:[3,4]:[3,6];case 3:o.sent(),o.label=4;case 4:return[4,jd(e,e._targetElement)];case 5:return o.sent(),[2,!1];case 6:return[4,W3(e,n)];case 7:return o.sent(),[2,!0]}})})}function Kv(e){return Pn(this,void 0,void 0,function(){var t,n;return On(this,function(r){switch(r.label){case 0:return e._direction="backward",e._currentStep<=0?[2,!1]:(--e._currentStep,t=e._introItems[e._currentStep],n=!0,qn(e._introBeforeChangeCallback)?[4,e._introBeforeChangeCallback.call(e,t&&t.element,e._currentStep,e._direction)]:[3,2]);case 1:n=r.sent(),r.label=2;case 2:return n===!1?(++e._currentStep,[2,!1]):[4,W3(e,t)];case 3:return r.sent(),[2,!0]}})})}function Z3(e,t){return Pn(this,void 0,void 0,function(){var n,r;return On(this,function(o){switch(o.label){case 0:return(n=t.code===void 0?t.which:t.code)===null&&(n=t.charCode===null?t.keyCode:t.charCode),n!=="Escape"&&n!==27||e._options.exitOnEsc!==!0?[3,2]:[4,jd(e,e._targetElement)];case 1:return o.sent(),[3,16];case 2:return n!=="ArrowLeft"&&n!==37?[3,4]:[4,Kv(e)];case 3:return o.sent(),[3,16];case 4:return n!=="ArrowRight"&&n!==39?[3,6]:[4,Od(e)];case 5:return o.sent(),[3,16];case 6:return n!=="Enter"&&n!=="NumpadEnter"&&n!==13?[3,16]:(r=t.target||t.srcElement)&&r.className.match("introjs-prevbutton")?[4,Kv(e)]:[3,8];case 7:return o.sent(),[3,15];case 8:return r&&r.className.match("introjs-skipbutton")?e._introItems.length-1===e._currentStep&&qn(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"skip")]:[3,10]:[3,12];case 9:o.sent(),o.label=10;case 10:return[4,jd(e,e._targetElement)];case 11:return o.sent(),[3,15];case 12:return r&&r.getAttribute("data-step-number")?(r.click(),[3,15]):[3,13];case 13:return[4,Od(e)];case 14:o.sent(),o.label=15;case 15:t.preventDefault?t.preventDefault():t.returnValue=!1,o.label=16;case 16:return[2]}})})}function JS(e){if(e===null||Gv(e)!=="object"||"nodeType"in e)return e;var t={};for(var n in e)"jQuery"in window&&e[n]instanceof window.jQuery?t[n]=e[n]:t[n]=JS(e[n]);return t}function Jh(e){var t=document.querySelector(".introjs-hints");return t?Array.from(t.querySelectorAll(e)):[]}function KS(e,t){return Pn(this,void 0,void 0,function(){var n;return On(this,function(r){switch(r.label){case 0:return n=Jh('.introjs-hint[data-step="'.concat(t,'"]'))[0],V0(),n&&pl(n,"introjs-hidehint"),qn(e._hintCloseCallback)?[4,e._hintCloseCallback.call(e,t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}function mte(e){return Pn(this,void 0,void 0,function(){var t,n,r,o,i;return On(this,function(a){switch(a.label){case 0:t=Jh(".introjs-hint"),n=0,r=t,a.label=1;case 1:return n<r.length?(o=r[n],(i=o.getAttribute("data-step"))?[4,KS(e,parseInt(i,10))]:[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function gte(e){return Pn(this,void 0,void 0,function(){var t,n,r,o,i;return On(this,function(a){switch(a.label){case 0:if(!(t=Jh(".introjs-hint"))||!t.length)return[3,1];for(n=0,r=t;n<r.length;n++)o=r[n],(i=o.getAttribute("data-step"))&&$3(parseInt(i,10));return[3,3];case 1:return[4,J3(e,e._targetElement)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function $3(e){var t=Jh('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&GS(t,/introjs-hidehint/g)}function YI(e){var t=Jh('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&t.parentNode&&t.parentNode.removeChild(t)}function yte(e){return Pn(this,void 0,void 0,function(){var t,n,r,o,i,a,c;return On(this,function(d){switch(d.label){case 0:for((t=document.querySelector(".introjs-hints"))===null&&(t=vn("div",{className:"introjs-hints"})),n=function(v){return function(w){var T=w||window.event;T&&T.stopPropagation&&T.stopPropagation(),T&&T.cancelBubble!==null&&(T.cancelBubble=!0),G3(e,v)}},r=0;r<e._hintItems.length;r++){if(o=e._hintItems[r],document.querySelector('.introjs-hint[data-step="'.concat(r,'"]')))return[2];Em(i=vn("a",{className:"introjs-hint"})),i.onclick=n(r),o.hintAnimation||pl(i,"introjs-hint-no-anim"),z0(o.element)&&pl(i,"introjs-fixedhint"),a=vn("div",{className:"introjs-hint-dot"}),c=vn("div",{className:"introjs-hint-pulse"}),i.appendChild(a),i.appendChild(c),i.setAttribute("data-step",r.toString()),o.hintTargetElement=o.element,o.element=i,q3(o.hintPosition,i,o.hintTargetElement),t.appendChild(i)}return document.body.appendChild(t),qn(e._hintsAddedCallback)?[4,e._hintsAddedCallback.call(e)]:[3,2];case 1:d.sent(),d.label=2;case 2:return e._options.hintAutoRefreshInterval>=0&&(e._hintsAutoRefreshFunction=(f=function(){return W0(e)},m=e._options.hintAutoRefreshInterval,function(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];window.clearTimeout(g),g=window.setTimeout(function(){f(v)},m)}),gl.on(window,"scroll",e._hintsAutoRefreshFunction,e,!0)),[2]}var f,m,g})})}function q3(e,t,n){if(n!==void 0){var r=xh(n),o=20,i=20;switch(e){default:case"top-left":t.style.left="".concat(r.left,"px"),t.style.top="".concat(r.top,"px");break;case"top-right":t.style.left="".concat(r.left+r.width-o,"px"),t.style.top="".concat(r.top,"px");break;case"bottom-left":t.style.left="".concat(r.left,"px"),t.style.top="".concat(r.top+r.height-i,"px");break;case"bottom-right":t.style.left="".concat(r.left+r.width-o,"px"),t.style.top="".concat(r.top+r.height-i,"px");break;case"middle-left":t.style.left="".concat(r.left,"px"),t.style.top="".concat(r.top+(r.height-i)/2,"px");break;case"middle-right":t.style.left="".concat(r.left+r.width-o,"px"),t.style.top="".concat(r.top+(r.height-i)/2,"px");break;case"middle-middle":t.style.left="".concat(r.left+(r.width-o)/2,"px"),t.style.top="".concat(r.top+(r.height-i)/2,"px");break;case"bottom-middle":t.style.left="".concat(r.left+(r.width-o)/2,"px"),t.style.top="".concat(r.top+r.height-i,"px");break;case"top-middle":t.style.left="".concat(r.left+(r.width-o)/2,"px"),t.style.top="".concat(r.top,"px")}}}function G3(e,t){return Pn(this,void 0,void 0,function(){var n,r,o,i,a,c,d,f,m,g,v;return On(this,function(w){switch(w.label){case 0:return n=document.querySelector('.introjs-hint[data-step="'.concat(t,'"]')),r=e._hintItems[t],qn(e._hintClickCallback)?[4,e._hintClickCallback.call(e,n,r,t)]:[3,2];case 1:w.sent(),w.label=2;case 2:return(o=V0())!==void 0&&parseInt(o,10)===t||(i=vn("div",{className:"introjs-tooltip"}),a=vn("div"),c=vn("div"),d=vn("div"),i.onclick=function(T){T.stopPropagation?T.stopPropagation():T.cancelBubble=!0},a.className="introjs-tooltiptext",(f=vn("p")).innerHTML=r.hint||"",a.appendChild(f),e._options.hintShowButton&&((m=vn("a")).className=e._options.buttonClass,m.setAttribute("role","button"),m.innerHTML=e._options.hintButtonLabel,m.onclick=function(){return KS(e,t)},a.appendChild(m)),c.className="introjs-arrow",i.appendChild(c),i.appendChild(a),g=n.getAttribute("data-step")||"",e._currentStep=parseInt(g,10),v=e._hintItems[e._currentStep],d.className="introjs-tooltipReferenceLayer introjs-hintReference",d.setAttribute("data-step",g),nc(e,v,d),d.appendChild(i),document.body.appendChild(d),Jv(e,v,i,c,!0)),[2]}})})}function V0(){var e=document.querySelector(".introjs-hintReference");if(e&&e.parentNode){var t=e.getAttribute("data-step");return t?(e.parentNode.removeChild(e),t):void 0}}function J3(e,t){return Pn(this,void 0,void 0,function(){var n,r,o,i,a,c,d,f,m,g;return On(this,function(v){switch(v.label){case 0:if(e._hintItems=[],e._options.hints&&e._options.hints.length>0)for(n=0,r=e._options.hints;n<r.length;n++)o=r[n],typeof(i=JS(o)).element=="string"&&(i.element=document.querySelector(i.element)),i.hintPosition=i.hintPosition||e._options.hintPosition,i.hintAnimation=i.hintAnimation||e._options.hintAnimation,i.element!==null&&e._hintItems.push(i);else{if(!(a=Array.from(t.querySelectorAll("*[data-hint]")))||!a.length)return[2,!1];for(c=0,d=a;c<d.length;c++)f=d[c],m=f.getAttribute("data-hint-animation"),g=e._options.hintAnimation,m&&(g=m==="true"),e._hintItems.push({element:f,hint:f.getAttribute("data-hint")||"",hintPosition:f.getAttribute("data-hint-position")||e._options.hintPosition,hintAnimation:g,tooltipClass:f.getAttribute("data-tooltip-class")||void 0,position:f.getAttribute("data-position")||e._options.tooltipPosition})}return[4,yte(e)];case 1:return v.sent(),gl.on(document,"click",V0,e,!1),gl.on(window,"resize",W0,e,!0),[2,!0]}})})}function W0(e){for(var t=0,n=e._hintItems;t<n.length;t++){var r=n[t],o=r.hintTargetElement;q3(r.hintPosition,r.element,o)}}function K3(e,t){var n=Array.from(t.querySelectorAll("*[data-intro]")),r=[];if(e._options.steps&&e._options.steps.length)for(var o=0,i=e._options.steps;o<i.length;o++){var a=JS(v=i[o]);if(a.step=r.length+1,a.title=a.title||"",typeof a.element=="string"&&(a.element=document.querySelector(a.element)||void 0),a.element===void 0||a.element===null){var c=document.querySelector(".introjsFloatingElement");c===null&&(c=vn("div",{className:"introjsFloatingElement"}),document.body.appendChild(c)),a.element=c,a.position="floating"}a.position=a.position||e._options.tooltipPosition,a.scrollTo=a.scrollTo||e._options.scrollTo,a.disableInteraction===void 0&&(a.disableInteraction=e._options.disableInteraction),a.element!==null&&r.push(a)}else{var d=void 0;if(n.length<1)return[];for(var f=0,m=n;f<m.length;f++){var g=m[f];if((!e._options.group||g.getAttribute("data-intro-group")===e._options.group)&&g.style.display!=="none"){var v=parseInt(g.getAttribute("data-step")||"",10);d=e._options.disableInteraction,g.hasAttribute("data-disable-interaction")&&(d=!!g.getAttribute("data-disable-interaction")),v>0&&(r[v-1]={step:v,element:g,title:g.getAttribute("data-title")||"",intro:g.getAttribute("data-intro")||"",tooltipClass:g.getAttribute("data-tooltip-class")||void 0,highlightClass:g.getAttribute("data-highlight-class")||void 0,position:g.getAttribute("data-position")||e._options.tooltipPosition,scrollTo:g.getAttribute("data-scroll-to")||e._options.scrollTo,disableInteraction:d})}}for(var w=0,T=0,S=n;T<S.length;T++)if(g=S[T],(!e._options.group||g.getAttribute("data-intro-group")===e._options.group)&&g.getAttribute("data-step")===null){for(;r[w]!==void 0;)w++;d=g.hasAttribute("data-disable-interaction")?!!g.getAttribute("data-disable-interaction"):e._options.disableInteraction,r[w]={element:g,title:g.getAttribute("data-title")||"",intro:g.getAttribute("data-intro")||"",step:w+1,tooltipClass:g.getAttribute("data-tooltip-class")||void 0,highlightClass:g.getAttribute("data-highlight-class")||void 0,position:g.getAttribute("data-position")||e._options.tooltipPosition,scrollTo:g.getAttribute("data-scroll-to")||e._options.scrollTo,disableInteraction:d}}}for(var I=[],k=0;k<r.length;k++)r[k]&&I.push(r[k]);return(r=I).sort(function(P,R){return P.step-R.step}),r}function Q3(e,t){var n=e._currentStep;if(n!=null&&n!=-1){var r=e._introItems[n],o=document.querySelector(".introjs-tooltipReferenceLayer"),i=document.querySelector(".introjs-helperLayer"),a=document.querySelector(".introjs-disableInteraction");nc(e,r,i),nc(e,r,o),nc(e,r,a),t&&(e._introItems=K3(e,e._targetElement),function(f,m){if(f._options.showBullets){var g=document.querySelector(".introjs-bullets");g&&g.parentNode&&g.parentNode.replaceChild(z3(f,m),g)}}(e,r),V3(o,n,e._introItems.length));var c=document.querySelector(".introjs-arrow"),d=document.querySelector(".introjs-tooltip");return d&&c&&Jv(e,e._introItems[n],d,c),W0(e),e}}function X3(e){Q3(e)}function fm(e,t){if(t===void 0&&(t=!1),e&&e.parentElement){var n=e.parentElement;t?(mu(e,{opacity:"0"}),window.setTimeout(function(){try{n.removeChild(e)}catch{}},500)):n.removeChild(e)}}function jd(e,t,n){return n===void 0&&(n=!1),Pn(this,void 0,void 0,function(){var r,o,i,a;return On(this,function(c){switch(c.label){case 0:return r=!0,e._introBeforeExitCallback===void 0?[3,2]:[4,e._introBeforeExitCallback.call(e,t)];case 1:r=c.sent(),c.label=2;case 2:if(!n&&r===!1)return[2];if((o=Array.from(t.querySelectorAll(".introjs-overlay")))&&o.length)for(i=0,a=o;i<a.length;i++)fm(a[i]);return fm(t.querySelector(".introjs-helperLayer"),!0),fm(t.querySelector(".introjs-tooltipReferenceLayer")),fm(t.querySelector(".introjs-disableInteraction")),fm(document.querySelector(".introjsFloatingElement")),Y3(),gl.off(window,"keydown",Z3,e,!0),gl.off(window,"resize",X3,e,!0),qn(e._introExitCallback)?[4,e._introExitCallback.call(e)]:[3,4];case 3:c.sent(),c.label=4;case 4:return e._currentStep=-1,[2]}})})}function vte(e,t){return Pn(this,void 0,void 0,function(){var n;return On(this,function(r){switch(r.label){case 0:return e.isActive()?qn(e._introStartCallback)?[4,e._introStartCallback.call(e,t)]:[3,2]:[2,!1];case 1:r.sent(),r.label=2;case 2:return(n=K3(e,t)).length===0?[2,!1]:(e._introItems=n,function(o,i){var a=this,c=vn("div",{className:"introjs-overlay"});mu(c,{top:0,bottom:0,left:0,right:0,position:"fixed"}),i.appendChild(c),o._options.exitOnOverlayClick===!0&&(mu(c,{cursor:"pointer"}),c.onclick=function(){return Pn(a,void 0,void 0,function(){return On(this,function(d){switch(d.label){case 0:return[4,jd(o,i)];case 1:return d.sent(),[2]}})})})}(e,t),[4,Od(e)]);case 3:r.sent(),t.addEventListener,e._options.keyboardNavigation&&gl.on(window,"keydown",Z3,e,!0),gl.on(window,"resize",X3,e,!0),r.label=4;case 4:return[2,!1]}})})}function UI(e,t,n){return e[t]=n,e}var Eb=function(){function e(t){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=t,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"×",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return e.prototype.isActive=function(){return(!this._options.dontShowAgain||(t=H3(this._options.dontShowAgainCookie))===""||t!=="true")&&this._options.isActive;var t},e.prototype.clone=function(){return new e(this._targetElement)},e.prototype.setOption=function(t,n){return this._options=UI(this._options,t,n),this},e.prototype.setOptions=function(t){return this._options=function(n,r){for(var o=0,i=Object.entries(r);o<i.length;o++){var a=i[o];n=UI(n,a[0],a[1])}return n}(this._options,t),this},e.prototype.start=function(){return Pn(this,void 0,void 0,function(){return On(this,function(t){switch(t.label){case 0:return[4,vte(this,this._targetElement)];case 1:return t.sent(),[2,this]}})})},e.prototype.goToStep=function(t){return Pn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return[4,hte(this,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.addStep=function(t){return this._options.steps||(this._options.steps=[]),this._options.steps.push(t),this},e.prototype.addSteps=function(t){if(!t.length)return this;for(var n=0;n<t.length;n++)this.addStep(t[n]);return this},e.prototype.goToStepNumber=function(t){return Pn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return[4,pte(this,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.nextStep=function(){return Pn(this,void 0,void 0,function(){return On(this,function(t){switch(t.label){case 0:return[4,Od(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.previousStep=function(){return Pn(this,void 0,void 0,function(){return On(this,function(t){switch(t.label){case 0:return[4,Kv(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.currentStep=function(){return this._currentStep},e.prototype.exit=function(t){return Pn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return[4,jd(this,this._targetElement,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.refresh=function(t){return Q3(this,t),this},e.prototype.setDontShowAgain=function(t){return dte(this,t),this},e.prototype.onbeforechange=function(t){if(!qn(t))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},e.prototype.onchange=function(t){if(!qn(t))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},e.prototype.onafterchange=function(t){if(!qn(t))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},e.prototype.oncomplete=function(t){if(!qn(t))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},e.prototype.onhintsadded=function(t){if(!qn(t))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this},e.prototype.onhintclick=function(t){if(!qn(t))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this},e.prototype.onhintclose=function(t){if(!qn(t))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this},e.prototype.onstart=function(t){if(!qn(t))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=t,this},e.prototype.onexit=function(t){if(!qn(t))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this},e.prototype.onskip=function(t){if(!qn(t))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=t,this},e.prototype.onbeforeexit=function(t){if(!qn(t))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=t,this},e.prototype.addHints=function(){return Pn(this,void 0,void 0,function(){return On(this,function(t){switch(t.label){case 0:return[4,J3(this,this._targetElement)];case 1:return t.sent(),[2,this]}})})},e.prototype.hideHint=function(t){return Pn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return[4,KS(this,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.hideHints=function(){return Pn(this,void 0,void 0,function(){return On(this,function(t){switch(t.label){case 0:return[4,mte(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.showHint=function(t){return $3(t),this},e.prototype.showHints=function(){return Pn(this,void 0,void 0,function(){return On(this,function(t){switch(t.label){case 0:return[4,gte(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.removeHints=function(){return function(t){for(var n=0,r=Jh(".introjs-hint");n<r.length;n++){var o=r[n].getAttribute("data-step");o&&YI(parseInt(o,10))}gl.off(document,"click",V0,t,!1),gl.off(window,"resize",W0,t,!0),t._hintsAutoRefreshFunction&&gl.off(window,"scroll",t._hintsAutoRefreshFunction,t,!0)}(this),this},e.prototype.removeHint=function(t){return YI(t),this},e.prototype.showHintDialog=function(t){return Pn(this,void 0,void 0,function(){return On(this,function(n){switch(n.label){case 0:return[4,G3(this,t)];case 1:return n.sent(),[2,this]}})})},e}(),Qv=function e(t){var n;if(Gv(t)==="object")n=new Eb(t);else if(typeof t=="string"){var r=document.querySelector(t);if(!r)throw new Error("There is no element with given selector.");n=new Eb(r)}else n=new Eb(document.body);return e.instances[E1(n,"introjs-instance")]=n,n};Qv.version="7.2.0",Qv.instances={};var fd={},zI;function wte(){if(zI)return fd;zI=1;var e=F;function t(N){for(var H="https://reactjs.org/docs/error-decoder.html?invariant="+N,J=1;J<arguments.length;J++)H+="&args[]="+encodeURIComponent(arguments[J]);return"Minified React error #"+N+"; visit "+H+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=Object.prototype.hasOwnProperty,r=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o={},i={};function a(N){return n.call(i,N)?!0:n.call(o,N)?!1:r.test(N)?i[N]=!0:(o[N]=!0,!1)}function c(N,H,J,ce,Ne,Ie,Ue){this.acceptsBooleans=H===2||H===3||H===4,this.attributeName=ce,this.attributeNamespace=Ne,this.mustUseProperty=J,this.propertyName=N,this.type=H,this.sanitizeURL=Ie,this.removeEmptyString=Ue}var d={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(N){d[N]=new c(N,0,!1,N,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(N){var H=N[0];d[H]=new c(H,1,!1,N[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(N){d[N]=new c(N,2,!1,N.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(N){d[N]=new c(N,2,!1,N,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(N){d[N]=new c(N,3,!1,N.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(N){d[N]=new c(N,3,!0,N,null,!1,!1)}),["capture","download"].forEach(function(N){d[N]=new c(N,4,!1,N,null,!1,!1)}),["cols","rows","size","span"].forEach(function(N){d[N]=new c(N,6,!1,N,null,!1,!1)}),["rowSpan","start"].forEach(function(N){d[N]=new c(N,5,!1,N.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function m(N){return N[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(N){var H=N.replace(f,m);d[H]=new c(H,1,!1,N,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(N){var H=N.replace(f,m);d[H]=new c(H,1,!1,N,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(N){var H=N.replace(f,m);d[H]=new c(H,1,!1,N,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(N){d[N]=new c(N,1,!1,N.toLowerCase(),null,!1,!1)}),d.xlinkHref=new c("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(N){d[N]=new c(N,1,!1,N.toLowerCase(),null,!0,!0)});var g={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v=["Webkit","ms","Moz","O"];Object.keys(g).forEach(function(N){v.forEach(function(H){H=H+N.charAt(0).toUpperCase()+N.substring(1),g[H]=g[N]})});var w=/["'&<>]/;function T(N){if(typeof N=="boolean"||typeof N=="number")return""+N;N=""+N;var H=w.exec(N);if(H){var J="",ce,Ne=0;for(ce=H.index;ce<N.length;ce++){switch(N.charCodeAt(ce)){case 34:H="&quot;";break;case 38:H="&amp;";break;case 39:H="&#x27;";break;case 60:H="&lt;";break;case 62:H="&gt;";break;default:continue}Ne!==ce&&(J+=N.substring(Ne,ce)),Ne=ce+1,J+=H}N=Ne!==ce?J+N.substring(Ne,ce):J}return N}var S=/([A-Z])/g,I=/^ms-/,k=Array.isArray;function P(N,H){return{insertionMode:N,selectedValue:H}}function R(N,H,J){switch(H){case"select":return P(1,J.value!=null?J.value:J.defaultValue);case"svg":return P(2,null);case"math":return P(3,null);case"foreignObject":return P(1,null);case"table":return P(4,null);case"thead":case"tbody":case"tfoot":return P(5,null);case"colgroup":return P(7,null);case"tr":return P(6,null)}return 4<=N.insertionMode||N.insertionMode===0?P(1,null):N}var M=new Map;function _(N,H,J){if(typeof J!="object")throw Error(t(62));H=!0;for(var ce in J)if(n.call(J,ce)){var Ne=J[ce];if(Ne!=null&&typeof Ne!="boolean"&&Ne!==""){if(ce.indexOf("--")===0){var Ie=T(ce);Ne=T((""+Ne).trim())}else{Ie=ce;var Ue=M.get(Ie);Ue!==void 0||(Ue=T(Ie.replace(S,"-$1").toLowerCase().replace(I,"-ms-")),M.set(Ie,Ue)),Ie=Ue,Ne=typeof Ne=="number"?Ne===0||n.call(g,ce)?""+Ne:Ne+"px":T((""+Ne).trim())}H?(H=!1,N.push(' style="',Ie,":",Ne)):N.push(";",Ie,":",Ne)}}H||N.push('"')}function L(N,H,J,ce){switch(J){case"style":_(N,H,ce);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<J.length)||J[0]!=="o"&&J[0]!=="O"||J[1]!=="n"&&J[1]!=="N"){if(H=d.hasOwnProperty(J)?d[J]:null,H!==null){switch(typeof ce){case"function":case"symbol":return;case"boolean":if(!H.acceptsBooleans)return}switch(J=H.attributeName,H.type){case 3:ce&&N.push(" ",J,'=""');break;case 4:ce===!0?N.push(" ",J,'=""'):ce!==!1&&N.push(" ",J,'="',T(ce),'"');break;case 5:isNaN(ce)||N.push(" ",J,'="',T(ce),'"');break;case 6:!isNaN(ce)&&1<=ce&&N.push(" ",J,'="',T(ce),'"');break;default:H.sanitizeURL&&(ce=""+ce),N.push(" ",J,'="',T(ce),'"')}}else if(a(J)){switch(typeof ce){case"function":case"symbol":return;case"boolean":if(H=J.toLowerCase().slice(0,5),H!=="data-"&&H!=="aria-")return}N.push(" ",J,'="',T(ce),'"')}}}function z(N,H,J){if(H!=null){if(J!=null)throw Error(t(60));if(typeof H!="object"||!("__html"in H))throw Error(t(61));H=H.__html,H!=null&&N.push(""+H)}}function Y(N){var H="";return e.Children.forEach(N,function(J){J!=null&&(H+=J)}),H}function V(N,H,J,ce){N.push(Q(J));var Ne=J=null,Ie;for(Ie in H)if(n.call(H,Ie)){var Ue=H[Ie];if(Ue!=null)switch(Ie){case"children":J=Ue;break;case"dangerouslySetInnerHTML":Ne=Ue;break;default:L(N,ce,Ie,Ue)}}return N.push(">"),z(N,Ne,J),typeof J=="string"?(N.push(T(J)),null):J}var $=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,re=new Map;function Q(N){var H=re.get(N);if(H===void 0){if(!$.test(N))throw Error(t(65,N));H="<"+N,re.set(N,H)}return H}function ae(N,H,J,ce,Ne){switch(H){case"select":N.push(Q("select"));var Ie=null,Ue=null;for(Yt in J)if(n.call(J,Yt)){var it=J[Yt];if(it!=null)switch(Yt){case"children":Ie=it;break;case"dangerouslySetInnerHTML":Ue=it;break;case"defaultValue":case"value":break;default:L(N,ce,Yt,it)}}return N.push(">"),z(N,Ue,Ie),Ie;case"option":Ue=Ne.selectedValue,N.push(Q("option"));var ut=it=null,Nt=null,Yt=null;for(Ie in J)if(n.call(J,Ie)){var In=J[Ie];if(In!=null)switch(Ie){case"children":it=In;break;case"selected":Nt=In;break;case"dangerouslySetInnerHTML":Yt=In;break;case"value":ut=In;default:L(N,ce,Ie,In)}}if(Ue!=null)if(J=ut!==null?""+ut:Y(it),k(Ue)){for(ce=0;ce<Ue.length;ce++)if(""+Ue[ce]===J){N.push(' selected=""');break}}else""+Ue===J&&N.push(' selected=""');else Nt&&N.push(' selected=""');return N.push(">"),z(N,Yt,it),it;case"textarea":N.push(Q("textarea")),Yt=Ue=Ie=null;for(it in J)if(n.call(J,it)&&(ut=J[it],ut!=null))switch(it){case"children":Yt=ut;break;case"value":Ie=ut;break;case"defaultValue":Ue=ut;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:L(N,ce,it,ut)}if(Ie===null&&Ue!==null&&(Ie=Ue),N.push(">"),Yt!=null){if(Ie!=null)throw Error(t(92));if(k(Yt)&&1<Yt.length)throw Error(t(93));Ie=""+Yt}return typeof Ie=="string"&&Ie[0]===`
`&&N.push(`
`),Ie!==null&&N.push(T(""+Ie)),null;case"input":N.push(Q("input")),ut=Yt=it=Ie=null;for(Ue in J)if(n.call(J,Ue)&&(Nt=J[Ue],Nt!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":ut=Nt;break;case"defaultValue":it=Nt;break;case"checked":Yt=Nt;break;case"value":Ie=Nt;break;default:L(N,ce,Ue,Nt)}return Yt!==null?L(N,ce,"checked",Yt):ut!==null&&L(N,ce,"checked",ut),Ie!==null?L(N,ce,"value",Ie):it!==null&&L(N,ce,"value",it),N.push("/>"),null;case"menuitem":N.push(Q("menuitem"));for(var Co in J)if(n.call(J,Co)&&(Ie=J[Co],Ie!=null))switch(Co){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:L(N,ce,Co,Ie)}return N.push(">"),null;case"title":N.push(Q("title")),Ie=null;for(In in J)if(n.call(J,In)&&(Ue=J[In],Ue!=null))switch(In){case"children":Ie=Ue;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:L(N,ce,In,Ue)}return N.push(">"),Ie;case"listing":case"pre":N.push(Q(H)),Ue=Ie=null;for(ut in J)if(n.call(J,ut)&&(it=J[ut],it!=null))switch(ut){case"children":Ie=it;break;case"dangerouslySetInnerHTML":Ue=it;break;default:L(N,ce,ut,it)}if(N.push(">"),Ue!=null){if(Ie!=null)throw Error(t(60));if(typeof Ue!="object"||!("__html"in Ue))throw Error(t(61));J=Ue.__html,J!=null&&(typeof J=="string"&&0<J.length&&J[0]===`
`?N.push(`
`,J):N.push(""+J))}return typeof Ie=="string"&&Ie[0]===`
`&&N.push(`
`),Ie;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":N.push(Q(H));for(var mo in J)if(n.call(J,mo)&&(Ie=J[mo],Ie!=null))switch(mo){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,H));default:L(N,ce,mo,Ie)}return N.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return V(N,J,H,ce);case"html":return Ne.insertionMode===0&&N.push("<!DOCTYPE html>"),V(N,J,H,ce);default:if(H.indexOf("-")===-1&&typeof J.is!="string")return V(N,J,H,ce);N.push(Q(H)),Ue=Ie=null;for(Nt in J)if(n.call(J,Nt)&&(it=J[Nt],it!=null))switch(Nt){case"children":Ie=it;break;case"dangerouslySetInnerHTML":Ue=it;break;case"style":_(N,ce,it);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:a(Nt)&&typeof it!="function"&&typeof it!="symbol"&&N.push(" ",Nt,'="',T(it),'"')}return N.push(">"),z(N,Ue,Ie),Ie}}function X(N,H,J){if(N.push('<!--$?--><template id="'),J===null)throw Error(t(395));return N.push(J),N.push('"></template>')}function ie(N,H,J,ce){switch(J.insertionMode){case 0:case 1:return N.push('<div hidden id="'),N.push(H.segmentPrefix),H=ce.toString(16),N.push(H),N.push('">');case 2:return N.push('<svg aria-hidden="true" style="display:none" id="'),N.push(H.segmentPrefix),H=ce.toString(16),N.push(H),N.push('">');case 3:return N.push('<math aria-hidden="true" style="display:none" id="'),N.push(H.segmentPrefix),H=ce.toString(16),N.push(H),N.push('">');case 4:return N.push('<table hidden id="'),N.push(H.segmentPrefix),H=ce.toString(16),N.push(H),N.push('">');case 5:return N.push('<table hidden><tbody id="'),N.push(H.segmentPrefix),H=ce.toString(16),N.push(H),N.push('">');case 6:return N.push('<table hidden><tr id="'),N.push(H.segmentPrefix),H=ce.toString(16),N.push(H),N.push('">');case 7:return N.push('<table hidden><colgroup id="'),N.push(H.segmentPrefix),H=ce.toString(16),N.push(H),N.push('">');default:throw Error(t(397))}}function Z(N,H){switch(H.insertionMode){case 0:case 1:return N.push("</div>");case 2:return N.push("</svg>");case 3:return N.push("</math>");case 4:return N.push("</table>");case 5:return N.push("</tbody></table>");case 6:return N.push("</tr></table>");case 7:return N.push("</colgroup></table>");default:throw Error(t(397))}}var ue=/[<\u2028\u2029]/g;function ne(N){return JSON.stringify(N).replace(ue,function(H){switch(H){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function he(N,H){return H=H===void 0?"":H,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:H+"P:",segmentPrefix:H+"S:",boundaryPrefix:H+"B:",idPrefix:H,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:N}}function K(N,H,J,ce){return J.generateStaticMarkup?(N.push(T(H)),!1):(H===""?N=ce:(ce&&N.push("<!-- -->"),N.push(T(H)),N=!0),N)}var oe=Object.assign,pe=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),je=Symbol.for("react.fragment"),Ae=Symbol.for("react.strict_mode"),Be=Symbol.for("react.profiler"),Je=Symbol.for("react.provider"),ze=Symbol.for("react.context"),Qe=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),Zt=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),st=Symbol.for("react.scope"),yt=Symbol.for("react.debug_trace_mode"),xt=Symbol.for("react.legacy_hidden"),Tt=Symbol.for("react.default_value"),qt=Symbol.iterator;function zt(N){if(N==null)return null;if(typeof N=="function")return N.displayName||N.name||null;if(typeof N=="string")return N;switch(N){case je:return"Fragment";case Ee:return"Portal";case Be:return"Profiler";case Ae:return"StrictMode";case It:return"Suspense";case Zt:return"SuspenseList"}if(typeof N=="object")switch(N.$$typeof){case ze:return(N.displayName||"Context")+".Consumer";case Je:return(N._context.displayName||"Context")+".Provider";case Qe:var H=N.render;return N=N.displayName,N||(N=H.displayName||H.name||"",N=N!==""?"ForwardRef("+N+")":"ForwardRef"),N;case _e:return H=N.displayName||null,H!==null?H:zt(N.type)||"Memo";case tt:H=N._payload,N=N._init;try{return zt(N(H))}catch{}}return null}var $t={};function Gt(N,H){if(N=N.contextTypes,!N)return $t;var J={},ce;for(ce in N)J[ce]=H[ce];return J}var un=null;function Xt(N,H){if(N!==H){N.context._currentValue2=N.parentValue,N=N.parent;var J=H.parent;if(N===null){if(J!==null)throw Error(t(401))}else{if(J===null)throw Error(t(401));Xt(N,J)}H.context._currentValue2=H.value}}function Qn(N){N.context._currentValue2=N.parentValue,N=N.parent,N!==null&&Qn(N)}function Cn(N){var H=N.parent;H!==null&&Cn(H),N.context._currentValue2=N.value}function Cr(N,H){if(N.context._currentValue2=N.parentValue,N=N.parent,N===null)throw Error(t(402));N.depth===H.depth?Xt(N,H):Cr(N,H)}function yr(N,H){var J=H.parent;if(J===null)throw Error(t(402));N.depth===J.depth?Xt(N,J):yr(N,J),H.context._currentValue2=H.value}function Rn(N){var H=un;H!==N&&(H===null?Cn(N):N===null?Qn(H):H.depth===N.depth?Xt(H,N):H.depth>N.depth?Cr(H,N):yr(H,N),un=N)}var Li={isMounted:function(){return!1},enqueueSetState:function(N,H){N=N._reactInternals,N.queue!==null&&N.queue.push(H)},enqueueReplaceState:function(N,H){N=N._reactInternals,N.replace=!0,N.queue=[H]},enqueueForceUpdate:function(){}};function Eo(N,H,J,ce){var Ne=N.state!==void 0?N.state:null;N.updater=Li,N.props=J,N.state=Ne;var Ie={queue:[],replace:!1};N._reactInternals=Ie;var Ue=H.contextType;if(N.context=typeof Ue=="object"&&Ue!==null?Ue._currentValue2:ce,Ue=H.getDerivedStateFromProps,typeof Ue=="function"&&(Ue=Ue(J,Ne),Ne=Ue==null?Ne:oe({},Ne,Ue),N.state=Ne),typeof H.getDerivedStateFromProps!="function"&&typeof N.getSnapshotBeforeUpdate!="function"&&(typeof N.UNSAFE_componentWillMount=="function"||typeof N.componentWillMount=="function"))if(H=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),H!==N.state&&Li.enqueueReplaceState(N,N.state,null),Ie.queue!==null&&0<Ie.queue.length)if(H=Ie.queue,Ue=Ie.replace,Ie.queue=null,Ie.replace=!1,Ue&&H.length===1)N.state=H[0];else{for(Ie=Ue?H[0]:N.state,Ne=!0,Ue=Ue?1:0;Ue<H.length;Ue++){var it=H[Ue];it=typeof it=="function"?it.call(N,Ie,J,ce):it,it!=null&&(Ne?(Ne=!1,Ie=oe({},Ie,it)):oe(Ie,it))}N.state=Ie}else Ie.queue=null}var Uo={id:1,overflow:""};function Ri(N,H,J){var ce=N.id;N=N.overflow;var Ne=32-xo(ce)-1;ce&=~(1<<Ne),J+=1;var Ie=32-xo(H)+Ne;if(30<Ie){var Ue=Ne-Ne%5;return Ie=(ce&(1<<Ue)-1).toString(32),ce>>=Ue,Ne-=Ue,{id:1<<32-xo(H)+Ne|J<<Ne|ce,overflow:Ie+N}}return{id:1<<Ie|J<<Ne|ce,overflow:N}}var xo=Math.clz32?Math.clz32:ci,_i=Math.log,ua=Math.LN2;function ci(N){return N>>>=0,N===0?32:31-(_i(N)/ua|0)|0}function Bi(N,H){return N===H&&(N!==0||1/N===1/H)||N!==N&&H!==H}var te=typeof Object.is=="function"?Object.is:Bi,ge=null,Fe=null,He=null,Ye=null,et=!1,nt=!1,kt=0,en=null,jn=0;function wn(){if(ge===null)throw Error(t(321));return ge}function Lr(){if(0<jn)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function _n(){return Ye===null?He===null?(et=!1,He=Ye=Lr()):(et=!0,Ye=He):Ye.next===null?(et=!1,Ye=Ye.next=Lr()):(et=!0,Ye=Ye.next),Ye}function rr(){Fe=ge=null,nt=!1,He=null,jn=0,Ye=en=null}function Rr(N,H){return typeof H=="function"?H(N):H}function da(N,H,J){if(ge=wn(),Ye=_n(),et){var ce=Ye.queue;if(H=ce.dispatch,en!==null&&(J=en.get(ce),J!==void 0)){en.delete(ce),ce=Ye.memoizedState;do ce=N(ce,J.action),J=J.next;while(J!==null);return Ye.memoizedState=ce,[ce,H]}return[Ye.memoizedState,H]}return N=N===Rr?typeof H=="function"?H():H:J!==void 0?J(H):H,Ye.memoizedState=N,N=Ye.queue={last:null,dispatch:null},N=N.dispatch=uo.bind(null,ge,N),[Ye.memoizedState,N]}function Sn(N,H){if(ge=wn(),Ye=_n(),H=H===void 0?null:H,Ye!==null){var J=Ye.memoizedState;if(J!==null&&H!==null){var ce=J[1];e:if(ce===null)ce=!1;else{for(var Ne=0;Ne<ce.length&&Ne<H.length;Ne++)if(!te(H[Ne],ce[Ne])){ce=!1;break e}ce=!0}if(ce)return J[0]}}return N=N(),Ye.memoizedState=[N,H],N}function uo(N,H,J){if(25<=jn)throw Error(t(301));if(N===ge)if(nt=!0,N={action:J,next:null},en===null&&(en=new Map),J=en.get(H),J===void 0)en.set(H,N);else{for(H=J;H.next!==null;)H=H.next;H.next=N}}function fo(){throw Error(t(394))}function Mr(){}var zo={readContext:function(N){return N._currentValue2},useContext:function(N){return wn(),N._currentValue2},useMemo:Sn,useReducer:da,useRef:function(N){ge=wn(),Ye=_n();var H=Ye.memoizedState;return H===null?(N={current:N},Ye.memoizedState=N):H},useState:function(N){return da(Rr,N)},useInsertionEffect:Mr,useLayoutEffect:function(){},useCallback:function(N,H){return Sn(function(){return N},H)},useImperativeHandle:Mr,useEffect:Mr,useDebugValue:Mr,useDeferredValue:function(N){return wn(),N},useTransition:function(){return wn(),[!1,fo]},useId:function(){var N=Fe.treeContext,H=N.overflow;N=N.id,N=(N&~(1<<32-xo(N)-1)).toString(32)+H;var J=ho;if(J===null)throw Error(t(404));return H=kt++,N=":"+J.idPrefix+"R"+N,0<H&&(N+="H"+H.toString(32)),N+":"},useMutableSource:function(N,H){return wn(),H(N._source)},useSyncExternalStore:function(N,H,J){if(J===void 0)throw Error(t(407));return J()}},ho=null,Dl=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Hi(N){return console.error(N),null}function Yi(){}function hc(N,H,J,ce,Ne,Ie,Ue,it,ut){var Nt=[],Yt=new Set;return H={destination:null,responseState:H,progressiveChunkSize:ce===void 0?12800:ce,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:Yt,pingedTasks:Nt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:Ne===void 0?Hi:Ne,onAllReady:Ie===void 0?Yi:Ie,onShellReady:Ue===void 0?Yi:Ue,onShellError:it===void 0?Yi:it,onFatalError:ut===void 0?Yi:ut},J=Ha(H,0,null,J,!1,!1),J.parentFlushed=!0,N=Tl(H,N,null,J,Yt,$t,null,Uo),Nt.push(N),H}function Tl(N,H,J,ce,Ne,Ie,Ue,it){N.allPendingTasks++,J===null?N.pendingRootTasks++:J.pendingTasks++;var ut={node:H,ping:function(){var Nt=N.pingedTasks;Nt.push(ut),Nt.length===1&&po(N)},blockedBoundary:J,blockedSegment:ce,abortSet:Ne,legacyContext:Ie,context:Ue,treeContext:it};return Ne.add(ut),ut}function Ha(N,H,J,ce,Ne,Ie){return{status:0,id:-1,index:H,parentFlushed:!1,chunks:[],children:[],formatContext:ce,boundary:J,lastPushedText:Ne,textEmbedded:Ie}}function fa(N,H){if(N=N.onError(H),N!=null&&typeof N!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof N+'" instead');return N}function Ya(N,H){var J=N.onShellError;J(H),J=N.onFatalError,J(H),N.destination!==null?(N.status=2,N.destination.destroy(H)):(N.status=1,N.fatalError=H)}function Il(N,H,J,ce,Ne){for(ge={},Fe=H,kt=0,N=J(ce,Ne);nt;)nt=!1,kt=0,jn+=1,Ye=null,N=J(ce,Ne);return rr(),N}function Ua(N,H,J,ce){var Ne=J.render(),Ie=ce.childContextTypes;if(Ie!=null){var Ue=H.legacyContext;if(typeof J.getChildContext!="function")ce=Ue;else{J=J.getChildContext();for(var it in J)if(!(it in Ie))throw Error(t(108,zt(ce)||"Unknown",it));ce=oe({},Ue,J)}H.legacyContext=ce,_r(N,H,Ne),H.legacyContext=Ue}else _r(N,H,Ne)}function pc(N,H){if(N&&N.defaultProps){H=oe({},H),N=N.defaultProps;for(var J in N)H[J]===void 0&&(H[J]=N[J]);return H}return H}function Dn(N,H,J,ce,Ne){if(typeof J=="function")if(J.prototype&&J.prototype.isReactComponent){Ne=Gt(J,H.legacyContext);var Ie=J.contextType;Ie=new J(ce,typeof Ie=="object"&&Ie!==null?Ie._currentValue2:Ne),Eo(Ie,J,ce,Ne),Ua(N,H,Ie,J)}else{Ie=Gt(J,H.legacyContext),Ne=Il(N,H,J,ce,Ie);var Ue=kt!==0;if(typeof Ne=="object"&&Ne!==null&&typeof Ne.render=="function"&&Ne.$$typeof===void 0)Eo(Ne,J,ce,Ie),Ua(N,H,Ne,J);else if(Ue){ce=H.treeContext,H.treeContext=Ri(ce,1,0);try{_r(N,H,Ne)}finally{H.treeContext=ce}}else _r(N,H,Ne)}else if(typeof J=="string"){switch(Ne=H.blockedSegment,Ie=ae(Ne.chunks,J,ce,N.responseState,Ne.formatContext),Ne.lastPushedText=!1,Ue=Ne.formatContext,Ne.formatContext=R(Ue,J,ce),Ss(N,H,Ie),Ne.formatContext=Ue,J){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:Ne.chunks.push("</",J,">")}Ne.lastPushedText=!1}else{switch(J){case xt:case yt:case Ae:case Be:case je:_r(N,H,ce.children);return;case Zt:_r(N,H,ce.children);return;case st:throw Error(t(343));case It:e:{J=H.blockedBoundary,Ne=H.blockedSegment,Ie=ce.fallback,ce=ce.children,Ue=new Set;var it={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:Ue,errorDigest:null},ut=Ha(N,Ne.chunks.length,it,Ne.formatContext,!1,!1);Ne.children.push(ut),Ne.lastPushedText=!1;var Nt=Ha(N,0,null,Ne.formatContext,!1,!1);Nt.parentFlushed=!0,H.blockedBoundary=it,H.blockedSegment=Nt;try{if(Ss(N,H,ce),N.responseState.generateStaticMarkup||Nt.lastPushedText&&Nt.textEmbedded&&Nt.chunks.push("<!-- -->"),Nt.status=1,ui(it,Nt),it.pendingTasks===0)break e}catch(Yt){Nt.status=4,it.forceClientRender=!0,it.errorDigest=fa(N,Yt)}finally{H.blockedBoundary=J,H.blockedSegment=Ne}H=Tl(N,Ie,J,ut,Ue,H.legacyContext,H.context,H.treeContext),N.pingedTasks.push(H)}return}if(typeof J=="object"&&J!==null)switch(J.$$typeof){case Qe:if(ce=Il(N,H,J.render,ce,Ne),kt!==0){J=H.treeContext,H.treeContext=Ri(J,1,0);try{_r(N,H,ce)}finally{H.treeContext=J}}else _r(N,H,ce);return;case _e:J=J.type,ce=pc(J,ce),Dn(N,H,J,ce,Ne);return;case Je:if(Ne=ce.children,J=J._context,ce=ce.value,Ie=J._currentValue2,J._currentValue2=ce,Ue=un,un=ce={parent:Ue,depth:Ue===null?0:Ue.depth+1,context:J,parentValue:Ie,value:ce},H.context=ce,_r(N,H,Ne),N=un,N===null)throw Error(t(403));ce=N.parentValue,N.context._currentValue2=ce===Tt?N.context._defaultValue:ce,N=un=N.parent,H.context=N;return;case ze:ce=ce.children,ce=ce(J._currentValue2),_r(N,H,ce);return;case tt:Ne=J._init,J=Ne(J._payload),ce=pc(J,ce),Dn(N,H,J,ce,void 0);return}throw Error(t(130,J==null?J:typeof J,""))}}function _r(N,H,J){if(H.node=J,typeof J=="object"&&J!==null){switch(J.$$typeof){case pe:Dn(N,H,J.type,J.props,J.ref);return;case Ee:throw Error(t(257));case tt:var ce=J._init;J=ce(J._payload),_r(N,H,J);return}if(k(J)){bs(N,H,J);return}if(J===null||typeof J!="object"?ce=null:(ce=qt&&J[qt]||J["@@iterator"],ce=typeof ce=="function"?ce:null),ce&&(ce=ce.call(J))){if(J=ce.next(),!J.done){var Ne=[];do Ne.push(J.value),J=ce.next();while(!J.done);bs(N,H,Ne)}return}throw N=Object.prototype.toString.call(J),Error(t(31,N==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":N))}typeof J=="string"?(ce=H.blockedSegment,ce.lastPushedText=K(H.blockedSegment.chunks,J,N.responseState,ce.lastPushedText)):typeof J=="number"&&(ce=H.blockedSegment,ce.lastPushedText=K(H.blockedSegment.chunks,""+J,N.responseState,ce.lastPushedText))}function bs(N,H,J){for(var ce=J.length,Ne=0;Ne<ce;Ne++){var Ie=H.treeContext;H.treeContext=Ri(Ie,ce,Ne);try{Ss(N,H,J[Ne])}finally{H.treeContext=Ie}}}function Ss(N,H,J){var ce=H.blockedSegment.formatContext,Ne=H.legacyContext,Ie=H.context;try{return _r(N,H,J)}catch(ut){if(rr(),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"){J=ut;var Ue=H.blockedSegment,it=Ha(N,Ue.chunks.length,null,Ue.formatContext,Ue.lastPushedText,!0);Ue.children.push(it),Ue.lastPushedText=!1,N=Tl(N,H.node,H.blockedBoundary,it,H.abortSet,H.legacyContext,H.context,H.treeContext).ping,J.then(N,N),H.blockedSegment.formatContext=ce,H.legacyContext=Ne,H.context=Ie,Rn(Ie)}else throw H.blockedSegment.formatContext=ce,H.legacyContext=Ne,H.context=Ie,Rn(Ie),ut}}function Ui(N){var H=N.blockedBoundary;N=N.blockedSegment,N.status=3,Vo(this,H,N)}function El(N,H,J){var ce=N.blockedBoundary;N.blockedSegment.status=3,ce===null?(H.allPendingTasks--,H.status!==2&&(H.status=2,H.destination!==null&&H.destination.push(null))):(ce.pendingTasks--,ce.forceClientRender||(ce.forceClientRender=!0,N=J===void 0?Error(t(432)):J,ce.errorDigest=H.onError(N),ce.parentFlushed&&H.clientRenderedBoundaries.push(ce)),ce.fallbackAbortableTasks.forEach(function(Ne){return El(Ne,H,J)}),ce.fallbackAbortableTasks.clear(),H.allPendingTasks--,H.allPendingTasks===0&&(ce=H.onAllReady,ce()))}function ui(N,H){if(H.chunks.length===0&&H.children.length===1&&H.children[0].boundary===null){var J=H.children[0];J.id=H.id,J.parentFlushed=!0,J.status===1&&ui(N,J)}else N.completedSegments.push(H)}function Vo(N,H,J){if(H===null){if(J.parentFlushed){if(N.completedRootSegment!==null)throw Error(t(389));N.completedRootSegment=J}N.pendingRootTasks--,N.pendingRootTasks===0&&(N.onShellError=Yi,H=N.onShellReady,H())}else H.pendingTasks--,H.forceClientRender||(H.pendingTasks===0?(J.parentFlushed&&J.status===1&&ui(H,J),H.parentFlushed&&N.completedBoundaries.push(H),H.fallbackAbortableTasks.forEach(Ui,N),H.fallbackAbortableTasks.clear()):J.parentFlushed&&J.status===1&&(ui(H,J),H.completedSegments.length===1&&H.parentFlushed&&N.partialBoundaries.push(H)));N.allPendingTasks--,N.allPendingTasks===0&&(N=N.onAllReady,N())}function po(N){if(N.status!==2){var H=un,J=Dl.current;Dl.current=zo;var ce=ho;ho=N.responseState;try{var Ne=N.pingedTasks,Ie;for(Ie=0;Ie<Ne.length;Ie++){var Ue=Ne[Ie],it=N,ut=Ue.blockedSegment;if(ut.status===0){Rn(Ue.context);try{_r(it,Ue,Ue.node),it.responseState.generateStaticMarkup||ut.lastPushedText&&ut.textEmbedded&&ut.chunks.push("<!-- -->"),Ue.abortSet.delete(Ue),ut.status=1,Vo(it,Ue.blockedBoundary,ut)}catch(Br){if(rr(),typeof Br=="object"&&Br!==null&&typeof Br.then=="function"){var Nt=Ue.ping;Br.then(Nt,Nt)}else{Ue.abortSet.delete(Ue),ut.status=4;var Yt=Ue.blockedBoundary,In=Br,Co=fa(it,In);if(Yt===null?Ya(it,In):(Yt.pendingTasks--,Yt.forceClientRender||(Yt.forceClientRender=!0,Yt.errorDigest=Co,Yt.parentFlushed&&it.clientRenderedBoundaries.push(Yt))),it.allPendingTasks--,it.allPendingTasks===0){var mo=it.onAllReady;mo()}}}}}Ne.splice(0,Ie),N.destination!==null&&Wo(N,N.destination)}catch(Br){fa(N,Br),Ya(N,Br)}finally{ho=ce,Dl.current=J,J===zo&&Rn(H)}}}function za(N,H,J){switch(J.parentFlushed=!0,J.status){case 0:var ce=J.id=N.nextSegmentId++;return J.lastPushedText=!1,J.textEmbedded=!1,N=N.responseState,H.push('<template id="'),H.push(N.placeholderPrefix),N=ce.toString(16),H.push(N),H.push('"></template>');case 1:J.status=2;var Ne=!0;ce=J.chunks;var Ie=0;J=J.children;for(var Ue=0;Ue<J.length;Ue++){for(Ne=J[Ue];Ie<Ne.index;Ie++)H.push(ce[Ie]);Ne=vr(N,H,Ne)}for(;Ie<ce.length-1;Ie++)H.push(ce[Ie]);return Ie<ce.length&&(Ne=H.push(ce[Ie])),Ne;default:throw Error(t(390))}}function vr(N,H,J){var ce=J.boundary;if(ce===null)return za(N,H,J);if(ce.parentFlushed=!0,ce.forceClientRender)return N.responseState.generateStaticMarkup||(ce=ce.errorDigest,H.push("<!--$!-->"),H.push("<template"),ce&&(H.push(' data-dgst="'),ce=T(ce),H.push(ce),H.push('"')),H.push("></template>")),za(N,H,J),N=N.responseState.generateStaticMarkup?!0:H.push("<!--/$-->"),N;if(0<ce.pendingTasks){ce.rootSegmentID=N.nextSegmentId++,0<ce.completedSegments.length&&N.partialBoundaries.push(ce);var Ne=N.responseState,Ie=Ne.nextSuspenseID++;return Ne=Ne.boundaryPrefix+Ie.toString(16),ce=ce.id=Ne,X(H,N.responseState,ce),za(N,H,J),H.push("<!--/$-->")}if(ce.byteSize>N.progressiveChunkSize)return ce.rootSegmentID=N.nextSegmentId++,N.completedBoundaries.push(ce),X(H,N.responseState,ce.id),za(N,H,J),H.push("<!--/$-->");if(N.responseState.generateStaticMarkup||H.push("<!--$-->"),J=ce.completedSegments,J.length!==1)throw Error(t(391));return vr(N,H,J[0]),N=N.responseState.generateStaticMarkup?!0:H.push("<!--/$-->"),N}function Ds(N,H,J){return ie(H,N.responseState,J.formatContext,J.id),vr(N,H,J),Z(H,J.formatContext)}function Ts(N,H,J){for(var ce=J.completedSegments,Ne=0;Ne<ce.length;Ne++)Is(N,H,J,ce[Ne]);if(ce.length=0,N=N.responseState,ce=J.id,J=J.rootSegmentID,H.push(N.startInlineScript),N.sentCompleteBoundaryFunction?H.push('$RC("'):(N.sentCompleteBoundaryFunction=!0,H.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),ce===null)throw Error(t(395));return J=J.toString(16),H.push(ce),H.push('","'),H.push(N.segmentPrefix),H.push(J),H.push('")<\/script>')}function Is(N,H,J,ce){if(ce.status===2)return!0;var Ne=ce.id;if(Ne===-1){if((ce.id=J.rootSegmentID)===-1)throw Error(t(392));return Ds(N,H,ce)}return Ds(N,H,ce),N=N.responseState,H.push(N.startInlineScript),N.sentCompleteSegmentFunction?H.push('$RS("'):(N.sentCompleteSegmentFunction=!0,H.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),H.push(N.segmentPrefix),Ne=Ne.toString(16),H.push(Ne),H.push('","'),H.push(N.placeholderPrefix),H.push(Ne),H.push('")<\/script>')}function Wo(N,H){try{var J=N.completedRootSegment;if(J!==null&&N.pendingRootTasks===0){vr(N,H,J),N.completedRootSegment=null;var ce=N.responseState.bootstrapChunks;for(J=0;J<ce.length-1;J++)H.push(ce[J]);J<ce.length&&H.push(ce[J])}var Ne=N.clientRenderedBoundaries,Ie;for(Ie=0;Ie<Ne.length;Ie++){var Ue=Ne[Ie];ce=H;var it=N.responseState,ut=Ue.id,Nt=Ue.errorDigest,Yt=Ue.errorMessage,In=Ue.errorComponentStack;if(ce.push(it.startInlineScript),it.sentClientRenderFunction?ce.push('$RX("'):(it.sentClientRenderFunction=!0,ce.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),ut===null)throw Error(t(395));if(ce.push(ut),ce.push('"'),Nt||Yt||In){ce.push(",");var Co=ne(Nt||"");ce.push(Co)}if(Yt||In){ce.push(",");var mo=ne(Yt||"");ce.push(mo)}if(In){ce.push(",");var Br=ne(In);ce.push(Br)}if(!ce.push(")<\/script>")){N.destination=null,Ie++,Ne.splice(0,Ie);return}}Ne.splice(0,Ie);var di=N.completedBoundaries;for(Ie=0;Ie<di.length;Ie++)if(!Ts(N,H,di[Ie])){N.destination=null,Ie++,di.splice(0,Ie);return}di.splice(0,Ie);var go=N.partialBoundaries;for(Ie=0;Ie<go.length;Ie++){var Mo=go[Ie];e:{Ne=N,Ue=H;var qr=Mo.completedSegments;for(it=0;it<qr.length;it++)if(!Is(Ne,Ue,Mo,qr[it])){it++,qr.splice(0,it);var $o=!1;break e}qr.splice(0,it),$o=!0}if(!$o){N.destination=null,Ie++,go.splice(0,Ie);return}}go.splice(0,Ie);var yo=N.completedBoundaries;for(Ie=0;Ie<yo.length;Ie++)if(!Ts(N,H,yo[Ie])){N.destination=null,Ie++,yo.splice(0,Ie);return}yo.splice(0,Ie)}finally{N.allPendingTasks===0&&N.pingedTasks.length===0&&N.clientRenderedBoundaries.length===0&&N.completedBoundaries.length===0&&H.push(null)}}function Va(N,H){try{var J=N.abortableTasks;J.forEach(function(ce){return El(ce,N,H)}),J.clear(),N.destination!==null&&Wo(N,N.destination)}catch(ce){fa(N,ce),Ya(N,ce)}}function zi(){}function Zo(N,H,J,ce){var Ne=!1,Ie=null,Ue="",it={push:function(Nt){return Nt!==null&&(Ue+=Nt),!0},destroy:function(Nt){Ne=!0,Ie=Nt}},ut=!1;if(N=hc(N,he(J,H?H.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,zi,void 0,function(){ut=!0},void 0,void 0),po(N),Va(N,ce),N.status===1)N.status=2,it.destroy(N.fatalError);else if(N.status!==2&&N.destination===null){N.destination=it;try{Wo(N,it)}catch(Nt){fa(N,Nt),Ya(N,Nt)}}if(Ne)throw Ie;if(!ut)throw Error(t(426));return Ue}return fd.renderToNodeStream=function(){throw Error(t(207))},fd.renderToStaticMarkup=function(N,H){return Zo(N,H,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},fd.renderToStaticNodeStream=function(){throw Error(t(208))},fd.renderToString=function(N,H){return Zo(N,H,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},fd.version="18.2.0",fd}var Ky={},VI;function bte(){if(VI)return Ky;VI=1;var e=F;function t(A){for(var B="https://reactjs.org/docs/error-decoder.html?invariant="+A,q=1;q<arguments.length;q++)B+="&args[]="+encodeURIComponent(arguments[q]);return"Minified React error #"+A+"; visit "+B+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=null,r=0;function o(A,B){if(B.length!==0)if(512<B.length)0<r&&(A.enqueue(new Uint8Array(n.buffer,0,r)),n=new Uint8Array(512),r=0),A.enqueue(B);else{var q=n.length-r;q<B.length&&(q===0?A.enqueue(n):(n.set(B.subarray(0,q),r),A.enqueue(n),B=B.subarray(q)),n=new Uint8Array(512),r=0),n.set(B,r),r+=B.length}}function i(A,B){return o(A,B),!0}function a(A){n&&0<r&&(A.enqueue(new Uint8Array(n.buffer,0,r)),n=null,r=0)}var c=new TextEncoder;function d(A){return c.encode(A)}function f(A){return c.encode(A)}function m(A,B){typeof A.error=="function"?A.error(B):A.close()}var g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function S(A){return g.call(T,A)?!0:g.call(w,A)?!1:v.test(A)?T[A]=!0:(w[A]=!0,!1)}function I(A,B,q,se,Pe,xe,We){this.acceptsBooleans=B===2||B===3||B===4,this.attributeName=se,this.attributeNamespace=Pe,this.mustUseProperty=q,this.propertyName=A,this.type=B,this.sanitizeURL=xe,this.removeEmptyString=We}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(A){k[A]=new I(A,0,!1,A,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(A){var B=A[0];k[B]=new I(B,1,!1,A[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(A){k[A]=new I(A,2,!1,A.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(A){k[A]=new I(A,2,!1,A,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(A){k[A]=new I(A,3,!1,A.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(A){k[A]=new I(A,3,!0,A,null,!1,!1)}),["capture","download"].forEach(function(A){k[A]=new I(A,4,!1,A,null,!1,!1)}),["cols","rows","size","span"].forEach(function(A){k[A]=new I(A,6,!1,A,null,!1,!1)}),["rowSpan","start"].forEach(function(A){k[A]=new I(A,5,!1,A.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function R(A){return A[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(A){var B=A.replace(P,R);k[B]=new I(B,1,!1,A,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(A){var B=A.replace(P,R);k[B]=new I(B,1,!1,A,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(A){var B=A.replace(P,R);k[B]=new I(B,1,!1,A,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(A){k[A]=new I(A,1,!1,A.toLowerCase(),null,!1,!1)}),k.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(A){k[A]=new I(A,1,!1,A.toLowerCase(),null,!0,!0)});var M={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["Webkit","ms","Moz","O"];Object.keys(M).forEach(function(A){_.forEach(function(B){B=B+A.charAt(0).toUpperCase()+A.substring(1),M[B]=M[A]})});var L=/["'&<>]/;function z(A){if(typeof A=="boolean"||typeof A=="number")return""+A;A=""+A;var B=L.exec(A);if(B){var q="",se,Pe=0;for(se=B.index;se<A.length;se++){switch(A.charCodeAt(se)){case 34:B="&quot;";break;case 38:B="&amp;";break;case 39:B="&#x27;";break;case 60:B="&lt;";break;case 62:B="&gt;";break;default:continue}Pe!==se&&(q+=A.substring(Pe,se)),Pe=se+1,q+=B}A=Pe!==se?q+A.substring(Pe,se):q}return A}var Y=/([A-Z])/g,V=/^ms-/,$=Array.isArray,re=f("<script>"),Q=f("<\/script>"),ae=f('<script src="'),X=f('<script type="module" src="'),ie=f('" async=""><\/script>'),Z=/(<\/|<)(s)(cript)/gi;function ue(A,B,q,se){return B+(q==="s"?"\\u0073":"\\u0053")+se}function ne(A,B,q,se,Pe){A=A===void 0?"":A,B=B===void 0?re:f('<script nonce="'+z(B)+'">');var xe=[];if(q!==void 0&&xe.push(B,d((""+q).replace(Z,ue)),Q),se!==void 0)for(q=0;q<se.length;q++)xe.push(ae,d(z(se[q])),ie);if(Pe!==void 0)for(se=0;se<Pe.length;se++)xe.push(X,d(z(Pe[se])),ie);return{bootstrapChunks:xe,startInlineScript:B,placeholderPrefix:f(A+"P:"),segmentPrefix:f(A+"S:"),boundaryPrefix:A+"B:",idPrefix:A,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function he(A,B){return{insertionMode:A,selectedValue:B}}function K(A){return he(A==="http://www.w3.org/2000/svg"?2:A==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function oe(A,B,q){switch(B){case"select":return he(1,q.value!=null?q.value:q.defaultValue);case"svg":return he(2,null);case"math":return he(3,null);case"foreignObject":return he(1,null);case"table":return he(4,null);case"thead":case"tbody":case"tfoot":return he(5,null);case"colgroup":return he(7,null);case"tr":return he(6,null)}return 4<=A.insertionMode||A.insertionMode===0?he(1,null):A}var pe=f("<!-- -->");function Ee(A,B,q,se){return B===""?se:(se&&A.push(pe),A.push(d(z(B))),!0)}var je=new Map,Ae=f(' style="'),Be=f(":"),Je=f(";");function ze(A,B,q){if(typeof q!="object")throw Error(t(62));B=!0;for(var se in q)if(g.call(q,se)){var Pe=q[se];if(Pe!=null&&typeof Pe!="boolean"&&Pe!==""){if(se.indexOf("--")===0){var xe=d(z(se));Pe=d(z((""+Pe).trim()))}else{xe=se;var We=je.get(xe);We!==void 0||(We=f(z(xe.replace(Y,"-$1").toLowerCase().replace(V,"-ms-"))),je.set(xe,We)),xe=We,Pe=typeof Pe=="number"?Pe===0||g.call(M,se)?d(""+Pe):d(Pe+"px"):d(z((""+Pe).trim()))}B?(B=!1,A.push(Ae,xe,Be,Pe)):A.push(Je,xe,Be,Pe)}}B||A.push(Zt)}var Qe=f(" "),It=f('="'),Zt=f('"'),_e=f('=""');function tt(A,B,q,se){switch(q){case"style":ze(A,B,se);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<q.length)||q[0]!=="o"&&q[0]!=="O"||q[1]!=="n"&&q[1]!=="N"){if(B=k.hasOwnProperty(q)?k[q]:null,B!==null){switch(typeof se){case"function":case"symbol":return;case"boolean":if(!B.acceptsBooleans)return}switch(q=d(B.attributeName),B.type){case 3:se&&A.push(Qe,q,_e);break;case 4:se===!0?A.push(Qe,q,_e):se!==!1&&A.push(Qe,q,It,d(z(se)),Zt);break;case 5:isNaN(se)||A.push(Qe,q,It,d(z(se)),Zt);break;case 6:!isNaN(se)&&1<=se&&A.push(Qe,q,It,d(z(se)),Zt);break;default:B.sanitizeURL&&(se=""+se),A.push(Qe,q,It,d(z(se)),Zt)}}else if(S(q)){switch(typeof se){case"function":case"symbol":return;case"boolean":if(B=q.toLowerCase().slice(0,5),B!=="data-"&&B!=="aria-")return}A.push(Qe,d(q),It,d(z(se)),Zt)}}}var st=f(">"),yt=f("/>");function xt(A,B,q){if(B!=null){if(q!=null)throw Error(t(60));if(typeof B!="object"||!("__html"in B))throw Error(t(61));B=B.__html,B!=null&&A.push(d(""+B))}}function Tt(A){var B="";return e.Children.forEach(A,function(q){q!=null&&(B+=q)}),B}var qt=f(' selected=""');function zt(A,B,q,se){A.push(Xt(q));var Pe=q=null,xe;for(xe in B)if(g.call(B,xe)){var We=B[xe];if(We!=null)switch(xe){case"children":q=We;break;case"dangerouslySetInnerHTML":Pe=We;break;default:tt(A,se,xe,We)}}return A.push(st),xt(A,Pe,q),typeof q=="string"?(A.push(d(z(q))),null):q}var $t=f(`
`),Gt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,un=new Map;function Xt(A){var B=un.get(A);if(B===void 0){if(!Gt.test(A))throw Error(t(65,A));B=f("<"+A),un.set(A,B)}return B}var Qn=f("<!DOCTYPE html>");function Cn(A,B,q,se,Pe){switch(B){case"select":A.push(Xt("select"));var xe=null,We=null;for(jt in q)if(g.call(q,jt)){var rt=q[jt];if(rt!=null)switch(jt){case"children":xe=rt;break;case"dangerouslySetInnerHTML":We=rt;break;case"defaultValue":case"value":break;default:tt(A,se,jt,rt)}}return A.push(st),xt(A,We,xe),xe;case"option":We=Pe.selectedValue,A.push(Xt("option"));var St=rt=null,Vt=null,jt=null;for(xe in q)if(g.call(q,xe)){var kn=q[xe];if(kn!=null)switch(xe){case"children":rt=kn;break;case"selected":Vt=kn;break;case"dangerouslySetInnerHTML":jt=kn;break;case"value":St=kn;default:tt(A,se,xe,kn)}}if(We!=null)if(q=St!==null?""+St:Tt(rt),$(We)){for(se=0;se<We.length;se++)if(""+We[se]===q){A.push(qt);break}}else""+We===q&&A.push(qt);else Vt&&A.push(qt);return A.push(st),xt(A,jt,rt),rt;case"textarea":A.push(Xt("textarea")),jt=We=xe=null;for(rt in q)if(g.call(q,rt)&&(St=q[rt],St!=null))switch(rt){case"children":jt=St;break;case"value":xe=St;break;case"defaultValue":We=St;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:tt(A,se,rt,St)}if(xe===null&&We!==null&&(xe=We),A.push(st),jt!=null){if(xe!=null)throw Error(t(92));if($(jt)&&1<jt.length)throw Error(t(93));xe=""+jt}return typeof xe=="string"&&xe[0]===`
`&&A.push($t),xe!==null&&A.push(d(z(""+xe))),null;case"input":A.push(Xt("input")),St=jt=rt=xe=null;for(We in q)if(g.call(q,We)&&(Vt=q[We],Vt!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":St=Vt;break;case"defaultValue":rt=Vt;break;case"checked":jt=Vt;break;case"value":xe=Vt;break;default:tt(A,se,We,Vt)}return jt!==null?tt(A,se,"checked",jt):St!==null&&tt(A,se,"checked",St),xe!==null?tt(A,se,"value",xe):rt!==null&&tt(A,se,"value",rt),A.push(yt),null;case"menuitem":A.push(Xt("menuitem"));for(var Yr in q)if(g.call(q,Yr)&&(xe=q[Yr],xe!=null))switch(Yr){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:tt(A,se,Yr,xe)}return A.push(st),null;case"title":A.push(Xt("title")),xe=null;for(kn in q)if(g.call(q,kn)&&(We=q[kn],We!=null))switch(kn){case"children":xe=We;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:tt(A,se,kn,We)}return A.push(st),xe;case"listing":case"pre":A.push(Xt(B)),We=xe=null;for(St in q)if(g.call(q,St)&&(rt=q[St],rt!=null))switch(St){case"children":xe=rt;break;case"dangerouslySetInnerHTML":We=rt;break;default:tt(A,se,St,rt)}if(A.push(st),We!=null){if(xe!=null)throw Error(t(60));if(typeof We!="object"||!("__html"in We))throw Error(t(61));q=We.__html,q!=null&&(typeof q=="string"&&0<q.length&&q[0]===`
`?A.push($t,d(q)):A.push(d(""+q)))}return typeof xe=="string"&&xe[0]===`
`&&A.push($t),xe;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":A.push(Xt(B));for(var ko in q)if(g.call(q,ko)&&(xe=q[ko],xe!=null))switch(ko){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,B));default:tt(A,se,ko,xe)}return A.push(yt),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return zt(A,q,B,se);case"html":return Pe.insertionMode===0&&A.push(Qn),zt(A,q,B,se);default:if(B.indexOf("-")===-1&&typeof q.is!="string")return zt(A,q,B,se);A.push(Xt(B)),We=xe=null;for(Vt in q)if(g.call(q,Vt)&&(rt=q[Vt],rt!=null))switch(Vt){case"children":xe=rt;break;case"dangerouslySetInnerHTML":We=rt;break;case"style":ze(A,se,rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:S(Vt)&&typeof rt!="function"&&typeof rt!="symbol"&&A.push(Qe,d(Vt),It,d(z(rt)),Zt)}return A.push(st),xt(A,We,xe),xe}}var Cr=f("</"),yr=f(">"),Rn=f('<template id="'),Li=f('"></template>'),Eo=f("<!--$-->"),Uo=f('<!--$?--><template id="'),Ri=f('"></template>'),xo=f("<!--$!-->"),_i=f("<!--/$-->"),ua=f("<template"),ci=f('"'),Bi=f(' data-dgst="');f(' data-msg="'),f(' data-stck="');var te=f("></template>");function ge(A,B,q){if(o(A,Uo),q===null)throw Error(t(395));return o(A,q),i(A,Ri)}var Fe=f('<div hidden id="'),He=f('">'),Ye=f("</div>"),et=f('<svg aria-hidden="true" style="display:none" id="'),nt=f('">'),kt=f("</svg>"),en=f('<math aria-hidden="true" style="display:none" id="'),jn=f('">'),wn=f("</math>"),Lr=f('<table hidden id="'),_n=f('">'),rr=f("</table>"),Rr=f('<table hidden><tbody id="'),da=f('">'),Sn=f("</tbody></table>"),uo=f('<table hidden><tr id="'),fo=f('">'),Mr=f("</tr></table>"),zo=f('<table hidden><colgroup id="'),ho=f('">'),Dl=f("</colgroup></table>");function Hi(A,B,q,se){switch(q.insertionMode){case 0:case 1:return o(A,Fe),o(A,B.segmentPrefix),o(A,d(se.toString(16))),i(A,He);case 2:return o(A,et),o(A,B.segmentPrefix),o(A,d(se.toString(16))),i(A,nt);case 3:return o(A,en),o(A,B.segmentPrefix),o(A,d(se.toString(16))),i(A,jn);case 4:return o(A,Lr),o(A,B.segmentPrefix),o(A,d(se.toString(16))),i(A,_n);case 5:return o(A,Rr),o(A,B.segmentPrefix),o(A,d(se.toString(16))),i(A,da);case 6:return o(A,uo),o(A,B.segmentPrefix),o(A,d(se.toString(16))),i(A,fo);case 7:return o(A,zo),o(A,B.segmentPrefix),o(A,d(se.toString(16))),i(A,ho);default:throw Error(t(397))}}function Yi(A,B){switch(B.insertionMode){case 0:case 1:return i(A,Ye);case 2:return i(A,kt);case 3:return i(A,wn);case 4:return i(A,rr);case 5:return i(A,Sn);case 6:return i(A,Mr);case 7:return i(A,Dl);default:throw Error(t(397))}}var hc=f('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Tl=f('$RS("'),Ha=f('","'),fa=f('")<\/script>'),Ya=f('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Il=f('$RC("'),Ua=f('","'),pc=f('")<\/script>'),Dn=f('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),_r=f('$RX("'),bs=f('"'),Ss=f(")<\/script>"),Ui=f(","),El=/[<\u2028\u2029]/g;function ui(A){return JSON.stringify(A).replace(El,function(B){switch(B){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Vo=Object.assign,po=Symbol.for("react.element"),za=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),Ds=Symbol.for("react.strict_mode"),Ts=Symbol.for("react.profiler"),Is=Symbol.for("react.provider"),Wo=Symbol.for("react.context"),Va=Symbol.for("react.forward_ref"),zi=Symbol.for("react.suspense"),Zo=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),J=Symbol.for("react.scope"),ce=Symbol.for("react.debug_trace_mode"),Ne=Symbol.for("react.legacy_hidden"),Ie=Symbol.for("react.default_value"),Ue=Symbol.iterator;function it(A){if(A==null)return null;if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case vr:return"Fragment";case za:return"Portal";case Ts:return"Profiler";case Ds:return"StrictMode";case zi:return"Suspense";case Zo:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case Wo:return(A.displayName||"Context")+".Consumer";case Is:return(A._context.displayName||"Context")+".Provider";case Va:var B=A.render;return A=A.displayName,A||(A=B.displayName||B.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case N:return B=A.displayName||null,B!==null?B:it(A.type)||"Memo";case H:B=A._payload,A=A._init;try{return it(A(B))}catch{}}return null}var ut={};function Nt(A,B){if(A=A.contextTypes,!A)return ut;var q={},se;for(se in A)q[se]=B[se];return q}var Yt=null;function In(A,B){if(A!==B){A.context._currentValue=A.parentValue,A=A.parent;var q=B.parent;if(A===null){if(q!==null)throw Error(t(401))}else{if(q===null)throw Error(t(401));In(A,q)}B.context._currentValue=B.value}}function Co(A){A.context._currentValue=A.parentValue,A=A.parent,A!==null&&Co(A)}function mo(A){var B=A.parent;B!==null&&mo(B),A.context._currentValue=A.value}function Br(A,B){if(A.context._currentValue=A.parentValue,A=A.parent,A===null)throw Error(t(402));A.depth===B.depth?In(A,B):Br(A,B)}function di(A,B){var q=B.parent;if(q===null)throw Error(t(402));A.depth===q.depth?In(A,q):di(A,q),B.context._currentValue=B.value}function go(A){var B=Yt;B!==A&&(B===null?mo(A):A===null?Co(B):B.depth===A.depth?In(B,A):B.depth>A.depth?Br(B,A):di(B,A),Yt=A)}var Mo={isMounted:function(){return!1},enqueueSetState:function(A,B){A=A._reactInternals,A.queue!==null&&A.queue.push(B)},enqueueReplaceState:function(A,B){A=A._reactInternals,A.replace=!0,A.queue=[B]},enqueueForceUpdate:function(){}};function qr(A,B,q,se){var Pe=A.state!==void 0?A.state:null;A.updater=Mo,A.props=q,A.state=Pe;var xe={queue:[],replace:!1};A._reactInternals=xe;var We=B.contextType;if(A.context=typeof We=="object"&&We!==null?We._currentValue:se,We=B.getDerivedStateFromProps,typeof We=="function"&&(We=We(q,Pe),Pe=We==null?Pe:Vo({},Pe,We),A.state=Pe),typeof B.getDerivedStateFromProps!="function"&&typeof A.getSnapshotBeforeUpdate!="function"&&(typeof A.UNSAFE_componentWillMount=="function"||typeof A.componentWillMount=="function"))if(B=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),B!==A.state&&Mo.enqueueReplaceState(A,A.state,null),xe.queue!==null&&0<xe.queue.length)if(B=xe.queue,We=xe.replace,xe.queue=null,xe.replace=!1,We&&B.length===1)A.state=B[0];else{for(xe=We?B[0]:A.state,Pe=!0,We=We?1:0;We<B.length;We++){var rt=B[We];rt=typeof rt=="function"?rt.call(A,xe,q,se):rt,rt!=null&&(Pe?(Pe=!1,xe=Vo({},xe,rt)):Vo(xe,rt))}A.state=xe}else xe.queue=null}var $o={id:1,overflow:""};function yo(A,B,q){var se=A.id;A=A.overflow;var Pe=32-ha(se)-1;se&=~(1<<Pe),q+=1;var xe=32-ha(B)+Pe;if(30<xe){var We=Pe-Pe%5;return xe=(se&(1<<We)-1).toString(32),se>>=We,Pe-=We,{id:1<<32-ha(B)+Pe|q<<Pe|se,overflow:xe+A}}return{id:1<<xe|q<<Pe|se,overflow:A}}var ha=Math.clz32?Math.clz32:Hd,pa=Math.log,Qh=Math.LN2;function Hd(A){return A>>>=0,A===0?32:31-(pa(A)/Qh|0)|0}function Wa(A,B){return A===B&&(A!==0||1/A===1/B)||A!==A&&B!==B}var Xh=typeof Object.is=="function"?Object.is:Wa,fi=null,Es=null,xl=null,Mn=null,on=!1,an=!1,hi=0,qo=null,mc=0;function Za(){if(fi===null)throw Error(t(321));return fi}function gc(){if(0<mc)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function xs(){return Mn===null?xl===null?(on=!1,xl=Mn=gc()):(on=!0,Mn=xl):Mn.next===null?(on=!1,Mn=Mn.next=gc()):(on=!0,Mn=Mn.next),Mn}function Cs(){Es=fi=null,an=!1,xl=null,mc=0,Mn=qo=null}function Tu(A,B){return typeof B=="function"?B(A):B}function Fn(A,B,q){if(fi=Za(),Mn=xs(),on){var se=Mn.queue;if(B=se.dispatch,qo!==null&&(q=qo.get(se),q!==void 0)){qo.delete(se),se=Mn.memoizedState;do se=A(se,q.action),q=q.next;while(q!==null);return Mn.memoizedState=se,[se,B]}return[Mn.memoizedState,B]}return A=A===Tu?typeof B=="function"?B():B:q!==void 0?q(B):B,Mn.memoizedState=A,A=Mn.queue={last:null,dispatch:null},A=A.dispatch=pi.bind(null,fi,A),[Mn.memoizedState,A]}function Ms(A,B){if(fi=Za(),Mn=xs(),B=B===void 0?null:B,Mn!==null){var q=Mn.memoizedState;if(q!==null&&B!==null){var se=q[1];e:if(se===null)se=!1;else{for(var Pe=0;Pe<se.length&&Pe<B.length;Pe++)if(!Xh(B[Pe],se[Pe])){se=!1;break e}se=!0}if(se)return q[0]}}return A=A(),Mn.memoizedState=[A,B],A}function pi(A,B,q){if(25<=mc)throw Error(t(301));if(A===fi)if(an=!0,A={action:q,next:null},qo===null&&(qo=new Map),q=qo.get(B),q===void 0)qo.set(B,A);else{for(B=q;B.next!==null;)B=B.next;B.next=A}}function Iu(){throw Error(t(394))}function Vi(){}var kr={readContext:function(A){return A._currentValue},useContext:function(A){return Za(),A._currentValue},useMemo:Ms,useReducer:Fn,useRef:function(A){fi=Za(),Mn=xs();var B=Mn.memoizedState;return B===null?(A={current:A},Mn.memoizedState=A):B},useState:function(A){return Fn(Tu,A)},useInsertionEffect:Vi,useLayoutEffect:function(){},useCallback:function(A,B){return Ms(function(){return A},B)},useImperativeHandle:Vi,useEffect:Vi,useDebugValue:Vi,useDeferredValue:function(A){return Za(),A},useTransition:function(){return Za(),[!1,Iu]},useId:function(){var A=Es.treeContext,B=A.overflow;A=A.id,A=(A&~(1<<32-ha(A)-1)).toString(32)+B;var q=ks;if(q===null)throw Error(t(404));return B=hi++,A=":"+q.idPrefix+"R"+A,0<B&&(A+="H"+B.toString(32)),A+":"},useMutableSource:function(A,B){return Za(),B(A._source)},useSyncExternalStore:function(A,B,q){if(q===void 0)throw Error(t(407));return q()}},ks=null,Nr=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function $a(A){return console.error(A),null}function ma(){}function Ns(A,B,q,se,Pe,xe,We,rt,St){var Vt=[],jt=new Set;return B={destination:null,responseState:B,progressiveChunkSize:se===void 0?12800:se,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:jt,pingedTasks:Vt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:Pe===void 0?$a:Pe,onAllReady:xe===void 0?ma:xe,onShellReady:We===void 0?ma:We,onShellError:rt===void 0?ma:rt,onFatalError:St===void 0?ma:St},q=lr(B,0,null,q,!1,!1),q.parentFlushed=!0,A=yc(B,A,null,q,jt,ut,null,$o),Vt.push(A),B}function yc(A,B,q,se,Pe,xe,We,rt){A.allPendingTasks++,q===null?A.pendingRootTasks++:q.pendingTasks++;var St={node:B,ping:function(){var Vt=A.pingedTasks;Vt.push(St),Vt.length===1&&xu(A)},blockedBoundary:q,blockedSegment:se,abortSet:Pe,legacyContext:xe,context:We,treeContext:rt};return Pe.add(St),St}function lr(A,B,q,se,Pe,xe){return{status:0,id:-1,index:B,parentFlushed:!1,chunks:[],children:[],formatContext:se,boundary:q,lastPushedText:Pe,textEmbedded:xe}}function qa(A,B){if(A=A.onError(B),A!=null&&typeof A!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof A+'" instead');return A}function or(A,B){var q=A.onShellError;q(B),q=A.onFatalError,q(B),A.destination!==null?(A.status=2,m(A.destination,B)):(A.status=1,A.fatalError=B)}function Cl(A,B,q,se,Pe){for(fi={},Es=B,hi=0,A=q(se,Pe);an;)an=!1,hi=0,mc+=1,Mn=null,A=q(se,Pe);return Cs(),A}function vc(A,B,q,se){var Pe=q.render(),xe=se.childContextTypes;if(xe!=null){var We=B.legacyContext;if(typeof q.getChildContext!="function")se=We;else{q=q.getChildContext();for(var rt in q)if(!(rt in xe))throw Error(t(108,it(se)||"Unknown",rt));se=Vo({},We,q)}B.legacyContext=se,Hr(A,B,Pe),B.legacyContext=We}else Hr(A,B,Pe)}function Wi(A,B){if(A&&A.defaultProps){B=Vo({},B),A=A.defaultProps;for(var q in A)B[q]===void 0&&(B[q]=A[q]);return B}return B}function As(A,B,q,se,Pe){if(typeof q=="function")if(q.prototype&&q.prototype.isReactComponent){Pe=Nt(q,B.legacyContext);var xe=q.contextType;xe=new q(se,typeof xe=="object"&&xe!==null?xe._currentValue:Pe),qr(xe,q,se,Pe),vc(A,B,xe,q)}else{xe=Nt(q,B.legacyContext),Pe=Cl(A,B,q,se,xe);var We=hi!==0;if(typeof Pe=="object"&&Pe!==null&&typeof Pe.render=="function"&&Pe.$$typeof===void 0)qr(Pe,q,se,xe),vc(A,B,Pe,q);else if(We){se=B.treeContext,B.treeContext=yo(se,1,0);try{Hr(A,B,Pe)}finally{B.treeContext=se}}else Hr(A,B,Pe)}else if(typeof q=="string"){switch(Pe=B.blockedSegment,xe=Cn(Pe.chunks,q,se,A.responseState,Pe.formatContext),Pe.lastPushedText=!1,We=Pe.formatContext,Pe.formatContext=oe(We,q,se),mi(A,B,xe),Pe.formatContext=We,q){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:Pe.chunks.push(Cr,d(q),yr)}Pe.lastPushedText=!1}else{switch(q){case Ne:case ce:case Ds:case Ts:case vr:Hr(A,B,se.children);return;case Zo:Hr(A,B,se.children);return;case J:throw Error(t(343));case zi:e:{q=B.blockedBoundary,Pe=B.blockedSegment,xe=se.fallback,se=se.children,We=new Set;var rt={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:We,errorDigest:null},St=lr(A,Pe.chunks.length,rt,Pe.formatContext,!1,!1);Pe.children.push(St),Pe.lastPushedText=!1;var Vt=lr(A,0,null,Pe.formatContext,!1,!1);Vt.parentFlushed=!0,B.blockedBoundary=rt,B.blockedSegment=Vt;try{if(mi(A,B,se),Vt.lastPushedText&&Vt.textEmbedded&&Vt.chunks.push(pe),Vt.status=1,Fs(rt,Vt),rt.pendingTasks===0)break e}catch(jt){Vt.status=4,rt.forceClientRender=!0,rt.errorDigest=qa(A,jt)}finally{B.blockedBoundary=q,B.blockedSegment=Pe}B=yc(A,xe,q,St,We,B.legacyContext,B.context,B.treeContext),A.pingedTasks.push(B)}return}if(typeof q=="object"&&q!==null)switch(q.$$typeof){case Va:if(se=Cl(A,B,q.render,se,Pe),hi!==0){q=B.treeContext,B.treeContext=yo(q,1,0);try{Hr(A,B,se)}finally{B.treeContext=q}}else Hr(A,B,se);return;case N:q=q.type,se=Wi(q,se),As(A,B,q,se,Pe);return;case Is:if(Pe=se.children,q=q._context,se=se.value,xe=q._currentValue,q._currentValue=se,We=Yt,Yt=se={parent:We,depth:We===null?0:We.depth+1,context:q,parentValue:xe,value:se},B.context=se,Hr(A,B,Pe),A=Yt,A===null)throw Error(t(403));se=A.parentValue,A.context._currentValue=se===Ie?A.context._defaultValue:se,A=Yt=A.parent,B.context=A;return;case Wo:se=se.children,se=se(q._currentValue),Hr(A,B,se);return;case H:Pe=q._init,q=Pe(q._payload),se=Wi(q,se),As(A,B,q,se,void 0);return}throw Error(t(130,q==null?q:typeof q,""))}}function Hr(A,B,q){if(B.node=q,typeof q=="object"&&q!==null){switch(q.$$typeof){case po:As(A,B,q.type,q.props,q.ref);return;case za:throw Error(t(257));case H:var se=q._init;q=se(q._payload),Hr(A,B,q);return}if($(q)){En(A,B,q);return}if(q===null||typeof q!="object"?se=null:(se=Ue&&q[Ue]||q["@@iterator"],se=typeof se=="function"?se:null),se&&(se=se.call(q))){if(q=se.next(),!q.done){var Pe=[];do Pe.push(q.value),q=se.next();while(!q.done);En(A,B,Pe)}return}throw A=Object.prototype.toString.call(q),Error(t(31,A==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":A))}typeof q=="string"?(se=B.blockedSegment,se.lastPushedText=Ee(B.blockedSegment.chunks,q,A.responseState,se.lastPushedText)):typeof q=="number"&&(se=B.blockedSegment,se.lastPushedText=Ee(B.blockedSegment.chunks,""+q,A.responseState,se.lastPushedText))}function En(A,B,q){for(var se=q.length,Pe=0;Pe<se;Pe++){var xe=B.treeContext;B.treeContext=yo(xe,se,Pe);try{mi(A,B,q[Pe])}finally{B.treeContext=xe}}}function mi(A,B,q){var se=B.blockedSegment.formatContext,Pe=B.legacyContext,xe=B.context;try{return Hr(A,B,q)}catch(St){if(Cs(),typeof St=="object"&&St!==null&&typeof St.then=="function"){q=St;var We=B.blockedSegment,rt=lr(A,We.chunks.length,null,We.formatContext,We.lastPushedText,!0);We.children.push(rt),We.lastPushedText=!1,A=yc(A,B.node,B.blockedBoundary,rt,B.abortSet,B.legacyContext,B.context,B.treeContext).ping,q.then(A,A),B.blockedSegment.formatContext=se,B.legacyContext=Pe,B.context=xe,go(xe)}else throw B.blockedSegment.formatContext=se,B.legacyContext=Pe,B.context=xe,go(xe),St}}function Eu(A){var B=A.blockedBoundary;A=A.blockedSegment,A.status=3,Ud(this,B,A)}function Yd(A,B,q){var se=A.blockedBoundary;A.blockedSegment.status=3,se===null?(B.allPendingTasks--,B.status!==2&&(B.status=2,B.destination!==null&&B.destination.close())):(se.pendingTasks--,se.forceClientRender||(se.forceClientRender=!0,A=q===void 0?Error(t(432)):q,se.errorDigest=B.onError(A),se.parentFlushed&&B.clientRenderedBoundaries.push(se)),se.fallbackAbortableTasks.forEach(function(Pe){return Yd(Pe,B,q)}),se.fallbackAbortableTasks.clear(),B.allPendingTasks--,B.allPendingTasks===0&&(se=B.onAllReady,se()))}function Fs(A,B){if(B.chunks.length===0&&B.children.length===1&&B.children[0].boundary===null){var q=B.children[0];q.id=B.id,q.parentFlushed=!0,q.status===1&&Fs(A,q)}else A.completedSegments.push(B)}function Ud(A,B,q){if(B===null){if(q.parentFlushed){if(A.completedRootSegment!==null)throw Error(t(389));A.completedRootSegment=q}A.pendingRootTasks--,A.pendingRootTasks===0&&(A.onShellError=ma,B=A.onShellReady,B())}else B.pendingTasks--,B.forceClientRender||(B.pendingTasks===0?(q.parentFlushed&&q.status===1&&Fs(B,q),B.parentFlushed&&A.completedBoundaries.push(B),B.fallbackAbortableTasks.forEach(Eu,A),B.fallbackAbortableTasks.clear()):q.parentFlushed&&q.status===1&&(Fs(B,q),B.completedSegments.length===1&&B.parentFlushed&&A.partialBoundaries.push(B)));A.allPendingTasks--,A.allPendingTasks===0&&(A=A.onAllReady,A())}function xu(A){if(A.status!==2){var B=Yt,q=Nr.current;Nr.current=kr;var se=ks;ks=A.responseState;try{var Pe=A.pingedTasks,xe;for(xe=0;xe<Pe.length;xe++){var We=Pe[xe],rt=A,St=We.blockedSegment;if(St.status===0){go(We.context);try{Hr(rt,We,We.node),St.lastPushedText&&St.textEmbedded&&St.chunks.push(pe),We.abortSet.delete(We),St.status=1,Ud(rt,We.blockedBoundary,St)}catch(No){if(Cs(),typeof No=="object"&&No!==null&&typeof No.then=="function"){var Vt=We.ping;No.then(Vt,Vt)}else{We.abortSet.delete(We),St.status=4;var jt=We.blockedBoundary,kn=No,Yr=qa(rt,kn);if(jt===null?or(rt,kn):(jt.pendingTasks--,jt.forceClientRender||(jt.forceClientRender=!0,jt.errorDigest=Yr,jt.parentFlushed&&rt.clientRenderedBoundaries.push(jt))),rt.allPendingTasks--,rt.allPendingTasks===0){var ko=rt.onAllReady;ko()}}}}}Pe.splice(0,xe),A.destination!==null&&Sc(A,A.destination)}catch(No){qa(A,No),or(A,No)}finally{ks=se,Nr.current=q,q===kr&&go(B)}}}function wc(A,B,q){switch(q.parentFlushed=!0,q.status){case 0:var se=q.id=A.nextSegmentId++;return q.lastPushedText=!1,q.textEmbedded=!1,A=A.responseState,o(B,Rn),o(B,A.placeholderPrefix),A=d(se.toString(16)),o(B,A),i(B,Li);case 1:q.status=2;var Pe=!0;se=q.chunks;var xe=0;q=q.children;for(var We=0;We<q.length;We++){for(Pe=q[We];xe<Pe.index;xe++)o(B,se[xe]);Pe=Ml(A,B,Pe)}for(;xe<se.length-1;xe++)o(B,se[xe]);return xe<se.length&&(Pe=i(B,se[xe])),Pe;default:throw Error(t(390))}}function Ml(A,B,q){var se=q.boundary;if(se===null)return wc(A,B,q);if(se.parentFlushed=!0,se.forceClientRender)se=se.errorDigest,i(B,xo),o(B,ua),se&&(o(B,Bi),o(B,d(z(se))),o(B,ci)),i(B,te),wc(A,B,q);else if(0<se.pendingTasks){se.rootSegmentID=A.nextSegmentId++,0<se.completedSegments.length&&A.partialBoundaries.push(se);var Pe=A.responseState,xe=Pe.nextSuspenseID++;Pe=f(Pe.boundaryPrefix+xe.toString(16)),se=se.id=Pe,ge(B,A.responseState,se),wc(A,B,q)}else if(se.byteSize>A.progressiveChunkSize)se.rootSegmentID=A.nextSegmentId++,A.completedBoundaries.push(se),ge(B,A.responseState,se.id),wc(A,B,q);else{if(i(B,Eo),q=se.completedSegments,q.length!==1)throw Error(t(391));Ml(A,B,q[0])}return i(B,_i)}function kl(A,B,q){return Hi(B,A.responseState,q.formatContext,q.id),Ml(A,B,q),Yi(B,q.formatContext)}function Ga(A,B,q){for(var se=q.completedSegments,Pe=0;Pe<se.length;Pe++)bc(A,B,q,se[Pe]);if(se.length=0,A=A.responseState,se=q.id,q=q.rootSegmentID,o(B,A.startInlineScript),A.sentCompleteBoundaryFunction?o(B,Il):(A.sentCompleteBoundaryFunction=!0,o(B,Ya)),se===null)throw Error(t(395));return q=d(q.toString(16)),o(B,se),o(B,Ua),o(B,A.segmentPrefix),o(B,q),i(B,pc)}function bc(A,B,q,se){if(se.status===2)return!0;var Pe=se.id;if(Pe===-1){if((se.id=q.rootSegmentID)===-1)throw Error(t(392));return kl(A,B,se)}return kl(A,B,se),A=A.responseState,o(B,A.startInlineScript),A.sentCompleteSegmentFunction?o(B,Tl):(A.sentCompleteSegmentFunction=!0,o(B,hc)),o(B,A.segmentPrefix),Pe=d(Pe.toString(16)),o(B,Pe),o(B,Ha),o(B,A.placeholderPrefix),o(B,Pe),i(B,fa)}function Sc(A,B){n=new Uint8Array(512),r=0;try{var q=A.completedRootSegment;if(q!==null&&A.pendingRootTasks===0){Ml(A,B,q),A.completedRootSegment=null;var se=A.responseState.bootstrapChunks;for(q=0;q<se.length-1;q++)o(B,se[q]);q<se.length&&i(B,se[q])}var Pe=A.clientRenderedBoundaries,xe;for(xe=0;xe<Pe.length;xe++){var We=Pe[xe];se=B;var rt=A.responseState,St=We.id,Vt=We.errorDigest,jt=We.errorMessage,kn=We.errorComponentStack;if(o(se,rt.startInlineScript),rt.sentClientRenderFunction?o(se,_r):(rt.sentClientRenderFunction=!0,o(se,Dn)),St===null)throw Error(t(395));o(se,St),o(se,bs),(Vt||jt||kn)&&(o(se,Ui),o(se,d(ui(Vt||"")))),(jt||kn)&&(o(se,Ui),o(se,d(ui(jt||"")))),kn&&(o(se,Ui),o(se,d(ui(kn)))),i(se,Ss)}Pe.splice(0,xe);var Yr=A.completedBoundaries;for(xe=0;xe<Yr.length;xe++)Ga(A,B,Yr[xe]);Yr.splice(0,xe),a(B),n=new Uint8Array(512),r=0;var ko=A.partialBoundaries;for(xe=0;xe<ko.length;xe++){var No=ko[xe];e:{Pe=A,We=B;var Nl=No.completedSegments;for(rt=0;rt<Nl.length;rt++)if(!bc(Pe,We,No,Nl[rt])){rt++,Nl.splice(0,rt);var Mu=!1;break e}Nl.splice(0,rt),Mu=!0}if(!Mu){A.destination=null,xe++,ko.splice(0,xe);return}}ko.splice(0,xe);var ga=A.completedBoundaries;for(xe=0;xe<ga.length;xe++)Ga(A,B,ga[xe]);ga.splice(0,xe)}finally{a(B),A.allPendingTasks===0&&A.pingedTasks.length===0&&A.clientRenderedBoundaries.length===0&&A.completedBoundaries.length===0&&B.close()}}function Cu(A,B){try{var q=A.abortableTasks;q.forEach(function(se){return Yd(se,A,B)}),q.clear(),A.destination!==null&&Sc(A,A.destination)}catch(se){qa(A,se),or(A,se)}}return Ky.renderToReadableStream=function(A,B){return new Promise(function(q,se){var Pe,xe,We=new Promise(function(jt,kn){xe=jt,Pe=kn}),rt=Ns(A,ne(B?B.identifierPrefix:void 0,B?B.nonce:void 0,B?B.bootstrapScriptContent:void 0,B?B.bootstrapScripts:void 0,B?B.bootstrapModules:void 0),K(B?B.namespaceURI:void 0),B?B.progressiveChunkSize:void 0,B?B.onError:void 0,xe,function(){var jt=new ReadableStream({type:"bytes",pull:function(kn){if(rt.status===1)rt.status=2,m(kn,rt.fatalError);else if(rt.status!==2&&rt.destination===null){rt.destination=kn;try{Sc(rt,kn)}catch(Yr){qa(rt,Yr),or(rt,Yr)}}},cancel:function(){Cu(rt)}},{highWaterMark:0});jt.allReady=We,q(jt)},function(jt){We.catch(function(){}),se(jt)},Pe);if(B&&B.signal){var St=B.signal,Vt=function(){Cu(rt,St.reason),St.removeEventListener("abort",Vt)};St.addEventListener("abort",Vt)}xu(rt)})},Ky.version="18.2.0",Ky}var Kh,ek;Kh=wte();ek=bte();Kh.version;Kh.renderToString;var Ste=Kh.renderToStaticMarkup;Kh.renderToNodeStream;Kh.renderToStaticNodeStream;ek.renderToReadableStream;const tk=ke.oneOf(["top","right","bottom","left","bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned","top-left-aligned","top-middle-aligned","top-right-aligned","auto"]),nk=ke.oneOf(["top-middle","top-left","top-right","bottom-left","bottom-right","bottom-middle","middle-left","middle-right","middle-middle"]),rk=ke.shape({nextLabel:ke.string,prevLabel:ke.string,skipLabel:ke.string,doneLabel:ke.string,hidePrev:ke.bool,hideNext:ke.bool,tooltipPosition:tk,tooltipClass:ke.string,highlightClass:ke.string,exitOnEsc:ke.bool,exitOnOverlayClick:ke.bool,showStepNumbers:ke.bool,keyboardNavigation:ke.bool,showButtons:ke.bool,showBullets:ke.bool,showProgress:ke.bool,scrollToElement:ke.bool,overlayOpacity:ke.number,scrollPadding:ke.number,positionPrecedence:ke.arrayOf(ke.string),disableInteraction:ke.bool,hintPosition:nk,hintButtonLabel:ke.string,hintAnimation:ke.bool}),ok={hidePrev:!0,hideNext:!0};function ik(){return typeof window>"u"}class x1 extends F.Component{constructor(n){super(n);De(this,"onExit",()=>{const{onExit:n}=this.props;this.isVisible=!1,n(this.introJs._currentStep)});De(this,"onBeforeExit",()=>{const{onBeforeExit:n}=this.props;return n?n(this.introJs._currentStep):!0});De(this,"onBeforeChange",n=>{if(!this.isVisible)return!0;const{onBeforeChange:r,onPreventChange:o}=this.props;if(r){const i=r(this.introJs._currentStep,n);return i===!1&&o&&setTimeout(()=>{o(this.introJs._currentStep)},0),i}return!0});De(this,"onAfterChange",n=>{if(!this.isVisible)return;const{onAfterChange:r}=this.props;r&&r(this.introJs._currentStep,n)});De(this,"onChange",n=>{if(!this.isVisible)return;const{onChange:r}=this.props;r&&r(this.introJs._currentStep,n)});De(this,"onComplete",()=>{const{onComplete:n}=this.props;n&&n()});De(this,"updateStepElement",n=>{const r=document.querySelector(this.introJs._options.steps[n].element);r&&(this.introJs._introItems[n].element=r,this.introJs._introItems[n].position=this.introJs._options.steps[n].position||"auto")});this.introJs=null,this.isConfigured=!1,this.isVisible=!1,this.installIntroJs()}componentDidMount(){this.props.enabled&&(this.configureIntroJs(),this.renderSteps())}componentDidUpdate(n){const{enabled:r,steps:o,options:i}=this.props;(!this.isConfigured||n.steps!==o||n.options!==i)&&(this.configureIntroJs(),this.renderSteps()),n.enabled!==r&&this.renderSteps()}componentWillUnmount(){this.introJs.exit()}installIntroJs(){ik()||(this.introJs=Qv(),this.introJs.onexit(this.onExit),this.introJs.onbeforeexit(this.onBeforeExit),this.introJs.onbeforechange(this.onBeforeChange),this.introJs.onafterchange(this.onAfterChange),this.introJs.onchange(this.onChange),this.introJs.oncomplete(this.onComplete))}configureIntroJs(){const{options:n,steps:r}=this.props,o=r.map(i=>F.isValidElement(i.intro)?{...i,intro:Ste(i.intro)}:i);this.introJs.setOptions({...n,steps:o}),this.isConfigured=!0}renderSteps(){const{enabled:n,initialStep:r,steps:o,onStart:i}=this.props;n&&o.length>0&&!this.isVisible?(this.introJs.start(),this.isVisible=!0,this.introJs.goToStepNumber(r+1),i&&i(this.introJs._currentStep)):!n&&this.isVisible&&(this.isVisible=!1,this.introJs.exit())}render(){return null}}De(x1,"propTypes",{enabled:ke.bool,initialStep:ke.number.isRequired,steps:ke.arrayOf(ke.shape({element:ke.oneOfType([ke.string,typeof Element>"u"?ke.any:ke.instanceOf(Element)]),intro:ke.node.isRequired,position:tk,tooltipClass:ke.string,highlightClass:ke.string})).isRequired,onStart:ke.func,onExit:ke.func.isRequired,onBeforeExit:ke.func,onBeforeChange:ke.func,onAfterChange:ke.func,onChange:ke.func,onPreventChange:ke.func,onComplete:ke.func,options:rk}),De(x1,"defaultProps",{enabled:!1,onStart:null,onBeforeExit:null,onBeforeChange:null,onAfterChange:null,onChange:null,onPreventChange:null,onComplete:null,options:ok});class WI extends F.Component{constructor(t){super(t),this.introJs=null,this.isConfigured=!1,this.installIntroJs()}componentDidMount(){this.props.enabled&&(this.configureIntroJs(),this.renderHints())}componentDidUpdate(t){const{enabled:n,hints:r,options:o}=this.props;(!this.isConfigured||t.hints!==r||t.options!==o)&&(this.configureIntroJs(),this.renderHints()),t.enabled!==n&&this.renderHints()}componentWillUnmount(){this.introJs.hideHints()}installIntroJs(){if(ik())return;this.introJs=Qv();const{onClick:t,onClose:n}=this.props;t&&this.introJs.onhintclick(t),n&&this.introJs.onhintclose(n)}configureIntroJs(){const{options:t,hints:n}=this.props;this.introJs.removeHints(),this.introJs.setOptions({...t,hints:n}),this.isConfigured=!0}renderHints(){const{enabled:t,hints:n}=this.props;t&&n.length>0?this.introJs.showHints():t||this.introJs.hideHints()}render(){return null}}De(WI,"propTypes",{enabled:ke.bool,hints:ke.arrayOf(ke.shape({element:ke.string.isRequired,hint:ke.string.isRequired,hintPosition:nk})).isRequired,onClick:ke.func,onClose:ke.func,options:rk}),De(WI,"defaultProps",{enabled:!1,onClick:null,onClose:null,options:ok});const Dte=[{element:".left-sidebar",intro:E("This is Thino's sidebar. Navigate to different path or select query filter.")},{element:".user-banner-container",intro:E("Click here and go to settings page.")},{element:".path-entry-wrapper",intro:E("Click here and go to different path.")},{element:".queries-wrapper",intro:E("Select or create query filter here.")},{element:".status-text-container.sidebar",intro:E("See the status of Thinos here.")+E("It is not available on small view")},{element:".heatmap-default",intro:E("See your time status of thinos here.")},{element:".tags-wrapper",intro:E("See your tags here. Tags will be shown when thino contains tags.")},{element:".section-header-container.memos-header-container",intro:E("Search your thino quickly here.")},{element:".memo-editor-wrapper",intro:E("Edit or create your thino here.")},{element:".memolist-wrapper",intro:E("See your thinos here.")}],Tte=[{element:".memos-sidebar-wrapper.left-sidebar",intro:E("This is Thino's sidebar. Navigate to different path or select query filter.")},{element:".user-banner-container",intro:E("Click here and go to settings page.")},{element:".heatmap-default",intro:E("See your time status of thinos here.")},{element:".path-entry-wrapper",intro:E("Click here and go to different path.")},{element:".queries-wrapper",intro:E("Select or create query filter here.")},{element:".tags-wrapper",intro:E("See your tags here. Tags will be shown when thino contains tags.")},{element:".section-header-container.memos-header-container",intro:E("Search your thino quickly here.")},{element:".memo-editor-wrapper",intro:E("Edit or create your thino here.")},{element:".memolist-wrapper",intro:E("See your thinos here.")}],Ite={nextLabel:E("Next"),prevLabel:E("Previous"),doneLabel:E("Done"),hideNext:!1};function Ete(){var v;const{dailyNotesState:{settings:e,verifyState:t},locationState:{pathname:n},globalState:{isMobileView:r,memoListView:o,globalEditorShown:i,locked:a,exited:c}}=F.useContext(Ot),d=F.useRef(null),f=F.useRef(null),m=e?e.FirstLoaded:(v=app.plugins.getPlugin("obsidian-memos").settings)==null?void 0:v.FirstLoaded;F.useEffect(()=>{if(!e.needVerify){dt.setLocked(!1);return}dt.setLocked(!0)},[e==null?void 0:e.needVerify]),F.useEffect(()=>{if(!f.current)return;(async()=>{var I;const T=!C.Platform.isDesktop&&await((I=window.Capacitor)==null?void 0:I.Plugins.Device.getId()),S=C.Platform.isDesktop?await Jn():T.identifier||T.uuid;!t||(t==null?void 0:t.appId)!==S?f.current.toggleClass("hide-pro",!0):f.current.toggleClass("hide-pro",!1)})()},[t,f.current]);const g=()=>{dt.setExitSteps(!1)};return y.jsxs(y.Fragment,{children:[m&&y.jsx(ute,{}),y.jsx(x1,{ref:d,enabled:c,steps:(e==null?void 0:e.DefaultThemeForThino)==="modern"?Dte:Tte,initialStep:0,onExit:g,options:Ite,onBeforeChange:w=>{(r&&(e==null?void 0:e.DefaultThemeForThino)==="classic"&&w===6||r&&(e==null?void 0:e.DefaultThemeForThino)==="modern"&&w===7)&&dt.setShowSiderbarInMobileView(!1)}}),a&&!m&&y.jsx(cte,{}),!a&&!m&&i&&y.jsx(Td,{editorType:"block"}),!a&&!m&&!i&&y.jsx("section",{ref:f,id:"page-wrapper","data-path":n,className:Kn(`memos-${n==="/"?o:"list"}-view`,(e==null?void 0:e.DefaultThemeForThino)==="modern"?"modern":"classic"),children:y.jsxs(y.Fragment,{children:[y.jsx(LI,{sidebarPosition:"left",className:"left-sidebar"}),y.jsx("main",{className:"content-wrapper",children:_te(n)}),(e==null?void 0:e.DefaultThemeForThino)==="modern"&&!r?y.jsx(LI,{sidebarPosition:"right",className:"right-sidebar"}):null]})})]})}const xte={"*":y.jsx(Ete,{})},Cte=e=>{const{memo:t,handleDeletedMemoAction:n}=e,{dailyNotesState:r}=F.useContext(Ot),o={...t,createdAtStr:ct.getDateTimeString(t.createdAt),deletedAtStr:ct.getDateTimeString(t.deletedAt||t.createdAt)},i=le.useRef(null),a=le.useRef(null),[c,d]=le.useState(""),[f,m]=yl(!1),g={restore:F.useRef(null),delete:F.useRef(null),source:F.useRef(null)};F.useEffect(()=>{a&&(C.setIcon(g.restore.current,"archive-restore"),C.setIcon(g.delete.current,"trash"),C.setIcon(g.source.current,"home"))},[a]),F.useEffect(()=>{if(!i.current||!a.current||i.current.hasChildNodes()&&t.content===c||!r.view)return;const I=r.view;d(t.content),i.current.hasChildNodes()&&i.current.empty();async function k(){var R;await C.MarkdownRenderer.render(r.app,t.content+`
`,i.current,t.path,I);const P=(R=i.current)==null?void 0:R.querySelectorAll(".internal-link");P==null||P.forEach(M=>{const _=M,L=_.getAttribute("data-href");if(!L)return;r.app.metadataCache.getFirstLinkpathDest(L,t.path)||M.classList.add("is-unresolved"),_.addEventListener("mouseover",Y=>{Y.stopPropagation(),r.app.workspace.trigger("hover-link",{event:Y,source:"thino",hoverParent:I.containerEl,targetEl:_,linktext:L,sourcePath:_.href})})})}k()},[t.content,a]);const v=async()=>{if(f)try{await Te.deleteMemoById(o.id),n(o.id)}catch(I){new C.Notice(I.message)}else m()},w=async()=>{switch(o.sourceType){case"DAILY":await $1(o.id,o.path);break;case"CANVAS":await G1(o.id,o.path);break;case"MULTI":await Z1(o.path);break;case"FILE":await q1(o.id,o.path);break}},T=async()=>{try{const I=await Te.restoreMemoById(o.id),k=r.app,P=k==null?void 0:k.loadLocalStorage("tokenForSync");I&&I.webId&&P&&r.settings.startSync&&await Nm(I.webId),I&&Te.editMemo(I),n(o.id),new C.Notice(E("RESTORE SUCCEED"))}catch(I){new C.Notice(I.message)}},S=()=>{f&&m(!1)};return y.jsxs("div",{ref:a,className:`memo-wrapper ${"memos-"+o.id}`,onMouseLeave:S,children:[y.jsxs("div",{className:"memo-top-wrapper",children:[y.jsxs("span",{className:"time-text",children:[E("DELETE AT")," ",o.deletedAtStr]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:I=>{I&&C.setIcon(I,"more-horizontal")},className:"btn more-action-btn"}),y.jsx("div",{className:"more-action-btns-wrapper",children:y.jsxs("div",{className:"more-action-btns-container",children:[y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:g.restore,className:"more-action-item-icon"}),y.jsx("span",{className:"btn restore-btn",onClick:T,children:E("RESTORE")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:g.source,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:w,children:E("SOURCE")})]}),y.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[y.jsx("span",{ref:g.delete,className:"more-action-item-icon"}),y.jsx("span",{className:`btn delete-btn ${f?"final-confirm":""}`,onClick:v,children:E(f?"CONFIRM！":"DELETE")})]})]})})]})]}),y.jsx("div",{ref:i,className:"memo-content-text",onContextMenu:I=>{I.preventDefault(),I.stopPropagation()}})]})},Mte=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:o,type:i,text:a,filter:c}=t,d=tn.getQueryById(c);return!!(r||o&&o.from<o.to||i||a||d)||d||n?e.filter(m=>{let g=!0;if(m.thinoType!==void 0&&n&&m.thinoType==="TASK-DONE"&&(g=!1),m.content.contains("comment:")&&(g=!1),d){const v=JSON.parse(d.querystring);Array.isArray(v)&&(g=Rh(m,v))}if(r){const v=new Set;for(const w of Array.from(m.content.match(gr)||[])){const S=w.replace(gr,"$1").trim().split("/");let I="";for(const k of S)I+=k,v.add(I),I+="/"}for(const w of Array.from(m.content.match(jr)||[])){const S=w.replace(jr,"$1").trim().split("/");let I="";for(const k of S)I+=k,v.add(I),I+="/"}for(const w of Array.from(m.content.match(so)||[])){const S=w.replace(so,"$2").trim().split("/");let I="";for(const k of S)I+=k,v.add(I),I+="/"}v.has(r)||(g=!1)}return o&&o.from<o.to&&(ct.getTimeStampByDate(m.createdAt)<o.from||ct.getTimeStampByDate(m.createdAt)>o.to)&&(g=!1),i&&(i==="NOT_TAGGED"&&(m.content.match(gr)!==null||m.content.match(so)!==null||m.content.match(jr)!==null)||i==="LINKED"&&m.content.match(Ld)===null||i==="IMAGED"&&m.content.match(Rd)===null||i==="CONNECTED"&&m.content.match(gu)===null)&&(g=!1),a&&!m.content.toLowerCase().includes(a.toLowerCase())&&(g=!1),g}):e.filter(m=>!m.content.contains("comment:"))},kte=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=F.useContext(Ot),r=Gh(),[o,i]=F.useState([]),a=le.useRef(null),c=le.useRef(null);F.useEffect(()=>{c.current&&C.setIcon(c.current,"more-horizontal")},[c]),F.useEffect(()=>{const w=Mte({memos:n.filter(T=>T.deletedAt!==""&&T.deletedAt),query:e,HideDoneTasks:!1});i(w),r.setFinish()},[n,a.current,e]);const d=F.useCallback(w=>{i(T=>T.filter(S=>S.id!==w))},[]),f=F.useCallback(()=>{dt.setShowSiderbarInMobileView(!0)},[]),m=async()=>{if(!((o==null?void 0:o.length)>0))return;if(!await ul()){bn();return}const w=[...o],T=ft.getState().settings.startSync,S=ft.getState().app,I=S==null?void 0:S.loadLocalStorage("tokenForSync");try{const k=w.filter(M=>M.sourceType==="DAILY"),P=w.filter(M=>M.sourceType!=="DAILY");for(const M of P){const _=await Te.restoreMemoById(M.id);_&&_.webId&&I&&T&&await Nm(_.webId),_&&Te.editMemo(_)}const R=tc(k);for(const{path:M,thinos:_}of R){const L=await Te.dealWithDailyThinoBulk(M,_,"restoreFromDelete");for(const z of L)z&&z.webId&&I&&T&&await Nm(z.webId)}ot.clearQuery(),new C.Notice(E("RESTORE SUCCEED"))}catch(k){new C.Notice(k.message)}},g=async()=>{if(!((o==null?void 0:o.length)>0))return;if(!await ul()){bn();return}const w=[...o],T=ft.getState().settings,S=ft.getState().app,I=S==null?void 0:S.loadLocalStorage("tokenForSync");try{const k=w.filter(M=>M.sourceType==="DAILY"),P=w.filter(M=>M.sourceType!=="DAILY");for(const M of P)await Te.deleteMemoById(M.id);const R=tc(k);for(const{path:M,thinos:_}of R){const L=await Te.dealWithDailyThinoBulk(M,_,"deleteForever");if(!(!I||!T.startSync))for(const z of L)z&&z.webId&&await P1(z.webId)}ot.clearQuery(),new C.Notice(E("DELETE SUCCEED"))}catch(k){console.error("error",k),new C.Notice(k.message)}},v=w=>{const T=new C.Menu;T.addItem(S=>{S.setTitle(E("Bulk restore")).setIcon("archive-restore").onClick(async()=>{new ps(app,E("RESTORE"),async I=>{I==="confirm"&&await m()}).open()})}).addItem(S=>{S.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new ps(app,E("DELETE"),async I=>{I==="confirm"&&await g()}).open()})}),T.showAtMouseEvent(w.nativeEvent)};return y.jsxs("div",{className:"memo-trash-wrapper",ref:a,children:[y.jsxs("div",{className:"section-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(Fa,{when:t,children:y.jsx("button",{ref:w=>{w&&C.setIcon(w,"menu")},className:"btn action-btn clickable-icon",onClick:f})}),y.jsxs("span",{className:"go-home-btn",onClick:()=>{ot.clearQuery(),ot.setPathname("/")},children:["🏠 ",E("Return To Home Page")]}),y.jsx("span",{ref:c,className:"menu-popup-btn",onClick:v})]}),y.jsx(cg,{})]}),y.jsx(xg,{thinosCount:o.length,thinos:o}),r.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:E("Fetching data...")})}):o.length===0?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:E("Here is No Memos.")})}):y.jsx("div",{className:"deleted-memos-container",children:o.map(w=>y.jsx(Cte,{memo:w,handleDeletedMemoAction:d},`${w.id}-${w.updatedAt}`))})]})},Qy="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='currentColor'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M19%203H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2zm0%2016H5V5h14v14zM17.99%209l-1.41-1.42-6.59%206.59-2.58-2.57-1.42%201.41%204%203.99z'/%3e%3c/svg%3e",Xy="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='currentColor'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0V0z'/%3e%3cpath%20d='M19%205v14H5V5h14m0-2H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2z'/%3e%3c/svg%3e",Nte=()=>{const{globalState:e}=F.useContext(Ot),{useTinyUndoHistoryCache:t,shouldHideImageUrl:n,shouldSplitMemoWord:r,shouldUseMarkdownParser:o}=e,i=`👋 你好呀～欢迎使用memos!
* ✨ **开源项目**；
* 😋 精美且细节的视觉样式；
* 📑 体验优良的交互逻辑；`,a=()=>{dt.setAppSetting({useTinyUndoHistoryCache:!t})},c=()=>{dt.setAppSetting({shouldSplitMemoWord:!r})},d=()=>{dt.setAppSetting({shouldHideImageUrl:!n})},f=()=>{dt.setAppSetting({shouldUseMarkdownParser:!o})},m=async()=>{const g=Te.getState().memos.map(T=>({...T})),v=JSON.stringify(g),w=document.createElement("a");w.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(v)),w.setAttribute("download","data.json"),w.style.display="none",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"section-container preferences-section-container",children:[y.jsx("p",{className:"title-text",children:"Memo 显示相关"}),y.jsx("div",{className:"demo-content-container memo-content-text",dangerouslySetInnerHTML:{__html:jb(i)}}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:c,children:[y.jsx("span",{className:"normal-text",children:"中英文内容自动间隔"}),y.jsx("img",{className:"icon-img",src:r?Qy:Xy})]}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:f,children:[y.jsx("span",{className:"normal-text",children:"部分 markdown 格式解析"}),y.jsx("img",{className:"icon-img",src:o?Qy:Xy})]}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:d,children:[y.jsx("span",{className:"normal-text",children:"隐藏图片链接地址"}),y.jsx("img",{className:"icon-img",src:n?Qy:Xy})]})]}),y.jsxs("div",{className:"section-container preferences-section-container",children:[y.jsx("p",{className:"title-text",children:"编辑器"}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:a,children:[y.jsxs("span",{className:"normal-text",children:["启用"," ",y.jsx("a",{target:"_blank",href:"https://github.com/boojack/tiny-undo",onClick:g=>g.stopPropagation(),rel:"noreferrer",children:"tiny-undo"})]}),y.jsx("img",{className:"icon-img",src:t?Qy:Xy})]})]}),y.jsxs("div",{className:"section-container hidden",children:[y.jsx("p",{className:"title-text",children:"其他"}),y.jsx("div",{className:"btn-container",children:y.jsx("button",{className:"btn export-btn",onClick:m,children:"导出数据(JSON)"})})]})]})},Ate=()=>{const{globalState:{isMobileView:e}}=F.useContext(Ot);F.useEffect(()=>{Te.fetchAllMemos()},[]);const t=F.useCallback(()=>{dt.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"preference-wrapper",children:[y.jsx("div",{className:"section-header-container",children:y.jsxs("div",{className:"title-text",children:[y.jsx(Fa,{when:e,children:y.jsx("button",{className:"action-btn",onClick:t})}),y.jsx("span",{className:"normal-text",children:"账号与设置"})]})}),y.jsx("div",{className:"sections-wrapper",children:y.jsx(Nte,{})})]})},Fte=()=>{const{dailyNotesState:{app:e},locationState:{query:t},globalState:{isMobileView:n,changedByMemos:r},memoState:{memos:o}}=F.useContext(Ot),i=Gh(),[a,c]=F.useState([]),[d,f]=F.useState([]),m=le.useRef(null),g=le.useRef(null),[v,w]=F.useState(!1),[T,S]=F.useState([]),I=le.useRef([]),k=F.useCallback(({memos:M,query:_,HideDoneTasks:L})=>{const{tag:z,duration:Y,type:V,text:$,filter:re}=_,Q=tn.getQueryById(re);return!!(z||Y&&Y.from<Y.to||V||$||Q)||Q||L?M.filter(X=>{let ie=!0;if(X.thinoType!==void 0&&L&&X.thinoType==="TASK-DONE"&&(ie=!1),X.content.contains("comment:")&&(ie=!1),Q){const Z=JSON.parse(Q.querystring);Array.isArray(Z)&&(ie=Rh(X,Z))}if(z){const Z=new Set;for(const ue of Array.from(X.content.match(gr)||[])){const he=ue.replace(gr,"$1").trim().split("/");let K="";for(const oe of he)K+=oe,Z.add(K),K+="/"}for(const ue of Array.from(X.content.match(jr)||[])){const he=ue.replace(jr,"$1").trim().split("/");let K="";for(const oe of he)K+=oe,Z.add(K),K+="/"}for(const ue of Array.from(X.content.match(so)||[])){const he=ue.replace(so,"$2").trim().split("/");let K="";for(const oe of he)K+=oe,Z.add(K),K+="/"}Z.has(z)||(ie=!1)}return Y&&Y.from<Y.to&&(ct.getTimeStampByDate(X.createdAt)<Y.from||ct.getTimeStampByDate(X.createdAt)>Y.to)&&(ie=!1),V&&(V==="NOT_TAGGED"&&(X.content.match(gr)!==null||X.content.match(jr)!==null)||V==="LINKED"&&X.content.match(Ld)===null||V==="IMAGED"&&X.content.match(Rd)===null||V==="CONNECTED"&&X.content.match(gu)===null)&&(ie=!1),$&&!X.content.toLowerCase().includes($.toLowerCase())&&(ie=!1),ie}):M},[]);F.useEffect(()=>{g.current&&(C.setIcon(g.current,"refresh-cw"),e.workspace.on("refresh-review-memos",R))},[g]),F.useEffect(()=>{if(!v)return;if(t){const L=[...k({memos:o,query:t,HideDoneTasks:!1})].sort(()=>Math.random()-Math.random()).slice(0,10);c(L),w(!1);return}const M=[...T].sort(()=>Math.random()-Math.random()).slice(0,10);c(M),w(!1)},[v]),F.useEffect(()=>{if(!(T.length>0))return;const M=[...T].sort(()=>Math.random()-Math.random()).slice(0,10);c(M),w(!1)},[T]),F.useEffect(()=>{m.current&&(S(k({memos:o,query:t,HideDoneTasks:!1}).filter(M=>M.rowStatus!=="ARCHIVED"&&!(M.deletedAt!==""&&M.deletedAt))),i.setFinish(),ot.clearQuery())},[o,m.current]),F.useEffect(()=>{if(r&&I.current.length>0){const M=T.filter(L=>I.current.includes(L.id)),_=I.current.map(L=>M.find(z=>z.id===L)).filter(L=>L!==void 0);f(_);return}I.current=a.map(M=>M.id),f(a)},[a]),F.useEffect(()=>{if(a.length===0)return;const M=k({memos:a,query:t,HideDoneTasks:!1});f(M)},[t]);const P=F.useCallback(()=>{dt.setShowSiderbarInMobileView(!0)},[]),R=()=>{w(!0)};return y.jsxs("div",{className:"memo-review-wrapper",ref:m,children:[y.jsx("div",{className:"section-header-container",children:y.jsxs("div",{className:"title-wrapper",children:[y.jsxs("div",{className:"title-btns-left-wrapper",children:[y.jsx(Fa,{when:n,children:y.jsx("button",{ref:M=>{M&&C.setIcon(M,"menu")},className:"btn action-btn clickable-icon",onClick:P})}),y.jsx("span",{ref:g,onClick:R,className:"refresh-icon"})]}),y.jsx("div",{className:"title-btns-right-wrapper",children:y.jsxs("span",{className:"go-home-btn",onClick:()=>{ot.setPathname("/")},children:["🏠 ",E("Return To Home Page")]})})]})}),y.jsx(xg,{}),i.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:E("Fetching data...")})}):o.length===0?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:E("Here is No Memos.")})}):y.jsx("div",{className:"review-memos-container",children:d.map(M=>y.jsx(ji,{memo:M},`${M==null?void 0:M.id}-${M.createdAt}`))})]})},ak=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:o,type:i,text:a,filter:c}=t,d=tn.getQueryById(c);return!!(r||o&&o.from<o.to||i||a||d)||d||n?e.filter(m=>{let g=!0;if(m.thinoType!==void 0&&n&&m.thinoType==="TASK-DONE"&&(g=!1),m.content.contains("comment:")&&(g=!1),d){const v=JSON.parse(d.querystring);Array.isArray(v)&&(g=Rh(m,v))}if(r){const v=new Set;for(const w of Array.from(m.content.match(gr)||[])){const S=w.replace(gr,"$1").trim().split("/");let I="";for(const k of S)I+=k,v.add(I),I+="/"}for(const w of Array.from(m.content.match(jr)||[])){const S=w.replace(jr,"$1").trim().split("/");let I="";for(const k of S)I+=k,v.add(I),I+="/"}for(const w of Array.from(m.content.match(so)||[])){const S=w.replace(so,"$2").trim().split("/");let I="";for(const k of S)I+=k,v.add(I),I+="/"}v.has(r)||(g=!1)}return o&&o.from<o.to&&(ct.getTimeStampByDate(m.createdAt)<o.from||ct.getTimeStampByDate(m.createdAt)>o.to)&&(g=!1),i&&(i==="NOT_TAGGED"&&(m.content.match(gr)!==null||m.content.match(so)!==null||m.content.match(jr)!==null)||i==="LINKED"&&m.content.match(Ld)===null||i==="IMAGED"&&m.content.match(Rd)===null||i==="CONNECTED"&&m.content.match(gu)===null)&&(g=!1),a&&!m.content.toLowerCase().includes(a.toLowerCase())&&(g=!1),g}):e.filter(m=>!m.content.contains("comment:"))},Pte=F.forwardRef((e,t)=>{const{currentDate:n,setCurrentDateStamp:r}=e,[o,i]=F.useState(!1),a=ct.getDateStampByDate(ct.getDateString(n)),c=F.useRef(null);F.useEffect(()=>{c.current&&(!o&&C.setIcon(c.current,"more-horizontal"),o&&C.setIcon(c.current,"x"))},[c.current,o]);const d=f=>{r(f)};return F.useImperativeHandle(t,()=>({closeDatePicker:()=>{i(!1)}})),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"date-card-container",children:[y.jsxs("div",{className:"date-container-details",children:[y.jsxs("div",{className:"details-text",children:[C.moment(a,"x").format("dddd"),y.jsx("div",{className:"date-text",children:C.moment(a,"x").format("MMM")+C.moment(a,"x").format("DD")})]}),y.jsx("div",{className:"details-logo-text",children:E("Daily Memos")})]}),y.jsxs("div",{className:"date-container-info",children:[y.jsxs("div",{className:"date-container-info-text",children:["Week ",y.jsx("div",{className:"week-text",children:C.moment(a,"x").format("ww")}),"of ",y.jsx("div",{className:"year-text",children:C.moment(a,"x").format("YYYY")})]}),y.jsx("div",{ref:c,onClick:()=>i(!o)})]})]}),y.jsx(p0,{className:`date-picker ${o?"":"hidden"}`,datestamp:a,handleDateStampChange:d})]})}),Ote=({thino:e})=>{const t=F.useCallback(()=>{_h(e)},[]);return y.jsxs("div",{className:"daily-thino-wrapper",children:[y.jsx("div",{className:"time-wrapper",onClick:t,children:y.jsx("span",{className:"normal-text",children:C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm")})}),y.jsx("div",{className:"daily-thino-container",children:y.jsx(ji,{memo:e})})]})},jte=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n},dailyNotesState:{settings:r,app:o}}=F.useContext(Ot),i=Gh(),[a,c]=F.useState([]),[d,f]=F.useState(ct.getDateStampByDate(ct.getDateString(C.moment().format("YYYY-MM-DD HH:mm:ss")))),m=F.useRef(),g=F.useRef(null),v=le.useRef(null),w=F.useRef(null),[T,S]=F.useState(!1);F.useEffect(()=>{e.duration&&e.duration.from&&e.duration.to&&f(e.duration.from)},[e.duration]),F.useEffect(()=>{w.current&&(C.setIcon&&w&&!T&&C.setIcon(w.current,"share"),C.setIcon&&w&&T&&C.setIcon(w.current,"chrome"))},[w.current,T]),F.useEffect(()=>{const R=ak({memos:n,query:e,HideDoneTasks:!1}).filter(M=>ct.getTimeStampByDate(M.createdAt)>=d&&ct.getTimeStampByDate(M.createdAt)<d+Ai).filter(M=>M.deletedAt==="").sort((M,_)=>ct.getTimeStampByDate(M.createdAt)-ct.getTimeStampByDate(_.createdAt));c(R.slice(0,40)),i.setFinish()},[n,d,v.current,e]);const I=F.useCallback(()=>{dt.setShowSiderbarInMobileView(!0)},[]),k=async()=>{var P;m.current&&((P=m==null?void 0:m.current)==null||P.closeDatePicker()),S(!0),document.body.toggleClass("thino-share-page",!0),setTimeout(async()=>{if(!g.current){S(!1);return}await VS(g.current),y0(g.current,{pixelRatio:window.devicePixelRatio*2}).then(R=>{if(r!=null&&r.AutoSaveWhenOnMobile&&C.Platform.isMobile){const M=R.split("base64,")[1];o0(M,"image/png").arrayBuffer().then(async L=>{let z;const Y="png",V=uc();for(const $ in V)if(V[$]instanceof C.TFile){z=V[$];break}z!==void 0&&await o.vault.createBinary(await vault.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,Y,z),L)})}document.body.toggleClass("thino-share-page",!1),v0({imgUrl:R}),S(!1)}).catch(()=>{document.body.toggleClass("thino-share-page",!1),S(!1)})},0)};return y.jsxs("div",{className:"daily-thinos-list-wrapper",ref:v,children:[y.jsxs("div",{className:"section-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(Fa,{when:t,children:y.jsx("button",{ref:P=>{P&&C.setIcon(P,"menu")},className:"btn action-btn clickable-icon",onClick:I})}),y.jsxs("span",{className:"go-home-btn",onClick:()=>{ot.clearQuery(),ot.setPathname("/")},children:["🏠 ",E("Return To Home Page")]})]}),y.jsxs("div",{className:"header-right-section",children:[y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:P=>{C.setIcon&&P&&C.setIcon(P,"chevron-left")},className:"btn btn-text",onClick:()=>f(P=>P-Ai)}),y.jsx("span",{ref:P=>{C.setIcon&&P&&C.setIcon(P,"chevron-right")},className:"btn btn-text",onClick:()=>f(P=>P+Ai)}),y.jsx("span",{ref:w,className:Kn("btn btn-text share-btn",T?"generating":""),onClick:k})]}),y.jsx(ZS,{}),y.jsx(cg,{})]})]}),y.jsx(xg,{thinosCount:a.length,thinos:a}),y.jsx("div",{className:"daily-thinos-view-wrapper",children:y.jsxs("div",{ref:g,className:"daily-thinos-view-container",children:[y.jsx(Pte,{ref:m,currentDate:new Date(d),setCurrentDateStamp:f}),i.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("p",{className:"tip-text",children:E("Fetching data...")})}):a.length===0?y.jsx("div",{className:"tip-container",children:y.jsx("p",{className:"tip-text",children:E("Noooop!")})}):y.jsx("div",{className:"daily-thinos-list-container",children:a.map(P=>y.jsx(Ote,{thino:P},`${P.id}-${P.updatedAt}`))})]})})]})},Lte={"/recycle":y.jsx(kte,{}),"/setting":y.jsx(Ate,{}),"/archive":y.jsx(Gee,{}),"/review":y.jsx(Fte,{}),"/daily":y.jsx(jte,{}),"*":y.jsx(Qee,{})},sk=e=>t=>{for(const n of Object.keys(e))if(n===t)return e[n];return e["*"]},Rte=sk(xte),_te=sk(Lte);function Bte({app:e}){const{locationState:{pathname:t},dailyNotesState:{settings:n}}=F.useContext(Ot);return F.useEffect(()=>{Te.fetchAllMemos()},[]),!Mm()&&!e.plugins.getPlugin("periodic-notes")&&(n!=null&&n.EnabledLocationList.find(r=>r.value==="DAILY"))&&new C.Notice(E("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),!Mm()&&(n!=null&&n.EnabledLocationList.find(r=>r.value==="DAILY"))&&!m6()&&new C.Notice(E("Your daily note folder is not set correctly, please check your settings")),y.jsx(_a,{store:Re,context:Ot,children:Rte(t)})}function Hte(e){const t=e.view.canvas,n=ft.getState().settings.EnabledLocationList.find(a=>a.value==="CANVAS");if(!t||!e.view.file.path.endsWith(".thino.canvas")||t.thinoBtn||!n)return;const r=t.wrapperEl.createDiv({cls:"thino-canvas-menu-btn"}),o=lg(r);o.render(y.jsx(le.StrictMode,{children:y.jsx(_a,{store:Re,context:Ot,children:y.jsx(Yte,{leaf:e})})})),t.thinoBtn=o,ft.getState().view.appendRoot({root:o,canvas:t})}function Yte({leaf:e}){const{memoState:{memos:t},locationState:{query:n}}=F.useContext(Ot),r=le.useRef(null),o=le.useRef(null),[i,a]=le.useState(!1),[c,d]=le.useState([]),[f,m]=le.useState([]),{tag:g,duration:v,type:w,text:T,filter:S}=n,I=tn.getQueryById(S),k=!!(g||v&&v.from<v.to||w||T||I);return F.useEffect(()=>{o.current&&C.setIcon(o.current,"eraser")},[o.current]),F.useEffect(()=>{r.current&&C.setIcon(r.current,"Memos")},[r.current]),F.useEffect(()=>{const P=e.view.file.path,R=t.filter(M=>M.sourceType==="CANVAS"&&M.path===P);d(R)},[t,i]),F.useEffect(()=>{if(c.length===0)return;if(!n||!k){m(c);return}const P=ak({memos:c,query:n,HideDoneTasks:!1});m(P)},[n,c]),F.useEffect(()=>{if(!n||!k&&f.length===0)return;const P=new Set(f.map(M=>M.id)),R=Array.from(e.view.canvas.nodes.values());R.forEach(M=>{M.nodeEl.toggleVisibility(!0),e.view.canvas.getEdgesForNode(M).forEach(_=>{var L,z,Y;(L=_.lineGroupEl)==null||L.toggleClass("hidden",!1),(z=_.lineStartGroupEl)==null||z.toggleClass("hidden",!1),(Y=_.lineEndGroupEl)==null||Y.toggleClass("hidden",!1)})}),R.filter(M=>!P.has(M.id)).forEach(M=>{M.nodeEl.toggleVisibility(!1),e.view.canvas.getEdgesForNode(M).forEach(_=>{var L,z,Y;(L=_.lineGroupEl)==null||L.toggleClass("hidden",!0),(z=_.lineStartGroupEl)==null||z.toggleClass("hidden",!0),(Y=_.lineEndGroupEl)==null||Y.toggleClass("hidden",!0)})})},[f]),y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:r,className:"btn-container",onClick:()=>a(!i)}),i&&y.jsxs("div",{className:"thino-canvas-menu",children:[y.jsxs("div",{className:"thino-canvas-filter-group",children:[y.jsx(ZS,{}),y.jsx(cg,{}),k&&y.jsx("div",{ref:o,className:"clear-query",onClick:()=>{ot.clearQuery()}})]}),y.jsx(Lm,{initThinos:f})]})]})}function bv(e,t){const n=Object.keys(t).map(r=>Ute(e,r,t[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function Ute(e,t,n){const r=e[t],o=e.hasOwnProperty(t);let i=n(r);return r&&Object.setPrototypeOf(i,r),Object.setPrototypeOf(a,i),e[t]=a,c;function a(...d){return i===r&&e[t]===a&&c(),i.apply(this,d)}function c(){e[t]===a&&(o?e[t]=r:delete e[t]),i!==r&&(i=r,Object.setPrototypeOf(a,r||Function))}}const Bo="thino_view";class zte extends C.EditorSuggest{constructor(n,r){super(n);De(this,"root");De(this,"editor");De(this,"cursor");De(this,"plugin");this.plugin=r,this.suggestEl.toggleClass("thino-date-selector",!0)}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const o=(i=r.parentElement)==null?void 0:i.parentElement;return(o==null?void 0:o.classList.contains("common-editor-inputer"))||!1}onTrigger(n,r){const i=r.getLine(n.line)[n.ch-1];return this.checkInMemosView(r)&&i==="@"?(this.cursor=n,this.editor=r,C.Platform.isMobile?(new bC(this.app,"text",a=>{this.selectSuggestion(parseInt(a),new MouseEvent("click"))}).open(),null):{start:{line:n.line,ch:n.ch-1},end:n,query:""}):null}getSuggestions(){return[parseInt(C.moment().startOf("day").format("x"))]}renderSuggestion(n,r){r.empty(),this.root=Oa.createRoot(r),this.root.render(y.jsx(le.StrictMode,{children:y.jsx(p0,{className:"editor-date-picker",datestamp:n,handleDateStampChange:this.selectSuggestion.bind(this)})}))}selectSuggestion(n,r){var c,d,f;if(r instanceof KeyboardEvent||r instanceof PointerEvent&&!r.target.closest(".day-item"))return;const o=(c=this.app.workspace.getLeavesOfType("thino_view")[0])==null?void 0:c.view;(d=o==null?void 0:o.contentEl.find(".action-btn.list-or-task.list"))==null||d.click();let i="",a="";switch(this.plugin.settings.InsertDateFormat){case"Dataview":i="[due:: ",a="]";break;case"Tasks":i="📅 ";break}this.editor.replaceRange(i+C.moment(n).format("YYYY-MM-DD")+a,{line:this.cursor.line,ch:this.cursor.ch-1},this.cursor),(f=this.root)==null||f.unmount(),this.close()}}class Vte extends C.EditorSuggest{constructor(n,r){super(n);De(this,"root");De(this,"editor");De(this,"cursor");De(this,"plugin");De(this,"memos",[]);this.plugin=r,this.memos=Te.getState().memos.filter(o=>!o.deletedAt&&o.rowStatus!=="ARCHIVED")}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const o=(i=r.parentElement)==null?void 0:i.parentElement;return(o==null?void 0:o.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const o=C.prepareFuzzySearch(n);return r.map(i=>{const a=o(i.content);return a?{item:i,match:a}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r))return null;const i=r.getLine(n.line).slice(0,n.ch);if(i.lastIndexOf("~")===-1)return null;const a=i.slice(i.lastIndexOf("~")+1,n.ch);if(i[i.lastIndexOf("~")-1]!==" "&&i.lastIndexOf("~")!==0)return null;const c=a.trim();return this.memos=Te.getState().memos.filter(d=>!d.deletedAt&&d.rowStatus!=="ARCHIVED"),{start:{line:n.line,ch:n.ch-c.length},end:n,query:c}}getSuggestions(n){return n.query?this.fuzzySearchItemsOptimized(n.query,this.memos).sort((o,i)=>i.match.score-o.match.score).map(o=>o.item).map(o=>({time:o.createdAt,id:o.id,content:o.content})):this.memos.map(o=>({time:o.createdAt,id:o.id,content:o.content}))}renderSuggestion(n,r){r.toggleClass("thino-suggestion",!0),r.createEl("div",{cls:"thino-suggestion-time",text:n.time}),r.createEl("div",{cls:"thino-suggestion-container"}).createEl("div",{cls:"thino-suggestion-content",text:n.content})}selectSuggestion(n){const r=n.id;this.context.editor.replaceRange("MARK: [@THINO]("+r+")",{line:this.context.end.line,ch:this.context.start.ch-1},this.context.end)}}class Wte{constructor(){De(this,"path","/fake-file-that-generated-for-thino.png");De(this,"basename","fake-file-that-generated-for-thino");De(this,"extension","png");De(this,"deleted",!1);De(this,"name","fake-file-that-generated-for-thino.png");De(this,"parent",null);De(this,"stat");De(this,"vault",null)}static[Symbol.hasInstance](t){return t instanceof C.TFile}setPath(t){}getNewPathAfterRename(t){}getShortName(){}cache(t){}updateCacheLimit(){}}class cu extends C.ItemView{constructor(n,r){super(n);De(this,"scope",new C.Scope(this.app.scope));De(this,"root");De(this,"mobileHeaderRoot");De(this,"plugin");De(this,"memosComponent");De(this,"rootList",[]);De(this,"editor",null);De(this,"navigation",!1);De(this,"file",this.app.vault.getMarkdownFiles()[0]||new Wte);De(this,"handleUpdateInstance",n=>{this.editor=n.editor});De(this,"updateCacheDebounced",C.debounce(async n=>{this.app.vault.getFileByPath(n.path)&&await Te.updateMemosInFile(n)},1e3));this.plugin=r,this.registerScope()}getDisplayText(){return"Thino"}getIcon(){return"Memos"}getViewType(){return Bo}getMode(){return"source"}canToggleBacklinks(){return!1}registerScope(){const{scope:n}=this;n.register(["Mod"],"Enter",()=>{}),n.register([],"i",r=>{const o=r.target;o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.hasClass("cm-line")||o.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-textarea"))}),n.register(["Mod"],"f",r=>{const o=r.target;o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.hasClass("cm-line")||o.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"o",r=>{const o=r.target;o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.hasClass("cm-line")||o.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"Escape",()=>{setTimeout(()=>{this.plugin.app.workspace.trigger("blur-on-memos")},20)})}async onFileDeleted(n){var m,g,v,w,T;const r=uh(n,"day"),o=n.path.contains(".thino")&&n.path.contains(".canvas"),i=n.path.contains(".thino")&&n.path.contains(".md"),a=((m=this.plugin.settings)==null?void 0:m.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",c=(v=((g=n.parent)==null?void 0:g.path)||n.path)==null?void 0:v.contains(a==null?void 0:a.trim());(r||o&&this.plugin.settings.EnabledLocationList.find(S=>S.value==="CANVAS"))&&(await Te.removeMemosInFile(n),Te.updateTagsState()),c&&this.plugin.settings.EnabledLocationList.find(S=>S.value==="MULTI")&&(await Te.removeMemosInFile(n,a),Te.updateTagsState()),i&&this.plugin.settings.EnabledLocationList.find(S=>S.value==="FILE")&&(await Te.removeMemosInFile(n),Te.updateTagsState());const d=(w=C.getAllTags(this.app.metadataCache.getFileCache(n)))==null?void 0:w.contains(this.plugin.settings.TagForMultiTypeFiles),f=(T=C.getAllTags(this.app.metadataCache.getFileCache(n)))==null?void 0:T.contains(this.plugin.settings.TagForFileTypeFiles);!c&&d&&(await Te.updateMemosInFile(n,a),Te.updateTagsState()),!i&&f&&(await Te.updateMemosInFile(n),Te.updateTagsState())}async onFileModified(n){var m,g,v;if(dt.getState().changedByMemos){dt.setChangedByMemos(!1);return}const r=uh(n,"day"),o=n.path.contains(".thino")&&n.path.contains(".canvas"),i=n.path.contains(".thino")&&n.path.contains(".md"),a=((m=this.plugin.settings)==null?void 0:m.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",c=n.parent.path.contains(a==null?void 0:a.trim());if(r||o&&this.plugin.settings.EnabledLocationList.find(w=>w.value==="CANVAS")){await Te.updateMemosInFile(n),Te.updateTagsState();return}c&&this.plugin.settings.EnabledLocationList.find(w=>w.value==="MULTI")&&(await Te.updateMemosInFile(n,a),Te.updateTagsState()),i&&this.plugin.settings.EnabledLocationList.find(w=>w.value==="FILE")&&(await Te.updateMemosInFile(n),Te.updateTagsState());const d=(g=C.getAllTags(this.app.metadataCache.getFileCache(n)))==null?void 0:g.contains(this.plugin.settings.TagForMultiTypeFiles),f=(v=C.getAllTags(this.app.metadataCache.getFileCache(n)))==null?void 0:v.contains(this.plugin.settings.TagForFileTypeFiles);!c&&d&&(await Te.updateMemosInFile(n,a),Te.updateTagsState()),!i&&f&&(await Te.updateMemosInFile(n),Te.updateTagsState())}async onFileCreated(n){var r,o,i;if(this.app.workspace.layoutReady&&this.root){const a=uh(n,"day"),c=n.path.contains(".thino")&&n.path.contains(".canvas"),d=n.path.contains(".thino")&&n.path.contains(".md"),f=((r=this.plugin.settings)==null?void 0:r.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",m=n.parent.path.contains(f==null?void 0:f.trim());if(a){await ft.updateDailyNotes(n,!1),await Te.updateMemosInFile(n),Te.updateTagsState();return}if(c&&this.plugin.settings.EnabledLocationList.find(w=>w.value==="CANVAS")){await Te.updateMemosInFile(n),Te.updateTagsState();return}m&&this.plugin.settings.EnabledLocationList.find(w=>w.value==="MULTI")&&(await Te.updateMemosInFile(n,f),Te.updateTagsState()),d&&this.plugin.settings.EnabledLocationList.find(w=>w.value==="FILE")&&(await Te.updateMemosInFile(n),Te.updateTagsState());const g=(o=C.getAllTags(this.app.metadataCache.getFileCache(n)))==null?void 0:o.contains(this.plugin.settings.TagForMultiTypeFiles),v=(i=C.getAllTags(this.app.metadataCache.getFileCache(n)))==null?void 0:i.contains(this.plugin.settings.TagForFileTypeFiles);!m&&g&&(await Te.updateMemosInFile(n,f),Te.updateTagsState()),!d&&v&&(await Te.updateMemosInFile(n),Te.updateTagsState())}}async onFileRenamed(n,r){n instanceof C.TFile&&(await Te.removeThinosByPath(r),await this.onFileCreated(n))}async onResize(){var r;super.onResize();const n=this.leaf;if(n&&n.height!==0){if(n.view.containerEl.toggleClass("tiny-view",n.width<600),n.view.containerEl.toggleClass("waterfall-small-group",n.width<1300),n.width>950){n.view.containerEl.classList.toggle("mobile-view",!1),dt.setIsMobileView(n.width<=950);return}if((r=this.plugin.settings)!=null&&r.ShowLeftSideBar&&!C.Platform.isMobile)return;n.view.containerEl.classList.toggle("mobile-view",!0),dt.setIsMobileView(n.width<=950)}}appendToHeader(){const n=this.leaf.view.titleContainerEl;n&&(this.mobileHeaderRoot=Oa.createRoot(n),this.mobileHeaderRoot.render(y.jsx(le.StrictMode,{children:y.jsx(_a,{store:Re,context:Ot,children:y.jsx(wv,{})})})))}appendRoot({root:n,canvas:r}){this.rootList.push({root:n,canvas:r})}registerPatchWorkspaceLeaf(){const n=this;this.register(bv(C.Workspace.prototype,{getActiveViewOfType:r=>function(o){const i=r.call(this,o);if(!i&&(o==null?void 0:o.VIEW_TYPE)==="markdown"){const a=this.activeLeaf;if(a.view instanceof cu)return a.view}return i},setActiveLeaf:r=>function(o,i){if(z5(o)&&(r.call(this,o,i),o.activeTime=17e11),r.call(this,o,i),o.view instanceof cu){const a=dt.getState().instanceList.get(o.id);if(!a)return;n.app.workspace.activeEditor=a.owner,o.view.editor=a.editor}},getActiveFile:r=>function(){var i;const o=r.call(this);return((i=this.activeLeaf)==null?void 0:i.view)instanceof cu&&n.file||o}}))}async onOpen(){this.navigation=this.plugin.settings.navigation,await this.onResize(),this.onFileCreated=this.onFileCreated.bind(this),this.onFileDeleted=this.onFileDeleted.bind(this),this.onFileModified=this.onFileModified.bind(this),C.Platform.isTablet&&document.body.toggleClass("is-tablet",!0),C.Platform.isMobile&&!C.Platform.isTablet&&this.appendToHeader(),this.registerEvent(this.app.vault.on("create",this.onFileCreated)),this.registerEvent(this.app.vault.on("delete",this.onFileDeleted)),this.registerEvent(this.app.vault.on("modify",C.debounce(this.onFileModified,2e3,!0))),this.registerEvent(this.app.vault.on("rename",this.onFileRenamed.bind(this))),this.registerEvent(this.app.workspace.on("active-leaf-change",n=>{n.view.getViewType()==="canvas"&&Hte(n)})),this.registerEvent(this.app.metadataCache.on("changed",(n,r,o)=>{uh(n,"day")&&this.updateCacheDebounced(n)})),this.registerPatchWorkspaceLeaf();try{this.root=Oa.createRoot(this.contentEl),ft.setView(this),this.root.render(y.jsx(le.StrictMode,{children:y.jsx(Bte,{app:this.plugin.app})}))}catch(n){console.error(n)}}onunload(){var n;super.onunload(),this.root.unmount(),(n=this.mobileHeaderRoot)==null||n.unmount(),this.rootList.forEach(r=>{var o,i,a;(o=r==null?void 0:r.root)==null||o.unmount(),(i=r==null?void 0:r.canvas)!=null&&i.thinoBtn&&(r.canvas.thinoBtn=void 0),(a=r==null?void 0:r.canvas)!=null&&a.wrapperEl.find(".thino-canvas-menu-btn")&&r.canvas.wrapperEl.find(".thino-canvas-menu-btn").detach()})}}const ZI={Memos:'<svg t="1641348507339" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2120" width="100" height="100"><path d="M126.692653 478.099639l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356 0 18.992434 15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297C161.116003 493.523561 145.706067 478.099639 126.692653 478.099639zM244.662333 243.526943c13.742566-13.110184 14.310011-34.948836 1.185841-48.706388l-62.644762-65.668806c-13.128167-13.762547-34.974811-14.229091-48.717377-1.118906s-14.261059 34.911872-1.132893 48.674419l62.644762 65.668806C209.123074 256.13262 230.919767 256.637127 244.662333 243.526943zM543.066631 957.422083l-60.603757 0c-18.654764 0-33.794964 15.147193-33.794964 33.862898 0 18.661757 15.1402 32.71502 33.794964 32.71502l60.603757 0c18.654764 0 33.794964-14.053262 33.794964-32.71502C576.861595 972.568277 561.721395 957.422083 543.066631 957.422083zM988.076617 479.050709l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356s15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297S1007.09003 479.050709 988.076617 479.050709zM512.268737 192.765564c-172.737143 0-312.75527 150.079292-312.75527 322.746503 0 125.630192 74.080583 233.957298 180.936128 283.703669l0 84.51838c0 16.762614 15.410935 31.35435 34.42335 31.35435 0.598415 0 1.193833-0.014985 1.785255-0.042958 0.618395 0.026974 1.239788 0.042958 1.867175 0.042958l187.479731 0c5.905227 0 11.455802-1.220807 16.288078-3.477601 12.231044-4.657447 20.795671-15.383962 20.795671-27.87575l0-84.052835c107.391021-49.534578 181.935151-158.147405 181.935151-284.168214C825.024007 342.843857 684.997888 192.765564 512.268737 192.765564zM574.863548 742.713968l0 80.17063c0 3.159911-0.221783 5.976158-0.642372 8.496694l0 19.092336-124.910895 0 0-17.71768c-0.423586-2.856208-0.642372-6.123015-0.642372-9.870351l0-80.443363c-99.204024-27.75387-171.970892-118.821847-171.970892-226.930167 0-130.094827 105.4689-245.507007 235.571719-245.507007s235.563727 115.41218 235.563727 245.507007C747.832465 623.984031 674.578074 715.293772 574.863548 742.713968zM895.407204 129.328576c-13.429872-13.429872-35.233558-13.439862-48.677416 0.004995l-64.174267 64.175266c-13.448853 13.448853-13.443858 35.257534-0.013986 48.687406 13.429872 13.429872 35.281511 13.477825 48.730364 0.028972l64.175266-64.175266C908.889025 164.605092 908.837076 142.758448 895.407204 129.328576zM511.796199 159.617967c18.992434 0 34.417356-15.410935 34.417356-34.42335l0-90.757281c0-19.019408-15.423923-34.437336-34.417356-34.437336-18.992434 0-34.477297 15.416929-34.477297 34.437336l0 90.757281C477.317903 144.208031 492.802766 159.617967 511.796199 159.617967z" fill="currentColor" p-id="2121"></path></svg>'};function Zte(){Object.keys(ZI).forEach(e=>{C.addIcon(e,ZI[e])})}const QS=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;const $I=typeof TextEncoder=="function"?new TextEncoder:void 0,$te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",wm=Array.prototype.slice.call($te);(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(wm);const il=String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);const qte=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Gte=e=>{let t,n,r,o,i="";const a=e.length%3;for(let c=0;c<e.length;){if((n=e.charCodeAt(c++))>255||(r=e.charCodeAt(c++))>255||(o=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,i+=wm[t>>18&63]+wm[t>>12&63]+wm[t>>6&63]+wm[t&63]}return a?i.slice(0,a-3)+"===".substring(a):i},lk=typeof btoa=="function"?e=>btoa(e):QS?e=>Buffer.from(e,"binary").toString("base64"):Gte,Jte=QS?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,o=e.length;r<o;r+=4096)n.push(il.apply(null,e.subarray(r,r+4096)));return lk(n.join(""))},Kte=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?il(192|t>>>6)+il(128|t&63):il(224|t>>>12&15)+il(128|t>>>6&63)+il(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return il(240|t>>>18&7)+il(128|t>>>12&63)+il(128|t>>>6&63)+il(128|t&63)}},Qte=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Xte=e=>e.replace(Qte,Kte),qI=QS?e=>Buffer.from(e,"utf8").toString("base64"):$I?e=>Jte($I.encode(e)):e=>lk(Xte(e)),ene=(e,t=!1)=>t?qte(qI(e)):qI(e),xb=C.Platform.isDesktop&&require("os"),ck=async()=>{var r,o;let e="";if(C.Platform.isDesktop)e=await Jn();else{const i=await((r=window.Capacitor)==null?void 0:r.Plugins.Device.getId());e=i.identifier||i.uuid}let t;if(xb)t=JSON.stringify({hostname:xb.hostname(),platform:xb.platform(),machineid:e});else{const i=await((o=window.Capacitor)==null?void 0:o.Plugins.Device.getInfo()),a=i==null?void 0:i.model,c=i==null?void 0:i.platform;t=JSON.stringify({hostname:a||("mobile"+C.Platform.isMobile?Math.random().toString(36).substring(7):""),platform:c||"mobile",machineid:e})}return ene(t)},tne=async()=>{var t;let e="";if(C.Platform.isDesktop)e=await Jn();else{const n=await((t=window.Capacitor)==null?void 0:t.Plugins.Device.getId());e=n.identifier||n.uuid}return e},nne={General:"chef-hat",Thino:"Memos",Interface:"brush",Share:"share-2",Advanced:"cog"},rne=[{value:"DAILY",target:"ProcessEntriesBelow",insert:"InsertAfter"},{value:"CANVAS",target:"MemoDefaultCanvasPath"},{value:"MULTI",target:"MemoDefaultMultiFilePath"},{value:"FILE",target:"MemoDefaultSingleFilePath"}],ds={FirstLoaded:!0,StartDate:"Sunday",InsertAfter:"",UserName:"THINO 😉",ProcessEntriesBelow:"",Language:"en",SaveMemoButtonLabel:"NOTE",SaveMemoButtonIcon:"",ShareFooterStart:"{ThinoNum} Thino {UsedDay} Day",ShareFooterEnd:"✍️ by {UserName}",DefaultPrefix:"List",DefaultTimePrefix:"HH:mm",UseDailyOrPeriodic:"Daily",InsertDateFormat:"Tasks",DefaultEditorLocation:"Top",UseButtonToShowEditor:!1,FocusOnEditor:!0,OpenDailyMemosWithMemos:!0,HideDoneTasks:!1,ShowTaskLabel:!0,AppendDateWhenTaskDone:!1,MobileAndDesktop:"All",OpenMemosAutomatically:!1,ShowTime:!0,ShowDate:!0,AddBlankLineWhenDate:!1,AutoSaveWhenOnMobile:!1,DeleteFileName:"delete",QueryFileName:"query",UseVaultTags:!1,SetCustomBackgroundImage:!1,SetCustomMemoFooter:!1,DefaultLightBackgroundImage:"",DefaultDarkBackgroundImage:"",DefaultLightBackgroundImageForClean:"",DefaultDarkBackgroundImageForClean:"",DefaultMemoComposition:"{TIME} {CONTENT}",CommentOnMemos:!1,CommentsInOriginalNotes:!1,FetchMemosMark:"#memo",FetchMemosFromNote:!1,ShowCommentOnMemos:!1,ShowLeftSideBar:!1,MemoListView:"list",MemoSaveLocation:"DAILY",MemoOtherSaveLocation:{MemoDefaultCanvasPath:"basic.thino.canvas",MemoDefaultMultiFilePath:"Thino",MemoDefaultSingleFilePath:"basic.thino.md"},MemoDailyTarget:5,HeatmapColorScheme:"default",EnabledHttpApi:!1,HttpApiIpType:"localhost",HttpApiPort:"43999",AutoDownloadImage:!1,EditorType:"obsidian",EnabledLocationList:[{value:"DAILY",target:"ProcessEntriesBelow",insert:"InsertAfter"}],DeleteThinoDirectly:!1,CaptureKey:{EnableCaptureKey:!1,OpenThinoGlobally:"CommandOrControl+Shift+T",ShowNearMouse:!1},startSync:!1,tokenForVerify:{},saveThinoType:"FILE",showDayMark:!1,dayMarkRange:"day",navigation:!1,password:"",needVerify:!1,addTagAutomatically:!1,addTagPosition:"End",addTagWithNewline:!1,chatViewStyle:"default",MomentsBackgroundImage:"https://images.pexels.com/photos/531767/pexels-photo-531767.jpeg",MomentsIcon:"https://images.pexels.com/photos/256514/pexels-photo-256514.jpeg",MomentsQuote:"Share your thino with the world",DefaultThemeForThino:"modern",LastUpdatedVersion:"0.0.0",ShareToThinoWithText:!1,ShareToThinoWithTextAppend:"",ShareToThinoWithTextPrepend:"",ShareToThinoWithTextNewline:"none",hidePinnedGroup:!1,DifferentInsertTarget:!1,InsertAfterForTask:"",ProcessContentTarget:"custom",InsertType:"custom",ShareAppendType:"preset",SharePrependType:"preset",SetFileNameAfterCreate:!1,TagForFileTypeFiles:"thino/file",TagForMultiTypeFiles:"thino/multi",MinHeightForShare:"200px"};function one({plugin:e}){const{dailyNotesState:{verifyState:t}}=F.useContext(Ot),[n,r]=F.useState(!1),[o,i]=F.useState(!1),[a,c]=F.useState(""),[d,f]=F.useState("");F.useEffect(()=>{tne().then(v=>{f(v)})},[]);const m=async()=>{var S;const v=a,w=!C.Platform.isDesktop&&await((S=window.Capacitor)==null?void 0:S.Plugins.Device.getId()),T=C.Platform.isDesktop?await Jn():w.identifier||w.uuid;v&&(e.settingTab.updateSettings("tokenForVerify",{...e.settings.tokenForVerify,[T]:v}),e.verify().then(I=>{I&&(r(!0),dt.setRefresh(!0),setTimeout(()=>{e.settingTab.display()},200),e.registerToolbarCheck()),new C.Notice(E(I?"Verify successfully":"Failed to verify"))}).catch(I=>{new C.Notice(E("Failed to verify"))}))},g=async v=>{c(v)};return y.jsx("div",{className:"thino-verify-component",children:t?y.jsxs("div",{className:"thino-verify-content verified",children:[y.jsx("div",{className:"thino-verified-text",children:E("You have verified your account. Congrats!")}),y.jsx("div",{className:"thino-description-link",children:y.jsxs("p",{children:[E("If you have any questions, please contact us."),y.jsx("span",{className:"thino-url",onClick:()=>{const v=localStorage.getItem("language");v&&(v==="zh"||v==="zh-TW")?window.open("https://pkmer.cn"):window.open("https://thino.pkmer.net/en/")},children:"@ PKMer"})]})})]}):y.jsxs("div",{className:"thino-verify-content",children:[y.jsxs("div",{className:"thino-description-link",children:[E("You can buy a license from")+"->",y.jsxs("span",{className:"thino-url",onClick:()=>{const v=localStorage.getItem("language");v&&(v==="zh"||v==="zh-TW")?window.open("https://pkmer.cn/products/thino"):window.open("https://thino.pkmer.net/en/#price")},children:[" ","PKMer"]})]}),y.jsx("textarea",{className:"thino-verify-textarea",value:a,onChange:v=>g(v.target.value),placeholder:E("Input activation code here")}),y.jsxs("div",{className:"thino-button-container",children:[y.jsxs("div",{className:"thino-button-group",children:[y.jsx("button",{onClick:async()=>{try{const v=await ck();await navigator.clipboard.writeText(v),i(!0)}catch(v){console.error(v),new C.Notice("Failed to copy id");return}new C.Notice(E("Copied to clipboard Successfully"))},children:E("Copy Thino id")}),y.jsx("button",{onClick:()=>{if(!o){new C.Notice(E("Please copy Thino id first"));return}const v=localStorage.getItem("language");v&&(v==="zh"||v==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&getCode"):window.open("https://pkmer.net/en/userprofile/#tab-21&getCode"),r(!0)},children:E("Get activation code")}),a&&y.jsx(y.Fragment,{children:y.jsx("button",{onClick:async()=>{await m()},children:E("Verify")})})]}),n?y.jsx("p",{children:E("After you verify your account, please refresh this page.")}):""]}),y.jsxs("div",{className:"thino-description-link",children:[E("If you have any questions, please contact us."),y.jsx("span",{className:"thino-url",onClick:()=>{const v=localStorage.getItem("language");v&&(v==="zh"||v==="zh-TW")?window.open("https://pkmer.cn"):window.open("https://thino.pkmer.net/en/")},children:"@ PKMer"})]})]})})}class ine extends C.PluginSettingTab{constructor(n,r){super(n,r);De(this,"plugin");De(this,"applyDebounceTimer",0);De(this,"tabContent",new Map);De(this,"selectedTab","General");De(this,"search");De(this,"searchSettingInfo",new Map);De(this,"searchZeroState");De(this,"navigateEl");De(this,"passwordMatched",!1);De(this,"root");De(this,"debounceApplySettingsUpdate",C.debounce(async()=>{await this.plugin.saveSettings()},100,!0));De(this,"debounceDisplay",C.debounce(async()=>{await this.display()},300,!0));this.plugin=r}updateSettings(n,r){this.plugin.settings={...this.plugin.settings,[n]:r},this.applySettingsUpdate()}applySettingsUpdate(){this.debounceApplySettingsUpdate(),Te.updateTagsState()}async hide(){var n;(n=this.root)==null||n.unmount(),this.passwordMatched=!1}async display(){var n;await this.plugin.loadSettings(),this.root&&((n=this.root)==null||n.unmount()),this.containerEl.empty(),this.containerEl.toggleClass("memos-settings",!0),C.Platform.isMobile&&this.containerEl.toggleClass("memos-mobile",!0),this.generateSettingsTitle(),this.addTabHeader()}generateSettingsTitle(){const n=this.containerEl.createDiv("memos-setting-title");n.createEl("h2",{text:"Thino"}),this.generateSearchBar(n)}addTabHeader(){const n=this.containerEl.createEl("nav",{cls:"memos-setting-header"});this.navigateEl=n.createDiv("memos-setting-tab-group");const r=this.containerEl.createDiv("memos-setting-content");this.updateOldData(),this.createTabAndContent("General",this.navigateEl,r,(o,i)=>this.generateGeneralSettings(i,o)),this.createTabAndContent("Thino",this.navigateEl,r,(o,i)=>this.generateMemosSettings(i,o)),this.createTabAndContent("Interface",this.navigateEl,r,(o,i)=>this.generateThemeSettings(i,o)),this.createTabAndContent("Share",this.navigateEl,r,(o,i)=>this.generateShareSettings(i,o)),this.createTabAndContent("Advanced",this.navigateEl,r,(o,i)=>this.generateAdvancedSettings(i,o)),this.createSearchZeroState(r)}updateOldData(){this.plugin.settings.UserName.startsWith("MEMO ")&&(this.plugin.settings.UserName="THINO 😉"),this.plugin.settings.ShareFooterStart.contains("{Memo")&&(this.plugin.settings.ShareFooterStart=this.plugin.settings.ShareFooterStart.replace("{MemosNum}","{ThinoNum}").replace("memos","thino")),this.applySettingsUpdate()}generateSearchBar(n){const r=new C.Setting(n);r.settingEl.style.border="none",r.addSearch(o=>{this.search=o}),this.search.setPlaceholder(E("Search all settings")),this.search.inputEl.oninput=()=>{for(const o of this.tabContent){const i=o[1];i.navButton.removeClass("memos-navigation-item-selected"),i.content.show(),i.heading.show();const a=this.search.getValue();this.selectedTab==""&&a.trim()!=""&&this.searchSettings(a.toLowerCase()),this.selectedTab=""}this.navigateEl.addClass("memos-setting-searching")},this.search.inputEl.onblur=()=>{this.navigateEl.removeClass("memos-setting-searching")},this.search.onChange(o=>{var i;if(o===""){this.triggerTabChange((i=this.tabContent.get("General"))==null?void 0:i.navButton,"General");return}this.searchSettings(o.toLowerCase())})}triggerTabChange(n,r){if(this.selectedTab==r)return;n.toggleClass("memos-navigation-item-selected",!0);const o=this.tabContent.get(r);if((o==null?void 0:o.content).show(),this.selectedTab!=""){const i=this.tabContent.get(this.selectedTab);i==null||i.navButton.removeClass("memos-navigation-item-selected"),(i==null?void 0:i.content).hide()}else{this.searchZeroState.hide();for(const i of this.searchSettingInfo)for(const a of i[1])a.containerEl.show();for(const i of this.tabContent){const a=i[1];a.heading.hide(),r!==i[0]&&a.content.hide()}}this.selectedTab=r}createTabAndContent(n,r,o,i){const a=this.selectedTab===n,c=r.createDiv("memos-navigation-item");c.toggleClass("memos-desktop",!0),C.setIcon(c.createEl("div",{cls:"memos-navigation-item-icon"}),nne[n]),c.createSpan({text:E(n)}),c.onclick=()=>{this.triggerTabChange(c,n)};const d=o.createDiv("memos-tab-settings"),f=d.createEl("h2",{cls:"memos-setting-heading",text:n+" Settings"});f.hide(),d.id=n.toLowerCase().replace(" ","-"),a?c.addClass("memos-navigation-item-selected"):d.hide(),i&&i(d,n),this.tabContent.set(n,{content:d,heading:f,navButton:c})}searchSettings(n){var i;const r=new Set,o=(a,c)=>{a.show(),r.has(c)||r.add(c)};for(const a of this.searchSettingInfo){const c=a[0],d=a[1];for(const f of d)if(n.trim()===""||(i=f.alias)!=null&&i.includes(n)||f.description.includes(n)||f.name.includes(n))o(f.containerEl,c);else if(f.options&&f.options.length>0)for(const m of f.options){if(m.description.toLowerCase().includes(n)||m.name.toLowerCase().includes(n)){o(f.containerEl,c);break}else if(m.options){for(const g of m.options)if(g.description.toLowerCase().includes(n)||g.value.toLowerCase().includes(n)){o(f.containerEl,c);break}}f.containerEl.hide()}else f.containerEl.hide()}for(const a of this.tabContent)r.has(a[0])?a[1].heading.show():a[1].heading.hide();r.size===0?this.searchZeroState.show():this.searchZeroState.hide()}addSettingToMasterSettingsList(n,r,o="",i="",a=[],c=""){var f;const d={containerEl:r,name:o.toLowerCase(),description:i.toLowerCase(),options:a,alias:c};this.searchSettingInfo.has(n)?(f=this.searchSettingInfo.get(n))==null||f.push(d):this.searchSettingInfo.set(n,[d])}createSearchZeroState(n){this.searchZeroState=n.createDiv(),this.searchZeroState.hide(),this.searchZeroState.createEl(C.Platform.isMobile?"h3":"h2",{text:"No settings match search"}).style.textAlign="center"}generateGeneralSettings(n,r){this.customHeading(n,r)}async generateThemeSettings(n,r){var d;const o=ft.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),a=C.Platform.isDesktop?await Jn():i.identifier||i.uuid,c=o&&(o==null?void 0:o.appId)===a;await this.customNameAndTheme(n,r,c)}async generateMemosSettings(n,r){var d;const o=ft.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),a=C.Platform.isDesktop?await Jn():i.identifier||i.uuid,c=o&&(o==null?void 0:o.appId)===a;this.setPasswordSettings(n,r),this.addMemoSettings(n,r),this.addTaskRelatedSettings(n,r),this.customFileNameSettings(n,r,c),this.addThinoProSettings(n,r,c)}async generateShareSettings(n,r){var d;const o=ft.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),a=C.Platform.isDesktop?await Jn():i.identifier||i.uuid,c=o&&(o==null?void 0:o.appId)===a;new lt(r,this).setHeading().setTab(n).setName(E("Copy filtered results")),this.copyMemosSettings(n,r),new lt(r,this).setHeading().setTab(n).setName(E("Share image")),this.shareMemosSettings(n,r),C.Platform.isMobile&&this.shareToThinosSettings(n,r,c)}async generateAdvancedSettings(n,r){var d;this.saveDataSettings(n,r),this.fetchDataSettings(n,r),this.navigationSettings(n,r),this.clearConfigSettings(n,r);const o=ft.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),a=C.Platform.isDesktop?await Jn():i.identifier||i.uuid,c=o&&(o==null?void 0:o.appId)===a;this.setGlobalSettings(n,r,c)}async customNameAndTheme(n,r,o){new lt(r,this).setName(E("Theme for Thino")).setDesc(E("Set the theme for Thino")).setTab(n).addDropdown(async a=>{a.addOption("modern","Modern"),a.addOption("classic","Classic"),a.setValue(this.plugin.settings.DefaultThemeForThino).onChange(async c=>{this.plugin.settings.DefaultThemeForThino=c,this.applySettingsUpdate()})}),new lt(r,this).setTab(n).setHeading().setName(E("Interface Details"));let i;new lt(r,this).setName(E("Heatmap Color Scheme")).setDesc(E("Set different color scheme for heatmap.")).setTab(n).addDropdown(async a=>{i=a,i.addOption("default",E("Default")),i.addOption("gray",E("Gray")),i.addOption("grass",E("Grass")),i.addOption("flame",E("Flame")),i.addOption("olive",E("Olive")),i.addOption("ice",E("Ice")),i.addOption("magenta",E("Magenta")),i.setValue(this.plugin.settings.HeatmapColorScheme).onChange(async c=>{this.plugin.settings.HeatmapColorScheme=c,this.applySettingsUpdate()})}),new lt(r,this).setName(E("Save Memo button label")).setDesc(E("The text shown on the save Memo button in the UI. 'NOTEIT' by default.")).setTab(n).addText(a=>a.setPlaceholder(ds.SaveMemoButtonLabel).setValue(this.plugin.settings.SaveMemoButtonLabel).onChange(async c=>{this.plugin.settings.SaveMemoButtonLabel=c,this.applySettingsUpdate()})),C.Platform.isDesktop&&new lt(r,this).setName(E("Always Show Leaf Sidebar on PC")).setDesc(E("Show left sidebar on PC even when the leaf width is less than 875px. False by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowLeftSideBar).onChange(async c=>{this.plugin.settings.ShowLeftSideBar=c,this.applySettingsUpdate()})),await this.getEditorLocation(r,n),new lt(r,this).setHeading().setTab(n).setName("💎 "+E("Pro features")),this.addThinoDailyMarkSettings(n,r,o),new lt(r,this).setName(E("Chat view style")).setDesc(E("Set the style of chat view")).setTab(n).addDropdown(async a=>{i=a,i.addOption("default","Default"),i.addOption("fluent","Fluent"),i.addOption("inline","Inline"),i.setValue(this.plugin.settings.chatViewStyle).onChange(async c=>{if(!o){bn();return}this.plugin.settings.chatViewStyle=c,this.applySettingsUpdate()})}),this.addThinoMomentsSettings(n,r,o)}addThinoDailyMarkSettings(n,r,o){let i;new lt(r,this).setName(E("Show day mark in thino list")).setDesc(E("Show day mark on the top of daily range thino. False by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.showDayMark).onChange(async c=>{if(!o){bn();return}this.plugin.settings.showDayMark=c,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.showDayMark&&(new lt(r,this).setName(E("Day mark range")).setDesc(E("Set the range of day mark. Day by default.")).setTab(n).addDropdown(async a=>{i=a,i.addOption("day","day"),i.addOption("week","week"),i.addOption("month","month"),i.addOption("quarter","quarter"),i.addOption("year","year"),i.setValue(this.plugin.settings.dayMarkRange).onChange(async c=>{this.plugin.settings.dayMarkRange=c,this.applySettingsUpdate()})}),new lt(r,this).setName(E("Hide pinned group")).setDesc(E("Hide pinned group in thino list. False by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.hidePinnedGroup).onChange(async c=>{if(!o){bn();return}this.plugin.settings.hidePinnedGroup=c,this.applySettingsUpdate()})))}addThinoMomentsSettings(n,r,o){new lt(r,this).setTab(n).setName(E("Background image for moments view")).setDesc(E("Set the background image for moments view")).addText(i=>{new md(i.inputEl),i.setPlaceholder("URL").setValue(this.plugin.settings.MomentsBackgroundImage).onChange(async a=>{o&&(this.plugin.settings.MomentsBackgroundImage=a,this.applySettingsUpdate())})})}async getEditorLocation(n,r){let o;C.Platform.isMobile&&(new lt(n,this).setName(E("Default editor position on mobile")).setDesc(E("Set the default editor position on Mobile, 'Top' by default.")).setTab(r).addDropdown(async i=>{o=i,o.addOption("Top",E("Top")),o.addOption("Bottom",E("Bottom")),o.setValue(this.plugin.settings.DefaultEditorLocation).onChange(async a=>{this.plugin.settings.DefaultEditorLocation=a,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})}),this.plugin.settings.DefaultEditorLocation!=="Top"&&new lt(n,this).setName(E("Use button to show editor on mobile")).setDesc(E("Set a float button to call editor on mobile. Only when editor located at the bottom works.")).setTab(r).addToggle(i=>i.setValue(this.plugin.settings.UseButtonToShowEditor).onChange(async a=>{this.plugin.settings.UseButtonToShowEditor=a,this.applySettingsUpdate()})))}customHeading(n,r){new lt(r,this).setHeading().setName(E("User info")).setTab(n),new lt(r,this).setName(E("User name")).setDesc(E("Set your user name here. 'Memos 😏' By default")).setTab(n).addText(v=>v.setPlaceholder(ds.UserName).setValue(this.plugin.settings.UserName).onChange(async w=>{this.plugin.settings.UserName=w,this.applySettingsUpdate()})),new lt(r,this).setTab(n).setName(E("User icon")).setDesc(E("Set user icon for thino. You can input http/https link or file path in vault.")).addText(v=>{new md(v.inputEl),v.setPlaceholder("URL").setValue(this.plugin.settings.MomentsIcon).onChange(async w=>{this.plugin.settings.MomentsIcon=w,this.applySettingsUpdate()})}),new lt(r,this).setTab(n).setName(E("User quote")).setDesc(E("Set user quote for thino")).addText(v=>v.setPlaceholder("Input anything here").setValue(this.plugin.settings.MomentsQuote).onChange(async w=>{this.plugin.settings.MomentsQuote=w,this.applySettingsUpdate()}));let o=!1;const i=document.createDocumentFragment();i.createEl("span",{text:E("Connect to PKMer Sync, you can check it in ")});const a=localStorage.getItem("language");let c;a&&a==="zh"?c="https://pkmer.cn/products/UserProfile/#tab-21&activateSync":c="https://thino.pkmer.net/en/",i.createEl("a",{text:E("PKMer Sync"),attr:{href:c}}),new lt(r,this).setHeading().setName(E("Pro verification status")).setTab(n);const d=document.createDocumentFragment(),f=d.createEl("div",{cls:"thino-activation"}),m=new lt(r,this).setName(E("Activate Pro Version")).setDesc(d).setTab(n);m.settingEl.toggleClass("thino-activation-setting",!0),m.nameEl.toggleClass("thino-activation-title",!0),this.root=Oa.createRoot(f),this.root.render(y.jsx(_a,{store:Re,context:Ot,children:y.jsx(one,{plugin:this.plugin})}));let g=!1;new lt(r,this).setName(E("Deactivate")).setTab(n).addButton(v=>{v.setWarning().setButtonText(E("Remove")).onClick(async()=>{var S;if(!g){v.setButtonText(E("Confirm?")),g=!0;return}g=!1;const w=!C.Platform.isDesktop&&await((S=window.Capacitor)==null?void 0:S.Plugins.Device.getId()),T=C.Platform.isDesktop?await Jn():w.identifier||w.uuid;this.plugin.settings.tokenForVerify[T]&&(delete this.plugin.settings.tokenForVerify[T],await this.plugin.saveSettings(),new C.Notice(E("Remove successfully"))),await this.plugin.verify(),dt.setRefresh(!0),setTimeout(()=>{this.display()},20)})}),(a==="zh"||a==="zh-TW")&&new lt(r,this).setHeading().setName(E("Sync service")).setTab(n),(a==="zh"||a==="zh-TW")&&new lt(r,this).setName(E("Sync Thino via PKMer")).setDesc(i).setTab(n).addButton(v=>{var T;const w=(T=this.plugin.app)==null?void 0:T.loadLocalStorage("tokenForSync");v.setButtonText(E(w?"Unlink":"Link")).onClick(async()=>{var S;if(!w){const I=localStorage.getItem("language");I&&(I==="zh"||I==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&activateSync"):window.open("https://thino.pkmer.net/en/");return}if(!o){v.setButtonText(E("Confirm?")),o=!0;return}o=!1,w&&((S=this.plugin.app)==null||S.saveLocalStorage("tokenForSync",""),new C.Notice(E("Remove successfully"))),dt.setRefresh(!0),setTimeout(()=>{this.display()},20)})}),(a==="zh"||a==="zh-TW")&&this.showSyncStatus(r,n)}showSyncStatus(n,r){var i;(i=this.plugin.app)!=null&&i.loadLocalStorage("tokenForSync")&&(new lt(n,this).setName(E("Save thino type when sync local")).setDesc(E("Set the default save thino type when sync local, FILE by default.")).setTab(r).addDropdown(async a=>{a.addOption("DAILY",E("DAILY")),a.addOption("FILE",E("FILE")),a.setValue(this.plugin.settings.saveThinoType).onChange(async c=>{this.plugin.settings.saveThinoType=c,this.applySettingsUpdate()})}),new lt(n,this).setName(E("Sync Status")).setDesc(E("Start or stop sync")).setTab(r).addButton(a=>{a.setButtonText(this.plugin.settings.startSync?E("Stop"):E("Start")).onClick(async()=>{this.plugin.settings.startSync=!this.plugin.settings.startSync,await this.plugin.saveSettings(),dt.setRefresh(!0),new C.Notice(this.plugin.settings.startSync?E("Start sync successfully"):E("Stop sync successfully")),setTimeout(()=>{this.display()},200)})}))}addMemoSettings(n,r){new lt(r,this).setName(E("Open Memos when obsidian opens")).setDesc(E("When enable this, Memos will open when Obsidian opens. False by default.")).setTab(n).addDropdown(i=>{i.addOption("Desktop","Desktop"),i.addOption("Mobile","Mobile"),i.addOption("All","All"),i.setValue(this.plugin.settings.MobileAndDesktop).onChange(async a=>{this.plugin.settings.MobileAndDesktop=a,this.applySettingsUpdate()})}).addToggle(i=>i.setValue(this.plugin.settings.OpenMemosAutomatically).onChange(async a=>{this.plugin.settings.OpenMemosAutomatically=a,this.applySettingsUpdate()})),new lt(r,this).setHeading().setTab(n).setName(E("Editor")),new lt(r,this).setName(E("Use Tags In Vault")).setDesc(E("Use tags in vault rather than only in Memos. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.UseVaultTags).onChange(async a=>{this.plugin.settings.UseVaultTags=a,this.applySettingsUpdate()}));let o;new lt(r,this).setName(E("Default insert date format")).setDesc(E("Set the default date format when insert date by @, 'Tasks' by default.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("Tasks","Tasks"),o.addOption("Dataview","Dataview"),o.setValue(this.plugin.settings.InsertDateFormat).onChange(async a=>{this.plugin.settings.InsertDateFormat=a,this.applySettingsUpdate()})}),new lt(r,this).setHeading().setTab(n).setName(E("Daily notes")),new lt(r,this).setName(E("Default prefix when save thino")).setDesc(E("Set the default prefix when create memo, 'List' by default.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("List",E("List")),o.addOption("Task",E("Task")),o.setValue(this.plugin.settings.DefaultPrefix).onChange(async a=>{this.plugin.settings.DefaultPrefix=a,this.applySettingsUpdate()})}),this.plugin.settings.EnabledLocationList.some(i=>i.value==="DAILY")&&new lt(r,this).setName(E("Default time prefix for thino in daily notes")).setDesc(E("Set default time prefix for thino in daily notes.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("HH:mm","HH:mm"),o.addOption("HH:mm:ss","HH:mm:ss"),o.setValue(this.plugin.settings.DefaultTimePrefix).onChange(async a=>{this.plugin.settings.DefaultTimePrefix=a,this.applySettingsUpdate()})})}addThinoProSettings(n,r,o){new lt(r,this).setHeading().setTab(n).setName("💎 "+E("Pro features")),new lt(r,this).setName(E("Default save type")).setDesc(E('Set the default save type for thino. "DAILY" by default')).setTab(n).addDropdown(async i=>{for(const a of this.plugin.settings.EnabledLocationList)i.addOption(a.value,E(a.value));i.setValue(this.plugin.settings.MemoSaveLocation||this.plugin.settings.EnabledLocationList[0].value).onChange(async a=>{if(!o){bn();return}this.plugin.settings.MemoSaveLocation=a,this.applySettingsUpdate()})}),new lt(r,this).setName(E("Add tag automatically")).setDesc(E("Add tag to the end or beginning of the thino content when creating a thino and filtering tags")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.addTagAutomatically).onChange(async a=>{if(!o){bn();return}this.plugin.settings.addTagAutomatically=a,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.addTagAutomatically&&(new lt(r,this).setName(E("Add tag position")).setDesc(E("Set the position of the tag when adding tag automatically")).setTab(n).addDropdown(async i=>{i.addOption("End",E("End")),i.addOption("Beginning",E("Beginning")),i.setValue(this.plugin.settings.addTagPosition).onChange(async a=>{this.plugin.settings.addTagPosition=a,this.applySettingsUpdate()})}),new lt(r,this).setName(E("Add tag with new line")).setDesc(E("Add tag with new line when adding tag automatically")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.addTagWithNewline).onChange(async a=>{this.plugin.settings.addTagWithNewline=a,this.applySettingsUpdate()})))}memosCommentSettings(n,r){new lt(r,this).setName(E("Allow Comments On Memos")).setDesc(E("You can comment on memos. False by default")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.CommentOnMemos).onChange(async i=>{this.plugin.settings.CommentOnMemos=i,this.applySettingsUpdate(),this.display()})),this.plugin.settings.CommentOnMemos&&(new lt(r,this).setName(E("Always Show Memo Comments")).setDesc(E("Always show memo comments on memos. False by default")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.ShowCommentOnMemos).onChange(async i=>{this.plugin.settings.ShowCommentOnMemos=i,this.applySettingsUpdate()})),new lt(r,this).setName(E("Comments In Original DailyNotes/Notes")).setDesc(E("You should install Dataview Plugin ver 0.5.9 or later to use this feature.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.CommentsInOriginalNotes).onChange(async i=>{this.plugin.settings.CommentsInOriginalNotes=i,this.applySettingsUpdate()})))}shareToThinosSettings(n,r,o){new lt(r,this).setHeading().setTab(n).setName("💎 "+E("Pro features")),new lt(r,this).setTab(n).setName(E("Append/prepend text when share to Thino")).addToggle(i=>{i.setValue(this.plugin.settings.ShareToThinoWithText).onChange(async a=>{if(!o){bn();return}this.plugin.settings.ShareToThinoWithText=a,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.ShareToThinoWithText&&(new lt(r,this).setTab(n).setName(E("Prepend Text Action")).addDropdown(i=>{i.addOption("none",E("None")),i.addOption("preset",E("Preset")),i.addOption("input",E("Input")),i.addOption("selectTags",E("Select Tags")),i.setValue(this.plugin.settings.SharePrependType).onChange(async a=>{this.plugin.settings.SharePrependType=a,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.SharePrependType==="preset"&&new lt(r,this).setTab(n).setName(E("Prepend text when share to Thino")).addText(i=>{i.setPlaceholder(E("Input anything here")).setValue(this.plugin.settings.ShareToThinoWithTextPrepend).onChange(async a=>{this.plugin.settings.ShareToThinoWithTextPrepend=a,this.applySettingsUpdate()})}),new lt(r,this).setTab(n).setName(E("Append Text Action")).addDropdown(i=>{i.addOption("none",E("None")),i.addOption("preset",E("Preset")),i.addOption("input",E("Input")),i.addOption("selectTags",E("Select Tags")),i.setValue(this.plugin.settings.ShareAppendType).onChange(async a=>{this.plugin.settings.ShareAppendType=a,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.ShareAppendType==="preset"&&new lt(r,this).setTab(n).setName(E("Append text when share to Thino")).addText(i=>{i.setPlaceholder(E("Input anything here")).setValue(this.plugin.settings.ShareToThinoWithTextAppend).onChange(async a=>{this.plugin.settings.ShareToThinoWithTextAppend=a,this.applySettingsUpdate()})}),new lt(r,this).setTab(n).setName(E("Add newline when append/prepend text")).addDropdown(async i=>{i.addOption("prepend",E("Prepend")),i.addOption("append",E("Append")),i.addOption("both",E("Both")),i.addOption("none",E("None")),i.setValue(this.plugin.settings.ShareToThinoWithTextNewline).onChange(async a=>{this.plugin.settings.ShareToThinoWithTextNewline=a,this.applySettingsUpdate()})}))}copyMemosSettings(n,r){new lt(r,this).setName(E("Show Time When Copy Results")).setDesc(E("Show time when you copy results, like 12:00. Copy time by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.ShowTime).onChange(async i=>{this.plugin.settings.ShowTime=i,this.applySettingsUpdate()})),new lt(r,this).setName(E("Show Date When Copy Results")).setDesc(E("Show date when you copy results, like [[2022-01-01]]. Copy date by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.ShowDate).onChange(async i=>{this.plugin.settings.ShowDate=i,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.ShowDate&&new lt(r,this).setName(E("Add Blank Line Between Different Date")).setDesc(E("Add blank line when copy result with date. No blank line by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.AddBlankLineWhenDate).onChange(async i=>{this.plugin.settings.AddBlankLineWhenDate=i,this.applySettingsUpdate()}))}shareMemosSettings(n,r){new lt(r,this).setName(E("Custom height for Thino content")).setDesc(E("Set custom height for Thino content. Like 200px or 20rem")).setTab(n).addText(o=>o.setPlaceholder(E("Input height")).setValue(this.plugin.settings.MinHeightForShare).onChange(async i=>{this.plugin.settings.MinHeightForShare=i,this.debounceApplySettingsUpdate()})),this.customMemoFooter(n,r),new lt(r,this).setName(E("Custom Background Image")).setDesc(E("Set custom background image.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.SetCustomBackgroundImage).onChange(async i=>{this.plugin.settings.SetCustomBackgroundImage=i,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomBackgroundImage&&(new lt(r,this).setName(E("Background Image in Light Theme")+` [${E("Modern")}]`).setDesc(E('Set background image in light theme. Set something like "Daily/one.png"')).setTab(n).addText(o=>{new md(o.inputEl),o.setPlaceholder(ds.DefaultLightBackgroundImage).setValue(this.plugin.settings.DefaultLightBackgroundImage).onChange(async i=>{this.plugin.settings.DefaultLightBackgroundImage=i,this.applySettingsUpdate()})}),new lt(r,this).setName(E("Background Image in Dark Theme")+` [${E("Modern")}]`).setDesc(E('Set background image in dark theme. Set something like "Daily/one.png"')).setTab(n).addText(o=>{new md(o.inputEl),o.setPlaceholder(ds.DefaultDarkBackgroundImage).setValue(this.plugin.settings.DefaultDarkBackgroundImage).onChange(async i=>{this.plugin.settings.DefaultDarkBackgroundImage=i,this.applySettingsUpdate()})}),new lt(r,this).setName(E("Background Image in Light Theme")+` [${E("Clean")}]`).setDesc(E('Set background image in light theme. Set something like "Daily/one.png"')).setTab(n).addText(o=>{new md(o.inputEl),o.setPlaceholder(ds.DefaultLightBackgroundImageForClean).setValue(this.plugin.settings.DefaultLightBackgroundImageForClean).onChange(async i=>{this.plugin.settings.DefaultLightBackgroundImageForClean=i,this.applySettingsUpdate()})}),new lt(r,this).setName(E("Background Image in Dark Theme")+` [${E("Clean")}]`).setDesc(E('Set background image in dark theme. Set something like "Daily/one.png"')).setTab(n).addText(o=>{new md(o.inputEl),o.setPlaceholder(ds.DefaultDarkBackgroundImageForClean).setValue(this.plugin.settings.DefaultDarkBackgroundImageForClean).onChange(async i=>{this.plugin.settings.DefaultDarkBackgroundImageForClean=i,this.applySettingsUpdate()})}))}customMemoFooter(n,r){new lt(r,this).setName(E("Custom Memo Footer")).setDesc(E("Set custom memo footer.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.SetCustomMemoFooter).onChange(async i=>{this.plugin.settings.SetCustomMemoFooter=i,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomMemoFooter&&new lt(r,this).setName(E("Share Memos Image Footer Start")).setDesc(E("Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default")).setTab(n).addText(o=>o.setPlaceholder(ds.ShareFooterStart).setValue(this.plugin.settings.ShareFooterStart).onChange(async i=>{this.plugin.settings.ShareFooterStart=i,this.applySettingsUpdate()}))}saveDataSettings(n,r){let o;new lt(r,this).setName(E("Default Editor Mode")).setDesc(E("Live-Preview Mode OR Source Mode.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("obsidian",E("Live-preview")),o.addOption("memos",E("Source")),o.setValue(this.plugin.settings.EditorType).onChange(async a=>{this.plugin.settings.EditorType=a,this.applySettingsUpdate()})}),new lt(r,this).setName(E("Delete Thino Directly")).setDesc(E("When delete thino directly, it will not be moved to trash. False by default.")).setTab(n).addToggle(i=>{i.setValue(this.plugin.settings.DeleteThinoDirectly).onChange(async a=>{this.plugin.settings.DeleteThinoDirectly=a,this.applySettingsUpdate()})})}async initHttpServer(n,r){var d;const o=ft.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),a=C.Platform.isDesktop?await Jn():i.identifier||i.uuid,c=o&&(o==null?void 0:o.appId)===a;new lt(n,this).setName(E("Enable Local Http Server")).setTab(r).setDisabled(!c).addToggle(f=>f.setValue(this.plugin.settings.EnabledHttpApi).onChange(async m=>{if(!c){bn();return}this.plugin.settings.EnabledHttpApi=m,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.settings.EnabledHttpApi?this.plugin.initServer():this.plugin.stopServer(),this.display()},100)})),this.plugin.settings.EnabledHttpApi&&(new lt(n,this).setName(E("Memos Http Server Port")).setDesc(E("Set memos http server port to listen. '43999' by default")).setTab(r).addText(f=>f.setPlaceholder(ds.HttpApiPort).setValue(this.plugin.settings.HttpApiPort).onChange(async m=>{if(!c){bn();return}this.plugin.settings.HttpApiPort=m,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})),new lt(n,this).setName(E("Auto Download Image")).setDesc(E("Auto download image when save to thino. 'false' by default")).setTab(r).setDisabled(!c).addToggle(f=>{f.setValue(this.plugin.settings.AutoDownloadImage).onChange(async m=>{if(!c){bn();return}this.plugin.settings.AutoDownloadImage=m,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}),new lt(n,this).setName(E("Thino Http IP Type")).setDesc(E("Set Thino http server ip to listen. 'localhost' by default")).setTab(r).addDropdown(f=>{f.addOption("localhost","localhost"),f.addOption("127.0.0.1","127.0.0.1"),f.setValue(this.plugin.settings.HttpApiIpType).onChange(async m=>{if(!o||(o==null?void 0:o.appId)!==a){bn();return}this.plugin.settings.HttpApiIpType=m,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}))}fetchDataSettings(n,r){let o;new lt(r,this).setName(E("Use which plugin's default configuration")).setDesc(E("Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("Daily",E("Daily")),o.addOption("Periodic","Periodic"),o.setValue(this.plugin.settings.UseDailyOrPeriodic).onChange(async a=>{this.plugin.settings.UseDailyOrPeriodic=a,this.applySettingsUpdate()})})}navigationSettings(n,r){new lt(r,this).setName(E("Open link directly in Thino view")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.navigation).onChange(async i=>{this.plugin.settings.navigation=i,this.applySettingsUpdate()}))}clearConfigSettings(n,r){new lt(r,this).setName(E("Reset all Thino settings")).setDesc(E("Reset Thino settings to default settings.")).setTab(n).addButton(o=>{o.setWarning().setButtonText(E("Reset settings")).onClick(async()=>{new ps(this.app,E("Reset all Thino settings"),async()=>{var i;this.plugin.settings={...ds,tokenForVerify:this.plugin.settings.tokenForVerify,password:this.plugin.settings.password,needVerify:this.plugin.settings.needVerify},this.debounceApplySettingsUpdate(),await Te.fetchAllMemos(),Te.updateTagsState(),(i=this.plugin.app)==null||i.saveLocalStorage("tokenForSync",""),dt.setRefresh(!0),dt.setMemoListView("list"),new C.Notice(E("All settings have been reset to default.")),this.debounceDisplay()}).open()})})}setPasswordSettings(n,r){new lt(r,this).setName(E("Need password to unlock Thino")).setTab(n).addToggle(o=>{this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched&&(o.toggleEl.onclick=i=>{this.passwordMatched||(i.preventDefault(),new GI(this.app,this,this.plugin,a=>{o.setDisabled(!a),this.passwordMatched=a,this.debounceDisplay()}).open(),new C.Notice(E("Please input your password to change password settings")))}),o.setDisabled(this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched).setValue(this.plugin.settings.needVerify).onChange(async i=>{this.plugin.settings.needVerify=i,i&&(this.passwordMatched=!1),this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.needVerify&&new lt(r,this).setName(E("Password to lock Thino")).setTab(n).addText(o=>{this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched&&(o.inputEl.onclick=i=>{this.passwordMatched||(i.preventDefault(),new GI(this.app,this,this.plugin,a=>{o.inputEl.readOnly=!a,this.passwordMatched=a,this.debounceDisplay()}).open(),new C.Notice(E("Please input your password to change password settings")))}),o.inputEl.readOnly=this.plugin.settings.password&&this.plugin.settings.needVerify&&!this.passwordMatched,o.inputEl.oncopy=()=>!1,o.inputEl.type="password",o.setValue(this.plugin.settings.password).onChange(async i=>{this.plugin.settings.password=i,this.applySettingsUpdate()})})}setGlobalSettings(n,r,o){new lt(r,this).setHeading().setTab(n).setName("💎 "+E("Pro features")),this.initHttpServer(r,n),new lt(r,this).setName(E("Enable opening thino globally")).setDesc(E("Enable opening thino globally. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.CaptureKey.EnableCaptureKey).onChange(async a=>{if(!o){bn();return}this.plugin.settings.CaptureKey.EnableCaptureKey=a,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.CaptureKey.EnableCaptureKey&&(new lt(r,this).setName(E("Key for opening thino globally")).setDesc(E("Set key for opening thino globally. CTRL + SHIFT + T by default.")).setTab(n).addText(i=>i.setPlaceholder(ds.CaptureKey.OpenThinoGlobally).setValue(this.plugin.settings.CaptureKey.OpenThinoGlobally).onChange(async a=>{if(!o){bn();return}this.plugin.settings.CaptureKey.OpenThinoGlobally=a,this.applySettingsUpdate()})),new lt(r,this).setName(E("Show thino near mouse")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.CaptureKey.ShowNearMouse).onChange(async a=>{if(!o){bn();return}this.plugin.settings.CaptureKey.ShowNearMouse=a,this.applySettingsUpdate()})))}checkInList(n){return this.plugin.settings.EnabledLocationList.find(r=>r.value===n)!==void 0}customFileNameSettings(n,r,o){var d;const i=document.createDocumentFragment(),a=i.createEl("div",{cls:"memo-save-location-desc"});for(const f of rne){const m=a.createEl("div",{cls:`memo-save-location-desc-item ${f.value}`}),g=m.createEl("span",{cls:"memo-save-location-desc-item-icon"});C.setIcon(g,((d=km.find(I=>I.title===f.value))==null?void 0:d.icon)||""),m.createEl("span",{cls:"memo-save-location-desc-item-desc",text:`${E(f.value)}`});const v=m.createEl("span",{cls:"memo-save-location-desc-item-toggle"}),w=m.createEl("span",{cls:"memo-save-location-desc-item-setting"});f.value!=="DAILY"&&m.createEl("span",{cls:["memo-save-location-desc-item-pro","user-pro-badge"],text:"PRO"}),new C.ToggleComponent(v).setValue(this.checkInList(f.value)).onChange(async I=>{if(!o){bn();return}I?(await Te.updateTypeMemos(f.value),this.plugin.settings.EnabledLocationList=[...this.plugin.settings.EnabledLocationList,f]):(await Te.removeTypeMemos(f.value),this.plugin.settings.EnabledLocationList=this.plugin.settings.EnabledLocationList.filter(k=>k.value!==f.value)),this.plugin.settings.EnabledLocationList.length===1&&(this.plugin.settings.MemoSaveLocation=f.value),this.applySettingsUpdate(),setTimeout(()=>{this.display()},500)}).setDisabled(this.plugin.settings.EnabledLocationList.length===1&&this.checkInList(f.value)),new C.ExtraButtonComponent(w).setIcon("settings").onClick(()=>{new ane(this.app,this,this.plugin,f,o).open()})}const c=new lt(r,this).setName(E("Save type for Thino")).setDesc(i).setTab(n);c.settingEl.toggleClass("memo-save-location-setting",!0),c.nameEl.toggleClass("memo-save-location-title",!0)}addTaskRelatedSettings(n,r){new lt(r,this).setHeading().setName(E("Task Management")),new lt(r,this).setName(E("Show Tasks Label")).setDesc(E("Show tasks label near the time text. False by default")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.ShowTaskLabel).onChange(async i=>{this.plugin.settings.ShowTaskLabel=i,this.applySettingsUpdate()})),new lt(r,this).setName(E("Append completed date when task done in thino")).setDesc(E("Append completed date when task done in thino. False by default")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.AppendDateWhenTaskDone).onChange(async i=>{this.plugin.settings.AppendDateWhenTaskDone=i,this.applySettingsUpdate()}))}}class ane extends C.Modal{constructor(n,r,o,i,a){super(n);De(this,"plugin");De(this,"settingTab");De(this,"LocationList");De(this,"target","");De(this,"insertTarget","");De(this,"verified");De(this,"updateValue",C.debounce(n=>{this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target=n.trim()===""?"basic":n.trim():this.target=n.trim()===""&&this.LocationList.value==="MULTI"?"Memos":n.trim()},400,!0));De(this,"debounceDisplay",C.debounce(()=>this.display(),400,!0));this.verified=a,this.app=n,this.settingTab=r,this.plugin=o,this.LocationList=i,this.target=i.target!=="ProcessEntriesBelow"?o.settings.MemoOtherSaveLocation[i.target]:o.settings[i.target],this.insertTarget=o.settings.InsertAfter}onOpen(){this.display()}async display(){var d;const{contentEl:n}=this;this.contentEl.empty(),(d=n.parentElement)==null||d.classList.add("memo-save-location-modal"),this.titleEl.toggleClass("modal-title",!0),this.titleEl.setText(E("Save type for Thino")+` [${E(this.LocationList.value)}]`),(this.LocationList.value==="FILE"||this.LocationList.value==="CANVAS")&&n.createDiv("modal-desc",f=>{f.setText(E('You can set folder name with file name like "folder/file"'))}),this.LocationList.value==="MULTI"&&n.createDiv("modal-desc",f=>{f.setText(E('You can set folder name like "folder1/folder2/folder3" to create sub-folder'))}),this.LocationList.value==="DAILY"&&n.createDiv("modal-desc",f=>{f.setText(E('You can set target heading like "# Heading" to control data location'))});const r=n.createDiv("modal-setting"),o=this.LocationList.value==="DAILY"?E("Process Memos below"):this.LocationList.value==="MULTI"?E("Set the folder name"):E("Set the filename");if(this.LocationList.value==="DAILY"&&(new lt(r,this.settingTab).setName(E("Set thino insert place")).setDesc(E("Set where to insert thino content")).addDropdown(async f=>{f.addOption("end",E("End of the diary")),f.addOption("custom",E("Custom location")),f.setValue(this.plugin.settings.InsertType).onChange(async m=>{this.plugin.settings.InsertType=m,this.settingTab.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.InsertType==="custom"&&await this.addDailySettings(r),new lt(r,this.settingTab).setName(E("Set process target")).setDesc(E("You can set whole diary or only part of it")).addDropdown(async f=>{f.addOption("custom",E("Custom")),f.addOption("whole",E("Whole diary")),f.setValue(this.plugin.settings.ProcessContentTarget).onChange(async m=>{this.plugin.settings.ProcessContentTarget=m,this.settingTab.applySettingsUpdate(),this.debounceDisplay()})})),this.LocationList.value!=="DAILY"||this.plugin.settings.ProcessContentTarget!=="whole"){const f=new lt(r,this.settingTab).setName(o).addText(m=>m.setPlaceholder(this.LocationList.value==="DAILY"?E("# Heading"):E("Set the filename for current location file")).setValue(this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target.replace(/\.thino\.(canvas|md)/g,""):this.target).onChange(async g=>{const v=this.LocationList.value==="CANVAS"?".thino.canvas":this.LocationList.value==="FILE"?".thino.md":"";this.updateValue(g.replace(/\.thino\.(canvas|md)/g,"")+v)}));this.LocationList.value==="DAILY"&&f.setDesc(E("If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.")),this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"&&f.controlEl.createEl("span",{text:`${this.LocationList.value==="FILE"?".thino.md":".thino.canvas"}`})}this.LocationList.value==="MULTI"&&new lt(r,this.settingTab).setName(E("Set file name after create thino")).setDesc(E("You can set file name after create thino. A input box will show when you create thino.")).addToggle(f=>{f.setValue(this.plugin.settings.SetFileNameAfterCreate).onChange(async m=>{this.plugin.settings.SetFileNameAfterCreate=m,this.settingTab.debounceApplySettingsUpdate()})}),this.LocationList.value==="FILE"&&new lt(r,this.settingTab).setName(E("Set tag for file type file")).setDesc(E("When you set a tag here, Thino will index this file contains this tag and show it in the list. Don't need to add `#`.")).addText(f=>{new Om(f.inputEl,m=>{this.plugin.settings.TagForFileTypeFiles=m.trim(),this.settingTab.debounceApplySettingsUpdate()}),f.setPlaceholder(E("Please input the tag")).setValue(this.plugin.settings.TagForFileTypeFiles).onChange(async m=>{this.plugin.settings.TagForFileTypeFiles=m.trim(),this.settingTab.debounceApplySettingsUpdate()})}),this.LocationList.value==="MULTI"&&new lt(r,this.settingTab).setName(E("Set tag for multi type file")).setDesc(E("When you set a tag here, Thino will index this file contains this tag and show it in the list. Don't need to add `#`.")).addText(f=>{new Om(f.inputEl,m=>{this.plugin.settings.TagForMultiTypeFiles=m.trim(),this.settingTab.debounceApplySettingsUpdate()}),f.setPlaceholder(E("Please input the tag")).setValue(this.plugin.settings.TagForMultiTypeFiles).onChange(async m=>{this.plugin.settings.TagForMultiTypeFiles=m.trim(),this.settingTab.debounceApplySettingsUpdate()})});const i=n.createDiv("button-group"),a=i.createEl("button",{text:E("Cancel")}),c=i.createEl("button",{text:E("Save")});c.onclick=async()=>{if(!this.verified&&this.LocationList.value!=="DAILY"){this.close(),bn();return}this.LocationList.target!=="ProcessEntriesBelow"?this.plugin.settings.MemoOtherSaveLocation[this.LocationList.target]=this.target:this.plugin.settings[this.LocationList.target]=this.target,this.LocationList.value==="MULTI"&&ct.checkDailyInMulti(this.plugin.settings),this.LocationList.target==="ProcessEntriesBelow"&&(this.plugin.settings.InsertAfter=this.insertTarget),this.settingTab.applySettingsUpdate(),setTimeout(()=>{Te.updateTypeMemos(this.LocationList.value)},1e3),this.close()},a.onclick=async()=>{this.close()}}async addDailySettings(n){var d,f,m,g;const r=ft.getState().verifyState,o=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),i=C.Platform.isDesktop?await Jn():o.identifier||o.uuid,a=r&&(r==null?void 0:r.appId)===i,c=((f=this.plugin.settings)!=null&&f.DifferentInsertTarget?`[${E("List")}] `:"")+E("Insert after heading");new lt(n,this.settingTab).setName(c).setDesc(E("If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")).addText(v=>v.setPlaceholder(E("# Heading")).setValue(this.insertTarget).onChange(async w=>{this.insertTarget=w})),(m=this.plugin.settings)!=null&&m.DifferentInsertTarget&&new lt(n,this.settingTab).setName(((g=this.plugin.settings)!=null&&g.DifferentInsertTarget?`[${E("Task")}] `:"")+E("Insert after heading")).setDesc(E("Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")).addText(v=>{v.setPlaceholder(E("# Heading")).setValue(this.plugin.settings.InsertAfterForTask).onChange(async w=>{this.plugin.settings.InsertAfterForTask=w,this.settingTab.applySettingsUpdate()})}),new lt(n,this.settingTab).setName(E("Different insert target for different type")).setDesc(E("Toggle this to set different insert target for different type of thino, like task or list type of thino")).addToggle(v=>v.setValue(this.plugin.settings.DifferentInsertTarget).onChange(async w=>{if(!a){bn();return}this.plugin.settings.DifferentInsertTarget=w,this.settingTab.applySettingsUpdate(),this.debounceDisplay()}))}onClose(){const{contentEl:n}=this;n.empty()}}class GI extends C.Modal{constructor(n,r,o,i){super(n);De(this,"plugin");De(this,"settingTab");this.cb=i,this.app=n,this.settingTab=r,this.plugin=o}onOpen(){var d;const{contentEl:n}=this;(d=n.parentElement)==null||d.classList.add("memo-save-location-modal"),this.titleEl.toggleClass("modal-title",!0),this.titleEl.setText(E("Password for Thino")),n.createDiv("modal-desc",f=>{f.setText(E("Please input your password to change password settings"))});const r=n.createDiv("modal-setting"),o=new lt(r,this.settingTab).setName(E("Password")).addText(f=>{f.setPlaceholder(E("Please input your password")).inputEl.type="password"}),i=n.createDiv("button-group"),a=i.createEl("button",{text:E("Cancel")}),c=i.createEl("button",{cls:"thino-password-confirm-btn",text:E("Confirm?").replace(/(\?|？)/g,"")});c.onclick=async()=>{var f;o.controlEl.querySelector("input").value===this.plugin.settings.password?((f=this.cb)==null||f.call(this,!0),this.close()):new C.Notice(E("Password is incorrect"))},a.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}function Z0(e){return e.split("-")[0]}function uk(e){return e.split("-")[1]}function XS(e){return["top","bottom"].includes(Z0(e))?"x":"y"}function dk(e){return e==="y"?"height":"width"}function JI(e){let{reference:t,floating:n,placement:r}=e;const o=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2;let a;switch(Z0(r)){case"top":a={x:o,y:t.y-n.height};break;case"bottom":a={x:o,y:t.y+t.height};break;case"right":a={x:t.x+t.width,y:i};break;case"left":a={x:t.x-n.width,y:i};break;default:a={x:t.x,y:t.y}}const c=XS(r),d=dk(c);switch(uk(r)){case"start":a[c]=a[c]-(t[d]/2-n[d]/2);break;case"end":a[c]=a[c]+(t[d]/2-n[d]/2);break}return a}const sne=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n;let c=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=JI({...c,placement:r}),m=r,g={};for(let v=0;v<i.length;v++){const{name:w,fn:T}=i[v],{x:S,y:I,data:k,reset:P}=await T({x:d,y:f,initialPlacement:r,placement:m,strategy:o,middlewareData:g,rects:c,platform:a,elements:{reference:e,floating:t}});if(d=S??d,f=I??f,g={...g,[w]:k??{}},P){typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(c=P.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:d,y:f}=JI({...c,placement:m})),v=-1;continue}}return{x:d,y:f,placement:m,strategy:o,middlewareData:g}};function lne(e){return{top:0,right:0,bottom:0,left:0,...e}}function cne(e){return typeof e!="number"?lne(e):{top:e,right:e,bottom:e,left:e}}function C1(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function M1(e,t){t===void 0&&(t={});const{x:n,y:r,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:d="clippingParents",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:v=0}=t,w=cne(v),S=a[g?m==="floating"?"reference":"floating":m],I=await o.getClippingClientRect({element:await o.isElement(S)?S:S.contextElement||await o.getDocumentElement({element:a.floating}),boundary:d,rootBoundary:f}),k=C1(await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:m==="floating"?{...i.floating,x:n,y:r}:i.reference,offsetParent:await o.getOffsetParent({element:a.floating}),strategy:c}));return{top:I.top-k.top+w.top,bottom:k.bottom-I.bottom+w.bottom,left:I.left-k.left+w.left,right:k.right-I.right+w.right}}const une={left:"right",right:"left",bottom:"top",top:"bottom"};function Xv(e){return e.replace(/left|right|bottom|top/g,t=>une[t])}function dne(e,t){const n=uk(e)==="start",r=XS(e),o=dk(r);let i=r==="x"?n?"right":"left":n?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Xv(i)),{main:i,cross:Xv(i)}}const fne={start:"end",end:"start"};function KI(e){return e.replace(/start|end/g,t=>fne[t])}function hne(e){const t=Xv(e);return[KI(e),t,KI(t)]}const pne=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:c}=t;if((n=i.flip)!=null&&n.skip)return{};const{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",flipAlignment:v=!0,...w}=e,T=Z0(o),I=m||(T===c||!v?[Xv(c)]:hne(c)),k=[c,...I],P=await M1(t,w),R=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&R.push(P[T]),f){const{main:Y,cross:V}=dne(o,a);R.push(P[Y],P[V])}if(M=[...M,{placement:o,overflows:R}],!R.every(Y=>Y<=0)){var _,L;const Y=((_=(L=i.flip)==null?void 0:L.index)!=null?_:0)+1,V=k[Y];if(V)return{data:{index:Y,overflows:M},reset:{placement:V}};let $="bottom";switch(g){case"bestFit":{var z;const re=(z=M.slice().sort((Q,ae)=>Q.overflows.filter(X=>X>0).reduce((X,ie)=>X+ie,0)-ae.overflows.filter(X=>X>0).reduce((X,ie)=>X+ie,0))[0])==null?void 0:z.placement;re&&($=re);break}case"initialPlacement":$=c;break}return{data:{skip:!0},reset:{placement:$}}}return{}}}};function mne(e){let{placement:t,rects:n,value:r}=e;const o=Z0(t),i=["left","top"].includes(o)?-1:1,a=typeof r=="function"?r({...n,placement:t}):r,{mainAxis:c,crossAxis:d}=typeof a=="number"?{mainAxis:a,crossAxis:0}:{mainAxis:0,crossAxis:0,...a};return XS(o)==="x"?{x:d,y:c*i}:{x:c*i,y:d}}const gne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(t){const{x:n,y:r,placement:o,rects:i}=t,a=mne({placement:o,rects:i,value:e});return{x:n+a.x,y:r+a.y,data:a}}}};function eD(e){return(e==null?void 0:e.toString())==="[object Window]"}function Su(e){if(e==null)return window;if(!eD(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function $0(e){return Su(e).getComputedStyle(e)}function lc(e){return eD(e)?"":e?(e.nodeName||"").toLowerCase():""}function cc(e){return e instanceof Su(e).HTMLElement}function e0(e){return e instanceof Su(e).Element}function yne(e){return e instanceof Su(e).Node}function fk(e){const t=Su(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function q0(e){const{overflow:t,overflowX:n,overflowY:r}=$0(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function vne(e){return["table","td","th"].includes(lc(e))}function hk(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=$0(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}const QI=Math.min,xm=Math.max,t0=Math.round;function Ch(e,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect();let r=1,o=1;return t&&cc(e)&&(r=e.offsetWidth>0&&t0(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&t0(n.height)/e.offsetHeight||1),{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function Du(e){return((yne(e)?e.ownerDocument:e.document)||window.document).documentElement}function G0(e){return eD(e)?{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function pk(e){return Ch(Du(e)).left+G0(e).scrollLeft}function wne(e){const t=Ch(e);return t0(t.width)!==e.offsetWidth||t0(t.height)!==e.offsetHeight}function bne(e,t,n){const r=cc(t),o=Du(t),i=Ch(e,r&&wne(t));let a={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(r||!r&&n!=="fixed")if((lc(t)!=="body"||q0(o))&&(a=G0(t)),cc(t)){const d=Ch(t,!0);c.x=d.x+t.clientLeft,c.y=d.y+t.clientTop}else o&&(c.x=pk(o));return{x:i.left+a.scrollLeft-c.x,y:i.top+a.scrollTop-c.y,width:i.width,height:i.height}}function J0(e){return lc(e)==="html"?e:e.assignedSlot||e.parentNode||(fk(e)?e.host:null)||Du(e)}function XI(e){return!cc(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function Sne(e){let t=J0(e);for(;cc(t)&&!["html","body"].includes(lc(t));){if(hk(t))return t;t=t.parentNode}return null}function k1(e){const t=Su(e);let n=XI(e);for(;n&&vne(n)&&getComputedStyle(n).position==="static";)n=XI(n);return n&&(lc(n)==="html"||lc(n)==="body"&&getComputedStyle(n).position==="static"&&!hk(n))?t:n||Sne(e)||t}function eE(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Dne(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=cc(n),i=Du(n);if(n===i)return t;let a={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&r!=="fixed")&&((lc(n)!=="body"||q0(i))&&(a=G0(n)),cc(n))){const d=Ch(n,!0);c.x=d.x+n.clientLeft,c.y=d.y+n.clientTop}return{...t,x:t.x-a.scrollLeft+c.x,y:t.y-a.scrollTop+c.y}}function Tne(e){const t=Su(e),n=Du(e),r=t.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;return r&&(o=r.width,i=r.height,Math.abs(t.innerWidth/r.scale-r.width)<.01&&(a=r.offsetLeft,c=r.offsetTop)),{width:o,height:i,x:a,y:c}}function Ine(e){var t;const n=Du(e),r=G0(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=xm(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=xm(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let c=-r.scrollLeft+pk(e);const d=-r.scrollTop;return $0(o||n).direction==="rtl"&&(c+=xm(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:c,y:d}}function mk(e){return["html","body","#document"].includes(lc(e))?e.ownerDocument.body:cc(e)&&q0(e)?e:mk(J0(e))}function gk(e,t){var n;t===void 0&&(t=[]);const r=mk(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=Su(r),a=o?[i].concat(i.visualViewport||[],q0(r)?r:[]):r,c=t.concat(a);return o?c:c.concat(gk(J0(a)))}function Ene(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&fk(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function xne(e){const t=Ch(e),n=t.top+e.clientTop,r=t.left+e.clientLeft;return{top:n,left:r,x:r,y:n,right:r+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function tE(e,t){return t==="viewport"?C1(Tne(e)):e0(t)?xne(t):C1(Ine(Du(e)))}function Cne(e){const t=gk(J0(e)),r=["absolute","fixed"].includes($0(e).position)&&cc(e)?k1(e):e;return e0(r)?t.filter(o=>e0(o)&&Ene(o,r)&&lc(o)!=="body"):[]}function Mne(e){let{element:t,boundary:n,rootBoundary:r}=e;const i=[...n==="clippingParents"?Cne(t):[].concat(n),r],a=i[0],c=i.reduce((d,f)=>{const m=tE(t,f);return d.top=xm(m.top,d.top),d.right=QI(m.right,d.right),d.bottom=QI(m.bottom,d.bottom),d.left=xm(m.left,d.left),d},tE(t,a));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}const kne={getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:bne(t,k1(n),r),floating:{...eE(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:e=>Dne(e),getOffsetParent:e=>{let{element:t}=e;return k1(t)},isElement:e=>e0(e),getDocumentElement:e=>{let{element:t}=e;return Du(t)},getClippingClientRect:e=>Mne(e),getDimensions:e=>{let{element:t}=e;return eE(t)},getClientRects:e=>{let{element:t}=e;return t.getClientRects()}},Nne=(e,t,n)=>sne(e,t,{platform:kne,...n});var Ane=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n};const Fne=$r(Ane),Cb=Cm.Facet.define({combine:e=>{var t,n;return{defaultPlacement:((t=e.find(r=>r.defaultPlacement))==null?void 0:t.defaultPlacement)||"top",padding:((n=e.find(r=>r.padding))==null?void 0:n.padding)||8}}}),yk=e=>e.split("-")[0],Pne=e=>e==="x"?"y":"x",One=e=>["top","bottom"].includes(yk(e))?"x":"y",hm=(e,t,n)=>Math.max(e,Math.min(t,n)),jne=(e,t)=>Object.fromEntries(Object.entries(e).map(([n,r],o)=>[n,t(r,n,o)])),Lne=e=>e===void 0?e:typeof e=="number"?-e:jne(e,t=>t!==void 0?-t:t),Rne=(e={})=>({name:"shift",fn:async t=>{const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:c=({x:I,y:k})=>({x:I,y:k}),editorMenu:d,...f}=e,m={x:n,y:r},g=await M1(t,f),v=One(yk(o)),w=Pne(v);let T=m[v],S=m[w];if(i){const I=v==="y"?"top":"left",k=v==="y"?"bottom":"right",P=T+g[I],R=T-g[k];if(d){const M=await M1(t,{...f,boundary:d.dom,padding:Lne(f.padding)});if((w==="y"?["top","bottom"]:["left","right"]).every(L=>M[L]<=0)){const L=t.rects.floating.width,z=T+M[I]-L,Y=T-M[k]+L,V=Math.abs(g[I]-M[I]),$=Math.abs(g[k]-M[k]);V>=L||$<V?T=hm(P,T,z):T=hm(Y,T,R)}else T=hm(P,T,R)}else T=hm(P,T,R)}if(a){const I=w==="y"?"top":"left",k=w==="y"?"bottom":"right",P=S+g[I],R=S-g[k];S=hm(P,S,R)}return c({...t,[v]:T,[w]:S})}}),_ne="thino-mini-toolbar",Bne=(e=0,t=0)=>({width:0,height:0,top:t,left:e,bottom:t,right:e,x:e,y:t}),Hne=(e,t)=>{if(!e)return null;const n=Math.min(e.left,(t==null?void 0:t.left)??e.left),r=Math.max(e.right,(t==null?void 0:t.right)??e.right),o=Math.max(e.bottom,(t==null?void 0:t.bottom)??e.bottom)-Math.min(e.top,(t==null?void 0:t.top)??e.top),i=Math.min(e.top,(t==null?void 0:t.top)??e.top),a=i+o,c={left:n,right:r,top:i,bottom:a,width:0,height:o,x:i,y:n};return t&&(c.width=Math.abs(r-n)),c},Yne=Bne();class Une{constructor(t){De(this,"containerEl");De(this,"virtualEl");De(this,"toolbar",null);De(this,"isThinoView");De(this,"tooltipInfo");De(this,"inView",!0);De(this,"defaultPlacement");De(this,"editorMenu");De(this,"cachedRefRect",null);De(this,"readFromDOM",()=>{if(this.tooltipInfo){const{start:t}=this.tooltipInfo;let{end:n}=this.tooltipInfo;n&&t===n&&(n=void 0);const r=this.view.coordsAtPos(t);let o=n?this.view.coordsAtPos(n):null;if(r&&o&&r.top!==o.top){const a=this.view.contentDOM.getBoundingClientRect();o={left:a.right,right:a.right,top:r.top,bottom:r.bottom}}const i=Hne(r,o);i&&(this.cachedRefRect=i,this.computePosition(i))}});this.view=t,this.containerEl=this.view.dom.parentElement,this.defaultPlacement=this.view.state.facet(Cb).defaultPlacement,this.tooltipInfo=t.state.facet(N1),this.virtualEl={rect:Yne,getBoundingClientRect(){return this.rect}},this.maybeMeasure(),this.editorMenu={currMenu:null,evtRef:t.state.field(C.editorInfoField)},this.isThinoView=this.checkThinoView()}get workspace(){return this.view.state.field(C.editorInfoField).app.workspace}checkThinoView(){return this.view.state.field(C.editorInfoField)&&this.view.state.field(C.editorInfoField)instanceof cu}shouldRemoveToolbar(t){const n=t??this.tooltipInfo;return!(n!=null&&n.end||this.editorMenu.currMenu)}onEditorMenuOpen(t){this.editorMenu.currMenu||(this.editorMenu.currMenu=t,this.cachedRefRect?this.computePosition(this.cachedRefRect):this.maybeMeasure(),!C.Platform.isMacOS&&this.tooltipInfo&&(this.createToolbar(),this.maybeMeasure()))}onEditorMenuClose(t){this.editorMenu.currMenu===t&&(this.editorMenu.currMenu=null),!C.Platform.isMacOS&&this.toolbar&&this.shouldRemoveToolbar()&&this.removeToolbar()}createToolbar(t){const n=t??this.tooltipInfo;if(!n)return;this.removeToolbar();const r=n.create(this.containerEl),o=this.view.state.field(C.editorInfoField);if(!o||!(o!=null&&o.editor))return;const i=o.editor.offsetToPos(n.start),a=n.end?o.editor.offsetToPos(n.end):i;this.workspace.trigger(_ne,r,{from:i,to:a},o.editor,o),this.toolbar=r}removeToolbar(){this.toolbar&&(this.toolbar.hide(),this.toolbar=null)}update(t){if(!this.isThinoView)return;const n=t.state.facet(N1),r=n!==this.tooltipInfo&&!Fne(n,this.tooltipInfo);r&&(this.tooltipInfo=n,this.shouldRemoveToolbar()?this.removeToolbar():n&&!this.toolbar&&this.createToolbar(n));const o=r||t.geometryChanged,i=t.state.facet(Cb);i.defaultPlacement!=this.defaultPlacement&&(i.defaultPlacement=this.defaultPlacement),o&&this.maybeMeasure()}destroy(){this.editorMenu.currMenu=null,this.removeToolbar(),this.toolbar=null,this.view.state.field(C.editorInfoField).app.workspace.offref(this.editorMenu.evtRef)}async computePosition(t){if(!this.toolbar)return;this.virtualEl.rect=t;const{padding:n}=this.view.state.facet(Cb),{x:r,y:o}=await Nne(this.virtualEl,this.toolbar.dom,{placement:this.defaultPlacement,middleware:[gne({mainAxis:5}),pne({padding:n,boundary:this.view.scrollDOM}),Rne({padding:n,boundary:this.view.scrollDOM,editorMenu:this.editorMenu.currMenu})]});Object.assign(this.toolbar.dom.style,{top:"0",left:"0",transform:`translate(${Math.round(r)}px,${Math.round(o)}px)`})}maybeMeasure(){this.view.inView&&this.toolbar&&this.view.requestMeasure({read:this.readFromDOM}),this.inView!=this.view.inView&&(this.inView=this.view.inView,this.inView||this.removeToolbar())}}const zne=fl.ViewPlugin.fromClass(Une,{eventHandlers:{scroll(){this.maybeMeasure()}}}),N1=Cm.Facet.define({enables:[zne],combine:e=>e.filter(t=>t!=null).first()??null}),Vne=e=>{const t=Gne(e);t&&window.navigator.clipboard.writeText(t==null?void 0:t.getSelection())},Wne=e=>{e.commands.executeCommandById("editor:toggle-bold",e)},Zne=e=>{e.commands.executeCommandById("editor:toggle-strikethrough",e)},$ne=e=>{e.commands.executeCommandById("editor:toggle-highlight",e)},qne=e=>{e.commands.executeCommandById("editor:toggle-italics",e)},Gne=e=>{const{editor:t}=e.field(C.editorInfoField);return t},nE=(e,t)=>{const n=e.selection.ranges[0];if(!n)return null;const{anchor:r,head:o,empty:i}=n,[a,c]=[r,o].sort();return{start:a,end:i?void 0:c,create:f=>new Xne(f).addSmallButton(g=>g.setClass("clickable-icon").setIcon("copy").onClick(()=>Vne(e))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("bold").onClick(()=>Wne(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("italic").onClick(()=>qne(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("strikethrough").onClick(()=>Zne(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("highlighter").onClick(()=>$ne(t)))}},Jne=e=>Cm.StateField.define({create:t=>nE(t,e),update:(t,n)=>!n.docChanged&&!n.selection?t:nE(n.state,e),provide:t=>N1.from(t)}),Kne=e=>[Jne(e)];class Qne extends C.BaseComponent{constructor(n){super();De(this,"button");De(this,"disabled",!1);De(this,"dropdownOptions",[]);De(this,"menu");De(this,"menuOpened",!1);this.button=new C.ButtonComponent(n)}setDisabled(n){return this.button.setDisabled(n),this.disabled=n,this}setIcon(n){return this.button.setIcon(n),this}setClass(n){return this.button.setClass(n),this}setDropdownText(n){var d;const r=this.button.buttonEl.createDiv("mini-toolbar-text"),o=this.button.buttonEl.createDiv("mini-toolbar-icon-with-text");C.setIcon(o,"chevron-down");const i=(d=n.doc.lineAt(n.selection.ranges[0].from))==null?void 0:d.from,a=_w.syntaxTree(n).resolveInner(i+1),c=a.type.prop(_w.tokenClassNodeProp);return r.setText(this.detectFormat(c,a)||"Text"),this}setDropdownIcon(){const n=this.button.buttonEl.createDiv("mini-toolbar-highlight-icon"),r=this.button.buttonEl.createDiv("mini-toolbar-icon-with-icon");return C.setIcon(n,"highlighter"),C.setIcon(r,"chevron-down"),this}detectFormat(n,r){var o;if(!n)return"Text";if(n.includes("strong"))return"Bold";if(n.includes("em"))return"Italic";if(n.includes("strikethrough"))return"Strike";if(n.contains("hmd-codeblock"))return"CodeBlock";if(n.contains("hmd-inline-code"))return"Code";if(n.contains("formatting-header")){const i=n.match(/header-\d{1,}/);if(i)return"Heading "+i[0].slice(-1)}if(n.contains("formatting-list")||n.contains("hmd-list-indent")){if(r!=null&&r.parent){const i=(o=r.parent)==null?void 0:o.type.prop(_w.lineClassNodeProp);if(i!=null&&i.contains("HyperMD-task-line"))return"To-do list"}if(n.contains("formatting-list-ol"))return"Numbered list";if(n.contains("formatting-list-ul"))return"Bulleted list"}}setTooltip(n){return this.button.setTooltip(n),this}setOptionsList(n){return this.dropdownOptions=n,this}onClick(n){return this.dropdownOptions.length>0?(this.button.onClick(r=>this.showEditMenu(r)),this):(this.button.onClick(n),this)}showEditMenu(n){var a,c;if(this.menuOpened=!this.menuOpened,!this.menuOpened)return;this.menu=new C.Menu,this.menu.onHide(()=>{this.menuOpened=!1});const r=n.currentTarget,o=(a=n.currentTarget)==null?void 0:a.getBoundingClientRect(),i={x:o.left-6,y:o.bottom+6};for(let d=0;d<((c=this.dropdownOptions)==null?void 0:c.length);d++)this.menu.addItem(f=>{f.setIcon("zap").setTitle(this.dropdownOptions[d]).onClick(()=>{})});this.menu.setParentElement(r).showAtPosition(i)}then(n){return n(this),this}}class Xne extends C.Component{constructor(n){super();De(this,"dom");De(this,"smallBtnContainer");De(this,"unloading",!1);this.dom=n==null?void 0:n.createDiv({cls:"cm-mini-toolbar"},r=>r.style.position="absolute"),this.smallBtnContainer=this.dom}addSmallButton(n){return n(new Qne(this.smallBtnContainer)),this}hide(){return this.unload(),this.unloading?this:(this.unloading=!0,this.dom.detach(),this.unloading=!1,this)}}const ere=fl.Decoration.line({attributes:{"data-ph":E("What do you think now...")},class:"thino-editor-placeholder"}),tre=Cm.StateField.define({create(){return fl.Decoration.none},update(e,t){const n=t.state.field(C.editorInfoField);if(!(n!=null&&n.view)&&!((n==null?void 0:n.view)instanceof cu))return e;const r=new Cm.RangeSetBuilder,o=t.state.doc.toString(),i=t.state.doc.lineAt(0);return(o==null?void 0:o.length)==0&&r.add(i.from,i.from,ere),r.finish()},provide:e=>fl.EditorView.decorations.from(e)});function vk(e){return`userId:${e}`}function nre(e,t){return`expiryDate:${t}:${e}`}function rre(e){try{const t=vk(e==null?void 0:e.appId);return Wr.get([t])[t]||""}catch(t){return console.error(t),""}}function ore(e,t){try{const n=vk(t==null?void 0:t.appId);return Wr.set({[n]:e}),{userId:e,key:n}}catch(n){console.error(n)}}function ire(e,t){try{const n=nre(rre(t),t==null?void 0:t.appId);Wr.set({[n]:e})}catch(n){console.error(n)}}const are=ct.grabImageFromUrl,sre=require("http"),lre=require("url");function cre(e){const t=e.indexOf(";base64,"),n=e.substring(5,t),r=e.substr(t+8),o=atob(r),i=new ArrayBuffer(o.length),a=new Uint8Array(i);for(let d=0;d<o.length;d++)a[d]=o.charCodeAt(d);return new Blob([i],{type:n})}const rE=async e=>{const{type:t}=e;if(t.startsWith("image"))try{return`${await J1.upload(e)}`}catch(n){new C.Notice(n)}};function ure(e){const t=sre.createServer(async function(n,r){r.setHeader("Access-Control-Allow-Origin","*"),r.setHeader("Access-Control-Allow-Methods","GET, HEAD, POST, OPTIONS, PUT, PATCH, DELETE"),r.setHeader("Access-Control-Allow-Headers","Access-Control-Allow-Headers, Origin, Authorization,Accept,x-client-id, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, hypothesis-client-version"),r.setHeader("Access-Control-Allow-Credentials","true");try{if(n.url){const o=lre.parse(n.url,!0);switch(o.pathname){case"/create":{if(n.method!=="POST"){r.statusCode=404,r.end();break}let i="";n.on("data",a=>{i+=a}),n.on("end",async()=>{const a=JSON.parse(i),{text:c,isList:d,type:f,imageList:m,sourceLink:g}=a;let v=c;if(!v){r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thino:null,link:null}));return}new RegExp(/(<([^>]+)>)(?!\))/g).test(c)&&(v=C.htmlToMarkdown(c)),g&&(v+=` [source](<${decodeURIComponent(g)}>)`);let T=[];const S=[];if(e.AutoDownloadImage){const P=v.match(Rd)||[];if(P.length>0){for(const R of P)try{const M=await are(R);if(M.size===0)continue;const _=new File([M],"image.png",{type:"image/png"}),L=await rE(_);S.push({oldUrl:R,newUrl:L})}catch(M){console.error(M)}S.forEach(R=>{v=v.replace(R.oldUrl,R.newUrl)}),m&&m.length>0&&(T=await Promise.all(m.map(async R=>{const M=cre(R);return new File([M],"image.png",{type:"image/png"})})));for(const R of T){const M=await rE(R);v+=`
${M}`}}}let I=f;I||(I=e.MemoSaveLocation);const k=await Te.createThino({content:v,isList:d,type:I});k&&(Te.pushMemo(k),ot.clearQuery()),r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thino:k,link:`obsidian://thino?openId=${k.id}`}))});break}case"/search":{if(n.method!=="GET"){r.statusCode=404,r.end();break}const i=o.query,{keyword:a}=i,c=Te.getThinoViaKeyword(a);r.statusCode=200,r.setHeader("Content-Type","application/json");const d=JSON.stringify({status:"success",thinos:c});r.end(d);break}case"/list":{if(n.method!=="GET"){r.statusCode=404,r.end();break}const{count:i}=o.query,a=Te.getState().memos.slice(0,parseInt(i));r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thinos:a}));break}case"/info":{if(n.method!=="GET"){r.statusCode=404,r.end();break}const{getSettings:i}=o.query;if(!i){r.statusCode=404,r.end();break}const a=ft.getState().settings;r.statusCode=200,r.setHeader("Content-Type","application/json");const c=JSON.stringify({status:"success",infoSettings:a});r.end(c);break}default:r.statusCode=404,r.end();break}}}catch(o){console.error(o),r.statusCode=500,r.end({status:"error",message:o.message})}});return{listen(n,r){try{t.listen({port:parseInt(r),host:n})}catch(o){console.error(o),new C.Notice(E("Thino - Failed to start HTTP server, please check the port is available."))}new C.Notice(`${E("Thino - Started HTTP server on port")} ${r}`)},close(){t.close(),new C.Notice(E("Thino - Terminated HTTP server"))}}}const{clipboard:tr}=C.Platform.isDesktop?require("electron"):"";class dre{constructor(){De(this,"eventListeners");this.eventListeners={}}on(t,n){this.eventListeners[t]=this.eventListeners[t]||[],this.eventListeners[t].push(n)}once(t,n){n.$emitOnce=!0,this.on(t,n)}removeListener(t,n){if(this.eventListeners[t]){const r=this.eventListeners[t].findIndex(o=>o===n);r>=0&&this.eventListeners[t].splice(r,1)}}removeAllListeners(t){this.eventListeners[t]&&(this.eventListeners[t].length=0)}emit(t,...n){this.eventListeners[t]&&this.eventListeners[t].forEach(r=>{r.call(this,...n),r.$emitOnce&&this.removeListener(t,r)})}}const sh=new dre;let pm=null,oE=tr==null?void 0:tr.readText(),iE=tr==null?void 0:tr.readImage();tr&&(tr.on=(e,t)=>(sh.on(e,t),tr),tr.once=(e,t)=>(sh.once(e,t),tr),tr.off=(e,t)=>(t?sh.removeListener(e,t):sh.removeAllListeners(e),tr),tr.startWatching=()=>(pm||(pm=setInterval(()=>{fre(oE,oE=tr==null?void 0:tr.readText())&&sh.emit("text-changed"),hre(iE,iE=tr==null?void 0:tr.readImage())&&sh.emit("image-changed")},500)),tr),tr.stopWatching=()=>(pm&&clearInterval(pm),pm=null,tr));function fre(e,t){return t&&e!==t}function hre(e,t){return!t.isEmpty()&&e.toDataURL()!==t.toDataURL()}var fE;const Mb=(fE=require("electron"))==null?void 0:fE.remote;var hE,pE;const aE=(pE=(hE=require("electron"))==null?void 0:hE.remote)==null?void 0:pE.screen;class pre{constructor(t,n){De(this,"isRegisted");De(this,"leaf");De(this,"clipboard");De(this,"isScreenTop",!1);De(this,"currentSplitWindow");De(this,"intervalNum");De(this,"allowsCopy",!1);De(this,"plugin");De(this,"actionEl",null);this.app=t,this.plugin=n,this.isRegisted=!1,this.leaf=null,this.clipboard=tr}async onload(){C.Platform.isDesktop&&(this.initGlobalCopyEvents(),await this.registerAllShortcuts(),this.registerEvents())}registerEvents(){this.plugin.registerEvent(this.app.workspace.on("quit",()=>{Mb.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally)}))}initGlobalCopyEvents(){this.plugin.addCommand({id:"init-global-copy-events",name:E("Global copy"),callback:()=>{this.allowsCopy=!this.allowsCopy,!this.allowsCopy&&this.clipboard.stopWatching(),this.allowsCopy&&this.clipboard.startWatching(),this.leaf&&this.allowsCopy&&(this.actionEl=this.leaf.view.addAction("clipboard-x","Stop global copying",()=>{var t;this.allowsCopy=!1,this.clipboard.stopWatching(),(t=this.actionEl)==null||t.remove()}))}})}onunload(){this.isRegisted&&(Mb.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally),this.clipboard.off("text-changed"),this.clipboard.off("image-changed"),this.clipboard.stopWatching(),this.leaf&&this.leaf.detach())}getCurrentLeaf(){var n;return this.leaf?this.app.workspace.getLeavesOfType("thino_view").length>0&&!!this.app.workspace.getLeafById(this.leaf.id)?!0:((n=this.leaf)==null||n.detach(),this.currentSplitWindow.close(),this.currentSplitWindow=null,this.leaf=null,this.isScreenTop=!1,!1):!1}async registerAllShortcuts(){Mb.globalShortcut.register(this.plugin.settings.CaptureKey.OpenThinoGlobally,()=>{this.getCurrentLeaf()?this.showThinoView():this.openThinoView()}),this.isRegisted=!0}showThinoView(){var r,o,i,a;const t=aE.getCursorScreenPoint(),n=(a=(i=(o=(r=this.leaf)==null?void 0:r.parent)==null?void 0:o.parent)==null?void 0:i.win)==null?void 0:a.electronWindow;if(n){if(n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),this.leaf.view.containerEl.toggleClass("thino-float-window",!0),n.isMinimized()&&n.restore(),n.focus(),this.plugin.settings.CaptureKey.ShowNearMouse){const{width:c,height:d}=n.getBounds();n.setBounds({x:t.x,y:t.y,width:c,height:d})}if(this.app.workspace.trigger("focus-on-textarea"),this.isScreenTop){this.isScreenTop=!1,setTimeout(()=>{n.setAlwaysOnTop(!1,"screen")},200);return}this.isScreenTop=!0}}openThinoView(){var i,a,c,d,f;this.leaf=this.app.workspace.openPopoutLeaf({size:{width:400,height:400}});const t=this.leaf;this.leaf.view.containerEl.toggleClass("thino-float-window",!0),this.leaf.setViewState({type:"thino_view"}),setTimeout(()=>{t.view.containerEl.classList.toggle("mobile-view",!0)},0),this.currentSplitWindow=(a=(i=this.leaf)==null?void 0:i.parent)==null?void 0:a.parent;const n=(f=(d=(c=this.leaf)==null?void 0:c.parent)==null?void 0:d.parent)==null?void 0:f.win.electronWindow;if(!n)return;n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),this.isScreenTop=!0;const r=this.app,o=m=>{var w,T,S;const g=aE.getCursorScreenPoint(),v=(S=(T=(w=t==null?void 0:t.parent)==null?void 0:w.parent)==null?void 0:T.win)==null?void 0:S.electronWindow;if(v){if(v.isMinimized()&&v.restore(),!this.isScreenTop&&this.plugin.settings.CaptureKey.ShowNearMouse){const{width:I,height:k}=v.getBounds();v.setBounds({x:g.x,y:g.y-200,width:I,height:k})}v.setAlwaysOnTop(!0,"screen"),r.workspace.trigger("focus-on-textarea"),r.workspace.trigger("send-to-thino",m,t)}};this.clipboard.on("text-changed",()=>{const m=this.clipboard.readText();o(m)}).on("image-changed",()=>{const m=this.clipboard.readImage();o(m)})}}class sE extends C.EditorSuggest{constructor(n,r){super(n);De(this,"root");De(this,"editor");De(this,"cursor");De(this,"plugin");De(this,"tags");De(this,"type","customTag");De(this,"HASHTAG_REGEX",/(^|\s)#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]*$/g);this.plugin=r}checkSettings(){return this.plugin.settings.UseVaultTags}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const o=(i=r.parentElement)==null?void 0:i.parentElement;return(o==null?void 0:o.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const o=C.prepareFuzzySearch(n);return r.map(a=>{const c=o(a);return c?{item:a,match:c}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r)||this.checkSettings())return null;this.tags=Te.getState().tags,this.cursor=n,this.editor=r;const o=n.line,i=r.getLine(o),a=i.substr(0,n.ch);if(a.match(this.HASHTAG_REGEX)&&i.substr(n.ch,1)!=="#"){const c=a.lastIndexOf("#"),d=a.substr(c+1);return{start:{line:o,ch:c},end:{line:o,ch:n.ch},query:d}}return null}getSuggestions(n){return this.fuzzySearchItemsOptimized(n.query,this.tags).map(r=>r.item).sort((r,o)=>r.localeCompare(o))||[]}renderSuggestion(n,r){r.setText(n)}selectSuggestion(n){if(this.context){const r=this.context.editor,o=this.context.start,i=this.context.end;r.transaction({changes:[{from:o,to:i,text:"#"+n+" "}]}),setTimeout(function(){return r.focus()})}this.close()}}const tD=crypto,wk=e=>e instanceof CryptoKey,ev=new TextEncoder,nD=new TextDecoder;function mre(...e){const t=e.reduce((o,{length:i})=>o+i,0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}const gre=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},kb=e=>{let t=e;t instanceof Uint8Array&&(t=nD.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return gre(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class K0 extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class yre extends K0{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class Q0 extends K0{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class To extends K0{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class vre extends K0{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}function Ql(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function tv(e,t){return e.name===t}function Nb(e){return parseInt(e.name.slice(4),10)}function wre(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function bre(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();n+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw new TypeError(n)}}function Sre(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!tv(e.algorithm,"HMAC"))throw Ql("HMAC");const r=parseInt(t.slice(2),10);if(Nb(e.algorithm.hash)!==r)throw Ql(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!tv(e.algorithm,"RSASSA-PKCS1-v1_5"))throw Ql("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(Nb(e.algorithm.hash)!==r)throw Ql(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!tv(e.algorithm,"RSA-PSS"))throw Ql("RSA-PSS");const r=parseInt(t.slice(2),10);if(Nb(e.algorithm.hash)!==r)throw Ql(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw Ql("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!tv(e.algorithm,"ECDSA"))throw Ql("ECDSA");const r=wre(t);if(e.algorithm.namedCurve!==r)throw Ql(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}bre(e,n)}function bk(e,t,...n){var r;if(n.length>2){const o=n.pop();e+=`one of type ${n.join(", ")}, or ${o}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const lE=(e,...t)=>bk("Key must be ",e,...t);function Sk(e,t,...n){return bk(`Key for the ${e} algorithm must be `,t,...n)}const Dk=e=>wk(e),dl=["CryptoKey"],Dre=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const o=Object.keys(r);if(!n||n.size===0){n=new Set(o);continue}for(const i of o){if(n.has(i))return!1;n.add(i)}}return!0};function Tre(e){return typeof e=="object"&&e!==null}function cE(e){if(!Tre(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const Ire=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},ou=(e,t,n=0)=>{n===0&&(t.unshift(t.length),t.unshift(6));const r=e.indexOf(t[0],n);if(r===-1)return!1;const o=e.subarray(r,r+t.length);return o.length!==t.length?!1:o.every((i,a)=>i===t[a])||ou(e,t,r+1)},uE=e=>{switch(!0){case ou(e,[42,134,72,206,61,3,1,7]):return"P-256";case ou(e,[43,129,4,0,34]):return"P-384";case ou(e,[43,129,4,0,35]):return"P-521";case ou(e,[43,101,110]):return"X25519";case ou(e,[43,101,111]):return"X448";case ou(e,[43,101,112]):return"Ed25519";case ou(e,[43,101,113]):return"Ed448";default:throw new Q0("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},Ere=async(e,t,n,r,o)=>{let i,a;const c=new Uint8Array(atob(n.replace(e,"")).split("").map(f=>f.charCodeAt(0))),d=t==="spki";switch(r){case"PS256":case"PS384":case"PS512":i={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`},a=d?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":i={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`},a=d?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":i={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`},a=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":i={name:"ECDSA",namedCurve:"P-256"},a=d?["verify"]:["sign"];break;case"ES384":i={name:"ECDSA",namedCurve:"P-384"},a=d?["verify"]:["sign"];break;case"ES512":i={name:"ECDSA",namedCurve:"P-521"},a=d?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const f=uE(c);i=f.startsWith("P-")?{name:"ECDH",namedCurve:f}:{name:f},a=d?[]:["deriveBits"];break}case"EdDSA":i={name:uE(c)},a=d?["verify"]:["sign"];break;default:throw new Q0('Invalid or unsupported "alg" (Algorithm) value')}return tD.subtle.importKey(t,c,i,(o==null?void 0:o.extractable)??!1,a)},xre=(e,t,n)=>Ere(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,n);async function Cre(e,t,n){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return xre(e,t,n)}const Mre=(e,t)=>{if(!(t instanceof Uint8Array)){if(!Dk(t))throw new TypeError(Sk(e,t,...dl,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${dl.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},kre=(e,t,n)=>{if(!Dk(t))throw new TypeError(Sk(e,t,...dl));if(t.type==="secret")throw new TypeError(`${dl.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&t.type==="public")throw new TypeError(`${dl.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&t.type==="public")throw new TypeError(`${dl.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&n==="verify"&&t.type==="private")throw new TypeError(`${dl.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&n==="encrypt"&&t.type==="private")throw new TypeError(`${dl.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},Nre=(e,t,n)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?Mre(e,t):kre(e,t,n)};function Are(e,t,n,r,o){if(o.crit!==void 0&&r.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(a=>typeof a!="string"||a.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let i;n!==void 0?i=new Map([...Object.entries(n),...t.entries()]):i=t;for(const a of r.crit){if(!i.has(a))throw new Q0(`Extension Header Parameter "${a}" is not recognized`);if(o[a]===void 0)throw new e(`Extension Header Parameter "${a}" is missing`);if(i.get(a)&&r[a]===void 0)throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(r.crit)}const Fre=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};function Pre(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new Q0(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function Ore(e,t,n){if(wk(t))return Sre(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(lE(t,...dl));return tD.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(lE(t,...dl,"Uint8Array"))}const jre=async(e,t,n,r)=>{const o=await Ore(e,t,"verify");Ire(e,o);const i=Pre(e,o.algorithm);try{return await tD.subtle.verify(i,o,n,r)}catch{return!1}};async function Lre(e,t,n){if(!cE(e))throw new To("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new To('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new To("JWS Protected Header incorrect type");if(e.payload===void 0)throw new To("JWS Payload missing");if(typeof e.signature!="string")throw new To("JWS Signature missing or incorrect type");if(e.header!==void 0&&!cE(e.header))throw new To("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const S=kb(e.protected);r=JSON.parse(nD.decode(S))}catch{throw new To("JWS Protected Header is invalid")}if(!Dre(r,e.header))throw new To("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...r,...e.header},i=Are(To,new Map([["b64",!0]]),n==null?void 0:n.crit,r,o);let a=!0;if(i.has("b64")&&(a=r.b64,typeof a!="boolean"))throw new To('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:c}=o;if(typeof c!="string"||!c)throw new To('JWS "alg" (Algorithm) Header Parameter missing or invalid');const d=n&&Fre("algorithms",n.algorithms);if(d&&!d.has(c))throw new yre('"alg" (Algorithm) Header Parameter value not allowed');if(a){if(typeof e.payload!="string")throw new To("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new To("JWS Payload must be a string or an Uint8Array instance");let f=!1;typeof t=="function"&&(t=await t(r,e),f=!0),Nre(c,t,"verify");const m=mre(ev.encode(e.protected??""),ev.encode("."),typeof e.payload=="string"?ev.encode(e.payload):e.payload);let g;try{g=kb(e.signature)}catch{throw new To("Failed to base64url decode the signature")}if(!await jre(c,t,g,m))throw new vre;let w;if(a)try{w=kb(e.payload)}catch{throw new To("Failed to base64url decode the payload")}else typeof e.payload=="string"?w=ev.encode(e.payload):w=e.payload;const T={payload:w};return e.protected!==void 0&&(T.protectedHeader=r),e.header!==void 0&&(T.unprotectedHeader=e.header),f?{...T,key:t}:T}async function Rre(e,t,n){if(e instanceof Uint8Array&&(e=nD.decode(e)),typeof e!="string")throw new To("Compact JWS must be a string or Uint8Array");const{0:r,1:o,2:i,length:a}=e.split(".");if(a!==3)throw new To("Invalid Compact JWS");const c=await Lre({payload:o,protected:r,signature:i},t,n),d={payload:c.payload,protectedHeader:c.protectedHeader};return typeof t=="function"?{...d,key:c.key}:d}const _re={webId:"globe-2",pinned:"pin",archived:"archive",visibility:"eye",deleted:"trash"};class Bre extends fl.WidgetType{constructor(n,r,o,i,a){super();De(this,"error",!1);this.view=n,this.plugin=r,this.target=o,this.type=i,this.to=a}eq(n){return this.target===n.target}toDOM(){const n=createSpan();return n.toggleClass("thino-inline-widget",!0),C.setIcon(n,_re[this.type]||"help-circle"),C.setTooltip&&C.setTooltip(n,this.target),n}}function Hre(e){class t{constructor(o){De(this,"view");De(this,"match",new fl.MatchDecorator({regexp:/\[(webId|pinned|archived|visibility|deleted)::([^\]]+)\]/g,decorate:(o,i,a,c,d)=>{this.shouldRender(d,i,a)&&o(i,a,fl.Decoration.replace({widget:new Bre(d,e,c[0],c[1],a)}))}}));De(this,"decorations",fl.Decoration.none);this.view=o,this.updateDecorations(o)}update(o){this.updateDecorations(o.view,o)}destroy(){this.decorations=fl.Decoration.none}updateDecorations(o,i){!i||this.decorations.size===0?this.decorations=this.match.createDeco(o):this.decorations=this.match.updateDeco(i,this.decorations)}isLivePreview(o){return o.field(C.editorLivePreviewField)}shouldRender(o,i,a){return!o.state.selection.ranges.some(d=>d.from<=i?d.to>=i:d.from<=a)&&this.isLivePreview(o.state)}}const n={decorations:r=>r.decorations.update({filter:(o,i,a)=>{const c=a.spec.widget;return c&&c.error?!1:o===i||!r.view.state.selection.ranges.filter(d=>{const f=d.from,m=d.to;return f<=o?m>=o:f<=i}).length}})};return fl.ViewPlugin.fromClass(t,n)}const Yre=e=>e.ctrlKey!==void 0||e.metaKey!==void 0||e.shiftKey!==void 0||e.altKey!==void 0,nv=()=>{new C.Notice(E("Open Memos Successfully"))},rv=[{id:"open-thino-in-left-sidebar",shortName:E("Left sidebar"),name:E("Open thino in left sidebar"),icon:"arrow-left",location:"left",cb:nv,modKeys:"shift"},{id:"open-thino-in-right-sidebar",shortName:E("Right sidebar"),name:E("Open thino in right sidebar"),icon:"arrow-right",location:"right",cb:nv,modKeys:["ctrl","meta"]},{id:"open-thino-in-float",shortName:E("Float window"),name:E("Open thino in float window"),icon:"layout",location:"float",cb:nv,modKeys:"alt"},{id:"open-thino-in-center",shortName:E("Center window"),name:E("Open thino in center window"),icon:"tv-2",location:"center",cb:nv,modKeys:void 0}];function dE(e,t,n){return new Promise((r,o)=>{let i="",a="";const c=d=>new Promise((f,m)=>{const g=t.ShareToThinoWithTextNewline===d||t.ShareToThinoWithTextNewline==="both"?`
`:" ";switch(t[d==="prepend"?"SharePrependType":"ShareAppendType"]){case"none":f();break;case"preset":t.ShareToThinoWithText&&(d==="prepend"?i=t.ShareToThinoWithTextPrepend+g:a=g+t.ShareToThinoWithTextAppend),f();break;case"input":{const v="Thino "+E(d==="prepend"?"Prepend text":"Append text");new Tk(e,v,w=>{d==="prepend"?i=w.trim()+(w.trim()?g:""):a=(w.trim()?g:"")+w,f()}).open();break}case"selectTags":new wO(e,v=>{const w=v.length>0?v.map(T=>"#"+T).join(" "):"";d==="prepend"?i=w.trim()+(w.trim()?g:""):a=(w.trim()?g:"")+w.trim(),f()}).open();break;default:m(new Error("Invalid configuration type."))}});Promise.all([c("append"),c("prepend")]).then(()=>n(i,a)).then(()=>r()).catch(o)})}const Ure=e=>{const t=e.embedRegistry;if(!t)return!1;const n=t.embedByExtension.md,r=n({app:e,containerEl:createDiv()},null,null);return r.editable=!0,r.set(""),r.showEditor(),Object.getPrototypeOf(Object.getPrototypeOf(r.editMode)).constructor};async function rD(e){try{const t=e.app.internalPlugins.plugins["daily-notes"];let n;n={settings:{...e.settings,tokenForVerify:"***"},plugins:Object.keys(e.app.plugins.plugins),manifest:e.manifest,platform:C.Platform.resourcePathPrefix},t&&(n={...n,dailyNotePluginInfo:{options:t.instance.options}}),await navigator.clipboard.writeText(`\`\`\`json
${JSON.stringify(n,null,2)}
\`\`\``),new C.Notice(E("Debug info copied to clipboard"))}catch(t){console.error(t)}}class zre extends C.Plugin{constructor(){super(...arguments);De(this,"settings");De(this,"settingTab");De(this,"triggerBySelf",!1);De(this,"updatedID","");De(this,"debounceTimer",0);De(this,"apiHttpServer",null);De(this,"captureService",null);De(this,"loaded",!1);De(this,"MarkdownEditor")}async onload(){this.MarkdownEditor=Ure(this.app),await this.loadSettings(),Zte(),this.registerRibbon(),await this.verify();try{await this.checkVersionAndShowChangeLog()}catch(n){console.error(n)}this.settingTab=new ine(this.app,this),this.addSettingTab(this.settingTab),this.initApp(),this.initEditor(),this.initURIHandler(),this.registerMobileEvent(),this.registerCommands(),this.registerCanvasNodeMemos(),this.registerHoverEvent(),this.registerLinkOpen(),this.registerCodeBlocks(),this.registerEditorContextMenu(),this.registerEditorSuggest(new zte(this.app,this)),this.registerEditorExtension([tre]),this.app.workspace.onLayoutReady(this.onLayoutReady.bind(this)),this.registerView(Bo,n=>new cu(n,this))}async loadSettings(){this.settings=Object.assign({},ds,await this.loadData()),ft.setSettings(this.settings)}async saveSettings(){await this.saveData(this.settings),ft.setSettings(this.settings)}onunload(){var r;this.app.workspace.detachLeavesOfType(Bo),Te.clearMemos(),Re.dispatch({type:"CLEAR_MEMOS",payload:null}),Re.dispatch({type:"CLEAR_FILES",payload:null}),Re.dispatch({type:"CLEAR_VIEW",payload:null});const n=document.body.find(".dialog-wrapper");n&&((r=n.parentElement)==null||r.detach()),this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null),this.captureService&&this.captureService.onunload(),new C.Notice(E("Close Memos Successfully"))}initEditor(){this.register(bv(C.MetadataCache.prototype,{getFileCache:n=>function(r){return!(r!=null&&r.path)&&!r?null:n.call(this,r)}}))}initApp(){ft.setApp(this.app)}initURIHandler(){this.registerObsidianProtocolHandler("thino",async n=>{var a,c,d;if(!n)return;if(n.openSettings&&(this.app.setting.open(),this.app.setting.openTabById(this.manifest.id||"obsidian-memos")),n.userid)try{const f=n.userid;ore(f,this.app),ire(C.moment().add(30,"days").valueOf(),this.app),dt.setRefresh(!0)}catch(f){console.error(f),new C.Notice(E("Failed to verify"))}if(n.token)try{const f=n.token;(a=this.app)==null||a.saveLocalStorage("tokenForSync",f),setTimeout(()=>{this.app.setting.open(),this.app.setting.openTabById(this.manifest.id||"obsidian-memos"),this.settingTab.display()},200),new C.Notice(E("Saved sync token successfully"))}catch(f){console.error(f),new C.Notice(E("Failed to save"))}if(n.copyToken){this.app.setting.open(),this.app.setting.openTabById(this.manifest.id??"obsidian-memos");const f=await ck();await navigator.clipboard.writeText(f),new C.Notice(E("Copied app id successfully"))}const r=(c=ft.getState())==null?void 0:c.verifyState,o=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),i=C.Platform.isDesktop?await Jn():o.identifier||o.uuid;if(!(!r||(r==null?void 0:r.appId)!==i)){if(n.content){const f=n.type,m=decodeURI(n.content)!==n.content?decodeURI(n.content):n.content,g=n.task,v=await Te.createThino({content:m,type:f,isList:!!g});if(!v)return;Te.pushMemo(v),ot.clearQuery()}n.openId&&await Te.openThinoByID(n.openId)}})}initGlobalManifest(){dt.setPluginManifest(this.manifest)}stopServer(){this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null)}async stopEnableList(){var i,a;const n=(i=ft.getState())==null?void 0:i.verifyState,r=!C.Platform.isDesktop&&await((a=window.Capacitor)==null?void 0:a.Plugins.Device.getId()),o=C.Platform.isDesktop?await Jn():r.identifier||r.uuid;if(!n||(n==null?void 0:n.appId)!==o){this.settings.EnabledLocationList=[{value:"DAILY",target:"ProcessEntriesBelow",insert:"InsertAfter"}],this.settingTab.debounceApplySettingsUpdate();return}}async initServer(){var i,a;if(C.Platform.isMobile||!this.settings.EnabledHttpApi)return;const n=(i=ft.getState())==null?void 0:i.verifyState,r=!C.Platform.isDesktop&&await((a=window.Capacitor)==null?void 0:a.Plugins.Device.getId()),o=C.Platform.isDesktop?await Jn():r.identifier||r.uuid;!n||(n==null?void 0:n.appId)!==o||(this.apiHttpServer=ure(this.settings),this.initServerPort())}initServerPort(){this.apiHttpServer&&this.settings.EnabledHttpApi&&this.apiHttpServer.listen(this.settings.HttpApiIpType,this.settings.HttpApiPort)}async initCaptureService(){var i,a;if(C.Platform.isMobile||!this.settings.CaptureKey.EnableCaptureKey)return;const n=(i=ft.getState())==null?void 0:i.verifyState,r=!C.Platform.isDesktop&&await((a=window.Capacitor)==null?void 0:a.Plugins.Device.getId()),o=C.Platform.isDesktop?await Jn():r.identifier||r.uuid;!n||(n==null?void 0:n.appId)!==o||(this.captureService=new pre(this.app,this),await this.captureService.onload())}registerMobileEvent(){C.Platform.isMobile&&(this.registerEvent(this.app.workspace.on("receive-text-menu",(n,r)=>{n.addItem(o=>{o.setSection("options").setIcon("popup-open").setTitle(E("Insert as Memo")).onClick(async()=>{let i=r;try{await dE(this.app,this.settings,async(a,c)=>{i=a+i+c;const d=await Te.createThino({content:i,type:this.settings.MemoSaveLocation||"DAILY",isList:!0});Te.pushMemo(d)})}catch(a){console.error("Configuration failed:",a);return}})})})),this.registerEvent(this.app.workspace.on("receive-files-menu",(n,r)=>{n.addItem(o=>{o.setIcon("popup-open").setTitle(E("Insert file as memo content")).onClick(async()=>{let a=r.map(c=>this.app.fileManager.generateMarkdownLink(c,c.path)).join(`
`);try{await dE(this.app,this.settings,async(c,d)=>{a=c+a+d;const f=await Te.createThino({content:a,type:this.settings.MemoSaveLocation||"DAILY",isList:!0});Te.pushMemo(f)})}catch(c){console.error("Configuration failed:",c);return}})})})))}registerCommands(){rv.forEach(n=>{this.addCommand({id:n.id,name:n.name,callback:()=>this.openMemos(n.location,n.cb),hotkeys:[]})}),["Modern","Clean","Minimal","Gradient"].forEach(n=>{this.addCommand({id:`share-thino-via-${n.toLowerCase()}`,name:E("Share thino")+` [${E(n)}]`,editorCallback:(r,o)=>{const i=r.getSelection();if(i.length===0)return;const a={id:`temp-${Date.now()}`,content:i,createdAt:C.moment().format("YYYY-MM-DD HH:mm:ss"),updatedAt:C.moment().format("YYYY-MM-DD HH:mm:ss"),deletedAt:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",thinoType:"JOURNAL",hasId:"",linkId:"",resourceList:[],creatorName:"thino",sourceType:"DAILY",path:o.file.path};yd(a,n.toLowerCase(),o)}})}),this.addCommand({id:"focus-mode",name:"Focus mode",callback:()=>{const n=document.body.hasClass("thino-focus");document.body.toggleClass("thino-focus",!n)}}),this.addCommand({id:"hide-side-bar",name:E("Toggle sidebar visibility"),callback:()=>{const n=dt.getState().isMobileView,r=document.body.hasClass("thino-hide-side-bar");document.body.toggleClass("thino-hide-side-bar",n?!1:!r)}}),this.addCommand({id:"hide-tags",name:E("Toggle tags visibility"),callback:()=>{const n=document.body.hasClass("thino-hide-tags");document.body.toggleClass("thino-hide-tags",!n)}}),this.addCommand({id:"hide-query-list",name:E("Toggle query list visibility"),callback:()=>{const n=document.body.hasClass("thino-hide-query-list");document.body.toggleClass("thino-hide-query-list",!n)}}),this.addCommand({id:"insert-task",name:E("Insert task"),checkCallback:n=>{const r=this.app.plugins.getPlugin("obsidian-tasks-plugin"),o=this.app.workspace.getLeavesOfType("thino_view").first();if(r&&o)return n||this.app.plugins.plugins["obsidian-tasks-plugin"].apiV1.createTaskLineModal().then(a=>{this.app.workspace.trigger("send-to-thino",a,o)}),!0}}),this.addCommand({id:"show-thino-editor",name:E("Show thino editor"),checkCallback:n=>{if(Te.initialized&&ft.initialized){if(!n){if(!ft.getState().view){new C.Notice(E("Please open thino first"));return}new $C(this.app).open()}return!0}}}),this.addCommand({id:"lock-thino",name:E("Lock thino"),checkCallback:n=>{if(this.app.workspace.getActiveViewOfType(cu)&&this.settings.needVerify)return n||dt.setLocked(!0),!0}}),this.addCommand({id:"copy-debug-info",name:E("Copy debug info"),callback:async()=>{await rD(this)}}),this.addCommand({id:"insert-editor",name:E("Insert editor"),checkCallback:n=>{const r=this.app.workspace.getActiveViewOfType(C.MarkdownView);if(r&&r.getViewType()==="markdown")return n||r.editor.replaceSelection("\n```thino\n{\n  editor: false\n}\n```\n"),!0}}),this.addCommand({id:"toggle-minimal-thino",name:E("Toggle minimal mode"),callback:()=>{const n=document.body.hasClass("minimal-thino");document.body.toggleClass("minimal-thino",!n)}}),this.addCommand({id:"focus-on-thino-editor",name:E("Focus on thino editor"),callback:()=>this.focusOnEditor(),hotkeys:[]}),this.addCommand({id:"reinit-thino-sync",name:E("ReSync web thinos to local"),callback:()=>{Xee(this.app)}}),this.addCommand({id:"init-thino-sync",name:E("Sync local thinos to web"),callback:async()=>{var r;if(!((r=this.app)==null?void 0:r.loadLocalStorage("tokenForSync"))){new C.Notice(E("Please input token first"));return}if(!this.settings.startSync){new C.Notice(E("Please enable sync first"));return}try{await Te.initSync()}catch(o){console.error(o),new C.Notice(E("Init Failed"))}}}),this.addCommand({id:"show-daily-thino",name:E("Show daily thino"),callback:()=>this.openDailyMemo(),hotkeys:[]}),this.addCommand({id:"focus-on-search-bar",name:E("Focus on search bar"),callback:()=>this.searchIt(),hotkeys:[]}),this.addCommand({id:"show-thino-in-popover",name:E("Show-thino in popover(Hover editor)"),callback:()=>this.showInPopover(),hotkeys:[]})}async onLayoutReady(){await this.stopEnableList(),await this.initServer(),this.initGlobalManifest(),await this.initMemos(),this.autoOpenMemos(),this.registerThinoWidget(),await this.registerToolbarCheck(),await this.initCaptureService(),ft.setPlugin(this);const n=this.app.workspace.editorSuggest.suggests.findIndex(r=>r.type==="customTag");n!==-1?(this.app.workspace.editorSuggest.suggests.splice(n,1),this.app.workspace.editorSuggest.suggests.unshift(new sE(this.app,this))):this.app.workspace.editorSuggest.suggests.unshift(new sE(this.app,this))}async initMemos(){try{await this.initDailyNotes()}catch(n){console.error(n)}ft.getState(),Te.getState(),await Te.fetchAllMemos()}async initDailyNotes(){this.settings.EnabledLocationList.find(n=>n.value==="DAILY")&&await ft.fechLocalDailyNotes()}registerCanvasNodeMemos(){if(!C.requireApiVersion("1.2.0")||!this.settings.EnabledLocationList.find(i=>i.value==="CANVAS"))return;const n=i=>{clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>{setTimeout(async()=>{const a=i.canvas.getData(),c=a.nodes.find(d=>d.id===i.id);if(c&&(r(c),i.canvas.setData(a),Te.getMemoById(i.id))){const f=await Te.updateMemo(i.id,c.text,c.thinoType);Te.editMemo(f)}i.canvas.requestSave(!0)},0)},800)},r=i=>{i.createdAt||(i.createdAt=C.moment().format("YYYY-MM-DD HH:mm:ss")),i.updatedAt=C.moment().format("YYYY-MM-DD HH:mm:ss"),i.deletedAt=i.deletedAt?i.deletedAt:"",i.pinned=i.pinned?i.pinned:!1,i.visibility=i.visibility?i.visibility:"PUBLIC",i.rowStatus=i.rowStatus?i.rowStatus:"NORMAL",i.thinoType=i.thinoType?i.thinoType:"JOURNAL",i.hasId=i.hasId?i.hasId:"",i.linkId=i.linkId?i.linkId:"",i.resourceList=[]},o=()=>{var v,w;const i=(v=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:v.view;if(!i||!(i==null?void 0:i.canvas))return!1;const c=((w=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:w.view).canvas.nodes.values(),f=Array.from(c).filter(T=>T.text!==void 0);if(!f||f.length===0)return!1;const m=f[0].child;if(!m)return!1;const g=bv(m.constructor.prototype,{save:T=>function(...S){T.call(this,...S),this.node.isEditing&&n(this.node)}});return this.register(g),!0};this.app.workspace.onLayoutReady(()=>{if(!o()){const i=this.app.workspace.on("layout-change",()=>{o()&&this.app.workspace.offref(i)});this.registerEvent(i)}})}registerLinkOpen(){bv(C.Workspace.prototype,{openLinkText:n=>async function(...r){const o=Te.getState().memos;if(o.find(i=>i.id===r[0]||i.id===r[1])){const i=o.find(a=>a.id===r[0]||a.id===r[1]);if(i){_h(i);return}}await n.call(this,...r)}})}registerHoverEvent(){this.registerHoverLinkSource("thino",{defaultMod:!0,display:"Thino"})}registerCodeBlocks(){this.registerMarkdownCodeBlockProcessor("thino",async(n,r)=>{var o;if(n){if(!((o=this.app.workspace.getLeavesOfType("thino_view"))!=null&&o.length)){r.toggleClass(["thino-editor-codeblock","view-error"],!0),lL(r,this);return}if(n){const i=C.parseYaml(n);uL(r,i)}}})}registerEditorContextMenu(){this.registerEvent(this.app.workspace.on("editor-menu",(n,r,o)=>{const i=r.getSelection();if(i.length===0)return;const a={id:`temp-${Date.now()}`,content:i,createdAt:C.moment().format("YYYY-MM-DD HH:mm:ss"),updatedAt:C.moment().format("YYYY-MM-DD HH:mm:ss"),deletedAt:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",thinoType:"JOURNAL",hasId:"",linkId:"",resourceList:[],creatorName:"thino",sourceType:"DAILY",path:o.file.path},c=(d,f)=>{d.addItem(m=>{m.setSection("selection").setTitle(f+E("Modern")).setIcon("palette").onClick(async()=>{yd(a,"modern",o)})}).addItem(m=>{m.setSection("selection").setTitle(f+E("Clean")).setIcon("palette").onClick(async()=>{yd(a,"clean",o)})}).addItem(m=>{m.setSection("selection").setTitle(f+E("Minimal")).setIcon("palette").onClick(async()=>{yd(a,"minimal",o)})}).addItem(m=>{m.setSection("selection").setTitle(E("Gradient")).setIcon("palette").onClick(async()=>{yd(a,"gradient",o)})})};C.Platform.isDesktop&&n.addItem(d=>{const f=d.setIcon("Memos").setSection("selection").setTitle(E("Thino share")).setSubmenu();c(f,"")}),C.Platform.isMobile&&c(n,E("Thino share")+" ")}))}registerRibbon(){this.addRibbonIcon("Memos",E("ribbonIconTitle"),async n=>{if(n.button===2){n.preventDefault();const r=new C.Menu;rv.forEach(o=>{r.addItem(i=>{i.setTitle(o.shortName).setIcon(o.icon).onClick(async()=>{await this.openMemos(o.location,o.cb)})})}),r.showAtMouseEvent(n);return}for(let r=0;r<rv.length;r++){const o=rv[r];if(!o.modKeys){await this.openMemos(o.location,o.cb);break}if(!Yre(n))continue;const i=a=>n[`${a}Key`];if(typeof o.modKeys=="string"&&i(o.modKeys)||Array.isArray(o.modKeys)&&o.modKeys.some(i)){await this.openMemos(o.location,o.cb);break}}})}registerThinoWidget(){this.registerEditorExtension([Hre(this)])}async registerToolbarCheck(){var i,a;if(this.loaded)return;const n=(i=ft.getState())==null?void 0:i.verifyState,r=!C.Platform.isDesktop&&await((a=window.Capacitor)==null?void 0:a.Plugins.Device.getId()),o=C.Platform.isDesktop?await Jn():r.identifier||r.uuid;!n||(n==null?void 0:n.appId)!==o||(this.registerEditorExtension([Kne(this.app)]),this.registerEditorSuggest(new Vte(this.app,this)),this.loaded=!0)}async verify(){var o;let n="";if(C.Platform.isDesktop)n=await Jn();else{const i=await((o=window.Capacitor.Plugins.Device)==null?void 0:o.getId());if(!i)return;n=i.identifier||i.uuid}async function r(i){if(!i)return ft.setVerifyState(null),!1;const d=await Cre(`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAr+i4MLzI40gGFHl7gdRH
UL1mH0NcWEs1/IBYDDbc9ALbvUGwDaUcVIKke+b+F4T7qISexyGd5qV0s1vNYeCk
iCTq4w3+CFDurIFYAgQYTcV6K5pL8Bpb79FEclsTnAcKgiuzKBxPZ1djKxbgnmFj
+PE+EcmX+JJK9hG1O8X+YFJoPJWl225eCoysONickiI7Ndwu9YLR8pIUb1VMyJSy
cMR87z466Nc5Hx2QhwyuiiQYL3Ru4WkNF3AVWgqeOlhBDybFFwDaV7OOMTiYtH46
3iKx6azEVS8W/gYfrW+hKp2VziPPw3oxouP/wCes/4qRlXkwyjSwtfLtpE4Rsa4+
swIDAQAB
-----END PUBLIC KEY-----`,"RS256");try{const{payload:f}=await Rre(i,d),m=JSON.parse(new TextDecoder().decode(f));return!m||m.iss!=="pkmer"||m.type!=="thino"||m.appId!==n?!1:(ft.setVerifyState(m),!0)}catch(f){console.error(f)}}return await r(this.settings.tokenForVerify[n])}async checkVersionAndShowChangeLog(){const n=this.manifest.version,r=this.settings.LastUpdatedVersion;n!==r&&(this.settings.LastUpdatedVersion=n,await this.saveSettings(),this.showChangeLog())}showChangeLog(){new oD(this.app,this.manifest.version).open()}autoOpenMemos(){this.app.workspace.getLeavesOfType(Bo).length>0||this.settings.MobileAndDesktop==="Mobile"&&C.Platform.isDesktop||this.settings.MobileAndDesktop==="Desktop"&&C.Platform.isMobile||this.settings.OpenMemosAutomatically&&this.openMemos()}async openDailyMemo(){if(this.app.workspace.getLeavesOfType(Bo).length>0){ot.setPathname("/daily");return}await this.openMemos(),ot.setPathname("/daily")}async openMemos(n="center",r){const o=this.app.workspace;if(o.getLeavesOfType(Bo).length>0){const c=o.getLeavesOfType(Bo)[0];o.setActiveLeaf(c),o.revealLeaf(c);return}o.detachLeavesOfType(Bo);let i;switch(n){case"left":i=o.getLeftLeaf(!1);break;case"right":i=o.getRightLeaf(!1);break;case"float":i=o.getLeaf("window");break;default:i=o.getLeaf(!0);break}i&&(await i.setViewState({type:Bo}),o.revealLeaf(i));const a=i.view.containerEl.querySelector("textarea");a&&a.focus(),r==null||r()}async searchIt(){const n=this.app.workspace,r=n.getLeavesOfType(Bo);if(!(r.length>0)){await this.openMemos(),this.app.workspace.trigger("focus-on-searchbar");return}const o=r[0];n.revealLeaf(o),this.app.workspace.trigger("focus-on-searchbar")}async focusOnEditor(){if(!(this.app.workspace.getLeavesOfType(Bo).length>0)){await this.openMemos();return}this.app.workspace.trigger("focus-on-textarea")}changeStatus(){const n=this.app.workspace,r=n.getLeavesOfType(Bo);if(!(r.length>0)){new C.Notice(E("Please Open Memos First"));return}const o=r[0];n.setActiveLeaf(o),o.view.containerEl.querySelector(".list-or-task").click()}async showInPopover(){var i,a,c;const n=this.app.workspace;if(n.detachLeavesOfType(Bo),!this.app.plugins.getPlugin("obsidian-hover-editor")){new C.Notice(E("Please install obsidian-hover-editor plugin first"));return}const o=await((i=this.app.plugins.getPlugin("obsidian-hover-editor"))==null?void 0:i.spawnPopover());o&&(await o.setViewState({type:Bo}),n.revealLeaf(o),o.view.containerEl.classList.add("mobile-view"),(a=this.settings)!=null&&a.FocusOnEditor&&o.view.containerEl.querySelector("textarea")!==void 0&&((c=o.view.containerEl.querySelector("textarea"))==null||c.focus()))}}class oD extends C.Modal{constructor(n,r){super(n);De(this,"component");this.version=r}async onOpen(){const{contentEl:n}=this;this.containerEl.toggleClass("thino-changelog-modal",!0),n.createEl("h2",{text:E("Thino update info"),cls:"thino-changelog-title"}).createDiv({cls:"thino-changelog-version",text:`${this.version}`});try{n.createEl("h3",{text:E("Latest version")});const o=n.createDiv("current-change-log");n.createEl("hr"),n.createEl("h3",{text:E("Previous version")});const i=n.createDiv("prev-change-log"),c=await C.requestUrl("https://raw.githubusercontent.com/Quorafind/Obsidian-Thino/main/CHANGELOG.md");this.component=new C.Component;const[d,f]=this.getLatestVersionContent(c.text);let m=d,g=f;try{const v=localStorage.getItem("language"),w=v&&(v==="zh"||v==="zh-TW");m=w?d.replaceAll("> [!tips]+","> [!tips]-").replaceAll("> [!note]-","> [!note]+"):d,g=w?f.replaceAll("> [!tips]+","> [!tips]-").replaceAll("> [!note]-","> [!note]+"):f}catch(v){console.error(v)}await C.MarkdownRenderer.render(this.app,m,o,"",this.component),await C.MarkdownRenderer.render(this.app,g,i,"",this.component)}catch(o){console.error(o),n.createEl("p",{text:E("Failed to load changelog")}),n.createEl("a",{text:E("View online"),attr:{href:"https://raw.githubusercontent.com/Quorafind/Obsidian-Thino/main/CHANGELOG.md",target:"_blank"}})}}getLatestVersionContent(n){const r=/^# .+/gm,o=[...n.matchAll(r)];if(o.length===0)return[n,""];const i=o[0].index||0;let a=n.length;o.length>1&&(a=o[1].index||n.length);const c=n.substring(i,a).trim(),d=n.substring(a).trim();return[c,d]}onClose(){var r;const{contentEl:n}=this;n.empty(),(r=this.component)==null||r.unload()}}class Tk extends C.Modal{constructor(n,r,o){super(n);De(this,"inputEl");De(this,"callback");this.title=r,this.callback=o}onOpen(){const{contentEl:n}=this;this.setTitle(this.title),this.containerEl.toggleClass(["thino-input-dialog","thino-bulk-action-dialog","tag-actions"],!0),this.inputEl=n.createEl("input",{attr:{type:"text"}}),this.inputEl.focus(),new C.Setting(n).addButton(r=>{r.setButtonText(E("OK")).onClick(()=>{this.close()})})}onClose(){this.contentEl.empty(),this.callback(this.inputEl.value)}}exports.ChangeLogModal=oD;exports.InputModal=Tk;exports.default=zre;exports.getCurrentDebugInfo=rD;
