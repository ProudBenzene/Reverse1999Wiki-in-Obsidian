"use strict";var zN=Object.defineProperty;var VN=(e,t,n)=>t in e?zN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var De=(e,t,n)=>(VN(e,typeof t!="symbol"?t+"":t,n),n);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const C=require("obsidian"),jw=require("@codemirror/language"),Cm=require("@codemirror/state"),ul=require("@codemirror/view");function WN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ux={exports:{}},tm={},cx={exports:{}},ln={},yD;function ZN(){if(yD)return ln;yD=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function I(G,ne,pe){this.props=G,this.context=ne,this.refs=T,this.updater=pe||b}I.prototype.isReactComponent={},I.prototype.setState=function(G,ne){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ne,"setState")},I.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function k(){}k.prototype=I.prototype;function A(G,ne,pe){this.props=G,this.context=ne,this.refs=T,this.updater=pe||b}var R=A.prototype=new k;R.constructor=A,S(R,I.prototype),R.isPureReactComponent=!0;var j=Array.isArray,B=Object.prototype.hasOwnProperty,L={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function U(G,ne,pe){var Ie,Oe={},Ye=null,_e=null;if(ne!=null)for(Ie in ne.ref!==void 0&&(_e=ne.ref),ne.key!==void 0&&(Ye=""+ne.key),ne)B.call(ne,Ie)&&!z.hasOwnProperty(Ie)&&(Oe[Ie]=ne[Ie]);var $e=arguments.length-2;if($e===1)Oe.children=pe;else if(1<$e){for(var Ue=Array($e),Ke=0;Ke<$e;Ke++)Ue[Ke]=arguments[Ke+2];Oe.children=Ue}if(G&&G.defaultProps)for(Ie in $e=G.defaultProps,$e)Oe[Ie]===void 0&&(Oe[Ie]=$e[Ie]);return{$$typeof:e,type:G,key:Ye,ref:_e,props:Oe,_owner:L.current}}function W(G,ne){return{$$typeof:e,type:G.type,key:ne,ref:G.ref,props:G.props,_owner:G._owner}}function Z(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function re(G){var ne={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(pe){return ne[pe]})}var Q=/\/+/g;function ce(G,ne){return typeof G=="object"&&G!==null&&G.key!=null?re(""+G.key):ne.toString(36)}function ee(G,ne,pe,Ie,Oe){var Ye=typeof G;(Ye==="undefined"||Ye==="boolean")&&(G=null);var _e=!1;if(G===null)_e=!0;else switch(Ye){case"string":case"number":_e=!0;break;case"object":switch(G.$$typeof){case e:case t:_e=!0}}if(_e)return _e=G,Oe=Oe(_e),G=Ie===""?"."+ce(_e,0):Ie,j(Oe)?(pe="",G!=null&&(pe=G.replace(Q,"$&/")+"/"),ee(Oe,ne,pe,"",function(Ke){return Ke})):Oe!=null&&(Z(Oe)&&(Oe=W(Oe,pe+(!Oe.key||_e&&_e.key===Oe.key?"":(""+Oe.key).replace(Q,"$&/")+"/")+G)),ne.push(Oe)),1;if(_e=0,Ie=Ie===""?".":Ie+":",j(G))for(var $e=0;$e<G.length;$e++){Ye=G[$e];var Ue=Ie+ce(Ye,$e);_e+=ee(Ye,ne,pe,Ue,Oe)}else if(Ue=v(G),typeof Ue=="function")for(G=Ue.call(G),$e=0;!(Ye=G.next()).done;)Ye=Ye.value,Ue=Ie+ce(Ye,$e++),_e+=ee(Ye,ne,pe,Ue,Oe);else if(Ye==="object")throw ne=String(G),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return _e}function fe(G,ne,pe){if(G==null)return G;var Ie=[],Oe=0;return ee(G,Ie,"","",function(Ye){return ne.call(pe,Ye,Oe++)}),Ie}function $(G){if(G._status===-1){var ne=G._result;ne=ne(),ne.then(function(pe){(G._status===0||G._status===-1)&&(G._status=1,G._result=pe)},function(pe){(G._status===0||G._status===-1)&&(G._status=2,G._result=pe)}),G._status===-1&&(G._status=0,G._result=ne)}if(G._status===1)return G._result.default;throw G._result}var le={current:null},oe={transition:null},he={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:oe,ReactCurrentOwner:L};return ln.Children={map:fe,forEach:function(G,ne,pe){fe(G,function(){ne.apply(this,arguments)},pe)},count:function(G){var ne=0;return fe(G,function(){ne++}),ne},toArray:function(G){return fe(G,function(ne){return ne})||[]},only:function(G){if(!Z(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},ln.Component=I,ln.Fragment=n,ln.Profiler=o,ln.PureComponent=A,ln.StrictMode=r,ln.Suspense=d,ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,ln.cloneElement=function(G,ne,pe){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Ie=S({},G.props),Oe=G.key,Ye=G.ref,_e=G._owner;if(ne!=null){if(ne.ref!==void 0&&(Ye=ne.ref,_e=L.current),ne.key!==void 0&&(Oe=""+ne.key),G.type&&G.type.defaultProps)var $e=G.type.defaultProps;for(Ue in ne)B.call(ne,Ue)&&!z.hasOwnProperty(Ue)&&(Ie[Ue]=ne[Ue]===void 0&&$e!==void 0?$e[Ue]:ne[Ue])}var Ue=arguments.length-2;if(Ue===1)Ie.children=pe;else if(1<Ue){$e=Array(Ue);for(var Ke=0;Ke<Ue;Ke++)$e[Ke]=arguments[Ke+2];Ie.children=$e}return{$$typeof:e,type:G.type,key:Oe,ref:Ye,props:Ie,_owner:_e}},ln.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:i,_context:G},G.Consumer=G},ln.createElement=U,ln.createFactory=function(G){var ne=U.bind(null,G);return ne.type=G,ne},ln.createRef=function(){return{current:null}},ln.forwardRef=function(G){return{$$typeof:u,render:G}},ln.isValidElement=Z,ln.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:$}},ln.memo=function(G,ne){return{$$typeof:f,type:G,compare:ne===void 0?null:ne}},ln.startTransition=function(G){var ne=oe.transition;oe.transition={};try{G()}finally{oe.transition=ne}},ln.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ln.useCallback=function(G,ne){return le.current.useCallback(G,ne)},ln.useContext=function(G){return le.current.useContext(G)},ln.useDebugValue=function(){},ln.useDeferredValue=function(G){return le.current.useDeferredValue(G)},ln.useEffect=function(G,ne){return le.current.useEffect(G,ne)},ln.useId=function(){return le.current.useId()},ln.useImperativeHandle=function(G,ne,pe){return le.current.useImperativeHandle(G,ne,pe)},ln.useInsertionEffect=function(G,ne){return le.current.useInsertionEffect(G,ne)},ln.useLayoutEffect=function(G,ne){return le.current.useLayoutEffect(G,ne)},ln.useMemo=function(G,ne){return le.current.useMemo(G,ne)},ln.useReducer=function(G,ne,pe){return le.current.useReducer(G,ne,pe)},ln.useRef=function(G){return le.current.useRef(G)},ln.useState=function(G){return le.current.useState(G)},ln.useSyncExternalStore=function(G,ne,pe){return le.current.useSyncExternalStore(G,ne,pe)},ln.useTransition=function(){return le.current.useTransition()},ln.version="18.2.0",ln}cx.exports=ZN();var F=cx.exports;const se=Zr(F),$N=WN({__proto__:null,default:se},[F]);var vD;function qN(){if(vD)return tm;vD=1;var e=F,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(u,d,f){var m,g={},v=null,b=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(b=d.ref);for(m in d)r.call(d,m)&&!i.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:t,type:u,key:v,ref:b,props:g,_owner:o.current}}return tm.Fragment=n,tm.jsx=a,tm.jsxs=a,tm}ux.exports=qN();var y=ux.exports;const Ra=e=>{const{children:t,store:n,context:r}=e,[o,i]=F.useState(n.getState());return F.useEffect(()=>{const a=n.subscribe(u=>{i(u)});return()=>{a()}},[]),y.jsx(r.Provider,{value:o,children:t})};function GN(e){const t=Object.keys(e),n={};for(const r of t)typeof e[r]=="function"&&(n[r]=e[r]);return(r={},o)=>{let i=!1;const a={};for(const u of t){const d=r[u],f=n[u](d,o);a[u]=f,i=i||f!==d}return i?a:r}}function JN(e,t){const n=[];let r=e;return{dispatch:u=>{const d=t(r,u),f=r;r=d;for(const m of n)m(r,f)},getState:()=>r,subscribe:u=>{let d=!0;return n.push(u),()=>{if(!d)return;const f=n.indexOf(u);n.splice(f,1),d=!1}}}}function KN(e,t){switch(t.type){case"SET_MARK_MEMO_ID":return t.payload.markMemoId===e.markMemoId?e:{...e,markMemoId:t.payload.markMemoId};case"SET_EDIT_MEMO_ID":return t.payload.editMemoId===e.editMemoId?e:{...e,editMemoId:t.payload.editMemoId};case"SET_GLOBAL_EDITOR_SHOWN":return t.payload.globalEditorShown===e.globalEditorShown?e:{...e,globalEditorShown:t.payload.globalEditorShown};case"SET_COMMENT_MEMO_ID":return t.payload.commentMemoId===e.commentMemoId?e:{...e,commentMemoId:t.payload.commentMemoId};case"SET_MOBILE_VIEW":return t.payload.isMobileView===e.isMobileView?e:{...e,isMobileView:t.payload.isMobileView};case"SET_CHANGED_BY_MEMOS":return t.payload.changedByMemos===e.changedByMemos?e:{...e,changedByMemos:t.payload.changedByMemos};case"SET_REFRESH":return t.payload.refresh===e.refresh?e:{...e,refresh:t.payload.refresh};case"SET_INSTANCE":return{...e,instanceList:e.instanceList.set(t.payload.id,t.payload.instance)};case"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW":return t.payload.showSiderbarInMobileView===e.showSiderbarInMobileView?e:{...e,showSiderbarInMobileView:t.payload.showSiderbarInMobileView};case"SET_MEMO_LIST_VIEW":return t.payload.memoListView===e.memoListView?e:{...e,memoListView:t.payload.memoListView};case"SET_MEMO_PLUGIN_MANIFEST":return{...e,manifest:t.payload.manifest};case"SET_LOADED":return{...e,loaded:t.payload.loaded};case"SET_EXIT_STEPS":return{...e,exited:t.payload.exited};case"SET_LOCKED":return{...e,locked:t.payload.locked};case"SET_APP_SETTING":return{...e,...t.payload};default:return e}}const QN={markMemoId:"",editMemoId:"",commentMemoId:"",shouldSplitMemoWord:!0,shouldHideImageUrl:!0,shouldUseMarkdownParser:!0,useTinyUndoHistoryCache:!1,isMobileView:!1,showSiderbarInMobileView:!1,changedByMemos:!1,memoListView:null,manifest:null,refresh:!1,loaded:!1,globalEditorShown:!1,instanceList:new Map,locked:!1,exited:!1};function XN(e,t){switch(t.type){case"RELOAD":return dx;case"SET_LOCATION":return t.payload;case"SET_PATHNAME":return t.payload.pathname===e.pathname?e:{...e,pathname:t.payload.pathname};case"SET_HASH":return t.payload.hash===e.hash?e:{...e,hash:t.payload.hash};case"SET_QUERY":return{...e,query:{...t.payload}};case"SET_TAG_QUERY":return t.payload.tag===e.query.tag?e:{...e,query:{...e.query,tag:t.payload.tag}};case"SET_DURATION_QUERY":return t.payload.duration===e.query.duration?e:{...e,query:{...e.query,duration:{...e.query.duration,...t.payload.duration}}};case"SET_TYPE":return t.payload.type===e.query.type?e:{...e,query:{...e.query,type:t.payload.type}};case"SET_TEXT":return t.payload.text===e.query.text?e:{...e,query:{...e.query,text:t.payload.text}};case"SET_QUERY_FILTER":return t.payload===e.query.filter?e:{...e,query:{...e.query,filter:t.payload}};default:return e}}const dx={pathname:"/",hash:"",query:{tag:"",duration:null,type:"",text:"",filter:""}};var un={};Object.defineProperty(un,"__esModule",{value:!0});var sr=C;const Cb="YYYY-MM-DD",Mb="gggg-[W]ww",fx="YYYY-MM",hx="YYYY-[Q]Q",px="YYYY";function $m(e){var n,r;const t=window.app.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n[e])==null?void 0:r.enabled)}function qm(){var e,t,n,r;try{const{internalPlugins:o,plugins:i}=window.app;if($m("daily")){const{format:f,folder:m,template:g}=((t=(e=i.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:t.daily)||{};return{format:f||Cb,folder:(m==null?void 0:m.trim())||"",template:(g==null?void 0:g.trim())||""}}const{folder:a,format:u,template:d}=((r=(n=o.getPluginById("daily-notes"))==null?void 0:n.instance)==null?void 0:r.options)||{};return{format:u||Cb,folder:(a==null?void 0:a.trim())||"",template:(d==null?void 0:d.trim())||""}}catch{}}function Gm(){var e,t,n,r,o,i,a;try{const u=window.app.plugins,d=(e=u.getPlugin("calendar"))==null?void 0:e.options,f=(n=(t=u.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.weekly;if($m("weekly"))return{format:f.format||Mb,folder:((r=f.folder)==null?void 0:r.trim())||"",template:((o=f.template)==null?void 0:o.trim())||""};const m=d||{};return{format:m.weeklyNoteFormat||Mb,folder:((i=m.weeklyNoteFolder)==null?void 0:i.trim())||"",template:((a=m.weeklyNoteTemplate)==null?void 0:a.trim())||""}}catch{}}function Jm(){var t,n,r,o;const e=window.app.plugins;try{const i=$m("monthly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.monthly)||{};return{format:i.format||fx,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((o=i.template)==null?void 0:o.trim())||""}}catch{}}function Km(){var t,n,r,o;const e=window.app.plugins;try{const i=$m("quarterly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.quarterly)||{};return{format:i.format||hx,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((o=i.template)==null?void 0:o.trim())||""}}catch{}}function Qm(){var t,n,r,o;const e=window.app.plugins;try{const i=$m("yearly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.yearly)||{};return{format:i.format||px,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((o=i.template)==null?void 0:o.trim())||""}}catch{}}function mx(...e){let t=[];for(let r=0,o=e.length;r<o;r++)t=t.concat(e[r].split("/"));const n=[];for(let r=0,o=t.length;r<o;r++){const i=t[r];!i||i==="."||n.push(i)}return t[0]===""&&n.unshift(""),n.join("/")}function eA(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function tA(e){const t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){const n=mx(...t);window.app.vault.getAbstractFileByPath(n)||await window.app.vault.createFolder(n)}}async function Xm(e,t){t.endsWith(".md")||(t+=".md");const n=sr.normalizePath(mx(e,t));return await tA(n),n}async function Eh(e){const{metadataCache:t,vault:n}=window.app,r=sr.normalizePath(e);if(r==="/")return Promise.resolve(["",null]);try{const o=t.getFirstLinkpathDest(r,""),i=await n.cachedRead(o),a=window.app.foldManager.load(o);return[i,a]}catch(o){return console.error(`Failed to read the daily note template '${r}'`,o),new sr.Notice("Failed to read the daily note template"),["",null]}}function gs(e,t="day"){const n=e.clone().startOf(t).format();return`${t}-${n}`}function gx(e){return e.replace(/\[[^\]]*\]/g,"")}function nA(e,t){if(t==="week"){const n=gx(e);return/w{1,2}/i.test(n)&&(/M{1,4}/.test(n)||/D{1,4}/.test(n))}return!1}function Ch(e,t){return yx(e.basename,t)}function rA(e,t){return yx(eA(e),t)}function yx(e,t){const r={day:qm,week:Gm,month:Jm,quarter:Km,year:Qm}[t]().format.split("/").pop(),o=window.moment(e,r,!0);if(!o.isValid())return null;if(nA(r,t)&&t==="week"){const i=gx(r);if(/w{1,2}/i.test(i))return window.moment(e,r.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return o}class oA extends Error{}async function vx(e){const t=window.app,{vault:n}=t,r=window.moment,{template:o,format:i,folder:a}=qm(),[u,d]=await Eh(o),f=e.format(i),m=await Xm(a,f);try{const g=await n.create(m,u.replace(/{{\s*date\s*}}/gi,f).replace(/{{\s*time\s*}}/gi,r().format("HH:mm")).replace(/{{\s*title\s*}}/gi,f).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(v,b,S,T,I,k)=>{const A=r(),R=e.clone().set({hour:A.get("hour"),minute:A.get("minute"),second:A.get("second")});return S&&R.add(parseInt(T,10),I),k?R.format(k.substring(1).trim()):R.format(i)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(i)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(i)));return t.foldManager.save(g,d),g}catch(g){console.error(`Failed to create file: '${m}'`,g),new sr.Notice("Unable to create new file.")}}function iA(e,t){return t[gs(e,"day")]??null}function aA(){const{vault:e}=window.app,{folder:t}=qm(),n=e.getAbstractFileByPath(sr.normalizePath(t));if(!n)throw new oA("Failed to find daily notes folder");const r={};return sr.Vault.recurseChildren(n,o=>{if(o instanceof sr.TFile){const i=Ch(o,"day");if(i){const a=gs(i,"day");r[a]=o}}}),r}class sA extends Error{}function lA(){const{moment:e}=window;let t=e.localeData()._week.dow;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)n.push(n.shift()),t--;return n}function uA(e){return lA().indexOf(e.toLowerCase())}async function wx(e){const{vault:t}=window.app,{template:n,format:r,folder:o}=Gm(),[i,a]=await Eh(n),u=e.format(r),d=await Xm(o,u);try{const f=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,v,b,S,T)=>{const I=window.moment(),k=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return v&&k.add(parseInt(b,10),S),T?k.format(T.substring(1).trim()):k.format(r)}).replace(/{{\s*title\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(m,g,v)=>{const b=uA(g);return e.weekday(b).format(v.trim())}));return window.app.foldManager.save(f,a),f}catch(f){console.error(`Failed to create file: '${d}'`,f),new sr.Notice("Unable to create new file.")}}function cA(e,t){return t[gs(e,"week")]??null}function dA(){const e={};if(!Sx())return e;const{vault:t}=window.app,{folder:n}=Gm(),r=t.getAbstractFileByPath(sr.normalizePath(n));if(!r)throw new sA("Failed to find weekly notes folder");return sr.Vault.recurseChildren(r,o=>{if(o instanceof sr.TFile){const i=Ch(o,"week");if(i){const a=gs(i,"week");e[a]=o}}}),e}class fA extends Error{}async function bx(e){const{vault:t}=window.app,{template:n,format:r,folder:o}=Jm(),[i,a]=await Eh(n),u=e.format(r),d=await Xm(o,u);try{const f=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,v,b,S,T)=>{const I=window.moment(),k=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return v&&k.add(parseInt(b,10),S),T?k.format(T.substring(1).trim()):k.format(r)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(f,a),f}catch(f){console.error(`Failed to create file: '${d}'`,f),new sr.Notice("Unable to create new file.")}}function hA(e,t){return t[gs(e,"month")]??null}function pA(){const e={};if(!Dx())return e;const{vault:t}=window.app,{folder:n}=Jm(),r=t.getAbstractFileByPath(sr.normalizePath(n));if(!r)throw new fA("Failed to find monthly notes folder");return sr.Vault.recurseChildren(r,o=>{if(o instanceof sr.TFile){const i=Ch(o,"month");if(i){const a=gs(i,"month");e[a]=o}}}),e}class mA extends Error{}async function gA(e){const{vault:t}=window.app,{template:n,format:r,folder:o}=Km(),[i,a]=await Eh(n),u=e.format(r),d=await Xm(o,u);try{const f=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,v,b,S,T)=>{const I=window.moment(),k=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return v&&k.add(parseInt(b,10),S),T?k.format(T.substring(1).trim()):k.format(r)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(f,a),f}catch(f){console.error(`Failed to create file: '${d}'`,f),new sr.Notice("Unable to create new file.")}}function yA(e,t){return t[gs(e,"quarter")]??null}function vA(){const e={};if(!Tx())return e;const{vault:t}=window.app,{folder:n}=Km(),r=t.getAbstractFileByPath(sr.normalizePath(n));if(!r)throw new mA("Failed to find quarterly notes folder");return sr.Vault.recurseChildren(r,o=>{if(o instanceof sr.TFile){const i=Ch(o,"quarter");if(i){const a=gs(i,"quarter");e[a]=o}}}),e}class wA extends Error{}async function bA(e){const{vault:t}=window.app,{template:n,format:r,folder:o}=Qm(),[i,a]=await Eh(n),u=e.format(r),d=await Xm(o,u);try{const f=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,g,v,b,S,T)=>{const I=window.moment(),k=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return v&&k.add(parseInt(b,10),S),T?k.format(T.substring(1).trim()):k.format(r)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(f,a),f}catch(f){console.error(`Failed to create file: '${d}'`,f),new sr.Notice("Unable to create new file.")}}function SA(e,t){return t[gs(e,"year")]??null}function DA(){const e={};if(!Ix())return e;const{vault:t}=window.app,{folder:n}=Qm(),r=t.getAbstractFileByPath(sr.normalizePath(n));if(!r)throw new wA("Failed to find yearly notes folder");return sr.Vault.recurseChildren(r,o=>{if(o instanceof sr.TFile){const i=Ch(o,"year");if(i){const a=gs(i,"year");e[a]=o}}}),e}function TA(){var r,o;const{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;const n=e.plugins.getPlugin("periodic-notes");return n&&((o=(r=n.settings)==null?void 0:r.daily)==null?void 0:o.enabled)}function Sx(){var n,r;const{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;const t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.weekly)==null?void 0:r.enabled)}function Dx(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.monthly)==null?void 0:r.enabled)}function Tx(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.quarterly)==null?void 0:r.enabled)}function Ix(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.yearly)==null?void 0:r.enabled)}function IA(e){const t={day:qm,week:Gm,month:Jm,quarter:Km,year:Qm}[e];return t()}function xA(e,t){return{day:vx,month:bx,week:wx}[e](t)}un.DEFAULT_DAILY_NOTE_FORMAT=Cb;un.DEFAULT_MONTHLY_NOTE_FORMAT=fx;un.DEFAULT_QUARTERLY_NOTE_FORMAT=hx;un.DEFAULT_WEEKLY_NOTE_FORMAT=Mb;un.DEFAULT_YEARLY_NOTE_FORMAT=px;var Mm=un.appHasDailyNotesPluginLoaded=TA;un.appHasMonthlyNotesPluginLoaded=Dx;un.appHasQuarterlyNotesPluginLoaded=Tx;un.appHasWeeklyNotesPluginLoaded=Sx;un.appHasYearlyNotesPluginLoaded=Ix;var xx=un.createDailyNote=vx;un.createMonthlyNote=bx;un.createPeriodicNote=xA;un.createQuarterlyNote=gA;un.createWeeklyNote=wx;un.createYearlyNote=bA;var su=un.getAllDailyNotes=aA;un.getAllMonthlyNotes=pA;un.getAllQuarterlyNotes=vA;un.getAllWeeklyNotes=dA;un.getAllYearlyNotes=DA;var Xv=un.getDailyNote=iA,oc=un.getDailyNoteSettings=qm,lh=un.getDateFromFile=Ch;un.getDateFromPath=rA;un.getDateUID=gs;un.getMonthlyNote=hA;un.getMonthlyNoteSettings=Jm;un.getPeriodicNoteSettings=IA;un.getQuarterlyNote=yA;un.getQuarterlyNoteSettings=Km;un.getTemplateInfo=Eh;un.getWeeklyNote=cA;un.getWeeklyNoteSettings=Gm;un.getYearlyNote=SA;un.getYearlyNoteSettings=Qm;const EA={},CA={},MA={},kA={},Ex={welcome:"Welcome to Thino",ribbonIconTitle:"Thino",to:"to",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekDaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],year:null,month:null,"Basic Options":"Basic options","User name":"User name","Set your user name here. 'Memos 😏' By default":"Set your user name here. 'Thino 😏' By default",'You can set target heading like "# Heading" to control data location':'You can set target heading like "# Heading" to control data location',"Insert after heading":"Insert after heading","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"You should set the same heading below if you want to insert and process thino below the same heading.","Allows admonitions to be created using ":"Allows admonitions to be created using ","Process Memos below":"Process thino below","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.","Save Memo button label":"Save thino button label","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"The text shown on the save Thino button in the UI. 'NOTEIT' by default.","Focus on editor when open memos":"Focus on editor when open thino","Focus on editor when open memos. Focus by default.":"Focus on editor when open thino. Focus by default.","Open daily memos with open memos":"Open daily thino with open thino","Open daily memos with open memos. Open by default.":"Open daily thino with open thino. Open by default.","Open Memos when obsidian opens":"Open Thino when obsidian opens","When enable this, Memos will open when Obsidian opens. False by default.":"When enable this, Thino will open when Obsidian opens. False by default.","Hide done tasks in Memo list":"Hide done tasks in Thino list","Hide all done tasks in Memo list. Show done tasks by default.":"Hide all done tasks in Thino list. Show done tasks by default.","Advanced Options":"Advanced Options","UI language for date":"UI language for date","Translates the date UI language. Only 'en' and 'zh' are available.":"Translates the date UI language. Only 'en' and 'zh' are available.","Default prefix when save thino":"Default prefix when save thino","Set the default prefix when create memo, 'List' by default.":"Set the default prefix when create thino, 'List' by default.","Default insert date format":"Default insert date format","Set the default date format when insert date by @, 'Tasks' by default.":"Set the default date format when insert date by @, 'Tasks' by default.","Default editor position on mobile":"Default editor position on mobile","Set the default editor position on Mobile, 'Top' by default.":"Set the default editor position on Mobile, 'Top' by default.","Use button to show editor on mobile":"Use button to show editor on mobile","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Set a float button to call editor on mobile. Only when editor located at the bottom works.","Show Time When Copy Results":"Show Time When Copy Results","Show time when you copy results, like 12:00. Copy time by default.":"Show time when you copy results, like 12:00. Copy time by default.","Show Date When Copy Results":"Show Date When Copy Results","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Show date when you copy results, like [[2022-01-01]]. Copy date by default.","Add Blank Line Between Different Date":"Add Blank Line Between Different Date","Add blank line when copy result with date. No blank line by default.":"Add blank line when copy result with date. No blank line by default.","Share Options":"Share Options","Share Memos Image Footer Start":"Share Thino Image Footer Start","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default","Share Memos Image Footer End":"Share Thino Image Footer End","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default","Save Shared Image To Folder For Mobile":"Save Shared Image To Folder For Mobile","Save image to folder for mobile. False by Default":"Save image to folder for mobile. False by Default","Say Thank You":"Say Thank You",Donate:"Donate","If you like this plugin, consider donating to support continued development:":"If you like this plugin, consider donating to support continued development:","File Name of Recycle Bin":"File Name of Recycle Bin","Set the filename for recycle bin. 'delete' By default":"Set the filename for recycle bin. 'delete' By default","File Name of Query File":"File Name of Query File","Set the filename for query file. 'query' By default":"Set the filename for query file. 'query' By default","Use Tags In Vault":"Use Tags In Vault","Use tags in vault rather than only in Memos. False by default.":"Use tags in vault rather than only in Thino. False by default.","Ready to convert image into background":"Ready to convert image into background",List:"List",Task:"Task",Top:"Top",Bottom:"Bottom",TAG:"TAG",DAY:"DAY",QUERY:"Query",EDIT:"EDIT",PIN:"PIN",UNPIN:"UNPIN",DELETE:"DELETE","CONFIRM！":"CONFIRM！","CREATE FILTER":"CREATE FILTER","Comment it...":"Comment it...",Settings:"Settings","Recycle bin":"Recycle bin","About Me":"About Me","Fetching data...":"Fetching data...","Here is No Memos.":"Here is No Thino.","Frequently Used Tags":"Frequently Used Tags","What do you think now...":"What do you think now...",READ:"READ",MARK:"MARK",SHARE:"SHARE",SOURCE:"SOURCE",RESTORE:"RESTORE",ARCHIVE:"Archive","DELETE AT":"DELETE AT","Noooop!":"Noooop!","All Data is Loaded 🎉":"All Data is Loaded 🎉","Quick filter":"Quick filter",TYPE:"TYPE",LINKED:"LINKED","NO TAGS":"NO TAGS","HAS LINKS":"HAS LINKS","HAS IMAGES":"HAS IMAGES",INCLUDE:"INCLUDE",EXCLUDE:"EXCLUDE",TEXT:"TEXT",IS:"IS",AND:"AND",OR:"OR",LIST:"LIST",ISNOT:"ISNOT",SELECT:"SELECT","ADD FILTER TERMS":"ADD FILTER TERMS",FILTER:"FILTER",Filter:"Filter",TITLE:"TITLE","CREATE QUERY":"CREATE QUERY","EDIT QUERY":"EDIT QUERY",MATCH:"MATCH",TIMES:"TIMES","Share Memo Image":"Share Thino Image","↗Click the button to save":"↗Click the button to save","Image is generating...":"Image is generating...","Image is loading...":"Image is loading...","Loading...":"Loading...","😟 Cannot load image, image link maybe broken":"😟 Cannot load image, image link maybe broken","Daily Memos":"Daily Thino","CANCEL EDIT":"CANCEL EDIT","LINK TO THE":"LINK TO THE","Mobile Options":"Mobile Options","Experimental Options":"Experimental Options","Don't support web image yet, please input image path in vault":"Don't support web image yet, please input image path in vault","Background Image in Dark Theme":"Background Image in Dark Theme","Background Image in Light Theme":"Background Image in Light Theme",'Set background image in dark theme. Set something like "Daily/one.png"':'Set background image in dark theme. Set something like "Daily/one.png"','Set background image in light theme. Set something like "Daily/one.png"':'Set background image in light theme. Set something like "Daily/one.png"','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Set default thino composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default',"Default Memo Composition":"[Deprecated] Default Thino Composition","Show Tasks Label":"Show Tasks Label","Show tasks label near the time text. False by default":"Show tasks label near the time text. False by default","Please Open Memos First":"Please Open Thino First",DATE:"DATE",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"BEFORE",AFTER:"AFTER","Allow Comments On Memos":"Allow Comments On Thino","You can comment on memos. False by default":"You can comment on thino. False by default",Import:"Import","TITLE CANNOT BE NULL!":"TITLE CANNOT BE NULL!","FILTER CANNOT BE NULL!":"FILTER CANNOT BE NULL!","Comments In Original DailyNotes/Notes":"Comments In Original DailyNotes/Notes","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"You should install Dataview Plugin ver 0.5.9 or later to use this feature.","Open Memos Successfully":"Open Thino Successfully","Fetch Memos Error":"😭 Fetch Error","Copied to clipboard Successfully":"Copied to clipboard Successfully","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Check if you opened Daily Notes Plugin Or Periodic Notes Plugin","Please finish the last filter setting first":"Please finish the last filter setting first","Close Memos Successfully":"Close Thino Successfully","Insert as Memo":"Insert as Thino","Insert file as memo content":"Insert file as thino content","Image load failed":"Image load failed","Content cannot be empty":"Content cannot be empty","Unable to create new file.":"Unable to create new file.","Failed to fetch deleted memos: ":"Failed to fetch deleted thino: ","RESTORE SUCCEED":"RESTORE SUCCEED","DELETE SUCCEED":"DELETE SUCCEED","Save Memo button icon":"Save Thino button icon","The icon shown on the save Memo button in the UI.":"The icon shown on the save Thino button in the UI.","Fetch Memos From Particular Notes":"Fetch Thino From Particular Notes",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'You can set any Dataview Query for thino to fetch it. All thino in those notes will show on list. "#memo" by default',"Allow Memos to Fetch Memo from Notes":"Allow Thino to Fetch Thino from Notes","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"Use Thino to manage all thino in your notes, not only in daily notes. False by default","Always Show Memo Comments":"Always Show Thino Comments","Always show memo comments on memos. False by default":"Always show thino comments on thino. False by default","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.","Please check your daily note plugin OR periodic notes plugin settings":"Please check your daily note plugin OR periodic notes plugin settings","Use which plugin's default configuration":"Use which plugin's default configuration","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino use the plugin's default configuration to fetch thino from daily, 'Daily' by default.",Daily:"Daily","Always Show Leaf Sidebar on PC":"Always Show Leaf Sidebar on PC","Show left sidebar on PC even when the leaf width is less than 875px. False by default.":"Show left sidebar on PC even when the leaf width is less than 875px. False by default.","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set format for daily notes in both periodic-notes and daily-notes plugins.","fetch more":"fetch more","Search all settings":"Search all settings",General:"General",Theme:"Theme",Share:"Share",Advanced:"Advanced",Thino:"Thino","Random Review":"Random Review","ARCHIVED AT":"ARCHIVED AT","Failed to get memos from daily notes":"Failed to get thino from daily notes","Failed to delete memo":"Failed to delete thino","CTRL + ENTER to save":"CTRL + ENTER to save","Started from":"Started from","Custom Background Image":"Custom Background Image","Set custom background image.":"Set custom background image.","Custom Memo Footer":"Custom Thino Footer","Set custom memo footer.":"Set custom thino footer.","Heatmap Color Scheme":"Heatmap Color Scheme","Set different color scheme for heatmap.":"Set different color scheme for heatmap.","Enable Local Http Server":"Enable Local Http Server","Memos Http Server Port":"Thino Http Server Port","Set memos http server port to listen. '43999' by default":"Set thino http server port to listen. '43999' by default","Default Editor Mode":"Default Editor Mode","Live-Preview Mode OR Source Mode.":"Live-Preview Mode/Source Mode.","Save type for Thino":"Save type for Thino",DAILY:"DAILY",MULTI:"MULTI",CANVAS:"CANVAS",ALL:"ALL",FILE:"FILE",TODO:"TODO",DONE:"DONE",JOURNAL:"JOURNAL",OTHER:"OTHER","Failed to create daily note, check if it exists.":"Failed to create daily note, check if it exists.","Failed to create daily note. Please check if you created a folder for daily notes.":"Failed to create daily note. Please check if you created a folder for daily notes.","After you verify your account, please refresh this page.":"After you verify your account, please refresh this page.",Verify:"Verify","Oops! You forget to verify insider account":"Oops! You forget to verify insider account","If you have any questions, please contact us.":"If you have any questions, please contact us.","Delete Thino Directly":"Delete Thino Directly","When delete thino directly, it will not be moved to trash. False by default.":"When delete thino directly, it will not be moved to trash. False by default.","Enable opening thino globally":"Enable opening thino globally","Enable opening thino globally. False by default.":"Enable opening thino globally. False by default.","Key for opening thino globally":"Key for opening thino globally","Set key for opening thino globally. CTRL + SHIFT + T by default.":"Set key for opening thino globally. CTRL + SHIFT + T by default.","Key for showing thino globally":"Key for showing thino globally","Set key for showing thino globally. CTRL + SHIFT + E by default.":"Set key for showing thino globally. CTRL + SHIFT + E by default.","Get activation code":"Get activation code","Input activation code here":"Input activation code here","Copy Thino id":"Copy Thino id","Activate Pro Version":"Activate Pro Version","Please copy Thino id first":"Please copy Thino id first",'You can set folder name with file name like "folder/file"':'You can set folder name with file name like "folder/file"','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'You can set folder name like "folder1/folder2/folder3" to create sub-folder',"Default save type":"Default save location",'Set the default save type for thino. "DAILY" by default':'Set the default save type for thino. "DAILY" by default',"Sync Thino via PKMer":"Sync Thino via PKMer",Unlink:"Unlink",Link:"Link","Connect to PKMer Sync, you can check it in ":"Connect to PKMer Sync, you can check it in ","PKMer Sync":"PKMer Sync","Remove successfully":"Remove successfully",Deactivate:"Deactivate",Remove:"Remove","Confirm?":"Confirm?","Sync Status":"Sync Status","Start or stop sync":"Start or stop sync","Stop sync successfully":"Stop sync successfully","Start sync successfully":"Start sync successfully",Stop:"Stop",Start:"Start","Show thino near mouse":"Show thino near mouse","Query not found":"Query not found","Send to clipboard successfully":"Send to clipboard successfully","Thino - Failed to start HTTP server, please check the port is available.":"Thino - Failed to start HTTP server, please check the port is available.","Thino - Started HTTP server on port":"Thino - Started HTTP server on port","Thino - Terminated HTTP server":"Thino - Terminated HTTP server","File not exist":"File not exist","Thino not found":"Thino not found","File not found for the given thino path, is creating a new file":"File not found for the given thino path, is creating a new file","Saved sync token successfully":"Saved sync token successfully","Failed to find daily notes folder":"Failed to find daily notes folder","Please install obsidian-hover-editor plugin first":"Please install obsidian-hover-editor plugin first","Copied app id successfully":"Copied app id successfully","Please input token first":"Please input token first","Please enable sync first":"Please enable sync first","Init Failed":"Init Failed","Verify successfully":"Verify successfully","Failed to verify":"Failed to verify","Folder not found for the given thino path, is creating a new folder":"Folder not found for the given thino path, is creating a new folder","File not found for the given thino path":"File not found for the given thino path","Failed to read current daily note, check if it exists.":"Failed to read current daily note, check if it exists.","Failed to save":"Failed to save","Failed to login, please login again":"Failed to login, please login again","COPY FAILED":"COPY FAILED","COPY SUCCEED":"COPY SUCCEED","Copy selected text":"Copy selected text","Copy thino":"Copy thino",COPY:"COPY","This is a pro feature, please upgrade to pro version to use it.":"This is a pro feature, please upgrade to pro version to use it.","You can get pro version from: ":"You can get pro version from: ",Save:"Save",Cancel:"Cancel","Thino Daily Target":"Thino Daily Target",Input:"Input","#Tag":"#Tag","to create tag":"to create tag","You have verified your account. Congrats!":"You have verified your account. Congrats!","Pro features":"Pro features","Target Thino Count":"Target Thino Count",on:"on","Switch waterfall view":"Switch waterfall view","Switch view":"Switch view","Switch list view":"Switch list view","Set daily target":"Set daily target","Thino Save To: ":"Thino Save To: ","Enter fullscreen mode":"Enter fullscreen mode","Exit fullscreen mode":"Exit fullscreen mode",words:"words","Return To Home Page":"Return To Home Page","Open thino in center window":"Open thino in center window","Open thino in float window":"Open thino in float window","Open thino in right sidebar":"Open thino in right sidebar","Open thino in left sidebar":"Open thino in left sidebar","Show thino editor":"Show thino editor","Toggle minimal mode":"Toggle minimal mode","Focus on thino editor":"Focus on thino editor","ReSync web thinos to local":"ReSync web thinos to local","Sync local thinos to web":"Sync local thinos to web","Show daily thino":"Show daily thino","Focus on search bar":"Focus on search bar","Show-thino in popover(Hover editor)":"Show-thino in popover(Hover editor)","Center window":"Center window","Float window":"Float window","Right sidebar":"Right sidebar","Left sidebar":"Left sidebar","Save thino type when sync local":"Save thino type when sync local","Set the default save thino type when sync local, FILE by default.":"Set the default save thino type when sync local, FILE by default.","Sync service":"Sync service","Pro verification status":"Pro verification status","Live-preview":"Live-preview",Source:"Source","Global copy":"Global copy","Set the folder name":"Set the folder name","Set the filename":"Set the filename","Set the filename for current location file":"Set the filename for current location file","Switch calendar type":"Switch calendar type",alphabetical:"alphabetical",alphabeticalReverse:"alphabeticalReverse",byCount:"byCount",byCountReverse:"byCountReverse","Type here":"Type here",Today:"Today",Yesterday:"Yesterday","Last 7 days":"Last 7 days","Last 30 days":"Last 30 days","Last 90 days":"Last 90 days","Last 180 days":"Last 180 days","Last 365 days":"Last 365 days",Found:"Found","Copy filtered thinos":"Copy filtered thinos","Bulk delete":"Bulk delete","Bulk archive":"Bulk archive","Bulk tag operation":"Bulk tag operation","Bulk restore":"Bulk restore","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.",Preview:"Preview","Set and save":"Set and save","Show day mark in thino list":"Show day mark in thino list","Show day mark on the top of daily range thino. False by default.":"Show day mark on the top of daily range thino. False by default.","Click to expand or fold, Cmd+Click to show all thinos of the day":"Click to expand or fold, Cmd+Click to show all thinos of the day","You can buy a license from":"You can buy a license from","No thinos in range":"No thinos in range",Month:"Month",Week:"Week",Day:"Day",Agenda:"Agenda",Tomorrow:"Tomorrow",Previous:"Previous",Next:"Next","Search all columns...":"Search all columns...","Basic Info":"Basic Info","Additional Info":"Additional Info","Created At":"Created At",Content:"Content","Thino Type":"Thino Type","Source Type":"Source Type","Row status":"Row status",Path:"Path","Pinned Status":"Pinned Status",Table:"Table",Chat:"Chat",Moments:"Moments",Waterfall:"Waterfall",Calendar:"Calendar","Go to page":"Go to page",Page:"Page",Show:"Show",rows:"rows","Temp Filter":"Temp Filter","Open link directly in Thino view":"Open link directly in Thino view","Day mark range":"Day mark range","Set the range of day mark. Day by default.":"Set the range of day mark. Day by default.","Thino is locked":"Thino is locked","Please unlock Thino by input password":"Please unlock Thino by input password","Auto Download Image":"Auto Download Image","Auto download image when save to thino. 'false' by default":"Auto download image when save to thino. 'false' by default","Thino Http IP Type":"Thino Http IP Type","Set Thino http server ip to listen. 'localhost' by default":"Set Thino http server ip to listen. 'localhost' by default","Password to lock Thino":"Password to lock Thino",Unlock:"Unlock",Locked:"Locked","Password is incorrect":"Password is incorrect",Lock:"Lock","Need password to unlock Thino":"Need password to unlock Thino","You have not set a password or enable this feature yet":"You have not set a password or enable this feature yet",Password:"Password","Password for Thino":"Password for Thino","Please input your password to change password settings":"Please input your password to change password settings","Please input your password":"Please input your password","Lock thino":"Lock thino",date:"date",time:"time",event:"event","Add tag position":"Add tag position","Set the position of the tag when adding tag automatically":"Set the position of the tag when adding tag automatically","Add tag automatically":"Add tag automatically","Add tag to the end or beginning of the thino content when creating a thino and filtering tags":"Add tag to the end or beginning of the thino content when creating a thino and filtering tags","Add tag with new line":"Add tag with new line","Add tag with new line when adding tag automatically":"Add tag with new line when adding tag automatically","Input to select more tags":"Input to select more tags","Tag Bulk Edit":"Tag Bulk Edit","Tag Bulk Select":"Tag Bulk Select","Exist Tags":"Exist Tags","Selected Tags":"Selected Tags","Click to remove exist tag":"Click to remove exist tag","Click to remove selected tag":"Click to remove selected tag","Select tags":"Select tags","Input to select exist tag":"Input to select exist tag",Beginning:"Beginning",End:"End","Set the heading for saving thino":"Set the heading for saving thino","# Heading":"# Heading","Chat view style":"Chat view style","Set the style of chat view":"Set the style of chat view","Background image for moments view":"Background image for moments view","Set the background image for moments view":"Set the background image for moments view","Icon for moments/chat view/share image":"Icon for moments/chat view/share image","Set the icon for moments/chat view/share image":"Set the icon for moments/chat view/share image","Quote for moments view/share image":"Quote for moments view/share image","Set the quote for moments view/share image":"Set the quote for moments view/share image","Theme for Thino":"Theme for Thino","Set the theme for Thino":"Set the theme for Thino","Interface Details":"Interface Details","Task amount":"Task amount","Thino status":"Thino status","Used tags":"Used tags","Used days":"Used days","Most active day":"Most active day","Most active hour":"Most active hour","Thino amount":"Thino amount","No content to generate.":"No content to generate.","Image generated successfully.":"Image generated successfully.","Failed to generate image.":"Failed to generate image.","Share filtered thinos as image":"Share filtered thinos as image","Latest version":"Latest version","Previous version":"Previous version","Thino update info":"Thino update info","Debug info copied to clipboard":"Debug info copied to clipboard","Copy debug info":"Copy debug info","Failed to load changelog":"Failed to load changelog","View online":"View online",ChangeLog:"ChangeLog","Please open thino first":"Please open thino first","Insert editor":"Insert editor","Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly.":"Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly.","Default time prefix for thino in daily notes":"Default time prefix for thino in daily notes","Set default time prefix for thino in daily notes.":"Set default time prefix for thino in daily notes.","Save image successfully":"Save image successfully","User quote":"User quote","Set user quote for thino":"Set user quote for thino","User icon":"User icon","Set user icon for thino. You can input http/https link or file path in vault.":"Set user icon for thino. You can input http/https link or file path in vault.","User info":"User info","Copy filtered results":"Copy filtered results","Share image":"Share image",Default:"Default",Gray:"Gray",Grass:"Grass",Flame:"Flame",Olive:"Olive",Ice:"Ice",Magenta:"Magenta","Daily notes":"Daily notes",Editor:"Editor","Append/prepend text when share to Thino":"Append/prepend text when share to Thino","Append text when share to Thino":"Append text when share to Thino","Prepend text when share to Thino":"Prepend text when share to Thino","Add newline when append/prepend text":"Add newline when append/prepend text","Input anything here":"Input anything here",Prepend:"Prepend",Append:"Append",Both:"Both",None:"None","Hide pinned group":"Hide pinned group","Hide pinned group in thino list. False by default.":"Hide pinned group in thino list. False by default.","Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.","Different insert target for different type":"Different insert target for different type","Toggle this to set different insert target for different type of thino, like task or list type of thino":"Toggle this to set different insert target for different type of thino, like task or list type of thino","You can set whole diary or only part of it":"You can set whole diary or only part of it","Set process target":"Set process target",Custom:"Custom","Whole diary":"Whole Diary","Set thino insert place":"Set thino insert place","Set where to insert thino content":"Set where to insert thino content","End of the diary":"End of the diary","Custom location":"Custom location","Setting guide":"User setting guide","Details settings":"Details settings","Start Thino":"Start Thino","About Thino Pro":"About Thino Pro",Enabled:"Enabled",Enable:"Enable","Daily notes folder":"Daily notes folder","Set daily notes folder":"Set daily notes folder","Daily note name format":"Daily note name format","Set daily note name format":"Set daily note name format","Daily note plugin":"Daily note plugin","Enable daily note plugin":"Enable daily note plugin",Selected:"Selected",Select:"Select","A classic theme for Thino with a two-column layout":"A classic theme for Thino with a two-column layout",Classic:"Classic","A modern theme for Thino with a three-column layout and some unique features.":"A modern theme for Thino with a three-column layout and some unique features.",Modern:"Modern","Go and enjoy Thino":"Go and enjoy Thino","Congrats! All settings done":"Congrats! All settings done","Adjust settings that influence your user experience with Thino.":"Adjust settings that influence your user experience with Thino.","Set preferences for using Thino":"Set preferences for using Thino","If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.":"If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.","Go with daily note plugin":"Go with daily note plugin","Choose a theme for Thino.":"Choose a theme for Thino.","Set theme for Thino":"Set theme for Thino","Set up your user info for Thino.":"Set up your user info for Thino.","Get started with Thino":"Get started with Thino","Skip and start Thino":"Skip and start Thino","Next step":"Next step","Back to previous step":"Back to previous step","Click to enable =>":"Click to enable =>","This is Thino's sidebar. Navigate to different path or select query filter.":"This is Thino's sidebar. Navigate to different path or select query filter.","Click here and go to settings page.":"Click here and go to settings page.","Click here and go to different path.":"Click here and go to different path.","Select or create query filter here.":"Select or create query filter here.","See the status of Thinos here.":"See the status of Thinos here.","Search your thino quickly here.":"Search your thino quickly here.","Edit or create your thino here.":"Edit or create your thino here.","See your thinos here.":"See your thinos here.","See your time status of thinos here.":"See your time status of thinos here.","See your tags here. Tags will be shown when thino contains tags.":"See your tags here. Tags will be shown when thino contains tags.",Done:"Done","Thino is ready to use. ":"Thino is ready to use. ","You can start using Thino now. If you want to know more about Thino Pro, click the button below.":"You can start using Thino now. If you want to know more about Thino Pro, click the button below.","Default time prefix":"Default time prefix","Append Text Action":"Append Text Action","Prepend Text Action":"Prepend Text Action",Preset:"Preset","Select Tags":"Select Tags","It is not available on small view":"It is not available on small view","Append text":"Append text","Prepend text":"Prepend text","Your daily note folder is not set correctly, please check your settings":"Your daily note folder is not set correctly, please check your settings","Default sharing style":"Default sharing style","Set the default style for sharing thino, 'Modern' by default.":'Set the default style for sharing thino, "Modern" by default.',Clean:"Clean",Minimal:"Minimal",Gradient:"Gradient","Thino share":"Thino share","Copy to clipboard failed":"Copy to clipboard failed","Copy to clipboard successfully":"Copy to clipboard successfully","Your content has been copied to clipboard, and inserted into the editor. Please try it again":"Your content has been copied to clipboard, and inserted into the editor. Please try it again","Share thino":"Share thino","Set file name after create thino":"Set file name after create thino","You can set file name after create thino. A input box will show when you create thino.":"You can set file name after create thino. A input box will show when you create thino.",SPLIT:"SPLIT","Split by Heading 1":"Split by Heading 1","Split by Heading 2":"Split by Heading 2","Split by Heading 3":"Split by Heading 3","Insert task":"Insert task"},NA={},AA={},FA={welcome:"Bienvenue dans Mémo !",ribbonIconTitle:"Mémos",months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],weekDaysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],to:"à",year:null,month:null,"Basic Options":"Options basique","User name":"Username","Set your user name here. 'Memos 😏' By default":"Définissez votre username ici. Défaut : 'Memo 😏'","Insert after heading":"Insérer après le titre","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Vous devez définir le même titre en-dessous si vous voulez insérer et traiter des mémos sous le même titre.","Allows admonitions to be created using ":"Permet de créer des admonitions en utilisant","Process Memos below":"Insérer Mémo sous","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Seulement les entrée sous cette section/phrase dans vos notes seront considérés. S'il n'existe pas, aucune notes ne sera traité pour ce fichier.","Save Memo button label":"Titre du bouton de sauvegarde","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"Le texte affiché sur le bouton de sauvegarde dans l'UI. Défaut : 'NOTEIT'","Focus on editor when open memos":"Focus sur l'éditeur lors de l'ouverture du mémo.","Focus on editor when open memos. Focus by default.":"Focus sur l'éditeur lors de l'ouverture du mémo. Focus par défaut.","Open daily memos with open memos":"Ouvrir les mémos quotidiens quand mémo est ouvert.","Open daily memos with open memos. Open by default.":"Ouvrir les mémos quotidiens quand mémo est ouvert.","Open Memos when obsidian opens":"Ouvrir Mémo quand Obsidian est ouvert.","When enable this, Memos will open when Obsidian opens. False by default.":"Quand activé, Memo sera ouvert quand Obsidian à l'ouverture d'Obsidian. Désactivé par défaut.","Hide done tasks in Memo list":"Masquer les tâches accomplies dans la liste des mémos.","Hide all done tasks in Memo list. Show done tasks by default.":"Masquer les tâches accomplies dans les mémos. Affiche les tâches accomplies par défaut.","Advanced Options":"Options avancées","UI language for date":"Langue de l'UI pour la date","Translates the date UI language. Only 'en' and 'zh' are available.":"Traduit la langue des dates dans l'UI. Seuls 'en', 'fr' et 'zh' sont disponibles. ","Default prefix":"Préfix par défaut.","Set the default prefix when create memo, 'List' by default.":"Définit le préfix par défaut lors de la création d'un mémo. Défault : 'Liste'","Default insert date format":"Format de la date insérée par défaut.","Default editor position on mobile":"Position par défaut de l'éditeur sur mobile.","Set the default date format when insert date by @, 'Tasks' by default.":"Définit le format de la date par défaut lors de l'insertion de la date par @. Défaut : 'Tâches'.","Set the default editor position on Mobile, 'Top' by default.":"Position par défaut de l'éditeur sur le mobile. Défaut : 'Haut'.","Use button to show editor on mobile":"Utilisation du bouton pour afficher l'éditeur sur le mobile.","Show Time When Copy Results":"Aficher l'heure quand les résultats sont copiés","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Place un bouton flottant pour appeler l'éditeur sur mobile. Fonctionne uniquement quand l'éditeur est placé en bas.","Show time when you copy results, like 12:00. Copy time by default.":"Affiche l'heure quand les résultats sont copiés, comme '12:00'. Copie l'heure par défaut","Show Date When Copy Results":"Affiche la date quand les résultats sont copiés","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Affiche la date quand les résultats sont copiés, comme [[2022-01-01]]. Par défaut, copie la date.","Add Blank Line Between Different Date":"Ajoute une ligne entre les différentes dates.","Add blank line when copy result with date. No blank line by default.":"Ajoute une ligne lors de la copie du résultat avec la date. Pas de ligne par défaut.","Share Options":"Options de partage","Share Memos Image Footer Start":"Début du pied de page — Partage de mémo de mémos","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Définissez ce que vous voulez ici, utilisez {ThinoNum} pour afficher le nombre de thino, {UsedDay} pour les jours. Par défaut : '{ThinoNum} Thino {UsedDay} Days.","Share Memos Image Footer End":"Fin du pied de page — Partage de mémo","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Définissez ce que vous voulez ici. Utilisez {UserName} comme username. Par défaut : '✍️ By {UserName}'","Save Shared Image To Folder For Mobile":"Sauvegarde des images partagés dans un dossier sur mobile.","Save image to folder for mobile. False by Default":"Sauvegarder les images dans un dossier sur mobile. Désactivé par défaut.","Say Thank You":"Dites Merci",Donate:"Faire un don","If you like this plugin, consider donating to support continued development:":"Si vous aimez ce plugin, envisagez de faire un don pour soutenir le développement continu :","File Name of Recycle Bin":"Nom de la corbeille","Set the filename for recycle bin. 'delete' By default":"Définition du nom de la poubelle. Défaut : 'Delete'","Set the filename for query file. 'query' By default":"Définit le nom de fichier pour les requête. Défaut : 'Query'","Use Tags In Vault":"Utiliser des tags dans le Coffre","Use tags in vault rather than only in Memos. False by default.":"Utiliser des tags du coffre plutôt que ceux que seulement dans Mémo. Désactivé par défaut.","Ready to convert image into background":"Prêt pour convertir des image en arrière-plan.",List:"Liste",Task:"Tâche",Top:"Haut",Bottom:"Bas",TAG:"TAG",DAY:"JOUR",QUERY:"RECHERCHE",EDIT:"EDITER",PIN:"PIN",UNPIN:"ÉPINGLER",DELETE:"DESÉPINGLER","CONFIRM！":"CONFIRMER ！","CREATE FILTER":"CRÉER FILTRE",Settings:"Paramètres","Recycle bin":"Corbeille","About Me":"À propos de moi","Fetching data...":"Récupération des données...","Here is No Memos.":"Il n'y a pas de Memos.","Frequently Used Tags":"Tags fréquemment utilisés","What do you think now...":"Que pensez-vous maintenant...",READ:"LU",MARK:"MARQUER",SHARE:"PARTAGER",SOURCE:"SOURCE",RESTORE:"RESTAURER","DELETE AT":"SUPPRIMER","Noooop!":"Noooop!","All Data is Loaded 🎉":"Toutes les données sont chargées 🎉","Quick filter":"Filtre rapide",TYPE:"TYPE",LINKED:"LIEN","NO TAGS":"PAS DE TAGS","HAS LINKS":"A DES LIENS","HAS IMAGES":"A DES IMAGES",INCLUDE:"INCLUS",EXCLUDE:"EXCLUS",TEXT:"TEXTE",IS:"EST",ISNOT:"N'EST PAS",SELECT:"SELECTION","ADD FILTER TERMS":"AJOUTER DES TERMES FILTRÉ",FILTER:"FILTRE",TITLE:"TITRE","CREATE QUERY":"CRÉER UNE RECHERCHE","EDIT QUERY":"ÉDITER UNE RECHERCHE",MATCH:"MATCH",TIMES:"HEURE","Share Memo Image":"Partager un mémo image","↗Click the button to save":"↗Clique pour sauvegarder","Image is generating...":"Génération de l'image...","Image is loading...":"Image en chargement...","Loading...":"Chargement...","😟 Cannot load image, image link maybe broken":"😟 Impossible de charger l'image, le lien peut être brisé","Daily Memos":"Mémo quotidien","CANCEL EDIT":"ANNULER L'ÉDITION","LINK TO THE":"LIENS À","Mobile Options":"Options mobile","Don't support web image yet, please input image path in vault":"Ne supporte pas les images webs. Merci d'insérer le chemin de l'image depuis le coffre.","Background Image in Dark Theme":"Image de fond en thème sombre","Background Image in Light Theme":"Image de fond en thème clair",'Set background image in dark theme. Set something like "Daily/one.png"':"Définir l'image de fond en thème sombre. Définir 'Daily/one.png' par exemple.",'Set background image in light theme. Set something like "Daily/one.png"':"Définir l'image de fond en thème clair. Définir 'Daily/one.png' par exemple.",'Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Définir la composition par défaut du mémo, vous devez utiliser {TIME} comme "HH:mm" et {CONTENT} comme contenu. "{TIME} {CONTENT}" par défaut',"Default Memo Composition":"Composition par défaut du mémo","Show Tasks Label":"Afficher les étiquettes des tâches","Show tasks label near the time text. False by default":"Afficher les étiquettes des tâches à côté du texte horaire. Désactivé par défaut.","Please Open Memos First":"Merci d'ouvrir les mémos en premier"},PA={},OA={},jA={},LA={},RA={},_A={},BA={},HA={},YA={welcome:"Bem-vindo ao Thino!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],to:"para",year:null,month:null,"Basic Options":"Opções Básicas","User name":"Nome de Usuário","Set your user name here. 'Memos 😏' By default":"Defina o nome de usuário. Padrão: 'Thino 😏'.","Insert after heading":"Inserir após o cabeçalho","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Deve definir o mesmo cabeçalho na configuração posterior se pretende inserir e processar memorandos abaixo do cabeçalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabeçalho","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Somente as entradas abaixo deste cabeçalho serão processadas nas suas notas. Se não configurar esta funcionalidade, nenhuma nota será processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Botão de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do botão guardar memorandos. Padrão: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padrão: "Focar".',"Open daily memos with open memos":"Abrir memorandos diários ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos diários ao iniciar o Thino. Padrão: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta opção está activa, o Memos abrirá quando o Obsidian inicia. Padrão: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas concluídas na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas concluídas na lista de memorandos. Padrão: "Mostrar tarefas concluídas".',"Advanced Options":"Opções Avançadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' estão disponíveis.","Default prefix when save thino":"Prefixo Padrão","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padrão quando um memorando é criado. Padrão: 'Lista'.","Default insert date format":"Formato Padrão para Inserção de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padrão ao inserir a data usando '@'. Padrão: 'Tarefas'.","Default editor position on mobile":"Posição Padrão do Editor de Memorandos na Versão Móvel","Set the default editor position on Mobile, 'Top' by default.":"Define a posição padrão do editor de memorandos na versão móvel. Padrão: 'Topo'.","Use button to show editor on mobile":"Usar Botão para Mostrar o Editor na Versão Móvel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um botão flutuante para abrir o editor na versão móvel. Opção disponível somente quando a posição do editor está definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padrão: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padrão: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padrão: "Não adicionar linha."',"Share Options":"Opções de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - Início do Rodapé","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o número de thinorandos e use {UsedDay} para dias. 'Padrão: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodapé","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usuário. Padrão: '✍️ Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Versão Móvel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na versão móvel. Padrão: "Falso".',"Say Thank You":"Agradeça",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento contínuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padrão: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padrão: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e não somente dos memorandos. Padrão: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRM！":"CONFIRMAR！","CREATE FILTER":"CRIAR FILTRO",Settings:"Definições","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"Não existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que está a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded 🎉":"Todos os Dados foram Carregados 🎉","Quick filter":"Filtro rápido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"É",ISNOT:"NÃO É",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"TÍTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","↗Click the button to save":"↗Clique no botão para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","😟 Cannot load image, image link maybe broken":"😟 Não é possível carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Diários","CANCEL EDIT":"CANCELAR EDIÇÃO","LINK TO THE":"LINK PARA O","Mobile Options":"Opções Móveis","Don't support web image yet, please input image path in vault":"Ainda não existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Opções Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composição padrão do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conteúdo. Padrão: "{TIME} {CONTENT}".',"Default Memo Composition":"Composição Padrão de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas próximas do texto de tempo. Padrão: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Comentários nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padrão: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O TÍTULO NÃO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO NÃO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Comentários nas Notas/Notas Diárias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a versão 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"😭 Erro de Fetch","Copied to clipboard Successfully":"Copiado para a área de transferência com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Diárias ou de Notas Periódicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configuração do último filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conteúdo de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conteúdo não pode estar vazio","Unable to create new file.":"Não foi possível criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"Ícone do Botão para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O ícone exibido na UI do botão para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Específicas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas serão mostrados na lista. Padrão: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e não apenas nas notas diárias. Padrão: "Falso".',"Always Show Memo Comments":"Mostrar Comentários dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os comentários dos memorandos. Padrão: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"Não definiu a pasta para as notas diárias, quer no plugin the Notas Periódicas ou de Notas Diárias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configurações dos plugins de Notas Diárias OU de Notas Periódicas","Use Which Plugin's Default Configuration":"Usar a Configuração Padrão do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configuração padrão do plugin seleccionado para obter memorandos diariamente. Padrão: 'Notas Diárias'.",Daily:"Diário"},UA={welcome:"Bem-vindo ao Memos!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],to:"para",year:null,month:null,"Basic Options":"Opções Básicas","User name":"Nome de Usuário","Set your user name here. 'Memos 😏' By default":"Defina o nome de usuário. Padrão: 'Thino 😏'.","Insert after heading":"Inserir após o cabeçalho","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Deve definir o mesmo cabeçalho na configuração posterior se pretende inserir e processar memorandos abaixo do cabeçalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabeçalho","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Somente as entradas abaixo deste cabeçalho serão processadas nas suas notas. Se não configurar esta funcionalidade, nenhuma nota será processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Botão de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do botão guardar memorandos. Padrão: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padrão: "Focar".',"Open daily memos with open memos":"Abrir memorandos diários ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos diários ao iniciar o Thino. Padrão: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta opção está activa, o Memos abrirá quando o Obsidian inicia. Padrão: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas concluídas na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas concluídas na lista de memorandos. Padrão: "Mostrar tarefas concluídas".',"Advanced Options":"Opções Avançadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' estão disponíveis.","Default prefix when save thino":"Prefixo Padrão","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padrão quando um memorando é criado. Padrão: 'Lista'.","Default insert date format":"Formato Padrão para Inserção de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padrão ao inserir a data usando '@'. Padrão: 'Tarefas'.","Default editor position on mobile":"Posição Padrão do Editor de Memorandos na Versão Móvel","Set the default editor position on Mobile, 'Top' by default.":"Define a posição padrão do editor de memorandos na versão móvel. Padrão: 'Topo'.","Use button to show editor on mobile":"Usar Botão para Mostrar o Editor na Versão Móvel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um botão flutuante para abrir o editor na versão móvel. Opção disponível somente quando a posição do editor está definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padrão: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padrão: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padrão: "Não adicionar linha."',"Share Options":"Opções de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - Início do Rodapé","Set anything you want here, use {ThinoNum} to display Number of memos, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o número de thinorandos e use {UsedDay} para dias. 'Padrão: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodapé","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usuário. Padrão: '✍️ Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Versão Móvel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na versão móvel. Padrão: "Falso".',"Say Thank You":"Agradeça",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento contínuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padrão: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padrão: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e não somente dos memorandos. Padrão: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRM！":"CONFIRMAR！","CREATE FILTER":"CRIAR FILTRO",Settings:"Definições","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"Não existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que está a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded 🎉":"Todos os Dados foram Carregados 🎉","Quick filter":"Filtro rápido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"É",ISNOT:"NÃO É",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"TÍTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","↗Click the button to save":"↗Clique no botão para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","😟 Cannot load image, image link maybe broken":"😟 Não é possível carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Diários","CANCEL EDIT":"CANCELAR EDIÇÃO","LINK TO THE":"LINK PARA O","Mobile Options":"Opções Móveis","Don't support web image yet, please input image path in vault":"Ainda não existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Opções Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composição padrão do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conteúdo. Padrão: "{TIME} {CONTENT}".',"Default Memo Composition":"Composição Padrão de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas próximas do texto de tempo. Padrão: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Comentários nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padrão: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O TÍTULO NÃO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO NÃO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Comentários nas Notas/Notas Diárias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a versão 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"😭 Erro de Fetch","Copied to clipboard Successfully":"Copiado para a área de transferência com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Diárias ou de Notas Periódicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configuração do último filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conteúdo de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conteúdo não pode estar vazio","Unable to create new file.":"Não foi possível criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"Ícone do Botão para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O ícone exibido na UI do botão para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Específicas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas serão mostrados na lista. Padrão: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e não apenas nas notas diárias. Padrão: "Falso".',"Always Show Memo Comments":"Mostrar Comentários dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os comentários dos memorandos. Padrão: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"Não definiu a pasta para as notas diárias, quer no plugin the Notas Periódicas ou de Notas Diárias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configurações dos plugins de Notas Diárias OU de Notas Periódicas","Use Which Plugin's Default Configuration":"Usar a Configuração Padrão do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configuração padrão do plugin seleccionado para obter memorandos diariamente. Padrão: 'Notas Diárias'.",Daily:"Diário"},zA={},VA={},WA={},ZA={welcome:"欢迎使用 Thino ",ribbonIconTitle:"Thino",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:[null,null,null,null,null,null,null,null,null,null,null,null],weekDays:["周日","周一","周二","周三","周四","周五","周六"],weekDaysShort:["周日","周一","周二","周三","周四","周五","周六"],to:"至",year:"年",month:"月","Basic Options":"基础选项","User name":"用户名","Set your user name here. 'Memos 😏' By default":"在这里设置你喜欢的用户名。 默认为 'Thino 😏'",'You can set target heading like "# Heading" to control data location':'你可以设置目标标题，例如 "# Heading" 来控制数据的位置',"Insert after heading":"在指定标题后插入 Thino","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"若留空，则记录的 thino 内容在日记末尾插入，若填写标题，则记录的 thino 内容统一都记录在该标题下","Process Memos below":"解析指定标题后的 Thino","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"若留空，则在Thino界面会显示所有thino记录内容，若填写标题，则Thino界面只显示该标题下的内容，写入其他位置的内容不显示","Save Memo button label":"保存按钮上的文本","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"在保存按钮上展示的文本。默认为 'NOTEIT'","Focus on editor when open memos":"自动聚焦到 Thino 输入框","Focus on editor when open memos. Focus by default.":"当打开 Thino 的时候自动聚焦到 Thino 输入框。默认开启","Open daily memos with open memos":"打开每日 Thino 的时候打开 Thino 界面","Open daily memos with open memos. Open by default.":"打开每日 Thino 的时候打开 Thino 界面。默认开启","Open Memos when obsidian opens":"当开启 Obsidian 的时候自动打开 Thino","When enable this, Memos will open when Obsidian opens. False by default.":"当开启该选项, Thino 会在 Obsidian 打开时自动打开。默认不开启。","Hide done tasks in Memo list":"在 Thino 列表中隐藏已完成 Thino","Hide all done tasks in Memo list. Show done tasks by default.":"在 Thino 列表中隐藏已完成 Thino。默认不开启","Advanced Options":"进阶选项","UI language for date":"针对日期展示的语言界面","Translates the date UI language. Only 'en' and 'zh' are available.":"对日期的不同翻译。目前只能选择 'en' 和 'zh'（未来会废置）","Default prefix when save thino":"保存 Thino 时的默认前缀","Set the default prefix when create memo, 'List' by default.":"设置默认的前缀样式。默认为列表","Default insert date format":"插入日期附带的样式","Set the default date format when insert date by @, 'Tasks' by default.":"当使用 @ 来快速插入日期时，插入日期附带的样式，默认为 'Tasks' 样式","Default editor position on mobile":"在移动端上的默认编辑器位置","Set the default editor position on Mobile, 'Top' by default.":"设置在移动端上的默认编辑器位置，默认在顶部。","Use button to show editor on mobile":"当编辑器位置在底部时，用按钮来唤出编辑器","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"设置一个浮动按钮来唤出编辑器。当在移动端上启用该选项才会生效","Show Time When Copy Results":"当复制检索结果时附带时间","Show time when you copy results, like 12:00. Copy time by default.":"在复制检索结果时附带其时间，例如 12:00 。默认开启","Show Date When Copy Results":"当复制检索结果时附带日期","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"在复制检索结果时附带其日期，例如 [[2022-01-01]]。默认开启","Add Blank Line Between Different Date":"在复制日期的时候加上空行","Add blank line when copy result with date. No blank line by default.":"在复制日期的时候在相邻的日期之间加上空行。默认无空行","Share Options":"分享选项","Share Memos Image Footer Start":"分享 Thino 图片的左边页脚","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"你可以在这里设置你想要的任意文本，用 {ThinoNum} 来展示你记录的 thino 数量，{UsedDay} 来展示使用日期。默认为'{ThinoNum} Thino {UsedDay} Days'","Share Memos Image Footer End":"分享 Thino 图片的右边页脚","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"你可以在这里设置你想要的任意文本，用 {UserName} 来展示你的用户名。默认为 '✍️ By {UserName}'","Save Shared Image To Folder For Mobile":"当在移动端上时保存图片到文件夹","Save image to folder for mobile. False by Default":"当在移动端上时，保存生成的图片到文件夹","Say Thank You":"感谢开发",Donate:"捐赠","If you like this plugin, consider donating to support continued development:":"如果你喜欢这个插件，而且也希望给我买鸡腿，那么可以考虑 Github 页面右边的 Sponsor~","File Name of Recycle Bin":"回收站的文件名","Set the filename for recycle bin. 'delete' By default":"给回收站设置一个文件名。默认为'delete'","File Name of Query File":"检索文件的文件名","Set the filename for query file. 'query' By default":"设置存放检索式的文件的文件名。默认为'query'","Use Tags In Vault":"使用在库内的所有标签","Use tags in vault rather than only in Memos. False by default.":"使用在库内的而不是 Thino 内的标签。默认关闭","Don't support web image yet, please input image path in vault":"暂不支持网络图片，请使用本地图片","Ready to convert image into background":"正在将图片转换为背景图",List:"列表",Task:"任务",Top:"顶部",Bottom:"底部",TAG:"标签",DAY:"天",QUERY:"检索式",EDIT:"编辑",PIN:"置顶",UNPIN:"取消置顶",DELETE:"删除","CONFIRM！":"确定删除","CREATE FILTER":"创建检索式",Filter:"筛选",Settings:"设置","Recycle bin":"回收站","About Me":"关于","Fetching data...":"获取数据中...","Here is No Memos.":"没有找到 Thino","Frequently Used Tags":"常用标签","What do you think now...":"你现在在想什么？",READ:"阅读",MARK:"引用",SHARE:"分享",SOURCE:"来源",RESTORE:"恢复",ARCHIVE:"归档","DELETE AT":"删除于","Noooop!":"啥都没有！","All Data is Loaded 🎉":"所有数据都加载好啦 🎉","Quick filter":"快速筛选",TYPE:"类型",LINKED:"有链接","NO TAGS":"无标签","HAS LINKS":"有超链接","HAS IMAGES":"有图片",INCLUDE:"包括",EXCLUDE:"排除",TEXT:"文本",IS:"是",AND:"和",OR:"或",LIST:"状态",ISNOT:"不是",SELECT:"选择","ADD FILTER TERMS":"添加检索条件",FILTER:"筛选器",TITLE:"标题","CREATE QUERY":"创建检索式","EDIT QUERY":"编辑检索式",MATCH:"匹配",TIMES:"次","Share Memo Image":"分享 Thino 图片","↗Click the button to save":"↗点击右上角的按钮来保存","Image is generating...":"图片正在生成中...","Image is loading...":"图片正在加载中...","😟 Cannot load image, image link maybe broken":"😟 无法加载图片，图片链接也许不存在","Loading...":"努力加载中...","Daily Memos":"每日 Thino","CANCEL EDIT":"取消编辑","LINK TO THE":"链接到","Mobile Options":"移动端选项","Experimental Options":"实验性选项","Background Image in Dark Theme":"深色主题的背景图","Background Image in Light Theme":"浅色主题的背景图",'Set background image in dark theme. Set something like "Daily/one.png"':'设置深色主题的背景图。请设置类似"Daily/one.png"的路径','Set background image in light theme. Set something like "Daily/one.png"':'设置浅色主题的背景图。请设置类似"Daily/one.png"的路径','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'设置默认 Thino 组成，你必须要使用 {TIME} 作为 "HH:mm" 而且要设置 {CONTENT} 作为内容识别。默认情况下， Thino 基于 "{TIME} {CONTENT}" 识别',"Default Memo Composition":"【已弃置】默认 Thino 组成","Show Tasks Label":"展示任务标签","Show tasks label near the time text. False by default":"在 Thino 的时间旁展示任务标签。默认情况下不展示","Please Open Memos First":"请先打开 Thino","Comment it...":"评论...",DATE:"日期",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"Obsidian Natrual DATES language 插件没启动",BEFORE:"在之前",AFTER:"在之后","Allow Comments On Memos":"允许在 Thino 上评论","You can comment on memos. False by default":"你可以在 Thino 点击图标进行评论了。默认不开启",Import:"导入","TITLE CANNOT BE NULL!":"标题不可以为空！","FILTER CANNOT BE NULL!":"筛选器不可以为空！","Comments In Original DailyNotes/Notes":"在原文件中进行评论","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"你需要安装 0.5.9 版本以上的 Dataview 插件来使用该功能","Open Memos Successfully":"成功打开 Thino ","Fetch Memos Error":"😭 Thino 获取失败","Copied to clipboard Successfully":"复制成功","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"请检查你有没有开启日记插件或者 Periodic Notes 插件且启用了日记模式","Please finish the last filter setting first":"先完善上一个过滤器吧","Close Memos Successfully":"成功关闭 Thino ","Insert as Memo":"插入内容为 Thino","Insert file as memo content":"插入文件为 Thino","Image load failed":"有个图片加载失败了😟","Content cannot be empty":"内容不能为空呀","Unable to create new file.":"无法新建文件","Failed to fetch deleted memos: ":"无法获取已删除的 Thino ：","RESTORE SUCCEED":"成功恢复 Thino","DELETE SUCCEED":"删除成功","Save Memo button icon":"保存按钮上的图标","The icon shown on the save Memo button in the UI.":"你可以设置保存按钮上的图标","Fetch Memos From Particular Notes":"从指定的文件中获取 Thino",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'你可以给笔记设置指定检索式来让 Memos 可以索引到它。默认为 "#memo" ',"Allow Memos to Fetch Memo from Notes":"允许 Thino 从笔记中获取 Thino","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"使用 Memos 来管理你笔记中的 Memos，不单只 DailyNotes 中的内容。默认为关闭","Always Show Memo Comments":"评论将总是可见","Always show memo comments on memos. False by default":"当开启后评论总是会在 Thino 的下方展示。默认为关闭","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"你在 Periodic Notes 插件和日记插件都没设置日记的所在文件夹","Please check your daily note plugin OR periodic notes plugin settings":"请检查你的日记插件和/或 Periodic Notes 插件的设置","Use which plugin's default configuration":"使用哪个插件的默认日记配置","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino 采用指定插件的默认配置来获取 Thino。默认为日记插件。",Daily:"日记插件","Always Show Leaf Sidebar on PC":"在 PC 上总是展示左侧栏","Show left sidebar on PC even when the leaf width is less than 875px. False by default.":"在 PC 上即使页面宽度小于 875px 时都展示左侧栏。默认为关闭","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"你在 Periodic Notes 插件和日记插件都没设置日记的格式","fetch more":"加载更多","Search all settings":"搜索所有设置","Random Review":"随机回顾","ARCHIVED AT":"归档于","Failed to get memos from daily notes":"无法从日记中获取 Thino","Failed to delete memo":"无法删除 Thino","CTRL + ENTER to save":"CTRL + ENTER 保存","Started from":"开始于","Custom Background Image":"自定义背景图","Set custom background image.":"设置自定义背景图","Custom Memo Footer":"自定义 Thino 页脚","Set custom memo footer.":"设置自定义 Thino 页脚","Heatmap Color Scheme":"热力图颜色","Set different color scheme for heatmap.":"设置热力图的颜色","Enable Local Http Server":"启用本地 HTTP 服务器","Memos Http Server Port":"Thino HTTP 服务器端口","Set memos http server port to listen. '43999' by default":"设置 Thino HTTP 服务器端口。默认为 '43999'","Live-Preview Mode OR Source Mode.":"基于 Thino 的所见即所得模式（默认） 或者 源码模式，你可以自己选择适合自己的输入体验。","Default Editor Mode":"默认编辑器模式","Save type for Thino":"Thino 保存类型",DAILY:"日记",MULTI:"多文件",CANVAS:"画布",FILE:"单文件",ALL:"所有","Failed to create daily note, check if it exists.":"无法创建日记，请检查是否存在文件夹","Failed to create daily note. Please check if you created a folder for daily notes.":"无法创建日记，请检查是否存在日记文件夹","After you verify your account, please refresh this page.":"验证成功后，请刷新页面。",Verify:"去验证","Oops! You forget to verify insider account":"内测账户验证失败","If you have any questions, please contact us.":"如果你有任何问题，请联系我们。","Delete Thino Directly":"直接删除 Thino","When delete thino directly, it will not be moved to trash. False by default.":"当直接删除 Thino 时，不会移动到回收站。默认为关闭","Get activation code":"获取激活码","Input activation code here":"在这里输入激活码","Copy Thino id":"获取 Thino id","Activate Pro Version":"激活专业版","Please copy Thino id first":"请先获取 Thino id",'You can set folder name with file name like "folder/file"':'你可以设置例如 "folder/file" 的文件夹名+文件名的搭配来存放在指定文件夹','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'你可以设置例如 "folder1/folder2/folder3" 的文件夹名来创建子文件夹',"Default save type":"默认保存类型",'Set the default save type for thino. "DAILY" by default':'设置 Thino 的默认保存类型。默认为 "日记"',"Enable opening thino globally":"全局唤醒 Thino","Enable opening thino globally. False by default.":"全局唤醒 Thino。默认为关闭","Key for opening thino globally":"全局唤醒 Thino 的快捷键","Set key for opening thino globally. CTRL + SHIFT + T by default.":"设置全局唤醒 Thino 的快捷键。默认为 CTRL + SHIFT + T","Sync Thino via PKMer":"通过 PKMer 同步 Thino",Unlink:"取消链接",Link:"链接","Connect to PKMer Sync, you can check it in ":"连接到 PKMer 同步，你可以在该链接中查看：","PKMer Sync":"PKMer 同步","Remove successfully":"移除成功",Deactivate:"取消激活",Remove:"移除","Confirm?":"确认？","Sync Status":"同步状态","Start or stop sync":"开始或停止同步","Stop sync successfully":"停止同步成功","Start sync successfully":"开始同步成功",Stop:"停止",Start:"开始","Show thino near mouse":"在鼠标附近展示 Thino","Query not found":"检索式未找到","Send to clipboard successfully":"发送到剪贴板成功","Thino - Failed to start HTTP server, please check the port is available.":"Thino - 启动 HTTP 服务器失败，请检查端口是否可用。","Thino - Started HTTP server on port":"Thino - 启动 HTTP 服务器成功，端口为","Thino - Terminated HTTP server":"Thino - 终止 HTTP 服务器","File not exist":"文件不存在","Thino not found":"Thino 未找到","File not found for the given thino path, is creating a new file":"未找到承载指定 Thino 的文件，正在创建新文件","Saved sync token successfully":"保存同步令牌成功","Failed to find daily notes folder":"未找到日记文件夹","Please install obsidian-hover-editor plugin first":"请先安装 obsidian-hover-editor 插件","Copied app id successfully":"复制 app id 成功","Please input token first":"请先输入 token","Please enable sync first":"请先启用同步","Init Failed":"初始化失败","Folder not found for the given thino path, is creating a new folder":"未找到承载指定 Thino 的文件夹，正在创建新文件夹","File not found for the given thino path":"未找到承载指定 Thino 的文件","Failed to read current daily note, check if it exists.":"无法读取日记文件，请检查是否存在","Verify successfully":"验证成功","Failed to verify":"验证失败","Failed to save":"保存失败","Failed to login, please login again":"登录已过期，请重新登录","COPY FAILED":"复制失败","COPY SUCCEED":"复制成功","Copy selected text":"复制选中文本","Copy thino":"复制",COPY:"复制","This is a pro feature, please upgrade to pro version to use it.":"这是专业版功能，请升级到专业版来使用它。","You can get pro version from: ":"你可以从这里获取专业版：",Save:"保存",Cancel:"取消","Thino Daily Target":"Thino 每日目标",Input:"输入","#Tag":"#标签","to create tag":"来创建标签","You have verified your account. Congrats!":"你已经验证了你的账户。恭喜！","Pro features":"专业版功能","Target Thino Count":"目标 Thino 数量",on:"在","Switch waterfall view":"切换瀑布流视图","Switch view":"切换视图","Switch list view":"切换列表视图","Set daily target":"设置每日目标","Thino Save To: ":"Thino 保存到：","Enter fullscreen mode":"进入全屏模式","Exit fullscreen mode":"退出全屏模式",words:"字词","Return To Home Page":"返回首页","Open thino in center window":"在中心窗口打开 thino","Open thino in float window":"在浮动窗口打开 thino","Open thino in right sidebar":"在右侧边栏打开 thino","Open thino in left sidebar":"在左侧边栏打开 thino","Show thino editor":"显示 thino 编辑器","Toggle minimal mode":"切换 Minimal 模式","Focus on thino editor":"聚焦到 thino 编辑器","ReSync web thinos to local":"重新同步 web 上的 thino 到本地","Sync local thinos to web":"同步本地的 thino 到 web","Show daily thino":"显示每日 thino 视图","Focus on search bar":"聚焦到搜索栏","Show-thino in popover(Hover editor)":"在弹出框中显示 thino","Center window":"中心窗口","Float window":"浮动窗口","Right sidebar":"右侧边栏","Left sidebar":"左侧边栏","Save thino type when sync local":"同步本地时保存的 thino 类型","Set the default save thino type when sync local, FILE by default.":"设置同步本地时保存的 thino 类型，默认为单文件。","Sync service":"同步服务","Pro verification status":"专业版激活状态","Live-preview":"所见即所得",Source:"源码",General:"通用",Thino:"Thino",Theme:"主题",Share:"分享",Interface:"界面",Advanced:"进阶","Global copy":"全局复制","Set the folder name":"设置文件夹名","Set the filename":"设置文件名","Set the filename for current location file":"设置当前位置文件的文件名","Switch calendar type":"切换日历类型",alphabetical:"标签名称（A-Z）",alphabeticalReverse:"标签名称（Z-A）",byCount:"按使用次数（从高到低）",byCountReverse:"按使用次数（从低到高）","Type here":"在这里输入",Today:"今天",Yesterday:"昨天","Last 7 days":"最近 7 天","Last 30 days":"最近 30 天","Last 90 days":"最近 90 天","Last 180 days":"最近 180 天","Last 365 days":"最近 365 天",Found:"被找到","Copy filtered thinos":"复制筛选的 thino","Bulk delete":"批量删除","Bulk archive":"批量归档","Bulk tag operation":"标签编辑","Bulk restore":"批量恢复","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"如果你禁用了日记插件，可能会导致 thino 无法被正确删除。请启用插件后再试一次。",Preview:"预览","Set and save":"设置并保存","Show day mark in thino list":"在 Thino 列中展示日期标记","Show day mark on the top of daily range thino. False by default.":"在 Thino 列中展示日期标记。默认为关闭","Click to expand or fold, Cmd+Click to show all thinos of the day":"点击展开或折叠，Cmd+点击展示当天所有 thino","You can buy a license from":"你可以从这里购买许可证","No thinos in range":"该范围内没有 thino",Month:"月视图",Week:"周视图",Day:"日视图",Agenda:"日程视图",Tomorrow:"明天",Previous:"往前",Next:"往后","Search all columns...":"搜索所有的列...","Basic Info":"基础信息","Additional Info":"附加信息","Created At":"创建于",Content:"内容","Thino Type":"Thino 类型","Source Type":"来源类型","Row status":"归档状态",Path:"路径","Pinned Status":"置顶状态",Table:"表格",Chat:"聊天",Moments:"动态",Waterfall:"瀑布流",Calendar:"日历","Go to page":"跳转到页",Page:"页",Show:"展示",rows:"行","Temp Filter":"临时筛选器","Set the heading for saving thino":"设置保存 Thino 的标题","# Heading":"# 标题","Open link directly in Thino view":"Thino 视图内直接打开双链","Day mark range":"日期标记范围","Set the range of day mark. Day by default.":"设置日期标记的范围，默认为天","Thino is locked":"Thino 已锁定","Please unlock Thino by input password":"请输入密码来解锁 Thino","Auto Download Image":"自动下载图片","Auto download image when save to thino. 'false' by default":"当保存到 Thino 时自动下载图片。默认为 'false'","Thino Http IP Type":"Thino HTTP 服务器 IP 类型","Set Thino http server ip to listen. 'localhost' by default":"设置 Thino HTTP 服务器 IP。默认为 'localhost'","Password to lock Thino":"锁定 Thino 的密码",Unlock:"解锁",Locked:"已锁定","Password is incorrect":"密码错误",Lock:"锁定","Need password to unlock Thino":"需要密码来解锁 Thino","You have not set a password or enable this feature yet":"你还没有设置密码或者启用该功能",Password:"密码","Password for Thino":"Thino 的密码","Please input your password to change password settings":"请输入原来的密码来修改密码设置","Please input your password":"请输入密码","Lock thino":"锁定 Thino",date:"日期",time:"时间",event:"事件","Add tag position":"添加标签位置","Set the position of the tag when adding tag automatically":"设置自动添加标签的位置","Add tag automatically":"自动添加标签","Add tag to the end or beginning of the thino content when creating a thino and filtering tags":"在创建 Thino 和筛选标签时，将标签添加到 Thino 内容的末尾或开头","Add tag with new line":"添加标签时换行","Add tag with new line when adding tag automatically":"自动添加标签时换行","Input to select more tags":"输入来选择更多标签","Tag Bulk Edit":"标签批量编辑","Tag Bulk Select":"标签批量选择","Exist Tags":"已有标签","Selected Tags":"已选标签","Click to remove exist tag":"点击移除已有标签","Click to remove selected tag":"点击移除已选标签","Select tags":"选择标签","Input to select exist tag":"输入来选择已有标签",Beginning:"开头",End:"末尾","Chat view style":"聊天视图样式","Set the style of chat view":"设置聊天视图的样式","Background image for moments view":"动态视图的背景图","Set the background image for moments view":"设置动态视图的背景图","Icon for moments/chat view/share image":"动态/聊天视图/分享图的头像","Set the icon for moments/chat view/share image":"设置动态/聊天视图/分享图的头像","Quote for moments view/share image":"动态视图/分享图的个性签名","Set the quote for moments view/share image":"设置动态视图/分享图的个性签名","Theme for Thino":"Thino 主题","Set the theme for Thino":"设置 Thino 的主题","Interface Details":"界面详情","Task amount":"任务数量","Thino status":"Thino 状态","Used tags":"使用的标签","Used days":"使用的天数","Most active day":"最活跃的一天","Most active hour":"最活跃的一小时","Thino amount":"Thino 数量","No content to generate.":"没有内容可以生成。","Image generated successfully.":"图片生成成功。","Failed to generate image.":"图片生成失败。","Share filtered thinos as image":"分享筛选的 Thino 为图片","Latest version":"最新版本","Previous version":"之前版本","Thino update info":"Thino 更新信息","Debug info copied to clipboard":"调试信息已复制到剪贴板","Copy debug info":"复制调试信息","Failed to load changelog":"无法加载更新日志","View online":"在线查看",ChangeLog:"更新日志","Please open thino first":"请先打开 Thino","Insert editor":"插入编辑器","Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly.":"请在 Thino 设置中为多文件设置不同的路径，日记文件夹与多文件保存路径重复，或者存在被重复读取可能","Default time prefix for thino in daily notes":"日记中 Thino 的默认时间前缀","Set default time prefix for thino in daily notes.":"设置日记中 Thino 的默认时间前缀","Save image successfully":"保存图片成功","User quote":"用户签名","Set user quote for thino":"设置用户签名","User icon":"用户头像","Set user icon for thino. You can input http/https link or file path in vault.":"设置用户头像。你可以设置 http/https 链接或者 vault 中的文件路径。","User info":"用户信息","Copy filtered results":"复制筛选结果","Share image":"分享图片",Default:"默认",Gray:"灰色",Grass:"草绿",Flame:"火焰",Olive:"橄榄",Ice:"冰",Magenta:"品红","Daily notes":"日记相关",Editor:"编辑器","Append/prepend text when share to Thino":"分享到 Thino 时添加/前置文本","Append text when share to Thino":"分享到 Thino 时添加文本","Prepend text when share to Thino":"分享到 Thino 时前置文本","Add newline when append/prepend text":"添加换行符",Prepend:"前置",Append:"后置",Both:"两者",None:"无","Hide pinned group":"隐藏置顶分组","Hide pinned group in thino list. False by default.":"隐藏置顶的 Thino 分组。默认为关闭","Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"设置 Thino 任务类型的标题，如果提供了标题，所有记录的 Thino 内容将统一归类到该标题下。","Different insert target for different type":"不同类型的 Thino 有不同的插入目标","Toggle this to set different insert target for different type of thino, like task or list type of thino":"切换此选项以为不同类型的 Thino 设置不同的插入目标，例如任务或列表类型的 Thino","Set process target":"设置处理目标","You can set whole diary or only part of it":"你可以设置整个日记或者其中的一部分",Custom:"自定义","Whole diary":"整个日记","Set thino insert place":"设置 Thino 插入位置","Set where to insert thino content":"设置 Thino 内容插入位置","End of the diary":"日记的末尾","Custom location":"自定义位置","Setting guide":"设置流程","Details settings":"详细设置","Start Thino":"开始 Thino","About Thino Pro":"关于 Thino 专业版",Enabled:"已启用",Enable:"启用","Daily notes folder":"日记文件夹","Set daily notes folder":"设置日记文件夹","Daily note name format":"日记文件名格式","Set daily note name format":"设置日记文件名格式","Daily note plugin":"日记插件","Enable daily note plugin":"启用日记插件",Selected:"已选择",Select:"选择","A classic theme for Thino with a two-column layout":"Thino 的经典主题，采用两列布局",Classic:"经典","A modern theme for Thino with a three-column layout and some unique features.":"Thino 的现代主题，采用三列布局和一些独特的功能。",Modern:"现代","Go and enjoy Thino":"去享受 Thino 吧","Congrats! All settings done":"恭喜！所有设置已完成","Adjust settings that influence your user experience with Thino.":"调整影响你使用 Thino 的设置。","Set preferences for using Thino":"设置使用 Thino 的偏好","If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.":"如果你使用的是 Thino 基础版，启用日记插件是必须的。配置其设置以有效地使用它。","Go with daily note plugin":"使用日记插件","Choose a theme for Thino.":"选择 Thino 的主题。","Set theme for Thino":"设置 Thino 的主题","Set up your user info for Thino.":"设置你的用户信息。","Get started with Thino":"开始使用 Thino","Skip and start Thino":"跳过并开始 Thino","Next step":"下一步","Back to previous step":"返回上一步","Click to enable =>":"点击启用 =>","This is Thino's sidebar. Navigate to different path or select query filter.":"这是 Thino 的侧边栏。你可以导航到不同的路径或选择查询过滤器。","Click here and go to settings page.":"点击这里并转到设置页面。","Click here and go to different path.":"点击这里并转到不同的路径。","Select or create query filter here.":"在这里选择或创建查询过滤器。","See the status of Thinos here.":"在这里看到 Thino 的状态。","Search your thino quickly here.":"在这里快速搜索你的 Thino。","Edit or create your thino here.":"在这里编辑或创建你的 Thino。","See your thinos here.":"在这里看到你的 Thino。","See your time status of thinos here.":"在这里看到你的 Thino 时间状态。","See your tags here. Tags will be shown when thino contains tags.":"在这里看到你的标签。当 Thino 包含标签时，标签将显示。",Done:"完成","Thino is ready to use. ":"Thino 已准备好使用。","You can start using Thino now. If you want to know more about Thino Pro, click the button below.":"你现在可以开始使用 Thino 了。如果你想了解更多关于 Thino 专业版的信息，请点击下面的按钮。","Default time prefix":"默认时间前缀","Append Text Action":"分享到 Thino 时的后置文本动作","Prepend Text Action":"分享到 Thino 时的前置文本动作",Preset:"预设","Select Tags":"选择标签","It is not available on small view":"在窄的视图中不可用","Append text":"在末尾添加文本","Prepend text":"在开头添加文本","Your daily note folder is not set correctly, please check your settings":"你的日记文件夹设置不正确，请检查你的设置","Default sharing style":"默认分享样式","Set the default style for sharing thino, 'Modern' by default.":"设置 Thino 的默认分享样式，默认为“现代”。",Clean:"清爽",Minimal:"极简",Gradient:"渐变","Thino share":"Thino 分享","Copy to clipboard failed":"复制到剪贴板失败","Copy to clipboard successfully":"复制到剪贴板成功","Your content has been copied to clipboard, and inserted into the editor. Please try it again":"你的内容已经复制到剪贴板，并插入到编辑器中。请再试一次","Share thino":"分享 Thino","Set file name after create thino":"创建 Thino 后设置文件名","You can set file name after create thino. A input box will show when you create thino.":"你可以在创建 Thino 后设置文件名。当你创建 Thino 时，会显示一个输入框。",SPLIT:"分割","Split by Heading 1":"按一级标题分割","Split by Heading 2":"按二级标题分割","Split by Heading 3":"按三级标题分割","Insert task":"插入任务"},$A={},qA={ar:EA,cs:CA,da:MA,de:kA,en:Ex,"en-gb":NA,es:AA,fr:FA,hi:PA,id:OA,it:jA,ja:LA,ko:RA,nl:_A,nn:BA,pl:HA,pt:YA,"pt-br":UA,ro:zA,ru:VA,tr:WA,"zh-cn":ZA,"zh-tw":$A},wD=qA[C.moment.locale()];function E(e){const t=wD&&wD[e]||Ex[e];return t===null?t:t||e}const GA=/```([\s\S]*?)```/g,JA=/\*\*(.+?)\*\*/g,KA=/\*(.+?)\*/g,QA=/\[ \] /g,XA=/\[.{1}\] /g,e6=/^[*-]/g,t6=/(\d+)\. /g,bD=/\[\[([^\]]+)\]\]/g,kb=/\[([^\]]+)\]\((([^\]]+).md)\)/g,n6=(e,t)=>{const n=e.replace(GA,"<pre lang=''>$1</pre>").replace(e6,"<span class='counter-block'>•</span>").replace(t6,"<span class='counter-block'>$1.</span>").replace(QA,"<span class='todo-block' data-type='todo'>⬜</span>").replace(XA,"<span class='todo-block' data-type='done'>✅</span>").replace(JA,"<strong>$1</strong>").replace(KA,"<em>$1</em>").replace(/&lt;br&gt;/g,"</p><p>").replace(/&amp;/g,"&");let r=n;if(t){if(bD.test(n)){const o=n.match(bD);for(let i=0;i<o.length;i++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(o[i])){const a=r6(o[i]);if(/\|/g.test(a)){const[u,d]=a.split("|"),f=Lw(u,d);r=n.replace(o[i],f)}else{const f=Lw(a,"");r=r.replace(o[i],f)}}}if(kb.test(n)){const o=n.match(kb);for(let i=0;i<o.length;i++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(o[i])){const a=i6(o[i]),u=o6(o[i]),d=Lw(a,u);r=n.replace(o[i],d)}}}return r},Lw=(e,t)=>{const{metadataCache:n}=Le.getState().dailyNotesState.app;return n.getFirstLinkpathDest(decodeURIComponent(e),"")instanceof C.TFile?t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${e}</a>`:t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${e}</a>`},r6=e=>{var t;return(t=/\[\[([^\]]+)\]\]/g.exec(e))==null?void 0:t[1]},o6=e=>{var t;return(t=kb.exec(e))==null?void 0:t[1]},i6=e=>{var t;return(t=/\[([^\]]+)\]\((([^\]]+).md)\)/g.exec(e))==null?void 0:t[3]},SD=e=>{const t=document.createElement("div");return t.className="memo-content-text",t.innerHTML=e,t.innerText},a6=e=>e.replace(/\n/g,"<br>"),s6=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML},DD="mobile-show-sidebar",Cx=200,fl=3600*24*1e3,yr=/\s#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,so=/(<p>|<br>)#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,Or=/^#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/gu,Fd=/(\s|：|\(|>|^)((http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-]))/g,l6=/\[([\s\S]*?)\]\(([\s\S]*?)\)/gu,Pd=/([^\s<\\*>'(]+\.(jpeg|jpg|gif|png|svg))(\]\])?(\))?/g,hc=/\[@(.+?)\]\((.+?)\)/g,u6=/[#*"\/\\<>:|\[\]\?]/gim,c6=/^(-|\*|\d\.)\s(\[.\]\s)?(\d{1,2}:\d{2}(:\d{2})?)\s(.*)/g,km=[{title:"DAILY",icon:"list"},{title:"CANVAS",icon:"layout-dashboard"},{title:"MULTI",icon:"file-text"},{title:"FILE",icon:"edit"}];var Nb;(e=>{function t(){return parseInt(C.moment().format("x"))}e.getNowTimeStamp=t;function n(U){const W=/'’A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,Z=/\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5/.source,re=/[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5]{1}/.source,Q=new RegExp([`(?:[0-9]+(?:(?:,|\\.)[0-9]+)*|[\\-${W}])+`,Z,re].join("|"),"g");return(U.match(Q)||[]).length}e.getWordCount=n;function r(U){Mm()&&(U!=null&&U.EnabledLocationList.some(W=>W.value==="DAILY"))&&(U!=null&&U.EnabledLocationList.some(W=>W.value==="MULTI"))&&e0().contains(U==null?void 0:U.MemoOtherSaveLocation.MemoDefaultMultiFilePath)&&new C.Notice(E("Please set different save locations for multi-file settings in Thino. The diary folder overlaps with the multi-file save location, or there is a risk of it being read repeatedly."),5e3)}e.checkDailyInMulti=r;function o(){const U=navigator.userAgent;let W="Unknown";return U.indexOf("Win")!=-1?W="Windows":U.indexOf("Mac")!=-1?W="MacOS":U.indexOf("Linux")!=-1&&(W="Linux"),W}e.getOSVersion=o;function i(U){return typeof U=="string"&&(U=U.replaceAll("-","/")),new Date(U).getTime()}e.getTimeStampByDate=i;function a(U){const W=new Date(i(U));return new Date(W.getFullYear(),W.getMonth(),W.getDate()).getTime()}e.getDateStampByDate=a;function u(U){const W=new Date(i(U)),Z=W.getFullYear(),re=W.getMonth()+1,Q=W.getDate();return`${Z}/${re}/${Q}`}e.getDateString=u;function d(U){const W=new Date(i(U)),Z=W.getHours(),re=W.getMinutes(),Q=Z<10?"0"+Z:Z,ce=re<10?"0"+re:re;return`${Q}:${ce}`}e.getTimeString=d;function f(U){const W=new Date(i(U)),Z=W.getFullYear(),re=W.getMonth()+1,Q=W.getDate(),ce=W.getHours(),ee=W.getMinutes(),fe=W.getSeconds(),$=re<10?"0"+re:re,le=Q<10?"0"+Q:Q,oe=ce<10?"0"+ce:ce,he=ee<10?"0"+ee:ee,G=fe<10?"0"+fe:fe;return`${Z}/${$}/${le} ${oe}:${he}:${G}`}e.getDateTimeString=f;function m(U){return Array.from(new Set(U))}e.dedupe=m;function g(U){const W=new Set,Z=[];for(const re of U)W.has(re.id)||(W.add(re.id),Z.push(re));return Z}e.dedupeObjectWithId=g;function v(U,W){let Z=null;return()=>{Z&&clearTimeout(Z),Z=setTimeout(U,W)}}e.debounce=v;function b(U,W,Z=!1,re){let Q=null,ce=!1;function ee(...fe){if(Q&&clearTimeout(Q),Z&&!ce){const $=U.apply(this,fe);re&&typeof re=="function"&&re($),ce=!0}else Q=setTimeout(()=>{const $=U.apply(this,fe);re&&typeof re=="function"&&re($),ce=!1,Q=null},W)}return ee.cancel=function(){Q&&clearTimeout(Q),Q=null,ce=!1},ee}e.debouncePlus=b;function S(U,W){let Z=!0;return()=>{if(!Z)return!1;Z=!1,setTimeout(()=>{U(),Z=!0},W)}}e.throttle=S;function T(U){const W=[],Z=Object.keys(U).sort();for(const re of Z){const Q=U[re];Q&&(typeof Q=="object"?W.push(...T(Q).split("&")):W.push(`${re}=${Q}`))}return W.join("&")}e.transformObjectToParamsString=T;function I(U){const W={},Z=U.split("&");for(const re of Z){const[Q,ce]=re.split("=");Q&&ce&&(W[Q]=ce)}return W}e.transformParamsStringToObject=I;function k(U){if(!U)return{};const W={},Z=Object.keys(U).sort();for(const re of Z){const Q=U[re];if(typeof Q=="object"){const ce=k(JSON.parse(JSON.stringify(Q)));ce&&Object.keys(ce).length>0&&(W[re]=ce)}else Q&&(W[re]=Q)}return W}e.filterObjectNullKeys=k;async function A(U){if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(U)}catch(W){console.warn("Copy to clipboard failed.",W)}else console.warn("Copy to clipboard failed, methods not supports.")}e.copyTextToClipboard=A;function R(U){return new Promise(W=>{const Z=new Image;Z.onload=()=>{const{width:re,height:Q}=Z;re>0&&Q>0?W({width:re,height:Q}):W({width:0,height:0})},Z.onerror=()=>{W({width:0,height:0})},Z.className="hidden",Z.src=U,document.body.appendChild(Z),Z.remove()})}e.getImageSize=R;async function j(U){var Q,ce,ee,fe;let W;const re=app.plugins.getPlugin("obsidian-memos").settings.UseDailyOrPeriodic==="Daily";try{return!re&&((fe=(ee=(ce=(Q=window.app.plugins)==null?void 0:Q.getPlugin("periodic-notes"))==null?void 0:ce.calendarSetManager)==null?void 0:ee.getActiveConfig("day"))!=null&&fe.enabled)?(W=await window.app.plugins.getPlugin("periodic-notes").createPeriodicNote("day",U),W):(W=await app.internalPlugins.getPluginById("daily-notes").instance.getDailyNote(U)||await xx(U),W)}catch($){return console.error($),new C.Notice(E("Failed to create daily note. Please check if you created a folder for daily notes.")),null}}e.createDailyNoteCheck=j;function B(U){const W=[];let Z=0;for(;Z<U;Z++)W.push((16*Math.random()|0).toString(16));return W.join("")}e.randomId=B;function L(U){return U.replace(/[\p{P}\p{Z}\p{S}]/gu,"").length}e.countWords=L;async function z(U){try{const W=await C.requestUrl(U),Z=new Uint8Array(W.arrayBuffer);return new Blob([Z],{type:"image/png"})}catch(W){return console.error("error in grabImageFromUrl",U,W),new Blob}}e.grabImageFromUrl=z})(Nb||(Nb={}));const lt=Nb;function d6(){var i,a,u,d,f,m;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(u=(a=(i=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:i.calendarSetManager)==null?void 0:a.getActiveConfig("day"))==null?void 0:u.folder,o=(m=(f=(d=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:d.settings)==null?void 0:f.daily)==null?void 0:m.format;switch(r===void 0?n=o:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=oc().format||"YYYY-MM-DD";break;case"Periodic":e=n||"YYYY-MM-DD";break;default:e=oc().format||"YYYY-MM-DD";break}return e===void 0&&new C.Notice(E("You didn't set format for daily notes in both periodic-notes and daily-notes plugins.")),e}function e0(){var i,a,u,d,f,m;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(u=(a=(i=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:i.calendarSetManager)==null?void 0:a.getActiveConfig("day"))==null?void 0:u.folder,o=(m=(f=(d=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:d.settings)==null?void 0:f.daily)==null?void 0:m.folder;switch(r===void 0?n=o:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=oc().folder||"";break;case"Periodic":e=n||"";break;default:e=oc().folder||"";break}return e===void 0&&new C.Notice(E("You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.")),e}function f6(){const e=e0();return!(e!==void 0&&!app.vault.getFolderByPath(e))}function Ab(e,t){var r;e=s6(e),e=a6(e).split("<br>").map(o=>`<p>${o!==""?o:"<br>"}</p>`).join(""),e=n6(e,t),e=e.replace(yr,"<span class='tag-span'>#$1</span>").replace(so,"<p><span class='tag-span'>#$2</span>").replace(Fd,"$1<a class='link' target='_blank' rel='noreferrer' href='$2'>$2</a>").replace(l6,"<a class='link' target='_blank' rel='noreferrer' href='$2'>$1</a>").replace(hc,"<span class='memo-link-text' data-value='$2'>$1</span>").replace(/\^\S{6}/g,"");const n=document.createElement("div");n.innerHTML=e;for(let o=0;o<n.children.length;o++){const i=n.children[o];if(i.tagName==="P"&&i.textContent===""&&((r=i.firstElementChild)==null?void 0:r.tagName)!=="BR"){i.remove(),o--;continue}}return n.innerHTML}const t0=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),o=new Uint8Array(r);for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return new Blob([r],{type:t})};function h6(e,t){switch(t.type){case"SET_MEMOS":{const n=t.payload.memos.sort((o,i)=>{const a=lt.getTimeStampByDate(o.createdAt),u=lt.getTimeStampByDate(i.createdAt);return a===u?i.id.localeCompare(o.id):lt.getTimeStampByDate(i.createdAt)-lt.getTimeStampByDate(o.createdAt)}),r=lt.dedupeObjectWithId(n);return{...e,memos:[...r]}}case"SET_COMMENT_MEMOS":{const n=lt.dedupeObjectWithId(t.payload.commentMemos.sort((r,o)=>lt.getTimeStampByDate(o.createdAt)-lt.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"SET_TAGS":return{...e,tags:t.payload.tags,tagsNum:t.payload.tagsNum};case"INSERT_MEMO":{const n=lt.dedupeObjectWithId([t.payload.memo,...e.memos].sort((r,o)=>lt.getTimeStampByDate(o.createdAt)-lt.getTimeStampByDate(r.createdAt)));return{...e,memos:n}}case"INSERT_COMMENT_MEMO":{const n=lt.dedupeObjectWithId([t.payload.memo,...e.commentMemos].sort((r,o)=>lt.getTimeStampByDate(o.createdAt)-lt.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"DELETE_MEMO_BY_ID":return{...e,memos:[...e.memos].filter(n=>n.id!==t.payload.id)};case"DELETE_MEMO_BY_ID_BATCH":{const n=[...e.memos];return t.payload.ids.forEach(r=>{n.splice(n.findIndex(o=>o.id===r),1)}),{...e,memos:[...n]}}case"PREPARE_UPDATE_THINO":return{...e,preparingUpdateMemo:[...e.preparingUpdateMemo,{thino:t.payload.thino,originalId:t.payload.originalId}]};case"REMOVE_PREPARE_UPDATE_THINO":return{...e,preparingUpdateMemo:[]};case"REMOVE_PARTICULAR_PREPARE_UPDATE_THINO":return{...e,preparingUpdateMemo:e.preparingUpdateMemo.filter(n=>n.originalId!==t.payload.originalId)};case"CLEAR_MEMOS":return{...Mx};case"EDIT_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"EDIT_MEMO_PATH":{const n=e.memos.map(r=>r.path===t.payload.path?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"UPDATE_MEMO_BATCH":{const n=e.memos.filter(o=>o.path!==t.payload.path),r=lt.dedupeObjectWithId([...t.payload.memos,...n].sort((o,i)=>lt.getTimeStampByDate(i.createdAt)-lt.getTimeStampByDate(o.createdAt)));return{...e,memos:[...r]}}case"ARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"ARCHIVE_MEMO_BY_ID_BULK":{const n=e.memos.map(r=>t.payload.some(o=>o.id===r.id)?{...r,...t.payload.filter(o=>o.id===r.id)[0]}:r);return{...e,memos:[...n]}}case"UNARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"PIN_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,pinned:t.payload.pinned}:r);return{...e,memos:[...n]}}case"EDIT_COMMENT_MEMO":{const n=e.commentMemos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,commentMemos:[...n]}}default:return e}}const Mx={memos:[],commentMemos:[],tags:[],tagsNum:{},preparingUpdateMemo:[]};function p6(e,t){switch(t.type){case"SIGN_IN":return{user:t.payload.user};case"SIGN_OUT":return{user:null};default:return e}}const m6={user:null};function g6(e,t){switch(t.type){case"SET_QUERIES":{const n=lt.dedupeObjectWithId(t.payload.queries.sort((r,o)=>lt.getTimeStampByDate(o.createdAt)-lt.getTimeStampByDate(r.createdAt)).sort((r,o)=>lt.getTimeStampByDate(o.pinnedAt??0)-lt.getTimeStampByDate(r.pinnedAt??0)));return{...e,queries:n}}case"INSERT_QUERY":{const n=lt.dedupeObjectWithId([t.payload.query,...e.queries].sort((r,o)=>lt.getTimeStampByDate(o.createdAt)-lt.getTimeStampByDate(r.createdAt)));return{...e,queries:n}}case"DELETE_QUERY_BY_ID":return{...e,queries:[...e.queries].filter(n=>n.id!==t.payload.id)};case"UPDATE_QUERY":{const n=e.queries.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,queries:n}}default:return e}}const y6={queries:[]};function v6(e,t){var n,r,o,i;switch(t.type){case"SET_DAILY_NOTES":return{...e,dailyNotes:t.payload.dailyNotes};case"SET_APP":return e.app?{...e}:{...e,app:t.payload.app};case"SET_PLUGIN":return e.plugin?{...e}:{...e,plugin:t.payload.plugin};case"SET_EDITOR":return e.editor?{...e}:{...e,editor:t.payload.editor};case"SET_SETTINGS":return e.settings&&e.settings===t.payload.settings?{...e}:{...e,settings:t.payload.settings};case"SET_VIEW":return e.view&&((r=(n=e.view)==null?void 0:n.leaf)==null?void 0:r.id)===((i=(o=t.payload.view)==null?void 0:o.leaf)==null?void 0:i.id)?{...e}:{...e,view:t.payload.view};case"CLEAR_VIEW":return e.view&&e.view.unload(),{...e,view:null};case"CLEAR_FILES":return{...e,dailyNotes:null};case"SET_VERIFY_STATE":return{...e,verifyState:t.payload.verifyState};default:return e}}const w6={dailyNotes:null,app:null,view:null,settings:null,editor:null,plugin:null,verifyState:null},Le=JN({globalState:QN,locationState:dx,memoState:Mx,userState:m6,queryState:y6,dailyNotesState:w6},GN({globalState:KN,locationState:XN,memoState:h6,userState:p6,queryState:g6,dailyNotesState:v6})),Ot=F.createContext(Le.getState());String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object regexp]"?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});class b6{constructor(){De(this,"initialized",!1)}getState(){return Le.getState().dailyNotesState}setApp(t){return Le.dispatch({type:"SET_APP",payload:{app:t}}),t}setPlugin(t){return Le.dispatch({type:"SET_PLUGIN",payload:{plugin:t}}),t}setSettings(t){return Le.dispatch({type:"SET_SETTINGS",payload:{settings:t}}),this.initialized||(this.initialized=!0),t}setView(t){return Le.dispatch({type:"SET_VIEW",payload:{view:t}}),t}setEditor(t){return Le.dispatch({type:"SET_EDITOR",payload:{editor:t}}),t}async updateDailyNotes(t,n){const r=this.getState().dailyNotes,o=lh(t,"day");return n?delete r[`day-${o.format("YYYY-MM-DD")}T00:00:00+08:00}`]:r[`day-${o.format("YYYY-MM-DD")}T00:00:00+08:00}`]=t,Le.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:r}}),r}setVerifyState(t){return Le.dispatch({type:"SET_VERIFY_STATE",payload:{verifyState:t}}),t}async fechLocalDailyNotes(){try{const t=su();return Le.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:t}}),t}catch(t){console.error(t)}}}const vt=new b6;var Vr;(e=>{function t(i){const a={};for(const u of i)try{const d=localStorage.getItem(u);if(d!==null){const f=JSON.parse(d);a[u]=f}}catch(d){console.error("Get storage failed in ",u,d)}return a}e.get=t;function n(i){for(const a in i)try{const u=JSON.stringify(i[a]);localStorage.setItem(a,u)}catch(u){console.error("Save storage failed in ",a,u)}}e.set=n;function r(i){for(const a of i)try{localStorage.removeItem(a)}catch(u){console.error("Remove storage failed in ",a,u)}}e.remove=r;function o(){var a;const i=document.createElement("iframe");i.style.display="none",document.body.appendChild(i),(a=i.contentWindow)==null||a.localStorage.setItem("t",Date.now().toString()),i.remove()}e.emitStorageChangedEvent=o})(Vr||(Vr={}));class S6{constructor(){De(this,"getState",()=>Le.getState().globalState);De(this,"setEditMemoId",t=>{Le.dispatch({type:"SET_EDIT_MEMO_ID",payload:{editMemoId:t}})});De(this,"setRefresh",t=>{Le.dispatch({type:"SET_REFRESH",payload:{refresh:t}})});De(this,"setCommentMemoId",t=>{Le.dispatch({type:"SET_COMMENT_MEMO_ID",payload:{commentMemoId:t}})});De(this,"setMarkMemoId",t=>{Le.dispatch({type:"SET_MARK_MEMO_ID",payload:{markMemoId:t}})});De(this,"setLoaded",t=>{Le.dispatch({type:"SET_LOADED",payload:{loaded:t}})});De(this,"setGlobalEditorShown",t=>{Le.dispatch({type:"SET_GLOBAL_EDITOR_SHOWN",payload:{globalEditorShown:t}})});De(this,"setIsMobileView",t=>{Le.dispatch({type:"SET_MOBILE_VIEW",payload:{isMobileView:t}})});De(this,"setChangedByMemos",t=>{Le.dispatch({type:"SET_CHANGED_BY_MEMOS",payload:{changedByMemos:t}})});De(this,"setShowSiderbarInMobileView",t=>{Le.dispatch({type:"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW",payload:{showSiderbarInMobileView:t}})});De(this,"setAppSetting",t=>{Le.dispatch({type:"SET_APP_SETTING",payload:t}),Vr.set(t)});De(this,"setMemoListView",t=>{Le.dispatch({type:"SET_MEMO_LIST_VIEW",payload:{memoListView:t}})});De(this,"setInstance",(t,n)=>{Le.dispatch({type:"SET_INSTANCE",payload:{id:t,instance:n}})});De(this,"setLocked",t=>{Le.dispatch({type:"SET_LOCKED",payload:{locked:t}})});De(this,"setExitSteps",t=>{Le.dispatch({type:"SET_EXIT_STEPS",payload:{exited:t}})});De(this,"setPluginManifest",t=>{Le.dispatch({type:"SET_MEMO_PLUGIN_MANIFEST",payload:{manifest:t}})});const t=Vr.get(["shouldSplitMemoWord","shouldHideImageUrl","shouldUseMarkdownParser","useTinyUndoHistoryCache"]),n={shouldSplitMemoWord:t.shouldSplitMemoWord||!0,shouldHideImageUrl:t.shouldHideImageUrl||!0,shouldUseMarkdownParser:t.shouldUseMarkdownParser||!0,useTinyUndoHistoryCache:t.useTinyUndoHistoryCache||!1};this.setAppSetting(n)}}const ft=new S6;class D6{constructor(){De(this,"updateStateWithLocation",()=>{const{pathname:t,search:n,hash:r}=window.location,o=new URLSearchParams(n),i={pathname:"/",hash:"",query:{tag:"",duration:null,text:"",type:"",filter:""}};i.query.tag=o.get("tag")||"",i.query.type=o.get("type")??"",i.query.text=o.get("text")??"",i.query.filter=o.get("filter")??"";const a=parseInt(o.get("from")??"0"),u=parseInt(o.get("to")??"0");u>a&&u!==0&&(i.query.duration={from:a,to:u}),i.hash=r,i.pathname=this.getValidPathname(t),Le.dispatch({type:"SET_LOCATION",payload:i})});De(this,"getState",()=>Le.getState().locationState);De(this,"clearQuery",()=>{Le.dispatch({type:"SET_QUERY",payload:{tag:"",duration:null,text:"",type:"",filter:""}})});De(this,"setQuery",t=>{Le.dispatch({type:"SET_QUERY",payload:t})});De(this,"reloadApp",()=>{Le.dispatch({type:"RELOAD"})});De(this,"setHash",t=>{Le.dispatch({type:"SET_HASH",payload:{hash:t}})});De(this,"setPathname",t=>{Le.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});De(this,"pushHistory",t=>{Le.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});De(this,"replaceHistory",t=>{Le.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});De(this,"setMemoTypeQuery",(t="")=>{Le.dispatch({type:"SET_TYPE",payload:{type:t}})});De(this,"setMemoFilter",t=>{Le.dispatch({type:"SET_QUERY_FILTER",payload:t})});De(this,"setTextQuery",t=>{Le.dispatch({type:"SET_TEXT",payload:{text:t}})});De(this,"setTimeQuery",t=>{Le.dispatch({type:"SET_DURATION_QUERY",payload:{duration:t}})});De(this,"setTagQuery",t=>{Le.dispatch({type:"SET_TAG_QUERY",payload:{tag:t}})});De(this,"setFromAndToQuery",(t,n)=>{Le.dispatch({type:"SET_DURATION_QUERY",payload:{duration:{from:t,to:n}}})});De(this,"getValidPathname",t=>["/","/homeboard","/recycle","/setting"].includes(t)?t:"/");this.updateStateWithLocation(),window.onpopstate=()=>{this.updateStateWithLocation()}}}const at=new D6,gd=e=>`${e.vault.configDir}/query.json`,kx=async(e,t)=>{try{return await e.vault.adapter.read(t),!0}catch(n){return console.error(n),!1}},Mh=async e=>(await kx(e,gd(e))||await Nx(e),JSON.parse(await e.vault.adapter.read(gd(e))).queries||[]),eg=async(e,t)=>{await e.vault.adapter.write(gd(e),JSON.stringify({queries:t},null,2))},Nx=async e=>{const t=ft.getState().manifest,n=e.plugins.getPlugin(t.id||"obsidian-memos").settings,r=e.metadataCache.getFirstLinkpathDest(n.QueryFileName,"");if(!r)await e.vault.adapter.write(gd(e),JSON.stringify({queries:[]},null,2));else{const i=(await e.vault.read(r)).split(`
`);i.length===0&&await e.vault.adapter.write(gd(e),JSON.stringify({queries:[]},null,2));const a=[];for(let u=0;u<i.length;u++){const d=u,f="Memos";let m="未命名";const g=i[u];let v=C.moment().format("YYYY/MM/DD HH:mm:ss"),b="[]";const S=g.match(/^\d{14,16}/);S&&(v=C.moment(S[0].slice(0,14),"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:ss"));const T=g.match(/\[\{(.+)\}\]/);T&&(b=T[0]);const I=g.match(/\s(.+)\s\[\{/);I&&(m=I[0].slice(1,-3)),a.push({id:d,pinnedAt:"",createdAt:v,updatedAt:v,title:m,querystring:b,userId:f})}await e.vault.adapter.write(gd(e),JSON.stringify({queries:a},null,2))}},T6=async()=>{const{app:e}=Le.getState().dailyNotesState;return await kx(e,gd(e))||await Nx(e),await Mh(e)||[]},I6=(e,t)=>({createdAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),id:e,pinnedAt:"",querystring:t,title:E("Temp Filter"),updatedAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"}),x6=async(e,t)=>{const n=await Mh(Le.getState().dailyNotesState.app)||[],r={createdAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),id:C.moment().format("YYYYMMDDHHmmss")+n.length,pinnedAt:"",querystring:t,title:e,updatedAt:C.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"};return n.push(r),await eg(Le.getState().dailyNotesState.app,n),r};var vv={exports:{}};vv.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",f=500,m="__lodash_placeholder__",g=1,v=2,b=4,S=1,T=2,I=1,k=2,A=4,R=8,j=16,B=32,L=64,z=128,U=256,W=512,Z=30,re="...",Q=800,ce=16,ee=1,fe=2,$=3,le=1/0,oe=9007199254740991,he=17976931348623157e292,G=NaN,ne=4294967295,pe=ne-1,Ie=ne>>>1,Oe=[["ary",z],["bind",I],["bindKey",k],["curry",R],["curryRight",j],["flip",W],["partial",B],["partialRight",L],["rearg",U]],Ye="[object Arguments]",_e="[object Array]",$e="[object AsyncFunction]",Ue="[object Boolean]",Ke="[object Date]",yt="[object DOMException]",Ce="[object Error]",rt="[object Function]",st="[object GeneratorFunction]",dt="[object Map]",It="[object Number]",Et="[object Null]",_t="[object Object]",Ut="[object Promise]",vn="[object Proxy]",$t="[object RegExp]",tn="[object Set]",rn="[object String]",Xt="[object Symbol]",Ln="[object Undefined]",lr="[object WeakMap]",$r="[object WeakSet]",tr="[object ArrayBuffer]",nr="[object DataView]",ji="[object Float32Array]",xo="[object Float64Array]",Uo="[object Int8Array]",Li="[object Int16Array]",Eo="[object Int32Array]",Ri="[object Uint8Array]",ua="[object Uint8ClampedArray]",ui="[object Uint16Array]",_i="[object Uint32Array]",te=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,Ae=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Be=/&(?:amp|lt|gt|quot|#39);/g,He=/[&<>"']/g,et=RegExp(Be.source),tt=RegExp(He.source),kt=/<%-([\s\S]+?)%>/g,Kt=/<%([\s\S]+?)%>/g,On=/<%=([\s\S]+?)%>/g,wn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jr=/^\w*$/,Rn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rr=/[\\^$.*+?()[\]{}|]/g,Lr=RegExp(rr.source),ca=/^\s+/,bn=/\s/,co=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fo=/\{\n\/\* \[wrapped with (.+)\] \*/,Cr=/,? & /,zo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ho=/[()=,{}\[\]\/\s]/,bl=/\\(\\)?/g,Bi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hi=/\w*$/,cu=/^[-+]0x[0-9a-f]+$/i,Sl=/^0b[01]+$/i,Ba=/^\[object .+?Constructor\]$/,da=/^0o[0-7]+$/i,Ha=/^(?:0|[1-9]\d*)$/,Dl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ya=/($^)/,du=/['\n\r\u2028\u2029\\]/g,Sn="\\ud800-\\udfff",Rr="\\u0300-\\u036f",ys="\\ufe20-\\ufe2f",vs="\\u20d0-\\u20ff",Yi=Rr+ys+vs,Tl="\\u2700-\\u27bf",ci="a-z\\xdf-\\xf6\\xf8-\\xff",Vo="\\xac\\xb1\\xd7\\xf7",po="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ua="\\u2000-\\u206f",vr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ws="A-Z\\xc0-\\xd6\\xd8-\\xde",bs="\\ufe0e\\ufe0f",Ss=Vo+po+Ua+vr,Wo="['’]",za="["+Sn+"]",Ui="["+Ss+"]",Zo="["+Yi+"]",M="\\d+",H="["+Tl+"]",K="["+ci+"]",ae="[^"+Sn+Ss+M+Tl+ci+ws+"]",Ne="\\ud83c[\\udffb-\\udfff]",Te="(?:"+Zo+"|"+Ne+")",ze="[^"+Sn+"]",ot="(?:\\ud83c[\\udde6-\\uddff]){2}",ut="[\\ud800-\\udbff][\\udc00-\\udfff]",Nt="["+ws+"]",zt="\\u200d",Tn="(?:"+K+"|"+ae+")",Co="(?:"+Nt+"|"+ae+")",mo="(?:"+Wo+"(?:d|ll|m|re|s|t|ve))?",_r="(?:"+Wo+"(?:D|LL|M|RE|S|T|VE))?",di=Te+"?",go="["+bs+"]?",Mo="(?:"+zt+"(?:"+[ze,ot,ut].join("|")+")"+go+di+")*",qr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$o="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yo=go+di+Mo,fa="(?:"+[H,ot,ut].join("|")+")"+yo,ha="(?:"+[ze+Zo+"?",Zo,ot,ut,za].join("|")+")",Jh=RegExp(Wo,"g"),Ld=RegExp(Zo,"g"),Va=RegExp(Ne+"(?="+Ne+")|"+ha+yo,"g"),Kh=RegExp([Nt+"?"+K+"+"+mo+"(?="+[Ui,Nt,"$"].join("|")+")",Co+"+"+_r+"(?="+[Ui,Nt+Tn,"$"].join("|")+")",Nt+"?"+Tn+"+"+mo,Nt+"+"+_r,$o,qr,M,fa].join("|"),"g"),fi=RegExp("["+zt+Sn+Yi+bs+"]"),Ds=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Il=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],En=-1,on={};on[ji]=on[xo]=on[Uo]=on[Li]=on[Eo]=on[Ri]=on[ua]=on[ui]=on[_i]=!0,on[Ye]=on[_e]=on[tr]=on[Ue]=on[nr]=on[Ke]=on[Ce]=on[rt]=on[dt]=on[It]=on[_t]=on[$t]=on[tn]=on[rn]=on[lr]=!1;var an={};an[Ye]=an[_e]=an[tr]=an[nr]=an[Ue]=an[Ke]=an[ji]=an[xo]=an[Uo]=an[Li]=an[Eo]=an[dt]=an[It]=an[_t]=an[$t]=an[tn]=an[rn]=an[Xt]=an[Ri]=an[ua]=an[ui]=an[_i]=!0,an[Ce]=an[rt]=an[lr]=!1;var hi={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},qo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Wa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},hu=parseFloat,Ts=parseInt,Is=typeof zr=="object"&&zr&&zr.Object===Object&&zr,bc=typeof self=="object"&&self&&self.Object===Object&&self,Nn=Is||bc||Function("return this")(),xs=t&&!t.nodeType&&t,pi=xs&&!0&&e&&!e.nodeType&&e,Sc=pi&&pi.exports===xs,zi=Sc&&Is.process,Mr=function(){try{var be=pi&&pi.require&&pi.require("util").types;return be||zi&&zi.binding&&zi.binding("util")}catch{}}(),Es=Mr&&Mr.isArrayBuffer,kr=Mr&&Mr.isDate,Za=Mr&&Mr.isMap,pa=Mr&&Mr.isRegExp,Cs=Mr&&Mr.isSet,pu=Mr&&Mr.isTypedArray;function ur(be,Ve,Pe){switch(Pe.length){case 0:return be.call(Ve);case 1:return be.call(Ve,Pe[0]);case 2:return be.call(Ve,Pe[0],Pe[1]);case 3:return be.call(Ve,Pe[0],Pe[1],Pe[2])}return be.apply(Ve,Pe)}function $a(be,Ve,Pe,mt){for(var Zt=-1,hn=be==null?0:be.length;++Zt<hn;){var cr=be[Zt];Ve(mt,cr,Pe(cr),be)}return mt}function or(be,Ve){for(var Pe=-1,mt=be==null?0:be.length;++Pe<mt&&Ve(be[Pe],Pe,be)!==!1;);return be}function xl(be,Ve){for(var Pe=be==null?0:be.length;Pe--&&Ve(be[Pe],Pe,be)!==!1;);return be}function mu(be,Ve){for(var Pe=-1,mt=be==null?0:be.length;++Pe<mt;)if(!Ve(be[Pe],Pe,be))return!1;return!0}function Vi(be,Ve){for(var Pe=-1,mt=be==null?0:be.length,Zt=0,hn=[];++Pe<mt;){var cr=be[Pe];Ve(cr,Pe,be)&&(hn[Zt++]=cr)}return hn}function Ms(be,Ve){var Pe=be==null?0:be.length;return!!Pe&&qa(be,Ve,0)>-1}function Br(be,Ve,Pe){for(var mt=-1,Zt=be==null?0:be.length;++mt<Zt;)if(Pe(Ve,be[mt]))return!0;return!1}function In(be,Ve){for(var Pe=-1,mt=be==null?0:be.length,Zt=Array(mt);++Pe<mt;)Zt[Pe]=Ve(be[Pe],Pe,be);return Zt}function mi(be,Ve){for(var Pe=-1,mt=Ve.length,Zt=be.length;++Pe<mt;)be[Zt+Pe]=Ve[Pe];return be}function Dc(be,Ve,Pe,mt){var Zt=-1,hn=be==null?0:be.length;for(mt&&hn&&(Pe=be[++Zt]);++Zt<hn;)Pe=Ve(Pe,be[Zt],Zt,be);return Pe}function Rd(be,Ve,Pe,mt){var Zt=be==null?0:be.length;for(mt&&Zt&&(Pe=be[--Zt]);Zt--;)Pe=Ve(Pe,be[Zt],Zt,be);return Pe}function ks(be,Ve){for(var Pe=-1,mt=be==null?0:be.length;++Pe<mt;)if(Ve(be[Pe],Pe,be))return!0;return!1}var _d=N("length");function Tc(be){return be.split("")}function gu(be){return be.match(zo)||[]}function El(be,Ve,Pe){var mt;return Pe(be,function(Zt,hn,cr){if(Ve(Zt,hn,cr))return mt=hn,!1}),mt}function Cl(be,Ve,Pe,mt){for(var Zt=be.length,hn=Pe+(mt?1:-1);mt?hn--:++hn<Zt;)if(Ve(be[hn],hn,be))return hn;return-1}function qa(be,Ve,Pe){return Ve===Ve?Hd(be,Ve,Pe):Cl(be,vu,Pe)}function yu(be,Ve,Pe,mt){for(var Zt=Pe-1,hn=be.length;++Zt<hn;)if(mt(be[Zt],Ve))return Zt;return-1}function vu(be){return be!==be}function Ic(be,Ve){var Pe=be==null?0:be.length;return Pe?Fe(be,Ve)/Pe:G}function N(be){return function(Ve){return Ve==null?n:Ve[be]}}function _(be){return function(Ve){return be==null?n:be[Ve]}}function q(be,Ve,Pe,mt,Zt){return Zt(be,function(hn,cr,Mn){Pe=mt?(mt=!1,hn):Ve(Pe,hn,cr,Mn)}),Pe}function ie(be,Ve){var Pe=be.length;for(be.sort(Ve);Pe--;)be[Pe]=be[Pe].value;return be}function Fe(be,Ve){for(var Pe,mt=-1,Zt=be.length;++mt<Zt;){var hn=Ve(be[mt]);hn!==n&&(Pe=Pe===n?hn:Pe+hn)}return Pe}function xe(be,Ve){for(var Pe=-1,mt=Array(be);++Pe<be;)mt[Pe]=Ve(Pe);return mt}function We(be,Ve){return In(Ve,function(Pe){return[Pe,be[Pe]]})}function nt(be){return be&&be.slice(0,Yd(be)+1).replace(ca,"")}function Dt(be){return function(Ve){return be(Ve)}}function Wt(be,Ve){return In(Ve,function(Pe){return be[Pe]})}function jt(be,Ve){return be.has(Ve)}function Cn(be,Ve){for(var Pe=-1,mt=be.length;++Pe<mt&&qa(Ve,be[Pe],0)>-1;);return Pe}function Hr(be,Ve){for(var Pe=be.length;Pe--&&qa(Ve,be[Pe],0)>-1;);return Pe}function ko(be,Ve){for(var Pe=be.length,mt=0;Pe--;)be[Pe]===Ve&&++mt;return mt}var No=_(hi),Ml=_(qo);function xc(be){return"\\"+Wa[be]}function ma(be,Ve){return be==null?n:be[Ve]}function wu(be){return fi.test(be)}function J0(be){return Ds.test(be)}function K0(be){for(var Ve,Pe=[];!(Ve=be.next()).done;)Pe.push(Ve.value);return Pe}function Bd(be){var Ve=-1,Pe=Array(be.size);return be.forEach(function(mt,Zt){Pe[++Ve]=[Zt,mt]}),Pe}function Qh(be,Ve){return function(Pe){return be(Ve(Pe))}}function gi(be,Ve){for(var Pe=-1,mt=be.length,Zt=0,hn=[];++Pe<mt;){var cr=be[Pe];(cr===Ve||cr===m)&&(be[Pe]=m,hn[Zt++]=Pe)}return hn}function Ns(be){var Ve=-1,Pe=Array(be.size);return be.forEach(function(mt){Pe[++Ve]=mt}),Pe}function Q0(be){var Ve=-1,Pe=Array(be.size);return be.forEach(function(mt){Pe[++Ve]=[mt,mt]}),Pe}function Hd(be,Ve,Pe){for(var mt=Pe-1,Zt=be.length;++mt<Zt;)if(be[mt]===Ve)return mt;return-1}function X0(be,Ve,Pe){for(var mt=Pe+1;mt--;)if(be[mt]===Ve)return mt;return mt}function kl(be){return wu(be)?Eg(be):_d(be)}function Go(be){return wu(be)?Cg(be):Tc(be)}function Yd(be){for(var Ve=be.length;Ve--&&bn.test(be.charAt(Ve)););return Ve}var xg=_(fu);function Eg(be){for(var Ve=Va.lastIndex=0;Va.test(be);)++Ve;return Ve}function Cg(be){return be.match(Va)||[]}function ew(be){return be.match(Kh)||[]}var tw=function be(Ve){Ve=Ve==null?Nn:bu.defaults(Nn.Object(),Ve,bu.pick(Nn,Il));var Pe=Ve.Array,mt=Ve.Date,Zt=Ve.Error,hn=Ve.Function,cr=Ve.Math,Mn=Ve.Object,Ec=Ve.RegExp,nw=Ve.String,yi=Ve.TypeError,Ga=Pe.prototype,Xh=hn.prototype,ga=Mn.prototype,Su=Ve["__core-js_shared__"],Cc=Xh.toString,pn=ga.hasOwnProperty,Du=0,Ud=function(){var c=/[^.]+$/.exec(Su&&Su.keys&&Su.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Mc=ga.toString,zd=Cc.call(Mn),Mg=Nn._,kg=Ec("^"+Cc.call(pn).replace(rr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kc=Sc?Ve.Buffer:n,Ja=Ve.Symbol,Nc=Ve.Uint8Array,ep=kc?kc.allocUnsafe:n,Wi=Qh(Mn.getPrototypeOf,Mn),Vd=Mn.create,Wd=ga.propertyIsEnumerable,Zd=Ga.splice,Ng=Ja?Ja.isConcatSpreadable:n,Ka=Ja?Ja.iterator:n,Nl=Ja?Ja.toStringTag:n,Ac=function(){try{var c=rs(Mn,"defineProperty");return c({},"",{}),c}catch{}}(),Ag=Ve.clearTimeout!==Nn.clearTimeout&&Ve.clearTimeout,_n=mt&&mt.now!==Nn.Date.now&&mt.now,tp=Ve.setTimeout!==Nn.setTimeout&&Ve.setTimeout,Al=cr.ceil,As=cr.floor,$d=Mn.getOwnPropertySymbols,np=kc?kc.isBuffer:n,Tu=Ve.isFinite,qd=Ga.join,Iu=Qh(Mn.keys,Mn),dr=cr.max,Gr=cr.min,rw=mt.now,Fg=Ve.parseInt,Fc=cr.random,Gd=Ga.reverse,Pc=rs(Ve,"DataView"),Fl=rs(Ve,"Map"),Oc=rs(Ve,"Promise"),Fs=rs(Ve,"Set"),jc=rs(Ve,"WeakMap"),xu=rs(Mn,"create"),Jd=jc&&new jc,Eu={},rp=Zs(Pc),Ps=Zs(Fl),Pg=Zs(Oc),Cu=Zs(Fs),ya=Zs(jc),Os=Ja?Ja.prototype:n,Jo=Os?Os.valueOf:n,Kd=Os?Os.toString:n;function J(c){if(hr(c)&&!Jt(c)&&!(c instanceof qt)){if(c instanceof Jr)return c;if(pn.call(c,"__wrapped__"))return Lp(c)}return new Jr(c)}var Mu=function(){function c(){}return function(h){if(!ar(h))return{};if(Vd)return Vd(h);c.prototype=h;var D=new c;return c.prototype=n,D}}();function va(){}function Jr(c,h){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}J.templateSettings={escape:kt,evaluate:Kt,interpolate:On,variable:"",imports:{_:J}},J.prototype=va.prototype,J.prototype.constructor=J,Jr.prototype=Mu(va.prototype),Jr.prototype.constructor=Jr;function qt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ne,this.__views__=[]}function Qd(){var c=new qt(this.__wrapped__);return c.__actions__=bo(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=bo(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=bo(this.__views__),c}function op(){if(this.__filtered__){var c=new qt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function ku(){var c=this.__wrapped__.value(),h=this.__dir__,D=Jt(c),O=h<0,Y=D?c.length:0,X=ry(0,Y,this.__views__),de=X.start,ve=X.end,Se=ve-de,Ze=O?ve:de-1,qe=this.__iteratees__,Qe=qe.length,ht=0,Ct=Gr(Se,this.__takeCount__);if(!D||!O&&Y==Se&&Ct==Se)return gp(c,this.__actions__);var Bt=[];e:for(;Se--&&ht<Ct;){Ze+=h;for(var nn=-1,Ht=c[Ze];++nn<Qe;){var sn=qe[nn],fn=sn.iteratee,ta=sn.type,ri=fn(Ht);if(ta==fe)Ht=ri;else if(!ri){if(ta==ee)continue e;break e}}Bt[ht++]=Ht}return Bt}qt.prototype=Mu(va.prototype),qt.prototype.constructor=qt;function Ao(c){var h=-1,D=c==null?0:c.length;for(this.clear();++h<D;){var O=c[h];this.set(O[0],O[1])}}function Bn(){this.__data__=xu?xu(null):{},this.size=0}function jn(c){var h=this.has(c)&&delete this.__data__[c];return this.size-=h?1:0,h}function js(c){var h=this.__data__;if(xu){var D=h[c];return D===d?n:D}return pn.call(h,c)?h[c]:n}function Kr(c){var h=this.__data__;return xu?h[c]!==n:pn.call(h,c)}function Fo(c,h){var D=this.__data__;return this.size+=this.has(c)?0:1,D[c]=xu&&h===n?d:h,this}Ao.prototype.clear=Bn,Ao.prototype.delete=jn,Ao.prototype.get=js,Ao.prototype.has=Kr,Ao.prototype.set=Fo;function vo(c){var h=-1,D=c==null?0:c.length;for(this.clear();++h<D;){var O=c[h];this.set(O[0],O[1])}}function Nu(){this.__data__=[],this.size=0}function Po(c){var h=this.__data__,D=Xr(h,c);if(D<0)return!1;var O=h.length-1;return D==O?h.pop():Zd.call(h,D,1),--this.size,!0}function Xd(c){var h=this.__data__,D=Xr(h,c);return D<0?n:h[D][1]}function Og(c){return Xr(this.__data__,c)>-1}function jg(c,h){var D=this.__data__,O=Xr(D,c);return O<0?(++this.size,D.push([c,h])):D[O][1]=h,this}vo.prototype.clear=Nu,vo.prototype.delete=Po,vo.prototype.get=Xd,vo.prototype.has=Og,vo.prototype.set=jg;function vi(c){var h=-1,D=c==null?0:c.length;for(this.clear();++h<D;){var O=c[h];this.set(O[0],O[1])}}function Lg(){this.size=0,this.__data__={hash:new Ao,map:new(Fl||vo),string:new Ao}}function Qa(c){var h=Cf(this,c).delete(c);return this.size-=h?1:0,h}function ef(c){return Cf(this,c).get(c)}function ip(c){return Cf(this,c).has(c)}function Rg(c,h){var D=Cf(this,c),O=D.size;return D.set(c,h),this.size+=D.size==O?0:1,this}vi.prototype.clear=Lg,vi.prototype.delete=Qa,vi.prototype.get=ef,vi.prototype.has=ip,vi.prototype.set=Rg;function Pl(c){var h=-1,D=c==null?0:c.length;for(this.__data__=new vi;++h<D;)this.add(c[h])}function Ls(c){return this.__data__.set(c,d),this}function Au(c){return this.__data__.has(c)}Pl.prototype.add=Pl.prototype.push=Ls,Pl.prototype.has=Au;function Qr(c){var h=this.__data__=new vo(c);this.size=h.size}function tf(){this.__data__=new vo,this.size=0}function nf(c){var h=this.__data__,D=h.delete(c);return this.size=h.size,D}function wi(c){return this.__data__.get(c)}function bi(c){return this.__data__.has(c)}function Ol(c,h){var D=this.__data__;if(D instanceof vo){var O=D.__data__;if(!Fl||O.length<o-1)return O.push([c,h]),this.size=++D.size,this;D=this.__data__=new vi(O)}return D.set(c,h),this.size=D.size,this}Qr.prototype.clear=tf,Qr.prototype.delete=nf,Qr.prototype.get=wi,Qr.prototype.has=bi,Qr.prototype.set=Ol;function wa(c,h){var D=Jt(c),O=!D&&ad(c),Y=!D&&!O&&qu(c),X=!D&&!O&&!Y&&Jf(c),de=D||O||Y||X,ve=de?xe(c.length,nw):[],Se=ve.length;for(var Ze in c)(h||pn.call(c,Ze))&&!(de&&(Ze=="length"||Y&&(Ze=="offset"||Ze=="parent")||X&&(Ze=="buffer"||Ze=="byteLength"||Ze=="byteOffset")||Di(Ze,Se)))&&ve.push(Ze);return ve}function ba(c){var h=c.length;return h?c[zc(0,h-1)]:n}function jl(c,h){return ei(bo(c),Xa(h,0,c.length))}function _g(c){return ei(bo(c))}function Lc(c,h,D){(D!==n&&!as(c[h],D)||D===n&&!(h in c))&&Sa(c,h,D)}function Ll(c,h,D){var O=c[h];(!(pn.call(c,h)&&as(O,D))||D===n&&!(h in c))&&Sa(c,h,D)}function Xr(c,h){for(var D=c.length;D--;)if(as(c[D][0],h))return D;return-1}function Ko(c,h,D,O){return Ta(c,function(Y,X,de){h(O,Y,D(Y),de)}),O}function Hn(c,h){return c&&Ki(h,ao(h),c)}function Zi(c,h){return c&&Ki(h,Ei(h),c)}function Sa(c,h,D){h=="__proto__"&&Ac?Ac(c,h,{configurable:!0,enumerable:!0,value:D,writable:!0}):c[h]=D}function rf(c,h){for(var D=-1,O=h.length,Y=Pe(O),X=c==null;++D<O;)Y[D]=X?n:Ew(c,h[D]);return Y}function Xa(c,h,D){return c===c&&(D!==n&&(c=c<=D?c:D),h!==n&&(c=c>=h?c:h)),c}function Oo(c,h,D,O,Y,X){var de,ve=h&g,Se=h&v,Ze=h&b;if(D&&(de=Y?D(c,O,Y,X):D(c)),de!==n)return de;if(!ar(c))return c;var qe=Jt(c);if(qe){if(de=oy(c),!ve)return bo(c,de)}else{var Qe=ro(c),ht=Qe==rt||Qe==st;if(qu(c))return vp(c,ve);if(Qe==_t||Qe==Ye||ht&&!Y){if(de=Se||ht?{}:Uu(c),!ve)return Se?iw(c,Zi(de,c)):qg(c,Hn(de,c))}else{if(!an[Qe])return Y?c:{};de=oo(c,Qe,ve)}}X||(X=new Qr);var Ct=X.get(c);if(Ct)return Ct;X.set(c,de),nD(c)?c.forEach(function(Ht){de.add(Oo(Ht,h,D,Ht,c,X))}):eD(c)&&c.forEach(function(Ht,sn){de.set(sn,Oo(Ht,h,D,sn,c,X))});var Bt=Ze?Se?Jc:Ef:Se?Ei:ao,nn=qe?n:Bt(c);return or(nn||c,function(Ht,sn){nn&&(sn=Ht,Ht=c[sn]),Ll(de,sn,Oo(Ht,h,D,sn,c,X))}),de}function Bg(c){var h=ao(c);return function(D){return Rc(D,c,h)}}function Rc(c,h,D){var O=D.length;if(c==null)return!O;for(c=Mn(c);O--;){var Y=D[O],X=h[Y],de=c[Y];if(de===n&&!(Y in c)||!X(de))return!1}return!0}function ap(c,h,D){if(typeof c!="function")throw new yi(a);return Vu(function(){c.apply(n,D)},h)}function Da(c,h,D,O){var Y=-1,X=Ms,de=!0,ve=c.length,Se=[],Ze=h.length;if(!ve)return Se;D&&(h=In(h,Dt(D))),O?(X=Br,de=!1):h.length>=o&&(X=jt,de=!1,h=new Pl(h));e:for(;++Y<ve;){var qe=c[Y],Qe=D==null?qe:D(qe);if(qe=O||qe!==0?qe:0,de&&Qe===Qe){for(var ht=Ze;ht--;)if(h[ht]===Qe)continue e;Se.push(qe)}else X(h,Qe,O)||Se.push(qe)}return Se}var Ta=Gg(Si),Hg=Gg(Rs,!0);function $i(c,h){var D=!0;return Ta(c,function(O,Y,X){return D=!!h(O,Y,X),D}),D}function Rl(c,h,D){for(var O=-1,Y=c.length;++O<Y;){var X=c[O],de=h(X);if(de!=null&&(ve===n?de===de&&!ea(de):D(de,ve)))var ve=de,Se=X}return Se}function of(c,h,D,O){var Y=c.length;for(D=en(D),D<0&&(D=-D>Y?0:Y+D),O=O===n||O>Y?Y:en(O),O<0&&(O+=Y),O=D>O?0:oD(O);D<O;)c[D++]=h;return c}function _l(c,h){var D=[];return Ta(c,function(O,Y,X){h(O,Y,X)&&D.push(O)}),D}function wr(c,h,D,O,Y){var X=-1,de=c.length;for(D||(D=lw),Y||(Y=[]);++X<de;){var ve=c[X];h>0&&D(ve)?h>1?wr(ve,h-1,D,O,Y):mi(Y,ve):O||(Y[Y.length]=ve)}return Y}var _c=Tp(),af=Tp(!0);function Si(c,h){return c&&_c(c,h,ao)}function Rs(c,h){return c&&af(c,h,ao)}function wo(c,h){return Vi(h,function(D){return Zl(c[D])})}function Qo(c,h){h=es(h,c);for(var D=0,O=h.length;c!=null&&D<O;)c=c[Qi(h[D++])];return D&&D==O?c:n}function sf(c,h,D){var O=h(c);return Jt(c)?O:mi(O,D(c))}function eo(c){return c==null?c===n?Ln:Et:Nl&&Nl in Mn(c)?ny(c):ly(c)}function qi(c,h){return c>h}function _s(c,h){return c!=null&&pn.call(c,h)}function sp(c,h){return c!=null&&h in Mn(c)}function Yg(c,h,D){return c>=Gr(h,D)&&c<dr(h,D)}function Gi(c,h,D){for(var O=D?Br:Ms,Y=c[0].length,X=c.length,de=X,ve=Pe(X),Se=1/0,Ze=[];de--;){var qe=c[de];de&&h&&(qe=In(qe,Dt(h))),Se=Gr(qe.length,Se),ve[de]=!D&&(h||Y>=120&&qe.length>=120)?new Pl(de&&qe):n}qe=c[0];var Qe=-1,ht=ve[0];e:for(;++Qe<Y&&Ze.length<Se;){var Ct=qe[Qe],Bt=h?h(Ct):Ct;if(Ct=D||Ct!==0?Ct:0,!(ht?jt(ht,Bt):O(Ze,Bt,D))){for(de=X;--de;){var nn=ve[de];if(!(nn?jt(nn,Bt):O(c[de],Bt,D)))continue e}ht&&ht.push(Bt),Ze.push(Ct)}}return Ze}function Bs(c,h,D,O){return Si(c,function(Y,X,de){h(O,D(Y),X,de)}),O}function Hs(c,h,D){h=es(h,c),c=Nf(c,h);var O=c==null?c:c[Qi(Ir(h))];return O==null?n:ur(O,c,D)}function lp(c){return hr(c)&&eo(c)==Ye}function lf(c){return hr(c)&&eo(c)==tr}function Ug(c){return hr(c)&&eo(c)==Ke}function Fu(c,h,D,O,Y){return c===h?!0:c==null||h==null||!hr(c)&&!hr(h)?c!==c&&h!==h:up(c,h,D,O,Fu,Y)}function up(c,h,D,O,Y,X){var de=Jt(c),ve=Jt(h),Se=de?_e:ro(c),Ze=ve?_e:ro(h);Se=Se==Ye?_t:Se,Ze=Ze==Ye?_t:Ze;var qe=Se==_t,Qe=Ze==_t,ht=Se==Ze;if(ht&&qu(c)){if(!qu(h))return!1;de=!0,qe=!1}if(ht&&!qe)return X||(X=new Qr),de||Jf(c)?xf(c,h,D,O,Y,X):ty(c,h,Se,D,O,Y,X);if(!(D&S)){var Ct=qe&&pn.call(c,"__wrapped__"),Bt=Qe&&pn.call(h,"__wrapped__");if(Ct||Bt){var nn=Ct?c.value():c,Ht=Bt?h.value():h;return X||(X=new Qr),Y(nn,Ht,D,O,X)}}return ht?(X||(X=new Qr),kp(c,h,D,O,Y,X)):!1}function uf(c){return hr(c)&&ro(c)==dt}function cf(c,h,D,O){var Y=D.length,X=Y,de=!O;if(c==null)return!X;for(c=Mn(c);Y--;){var ve=D[Y];if(de&&ve[2]?ve[1]!==c[ve[0]]:!(ve[0]in c))return!1}for(;++Y<X;){ve=D[Y];var Se=ve[0],Ze=c[Se],qe=ve[1];if(de&&ve[2]){if(Ze===n&&!(Se in c))return!1}else{var Qe=new Qr;if(O)var ht=O(Ze,qe,Se,c,h,Qe);if(!(ht===n?Fu(qe,Ze,S|T,O,Qe):ht))return!1}}return!0}function cp(c){if(!ar(c)||Pp(c))return!1;var h=Zl(c)?kg:Ba;return h.test(Zs(c))}function zg(c){return hr(c)&&eo(c)==$t}function dp(c){return hr(c)&&ro(c)==tn}function Bc(c){return hr(c)&&Iy(c.length)&&!!on[eo(c)]}function Hc(c){return typeof c=="function"?c:c==null?Ci:typeof c=="object"?Jt(c)?Ji(c[0],c[1]):Pu(c):mD(c)}function df(c){if(!Xc(c))return Iu(c);var h=[];for(var D in Mn(c))pn.call(c,D)&&D!="constructor"&&h.push(D);return h}function Vg(c){if(!ar(c))return sy(c);var h=Xc(c),D=[];for(var O in c)O=="constructor"&&(h||!pn.call(c,O))||D.push(O);return D}function Ys(c,h){return c<h}function fp(c,h){var D=-1,O=xi(c)?Pe(c.length):[];return Ta(c,function(Y,X,de){O[++D]=h(Y,X,de)}),O}function Pu(c){var h=Mf(c);return h.length==1&&h[0][2]?ed(h[0][0],h[0][1]):function(D){return D===c||cf(D,c,h)}}function Ji(c,h){return Fp(c)&&zu(h)?ed(Qi(c),h):function(D){var O=Ew(D,c);return O===n&&O===h?Cw(D,c):Fu(h,O,S|T)}}function Us(c,h,D,O,Y){c!==h&&_c(h,function(X,de){if(Y||(Y=new Qr),ar(X))Yc(c,h,de,D,Us,O,Y);else{var ve=O?O(Xo(c,de),X,de+"",c,h,Y):n;ve===n&&(ve=X),Lc(c,de,ve)}},Ei)}function Yc(c,h,D,O,Y,X,de){var ve=Xo(c,D),Se=Xo(h,D),Ze=de.get(Se);if(Ze){Lc(c,D,Ze);return}var qe=X?X(ve,Se,D+"",c,h,de):n,Qe=qe===n;if(Qe){var ht=Jt(Se),Ct=!ht&&qu(Se),Bt=!ht&&!Ct&&Jf(Se);qe=Se,ht||Ct||Bt?Jt(ve)?qe=ve:xr(ve)?qe=bo(ve):Ct?(Qe=!1,qe=vp(Se,!0)):Bt?(Qe=!1,qe=bp(Se,!0)):qe=[]:em(Se)||ad(Se)?(qe=ve,ad(ve)?qe=iD(ve):(!ar(ve)||Zl(ve))&&(qe=Uu(Se))):Qe=!1}Qe&&(de.set(Se,qe),Y(qe,Se,O,X,de),de.delete(Se)),Lc(c,D,qe)}function zs(c,h){var D=c.length;if(D)return h+=h<0?D:0,Di(h,D)?c[h]:n}function ff(c,h,D){h.length?h=In(h,function(X){return Jt(X)?function(de){return Qo(de,X.length===1?X[0]:X)}:X}):h=[Ci];var O=-1;h=In(h,Dt(At()));var Y=fp(c,function(X,de,ve){var Se=In(h,function(Ze){return Ze(X)});return{criteria:Se,index:++O,value:X}});return ie(Y,function(X,de){return $g(X,de,D)})}function Ou(c,h){return hp(c,h,function(D,O){return Cw(c,O)})}function hp(c,h,D){for(var O=-1,Y=h.length,X={};++O<Y;){var de=h[O],ve=Qo(c,de);D(ve,de)&&Wn(X,es(de,c),ve)}return X}function pp(c){return function(h){return Qo(h,c)}}function Yn(c,h,D,O){var Y=O?yu:qa,X=-1,de=h.length,ve=c;for(c===h&&(h=bo(h)),D&&(ve=In(c,Dt(D)));++X<de;)for(var Se=0,Ze=h[X],qe=D?D(Ze):Ze;(Se=Y(ve,qe,Se,O))>-1;)ve!==c&&Zd.call(ve,Se,1),Zd.call(c,Se,1);return c}function Uc(c,h){for(var D=c?h.length:0,O=D-1;D--;){var Y=h[D];if(D==O||Y!==X){var X=Y;Di(Y)?Zd.call(c,Y,1):Hl(c,Y)}}return c}function zc(c,h){return c+As(Fc()*(h-c+1))}function mp(c,h,D,O){for(var Y=-1,X=dr(Al((h-c)/(D||1)),0),de=Pe(X);X--;)de[O?X:++Y]=c,c+=D;return de}function ju(c,h){var D="";if(!c||h<1||h>oe)return D;do h%2&&(D+=c),h=As(h/2),h&&(c+=c);while(h);return D}function Gt(c,h){return Af(kf(c,h,Ci),c+"")}function Bl(c){return ba(Kf(c))}function Vn(c,h){var D=Kf(c);return ei(D,Xa(h,0,D.length))}function Wn(c,h,D,O){if(!ar(c))return c;h=es(h,c);for(var Y=-1,X=h.length,de=X-1,ve=c;ve!=null&&++Y<X;){var Se=Qi(h[Y]),Ze=D;if(Se==="__proto__"||Se==="constructor"||Se==="prototype")return c;if(Y!=de){var qe=ve[Se];Ze=O?O(qe,Se,ve):n,Ze===n&&(Ze=ar(qe)?qe:Di(h[Y+1])?[]:{})}Ll(ve,Se,Ze),ve=ve[Se]}return c}var br=Jd?function(c,h){return Jd.set(c,h),c}:Ci,hf=Ac?function(c,h){return Ac(c,"toString",{configurable:!0,enumerable:!1,value:kw(h),writable:!0})}:Ci;function Vc(c){return ei(Kf(c))}function to(c,h,D){var O=-1,Y=c.length;h<0&&(h=-h>Y?0:Y+h),D=D>Y?Y:D,D<0&&(D+=Y),Y=h>D?0:D-h>>>0,h>>>=0;for(var X=Pe(Y);++O<Y;)X[O]=c[O+h];return X}function ow(c,h){var D;return Ta(c,function(O,Y,X){return D=h(O,Y,X),!D}),!!D}function Sr(c,h,D){var O=0,Y=c==null?O:c.length;if(typeof h=="number"&&h===h&&Y<=Ie){for(;O<Y;){var X=O+Y>>>1,de=c[X];de!==null&&!ea(de)&&(D?de<=h:de<h)?O=X+1:Y=X}return Y}return Wc(c,h,Ci,D)}function Wc(c,h,D,O){var Y=0,X=c==null?0:c.length;if(X===0)return 0;h=D(h);for(var de=h!==h,ve=h===null,Se=ea(h),Ze=h===n;Y<X;){var qe=As((Y+X)/2),Qe=D(c[qe]),ht=Qe!==n,Ct=Qe===null,Bt=Qe===Qe,nn=ea(Qe);if(de)var Ht=O||Bt;else Ze?Ht=Bt&&(O||ht):ve?Ht=Bt&&ht&&(O||!Ct):Se?Ht=Bt&&ht&&!Ct&&(O||!nn):Ct||nn?Ht=!1:Ht=O?Qe<=h:Qe<h;Ht?Y=qe+1:X=qe}return Gr(X,pe)}function pf(c,h){for(var D=-1,O=c.length,Y=0,X=[];++D<O;){var de=c[D],ve=h?h(de):de;if(!D||!as(ve,Se)){var Se=ve;X[Y++]=de===0?0:de}}return X}function mf(c){return typeof c=="number"?c:ea(c)?G:+c}function Jn(c){if(typeof c=="string")return c;if(Jt(c))return In(c,Jn)+"";if(ea(c))return Kd?Kd.call(c):"";var h=c+"";return h=="0"&&1/c==-le?"-0":h}function Dr(c,h,D){var O=-1,Y=Ms,X=c.length,de=!0,ve=[],Se=ve;if(D)de=!1,Y=Br;else if(X>=o){var Ze=h?null:So(c);if(Ze)return Ns(Ze);de=!1,Y=jt,Se=new Pl}else Se=h?[]:ve;e:for(;++O<X;){var qe=c[O],Qe=h?h(qe):qe;if(qe=D||qe!==0?qe:0,de&&Qe===Qe){for(var ht=Se.length;ht--;)if(Se[ht]===Qe)continue e;h&&Se.push(Qe),ve.push(qe)}else Y(Se,Qe,D)||(Se!==ve&&Se.push(Qe),ve.push(qe))}return ve}function Hl(c,h){return h=es(h,c),c=Nf(c,h),c==null||delete c[Qi(Ir(h))]}function gf(c,h,D,O){return Wn(c,h,D(Qo(c,h)),O)}function Lu(c,h,D,O){for(var Y=c.length,X=O?Y:-1;(O?X--:++X<Y)&&h(c[X],X,c););return D?to(c,O?0:X,O?X+1:Y):to(c,O?X+1:0,O?Y:X)}function gp(c,h){var D=c;return D instanceof qt&&(D=D.value()),Dc(h,function(O,Y){return Y.func.apply(Y.thisArg,mi([O],Y.args))},D)}function yf(c,h,D){var O=c.length;if(O<2)return O?Dr(c[0]):[];for(var Y=-1,X=Pe(O);++Y<O;)for(var de=c[Y],ve=-1;++ve<O;)ve!=Y&&(X[Y]=Da(X[Y]||de,c[ve],h,D));return Dr(wr(X,1),h,D)}function yp(c,h,D){for(var O=-1,Y=c.length,X=h.length,de={};++O<Y;){var ve=O<X?h[O]:n;D(de,c[O],ve)}return de}function vf(c){return xr(c)?c:[]}function wf(c){return typeof c=="function"?c:Ci}function es(c,h){return Jt(c)?c:Fp(c,h)?[c]:uy(kn(c))}var Wg=Gt;function ts(c,h,D){var O=c.length;return D=D===n?O:D,!h&&D>=O?c:to(c,h,D)}var Ru=Ag||function(c){return Nn.clearTimeout(c)};function vp(c,h){if(h)return c.slice();var D=c.length,O=ep?ep(D):new c.constructor(D);return c.copy(O),O}function _u(c){var h=new c.constructor(c.byteLength);return new Nc(h).set(new Nc(c)),h}function bf(c,h){var D=h?_u(c.buffer):c.buffer;return new c.constructor(D,c.byteOffset,c.byteLength)}function Zg(c){var h=new c.constructor(c.source,Hi.exec(c));return h.lastIndex=c.lastIndex,h}function wp(c){return Jo?Mn(Jo.call(c)):{}}function bp(c,h){var D=h?_u(c.buffer):c.buffer;return new c.constructor(D,c.byteOffset,c.length)}function Sp(c,h){if(c!==h){var D=c!==n,O=c===null,Y=c===c,X=ea(c),de=h!==n,ve=h===null,Se=h===h,Ze=ea(h);if(!ve&&!Ze&&!X&&c>h||X&&de&&Se&&!ve&&!Ze||O&&de&&Se||!D&&Se||!Y)return 1;if(!O&&!X&&!Ze&&c<h||Ze&&D&&Y&&!O&&!X||ve&&D&&Y||!de&&Y||!Se)return-1}return 0}function $g(c,h,D){for(var O=-1,Y=c.criteria,X=h.criteria,de=Y.length,ve=D.length;++O<de;){var Se=Sp(Y[O],X[O]);if(Se){if(O>=ve)return Se;var Ze=D[O];return Se*(Ze=="desc"?-1:1)}}return c.index-h.index}function Dp(c,h,D,O){for(var Y=-1,X=c.length,de=D.length,ve=-1,Se=h.length,Ze=dr(X-de,0),qe=Pe(Se+Ze),Qe=!O;++ve<Se;)qe[ve]=h[ve];for(;++Y<de;)(Qe||Y<X)&&(qe[D[Y]]=c[Y]);for(;Ze--;)qe[ve++]=c[Y++];return qe}function Sf(c,h,D,O){for(var Y=-1,X=c.length,de=-1,ve=D.length,Se=-1,Ze=h.length,qe=dr(X-ve,0),Qe=Pe(qe+Ze),ht=!O;++Y<qe;)Qe[Y]=c[Y];for(var Ct=Y;++Se<Ze;)Qe[Ct+Se]=h[Se];for(;++de<ve;)(ht||Y<X)&&(Qe[Ct+D[de]]=c[Y++]);return Qe}function bo(c,h){var D=-1,O=c.length;for(h||(h=Pe(O));++D<O;)h[D]=c[D];return h}function Ki(c,h,D,O){var Y=!D;D||(D={});for(var X=-1,de=h.length;++X<de;){var ve=h[X],Se=O?O(D[ve],c[ve],ve,D,c):n;Se===n&&(Se=c[ve]),Y?Sa(D,ve,Se):Ll(D,ve,Se)}return D}function qg(c,h){return Ki(c,Yu(c),h)}function iw(c,h){return Ki(c,Ea(c),h)}function Zc(c,h){return function(D,O){var Y=Jt(D)?$a:Ko,X=h?h():{};return Y(D,c,At(O,2),X)}}function Bu(c){return Gt(function(h,D){var O=-1,Y=D.length,X=Y>1?D[Y-1]:n,de=Y>2?D[2]:n;for(X=c.length>3&&typeof X=="function"?(Y--,X):n,de&&Dn(D[0],D[1],de)&&(X=Y<3?n:X,Y=1),h=Mn(h);++O<Y;){var ve=D[O];ve&&c(h,ve,O,X)}return h})}function Gg(c,h){return function(D,O){if(D==null)return D;if(!xi(D))return c(D,O);for(var Y=D.length,X=h?Y:-1,de=Mn(D);(h?X--:++X<Y)&&O(de[X],X,de)!==!1;);return D}}function Tp(c){return function(h,D,O){for(var Y=-1,X=Mn(h),de=O(h),ve=de.length;ve--;){var Se=de[c?ve:++Y];if(D(X[Se],Se,X)===!1)break}return h}}function Jg(c,h,D){var O=h&I,Y=$c(c);function X(){var de=this&&this!==Nn&&this instanceof X?Y:c;return de.apply(O?D:this,arguments)}return X}function Ip(c){return function(h){h=kn(h);var D=wu(h)?Go(h):n,O=D?D[0]:h.charAt(0),Y=D?ts(D,1).join(""):h.slice(1);return O[c]()+Y}}function ns(c){return function(h){return Dc(hD(fD(h).replace(Jh,"")),c,"")}}function $c(c){return function(){var h=arguments;switch(h.length){case 0:return new c;case 1:return new c(h[0]);case 2:return new c(h[0],h[1]);case 3:return new c(h[0],h[1],h[2]);case 4:return new c(h[0],h[1],h[2],h[3]);case 5:return new c(h[0],h[1],h[2],h[3],h[4]);case 6:return new c(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new c(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var D=Mu(c.prototype),O=c.apply(D,h);return ar(O)?O:D}}function aw(c,h,D){var O=$c(c);function Y(){for(var X=arguments.length,de=Pe(X),ve=X,Se=Vs(Y);ve--;)de[ve]=arguments[ve];var Ze=X<3&&de[0]!==Se&&de[X-1]!==Se?[]:gi(de,Se);if(X-=Ze.length,X<D)return Xg(c,h,Hu,Y.placeholder,n,de,Ze,n,n,D-X);var qe=this&&this!==Nn&&this instanceof Y?O:c;return ur(qe,this,de)}return Y}function Kg(c){return function(h,D,O){var Y=Mn(h);if(!xi(h)){var X=At(D,3);h=ao(h),D=function(ve){return X(Y[ve],ve,Y)}}var de=c(h,D,O);return de>-1?Y[X?h[de]:de]:n}}function Yl(c){return xa(function(h){var D=h.length,O=D,Y=Jr.prototype.thru;for(c&&h.reverse();O--;){var X=h[O];if(typeof X!="function")throw new yi(a);if(Y&&!de&&Qc(X)=="wrapper")var de=new Jr([],!0)}for(O=de?O:D;++O<D;){X=h[O];var ve=Qc(X),Se=ve=="wrapper"?Kc(X):n;Se&&Ws(Se[0])&&Se[1]==(z|R|B|U)&&!Se[4].length&&Se[9]==1?de=de[Qc(Se[0])].apply(de,Se[3]):de=X.length==1&&Ws(X)?de[ve]():de.thru(X)}return function(){var Ze=arguments,qe=Ze[0];if(de&&Ze.length==1&&Jt(qe))return de.plant(qe).value();for(var Qe=0,ht=D?h[Qe].apply(this,Ze):qe;++Qe<D;)ht=h[Qe].call(this,ht);return ht}})}function Hu(c,h,D,O,Y,X,de,ve,Se,Ze){var qe=h&z,Qe=h&I,ht=h&k,Ct=h&(R|j),Bt=h&W,nn=ht?n:$c(c);function Ht(){for(var sn=arguments.length,fn=Pe(sn),ta=sn;ta--;)fn[ta]=arguments[ta];if(Ct)var ri=Vs(Ht),na=ko(fn,ri);if(O&&(fn=Dp(fn,O,Y,Ct)),X&&(fn=Sf(fn,X,de,Ct)),sn-=na,Ct&&sn<Ze){var Er=gi(fn,ri);return Xg(c,h,Hu,Ht.placeholder,D,fn,Er,ve,Se,Ze-sn)}var ss=Qe?D:this,ql=ht?ss[c]:c;return sn=fn.length,ve?fn=Yr(fn,ve):Bt&&sn>1&&fn.reverse(),qe&&Se<sn&&(fn.length=Se),this&&this!==Nn&&this instanceof Ht&&(ql=nn||$c(ql)),ql.apply(ss,fn)}return Ht}function Df(c,h){return function(D,O){return Bs(D,c,h(O),{})}}function Tf(c,h){return function(D,O){var Y;if(D===n&&O===n)return h;if(D!==n&&(Y=D),O!==n){if(Y===n)return O;typeof D=="string"||typeof O=="string"?(D=Jn(D),O=Jn(O)):(D=mf(D),O=mf(O)),Y=c(D,O)}return Y}}function If(c){return xa(function(h){return h=In(h,Dt(At())),Gt(function(D){var O=this;return c(h,function(Y){return ur(Y,O,D)})})})}function qc(c,h){h=h===n?" ":Jn(h);var D=h.length;if(D<2)return D?ju(h,c):h;var O=ju(h,Al(c/kl(h)));return wu(h)?ts(Go(O),0,c).join(""):O.slice(0,c)}function Qg(c,h,D,O){var Y=h&I,X=$c(c);function de(){for(var ve=-1,Se=arguments.length,Ze=-1,qe=O.length,Qe=Pe(qe+Se),ht=this&&this!==Nn&&this instanceof de?X:c;++Ze<qe;)Qe[Ze]=O[Ze];for(;Se--;)Qe[Ze++]=arguments[++ve];return ur(ht,Y?D:this,Qe)}return de}function xp(c){return function(h,D,O){return O&&typeof O!="number"&&Dn(h,D,O)&&(D=O=n),h=$l(h),D===n?(D=h,h=0):D=$l(D),O=O===n?h<D?1:-1:$l(O),mp(h,D,O,c)}}function Gc(c){return function(h,D){return typeof h=="string"&&typeof D=="string"||(h=Ca(h),D=Ca(D)),c(h,D)}}function Xg(c,h,D,O,Y,X,de,ve,Se,Ze){var qe=h&R,Qe=qe?de:n,ht=qe?n:de,Ct=qe?X:n,Bt=qe?n:X;h|=qe?B:L,h&=~(qe?L:B),h&A||(h&=~(I|k));var nn=[c,h,Y,Ct,Qe,Bt,ht,ve,Se,Ze],Ht=D.apply(n,nn);return Ws(c)&&os(Ht,nn),Ht.placeholder=O,Ti(Ht,c,h)}function no(c){var h=cr[c];return function(D,O){if(D=Ca(D),O=O==null?0:Gr(en(O),292),O&&Tu(D)){var Y=(kn(D)+"e").split("e"),X=h(Y[0]+"e"+(+Y[1]+O));return Y=(kn(X)+"e").split("e"),+(Y[0]+"e"+(+Y[1]-O))}return h(D)}}var So=Fs&&1/Ns(new Fs([,-0]))[1]==le?function(c){return new Fs(c)}:Fw;function Ep(c){return function(h){var D=ro(h);return D==dt?Bd(h):D==tn?Q0(h):We(h,c(h))}}function Ia(c,h,D,O,Y,X,de,ve){var Se=h&k;if(!Se&&typeof c!="function")throw new yi(a);var Ze=O?O.length:0;if(Ze||(h&=~(B|L),O=Y=n),de=de===n?de:dr(en(de),0),ve=ve===n?ve:en(ve),Ze-=Y?Y.length:0,h&L){var qe=O,Qe=Y;O=Y=n}var ht=Se?n:Kc(c),Ct=[c,h,D,O,Y,qe,Qe,X,de,ve];if(ht&&ay(Ct,ht),c=Ct[0],h=Ct[1],D=Ct[2],O=Ct[3],Y=Ct[4],ve=Ct[9]=Ct[9]===n?Se?0:c.length:dr(Ct[9]-Ze,0),!ve&&h&(R|j)&&(h&=~(R|j)),!h||h==I)var Bt=Jg(c,h,D);else h==R||h==j?Bt=aw(c,h,ve):(h==B||h==(I|B))&&!Y.length?Bt=Qg(c,h,D,O):Bt=Hu.apply(n,Ct);var nn=ht?br:os;return Ti(nn(Bt,Ct),c,h)}function Cp(c,h,D,O){return c===n||as(c,ga[D])&&!pn.call(O,D)?h:c}function Mp(c,h,D,O,Y,X){return ar(c)&&ar(h)&&(X.set(h,c),Us(c,h,n,Mp,X),X.delete(h)),c}function ey(c){return em(c)?n:c}function xf(c,h,D,O,Y,X){var de=D&S,ve=c.length,Se=h.length;if(ve!=Se&&!(de&&Se>ve))return!1;var Ze=X.get(c),qe=X.get(h);if(Ze&&qe)return Ze==h&&qe==c;var Qe=-1,ht=!0,Ct=D&T?new Pl:n;for(X.set(c,h),X.set(h,c);++Qe<ve;){var Bt=c[Qe],nn=h[Qe];if(O)var Ht=de?O(nn,Bt,Qe,h,c,X):O(Bt,nn,Qe,c,h,X);if(Ht!==n){if(Ht)continue;ht=!1;break}if(Ct){if(!ks(h,function(sn,fn){if(!jt(Ct,fn)&&(Bt===sn||Y(Bt,sn,D,O,X)))return Ct.push(fn)})){ht=!1;break}}else if(!(Bt===nn||Y(Bt,nn,D,O,X))){ht=!1;break}}return X.delete(c),X.delete(h),ht}function ty(c,h,D,O,Y,X,de){switch(D){case nr:if(c.byteLength!=h.byteLength||c.byteOffset!=h.byteOffset)return!1;c=c.buffer,h=h.buffer;case tr:return!(c.byteLength!=h.byteLength||!X(new Nc(c),new Nc(h)));case Ue:case Ke:case It:return as(+c,+h);case Ce:return c.name==h.name&&c.message==h.message;case $t:case rn:return c==h+"";case dt:var ve=Bd;case tn:var Se=O&S;if(ve||(ve=Ns),c.size!=h.size&&!Se)return!1;var Ze=de.get(c);if(Ze)return Ze==h;O|=T,de.set(c,h);var qe=xf(ve(c),ve(h),O,Y,X,de);return de.delete(c),qe;case Xt:if(Jo)return Jo.call(c)==Jo.call(h)}return!1}function kp(c,h,D,O,Y,X){var de=D&S,ve=Ef(c),Se=ve.length,Ze=Ef(h),qe=Ze.length;if(Se!=qe&&!de)return!1;for(var Qe=Se;Qe--;){var ht=ve[Qe];if(!(de?ht in h:pn.call(h,ht)))return!1}var Ct=X.get(c),Bt=X.get(h);if(Ct&&Bt)return Ct==h&&Bt==c;var nn=!0;X.set(c,h),X.set(h,c);for(var Ht=de;++Qe<Se;){ht=ve[Qe];var sn=c[ht],fn=h[ht];if(O)var ta=de?O(fn,sn,ht,h,c,X):O(sn,fn,ht,c,h,X);if(!(ta===n?sn===fn||Y(sn,fn,D,O,X):ta)){nn=!1;break}Ht||(Ht=ht=="constructor")}if(nn&&!Ht){var ri=c.constructor,na=h.constructor;ri!=na&&"constructor"in c&&"constructor"in h&&!(typeof ri=="function"&&ri instanceof ri&&typeof na=="function"&&na instanceof na)&&(nn=!1)}return X.delete(c),X.delete(h),nn}function xa(c){return Af(kf(c,n,td),c+"")}function Ef(c){return sf(c,ao,Yu)}function Jc(c){return sf(c,Ei,Ea)}var Kc=Jd?function(c){return Jd.get(c)}:Fw;function Qc(c){for(var h=c.name+"",D=Eu[h],O=pn.call(Eu,h)?D.length:0;O--;){var Y=D[O],X=Y.func;if(X==null||X==c)return Y.name}return h}function Vs(c){var h=pn.call(J,"placeholder")?J:c;return h.placeholder}function At(){var c=J.iteratee||Nw;return c=c===Nw?Hc:c,arguments.length?c(arguments[0],arguments[1]):c}function Cf(c,h){var D=c.__data__;return wt(h)?D[typeof h=="string"?"string":"hash"]:D.map}function Mf(c){for(var h=ao(c),D=h.length;D--;){var O=h[D],Y=c[O];h[D]=[O,Y,zu(Y)]}return h}function rs(c,h){var D=ma(c,h);return cp(D)?D:n}function ny(c){var h=pn.call(c,Nl),D=c[Nl];try{c[Nl]=n;var O=!0}catch{}var Y=Mc.call(c);return O&&(h?c[Nl]=D:delete c[Nl]),Y}var Yu=$d?function(c){return c==null?[]:(c=Mn(c),Vi($d(c),function(h){return Wd.call(c,h)}))}:Pw,Ea=$d?function(c){for(var h=[];c;)mi(h,Yu(c)),c=Wi(c);return h}:Pw,ro=eo;(Pc&&ro(new Pc(new ArrayBuffer(1)))!=nr||Fl&&ro(new Fl)!=dt||Oc&&ro(Oc.resolve())!=Ut||Fs&&ro(new Fs)!=tn||jc&&ro(new jc)!=lr)&&(ro=function(c){var h=eo(c),D=h==_t?c.constructor:n,O=D?Zs(D):"";if(O)switch(O){case rp:return nr;case Ps:return dt;case Pg:return Ut;case Cu:return tn;case ya:return lr}return h});function ry(c,h,D){for(var O=-1,Y=D.length;++O<Y;){var X=D[O],de=X.size;switch(X.type){case"drop":c+=de;break;case"dropRight":h-=de;break;case"take":h=Gr(h,c+de);break;case"takeRight":c=dr(c,h-de);break}}return{start:c,end:h}}function Np(c){var h=c.match(fo);return h?h[1].split(Cr):[]}function Ap(c,h,D){h=es(h,c);for(var O=-1,Y=h.length,X=!1;++O<Y;){var de=Qi(h[O]);if(!(X=c!=null&&D(c,de)))break;c=c[de]}return X||++O!=Y?X:(Y=c==null?0:c.length,!!Y&&Iy(Y)&&Di(de,Y)&&(Jt(c)||ad(c)))}function oy(c){var h=c.length,D=new c.constructor(h);return h&&typeof c[0]=="string"&&pn.call(c,"index")&&(D.index=c.index,D.input=c.input),D}function Uu(c){return typeof c.constructor=="function"&&!Xc(c)?Mu(Wi(c)):{}}function oo(c,h,D){var O=c.constructor;switch(h){case tr:return _u(c);case Ue:case Ke:return new O(+c);case nr:return bf(c,D);case ji:case xo:case Uo:case Li:case Eo:case Ri:case ua:case ui:case _i:return bp(c,D);case dt:return new O;case It:case rn:return new O(c);case $t:return Zg(c);case tn:return new O;case Xt:return wp(c)}}function sw(c,h){var D=h.length;if(!D)return c;var O=D-1;return h[O]=(D>1?"& ":"")+h[O],h=h.join(D>2?", ":" "),c.replace(co,`{
/* [wrapped with `+h+`] */
`)}function lw(c){return Jt(c)||ad(c)||!!(Ng&&c&&c[Ng])}function Di(c,h){var D=typeof c;return h=h??oe,!!h&&(D=="number"||D!="symbol"&&Ha.test(c))&&c>-1&&c%1==0&&c<h}function Dn(c,h,D){if(!ar(D))return!1;var O=typeof h;return(O=="number"?xi(D)&&Di(h,D.length):O=="string"&&h in D)?as(D[h],c):!1}function Fp(c,h){if(Jt(c))return!1;var D=typeof c;return D=="number"||D=="symbol"||D=="boolean"||c==null||ea(c)?!0:jr.test(c)||!wn.test(c)||h!=null&&c in Mn(h)}function wt(c){var h=typeof c;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?c!=="__proto__":c===null}function Ws(c){var h=Qc(c),D=J[h];if(typeof D!="function"||!(h in qt.prototype))return!1;if(c===D)return!0;var O=Kc(D);return!!O&&c===O[0]}function Pp(c){return!!Ud&&Ud in c}var iy=Su?Zl:Ow;function Xc(c){var h=c&&c.constructor,D=typeof h=="function"&&h.prototype||ga;return c===D}function zu(c){return c===c&&!ar(c)}function ed(c,h){return function(D){return D==null?!1:D[c]===h&&(h!==n||c in Mn(D))}}function Op(c){var h=we(c,function(O){return D.size===f&&D.clear(),O}),D=h.cache;return h}function ay(c,h){var D=c[1],O=h[1],Y=D|O,X=Y<(I|k|z),de=O==z&&D==R||O==z&&D==U&&c[7].length<=h[8]||O==(z|U)&&h[7].length<=h[8]&&D==R;if(!(X||de))return c;O&I&&(c[2]=h[2],Y|=D&I?0:A);var ve=h[3];if(ve){var Se=c[3];c[3]=Se?Dp(Se,ve,h[4]):ve,c[4]=Se?gi(c[3],m):h[4]}return ve=h[5],ve&&(Se=c[5],c[5]=Se?Sf(Se,ve,h[6]):ve,c[6]=Se?gi(c[5],m):h[6]),ve=h[7],ve&&(c[7]=ve),O&z&&(c[8]=c[8]==null?h[8]:Gr(c[8],h[8])),c[9]==null&&(c[9]=h[9]),c[0]=h[0],c[1]=Y,c}function sy(c){var h=[];if(c!=null)for(var D in Mn(c))h.push(D);return h}function ly(c){return Mc.call(c)}function kf(c,h,D){return h=dr(h===n?c.length-1:h,0),function(){for(var O=arguments,Y=-1,X=dr(O.length-h,0),de=Pe(X);++Y<X;)de[Y]=O[h+Y];Y=-1;for(var ve=Pe(h+1);++Y<h;)ve[Y]=O[Y];return ve[h]=D(de),ur(c,this,ve)}}function Nf(c,h){return h.length<2?c:Qo(c,to(h,0,-1))}function Yr(c,h){for(var D=c.length,O=Gr(h.length,D),Y=bo(c);O--;){var X=h[O];c[O]=Di(X,D)?Y[X]:n}return c}function Xo(c,h){if(!(h==="constructor"&&typeof c[h]=="function")&&h!="__proto__")return c[h]}var os=jp(br),Vu=tp||function(c,h){return Nn.setTimeout(c,h)},Af=jp(hf);function Ti(c,h,D){var O=h+"";return Af(c,sw(O,cy(Np(O),D)))}function jp(c){var h=0,D=0;return function(){var O=rw(),Y=ce-(O-D);if(D=O,Y>0){if(++h>=Q)return arguments[0]}else h=0;return c.apply(n,arguments)}}function ei(c,h){var D=-1,O=c.length,Y=O-1;for(h=h===n?O:h;++D<h;){var X=zc(D,Y),de=c[X];c[X]=c[D],c[D]=de}return c.length=h,c}var uy=Op(function(c){var h=[];return c.charCodeAt(0)===46&&h.push(""),c.replace(Rn,function(D,O,Y,X){h.push(Y?X.replace(bl,"$1"):O||D)}),h});function Qi(c){if(typeof c=="string"||ea(c))return c;var h=c+"";return h=="0"&&1/c==-le?"-0":h}function Zs(c){if(c!=null){try{return Cc.call(c)}catch{}try{return c+""}catch{}}return""}function cy(c,h){return or(Oe,function(D){var O="_."+D[0];h&D[1]&&!Ms(c,O)&&c.push(O)}),c.sort()}function Lp(c){if(c instanceof qt)return c.clone();var h=new Jr(c.__wrapped__,c.__chain__);return h.__actions__=bo(c.__actions__),h.__index__=c.__index__,h.__values__=c.__values__,h}function uw(c,h,D){(D?Dn(c,h,D):h===n)?h=1:h=dr(en(h),0);var O=c==null?0:c.length;if(!O||h<1)return[];for(var Y=0,X=0,de=Pe(Al(O/h));Y<O;)de[X++]=to(c,Y,Y+=h);return de}function Ff(c){for(var h=-1,D=c==null?0:c.length,O=0,Y=[];++h<D;){var X=c[h];X&&(Y[O++]=X)}return Y}function Rp(){var c=arguments.length;if(!c)return[];for(var h=Pe(c-1),D=arguments[0],O=c;O--;)h[O-1]=arguments[O];return mi(Jt(D)?bo(D):[D],wr(h,1))}var Ii=Gt(function(c,h){return xr(c)?Da(c,wr(h,1,xr,!0)):[]}),dn=Gt(function(c,h){var D=Ir(h);return xr(D)&&(D=n),xr(c)?Da(c,wr(h,1,xr,!0),At(D,2)):[]}),Nr=Gt(function(c,h){var D=Ir(h);return xr(D)&&(D=n),xr(c)?Da(c,wr(h,1,xr,!0),n,D):[]});function fr(c,h,D){var O=c==null?0:c.length;return O?(h=D||h===n?1:en(h),to(c,h<0?0:h,O)):[]}function Ur(c,h,D){var O=c==null?0:c.length;return O?(h=D||h===n?1:en(h),h=O-h,to(c,0,h<0?0:h)):[]}function ti(c,h){return c&&c.length?Lu(c,At(h,3),!0,!0):[]}function Wu(c,h){return c&&c.length?Lu(c,At(h,3),!0):[]}function Tr(c,h,D,O){var Y=c==null?0:c.length;return Y?(D&&typeof D!="number"&&Dn(c,h,D)&&(D=0,O=Y),of(c,h,D,O)):[]}function Zu(c,h,D){var O=c==null?0:c.length;if(!O)return-1;var Y=D==null?0:en(D);return Y<0&&(Y=dr(O+Y,0)),Cl(c,At(h,3),Y)}function $s(c,h,D){var O=c==null?0:c.length;if(!O)return-1;var Y=O-1;return D!==n&&(Y=en(D),Y=D<0?dr(O+Y,0):Gr(Y,O-1)),Cl(c,At(h,3),Y,!0)}function td(c){var h=c==null?0:c.length;return h?wr(c,1):[]}function _p(c){var h=c==null?0:c.length;return h?wr(c,le):[]}function nd(c,h){var D=c==null?0:c.length;return D?(h=h===n?1:en(h),wr(c,h)):[]}function jo(c){for(var h=-1,D=c==null?0:c.length,O={};++h<D;){var Y=c[h];O[Y[0]]=Y[1]}return O}function Pf(c){return c&&c.length?c[0]:n}function $u(c,h,D){var O=c==null?0:c.length;if(!O)return-1;var Y=D==null?0:en(D);return Y<0&&(Y=dr(O+Y,0)),qa(c,h,Y)}function is(c){var h=c==null?0:c.length;return h?to(c,0,-1):[]}var Of=Gt(function(c){var h=In(c,vf);return h.length&&h[0]===c[0]?Gi(h):[]}),Bp=Gt(function(c){var h=Ir(c),D=In(c,vf);return h===Ir(D)?h=n:D.pop(),D.length&&D[0]===c[0]?Gi(D,At(h,2)):[]}),qs=Gt(function(c){var h=Ir(c),D=In(c,vf);return h=typeof h=="function"?h:n,h&&D.pop(),D.length&&D[0]===c[0]?Gi(D,n,h):[]});function jf(c,h){return c==null?"":qd.call(c,h)}function Ir(c){var h=c==null?0:c.length;return h?c[h-1]:n}function Lf(c,h,D){var O=c==null?0:c.length;if(!O)return-1;var Y=O;return D!==n&&(Y=en(D),Y=Y<0?dr(O+Y,0):Gr(Y,O-1)),h===h?X0(c,h,Y):Cl(c,vu,Y,!0)}function rd(c,h){return c&&c.length?zs(c,en(h)):n}var Hp=Gt(od);function od(c,h){return c&&c.length&&h&&h.length?Yn(c,h):c}function Rf(c,h,D){return c&&c.length&&h&&h.length?Yn(c,h,At(D,2)):c}function Do(c,h,D){return c&&c.length&&h&&h.length?Yn(c,h,n,D):c}var Gs=xa(function(c,h){var D=c==null?0:c.length,O=rf(c,h);return Uc(c,In(h,function(Y){return Di(Y,D)?+Y:Y}).sort(Sp)),O});function Xi(c,h){var D=[];if(!(c&&c.length))return D;var O=-1,Y=[],X=c.length;for(h=At(h,3);++O<X;){var de=c[O];h(de,O,c)&&(D.push(de),Y.push(O))}return Uc(c,Y),D}function io(c){return c==null?c:Gd.call(c)}function dy(c,h,D){var O=c==null?0:c.length;return O?(D&&typeof D!="number"&&Dn(c,h,D)?(h=0,D=O):(h=h==null?0:en(h),D=D===n?O:en(D)),to(c,h,D)):[]}function Yp(c,h){return Sr(c,h)}function Up(c,h,D){return Wc(c,h,At(D,2))}function cw(c,h){var D=c==null?0:c.length;if(D){var O=Sr(c,h);if(O<D&&as(c[O],h))return O}return-1}function Js(c,h){return Sr(c,h,!0)}function fy(c,h,D){return Wc(c,h,At(D,2),!0)}function zp(c,h){var D=c==null?0:c.length;if(D){var O=Sr(c,h,!0)-1;if(as(c[O],h))return O}return-1}function Ul(c){return c&&c.length?pf(c):[]}function Vp(c,h){return c&&c.length?pf(c,At(h,2)):[]}function zl(c){var h=c==null?0:c.length;return h?to(c,1,h):[]}function hy(c,h,D){return c&&c.length?(h=D||h===n?1:en(h),to(c,0,h<0?0:h)):[]}function py(c,h,D){var O=c==null?0:c.length;return O?(h=D||h===n?1:en(h),h=O-h,to(c,h<0?0:h,O)):[]}function Wp(c,h){return c&&c.length?Lu(c,At(h,3),!1,!0):[]}function _f(c,h){return c&&c.length?Lu(c,At(h,3)):[]}var dw=Gt(function(c){return Dr(wr(c,1,xr,!0))}),fw=Gt(function(c){var h=Ir(c);return xr(h)&&(h=n),Dr(wr(c,1,xr,!0),At(h,2))}),my=Gt(function(c){var h=Ir(c);return h=typeof h=="function"?h:n,Dr(wr(c,1,xr,!0),n,h)});function gy(c){return c&&c.length?Dr(c):[]}function Vl(c,h){return c&&c.length?Dr(c,At(h,2)):[]}function hw(c,h){return h=typeof h=="function"?h:n,c&&c.length?Dr(c,n,h):[]}function Ks(c){if(!(c&&c.length))return[];var h=0;return c=Vi(c,function(D){if(xr(D))return h=dr(D.length,h),!0}),xe(h,function(D){return In(c,N(D))})}function Zp(c,h){if(!(c&&c.length))return[];var D=Ks(c);return h==null?D:In(D,function(O){return ur(h,n,O)})}var Kn=Gt(function(c,h){return xr(c)?Da(c,h):[]}),pw=Gt(function(c){return yf(Vi(c,xr))}),yy=Gt(function(c){var h=Ir(c);return xr(h)&&(h=n),yf(Vi(c,xr),At(h,2))}),mw=Gt(function(c){var h=Ir(c);return h=typeof h=="function"?h:n,yf(Vi(c,xr),n,h)}),gw=Gt(Ks);function vy(c,h){return yp(c||[],h||[],Ll)}function wy(c,h){return yp(c||[],h||[],Wn)}var yw=Gt(function(c){var h=c.length,D=h>1?c[h-1]:n;return D=typeof D=="function"?(c.pop(),D):n,Zp(c,D)});function ni(c){var h=J(c);return h.__chain__=!0,h}function $p(c,h){return h(c),c}function Bf(c,h){return h(c)}var Qs=xa(function(c){var h=c.length,D=h?c[0]:0,O=this.__wrapped__,Y=function(X){return rf(X,c)};return h>1||this.__actions__.length||!(O instanceof qt)||!Di(D)?this.thru(Y):(O=O.slice(D,+D+(h?1:0)),O.__actions__.push({func:Bf,args:[Y],thisArg:n}),new Jr(O,this.__chain__).thru(function(X){return h&&!X.length&&X.push(n),X}))});function Hf(){return ni(this)}function Wl(){return new Jr(this.value(),this.__chain__)}function Yf(){this.__values__===n&&(this.__values__=rD(this.value()));var c=this.__index__>=this.__values__.length,h=c?n:this.__values__[this.__index__++];return{done:c,value:h}}function qp(){return this}function Gp(c){for(var h,D=this;D instanceof va;){var O=Lp(D);O.__index__=0,O.__values__=n,h?Y.__wrapped__=O:h=O;var Y=O;D=D.__wrapped__}return Y.__wrapped__=c,h}function vw(){var c=this.__wrapped__;if(c instanceof qt){var h=c;return this.__actions__.length&&(h=new qt(this)),h=h.reverse(),h.__actions__.push({func:Bf,args:[io],thisArg:n}),new Jr(h,this.__chain__)}return this.thru(io)}function Jp(){return gp(this.__wrapped__,this.__actions__)}var ww=Zc(function(c,h,D){pn.call(c,D)?++c[D]:Sa(c,D,1)});function by(c,h,D){var O=Jt(c)?mu:$i;return D&&Dn(c,h,D)&&(h=n),O(c,At(h,3))}function Sy(c,h){var D=Jt(c)?Vi:_l;return D(c,At(h,3))}var Uf=Kg(Zu),zf=Kg($s);function Dy(c,h){return wr($f(c,h),1)}function Kp(c,h){return wr($f(c,h),le)}function bw(c,h,D){return D=D===n?1:en(D),wr($f(c,h),D)}function Qp(c,h){var D=Jt(c)?or:Ta;return D(c,At(h,3))}function Vf(c,h){var D=Jt(c)?xl:Hg;return D(c,At(h,3))}var Wf=Zc(function(c,h,D){pn.call(c,D)?c[D].push(h):Sa(c,D,[h])});function Xp(c,h,D,O){c=xi(c)?c:Kf(c),D=D&&!O?en(D):0;var Y=c.length;return D<0&&(D=dr(Y+D,0)),xy(c)?D<=Y&&c.indexOf(h,D)>-1:!!Y&&qa(c,h,D)>-1}var Zf=Gt(function(c,h,D){var O=-1,Y=typeof h=="function",X=xi(c)?Pe(c.length):[];return Ta(c,function(de){X[++O]=Y?ur(h,de,D):Hs(de,h,D)}),X}),Ty=Zc(function(c,h,D){Sa(c,D,h)});function $f(c,h){var D=Jt(c)?In:fp;return D(c,At(h,3))}function qf(c,h,D,O){return c==null?[]:(Jt(h)||(h=h==null?[]:[h]),D=O?n:D,Jt(D)||(D=D==null?[]:[D]),ff(c,h,D))}var Sw=Zc(function(c,h,D){c[D?0:1].push(h)},function(){return[[],[]]});function id(c,h,D){var O=Jt(c)?Dc:q,Y=arguments.length<3;return O(c,At(h,4),D,Y,Ta)}function Dw(c,h,D){var O=Jt(c)?Rd:q,Y=arguments.length<3;return O(c,At(h,4),D,Y,Hg)}function Gf(c,h){var D=Jt(c)?Vi:_l;return D(c,Me(At(h,3)))}function s(c){var h=Jt(c)?ba:Bl;return h(c)}function l(c,h,D){(D?Dn(c,h,D):h===n)?h=1:h=en(h);var O=Jt(c)?jl:Vn;return O(c,h)}function p(c){var h=Jt(c)?_g:Vc;return h(c)}function w(c){if(c==null)return 0;if(xi(c))return xy(c)?kl(c):c.length;var h=ro(c);return h==dt||h==tn?c.size:df(c).length}function x(c,h,D){var O=Jt(c)?ks:ow;return D&&Dn(c,h,D)&&(h=n),O(c,At(h,3))}var P=Gt(function(c,h){if(c==null)return[];var D=h.length;return D>1&&Dn(c,h[0],h[1])?h=[]:D>2&&Dn(h[0],h[1],h[2])&&(h=[h[0]]),ff(c,wr(h,1),[])}),V=_n||function(){return Nn.Date.now()};function ue(c,h){if(typeof h!="function")throw new yi(a);return c=en(c),function(){if(--c<1)return h.apply(this,arguments)}}function ye(c,h,D){return h=D?n:h,h=c&&h==null?c.length:h,Ia(c,z,n,n,n,n,h)}function je(c,h){var D;if(typeof h!="function")throw new yi(a);return c=en(c),function(){return--c>0&&(D=h.apply(this,arguments)),c<=1&&(h=n),D}}var Je=Gt(function(c,h,D){var O=I;if(D.length){var Y=gi(D,Vs(Je));O|=B}return Ia(c,O,h,D,Y)}),Xe=Gt(function(c,h,D){var O=I|k;if(D.length){var Y=gi(D,Vs(Xe));O|=B}return Ia(h,O,c,D,Y)});function Ge(c,h,D){h=D?n:h;var O=Ia(c,R,n,n,n,n,n,h);return O.placeholder=Ge.placeholder,O}function gt(c,h,D){h=D?n:h;var O=Ia(c,j,n,n,n,n,n,h);return O.placeholder=gt.placeholder,O}function St(c,h,D){var O,Y,X,de,ve,Se,Ze=0,qe=!1,Qe=!1,ht=!0;if(typeof c!="function")throw new yi(a);h=Ca(h)||0,ar(D)&&(qe=!!D.leading,Qe="maxWait"in D,X=Qe?dr(Ca(D.maxWait)||0,h):X,ht="trailing"in D?!!D.trailing:ht);function Ct(Er){var ss=O,ql=Y;return O=Y=n,Ze=Er,de=c.apply(ql,ss),de}function Bt(Er){return Ze=Er,ve=Vu(sn,h),qe?Ct(Er):de}function nn(Er){var ss=Er-Se,ql=Er-Ze,gD=h-ss;return Qe?Gr(gD,X-ql):gD}function Ht(Er){var ss=Er-Se,ql=Er-Ze;return Se===n||ss>=h||ss<0||Qe&&ql>=X}function sn(){var Er=V();if(Ht(Er))return fn(Er);ve=Vu(sn,nn(Er))}function fn(Er){return ve=n,ht&&O?Ct(Er):(O=Y=n,de)}function ta(){ve!==n&&Ru(ve),Ze=0,O=Se=Y=ve=n}function ri(){return ve===n?de:fn(V())}function na(){var Er=V(),ss=Ht(Er);if(O=arguments,Y=this,Se=Er,ss){if(ve===n)return Bt(Se);if(Qe)return Ru(ve),ve=Vu(sn,h),Ct(Se)}return ve===n&&(ve=Vu(sn,h)),de}return na.cancel=ta,na.flush=ri,na}var Tt=Gt(function(c,h){return ap(c,1,h)}),ir=Gt(function(c,h,D){return ap(c,Ca(h)||0,D)});function Ee(c){return Ia(c,W)}function we(c,h){if(typeof c!="function"||h!=null&&typeof h!="function")throw new yi(a);var D=function(){var O=arguments,Y=h?h.apply(this,O):O[0],X=D.cache;if(X.has(Y))return X.get(Y);var de=c.apply(this,O);return D.cache=X.set(Y,de)||X,de};return D.cache=new(we.Cache||vi),D}we.Cache=vi;function Me(c){if(typeof c!="function")throw new yi(a);return function(){var h=arguments;switch(h.length){case 0:return!c.call(this);case 1:return!c.call(this,h[0]);case 2:return!c.call(this,h[0],h[1]);case 3:return!c.call(this,h[0],h[1],h[2])}return!c.apply(this,h)}}function it(c){return je(2,c)}var xt=Wg(function(c,h){h=h.length==1&&Jt(h[0])?In(h[0],Dt(At())):In(wr(h,1),Dt(At()));var D=h.length;return Gt(function(O){for(var Y=-1,X=Gr(O.length,D);++Y<X;)O[Y]=h[Y].call(this,O[Y]);return ur(c,this,O)})}),Ft=Gt(function(c,h){var D=gi(h,Vs(Ft));return Ia(c,B,n,h,D)}),Pt=Gt(function(c,h){var D=gi(h,Vs(Pt));return Ia(c,L,n,h,D)}),Yt=xa(function(c,h){return Ia(c,U,n,n,n,h)});function Ar(c,h){if(typeof c!="function")throw new yi(a);return h=h===n?h:en(h),Gt(c,h)}function mn(c,h){if(typeof c!="function")throw new yi(a);return h=h==null?0:dr(en(h),0),Gt(function(D){var O=D[h],Y=ts(D,0,h);return O&&mi(Y,O),ur(c,this,Y)})}function Xs(c,h,D){var O=!0,Y=!0;if(typeof c!="function")throw new yi(a);return ar(D)&&(O="leading"in D?!!D.leading:O,Y="trailing"in D?!!D.trailing:Y),St(c,h,{leading:O,maxWait:h,trailing:Y})}function Tw(c){return ye(c,1)}function Sk(c,h){return Ft(wf(h),c)}function Dk(){if(!arguments.length)return[];var c=arguments[0];return Jt(c)?c:[c]}function Tk(c){return Oo(c,b)}function Ik(c,h){return h=typeof h=="function"?h:n,Oo(c,b,h)}function xk(c){return Oo(c,g|b)}function Ek(c,h){return h=typeof h=="function"?h:n,Oo(c,g|b,h)}function Ck(c,h){return h==null||Rc(c,h,ao(h))}function as(c,h){return c===h||c!==c&&h!==h}var Mk=Gc(qi),kk=Gc(function(c,h){return c>=h}),ad=lp(function(){return arguments}())?lp:function(c){return hr(c)&&pn.call(c,"callee")&&!Wd.call(c,"callee")},Jt=Pe.isArray,Nk=Es?Dt(Es):lf;function xi(c){return c!=null&&Iy(c.length)&&!Zl(c)}function xr(c){return hr(c)&&xi(c)}function Ak(c){return c===!0||c===!1||hr(c)&&eo(c)==Ue}var qu=np||Ow,Fk=kr?Dt(kr):Ug;function Pk(c){return hr(c)&&c.nodeType===1&&!em(c)}function Ok(c){if(c==null)return!0;if(xi(c)&&(Jt(c)||typeof c=="string"||typeof c.splice=="function"||qu(c)||Jf(c)||ad(c)))return!c.length;var h=ro(c);if(h==dt||h==tn)return!c.size;if(Xc(c))return!df(c).length;for(var D in c)if(pn.call(c,D))return!1;return!0}function jk(c,h){return Fu(c,h)}function Lk(c,h,D){D=typeof D=="function"?D:n;var O=D?D(c,h):n;return O===n?Fu(c,h,n,D):!!O}function Iw(c){if(!hr(c))return!1;var h=eo(c);return h==Ce||h==yt||typeof c.message=="string"&&typeof c.name=="string"&&!em(c)}function Rk(c){return typeof c=="number"&&Tu(c)}function Zl(c){if(!ar(c))return!1;var h=eo(c);return h==rt||h==st||h==$e||h==vn}function XS(c){return typeof c=="number"&&c==en(c)}function Iy(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=oe}function ar(c){var h=typeof c;return c!=null&&(h=="object"||h=="function")}function hr(c){return c!=null&&typeof c=="object"}var eD=Za?Dt(Za):uf;function _k(c,h){return c===h||cf(c,h,Mf(h))}function Bk(c,h,D){return D=typeof D=="function"?D:n,cf(c,h,Mf(h),D)}function Hk(c){return tD(c)&&c!=+c}function Yk(c){if(iy(c))throw new Zt(i);return cp(c)}function Uk(c){return c===null}function zk(c){return c==null}function tD(c){return typeof c=="number"||hr(c)&&eo(c)==It}function em(c){if(!hr(c)||eo(c)!=_t)return!1;var h=Wi(c);if(h===null)return!0;var D=pn.call(h,"constructor")&&h.constructor;return typeof D=="function"&&D instanceof D&&Cc.call(D)==zd}var xw=pa?Dt(pa):zg;function Vk(c){return XS(c)&&c>=-oe&&c<=oe}var nD=Cs?Dt(Cs):dp;function xy(c){return typeof c=="string"||!Jt(c)&&hr(c)&&eo(c)==rn}function ea(c){return typeof c=="symbol"||hr(c)&&eo(c)==Xt}var Jf=pu?Dt(pu):Bc;function Wk(c){return c===n}function Zk(c){return hr(c)&&ro(c)==lr}function $k(c){return hr(c)&&eo(c)==$r}var qk=Gc(Ys),Gk=Gc(function(c,h){return c<=h});function rD(c){if(!c)return[];if(xi(c))return xy(c)?Go(c):bo(c);if(Ka&&c[Ka])return K0(c[Ka]());var h=ro(c),D=h==dt?Bd:h==tn?Ns:Kf;return D(c)}function $l(c){if(!c)return c===0?c:0;if(c=Ca(c),c===le||c===-le){var h=c<0?-1:1;return h*he}return c===c?c:0}function en(c){var h=$l(c),D=h%1;return h===h?D?h-D:h:0}function oD(c){return c?Xa(en(c),0,ne):0}function Ca(c){if(typeof c=="number")return c;if(ea(c))return G;if(ar(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=ar(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=nt(c);var D=Sl.test(c);return D||da.test(c)?Ts(c.slice(2),D?2:8):cu.test(c)?G:+c}function iD(c){return Ki(c,Ei(c))}function Jk(c){return c?Xa(en(c),-oe,oe):c===0?c:0}function kn(c){return c==null?"":Jn(c)}var Kk=Bu(function(c,h){if(Xc(h)||xi(h)){Ki(h,ao(h),c);return}for(var D in h)pn.call(h,D)&&Ll(c,D,h[D])}),aD=Bu(function(c,h){Ki(h,Ei(h),c)}),Ey=Bu(function(c,h,D,O){Ki(h,Ei(h),c,O)}),Qk=Bu(function(c,h,D,O){Ki(h,ao(h),c,O)}),Xk=xa(rf);function e4(c,h){var D=Mu(c);return h==null?D:Hn(D,h)}var t4=Gt(function(c,h){c=Mn(c);var D=-1,O=h.length,Y=O>2?h[2]:n;for(Y&&Dn(h[0],h[1],Y)&&(O=1);++D<O;)for(var X=h[D],de=Ei(X),ve=-1,Se=de.length;++ve<Se;){var Ze=de[ve],qe=c[Ze];(qe===n||as(qe,ga[Ze])&&!pn.call(c,Ze))&&(c[Ze]=X[Ze])}return c}),n4=Gt(function(c){return c.push(n,Mp),ur(sD,n,c)});function r4(c,h){return El(c,At(h,3),Si)}function o4(c,h){return El(c,At(h,3),Rs)}function i4(c,h){return c==null?c:_c(c,At(h,3),Ei)}function a4(c,h){return c==null?c:af(c,At(h,3),Ei)}function s4(c,h){return c&&Si(c,At(h,3))}function l4(c,h){return c&&Rs(c,At(h,3))}function u4(c){return c==null?[]:wo(c,ao(c))}function c4(c){return c==null?[]:wo(c,Ei(c))}function Ew(c,h,D){var O=c==null?n:Qo(c,h);return O===n?D:O}function d4(c,h){return c!=null&&Ap(c,h,_s)}function Cw(c,h){return c!=null&&Ap(c,h,sp)}var f4=Df(function(c,h,D){h!=null&&typeof h.toString!="function"&&(h=Mc.call(h)),c[h]=D},kw(Ci)),h4=Df(function(c,h,D){h!=null&&typeof h.toString!="function"&&(h=Mc.call(h)),pn.call(c,h)?c[h].push(D):c[h]=[D]},At),p4=Gt(Hs);function ao(c){return xi(c)?wa(c):df(c)}function Ei(c){return xi(c)?wa(c,!0):Vg(c)}function m4(c,h){var D={};return h=At(h,3),Si(c,function(O,Y,X){Sa(D,h(O,Y,X),O)}),D}function g4(c,h){var D={};return h=At(h,3),Si(c,function(O,Y,X){Sa(D,Y,h(O,Y,X))}),D}var y4=Bu(function(c,h,D){Us(c,h,D)}),sD=Bu(function(c,h,D,O){Us(c,h,D,O)}),v4=xa(function(c,h){var D={};if(c==null)return D;var O=!1;h=In(h,function(X){return X=es(X,c),O||(O=X.length>1),X}),Ki(c,Jc(c),D),O&&(D=Oo(D,g|v|b,ey));for(var Y=h.length;Y--;)Hl(D,h[Y]);return D});function w4(c,h){return lD(c,Me(At(h)))}var b4=xa(function(c,h){return c==null?{}:Ou(c,h)});function lD(c,h){if(c==null)return{};var D=In(Jc(c),function(O){return[O]});return h=At(h),hp(c,D,function(O,Y){return h(O,Y[0])})}function S4(c,h,D){h=es(h,c);var O=-1,Y=h.length;for(Y||(Y=1,c=n);++O<Y;){var X=c==null?n:c[Qi(h[O])];X===n&&(O=Y,X=D),c=Zl(X)?X.call(c):X}return c}function D4(c,h,D){return c==null?c:Wn(c,h,D)}function T4(c,h,D,O){return O=typeof O=="function"?O:n,c==null?c:Wn(c,h,D,O)}var uD=Ep(ao),cD=Ep(Ei);function I4(c,h,D){var O=Jt(c),Y=O||qu(c)||Jf(c);if(h=At(h,4),D==null){var X=c&&c.constructor;Y?D=O?new X:[]:ar(c)?D=Zl(X)?Mu(Wi(c)):{}:D={}}return(Y?or:Si)(c,function(de,ve,Se){return h(D,de,ve,Se)}),D}function x4(c,h){return c==null?!0:Hl(c,h)}function E4(c,h,D){return c==null?c:gf(c,h,wf(D))}function C4(c,h,D,O){return O=typeof O=="function"?O:n,c==null?c:gf(c,h,wf(D),O)}function Kf(c){return c==null?[]:Wt(c,ao(c))}function M4(c){return c==null?[]:Wt(c,Ei(c))}function k4(c,h,D){return D===n&&(D=h,h=n),D!==n&&(D=Ca(D),D=D===D?D:0),h!==n&&(h=Ca(h),h=h===h?h:0),Xa(Ca(c),h,D)}function N4(c,h,D){return h=$l(h),D===n?(D=h,h=0):D=$l(D),c=Ca(c),Yg(c,h,D)}function A4(c,h,D){if(D&&typeof D!="boolean"&&Dn(c,h,D)&&(h=D=n),D===n&&(typeof h=="boolean"?(D=h,h=n):typeof c=="boolean"&&(D=c,c=n)),c===n&&h===n?(c=0,h=1):(c=$l(c),h===n?(h=c,c=0):h=$l(h)),c>h){var O=c;c=h,h=O}if(D||c%1||h%1){var Y=Fc();return Gr(c+Y*(h-c+hu("1e-"+((Y+"").length-1))),h)}return zc(c,h)}var F4=ns(function(c,h,D){return h=h.toLowerCase(),c+(D?dD(h):h)});function dD(c){return Mw(kn(c).toLowerCase())}function fD(c){return c=kn(c),c&&c.replace(Dl,No).replace(Ld,"")}function P4(c,h,D){c=kn(c),h=Jn(h);var O=c.length;D=D===n?O:Xa(en(D),0,O);var Y=D;return D-=h.length,D>=0&&c.slice(D,Y)==h}function O4(c){return c=kn(c),c&&tt.test(c)?c.replace(He,Ml):c}function j4(c){return c=kn(c),c&&Lr.test(c)?c.replace(rr,"\\$&"):c}var L4=ns(function(c,h,D){return c+(D?"-":"")+h.toLowerCase()}),R4=ns(function(c,h,D){return c+(D?" ":"")+h.toLowerCase()}),_4=Ip("toLowerCase");function B4(c,h,D){c=kn(c),h=en(h);var O=h?kl(c):0;if(!h||O>=h)return c;var Y=(h-O)/2;return qc(As(Y),D)+c+qc(Al(Y),D)}function H4(c,h,D){c=kn(c),h=en(h);var O=h?kl(c):0;return h&&O<h?c+qc(h-O,D):c}function Y4(c,h,D){c=kn(c),h=en(h);var O=h?kl(c):0;return h&&O<h?qc(h-O,D)+c:c}function U4(c,h,D){return D||h==null?h=0:h&&(h=+h),Fg(kn(c).replace(ca,""),h||0)}function z4(c,h,D){return(D?Dn(c,h,D):h===n)?h=1:h=en(h),ju(kn(c),h)}function V4(){var c=arguments,h=kn(c[0]);return c.length<3?h:h.replace(c[1],c[2])}var W4=ns(function(c,h,D){return c+(D?"_":"")+h.toLowerCase()});function Z4(c,h,D){return D&&typeof D!="number"&&Dn(c,h,D)&&(h=D=n),D=D===n?ne:D>>>0,D?(c=kn(c),c&&(typeof h=="string"||h!=null&&!xw(h))&&(h=Jn(h),!h&&wu(c))?ts(Go(c),0,D):c.split(h,D)):[]}var $4=ns(function(c,h,D){return c+(D?" ":"")+Mw(h)});function q4(c,h,D){return c=kn(c),D=D==null?0:Xa(en(D),0,c.length),h=Jn(h),c.slice(D,D+h.length)==h}function G4(c,h,D){var O=J.templateSettings;D&&Dn(c,h,D)&&(h=n),c=kn(c),h=Ey({},h,O,Cp);var Y=Ey({},h.imports,O.imports,Cp),X=ao(Y),de=Wt(Y,X),ve,Se,Ze=0,qe=h.interpolate||Ya,Qe="__p += '",ht=Ec((h.escape||Ya).source+"|"+qe.source+"|"+(qe===On?Bi:Ya).source+"|"+(h.evaluate||Ya).source+"|$","g"),Ct="//# sourceURL="+(pn.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++En+"]")+`
`;c.replace(ht,function(Ht,sn,fn,ta,ri,na){return fn||(fn=ta),Qe+=c.slice(Ze,na).replace(du,xc),sn&&(ve=!0,Qe+=`' +
__e(`+sn+`) +
'`),ri&&(Se=!0,Qe+=`';
`+ri+`;
__p += '`),fn&&(Qe+=`' +
((__t = (`+fn+`)) == null ? '' : __t) +
'`),Ze=na+Ht.length,Ht}),Qe+=`';
`;var Bt=pn.call(h,"variable")&&h.variable;if(!Bt)Qe=`with (obj) {
`+Qe+`
}
`;else if(ho.test(Bt))throw new Zt(u);Qe=(Se?Qe.replace(te,""):Qe).replace(ge,"$1").replace(Ae,"$1;"),Qe="function("+(Bt||"obj")+`) {
`+(Bt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ve?", __e = _.escape":"")+(Se?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Qe+`return __p
}`;var nn=pD(function(){return hn(X,Ct+"return "+Qe).apply(n,de)});if(nn.source=Qe,Iw(nn))throw nn;return nn}function J4(c){return kn(c).toLowerCase()}function K4(c){return kn(c).toUpperCase()}function Q4(c,h,D){if(c=kn(c),c&&(D||h===n))return nt(c);if(!c||!(h=Jn(h)))return c;var O=Go(c),Y=Go(h),X=Cn(O,Y),de=Hr(O,Y)+1;return ts(O,X,de).join("")}function X4(c,h,D){if(c=kn(c),c&&(D||h===n))return c.slice(0,Yd(c)+1);if(!c||!(h=Jn(h)))return c;var O=Go(c),Y=Hr(O,Go(h))+1;return ts(O,0,Y).join("")}function eN(c,h,D){if(c=kn(c),c&&(D||h===n))return c.replace(ca,"");if(!c||!(h=Jn(h)))return c;var O=Go(c),Y=Cn(O,Go(h));return ts(O,Y).join("")}function tN(c,h){var D=Z,O=re;if(ar(h)){var Y="separator"in h?h.separator:Y;D="length"in h?en(h.length):D,O="omission"in h?Jn(h.omission):O}c=kn(c);var X=c.length;if(wu(c)){var de=Go(c);X=de.length}if(D>=X)return c;var ve=D-kl(O);if(ve<1)return O;var Se=de?ts(de,0,ve).join(""):c.slice(0,ve);if(Y===n)return Se+O;if(de&&(ve+=Se.length-ve),xw(Y)){if(c.slice(ve).search(Y)){var Ze,qe=Se;for(Y.global||(Y=Ec(Y.source,kn(Hi.exec(Y))+"g")),Y.lastIndex=0;Ze=Y.exec(qe);)var Qe=Ze.index;Se=Se.slice(0,Qe===n?ve:Qe)}}else if(c.indexOf(Jn(Y),ve)!=ve){var ht=Se.lastIndexOf(Y);ht>-1&&(Se=Se.slice(0,ht))}return Se+O}function nN(c){return c=kn(c),c&&et.test(c)?c.replace(Be,xg):c}var rN=ns(function(c,h,D){return c+(D?" ":"")+h.toUpperCase()}),Mw=Ip("toUpperCase");function hD(c,h,D){return c=kn(c),h=D?n:h,h===n?J0(c)?ew(c):gu(c):c.match(h)||[]}var pD=Gt(function(c,h){try{return ur(c,n,h)}catch(D){return Iw(D)?D:new Zt(D)}}),oN=xa(function(c,h){return or(h,function(D){D=Qi(D),Sa(c,D,Je(c[D],c))}),c});function iN(c){var h=c==null?0:c.length,D=At();return c=h?In(c,function(O){if(typeof O[1]!="function")throw new yi(a);return[D(O[0]),O[1]]}):[],Gt(function(O){for(var Y=-1;++Y<h;){var X=c[Y];if(ur(X[0],this,O))return ur(X[1],this,O)}})}function aN(c){return Bg(Oo(c,g))}function kw(c){return function(){return c}}function sN(c,h){return c==null||c!==c?h:c}var lN=Yl(),uN=Yl(!0);function Ci(c){return c}function Nw(c){return Hc(typeof c=="function"?c:Oo(c,g))}function cN(c){return Pu(Oo(c,g))}function dN(c,h){return Ji(c,Oo(h,g))}var fN=Gt(function(c,h){return function(D){return Hs(D,c,h)}}),hN=Gt(function(c,h){return function(D){return Hs(c,D,h)}});function Aw(c,h,D){var O=ao(h),Y=wo(h,O);D==null&&!(ar(h)&&(Y.length||!O.length))&&(D=h,h=c,c=this,Y=wo(h,ao(h)));var X=!(ar(D)&&"chain"in D)||!!D.chain,de=Zl(c);return or(Y,function(ve){var Se=h[ve];c[ve]=Se,de&&(c.prototype[ve]=function(){var Ze=this.__chain__;if(X||Ze){var qe=c(this.__wrapped__),Qe=qe.__actions__=bo(this.__actions__);return Qe.push({func:Se,args:arguments,thisArg:c}),qe.__chain__=Ze,qe}return Se.apply(c,mi([this.value()],arguments))})}),c}function pN(){return Nn._===this&&(Nn._=Mg),this}function Fw(){}function mN(c){return c=en(c),Gt(function(h){return zs(h,c)})}var gN=If(In),yN=If(mu),vN=If(ks);function mD(c){return Fp(c)?N(Qi(c)):pp(c)}function wN(c){return function(h){return c==null?n:Qo(c,h)}}var bN=xp(),SN=xp(!0);function Pw(){return[]}function Ow(){return!1}function DN(){return{}}function TN(){return""}function IN(){return!0}function xN(c,h){if(c=en(c),c<1||c>oe)return[];var D=ne,O=Gr(c,ne);h=At(h),c-=ne;for(var Y=xe(O,h);++D<c;)h(D);return Y}function EN(c){return Jt(c)?In(c,Qi):ea(c)?[c]:bo(uy(kn(c)))}function CN(c){var h=++Du;return kn(c)+h}var MN=Tf(function(c,h){return c+h},0),kN=no("ceil"),NN=Tf(function(c,h){return c/h},1),AN=no("floor");function FN(c){return c&&c.length?Rl(c,Ci,qi):n}function PN(c,h){return c&&c.length?Rl(c,At(h,2),qi):n}function ON(c){return Ic(c,Ci)}function jN(c,h){return Ic(c,At(h,2))}function LN(c){return c&&c.length?Rl(c,Ci,Ys):n}function RN(c,h){return c&&c.length?Rl(c,At(h,2),Ys):n}var _N=Tf(function(c,h){return c*h},1),BN=no("round"),HN=Tf(function(c,h){return c-h},0);function YN(c){return c&&c.length?Fe(c,Ci):0}function UN(c,h){return c&&c.length?Fe(c,At(h,2)):0}return J.after=ue,J.ary=ye,J.assign=Kk,J.assignIn=aD,J.assignInWith=Ey,J.assignWith=Qk,J.at=Xk,J.before=je,J.bind=Je,J.bindAll=oN,J.bindKey=Xe,J.castArray=Dk,J.chain=ni,J.chunk=uw,J.compact=Ff,J.concat=Rp,J.cond=iN,J.conforms=aN,J.constant=kw,J.countBy=ww,J.create=e4,J.curry=Ge,J.curryRight=gt,J.debounce=St,J.defaults=t4,J.defaultsDeep=n4,J.defer=Tt,J.delay=ir,J.difference=Ii,J.differenceBy=dn,J.differenceWith=Nr,J.drop=fr,J.dropRight=Ur,J.dropRightWhile=ti,J.dropWhile=Wu,J.fill=Tr,J.filter=Sy,J.flatMap=Dy,J.flatMapDeep=Kp,J.flatMapDepth=bw,J.flatten=td,J.flattenDeep=_p,J.flattenDepth=nd,J.flip=Ee,J.flow=lN,J.flowRight=uN,J.fromPairs=jo,J.functions=u4,J.functionsIn=c4,J.groupBy=Wf,J.initial=is,J.intersection=Of,J.intersectionBy=Bp,J.intersectionWith=qs,J.invert=f4,J.invertBy=h4,J.invokeMap=Zf,J.iteratee=Nw,J.keyBy=Ty,J.keys=ao,J.keysIn=Ei,J.map=$f,J.mapKeys=m4,J.mapValues=g4,J.matches=cN,J.matchesProperty=dN,J.memoize=we,J.merge=y4,J.mergeWith=sD,J.method=fN,J.methodOf=hN,J.mixin=Aw,J.negate=Me,J.nthArg=mN,J.omit=v4,J.omitBy=w4,J.once=it,J.orderBy=qf,J.over=gN,J.overArgs=xt,J.overEvery=yN,J.overSome=vN,J.partial=Ft,J.partialRight=Pt,J.partition=Sw,J.pick=b4,J.pickBy=lD,J.property=mD,J.propertyOf=wN,J.pull=Hp,J.pullAll=od,J.pullAllBy=Rf,J.pullAllWith=Do,J.pullAt=Gs,J.range=bN,J.rangeRight=SN,J.rearg=Yt,J.reject=Gf,J.remove=Xi,J.rest=Ar,J.reverse=io,J.sampleSize=l,J.set=D4,J.setWith=T4,J.shuffle=p,J.slice=dy,J.sortBy=P,J.sortedUniq=Ul,J.sortedUniqBy=Vp,J.split=Z4,J.spread=mn,J.tail=zl,J.take=hy,J.takeRight=py,J.takeRightWhile=Wp,J.takeWhile=_f,J.tap=$p,J.throttle=Xs,J.thru=Bf,J.toArray=rD,J.toPairs=uD,J.toPairsIn=cD,J.toPath=EN,J.toPlainObject=iD,J.transform=I4,J.unary=Tw,J.union=dw,J.unionBy=fw,J.unionWith=my,J.uniq=gy,J.uniqBy=Vl,J.uniqWith=hw,J.unset=x4,J.unzip=Ks,J.unzipWith=Zp,J.update=E4,J.updateWith=C4,J.values=Kf,J.valuesIn=M4,J.without=Kn,J.words=hD,J.wrap=Sk,J.xor=pw,J.xorBy=yy,J.xorWith=mw,J.zip=gw,J.zipObject=vy,J.zipObjectDeep=wy,J.zipWith=yw,J.entries=uD,J.entriesIn=cD,J.extend=aD,J.extendWith=Ey,Aw(J,J),J.add=MN,J.attempt=pD,J.camelCase=F4,J.capitalize=dD,J.ceil=kN,J.clamp=k4,J.clone=Tk,J.cloneDeep=xk,J.cloneDeepWith=Ek,J.cloneWith=Ik,J.conformsTo=Ck,J.deburr=fD,J.defaultTo=sN,J.divide=NN,J.endsWith=P4,J.eq=as,J.escape=O4,J.escapeRegExp=j4,J.every=by,J.find=Uf,J.findIndex=Zu,J.findKey=r4,J.findLast=zf,J.findLastIndex=$s,J.findLastKey=o4,J.floor=AN,J.forEach=Qp,J.forEachRight=Vf,J.forIn=i4,J.forInRight=a4,J.forOwn=s4,J.forOwnRight=l4,J.get=Ew,J.gt=Mk,J.gte=kk,J.has=d4,J.hasIn=Cw,J.head=Pf,J.identity=Ci,J.includes=Xp,J.indexOf=$u,J.inRange=N4,J.invoke=p4,J.isArguments=ad,J.isArray=Jt,J.isArrayBuffer=Nk,J.isArrayLike=xi,J.isArrayLikeObject=xr,J.isBoolean=Ak,J.isBuffer=qu,J.isDate=Fk,J.isElement=Pk,J.isEmpty=Ok,J.isEqual=jk,J.isEqualWith=Lk,J.isError=Iw,J.isFinite=Rk,J.isFunction=Zl,J.isInteger=XS,J.isLength=Iy,J.isMap=eD,J.isMatch=_k,J.isMatchWith=Bk,J.isNaN=Hk,J.isNative=Yk,J.isNil=zk,J.isNull=Uk,J.isNumber=tD,J.isObject=ar,J.isObjectLike=hr,J.isPlainObject=em,J.isRegExp=xw,J.isSafeInteger=Vk,J.isSet=nD,J.isString=xy,J.isSymbol=ea,J.isTypedArray=Jf,J.isUndefined=Wk,J.isWeakMap=Zk,J.isWeakSet=$k,J.join=jf,J.kebabCase=L4,J.last=Ir,J.lastIndexOf=Lf,J.lowerCase=R4,J.lowerFirst=_4,J.lt=qk,J.lte=Gk,J.max=FN,J.maxBy=PN,J.mean=ON,J.meanBy=jN,J.min=LN,J.minBy=RN,J.stubArray=Pw,J.stubFalse=Ow,J.stubObject=DN,J.stubString=TN,J.stubTrue=IN,J.multiply=_N,J.nth=rd,J.noConflict=pN,J.noop=Fw,J.now=V,J.pad=B4,J.padEnd=H4,J.padStart=Y4,J.parseInt=U4,J.random=A4,J.reduce=id,J.reduceRight=Dw,J.repeat=z4,J.replace=V4,J.result=S4,J.round=BN,J.runInContext=be,J.sample=s,J.size=w,J.snakeCase=W4,J.some=x,J.sortedIndex=Yp,J.sortedIndexBy=Up,J.sortedIndexOf=cw,J.sortedLastIndex=Js,J.sortedLastIndexBy=fy,J.sortedLastIndexOf=zp,J.startCase=$4,J.startsWith=q4,J.subtract=HN,J.sum=YN,J.sumBy=UN,J.template=G4,J.times=xN,J.toFinite=$l,J.toInteger=en,J.toLength=oD,J.toLower=J4,J.toNumber=Ca,J.toSafeInteger=Jk,J.toString=kn,J.toUpper=K4,J.trim=Q4,J.trimEnd=X4,J.trimStart=eN,J.truncate=tN,J.unescape=nN,J.uniqueId=CN,J.upperCase=rN,J.upperFirst=Mw,J.each=Qp,J.eachRight=Vf,J.first=Pf,Aw(J,function(){var c={};return Si(J,function(h,D){pn.call(J.prototype,D)||(c[D]=h)}),c}(),{chain:!1}),J.VERSION=r,or(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){J[c].placeholder=J}),or(["drop","take"],function(c,h){qt.prototype[c]=function(D){D=D===n?1:dr(en(D),0);var O=this.__filtered__&&!h?new qt(this):this.clone();return O.__filtered__?O.__takeCount__=Gr(D,O.__takeCount__):O.__views__.push({size:Gr(D,ne),type:c+(O.__dir__<0?"Right":"")}),O},qt.prototype[c+"Right"]=function(D){return this.reverse()[c](D).reverse()}}),or(["filter","map","takeWhile"],function(c,h){var D=h+1,O=D==ee||D==$;qt.prototype[c]=function(Y){var X=this.clone();return X.__iteratees__.push({iteratee:At(Y,3),type:D}),X.__filtered__=X.__filtered__||O,X}}),or(["head","last"],function(c,h){var D="take"+(h?"Right":"");qt.prototype[c]=function(){return this[D](1).value()[0]}}),or(["initial","tail"],function(c,h){var D="drop"+(h?"":"Right");qt.prototype[c]=function(){return this.__filtered__?new qt(this):this[D](1)}}),qt.prototype.compact=function(){return this.filter(Ci)},qt.prototype.find=function(c){return this.filter(c).head()},qt.prototype.findLast=function(c){return this.reverse().find(c)},qt.prototype.invokeMap=Gt(function(c,h){return typeof c=="function"?new qt(this):this.map(function(D){return Hs(D,c,h)})}),qt.prototype.reject=function(c){return this.filter(Me(At(c)))},qt.prototype.slice=function(c,h){c=en(c);var D=this;return D.__filtered__&&(c>0||h<0)?new qt(D):(c<0?D=D.takeRight(-c):c&&(D=D.drop(c)),h!==n&&(h=en(h),D=h<0?D.dropRight(-h):D.take(h-c)),D)},qt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},qt.prototype.toArray=function(){return this.take(ne)},Si(qt.prototype,function(c,h){var D=/^(?:filter|find|map|reject)|While$/.test(h),O=/^(?:head|last)$/.test(h),Y=J[O?"take"+(h=="last"?"Right":""):h],X=O||/^find/.test(h);Y&&(J.prototype[h]=function(){var de=this.__wrapped__,ve=O?[1]:arguments,Se=de instanceof qt,Ze=ve[0],qe=Se||Jt(de),Qe=function(sn){var fn=Y.apply(J,mi([sn],ve));return O&&ht?fn[0]:fn};qe&&D&&typeof Ze=="function"&&Ze.length!=1&&(Se=qe=!1);var ht=this.__chain__,Ct=!!this.__actions__.length,Bt=X&&!ht,nn=Se&&!Ct;if(!X&&qe){de=nn?de:new qt(this);var Ht=c.apply(de,ve);return Ht.__actions__.push({func:Bf,args:[Qe],thisArg:n}),new Jr(Ht,ht)}return Bt&&nn?c.apply(this,ve):(Ht=this.thru(Qe),Bt?O?Ht.value()[0]:Ht.value():Ht)})}),or(["pop","push","shift","sort","splice","unshift"],function(c){var h=Ga[c],D=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",O=/^(?:pop|shift)$/.test(c);J.prototype[c]=function(){var Y=arguments;if(O&&!this.__chain__){var X=this.value();return h.apply(Jt(X)?X:[],Y)}return this[D](function(de){return h.apply(Jt(de)?de:[],Y)})}}),Si(qt.prototype,function(c,h){var D=J[h];if(D){var O=D.name+"";pn.call(Eu,O)||(Eu[O]=[]),Eu[O].push({name:h,func:D})}}),Eu[Hu(n,k).name]=[{name:"wrapper",func:n}],qt.prototype.clone=Qd,qt.prototype.reverse=op,qt.prototype.value=ku,J.prototype.at=Qs,J.prototype.chain=Hf,J.prototype.commit=Wl,J.prototype.next=Yf,J.prototype.plant=Gp,J.prototype.reverse=vw,J.prototype.toJSON=J.prototype.valueOf=J.prototype.value=Jp,J.prototype.first=J.prototype.head,Ka&&(J.prototype[Ka]=qp),J},bu=tw();pi?((pi.exports=bu)._=bu,xs._=bu):Nn._=bu}).call(zr)})(vv,vv.exports);var Ax=vv.exports;function Cy(e){const t=e.match(/^#+/);return t?t[0].length:0}function TD(e,t){const n=e.split(`
`);let r="",o=[],i=!1,a=1;for(let u=0;u<n.length;u++){const d=n[u];if(d.startsWith("#")&&/^#{1,6}\s/g.test(d)){if(i&&Cy(d)<=Cy(t))break;r=d,r===t?(i=!0,a=u+1):i&&Cy(d)>Cy(t)?o.push(d):(i=!1,o=[])}else i&&o.push(d)}return t?Ax.isEmpty(o)?{content:"",startLine:-1}:{content:o.join(`
`),startLine:a}:{content:e,startLine:0}}function Fx(e){const t={};for(const n of e)n.parent&&n.parent>0&&(t[n.position.start.line]=n.parent);return t}function E6(e,t,n){var g;const r={},o=(v,b)=>{for(;v[b]!==void 0&&v[b]!==b;)b=v[b];return b},i=vt.getState().app,a=n.split(`
`),u=t+a.length-1,d=(g=i.metadataCache.getFileCache(e))==null?void 0:g.listItems,f={};if(!d)return[];d.forEach(v=>{var T,I;const b=v.position.start.line,S=v.position.end.line;if(b>=t&&S<=u){const k=b-t,A=S-t,R=a.slice(k,A+1),j=R.join(`
`);if(v.parent&&v.parent>0&&(r[v.position.start.line]=v.parent),v.parent&&f[v.parent]){if(b-v.parent===1){const L=(T=a[k])==null?void 0:T.match(/^(\s*)/);L&&(f[v.parent].indent=L[0])}const B=new RegExp("^"+f[v.parent].indent);f[v.parent].content+=`
`+j.split(`
`).map(L=>L==null?void 0:L.replace(B,"")).join(`
`)}else if(v.parent&&f[o(r,v.parent)]){const B=new RegExp("^"+f[o(r,v.parent)].indent);f[o(r,v.parent)].content+=`
`+j.split(`
`).map(L=>L==null?void 0:L.replace(B,"")).join(`
`)}else if(new RegExp(c6).test(j)){f[b]||(f[b]={content:"",indent:""});const B=R.length>1&&((I=R[1])==null?void 0:I.match(/^(\s*)/));B&&(f[b].indent=B[0]),f[b].content=j.split(`
`).map(L=>L==null?void 0:L.replace(f[b].indent,"")).join(`
`)}}}),e.path.includes("2024-04-07");const m=Object.keys(f).map(v=>({line:f[v].content,index:parseInt(v)}));return e.path.includes("2024-04-07"),m}async function C6(e,t){let n=t.vault.getAbstractFileByPath(e);return n||(new C.Notice(E("File not found for the given thino path, is creating a new file")),n=await t.vault.create(e,'{"nodes": [], "edges": []}'),ft.setChangedByMemos(!0)),n}async function M6(e,t){var o;let n;try{n=await t.vault.read(e)}catch(i){console.error(i),n=await t.vault.cachedRead(e)}const r=(o=t.metadataCache.getFileCache(e))==null?void 0:o.frontmatterPosition;return r?n.slice(r.end.offset+1):n}function k6(e){const t=e.split(/\r?\n/),n=[];let r="",o=[],i=0;for(let a=0;a<t.length;a++){const u=t[a];u.startsWith("#")?(r&&n.push({header:r,content:o.join(`
`).trim(),pos:{start:i,end:a-1}}),r=u,o=[],i=a):o.push(u)}return r&&n.push({header:r,content:o.join(`
`).trim(),pos:{start:i,end:t.length-1}}),n}function N6(e){const t=e.split(/\r?\n/),n=[];let r=!1,o=[],i="";for(let a=0;a<t.length;a++){const u=t[a];u.startsWith("> [!thino]")?(r&&(n.push({metadata:i,content:o.join(`
`).trim()}),o=[]),r=!0,i=u.replace("> [!thino]","").trim()):r&&u.startsWith(">")?o.push(u.replace(/^> /,"")):r&&!u.startsWith(">")&&(r=!1,n.push({metadata:i,content:o.join(`
`).trim()}),o=[],i="")}return r&&n.push({metadata:i,content:o.join(`
`).trim()}),n}const A6=e=>{let t;switch(e){case" ":t="TASK-TODO";break;case"x":case"X":t="TASK-DONE";break;default:t="TASK-"+e;break}return t};async function F6(e,t){if(!t)return 0;const{vault:n}=Le.getState().dailyNotesState.app,r=e==null?void 0:e.DefaultMemoComposition,o=e!=null&&e.ProcessEntriesBelow&&(e==null?void 0:e.ProcessContentTarget)!=="whole"?e==null?void 0:e.ProcessEntriesBelow:"",i=(e==null?void 0:e.ProcessContentTarget)!=="whole"?e!=null&&e.DifferentInsertTarget?e!=null&&e.InsertAfterForTask?e==null?void 0:e.InsertAfterForTask:"":o:"";let a;try{a=await n.read(t)}catch(S){console.error(S),a=await n.cachedRead(t)}let u;r!=""&&/{TIME}/g.test(r)&&/{CONTENT}/g.test(r)?u="(-|\\*) (\\[(.{1})\\]\\s)?"+r.replace(/{TIME}/g,"((\\<time\\>)?\\d{1,2}:\\d{2}(\\:\\d{2})?)?").replace(/ {CONTENT}/g,""):u="(-|\\*) (\\[(.{1})\\]\\s)?((\\<time\\>)?\\d{1,2}\\:\\d{2}(\\:\\d{2})?)?";const d=new RegExp(u,"g"),f=(a.match(d)||[]).length,m=new RegExp(o.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g"),g=new RegExp(i.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g"),v=(a.match(m)||[]).length,b=(a.match(g)||[]).length;return a=null,v||b?f:0}function ID(e,t,n,r,o){var d,f,m;const i=lh(o,"day");let a;const u=E6(o,n,t);o.path.includes("2024-04-08");for(const g of u){const v=L6(e.DefaultMemoComposition,g.line),b=R6(e.DefaultMemoComposition,g.line),S=_6(g.line);let T=P6(g.line);if(i.hours(parseInt(v)),i.minutes(parseInt(b)),S&&i.seconds(parseInt(S)),!S&&i.seconds(0),/^\s*[-*]\s(\[(.)\])\s/g.test(g.line)){const U=B6(g.line);T=O6(e.DefaultMemoComposition,g.line),a=A6(U)}else a="JOURNAL";o.path.includes("2024-04-07");let I=T.trim().replaceAll(/<br>/g,`
`);const k=new RegExp(/\[(pinned|PINNED)::true\]/,"g").test(T),A=new RegExp(/\[(archived|ARCHIVED)::true\]/,"g").test(T),R=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").test(T),j=(d=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(T))==null?void 0:d[2],B=(f=new RegExp(/\[(webId|WEBID)::([^\]]*)\]/,"g").exec(T))==null?void 0:f[2],L=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(T)?"PUBLIC":"PRIVATE",z=(m=new RegExp(/(\s|^)\^([0-9a-zA-Z-]+)($|\n)/).exec(T))==null?void 0:m[2];o.path.includes("2024-04-07"),I=I.replace(/\s\[pinned::[^\]]+\]/g,"").replace(/\s\[visibility::[^\]]+\]/g,"").replace(/\s\[archived::[^\]]+\]/g,"").replace(/\s\[deleted::[^\]]+\]/g,"").replace(/\s\[webId::[^\]]+\]/g,"").replace(/(\s|^)\^([0-9a-zA-Z-]+)($|\n)/g,""),r.push({id:i.format("YYYYMMDDHHmmss")+`${g.index}`,content:I,createdAt:i.format("YYYY/MM/DD HH:mm:ss"),updatedAt:i.format("YYYY/MM/DD HH:mm:ss"),thinoType:a,hasId:z||"",linkId:"",path:o.path,deletedAt:R?C.moment(j,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",rowStatus:A?"ARCHIVED":"NORMAL",visibility:L,pinned:k,creatorName:"Memo",resourceList:[],sourceType:"DAILY",webId:B})}}function P6(e){return e.replace(/^(-|\*|\d\.) (\d{1,2}:\d{2}(:\d{2})?)\s(.*)/g,"$4")}function O6(e,t){return j6(e,t)}const j6=(e,t)=>{var o;let n;n="^(-|\\*|\\d\\.)\\s+\\[.\\]\\s(\\d{1,2}:\\d{2}(:\\d{2})?)\\s([\\w\\W]*)";const r=new RegExp(n,"");return t.contains(`
`),(o=r.exec(t))==null?void 0:o[4]},L6=(e,t)=>{var o;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\:\\d{2})?").replace(/{CONTENT}/g,"(.*)"):n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)",(o=new RegExp(n,"").exec(t))==null?void 0:o[6]},R6=(e,t)=>{var o;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\:\\d{2})?").replace(/{CONTENT}/g,"(.*)"):n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)",(o=new RegExp(n,"").exec(t))==null?void 0:o[7]},_6=e=>{var r;const t="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\d{1,2})\\:(\\d{2})\\:(\\d{2})(.*)";return(r=new RegExp(t,"").exec(e))==null?void 0:r[7]},B6=e=>{var t;return(t=/^\s*[\-\*]\s(\[(.{1})\])\s(.*)/.exec(e))==null?void 0:t[2]},Px=()=>Mm()?!0:(new C.Notice(E("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),!1);async function Ox(e,t){if(!e)return t;const n=Le.getState().dailyNotesState.app||window.app,r=await M6(e,n);let o=C.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss");await n.fileManager.processFrontMatter(e,i=>{if(i.id||(i.id=lt.randomId(16)),i.createdAt?o=C.moment(i.createdAt,"YYYY/MM/DD HH:mm:ss").isValid()?i.createdAt:o:i.createdAt=o,!r.trim())return t;const a=!!i.pinned,u=i.rowStatus&&i.rowStatus==="ARCHIVED",d=!!i.deletedAt,f=i.deletedAt?i.deletedAt:"",m=i.visibility?i.visibility:"PRIVATE",g=i.thinoType?i.thinoType:"JOURNAL",v=i.webId?i.webId:"",b=i.id?i.id:"",S=i.hasId?i.hasId:"",T=i.linkId?i.linkId:"",I=e.path,k="Memo",A="MULTI",R=[];return t.push({id:b,content:r,createdAt:o,updatedAt:o,deletedAt:d?C.moment(f,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:a,rowStatus:u?"ARCHIVED":"NORMAL",visibility:m,thinoType:g,hasId:S,linkId:T,path:I,creatorName:k,sourceType:A,resourceList:R,webId:v}),t})}async function Fb(e,t){var b,S,T,I,k,A;if(!e)return t;const{vault:n}=Le.getState().dailyNotesState.app||window.app;let r;try{r=await n.read(e)}catch(R){console.error(R),r=await n.cachedRead(e)}if(!r)return;const o=C.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss"),i=C.moment(e.stat.mtime).format("YYYY/MM/DD HH:mm:ss"),a=e.path,u="Thino",d="FILE",f="",m="",g=[],v=await k6(r);for(const R of v){const j=N6(R.content);for(const B of j){const L=B.metadata.match(/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2}/g);if(!L)continue;const z=(S=(b=B.metadata.match(/id::([^\]]*)/g))==null?void 0:b[0])==null?void 0:S.replace("id::","");if(!z)continue;const U=L?L[0]:o,W=L?L[0]:i,Z=B.metadata.match(/webId::([^\]]*)/g)?(I=(T=B.metadata.match(/webId::([^\]]*)/g))==null?void 0:T[0])==null?void 0:I.replace("webId::",""):"",re=B.metadata.contains("[pinned::true]"),Q=B.metadata.contains("[archived::true]"),ce=B.metadata.contains("[deleted::"),ee=(k=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(B.metadata))==null?void 0:k[2],fe=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(B.metadata)?"PUBLIC":"PRIVATE",$=(A=new RegExp(/\[(thinoType|THINOTYPE)::([^\]]*)\]/,"g").exec(B.metadata))==null?void 0:A[2];t.push({id:z,content:B.content,createdAt:U,updatedAt:W,deletedAt:ce?C.moment(ee,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:re,rowStatus:Q?"ARCHIVED":"NORMAL",visibility:fe,thinoType:$||"JOURNAL",hasId:f,linkId:m,path:a,creatorName:u,sourceType:d,resourceList:g,webId:Z})}}return t}async function jx(e,t){if(!e)return[];const n=Le.getState().dailyNotesState.settings,{vault:r}=Le.getState().dailyNotesState.app||window.app;if(await F6(n,e)===0)return;let i;try{i=await r.read(e)}catch(g){console.error(g),i=await r.cachedRead(e)}const{content:a,startLine:u}=TD(i,(n==null?void 0:n.ProcessContentTarget)==="whole"?"":n.ProcessEntriesBelow);let d="",f=0;if(n.DifferentInsertTarget&&(n==null?void 0:n.ProcessContentTarget)!=="whole"&&n.InsertAfterForTask&&!a.includes(n.InsertAfterForTask)){const{content:g,startLine:v}=TD(i,n.InsertAfterForTask);d=g,f=v}const m=[];ID(n,a,u,m,e),n.DifferentInsertTarget&&d&&ID(n,d,f,m,e),m.length!==0&&t.push(...m.sort((g,v)=>g.createdAt>v.createdAt?-1:1))}async function Lx(e,t){const n=Le.getState().dailyNotesState.app||app;if(!(e instanceof C.TFile))return;let r;try{r=await n.vault.read(e)}catch(a){console.error(a),r=await n.vault.cachedRead(e)}if(!r)return;const o=JSON.parse(r),i=o==null?void 0:o.nodes;for(const a of i){if(a.type==="group"||a.createdAt===void 0||a.text.trim()==="")continue;const u=C.moment(a==null?void 0:a.createdAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),d=C.moment(a==null?void 0:a.updatedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),f=a!=null&&a.deletedAt?C.moment(a==null?void 0:a.deletedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",m=!!(a!=null&&a.pinned),g=a!=null&&a.archived?"ARCHIVED":"NORMAL",v=a!=null&&a.visibility?a==null?void 0:a.visibility:"PRIVATE",b=a!=null&&a.thinoType?a==null?void 0:a.thinoType:"JOURNAL",S=a!=null&&a.text?a==null?void 0:a.text:"",T=a!=null&&a.id?a==null?void 0:a.id:"",I=a!=null&&a.hasId?a==null?void 0:a.hasId:"",k=a!=null&&a.linkId?a==null?void 0:a.linkId:"",A=e.path,R="Memo",j="CANVAS",B=[],L=a!=null&&a.webId?a==null?void 0:a.webId:void 0;t.push({id:T,content:S,createdAt:u,updatedAt:d,deletedAt:f,pinned:m,rowStatus:g,visibility:v,thinoType:b,hasId:I,linkId:k,path:A,creatorName:R,sourceType:j,resourceList:B,webId:L})}}async function xD(e=[]){const t=[],n=[],r=Le.getState().dailyNotesState.app||app,{vault:o}=r,{settings:i}=Le.getState().dailyNotesState,a=r.loadLocalStorage("tokenForSync"),u=async(d,f)=>{for(const m of d)try{await f(m,t)}catch(g){console.error(g),new C.Notice(g)}};if(e.includes("CANVAS")){const d=H6(o);await u(d,Lx)}if(e.includes("MULTI")){const d=Y6(o,i);await u(d,Ox)}if(e.includes("DAILY")){const d=await U6(o);await u(d,jx)}if(e.includes("FILE")||a){const d=z6(o);await u(d,Fb)}return{memos:t,commentMemos:n}}function H6(e){return e.getAllLoadedFiles().filter(t=>t instanceof C.TFile&&t.extension==="canvas"&&t.name.includes(".thino"))}function Y6(e,t){return e.getMarkdownFiles().filter(n=>{var r,o;return n instanceof C.TFile&&((r=n.parent)==null?void 0:r.path.includes(t.MemoOtherSaveLocation.MemoDefaultMultiFilePath.trim()))&&!((o=n.path)!=null&&o.endsWith("thino.md"))})}async function U6(e){const t=e0();t===void 0&&new C.Notice(E("Please check your daily note plugin OR periodic notes plugin settings")+"folder path is empty or undefined"),e.getAbstractFileByPath(C.normalizePath(t))||new C.Notice(E("Failed to find daily notes folder"));const r=su();return Object.values(r).filter(o=>o instanceof C.TFile&&o.extension==="md")}function z6(e){return e.getMarkdownFiles().filter(t=>t instanceof C.TFile&&t.name.trim().includes("thino"))}const V6=async(e,t,n)=>{const r=await Mh(Le.getState().dailyNotesState.app)||[],o=r.find(u=>u.id===e),i={...o,title:t,querystring:n},a=r.findIndex(u=>u.id===e);return r[a]=i,await eg(Le.getState().dailyNotesState.app,r),[o]},W6="https://api.thino.pkmer.cn/test",kh=W6,Z6="unknown",$6=/!\[(?<content>[^\]]+)\]\((?<link>[^)]+)\)/g;function q6(e){return e.substring(e.lastIndexOf(".")+1)}function G6(e){return{id:e.id,createdAt:Date.now().toString(),filename:e.id,type:`${q6(e.id)}`,size:e.size.toString()}}function J6(e){const t=e==null?void 0:e.matchAll($6);return t?Array.from(t).map(n=>{var r;return G6({url:(r=n.groups)==null?void 0:r.link,id:Z6,size:0,mtime:""})}).filter(n=>n.type!="html"):[]}function tg(e){var t;return{id:e.id,createdAt:C.moment(e.ctime.toString(),"x").format("YYYY/MM/DD HH:mm:ss"),updatedAt:C.moment(e.mtime.toString(),"x").format("YYYY/MM/DD HH:mm:ss"),deletedAt:(t=e.ttime)!=null&&t.toString()?C.moment(e.ttime.toString(),"x").format("YYYY-MM-DD HH:mm:ss"):"",rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,resourceList:J6(e.content),creatorName:"thino",sourceType:(e==null?void 0:e.thinoType)||"FILE",visibility:"PUBLIC",localId:e.originalId,deleted:!!e.dtime}}async function K6(e){const n={url:`${kh}/thino/getThinos${e?`?since=${e}&includeDeleted=true`:""}`,method:"GET",headers:{Authorization:`Bearer ${Nh()}`}};return C.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to fetch memos: ${r.status}`);try{return r.json.payload.map(i=>tg(i))}catch(o){console.error(`Error processing memo response: ${o}`)}}).catch(r=>(console.error(r),[]))}function Nh(){const e=Le.getState().dailyNotesState.app||app;return(e==null?void 0:e.loadLocalStorage("tokenForSync"))||""}async function C1(e){const t=`${kh}/thino/createThino`,n={content:e.content,thinoType:(e==null?void 0:e.thinoType)||"FILE",pinned:!1,rowStatus:"NORMAL",encrypted:!1},r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${Nh()}`}};return C.requestUrl(r).then(o=>{o.status>=400&&console.error(`Failed to create memo: ${o.status}`);try{const i=o.json;return tg(i.payload)}catch(i){console.error(`Error processing memo creation response: ${i}`)}}).catch(o=>(console.error(o),null))}function Q6(e){return{id:e.id,ctime:C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").valueOf(),mtime:C.moment(e.updatedAt,"YYYY/MM/DD HH:mm:ss").valueOf(),ttime:e.deletedAt?C.moment(e.deletedAt,"YYYY/MM/DD HH:mm:ss").valueOf():void 0,rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,encrypted:!1,thinoType:e.sourceType==="DAILY"?"DAILY":"FILE",tags:[]}}async function X6(e){const t=`${kh}/thino/createThinosByData`,n=e.map(o=>Q6(o)),r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${Nh()}`}};return C.requestUrl(r).then(o=>{o.status>=400&&console.error(`Failed to create thinos: ${o.status}`);try{return o.json.payload.map(u=>tg(u))}catch(i){console.error(`Error processing thinos creation response: ${i}`)}}).catch(o=>(console.error(o),[]))}async function Rw(e){const n={url:`${kh}/thino/updateThinoById/${e.id}`,method:"POST",contentType:"application/json",body:JSON.stringify(e),headers:{Authorization:`Bearer ${Nh()}`}};return C.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to update memo: ${r.status}`);try{const o=r.json;return tg(o.payload)}catch(o){console.error(`Error processing memo update response: ${o}`)}}).catch(r=>(console.error(r),null))}async function Rx(e){const n={url:`${kh}/thino/recoverThinoFromTrash/${e}`,method:"POST",headers:{Authorization:`Bearer ${Nh()}`}};return C.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to recover memo: ${r.status}`);try{const o=r.json;return tg(o.payload)}catch(o){console.error(`Error processing memo recovery response: ${o}`)}}).catch(r=>(console.error(r),null))}async function e8(e){const n={url:`${kh}/thino/deleteThinoById/${e}`,method:"DELETE",headers:{Authorization:`Bearer ${Nh()}`}};return C.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to delete memo: ${r.status}`)}).catch(r=>(console.error(r),null))}function t8(e){return(e==null?void 0:e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))||e}function n8(e){const t=[];let n=e;for(;n.contains(`
`);){const r=n.indexOf(`
`);t.push(n.slice(0,r)),n=n.slice(r+1)}return t.push(n),t}async function r8({content:e,isList:t,name:n}){const r=Le.getState().dailyNotesState.settings,o=C.moment(),i=lt.randomId(16),a=(r==null?void 0:r.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",u=n||`${o.format("YYYYMMDD")}-${i}`,d=`${a}/${u}.md`,f={id:i,content:e,deletedAt:"",path:d,createdAt:o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:o.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"MULTI"},m=vt.getState().app,{vault:g,fileManager:v}=m,b=g.getAbstractFileByPath(a);(!b||!(b instanceof C.TFolder))&&(new C.Notice(E("Folder not found for the given thino path, is creating a new folder")),await g.createFolder(a)),ft.setChangedByMemos(!0);let S;const T=m.vault.getFileByPath(d);return T?S=await g.create(`${a}/${o.format("YYYYMMDD")}-${i}.md`,e):S=await g.create(d,e),await v.processFrontMatter(S,I=>{I.id=i,I.createdAt=o.format("YYYY/MM/DD HH:mm:ss"),I.updatedAt=o.format("YYYY/MM/DD HH:mm:ss"),I.thinoType=t?"JOURNAL":"TASK-TODO"}),(!n||T)&&(r!=null&&r.SetFileNameAfterCreate)&&m.fileManager.promptForFileRename(S),f}async function o8({content:e,isList:t}){const n=Le.getState().dailyNotesState.settings,r=C.moment(),o=lt.randomId(16),i=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",a={id:o,content:e,deletedAt:"",path:i,createdAt:r.format("YYYY/MM/DD HH:mm:ss"),updatedAt:r.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE"},u=vt.getState().app,{vault:d}=u;let f=d.getAbstractFileByPath(i);(!f||!(f instanceof C.TFile))&&(new C.Notice(E("File not found for the given thino path, is creating a new file")),f=await d.create(i,""));let m="";try{m=await d.read(f)||await d.cachedRead(f)}catch(k){console.error(k),new C.Notice(E("Failed to read current daily note, check if it exists."))}const g=m.indexOf(`# ${r.format("YYYY-MM-DD")}`);let v=m.indexOf(`
#`,g+1);v===-1&&(v=m.length);const b=`> [!thino] ${r.format("YYYY/MM/DD HH:mm:ss")} %% [id::${o}] [thinoType::${t?"JOURNAL":"TASK-TODO"}] %%`,S=e.replace(/\n/g,`
> `),T=`
${b}
> ${S}
`;let I;if(g===-1){const k=`# ${r.format("YYYY-MM-DD")}`;I=`${m.substring(0,v)}
${k}${T}
${m.substring(v)}`}else I=`${m.substring(0,v)}${T}${m.substring(v)}`;return setTimeout(async()=>{ft.setChangedByMemos(!0),await d.modify(f,I)},200),a}async function ED(e){const t=Le.getState().dailyNotesState.settings,n=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),r=e.id,o=(t==null?void 0:t.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",i={id:r,content:e.content,deletedAt:e.deletedAt||"",path:o,createdAt:n.format("YYYY/MM/DD HH:mm:ss"),updatedAt:n.format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",hasId:"",linkId:"",pinned:e.pinned,visibility:"PUBLIC",rowStatus:e.rowStatus||"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE",webId:e.id},a=vt.getState().app,{vault:u}=a;let d=u.getAbstractFileByPath(o);(!d||!(d instanceof C.TFile))&&(new C.Notice(E("File not found for the given thino path, is creating a new file")),d=await u.create(o,""));let f="";try{f=await u.read(d)||await u.cachedRead(d)}catch(I){console.error(I),new C.Notice(E("Failed to read current daily note, check if it exists."))}const m=f.indexOf(`# ${n.format("YYYY-MM-DD")}`);let g=f.indexOf(`
#`,m+1);g===-1&&(g=f.length);const v=`> [!thino] ${n.format("YYYY/MM/DD HH:mm:ss")} %% [id::${r}] [thinoType::JOURNAL]${e.rowStatus==="ARCHIVED"?" [archived::true]":""}${e.pinned===!0?" [pinned::true]":""}${e.deletedAt?` [deleted::${e.deletedAt}]`:""}${e.id?` [webId::${e.id}]`:""}  %%`,b=e.content.replace(/\n/g,`
> `),S=`
${v}
> ${b}
`;let T;if(m===-1){const I=`# ${n.format("YYYY-MM-DD")}`;T=`${f.substring(0,g)}
${I}${S}
${f.substring(g)}`}else T=`${f.substring(0,g)}${S}${f.substring(g)}`;return ft.setChangedByMemos(!0),await u.modify(d,T),i}async function i8({content:e,isList:t}){const n=Le.getState().dailyNotesState.settings,r=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultCanvasPath)||"basic.thino.canvas",o=C.moment(),i=lt.randomId(16),a={id:i,content:e,deletedAt:"",path:r,createdAt:o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:o.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"CANVAS"},u=vt.getState().app,{vault:d}=u,f=await C6(r,u);if(!f||!(f instanceof C.TFile)){new C.Notice(E("File not found for the given thino path, is creating a new file"));return}const m=await d.read(f),g=JSON.parse(m);if(g.nodes.find(I=>I.id===a.id))return;let b;g.nodes.length>0&&(b=[...g.nodes].reduce((I,k)=>{if(!I.createdAt)return k;const A=C.moment(I.createdAt,"YYYY/MM/DD HH:mm:ss"),R=C.moment(k.createdAt,"YYYY/MM/DD HH:mm:ss");return A.isAfter(R)?I:k}));const S=b?{x:b.x,y:b.y+100,width:b.width,height:b.height}:{x:0,y:0,width:200,height:100};g.nodes.push({...S,type:"text",id:i,text:e,deletedAt:"",createdAt:o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:o.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[]}),ft.setChangedByMemos(!0);const T=JSON.stringify(g,null,2);return await d.modify(f,T),a}async function CD(e,t,n){var Z;const{vault:r}=Le.getState().dailyNotesState.app||app,o=Le.getState().dailyNotesState.app||app,i=Le.getState().dailyNotesState.settings,a=o.vault.getConfig("useTab")===void 0||app.vault.getConfig("useTab")===!0,u=a?1:o.vault.getConfig("tabSize"),d=(a?"	":" ").repeat(u),f=e.split(`
`).join(`
`+d),m=n||C.moment(),{DifferentInsertTarget:g,InsertAfterForTask:v,InsertType:b}=i,S=m.format(i.DefaultTimePrefix||"HH:mm"),T=o==null?void 0:o.loadLocalStorage("tokenForSync");let I="";try{e&&T&&i.startSync&&(I=(await C1({content:e,thinoType:"DAILY"})).id)}catch(re){console.error(re)}const k=t?"- ":"- [ ] ",A=i!=null&&i.DefaultMemoComposition?`${k}${(Z=i==null?void 0:i.DefaultMemoComposition)==null?void 0:Z.replace(/{TIME}/g,S).replace(/{CONTENT}/g,(f.split(`
`).length>1||/^(-|\*|\d\.|>)\s/g.test(f)?`
`+d:"")+f)}${I?` [webId::${I}]`:""}`:`${k}${S} ${f.split(`
`).length>1||/^(-|\*|\d\.|>)\s/g.test(f)?`
`+d:""}${f}${I?` [webId::${I}]`:""}`,R=su(),j=Xv(m,R);let B;if(j?B=j:B=await lt.createDailyNoteCheck(m),!B){new C.Notice(E("Failed to create daily note, check if it exists."));return}j||await vt.fechLocalDailyNotes();let L="";try{L=await r.read(B)||await r.cachedRead(B)}catch(re){console.error(re),new C.Notice(E("Failed to read current daily note, check if it exists."))}const z=b==="end"?"":t?i.InsertAfter:g&&v||i.InsertAfter,U=await _x(z,A,L);await r.modify(B,U.content);const W=U.posNum===-1?Bx(U.content).length-(A.split(`
`).length-1)-1:U.posNum+1;return ft.setChangedByMemos(!0),{id:m.format("YYYYMMDDHHmm")+"00"+W,content:e,deletedAt:"",createdAt:m.format("YYYY/MM/DD HH:mm:ss"),updatedAt:m.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",path:B.path,hasId:"",linkId:"",webId:I,pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"DAILY"}}async function a8(e){const{vault:t}=Le.getState().dailyNotesState.app??app,n=Le.getState().dailyNotesState.app||app,{DefaultMemoComposition:r,InsertAfter:o,DefaultTimePrefix:i,DifferentInsertTarget:a,InsertAfterForTask:u,InsertType:d}=Le.getState().dailyNotesState.settings;let f=(e.pinned?" [pinned::true]":"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.visibility==="PRIVATE"?' [visibility::"PRIVATE"]':"");if(e.id){const Z=" [webId::"+e.id+"]";f+=Z}const m=C.moment();if(e.deletedAt){const Z=" [deleted::"+m.format("YYYYMMDDHHmmss")+"]";f+=Z}const g=n.vault.getConfig("useTab")===void 0||app.vault.getConfig("useTab")===!0,v=g?1:n.vault.getConfig("tabSize"),b=(g?"	":" ").repeat(v),S=e.content.split(`
`).join(`
`+b),T=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),I=T.format(i||"HH:mm"),k=e.thinoType?"- [ ] ":"- ",A=r?`${k}${r==null?void 0:r.replace(/{TIME}/g,I).replace(/{CONTENT}/g,(S.split(`
`).length>1?`
`+b:"")+S)}${f}`:`${k}${I} ${S.split(`
`).length>1?`
`+b:""}${S}${f}`,R=su(),j=Xv(T,R);let B;if(j?B=j:B=await lt.createDailyNoteCheck(T),!B){new C.Notice(E("Failed to create daily note, check if it exists.")),new C.Notice(E("Your content has been copied to clipboard, and inserted into the editor. Please try it again")),await navigator.clipboard.writeText(e.content);const Z=this.app.workspace.getLeavesOfType("thino_view").first();n.workspace.trigger("send-to-thino",e.content,Z);return}j||await vt.fechLocalDailyNotes();let L="";try{L=await t.read(B)||await t.cachedRead(B)}catch(Z){console.error(Z),new C.Notice(E("Failed to read current daily note, check if it exists."))}const z=d==="end"?"":e.thinoType&&a&&u||o,U=await _x(z,A,L);await t.modify(B,U.content);const W=U.posNum===-1?Bx(U.content).length-1:U.posNum+1;return ft.setChangedByMemos(!0),{id:T.format("YYYYMMDDHHmm")+"00"+W,content:e.content,deletedAt:e.deletedAt??"",createdAt:T.format("YYYY/MM/DD HH:mm:ss"),updatedAt:T.format("YYYY/MM/DD HH:mm:ss"),thinoType:e.thinoType??"JOURNAL",path:B.path,hasId:"",linkId:"",pinned:e.pinned??!1,visibility:"PUBLIC",rowStatus:e.rowStatus??"NORMAL",webId:e.id,creatorName:"Thino",resourceList:[],sourceType:"DAILY"}}async function _x(e,t,n){const r=new RegExp(`s*${await t8(e)}s*`),o=n8(n),i=o.findIndex(f=>r.test(f)),a=(e==null?void 0:e.trim())===""?!0:i===-1;a&&console.error("unable to find insert after line in file.");const u=o.slice(i+1).findIndex(f=>/^#+ |---/.test(f)),d=u!==-1;if(d){let f;for(let m=u+i;m>i;m--)if(!/^[\s\n ]*$/.test(o[m])){f=m;break}return f||(f=i),await MD(t,n,a?-1:f,d)}else return await MD(t,n,o.length-1,d)}async function MD(e,t,n,r){if(n<-1)throw new Error("Invalid position");if(n===-1)return{content:`${t}
${e}`,posNum:-1};const o=t.split(`
`),i=o.slice(0,n+1).join(`
`),a=o.slice(n+1).join(`
`),u=a.trim().length>0;return{content:`${i}${!u&&!r||!i.endsWith(`
`)?`
`:""}${e}${(u||r?`
`:"")+a}`,posNum:n}}const Bx=e=>e.split(/\r?\n/);async function s8(e){const t=Le.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof C.TFile)){new C.Notice(E("File not found for the given thino path"));return}await t.vault.delete(n)}async function l8(e){const t=Le.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof C.TFile)){new C.Notice(E("File not found for the given thino path"));return}const o=(await t.vault.read(n)).split(`
`),i=o.findIndex(d=>d.includes(e.id));if(i===-1){new C.Notice(E("Thino not found"));return}const a=o.findIndex((d,f)=>f>i&&d.trim()==="");a===-1?o.splice(i,o.length-i):o.splice(i,a-i);const u=o.join(`
`);if(!u){new C.Notice(E("Thino not found"));return}ft.setChangedByMemos(!0),await t.vault.modify(n,u)}async function u8(e){const t=Le.getState().dailyNotesState.app,n=t.metadataCache.getFirstLinkpathDest("",e.path);if(!n){new C.Notice(E("File not found for the given thino path"));return}const r=await t.vault.read(n),o=JSON.parse(r),i=o.nodes,a=i.findIndex(m=>m.id===e.id);if(a===-1){new C.Notice(E("Thino not found"));return}i.splice(a,1);const u=o.edges;u.filter(m=>m.fromNode===e.id||m.toNode===e.id).forEach(m=>{const g=u.findIndex(v=>v.id===m.id);g!==-1&&u.splice(g,1)}),ft.setChangedByMemos(!0);const f=JSON.stringify(o,null,2);await t.vault.modify(n,f)}async function c8(e){Px()||new C.Notice(E("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."),5e3);const{vault:t,metadataCache:n}=Le.getState().dailyNotesState.app,r=e.id.toString().slice(0,14),o=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(C.moment(r,"YYYYMMDDHHmmss"))?C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"):C.moment(r,"YYYYMMDDHHmmss");C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(o,"day");const i=e.path,a=t.getAbstractFileByPath(i);if(!a){new C.Notice(E("Please check your daily note plugin OR periodic notes plugin settings"));return}const u=await t.read(a),d=u.split(`
`),f=n.getFileCache(a),m=(f==null?void 0:f.listItems)||[],g=parseInt(e.id.slice(14));let v=g;function b(k,A){let R=[];for(const j in A)A[j]===k&&R.push(parseInt(j),...b(parseInt(j),A));return R}const S=Fx(m),T=m.find(k=>k.position.start.line===g),I=b(g,S);if(I.length>0){const k=I.map(A=>{const R=m.find(j=>j.position.start.line===A);return R?R.position.end.line:-1});v=Math.max(...k,T.position.end.line)}else v=T.position.end.line;if(!u){new C.Notice(E("Thino not found"));return}ft.setChangedByMemos(!0),d.splice(g,v-g+1),await t.modify(a,d.join(`
`))}async function d8(){const{vault:e,metadataCache:t}=Le.getState().dailyNotesState.app,n=Le.getState().dailyNotesState.settings,o=e0()+"/"+n.DeleteFileName+".md",i=[],a=t.getFirstLinkpathDest("",o);if(a instanceof C.TFile){let u=await e.read(a),d=f8(u);if(d.length===0)return i;for(let f=0;f<d.length;f++){const m=d[f];if(/- /.test(m)){const v=h8(m).slice(0,13),b=C.moment(v,"YYYYMMDDHHmmss"),S=m8(d[f]),T=C.moment(S.slice(0,13),"YYYYMMDDHHmmss"),I=p8(d[f]);i.push({id:S,content:I,user_id:1,createdAt:b.format("YYYY/MM/DD HH:mm:SS"),updatedAt:b.format("YYYY/MM/DD HH:mm:SS"),deletedAt:T})}else continue}d=null,u=null}return i}const f8=e=>e.split(/\r?\n/),h8=e=>{var t;return(t=/^- (\d{14})(\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[1]},p8=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[2]},m8=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[4]};async function g8(e){const t=await Mh(Le.getState().dailyNotesState.app)||[],n=t.findIndex(r=>r.id===e);t.splice(n,1),await eg(Le.getState().dailyNotesState.app,t)}const y8=async e=>{const{app:t}=Le.getState().dailyNotesState,n=await Mh(t)||[],r=n.find(o=>o.id===e);if(r){const o=C.moment().format("YYYY/MM/DD HH:mm:ss");return r.pinnedAt=o,await eg(t,n),o}else{new C.Notice(E("Query not found"));return}},v8=async e=>{const{app:t}=Le.getState().dailyNotesState,n=await Mh(t)||[],r=n.find(o=>o.id===e);if(r){r.pinnedAt="",await eg(t,n);return}else{new C.Notice(E("Query not found"));return}};function w8(e,t){const n=/%%(.*?)%%/,r=e.match(n);if(!r)return e;const o=r[1].trim(),i={};o.split(" ").forEach(u=>{const[d,f]=u.slice(1,-1).split("::");i[d]=f});for(const u of Object.keys(t))if(u!=="id"&&u!=="content"){if(u==="rowStatus"&&t.rowStatus==="ARCHIVED"){i.archived="true";continue}else if(u==="rowStatus"&&t.rowStatus==="NORMAL"){delete i.archived;continue}if(u==="deleted"&&t.deleted){const d=C.moment().format("YYYYMMDDHHmmss");i.deleted=d}else typeof t[u]=="boolean"?t[u]?i[u]="true":delete i[u]:t[u]&&(i[u]=t[u])}const a=Object.entries(i).map(([u,d])=>`[${u}::${d}]`).join(" ");return e.replace(n,`%% ${a} %%`)}async function ds(e,t){if(!e.sourceType||e.sourceType!=="MULTI")return e;const{vault:n,fileManager:r}=Le.getState().dailyNotesState.app,o=n.getAbstractFileByPath(e.path);if(!o)return e;const i=C.moment();if(await r.processFrontMatter(o,a=>{(t.pinned!==void 0||t.thinoType||t.rowStatus||t.visibility||t.deleted)&&ft.setChangedByMemos(!0),t.id&&(a.id=t.id),t.thinoType&&(a.thinoType=t.thinoType),t.rowStatus&&(a.rowStatus=t.rowStatus),t.visibility&&(a.visibility=t.visibility),t.webId&&(a.webId=t.webId),t.pinned!==void 0&&(a.pinned=t.pinned),t.deleted!==void 0&&(a.deletedAt=t.deleted?i.format("YYYY/MM/DD HH:mm:ss"):""),a.createdAt||(a.createdAt=i.format("YYYY/MM/DD HH:mm:ss")),a.updatedAt=i.format("YYYY/MM/DD HH:mm:ss")}),t.content){const a=await n.read(o);let u=a;const d=t.content.replace(/\$/g,"$$$$");u=a.replace(e.content,d),await n.modify(o,u)}return ft.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||i.format("YYYY/MM/DD HH:mm:ss"),updatedAt:e.updatedAt,content:t.content||e.content,rowStatus:t.rowStatus||e.rowStatus,visibility:t.visibility||e.visibility,pinned:t.pinned!==void 0?t.pinned:e.pinned,webId:t.webId||e.webId,deletedAt:t.deleted?i.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function ol(e,t){if(!e.sourceType||e.sourceType!=="FILE")return e;const{vault:n}=Le.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const o=C.moment();let i="";try{i=await n.read(r)}catch(k){console.error(k),i=await n.cachedRead(r)}const a=i.split(/\r?\n/),u=a.findIndex(k=>k.includes(e.id)||e.webId&&k.includes(e.webId)),d=a[u];if(!d)return e;const f=w8(d,t);if(!d)return e;const m=f+`
`,g=a.findIndex((k,A)=>A>u&&k.trim()==="");let v="";g===-1&&(v=a.slice(u+1).join(`
`)),g!==-1&&(v=a.slice(u+1,g).join(`
`));let b=v;t!=null&&t.content&&(b=t.content.split(/\r?\n/).map(j=>"> "+j).join(`
`));const T=(m+b).split(/\r?\n/);a.splice(u,g?g-u:a.length-u,...T);const I=a.join(`
`);return await n.modify(r,I),ft.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:e.updatedAt,content:t.content||e.content,rowStatus:t.rowStatus||e.rowStatus,visibility:t.visibility||e.visibility,pinned:t.pinned!==void 0?t.pinned:e.pinned,webId:t.webId||e.webId,deletedAt:t.deleted?o.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function il(e,t){if(!e.sourceType||e.sourceType!=="CANVAS")return e;const{vault:n}=Le.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const o=await n.read(r),i=JSON.parse(o),a=i.nodes.find(f=>f.id===e.id);if(!a)return e;t.content&&(a.text=t.content),t.thinoType&&(a.thinoType=t.thinoType),t.rowStatus&&(a.rowStatus=t.rowStatus),t.visibility&&(a.visibility=t.visibility),t.pinned!==void 0&&(a.pinned=t.pinned),t.webId&&(a.webId=t.webId);const u=C.moment();t.deleted!==void 0&&(a.deletedAt=t.deleted?u.format("YYYY/MM/DD HH:mm:ss"):""),a.updatedAt=u.format("YYYY/MM/DD HH:mm:ss");const d=JSON.stringify(i,null,2);return await n.modify(r,d),ft.setChangedByMemos(!0),{...e,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt,updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?u.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function al(e,t){var ce;Px()||new C.Notice(E("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."));const{vault:n,metadataCache:r}=Le.getState().dailyNotesState.app,o=Le.getState().dailyNotesState.app,{settings:i}=Le.getState().dailyNotesState,a=e.id.toString().slice(0,14),u=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(C.moment(a,"YYYYMMDDHHmmss"))?C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"):C.moment(a,"YYYYMMDDHHmmss"),d=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(u,"day"),f=e.path,m=n.getAbstractFileByPath(f)||n.getAbstractFileByPath(e.path);if(!m)return new C.Notice(E("Please check your daily note plugin OR periodic notes plugin settings")),e;const v=(await n.read(m)).split(`
`),b=r.getFileCache(m),S=(b==null?void 0:b.listItems)||[];if(S.length===0)return new C.Notice(E("Thino not found")),e;const T=parseInt(e.id.slice(14));let I=T;function k(ee,fe){let $=[];for(const le in fe)fe[le]===ee&&$.push(parseInt(le),...k(parseInt(le),fe));return $}const A=Fx(S),R=S.find(ee=>ee.position.start.line===T);if(!R)return new C.Notice(E("Thino not found")),e;const j=k(T,A);if(j.length>0){const ee=j.map(fe=>{const $=S.find(le=>le.position.start.line===fe);return $?$.position.end.line:-1});I=Math.max(...ee,R.position.end.line)}else I=R.position.end.line;const B=v.slice(T,I+1);let L=B.join(`
`);const z=d?C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm"):(parseInt(e.id.toString().slice(10,12))+24).toString()+":"+e.id.toString().slice(12,14);if(!L)return new C.Notice(E("Thino not found")),e;const U=o.vault.getConfig("useTab")===void 0||app.vault.getConfig("useTab")===!0,W=U?1:o.vault.getConfig("tabSize"),Z=(U?"	":" ").repeat(W);let re=z;if(i.DefaultTimePrefix!=="HH:mm"&&(re=C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format(i.DefaultTimePrefix)),t.content){const ee=e.thinoType==="TASK-TODO"?"- [ ] ":e.thinoType==="TASK-DONE"?"- [x] ":e.thinoType.startsWith("TASK")?`- [${e.thinoType.slice(5)}] `:"- ",fe=(e.pinned?" [pinned::true]":"")+(e.deletedAt?` [deleted::${e.deletedAt}]`:"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.webId?" [webId::"+e.webId+"]":""),$=t.content.trim().split(`
`)[t.content.trim().split(`
`).length-1].trim(),le=e.hasId&&t.content.trim().split(`
`).length>1&&new RegExp(/(-|\*|\d{1,2}\.)\s/g).test($)?" ^"+e.hasId:" ";L=`${ee}${re}${le}${t.content.trim().split(`
`).length>1?`
`+Z:""}${t.content.trim().split(`
`).join(`
`+Z)} ${fe}`}if(t.thinoType){const ee=t.thinoType==="TASK-TODO"?"- [ ] ":t.thinoType==="TASK-DONE"?"- [x] ":t.thinoType.startsWith("TASK")?`- [${t.thinoType.slice(5)}] `:"- ";L=L.replace(/^((- \[.\] )|((-|\*) ))/,ee)}if(t.rowStatus){const ee=t.rowStatus==="ARCHIVED"?"[archived::"+(t.rowStatus==="ARCHIVED"?"true":"false")+"]":"";L=L.includes("[archived::")?L.replace(/\[archived::(true|false)\]/,ee):L+" "+ee}if(t.visibility){const ee='[visibility::"'+t.visibility+'"]';L=L.includes("[visibility::")?L.replace(/\[visibility::"(PUBLIC|PROTECTED)"\]/g,ee):L+" "+ee}if(t.pinned!==void 0){const ee=t.pinned?"[pinned::"+(t.pinned?"true":"false")+"]":"";L=L.includes("[pinned::")?L.replace(/\[pinned::(true|false)\]/,t.pinned===!1?"":ee):L+" "+ee}if(t.webId!==void 0){const ee="[webId::"+t.webId+"]";L=L.includes("[webId::")?L.replace(/\[webId::([^\]]+)\]/,t.webId===""?"":ee):L+" "+ee}const Q=C.moment();if(t.deleted!==void 0){const ee="[deleted::"+Q.format("YYYYMMDDHHmmss")+"]";t.deleted?(L=L.replace(/\[deleted::([^\]]+)\]/,""),L=L+" "+ee):t.deleted===!1&&(L=L.replace(/\[deleted::([^\]]+)\]/,""))}if(e.hasId&&((ce=t.content)==null?void 0:ce.split(`
`).length)===1){const ee=" ^"+e.hasId;L=L.trim().replace(/\s\^([0-9a-zA-Z-]+)($|\n)/g,"")+" "+ee}return L!==B.join(`
`)?(v.splice(T,I-R.position.start.line+1,L),await n.modify(m,v.join(`
`)),ft.setChangedByMemos(!0),{...e,thinoType:t.thinoType??e.thinoType,createdAt:e.createdAt,updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?Q.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}):e}const b8=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return il(e,{id:e.id,pinned:!0});case"DAILY":return al(e,{id:e.id,pinned:!0});case"MULTI":return ds(e,{id:e.id,pinned:!0});case"FILE":return ol(e,{id:e.id,pinned:!0})}},S8=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return il(e,{id:e.id,pinned:!1});case"DAILY":return al(e,{id:e.id,pinned:!1});case"MULTI":return ds(e,{id:e.id,pinned:!1});case"FILE":return ol(e,{id:e.id,pinned:!1})}};var Pb;(e=>{async function t(T){return await xD(T)}e.getMyMemos=t;async function n(T){return await xD([T])}e.updateSpecificTypeMemo=n;function r(){return d8()}e.getMyDeletedMemos=r;function o(T){const I=Re.getMemoById(T);if(I)switch(I==null?void 0:I.sourceType){case"DAILY":return al(I,{id:I.id,deleted:!1});case"CANVAS":return il(I,{id:I.id,deleted:!1});case"MULTI":return ds(I,{id:I.id,deleted:!1});case"FILE":return ol(I,{id:I.id,deleted:!1})}}e.restoreMemo=o;function i(T){return l8(T)}e.deleteMemoInSingleFile=i;function a(T){return s8(T)}e.deleteMemoInMultiFiles=a;function u(T){return c8(T)}e.deleteMemoInDailyNote=u;function d(T){return u8(T)}e.deleteMemoInCanvas=d;function f(){return T6()}e.getMyQueries=f;async function m(T,I){return await x6(T,I)}e.createQuery=m;function g(T,I,k){return V6(T,I,k)}e.updateQuery=g;function v(T){return g8(T)}e.deleteQueryById=v;function b(T){return y8(T)}e.pinQuery=b;function S(T){return v8(T)}e.unpinQuery=S})(Pb||(Pb={}));const ki=Pb;var lu={};Object.defineProperty(lu,"__esModule",{value:!0});class Od extends Error{}class D8 extends Od{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class T8 extends Od{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class I8 extends Od{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class pm extends Od{}class Hx extends Od{constructor(t){super(`Invalid unit ${t}`)}}class ka extends Od{}class Gu extends Od{constructor(){super("Zone is an abstract class")}}const pt="numeric",ps="short",ia="long",wv={year:pt,month:pt,day:pt},Yx={year:pt,month:ps,day:pt},x8={year:pt,month:ps,day:pt,weekday:ps},Ux={year:pt,month:ia,day:pt},zx={year:pt,month:ia,day:pt,weekday:ia},Vx={hour:pt,minute:pt},Wx={hour:pt,minute:pt,second:pt},Zx={hour:pt,minute:pt,second:pt,timeZoneName:ps},$x={hour:pt,minute:pt,second:pt,timeZoneName:ia},qx={hour:pt,minute:pt,hourCycle:"h23"},Gx={hour:pt,minute:pt,second:pt,hourCycle:"h23"},Jx={hour:pt,minute:pt,second:pt,hourCycle:"h23",timeZoneName:ps},Kx={hour:pt,minute:pt,second:pt,hourCycle:"h23",timeZoneName:ia},Qx={year:pt,month:pt,day:pt,hour:pt,minute:pt},Xx={year:pt,month:pt,day:pt,hour:pt,minute:pt,second:pt},eE={year:pt,month:ps,day:pt,hour:pt,minute:pt},tE={year:pt,month:ps,day:pt,hour:pt,minute:pt,second:pt},E8={year:pt,month:ps,day:pt,weekday:ps,hour:pt,minute:pt},nE={year:pt,month:ia,day:pt,hour:pt,minute:pt,timeZoneName:ps},rE={year:pt,month:ia,day:pt,hour:pt,minute:pt,second:pt,timeZoneName:ps},oE={year:pt,month:ia,day:pt,weekday:ia,hour:pt,minute:pt,timeZoneName:ia},iE={year:pt,month:ia,day:pt,weekday:ia,hour:pt,minute:pt,second:pt,timeZoneName:ia};class ng{get type(){throw new Gu}get name(){throw new Gu}get ianaName(){return this.name}get isUniversal(){throw new Gu}offsetName(t,n){throw new Gu}formatOffset(t,n){throw new Gu}offset(t){throw new Gu}equals(t){throw new Gu}get isValid(){throw new Gu}}let _w=null;class n0 extends ng{static get instance(){return _w===null&&(_w=new n0),_w}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return sE(t,n,r)}formatOffset(t,n){return bm(this.offset(t),n)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let nv={};function C8(e){return nv[e]||(nv[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),nv[e]}const M8={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function k8(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,o,i,a,u,d,f,m]=r;return[a,o,i,u,d,f,m]}function N8(e,t){const n=e.formatToParts(t),r=[];for(let o=0;o<n.length;o++){const{type:i,value:a}=n[o],u=M8[i];i==="era"?r[u]=a:gn(u)||(r[u]=parseInt(a,10))}return r}let My={};class tu extends ng{static create(t){return My[t]||(My[t]=new tu(t)),My[t]}static resetCache(){My={},nv={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=tu.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return sE(t,n,r,this.name)}formatOffset(t,n){return bm(this.offset(t),n)}offset(t){const n=new Date(t);if(isNaN(n))return NaN;const r=C8(this.name);let[o,i,a,u,d,f,m]=r.formatToParts?N8(r,n):k8(r,n);u==="BC"&&(o=-Math.abs(o)+1);const v=N1({year:o,month:i,day:a,hour:d===24?0:d,minute:f,second:m,millisecond:0});let b=+n;const S=b%1e3;return b-=S>=0?S:1e3+S,(v-b)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let kD={};function A8(e,t={}){const n=JSON.stringify([e,t]);let r=kD[n];return r||(r=new Intl.ListFormat(e,t),kD[n]=r),r}let Ob={};function jb(e,t={}){const n=JSON.stringify([e,t]);let r=Ob[n];return r||(r=new Intl.DateTimeFormat(e,t),Ob[n]=r),r}let Lb={};function F8(e,t={}){const n=JSON.stringify([e,t]);let r=Lb[n];return r||(r=new Intl.NumberFormat(e,t),Lb[n]=r),r}let Rb={};function P8(e,t={}){const{base:n,...r}=t,o=JSON.stringify([e,r]);let i=Rb[o];return i||(i=new Intl.RelativeTimeFormat(e,t),Rb[o]=i),i}let mm=null;function O8(){return mm||(mm=new Intl.DateTimeFormat().resolvedOptions().locale,mm)}function j8(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(n===-1)return[e];{let r,o;try{r=jb(e).resolvedOptions(),o=e}catch{const d=e.substring(0,n);r=jb(d).resolvedOptions(),o=d}const{numberingSystem:i,calendar:a}=r;return[o,i,a]}}function L8(e,t,n){return(n||t)&&(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e}function R8(e){const t=[];for(let n=1;n<=12;n++){const r=Mt.utc(2016,n,1);t.push(e(r))}return t}function _8(e){const t=[];for(let n=1;n<=7;n++){const r=Mt.utc(2016,11,13+n);t.push(e(r))}return t}function ky(e,t,n,r,o){const i=e.listingMode(n);return i==="error"?null:i==="en"?r(t):o(t)}function B8(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class H8{constructor(t,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:o,floor:i,...a}=r;if(!n||Object.keys(a).length>0){const u={useGrouping:!1,...r};r.padTo>0&&(u.minimumIntegerDigits=r.padTo),this.inf=F8(t,u)}}format(t){if(this.inf){const n=this.floor?Math.floor(t):t;return this.inf.format(n)}else{const n=this.floor?Math.floor(t):k1(t,3);return Pr(n,this.padTo)}}}class Y8{constructor(t,n,r){this.opts=r;let o;if(t.zone.isUniversal){const a=-1*(t.offset/60),u=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;t.offset!==0&&tu.create(u).valid?(o=u,this.dt=t):(o="UTC",r.timeZoneName?this.dt=t:this.dt=t.offset===0?t:Mt.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,o=t.zone.name);const i={...this.opts};i.timeZone=i.timeZone||o,this.dtf=jb(n,i)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class U8{constructor(t,n,r){this.opts={style:"long",...r},!n&&aE()&&(this.rtf=P8(t,r))}format(t,n){return this.rtf?this.rtf.format(t,n):i9(n,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,n){return this.rtf?this.rtf.formatToParts(t,n):[]}}class qn{static fromOpts(t){return qn.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,n,r,o=!1){const i=t||Fr.defaultLocale,a=i||(o?"en-US":O8()),u=n||Fr.defaultNumberingSystem,d=r||Fr.defaultOutputCalendar;return new qn(a,u,d,i)}static resetCache(){mm=null,Ob={},Lb={},Rb={}}static fromObject({locale:t,numberingSystem:n,outputCalendar:r}={}){return qn.create(t,n,r)}constructor(t,n,r,o){const[i,a,u]=j8(t);this.locale=i,this.numberingSystem=n||a||null,this.outputCalendar=r||u||null,this.intl=L8(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=B8(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&n?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:qn.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,n=!1,r=!0){return ky(this,t,r,cE,()=>{const o=n?{month:t,day:"numeric"}:{month:t},i=n?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=R8(a=>this.extract(a,o,"month"))),this.monthsCache[i][t]})}weekdays(t,n=!1,r=!0){return ky(this,t,r,hE,()=>{const o=n?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=n?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=_8(a=>this.extract(a,o,"weekday"))),this.weekdaysCache[i][t]})}meridiems(t=!0){return ky(this,void 0,t,()=>pE,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Mt.utc(2016,11,13,9),Mt.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(t,n=!0){return ky(this,t,n,mE,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[Mt.utc(-40,1,1),Mt.utc(2017,1,1)].map(o=>this.extract(o,r,"era"))),this.eraCache[t]})}extract(t,n,r){const o=this.dtFormatter(t,n),i=o.formatToParts(),a=i.find(u=>u.type.toLowerCase()===r);return a?a.value:null}numberFormatter(t={}){return new H8(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,n={}){return new Y8(t,this.intl,n)}relFormatter(t={}){return new U8(this.intl,this.isEnglish(),t)}listFormatter(t={}){return A8(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let Bw=null;class ai extends ng{static get utcInstance(){return Bw===null&&(Bw=new ai(0)),Bw}static instance(t){return t===0?ai.utcInstance:new ai(t)}static parseSpecifier(t){if(t){const n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new ai(o0(n[1],n[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${bm(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${bm(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,n){return bm(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class z8 extends ng{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function rc(e,t){if(gn(e)||e===null)return t;if(e instanceof ng)return e;if(V8(e)){const n=e.toLowerCase();return n==="default"?t:n==="local"||n==="system"?n0.instance:n==="utc"||n==="gmt"?ai.utcInstance:ai.parseSpecifier(n)||tu.create(e)}else return yd(e)?ai.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new z8(e)}let ND=()=>Date.now(),AD="system",FD=null,PD=null,OD=null,jD=60,LD;class Fr{static get now(){return ND}static set now(t){ND=t}static set defaultZone(t){AD=t}static get defaultZone(){return rc(AD,n0.instance)}static get defaultLocale(){return FD}static set defaultLocale(t){FD=t}static get defaultNumberingSystem(){return PD}static set defaultNumberingSystem(t){PD=t}static get defaultOutputCalendar(){return OD}static set defaultOutputCalendar(t){OD=t}static get twoDigitCutoffYear(){return jD}static set twoDigitCutoffYear(t){jD=t%100}static get throwOnInvalid(){return LD}static set throwOnInvalid(t){LD=t}static resetCaches(){qn.resetCache(),tu.resetCache()}}function gn(e){return typeof e>"u"}function yd(e){return typeof e=="number"}function r0(e){return typeof e=="number"&&e%1===0}function V8(e){return typeof e=="string"}function W8(e){return Object.prototype.toString.call(e)==="[object Date]"}function aE(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Z8(e){return Array.isArray(e)?e:[e]}function RD(e,t,n){if(e.length!==0)return e.reduce((r,o)=>{const i=[t(o),o];return r&&n(r[0],i[0])===r[0]?r:i},null)[1]}function $8(e,t){return t.reduce((n,r)=>(n[r]=e[r],n),{})}function ph(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function eu(e,t,n){return r0(e)&&e>=t&&e<=n}function q8(e,t){return e-t*Math.floor(e/t)}function Pr(e,t=2){const n=e<0;let r;return n?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function nc(e){if(!(gn(e)||e===null||e===""))return parseInt(e,10)}function sd(e){if(!(gn(e)||e===null||e===""))return parseFloat(e)}function M1(e){if(!(gn(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function k1(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function rg(e){return e%4===0&&(e%100!==0||e%400===0)}function wm(e){return rg(e)?366:365}function bv(e,t){const n=q8(t-1,12)+1,r=e+(t-n)/12;return n===2?rg(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function N1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function Sv(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return t===4||r===3?53:52}function _b(e){return e>99?e:e>Fr.twoDigitCutoffYear?1900+e:2e3+e}function sE(e,t,n,r=null){const o=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const a={timeZoneName:t,...i},u=new Intl.DateTimeFormat(n,a).formatToParts(o).find(d=>d.type.toLowerCase()==="timezonename");return u?u.value:null}function o0(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0,o=n<0||Object.is(n,-0)?-r:r;return n*60+o}function lE(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new ka(`Invalid unit value ${e}`);return t}function Dv(e,t){const n={};for(const r in e)if(ph(e,r)){const o=e[r];if(o==null)continue;n[t(r)]=lE(o)}return n}function bm(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(t){case"short":return`${o}${Pr(n,2)}:${Pr(r,2)}`;case"narrow":return`${o}${n}${r>0?`:${r}`:""}`;case"techie":return`${o}${Pr(n,2)}${Pr(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function i0(e){return $8(e,["hour","minute","second","millisecond"])}const G8=["January","February","March","April","May","June","July","August","September","October","November","December"],uE=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],J8=["J","F","M","A","M","J","J","A","S","O","N","D"];function cE(e){switch(e){case"narrow":return[...J8];case"short":return[...uE];case"long":return[...G8];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const dE=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fE=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],K8=["M","T","W","T","F","S","S"];function hE(e){switch(e){case"narrow":return[...K8];case"short":return[...fE];case"long":return[...dE];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const pE=["AM","PM"],Q8=["Before Christ","Anno Domini"],X8=["BC","AD"],e9=["B","A"];function mE(e){switch(e){case"narrow":return[...e9];case"short":return[...X8];case"long":return[...Q8];default:return null}}function t9(e){return pE[e.hour<12?0:1]}function n9(e,t){return hE(t)[e.weekday-1]}function r9(e,t){return cE(t)[e.month-1]}function o9(e,t){return mE(t)[e.year<0?0:1]}function i9(e,t,n="always",r=!1){const o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(e)===-1;if(n==="auto"&&i){const g=e==="days";switch(t){case 1:return g?"tomorrow":`next ${o[e][0]}`;case-1:return g?"yesterday":`last ${o[e][0]}`;case 0:return g?"today":`this ${o[e][0]}`}}const a=Object.is(t,-0)||t<0,u=Math.abs(t),d=u===1,f=o[e],m=r?d?f[1]:f[2]||f[1]:d?o[e][0]:e;return a?`${u} ${m} ago`:`in ${u} ${m}`}function _D(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const a9={D:wv,DD:Yx,DDD:Ux,DDDD:zx,t:Vx,tt:Wx,ttt:Zx,tttt:$x,T:qx,TT:Gx,TTT:Jx,TTTT:Kx,f:Qx,ff:eE,fff:nE,ffff:oE,F:Xx,FF:tE,FFF:rE,FFFF:iE};class Ho{static create(t,n={}){return new Ho(t,n)}static parseFormat(t){let n=null,r="",o=!1;const i=[];for(let a=0;a<t.length;a++){const u=t.charAt(a);u==="'"?(r.length>0&&i.push({literal:o,val:r}),n=null,r="",o=!o):o||u===n?r+=u:(r.length>0&&i.push({literal:!1,val:r}),r=u,n=u)}return r.length>0&&i.push({literal:o,val:r}),i}static macroTokenToFormatOpts(t){return a9[t]}constructor(t,n){this.opts=n,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTime(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTimeParts(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).formatToParts()}formatInterval(t,n={}){return this.loc.dtFormatter(t.start,{...this.opts,...n}).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).resolvedOptions()}num(t,n=0){if(this.opts.forceSimple)return Pr(t,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,n){const r=this.loc.listingMode()==="en",o=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(b,S)=>this.loc.extract(t,b,S),a=b=>t.isOffsetFixed&&t.offset===0&&b.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,b.format):"",u=()=>r?t9(t):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(b,S)=>r?r9(t,b):i(S?{month:b}:{month:b,day:"numeric"},"month"),f=(b,S)=>r?n9(t,b):i(S?{weekday:b}:{weekday:b,month:"long",day:"numeric"},"weekday"),m=b=>{const S=Ho.macroTokenToFormatOpts(b);return S?this.formatWithSystemDefault(t,S):b},g=b=>r?o9(t,b):i({era:b},"era"),v=b=>{switch(b){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return u();case"d":return o?i({day:"numeric"},"day"):this.num(t.day);case"dd":return o?i({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return f("short",!0);case"cccc":return f("long",!0);case"ccccc":return f("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return f("short",!1);case"EEEE":return f("long",!1);case"EEEEE":return f("narrow",!1);case"L":return o?i({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return o?i({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return o?i({month:"numeric"},"month"):this.num(t.month);case"MM":return o?i({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return o?i({year:"numeric"},"year"):this.num(t.year);case"yy":return o?i({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return o?i({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return o?i({year:"numeric"},"year"):this.num(t.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return m(b)}};return _D(Ho.parseFormat(n),v)}formatDurationFromString(t,n){const r=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=d=>f=>{const m=r(f);return m?this.num(d.get(m),f.length):f},i=Ho.parseFormat(n),a=i.reduce((d,{literal:f,val:m})=>f?d:d.concat(m),[]),u=t.shiftTo(...a.map(r).filter(d=>d));return _D(i,o(u))}}class fs{constructor(t,n){this.reason=t,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const gE=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ah(...e){const t=e.reduce((n,r)=>n+r.source,"");return RegExp(`^${t}$`)}function Fh(...e){return t=>e.reduce(([n,r,o],i)=>{const[a,u,d]=i(t,o);return[{...n,...a},u||r,d]},[{},null,1]).slice(0,2)}function Ph(e,...t){if(e==null)return[null,null];for(const[n,r]of t){const o=n.exec(e);if(o)return r(o)}return[null,null]}function yE(...e){return(t,n)=>{const r={};let o;for(o=0;o<e.length;o++)r[e[o]]=nc(t[n+o]);return[r,null,n+o]}}const vE=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,s9=`(?:${vE.source}?(?:\\[(${gE.source})\\])?)?`,A1=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,wE=RegExp(`${A1.source}${s9}`),F1=RegExp(`(?:T${wE.source})?`),l9=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,u9=/(\d{4})-?W(\d\d)(?:-?(\d))?/,c9=/(\d{4})-?(\d{3})/,d9=yE("weekYear","weekNumber","weekDay"),f9=yE("year","ordinal"),h9=/(\d{4})-(\d\d)-(\d\d)/,bE=RegExp(`${A1.source} ?(?:${vE.source}|(${gE.source}))?`),p9=RegExp(`(?: ${bE.source})?`);function ch(e,t,n){const r=e[t];return gn(r)?n:nc(r)}function m9(e,t){return[{year:ch(e,t),month:ch(e,t+1,1),day:ch(e,t+2,1)},null,t+3]}function Oh(e,t){return[{hours:ch(e,t,0),minutes:ch(e,t+1,0),seconds:ch(e,t+2,0),milliseconds:M1(e[t+3])},null,t+4]}function og(e,t){const n=!e[t]&&!e[t+1],r=o0(e[t+1],e[t+2]),o=n?null:ai.instance(r);return[{},o,t+3]}function ig(e,t){const n=e[t]?tu.create(e[t]):null;return[{},n,t+1]}const g9=RegExp(`^T?${A1.source}$`),y9=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function v9(e){const[t,n,r,o,i,a,u,d,f]=e,m=t[0]==="-",g=d&&d[0]==="-",v=(b,S=!1)=>b!==void 0&&(S||b&&m)?-b:b;return[{years:v(sd(n)),months:v(sd(r)),weeks:v(sd(o)),days:v(sd(i)),hours:v(sd(a)),minutes:v(sd(u)),seconds:v(sd(d),d==="-0"),milliseconds:v(M1(f),g)}]}const w9={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function P1(e,t,n,r,o,i,a){const u={year:t.length===2?_b(nc(t)):nc(t),month:uE.indexOf(n)+1,day:nc(r),hour:nc(o),minute:nc(i)};return a&&(u.second=nc(a)),e&&(u.weekday=e.length>3?dE.indexOf(e)+1:fE.indexOf(e)+1),u}const b9=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function S9(e){const[,t,n,r,o,i,a,u,d,f,m,g]=e,v=P1(t,o,r,n,i,a,u);let b;return d?b=w9[d]:f?b=0:b=o0(m,g),[v,new ai(b)]}function D9(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const T9=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,I9=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,x9=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function BD(e){const[,t,n,r,o,i,a,u]=e;return[P1(t,o,r,n,i,a,u),ai.utcInstance]}function E9(e){const[,t,n,r,o,i,a,u]=e;return[P1(t,u,n,r,o,i,a),ai.utcInstance]}const C9=Ah(l9,F1),M9=Ah(u9,F1),k9=Ah(c9,F1),N9=Ah(wE),SE=Fh(m9,Oh,og,ig),A9=Fh(d9,Oh,og,ig),F9=Fh(f9,Oh,og,ig),P9=Fh(Oh,og,ig);function O9(e){return Ph(e,[C9,SE],[M9,A9],[k9,F9],[N9,P9])}function j9(e){return Ph(D9(e),[b9,S9])}function L9(e){return Ph(e,[T9,BD],[I9,BD],[x9,E9])}function R9(e){return Ph(e,[y9,v9])}const _9=Fh(Oh);function B9(e){return Ph(e,[g9,_9])}const H9=Ah(h9,p9),Y9=Ah(bE),U9=Fh(Oh,og,ig);function z9(e){return Ph(e,[H9,SE],[Y9,U9])}const V9="Invalid Duration",DE={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},W9={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...DE},Ma=146097/400,Qf=146097/4800,Z9={years:{quarters:4,months:12,weeks:Ma/7,days:Ma,hours:Ma*24,minutes:Ma*24*60,seconds:Ma*24*60*60,milliseconds:Ma*24*60*60*1e3},quarters:{months:3,weeks:Ma/28,days:Ma/4,hours:Ma*24/4,minutes:Ma*24*60/4,seconds:Ma*24*60*60/4,milliseconds:Ma*24*60*60*1e3/4},months:{weeks:Qf/7,days:Qf,hours:Qf*24,minutes:Qf*24*60,seconds:Qf*24*60*60,milliseconds:Qf*24*60*60*1e3},...DE},cd=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],$9=cd.slice(0).reverse();function Ju(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new bt(r)}function q9(e){return e<0?Math.floor(e):Math.ceil(e)}function TE(e,t,n,r,o){const i=e[o][n],a=t[n]/i,u=Math.sign(a)===Math.sign(r[o]),d=!u&&r[o]!==0&&Math.abs(a)<=1?q9(a):Math.trunc(a);r[o]+=d,t[n]-=d*i}function G9(e,t){$9.reduce((n,r)=>gn(t[r])?n:(n&&TE(e,t,n,t,r),r),null)}function J9(e){const t={};for(const[n,r]of Object.entries(e))r!==0&&(t[n]=r);return t}class bt{constructor(t){const n=t.conversionAccuracy==="longterm"||!1;let r=n?Z9:W9;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||qn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,n){return bt.fromObject({milliseconds:t},n)}static fromObject(t,n={}){if(t==null||typeof t!="object")throw new ka(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new bt({values:Dv(t,bt.normalizeUnit),loc:qn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(t){if(yd(t))return bt.fromMillis(t);if(bt.isDuration(t))return t;if(typeof t=="object")return bt.fromObject(t);throw new ka(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,n){const[r]=R9(t);return r?bt.fromObject(r,n):bt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,n){const[r]=B9(t);return r?bt.fromObject(r,n):bt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new ka("need to specify a reason the Duration is invalid");const r=t instanceof fs?t:new fs(t,n);if(Fr.throwOnInvalid)throw new I8(r);return new bt({invalid:r})}static normalizeUnit(t){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!n)throw new Hx(t);return n}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Ho.create(this.loc,r).formatDurationFromString(this,t):V9}toHuman(t={}){const n=cd.map(r=>{const o=this.values[r];return gn(o)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(o)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=k1(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let o=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(o+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||r.milliseconds!==0)&&(o+=".SSS"));let i=r.toFormat(o);return t.includePrefix&&(i="T"+i),i}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const n=bt.fromDurationLike(t),r={};for(const o of cd)(ph(n.values,o)||ph(this.values,o))&&(r[o]=n.get(o)+this.get(o));return Ju(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const n=bt.fromDurationLike(t);return this.plus(n.negate())}mapUnits(t){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=lE(t(this.values[r],r));return Ju(this,{values:n},!0)}get(t){return this[bt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const n={...this.values,...Dv(t,bt.normalizeUnit)};return Ju(this,{values:n})}reconfigure({locale:t,numberingSystem:n,conversionAccuracy:r,matrix:o}={}){const a={loc:this.loc.clone({locale:t,numberingSystem:n}),matrix:o,conversionAccuracy:r};return Ju(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return G9(this.matrix,t),Ju(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=J9(this.normalize().shiftToAll().toObject());return Ju(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(a=>bt.normalizeUnit(a));const n={},r={},o=this.toObject();let i;for(const a of cd)if(t.indexOf(a)>=0){i=a;let u=0;for(const f in r)u+=this.matrix[f][a]*r[f],r[f]=0;yd(o[a])&&(u+=o[a]);const d=Math.trunc(u);n[a]=d,r[a]=(u*1e3-d*1e3)/1e3;for(const f in o)cd.indexOf(f)>cd.indexOf(a)&&TE(this.matrix,o,f,n,a)}else yd(o[a])&&(r[a]=o[a]);for(const a in r)r[a]!==0&&(n[i]+=a===i?r[a]:r[a]/this.matrix[i][a]);return Ju(this,{values:n},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=this.values[n]===0?0:-this.values[n];return Ju(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function n(r,o){return r===void 0||r===0?o===void 0||o===0:r===o}for(const r of cd)if(!n(this.values[r],t.values[r]))return!1;return!0}}const Xf="Invalid Interval";function K9(e,t){return!e||!e.isValid?mr.invalid("missing or invalid start"):!t||!t.isValid?mr.invalid("missing or invalid end"):t<e?mr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class mr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new ka("need to specify a reason the Interval is invalid");const r=t instanceof fs?t:new fs(t,n);if(Fr.throwOnInvalid)throw new T8(r);return new mr({invalid:r})}static fromDateTimes(t,n){const r=om(t),o=om(n),i=K9(r,o);return i??new mr({start:r,end:o})}static after(t,n){const r=bt.fromDurationLike(n),o=om(t);return mr.fromDateTimes(o,o.plus(r))}static before(t,n){const r=bt.fromDurationLike(n),o=om(t);return mr.fromDateTimes(o.minus(r),o)}static fromISO(t,n){const[r,o]=(t||"").split("/",2);if(r&&o){let i,a;try{i=Mt.fromISO(r,n),a=i.isValid}catch{a=!1}let u,d;try{u=Mt.fromISO(o,n),d=u.isValid}catch{d=!1}if(a&&d)return mr.fromDateTimes(i,u);if(a){const f=bt.fromISO(o,n);if(f.isValid)return mr.after(i,f)}else if(d){const f=bt.fromISO(r,n);if(f.isValid)return mr.before(u,f)}}return mr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(t),r=this.end.startOf(t);return Math.floor(r.diff(n,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:n}={}){return this.isValid?mr.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];const n=t.map(om).filter(a=>this.contains(a)).sort(),r=[];let{s:o}=this,i=0;for(;o<this.e;){const a=n[i]||this.e,u=+a>+this.e?this.e:a;r.push(mr.fromDateTimes(o,u)),o=u,i+=1}return r}splitBy(t){const n=bt.fromDurationLike(t);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,o=1,i;const a=[];for(;r<this.e;){const u=this.start.plus(n.mapUnits(d=>d*o));i=+u>+this.e?this.e:u,a.push(mr.fromDateTimes(r,i)),r=i,o+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:mr.fromDateTimes(n,r)}union(t){if(!this.isValid)return this;const n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return mr.fromDateTimes(n,r)}static merge(t){const[n,r]=t.sort((o,i)=>o.s-i.s).reduce(([o,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[o,i.union(a)]:[o.concat([i]),a]:[o,a],[[],null]);return r&&n.push(r),n}static xor(t){let n=null,r=0;const o=[],i=t.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),a=Array.prototype.concat(...i),u=a.sort((d,f)=>d.time-f.time);for(const d of u)r+=d.type==="s"?1:-1,r===1?n=d.time:(n&&+n!=+d.time&&o.push(mr.fromDateTimes(n,d.time)),n=null);return mr.merge(o)}difference(...t){return mr.xor([this].concat(t)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Xf}toLocaleString(t=wv,n={}){return this.isValid?Ho.create(this.s.loc.clone(n),t).formatInterval(this):Xf}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Xf}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Xf}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Xf}toFormat(t,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${n}${this.e.toFormat(t)}`:Xf}toDuration(t,n){return this.isValid?this.e.diff(this.s,t,n):bt.invalid(this.invalidReason)}mapEndpoints(t){return mr.fromDateTimes(t(this.s),t(this.e))}}class Ny{static hasDST(t=Fr.defaultZone){const n=Mt.now().setZone(t).set({month:12});return!t.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(t){return tu.isValidZone(t)}static normalizeZone(t){return rc(t,Fr.defaultZone)}static months(t="long",{locale:n=null,numberingSystem:r=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||qn.create(n,r,i)).months(t)}static monthsFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||qn.create(n,r,i)).months(t,!0)}static weekdays(t="long",{locale:n=null,numberingSystem:r=null,locObj:o=null}={}){return(o||qn.create(n,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:o=null}={}){return(o||qn.create(n,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return qn.create(t).meridiems()}static eras(t="short",{locale:n=null}={}){return qn.create(n,null,"gregory").eras(t)}static features(){return{relative:aE()}}}function HD(e,t){const n=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(bt.fromMillis(r).as("days"))}function Q9(e,t,n){const r=[["years",(d,f)=>f.year-d.year],["quarters",(d,f)=>f.quarter-d.quarter+(f.year-d.year)*4],["months",(d,f)=>f.month-d.month+(f.year-d.year)*12],["weeks",(d,f)=>{const m=HD(d,f);return(m-m%7)/7}],["days",HD]],o={},i=e;let a,u;for(const[d,f]of r)n.indexOf(d)>=0&&(a=d,o[d]=f(e,t),u=i.plus(o),u>t?(o[d]--,e=i.plus(o)):e=u);return[e,o,u,a]}function X9(e,t,n,r){let[o,i,a,u]=Q9(e,t,n);const d=t-o,f=n.filter(g=>["hours","minutes","seconds","milliseconds"].indexOf(g)>=0);f.length===0&&(a<t&&(a=o.plus({[u]:1})),a!==o&&(i[u]=(i[u]||0)+d/(a-o)));const m=bt.fromObject(i,r);return f.length>0?bt.fromMillis(d,r).shiftTo(...f).plus(m):m}const O1={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},YD={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},eF=O1.hanidec.replace(/[\[|\]]/g,"").split("");function tF(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(e[n].search(O1.hanidec)!==-1)t+=eF.indexOf(e[n]);else for(const o in YD){const[i,a]=YD[o];r>=i&&r<=a&&(t+=r-i)}}return parseInt(t,10)}else return t}function ls({numberingSystem:e},t=""){return new RegExp(`${O1[e||"latn"]}${t}`)}const nF="missing Intl.DateTimeFormat.formatToParts support";function xn(e,t=n=>n){return{regex:e,deser:([n])=>t(tF(n))}}const rF=" ",IE=`[ ${rF}]`,xE=new RegExp(IE,"g");function oF(e){return e.replace(/\./g,"\\.?").replace(xE,IE)}function UD(e){return e.replace(/\./g,"").replace(xE," ").toLowerCase()}function us(e,t){return e===null?null:{regex:RegExp(e.map(oF).join("|")),deser:([n])=>e.findIndex(r=>UD(n)===UD(r))+t}}function zD(e,t){return{regex:e,deser:([,n,r])=>o0(n,r),groups:t}}function Hw(e){return{regex:e,deser:([t])=>t}}function iF(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function aF(e,t){const n=ls(t),r=ls(t,"{2}"),o=ls(t,"{3}"),i=ls(t,"{4}"),a=ls(t,"{6}"),u=ls(t,"{1,2}"),d=ls(t,"{1,3}"),f=ls(t,"{1,6}"),m=ls(t,"{1,9}"),g=ls(t,"{2,4}"),v=ls(t,"{4,6}"),b=I=>({regex:RegExp(iF(I.val)),deser:([k])=>k,literal:!0}),T=(I=>{if(e.literal)return b(I);switch(I.val){case"G":return us(t.eras("short",!1),0);case"GG":return us(t.eras("long",!1),0);case"y":return xn(f);case"yy":return xn(g,_b);case"yyyy":return xn(i);case"yyyyy":return xn(v);case"yyyyyy":return xn(a);case"M":return xn(u);case"MM":return xn(r);case"MMM":return us(t.months("short",!0,!1),1);case"MMMM":return us(t.months("long",!0,!1),1);case"L":return xn(u);case"LL":return xn(r);case"LLL":return us(t.months("short",!1,!1),1);case"LLLL":return us(t.months("long",!1,!1),1);case"d":return xn(u);case"dd":return xn(r);case"o":return xn(d);case"ooo":return xn(o);case"HH":return xn(r);case"H":return xn(u);case"hh":return xn(r);case"h":return xn(u);case"mm":return xn(r);case"m":return xn(u);case"q":return xn(u);case"qq":return xn(r);case"s":return xn(u);case"ss":return xn(r);case"S":return xn(d);case"SSS":return xn(o);case"u":return Hw(m);case"uu":return Hw(u);case"uuu":return xn(n);case"a":return us(t.meridiems(),0);case"kkkk":return xn(i);case"kk":return xn(g,_b);case"W":return xn(u);case"WW":return xn(r);case"E":case"c":return xn(n);case"EEE":return us(t.weekdays("short",!1,!1),1);case"EEEE":return us(t.weekdays("long",!1,!1),1);case"ccc":return us(t.weekdays("short",!0,!1),1);case"cccc":return us(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return zD(new RegExp(`([+-]${u.source})(?::(${r.source}))?`),2);case"ZZZ":return zD(new RegExp(`([+-]${u.source})(${r.source})?`),2);case"z":return Hw(/[a-z_+-/]{1,256}?/i);default:return b(I)}})(e)||{invalidReason:nF};return T.token=e,T}const sF={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function lF(e,t){const{type:n,value:r}=e;if(n==="literal")return{literal:!0,val:r};const o=t[n];let i=sF[n];if(typeof i=="object"&&(i=i[o]),i)return{literal:!1,val:i}}function uF(e){return[`^${e.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,e]}function cF(e,t,n){const r=e.match(t);if(r){const o={};let i=1;for(const a in n)if(ph(n,a)){const u=n[a],d=u.groups?u.groups+1:1;!u.literal&&u.token&&(o[u.token.val[0]]=u.deser(r.slice(i,i+d))),i+=d}return[r,o]}else return[r,{}]}function dF(e){const t=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return gn(e.z)||(n=tu.create(e.z)),gn(e.Z)||(n||(n=new ai(e.Z)),r=e.Z),gn(e.q)||(e.M=(e.q-1)*3+1),gn(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),gn(e.u)||(e.S=M1(e.u)),[Object.keys(e).reduce((i,a)=>{const u=t(a);return u&&(i[u]=e[a]),i},{}),n,r]}let Yw=null;function fF(){return Yw||(Yw=Mt.fromMillis(1555555555555)),Yw}function hF(e,t){if(e.literal)return e;const n=Ho.macroTokenToFormatOpts(e.val),r=ME(n,t);return r==null||r.includes(void 0)?e:r}function EE(e,t){return Array.prototype.concat(...e.map(n=>hF(n,t)))}function CE(e,t,n){const r=EE(Ho.parseFormat(n),e),o=r.map(a=>aF(a,e)),i=o.find(a=>a.invalidReason);if(i)return{input:t,tokens:r,invalidReason:i.invalidReason};{const[a,u]=uF(o),d=RegExp(a,"i"),[f,m]=cF(t,d,u),[g,v,b]=m?dF(m):[null,null,void 0];if(ph(m,"a")&&ph(m,"H"))throw new pm("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:d,rawMatches:f,matches:m,result:g,zone:v,specificOffset:b}}}function pF(e,t,n){const{result:r,zone:o,specificOffset:i,invalidReason:a}=CE(e,t,n);return[r,o,i,a]}function ME(e,t){return e?Ho.create(t,e).formatDateTimeParts(fF()).map(o=>lF(o,e)):null}const kE=[0,31,59,90,120,151,181,212,243,273,304,334],NE=[0,31,60,91,121,152,182,213,244,274,305,335];function Na(e,t){return new fs("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function AE(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const o=r.getUTCDay();return o===0?7:o}function FE(e,t,n){return n+(rg(e)?NE:kE)[t-1]}function PE(e,t){const n=rg(e)?NE:kE,r=n.findIndex(i=>i<t),o=t-n[r];return{month:r+1,day:o}}function Bb(e){const{year:t,month:n,day:r}=e,o=FE(t,n,r),i=AE(t,n,r);let a=Math.floor((o-i+10)/7),u;return a<1?(u=t-1,a=Sv(u)):a>Sv(t)?(u=t+1,a=1):u=t,{weekYear:u,weekNumber:a,weekday:i,...i0(e)}}function VD(e){const{weekYear:t,weekNumber:n,weekday:r}=e,o=AE(t,1,4),i=wm(t);let a=n*7+r-o-3,u;a<1?(u=t-1,a+=wm(u)):a>i?(u=t+1,a-=wm(t)):u=t;const{month:d,day:f}=PE(u,a);return{year:u,month:d,day:f,...i0(e)}}function Uw(e){const{year:t,month:n,day:r}=e,o=FE(t,n,r);return{year:t,ordinal:o,...i0(e)}}function WD(e){const{year:t,ordinal:n}=e,{month:r,day:o}=PE(t,n);return{year:t,month:r,day:o,...i0(e)}}function mF(e){const t=r0(e.weekYear),n=eu(e.weekNumber,1,Sv(e.weekYear)),r=eu(e.weekday,1,7);return t?n?r?!1:Na("weekday",e.weekday):Na("week",e.week):Na("weekYear",e.weekYear)}function gF(e){const t=r0(e.year),n=eu(e.ordinal,1,wm(e.year));return t?n?!1:Na("ordinal",e.ordinal):Na("year",e.year)}function OE(e){const t=r0(e.year),n=eu(e.month,1,12),r=eu(e.day,1,bv(e.year,e.month));return t?n?r?!1:Na("day",e.day):Na("month",e.month):Na("year",e.year)}function jE(e){const{hour:t,minute:n,second:r,millisecond:o}=e,i=eu(t,0,23)||t===24&&n===0&&r===0&&o===0,a=eu(n,0,59),u=eu(r,0,59),d=eu(o,0,999);return i?a?u?d?!1:Na("millisecond",o):Na("second",r):Na("minute",n):Na("hour",t)}const zw="Invalid DateTime",ZD=864e13;function Ay(e){return new fs("unsupported zone",`the zone "${e.name}" is not supported`)}function Vw(e){return e.weekData===null&&(e.weekData=Bb(e.c)),e.weekData}function nm(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Mt({...n,...t,old:n})}function LE(e,t,n){let r=e-t*60*1e3;const o=n.offset(r);if(t===o)return[r,t];r-=(o-t)*60*1e3;const i=n.offset(r);return o===i?[r,o]:[e-Math.min(o,i)*60*1e3,Math.max(o,i)]}function $D(e,t){e+=t*60*1e3;const n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function rv(e,t,n){return LE(N1(e),t,n)}function qD(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),o=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,i={...e.c,year:r,month:o,day:Math.min(e.c.day,bv(r,o))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},a=bt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),u=N1(i);let[d,f]=LE(u,n,e.zone);return a!==0&&(d+=a,f=e.zone.offset(d)),{ts:d,o:f}}function rm(e,t,n,r,o,i){const{setZone:a,zone:u}=n;if(e&&Object.keys(e).length!==0){const d=t||u,f=Mt.fromObject(e,{...n,zone:d,specificOffset:i});return a?f:f.setZone(u)}else return Mt.invalid(new fs("unparsable",`the input "${o}" can't be parsed as ${r}`))}function Fy(e,t,n=!0){return e.isValid?Ho.create(qn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Ww(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=Pr(e.c.year,n?6:4),t?(r+="-",r+=Pr(e.c.month),r+="-",r+=Pr(e.c.day)):(r+=Pr(e.c.month),r+=Pr(e.c.day)),r}function GD(e,t,n,r,o,i){let a=Pr(e.c.hour);return t?(a+=":",a+=Pr(e.c.minute),(e.c.second!==0||!n)&&(a+=":")):a+=Pr(e.c.minute),(e.c.second!==0||!n)&&(a+=Pr(e.c.second),(e.c.millisecond!==0||!r)&&(a+=".",a+=Pr(e.c.millisecond,3))),o&&(e.isOffsetFixed&&e.offset===0&&!i?a+="Z":e.o<0?(a+="-",a+=Pr(Math.trunc(-e.o/60)),a+=":",a+=Pr(Math.trunc(-e.o%60))):(a+="+",a+=Pr(Math.trunc(e.o/60)),a+=":",a+=Pr(Math.trunc(e.o%60)))),i&&(a+="["+e.zone.ianaName+"]"),a}const RE={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},yF={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},vF={ordinal:1,hour:0,minute:0,second:0,millisecond:0},_E=["year","month","day","hour","minute","second","millisecond"],wF=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],bF=["year","ordinal","hour","minute","second","millisecond"];function JD(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Hx(e);return t}function KD(e,t){const n=rc(t.zone,Fr.defaultZone),r=qn.fromObject(t),o=Fr.now();let i,a;if(gn(e.year))i=o;else{for(const f of _E)gn(e[f])&&(e[f]=RE[f]);const u=OE(e)||jE(e);if(u)return Mt.invalid(u);const d=n.offset(o);[i,a]=rv(e,d,n)}return new Mt({ts:i,zone:n,loc:r,o:a})}function QD(e,t,n){const r=gn(n.round)?!0:n.round,o=(a,u)=>(a=k1(a,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(a,u)),i=a=>n.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(n.unit)return o(i(n.unit),n.unit);for(const a of n.units){const u=i(a);if(Math.abs(u)>=1)return o(u,a)}return o(e>t?-0:0,n.units[n.units.length-1])}function XD(e){let t={},n;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],n=Array.from(e).slice(0,e.length-1)):n=Array.from(e),[t,n]}class Mt{constructor(t){const n=t.zone||Fr.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new fs("invalid input"):null)||(n.isValid?null:Ay(n));this.ts=gn(t.ts)?Fr.now():t.ts;let o=null,i=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n))[o,i]=[t.old.c,t.old.o];else{const u=n.offset(this.ts);o=$D(this.ts,u),r=Number.isNaN(o.year)?new fs("invalid input"):null,o=r?null:o,i=r?null:u}this._zone=n,this.loc=t.loc||qn.create(),this.invalid=r,this.weekData=null,this.c=o,this.o=i,this.isLuxonDateTime=!0}static now(){return new Mt({})}static local(){const[t,n]=XD(arguments),[r,o,i,a,u,d,f]=n;return KD({year:r,month:o,day:i,hour:a,minute:u,second:d,millisecond:f},t)}static utc(){const[t,n]=XD(arguments),[r,o,i,a,u,d,f]=n;return t.zone=ai.utcInstance,KD({year:r,month:o,day:i,hour:a,minute:u,second:d,millisecond:f},t)}static fromJSDate(t,n={}){const r=W8(t)?t.valueOf():NaN;if(Number.isNaN(r))return Mt.invalid("invalid input");const o=rc(n.zone,Fr.defaultZone);return o.isValid?new Mt({ts:r,zone:o,loc:qn.fromObject(n)}):Mt.invalid(Ay(o))}static fromMillis(t,n={}){if(yd(t))return t<-ZD||t>ZD?Mt.invalid("Timestamp out of range"):new Mt({ts:t,zone:rc(n.zone,Fr.defaultZone),loc:qn.fromObject(n)});throw new ka(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(yd(t))return new Mt({ts:t*1e3,zone:rc(n.zone,Fr.defaultZone),loc:qn.fromObject(n)});throw new ka("fromSeconds requires a numerical input")}static fromObject(t,n={}){t=t||{};const r=rc(n.zone,Fr.defaultZone);if(!r.isValid)return Mt.invalid(Ay(r));const o=Fr.now(),i=gn(n.specificOffset)?r.offset(o):n.specificOffset,a=Dv(t,JD),u=!gn(a.ordinal),d=!gn(a.year),f=!gn(a.month)||!gn(a.day),m=d||f,g=a.weekYear||a.weekNumber,v=qn.fromObject(n);if((m||u)&&g)throw new pm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&u)throw new pm("Can't mix ordinal dates with month/day");const b=g||a.weekday&&!m;let S,T,I=$D(o,i);b?(S=wF,T=yF,I=Bb(I)):u?(S=bF,T=vF,I=Uw(I)):(S=_E,T=RE);let k=!1;for(const U of S){const W=a[U];gn(W)?k?a[U]=T[U]:a[U]=I[U]:k=!0}const A=b?mF(a):u?gF(a):OE(a),R=A||jE(a);if(R)return Mt.invalid(R);const j=b?VD(a):u?WD(a):a,[B,L]=rv(j,i,r),z=new Mt({ts:B,zone:r,o:L,loc:v});return a.weekday&&m&&t.weekday!==z.weekday?Mt.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${z.toISO()}`):z}static fromISO(t,n={}){const[r,o]=O9(t);return rm(r,o,n,"ISO 8601",t)}static fromRFC2822(t,n={}){const[r,o]=j9(t);return rm(r,o,n,"RFC 2822",t)}static fromHTTP(t,n={}){const[r,o]=L9(t);return rm(r,o,n,"HTTP",n)}static fromFormat(t,n,r={}){if(gn(t)||gn(n))throw new ka("fromFormat requires an input string and a format");const{locale:o=null,numberingSystem:i=null}=r,a=qn.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0}),[u,d,f,m]=pF(a,t,n);return m?Mt.invalid(m):rm(u,d,r,`format ${n}`,t,f)}static fromString(t,n,r={}){return Mt.fromFormat(t,n,r)}static fromSQL(t,n={}){const[r,o]=z9(t);return rm(r,o,n,"SQL",t)}static invalid(t,n=null){if(!t)throw new ka("need to specify a reason the DateTime is invalid");const r=t instanceof fs?t:new fs(t,n);if(Fr.throwOnInvalid)throw new D8(r);return new Mt({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,n={}){const r=ME(t,qn.fromObject(n));return r?r.map(o=>o?o.val:null).join(""):null}static expandFormat(t,n={}){return EE(Ho.parseFormat(t),qn.fromObject(n)).map(o=>o.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Vw(this).weekYear:NaN}get weekNumber(){return this.isValid?Vw(this).weekNumber:NaN}get weekday(){return this.isValid?Vw(this).weekday:NaN}get ordinal(){return this.isValid?Uw(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ny.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ny.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ny.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ny.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return rg(this.year)}get daysInMonth(){return bv(this.year,this.month)}get daysInYear(){return this.isValid?wm(this.year):NaN}get weeksInWeekYear(){return this.isValid?Sv(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:n,numberingSystem:r,calendar:o}=Ho.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:o}}toUTC(t=0,n={}){return this.setZone(ai.instance(t),n)}toLocal(){return this.setZone(Fr.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(t=rc(t,Fr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let o=this.ts;if(n||r){const i=t.offset(this.ts),a=this.toObject();[o]=rv(a,i,t)}return nm(this,{ts:o,zone:t})}else return Mt.invalid(Ay(t))}reconfigure({locale:t,numberingSystem:n,outputCalendar:r}={}){const o=this.loc.clone({locale:t,numberingSystem:n,outputCalendar:r});return nm(this,{loc:o})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const n=Dv(t,JD),r=!gn(n.weekYear)||!gn(n.weekNumber)||!gn(n.weekday),o=!gn(n.ordinal),i=!gn(n.year),a=!gn(n.month)||!gn(n.day),u=i||a,d=n.weekYear||n.weekNumber;if((u||o)&&d)throw new pm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&o)throw new pm("Can't mix ordinal dates with month/day");let f;r?f=VD({...Bb(this.c),...n}):gn(n.ordinal)?(f={...this.toObject(),...n},gn(n.day)&&(f.day=Math.min(bv(f.year,f.month),f.day))):f=WD({...Uw(this.c),...n});const[m,g]=rv(f,this.o,this.zone);return nm(this,{ts:m,o:g})}plus(t){if(!this.isValid)return this;const n=bt.fromDurationLike(t);return nm(this,qD(this,n))}minus(t){if(!this.isValid)return this;const n=bt.fromDurationLike(t).negate();return nm(this,qD(this,n))}startOf(t){if(!this.isValid)return this;const n={},r=bt.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const o=Math.ceil(this.month/3);n.month=(o-1)*3+1}return this.set(n)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,n={}){return this.isValid?Ho.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,t):zw}toLocaleString(t=wv,n={}){return this.isValid?Ho.create(this.loc.clone(n),t).formatDateTime(this):zw}toLocaleParts(t={}){return this.isValid?Ho.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:o=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const a=t==="extended";let u=Ww(this,a);return u+="T",u+=GD(this,a,n,r,o,i),u}toISODate({format:t="extended"}={}){return this.isValid?Ww(this,t==="extended"):null}toISOWeekDate(){return Fy(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:o=!1,extendedZone:i=!1,format:a="extended"}={}){return this.isValid?(o?"T":"")+GD(this,a==="extended",n,t,r,i):null}toRFC2822(){return Fy(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Fy(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ww(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let o="HH:mm:ss.SSS";return(n||t)&&(r&&(o+=" "),n?o+="z":t&&(o+="ZZ")),Fy(this,o,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():zw}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const n={...this.c};return t.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,n="milliseconds",r={}){if(!this.isValid||!t.isValid)return bt.invalid("created by diffing an invalid DateTime");const o={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=Z8(n).map(bt.normalizeUnit),a=t.valueOf()>this.valueOf(),u=a?this:t,d=a?t:this,f=X9(u,d,i,o);return a?f.negate():f}diffNow(t="milliseconds",n={}){return this.diff(Mt.now(),t,n)}until(t){return this.isValid?mr.fromDateTimes(this,t):this}hasSame(t,n){if(!this.isValid)return!1;const r=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(n)<=r&&r<=o.endOf(n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const n=t.base||Mt.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0;let o=["years","months","days","hours","minutes","seconds"],i=t.unit;return Array.isArray(t.unit)&&(o=t.unit,i=void 0),QD(n,this.plus(r),{...t,numeric:"always",units:o,unit:i})}toRelativeCalendar(t={}){return this.isValid?QD(t.base||Mt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Mt.isDateTime))throw new ka("min requires all arguments be DateTimes");return RD(t,n=>n.valueOf(),Math.min)}static max(...t){if(!t.every(Mt.isDateTime))throw new ka("max requires all arguments be DateTimes");return RD(t,n=>n.valueOf(),Math.max)}static fromFormatExplain(t,n,r={}){const{locale:o=null,numberingSystem:i=null}=r,a=qn.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0});return CE(a,t,n)}static fromStringExplain(t,n,r={}){return Mt.fromFormatExplain(t,n,r)}static get DATE_SHORT(){return wv}static get DATE_MED(){return Yx}static get DATE_MED_WITH_WEEKDAY(){return x8}static get DATE_FULL(){return Ux}static get DATE_HUGE(){return zx}static get TIME_SIMPLE(){return Vx}static get TIME_WITH_SECONDS(){return Wx}static get TIME_WITH_SHORT_OFFSET(){return Zx}static get TIME_WITH_LONG_OFFSET(){return $x}static get TIME_24_SIMPLE(){return qx}static get TIME_24_WITH_SECONDS(){return Gx}static get TIME_24_WITH_SHORT_OFFSET(){return Jx}static get TIME_24_WITH_LONG_OFFSET(){return Kx}static get DATETIME_SHORT(){return Qx}static get DATETIME_SHORT_WITH_SECONDS(){return Xx}static get DATETIME_MED(){return eE}static get DATETIME_MED_WITH_SECONDS(){return tE}static get DATETIME_MED_WITH_WEEKDAY(){return E8}static get DATETIME_FULL(){return nE}static get DATETIME_FULL_WITH_SECONDS(){return rE}static get DATETIME_HUGE(){return oE}static get DATETIME_HUGE_WITH_SECONDS(){return iE}}function om(e){if(Mt.isDateTime(e))return e;if(e&&e.valueOf&&yd(e.valueOf()))return Mt.fromJSDate(e);if(e&&typeof e=="object")return Mt.fromObject(e);throw new ka(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const j1={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},SF={allowHtml:!0};({...j1,...SF});class L1{constructor(t){this.value=t,this.successful=!0}map(t){return new L1(t(this.value))}flatMap(t){return t(this.value)}mapErr(t){return this}bimap(t,n){return this.map(t)}orElse(t){return this.value}cast(){return this}orElseThrow(t){return this.value}}class R1{constructor(t){this.error=t,this.successful=!1}map(t){return this}flatMap(t){return this}mapErr(t){return new R1(t(this.error))}bimap(t,n){return this.mapErr(n)}orElse(t){return t}cast(){return this}orElseThrow(t){throw t?new Error(t(this.error)):new Error(""+this.error)}}var Tv;(function(e){function t(i){return new L1(i)}e.success=t;function n(i){return new R1(i)}e.failure=n;function r(i,a,u){return i.successful?a.successful?u(i.value,a.value):n(a.error):n(i.error)}e.flatMap2=r;function o(i,a,u){return r(i,a,(d,f)=>t(u(d,f)))}e.map2=o})(Tv||(Tv={}));var DF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof zr<"u"?zr:typeof self<"u"?self:{},me={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:DF,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=n,o.c=r,o.d=function(i,a,u){o.o(i,a)||Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:u})},o.r=function(i){Object.defineProperty(i,"__esModule",{value:!0})},o.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(a,"a",a),a},o.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},o.p="",o(o.s=0)}([function(n,r,o){function i(te){if(!(this instanceof i))return new i(te);this._=te}var a=i.prototype;function u(te,ge){for(var Ae=0;Ae<te;Ae++)ge(Ae)}function d(te,ge,Ae){return function(Be,He){u(He.length,function(et){Be(He[et],et,He)})}(function(Be,He,et){ge=te(ge,Be,He,et)},Ae),ge}function f(te,ge){return d(function(Ae,Be,He,et){return Ae.concat([te(Be,He,et)])},[],ge)}function m(te,ge){var Ae={v:0,buf:ge};return u(te,function(){var Be;Ae={v:Ae.v<<1|(Be=Ae.buf,Be[0]>>7),buf:function(He){var et=d(function(tt,kt,Kt,On){return tt.concat(Kt===On.length-1?Buffer.from([kt,0]).readUInt16BE(0):On.readUInt16BE(Kt))},[],He);return Buffer.from(f(function(tt){return(tt<<1&65535)>>8},et))}(Ae.buf)}}),Ae}function g(){return typeof Buffer<"u"}function v(){if(!g())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function b(te){v();var ge=d(function(et,tt){return et+tt},0,te);if(ge%8!=0)throw new Error("The bits ["+te.join(", ")+"] add up to "+ge+" which is not an even number of bytes; the total should be divisible by 8");var Ae,Be=ge/8,He=(Ae=function(et){return et>48},d(function(et,tt){return et||(Ae(tt)?tt:et)},null,te));if(He)throw new Error(He+" bit range requested exceeds 48 bit (6 byte) Number max.");return new i(function(et,tt){var kt=Be+tt;return kt>et.length?U(tt,Be.toString()+" bytes"):z(kt,d(function(Kt,On){var wn=m(On,Kt.buf);return{coll:Kt.coll.concat(wn.v),buf:wn.buf}},{coll:[],buf:et.slice(tt,kt)},te).coll)})}function S(te,ge){return new i(function(Ae,Be){return v(),Be+ge>Ae.length?U(Be,ge+" bytes for "+te):z(Be+ge,Ae.slice(Be,Be+ge))})}function T(te,ge){if(typeof(Ae=ge)!="number"||Math.floor(Ae)!==Ae||ge<0||ge>6)throw new Error(te+" requires integer length in range [0, 6].");var Ae}function I(te){return T("uintBE",te),S("uintBE("+te+")",te).map(function(ge){return ge.readUIntBE(0,te)})}function k(te){return T("uintLE",te),S("uintLE("+te+")",te).map(function(ge){return ge.readUIntLE(0,te)})}function A(te){return T("intBE",te),S("intBE("+te+")",te).map(function(ge){return ge.readIntBE(0,te)})}function R(te){return T("intLE",te),S("intLE("+te+")",te).map(function(ge){return ge.readIntLE(0,te)})}function j(te){return te instanceof i}function B(te){return{}.toString.call(te)==="[object Array]"}function L(te){return g()&&Buffer.isBuffer(te)}function z(te,ge){return{status:!0,index:te,value:ge,furthest:-1,expected:[]}}function U(te,ge){return B(ge)||(ge=[ge]),{status:!1,index:-1,value:null,furthest:te,expected:ge}}function W(te,ge){if(!ge||te.furthest>ge.furthest)return te;var Ae=te.furthest===ge.furthest?function(Be,He){if(function(){if(i._supportsSet!==void 0)return i._supportsSet;var rr=typeof Set<"u";return i._supportsSet=rr,rr}()&&Array.from){for(var et=new Set(Be),tt=0;tt<He.length;tt++)et.add(He[tt]);var kt=Array.from(et);return kt.sort(),kt}for(var Kt={},On=0;On<Be.length;On++)Kt[Be[On]]=!0;for(var wn=0;wn<He.length;wn++)Kt[He[wn]]=!0;var jr=[];for(var Rn in Kt)({}).hasOwnProperty.call(Kt,Rn)&&jr.push(Rn);return jr.sort(),jr}(te.expected,ge.expected):ge.expected;return{status:te.status,index:te.index,value:te.value,furthest:ge.furthest,expected:Ae}}var Z={};function re(te,ge){if(L(te))return{offset:ge,line:-1,column:-1};te in Z||(Z[te]={});for(var Ae=Z[te],Be=0,He=0,et=0,tt=ge;tt>=0;){if(tt in Ae){Be=Ae[tt].line,et===0&&(et=Ae[tt].lineStart);break}(te.charAt(tt)===`
`||te.charAt(tt)==="\r"&&te.charAt(tt+1)!==`
`)&&(He++,et===0&&(et=tt+1)),tt--}var kt=Be+He,Kt=ge-et;return Ae[ge]={line:kt,lineStart:et},{offset:ge,line:kt+1,column:Kt+1}}function Q(te){if(!j(te))throw new Error("not a parser: "+te)}function ce(te,ge){return typeof te=="string"?te.charAt(ge):te[ge]}function ee(te){if(typeof te!="number")throw new Error("not a number: "+te)}function fe(te){if(typeof te!="function")throw new Error("not a function: "+te)}function $(te){if(typeof te!="string")throw new Error("not a string: "+te)}var le=2,oe=3,he=8,G=5*he,ne=4*he,pe="  ";function Ie(te,ge){return new Array(ge+1).join(te)}function Oe(te,ge,Ae){var Be=ge-te.length;return Be<=0?te:Ie(Ae,Be)+te}function Ye(te,ge,Ae,Be){return{from:te-ge>0?te-ge:0,to:te+Ae>Be?Be:te+Ae}}function _e(te,ge){var Ae,Be,He,et,tt,kt=ge.index,Kt=kt.offset,On=1;if(Kt===te.length)return"Got the end of the input";if(L(te)){var wn=Kt-Kt%he,jr=Kt-wn,Rn=Ye(wn,G,ne+he,te.length),rr=f(function(bn){return f(function(co){return Oe(co.toString(16),2,"0")},bn)},function(bn,co){var fo=bn.length,Cr=[],zo=0;if(fo<=co)return[bn.slice()];for(var ho=0;ho<fo;ho++)Cr[zo]||Cr.push([]),Cr[zo].push(bn[ho]),(ho+1)%co==0&&zo++;return Cr}(te.slice(Rn.from,Rn.to).toJSON().data,he));et=function(bn){return bn.from===0&&bn.to===1?{from:bn.from,to:bn.to}:{from:bn.from/he,to:Math.floor(bn.to/he)}}(Rn),Be=wn/he,Ae=3*jr,jr>=4&&(Ae+=1),On=2,He=f(function(bn){return bn.length<=4?bn.join(" "):bn.slice(0,4).join(" ")+"  "+bn.slice(4).join(" ")},rr),(tt=(8*(et.to>0?et.to-1:et.to)).toString(16).length)<2&&(tt=2)}else{var Lr=te.split(/\r\n|[\n\r\u2028\u2029]/);Ae=kt.column-1,Be=kt.line-1,et=Ye(Be,le,oe,Lr.length),He=Lr.slice(et.from,et.to),tt=et.to.toString().length}var ca=Be-et.from;return L(te)&&(tt=(8*(et.to>0?et.to-1:et.to)).toString(16).length)<2&&(tt=2),d(function(bn,co,fo){var Cr,zo=fo===ca,ho=zo?"> ":pe;return Cr=L(te)?Oe((8*(et.from+fo)).toString(16),tt,"0"):Oe((et.from+fo+1).toString(),tt," "),[].concat(bn,[ho+Cr+" | "+co],zo?[pe+Ie(" ",tt)+" | "+Oe("",Ae," ")+Ie("^",On)]:[])},[],He).join(`
`)}function $e(te,ge){return[`
`,"-- PARSING FAILED "+Ie("-",50),`

`,_e(te,ge),`

`,(Ae=ge.expected,Ae.length===1?`Expected:

`+Ae[0]:`Expected one of the following: 

`+Ae.join(", ")),`
`].join("");var Ae}function Ue(te){return te.flags!==void 0?te.flags:[te.global?"g":"",te.ignoreCase?"i":"",te.multiline?"m":"",te.unicode?"u":"",te.sticky?"y":""].join("")}function Ke(){for(var te=[].slice.call(arguments),ge=te.length,Ae=0;Ae<ge;Ae+=1)Q(te[Ae]);return i(function(Be,He){for(var et,tt=new Array(ge),kt=0;kt<ge;kt+=1){if(!(et=W(te[kt]._(Be,He),et)).status)return et;tt[kt]=et.value,He=et.index}return W(z(He,tt),et)})}function yt(){var te=[].slice.call(arguments);if(te.length===0)throw new Error("seqMap needs at least one argument");var ge=te.pop();return fe(ge),Ke.apply(null,te).map(function(Ae){return ge.apply(null,Ae)})}function Ce(){var te=[].slice.call(arguments),ge=te.length;if(ge===0)return _t("zero alternates");for(var Ae=0;Ae<ge;Ae+=1)Q(te[Ae]);return i(function(Be,He){for(var et,tt=0;tt<te.length;tt+=1)if((et=W(te[tt]._(Be,He),et)).status)return et;return et})}function rt(te,ge){return st(te,ge).or(Et([]))}function st(te,ge){return Q(te),Q(ge),yt(te,ge.then(te).many(),function(Ae,Be){return[Ae].concat(Be)})}function dt(te){$(te);var ge="'"+te+"'";return i(function(Ae,Be){var He=Be+te.length,et=Ae.slice(Be,He);return et===te?z(He,et):U(Be,ge)})}function It(te,ge){(function(He){if(!(He instanceof RegExp))throw new Error("not a regexp: "+He);for(var et=Ue(He),tt=0;tt<et.length;tt++){var kt=et.charAt(tt);if(kt!=="i"&&kt!=="m"&&kt!=="u"&&kt!=="s")throw new Error('unsupported regexp flag "'+kt+'": '+He)}})(te),arguments.length>=2?ee(ge):ge=0;var Ae=function(He){return RegExp("^(?:"+He.source+")",Ue(He))}(te),Be=""+te;return i(function(He,et){var tt=Ae.exec(He.slice(et));if(tt){if(0<=ge&&ge<=tt.length){var kt=tt[0],Kt=tt[ge];return z(et+kt.length,Kt)}return U(et,"valid match group (0 to "+tt.length+") in "+Be)}return U(et,Be)})}function Et(te){return i(function(ge,Ae){return z(Ae,te)})}function _t(te){return i(function(ge,Ae){return U(Ae,te)})}function Ut(te){if(j(te))return i(function(ge,Ae){var Be=te._(ge,Ae);return Be.index=Ae,Be.value="",Be});if(typeof te=="string")return Ut(dt(te));if(te instanceof RegExp)return Ut(It(te));throw new Error("not a string, regexp, or parser: "+te)}function vn(te){return Q(te),i(function(ge,Ae){var Be=te._(ge,Ae),He=ge.slice(Ae,Be.index);return Be.status?U(Ae,'not "'+He+'"'):z(Ae,null)})}function $t(te){return fe(te),i(function(ge,Ae){var Be=ce(ge,Ae);return Ae<ge.length&&te(Be)?z(Ae+1,Be):U(Ae,"a character/byte matching "+te)})}function tn(te,ge){arguments.length<2&&(ge=te,te=void 0);var Ae=i(function(Be,He){return Ae._=ge()._,Ae._(Be,He)});return te?Ae.desc(te):Ae}function rn(){return _t("fantasy-land/empty")}a.parse=function(te){if(typeof te!="string"&&!L(te))throw new Error(".parse must be called with a string or Buffer as its argument");var ge,Ae=this.skip($r)._(te,0);return ge=Ae.status?{status:!0,value:Ae.value}:{status:!1,index:re(te,Ae.furthest),expected:Ae.expected},delete Z[te],ge},a.tryParse=function(te){var ge=this.parse(te);if(ge.status)return ge.value;var Ae=$e(te,ge),Be=new Error(Ae);throw Be.type="ParsimmonError",Be.result=ge,Be},a.assert=function(te,ge){return this.chain(function(Ae){return te(Ae)?Et(Ae):_t(ge)})},a.or=function(te){return Ce(this,te)},a.trim=function(te){return this.wrap(te,te)},a.wrap=function(te,ge){return yt(te,this,ge,function(Ae,Be){return Be})},a.thru=function(te){return te(this)},a.then=function(te){return Q(te),Ke(this,te).map(function(ge){return ge[1]})},a.many=function(){var te=this;return i(function(ge,Ae){for(var Be=[],He=void 0;;){if(!(He=W(te._(ge,Ae),He)).status)return W(z(Ae,Be),He);if(Ae===He.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");Ae=He.index,Be.push(He.value)}})},a.tieWith=function(te){return $(te),this.map(function(ge){if(function(He){if(!B(He))throw new Error("not an array: "+He)}(ge),ge.length){$(ge[0]);for(var Ae=ge[0],Be=1;Be<ge.length;Be++)$(ge[Be]),Ae+=te+ge[Be];return Ae}return""})},a.tie=function(){return this.tieWith("")},a.times=function(te,ge){var Ae=this;return arguments.length<2&&(ge=te),ee(te),ee(ge),i(function(Be,He){for(var et=[],tt=void 0,kt=void 0,Kt=0;Kt<te;Kt+=1){if(kt=W(tt=Ae._(Be,He),kt),!tt.status)return kt;He=tt.index,et.push(tt.value)}for(;Kt<ge&&(kt=W(tt=Ae._(Be,He),kt),tt.status);Kt+=1)He=tt.index,et.push(tt.value);return W(z(He,et),kt)})},a.result=function(te){return this.map(function(){return te})},a.atMost=function(te){return this.times(0,te)},a.atLeast=function(te){return yt(this.times(te),this.many(),function(ge,Ae){return ge.concat(Ae)})},a.map=function(te){fe(te);var ge=this;return i(function(Ae,Be){var He=ge._(Ae,Be);return He.status?W(z(He.index,te(He.value)),He):He})},a.contramap=function(te){fe(te);var ge=this;return i(function(Ae,Be){var He=ge.parse(te(Ae.slice(Be)));return He.status?z(Be+Ae.length,He.value):He})},a.promap=function(te,ge){return fe(te),fe(ge),this.contramap(te).map(ge)},a.skip=function(te){return Ke(this,te).map(function(ge){return ge[0]})},a.mark=function(){return yt(Xt,this,Xt,function(te,ge,Ae){return{start:te,value:ge,end:Ae}})},a.node=function(te){return yt(Xt,this,Xt,function(ge,Ae,Be){return{name:te,value:Ae,start:ge,end:Be}})},a.sepBy=function(te){return rt(this,te)},a.sepBy1=function(te){return st(this,te)},a.lookahead=function(te){return this.skip(Ut(te))},a.notFollowedBy=function(te){return this.skip(vn(te))},a.desc=function(te){B(te)||(te=[te]);var ge=this;return i(function(Ae,Be){var He=ge._(Ae,Be);return He.status||(He.expected=te),He})},a.fallback=function(te){return this.or(Et(te))},a.ap=function(te){return yt(te,this,function(ge,Ae){return ge(Ae)})},a.chain=function(te){var ge=this;return i(function(Ae,Be){var He=ge._(Ae,Be);return He.status?W(te(He.value)._(Ae,He.index),He):He})},a.concat=a.or,a.empty=rn,a.of=Et,a["fantasy-land/ap"]=a.ap,a["fantasy-land/chain"]=a.chain,a["fantasy-land/concat"]=a.concat,a["fantasy-land/empty"]=a.empty,a["fantasy-land/of"]=a.of,a["fantasy-land/map"]=a.map;var Xt=i(function(te,ge){return z(ge,re(te,ge))}),Ln=i(function(te,ge){return ge>=te.length?U(ge,"any character/byte"):z(ge+1,ce(te,ge))}),lr=i(function(te,ge){return z(te.length,te.slice(ge))}),$r=i(function(te,ge){return ge<te.length?U(ge,"EOF"):z(ge,null)}),tr=It(/[0-9]/).desc("a digit"),nr=It(/[0-9]*/).desc("optional digits"),ji=It(/[a-z]/i).desc("a letter"),xo=It(/[a-z]*/i).desc("optional letters"),Uo=It(/\s*/).desc("optional whitespace"),Li=It(/\s+/).desc("whitespace"),Eo=dt("\r"),Ri=dt(`
`),ua=dt(`\r
`),ui=Ce(ua,Ri,Eo).desc("newline"),_i=Ce(ui,$r);i.all=lr,i.alt=Ce,i.any=Ln,i.cr=Eo,i.createLanguage=function(te){var ge={};for(var Ae in te)({}).hasOwnProperty.call(te,Ae)&&function(Be){ge[Be]=tn(function(){return te[Be](ge)})}(Ae);return ge},i.crlf=ua,i.custom=function(te){return i(te(z,U))},i.digit=tr,i.digits=nr,i.empty=rn,i.end=_i,i.eof=$r,i.fail=_t,i.formatError=$e,i.index=Xt,i.isParser=j,i.lazy=tn,i.letter=ji,i.letters=xo,i.lf=Ri,i.lookahead=Ut,i.makeFailure=U,i.makeSuccess=z,i.newline=ui,i.noneOf=function(te){return $t(function(ge){return te.indexOf(ge)<0}).desc("none of '"+te+"'")},i.notFollowedBy=vn,i.of=Et,i.oneOf=function(te){for(var ge=te.split(""),Ae=0;Ae<ge.length;Ae++)ge[Ae]="'"+ge[Ae]+"'";return $t(function(Be){return te.indexOf(Be)>=0}).desc(ge)},i.optWhitespace=Uo,i.Parser=i,i.range=function(te,ge){return $t(function(Ae){return te<=Ae&&Ae<=ge}).desc(te+"-"+ge)},i.regex=It,i.regexp=It,i.sepBy=rt,i.sepBy1=st,i.seq=Ke,i.seqMap=yt,i.seqObj=function(){for(var te,ge={},Ae=0,Be=(te=arguments,Array.prototype.slice.call(te)),He=Be.length,et=0;et<He;et+=1){var tt=Be[et];if(!j(tt)){if(B(tt)&&tt.length===2&&typeof tt[0]=="string"&&j(tt[1])){var kt=tt[0];if(Object.prototype.hasOwnProperty.call(ge,kt))throw new Error("seqObj: duplicate key "+kt);ge[kt]=!0,Ae++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(Ae===0)throw new Error("seqObj expects at least one named parser, found zero");return i(function(Kt,On){for(var wn,jr={},Rn=0;Rn<He;Rn+=1){var rr,Lr;if(B(Be[Rn])?(rr=Be[Rn][0],Lr=Be[Rn][1]):(rr=null,Lr=Be[Rn]),!(wn=W(Lr._(Kt,On),wn)).status)return wn;rr&&(jr[rr]=wn.value),On=wn.index}return W(z(On,jr),wn)})},i.string=dt,i.succeed=Et,i.takeWhile=function(te){return fe(te),i(function(ge,Ae){for(var Be=Ae;Be<ge.length&&te(ce(ge,Be));)Be++;return z(Be,ge.slice(Ae,Be))})},i.test=$t,i.whitespace=Li,i["fantasy-land/empty"]=rn,i["fantasy-land/of"]=Et,i.Binary={bitSeq:b,bitSeqObj:function(te){v();var ge={},Ae=0,Be=f(function(et){if(B(et)){var tt=et;if(tt.length!==2)throw new Error("["+tt.join(", ")+"] should be length 2, got length "+tt.length);if($(tt[0]),ee(tt[1]),Object.prototype.hasOwnProperty.call(ge,tt[0]))throw new Error("duplicate key in bitSeqObj: "+tt[0]);return ge[tt[0]]=!0,Ae++,tt}return ee(et),[null,et]},te);if(Ae<1)throw new Error("bitSeqObj expects at least one named pair, got ["+te.join(", ")+"]");var He=f(function(et){return et[0]},Be);return b(f(function(et){return et[1]},Be)).map(function(et){return d(function(tt,kt){return kt[0]!==null&&(tt[kt[0]]=kt[1]),tt},{},f(function(tt,kt){return[tt,et[kt]]},He))})},byte:function(te){if(v(),ee(te),te>255)throw new Error("Value specified to byte constructor ("+te+"=0x"+te.toString(16)+") is larger in value than a single byte.");var ge=(te>15?"0x":"0x0")+te.toString(16);return i(function(Ae,Be){var He=ce(Ae,Be);return He===te?z(Be+1,He):U(Be,ge)})},buffer:function(te){return S("buffer",te).map(function(ge){return Buffer.from(ge)})},encodedString:function(te,ge){return S("string",ge).map(function(Ae){return Ae.toString(te)})},uintBE:I,uint8BE:I(1),uint16BE:I(2),uint32BE:I(4),uintLE:k,uint8LE:k(1),uint16LE:k(2),uint32LE:k(4),intBE:A,int8BE:A(1),int16BE:A(2),int32BE:A(4),intLE:R,int8LE:R(1),int16LE:R(2),int32LE:R(4),floatBE:S("floatBE",4).map(function(te){return te.readFloatBE(0)}),floatLE:S("floatLE",4).map(function(te){return te.readFloatLE(0)}),doubleBE:S("doubleBE",8).map(function(te){return te.readDoubleBE(0)}),doubleLE:S("doubleLE",8).map(function(te){return te.readDoubleLE(0)})},n.exports=i}])})})(me);var _1=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function BE(e){return e==null?e:e.shiftToAll().normalize()}function e2(e){return e.includes("/")&&(e=e.substring(e.lastIndexOf("/")+1)),e.endsWith(".md")&&(e=e.substring(0,e.length-3)),e}me.exports.alt(me.exports.regex(new RegExp(_1(),"")),me.exports.regex(/[0-9\p{Letter}_-]+/u).map(e=>e.toLocaleLowerCase()),me.exports.whitespace.map(e=>"-"),me.exports.any.map(e=>"")).many().map(e=>e.join(""));const TF=me.exports.alt(me.exports.regex(new RegExp(_1(),"")),me.exports.regex(/[0-9\p{Letter}_-]+/u),me.exports.whitespace.map(e=>" "),me.exports.any.map(e=>" ")).many().map(e=>e.join("").split(/\s+/).join(" ").trim());function IF(e){return TF.tryParse(e)}function xF(e){return e=BE(e),e=bt.fromObject(Object.fromEntries(Object.entries(e.toObject()).filter(([,t])=>t>0))),e.toHuman()}var Nm;(function(e){function t(j,B=j1,L=!1){let z=n(j);if(!z)return B.renderNullAs;switch(z.type){case"null":return B.renderNullAs;case"string":return z.value;case"number":case"boolean":return""+z.value;case"html":return z.value.outerHTML;case"widget":return z.value.markdown();case"link":return z.value.markdown();case"function":return"<function>";case"array":let U="";return L&&(U+="["),U+=z.value.map(W=>t(W,B,!0)).join(", "),L&&(U+="]"),U;case"object":return"{ "+Object.entries(z.value).map(W=>W[0]+": "+t(W[1],B,!0)).join(", ")+" }";case"date":return z.value.second==0&&z.value.hour==0&&z.value.minute==0?z.value.toFormat(B.defaultDateFormat):z.value.toFormat(B.defaultDateTimeFormat);case"duration":return xF(z.value)}}e.toString=t;function n(j){return v(j)?{type:"null",value:j}:f(j)?{type:"number",value:j}:d(j)?{type:"string",value:j}:S(j)?{type:"boolean",value:j}:g(j)?{type:"duration",value:j}:m(j)?{type:"date",value:j}:I(j)?{type:"widget",value:j}:b(j)?{type:"array",value:j}:T(j)?{type:"link",value:j}:R(j)?{type:"function",value:j}:k(j)?{type:"html",value:j}:A(j)?{type:"object",value:j}:void 0}e.wrapValue=n;function r(j,B){if(A(j)){let L={};for(let[z,U]of Object.entries(j))L[z]=r(U,B);return L}else if(b(j)){let L=[];for(let z of j)L.push(r(z,B));return L}else return B(j)}e.mapLeaves=r;function o(j,B,L){var z,U;if(j===void 0&&(j=null),B===void 0&&(B=null),j===null&&B===null)return 0;if(j===null)return-1;if(B===null)return 1;let W=n(j),Z=n(B);if(W===void 0&&Z===void 0)return 0;if(W===void 0)return-1;if(Z===void 0)return 1;if(W.type!=Z.type)return W.type.localeCompare(Z.type);if(W.value===Z.value)return 0;switch(W.type){case"string":return W.value.localeCompare(Z.value);case"number":return W.value<Z.value?-1:W.value==Z.value?0:1;case"null":return 0;case"boolean":return W.value==Z.value?0:W.value?1:-1;case"link":let re=W.value,Q=Z.value,ce=L??(Ie=>Ie),ee=ce(re.path).localeCompare(ce(Q.path));if(ee!=0)return ee;let fe=re.type.localeCompare(Q.type);return fe!=0?fe:re.subpath&&!Q.subpath?1:!re.subpath&&Q.subpath?-1:!re.subpath&&!Q.subpath?0:((z=re.subpath)!==null&&z!==void 0?z:"").localeCompare((U=Q.subpath)!==null&&U!==void 0?U:"");case"date":return W.value<Z.value?-1:W.value.equals(Z.value)?0:1;case"duration":return W.value<Z.value?-1:W.value.equals(Z.value)?0:1;case"array":let $=W.value,le=Z.value;for(let Ie=0;Ie<Math.min($.length,le.length);Ie++){let Oe=o($[Ie],le[Ie]);if(Oe!=0)return Oe}return $.length-le.length;case"object":let oe=W.value,he=Z.value,G=Array.from(Object.keys(oe)),ne=Array.from(Object.keys(he));G.sort(),ne.sort();let pe=o(G,ne);if(pe!=0)return pe;for(let Ie of G){let Oe=o(oe[Ie],he[Ie]);if(Oe!=0)return Oe}return 0;case"widget":case"html":case"function":return 0}}e.compareValue=o;function i(j){var B;return(B=n(j))===null||B===void 0?void 0:B.type}e.typeOf=i;function a(j){let B=n(j);if(!B)return!1;switch(B.type){case"number":return B.value!=0;case"string":return B.value.length>0;case"boolean":return B.value;case"link":return!!B.value.path;case"date":return B.value.toMillis()!=0;case"duration":return B.value.as("seconds")!=0;case"object":return Object.keys(B.value).length>0;case"array":return B.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}e.isTruthy=a;function u(j){if(j==null)return j;if(e.isArray(j))return[].concat(j.map(B=>u(B)));if(e.isObject(j)){let B={};for(let[L,z]of Object.entries(j))B[L]=u(z);return B}else return j}e.deepCopy=u;function d(j){return typeof j=="string"}e.isString=d;function f(j){return typeof j=="number"}e.isNumber=f;function m(j){return j instanceof Mt}e.isDate=m;function g(j){return j instanceof bt}e.isDuration=g;function v(j){return j==null}e.isNull=v;function b(j){return Array.isArray(j)}e.isArray=b;function S(j){return typeof j=="boolean"}e.isBoolean=S;function T(j){return j instanceof _o}e.isLink=T;function I(j){return j instanceof B1}e.isWidget=I;function k(j){return typeof HTMLElement<"u"?j instanceof HTMLElement:!1}e.isHtml=k;function A(j){return typeof j=="object"&&!k(j)&&!I(j)&&!b(j)&&!g(j)&&!m(j)&&!T(j)&&j!==void 0&&!v(j)}e.isObject=A;function R(j){return typeof j=="function"}e.isFunction=R})(Nm||(Nm={}));var t2;(function(e){function t(o){return Nm.isObject(o)&&Object.keys(o).length==2&&"key"in o&&"rows"in o}e.isElementGroup=t;function n(o){for(let i of o)if(!t(i))return!1;return!0}e.isGrouping=n;function r(o){if(n(o)){let i=0;for(let a of o)i+=r(a.rows);return i}else return o.length}e.count=r})(t2||(t2={}));class _o{constructor(t){Object.assign(this,t)}static file(t,n=!1,r){return new _o({path:t,embed:n,display:r,subpath:void 0,type:"file"})}static infer(t,n=!1,r){if(t.includes("#^")){let o=t.split("#^");return _o.block(o[0],o[1],n,r)}else if(t.includes("#")){let o=t.split("#");return _o.header(o[0],o[1],n,r)}else return _o.file(t,n,r)}static header(t,n,r,o){return new _o({path:t,embed:r,display:o,subpath:IF(n),type:"header"})}static block(t,n,r,o){return new _o({path:t,embed:r,display:o,subpath:n,type:"block"})}static fromObject(t){return new _o(t)}equals(t){return t==null||t==null?!1:this.path==t.path&&this.type==t.type&&this.subpath==t.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(t){return new _o(Object.assign({},this,{path:t}))}withDisplay(t){return new _o(Object.assign({},this,{display:t}))}withHeader(t){return _o.header(this.path,t,this.embed,this.display)}toFile(){return _o.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let t=new _o(this);return t.embed=!0,t}}fromEmbed(){if(this.embed){let t=new _o(this);return t.embed=!1,t}else return this}markdown(){let t=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?t+="|"+this.display:(t+="|"+e2(this.path),(this.type=="header"||this.type=="block")&&(t+=" > "+this.subpath)),t+="]]",t}obsidianLink(){var t,n;const r=this.path.replace("|","\\|");return this.type=="header"?r+"#"+((t=this.subpath)===null||t===void 0?void 0:t.replace("|","\\|")):this.type=="block"?r+"#^"+((n=this.subpath)===null||n===void 0?void 0:n.replace("|","\\|")):r}fileName(){return e2(this.path).replace(".md","")}}class B1{constructor(t){this.$widget=t}}class EF extends B1{constructor(t,n){super("dataview:list-pair"),this.key=t,this.value=n}markdown(){return`${Nm.toString(this.key)}: ${Nm.toString(this.value)}`}}class CF extends B1{constructor(t,n){super("dataview:external-link"),this.url=t,this.display=n}markdown(){var t;return`[${(t=this.display)!==null&&t!==void 0?t:this.url}](${this.url})`}}var n2;(function(e){function t(a,u){return new EF(a,u)}e.listPair=t;function n(a,u){return new CF(a,u)}e.externalLink=n;function r(a){return a.$widget==="dataview:list-pair"}e.isListPair=r;function o(a){return a.$widget==="dataview:external-link"}e.isExternalLink=o;function i(a){return r(a)||o(a)}e.isBuiltin=i})(n2||(n2={}));var pr;(function(e){function t(v){return{type:"variable",name:v}}e.variable=t;function n(v){return{type:"literal",value:v}}e.literal=n;function r(v,b,S){return{type:"binaryop",left:v,op:b,right:S}}e.binaryOp=r;function o(v,b){return{type:"index",object:v,index:b}}e.index=o;function i(v){let b=v.split("."),S=e.variable(b[0]);for(let T=1;T<b.length;T++)S=e.index(S,e.literal(b[T]));return S}e.indexVariable=i;function a(v,b){return{type:"lambda",arguments:v,value:b}}e.lambda=a;function u(v,b){return{type:"function",func:v,arguments:b}}e.func=u;function d(v){return{type:"list",values:v}}e.list=d;function f(v){return{type:"object",values:v}}e.object=f;function m(v){return{type:"negated",child:v}}e.negate=m;function g(v){return v=="<="||v=="<"||v==">"||v==">="||v=="!="||v=="="}e.isCompareOp=g,e.NULL=e.literal(null)})(pr||(pr={}));var sl;(function(e){function t(m){return{type:"tag",tag:m}}e.tag=t;function n(m){return{type:"csv",path:m}}e.csv=n;function r(m){return{type:"folder",folder:m}}e.folder=r;function o(m,g){return{type:"link",file:m,direction:g?"incoming":"outgoing"}}e.link=o;function i(m,g,v){return{type:"binaryop",left:m,op:g,right:v}}e.binaryOp=i;function a(m,g){return{type:"binaryop",left:m,op:"&",right:g}}e.and=a;function u(m,g){return{type:"binaryop",left:m,op:"|",right:g}}e.or=u;function d(m){return{type:"negate",child:m}}e.negate=d;function f(){return{type:"empty"}}e.empty=f})(sl||(sl={}));const r2=new RegExp(_1(),""),Hb={year:bt.fromObject({years:1}),years:bt.fromObject({years:1}),yr:bt.fromObject({years:1}),yrs:bt.fromObject({years:1}),month:bt.fromObject({months:1}),months:bt.fromObject({months:1}),mo:bt.fromObject({months:1}),mos:bt.fromObject({months:1}),week:bt.fromObject({weeks:1}),weeks:bt.fromObject({weeks:1}),wk:bt.fromObject({weeks:1}),wks:bt.fromObject({weeks:1}),w:bt.fromObject({weeks:1}),day:bt.fromObject({days:1}),days:bt.fromObject({days:1}),d:bt.fromObject({days:1}),hour:bt.fromObject({hours:1}),hours:bt.fromObject({hours:1}),hr:bt.fromObject({hours:1}),hrs:bt.fromObject({hours:1}),h:bt.fromObject({hours:1}),minute:bt.fromObject({minutes:1}),minutes:bt.fromObject({minutes:1}),min:bt.fromObject({minutes:1}),mins:bt.fromObject({minutes:1}),m:bt.fromObject({minutes:1}),second:bt.fromObject({seconds:1}),seconds:bt.fromObject({seconds:1}),sec:bt.fromObject({seconds:1}),secs:bt.fromObject({seconds:1}),s:bt.fromObject({seconds:1})},Yb={now:()=>Mt.local(),today:()=>Mt.local().startOf("day"),yesterday:()=>Mt.local().startOf("day").minus(bt.fromObject({days:1})),tomorrow:()=>Mt.local().startOf("day").plus(bt.fromObject({days:1})),sow:()=>Mt.local().startOf("week"),"start-of-week":()=>Mt.local().startOf("week"),eow:()=>Mt.local().endOf("week"),"end-of-week":()=>Mt.local().endOf("week"),soy:()=>Mt.local().startOf("year"),"start-of-year":()=>Mt.local().startOf("year"),eoy:()=>Mt.local().endOf("year"),"end-of-year":()=>Mt.local().endOf("year"),som:()=>Mt.local().startOf("month"),"start-of-month":()=>Mt.local().startOf("month"),eom:()=>Mt.local().endOf("month"),"end-of-month":()=>Mt.local().endOf("month")},Ub=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function MF(e){let t=-1;for(;(t=e.indexOf("|",t+1))>=0;)if(!(t>0&&e[t-1]=="\\"))return[e.substring(0,t).replace(/\\\|/g,"|"),e.substring(t+1)];return[e.replace(/\\\|/g,"|"),void 0]}function kF(e){let[t,n]=MF(e);return _o.infer(t,!1,n)}function im(e,t,n){return me.exports.seqMap(e,me.exports.seq(me.exports.optWhitespace,t,me.exports.optWhitespace,e).many(),(r,o)=>{if(o.length==0)return r;let i=n(r,o[0][1],o[0][3]);for(let a=1;a<o.length;a++)i=n(i,o[a][1],o[a][3]);return i})}function NF(e,...t){return me.exports.custom((n,r)=>(o,i)=>{let a=e._(o,i);if(!a.status)return a;for(let u of t){let d=u(a.value)._(o,a.index);if(!d.status)return a;a=d}return a})}const cs=me.exports.createLanguage({number:e=>me.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(t=>Number.parseFloat(t)).desc("number"),string:e=>me.exports.string('"').then(me.exports.alt(e.escapeCharacter,me.exports.noneOf('"\\')).atLeast(0).map(t=>t.join(""))).skip(me.exports.string('"')).desc("string"),escapeCharacter:e=>me.exports.string("\\").then(me.exports.any).map(t=>t==='"'?'"':t==="\\"?"\\":"\\"+t),bool:e=>me.exports.regexp(/true|false|True|False/).map(t=>t.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:e=>me.exports.seqMap(me.exports.string("#"),me.exports.alt(me.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(t,n)=>t+n.join("")).desc("tag ('#hello/stuff')"),identifier:e=>me.exports.seqMap(me.exports.alt(me.exports.regexp(new RegExp("\\p{Letter}","u")),me.exports.regexp(r2).desc("text")),me.exports.alt(me.exports.regexp(/[0-9\p{Letter}_-]/u),me.exports.regexp(r2).desc("text")).many(),(t,n)=>t+n.join("")).desc("variable identifier"),link:e=>me.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(t=>kF(t)).desc("file link"),embedLink:e=>me.exports.seqMap(me.exports.string("!").atMost(1),e.link,(t,n)=>(t.length>0&&(n.embed=!0),n)).desc("file link"),binaryPlusMinus:e=>me.exports.regexp(/\+|-/).map(t=>t).desc("'+' or '-'"),binaryMulDiv:e=>me.exports.regexp(/\*|\/|%/).map(t=>t).desc("'*' or '/' or '%'"),binaryCompareOp:e=>me.exports.regexp(/>=|<=|!=|>|<|=/).map(t=>t).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:e=>me.exports.regexp(/and|or|&|\|/i).map(t=>t.toLowerCase()=="and"?"&":t.toLowerCase()=="or"?"|":t).desc("'and' or 'or'"),rootDate:e=>me.exports.seqMap(me.exports.regexp(/\d{4}/),me.exports.string("-"),me.exports.regexp(/\d{2}/),(t,n,r)=>Mt.fromObject({year:Number.parseInt(t),month:Number.parseInt(r)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:e=>me.exports.alt(...Object.keys(Yb).sort((t,n)=>n.length-t.length).map(me.exports.string)),date:e=>NF(e.rootDate,t=>me.exports.seqMap(me.exports.string("-"),me.exports.regexp(/\d{2}/),(n,r)=>t.set({day:Number.parseInt(r)})),t=>me.exports.seqMap(me.exports.string("T"),me.exports.regexp(/\d{2}/),(n,r)=>t.set({hour:Number.parseInt(r)})),t=>me.exports.seqMap(me.exports.string(":"),me.exports.regexp(/\d{2}/),(n,r)=>t.set({minute:Number.parseInt(r)})),t=>me.exports.seqMap(me.exports.string(":"),me.exports.regexp(/\d{2}/),(n,r)=>t.set({second:Number.parseInt(r)})),t=>me.exports.alt(me.exports.seqMap(me.exports.string("."),me.exports.regexp(/\d{3}/),(n,r)=>t.set({millisecond:Number.parseInt(r)})),me.exports.succeed(t)),t=>me.exports.alt(me.exports.seqMap(me.exports.string("+").or(me.exports.string("-")),me.exports.regexp(/\d{1,2}(:\d{2})?/),(n,r)=>t.setZone("UTC"+n+r,{keepLocalTime:!0})),me.exports.seqMap(me.exports.string("Z"),()=>t.setZone("utc",{keepLocalTime:!0})),me.exports.seqMap(me.exports.string("["),me.exports.regexp(/[0-9A-Za-z+-\/]+/u),me.exports.string("]"),(n,r,o)=>t.setZone(r,{keepLocalTime:!0})))).assert(t=>t.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:e=>me.exports.alt(e.dateShorthand.map(t=>Yb[t]()),e.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:e=>me.exports.alt(...Object.keys(Hb).sort((t,n)=>n.length-t.length).map(me.exports.string)),duration:e=>me.exports.seqMap(e.number,me.exports.optWhitespace,e.durationType,(t,n,r)=>Hb[r].mapUnits(o=>o*t)).sepBy1(me.exports.string(",").trim(me.exports.optWhitespace).or(me.exports.optWhitespace)).map(t=>t.reduce((n,r)=>n.plus(r))).desc("duration like 4hr2min"),rawNull:e=>me.exports.string("null"),tagSource:e=>e.tag.map(t=>sl.tag(t)),csvSource:e=>me.exports.seqMap(me.exports.string("csv(").skip(me.exports.optWhitespace),e.string,me.exports.string(")"),(t,n,r)=>sl.csv(n)),linkIncomingSource:e=>e.link.map(t=>sl.link(t.path,!0)),linkOutgoingSource:e=>me.exports.seqMap(me.exports.string("outgoing(").skip(me.exports.optWhitespace),e.link,me.exports.string(")"),(t,n,r)=>sl.link(n.path,!1)),folderSource:e=>e.string.map(t=>sl.folder(t)),parensSource:e=>me.exports.seqMap(me.exports.string("("),me.exports.optWhitespace,e.source,me.exports.optWhitespace,me.exports.string(")"),(t,n,r,o,i)=>r),negateSource:e=>me.exports.seqMap(me.exports.alt(me.exports.string("-"),me.exports.string("!")),e.atomSource,(t,n)=>sl.negate(n)),atomSource:e=>me.exports.alt(e.parensSource,e.negateSource,e.linkOutgoingSource,e.linkIncomingSource,e.folderSource,e.tagSource,e.csvSource),binaryOpSource:e=>im(e.atomSource,e.binaryBooleanOp.map(t=>t),sl.binaryOp),source:e=>e.binaryOpSource,variableField:e=>e.identifier.chain(t=>Ub.includes(t.toUpperCase())?me.exports.fail("Variable fields cannot be a keyword ("+Ub.join(" or ")+")"):me.exports.succeed(pr.variable(t))).desc("variable"),numberField:e=>e.number.map(t=>pr.literal(t)).desc("number"),stringField:e=>e.string.map(t=>pr.literal(t)).desc("string"),boolField:e=>e.bool.map(t=>pr.literal(t)).desc("boolean"),dateField:e=>me.exports.seqMap(me.exports.string("date("),me.exports.optWhitespace,e.datePlus,me.exports.optWhitespace,me.exports.string(")"),(t,n,r,o,i)=>pr.literal(r)).desc("date"),durationField:e=>me.exports.seqMap(me.exports.string("dur("),me.exports.optWhitespace,e.duration,me.exports.optWhitespace,me.exports.string(")"),(t,n,r,o,i)=>pr.literal(r)).desc("duration"),nullField:e=>e.rawNull.map(t=>pr.NULL),linkField:e=>e.link.map(t=>pr.literal(t)),listField:e=>e.field.sepBy(me.exports.string(",").trim(me.exports.optWhitespace)).wrap(me.exports.string("[").skip(me.exports.optWhitespace),me.exports.optWhitespace.then(me.exports.string("]"))).map(t=>pr.list(t)).desc("list ('[1, 2, 3]')"),objectField:e=>me.exports.seqMap(e.identifier.or(e.string),me.exports.string(":").trim(me.exports.optWhitespace),e.field,(t,n,r)=>({name:t,value:r})).sepBy(me.exports.string(",").trim(me.exports.optWhitespace)).wrap(me.exports.string("{").skip(me.exports.optWhitespace),me.exports.optWhitespace.then(me.exports.string("}"))).map(t=>{let n={};for(let r of t)n[r.name]=r.value;return pr.object(n)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:e=>me.exports.alt(e.date,e.duration.map(t=>BE(t)),e.string,e.tag,e.embedLink,e.bool,e.number,e.rawNull),inlineFieldList:e=>e.atomInlineField.sepBy(me.exports.string(",").trim(me.exports.optWhitespace).lookahead(e.atomInlineField)),inlineField:e=>me.exports.alt(me.exports.seqMap(e.atomInlineField,me.exports.string(",").trim(me.exports.optWhitespace),e.inlineFieldList,(t,n,r)=>[t].concat(r)),e.atomInlineField),atomField:e=>me.exports.alt(e.embedLink.map(t=>pr.literal(t)),e.negatedField,e.linkField,e.listField,e.objectField,e.lambdaField,e.parensField,e.boolField,e.numberField,e.stringField,e.dateField,e.durationField,e.nullField,e.variableField),indexField:e=>me.exports.seqMap(e.atomField,me.exports.alt(e.dotPostfix,e.indexPostfix,e.functionPostfix).many(),(t,n)=>{let r=t;for(let o of n)switch(o.type){case"dot":r=pr.index(r,pr.literal(o.field));break;case"index":r=pr.index(r,o.field);break;case"function":r=pr.func(r,o.fields);break}return r}),negatedField:e=>me.exports.seqMap(me.exports.string("!"),e.indexField,(t,n)=>pr.negate(n)).desc("negated field"),parensField:e=>me.exports.seqMap(me.exports.string("("),me.exports.optWhitespace,e.field,me.exports.optWhitespace,me.exports.string(")"),(t,n,r,o,i)=>r),lambdaField:e=>me.exports.seqMap(e.identifier.sepBy(me.exports.string(",").trim(me.exports.optWhitespace)).wrap(me.exports.string("(").trim(me.exports.optWhitespace),me.exports.string(")").trim(me.exports.optWhitespace)),me.exports.string("=>").trim(me.exports.optWhitespace),e.field,(t,n,r)=>({type:"lambda",arguments:t,value:r})),dotPostfix:e=>me.exports.seqMap(me.exports.string("."),e.identifier,(t,n)=>({type:"dot",field:n})),indexPostfix:e=>me.exports.seqMap(me.exports.string("["),me.exports.optWhitespace,e.field,me.exports.optWhitespace,me.exports.string("]"),(t,n,r,o,i)=>({type:"index",field:r})),functionPostfix:e=>me.exports.seqMap(me.exports.string("("),me.exports.optWhitespace,e.field.sepBy(me.exports.string(",").trim(me.exports.optWhitespace)),me.exports.optWhitespace,me.exports.string(")"),(t,n,r,o,i)=>({type:"function",fields:r})),binaryMulDivField:e=>im(e.indexField,e.binaryMulDiv,pr.binaryOp),binaryPlusMinusField:e=>im(e.binaryMulDivField,e.binaryPlusMinus,pr.binaryOp),binaryCompareField:e=>im(e.binaryPlusMinusField,e.binaryCompareOp,pr.binaryOp),binaryBooleanField:e=>im(e.binaryCompareField,e.binaryBooleanOp,pr.binaryOp),binaryOpField:e=>e.binaryBooleanField,field:e=>e.binaryOpField});function AF(e){try{return Tv.success(cs.field.tryParse(e))}catch(t){return Tv.failure(""+t)}}var Iv;(function(e){function t(r,o){return{name:r,field:o}}e.named=t;function n(r,o){return{field:r,direction:o}}e.sortBy=n})(Iv||(Iv={}));function FF(e){return me.exports.custom((t,n)=>(r,o)=>{let i=e._(r,o);return i.status?Object.assign({},i,{value:[i.value,r.substring(o,i.index)]}):i})}function PF(e){return e.split(/[\r\n]+/).map(t=>t.trim()).join("")}const OF=me.exports.createLanguage({queryType:e=>me.exports.alt(me.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(t=>t.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:e=>me.exports.seqMap(cs.field.skip(me.exports.whitespace),me.exports.regexp(/AS/i).skip(me.exports.whitespace),cs.identifier.or(cs.string),(t,n,r)=>Iv.named(r,t)),namedField:e=>me.exports.alt(e.explicitNamedField,FF(cs.field).map(([t,n])=>Iv.named(PF(n),t))),sortField:e=>me.exports.seqMap(cs.field.skip(me.exports.optWhitespace),me.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(t,n)=>{let r=n.length==0?"ascending":n[0].toLowerCase();return r=="desc"&&(r="descending"),r=="asc"&&(r="ascending"),{field:t,direction:r}}),headerClause:e=>e.queryType.skip(me.exports.whitespace).chain(t=>{switch(t){case"table":return me.exports.seqMap(me.exports.regexp(/WITHOUT\s+ID/i).skip(me.exports.optWhitespace).atMost(1),me.exports.sepBy(e.namedField,me.exports.string(",").trim(me.exports.optWhitespace)),(n,r)=>({type:"table",fields:r,showId:n.length==0}));case"list":return me.exports.seqMap(me.exports.regexp(/WITHOUT\s+ID/i).skip(me.exports.optWhitespace).atMost(1),cs.field.atMost(1),(n,r)=>({type:"list",format:r.length==1?r[0]:void 0,showId:n.length==0}));case"task":return me.exports.succeed({type:"task"});case"calendar":return me.exports.seqMap(e.namedField,n=>({type:"calendar",showId:!0,field:n}));default:return me.exports.fail(`Unrecognized query type '${t}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:e=>me.exports.seqMap(me.exports.regexp(/FROM/i),me.exports.whitespace,cs.source,(t,n,r)=>r),whereClause:e=>me.exports.seqMap(me.exports.regexp(/WHERE/i),me.exports.whitespace,cs.field,(t,n,r)=>({type:"where",clause:r})).desc("WHERE <expression>"),sortByClause:e=>me.exports.seqMap(me.exports.regexp(/SORT/i),me.exports.whitespace,e.sortField.sepBy1(me.exports.string(",").trim(me.exports.optWhitespace)),(t,n,r)=>({type:"sort",fields:r})).desc("SORT field [ASC/DESC]"),limitClause:e=>me.exports.seqMap(me.exports.regexp(/LIMIT/i),me.exports.whitespace,cs.field,(t,n,r)=>({type:"limit",amount:r})).desc("LIMIT <value>"),flattenClause:e=>me.exports.seqMap(me.exports.regexp(/FLATTEN/i).skip(me.exports.whitespace),e.namedField,(t,n)=>({type:"flatten",field:n})).desc("FLATTEN <value> [AS <name>]"),groupByClause:e=>me.exports.seqMap(me.exports.regexp(/GROUP BY/i).skip(me.exports.whitespace),e.namedField,(t,n)=>({type:"group",field:n})).desc("GROUP BY <value> [AS <name>]"),clause:e=>me.exports.alt(e.fromClause,e.whereClause,e.sortByClause,e.limitClause,e.groupByClause,e.flattenClause),query:e=>me.exports.seqMap(e.headerClause.trim(me.exports.optWhitespace),e.fromClause.trim(me.exports.optWhitespace).atMost(1),e.clause.trim(me.exports.optWhitespace).many(),(t,n,r)=>({header:t,source:n.length==0?sl.folder(""):n[0],operations:r,settings:j1}))}),jF=e=>{var t;return e?(t=e.plugins.plugins.dataview)===null||t===void 0?void 0:t.api:window.DataviewAPI},LF=e=>e.plugins.enabledPlugins.has("dataview");lu.DATE_SHORTHANDS=Yb;lu.DURATION_TYPES=Hb;lu.EXPRESSION=cs;lu.KEYWORDS=Ub;lu.QUERY_LANGUAGE=OF;var RF=lu.getAPI=jF;lu.isPluginEnabled=LF;lu.parseField=AF;async function _F(e,t,n,r,o){var I,k;const{vault:i,metadataCache:a}=Le.getState().dailyNotesState.app===void 0?app:Le.getState().dailyNotesState.app,u=Le.getState().dailyNotesState.settings,d=e.replace(/\n/g,"<br>");if(n===void 0)return;const f=a.getFirstLinkpathDest("",n),m=C.moment(),g=m.format("YYYYMMDDHHmmss"),v=r.slice(14),b="    ",S=g+" "+d.trim(),T=b+"- "+g+" "+d.trim();if(f){let A;if(u!=null&&u.CommentOnMemos&&(u!=null&&u.CommentsInOriginalNotes)){const L=RF();if(L!==void 0)try{A=(k=(I=L.page(f.path))==null?void 0:I.file.lists.values)==null?void 0:k.filter(z=>z.line===parseInt(v))}catch(z){console.error(z)}}const R=await i.read(f);let j=0;A[0].children.values.length>0?j=A[0].children.values[A[0].children.values.length-1].line:j=A[0].line;const B=await BF(T,R,j);if(await i.modify(f,B.content),t)return{id:g+(j+1),content:S,deletedAt:"",createdAt:m.format("YYYY/MM/DD HH:mm:ss"),updatedAt:m.format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",path:f.path,hasId:"",linkId:o}}}async function BF(e,t,n){if(n===-1)return{content:`${t}
${e}`,posNum:-1};const r=t.split(`
`),o=r.slice(0,n+1).join(`
`),i=r.slice(n+1).join(`
`);return/^\s*$/g.test(r[n+1])?{content:`${o}
${e}
${i}`,posNum:n}:{content:`${o}
${e}
${i}`,posNum:n}}function HF(e,t,n){var o;const r=t.workspace.getLeavesOfType("markdown");for(const i of r){const a=i.view;if(((o=a==null?void 0:a.file)==null?void 0:o.path)===e){t.workspace.revealLeaf(i);try{return i.view.setEphemeralState({line:n}),!0}catch(u){return console.error(u),!1}}}return!1}const H1=async e=>{var i;const t=vt.getState().app,n=t.workspace.getLeavesOfType("markdown");for(const a of n){const u=a.view;if(((i=u==null?void 0:u.file)==null?void 0:i.path)===e){t.workspace.revealLeaf(a);return}}const r=t.metadataCache.getFirstLinkpathDest("",e);if(!r){new C.Notice(E("File not found for the given thino path"));return}await t.workspace.getLeaf(!0).openFile(r)},Y1=async(e,t)=>{const{app:n}=vt.getState(),r=parseInt(e.slice(14));if(HF(t,n,r))return;const o=n.metadataCache.getFirstLinkpathDest("",t);if(!C.Platform.isMobile)await n.workspace.getLeaf(!0).openFile(o,{eState:{line:r}});else{let i=n.workspace.activeLeaf;i===null&&(i=n.workspace.getLeaf(!0)),await i.openFile(o,{eState:{line:r}})}},U1=async(e,t)=>{var f,m,g;const n=vt.getState().app,r=n.metadataCache.getFirstLinkpathDest("",t);if(!r){new C.Notice(E("File not found for the given thino path"));return}let o="";try{o=await n.vault.read(r)}catch(v){console.error(v),o=await n.vault.cachedRead(r)}const a=o.split(/\r?\n/).findIndex(v=>v.contains(e)),u=n.workspace.getLeavesOfType("markdown");for(const v of u){const b=v.view;if(((f=b==null?void 0:b.file)==null?void 0:f.path)===r.path){n.workspace.revealLeaf(v);try{(m=v.view.editor)==null||m.setCursor({line:a,ch:1});return}catch(S){console.error(S)}}}const d=n.workspace.getLeaf(!0);await d.openFile(r,{eState:{line:a}});try{(g=d.view.editor)==null||g.setCursor({line:a,ch:1})}catch(v){console.error(v)}},z1=async(e,t)=>{var u;const n=vt.getState().app,r=(d,f)=>{var g;const m=(g=Array.from(d.nodes.values()))==null?void 0:g.find(v=>v.id===f);return m?(d.selectOnly(m),d.zoomToSelection(),!0):!1},o=n.workspace.getLeavesOfType("canvas");for(const d of o){const f=d.view;if(((u=f==null?void 0:f.file)==null?void 0:u.path)===t&&(n.workspace.revealLeaf(d),r(f.canvas,e)))return}const i=n.metadataCache.getFirstLinkpathDest("",t);if(!i){new C.Notice(E("File not found for the given thino path"));return}const a=n.workspace.getLeaf(!0);await a.openFile(i),setTimeout(()=>{var d;r((d=a.view)==null?void 0:d.canvas,e)},10)};class YF{constructor(){De(this,"initialized",!1)}getState(){return Le.getState().memoState}async fetchAllMemos(){const t=vt.getState().settings;lt.checkDailyInMulti(t);const n=await ki.getMyMemos(t.EnabledLocationList.map(i=>i.value)),r=[...n.memos],o=[...n.commentMemos];return Le.dispatch({type:"SET_MEMOS",payload:{memos:r}}),Le.dispatch({type:"SET_COMMENT_MEMOS",payload:{commentMemos:o}}),this.initialized||(this.initialized=!0,ft.setLoaded(!0)),r}async updateTypeMemos(t){const n=await ki.updateSpecificTypeMemo(t),r=this.getState().memos.filter(o=>o.sourceType!==t);Le.dispatch({type:"SET_MEMOS",payload:{memos:[...r,...n.memos]}})}async removeTypeMemos(t){const n=this.getState().memos.filter(r=>r.sourceType!==t);Le.dispatch({type:"SET_MEMOS",payload:{memos:[...n]}})}async fetchDeletedMemos(){const t=await ki.getMyDeletedMemos();return t.sort((n,r)=>lt.getTimeStampByDate(r.deletedAt)-lt.getTimeStampByDate(n.deletedAt)),t}pushMemo(t){Le.dispatch({type:"INSERT_MEMO",payload:{memo:{...t}}})}pushCommentMemo(t){Le.dispatch({type:"INSERT_COMMENT_MEMO",payload:{memo:{...t}}})}getMemoById(t){for(const n of this.getState().memos)if(n.id===t)return n;return null}getCommentMemoById(t){for(const n of this.getState().commentMemos)if(n.id===t)return n;return null}getMemoByWebId(t){for(const n of this.getState().memos)if(n.webId===t||n.id===t)return n;return null}async updateMemoById(t,n,r){const o=this.getMemoByWebId(t);if(!o)return;let i=null;const a=r?{}:{content:n.content,rowStatus:n.rowStatus,pinned:n.pinned,deleted:!!n.deletedAt,thinoType:n.thinoType??""};switch(o.sourceType){case"DAILY":i=await al(o,{id:o.id,webId:n.id,...a});break;case"CANVAS":i=await il(o,{id:o.id,webId:n.id,...a});break;case"MULTI":i=await ds(o,{id:o.id,webId:n.id,...a});break;case"FILE":i=await ol(o,{id:o.id,webId:n.id,...a});break}if(!i)return o;Le.dispatch({type:"EDIT_MEMO",payload:i})}async archiveThinoBulk(t){const n=[];for(const r of t){let o;switch(r.sourceType){case"DAILY":o=await al(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(o);break;case"CANVAS":o=await il(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(o);break;case"MULTI":o=await ds(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(o);break;case"FILE":o=await ol(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(o);break}}return n.length>0?(Le.dispatch({type:"ARCHIVE_MEMO_BY_ID_BULK",payload:n}),n):t}async archiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await al(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"CANVAS":n=await il(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"MULTI":n=await ds(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"FILE":n=await ol(t,{id:t.id,rowStatus:"ARCHIVED"});break}return n?(Le.dispatch({type:"ARCHIVE_MEMO_BY_ID",payload:n}),n):t}async pushToUpdateList(t,n){Le.dispatch({type:"PREPARE_UPDATE_THINO",payload:{thino:t,originalId:n}})}async removePrepareUpdateThinoById(t){Le.dispatch({type:"REMOVE_PARTICULAR_PREPARE_UPDATE_THINO",payload:{originalId:t}})}async removePrepareUpdateThino(){Le.dispatch({type:"REMOVE_PREPARE_UPDATE_THINO",payload:null})}async unarchiveThinoBulk(t){const n=[];for(const r of t){let o;switch(r.sourceType){case"DAILY":o=await al(r,{id:r.id,rowStatus:"NORMAL"}),n.push(o);break;case"CANVAS":o=await il(r,{id:r.id,rowStatus:"NORMAL"}),n.push(o);break;case"MULTI":o=await ds(r,{id:r.id,rowStatus:"NORMAL"}),n.push(o);break;case"FILE":o=await ol(r,{id:r.id,rowStatus:"NORMAL"}),n.push(o);break}}return n.length>0?(Le.dispatch({type:"ARCHIVE_MEMO_BY_ID_BULK",payload:n}),n):t}async unarchiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await al(t,{id:t.id,rowStatus:"NORMAL"});break;case"CANVAS":n=await il(t,{id:t.id,rowStatus:"NORMAL"});break;case"MULTI":n=await ds(t,{id:t.id,rowStatus:"NORMAL"});break;case"FILE":n=await ol(t,{id:t.id,rowStatus:"NORMAL"});break}return Le.dispatch({type:"UNARCHIVE_MEMO_BY_ID",payload:n}),n}async hideMemoById(t){const n=this.getMemoById(t);if(!n)return n;let r=null;switch(n.sourceType){case"DAILY":r=await al(n,{id:n.id,deleted:!0});break;case"CANVAS":r=await il(n,{id:n.id,deleted:!0});break;case"MULTI":r=await ds(n,{id:n.id,deleted:!0});break;case"FILE":r=await ol(n,{id:n.id,deleted:!0});break}if(!r)return n;if(r)return r}async restoreMemoById(t){return await ki.restoreMemo(t)}async deleteMemoById(t,n){const r=this.getMemoById(t);try{switch(r.sourceType){case"DAILY":await ki.deleteMemoInDailyNote(r);break;case"CANVAS":await ki.deleteMemoInCanvas(r);break;case"MULTI":await ki.deleteMemoInMultiFiles(r);break;case"FILE":await ki.deleteMemoInSingleFile(r);break}Le.dispatch({type:"DELETE_MEMO_BY_ID",payload:{id:t}})}catch(u){console.error(u),new C.Notice(E("Failed to delete memo"))}if(n&&n==="local")return;const o=vt.getState().settings,i=vt.getState().app;!(i!=null&&i.loadLocalStorage("tokenForSync"))||!o.startSync||r.webId&&await e8(r.webId)}async removeMemosInFile(t,n){var o,i;const r=[];try{if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n){const u=this.getState().memos.filter(d=>d.path.trim()===t.path.trim());r.push(...u)}else if(t.path.contains("thino.canvas")){const u=this.getState().memos.filter(d=>d.path.trim()===t.path.trim());r.push(...u)}else if((o=t==null?void 0:t.parent)!=null&&o.path.contains(n)||!(t!=null&&t.parent)&&!((i=t==null?void 0:t.parent)!=null&&i.path)){const u=this.getState().memos.filter(d=>d.path.trim()===t.path.trim());u.length>0&&r.push(...u)}else t.path.endsWith(".md")&&t.path.contains(".thino")&&await Fb(t,r);const a=r.map(u=>u.id);Le.dispatch({type:"DELETE_MEMO_BY_ID_BATCH",payload:{ids:a}})}catch(a){console.error(a)}}async removeThinosByPath(t){const r=this.getState().memos.filter(o=>o.path===t).map(o=>o.id);Le.dispatch({type:"DELETE_MEMO_BY_ID_BATCH",payload:{ids:r}})}async updateMemosInFile(t,n){const r=[],o=async()=>{var i;if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n){await jx(t,r);return}else if(t.path.contains("thino.canvas")){await Lx(t,r);return}else if((i=t==null?void 0:t.parent)!=null&&i.path.contains(n)&&!t.path.endsWith(".thino.md")){await Ox(t,r);return}else if(t.path.endsWith(".thino.md")){await Fb(t,r);return}};try{await o(),Le.dispatch({type:"UPDATE_MEMO_BATCH",payload:{memos:r,path:t.path}})}catch(i){console.error(i)}}async updateMemoProperty(t){const n=lt.randomId(16),r=await ds(t,{id:n});Le.dispatch({type:"EDIT_MEMO_PATH",payload:r})}editMemo(t){const n=t.webId;Le.dispatch({type:"EDIT_MEMO",payload:t});const r=vt.getState().settings,o=vt.getState().app;if(!(!(o!=null&&o.loadLocalStorage("tokenForSync"))||!r.startSync))try{t&&n&&Rw({id:n,content:t.content,rowStatus:t.rowStatus,pinned:t.pinned,ttime:t.deletedAt?C.moment(t.deletedAt,"YYYY/MM/DD HH:mm:ss").valueOf():0,thinoType:t.sourceType==="DAILY"?"DAILY":"FILE"})}catch(a){console.error(a)}}editMemoBulk(t){for(const n of t)this.editMemo(n);this.updateTagsState()}editCommentMemo(t){Le.dispatch({type:"EDIT_COMMENT_MEMO",payload:t})}getThinoViaKeyword(t){const{memos:n}=this.getState();return n.filter(o=>o.content.toLowerCase().includes(t==null?void 0:t.toLowerCase()))}updateTagsState(){const{memos:t}=this.getState(),n=new Set,r={};for(const o of t){const i=o.content.replace(/<[^>]*>/g,"").replace(/\`\`\`(.*)?\n[\s\S]*?\n\`\`\`/gm,"").replace(/\`([^\`].*?)\`/g,"");if(o.deletedAt!==""&&o.deletedAt)continue;[...Array.from(i.match(yr)||[]),...Array.from(i.match(Or)||[]),...Array.from(i.match(so)||[])].forEach(u=>{const d=u.replace(yr,"$1").replace(Or,"$1").replace(so,"$2").trim();/^\d+$/.test(d)||(n.add(d),r[d]=(r[d]||0)+1)})}Le.dispatch({type:"SET_TAGS",payload:{tags:Array.from(n),tagsNum:r}})}clearMemos(){Le.dispatch({type:"SET_MEMOS",payload:{memos:[]}})}async getLinkedMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes(t))}async getCommentMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes("comment: "+t))}async createMemoMultiFile({content:t,isList:n,name:r}){return await r8({content:t,isList:n,name:r})}async createMemoSingleFile({content:t,isList:n}){return await o8({content:t,isList:n})}async createOrPatchThinoFromWeb(t){const n=this.getState().memos;if(t.localId&&(n!=null&&n.some(i=>i.id===t.localId)))return await this.updateMemoById(t.localId,t,!0),null;if(n!=null&&n.some(i=>i.id===t.id)||n!=null&&n.some(i=>i.webId===t.id))return await this.updateMemoById(t.id,t,!1),null;let r=t.sourceType;const o=vt.getState().settings;switch(o&&(o!=null&&o.saveThinoType)&&(r=o.saveThinoType!=="FILE"?o.saveThinoType:t.sourceType),r){case"FILE":case"MULTI":case"CANVAS":return await ED(t);case"DAILY":return await a8(t);default:return await ED(t)}}async initSync(){const n=this.getState().memos.filter(o=>!o.webId),r=await X6(n);for(const o of r)await this.createOrPatchThinoFromWeb(o)}async createMemoCanvas({text:t,isList:n}){return await i8({content:t,isList:n})}async createMemoDaily(t,n){return await CD(t,n)}async pinMemoById(t){const n=this.getMemoById(t),r=await b8(n);Le.dispatch({type:"PIN_MEMO",payload:r});try{const o=vt.getState().settings,i=vt.getState().app;if((i==null?void 0:i.loadLocalStorage("tokenForSync"))&&o.startSync){const u=await Rw({id:r.webId,pinned:!0});this.editMemo(u)}}catch(o){console.error(o)}}async unpinMemoById(t){const n=this.getMemoById(t),r=await S8(n);Le.dispatch({type:"PIN_MEMO",payload:r});try{const o=vt.getState().settings,i=vt.getState().app;if((i==null?void 0:i.loadLocalStorage("tokenForSync"))&&o.startSync){const u=await Rw({id:r.webId,pinned:!1});this.editMemo(u)}}catch(o){console.error(o)}}async createCommentMemo(t,n,r,o,i){return await _F(t,n,r,o,i)}async importMemos(t,n,r){return await CD(t,n,r)}async createThino({content:t,isList:n,type:r,name:o}){let i=null;switch(r.toLowerCase()){case"canvas":i=await Re.createMemoCanvas({text:t,isList:n});break;case"multi":i=await Re.createMemoMultiFile({content:t,isList:n,name:o});break;case"daily":i=await Re.createMemoDaily(t,n);break;case"file":i=await Re.createMemoSingleFile({content:t,isList:n});break;default:i=await Re.createMemoDaily(t,n);break}const a=vt.getState().settings,u=vt.getState().app,d=u==null?void 0:u.loadLocalStorage("tokenForSync");return i&&d&&a.startSync&&setTimeout(async()=>{try{const f=await C1({content:t,thinoType:r==="DAILY"?"DAILY":"FILE"});await this.updateMemoById(i.id,f,!0)}catch(f){console.error(f)}},200),i}async openThinoByID(t){const n=this.getMemoById(t);if(n)switch(n.sourceType){case"DAILY":await Y1(n.id,n.path);break;case"CANVAS":await z1(n.id,n.path);break;case"MULTI":await H1(n.path);break;case"FILE":await U1(n.id,n.path);break}}async updateMemo(t,n,r){const o=this.getMemoById(t);if(o){let i=null;switch(o.sourceType){case"DAILY":i=await al(o,{id:o.id,content:n,thinoType:r||o.thinoType});break;case"CANVAS":i=await il(o,{id:o.id,content:n,thinoType:r||o.thinoType});break;case"MULTI":i=await ds(o,{id:o.id,content:n,thinoType:r||o.thinoType});break;case"FILE":i=await ol(o,{id:o.id,content:n,thinoType:r||o.thinoType})}if(i)return i}return o}}const Re=new YF;class UF{getState(){return Le.getState().queryState}async getMyAllQueries(){const t=at.getState().query.filter,n=this.getQueryById(t),r=await ki.getMyQueries();return Le.dispatch({type:"SET_QUERIES",payload:{queries:[...r,...n?[n]:[]]}}),r}getQueryById(t){return this.getState().queries.find(n=>n.id===t)}pushQuery(t){Le.dispatch({type:"INSERT_QUERY",payload:{query:{...t}}})}editQuery(t){Le.dispatch({type:"UPDATE_QUERY",payload:t})}async deleteQuery(t){await ki.deleteQueryById(t),Le.dispatch({type:"DELETE_QUERY_BY_ID",payload:{id:t}})}async createQuery(t,n){return await ki.createQuery(t,n)}createTempQuery(t,n){return I6(t,n)}async updateQuery(t,n,r){return await ki.updateQuery(t,n,r)}async pinQuery(t){await ki.pinQuery(t)}async unpinQuery(t){await ki.unpinQuery(t)}}const Qt=new UF;class zF{async upload(t){const{vault:n,fileManager:r}=Le.getState().dailyNotesState.app,o=await t.arrayBuffer(),i=VF(t.type),a=su(),u=C.moment(),d=Xv(u,a);let f;if(d)d instanceof C.TFile&&(f=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,i,d),o));else{const m=await xx(u);f=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,i,m),o)}return r.generateMarkdownLink(f,f.path,"","")}async parseHtml(t){const n=await t.text(),r=document.createElement("html");r.innerHTML=n;const o=Array.from(r.getElementsByClassName("memo"));for(const i of o){const a=i.getElementsByClassName("content")[0],u=C.htmlToMarkdown(a.innerHTML),d=await Re.importMemos(u,!0,C.moment(i.getElementsByClassName("time")[0].innerHTML));Re.pushMemo(d)}}}const VF=e=>{var t;return(t=/^image\/(.+)$/.exec(e))==null?void 0:t[1]},V1=new zF;var Pa={},HE={exports:{}},Mi={},Zw={exports:{}},$w={},o2;function WF(){return o2||(o2=1,function(e){function t(oe,he){var G=oe.length;oe.push(he);e:for(;0<G;){var ne=G-1>>>1,pe=oe[ne];if(0<o(pe,he))oe[ne]=he,oe[G]=pe,G=ne;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var he=oe[0],G=oe.pop();if(G!==he){oe[0]=G;e:for(var ne=0,pe=oe.length,Ie=pe>>>1;ne<Ie;){var Oe=2*(ne+1)-1,Ye=oe[Oe],_e=Oe+1,$e=oe[_e];if(0>o(Ye,G))_e<pe&&0>o($e,Ye)?(oe[ne]=$e,oe[_e]=G,ne=_e):(oe[ne]=Ye,oe[Oe]=G,ne=Oe);else if(_e<pe&&0>o($e,G))oe[ne]=$e,oe[_e]=G,ne=_e;else break e}}return he}function o(oe,he){var G=oe.sortIndex-he.sortIndex;return G!==0?G:oe.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var d=[],f=[],m=1,g=null,v=3,b=!1,S=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(oe){for(var he=n(f);he!==null;){if(he.callback===null)r(f);else if(he.startTime<=oe)r(f),he.sortIndex=he.expirationTime,t(d,he);else break;he=n(f)}}function j(oe){if(T=!1,R(oe),!S)if(n(d)!==null)S=!0,$(B);else{var he=n(f);he!==null&&le(j,he.startTime-oe)}}function B(oe,he){S=!1,T&&(T=!1,k(U),U=-1),b=!0;var G=v;try{for(R(he),g=n(d);g!==null&&(!(g.expirationTime>he)||oe&&!re());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,v=g.priorityLevel;var pe=ne(g.expirationTime<=he);he=e.unstable_now(),typeof pe=="function"?g.callback=pe:g===n(d)&&r(d),R(he)}else r(d);g=n(d)}if(g!==null)var Ie=!0;else{var Oe=n(f);Oe!==null&&le(j,Oe.startTime-he),Ie=!1}return Ie}finally{g=null,v=G,b=!1}}var L=!1,z=null,U=-1,W=5,Z=-1;function re(){return!(e.unstable_now()-Z<W)}function Q(){if(z!==null){var oe=e.unstable_now();Z=oe;var he=!0;try{he=z(!0,oe)}finally{he?ce():(L=!1,z=null)}}else L=!1}var ce;if(typeof A=="function")ce=function(){A(Q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,fe=ee.port2;ee.port1.onmessage=Q,ce=function(){fe.postMessage(null)}}else ce=function(){I(Q,0)};function $(oe){z=oe,L||(L=!0,ce())}function le(oe,he){U=I(function(){oe(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){S||b||(S=!0,$(B))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(oe){switch(v){case 1:case 2:case 3:var he=3;break;default:he=v}var G=v;v=he;try{return oe()}finally{v=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,he){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var G=v;v=oe;try{return he()}finally{v=G}},e.unstable_scheduleCallback=function(oe,he,G){var ne=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ne+G:ne):G=ne,oe){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=G+pe,oe={id:m++,callback:he,priorityLevel:oe,startTime:G,expirationTime:pe,sortIndex:-1},G>ne?(oe.sortIndex=G,t(f,oe),n(d)===null&&oe===n(f)&&(T?(k(U),U=-1):T=!0,le(j,G-ne))):(oe.sortIndex=pe,t(d,oe),S||b||(S=!0,$(B))),oe},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(oe){var he=v;return function(){var G=v;v=he;try{return oe.apply(this,arguments)}finally{v=G}}}}($w)),$w}var i2;function ZF(){return i2||(i2=1,Zw.exports=WF()),Zw.exports}var a2;function $F(){if(a2)return Mi;a2=1;var e=F,t=ZF();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(o[s]=l,s=0;s<l.length;s++)r.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(s){return d.call(g,s)?!0:d.call(m,s)?!1:f.test(s)?g[s]=!0:(m[s]=!0,!1)}function b(s,l,p,w){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return w?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,l,p,w){if(l===null||typeof l>"u"||b(s,l,p,w))return!0;if(w)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(s,l,p,w,x,P,V){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=w,this.attributeNamespace=x,this.mustUseProperty=p,this.propertyName=s,this.type=l,this.sanitizeURL=P,this.removeEmptyString=V}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new T(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];I[l]=new T(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new T(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new T(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new T(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new T(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new T(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new T(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new T(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(k,A);I[l]=new T(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(k,A);I[l]=new T(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(k,A);I[l]=new T(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new T(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new T(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,l,p,w){var x=I.hasOwnProperty(l)?I[l]:null;(x!==null?x.type!==0:w||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,p,x,w)&&(p=null),w||x===null?v(l)&&(p===null?s.removeAttribute(l):s.setAttribute(l,""+p)):x.mustUseProperty?s[x.propertyName]=p===null?x.type===3?!1:"":p:(l=x.attributeName,w=x.attributeNamespace,p===null?s.removeAttribute(l):(x=x.type,p=x===3||x===4&&p===!0?"":""+p,w?s.setAttributeNS(w,l,p):s.setAttribute(l,p))))}var j=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),re=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),oe=Symbol.iterator;function he(s){return s===null||typeof s!="object"?null:(s=oe&&s[oe]||s["@@iterator"],typeof s=="function"?s:null)}var G=Object.assign,ne;function pe(s){if(ne===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);ne=l&&l[1]||""}return`
`+ne+s}var Ie=!1;function Oe(s,l){if(!s||Ie)return"";Ie=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(je){var w=je}Reflect.construct(s,[],l)}else{try{l.call()}catch(je){w=je}s.call(l.prototype)}else{try{throw Error()}catch(je){w=je}s()}}catch(je){if(je&&w&&typeof je.stack=="string"){for(var x=je.stack.split(`
`),P=w.stack.split(`
`),V=x.length-1,ue=P.length-1;1<=V&&0<=ue&&x[V]!==P[ue];)ue--;for(;1<=V&&0<=ue;V--,ue--)if(x[V]!==P[ue]){if(V!==1||ue!==1)do if(V--,ue--,0>ue||x[V]!==P[ue]){var ye=`
`+x[V].replace(" at new "," at ");return s.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",s.displayName)),ye}while(1<=V&&0<=ue);break}}}finally{Ie=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?pe(s):""}function Ye(s){switch(s.tag){case 5:return pe(s.type);case 16:return pe("Lazy");case 13:return pe("Suspense");case 19:return pe("SuspenseList");case 0:case 2:case 15:return s=Oe(s.type,!1),s;case 11:return s=Oe(s.type.render,!1),s;case 1:return s=Oe(s.type,!0),s;default:return""}}function _e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case L:return"Portal";case W:return"Profiler";case U:return"StrictMode";case ce:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case re:return(s.displayName||"Context")+".Consumer";case Z:return(s._context.displayName||"Context")+".Provider";case Q:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case fe:return l=s.displayName||null,l!==null?l:_e(s.type)||"Memo";case $:l=s._payload,s=s._init;try{return _e(s(l))}catch{}}return null}function $e(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(l);case 8:return l===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ue(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function yt(s){var l=Ke(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),w=""+s[l];if(!s.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,P=p.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return x.call(this)},set:function(V){w=""+V,P.call(this,V)}}),Object.defineProperty(s,l,{enumerable:p.enumerable}),{getValue:function(){return w},setValue:function(V){w=""+V},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Ce(s){s._valueTracker||(s._valueTracker=yt(s))}function rt(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var p=l.getValue(),w="";return s&&(w=Ke(s)?s.checked?"true":"false":s.value),s=w,s!==p?(l.setValue(s),!0):!1}function st(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function dt(s,l){var p=l.checked;return G({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function It(s,l){var p=l.defaultValue==null?"":l.defaultValue,w=l.checked!=null?l.checked:l.defaultChecked;p=Ue(l.value!=null?l.value:p),s._wrapperState={initialChecked:w,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Et(s,l){l=l.checked,l!=null&&R(s,"checked",l,!1)}function _t(s,l){Et(s,l);var p=Ue(l.value),w=l.type;if(p!=null)w==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(w==="submit"||w==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?vn(s,l.type,p):l.hasOwnProperty("defaultValue")&&vn(s,l.type,Ue(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Ut(s,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var w=l.type;if(!(w!=="submit"&&w!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,p||l===s.value||(s.value=l),s.defaultValue=l}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function vn(s,l,p){(l!=="number"||st(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var $t=Array.isArray;function tn(s,l,p,w){if(s=s.options,l){l={};for(var x=0;x<p.length;x++)l["$"+p[x]]=!0;for(p=0;p<s.length;p++)x=l.hasOwnProperty("$"+s[p].value),s[p].selected!==x&&(s[p].selected=x),x&&w&&(s[p].defaultSelected=!0)}else{for(p=""+Ue(p),l=null,x=0;x<s.length;x++){if(s[x].value===p){s[x].selected=!0,w&&(s[x].defaultSelected=!0);return}l!==null||s[x].disabled||(l=s[x])}l!==null&&(l.selected=!0)}}function rn(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Xt(s,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(n(92));if($t(p)){if(1<p.length)throw Error(n(93));p=p[0]}l=p}l==null&&(l=""),p=l}s._wrapperState={initialValue:Ue(p)}}function Ln(s,l){var p=Ue(l.value),w=Ue(l.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),l.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),w!=null&&(s.defaultValue=""+w)}function lr(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function $r(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?$r(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var nr,ji=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,w,x){MSApp.execUnsafeLocalFunction(function(){return s(l,p,w,x)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(nr=nr||document.createElement("div"),nr.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=nr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function xo(s,l){if(l){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=l;return}}s.textContent=l}var Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Li=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach(function(s){Li.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Uo[l]=Uo[s]})});function Eo(s,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||Uo.hasOwnProperty(s)&&Uo[s]?(""+l).trim():l+"px"}function Ri(s,l){s=s.style;for(var p in l)if(l.hasOwnProperty(p)){var w=p.indexOf("--")===0,x=Eo(p,l[p],w);p==="float"&&(p="cssFloat"),w?s.setProperty(p,x):s[p]=x}}var ua=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ui(s,l){if(l){if(ua[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function _i(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var te=null;function ge(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ae=null,Be=null,He=null;function et(s){if(s=Jr(s)){if(typeof Ae!="function")throw Error(n(280));var l=s.stateNode;l&&(l=Qd(l),Ae(s.stateNode,s.type,l))}}function tt(s){Be?He?He.push(s):He=[s]:Be=s}function kt(){if(Be){var s=Be,l=He;if(He=Be=null,et(s),l)for(s=0;s<l.length;s++)et(l[s])}}function Kt(s,l){return s(l)}function On(){}var wn=!1;function jr(s,l,p){if(wn)return s(l,p);wn=!0;try{return Kt(s,l,p)}finally{wn=!1,(Be!==null||He!==null)&&(On(),kt())}}function Rn(s,l){var p=s.stateNode;if(p===null)return null;var w=Qd(p);if(w===null)return null;p=w[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(s=s.type,w=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!w;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,l,typeof p));return p}var rr=!1;if(u)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){rr=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{rr=!1}function ca(s,l,p,w,x,P,V,ue,ye){var je=Array.prototype.slice.call(arguments,3);try{l.apply(p,je)}catch(Je){this.onError(Je)}}var bn=!1,co=null,fo=!1,Cr=null,zo={onError:function(s){bn=!0,co=s}};function ho(s,l,p,w,x,P,V,ue,ye){bn=!1,co=null,ca.apply(zo,arguments)}function bl(s,l,p,w,x,P,V,ue,ye){if(ho.apply(this,arguments),bn){if(bn){var je=co;bn=!1,co=null}else throw Error(n(198));fo||(fo=!0,Cr=je)}}function Bi(s){var l=s,p=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,l.flags&4098&&(p=l.return),s=l.return;while(s)}return l.tag===3?p:null}function Hi(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function cu(s){if(Bi(s)!==s)throw Error(n(188))}function Sl(s){var l=s.alternate;if(!l){if(l=Bi(s),l===null)throw Error(n(188));return l!==s?null:s}for(var p=s,w=l;;){var x=p.return;if(x===null)break;var P=x.alternate;if(P===null){if(w=x.return,w!==null){p=w;continue}break}if(x.child===P.child){for(P=x.child;P;){if(P===p)return cu(x),s;if(P===w)return cu(x),l;P=P.sibling}throw Error(n(188))}if(p.return!==w.return)p=x,w=P;else{for(var V=!1,ue=x.child;ue;){if(ue===p){V=!0,p=x,w=P;break}if(ue===w){V=!0,w=x,p=P;break}ue=ue.sibling}if(!V){for(ue=P.child;ue;){if(ue===p){V=!0,p=P,w=x;break}if(ue===w){V=!0,w=P,p=x;break}ue=ue.sibling}if(!V)throw Error(n(189))}}if(p.alternate!==w)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:l}function Ba(s){return s=Sl(s),s!==null?da(s):null}function da(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=da(s);if(l!==null)return l;s=s.sibling}return null}var Ha=t.unstable_scheduleCallback,Dl=t.unstable_cancelCallback,Ya=t.unstable_shouldYield,du=t.unstable_requestPaint,Sn=t.unstable_now,Rr=t.unstable_getCurrentPriorityLevel,ys=t.unstable_ImmediatePriority,vs=t.unstable_UserBlockingPriority,Yi=t.unstable_NormalPriority,Tl=t.unstable_LowPriority,ci=t.unstable_IdlePriority,Vo=null,po=null;function Ua(s){if(po&&typeof po.onCommitFiberRoot=="function")try{po.onCommitFiberRoot(Vo,s,void 0,(s.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:Ss,ws=Math.log,bs=Math.LN2;function Ss(s){return s>>>=0,s===0?32:31-(ws(s)/bs|0)|0}var Wo=64,za=4194304;function Ui(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Zo(s,l){var p=s.pendingLanes;if(p===0)return 0;var w=0,x=s.suspendedLanes,P=s.pingedLanes,V=p&268435455;if(V!==0){var ue=V&~x;ue!==0?w=Ui(ue):(P&=V,P!==0&&(w=Ui(P)))}else V=p&~x,V!==0?w=Ui(V):P!==0&&(w=Ui(P));if(w===0)return 0;if(l!==0&&l!==w&&!(l&x)&&(x=w&-w,P=l&-l,x>=P||x===16&&(P&4194240)!==0))return l;if(w&4&&(w|=p&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=w;0<l;)p=31-vr(l),x=1<<p,w|=s[p],l&=~x;return w}function M(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H(s,l){for(var p=s.suspendedLanes,w=s.pingedLanes,x=s.expirationTimes,P=s.pendingLanes;0<P;){var V=31-vr(P),ue=1<<V,ye=x[V];ye===-1?(!(ue&p)||ue&w)&&(x[V]=M(ue,l)):ye<=l&&(s.expiredLanes|=ue),P&=~ue}}function K(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ae(){var s=Wo;return Wo<<=1,!(Wo&4194240)&&(Wo=64),s}function Ne(s){for(var l=[],p=0;31>p;p++)l.push(s);return l}function Te(s,l,p){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-vr(l),s[l]=p}function ze(s,l){var p=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var w=s.eventTimes;for(s=s.expirationTimes;0<p;){var x=31-vr(p),P=1<<x;l[x]=0,w[x]=-1,s[x]=-1,p&=~P}}function ot(s,l){var p=s.entangledLanes|=l;for(s=s.entanglements;p;){var w=31-vr(p),x=1<<w;x&l|s[w]&l&&(s[w]|=l),p&=~x}}var ut=0;function Nt(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var zt,Tn,Co,mo,_r,di=!1,go=[],Mo=null,qr=null,$o=null,yo=new Map,fa=new Map,ha=[],Jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ld(s,l){switch(s){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":yo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":fa.delete(l.pointerId)}}function Va(s,l,p,w,x,P){return s===null||s.nativeEvent!==P?(s={blockedOn:l,domEventName:p,eventSystemFlags:w,nativeEvent:P,targetContainers:[x]},l!==null&&(l=Jr(l),l!==null&&Tn(l)),s):(s.eventSystemFlags|=w,l=s.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),s)}function Kh(s,l,p,w,x){switch(l){case"focusin":return Mo=Va(Mo,s,l,p,w,x),!0;case"dragenter":return qr=Va(qr,s,l,p,w,x),!0;case"mouseover":return $o=Va($o,s,l,p,w,x),!0;case"pointerover":var P=x.pointerId;return yo.set(P,Va(yo.get(P)||null,s,l,p,w,x)),!0;case"gotpointercapture":return P=x.pointerId,fa.set(P,Va(fa.get(P)||null,s,l,p,w,x)),!0}return!1}function fi(s){var l=va(s.target);if(l!==null){var p=Bi(l);if(p!==null){if(l=p.tag,l===13){if(l=Hi(p),l!==null){s.blockedOn=l,_r(s.priority,function(){Co(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ds(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var p=Is(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var w=new p.constructor(p.type,p);te=w,p.target.dispatchEvent(w),te=null}else return l=Jr(p),l!==null&&Tn(l),s.blockedOn=p,!1;l.shift()}return!0}function Il(s,l,p){Ds(s)&&p.delete(l)}function En(){di=!1,Mo!==null&&Ds(Mo)&&(Mo=null),qr!==null&&Ds(qr)&&(qr=null),$o!==null&&Ds($o)&&($o=null),yo.forEach(Il),fa.forEach(Il)}function on(s,l){s.blockedOn===l&&(s.blockedOn=null,di||(di=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,En)))}function an(s){function l(x){return on(x,s)}if(0<go.length){on(go[0],s);for(var p=1;p<go.length;p++){var w=go[p];w.blockedOn===s&&(w.blockedOn=null)}}for(Mo!==null&&on(Mo,s),qr!==null&&on(qr,s),$o!==null&&on($o,s),yo.forEach(l),fa.forEach(l),p=0;p<ha.length;p++)w=ha[p],w.blockedOn===s&&(w.blockedOn=null);for(;0<ha.length&&(p=ha[0],p.blockedOn===null);)fi(p),p.blockedOn===null&&ha.shift()}var hi=j.ReactCurrentBatchConfig,qo=!0;function fu(s,l,p,w){var x=ut,P=hi.transition;hi.transition=null;try{ut=1,hu(s,l,p,w)}finally{ut=x,hi.transition=P}}function Wa(s,l,p,w){var x=ut,P=hi.transition;hi.transition=null;try{ut=4,hu(s,l,p,w)}finally{ut=x,hi.transition=P}}function hu(s,l,p,w){if(qo){var x=Is(s,l,p,w);if(x===null)np(s,l,w,Ts,p),Ld(s,w);else if(Kh(x,s,l,p,w))w.stopPropagation();else if(Ld(s,w),l&4&&-1<Jh.indexOf(s)){for(;x!==null;){var P=Jr(x);if(P!==null&&zt(P),P=Is(s,l,p,w),P===null&&np(s,l,w,Ts,p),P===x)break;x=P}x!==null&&w.stopPropagation()}else np(s,l,w,null,p)}}var Ts=null;function Is(s,l,p,w){if(Ts=null,s=ge(w),s=va(s),s!==null)if(l=Bi(s),l===null)s=null;else if(p=l.tag,p===13){if(s=Hi(l),s!==null)return s;s=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Ts=s,null}function bc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rr()){case ys:return 1;case vs:return 4;case Yi:case Tl:return 16;case ci:return 536870912;default:return 16}default:return 16}}var Nn=null,xs=null,pi=null;function Sc(){if(pi)return pi;var s,l=xs,p=l.length,w,x="value"in Nn?Nn.value:Nn.textContent,P=x.length;for(s=0;s<p&&l[s]===x[s];s++);var V=p-s;for(w=1;w<=V&&l[p-w]===x[P-w];w++);return pi=x.slice(s,1<w?1-w:void 0)}function zi(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Mr(){return!0}function Es(){return!1}function kr(s){function l(p,w,x,P,V){this._reactName=p,this._targetInst=x,this.type=w,this.nativeEvent=P,this.target=V,this.currentTarget=null;for(var ue in s)s.hasOwnProperty(ue)&&(p=s[ue],this[ue]=p?p(P):P[ue]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Mr:Es,this.isPropagationStopped=Es,this}return G(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),l}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=kr(Za),Cs=G({},Za,{view:0,detail:0}),pu=kr(Cs),ur,$a,or,xl=G({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==or&&(or&&s.type==="mousemove"?(ur=s.screenX-or.screenX,$a=s.screenY-or.screenY):$a=ur=0,or=s),ur)},movementY:function(s){return"movementY"in s?s.movementY:$a}}),mu=kr(xl),Vi=G({},xl,{dataTransfer:0}),Ms=kr(Vi),Br=G({},Cs,{relatedTarget:0}),In=kr(Br),mi=G({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),Dc=kr(mi),Rd=G({},Za,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ks=kr(Rd),_d=G({},Za,{data:0}),Tc=kr(_d),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},El={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qa(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Cl[s])?!!l[s]:!1}function yu(){return qa}var vu=G({},Cs,{key:function(s){if(s.key){var l=gu[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=zi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?El[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(s){return s.type==="keypress"?zi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?zi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ic=kr(vu),N=G({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_=kr(N),q=G({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),ie=kr(q),Fe=G({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),xe=kr(Fe),We=G({},xl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=kr(We),Dt=[9,13,27,32],Wt=u&&"CompositionEvent"in window,jt=null;u&&"documentMode"in document&&(jt=document.documentMode);var Cn=u&&"TextEvent"in window&&!jt,Hr=u&&(!Wt||jt&&8<jt&&11>=jt),ko=" ",No=!1;function Ml(s,l){switch(s){case"keyup":return Dt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ma=!1;function wu(s,l){switch(s){case"compositionend":return xc(l);case"keypress":return l.which!==32?null:(No=!0,ko);case"textInput":return s=l.data,s===ko&&No?null:s;default:return null}}function J0(s,l){if(ma)return s==="compositionend"||!Wt&&Ml(s,l)?(s=Sc(),pi=xs=Nn=null,ma=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Hr&&l.locale!=="ko"?null:l.data;default:return null}}var K0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bd(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!K0[s.type]:l==="textarea"}function Qh(s,l,p,w){tt(w),l=qd(l,"onChange"),0<l.length&&(p=new pa("onChange","change",null,p,w),s.push({event:p,listeners:l}))}var gi=null,Ns=null;function Q0(s){Ag(s,0)}function Hd(s){var l=qt(s);if(rt(l))return s}function X0(s,l){if(s==="change")return l}var kl=!1;if(u){var Go;if(u){var Yd="oninput"in document;if(!Yd){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Yd=typeof xg.oninput=="function"}Go=Yd}else Go=!1;kl=Go&&(!document.documentMode||9<document.documentMode)}function Eg(){gi&&(gi.detachEvent("onpropertychange",Cg),Ns=gi=null)}function Cg(s){if(s.propertyName==="value"&&Hd(Ns)){var l=[];Qh(l,Ns,s,ge(s)),jr(Q0,l)}}function ew(s,l,p){s==="focusin"?(Eg(),gi=l,Ns=p,gi.attachEvent("onpropertychange",Cg)):s==="focusout"&&Eg()}function tw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hd(Ns)}function bu(s,l){if(s==="click")return Hd(l)}function be(s,l){if(s==="input"||s==="change")return Hd(l)}function Ve(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Pe=typeof Object.is=="function"?Object.is:Ve;function mt(s,l){if(Pe(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var p=Object.keys(s),w=Object.keys(l);if(p.length!==w.length)return!1;for(w=0;w<p.length;w++){var x=p[w];if(!d.call(l,x)||!Pe(s[x],l[x]))return!1}return!0}function Zt(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hn(s,l){var p=Zt(s);s=0;for(var w;p;){if(p.nodeType===3){if(w=s+p.textContent.length,s<=l&&w>=l)return{node:p,offset:l-s};s=w}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Zt(p)}}function cr(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?cr(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Mn(){for(var s=window,l=st();l instanceof s.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)s=l.contentWindow;else break;l=st(s.document)}return l}function Ec(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function nw(s){var l=Mn(),p=s.focusedElem,w=s.selectionRange;if(l!==p&&p&&p.ownerDocument&&cr(p.ownerDocument.documentElement,p)){if(w!==null&&Ec(p)){if(l=w.start,s=w.end,s===void 0&&(s=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(s,p.value.length);else if(s=(l=p.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var x=p.textContent.length,P=Math.min(w.start,x);w=w.end===void 0?P:Math.min(w.end,x),!s.extend&&P>w&&(x=w,w=P,P=x),x=hn(p,P);var V=hn(p,w);x&&V&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==V.node||s.focusOffset!==V.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),s.removeAllRanges(),P>w?(s.addRange(l),s.extend(V.node,V.offset)):(l.setEnd(V.node,V.offset),s.addRange(l)))}}for(l=[],s=p;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)s=l[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var yi=u&&"documentMode"in document&&11>=document.documentMode,Ga=null,Xh=null,ga=null,Su=!1;function Cc(s,l,p){var w=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Su||Ga==null||Ga!==st(w)||(w=Ga,"selectionStart"in w&&Ec(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),ga&&mt(ga,w)||(ga=w,w=qd(Xh,"onSelect"),0<w.length&&(l=new pa("onSelect","select",null,l,p),s.push({event:l,listeners:w}),l.target=Ga)))}function pn(s,l){var p={};return p[s.toLowerCase()]=l.toLowerCase(),p["Webkit"+s]="webkit"+l,p["Moz"+s]="moz"+l,p}var Du={animationend:pn("Animation","AnimationEnd"),animationiteration:pn("Animation","AnimationIteration"),animationstart:pn("Animation","AnimationStart"),transitionend:pn("Transition","TransitionEnd")},Ud={},Mc={};u&&(Mc=document.createElement("div").style,"AnimationEvent"in window||(delete Du.animationend.animation,delete Du.animationiteration.animation,delete Du.animationstart.animation),"TransitionEvent"in window||delete Du.transitionend.transition);function zd(s){if(Ud[s])return Ud[s];if(!Du[s])return s;var l=Du[s],p;for(p in l)if(l.hasOwnProperty(p)&&p in Mc)return Ud[s]=l[p];return s}var Mg=zd("animationend"),kg=zd("animationiteration"),kc=zd("animationstart"),Ja=zd("transitionend"),Nc=new Map,ep="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(s,l){Nc.set(s,l),i(l,[s])}for(var Vd=0;Vd<ep.length;Vd++){var Wd=ep[Vd],Zd=Wd.toLowerCase(),Ng=Wd[0].toUpperCase()+Wd.slice(1);Wi(Zd,"on"+Ng)}Wi(Mg,"onAnimationEnd"),Wi(kg,"onAnimationIteration"),Wi(kc,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(Ja,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function Ac(s,l,p){var w=s.type||"unknown-event";s.currentTarget=p,bl(w,l,void 0,s),s.currentTarget=null}function Ag(s,l){l=(l&4)!==0;for(var p=0;p<s.length;p++){var w=s[p],x=w.event;w=w.listeners;e:{var P=void 0;if(l)for(var V=w.length-1;0<=V;V--){var ue=w[V],ye=ue.instance,je=ue.currentTarget;if(ue=ue.listener,ye!==P&&x.isPropagationStopped())break e;Ac(x,ue,je),P=ye}else for(V=0;V<w.length;V++){if(ue=w[V],ye=ue.instance,je=ue.currentTarget,ue=ue.listener,ye!==P&&x.isPropagationStopped())break e;Ac(x,ue,je),P=ye}}}if(fo)throw s=Cr,fo=!1,Cr=null,s}function _n(s,l){var p=l[Kd];p===void 0&&(p=l[Kd]=new Set);var w=s+"__bubble";p.has(w)||($d(l,s,2,!1),p.add(w))}function tp(s,l,p){var w=0;l&&(w|=4),$d(p,s,w,l)}var Al="_reactListening"+Math.random().toString(36).slice(2);function As(s){if(!s[Al]){s[Al]=!0,r.forEach(function(p){p!=="selectionchange"&&(Nl.has(p)||tp(p,!1,s),tp(p,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Al]||(l[Al]=!0,tp("selectionchange",!1,l))}}function $d(s,l,p,w){switch(bc(l)){case 1:var x=fu;break;case 4:x=Wa;break;default:x=hu}p=x.bind(null,l,p,s),x=void 0,!rr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),w?x!==void 0?s.addEventListener(l,p,{capture:!0,passive:x}):s.addEventListener(l,p,!0):x!==void 0?s.addEventListener(l,p,{passive:x}):s.addEventListener(l,p,!1)}function np(s,l,p,w,x){var P=w;if(!(l&1)&&!(l&2)&&w!==null)e:for(;;){if(w===null)return;var V=w.tag;if(V===3||V===4){var ue=w.stateNode.containerInfo;if(ue===x||ue.nodeType===8&&ue.parentNode===x)break;if(V===4)for(V=w.return;V!==null;){var ye=V.tag;if((ye===3||ye===4)&&(ye=V.stateNode.containerInfo,ye===x||ye.nodeType===8&&ye.parentNode===x))return;V=V.return}for(;ue!==null;){if(V=va(ue),V===null)return;if(ye=V.tag,ye===5||ye===6){w=P=V;continue e}ue=ue.parentNode}}w=w.return}jr(function(){var je=P,Je=ge(p),Xe=[];e:{var Ge=Nc.get(s);if(Ge!==void 0){var gt=pa,St=s;switch(s){case"keypress":if(zi(p)===0)break e;case"keydown":case"keyup":gt=Ic;break;case"focusin":St="focus",gt=In;break;case"focusout":St="blur",gt=In;break;case"beforeblur":case"afterblur":gt=In;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=Ms;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=ie;break;case Mg:case kg:case kc:gt=Dc;break;case Ja:gt=xe;break;case"scroll":gt=pu;break;case"wheel":gt=nt;break;case"copy":case"cut":case"paste":gt=ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=_}var Tt=(l&4)!==0,ir=!Tt&&s==="scroll",Ee=Tt?Ge!==null?Ge+"Capture":null:Ge;Tt=[];for(var we=je,Me;we!==null;){Me=we;var it=Me.stateNode;if(Me.tag===5&&it!==null&&(Me=it,Ee!==null&&(it=Rn(we,Ee),it!=null&&Tt.push(Tu(we,it,Me)))),ir)break;we=we.return}0<Tt.length&&(Ge=new gt(Ge,St,null,p,Je),Xe.push({event:Ge,listeners:Tt}))}}if(!(l&7)){e:{if(Ge=s==="mouseover"||s==="pointerover",gt=s==="mouseout"||s==="pointerout",Ge&&p!==te&&(St=p.relatedTarget||p.fromElement)&&(va(St)||St[Jo]))break e;if((gt||Ge)&&(Ge=Je.window===Je?Je:(Ge=Je.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,gt?(St=p.relatedTarget||p.toElement,gt=je,St=St?va(St):null,St!==null&&(ir=Bi(St),St!==ir||St.tag!==5&&St.tag!==6)&&(St=null)):(gt=null,St=je),gt!==St)){if(Tt=mu,it="onMouseLeave",Ee="onMouseEnter",we="mouse",(s==="pointerout"||s==="pointerover")&&(Tt=_,it="onPointerLeave",Ee="onPointerEnter",we="pointer"),ir=gt==null?Ge:qt(gt),Me=St==null?Ge:qt(St),Ge=new Tt(it,we+"leave",gt,p,Je),Ge.target=ir,Ge.relatedTarget=Me,it=null,va(Je)===je&&(Tt=new Tt(Ee,we+"enter",St,p,Je),Tt.target=Me,Tt.relatedTarget=ir,it=Tt),ir=it,gt&&St)t:{for(Tt=gt,Ee=St,we=0,Me=Tt;Me;Me=Iu(Me))we++;for(Me=0,it=Ee;it;it=Iu(it))Me++;for(;0<we-Me;)Tt=Iu(Tt),we--;for(;0<Me-we;)Ee=Iu(Ee),Me--;for(;we--;){if(Tt===Ee||Ee!==null&&Tt===Ee.alternate)break t;Tt=Iu(Tt),Ee=Iu(Ee)}Tt=null}else Tt=null;gt!==null&&dr(Xe,Ge,gt,Tt,!1),St!==null&&ir!==null&&dr(Xe,ir,St,Tt,!0)}}e:{if(Ge=je?qt(je):window,gt=Ge.nodeName&&Ge.nodeName.toLowerCase(),gt==="select"||gt==="input"&&Ge.type==="file")var xt=X0;else if(Bd(Ge))if(kl)xt=be;else{xt=tw;var Ft=ew}else(gt=Ge.nodeName)&&gt.toLowerCase()==="input"&&(Ge.type==="checkbox"||Ge.type==="radio")&&(xt=bu);if(xt&&(xt=xt(s,je))){Qh(Xe,xt,p,Je);break e}Ft&&Ft(s,Ge,je),s==="focusout"&&(Ft=Ge._wrapperState)&&Ft.controlled&&Ge.type==="number"&&vn(Ge,"number",Ge.value)}switch(Ft=je?qt(je):window,s){case"focusin":(Bd(Ft)||Ft.contentEditable==="true")&&(Ga=Ft,Xh=je,ga=null);break;case"focusout":ga=Xh=Ga=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,Cc(Xe,p,Je);break;case"selectionchange":if(yi)break;case"keydown":case"keyup":Cc(Xe,p,Je)}var Pt;if(Wt)e:{switch(s){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else ma?Ml(s,p)&&(Yt="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Yt="onCompositionStart");Yt&&(Hr&&p.locale!=="ko"&&(ma||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&ma&&(Pt=Sc()):(Nn=Je,xs="value"in Nn?Nn.value:Nn.textContent,ma=!0)),Ft=qd(je,Yt),0<Ft.length&&(Yt=new Tc(Yt,s,null,p,Je),Xe.push({event:Yt,listeners:Ft}),Pt?Yt.data=Pt:(Pt=xc(p),Pt!==null&&(Yt.data=Pt)))),(Pt=Cn?wu(s,p):J0(s,p))&&(je=qd(je,"onBeforeInput"),0<je.length&&(Je=new Tc("onBeforeInput","beforeinput",null,p,Je),Xe.push({event:Je,listeners:je}),Je.data=Pt))}Ag(Xe,l)})}function Tu(s,l,p){return{instance:s,listener:l,currentTarget:p}}function qd(s,l){for(var p=l+"Capture",w=[];s!==null;){var x=s,P=x.stateNode;x.tag===5&&P!==null&&(x=P,P=Rn(s,p),P!=null&&w.unshift(Tu(s,P,x)),P=Rn(s,l),P!=null&&w.push(Tu(s,P,x))),s=s.return}return w}function Iu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function dr(s,l,p,w,x){for(var P=l._reactName,V=[];p!==null&&p!==w;){var ue=p,ye=ue.alternate,je=ue.stateNode;if(ye!==null&&ye===w)break;ue.tag===5&&je!==null&&(ue=je,x?(ye=Rn(p,P),ye!=null&&V.unshift(Tu(p,ye,ue))):x||(ye=Rn(p,P),ye!=null&&V.push(Tu(p,ye,ue)))),p=p.return}V.length!==0&&s.push({event:l,listeners:V})}var Gr=/\r\n?/g,rw=/\u0000|\uFFFD/g;function Fg(s){return(typeof s=="string"?s:""+s).replace(Gr,`
`).replace(rw,"")}function Fc(s,l,p){if(l=Fg(l),Fg(s)!==l&&p)throw Error(n(425))}function Gd(){}var Pc=null,Fl=null;function Oc(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Fs=typeof setTimeout=="function"?setTimeout:void 0,jc=typeof clearTimeout=="function"?clearTimeout:void 0,xu=typeof Promise=="function"?Promise:void 0,Jd=typeof queueMicrotask=="function"?queueMicrotask:typeof xu<"u"?function(s){return xu.resolve(null).then(s).catch(Eu)}:Fs;function Eu(s){setTimeout(function(){throw s})}function rp(s,l){var p=l,w=0;do{var x=p.nextSibling;if(s.removeChild(p),x&&x.nodeType===8)if(p=x.data,p==="/$"){if(w===0){s.removeChild(x),an(l);return}w--}else p!=="$"&&p!=="$?"&&p!=="$!"||w++;p=x}while(p);an(l)}function Ps(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Pg(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return s;l--}else p==="/$"&&l++}s=s.previousSibling}return null}var Cu=Math.random().toString(36).slice(2),ya="__reactFiber$"+Cu,Os="__reactProps$"+Cu,Jo="__reactContainer$"+Cu,Kd="__reactEvents$"+Cu,J="__reactListeners$"+Cu,Mu="__reactHandles$"+Cu;function va(s){var l=s[ya];if(l)return l;for(var p=s.parentNode;p;){if(l=p[Jo]||p[ya]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(s=Pg(s);s!==null;){if(p=s[ya])return p;s=Pg(s)}return l}s=p,p=s.parentNode}return null}function Jr(s){return s=s[ya]||s[Jo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function qt(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Qd(s){return s[Os]||null}var op=[],ku=-1;function Ao(s){return{current:s}}function Bn(s){0>ku||(s.current=op[ku],op[ku]=null,ku--)}function jn(s,l){ku++,op[ku]=s.current,s.current=l}var js={},Kr=Ao(js),Fo=Ao(!1),vo=js;function Nu(s,l){var p=s.type.contextTypes;if(!p)return js;var w=s.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===l)return w.__reactInternalMemoizedMaskedChildContext;var x={},P;for(P in p)x[P]=l[P];return w&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=x),x}function Po(s){return s=s.childContextTypes,s!=null}function Xd(){Bn(Fo),Bn(Kr)}function Og(s,l,p){if(Kr.current!==js)throw Error(n(168));jn(Kr,l),jn(Fo,p)}function jg(s,l,p){var w=s.stateNode;if(l=l.childContextTypes,typeof w.getChildContext!="function")return p;w=w.getChildContext();for(var x in w)if(!(x in l))throw Error(n(108,$e(s)||"Unknown",x));return G({},p,w)}function vi(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||js,vo=Kr.current,jn(Kr,s),jn(Fo,Fo.current),!0}function Lg(s,l,p){var w=s.stateNode;if(!w)throw Error(n(169));p?(s=jg(s,l,vo),w.__reactInternalMemoizedMergedChildContext=s,Bn(Fo),Bn(Kr),jn(Kr,s)):Bn(Fo),jn(Fo,p)}var Qa=null,ef=!1,ip=!1;function Rg(s){Qa===null?Qa=[s]:Qa.push(s)}function Pl(s){ef=!0,Rg(s)}function Ls(){if(!ip&&Qa!==null){ip=!0;var s=0,l=ut;try{var p=Qa;for(ut=1;s<p.length;s++){var w=p[s];do w=w(!0);while(w!==null)}Qa=null,ef=!1}catch(x){throw Qa!==null&&(Qa=Qa.slice(s+1)),Ha(ys,Ls),x}finally{ut=l,ip=!1}}return null}var Au=[],Qr=0,tf=null,nf=0,wi=[],bi=0,Ol=null,wa=1,ba="";function jl(s,l){Au[Qr++]=nf,Au[Qr++]=tf,tf=s,nf=l}function _g(s,l,p){wi[bi++]=wa,wi[bi++]=ba,wi[bi++]=Ol,Ol=s;var w=wa;s=ba;var x=32-vr(w)-1;w&=~(1<<x),p+=1;var P=32-vr(l)+x;if(30<P){var V=x-x%5;P=(w&(1<<V)-1).toString(32),w>>=V,x-=V,wa=1<<32-vr(l)+x|p<<x|w,ba=P+s}else wa=1<<P|p<<x|w,ba=s}function Lc(s){s.return!==null&&(jl(s,1),_g(s,1,0))}function Ll(s){for(;s===tf;)tf=Au[--Qr],Au[Qr]=null,nf=Au[--Qr],Au[Qr]=null;for(;s===Ol;)Ol=wi[--bi],wi[bi]=null,ba=wi[--bi],wi[bi]=null,wa=wi[--bi],wi[bi]=null}var Xr=null,Ko=null,Hn=!1,Zi=null;function Sa(s,l){var p=ni(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=s,l=s.deletions,l===null?(s.deletions=[p],s.flags|=16):l.push(p)}function rf(s,l){switch(s.tag){case 5:var p=s.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Xr=s,Ko=Ps(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Xr=s,Ko=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=Ol!==null?{id:wa,overflow:ba}:null,s.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=ni(18,null,null,0),p.stateNode=l,p.return=s,s.child=p,Xr=s,Ko=null,!0):!1;default:return!1}}function Xa(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Oo(s){if(Hn){var l=Ko;if(l){var p=l;if(!rf(s,l)){if(Xa(s))throw Error(n(418));l=Ps(p.nextSibling);var w=Xr;l&&rf(s,l)?Sa(w,p):(s.flags=s.flags&-4097|2,Hn=!1,Xr=s)}}else{if(Xa(s))throw Error(n(418));s.flags=s.flags&-4097|2,Hn=!1,Xr=s}}}function Bg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Xr=s}function Rc(s){if(s!==Xr)return!1;if(!Hn)return Bg(s),Hn=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Oc(s.type,s.memoizedProps)),l&&(l=Ko)){if(Xa(s))throw ap(),Error(n(418));for(;l;)Sa(s,l),l=Ps(l.nextSibling)}if(Bg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(l===0){Ko=Ps(s.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}s=s.nextSibling}Ko=null}}else Ko=Xr?Ps(s.stateNode.nextSibling):null;return!0}function ap(){for(var s=Ko;s;)s=Ps(s.nextSibling)}function Da(){Ko=Xr=null,Hn=!1}function Ta(s){Zi===null?Zi=[s]:Zi.push(s)}var Hg=j.ReactCurrentBatchConfig;function $i(s,l){if(s&&s.defaultProps){l=G({},l),s=s.defaultProps;for(var p in s)l[p]===void 0&&(l[p]=s[p]);return l}return l}var Rl=Ao(null),of=null,_l=null,wr=null;function _c(){wr=_l=of=null}function af(s){var l=Rl.current;Bn(Rl),s._currentValue=l}function Si(s,l,p){for(;s!==null;){var w=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,w!==null&&(w.childLanes|=l)):w!==null&&(w.childLanes&l)!==l&&(w.childLanes|=l),s===p)break;s=s.return}}function Rs(s,l){of=s,wr=_l=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&l&&(no=!0),s.firstContext=null)}function wo(s){var l=s._currentValue;if(wr!==s)if(s={context:s,memoizedValue:l,next:null},_l===null){if(of===null)throw Error(n(308));_l=s,of.dependencies={lanes:0,firstContext:s}}else _l=_l.next=s;return l}var Qo=null;function sf(s){Qo===null?Qo=[s]:Qo.push(s)}function eo(s,l,p,w){var x=l.interleaved;return x===null?(p.next=p,sf(l)):(p.next=x.next,x.next=p),l.interleaved=p,qi(s,w)}function qi(s,l){s.lanes|=l;var p=s.alternate;for(p!==null&&(p.lanes|=l),p=s,s=s.return;s!==null;)s.childLanes|=l,p=s.alternate,p!==null&&(p.childLanes|=l),p=s,s=s.return;return p.tag===3?p.stateNode:null}var _s=!1;function sp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yg(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Gi(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function Bs(s,l,p){var w=s.updateQueue;if(w===null)return null;if(w=w.shared,dn&2){var x=w.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),w.pending=l,qi(s,p)}return x=w.interleaved,x===null?(l.next=l,sf(w)):(l.next=x.next,x.next=l),w.interleaved=l,qi(s,p)}function Hs(s,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var w=l.lanes;w&=s.pendingLanes,p|=w,l.lanes=p,ot(s,p)}}function lp(s,l){var p=s.updateQueue,w=s.alternate;if(w!==null&&(w=w.updateQueue,p===w)){var x=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var V={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};P===null?x=P=V:P=P.next=V,p=p.next}while(p!==null);P===null?x=P=l:P=P.next=l}else x=P=l;p={baseState:w.baseState,firstBaseUpdate:x,lastBaseUpdate:P,shared:w.shared,effects:w.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=l:s.next=l,p.lastBaseUpdate=l}function lf(s,l,p,w){var x=s.updateQueue;_s=!1;var P=x.firstBaseUpdate,V=x.lastBaseUpdate,ue=x.shared.pending;if(ue!==null){x.shared.pending=null;var ye=ue,je=ye.next;ye.next=null,V===null?P=je:V.next=je,V=ye;var Je=s.alternate;Je!==null&&(Je=Je.updateQueue,ue=Je.lastBaseUpdate,ue!==V&&(ue===null?Je.firstBaseUpdate=je:ue.next=je,Je.lastBaseUpdate=ye))}if(P!==null){var Xe=x.baseState;V=0,Je=je=ye=null,ue=P;do{var Ge=ue.lane,gt=ue.eventTime;if((w&Ge)===Ge){Je!==null&&(Je=Je.next={eventTime:gt,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var St=s,Tt=ue;switch(Ge=l,gt=p,Tt.tag){case 1:if(St=Tt.payload,typeof St=="function"){Xe=St.call(gt,Xe,Ge);break e}Xe=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Tt.payload,Ge=typeof St=="function"?St.call(gt,Xe,Ge):St,Ge==null)break e;Xe=G({},Xe,Ge);break e;case 2:_s=!0}}ue.callback!==null&&ue.lane!==0&&(s.flags|=64,Ge=x.effects,Ge===null?x.effects=[ue]:Ge.push(ue))}else gt={eventTime:gt,lane:Ge,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},Je===null?(je=Je=gt,ye=Xe):Je=Je.next=gt,V|=Ge;if(ue=ue.next,ue===null){if(ue=x.shared.pending,ue===null)break;Ge=ue,ue=Ge.next,Ge.next=null,x.lastBaseUpdate=Ge,x.shared.pending=null}}while(!0);if(Je===null&&(ye=Xe),x.baseState=ye,x.firstBaseUpdate=je,x.lastBaseUpdate=Je,l=x.shared.interleaved,l!==null){x=l;do V|=x.lane,x=x.next;while(x!==l)}else P===null&&(x.shared.lanes=0);$s|=V,s.lanes=V,s.memoizedState=Xe}}function Ug(s,l,p){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var w=s[l],x=w.callback;if(x!==null){if(w.callback=null,w=p,typeof x!="function")throw Error(n(191,x));x.call(w)}}}var Fu=new e.Component().refs;function up(s,l,p,w){l=s.memoizedState,p=p(w,l),p=p==null?l:G({},l,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var uf={isMounted:function(s){return(s=s._reactInternals)?Bi(s)===s:!1},enqueueSetState:function(s,l,p){s=s._reactInternals;var w=Do(),x=Gs(s),P=Gi(w,x);P.payload=l,p!=null&&(P.callback=p),l=Bs(s,P,x),l!==null&&(Xi(l,s,x,w),Hs(l,s,x))},enqueueReplaceState:function(s,l,p){s=s._reactInternals;var w=Do(),x=Gs(s),P=Gi(w,x);P.tag=1,P.payload=l,p!=null&&(P.callback=p),l=Bs(s,P,x),l!==null&&(Xi(l,s,x,w),Hs(l,s,x))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var p=Do(),w=Gs(s),x=Gi(p,w);x.tag=2,l!=null&&(x.callback=l),l=Bs(s,x,w),l!==null&&(Xi(l,s,w,p),Hs(l,s,w))}};function cf(s,l,p,w,x,P,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(w,P,V):l.prototype&&l.prototype.isPureReactComponent?!mt(p,w)||!mt(x,P):!0}function cp(s,l,p){var w=!1,x=js,P=l.contextType;return typeof P=="object"&&P!==null?P=wo(P):(x=Po(l)?vo:Kr.current,w=l.contextTypes,P=(w=w!=null)?Nu(s,x):js),l=new l(p,P),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=uf,s.stateNode=l,l._reactInternals=s,w&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=P),l}function zg(s,l,p,w){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,w),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,w),l.state!==s&&uf.enqueueReplaceState(l,l.state,null)}function dp(s,l,p,w){var x=s.stateNode;x.props=p,x.state=s.memoizedState,x.refs=Fu,sp(s);var P=l.contextType;typeof P=="object"&&P!==null?x.context=wo(P):(P=Po(l)?vo:Kr.current,x.context=Nu(s,P)),x.state=s.memoizedState,P=l.getDerivedStateFromProps,typeof P=="function"&&(up(s,l,P,p),x.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&uf.enqueueReplaceState(x,x.state,null),lf(s,p,x,w),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Bc(s,l,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var w=p.stateNode}if(!w)throw Error(n(147,s));var x=w,P=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===P?l.ref:(l=function(V){var ue=x.refs;ue===Fu&&(ue=x.refs={}),V===null?delete ue[P]:ue[P]=V},l._stringRef=P,l)}if(typeof s!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,s))}return s}function Hc(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function df(s){var l=s._init;return l(s._payload)}function Vg(s){function l(Ee,we){if(s){var Me=Ee.deletions;Me===null?(Ee.deletions=[we],Ee.flags|=16):Me.push(we)}}function p(Ee,we){if(!s)return null;for(;we!==null;)l(Ee,we),we=we.sibling;return null}function w(Ee,we){for(Ee=new Map;we!==null;)we.key!==null?Ee.set(we.key,we):Ee.set(we.index,we),we=we.sibling;return Ee}function x(Ee,we){return Ee=Qs(Ee,we),Ee.index=0,Ee.sibling=null,Ee}function P(Ee,we,Me){return Ee.index=Me,s?(Me=Ee.alternate,Me!==null?(Me=Me.index,Me<we?(Ee.flags|=2,we):Me):(Ee.flags|=2,we)):(Ee.flags|=1048576,we)}function V(Ee){return s&&Ee.alternate===null&&(Ee.flags|=2),Ee}function ue(Ee,we,Me,it){return we===null||we.tag!==6?(we=qp(Me,Ee.mode,it),we.return=Ee,we):(we=x(we,Me),we.return=Ee,we)}function ye(Ee,we,Me,it){var xt=Me.type;return xt===z?Je(Ee,we,Me.props.children,it,Me.key):we!==null&&(we.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===$&&df(xt)===we.type)?(it=x(we,Me.props),it.ref=Bc(Ee,we,Me),it.return=Ee,it):(it=Hf(Me.type,Me.key,Me.props,null,Ee.mode,it),it.ref=Bc(Ee,we,Me),it.return=Ee,it)}function je(Ee,we,Me,it){return we===null||we.tag!==4||we.stateNode.containerInfo!==Me.containerInfo||we.stateNode.implementation!==Me.implementation?(we=Gp(Me,Ee.mode,it),we.return=Ee,we):(we=x(we,Me.children||[]),we.return=Ee,we)}function Je(Ee,we,Me,it,xt){return we===null||we.tag!==7?(we=Wl(Me,Ee.mode,it,xt),we.return=Ee,we):(we=x(we,Me),we.return=Ee,we)}function Xe(Ee,we,Me){if(typeof we=="string"&&we!==""||typeof we=="number")return we=qp(""+we,Ee.mode,Me),we.return=Ee,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case B:return Me=Hf(we.type,we.key,we.props,null,Ee.mode,Me),Me.ref=Bc(Ee,null,we),Me.return=Ee,Me;case L:return we=Gp(we,Ee.mode,Me),we.return=Ee,we;case $:var it=we._init;return Xe(Ee,it(we._payload),Me)}if($t(we)||he(we))return we=Wl(we,Ee.mode,Me,null),we.return=Ee,we;Hc(Ee,we)}return null}function Ge(Ee,we,Me,it){var xt=we!==null?we.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return xt!==null?null:ue(Ee,we,""+Me,it);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case B:return Me.key===xt?ye(Ee,we,Me,it):null;case L:return Me.key===xt?je(Ee,we,Me,it):null;case $:return xt=Me._init,Ge(Ee,we,xt(Me._payload),it)}if($t(Me)||he(Me))return xt!==null?null:Je(Ee,we,Me,it,null);Hc(Ee,Me)}return null}function gt(Ee,we,Me,it,xt){if(typeof it=="string"&&it!==""||typeof it=="number")return Ee=Ee.get(Me)||null,ue(we,Ee,""+it,xt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case B:return Ee=Ee.get(it.key===null?Me:it.key)||null,ye(we,Ee,it,xt);case L:return Ee=Ee.get(it.key===null?Me:it.key)||null,je(we,Ee,it,xt);case $:var Ft=it._init;return gt(Ee,we,Me,Ft(it._payload),xt)}if($t(it)||he(it))return Ee=Ee.get(Me)||null,Je(we,Ee,it,xt,null);Hc(we,it)}return null}function St(Ee,we,Me,it){for(var xt=null,Ft=null,Pt=we,Yt=we=0,Ar=null;Pt!==null&&Yt<Me.length;Yt++){Pt.index>Yt?(Ar=Pt,Pt=null):Ar=Pt.sibling;var mn=Ge(Ee,Pt,Me[Yt],it);if(mn===null){Pt===null&&(Pt=Ar);break}s&&Pt&&mn.alternate===null&&l(Ee,Pt),we=P(mn,we,Yt),Ft===null?xt=mn:Ft.sibling=mn,Ft=mn,Pt=Ar}if(Yt===Me.length)return p(Ee,Pt),Hn&&jl(Ee,Yt),xt;if(Pt===null){for(;Yt<Me.length;Yt++)Pt=Xe(Ee,Me[Yt],it),Pt!==null&&(we=P(Pt,we,Yt),Ft===null?xt=Pt:Ft.sibling=Pt,Ft=Pt);return Hn&&jl(Ee,Yt),xt}for(Pt=w(Ee,Pt);Yt<Me.length;Yt++)Ar=gt(Pt,Ee,Yt,Me[Yt],it),Ar!==null&&(s&&Ar.alternate!==null&&Pt.delete(Ar.key===null?Yt:Ar.key),we=P(Ar,we,Yt),Ft===null?xt=Ar:Ft.sibling=Ar,Ft=Ar);return s&&Pt.forEach(function(Xs){return l(Ee,Xs)}),Hn&&jl(Ee,Yt),xt}function Tt(Ee,we,Me,it){var xt=he(Me);if(typeof xt!="function")throw Error(n(150));if(Me=xt.call(Me),Me==null)throw Error(n(151));for(var Ft=xt=null,Pt=we,Yt=we=0,Ar=null,mn=Me.next();Pt!==null&&!mn.done;Yt++,mn=Me.next()){Pt.index>Yt?(Ar=Pt,Pt=null):Ar=Pt.sibling;var Xs=Ge(Ee,Pt,mn.value,it);if(Xs===null){Pt===null&&(Pt=Ar);break}s&&Pt&&Xs.alternate===null&&l(Ee,Pt),we=P(Xs,we,Yt),Ft===null?xt=Xs:Ft.sibling=Xs,Ft=Xs,Pt=Ar}if(mn.done)return p(Ee,Pt),Hn&&jl(Ee,Yt),xt;if(Pt===null){for(;!mn.done;Yt++,mn=Me.next())mn=Xe(Ee,mn.value,it),mn!==null&&(we=P(mn,we,Yt),Ft===null?xt=mn:Ft.sibling=mn,Ft=mn);return Hn&&jl(Ee,Yt),xt}for(Pt=w(Ee,Pt);!mn.done;Yt++,mn=Me.next())mn=gt(Pt,Ee,Yt,mn.value,it),mn!==null&&(s&&mn.alternate!==null&&Pt.delete(mn.key===null?Yt:mn.key),we=P(mn,we,Yt),Ft===null?xt=mn:Ft.sibling=mn,Ft=mn);return s&&Pt.forEach(function(Tw){return l(Ee,Tw)}),Hn&&jl(Ee,Yt),xt}function ir(Ee,we,Me,it){if(typeof Me=="object"&&Me!==null&&Me.type===z&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case B:e:{for(var xt=Me.key,Ft=we;Ft!==null;){if(Ft.key===xt){if(xt=Me.type,xt===z){if(Ft.tag===7){p(Ee,Ft.sibling),we=x(Ft,Me.props.children),we.return=Ee,Ee=we;break e}}else if(Ft.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===$&&df(xt)===Ft.type){p(Ee,Ft.sibling),we=x(Ft,Me.props),we.ref=Bc(Ee,Ft,Me),we.return=Ee,Ee=we;break e}p(Ee,Ft);break}else l(Ee,Ft);Ft=Ft.sibling}Me.type===z?(we=Wl(Me.props.children,Ee.mode,it,Me.key),we.return=Ee,Ee=we):(it=Hf(Me.type,Me.key,Me.props,null,Ee.mode,it),it.ref=Bc(Ee,we,Me),it.return=Ee,Ee=it)}return V(Ee);case L:e:{for(Ft=Me.key;we!==null;){if(we.key===Ft)if(we.tag===4&&we.stateNode.containerInfo===Me.containerInfo&&we.stateNode.implementation===Me.implementation){p(Ee,we.sibling),we=x(we,Me.children||[]),we.return=Ee,Ee=we;break e}else{p(Ee,we);break}else l(Ee,we);we=we.sibling}we=Gp(Me,Ee.mode,it),we.return=Ee,Ee=we}return V(Ee);case $:return Ft=Me._init,ir(Ee,we,Ft(Me._payload),it)}if($t(Me))return St(Ee,we,Me,it);if(he(Me))return Tt(Ee,we,Me,it);Hc(Ee,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,we!==null&&we.tag===6?(p(Ee,we.sibling),we=x(we,Me),we.return=Ee,Ee=we):(p(Ee,we),we=qp(Me,Ee.mode,it),we.return=Ee,Ee=we),V(Ee)):p(Ee,we)}return ir}var Ys=Vg(!0),fp=Vg(!1),Pu={},Ji=Ao(Pu),Us=Ao(Pu),Yc=Ao(Pu);function zs(s){if(s===Pu)throw Error(n(174));return s}function ff(s,l){switch(jn(Yc,l),jn(Us,s),jn(Ji,Pu),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:tr(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=tr(l,s)}Bn(Ji),jn(Ji,l)}function Ou(){Bn(Ji),Bn(Us),Bn(Yc)}function hp(s){zs(Yc.current);var l=zs(Ji.current),p=tr(l,s.type);l!==p&&(jn(Us,s),jn(Ji,p))}function pp(s){Us.current===s&&(Bn(Ji),Bn(Us))}var Yn=Ao(0);function Uc(s){for(var l=s;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var zc=[];function mp(){for(var s=0;s<zc.length;s++)zc[s]._workInProgressVersionPrimary=null;zc.length=0}var ju=j.ReactCurrentDispatcher,Gt=j.ReactCurrentBatchConfig,Bl=0,Vn=null,Wn=null,br=null,hf=!1,Vc=!1,to=0,ow=0;function Sr(){throw Error(n(321))}function Wc(s,l){if(l===null)return!1;for(var p=0;p<l.length&&p<s.length;p++)if(!Pe(s[p],l[p]))return!1;return!0}function pf(s,l,p,w,x,P){if(Bl=P,Vn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ju.current=s===null||s.memoizedState===null?$c:aw,s=p(w,x),Vc){P=0;do{if(Vc=!1,to=0,25<=P)throw Error(n(301));P+=1,br=Wn=null,l.updateQueue=null,ju.current=Kg,s=p(w,x)}while(Vc)}if(ju.current=ns,l=Wn!==null&&Wn.next!==null,Bl=0,br=Wn=Vn=null,hf=!1,l)throw Error(n(300));return s}function mf(){var s=to!==0;return to=0,s}function Jn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Vn.memoizedState=br=s:br=br.next=s,br}function Dr(){if(Wn===null){var s=Vn.alternate;s=s!==null?s.memoizedState:null}else s=Wn.next;var l=br===null?Vn.memoizedState:br.next;if(l!==null)br=l,Wn=s;else{if(s===null)throw Error(n(310));Wn=s,s={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},br===null?Vn.memoizedState=br=s:br=br.next=s}return br}function Hl(s,l){return typeof l=="function"?l(s):l}function gf(s){var l=Dr(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var w=Wn,x=w.baseQueue,P=p.pending;if(P!==null){if(x!==null){var V=x.next;x.next=P.next,P.next=V}w.baseQueue=x=P,p.pending=null}if(x!==null){P=x.next,w=w.baseState;var ue=V=null,ye=null,je=P;do{var Je=je.lane;if((Bl&Je)===Je)ye!==null&&(ye=ye.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),w=je.hasEagerState?je.eagerState:s(w,je.action);else{var Xe={lane:Je,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};ye===null?(ue=ye=Xe,V=w):ye=ye.next=Xe,Vn.lanes|=Je,$s|=Je}je=je.next}while(je!==null&&je!==P);ye===null?V=w:ye.next=ue,Pe(w,l.memoizedState)||(no=!0),l.memoizedState=w,l.baseState=V,l.baseQueue=ye,p.lastRenderedState=w}if(s=p.interleaved,s!==null){x=s;do P=x.lane,Vn.lanes|=P,$s|=P,x=x.next;while(x!==s)}else x===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function Lu(s){var l=Dr(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var w=p.dispatch,x=p.pending,P=l.memoizedState;if(x!==null){p.pending=null;var V=x=x.next;do P=s(P,V.action),V=V.next;while(V!==x);Pe(P,l.memoizedState)||(no=!0),l.memoizedState=P,l.baseQueue===null&&(l.baseState=P),p.lastRenderedState=P}return[P,w]}function gp(){}function yf(s,l){var p=Vn,w=Dr(),x=l(),P=!Pe(w.memoizedState,x);if(P&&(w.memoizedState=x,no=!0),w=w.queue,wp(wf.bind(null,p,w,s),[s]),w.getSnapshot!==l||P||br!==null&&br.memoizedState.tag&1){if(p.flags|=2048,Ru(9,vf.bind(null,p,w,x,l),void 0,null),Nr===null)throw Error(n(349));Bl&30||yp(p,l,x)}return x}function yp(s,l,p){s.flags|=16384,s={getSnapshot:l,value:p},l=Vn.updateQueue,l===null?(l={lastEffect:null,stores:null},Vn.updateQueue=l,l.stores=[s]):(p=l.stores,p===null?l.stores=[s]:p.push(s))}function vf(s,l,p,w){l.value=p,l.getSnapshot=w,es(l)&&Wg(s)}function wf(s,l,p){return p(function(){es(l)&&Wg(s)})}function es(s){var l=s.getSnapshot;s=s.value;try{var p=l();return!Pe(s,p)}catch{return!0}}function Wg(s){var l=qi(s,1);l!==null&&Xi(l,s,1,-1)}function ts(s){var l=Jn();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:s},l.queue=s,s=s.dispatch=Gg.bind(null,Vn,s),[l.memoizedState,s]}function Ru(s,l,p,w){return s={tag:s,create:l,destroy:p,deps:w,next:null},l=Vn.updateQueue,l===null?(l={lastEffect:null,stores:null},Vn.updateQueue=l,l.lastEffect=s.next=s):(p=l.lastEffect,p===null?l.lastEffect=s.next=s:(w=p.next,p.next=s,s.next=w,l.lastEffect=s)),s}function vp(){return Dr().memoizedState}function _u(s,l,p,w){var x=Jn();Vn.flags|=s,x.memoizedState=Ru(1|l,p,void 0,w===void 0?null:w)}function bf(s,l,p,w){var x=Dr();w=w===void 0?null:w;var P=void 0;if(Wn!==null){var V=Wn.memoizedState;if(P=V.destroy,w!==null&&Wc(w,V.deps)){x.memoizedState=Ru(l,p,P,w);return}}Vn.flags|=s,x.memoizedState=Ru(1|l,p,P,w)}function Zg(s,l){return _u(8390656,8,s,l)}function wp(s,l){return bf(2048,8,s,l)}function bp(s,l){return bf(4,2,s,l)}function Sp(s,l){return bf(4,4,s,l)}function $g(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Dp(s,l,p){return p=p!=null?p.concat([s]):null,bf(4,4,$g.bind(null,l,s),p)}function Sf(){}function bo(s,l){var p=Dr();l=l===void 0?null:l;var w=p.memoizedState;return w!==null&&l!==null&&Wc(l,w[1])?w[0]:(p.memoizedState=[s,l],s)}function Ki(s,l){var p=Dr();l=l===void 0?null:l;var w=p.memoizedState;return w!==null&&l!==null&&Wc(l,w[1])?w[0]:(s=s(),p.memoizedState=[s,l],s)}function qg(s,l,p){return Bl&21?(Pe(p,l)||(p=ae(),Vn.lanes|=p,$s|=p,s.baseState=!0),l):(s.baseState&&(s.baseState=!1,no=!0),s.memoizedState=p)}function iw(s,l){var p=ut;ut=p!==0&&4>p?p:4,s(!0);var w=Gt.transition;Gt.transition={};try{s(!1),l()}finally{ut=p,Gt.transition=w}}function Zc(){return Dr().memoizedState}function Bu(s,l,p){var w=Gs(s);if(p={lane:w,action:p,hasEagerState:!1,eagerState:null,next:null},Tp(s))Jg(l,p);else if(p=eo(s,l,p,w),p!==null){var x=Do();Xi(p,s,w,x),Ip(p,l,w)}}function Gg(s,l,p){var w=Gs(s),x={lane:w,action:p,hasEagerState:!1,eagerState:null,next:null};if(Tp(s))Jg(l,x);else{var P=s.alternate;if(s.lanes===0&&(P===null||P.lanes===0)&&(P=l.lastRenderedReducer,P!==null))try{var V=l.lastRenderedState,ue=P(V,p);if(x.hasEagerState=!0,x.eagerState=ue,Pe(ue,V)){var ye=l.interleaved;ye===null?(x.next=x,sf(l)):(x.next=ye.next,ye.next=x),l.interleaved=x;return}}catch{}p=eo(s,l,x,w),p!==null&&(x=Do(),Xi(p,s,w,x),Ip(p,l,w))}}function Tp(s){var l=s.alternate;return s===Vn||l!==null&&l===Vn}function Jg(s,l){Vc=hf=!0;var p=s.pending;p===null?l.next=l:(l.next=p.next,p.next=l),s.pending=l}function Ip(s,l,p){if(p&4194240){var w=l.lanes;w&=s.pendingLanes,p|=w,l.lanes=p,ot(s,p)}}var ns={readContext:wo,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},$c={readContext:wo,useCallback:function(s,l){return Jn().memoizedState=[s,l===void 0?null:l],s},useContext:wo,useEffect:Zg,useImperativeHandle:function(s,l,p){return p=p!=null?p.concat([s]):null,_u(4194308,4,$g.bind(null,l,s),p)},useLayoutEffect:function(s,l){return _u(4194308,4,s,l)},useInsertionEffect:function(s,l){return _u(4,2,s,l)},useMemo:function(s,l){var p=Jn();return l=l===void 0?null:l,s=s(),p.memoizedState=[s,l],s},useReducer:function(s,l,p){var w=Jn();return l=p!==void 0?p(l):l,w.memoizedState=w.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},w.queue=s,s=s.dispatch=Bu.bind(null,Vn,s),[w.memoizedState,s]},useRef:function(s){var l=Jn();return s={current:s},l.memoizedState=s},useState:ts,useDebugValue:Sf,useDeferredValue:function(s){return Jn().memoizedState=s},useTransition:function(){var s=ts(!1),l=s[0];return s=iw.bind(null,s[1]),Jn().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,p){var w=Vn,x=Jn();if(Hn){if(p===void 0)throw Error(n(407));p=p()}else{if(p=l(),Nr===null)throw Error(n(349));Bl&30||yp(w,l,p)}x.memoizedState=p;var P={value:p,getSnapshot:l};return x.queue=P,Zg(wf.bind(null,w,P,s),[s]),w.flags|=2048,Ru(9,vf.bind(null,w,P,p,l),void 0,null),p},useId:function(){var s=Jn(),l=Nr.identifierPrefix;if(Hn){var p=ba,w=wa;p=(w&~(1<<32-vr(w)-1)).toString(32)+p,l=":"+l+"R"+p,p=to++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=ow++,l=":"+l+"r"+p.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},aw={readContext:wo,useCallback:bo,useContext:wo,useEffect:wp,useImperativeHandle:Dp,useInsertionEffect:bp,useLayoutEffect:Sp,useMemo:Ki,useReducer:gf,useRef:vp,useState:function(){return gf(Hl)},useDebugValue:Sf,useDeferredValue:function(s){var l=Dr();return qg(l,Wn.memoizedState,s)},useTransition:function(){var s=gf(Hl)[0],l=Dr().memoizedState;return[s,l]},useMutableSource:gp,useSyncExternalStore:yf,useId:Zc,unstable_isNewReconciler:!1},Kg={readContext:wo,useCallback:bo,useContext:wo,useEffect:wp,useImperativeHandle:Dp,useInsertionEffect:bp,useLayoutEffect:Sp,useMemo:Ki,useReducer:Lu,useRef:vp,useState:function(){return Lu(Hl)},useDebugValue:Sf,useDeferredValue:function(s){var l=Dr();return Wn===null?l.memoizedState=s:qg(l,Wn.memoizedState,s)},useTransition:function(){var s=Lu(Hl)[0],l=Dr().memoizedState;return[s,l]},useMutableSource:gp,useSyncExternalStore:yf,useId:Zc,unstable_isNewReconciler:!1};function Yl(s,l){try{var p="",w=l;do p+=Ye(w),w=w.return;while(w);var x=p}catch(P){x=`
Error generating stack: `+P.message+`
`+P.stack}return{value:s,source:l,stack:x,digest:null}}function Hu(s,l,p){return{value:s,source:null,stack:p??null,digest:l??null}}function Df(s,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var Tf=typeof WeakMap=="function"?WeakMap:Map;function If(s,l,p){p=Gi(-1,p),p.tag=3,p.payload={element:null};var w=l.value;return p.callback=function(){Of||(Of=!0,Bp=w),Df(s,l)},p}function qc(s,l,p){p=Gi(-1,p),p.tag=3;var w=s.type.getDerivedStateFromError;if(typeof w=="function"){var x=l.value;p.payload=function(){return w(x)},p.callback=function(){Df(s,l)}}var P=s.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(p.callback=function(){Df(s,l),typeof w!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var V=l.stack;this.componentDidCatch(l.value,{componentStack:V!==null?V:""})}),p}function Qg(s,l,p){var w=s.pingCache;if(w===null){w=s.pingCache=new Tf;var x=new Set;w.set(l,x)}else x=w.get(l),x===void 0&&(x=new Set,w.set(l,x));x.has(p)||(x.add(p),s=pw.bind(null,s,l,p),l.then(s,s))}function xp(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Gc(s,l,p,w,x){return s.mode&1?(s.flags|=65536,s.lanes=x,s):(s===l?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=Gi(-1,1),l.tag=2,Bs(p,l,1))),p.lanes|=1),s)}var Xg=j.ReactCurrentOwner,no=!1;function So(s,l,p,w){l.child=s===null?fp(l,null,p,w):Ys(l,s.child,p,w)}function Ep(s,l,p,w,x){p=p.render;var P=l.ref;return Rs(l,x),w=pf(s,l,p,w,P,x),p=mf(),s!==null&&!no?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~x,Ea(s,l,x)):(Hn&&p&&Lc(l),l.flags|=1,So(s,l,w,x),l.child)}function Ia(s,l,p,w,x){if(s===null){var P=p.type;return typeof P=="function"&&!$p(P)&&P.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=P,Cp(s,l,P,w,x)):(s=Hf(p.type,null,w,l,l.mode,x),s.ref=l.ref,s.return=l,l.child=s)}if(P=s.child,!(s.lanes&x)){var V=P.memoizedProps;if(p=p.compare,p=p!==null?p:mt,p(V,w)&&s.ref===l.ref)return Ea(s,l,x)}return l.flags|=1,s=Qs(P,w),s.ref=l.ref,s.return=l,l.child=s}function Cp(s,l,p,w,x){if(s!==null){var P=s.memoizedProps;if(mt(P,w)&&s.ref===l.ref)if(no=!1,l.pendingProps=w=P,(s.lanes&x)!==0)s.flags&131072&&(no=!0);else return l.lanes=s.lanes,Ea(s,l,x)}return xf(s,l,p,w,x)}function Mp(s,l,p){var w=l.pendingProps,x=w.children,P=s!==null?s.memoizedState:null;if(w.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},jn(Wu,ti),ti|=p;else{if(!(p&1073741824))return s=P!==null?P.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,jn(Wu,ti),ti|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=P!==null?P.baseLanes:p,jn(Wu,ti),ti|=w}else P!==null?(w=P.baseLanes|p,l.memoizedState=null):w=p,jn(Wu,ti),ti|=w;return So(s,l,x,p),l.child}function ey(s,l){var p=l.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function xf(s,l,p,w,x){var P=Po(p)?vo:Kr.current;return P=Nu(l,P),Rs(l,x),p=pf(s,l,p,w,P,x),w=mf(),s!==null&&!no?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~x,Ea(s,l,x)):(Hn&&w&&Lc(l),l.flags|=1,So(s,l,p,x),l.child)}function ty(s,l,p,w,x){if(Po(p)){var P=!0;vi(l)}else P=!1;if(Rs(l,x),l.stateNode===null)Yu(s,l),cp(l,p,w),dp(l,p,w,x),w=!0;else if(s===null){var V=l.stateNode,ue=l.memoizedProps;V.props=ue;var ye=V.context,je=p.contextType;typeof je=="object"&&je!==null?je=wo(je):(je=Po(p)?vo:Kr.current,je=Nu(l,je));var Je=p.getDerivedStateFromProps,Xe=typeof Je=="function"||typeof V.getSnapshotBeforeUpdate=="function";Xe||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ue!==w||ye!==je)&&zg(l,V,w,je),_s=!1;var Ge=l.memoizedState;V.state=Ge,lf(l,w,V,x),ye=l.memoizedState,ue!==w||Ge!==ye||Fo.current||_s?(typeof Je=="function"&&(up(l,p,Je,w),ye=l.memoizedState),(ue=_s||cf(l,p,ue,w,Ge,ye,je))?(Xe||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(l.flags|=4194308)):(typeof V.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=w,l.memoizedState=ye),V.props=w,V.state=ye,V.context=je,w=ue):(typeof V.componentDidMount=="function"&&(l.flags|=4194308),w=!1)}else{V=l.stateNode,Yg(s,l),ue=l.memoizedProps,je=l.type===l.elementType?ue:$i(l.type,ue),V.props=je,Xe=l.pendingProps,Ge=V.context,ye=p.contextType,typeof ye=="object"&&ye!==null?ye=wo(ye):(ye=Po(p)?vo:Kr.current,ye=Nu(l,ye));var gt=p.getDerivedStateFromProps;(Je=typeof gt=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ue!==Xe||Ge!==ye)&&zg(l,V,w,ye),_s=!1,Ge=l.memoizedState,V.state=Ge,lf(l,w,V,x);var St=l.memoizedState;ue!==Xe||Ge!==St||Fo.current||_s?(typeof gt=="function"&&(up(l,p,gt,w),St=l.memoizedState),(je=_s||cf(l,p,je,w,Ge,St,ye)||!1)?(Je||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(w,St,ye),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(w,St,ye)),typeof V.componentDidUpdate=="function"&&(l.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof V.componentDidUpdate!="function"||ue===s.memoizedProps&&Ge===s.memoizedState||(l.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ue===s.memoizedProps&&Ge===s.memoizedState||(l.flags|=1024),l.memoizedProps=w,l.memoizedState=St),V.props=w,V.state=St,V.context=ye,w=je):(typeof V.componentDidUpdate!="function"||ue===s.memoizedProps&&Ge===s.memoizedState||(l.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ue===s.memoizedProps&&Ge===s.memoizedState||(l.flags|=1024),w=!1)}return kp(s,l,p,w,P,x)}function kp(s,l,p,w,x,P){ey(s,l);var V=(l.flags&128)!==0;if(!w&&!V)return x&&Lg(l,p,!1),Ea(s,l,P);w=l.stateNode,Xg.current=l;var ue=V&&typeof p.getDerivedStateFromError!="function"?null:w.render();return l.flags|=1,s!==null&&V?(l.child=Ys(l,s.child,null,P),l.child=Ys(l,null,ue,P)):So(s,l,ue,P),l.memoizedState=w.state,x&&Lg(l,p,!0),l.child}function xa(s){var l=s.stateNode;l.pendingContext?Og(s,l.pendingContext,l.pendingContext!==l.context):l.context&&Og(s,l.context,!1),ff(s,l.containerInfo)}function Ef(s,l,p,w,x){return Da(),Ta(x),l.flags|=256,So(s,l,p,w),l.child}var Jc={dehydrated:null,treeContext:null,retryLane:0};function Kc(s){return{baseLanes:s,cachePool:null,transitions:null}}function Qc(s,l,p){var w=l.pendingProps,x=Yn.current,P=!1,V=(l.flags&128)!==0,ue;if((ue=V)||(ue=s!==null&&s.memoizedState===null?!1:(x&2)!==0),ue?(P=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),jn(Yn,x&1),s===null)return Oo(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(l.mode&1?s.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(V=w.children,s=w.fallback,P?(w=l.mode,P=l.child,V={mode:"hidden",children:V},!(w&1)&&P!==null?(P.childLanes=0,P.pendingProps=V):P=Yf(V,w,0,null),s=Wl(s,w,p,null),P.return=l,s.return=l,P.sibling=s,l.child=P,l.child.memoizedState=Kc(p),l.memoizedState=Jc,s):Vs(l,V));if(x=s.memoizedState,x!==null&&(ue=x.dehydrated,ue!==null))return Cf(s,l,V,w,ue,x,p);if(P){P=w.fallback,V=l.mode,x=s.child,ue=x.sibling;var ye={mode:"hidden",children:w.children};return!(V&1)&&l.child!==x?(w=l.child,w.childLanes=0,w.pendingProps=ye,l.deletions=null):(w=Qs(x,ye),w.subtreeFlags=x.subtreeFlags&14680064),ue!==null?P=Qs(ue,P):(P=Wl(P,V,p,null),P.flags|=2),P.return=l,w.return=l,w.sibling=P,l.child=w,w=P,P=l.child,V=s.child.memoizedState,V=V===null?Kc(p):{baseLanes:V.baseLanes|p,cachePool:null,transitions:V.transitions},P.memoizedState=V,P.childLanes=s.childLanes&~p,l.memoizedState=Jc,w}return P=s.child,s=P.sibling,w=Qs(P,{mode:"visible",children:w.children}),!(l.mode&1)&&(w.lanes=p),w.return=l,w.sibling=null,s!==null&&(p=l.deletions,p===null?(l.deletions=[s],l.flags|=16):p.push(s)),l.child=w,l.memoizedState=null,w}function Vs(s,l){return l=Yf({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function At(s,l,p,w){return w!==null&&Ta(w),Ys(l,s.child,null,p),s=Vs(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function Cf(s,l,p,w,x,P,V){if(p)return l.flags&256?(l.flags&=-257,w=Hu(Error(n(422))),At(s,l,V,w)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(P=w.fallback,x=l.mode,w=Yf({mode:"visible",children:w.children},x,0,null),P=Wl(P,x,V,null),P.flags|=2,w.return=l,P.return=l,w.sibling=P,l.child=w,l.mode&1&&Ys(l,s.child,null,V),l.child.memoizedState=Kc(V),l.memoizedState=Jc,P);if(!(l.mode&1))return At(s,l,V,null);if(x.data==="$!"){if(w=x.nextSibling&&x.nextSibling.dataset,w)var ue=w.dgst;return w=ue,P=Error(n(419)),w=Hu(P,w,void 0),At(s,l,V,w)}if(ue=(V&s.childLanes)!==0,no||ue){if(w=Nr,w!==null){switch(V&-V){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=x&(w.suspendedLanes|V)?0:x,x!==0&&x!==P.retryLane&&(P.retryLane=x,qi(s,x),Xi(w,s,x,-1))}return Wp(),w=Hu(Error(n(421))),At(s,l,V,w)}return x.data==="$?"?(l.flags|=128,l.child=s.child,l=mw.bind(null,s),x._reactRetry=l,null):(s=P.treeContext,Ko=Ps(x.nextSibling),Xr=l,Hn=!0,Zi=null,s!==null&&(wi[bi++]=wa,wi[bi++]=ba,wi[bi++]=Ol,wa=s.id,ba=s.overflow,Ol=l),l=Vs(l,w.children),l.flags|=4096,l)}function Mf(s,l,p){s.lanes|=l;var w=s.alternate;w!==null&&(w.lanes|=l),Si(s.return,l,p)}function rs(s,l,p,w,x){var P=s.memoizedState;P===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:w,tail:p,tailMode:x}:(P.isBackwards=l,P.rendering=null,P.renderingStartTime=0,P.last=w,P.tail=p,P.tailMode=x)}function ny(s,l,p){var w=l.pendingProps,x=w.revealOrder,P=w.tail;if(So(s,l,w.children,p),w=Yn.current,w&2)w=w&1|2,l.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Mf(s,p,l);else if(s.tag===19)Mf(s,p,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}w&=1}if(jn(Yn,w),!(l.mode&1))l.memoizedState=null;else switch(x){case"forwards":for(p=l.child,x=null;p!==null;)s=p.alternate,s!==null&&Uc(s)===null&&(x=p),p=p.sibling;p=x,p===null?(x=l.child,l.child=null):(x=p.sibling,p.sibling=null),rs(l,!1,x,p,P);break;case"backwards":for(p=null,x=l.child,l.child=null;x!==null;){if(s=x.alternate,s!==null&&Uc(s)===null){l.child=x;break}s=x.sibling,x.sibling=p,p=x,x=s}rs(l,!0,p,null,P);break;case"together":rs(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Yu(s,l){!(l.mode&1)&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function Ea(s,l,p){if(s!==null&&(l.dependencies=s.dependencies),$s|=l.lanes,!(p&l.childLanes))return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,p=Qs(s,s.pendingProps),l.child=p,p.return=l;s.sibling!==null;)s=s.sibling,p=p.sibling=Qs(s,s.pendingProps),p.return=l;p.sibling=null}return l.child}function ro(s,l,p){switch(l.tag){case 3:xa(l),Da();break;case 5:hp(l);break;case 1:Po(l.type)&&vi(l);break;case 4:ff(l,l.stateNode.containerInfo);break;case 10:var w=l.type._context,x=l.memoizedProps.value;jn(Rl,w._currentValue),w._currentValue=x;break;case 13:if(w=l.memoizedState,w!==null)return w.dehydrated!==null?(jn(Yn,Yn.current&1),l.flags|=128,null):p&l.child.childLanes?Qc(s,l,p):(jn(Yn,Yn.current&1),s=Ea(s,l,p),s!==null?s.sibling:null);jn(Yn,Yn.current&1);break;case 19:if(w=(p&l.childLanes)!==0,s.flags&128){if(w)return ny(s,l,p);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),jn(Yn,Yn.current),w)break;return null;case 22:case 23:return l.lanes=0,Mp(s,l,p)}return Ea(s,l,p)}var ry,Np,Ap,oy;ry=function(s,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Np=function(){},Ap=function(s,l,p,w){var x=s.memoizedProps;if(x!==w){s=l.stateNode,zs(Ji.current);var P=null;switch(p){case"input":x=dt(s,x),w=dt(s,w),P=[];break;case"select":x=G({},x,{value:void 0}),w=G({},w,{value:void 0}),P=[];break;case"textarea":x=rn(s,x),w=rn(s,w),P=[];break;default:typeof x.onClick!="function"&&typeof w.onClick=="function"&&(s.onclick=Gd)}ui(p,w);var V;p=null;for(je in x)if(!w.hasOwnProperty(je)&&x.hasOwnProperty(je)&&x[je]!=null)if(je==="style"){var ue=x[je];for(V in ue)ue.hasOwnProperty(V)&&(p||(p={}),p[V]="")}else je!=="dangerouslySetInnerHTML"&&je!=="children"&&je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&je!=="autoFocus"&&(o.hasOwnProperty(je)?P||(P=[]):(P=P||[]).push(je,null));for(je in w){var ye=w[je];if(ue=x!=null?x[je]:void 0,w.hasOwnProperty(je)&&ye!==ue&&(ye!=null||ue!=null))if(je==="style")if(ue){for(V in ue)!ue.hasOwnProperty(V)||ye&&ye.hasOwnProperty(V)||(p||(p={}),p[V]="");for(V in ye)ye.hasOwnProperty(V)&&ue[V]!==ye[V]&&(p||(p={}),p[V]=ye[V])}else p||(P||(P=[]),P.push(je,p)),p=ye;else je==="dangerouslySetInnerHTML"?(ye=ye?ye.__html:void 0,ue=ue?ue.__html:void 0,ye!=null&&ue!==ye&&(P=P||[]).push(je,ye)):je==="children"?typeof ye!="string"&&typeof ye!="number"||(P=P||[]).push(je,""+ye):je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&(o.hasOwnProperty(je)?(ye!=null&&je==="onScroll"&&_n("scroll",s),P||ue===ye||(P=[])):(P=P||[]).push(je,ye))}p&&(P=P||[]).push("style",p);var je=P;(l.updateQueue=je)&&(l.flags|=4)}},oy=function(s,l,p,w){p!==w&&(l.flags|=4)};function Uu(s,l){if(!Hn)switch(s.tailMode){case"hidden":l=s.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:w.sibling=null}}function oo(s){var l=s.alternate!==null&&s.alternate.child===s.child,p=0,w=0;if(l)for(var x=s.child;x!==null;)p|=x.lanes|x.childLanes,w|=x.subtreeFlags&14680064,w|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)p|=x.lanes|x.childLanes,w|=x.subtreeFlags,w|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=w,s.childLanes=p,l}function sw(s,l,p){var w=l.pendingProps;switch(Ll(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oo(l),null;case 1:return Po(l.type)&&Xd(),oo(l),null;case 3:return w=l.stateNode,Ou(),Bn(Fo),Bn(Kr),mp(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(s===null||s.child===null)&&(Rc(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Zi!==null&&(Up(Zi),Zi=null))),Np(s,l),oo(l),null;case 5:pp(l);var x=zs(Yc.current);if(p=l.type,s!==null&&l.stateNode!=null)Ap(s,l,p,w,x),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!w){if(l.stateNode===null)throw Error(n(166));return oo(l),null}if(s=zs(Ji.current),Rc(l)){w=l.stateNode,p=l.type;var P=l.memoizedProps;switch(w[ya]=l,w[Os]=P,s=(l.mode&1)!==0,p){case"dialog":_n("cancel",w),_n("close",w);break;case"iframe":case"object":case"embed":_n("load",w);break;case"video":case"audio":for(x=0;x<Ka.length;x++)_n(Ka[x],w);break;case"source":_n("error",w);break;case"img":case"image":case"link":_n("error",w),_n("load",w);break;case"details":_n("toggle",w);break;case"input":It(w,P),_n("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!P.multiple},_n("invalid",w);break;case"textarea":Xt(w,P),_n("invalid",w)}ui(p,P),x=null;for(var V in P)if(P.hasOwnProperty(V)){var ue=P[V];V==="children"?typeof ue=="string"?w.textContent!==ue&&(P.suppressHydrationWarning!==!0&&Fc(w.textContent,ue,s),x=["children",ue]):typeof ue=="number"&&w.textContent!==""+ue&&(P.suppressHydrationWarning!==!0&&Fc(w.textContent,ue,s),x=["children",""+ue]):o.hasOwnProperty(V)&&ue!=null&&V==="onScroll"&&_n("scroll",w)}switch(p){case"input":Ce(w),Ut(w,P,!0);break;case"textarea":Ce(w),lr(w);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(w.onclick=Gd)}w=x,l.updateQueue=w,w!==null&&(l.flags|=4)}else{V=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=$r(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=V.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof w.is=="string"?s=V.createElement(p,{is:w.is}):(s=V.createElement(p),p==="select"&&(V=s,w.multiple?V.multiple=!0:w.size&&(V.size=w.size))):s=V.createElementNS(s,p),s[ya]=l,s[Os]=w,ry(s,l,!1,!1),l.stateNode=s;e:{switch(V=_i(p,w),p){case"dialog":_n("cancel",s),_n("close",s),x=w;break;case"iframe":case"object":case"embed":_n("load",s),x=w;break;case"video":case"audio":for(x=0;x<Ka.length;x++)_n(Ka[x],s);x=w;break;case"source":_n("error",s),x=w;break;case"img":case"image":case"link":_n("error",s),_n("load",s),x=w;break;case"details":_n("toggle",s),x=w;break;case"input":It(s,w),x=dt(s,w),_n("invalid",s);break;case"option":x=w;break;case"select":s._wrapperState={wasMultiple:!!w.multiple},x=G({},w,{value:void 0}),_n("invalid",s);break;case"textarea":Xt(s,w),x=rn(s,w),_n("invalid",s);break;default:x=w}ui(p,x),ue=x;for(P in ue)if(ue.hasOwnProperty(P)){var ye=ue[P];P==="style"?Ri(s,ye):P==="dangerouslySetInnerHTML"?(ye=ye?ye.__html:void 0,ye!=null&&ji(s,ye)):P==="children"?typeof ye=="string"?(p!=="textarea"||ye!=="")&&xo(s,ye):typeof ye=="number"&&xo(s,""+ye):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(o.hasOwnProperty(P)?ye!=null&&P==="onScroll"&&_n("scroll",s):ye!=null&&R(s,P,ye,V))}switch(p){case"input":Ce(s),Ut(s,w,!1);break;case"textarea":Ce(s),lr(s);break;case"option":w.value!=null&&s.setAttribute("value",""+Ue(w.value));break;case"select":s.multiple=!!w.multiple,P=w.value,P!=null?tn(s,!!w.multiple,P,!1):w.defaultValue!=null&&tn(s,!!w.multiple,w.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Gd)}switch(p){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return oo(l),null;case 6:if(s&&l.stateNode!=null)oy(s,l,s.memoizedProps,w);else{if(typeof w!="string"&&l.stateNode===null)throw Error(n(166));if(p=zs(Yc.current),zs(Ji.current),Rc(l)){if(w=l.stateNode,p=l.memoizedProps,w[ya]=l,(P=w.nodeValue!==p)&&(s=Xr,s!==null))switch(s.tag){case 3:Fc(w.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Fc(w.nodeValue,p,(s.mode&1)!==0)}P&&(l.flags|=4)}else w=(p.nodeType===9?p:p.ownerDocument).createTextNode(w),w[ya]=l,l.stateNode=w}return oo(l),null;case 13:if(Bn(Yn),w=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Hn&&Ko!==null&&l.mode&1&&!(l.flags&128))ap(),Da(),l.flags|=98560,P=!1;else if(P=Rc(l),w!==null&&w.dehydrated!==null){if(s===null){if(!P)throw Error(n(318));if(P=l.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[ya]=l}else Da(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;oo(l),P=!1}else Zi!==null&&(Up(Zi),Zi=null),P=!0;if(!P)return l.flags&65536?l:null}return l.flags&128?(l.lanes=p,l):(w=w!==null,w!==(s!==null&&s.memoizedState!==null)&&w&&(l.child.flags|=8192,l.mode&1&&(s===null||Yn.current&1?Tr===0&&(Tr=3):Wp())),l.updateQueue!==null&&(l.flags|=4),oo(l),null);case 4:return Ou(),Np(s,l),s===null&&As(l.stateNode.containerInfo),oo(l),null;case 10:return af(l.type._context),oo(l),null;case 17:return Po(l.type)&&Xd(),oo(l),null;case 19:if(Bn(Yn),P=l.memoizedState,P===null)return oo(l),null;if(w=(l.flags&128)!==0,V=P.rendering,V===null)if(w)Uu(P,!1);else{if(Tr!==0||s!==null&&s.flags&128)for(s=l.child;s!==null;){if(V=Uc(s),V!==null){for(l.flags|=128,Uu(P,!1),w=V.updateQueue,w!==null&&(l.updateQueue=w,l.flags|=4),l.subtreeFlags=0,w=p,p=l.child;p!==null;)P=p,s=w,P.flags&=14680066,V=P.alternate,V===null?(P.childLanes=0,P.lanes=s,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=V.childLanes,P.lanes=V.lanes,P.child=V.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=V.memoizedProps,P.memoizedState=V.memoizedState,P.updateQueue=V.updateQueue,P.type=V.type,s=V.dependencies,P.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return jn(Yn,Yn.current&1|2),l.child}s=s.sibling}P.tail!==null&&Sn()>$u&&(l.flags|=128,w=!0,Uu(P,!1),l.lanes=4194304)}else{if(!w)if(s=Uc(V),s!==null){if(l.flags|=128,w=!0,p=s.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),Uu(P,!0),P.tail===null&&P.tailMode==="hidden"&&!V.alternate&&!Hn)return oo(l),null}else 2*Sn()-P.renderingStartTime>$u&&p!==1073741824&&(l.flags|=128,w=!0,Uu(P,!1),l.lanes=4194304);P.isBackwards?(V.sibling=l.child,l.child=V):(p=P.last,p!==null?p.sibling=V:l.child=V,P.last=V)}return P.tail!==null?(l=P.tail,P.rendering=l,P.tail=l.sibling,P.renderingStartTime=Sn(),l.sibling=null,p=Yn.current,jn(Yn,w?p&1|2:p&1),l):(oo(l),null);case 22:case 23:return Vp(),w=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==w&&(l.flags|=8192),w&&l.mode&1?ti&1073741824&&(oo(l),l.subtreeFlags&6&&(l.flags|=8192)):oo(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function lw(s,l){switch(Ll(l),l.tag){case 1:return Po(l.type)&&Xd(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Ou(),Bn(Fo),Bn(Kr),mp(),s=l.flags,s&65536&&!(s&128)?(l.flags=s&-65537|128,l):null;case 5:return pp(l),null;case 13:if(Bn(Yn),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Da()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Bn(Yn),null;case 4:return Ou(),null;case 10:return af(l.type._context),null;case 22:case 23:return Vp(),null;case 24:return null;default:return null}}var Di=!1,Dn=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Ws(s,l){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(w){Kn(s,l,w)}else p.current=null}function Pp(s,l,p){try{p()}catch(w){Kn(s,l,w)}}var iy=!1;function Xc(s,l){if(Pc=qo,s=Mn(),Ec(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var w=p.getSelection&&p.getSelection();if(w&&w.rangeCount!==0){p=w.anchorNode;var x=w.anchorOffset,P=w.focusNode;w=w.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var V=0,ue=-1,ye=-1,je=0,Je=0,Xe=s,Ge=null;t:for(;;){for(var gt;Xe!==p||x!==0&&Xe.nodeType!==3||(ue=V+x),Xe!==P||w!==0&&Xe.nodeType!==3||(ye=V+w),Xe.nodeType===3&&(V+=Xe.nodeValue.length),(gt=Xe.firstChild)!==null;)Ge=Xe,Xe=gt;for(;;){if(Xe===s)break t;if(Ge===p&&++je===x&&(ue=V),Ge===P&&++Je===w&&(ye=V),(gt=Xe.nextSibling)!==null)break;Xe=Ge,Ge=Xe.parentNode}Xe=gt}p=ue===-1||ye===-1?null:{start:ue,end:ye}}else p=null}p=p||{start:0,end:0}}else p=null;for(Fl={focusedElem:s,selectionRange:p},qo=!1,wt=l;wt!==null;)if(l=wt,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,wt=s;else for(;wt!==null;){l=wt;try{var St=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(St!==null){var Tt=St.memoizedProps,ir=St.memoizedState,Ee=l.stateNode,we=Ee.getSnapshotBeforeUpdate(l.elementType===l.type?Tt:$i(l.type,Tt),ir);Ee.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var Me=l.stateNode.containerInfo;Me.nodeType===1?Me.textContent="":Me.nodeType===9&&Me.documentElement&&Me.removeChild(Me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(it){Kn(l,l.return,it)}if(s=l.sibling,s!==null){s.return=l.return,wt=s;break}wt=l.return}return St=iy,iy=!1,St}function zu(s,l,p){var w=l.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var x=w=w.next;do{if((x.tag&s)===s){var P=x.destroy;x.destroy=void 0,P!==void 0&&Pp(l,p,P)}x=x.next}while(x!==w)}}function ed(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&s)===s){var w=p.create;p.destroy=w()}p=p.next}while(p!==l)}}function Op(s){var l=s.ref;if(l!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof l=="function"?l(s):l.current=s}}function ay(s){var l=s.alternate;l!==null&&(s.alternate=null,ay(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[ya],delete l[Os],delete l[Kd],delete l[J],delete l[Mu])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function sy(s){return s.tag===5||s.tag===3||s.tag===4}function ly(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||sy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function kf(s,l,p){var w=s.tag;if(w===5||w===6)s=s.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(s,l):p.insertBefore(s,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(s,p)):(l=p,l.appendChild(s)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Gd));else if(w!==4&&(s=s.child,s!==null))for(kf(s,l,p),s=s.sibling;s!==null;)kf(s,l,p),s=s.sibling}function Nf(s,l,p){var w=s.tag;if(w===5||w===6)s=s.stateNode,l?p.insertBefore(s,l):p.appendChild(s);else if(w!==4&&(s=s.child,s!==null))for(Nf(s,l,p),s=s.sibling;s!==null;)Nf(s,l,p),s=s.sibling}var Yr=null,Xo=!1;function os(s,l,p){for(p=p.child;p!==null;)Vu(s,l,p),p=p.sibling}function Vu(s,l,p){if(po&&typeof po.onCommitFiberUnmount=="function")try{po.onCommitFiberUnmount(Vo,p)}catch{}switch(p.tag){case 5:Dn||Ws(p,l);case 6:var w=Yr,x=Xo;Yr=null,os(s,l,p),Yr=w,Xo=x,Yr!==null&&(Xo?(s=Yr,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):Yr.removeChild(p.stateNode));break;case 18:Yr!==null&&(Xo?(s=Yr,p=p.stateNode,s.nodeType===8?rp(s.parentNode,p):s.nodeType===1&&rp(s,p),an(s)):rp(Yr,p.stateNode));break;case 4:w=Yr,x=Xo,Yr=p.stateNode.containerInfo,Xo=!0,os(s,l,p),Yr=w,Xo=x;break;case 0:case 11:case 14:case 15:if(!Dn&&(w=p.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){x=w=w.next;do{var P=x,V=P.destroy;P=P.tag,V!==void 0&&(P&2||P&4)&&Pp(p,l,V),x=x.next}while(x!==w)}os(s,l,p);break;case 1:if(!Dn&&(Ws(p,l),w=p.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=p.memoizedProps,w.state=p.memoizedState,w.componentWillUnmount()}catch(ue){Kn(p,l,ue)}os(s,l,p);break;case 21:os(s,l,p);break;case 22:p.mode&1?(Dn=(w=Dn)||p.memoizedState!==null,os(s,l,p),Dn=w):os(s,l,p);break;default:os(s,l,p)}}function Af(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new Fp),l.forEach(function(w){var x=gw.bind(null,s,w);p.has(w)||(p.add(w),w.then(x,x))})}}function Ti(s,l){var p=l.deletions;if(p!==null)for(var w=0;w<p.length;w++){var x=p[w];try{var P=s,V=l,ue=V;e:for(;ue!==null;){switch(ue.tag){case 5:Yr=ue.stateNode,Xo=!1;break e;case 3:Yr=ue.stateNode.containerInfo,Xo=!0;break e;case 4:Yr=ue.stateNode.containerInfo,Xo=!0;break e}ue=ue.return}if(Yr===null)throw Error(n(160));Vu(P,V,x),Yr=null,Xo=!1;var ye=x.alternate;ye!==null&&(ye.return=null),x.return=null}catch(je){Kn(x,l,je)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)jp(l,s),l=l.sibling}function jp(s,l){var p=s.alternate,w=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ti(l,s),ei(s),w&4){try{zu(3,s,s.return),ed(3,s)}catch(Tt){Kn(s,s.return,Tt)}try{zu(5,s,s.return)}catch(Tt){Kn(s,s.return,Tt)}}break;case 1:Ti(l,s),ei(s),w&512&&p!==null&&Ws(p,p.return);break;case 5:if(Ti(l,s),ei(s),w&512&&p!==null&&Ws(p,p.return),s.flags&32){var x=s.stateNode;try{xo(x,"")}catch(Tt){Kn(s,s.return,Tt)}}if(w&4&&(x=s.stateNode,x!=null)){var P=s.memoizedProps,V=p!==null?p.memoizedProps:P,ue=s.type,ye=s.updateQueue;if(s.updateQueue=null,ye!==null)try{ue==="input"&&P.type==="radio"&&P.name!=null&&Et(x,P),_i(ue,V);var je=_i(ue,P);for(V=0;V<ye.length;V+=2){var Je=ye[V],Xe=ye[V+1];Je==="style"?Ri(x,Xe):Je==="dangerouslySetInnerHTML"?ji(x,Xe):Je==="children"?xo(x,Xe):R(x,Je,Xe,je)}switch(ue){case"input":_t(x,P);break;case"textarea":Ln(x,P);break;case"select":var Ge=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!P.multiple;var gt=P.value;gt!=null?tn(x,!!P.multiple,gt,!1):Ge!==!!P.multiple&&(P.defaultValue!=null?tn(x,!!P.multiple,P.defaultValue,!0):tn(x,!!P.multiple,P.multiple?[]:"",!1))}x[Os]=P}catch(Tt){Kn(s,s.return,Tt)}}break;case 6:if(Ti(l,s),ei(s),w&4){if(s.stateNode===null)throw Error(n(162));x=s.stateNode,P=s.memoizedProps;try{x.nodeValue=P}catch(Tt){Kn(s,s.return,Tt)}}break;case 3:if(Ti(l,s),ei(s),w&4&&p!==null&&p.memoizedState.isDehydrated)try{an(l.containerInfo)}catch(Tt){Kn(s,s.return,Tt)}break;case 4:Ti(l,s),ei(s);break;case 13:Ti(l,s),ei(s),x=s.child,x.flags&8192&&(P=x.memoizedState!==null,x.stateNode.isHidden=P,!P||x.alternate!==null&&x.alternate.memoizedState!==null||(Pf=Sn())),w&4&&Af(s);break;case 22:if(Je=p!==null&&p.memoizedState!==null,s.mode&1?(Dn=(je=Dn)||Je,Ti(l,s),Dn=je):Ti(l,s),ei(s),w&8192){if(je=s.memoizedState!==null,(s.stateNode.isHidden=je)&&!Je&&s.mode&1)for(wt=s,Je=s.child;Je!==null;){for(Xe=wt=Je;wt!==null;){switch(Ge=wt,gt=Ge.child,Ge.tag){case 0:case 11:case 14:case 15:zu(4,Ge,Ge.return);break;case 1:Ws(Ge,Ge.return);var St=Ge.stateNode;if(typeof St.componentWillUnmount=="function"){w=Ge,p=Ge.return;try{l=w,St.props=l.memoizedProps,St.state=l.memoizedState,St.componentWillUnmount()}catch(Tt){Kn(w,p,Tt)}}break;case 5:Ws(Ge,Ge.return);break;case 22:if(Ge.memoizedState!==null){cy(Xe);continue}}gt!==null?(gt.return=Ge,wt=gt):cy(Xe)}Je=Je.sibling}e:for(Je=null,Xe=s;;){if(Xe.tag===5){if(Je===null){Je=Xe;try{x=Xe.stateNode,je?(P=x.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(ue=Xe.stateNode,ye=Xe.memoizedProps.style,V=ye!=null&&ye.hasOwnProperty("display")?ye.display:null,ue.style.display=Eo("display",V))}catch(Tt){Kn(s,s.return,Tt)}}}else if(Xe.tag===6){if(Je===null)try{Xe.stateNode.nodeValue=je?"":Xe.memoizedProps}catch(Tt){Kn(s,s.return,Tt)}}else if((Xe.tag!==22&&Xe.tag!==23||Xe.memoizedState===null||Xe===s)&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===s)break e;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===s)break e;Je===Xe&&(Je=null),Xe=Xe.return}Je===Xe&&(Je=null),Xe.sibling.return=Xe.return,Xe=Xe.sibling}}break;case 19:Ti(l,s),ei(s),w&4&&Af(s);break;case 21:break;default:Ti(l,s),ei(s)}}function ei(s){var l=s.flags;if(l&2){try{e:{for(var p=s.return;p!==null;){if(sy(p)){var w=p;break e}p=p.return}throw Error(n(160))}switch(w.tag){case 5:var x=w.stateNode;w.flags&32&&(xo(x,""),w.flags&=-33);var P=ly(s);Nf(s,P,x);break;case 3:case 4:var V=w.stateNode.containerInfo,ue=ly(s);kf(s,ue,V);break;default:throw Error(n(161))}}catch(ye){Kn(s,s.return,ye)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function uy(s,l,p){wt=s,Qi(s)}function Qi(s,l,p){for(var w=(s.mode&1)!==0;wt!==null;){var x=wt,P=x.child;if(x.tag===22&&w){var V=x.memoizedState!==null||Di;if(!V){var ue=x.alternate,ye=ue!==null&&ue.memoizedState!==null||Dn;ue=Di;var je=Dn;if(Di=V,(Dn=ye)&&!je)for(wt=x;wt!==null;)V=wt,ye=V.child,V.tag===22&&V.memoizedState!==null?Lp(x):ye!==null?(ye.return=V,wt=ye):Lp(x);for(;P!==null;)wt=P,Qi(P),P=P.sibling;wt=x,Di=ue,Dn=je}Zs(s)}else x.subtreeFlags&8772&&P!==null?(P.return=x,wt=P):Zs(s)}}function Zs(s){for(;wt!==null;){var l=wt;if(l.flags&8772){var p=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:Dn||ed(5,l);break;case 1:var w=l.stateNode;if(l.flags&4&&!Dn)if(p===null)w.componentDidMount();else{var x=l.elementType===l.type?p.memoizedProps:$i(l.type,p.memoizedProps);w.componentDidUpdate(x,p.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var P=l.updateQueue;P!==null&&Ug(l,P,w);break;case 3:var V=l.updateQueue;if(V!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}Ug(l,V,p)}break;case 5:var ue=l.stateNode;if(p===null&&l.flags&4){p=ue;var ye=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ye.autoFocus&&p.focus();break;case"img":ye.src&&(p.src=ye.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var je=l.alternate;if(je!==null){var Je=je.memoizedState;if(Je!==null){var Xe=Je.dehydrated;Xe!==null&&an(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dn||l.flags&512&&Op(l)}catch(Ge){Kn(l,l.return,Ge)}}if(l===s){wt=null;break}if(p=l.sibling,p!==null){p.return=l.return,wt=p;break}wt=l.return}}function cy(s){for(;wt!==null;){var l=wt;if(l===s){wt=null;break}var p=l.sibling;if(p!==null){p.return=l.return,wt=p;break}wt=l.return}}function Lp(s){for(;wt!==null;){var l=wt;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{ed(4,l)}catch(ye){Kn(l,p,ye)}break;case 1:var w=l.stateNode;if(typeof w.componentDidMount=="function"){var x=l.return;try{w.componentDidMount()}catch(ye){Kn(l,x,ye)}}var P=l.return;try{Op(l)}catch(ye){Kn(l,P,ye)}break;case 5:var V=l.return;try{Op(l)}catch(ye){Kn(l,V,ye)}}}catch(ye){Kn(l,l.return,ye)}if(l===s){wt=null;break}var ue=l.sibling;if(ue!==null){ue.return=l.return,wt=ue;break}wt=l.return}}var uw=Math.ceil,Ff=j.ReactCurrentDispatcher,Rp=j.ReactCurrentOwner,Ii=j.ReactCurrentBatchConfig,dn=0,Nr=null,fr=null,Ur=0,ti=0,Wu=Ao(0),Tr=0,Zu=null,$s=0,td=0,_p=0,nd=null,jo=null,Pf=0,$u=1/0,is=null,Of=!1,Bp=null,qs=null,jf=!1,Ir=null,Lf=0,rd=0,Hp=null,od=-1,Rf=0;function Do(){return dn&6?Sn():od!==-1?od:od=Sn()}function Gs(s){return s.mode&1?dn&2&&Ur!==0?Ur&-Ur:Hg.transition!==null?(Rf===0&&(Rf=ae()),Rf):(s=ut,s!==0||(s=window.event,s=s===void 0?16:bc(s.type)),s):1}function Xi(s,l,p,w){if(50<rd)throw rd=0,Hp=null,Error(n(185));Te(s,p,w),(!(dn&2)||s!==Nr)&&(s===Nr&&(!(dn&2)&&(td|=p),Tr===4&&Js(s,Ur)),io(s,w),p===1&&dn===0&&!(l.mode&1)&&($u=Sn()+500,ef&&Ls()))}function io(s,l){var p=s.callbackNode;H(s,l);var w=Zo(s,s===Nr?Ur:0);if(w===0)p!==null&&Dl(p),s.callbackNode=null,s.callbackPriority=0;else if(l=w&-w,s.callbackPriority!==l){if(p!=null&&Dl(p),l===1)s.tag===0?Pl(fy.bind(null,s)):Rg(fy.bind(null,s)),Jd(function(){!(dn&6)&&Ls()}),p=null;else{switch(Nt(w)){case 1:p=ys;break;case 4:p=vs;break;case 16:p=Yi;break;case 536870912:p=ci;break;default:p=Yi}p=wy(p,dy.bind(null,s))}s.callbackPriority=l,s.callbackNode=p}}function dy(s,l){if(od=-1,Rf=0,dn&6)throw Error(n(327));var p=s.callbackNode;if(Ks()&&s.callbackNode!==p)return null;var w=Zo(s,s===Nr?Ur:0);if(w===0)return null;if(w&30||w&s.expiredLanes||l)l=_f(s,w);else{l=w;var x=dn;dn|=2;var P=py();(Nr!==s||Ur!==l)&&(is=null,$u=Sn()+500,zl(s,l));do try{fw();break}catch(ue){hy(s,ue)}while(!0);_c(),Ff.current=P,dn=x,fr!==null?l=0:(Nr=null,Ur=0,l=Tr)}if(l!==0){if(l===2&&(x=K(s),x!==0&&(w=x,l=Yp(s,x))),l===1)throw p=Zu,zl(s,0),Js(s,w),io(s,Sn()),p;if(l===6)Js(s,w);else{if(x=s.current.alternate,!(w&30)&&!cw(x)&&(l=_f(s,w),l===2&&(P=K(s),P!==0&&(w=P,l=Yp(s,P))),l===1))throw p=Zu,zl(s,0),Js(s,w),io(s,Sn()),p;switch(s.finishedWork=x,s.finishedLanes=w,l){case 0:case 1:throw Error(n(345));case 2:Vl(s,jo,is);break;case 3:if(Js(s,w),(w&130023424)===w&&(l=Pf+500-Sn(),10<l)){if(Zo(s,0)!==0)break;if(x=s.suspendedLanes,(x&w)!==w){Do(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=Fs(Vl.bind(null,s,jo,is),l);break}Vl(s,jo,is);break;case 4:if(Js(s,w),(w&4194240)===w)break;for(l=s.eventTimes,x=-1;0<w;){var V=31-vr(w);P=1<<V,V=l[V],V>x&&(x=V),w&=~P}if(w=x,w=Sn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*uw(w/1960))-w,10<w){s.timeoutHandle=Fs(Vl.bind(null,s,jo,is),w);break}Vl(s,jo,is);break;case 5:Vl(s,jo,is);break;default:throw Error(n(329))}}}return io(s,Sn()),s.callbackNode===p?dy.bind(null,s):null}function Yp(s,l){var p=nd;return s.current.memoizedState.isDehydrated&&(zl(s,l).flags|=256),s=_f(s,l),s!==2&&(l=jo,jo=p,l!==null&&Up(l)),s}function Up(s){jo===null?jo=s:jo.push.apply(jo,s)}function cw(s){for(var l=s;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var w=0;w<p.length;w++){var x=p[w],P=x.getSnapshot;x=x.value;try{if(!Pe(P(),x))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Js(s,l){for(l&=~_p,l&=~td,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var p=31-vr(l),w=1<<p;s[p]=-1,l&=~w}}function fy(s){if(dn&6)throw Error(n(327));Ks();var l=Zo(s,0);if(!(l&1))return io(s,Sn()),null;var p=_f(s,l);if(s.tag!==0&&p===2){var w=K(s);w!==0&&(l=w,p=Yp(s,w))}if(p===1)throw p=Zu,zl(s,0),Js(s,l),io(s,Sn()),p;if(p===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Vl(s,jo,is),io(s,Sn()),null}function zp(s,l){var p=dn;dn|=1;try{return s(l)}finally{dn=p,dn===0&&($u=Sn()+500,ef&&Ls())}}function Ul(s){Ir!==null&&Ir.tag===0&&!(dn&6)&&Ks();var l=dn;dn|=1;var p=Ii.transition,w=ut;try{if(Ii.transition=null,ut=1,s)return s()}finally{ut=w,Ii.transition=p,dn=l,!(dn&6)&&Ls()}}function Vp(){ti=Wu.current,Bn(Wu)}function zl(s,l){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,jc(p)),fr!==null)for(p=fr.return;p!==null;){var w=p;switch(Ll(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Xd();break;case 3:Ou(),Bn(Fo),Bn(Kr),mp();break;case 5:pp(w);break;case 4:Ou();break;case 13:Bn(Yn);break;case 19:Bn(Yn);break;case 10:af(w.type._context);break;case 22:case 23:Vp()}p=p.return}if(Nr=s,fr=s=Qs(s.current,null),Ur=ti=l,Tr=0,Zu=null,_p=td=$s=0,jo=nd=null,Qo!==null){for(l=0;l<Qo.length;l++)if(p=Qo[l],w=p.interleaved,w!==null){p.interleaved=null;var x=w.next,P=p.pending;if(P!==null){var V=P.next;P.next=x,w.next=V}p.pending=w}Qo=null}return s}function hy(s,l){do{var p=fr;try{if(_c(),ju.current=ns,hf){for(var w=Vn.memoizedState;w!==null;){var x=w.queue;x!==null&&(x.pending=null),w=w.next}hf=!1}if(Bl=0,br=Wn=Vn=null,Vc=!1,to=0,Rp.current=null,p===null||p.return===null){Tr=1,Zu=l,fr=null;break}e:{var P=s,V=p.return,ue=p,ye=l;if(l=Ur,ue.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var je=ye,Je=ue,Xe=Je.tag;if(!(Je.mode&1)&&(Xe===0||Xe===11||Xe===15)){var Ge=Je.alternate;Ge?(Je.updateQueue=Ge.updateQueue,Je.memoizedState=Ge.memoizedState,Je.lanes=Ge.lanes):(Je.updateQueue=null,Je.memoizedState=null)}var gt=xp(V);if(gt!==null){gt.flags&=-257,Gc(gt,V,ue,P,l),gt.mode&1&&Qg(P,je,l),l=gt,ye=je;var St=l.updateQueue;if(St===null){var Tt=new Set;Tt.add(ye),l.updateQueue=Tt}else St.add(ye);break e}else{if(!(l&1)){Qg(P,je,l),Wp();break e}ye=Error(n(426))}}else if(Hn&&ue.mode&1){var ir=xp(V);if(ir!==null){!(ir.flags&65536)&&(ir.flags|=256),Gc(ir,V,ue,P,l),Ta(Yl(ye,ue));break e}}P=ye=Yl(ye,ue),Tr!==4&&(Tr=2),nd===null?nd=[P]:nd.push(P),P=V;do{switch(P.tag){case 3:P.flags|=65536,l&=-l,P.lanes|=l;var Ee=If(P,ye,l);lp(P,Ee);break e;case 1:ue=ye;var we=P.type,Me=P.stateNode;if(!(P.flags&128)&&(typeof we.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(qs===null||!qs.has(Me)))){P.flags|=65536,l&=-l,P.lanes|=l;var it=qc(P,ue,l);lp(P,it);break e}}P=P.return}while(P!==null)}gy(p)}catch(xt){l=xt,fr===p&&p!==null&&(fr=p=p.return);continue}break}while(!0)}function py(){var s=Ff.current;return Ff.current=ns,s===null?ns:s}function Wp(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),Nr===null||!($s&268435455)&&!(td&268435455)||Js(Nr,Ur)}function _f(s,l){var p=dn;dn|=2;var w=py();(Nr!==s||Ur!==l)&&(is=null,zl(s,l));do try{dw();break}catch(x){hy(s,x)}while(!0);if(_c(),dn=p,Ff.current=w,fr!==null)throw Error(n(261));return Nr=null,Ur=0,Tr}function dw(){for(;fr!==null;)my(fr)}function fw(){for(;fr!==null&&!Ya();)my(fr)}function my(s){var l=vy(s.alternate,s,ti);s.memoizedProps=s.pendingProps,l===null?gy(s):fr=l,Rp.current=null}function gy(s){var l=s;do{var p=l.alternate;if(s=l.return,l.flags&32768){if(p=lw(p,l),p!==null){p.flags&=32767,fr=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Tr=6,fr=null;return}}else if(p=sw(p,l,ti),p!==null){fr=p;return}if(l=l.sibling,l!==null){fr=l;return}fr=l=s}while(l!==null);Tr===0&&(Tr=5)}function Vl(s,l,p){var w=ut,x=Ii.transition;try{Ii.transition=null,ut=1,hw(s,l,p,w)}finally{Ii.transition=x,ut=w}return null}function hw(s,l,p,w){do Ks();while(Ir!==null);if(dn&6)throw Error(n(327));p=s.finishedWork;var x=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var P=p.lanes|p.childLanes;if(ze(s,P),s===Nr&&(fr=Nr=null,Ur=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||jf||(jf=!0,wy(Yi,function(){return Ks(),null})),P=(p.flags&15990)!==0,p.subtreeFlags&15990||P){P=Ii.transition,Ii.transition=null;var V=ut;ut=1;var ue=dn;dn|=4,Rp.current=null,Xc(s,p),jp(p,s),nw(Fl),qo=!!Pc,Fl=Pc=null,s.current=p,uy(p),du(),dn=ue,ut=V,Ii.transition=P}else s.current=p;if(jf&&(jf=!1,Ir=s,Lf=x),P=s.pendingLanes,P===0&&(qs=null),Ua(p.stateNode),io(s,Sn()),l!==null)for(w=s.onRecoverableError,p=0;p<l.length;p++)x=l[p],w(x.value,{componentStack:x.stack,digest:x.digest});if(Of)throw Of=!1,s=Bp,Bp=null,s;return Lf&1&&s.tag!==0&&Ks(),P=s.pendingLanes,P&1?s===Hp?rd++:(rd=0,Hp=s):rd=0,Ls(),null}function Ks(){if(Ir!==null){var s=Nt(Lf),l=Ii.transition,p=ut;try{if(Ii.transition=null,ut=16>s?16:s,Ir===null)var w=!1;else{if(s=Ir,Ir=null,Lf=0,dn&6)throw Error(n(331));var x=dn;for(dn|=4,wt=s.current;wt!==null;){var P=wt,V=P.child;if(wt.flags&16){var ue=P.deletions;if(ue!==null){for(var ye=0;ye<ue.length;ye++){var je=ue[ye];for(wt=je;wt!==null;){var Je=wt;switch(Je.tag){case 0:case 11:case 15:zu(8,Je,P)}var Xe=Je.child;if(Xe!==null)Xe.return=Je,wt=Xe;else for(;wt!==null;){Je=wt;var Ge=Je.sibling,gt=Je.return;if(ay(Je),Je===je){wt=null;break}if(Ge!==null){Ge.return=gt,wt=Ge;break}wt=gt}}}var St=P.alternate;if(St!==null){var Tt=St.child;if(Tt!==null){St.child=null;do{var ir=Tt.sibling;Tt.sibling=null,Tt=ir}while(Tt!==null)}}wt=P}}if(P.subtreeFlags&2064&&V!==null)V.return=P,wt=V;else e:for(;wt!==null;){if(P=wt,P.flags&2048)switch(P.tag){case 0:case 11:case 15:zu(9,P,P.return)}var Ee=P.sibling;if(Ee!==null){Ee.return=P.return,wt=Ee;break e}wt=P.return}}var we=s.current;for(wt=we;wt!==null;){V=wt;var Me=V.child;if(V.subtreeFlags&2064&&Me!==null)Me.return=V,wt=Me;else e:for(V=we;wt!==null;){if(ue=wt,ue.flags&2048)try{switch(ue.tag){case 0:case 11:case 15:ed(9,ue)}}catch(xt){Kn(ue,ue.return,xt)}if(ue===V){wt=null;break e}var it=ue.sibling;if(it!==null){it.return=ue.return,wt=it;break e}wt=ue.return}}if(dn=x,Ls(),po&&typeof po.onPostCommitFiberRoot=="function")try{po.onPostCommitFiberRoot(Vo,s)}catch{}w=!0}return w}finally{ut=p,Ii.transition=l}}return!1}function Zp(s,l,p){l=Yl(p,l),l=If(s,l,1),s=Bs(s,l,1),l=Do(),s!==null&&(Te(s,1,l),io(s,l))}function Kn(s,l,p){if(s.tag===3)Zp(s,s,p);else for(;l!==null;){if(l.tag===3){Zp(l,s,p);break}else if(l.tag===1){var w=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(qs===null||!qs.has(w))){s=Yl(p,s),s=qc(l,s,1),l=Bs(l,s,1),s=Do(),l!==null&&(Te(l,1,s),io(l,s));break}}l=l.return}}function pw(s,l,p){var w=s.pingCache;w!==null&&w.delete(l),l=Do(),s.pingedLanes|=s.suspendedLanes&p,Nr===s&&(Ur&p)===p&&(Tr===4||Tr===3&&(Ur&130023424)===Ur&&500>Sn()-Pf?zl(s,0):_p|=p),io(s,l)}function yy(s,l){l===0&&(s.mode&1?(l=za,za<<=1,!(za&130023424)&&(za=4194304)):l=1);var p=Do();s=qi(s,l),s!==null&&(Te(s,l,p),io(s,p))}function mw(s){var l=s.memoizedState,p=0;l!==null&&(p=l.retryLane),yy(s,p)}function gw(s,l){var p=0;switch(s.tag){case 13:var w=s.stateNode,x=s.memoizedState;x!==null&&(p=x.retryLane);break;case 19:w=s.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(l),yy(s,p)}var vy;vy=function(s,l,p){if(s!==null)if(s.memoizedProps!==l.pendingProps||Fo.current)no=!0;else{if(!(s.lanes&p)&&!(l.flags&128))return no=!1,ro(s,l,p);no=!!(s.flags&131072)}else no=!1,Hn&&l.flags&1048576&&_g(l,nf,l.index);switch(l.lanes=0,l.tag){case 2:var w=l.type;Yu(s,l),s=l.pendingProps;var x=Nu(l,Kr.current);Rs(l,p),x=pf(null,l,w,s,x,p);var P=mf();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Po(w)?(P=!0,vi(l)):P=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,sp(l),x.updater=uf,l.stateNode=x,x._reactInternals=l,dp(l,w,s,p),l=kp(null,l,w,!0,P,p)):(l.tag=0,Hn&&P&&Lc(l),So(null,l,x,p),l=l.child),l;case 16:w=l.elementType;e:{switch(Yu(s,l),s=l.pendingProps,x=w._init,w=x(w._payload),l.type=w,x=l.tag=Bf(w),s=$i(w,s),x){case 0:l=xf(null,l,w,s,p);break e;case 1:l=ty(null,l,w,s,p);break e;case 11:l=Ep(null,l,w,s,p);break e;case 14:l=Ia(null,l,w,$i(w.type,s),p);break e}throw Error(n(306,w,""))}return l;case 0:return w=l.type,x=l.pendingProps,x=l.elementType===w?x:$i(w,x),xf(s,l,w,x,p);case 1:return w=l.type,x=l.pendingProps,x=l.elementType===w?x:$i(w,x),ty(s,l,w,x,p);case 3:e:{if(xa(l),s===null)throw Error(n(387));w=l.pendingProps,P=l.memoizedState,x=P.element,Yg(s,l),lf(l,w,null,p);var V=l.memoizedState;if(w=V.element,P.isDehydrated)if(P={element:w,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},l.updateQueue.baseState=P,l.memoizedState=P,l.flags&256){x=Yl(Error(n(423)),l),l=Ef(s,l,w,p,x);break e}else if(w!==x){x=Yl(Error(n(424)),l),l=Ef(s,l,w,p,x);break e}else for(Ko=Ps(l.stateNode.containerInfo.firstChild),Xr=l,Hn=!0,Zi=null,p=fp(l,null,w,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Da(),w===x){l=Ea(s,l,p);break e}So(s,l,w,p)}l=l.child}return l;case 5:return hp(l),s===null&&Oo(l),w=l.type,x=l.pendingProps,P=s!==null?s.memoizedProps:null,V=x.children,Oc(w,x)?V=null:P!==null&&Oc(w,P)&&(l.flags|=32),ey(s,l),So(s,l,V,p),l.child;case 6:return s===null&&Oo(l),null;case 13:return Qc(s,l,p);case 4:return ff(l,l.stateNode.containerInfo),w=l.pendingProps,s===null?l.child=Ys(l,null,w,p):So(s,l,w,p),l.child;case 11:return w=l.type,x=l.pendingProps,x=l.elementType===w?x:$i(w,x),Ep(s,l,w,x,p);case 7:return So(s,l,l.pendingProps,p),l.child;case 8:return So(s,l,l.pendingProps.children,p),l.child;case 12:return So(s,l,l.pendingProps.children,p),l.child;case 10:e:{if(w=l.type._context,x=l.pendingProps,P=l.memoizedProps,V=x.value,jn(Rl,w._currentValue),w._currentValue=V,P!==null)if(Pe(P.value,V)){if(P.children===x.children&&!Fo.current){l=Ea(s,l,p);break e}}else for(P=l.child,P!==null&&(P.return=l);P!==null;){var ue=P.dependencies;if(ue!==null){V=P.child;for(var ye=ue.firstContext;ye!==null;){if(ye.context===w){if(P.tag===1){ye=Gi(-1,p&-p),ye.tag=2;var je=P.updateQueue;if(je!==null){je=je.shared;var Je=je.pending;Je===null?ye.next=ye:(ye.next=Je.next,Je.next=ye),je.pending=ye}}P.lanes|=p,ye=P.alternate,ye!==null&&(ye.lanes|=p),Si(P.return,p,l),ue.lanes|=p;break}ye=ye.next}}else if(P.tag===10)V=P.type===l.type?null:P.child;else if(P.tag===18){if(V=P.return,V===null)throw Error(n(341));V.lanes|=p,ue=V.alternate,ue!==null&&(ue.lanes|=p),Si(V,p,l),V=P.sibling}else V=P.child;if(V!==null)V.return=P;else for(V=P;V!==null;){if(V===l){V=null;break}if(P=V.sibling,P!==null){P.return=V.return,V=P;break}V=V.return}P=V}So(s,l,x.children,p),l=l.child}return l;case 9:return x=l.type,w=l.pendingProps.children,Rs(l,p),x=wo(x),w=w(x),l.flags|=1,So(s,l,w,p),l.child;case 14:return w=l.type,x=$i(w,l.pendingProps),x=$i(w.type,x),Ia(s,l,w,x,p);case 15:return Cp(s,l,l.type,l.pendingProps,p);case 17:return w=l.type,x=l.pendingProps,x=l.elementType===w?x:$i(w,x),Yu(s,l),l.tag=1,Po(w)?(s=!0,vi(l)):s=!1,Rs(l,p),cp(l,w,x),dp(l,w,x,p),kp(null,l,w,!0,s,p);case 19:return ny(s,l,p);case 22:return Mp(s,l,p)}throw Error(n(156,l.tag))};function wy(s,l){return Ha(s,l)}function yw(s,l,p,w){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(s,l,p,w){return new yw(s,l,p,w)}function $p(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Bf(s){if(typeof s=="function")return $p(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Q)return 11;if(s===fe)return 14}return 2}function Qs(s,l){var p=s.alternate;return p===null?(p=ni(s.tag,l,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=l,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,l=s.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Hf(s,l,p,w,x,P){var V=2;if(w=s,typeof s=="function")$p(s)&&(V=1);else if(typeof s=="string")V=5;else e:switch(s){case z:return Wl(p.children,x,P,l);case U:V=8,x|=8;break;case W:return s=ni(12,p,l,x|2),s.elementType=W,s.lanes=P,s;case ce:return s=ni(13,p,l,x),s.elementType=ce,s.lanes=P,s;case ee:return s=ni(19,p,l,x),s.elementType=ee,s.lanes=P,s;case le:return Yf(p,x,P,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Z:V=10;break e;case re:V=9;break e;case Q:V=11;break e;case fe:V=14;break e;case $:V=16,w=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=ni(V,p,l,x),l.elementType=s,l.type=w,l.lanes=P,l}function Wl(s,l,p,w){return s=ni(7,s,w,l),s.lanes=p,s}function Yf(s,l,p,w){return s=ni(22,s,w,l),s.elementType=le,s.lanes=p,s.stateNode={isHidden:!1},s}function qp(s,l,p){return s=ni(6,s,null,l),s.lanes=p,s}function Gp(s,l,p){return l=ni(4,s.children!==null?s.children:[],s.key,l),l.lanes=p,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function vw(s,l,p,w,x){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ne(0),this.expirationTimes=Ne(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.identifierPrefix=w,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Jp(s,l,p,w,x,P,V,ue,ye){return s=new vw(s,l,p,ue,ye),l===1?(l=1,P===!0&&(l|=8)):l=0,P=ni(3,null,null,l),s.current=P,P.stateNode=s,P.memoizedState={element:w,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},sp(P),s}function ww(s,l,p){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:w==null?null:""+w,children:s,containerInfo:l,implementation:p}}function by(s){if(!s)return js;s=s._reactInternals;e:{if(Bi(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Po(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var p=s.type;if(Po(p))return jg(s,p,l)}return l}function Sy(s,l,p,w,x,P,V,ue,ye){return s=Jp(p,w,!0,s,x,P,V,ue,ye),s.context=by(null),p=s.current,w=Do(),x=Gs(p),P=Gi(w,x),P.callback=l??null,Bs(p,P,x),s.current.lanes=x,Te(s,x,w),io(s,w),s}function Uf(s,l,p,w){var x=l.current,P=Do(),V=Gs(x);return p=by(p),l.context===null?l.context=p:l.pendingContext=p,l=Gi(P,V),l.payload={element:s},w=w===void 0?null:w,w!==null&&(l.callback=w),s=Bs(x,l,V),s!==null&&(Xi(s,x,V,P),Hs(s,x,V)),V}function zf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Dy(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<l?p:l}}function Kp(s,l){Dy(s,l),(s=s.alternate)&&Dy(s,l)}function bw(){return null}var Qp=typeof reportError=="function"?reportError:function(s){console.error(s)};function Vf(s){this._internalRoot=s}Wf.prototype.render=Vf.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));Uf(s,l,null,null)},Wf.prototype.unmount=Vf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Ul(function(){Uf(null,s,null,null)}),l[Jo]=null}};function Wf(s){this._internalRoot=s}Wf.prototype.unstable_scheduleHydration=function(s){if(s){var l=mo();s={blockedOn:null,target:s,priority:l};for(var p=0;p<ha.length&&l!==0&&l<ha[p].priority;p++);ha.splice(p,0,s),p===0&&fi(s)}};function Xp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Zf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ty(){}function $f(s,l,p,w,x){if(x){if(typeof w=="function"){var P=w;w=function(){var je=zf(V);P.call(je)}}var V=Sy(l,w,s,0,null,!1,!1,"",Ty);return s._reactRootContainer=V,s[Jo]=V.current,As(s.nodeType===8?s.parentNode:s),Ul(),V}for(;x=s.lastChild;)s.removeChild(x);if(typeof w=="function"){var ue=w;w=function(){var je=zf(ye);ue.call(je)}}var ye=Jp(s,0,!1,null,null,!1,!1,"",Ty);return s._reactRootContainer=ye,s[Jo]=ye.current,As(s.nodeType===8?s.parentNode:s),Ul(function(){Uf(l,ye,p,w)}),ye}function qf(s,l,p,w,x){var P=p._reactRootContainer;if(P){var V=P;if(typeof x=="function"){var ue=x;x=function(){var ye=zf(V);ue.call(ye)}}Uf(l,V,s,x)}else V=$f(p,l,s,x,w);return zf(V)}zt=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var p=Ui(l.pendingLanes);p!==0&&(ot(l,p|1),io(l,Sn()),!(dn&6)&&($u=Sn()+500,Ls()))}break;case 13:Ul(function(){var w=qi(s,1);if(w!==null){var x=Do();Xi(w,s,1,x)}}),Kp(s,1)}},Tn=function(s){if(s.tag===13){var l=qi(s,134217728);if(l!==null){var p=Do();Xi(l,s,134217728,p)}Kp(s,134217728)}},Co=function(s){if(s.tag===13){var l=Gs(s),p=qi(s,l);if(p!==null){var w=Do();Xi(p,s,l,w)}Kp(s,l)}},mo=function(){return ut},_r=function(s,l){var p=ut;try{return ut=s,l()}finally{ut=p}},Ae=function(s,l,p){switch(l){case"input":if(_t(s,p),l=p.name,p.type==="radio"&&l!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var w=p[l];if(w!==s&&w.form===s.form){var x=Qd(w);if(!x)throw Error(n(90));rt(w),_t(w,x)}}}break;case"textarea":Ln(s,p);break;case"select":l=p.value,l!=null&&tn(s,!!p.multiple,l,!1)}},Kt=zp,On=Ul;var Sw={usingClientEntryPoint:!1,Events:[Jr,qt,Qd,tt,kt,zp]},id={findFiberByHostInstance:va,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Dw={bundleType:id.bundleType,version:id.version,rendererPackageName:id.rendererPackageName,rendererConfig:id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ba(s),s===null?null:s.stateNode},findFiberByHostInstance:id.findFiberByHostInstance||bw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{Vo=Gf.inject(Dw),po=Gf}catch{}}return Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sw,Mi.createPortal=function(s,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xp(l))throw Error(n(200));return ww(s,l,null,p)},Mi.createRoot=function(s,l){if(!Xp(s))throw Error(n(299));var p=!1,w="",x=Qp;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Jp(s,1,!1,null,null,p,!1,w,x),s[Jo]=l.current,As(s.nodeType===8?s.parentNode:s),new Vf(l)},Mi.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ba(l),s=s===null?null:s.stateNode,s},Mi.flushSync=function(s){return Ul(s)},Mi.hydrate=function(s,l,p){if(!Zf(l))throw Error(n(200));return qf(null,s,l,!0,p)},Mi.hydrateRoot=function(s,l,p){if(!Xp(s))throw Error(n(405));var w=p!=null&&p.hydratedSources||null,x=!1,P="",V=Qp;if(p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(P=p.identifierPrefix),p.onRecoverableError!==void 0&&(V=p.onRecoverableError)),l=Sy(l,null,s,1,p??null,x,!1,P,V),s[Jo]=l.current,As(s),w)for(s=0;s<w.length;s++)p=w[s],x=p._getVersion,x=x(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,x]:l.mutableSourceEagerHydrationData.push(p,x);return new Wf(l)},Mi.render=function(s,l,p){if(!Zf(l))throw Error(n(200));return qf(null,s,l,!1,p)},Mi.unmountComponentAtNode=function(s){if(!Zf(s))throw Error(n(40));return s._reactRootContainer?(Ul(function(){qf(null,null,s,!1,function(){s._reactRootContainer=null,s[Jo]=null})}),!0):!1},Mi.unstable_batchedUpdates=zp,Mi.unstable_renderSubtreeIntoContainer=function(s,l,p,w){if(!Zf(p))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return qf(s,l,p,!1,w)},Mi.version="18.2.0-next-9e3b772b8-20220608",Mi}function YE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YE)}catch(e){console.error(e)}}YE();HE.exports=$F();var a0=HE.exports;const W1=Zr(a0);var ag,UE=a0;ag=Pa.createRoot=UE.createRoot;Pa.hydrateRoot=UE.hydrateRoot;const qF=e=>{const{children:t,className:n,clickSpaceDestroy:r,destroy:o}=e,i=()=>{r&&o()},a=u=>{(u.key==="Escape"||(u.ctrlKey||u.metaKey)&&u.key.toLowerCase()==="w")&&o()};return y.jsx("div",{className:`dialog-wrapper ${n}`,onClick:i,onKeyDown:u=>a(u),children:y.jsx("div",{className:"dialog-container",onClick:u=>u.stopPropagation(),children:t})})};function s0(e,t,n){const r=document.createElement("div");document.body.append(r),setTimeout(()=>{var d;(d=r.firstElementChild)==null||d.classList.add("showup")},0);const o={destroy:()=>{var d,f;(d=r.firstElementChild)==null||d.classList.remove("showup"),(f=r.firstElementChild)==null||f.classList.add("showoff"),setTimeout(()=>{r.detach(),u.unmount(),document.body.find(".domtoimage-thino")&&document.body.findAll(".domtoimage-thino").forEach(g=>{g.detach()})},Cx)}},i={...n,destroy:o.destroy};let a=y.jsx(qF,{destroy:o.destroy,clickSpaceDestroy:!0,...e,children:y.jsx(t,{...i})});a=y.jsx(Ra,{store:Le,context:Ot,children:a});const u=Pa.createRoot(r);return u.render(a),o}const GF=e=>{const{shownStatus:t,setShownStatus:n}=e,{dailyNotesState:{app:r,settings:o,plugin:i},globalState:{manifest:a}}=F.useContext(Ot),u=F.useRef(null);F.useEffect(()=>{if(t){const S=T=>{var I;(I=u.current)!=null&&I.contains(T.target)||T.stopPropagation(),n(!1)};window.addEventListener("click",S,{capture:!0,once:!0})}},[t]);const d=F.useCallback(async S=>{const{type:T}=S;if(T.startsWith("text"))try{return`${await V1.parseHtml(S)}`}catch(I){new C.Notice(I)}},[]),f=F.useCallback(()=>{const S=document.createElement("input");document.body.appendChild(S),S.type="file",S.multiple=!1,S.accept="text/html",S.onchange=async()=>{if(!S.files||S.files.length===0)return;const T=S.files[0];await d(T),document.body.removeChild(S)},S.click()},[]),m=()=>{r.setting.open(),r.setting.openTabById(a.id||"obsidian-memos")},g=()=>{if(o!=null&&o.needVerify){ft.setLocked(!0);return}else new C.Notice(E("You have not set a password or enable this feature yet")),r.setting.open(),r.setting.openTabById(a.id||"obsidian-memos")},v=()=>{new QS(r,a.version).open()},b=()=>{ft.setShowSiderbarInMobileView(!1),i.settingTab.updateSettings("FirstLoaded",!0)};return y.jsxs("div",{className:`menu-btns-popup ${t?"":"hidden"}`,ref:u,children:[y.jsxs("div",{className:"btn action-btn",onClick:m,children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,"user")},className:"icon"}),E("Settings")]}),(o==null?void 0:o.needVerify)&&y.jsxs("div",{className:"btn action-btn",onClick:g,children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,"lock")},className:"icon"}),E("Lock")]}),y.jsxs("div",{className:"btn action-btn",onClick:f,children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,"import")},className:"icon"}),E("Import")]}),y.jsxs("div",{className:"btn action-btn",onClick:v,children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,"file-text")},className:"icon"}),E("ChangeLog")]}),y.jsxs("div",{className:"btn action-btn",onClick:b,children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,"file-text")},className:"icon"}),E("Setting guide")]})]})};function zE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=zE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Gn(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=zE(e))&&(r&&(r+=" "),r+=t);return r}const JF=e=>{const t={};return e.forEach(n=>{const r=lt.getDateString(n.createdAt);t[r]?t[r]++:t[r]=1}),Object.keys(t).sort((n,r)=>t[r]-t[n])[0]},KF=e=>{const t={};return e.forEach(n=>{const r=lt.getTimeString(n.createdAt).split(":")[0];t[r]?t[r]++:t[r]=1}),Object.keys(t).sort((n,r)=>t[r]-t[n])[0]},Z1=({statusType:e})=>{const{memoState:{memos:t,tags:n},locationState:{pathname:r},dailyNotesState:{settings:o,app:i}}=F.useContext(Ot),[a,u]=F.useState(0),[d,f]=F.useState(0),[m,g]=F.useState(0),[v,b]=F.useState(null),[S,T]=F.useState(!1),I=se.useRef(null),[k,A]=F.useState(0),[R,j]=F.useState(0),[B,L]=F.useState(0),[z,U]=F.useState(""),[W,Z]=F.useState(""),[re,Q]=F.useState(!1),[ce,ee]=F.useState(null);F.useEffect(()=>{const oe=t.filter(he=>!he.deletedAt&&he.rowStatus!=="ARCHIVED");L(oe.filter(he=>{var G;return(G=he.thinoType)==null?void 0:G.startsWith("TASK")}).length),U(JF(t)),Z(KF(t))},[t]),F.useLayoutEffect(()=>{if(!i)return;const{tags:oe,memos:he,days:G}=QF(i);g(oe),u(he),f(G)},[i]),F.useEffect(()=>{let oe=0;const he=a-k,G=1e3,ne=pe=>{oe||(oe=pe);const Ie=pe-oe;if(Ie<G){const Oe=Ie/G;A(k+he*Oe),requestAnimationFrame(ne)}else A(a)};requestAnimationFrame(ne)},[a]),F.useEffect(()=>{let oe=0;const he=d-R,G=1e3,ne=pe=>{oe||(oe=pe);const Ie=pe-oe;if(Ie<G){const Oe=Ie/G;j(R+he*Oe),requestAnimationFrame(ne)}else j(d)};requestAnimationFrame(ne)},[d]),F.useEffect(()=>{!o||!i||(T(a>9999||m>999||d>999),XF({tags:m,memos:a,days:d},i))},[a,m,d]),F.useEffect(()=>{Re.initialized&&t&&r==="/"&&(g(n.length),u(t.filter(oe=>!(oe.deletedAt!==""&&oe.deletedAt)).length),b(t.length>0?t[t.length-1]:null))},[n,t,r]),F.useEffect(()=>{if(!Re.initialized)return;if(!v){f(0);return}if(!I.current||!(v!=null&&v.createdAt))return;C.requireApiVersion("1.4.4")&&C.setTooltip(I.current,E("Started from")+" "+lt.getDateTimeString((v==null?void 0:v.createdAt)??""));const oe=Math.ceil((Date.now()-lt.getTimeStampByDate(v==null?void 0:v.createdAt))/1e3/3600/24);f(t?oe:0)},[v]);const fe=(oe,he)=>{if(re&&he===ce){at.setMemoFilter(""),Q(!1);return}const G=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([oe]));Qt.pushQuery(G),at.setMemoFilter(G.id),Q(!0),ee(he)},$=()=>{fe({type:"LIST",value:{operator:"IS_NOT",value:"LIST"},relation:"AND"},"LIST")},le=()=>{fe({type:"TYPE",value:{operator:"IS_NOT",value:"NOT_TAGGED"},relation:"AND"},"TYPE")};return y.jsx("div",{className:Gn("status-text-container",S?"text-overflow":"",e),children:e==="banner"?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"status-text memos-text",children:[y.jsx("span",{className:"amount-text",children:Math.round(k)}),y.jsx("span",{className:"type-text",children:"THINO"})]}),y.jsxs("div",{className:"status-text tags-text",children:[y.jsx("span",{className:"amount-text",children:m}),y.jsx("span",{className:"type-text",children:E("TAG")})]}),y.jsxs("div",{ref:I,className:"status-text duration-text",onClick:()=>{ft.setShowSiderbarInMobileView(!1),at.setPathname("/daily")},children:[y.jsx("span",{className:"amount-text",children:Math.round(R)??0}),y.jsx("span",{className:"type-text",children:E("DAY")})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"status-sidebar-header title-text",children:y.jsx("span",{className:"normal-text",children:E("Thino status")})}),y.jsxs("div",{className:"status-sidebar-wrapper",children:[y.jsxs("div",{className:"status-text memos-text",children:[y.jsx("span",{className:"type-text",children:E("Thino amount")}),y.jsx("span",{className:"amount-text",children:Math.round(k)})]}),y.jsxs("div",{className:"status-text memos-text",onClick:$,children:[y.jsx("span",{className:"type-text",children:E("Task amount")}),y.jsx("span",{className:"amount-text",children:Math.round(B)??0})]}),y.jsxs("div",{className:"status-text tags-text",onClick:le,children:[y.jsx("span",{className:"type-text",children:E("Used tags")}),y.jsx("span",{className:"amount-text",children:m})]}),y.jsxs("div",{ref:I,className:"status-text duration-text",onClick:()=>{ft.setShowSiderbarInMobileView(!1),at.setPathname("/daily")},children:[y.jsx("span",{className:"type-text",children:E("Used days")}),y.jsx("span",{className:"amount-text",children:Math.round(R)??0})]}),y.jsxs("div",{className:"status-text most-active-day-text",onClick:()=>{const oe=C.moment(z,"YYYY/MM/DD").startOf("day").valueOf(),he=C.moment(z,"YYYY/MM/DD").endOf("day").valueOf();at.setFromAndToQuery(oe,he)},children:[y.jsx("span",{className:"type-text",children:E("Most active day")}),y.jsx("span",{className:"amount-text",children:z})]}),y.jsxs("div",{className:"status-text most-active-hour-text",children:[y.jsx("span",{className:"type-text",children:E("Most active hour")}),y.jsx("span",{className:"amount-text",children:W})]})]})]})})};function VE(e){return`userBannerCache:${e}`}function QF(e){try{const t=VE(e==null?void 0:e.appId),n=Vr.get([t])[t];return n?JSON.parse(n):{tags:0,memos:0,days:0}}catch(t){return console.error(t),{tags:0,memos:0,days:0}}}function XF({tags:e,memos:t,days:n},r){try{const o={tags:e,memos:t,days:n},i=VE(r==null?void 0:r.appId);Vr.set({[i]:JSON.stringify(o)})}catch(o){console.error(o)}}const e5=[{text:E("AND"),value:"AND"},{text:E("OR"),value:"OR"}],ec={TAG:{value:"TAG",text:E("TAG"),operators:[{text:E("INCLUDE"),value:"CONTAIN"},{text:E("EXCLUDE"),value:"NOT_CONTAIN"}]},TYPE:{value:"TYPE",text:E("TYPE"),operators:[{value:"IS",text:E("IS")},{value:"IS_NOT",text:E("ISNOT")}],values:[{value:"CONNECTED",text:E("LINKED")},{value:"NOT_TAGGED",text:E("NO TAGS")},{value:"LINKED",text:E("HAS LINKS")},{value:"IMAGED",text:E("HAS IMAGES")}]},TEXT:{value:"TEXT",text:E("TEXT"),operators:[{value:"CONTAIN",text:E("INCLUDE")},{value:"NOT_CONTAIN",text:E("EXCLUDE")}]},DATE:{value:"DATE",text:E("DATE"),operators:[{value:"NOT_CONTAIN",text:E("BEFORE")},{value:"CONTAIN",text:E("AFTER")}]},LIST:{value:"LIST",text:E("LIST"),operators:[{value:"IS",text:E("IS")},{value:"IS_NOT",text:E("ISNOT")}],values:[{value:"TODO",text:E("TODO")},{value:"DONE",text:E("DONE")},{value:"LIST",text:E("JOURNAL")},{value:"OTHER",text:E("OTHER")}]},SOURCE:{value:"SOURCE",text:E("SOURCE"),operators:[{value:"IS",text:E("IS")},{value:"IS_NOT",text:E("ISNOT")}],values:[{value:"DAILY",text:E("DAILY")},{value:"MULTI",text:E("MULTI")},{value:"FILE",text:E("FILE")},{value:"CANVAS",text:E("CANVAS")}]}},zb=ec.TYPE.values,t5=e=>{for(const t of zb)if(t.value===e)return t.text;return""},s2=()=>({type:"TAG",value:{operator:"CONTAIN",value:""},relation:"AND"}),jh=(e,t)=>{let n=!0;for(const r of t){const{relation:o}=r,i=n5(e,r);o==="OR"?n=n||i:n=n&&i}return n},n5=(e,t)=>{const{type:n,value:{operator:r,value:o}}=t;if(o==="")return!0;let i=!0;if(n==="TAG"){let a=!0;const u=new Set;for(const d of Array.from(e.content.match(yr)||[])){const m=d.replace(yr,"$1").trim().split("/");let g="";for(const v of m)g+=v,u.add(g),g+="/"}for(const d of Array.from(e.content.match(Or)||[])){const m=d.replace(Or,"$1").trim().split("/");let g="";for(const v of m)g+=v,u.add(g),g+="/"}u.has(o)||(a=!1),r==="NOT_CONTAIN"&&(a=!a),i=a}else if(n==="TYPE"){let a=!1;(o==="NOT_TAGGED"&&e.content.match(yr)===null&&e.content.match(so)===null||o==="LINKED"&&e.content.match(Fd)!==null||o==="IMAGED"&&e.content.match(Pd)!==null||o==="CONNECTED"&&e.content.match(hc)!==null)&&(a=!0),r==="IS_NOT"&&(a=!a),i=a}else if(n==="TEXT"){let a=e.content.toLowerCase().includes(o.toLowerCase());r==="NOT_CONTAIN"&&(a=!a),i=a}else if(n==="LIST"){let u=(e.thinoType==="JOURNAL"?"LIST":e.thinoType==="TASK-TODO"?"TODO":e.thinoType==="TASK-DONE"?"DONE":"OTHER").contains(o);r==="IS_NOT"&&(u=!u),i=u}else if(n==="SOURCE"){let a=e.sourceType===o;r==="IS_NOT"&&(a=!a),i=a}else if(n==="DATE"){const a=C.moment(o,"YYYY-MM-DD").isValid();let u,d;if(a)u=C.moment(o,"YYYY-MM-DD"),d=u.isBefore(C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),"day");else{const m=(app.plugins.enabledPlugins.has("nldates-obsidian")&&app.plugins.getPlugin("nldates-obsidian")).parseDate(o);m.date!==null&&(d=m.moment.isBefore(C.moment(e.createdAt),"day"))}r==="NOT_CONTAIN"&&(d=!d),i=d}return i=e.linkId===""?i:!1,i};function ml(e){const[t,n]=F.useState(()=>!!e),r=F.useCallback(o=>{n(typeof o=="boolean"?o:i=>!i)},[]);return[t,r]}const sg=()=>{const{dailyNotesState:{app:e,view:t},locationState:{query:{type:n}}}=F.useContext(Ot),r=se.useRef(null),o=se.useRef(null),[i,a]=ml(!1);F.useEffect(()=>{!r||!t||!e||(t.registerEvent(e.workspace.on("blur-on-memos",()=>{var g;(g=r.current)==null||g.blur()})),t.registerEvent(e.workspace.on("focus-on-searchBar",()=>{var g;(g=r.current)==null||g.focus()})))},[r,e,t]),F.useEffect(()=>{o&&C.setIcon(o.current,"search")},[o]);const u=g=>{const{type:v}=at.getState().query;g===v&&(g=""),at.setMemoTypeQuery(g)},d=g=>{const v=g.currentTarget.value;if(!v.contains(" -time: ")){at.setTextQuery(v);return}const b=v.split(" -time: ")[1],S=b.length>10?b.match(/\d{4}-\d{2}-\d{2}/g):null;if(S==null){at.setTextQuery(v.split(" -time: ")[0]);return}if(S.length===1){const T=C.moment(S[0]);at.setTimeQuery({from:T.startOf("day").valueOf(),to:T.endOf("day").valueOf()})}else if(S.length===2){const T=C.moment(S[0]),I=C.moment(S[1]);at.setTimeQuery({from:T.startOf("day").valueOf(),to:I.endOf("day").valueOf()})}at.setTextQuery(v.split(" -time: ")[0])},f=()=>{a(!0)},m=()=>{a(!1)};return y.jsxs("div",{className:"search-bar-container",children:[y.jsxs("div",{className:"search-bar-inputer",children:[y.jsx("span",{ref:o,className:"btn icon-img"}),y.jsx("input",{ref:r,className:"text-input",type:"text",onMouseOver:f,onMouseOut:m,placeholder:i?E("Type here"):"",onChange:d})]}),y.jsx("div",{className:"quickly-action-wrapper",children:y.jsxs("div",{className:"quickly-action-container",children:[y.jsx("span",{className:"title-text",children:E("Quick filter")}),y.jsxs("div",{className:"section-container types-container",children:[y.jsxs("span",{className:"section-text",children:[E("TYPE"),":"]}),y.jsx("div",{className:"values-container",children:zb.map((g,v)=>y.jsxs("div",{children:[y.jsx("span",{className:`type-item ${n===g.value?"selected":""}`,onClick:()=>{u(g.value)},children:g.text}),v+1<zb.length?y.jsx("span",{className:"split-text",children:"/"}):null]},g.value))})]})]})})]})},r5=e=>{const{children:t,when:n}=e;return n?y.jsx(y.Fragment,{children:t}):null},Aa=r5;function An(){const e=document.createDocumentFragment();e.createEl("div",{cls:"thino-info"}).createEl("div",{text:E("This is a pro feature, please upgrade to pro version to use it.")});const r=e.createEl("div",{cls:"thino-link"}).createEl("div",{text:E("You can get pro version from: ")}),o=localStorage.getItem("language");let i="https://pkmer.cn/products/UserProfile/";o&&o==="zh"?i="https://pkmer.cn/products/thino/":i="https://thino.pkmer.net/en/",r.createEl("a",{text:"PKMer",attr:{href:i}}),new C.Notice(e,5e3)}const{exec:o5,execSync:Lre}=C.Platform.isDesktop&&require("child_process"),{createHash:i5}=C.Platform.isDesktop&&require("crypto"),a5={native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"},s5=C.Platform.isDesktop&&{darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:`${a5[l5()]}\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid`,linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"};function l5(){return process.platform!=="win32"?"":process.arch==="ia32"&&Object.hasOwnProperty.call(process.env,"PROCESSOR_ARCHITEW6432")?"mixed":"native"}function u5(e){return i5("sha256").update(e).digest("hex")}function c5(e){switch(process.platform){case"darwin":return e.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return e.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"freebsd":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error(`Unsupported platform: ${process.platform}`)}}function er(e=!1){return new Promise((t,n)=>{o5(s5[process.platform],{},(r,o)=>{if(r)return n(new Error(`Error while obtaining machine id: ${r.stack}`));const i=c5(o.toString());return t(e?i:u5(i))})})}const l2={list:"align-left",waterfall:"layout-grid",calendar:"calendar",minimal:"list",table:"table",chat:"message-square",moments:"chrome"},d5=e=>{const{dailyNotesState:{app:t,view:n,verifyState:r,settings:o},globalState:{manifest:i,isMobileView:a}}=F.useContext(Ot),u=F.useRef(null),d=F.useRef(null),[f,m]=F.useState((window.app||t).loadLocalStorage("thinoListView")),[g,v]=F.useState(null);F.useEffect(()=>{if(!i||!t)return;const S=t==null?void 0:t.plugins.getPlugin(i.id);v(S),m(S==null?void 0:S.settings.MemoListView),ft.setMemoListView(S==null?void 0:S.settings.MemoListView)},[i,t]),F.useEffect(()=>{if(!t||!n||!g||!g.settings)return;const S=()=>{var I;if(n.leaf.height===0)return;const T=(I=g==null?void 0:g.settings)==null?void 0:I.MemoListView;T==="chat"||T==="moments"||(n.leaf.width>950?(m(T),ft.setMemoListView(T)):n.leaf.width<=950&&(ft.setMemoListView("list"),m("list")))};S(),d.current||(d.current=t.workspace.on("resize",S),n.registerEvent(d.current))},[t,n,g]),F.useEffect(()=>{u&&(C.setIcon(u.current,l2[f||"list"]),ft.setMemoListView(f),C.requireApiVersion("1.4.4")&&C.setTooltip(u.current,E("Switch view")))},[f]);const b=async S=>{var j;const T=!C.Platform.isDesktop&&await((j=window.Capacitor)==null?void 0:j.Plugins.Device.getId()),I=C.Platform.isDesktop?await er():T.identifier||T.uuid;if(!r||(r==null?void 0:r.appId)!==I){An();return}const k=async B=>{ft.setMemoListView(B),g&&(g.settings.MemoListView=B,await g.saveSettings()),m(B)},A=[{view:"list",title:E("List")},{view:"chat",title:E("Chat")},{view:"moments",title:E("Moments")}];a||A.push({view:"waterfall",title:E("Waterfall")},{view:"calendar",title:E("Calendar")},{view:"table",title:E("Table")});const R=new C.Menu;A.forEach(({view:B,title:L})=>{R.addItem(z=>{z.setChecked(f===B).setIcon(l2[B]).setTitle(L).onClick(()=>{f!==B&&k(B)})})}),R.showAtMouseEvent(S.nativeEvent)};return y.jsx("div",{className:`memos-view-switcher-wrapper ${e.className?e.className:""} pro`,ref:u,onClick:b})},f5=()=>{const e=F.useRef(null);return F.useEffect(()=>{e&&(C.setIcon(e.current,"calendar-check"),C.setTooltip&&C.setTooltip(e.current,E("Daily Memos")))},[e]),y.jsx("div",{className:"memos-review-entry-wrapper",ref:e,onClick:()=>{at.setPathname("/daily")}})},qw=()=>({type:"initialText",value:"",timestamp:Date.now(),selectionStart:0,selectionEnd:0}),u2={initialValue:"",interval:300};class h5{constructor(t,n=u2){this.listeners=[],this.runUndo=()=>{const r=this.actions[this.currentIndex].selectionStart;this.currentIndex>0&&this.currentIndex--,this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.runRedo=()=>{this.currentIndex<this.actions.length-1&&this.currentIndex++;const r=this.actions[this.currentIndex].selectionEnd;this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.getActions=()=>this.actions,this.setState=(r,o)=>{this.actions=[...r],this.currentIndex=o<this.actions.length?o:this.actions.length-1,this.dispatchChange()},this.resetState=()=>{this.actions=[qw()],this.currentIndex=0,this.dispatchChange()},this.destroy=()=>{this.rmEventListeners()},this.subscribe=r=>{this.listeners.push(r)},this.handleElementKeydown=r=>{const o=r;o.key==="z"&&!o.shiftKey&&(o.metaKey||o.ctrlKey)?(r.preventDefault(),this.runUndo()):(o.key==="z"&&o.shiftKey&&(o.metaKey||o.ctrlKey)||o.key==="y"&&(o.metaKey||o.ctrlKey))&&(r.preventDefault(),this.runRedo())},this.handleElementInput=r=>{const o=r,i=this.actions[this.currentIndex];this.pushNewAction({type:o.inputType,value:this.element.value,timestamp:Date.now(),selectionStart:this.element.selectionEnd-(this.element.value.length-i.value.length),selectionEnd:this.element.selectionEnd})},this.addEventListeners=()=>{this.element.addEventListener("keydown",this.handleElementKeydown),this.element.addEventListener("input",this.handleElementInput)},this.rmEventListeners=()=>{this.element.removeEventListener("keydown",this.handleElementKeydown),this.element.removeEventListener("input",this.handleElementInput)},this.pushNewAction=r=>{const o=this.actions[this.currentIndex];o&&o.type===r.type&&r.timestamp-o.timestamp<this.config.interval?this.actions[this.currentIndex]=Object.assign(Object.assign({},o),{value:r.value,selectionEnd:r.selectionEnd,timestamp:r.timestamp}):(this.config.maxSize&&this.currentIndex>=this.config.maxSize?(this.actions.shift(),this.actions[0]=qw()):this.currentIndex++,this.actions[this.currentIndex]=r,this.actions=this.actions.slice(0,this.currentIndex+1)),this.dispatchChange()},this.dispatchChange=()=>{for(const r of this.listeners)r([...this.actions],this.currentIndex)},this.element=t,this.config=Object.assign(Object.assign({},u2),n),this.config.initialActions&&this.config.initialActions.length>0?(this.actions=this.config.initialActions,this.config.initialIndex!==void 0&&this.config.initialIndex<this.actions.length?this.currentIndex=this.config.initialIndex:this.currentIndex=this.actions.length-1):(this.actions=[qw()],this.currentIndex=0,this.config.initialValue!==""&&(this.actions.push({type:"insertText",value:this.config.initialValue,timestamp:Date.now(),selectionStart:0,selectionEnd:this.config.initialValue.length}),this.currentIndex++)),this.element.value=this.actions[this.currentIndex].value,this.addEventListeners()}}function p5(){const[,e]=F.useState(!1);return F.useCallback(()=>{e(n=>!n)},[])}var WE={exports:{}};(function(e){(function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=typeof window<"u",r=n&&window.mozInnerScreenX!=null;function o(i,a,u){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var d=u&&u.debug||!1;if(d){var f=document.querySelector("#input-textarea-caret-position-mirror-div");f&&f.parentNode.removeChild(f)}var m=document.createElement("div");m.id="input-textarea-caret-position-mirror-div",document.body.appendChild(m);var g=m.style,v=window.getComputedStyle?getComputedStyle(i):i.currentStyle;g.whiteSpace="pre-wrap",i.nodeName!=="INPUT"&&(g.wordWrap="break-word"),g.position="absolute",d||(g.visibility="hidden"),t.forEach(function(T){g[T]=v[T]}),r?i.scrollHeight>parseInt(v.height)&&(g.overflowY="scroll"):g.overflow="hidden",m.textContent=i.value.substring(0,a),i.nodeName==="INPUT"&&(m.textContent=m.textContent.replace(/\s/g," "));var b=document.createElement("span");b.textContent=i.value.substring(a)||".",m.appendChild(b);var S={top:b.offsetTop+parseInt(v.borderTopWidth),left:b.offsetLeft+parseInt(v.borderLeftWidth)};return d?b.style.backgroundColor="#aaa":document.body.removeChild(m),S}e.exports=o})()})(WE);var m5=WE.exports;const g5=Zr(m5);var ZE=zr.CustomEvent;function y5(){try{var e=new ZE("cat",{detail:{foo:"bar"}});return e.type==="cat"&&e.detail.foo==="bar"}catch{}return!1}var v5=y5()?ZE:typeof document<"u"&&typeof document.createEvent=="function"?function(t,n){var r=document.createEvent("CustomEvent");return n?r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):r.initCustomEvent(t,!1,!1,void 0),r}:function(t,n){var r=document.createEventObject();return r.type=t,n?(r.bubbles=!!n.bubbles,r.cancelable=!!n.cancelable,r.detail=n.detail):(r.bubbles=!1,r.cancelable=!1,r.detail=void 0),r};const w5=Zr(v5);function b5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){b5(e,o,n[o])})}return e}function lg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l0(e,t,n){return t&&c2(e.prototype,t),n&&c2(e,n),e}function dh(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dh=function(n){return typeof n}:dh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dh(e)}function ov(e){return typeof Symbol=="function"&&dh(Symbol.iterator)==="symbol"?ov=function(n){return dh(n)}:ov=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":dh(n)},ov(e)}function D5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u0(e,t){return t&&(ov(t)==="object"||typeof t=="function")?t:D5(e)}function mh(e){return mh=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},mh(e)}function Vb(e,t){return Vb=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Vb(e,t)}function c0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vb(e,t)}function T5(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function I5(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function x5(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function E5(e){return T5(e)||I5(e)||x5()}var oa={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},C5=function e(){var t=this;lg(this,e),this.startListen=function(n){n&&n.addEventListener("keydown",t.f)},this.stopListen=function(n){n&&n.removeEventListener("keydown",t.f)},this.add=function(n,r){var o=n;return typeof o!="object"&&(o=[o]),t.listeners[t.index]={keyCode:o,fn:r},t.index++},this.remove=function(n){delete t.listeners[n]},this.removeAll=function(){t.listeners={},t.index=1},this.index=1,this.listeners={},this.f=function(n){if(n){var r=n.keyCode||n.which;Object.values(t.listeners).forEach(function(o){var i=o.keyCode,a=o.fn;i.includes(r)&&(n.stopPropagation(),n.preventDefault(),a(n))})}}},md=new C5,M5=function(e){c0(t,e);function t(){var n,r;lg(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=u0(this,(n=mh(t)).call.apply(n,[this].concat(i))),r.selectItem=function(){var u=r.props,d=u.item,f=u.onSelectHandler;f(d)},r}return l0(t,[{key:"shouldComponentUpdate",value:function(r){return this.props.item!==r.item||this.props.selected!==r.selected||this.props.style!==r.style||this.props.className!==r.className}},{key:"render",value:function(){var r=this,o=this.props,i=o.component,a=o.style,u=o.onClickHandler,d=o.item,f=o.selected,m=o.className,g=o.innerRef;return se.createElement("li",{className:"rta__item  ".concat(f===!0?"rta__item--selected":""," ").concat(m||""),style:a},se.createElement("div",{className:"rta__entity ".concat(f===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:u,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){r.clicked=!0,r.selectItem()},onTouchEnd:function(b){b.preventDefault(),r.clicked&&u(b)},onTouchMove:function(){r.clicked=!1},onTouchCancel:function(){r.clicked=!1},ref:g},se.createElement(i,{selected:f,entity:d})))}}]),t}(se.Component),k5=function(e){c0(t,e);function t(){var n,r;lg(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=u0(this,(n=mh(t)).call.apply(n,[this].concat(i))),r.state={selectedItem:null},r.cachedIdOfItems=new Map,r.onPressEnter=function(u){typeof u<"u"&&u.preventDefault();var d=r.props.values;r.modifyText(d[r.getPositionInList()])},r.getPositionInList=function(){var u=r.props.values,d=r.state.selectedItem;return d?u.findIndex(function(f){return r.getId(f)===r.getId(d)}):0},r.getId=function(u){if(r.cachedIdOfItems.has(u))return r.cachedIdOfItems.get(u);var d=r.props.getTextToReplace(u),f=function(){if(d){if(d.key)return d.key;if(typeof u=="string"||!u.key)return d.text}if(!u.key)throw new Error("Item ".concat(JSON.stringify(u),' has to have defined "key" property'));return u.key},m=f();return r.cachedIdOfItems.set(u,m),m},r.listeners=[],r.itemsRef={},r.modifyText=function(u){if(u){var d=r.props.onSelect;d(u)}},r.selectItem=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=r.props.onItemHighlighted;r.state.selectedItem!==u&&r.setState({selectedItem:u},function(){f(u),d&&r.props.dropdownScroll(r.itemsRef[r.getId(u)])})},r.scroll=function(u){u.preventDefault();var d=r.props.values,f=u.keyCode||u.which,m=r.getPositionInList(),g;switch(f){case oa.DOWN:g=m+1;break;case oa.UP:g=m-1;break;default:g=m;break}g=(g%d.length+d.length)%d.length,r.selectItem(d[g],[oa.DOWN,oa.UP].includes(f))},r.isSelected=function(u){var d=r.state.selectedItem;return d?r.getId(d)===r.getId(u):!1},r}return l0(t,[{key:"componentDidMount",value:function(){this.listeners.push(md.add([oa.DOWN,oa.UP],this.scroll),md.add([oa.ENTER,oa.TAB],this.onPressEnter));var r=this.props.values;r&&r[0]&&this.selectItem(r[0])}},{key:"componentDidUpdate",value:function(r){var o=this,i=r.values,a=this.props.values,u=i.map(function(f){return o.getId(f)}).join(""),d=a.map(function(f){return o.getId(f)}).join("");u!==d&&a&&a[0]&&this.selectItem(a[0])}},{key:"componentWillUnmount",value:function(){for(var r;this.listeners.length;)r=this.listeners.pop(),md.remove(r)}},{key:"render",value:function(){var r=this,o=this.props,i=o.values,a=o.component,u=o.style,d=o.itemClassName,f=o.className,m=o.itemStyle;return se.createElement("ul",{className:"rta__list ".concat(f||""),style:u},i.map(function(g){return se.createElement(M5,{key:r.getId(g),innerRef:function(b){r.itemsRef[r.getId(g)]=b},selected:r.isSelected(g),item:g,className:d,style:m,onClickHandler:r.onPressEnter,onSelectHandler:r.selectItem,component:a})}))}}]),t}(se.Component);function N5(e,t){var n=parseInt(getComputedStyle(t).getPropertyValue("height"),10),r=parseInt(getComputedStyle(e).getPropertyValue("height"),10)-n,o=t.offsetTop,i=e.scrollTop;o<i+r&&i<o||(e.scrollTop=o)}var d2="next",Ku={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},f2=function(t){return console.error("RTA: dataProvider fails: ".concat(t,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},A5=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],Py=function(t){return E5(t).map(function(n){return A5.includes(n)?"\\".concat(n):n}).join("")},F5=function(e){c0(t,e);function t(){return lg(this,t),u0(this,mh(t).apply(this,arguments))}return l0(t,[{key:"componentDidMount",value:function(){var r=this.props.boundariesElement;if(typeof r=="string"){var o=document.querySelector(r);if(!o)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=o}else if(r instanceof HTMLElement)this.containerElem=r;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var r,o,i=this.props.top||0,a=this.props.left||0,u=[],d=[],f=0,m=0,g=this.containerElem.getBoundingClientRect(),v=this.ref.getBoundingClientRect(),b=this.props.textareaRef.getBoundingClientRect(),S=window.getComputedStyle(this.ref),T=parseInt(S.getPropertyValue("margin-top"),10),I=parseInt(S.getPropertyValue("margin-bottom"),10),k=parseInt(S.getPropertyValue("margin-left"),10),A=parseInt(S.getPropertyValue("margin-right"),10),R=T+I+b.top+i+v.height,j=k+A+b.left+a+v.width;j>g.right&&b.left+a>v.width?(m=a-v.width,u.push(Ku.X.LEFT),d.push(Ku.X.RIGHT)):(m=a,u.push(Ku.X.RIGHT),d.push(Ku.X.LEFT)),R>g.bottom&&b.top+i>v.height?(f=i-v.height,u.push(Ku.Y.TOP),d.push(Ku.Y.BOTTOM)):(f=i,u.push(Ku.Y.BOTTOM),d.push(Ku.Y.TOP)),this.props.renderToBody&&(f+=b.top,m+=b.left),this.ref.style.top="".concat(f,"px"),this.ref.style.left="".concat(m,"px"),(r=this.ref.classList).remove.apply(r,d),(o=this.ref.classList).add.apply(o,u)}},{key:"render",value:function(){var r=this,o=this.props,i=o.style,a=o.className,u=o.innerRef,d=o.children,f=o.renderToBody,m=document.body,g=se.createElement("div",{ref:function(b){r.ref=b,u(b)},className:"rta__autocomplete ".concat(a||""),style:i},d);return f&&m!==null?W1.createPortal(g,m):g}}]),t}(se.Component),$E=function(e){c0(t,e);function t(n){var r;lg(this,t),r=u0(this,mh(t).call(this,n)),r.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},r.escListenerInit=function(){r.escListener||(r.escListener=md.add(oa.ESC,r._closeAutocomplete))},r.escListenerDestroy=function(){r.escListener&&(md.remove(r.escListener),r.escListener=null)},r.getSelectionPosition=function(){return r.textareaRef?{selectionStart:r.textareaRef.selectionStart,selectionEnd:r.textareaRef.selectionEnd}:null},r.getSelectedText=function(){if(!r.textareaRef)return null;var d=r.textareaRef,f=d.selectionStart,m=d.selectionEnd;return f===m?null:r.state.value.substr(f,m-f)},r.setCaretPosition=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;r.textareaRef&&(r.textareaRef.focus(),r.textareaRef.setSelectionRange(d,d))},r.getCaretPosition=function(){if(!r.textareaRef)return 0;var d=r.textareaRef.selectionEnd;return d},r._handleCaretChange=function(d){var f=function(){var v=r.getCaretPosition()-1;r.lastTrigger=r.lastTrigger?v:0};if(d.type==="keydown"){var m=d.keyCode||d.which;switch(m){case oa.UP:case oa.DOWN:r._isAutocompleteOpen()||f();break;case oa.LEFT:case oa.RIGHT:f();break}return}f()},r._onSelect=function(d){var f=r.state,m=f.selectionEnd,g=f.currentTrigger,v=f.value,b=r.props.onItemSelected;if(g){var S=r._getTextToReplace(g);if(!S){r._closeAutocomplete();return}var T=S(d);if(!T){r._closeAutocomplete();return}b&&b({currentTrigger:g,item:d});var I=function(Z,re,Q){switch(Z){case"start":return Q;case"next":case"end":return Q+re.length;default:if(!Number.isInteger(Z))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return Z}},k=v.slice(0,m),A=Py(g),R=k.length-k.lastIndexOf(g),j=k.search(new RegExp("(?!".concat(A,")$")))-R,B=T.caretPosition==="next"?"".concat(T.text," "):T.text,L=I(T.caretPosition,B,j),z=k.substring(0,j)+B,U=v.replace(k,z);r.setState({value:U,dataLoading:!1},function(){var W=r.tokenRegExpEnding.exec(B),Z=W?W[0].length:1;r.lastTrigger=L&&L-Z,r.textareaRef.value=U,r.textareaRef.selectionEnd=L,r._changeHandler();var re=r.textareaRef.scrollTop;r.setCaretPosition(L),window.chrome&&(r.textareaRef.scrollTop=re)})}},r._getTextToReplace=function(d){var f=r.props.trigger[d];if(!d||!f)return null;var m=f.output;return function(g){if(typeof g=="object"&&(!m||typeof m!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(m){var v=m(g,d);if(v===void 0||typeof v=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(v),'". Check the implementation for trigger "').concat(d,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(v===null)return null;if(typeof v=="string")return{text:v,caretPosition:d2};if(!v.text&&typeof v.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(d,`"
`));if(!v.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(d,`"
`));return v}if(typeof g!="string")throw new Error(`Output item should be string
`);return{text:"".concat(d).concat(g).concat(d),caretPosition:d2}}},r._getCurrentTriggerSettings=function(){var d=r.state.currentTrigger;return d?r.props.trigger[d]:null},r._getValuesFromProvider=function(){var d=r.state,f=d.currentTrigger,m=d.actualToken,g=r._getCurrentTriggerSettings();if(!(!f||!g)){var v=g.dataProvider,b=g.component;if(typeof v!="function")throw new Error("Trigger provider has to be a function!");r.setState({dataLoading:!0});var S=v(m);S instanceof Promise||(S=Promise.resolve(S)),S.then(function(T){if(!Array.isArray(T))throw new Error("Trigger provider has to provide an array!");if(typeof b!="function")throw new Error("Component should be defined!");if(f===r.state.currentTrigger){if(!T.length){r._closeAutocomplete();return}r.setState({dataLoading:!1,data:T,component:b})}}).catch(function(T){return f2(T.message)})}},r._getSuggestions=function(){var d=r.state,f=d.currentTrigger,m=d.data;return!f||!m||m&&!m.length?null:m},r._createRegExp=function(){var d=r.props.trigger;r.tokenRegExp=new RegExp("(".concat(Object.keys(d).sort(function(f,m){return f<m?1:f>m?-1:0}).map(function(f){return Py(f)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),r.tokenRegExpEnding=new RegExp("(".concat(Object.keys(d).sort(function(f,m){return f<m?1:f>m?-1:0}).map(function(f){return Py(f)}).join("|"),")$"))},r._closeAutocomplete=function(){var d=r.state.currentTrigger;r.escListenerDestroy(),r.setState({data:null,dataLoading:!1,currentTrigger:null},function(){d&&r._onItemHighlightedHandler(null)})},r._cleanUpProps=function(){var d=S5({},r.props),f=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var m in d)f.includes(m)&&delete d[m];return d},r._changeHandler=function(d){var f=r.props,m=f.trigger,g=f.onChange,v=f.minChar,b=f.onCaretPositionChange,S=f.movePopupAsYouType,T=r.state,I=T.top,k=T.left,A=d;A||(A=new w5("change",{bubbles:!0}),r.textareaRef.dispatchEvent(A));var R=A.target||r.textareaRef,j=R.selectionEnd,B=R.value;if(r.lastValueBubbledEvent=B,g&&A&&(A.persist&&A.persist(),g(new Proxy(A,{get:function(G,ne,pe){return ne==="target"?R:Reflect.get(G,ne,pe)}}))),b){var L=r.getCaretPosition();b(L)}r.setState({value:B});var z=function(){var G=g5(R,j),ne=G.top,pe=G.left;r.setState({top:ne-r.textareaRef.scrollTop||0,left:pe})},U=function(G){r.lastTrigger=j-G,r._closeAutocomplete(),z()};if(j<=r.lastTrigger){var W=B.slice(0,j),Z=r.tokenRegExp.exec(W);U(Z?Z[0].length:0)}var re=B.slice(r.lastTrigger,j),Q=r.tokenRegExp.exec(re),ce=Q&&Q[0],ee=Q&&Q[1]||null,fe=ee?ee.length-1:0,$=r.tokenRegExpEnding.exec(re);if($?U($[0].length):r._isAutocompleteOpen()||r._closeAutocomplete(),(!ce||ce.length<=v+fe)&&(r.state.currentTrigger&&!m[r.state.currentTrigger].allowWhitespace||!r.state.currentTrigger)){r._closeAutocomplete();return}if(ee&&m[ee].afterWhitespace&&!/\s/.test(B[j-ce.length-1])&&B[j-ce.length-1]!==void 0){r._closeAutocomplete();return}if(r.state.currentTrigger&&m[r.state.currentTrigger].allowWhitespace){if(Q=new RegExp("".concat(Py(r.state.currentTrigger),".*$")).exec(B.slice(0,j)),ce=Q&&Q[0],!ce){r._closeAutocomplete();return}ee=Object.keys(m).find(function(he){return he.slice(0,fe+1)===ce.slice(0,fe+1)})||null}var le=ce.slice(1);if(ee){(S||I===null&&k===null||r.state.currentTrigger!==ee)&&z(),r.escListenerInit();var oe=r._getTextToReplace(ee);r.setState({selectionEnd:j,currentTrigger:ee,textToReplace:oe,actualToken:le},function(){try{r._getValuesFromProvider()}catch(he){f2(he.message)}})}},r._selectHandler=function(d){var f=r.props,m=f.onCaretPositionChange,g=f.onSelect;if(m){var v=r.getCaretPosition();m(v)}g&&(d.persist(),g(d))},r._shouldStayOpen=function(d){var f=d.relatedTarget;return f===null&&(f=document.activeElement),!!(r.dropdownRef&&f instanceof Node&&r.dropdownRef.contains(f))},r._onClick=function(d){var f=r.props.onClick;f&&(d.persist(),f(d)),!r._shouldStayOpen(d)&&r._closeAutocomplete()},r._onBlur=function(d){var f=r.props.onBlur;f&&(d.persist(),f(d)),!r._shouldStayOpen(d)&&r._closeAutocomplete()},r._onScrollHandler=function(){r._closeAutocomplete()},r._onItemHighlightedHandler=function(d){var f=r.props.onItemHighlighted,m=r.state.currentTrigger;if(f)if(typeof f=="function")f({currentTrigger:m,item:d});else throw new Error("`onItemHighlighted` has to be a function")},r._dropdownScroll=function(d){var f=r.props.scrollToItem;if(f){if(f===!0){N5(r.dropdownRef,d);return}if(typeof f!="function"||f.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");f(r.dropdownRef,d)}},r._isAutocompleteOpen=function(){var d=r.state,f=d.dataLoading,m=d.currentTrigger,g=r._getSuggestions();return!!((f||g)&&m)},r._textareaRef=function(d){r.props.innerRef&&r.props.innerRef(d),r.textareaRef=d},r.lastTrigger=0,r.escListener=null;var o=r.props,i=o.loadingComponent,a=o.trigger,u=o.value;if(u&&(r.state.value=u),r._createRegExp(),!i)throw new Error("RTA: loadingComponent is not defined");if(!a)throw new Error("RTA: trigger is not defined");return r}return l0(t,[{key:"componentDidMount",value:function(){md.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(r){var o=r.trigger,i=r.value,a=this.props,u=a.trigger,d=a.value;Object.keys(u).join("")!==Object.keys(o).join("")&&this._createRegExp(),i!==d&&this.lastValueBubbledEvent!==d&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),md.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var r=this,o=this.props,i=o.loadingComponent,a=o.style,u=o.className,d=o.listStyle,f=o.itemStyle,m=o.boundariesElement,g=o.movePopupAsYouType,v=o.listClassName,b=o.itemClassName,S=o.dropdownClassName,T=o.dropdownStyle,I=o.containerStyle,k=o.containerClassName,A=o.loaderStyle,R=o.loaderClassName,j=o.textAreaComponent,B=o.renderToBody,L=this.state,z=L.left,U=L.top,W=L.dataLoading,Z=L.component,re=L.value,Q=L.textToReplace,ce=this._isAutocompleteOpen(),ee=this._getSuggestions(),fe={},$;return j.component?($=j.component,fe[j.ref]=this._textareaRef):($=j,fe.ref=this._textareaRef),se.createElement("div",{className:"rta ".concat(W===!0?"rta--loading":""," ").concat(k||""),style:I},se.createElement($,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(u||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:re,style:a},fe)),ce&&se.createElement(F5,{innerRef:function(oe){r.dropdownRef=oe},top:U,left:z,style:T,className:S,movePopupAsYouType:g,boundariesElement:m,textareaRef:this.textareaRef,renderToBody:B},ee&&Z&&Q&&se.createElement(k5,{values:ee,component:Z,style:d,className:v,itemClassName:b,itemStyle:f,getTextToReplace:Q,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),W&&se.createElement("div",{className:"rta__loader ".concat(ee!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(R||""),style:A},se.createElement(i,{data:ee}))))}}],[{key:"getDerivedStateFromProps",value:function(r){var o=r.value;return o==null?null:{value:o}}}]),t}(se.Component);$E.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1};const P5=()=>{const{app:e}=vt.getState(),t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())},O5=e=>{let t=[];const n=vt.getState().settings;if(n&&(n!=null&&n.UseVaultTags))t=P5();else{const{tags:i}=Re.getState();t=i}const r=e.toLowerCase(),o=[];return t.forEach(i=>{i&&i.toLowerCase().contains(r)&&o.push({name:i,char:i})}),o},j5=e=>{const{app:t}=vt.getState(),n=t.vault.getAllLoadedFiles(),r=[];let o;return n.forEach(i=>{e==="["?o="":e.contains("[")&&(o=e.slice(1));const a=o.toLowerCase();i instanceof C.TFile&&["md","png","jpg","canvas","jpeg","gif"].contains(i.extension)&&i.path.toLowerCase().contains(a)&&r.push({name:i.basename,char:i.name,file:i})}),r};var Gw=F,L5=function(e){return typeof e=="function"},R5=function(e){var t=Gw.useState(e),n=t[0],r=t[1],o=Gw.useRef(n),i=Gw.useCallback(function(a){o.current=L5(a)?a(o.current):a,r(o.current)},[]);return[n,i,o]},_5=R5;const oi=Zr(_5);function Sm(e,t){const n=Object.keys(t).map(r=>B5(e,r,t[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function B5(e,t,n){const r=e[t],o=e.hasOwnProperty(t);let i=n(r);return r&&Object.setPrototypeOf(i,r),Object.setPrototypeOf(a,i),e[t]=a,u;function a(...d){return i===r&&e[t]===a&&u(),i.apply(this,d)}function u(){e[t]===a&&(o?e[t]=r:delete e[t]),i!==r&&(i=r,Object.setPrototypeOf(a,r||Function))}}function H5(e){return e.containerEl.matches(".memos-list-view")}const Y5=e=>{const{dailyNotesState:{app:t,plugin:n,editor:r,view:o,dailyNotes:i}}=F.useContext(Ot),[a,u]=F.useState(null),[d,f]=F.useState(!1),[m,g]=F.useState(""),[v,b]=F.useState(null),S=F.useRef(C.debounce((z,U)=>{z5(z,U)},100));F.useEffect(()=>{var z;if(!v){if(!i&&!(t&&window.app)){const U=(z=t||window.app)==null?void 0:z.vault.getMarkdownFiles();b(U[0]);return}for(const U in i)if(i[U]instanceof C.TFile){b(i[U]);break}}},[i]),F.useEffect(()=>{if(!(!e||!r)&&!d)return A(e),()=>{f(!1),a==null||a.destroy()}},[r,e]),F.useEffect(()=>{if(!a||!t)return;const z=U5(t);g(z),(a==null?void 0:a.editor).replaceSelection(z)},[a,t]),F.useEffect(()=>{!a||!t||S.current(m,t)},[m,t]);const T=()=>{a&&a.toggleSource()},I=C.debounce((z,U)=>k(z,U),500,!0),k=(z,U)=>{z&&g(U)},A=z=>{if(!o){new C.Notice(E("Please open thino first"));return}if(r&&o){o.register(Sm(r.constructor.prototype,{onUpdate:W=>function(...Z){if(W.call(this,Z),this.owner.getViewType()==="thino_view"||this.owner instanceof ac){const re=this.get();I(this.owner,re)}},getMode:()=>function(){return"source"}})),o.register(Sm(C.Workspace.prototype,{getActiveViewOfType:W=>function(Z){const re=W.call(this,Z);if(!re&&(Z==null?void 0:Z.VIEW_TYPE)==="markdown"){const Q=this.activeLeaf;if(Q.view instanceof ac)return Q.view}return re},setActiveLeaf:W=>function(Z,re){if(H5(Z)&&(W.call(this,Z,re),Z.activeTime=17e11),W.call(this,Z,re),Z.view instanceof ac){const Q=ft.getState().instanceList.get(Z.id);if(!Q)return;self.app.workspace.activeEditor=Q.owner,Z.view.editor=Q.editor}},getActiveFile:W=>function(){var re;const Z=W.call(this);return((re=this.activeLeaf)==null?void 0:re.view)instanceof ac&&v||Z}}));const U=new r.constructor(o.app,z,o);U.owner.editor=U.editor,U.set&&U.set("",!0),U.owner.onMarkdownScroll=()=>{},t.workspace.trigger("thino-editor-created",z,U.editor),f(!0),u(U),ft.setInstance(`${o.leaf.id}`,U)}};return{instance:a,value:m,set:z=>{try{a&&((a==null?void 0:a.editor).replaceSelection(z),g(z))}catch(U){console.error(U)}},get:()=>a?a.get():"",append:(z,U)=>{if(!a||U&&U!==a.owner.leaf.id)return;const Z=(a.get()||"")+z;(a==null?void 0:a.editor).replaceSelection(z),g(Z)},clear:()=>{a&&(a.clear(),g(""))},toggleSource:T}};function qE(e){return`thinoEditorContentCache:${e}`}function U5(e){try{const t=qE(e==null?void 0:e.appId);return Vr.get([t])[t]||""}catch(t){return console.error(t),""}}function z5(e,t){try{const n=qE(t==null?void 0:t.appId);Vr.set({[n]:e})}catch(n){console.error(n)}}function V5(e,t){return{line:e.line,ch:e.ch+t}}const h2=({entity:{name:e,char:t,file:n}})=>y.jsx("div",{children:`${t}`}),W5=({data:e})=>y.jsx("div",{children:"Loading"});let el;const Z5=F.forwardRef((e,t)=>{var Ye;const{globalState:{useTinyUndoHistoryCache:n,globalEditorShown:r,memoListView:o},dailyNotesState:{settings:i,app:a}}=F.useContext(Ot),{SaveMemoButtonLabel:u,SaveMemoButtonIcon:d}=i,{className:f,inputerType:m,initialContent:g,placeholder:v,showConfirmBtn:b,showCancelBtn:S,onConfirmBtnClick:T,onCancelBtnClick:I,onContentChange:k}=e,A=F.useRef(null),R=F.useRef(null),j=F.useRef(null),B=p5(),{instance:L,value:z,set:U,get:W,append:Z,clear:re,toggleSource:Q,focus:ce}=Y5(R.current),[,ee,fe]=oi(0),[$,le]=oi(!1);F.useEffect(()=>{var _e,$e;if(i&&i.FocusOnEditor)switch(m){case"minimal":case"memos":(_e=A.current)==null||_e.focus();break;case"obsidian":L&&(($e=L.editor)==null||$e.focus())}},[i,L]),F.useEffect(()=>{if(!a)return;const _e=a.workspace.getLeavesOfType(Bo);let $e,Ue;_e.length>0?(Ue=_e[0].view.containerEl,$e=Ue.offsetHeight):(Ue=document,$e=window.outerHeight),ee($e)},[a]),F.useEffect(()=>{!A.current||m==="obsidian"||g&&(A.current.value=g,B())},[]),F.useEffect(()=>{var _e;if(m!=="obsidian")if(n){if(!A.current)return;const{tinyUndoActionsCache:$e,tinyUndoIndexCache:Ue}=Vr.get(["tinyUndoActionsCache","tinyUndoIndexCache"]);return j.current=new h5(A.current,{interval:5e3,initialActions:$e,initialIndex:Ue}),j.current.subscribe((Ke,yt)=>{Vr.set({tinyUndoActionsCache:Ke,tinyUndoIndexCache:yt})}),()=>{var Ke;(Ke=j.current)==null||Ke.destroy()}}else(_e=j.current)==null||_e.destroy(),j.current=null,Vr.remove(["tinyUndoActionsCache","tinyUndoIndexCache"])},[n]),F.useEffect(()=>{A.current&&(A.current.style.height="auto",A.current.style.height=(A.current.scrollHeight??0)+"px")},[(Ye=A.current)==null?void 0:Ye.value]),F.useImperativeHandle(t,()=>({element:A.current,blur:()=>{var _e,$e;switch(m){case"minimal":case"memos":(_e=A.current)==null||_e.blur();break;case"obsidian":L&&(($e=L.editor)==null||$e.blur())}},focus:_e=>{var $e,Ue,Ke,yt,Ce;switch(m){case"minimal":case"memos":($e=A.current)==null||$e.focus();break;case"obsidian":if(L){if(_e&&_e!==((yt=(Ke=(Ue=L==null?void 0:L.owner)==null?void 0:Ue.view)==null?void 0:Ke.leaf)==null?void 0:yt.id))return;(Ce=L.editor)==null||Ce.focus()}}},insertTag:_e=>{var $e,Ue,Ke;switch(m){case"minimal":case"memos":{if(!A.current)return;const yt=A.current.value;A.current.value=yt.slice(0,A.current.selectionStart)+"# "+yt.slice(A.current.selectionStart),k(A.current.value),B();break}case"obsidian":if(_e&&_e!==((Ke=(Ue=($e=L==null?void 0:L.owner)==null?void 0:$e.view)==null?void 0:Ue.leaf)==null?void 0:Ke.id))return;if(L){const yt=L.editor,Ce=yt.getCursor("from");yt.replaceRange("#",Ce),yt.setSelection(V5(Ce,1))}break}},insertText:(_e,$e)=>{switch(m){case"minimal":case"memos":{if(!A.current)return;const Ue=A.current.value;A.current.value=Ue.slice(0,A.current.selectionStart)+_e+Ue.slice(A.current.selectionStart),k(A.current.value),B()}break;case"obsidian":L&&Z(_e,$e);break}},setContent:_e=>{switch(m){case"minimal":case"memos":A.current&&(A.current.value=_e,k(A.current.value),B());break;case"obsidian":L&&U(_e);break}},getContent:()=>{switch(m){case"minimal":case"memos":return A.current?A.current.value:"";case"obsidian":return W()}},toggleSource:()=>{switch(m){case"minimal":case"memos":break;case"obsidian":Q();break}},clear:()=>{switch(m){case"minimal":case"memos":A.current&&(A.current.value="",k(A.current.value),B());break;case"obsidian":re();break}}}),[L,m]);const oe=_e=>{if(!A.current)return;const{fileManager:$e}=Le.getState().dailyNotesState.app;if(_e.currentTrigger==="#"){const Ue=A.current.value;let Ke;el!=null?Ke=el.length:Ke=0;let yt=A.current.selectionStart;for(let Ce=0;Ce<Ue.length;Ce++)/\s/g.test(Ue[yt])||yt++;A.current.value=Ue.slice(0,A.current.selectionStart-Ke)+_e.item.char+Ue.slice(yt),k(A.current.value),B()}else if(_e.currentTrigger==="[["){const Ue=$e.generateMarkdownLink(_e.item.file,_e.item.file.path,"",""),Ke=A.current.value;let yt;el!=null?Ue.contains("[[")||_e.item.file.extension!=="md"?yt=el.length+1:yt=el.length+2:yt=2;let Ce=A.current.selectionStart;for(let rt=0;rt<Ke.length;rt++)/\s/g.test(Ke[Ce])||Ce++;A.current.value=Ke.slice(0,A.current.selectionStart-yt)+Ue+Ke.slice(Ce),k(A.current.value),B()}},he=F.useCallback(()=>{var _e;k(((_e=A.current)==null?void 0:_e.value)||""),B()},[]),G=()=>{var _e;switch(m){case"minimal":case"memos":if(!A.current)return;A.current.value=pe(),T(A.current.value),A.current.value="",B(),(_e=j.current)==null||_e.resetState();break;case"obsidian":T(W()),re(),B();break}},ne=F.useCallback(()=>{switch(m){case"minimal":case"memos":A.current&&(A.current.value="",k(A.current.value),B());break;case"obsidian":re();break}I()},[m,L,A]),pe=()=>Vr.get(["thinoEditorContentCache"]).thinoEditorContentCache||"",Ie=()=>{if(A.current)return A.current.value=pe(),A.current.value},Oe=_e=>{switch(_e){case"memos":return y.jsx($E,{className:`common-editor-inputer scroll ${$?" editing":""}`,loadingComponent:W5,placeholder:v,movePopupAsYouType:!0,value:Ie(),innerRef:$e=>{A.current=$e},onFocus:()=>{le(!0)},onBlur:()=>{le(!1)},onInput:he,style:{maxHeight:`${fe.current>400?fe.current-400:100}px`},dropdownStyle:{minWidth:180,maxHeight:250,overflowY:"auto"},minChar:0,onItemSelected:oe,scrollToItem:!0,trigger:{"#":{dataProvider:$e=>(el=$e,O5($e).map(({name:Ue,char:Ke})=>({name:Ue,char:Ke}))),component:h2,afterWhitespace:!0,output:$e=>$e.char},"[[":{dataProvider:$e=>(el=$e,j5($e).slice(0,10).map(({name:Ue,char:Ke,file:yt})=>({name:Ue,char:Ke,file:yt}))),component:h2,afterWhitespace:!0,output:$e=>$e.char}}});case"minimal":return y.jsx("textarea",{style:{minHeight:48},className:"common-editor-inputer scroll",rows:1,placeholder:v,ref:A,onInput:he});case"obsidian":return y.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",onClick:()=>{var $e;($e=L==null?void 0:L.editor)==null||$e.focus()},ref:R});default:return y.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",ref:R})}};return y.jsxs("div",{className:"common-editor-wrapper "+f,children:[Oe(m),y.jsxs("div",{className:"common-tools-wrapper",children:[y.jsx("div",{className:"common-tools-container",children:y.jsx(Aa,{when:e.tools!==void 0,children:e.tools})}),y.jsxs("div",{className:"btns-container",children:[y.jsx(Aa,{when:S,children:y.jsx("button",{className:"action-btn cancel-btn",onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!r&&ne()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||r)&&ne()},children:at.getState().pathname==="/"&&o==="chat"&&((i==null?void 0:i.chatViewStyle)==="fluent"||(i==null?void 0:i.chatViewStyle)==="inline")?"":E("CANCEL EDIT")})}),y.jsx(Aa,{when:b,children:y.jsxs("button",{title:"Ctrl/Cmd + Enter to save thino",className:"action-btn confirm-btn",onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!r&&G()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||r)&&G()},children:[o==="chat"&&((i==null?void 0:i.chatViewStyle)==="fluent"||(i==null?void 0:i.chatViewStyle)==="inline")?"":u,y.jsx("span",{className:"icon-text",children:null})]})})]})]})]})}),$5=typeof window<"u"?F.useLayoutEffect:F.useEffect;function q5(e,t,n,r){const o=F.useRef(t);$5(()=>{o.current=t},[t]),F.useEffect(()=>{const i=(n==null?void 0:n.current)||window;if(!(i&&i.addEventListener))return;const a=u=>{o.current(u)};return i.addEventListener(e,a,r),()=>{i.removeEventListener(e,a,r)}},[e,n,r])}function ug(e,t,n="mousedown"){q5(n,r=>{const o=r.target;if(!o||!o.isConnected||o.closest(".suggestion-container")||o.closest(".menu"))return;(Array.isArray(e)?e.every(a=>a.current&&!a.current.contains(o)):e.current&&!e.current.contains(o))&&t(r)})}const GE=e=>{const{year:t,handleYearChange:n}=e,[r,o]=F.useState([]),[i,a]=F.useState(t),u=F.useRef(null),d=F.useRef(null),[f,m]=se.useState(!1),g=se.useRef(null);ug(g,()=>{m(!1)}),F.useEffect(()=>{u.current&&C.setIcon(u.current,"chevron-left"),d.current&&C.setIcon(d.current,"chevron-right")},[u,d,f]),F.useEffect(()=>{b(i)},[t]);const b=S=>{const T=parseInt(S),I=T-T%10,k=[];for(let A=0;A<10;A++)k.push(`${I+A}`);o(k)};return y.jsxs(y.Fragment,{children:[y.jsxs("span",{className:"btn year-btn",onClick:()=>{m(!f)},children:[y.jsx("span",{children:t}),y.jsx("span",{children:E("year")})]}),f&&y.jsxs("div",{ref:g,className:"year-picker-wrapper",children:[y.jsxs("div",{className:"year-picker-header",children:[y.jsxs("div",{className:"year-picker-header-title",children:[i," "+(E("year")||"")]}),y.jsxs("div",{className:"year-picker-header-btns",children:[y.jsx("span",{className:"btn",ref:u,onClick:()=>{const S=parseInt(i)-10;a(S.toString()),b(S.toString())}}),y.jsx("span",{className:"btn",ref:d,onClick:()=>{const S=parseInt(i)+10;a(S.toString()),b(S.toString())}})]})]}),y.jsx("div",{className:"year-picker-body",children:y.jsx("div",{className:"year-picker-body-list",children:r.map(S=>y.jsx("div",{className:`year-picker-body-item ${S===i?"selected":""}`,onClick:()=>{a(S),n(S),m(!1)},children:S},S))})})]})]})},JE=e=>{const{month:t,handleMonthChange:n}=e,[r,o]=F.useState([]),[i,a]=F.useState((parseInt(t)+1).toString()),[u,d]=se.useState(!1),f=se.useRef(null);ug(f,()=>{d(!1)}),F.useEffect(()=>{g()},[t]);const g=()=>{const v=[];for(let b=1;b<=12;b++)v.push(`${b}`);o(v)};return y.jsxs(y.Fragment,{children:[y.jsxs("span",{className:"btn month-btn",onClick:()=>{d(!u)},children:[y.jsxs("span",{children:[E("monthsShort")[parseInt(t)]||parseInt(t)+1," "]}),y.jsx("span",{children:E("month")||""})]}),u&&y.jsxs("div",{ref:f,className:"month-picker-wrapper",children:[y.jsxs("div",{className:"month-picker-header",children:[y.jsxs("div",{className:"month-picker-header-title",children:[i," "+(E("month")||"")]}),y.jsx("div",{className:"month-picker-header-btns"})]}),y.jsx("div",{className:"month-picker-body",children:y.jsx("div",{className:"month-picker-body-list",children:r.map(v=>y.jsx("div",{className:`month-picker-body-item ${v===i?"selected":""}`,onClick:()=>{a(v),n(v),d(!1)},children:v},v))})})]})]})},d0=e=>{const{className:t,datestamp:n,handleDateStampChange:r}=e,[o,i]=F.useState(am(n)),[a,u]=F.useState(n);F.useEffect(()=>{i(am(n))},[n]);const d=new Date(o),f=d.getDay(),m=[];for(let S=0;S<f;S++)m.push({date:0,datestamp:d.getTime()-fl*(7-S)});const g=G5(o);for(let S=1;S<=g;S++)m.push({date:S,datestamp:d.getTime()+fl*(S-1)});const v=(S,T)=>{r(T,S.nativeEvent),u(T)},b=S=>{const T=d.getFullYear(),I=d.getMonth()+1;let k=0;I===1&&S===-1?k=new Date(`${T-1}/12/1`).getTime():I===12&&S===1?k=new Date(`${T+1}/1/1`).getTime():k=new Date(`${T}/${I+S}/1`).getTime(),i(am(k))};return y.jsxs("div",{className:`date-picker-wrapper ${t}`,children:[y.jsxs("div",{className:"date-picker-header",children:[y.jsx("span",{ref:S=>{S&&C.setIcon(S,"chevron-left")},className:"btn btn-text",onClick:()=>b(-1)}),y.jsxs("span",{className:"normal-text",children:[y.jsx(GE,{year:d.getFullYear().toString(),handleYearChange:S=>{i(am(new Date(`${S}/${d.getMonth()+1}/1`).getTime()))}}),y.jsx(JE,{month:d.getMonth().toString(),handleMonthChange:S=>{i(am(new Date(`${d.getFullYear()}/${parseInt(S)}/1`).getTime()))}})]}),y.jsx("span",{ref:S=>{S&&C.setIcon(S,"chevron-right")},className:"btn btn-text",onClick:()=>b(1)})]}),y.jsxs("div",{className:"date-picker-day-container",children:[y.jsx("div",{className:"date-picker-day-header",children:E("weekDaysShort").map(S=>y.jsx("span",{className:"day-item",children:S},S))}),y.jsx("div",{className:"date-picker-day-content",children:m.map(S=>S.date===0?y.jsx("span",{className:"day-item null",children:""},S.datestamp):y.jsx("span",{className:`day-item ${S.datestamp===n?"current":""} ${S.datestamp===a?"selected":""}`,onClick:T=>v(T,S.datestamp),children:y.jsx("span",{className:"day-item-text",children:S.date})},S.datestamp))})]})]})};function G5(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/fl}function am(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}var p2=function(t){return t.reduce(function(n,r){var o=r[0],i=r[1];return n[o]=i,n},{})},m2=typeof window<"u"&&window.document&&window.document.createElement?F.useLayoutEffect:F.useEffect,Ai="top",Oa="bottom",ja="right",Fi="left",$1="auto",cg=[Ai,Oa,ja,Fi],gh="start",Am="end",J5="clippingParents",KE="viewport",sm="popper",K5="reference",g2=cg.reduce(function(e,t){return e.concat([t+"-"+gh,t+"-"+Am])},[]),q1=[].concat(cg,[$1]).reduce(function(e,t){return e.concat([t,t+"-"+gh,t+"-"+Am])},[]),Q5="beforeRead",X5="read",eP="afterRead",tP="beforeMain",nP="main",rP="afterMain",oP="beforeWrite",iP="write",aP="afterWrite",sP=[Q5,X5,eP,tP,nP,rP,oP,iP,aP];function gl(e){return e?(e.nodeName||"").toLowerCase():null}function sa(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Sd(e){var t=sa(e).Element;return e instanceof t||e instanceof Element}function Fa(e){var t=sa(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function G1(e){if(typeof ShadowRoot>"u")return!1;var t=sa(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function lP(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!Fa(i)||!gl(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(a){var u=o[a];u===!1?i.removeAttribute(a):i.setAttribute(a,u===!0?"":u)}))})}function uP(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),u=a.reduce(function(d,f){return d[f]="",d},{});!Fa(o)||!gl(o)||(Object.assign(o.style,u),Object.keys(i).forEach(function(d){o.removeAttribute(d)}))})}}const cP={name:"applyStyles",enabled:!0,phase:"write",fn:lP,effect:uP,requires:["computeStyles"]};function hl(e){return e.split("-")[0]}var vd=Math.max,xv=Math.min,yh=Math.round;function Wb(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function QE(){return!/^((?!chrome|android).)*safari/i.test(Wb())}function vh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&Fa(e)&&(o=e.offsetWidth>0&&yh(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&yh(r.height)/e.offsetHeight||1);var a=Sd(e)?sa(e):window,u=a.visualViewport,d=!QE()&&n,f=(r.left+(d&&u?u.offsetLeft:0))/o,m=(r.top+(d&&u?u.offsetTop:0))/i,g=r.width/o,v=r.height/i;return{width:g,height:v,top:m,right:f+g,bottom:m+v,left:f,x:f,y:m}}function J1(e){var t=vh(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function XE(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&G1(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function nu(e){return sa(e).getComputedStyle(e)}function dP(e){return["table","td","th"].indexOf(gl(e))>=0}function pc(e){return((Sd(e)?e.ownerDocument:e.document)||window.document).documentElement}function f0(e){return gl(e)==="html"?e:e.assignedSlot||e.parentNode||(G1(e)?e.host:null)||pc(e)}function y2(e){return!Fa(e)||nu(e).position==="fixed"?null:e.offsetParent}function fP(e){var t=/firefox/i.test(Wb()),n=/Trident/i.test(Wb());if(n&&Fa(e)){var r=nu(e);if(r.position==="fixed")return null}var o=f0(e);for(G1(o)&&(o=o.host);Fa(o)&&["html","body"].indexOf(gl(o))<0;){var i=nu(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function dg(e){for(var t=sa(e),n=y2(e);n&&dP(n)&&nu(n).position==="static";)n=y2(n);return n&&(gl(n)==="html"||gl(n)==="body"&&nu(n).position==="static")?t:n||fP(e)||t}function K1(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Dm(e,t,n){return vd(e,xv(t,n))}function hP(e,t,n){var r=Dm(e,t,n);return r>n?n:r}function eC(){return{top:0,right:0,bottom:0,left:0}}function tC(e){return Object.assign({},eC(),e)}function nC(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var pP=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,tC(typeof t!="number"?t:nC(t,cg))};function mP(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,u=hl(n.placement),d=K1(u),f=[Fi,ja].indexOf(u)>=0,m=f?"height":"width";if(!(!i||!a)){var g=pP(o.padding,n),v=J1(i),b=d==="y"?Ai:Fi,S=d==="y"?Oa:ja,T=n.rects.reference[m]+n.rects.reference[d]-a[d]-n.rects.popper[m],I=a[d]-n.rects.reference[d],k=dg(i),A=k?d==="y"?k.clientHeight||0:k.clientWidth||0:0,R=T/2-I/2,j=g[b],B=A-v[m]-g[S],L=A/2-v[m]/2+R,z=Dm(j,L,B),U=d;n.modifiersData[r]=(t={},t[U]=z,t.centerOffset=z-L,t)}}function gP(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||XE(t.elements.popper,o)&&(t.elements.arrow=o))}const rC={name:"arrow",enabled:!0,phase:"main",fn:mP,effect:gP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wh(e){return e.split("-")[1]}var yP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vP(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:yh(n*o)/o||0,y:yh(r*o)/o||0}}function v2(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,u=e.position,d=e.gpuAcceleration,f=e.adaptive,m=e.roundOffsets,g=e.isFixed,v=a.x,b=v===void 0?0:v,S=a.y,T=S===void 0?0:S,I=typeof m=="function"?m({x:b,y:T}):{x:b,y:T};b=I.x,T=I.y;var k=a.hasOwnProperty("x"),A=a.hasOwnProperty("y"),R=Fi,j=Ai,B=window;if(f){var L=dg(n),z="clientHeight",U="clientWidth";if(L===sa(n)&&(L=pc(n),nu(L).position!=="static"&&u==="absolute"&&(z="scrollHeight",U="scrollWidth")),o===Ai||(o===Fi||o===ja)&&i===Am){j=Oa;var W=g&&L===B&&B.visualViewport?B.visualViewport.height:L[z];T-=W-r.height,T*=d?1:-1}if(o===Fi||(o===Ai||o===Oa)&&i===Am){R=ja;var Z=g&&L===B&&B.visualViewport?B.visualViewport.width:L[U];b-=Z-r.width,b*=d?1:-1}}var re=Object.assign({position:u},f&&yP),Q=m===!0?vP({x:b,y:T},sa(n)):{x:b,y:T};if(b=Q.x,T=Q.y,d){var ce;return Object.assign({},re,(ce={},ce[j]=A?"0":"",ce[R]=k?"0":"",ce.transform=(B.devicePixelRatio||1)<=1?"translate("+b+"px, "+T+"px)":"translate3d("+b+"px, "+T+"px, 0)",ce))}return Object.assign({},re,(t={},t[j]=A?T+"px":"",t[R]=k?b+"px":"",t.transform="",t))}function wP(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,u=n.roundOffsets,d=u===void 0?!0:u,f={placement:hl(t.placement),variation:wh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,v2(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,v2(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const oC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wP,data:{}};var Oy={passive:!0};function bP(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,a=r.resize,u=a===void 0?!0:a,d=sa(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&f.forEach(function(m){m.addEventListener("scroll",n.update,Oy)}),u&&d.addEventListener("resize",n.update,Oy),function(){i&&f.forEach(function(m){m.removeEventListener("scroll",n.update,Oy)}),u&&d.removeEventListener("resize",n.update,Oy)}}const iC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bP,data:{}};var SP={left:"right",right:"left",bottom:"top",top:"bottom"};function iv(e){return e.replace(/left|right|bottom|top/g,function(t){return SP[t]})}var DP={start:"end",end:"start"};function w2(e){return e.replace(/start|end/g,function(t){return DP[t]})}function Q1(e){var t=sa(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function X1(e){return vh(pc(e)).left+Q1(e).scrollLeft}function TP(e,t){var n=sa(e),r=pc(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,u=0,d=0;if(o){i=o.width,a=o.height;var f=QE();(f||!f&&t==="fixed")&&(u=o.offsetLeft,d=o.offsetTop)}return{width:i,height:a,x:u+X1(e),y:d}}function IP(e){var t,n=pc(e),r=Q1(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=vd(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=vd(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-r.scrollLeft+X1(e),d=-r.scrollTop;return nu(o||n).direction==="rtl"&&(u+=vd(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:u,y:d}}function eS(e){var t=nu(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function aC(e){return["html","body","#document"].indexOf(gl(e))>=0?e.ownerDocument.body:Fa(e)&&eS(e)?e:aC(f0(e))}function Tm(e,t){var n;t===void 0&&(t=[]);var r=aC(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=sa(r),a=o?[i].concat(i.visualViewport||[],eS(r)?r:[]):r,u=t.concat(a);return o?u:u.concat(Tm(f0(a)))}function Zb(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function xP(e,t){var n=vh(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function b2(e,t,n){return t===KE?Zb(TP(e,n)):Sd(t)?xP(t,n):Zb(IP(pc(e)))}function EP(e){var t=Tm(f0(e)),n=["absolute","fixed"].indexOf(nu(e).position)>=0,r=n&&Fa(e)?dg(e):e;return Sd(r)?t.filter(function(o){return Sd(o)&&XE(o,r)&&gl(o)!=="body"}):[]}function CP(e,t,n,r){var o=t==="clippingParents"?EP(e):[].concat(t),i=[].concat(o,[n]),a=i[0],u=i.reduce(function(d,f){var m=b2(e,f,r);return d.top=vd(m.top,d.top),d.right=xv(m.right,d.right),d.bottom=xv(m.bottom,d.bottom),d.left=vd(m.left,d.left),d},b2(e,a,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function sC(e){var t=e.reference,n=e.element,r=e.placement,o=r?hl(r):null,i=r?wh(r):null,a=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,d;switch(o){case Ai:d={x:a,y:t.y-n.height};break;case Oa:d={x:a,y:t.y+t.height};break;case ja:d={x:t.x+t.width,y:u};break;case Fi:d={x:t.x-n.width,y:u};break;default:d={x:t.x,y:t.y}}var f=o?K1(o):null;if(f!=null){var m=f==="y"?"height":"width";switch(i){case gh:d[f]=d[f]-(t[m]/2-n[m]/2);break;case Am:d[f]=d[f]+(t[m]/2-n[m]/2);break}}return d}function Fm(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.strategy,a=i===void 0?e.strategy:i,u=n.boundary,d=u===void 0?J5:u,f=n.rootBoundary,m=f===void 0?KE:f,g=n.elementContext,v=g===void 0?sm:g,b=n.altBoundary,S=b===void 0?!1:b,T=n.padding,I=T===void 0?0:T,k=tC(typeof I!="number"?I:nC(I,cg)),A=v===sm?K5:sm,R=e.rects.popper,j=e.elements[S?A:v],B=CP(Sd(j)?j:j.contextElement||pc(e.elements.popper),d,m,a),L=vh(e.elements.reference),z=sC({reference:L,element:R,strategy:"absolute",placement:o}),U=Zb(Object.assign({},R,z)),W=v===sm?U:L,Z={top:B.top-W.top+k.top,bottom:W.bottom-B.bottom+k.bottom,left:B.left-W.left+k.left,right:W.right-B.right+k.right},re=e.modifiersData.offset;if(v===sm&&re){var Q=re[o];Object.keys(Z).forEach(function(ce){var ee=[ja,Oa].indexOf(ce)>=0?1:-1,fe=[Ai,Oa].indexOf(ce)>=0?"y":"x";Z[ce]+=Q[fe]*ee})}return Z}function MP(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,u=n.flipVariations,d=n.allowedAutoPlacements,f=d===void 0?q1:d,m=wh(r),g=m?u?g2:g2.filter(function(S){return wh(S)===m}):cg,v=g.filter(function(S){return f.indexOf(S)>=0});v.length===0&&(v=g);var b=v.reduce(function(S,T){return S[T]=Fm(e,{placement:T,boundary:o,rootBoundary:i,padding:a})[hl(T)],S},{});return Object.keys(b).sort(function(S,T){return b[S]-b[T]})}function kP(e){if(hl(e)===$1)return[];var t=iv(e);return[w2(e),t,w2(t)]}function NP(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,u=a===void 0?!0:a,d=n.fallbackPlacements,f=n.padding,m=n.boundary,g=n.rootBoundary,v=n.altBoundary,b=n.flipVariations,S=b===void 0?!0:b,T=n.allowedAutoPlacements,I=t.options.placement,k=hl(I),A=k===I,R=d||(A||!S?[iv(I)]:kP(I)),j=[I].concat(R).reduce(function(Oe,Ye){return Oe.concat(hl(Ye)===$1?MP(t,{placement:Ye,boundary:m,rootBoundary:g,padding:f,flipVariations:S,allowedAutoPlacements:T}):Ye)},[]),B=t.rects.reference,L=t.rects.popper,z=new Map,U=!0,W=j[0],Z=0;Z<j.length;Z++){var re=j[Z],Q=hl(re),ce=wh(re)===gh,ee=[Ai,Oa].indexOf(Q)>=0,fe=ee?"width":"height",$=Fm(t,{placement:re,boundary:m,rootBoundary:g,altBoundary:v,padding:f}),le=ee?ce?ja:Fi:ce?Oa:Ai;B[fe]>L[fe]&&(le=iv(le));var oe=iv(le),he=[];if(i&&he.push($[Q]<=0),u&&he.push($[le]<=0,$[oe]<=0),he.every(function(Oe){return Oe})){W=re,U=!1;break}z.set(re,he)}if(U)for(var G=S?3:1,ne=function(Ye){var _e=j.find(function($e){var Ue=z.get($e);if(Ue)return Ue.slice(0,Ye).every(function(Ke){return Ke})});if(_e)return W=_e,"break"},pe=G;pe>0;pe--){var Ie=ne(pe);if(Ie==="break")break}t.placement!==W&&(t.modifiersData[r]._skip=!0,t.placement=W,t.reset=!0)}}const lC={name:"flip",enabled:!0,phase:"main",fn:NP,requiresIfExists:["offset"],data:{_skip:!1}};function S2(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function D2(e){return[Ai,ja,Oa,Fi].some(function(t){return e[t]>=0})}function AP(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Fm(t,{elementContext:"reference"}),u=Fm(t,{altBoundary:!0}),d=S2(a,r),f=S2(u,o,i),m=D2(d),g=D2(f);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:m,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":g})}const uC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:AP};function FP(e,t,n){var r=hl(e),o=[Fi,Ai].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],u=i[1];return a=a||0,u=(u||0)*o,[Fi,ja].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}function PP(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,a=q1.reduce(function(m,g){return m[g]=FP(g,t.rects,i),m},{}),u=a[t.placement],d=u.x,f=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=f),t.modifiersData[r]=a}const cC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:PP};function OP(e){var t=e.state,n=e.name;t.modifiersData[n]=sC({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const dC={name:"popperOffsets",enabled:!0,phase:"read",fn:OP,data:{}};function jP(e){return e==="x"?"y":"x"}function LP(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,u=a===void 0?!1:a,d=n.boundary,f=n.rootBoundary,m=n.altBoundary,g=n.padding,v=n.tether,b=v===void 0?!0:v,S=n.tetherOffset,T=S===void 0?0:S,I=Fm(t,{boundary:d,rootBoundary:f,padding:g,altBoundary:m}),k=hl(t.placement),A=wh(t.placement),R=!A,j=K1(k),B=jP(j),L=t.modifiersData.popperOffsets,z=t.rects.reference,U=t.rects.popper,W=typeof T=="function"?T(Object.assign({},t.rects,{placement:t.placement})):T,Z=typeof W=="number"?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),re=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(L){if(i){var ce,ee=j==="y"?Ai:Fi,fe=j==="y"?Oa:ja,$=j==="y"?"height":"width",le=L[j],oe=le+I[ee],he=le-I[fe],G=b?-U[$]/2:0,ne=A===gh?z[$]:U[$],pe=A===gh?-U[$]:-z[$],Ie=t.elements.arrow,Oe=b&&Ie?J1(Ie):{width:0,height:0},Ye=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:eC(),_e=Ye[ee],$e=Ye[fe],Ue=Dm(0,z[$],Oe[$]),Ke=R?z[$]/2-G-Ue-_e-Z.mainAxis:ne-Ue-_e-Z.mainAxis,yt=R?-z[$]/2+G+Ue+$e+Z.mainAxis:pe+Ue+$e+Z.mainAxis,Ce=t.elements.arrow&&dg(t.elements.arrow),rt=Ce?j==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,st=(ce=re==null?void 0:re[j])!=null?ce:0,dt=le+Ke-st-rt,It=le+yt-st,Et=Dm(b?xv(oe,dt):oe,le,b?vd(he,It):he);L[j]=Et,Q[j]=Et-le}if(u){var _t,Ut=j==="x"?Ai:Fi,vn=j==="x"?Oa:ja,$t=L[B],tn=B==="y"?"height":"width",rn=$t+I[Ut],Xt=$t-I[vn],Ln=[Ai,Fi].indexOf(k)!==-1,lr=(_t=re==null?void 0:re[B])!=null?_t:0,$r=Ln?rn:$t-z[tn]-U[tn]-lr+Z.altAxis,tr=Ln?$t+z[tn]+U[tn]-lr-Z.altAxis:Xt,nr=b&&Ln?hP($r,$t,tr):Dm(b?$r:rn,$t,b?tr:Xt);L[B]=nr,Q[B]=nr-$t}t.modifiersData[r]=Q}}const fC={name:"preventOverflow",enabled:!0,phase:"main",fn:LP,requiresIfExists:["offset"]};function RP(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function _P(e){return e===sa(e)||!Fa(e)?Q1(e):RP(e)}function BP(e){var t=e.getBoundingClientRect(),n=yh(t.width)/e.offsetWidth||1,r=yh(t.height)/e.offsetHeight||1;return n!==1||r!==1}function HP(e,t,n){n===void 0&&(n=!1);var r=Fa(t),o=Fa(t)&&BP(t),i=pc(t),a=vh(e,o,n),u={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((gl(t)!=="body"||eS(i))&&(u=_P(t)),Fa(t)?(d=vh(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=X1(i))),{x:a.left+u.scrollLeft-d.x,y:a.top+u.scrollTop-d.y,width:a.width,height:a.height}}function YP(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(u){if(!n.has(u)){var d=t.get(u);d&&o(d)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function UP(e){var t=YP(e);return sP.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function zP(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function VP(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var T2={placement:"bottom",modifiers:[],strategy:"absolute"};function I2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function hC(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?T2:o;return function(u,d,f){f===void 0&&(f=i);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},T2,i),modifiersData:{},elements:{reference:u,popper:d},attributes:{},styles:{}},g=[],v=!1,b={state:m,setOptions:function(k){var A=typeof k=="function"?k(m.options):k;T(),m.options=Object.assign({},i,m.options,A),m.scrollParents={reference:Sd(u)?Tm(u):u.contextElement?Tm(u.contextElement):[],popper:Tm(d)};var R=UP(VP([].concat(r,m.options.modifiers)));return m.orderedModifiers=R.filter(function(j){return j.enabled}),S(),b.update()},forceUpdate:function(){if(!v){var k=m.elements,A=k.reference,R=k.popper;if(I2(A,R)){m.rects={reference:HP(A,dg(R),m.options.strategy==="fixed"),popper:J1(R)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(Z){return m.modifiersData[Z.name]=Object.assign({},Z.data)});for(var j=0;j<m.orderedModifiers.length;j++){if(m.reset===!0){m.reset=!1,j=-1;continue}var B=m.orderedModifiers[j],L=B.fn,z=B.options,U=z===void 0?{}:z,W=B.name;typeof L=="function"&&(m=L({state:m,options:U,name:W,instance:b})||m)}}}},update:zP(function(){return new Promise(function(I){b.forceUpdate(),I(m)})}),destroy:function(){T(),v=!0}};if(!I2(u,d))return b;b.setOptions(f).then(function(I){!v&&f.onFirstUpdate&&f.onFirstUpdate(I)});function S(){m.orderedModifiers.forEach(function(I){var k=I.name,A=I.options,R=A===void 0?{}:A,j=I.effect;if(typeof j=="function"){var B=j({state:m,name:k,instance:b,options:R}),L=function(){};g.push(B||L)}})}function T(){g.forEach(function(I){return I()}),g=[]}return b}}var WP=[iC,dC,oC,cP,cC,lC,fC,rC,uC],pC=hC({defaultModifiers:WP}),ZP=typeof Element<"u",$P=typeof Map=="function",qP=typeof Set=="function",GP=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function av(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!av(e[r],t[r]))return!1;return!0}var i;if($P&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!av(r.value[1],t.get(r.value[0])))return!1;return!0}if(qP&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(GP&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(ZP&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!av(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var JP=function(t,n){try{return av(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const KP=Zr(JP);var QP=[],h0=function(t,n,r){r===void 0&&(r={});var o=F.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||QP},a=F.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=a[0],d=a[1],f=F.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(b){var S=b.state,T=Object.keys(S.elements);a0.flushSync(function(){d({styles:p2(T.map(function(I){return[I,S.styles[I]||{}]})),attributes:p2(T.map(function(I){return[I,S.attributes[I]]}))})})},requires:["computeStyles"]}},[]),m=F.useMemo(function(){var v={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[f,{name:"applyStyles",enabled:!1}])};return KP(o.current,v)?o.current||v:(o.current=v,v)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,f]),g=F.useRef();return m2(function(){g.current&&g.current.setOptions(m)},[m]),m2(function(){if(!(t==null||n==null)){var v=r.createPopper||pC,b=v(t,n,m);return g.current=b,function(){b.destroy(),g.current=null}}},[t,n,r.createPopper]),{state:g.current?g.current.state:null,styles:u.styles,attributes:u.attributes,update:g.current?g.current.update:null,forceUpdate:g.current?g.current.forceUpdate:null}},XP=function(){},eO=XP;const tO=Zr(eO),nO=(e,t)=>({placement:e,modifiers:[{name:"flip",options:{allowedAutoPlacements:t,rootBoundary:"document"}},{name:"preventOverflow",options:{rootBoundary:"document"}}]}),rO=e=>{const n=F.useRef(null),[r,o]=F.useState(null),[i,a]=F.useState(0);let u,d;const f=()=>{if(C.Platform.isMobile){u="right-end",d=["bottom"];return}const g=window.innerWidth-i>280*1.2,v=window.innerWidth-i<280,b=window.innerWidth>280*1.5;if(e.DefaultEditorLocation!=="Bottom"){g?(u="right-end",d=["left-end"]):v&&b?(u="left-end",d=["right-end"]):(u="bottom",d=["bottom"]);return}g?(u="top-end",d=["top-start"]):v&&i>280?(u="top-start",d=["top-end"]):(u="top",d=["top"])};F.useEffect(()=>{e&&f()},[i,e==null?void 0:e.DefaultEditorLocation]);const m=h0(n.current,r,nO(u,d));return{setPosX:a,popperRef:n,setPopperElement:o,popper:m}},oO=()=>{const e=new Set,t=at.getState().query.filter,n=at.getState().query.tag,r=Qt.getQueryById(t||"");if(r&&r.querystring){const o=JSON.parse(r.querystring);if(Array.isArray(o))for(const i of o)i.type==="TAG"&&i.value&&i.value.operator==="CONTAIN"&&e.add(i.value.value)}return n&&e.add(n),Array.from(e)},iO=e=>{const{offsetLeft:t,offsetTop:n,offsetHeight:r,offsetWidth:o,selectionEnd:i}=e,a=document.createElement("div"),u=window.getComputedStyle(e);for(const T of u)a.style.setProperty(T,u.getPropertyValue(T));a.style.position="fixed",a.style.visibility="hidden",a.style.whiteSpace="pre-wrap";const f=e.tagName==="INPUT"?e.value.replace(/ /g,"."):e.value;a.textContent=f.substring(0,i||0),e.tagName==="TEXTAREA"&&(a.style.height="auto");const m=document.createElement("span");m.textContent=f.substring(i||0)||".",a.appendChild(m),document.body.appendChild(a);const{offsetLeft:g,offsetTop:v,offsetHeight:b,offsetWidth:S}=m;return document.body.removeChild(a),{x:t+g,y:n+v,h:r+b,w:o+S}},wd=({className:e,editorType:t,destroy:n})=>{const{globalState:r,dailyNotesState:{app:o,settings:i,view:a,verifyState:u}}=F.useContext(Ot),[d,f]=ml(!0),m=F.useRef(d),[g,v]=oi(!0),b=F.useRef(null),S=F.useRef(null),T=F.useRef(r),[I,k]=oi(!1),[A,R]=oi(!1),{setPosX:j,popperRef:B,setPopperElement:L,popper:z}=rO(i),[U]=oi(parseInt(C.moment().format("x"))),W=F.useRef(null),[Z,re]=oi((i==null?void 0:i.EnabledLocationList.length)===1?i==null?void 0:i.EnabledLocationList[0].value:(i==null?void 0:i.MemoSaveLocation)||"DAILY"),Q=F.useRef(i.MemoSaveLocation||"DAILY");F.useEffect(()=>{m.current=d},[d]),F.useEffect(()=>{!S.current||!o||!a||(a.registerEvent(o.workspace.on("focus-on-textarea",Ce=>{var rt;(rt=S.current)==null||rt.focus(Ce==null?void 0:Ce.id)})),a.registerEvent(o.workspace.on("blur-on-memos",()=>{var Ce;(Ce=S.current)==null||Ce.blur()})),a.registerEvent(o.workspace.on("send-to-thino",async(Ce,rt)=>{var st,dt;if(typeof Ce=="string")(st=S.current)==null||st.insertText(Ce+`
`,rt.id);else{const It=Ce.toPNG(),Et=new Blob([It],{type:"image/png"}),_t=new File([Et],"image.png",{type:"image/png",lastModified:Date.now()});if(!_t)return;const Ut=await oe(_t);Ut&&((dt=S.current)==null||dt.insertText(Ut+`
`,rt.id))}})))},[S,a,o]),F.useEffect(()=>{i&&f(i.DefaultPrefix==="List")},[i==null?void 0:i.DefaultPrefix]),F.useEffect(()=>{if(i){if(i.EnabledLocationList.length===1){re(i.EnabledLocationList[0].value);return}re(i.MemoSaveLocation||"DAILY")}},[i==null?void 0:i.MemoSaveLocation,i==null?void 0:i.EnabledLocationList]),F.useEffect(()=>{var st;if(!i||!W.current)return;const Ce=(st=km.find(dt=>dt.title===Z))==null?void 0:st.icon;C.setIcon(W.current,Ce),C.requireApiVersion("1.4.4")&&C.setTooltip(W.current,E("Thino Save To: ")+Z),Q.current=Z;const rt=r.manifest;if(rt){const dt=o==null?void 0:o.plugins.getPlugin(rt.id);if(dt){if(dt.settings.MemoSaveLocation===Z)return;dt.settings.MemoSaveLocation=Z,dt.saveSettings()}}},[Z,g]),F.useEffect(()=>{S.current&&i.MemoSaveLocation&&re(i.MemoSaveLocation)},[W,i]),F.useEffect(()=>{if(!S.current||!i||C.Platform.isDesktop||r.globalEditorShown)return;const Ce=i.UseButtonToShowEditor&&i.DefaultEditorLocation==="Bottom";if(C.Platform.isDesktop){v(!0);return}if(t&&t==="inline"){v(!0);return}if(v(C.Platform.isMobile&&!Ce),!Ce||r.memoListView==="chat")return;const rt=document.body.find(".memolist-wrapper");rt&&(rt.onscroll=()=>{if(r.globalEditorShown)return;if(!r.memoListView&&ft.getState().memoListView==="chat"){rt.onscroll=null;return}const st=S.current.getContent();C.Platform.isMobile&&Ce&&!st&&v(!1)})},[r.globalEditorShown,t,S]);const ce=()=>{R(!1)};F.useEffect(()=>{var Ce,rt,st,dt,It,Et,_t,Ut,vn;if(o&&(r.markMemoId||(Ce=r.editMemoId)!=null&&Ce.trim()&&r.editMemoId!==T.current.editMemoId)){const $t=o.workspace.getLeavesOfType("thino_view");$t.length>0&&o.workspace.revealLeaf($t[0])}if(r.markMemoId){const $t=`${E("MARK")}: [@THINO](${r.markMemoId})`;(rt=S.current)==null||rt.insertText($t),(st=S.current)==null||st.focus(),ft.setMarkMemoId("");return}if((dt=r.editMemoId)!=null&&dt.trim()&&r.editMemoId!==T.current.editMemoId){const $t=Re.getMemoById(r.editMemoId);if($t)switch(f($t.thinoType==="JOURNAL"),i.EditorType){case"memos":(It=S.current)==null||It.setContent($t.content.replace(/ \^\S{6}$/,"")||""),(Et=S.current)==null||Et.focus();break;case"obsidian":(_t=S.current)==null||_t.clear(),(Ut=S.current)==null||Ut.setContent($t.content.replace(/ \^\S{6}$/,"")||""),(vn=S.current)==null||vn.focus();break}}T.current=r},[r.markMemoId,r.editMemoId]),F.useEffect(()=>{var Ce,rt,st;!S.current||I||i.EditorType==="memos"&&((Ce=S.current)==null||Ce.element.addEventListener("paste",ee),(rt=S.current)==null||rt.element.addEventListener("drop",fe),(st=S.current)==null||st.element.addEventListener("click",$),k(!0))},[S.current]);const ee=async Ce=>{var rt;if(Ce.clipboardData&&Ce.clipboardData.files.length>0){Ce.preventDefault();const st=Ce.clipboardData.files;for(const dt of st){const It=await oe(dt);It&&((rt=S.current)==null||rt.insertText(It))}}},fe=async Ce=>{var rt;if(Ce.dataTransfer&&Ce.dataTransfer.files.length>0){Ce.preventDefault();const st=Ce.dataTransfer.files;for(const dt of st){const It=await oe(dt);It&&((rt=S.current)==null||rt.insertText(It))}}},$=()=>{var Ce;ne(((Ce=S.current)==null?void 0:Ce.element.value)||"")},le=async(Ce,rt)=>{var It,Et,_t;const st=Ce.ctrlKey||Ce.metaKey,dt=Ce.altKey;if(Ce.key==="Escape"&&r.globalEditorShown&&(ft.setGlobalEditorShown(!1),Ce.preventDefault()),st&&Ce.key==="Enter"){Ce.preventDefault(),Ce.stopPropagation(),rt?(await he((Et=S.current)==null?void 0:Et.getContent()),(_t=S.current)==null||_t.clear()):await he((It=S.current)==null?void 0:It.element.value);return}if(dt)for(let Ut=0;Ut<i.EnabledLocationList.length;Ut++)Ce.key===(Ut+1).toString()&&re(i.EnabledLocationList[Ut].value);setTimeout(()=>{var Ut;rt||ne(((Ut=S.current)==null?void 0:Ut.element.value)||"")})},oe=F.useCallback(async Ce=>{const{type:rt}=Ce;if(rt.startsWith("image"))try{return`${await V1.upload(Ce)}`}catch(st){new C.Notice(st)}},[]),he=async Ce=>{if(!Ce||Ce.trim()===""){new C.Notice(E("Content cannot be empty"));return}const rt=vt.getState().settings,st=rt==null?void 0:rt.addTagAutomatically,dt=rt==null?void 0:rt.addTagWithNewline,It=rt==null?void 0:rt.addTagPosition,_t=(oO()||[]).filter(tn=>!Ce.includes(`#${tn}`)),Ut=async(tn,rn)=>{rn=rn.replaceAll("&nbsp;"," "),jy("");try{if(!tn){let Ln;switch(Q.current){case"CANVAS":Ln=await Re.createMemoCanvas({text:rn,isList:m.current});break;case"MULTI":Ln=await Re.createMemoMultiFile({content:rn,isList:m.current});break;case"DAILY":Ln=await Re.createMemoDaily(rn,m.current);break;case"FILE":Ln=await Re.createMemoSingleFile({content:rn,isList:m.current});break}if(!Ln)return;Re.pushMemo(Ln),(!st||_t.length===0)&&at.clearQuery();const lr=o||vt.getState().app,$r=lr==null?void 0:lr.loadLocalStorage("tokenForSync");Ln&&$r&&i.startSync&&setTimeout(async()=>{try{if(Q.current!=="DAILY"){const tr=await C1({content:rn,thinoType:"FILE"});await Re.updateMemoById(Ln.id,tr,!0)}}catch(tr){console.error(tr)}},200);return}const Xt=Re.getMemoById(tn);if(Xt&&(Xt.content!==rn||Xt.thinoType!==(m.current?"JOURNAL":"TASK-TODO"))){const Ln=await Re.updateMemo(Xt.id,rn,m.current?"JOURNAL":Xt.thinoType.startsWith("TASK")?Xt.thinoType:"TASK-TODO");Ln.updatedAt=lt.getDateTimeString(Date.now()),Re.editMemo(Ln)}ft.setEditMemoId("")}catch(Xt){new C.Notice(Xt.message)}},{editMemoId:vn}=ft.getState(),$t=_t&&_t.length>0&&st?It==="Beginning"?`${_t.map(tn=>`#${tn}`).join(" ")} ${dt?`
`:""}${Ce}`:`${Ce} ${dt?`
`:""}${_t.map(tn=>`#${tn}`).join(" ")}`:Ce;await Ut(vn,$t),n&&n(),jy("")},G=F.useCallback(()=>{var Ce;ft.setEditMemoId(""),(Ce=S.current)==null||Ce.setContent(""),jy("")},[]),ne=F.useCallback(Ce=>{if(jy(Ce??""),!S.current)return;const rt=S.current.getContent(),st=S.current.element.selectionStart,dt=rt.slice(0,st),It=rt.slice(st);(dt.endsWith("@")||dt.endsWith("📆"))&&It.startsWith(" ")||(dt.endsWith("@")||dt.endsWith("📆"))&&It===""?($e(),R(!0)):R(!1),setTimeout(()=>{var Et;(Et=S.current)==null||Et.focus()})},[i.EditorType]),pe=Ce=>{if(!S.current||!i)return;Ce&&(ce(),f(!1));const rt=S.current.getContent(),st=S.current.element.selectionStart,dt=rt.slice(0,st),It=rt.slice(st),Et=C.moment(Ce);if(dt.endsWith("@"))switch(i.InsertDateFormat){case"Dataview":S.current.element.value=rt.slice(0,S.current.element.selectionStart-1)+"[due::"+Et.format("YYYY-MM-DD")+"]"+It,S.current.element.setSelectionRange(st+17,st+17),S.current.focus(),ne(S.current.element.value);break;case"Tasks":S.current.element.value=rt.slice(0,S.current.element.selectionStart-1)+"📆"+Et.format("YYYY-MM-DD")+It,S.current.element.setSelectionRange(st+11,st+11),S.current.focus(),ne(S.current.element.value)}else{S.current.element.value=dt+Et.format("YYYY-MM-DD")+It,S.current.element.setSelectionRange(st+10,st+10),S.current.focus(),ne(S.current.element.value);return}},Ie=()=>{S.current&&f()},Oe=async()=>{var st;const Ce=!C.Platform.isDesktop&&await((st=window.Capacitor)==null?void 0:st.Plugins.Device.getId()),rt=C.Platform.isDesktop?await er():Ce.identifier||Ce.uuid;return!u||(u==null?void 0:u.appId)!==rt?(An(),!1):!0},Ye=async Ce=>{if(!await Oe())return;const rt=new C.Menu;i.EnabledLocationList.forEach(Et=>{rt.addItem(_t=>{var Ut;_t.setTitle(E(Et.value)).setIcon(((Ut=km.find(vn=>vn.title===Et.value))==null?void 0:Ut.icon)??"file").setChecked(Z===Et.value).onClick(()=>{re(Et.value)})})});let st=Ce.target,dt=null;for(;!st.hasClass("location-wrapper")&&(dt=st.parentElement,dt);)st=dt;const It=st.getBoundingClientRect();setTimeout(()=>{rt.showAtPosition({x:It.x,y:It.bottom,width:It.width,left:!1,overlap:!0})},200)},_e=F.useCallback(()=>{var Ce,rt;if(!(!S.current&&i.EditorType==="memos"))switch(i.EditorType){case"obsidian":(Ce=S.current)==null||Ce.focus(),(rt=S.current)==null||rt.insertTag();break;case"memos":{const st=S.current.getContent(),dt=S.current.element.selectionStart,It=st.slice(0,dt),Et=st.slice(dt);let _t=It+"# "+Et,Ut=It.length+1;It.endsWith("#")&&Et.startsWith(" ")&&(_t=It.slice(0,It.length-1)+Et.slice(1),Ut=It.length-1),S.current.element.value=_t,S.current.element.setSelectionRange(Ut,Ut),S.current.focus();const vn=new Event("input",{bubbles:!0,cancelable:!0});S.current.element.dispatchEvent(vn),ne(S.current.element.value)}}},[o]),$e=F.useCallback(()=>{if(!S.current||!B.current||!i||!o)return;const st=o.workspace.getLeavesOfType(Bo)[0].view.containerEl,dt=280,It=st.clientWidth,{x:Et,y:_t}=iO(S.current.element);let Ut,vn;C.Platform.isMobile?(window.innerWidth-Et>dt?Ut=(Et+dt+16>It,Et+18):window.innerWidth-Et<dt?Ut=(Et+dt+16>It,Et+34):Ut=S.current.element.clientWidth/2,i.DefaultEditorLocation==="Bottom"&&window.innerWidth>875?vn=_t+4:i.DefaultEditorLocation==="Bottom"&&window.innerWidth<=875?vn=_t+19:i.DefaultEditorLocation==="Top"&&window.innerWidth<=875&&(vn=_t+36)):(Ut=(Et+dt+16>It,Et+18),vn=_t+34),j(Et),B.current.style.left=`${Ut}px`,B.current.style.top=`${vn}px`},[i,o]),Ue=F.useCallback(()=>{const Ce=document.createElement("input");document.body.appendChild(Ce),Ce.type="file",Ce.multiple=!1,Ce.accept="image/png, image/gif, image/jpeg",Ce.onchange=async()=>{var dt;if(!Ce.files||Ce.files.length===0)return;const rt=Ce.files[0],st=await oe(rt);st&&((dt=S.current)==null||dt.insertText(st)),document.body.removeChild(Ce)},Ce.click()},[]),Ke=!!r.editMemoId,yt=F.useMemo(()=>({className:"memo-editor",inputerType:i.EditorType||"obsidian",initialContent:aO(),placeholder:E("What do you think now..."),showConfirmBtn:!0,showCancelBtn:Ke,showTools:!0,onConfirmBtnClick:he,onCancelBtnClick:G,onContentChange:ne}),[Ke,i.EditorType]);return y.jsxs(y.Fragment,{children:[!r.globalEditorShown&&t==="block"&&y.jsx("div",{ref:Ce=>{b.current=Ce,Ce&&C.setIcon&&C.setIcon(Ce,"plus-circle")},className:`memo-show-editor-button ${g?"hidden":""}`,onClick:()=>{var Ce;(Ce=b.current.firstElementChild)==null||Ce.toggleClass("rotate-hidden",!0),setTimeout(()=>{v(!0),b.current.firstElementChild.toggleClass("rotate-hidden",!1)},500),setTimeout(()=>{var rt;(rt=S.current)==null||rt.focus()},600)}}),y.jsxs("div",{className:`memo-editor-wrapper ${e||""} ${Ke?"edit-ing":""} ${r.globalEditorShown?"fullscreen-editor":""} ${g?"":"hidden"}`,onKeyDownCapture:Ce=>le(Ce,!0),children:[y.jsx("span",{className:`tip-text ${Ke?"":"hidden"}`,children:"Modifying..."}),y.jsx(Z5,{ref:S,...yt,tools:y.jsxs(y.Fragment,{children:[y.jsx("span",{ref:Ce=>{Ce&&C.setIcon(Ce,"hash")},className:"btn action-btn add-tag",onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!r.globalEditorShown&&_e()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||r.globalEditorShown)&&_e()}}),y.jsx("span",{ref:Ce=>{Ce&&C.setIcon(Ce,"paperclip")},className:"btn action-btn file-upload",onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!r.globalEditorShown&&Ue()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||r.globalEditorShown)&&Ue()}}),y.jsx("span",{ref:Ce=>{Ce&&C.setIcon(Ce,d?"layout-list":"check-square")},className:Gn("btn action-btn list-or-task",d?"list":"task"),onClick:()=>{i&&i.DefaultEditorLocation==="Top"&&!r.globalEditorShown&&Ie()},onPointerDown:()=>{(i&&i.DefaultEditorLocation==="Bottom"||r.globalEditorShown)&&Ie()}}),y.jsx("div",{ref:Ce=>{Ce&&(C.setIcon&&C.setIcon(Ce,r.globalEditorShown?"shrink":"expand"),C.setTooltip&&C.setTooltip(Ce,r.globalEditorShown?E("Exit fullscreen mode"):E("Enter fullscreen mode")))},className:"action-btn show-editor pro",onPointerDown:async()=>{await Oe()&&(v(!0),ft.setGlobalEditorShown(!r.globalEditorShown))}}),y.jsx("div",{className:"action-btn split-line pro"}),y.jsx("div",{className:"action-btn location-wrapper pro",onClick:async Ce=>{i&&i.DefaultEditorLocation==="Top"&&!r.globalEditorShown&&await Ye(Ce)},onPointerDown:async Ce=>{(i&&i.DefaultEditorLocation==="Bottom"||r.globalEditorShown)&&await Ye(Ce)},children:y.jsx("div",{ref:W,className:"action-btn file-location-btn"})})]})}),y.jsx("div",{ref:B,className:"date-picker",children:A&&y.jsx("div",{tabIndex:-1,style:z.styles.popper,...z.attributes.popper,ref:L,role:"dialog",children:y.jsx(d0,{className:`editor-date-picker ${A?"":"hidden"}`,datestamp:U,handleDateStampChange:pe})})})]})]})};function aO(){return Vr.get(["thinoEditorContentCache"]).thinoEditorContentCache??""}function jy(e){Vr.set({thinoEditorContentCache:e})}const sO=e=>{const t=[];return e.map(n=>{t.length==0?t.push({date:C.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]}):t.some(o=>{if(o.date==C.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"))return o.have.push(n),!0})||t.push({date:C.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]})}),t},lO=e=>Re.getState().commentMemos.filter(t=>t.linkId===e.hasId).sort((t,n)=>lt.getTimeStampByDate(t.createdAt)-lt.getTimeStampByDate(n.createdAt)).map(t=>({...t,createdAtStr:lt.getDateTimeString(t.createdAt),dateStr:lt.getDateString(t.createdAt)})),uO=e=>{const t=vt.getState().settings,n=d6(),r=t!=null&&t.ShowDate?"    ":"",o="YYYY/MM/DD HH:mm:ss",i=/comment:(.*)$/g,a=/^\d{14}/g,u=(g,v,b)=>{const S=C.moment(g.createdAt,o).format("HH:mm");return b?b.replace(/{TIME}/g,S).replace(/{CONTENT}/g,v):`${S} ${v}`},d=g=>{const v=g.match(/TASK-(.*)?/g);return v?v[1]:""},f=g=>g==="TASK-TODO"?"- [ ] ":g==="TASK-DONE"?"- [x] ":g.match(/TASK-(.*)?/g)?`- [${d(g)}] `:"- ",m=g=>g.reduce((v,b)=>{const S=b.sourceType!=="MULTI"?`${b.content}`:`[[${b.path}]]`,T=t!=null&&t.ShowTime?u(b,S,t==null?void 0:t.DefaultMemoComposition):S,I=`${f(b.thinoType)}${T}`;let k="";return t.CommentOnMemos&&b.hasId!==void 0&&b.hasId!==""&&(k=lO(b).reduce((R,j)=>{const B=f(j.thinoType),L=j.content.replace(i,"").replace(a,""),z=t!=null&&t.ShowDate?`${B}[[${C.moment(j.createdAt).format(n)}]] ${C.moment(j.createdAt).format("HH:mm")} ${L}`:`${B}${L}`;return R+r+"    "+z+`
`},"")),v+r+I.replace(/ \^\S{6}/g,"")+`
`+k},"");return e.reduce((g,v)=>{const b=t!=null&&t.ShowDate?`- [[${C.moment(v.date,"YYYY-MM-DD").format(n)}]]
`:"",S=m(v.have),T=t!=null&&t.ShowDate&&(t!=null&&t.AddBlankLineWhenDate)&&!(t!=null&&t.CommentOnMemos)?`
`:"";return g+b+S+T},"").replace(/<br>/g,`
    `)},cO=[{label:E("Today"),value:C.moment().format("YYYY-MM-DD")},{label:E("Yesterday"),value:C.moment().subtract(1,"days").format("YYYY-MM-DD")},{label:E("Last 7 days"),value:C.moment().subtract(7,"days").format("YYYY-MM-DD")},{label:E("Last 30 days"),value:C.moment().subtract(30,"days").format("YYYY-MM-DD")},{label:E("Last 90 days"),value:C.moment().subtract(90,"days").format("YYYY-MM-DD")},{label:E("Last 180 days"),value:C.moment().subtract(180,"days").format("YYYY-MM-DD")},{label:E("Last 365 days"),value:C.moment().subtract(365,"days").format("YYYY-MM-DD")}],mC=e=>{const{handleValueChange:t,setShownStatus:n}=e;return y.jsxs(y.Fragment,{children:[e.type==="icon"&&y.jsx("div",{className:"quick-date-btn-group",children:cO.map((r,o)=>y.jsx("div",{className:"btn action-btn quick-date-btn",onClick:()=>{t(r.value),n&&n(!1)},children:r.label},o))}),y.jsx(d0,{className:"calendar-date-picker",datestamp:(e==null?void 0:e.defaultValue)||C.moment().startOf("day").valueOf(),handleDateStampChange:(r,o)=>{t(e.type==="icon"?C.moment(r).format("YYYY-MM-DD"):r.toString()),n&&n(!1)}})]})},Ev=e=>{const{handleValueChange:t}=e,[n,r]=se.useState(!1),o=se.useRef(null),i=se.useRef(null),a=h0(i.current,o.current,{placement:"bottom-start"});return ug(o,()=>{r(!1)}),y.jsxs(y.Fragment,{children:[y.jsx("span",{ref:d=>{i.current=d,d&&e.type==="icon"&&C.setIcon(d,"calendar")},className:`btn calendar-btn ${e.type==="icon"?"icon-btn":"text-btn"}`,onClick:()=>{!C.Platform.isMobile&&r(!n),!C.Platform.isMobile&&(a!=null&&a.update)&&(a==null||a.update()),C.Platform.isMobile&&new gC(vt.getState().app,e.type,t).open()},children:e.type==="text"&&e.defaultValue?e.defaultText?e.defaultText:C.moment(e.defaultValue,"x").subtract(e.startOrEnd==="end"?1:0,"days").format("YYYY/MM/DD"):""}),y.jsx("div",{className:`menu-btns-popup ${n?"":"hidden"}`,ref:o,style:a.styles.popper,children:y.jsx(mC,{type:e.defaultText?"icon":e.type,handleValueChange:t,setShownStatus:r})})]})};class gC extends C.Modal{constructor(n,r,o){super(n);De(this,"root");De(this,"type");De(this,"handleValueChange");this.type=r,this.handleValueChange=o}onOpen(){const{contentEl:n}=this;this.root=ag(n),this.root.render(y.jsx(mC,{type:this.type,handleValueChange:this.handleValueChange.bind(this),setShownStatus:r=>{!r&&this.close()}}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const dO=(e,t)=>(e%t+t)%t;class fO{constructor(t,n,r){De(this,"owner");De(this,"values");De(this,"suggestions");De(this,"selectedItem");De(this,"containerEl");this.owner=t,this.containerEl=n,n.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),n.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),r.register([],"ArrowUp",o=>{if(!o.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),r.register([],"ArrowDown",o=>{if(!o.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),r.register([],"Enter",o=>{if(!o.isComposing)return this.useSelectedItem(o),!1})}onSuggestionClick(t,n){t.preventDefault();const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1),this.useSelectedItem(t)}onSuggestionMouseover(t,n){const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1)}setSuggestions(t){this.containerEl.empty();const n=[];t.forEach(r=>{const o=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(r,o),n.push(o)}),this.values=t,this.suggestions=n,this.setSelectedItem(0,!1)}useSelectedItem(t){const n=this.values[this.selectedItem];n&&this.owner.selectSuggestion(n,t)}setSelectedItem(t,n){const r=dO(t,this.suggestions.length),o=this.suggestions[this.selectedItem],i=this.suggestions[r];o==null||o.removeClass("is-selected"),i==null||i.addClass("is-selected"),this.selectedItem=r,n&&i.scrollIntoView(!1)}}class yC{constructor(t,n){De(this,"inputEl");De(this,"popper");De(this,"scope");De(this,"suggestEl");De(this,"suggest");De(this,"cb");this.inputEl=t,this.scope=new C.Scope,this.cb=n,this.suggestEl=createDiv("suggestion-container");const r=this.suggestEl.createDiv("suggestion");this.suggest=new fO(this,r,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("click",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",o=>{o.preventDefault()})}clearInput(){this.inputEl.value="",this.inputEl.trigger("blur"),this.inputEl.trigger("focus"),this.inputEl.trigger("input"),this.onInputChanged()}onInputChanged(){const t=this.inputEl.value,n=this.getSuggestions(t);if(!n){this.close();return}n.length>0?(this.suggest.setSuggestions(n),this.open(app.dom.appContainerEl,this.inputEl)):this.close()}open(t,n){app.keymap.pushScope(this.scope),t.appendChild(this.suggestEl),this.popper=pC(n,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:r,instance:o})=>{const i=`${r.rects.reference.width}px`;r.styles.popper.width!==i&&(r.styles.popper.width=i,o.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}destroy(){this.inputEl.removeEventListener("input",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("blur",this.close.bind(this)),this.close()}updateCb(t){this.cb=t}}const hO=e=>{const t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())};let tS=class extends yC{fuzzySearchItemsOptimized(t,n){const r=C.prepareFuzzySearch(t);return n.map(o=>{const i=r(o);return i?{item:o,match:i,score:i.score}:null}).sort((o,i)=>(i==null?void 0:i.score)-(o==null?void 0:o.score)).filter(Boolean)}getSuggestions(t){const{settings:n,app:r}=vt.getState(),o=t.toLocaleLowerCase(),i=n.UseVaultTags?hO(r):Re.getState().tags;return this.fuzzySearchItemsOptimized(o,i).map(a=>a.item)}renderSuggestion(t,n){n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:t})}selectSuggestion(t){this.inputEl.value=t,this.inputEl.dispatchEvent(new Event("change")),this.cb&&this.cb(t),this.close()}};const pO=e=>{const t=new Set;return e.forEach(n=>{const r=new RegExp(yr).exec(n.content),o=new RegExp(Or).exec(n.content);if(r)for(let i=1;i<r.length;i++)t.add(r[i]);if(o)for(let i=1;i<o.length;i++)t.add(o[i])}),Array.from(t)};class mO extends C.Modal{constructor(n,r){super(n);De(this,"root");De(this,"cb");De(this,"tags",[]);this.cb=r}onOpen(){super.onOpen(),this.containerEl.toggleClass(["thino-bulk-action-dialog","tag-actions"],!0),this.root=Pa.createRoot(this.contentEl),this.root.render(y.jsx(Ra,{store:Le,context:Ot,children:y.jsx(gO,{closeDialog:this.closeDialog.bind(this)})}))}closeDialog(n){this.tags=n,this.close()}onClose(){var n;this.cb(this.tags),super.onClose(),(n=this.root)==null||n.unmount()}}const gO=({closeDialog:e})=>{const[t,n]=se.useState([]),r=se.useRef(null),o=se.useRef(null);F.useEffect(()=>{if(o.current){if(r.current){r.current.updateCb(i);return}r.current=new tS(o.current,i)}},[o.current,t]);const i=u=>{if(!u)return;const d=new Set(t);d.add(u),n(Array.from(d)),r.current.clearInput()},a=()=>{e(t)};return y.jsxs("div",{className:"thino-tag-operation",children:[y.jsx("div",{className:"tag-operation-title",children:E("Tag Bulk Select")}),y.jsxs("div",{className:"tag-operation-content",children:[y.jsxs("div",{className:"tag-operation-content-title selected-tags",children:[y.jsx("div",{className:"name",children:E("Selected Tags")}),y.jsx("div",{className:"desc",children:E("Click to remove selected tag")})]}),y.jsx("div",{className:"tag-operation-content-tags selected-tags",children:t.map(u=>y.jsx("div",{className:"tag-operation-content-tag",onClick:()=>{n(t.filter(d=>d!==u))},children:u},u))}),y.jsx("div",{className:"tag-operation-content-inputer",children:y.jsx("input",{placeholder:E("Input to select exist tag"),ref:o,onKeyDown:u=>{u.key==="Enter"&&i(o.current.value)}})}),y.jsxs("div",{className:"tag-operation-content-btn-group",children:[y.jsx("button",{className:"cancel-btn",onClick:()=>{e([])},children:E("Cancel")}),y.jsx("button",{className:"save-btn",onClick:a,children:E("Save")})]})]})]})},yO=({app:e,thinos:t,closeDialog:n})=>{const[r,o]=se.useState([]),[i,a]=se.useState([]),[u,d]=se.useState([]),f=se.useRef(null),m=se.useRef(null),g=se.useRef(null),v=se.useRef("End"),b=se.useRef(!1),S=se.useRef(null);F.useEffect(()=>{t&&t.length&&o(pO(t))},[t]),F.useEffect(()=>{!g.current||!m.current||(new C.Setting(m.current).setName(E("Add tag position")).addDropdown(A=>{A.addOption("End",E("End")),A.addOption("Beginning",E("Beginning")),A.setValue("End").onChange(async R=>{v.current=R})}),new C.Setting(g.current).setName(E("Add tag with new line")).addToggle(A=>{A.setValue(!1).onChange(async R=>{b.current=R})}))},[]);const T=A=>{if(!A)return;const R=new Set(i);R.add(A),a(Array.from(R)),f.current.clearInput()};F.useEffect(()=>{if(S.current){if(f.current){f.current.updateCb(T);return}f.current=new tS(S.current,T)}},[S.current,i]);const I=()=>{n(),k({remove:u,add:i,targetThinos:t})},k=async({remove:A,add:R,targetThinos:j})=>{const B=b.current||!1,L=[];for(const z of j){let U=z.content;for(const W of A)U=U.replace(new RegExp(`#${W}`,"g"),"");if(U=U.trim(),R.length>0&&(U=v.current==="Beginning"?`${R.map(W=>`#${W}`).join(" ")} ${B?`
`:""}${U}`:`${U} ${B?`
`:""}${R.map(W=>`#${W}`).join(" ")}`),z&&z.content!==U){const W=await Re.updateMemo(z.id,U==null?void 0:U.trim());L.push(W)}}L.length>0&&Re.editMemoBulk(L),L.length>0&&at.clearQuery()};return y.jsxs("div",{className:"thino-tag-operation",children:[y.jsx("div",{className:"tag-operation-title",children:E("Tag Bulk Edit")}),y.jsxs("div",{className:"tag-operation-content",children:[r.length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"tag-operation-content-title exist-tags",children:[y.jsx("div",{className:"name",children:E("Exist Tags")}),y.jsx("div",{className:"desc",children:E("Click to remove exist tag")})]}),y.jsx("div",{className:"tag-operation-content-tags exist-tags",children:r.map(A=>y.jsx("div",{className:Gn("tag-operation-content-tag",u.includes(A)&&"tag-operation-content-tag-removed"),onClick:()=>{u.includes(A)||d([...u,A]),u.includes(A)&&d(u.filter(R=>R!==A)),i.includes(A)&&a(i.filter(R=>R!==A))},children:A},A))})]}),y.jsxs("div",{className:"tag-operation-content-title selected-tags",children:[y.jsx("div",{className:"name",children:E("Selected Tags")}),y.jsx("div",{className:"desc",children:E("Click to remove selected tag")})]}),y.jsx("div",{className:"tag-operation-content-tags selected-tags",children:i.map(A=>y.jsx("div",{className:"tag-operation-content-tag",onClick:()=>{a(i.filter(R=>R!==A))},children:A},A))}),y.jsx("div",{className:"tag-operation-content-inputer",children:y.jsx("input",{placeholder:E("Input to select exist tag"),ref:S,onKeyDown:A=>{A.key==="Enter"&&T(S.current.value)}})}),y.jsxs("div",{className:"tag-operation-settings",children:[y.jsx("div",{ref:m}),y.jsx("div",{ref:g})]}),y.jsxs("div",{className:"tag-operation-content-btn-group",children:[y.jsx("button",{className:"cancel-btn",onClick:n,children:E("Cancel")}),y.jsx("button",{className:"save-btn",onClick:I,children:E("Save")})]})]})]})},$b=new Map,Dd=async(e,t=!0)=>{const{vault:n,metadataCache:r}=vt.getState().app;if(t&&$b.has(e))return Promise.resolve($b.get(e));if(e.contains("data:image"))return e;let o;const i=await n.adapter.exists(C.normalizePath(e));let a="";try{if(!i&&!/(http|https)/g.test(e)&&!e.includes("data:image")){let u;if(e.startsWith("app://")){const d=C.normalizePath(decodeURIComponent(e).replace(C.Platform.resourcePathPrefix,"").replace(/\?(.*)$/,"").replace(C.normalizePath(app==null?void 0:app.vault.adapter.basePath),""));a=C.normalizePath(decodeURIComponent(d))}else{if(u=r.getFirstLinkpathDest(e,""),!u){new C.Notice(E("File not exist"));return}a=u.path}}else a=e}catch(u){console.error(u)}if(a){if(/(http|https)/g.test(a))if(a.startsWith("http://localhost")){let u=a;u=u.replace("http://localhost/_capacitor_file_",""),u=decodeURIComponent(u).replace(/\?(.*)$/,"").replace(app==null?void 0:app.vault.adapter.basePath,""),u=C.normalizePath(decodeURIComponent(u));const d=await n.adapter.readBinary(u),f=new Uint8Array(d);o=new Blob([f],{type:"image/png"})}else try{const u=await C.requestUrl(e),d=new Uint8Array(u.arrayBuffer);o=new Blob([d],{type:"image/png"})}catch{}else if(a){const u=await n.adapter.readBinary(a),d=new Uint8Array(u);o=new Blob([d],{type:"image/png"})}return o?await vO(o,e):""}},vO=(e,t)=>new Promise(n=>{const r=new FileReader;r.onloadend=()=>{const o=r.result;$b.set(t,o),n(o)},r.readAsDataURL(e)}),gm=async e=>{if(!e.style.backgroundImage.includes("url(")&&!e.style.backgroundImage.includes("http"))return;let t=e.style.backgroundImage.includes("url(")?e.style.backgroundImage.slice(5,-2):e.style.backgroundImage;return t?(t.startsWith("http://localhost")&&(t=t.replace("http://localhost/_capacitor_file_",""),t=decodeURIComponent(t).replace(/\?(.*)$/,"").replace(app==null?void 0:app.vault.adapter.basePath,""),t=C.normalizePath(decodeURIComponent(t))),await Dd(t)):void 0},wO=async e=>{var n;return e.getAttribute("src")?(n=e==null?void 0:e.src)!=null&&n.startsWith("http://localhost")?await Dd(e.getAttribute("path")||C.normalizePath(e==null?void 0:e.parentElement.getAttribute("src"))):await Dd(e.getAttribute("src")):void 0},Vt=kO(),Cv=NO(),vC=AO(),wC=FO(),ld={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,httpTimeout:3e4,styleCaching:"strict",corsImg:void 0},cn={toSvg:bC,toPng:DO,toJpeg:TO,toBlob:IO,toPixelData:SO,toCanvas:xO,impl:{fontFaces:vC,images:wC,util:Vt,inliner:Cv,urlCache:[],options:{}}},nS=(typeof Node<"u"?Node.ELEMENT_NODE:void 0)||1,sv=(typeof global<"u"?global.getComputedStyle:void 0)||(typeof window<"u"?window.getComputedStyle:void 0)||globalThis.getComputedStyle,bO=(typeof global<"u"?global.atob:void 0)||(typeof window<"u"?window.atob:void 0)||globalThis.atob;function bC(e,t){cn.impl.util.getWindow(e),t=t||{},EO(t);let n=[];return Promise.resolve(e).then(r).then(function(d){return SC(d,t,null)}).then(CO).then(MO).then(a).then(u).then(o).then(i);function r(d){if(d.nodeType===nS)return d;const f=d,m=d.parentNode,g=document.createElement("span");return m.replaceChild(g,f),g.append(d),n.push({parent:m,child:f,wrapper:g}),g}function o(d){for(;n.length>0;){const f=n.pop();f.parent.replaceChild(f.child,f.wrapper)}return d}function i(d){return cn.impl.urlCache=[],_O(),d}function a(d){t.bgcolor&&(d.style.backgroundColor=t.bgcolor),t.width&&(d.style.width=`${t.width}px`),t.height&&(d.style.height=`${t.height}px`),t.style&&Object.keys(t.style).forEach(function(m){d.style[m]=t.style[m]});let f=null;return typeof t.onclone=="function"&&(f=t.onclone(d)),Promise.resolve(f).then(function(){return d})}function u(d){let f=t.width||Vt.width(d),m=t.height||Vt.height(d);return Promise.resolve(d).then(function(g){return g.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(g)}).then(Vt.escapeXhtml).then(function(g){const v=(Vt.isDimensionMissing(f)?' width="100%"':` width="${f}"`)+(Vt.isDimensionMissing(m)?' height="100%"':` height="${m}"`);return`<svg xmlns="http://www.w3.org/2000/svg"${(Vt.isDimensionMissing(f)?"":` width="${f}"`)+(Vt.isDimensionMissing(m)?"":` height="${m}"`)}><foreignObject${v}>${g}</foreignObject></svg>`}).then(function(g){return`data:image/svg+xml;charset=utf-8,${g}`})}}function SO(e,t){return fg(e,t).then(function(n){return n.getContext("2d").getImageData(0,0,Vt.width(e),Vt.height(e)).data})}function DO(e,t){return fg(e,t).then(function(n){return n.toDataURL()})}function TO(e,t){return fg(e,t).then(function(n){return n.toDataURL("image/jpeg",(t?t.quality:void 0)||1)})}function IO(e,t){return fg(e,t).then(Vt.canvasToBlob)}function xO(e,t){return fg(e,t)}function EO(e){typeof e.copyDefaultStyles>"u"?cn.impl.options.copyDefaultStyles=ld.copyDefaultStyles:cn.impl.options.copyDefaultStyles=e.copyDefaultStyles,typeof e.imagePlaceholder>"u"?cn.impl.options.imagePlaceholder=ld.imagePlaceholder:cn.impl.options.imagePlaceholder=e.imagePlaceholder,typeof e.cacheBust>"u"?cn.impl.options.cacheBust=ld.cacheBust:cn.impl.options.cacheBust=e.cacheBust,typeof e.corsImg>"u"?cn.impl.options.corsImg=ld.corsImg:cn.impl.options.corsImg=e.corsImg,typeof e.useCredentials>"u"?cn.impl.options.useCredentials=ld.useCredentials:cn.impl.options.useCredentials=e.useCredentials,typeof e.httpTimeout>"u"?cn.impl.options.httpTimeout=ld.httpTimeout:cn.impl.options.httpTimeout=e.httpTimeout,typeof e.styleCaching>"u"?cn.impl.options.styleCaching=ld.styleCaching:cn.impl.options.styleCaching=e.styleCaching,cn.impl.options.requestUrl=e.requestUrl,cn.impl.options.type=e.type||"image/png"}function fg(e,t){return t=t||{},bC(e,t).then(Vt.makeImage).then(function(r){const o=typeof t.scale!="number"?1:t.scale,i=n(e,o),a=i.getContext("2d");return a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,r&&(a.scale(o,o),a.drawImage(r,0,0)),i});function n(r,o){let i=t.width||Vt.width(r),a=t.height||Vt.height(r);Vt.isDimensionMissing(i)&&(i=Vt.isDimensionMissing(a)?300:a*2),Vt.isDimensionMissing(a)&&(a=i/2);const u=document.createElement("canvas");if(u.width=i*o,u.height=a*o,t.bgcolor){const d=u.getContext("2d");d.fillStyle=t.bgcolor,d.fillRect(0,0,u.width,u.height)}return u}}let ra=null;function SC(e,t,n,r){const o=t.filter;if(e===ra||Vt.isHTMLScriptElement(e)||Vt.isHTMLStyleElement(e)||Vt.isHTMLLinkElement(e)||n!==null&&o&&!o(e))return Promise.resolve();return Promise.resolve(e).then(i).then(function(f){return u(f,a(e))}).then(function(f){return d(f,e)});function i(f){return Vt.isHTMLCanvasElement(f)?Vt.makeImage(f.toDataURL()):f.cloneNode(!1)}function a(f){return Vt.isElementHostForOpenShadowRoot(f)?f.shadowRoot:f}function u(f,m){const g=S(m);let v=Promise.resolve();if(g.length!==0){const T=sv(b(m));Vt.asArray(g).forEach(function(I){v=v.then(function(){return SC(I,t,T).then(function(k){k&&f.appendChild(k)})})})}return v.then(function(){return f});function b(T){return Vt.isShadowRoot(T)?T.host:T}function S(T){return Vt.isShadowSlotElement(T)?T.assignedNodes():T.childNodes}}function d(f,m){if(!Vt.isElement(f)||Vt.isShadowSlotElement(m))return Promise.resolve(f);return Promise.resolve().then(g).then(v).then(b).then(S).then(function(){return f});function g(){I(m,f);function T(k,A){A.font=k.font,A.fontFamily=k.fontFamily,A.fontFeatureSettings=k.fontFeatureSettings,A.fontKerning=k.fontKerning,A.fontSize=k.fontSize,A.fontStretch=k.fontStretch,A.fontStyle=k.fontStyle,A.fontVariant=k.fontVariant,A.fontVariantCaps=k.fontVariantCaps,A.fontVariantEastAsian=k.fontVariantEastAsian,A.fontVariantLigatures=k.fontVariantLigatures,A.fontVariantNumeric=k.fontVariantNumeric,A.fontVariationSettings=k.fontVariationSettings,A.fontWeight=k.fontWeight}function I(k,A){const R=sv(k);R.cssText?(A.style.cssText=R.cssText,T(R,A.style)):(OO(t,k,R,n,A),n===null&&(["inset-block","inset-block-start","inset-block-end"].forEach(j=>A.style.removeProperty(j)),["left","right","top","bottom"].forEach(j=>{A.style.getPropertyValue(j)&&A.style.setProperty(j,"0px")})))}}function v(){const T=Vt.uid();[":before",":after"].forEach(function(k){I(k)});function I(k){const A=sv(m,k),R=A.getPropertyValue("content");if(R===""||R==="none")return;const j=f.getAttribute("class")||"";f.setAttribute("class",`${j} ${T}`);const B=document.createElement("style");B.appendChild(L()),f.appendChild(B);function L(){const z=`.${T}:${k}`,U=A.cssText?W():Z();return document.createTextNode(`${z}{${U}}`);function W(){return`${A.cssText} content: ${R};`}function Z(){return`${Vt.asArray(A).map(Q).join("; ")};`;function Q(ce){const ee=A.getPropertyValue(ce),fe=A.getPropertyPriority(ce)?" !important":"";return`${ce}: ${ee}${fe}`}}}}}function b(){Vt.isHTMLTextAreaElement(m)&&(f.innerHTML=m.value),Vt.isHTMLInputElement(m)&&f.setAttribute("value",m.value)}function S(){Vt.isSVGElement(f)&&(f.setAttribute("xmlns","http://www.w3.org/2000/svg"),Vt.isSVGRectElement(f)&&["width","height"].forEach(function(T){const I=f.getAttribute(T);I&&f.style.setProperty(T,I)}))}}}function CO(e){return vC.resolveAll().then(function(t){if(t!==""){const n=document.createElement("style");e.appendChild(n),n.appendChild(document.createTextNode(t))}return e})}function MO(e){return wC.inlineAll(e).then(function(){return e})}function kO(){let e=0;return{escape:W,isDataUrl:k,canvasToBlob:j,resolveUrl:B,getAndEncode:U,uid:L,delay:Z,asArray:re,escapeXhtml:Q,makeImage:z,width:ce,height:ee,getWindow:t,isElement:i,isElementHostForOpenShadowRoot:n,isShadowRoot:r,isInShadowRoot:o,isHTMLElement:u,isHTMLCanvasElement:a,isHTMLInputElement:f,isHTMLImageElement:d,isHTMLLinkElement:m,isHTMLScriptElement:g,isHTMLStyleElement:v,isHTMLTextAreaElement:b,isShadowSlotElement:S,isSVGElement:T,isSVGRectElement:I,isDimensionMissing:A};function t($){const le=$?$.ownerDocument:void 0;return(le?le.defaultView:void 0)||global||window}function n($){return i($)&&$.shadowRoot!==null}function r($){return $ instanceof t($).ShadowRoot}function o($){return $!==null&&Object.prototype.hasOwnProperty.call($,"getRootNode")&&r($.getRootNode())}function i($){return $ instanceof t($).Element}function a($){return $ instanceof t($).HTMLCanvasElement}function u($){return $ instanceof t($).HTMLElement}function d($){return $ instanceof t($).HTMLImageElement}function f($){return $ instanceof t($).HTMLInputElement}function m($){return $ instanceof t($).HTMLLinkElement}function g($){return $ instanceof t($).HTMLScriptElement}function v($){return $ instanceof t($).HTMLStyleElement}function b($){return $ instanceof t($).HTMLTextAreaElement}function S($){return o($)&&$ instanceof t($).HTMLSlotElement}function T($){return $ instanceof t($).SVGElement}function I($){return $ instanceof t($).SVGRectElement}function k($){return $.search(/^(data:)/)!==-1}function A($){return isNaN($)||$<=0}function R($){return new Promise(function(le){const oe=bO($.toDataURL().split(",")[1]),he=oe.length,G=new Uint8Array(he);for(let ne=0;ne<he;ne++)G[ne]=oe.charCodeAt(ne);le(new Blob([G],{type:cn.impl.options.type}))})}function j($){return $.toBlob?new Promise(function(le){$.toBlob(le)}):R($)}function B($,le){const oe=document.implementation.createHTMLDocument(),he=oe.createElement("base");oe.head.appendChild(he);const G=oe.createElement("a");return oe.body.appendChild(G),he.href=le,G.href=$,G.href}function L(){return`u${$()}${e++}`;function $(){return`0000${(Math.random()*Math.pow(36,4)<<0).toString(36)}`.slice(-4)}}function z($){return $==="data:,"?Promise.resolve():new Promise(function(le,oe){const he=new Image;cn.impl.options.useCredentials&&(he.crossOrigin="use-credentials"),he.onload=function(){window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){le(he)}):le(he)},he.onerror=oe,he.src=$})}function U($){let le=cn.impl.urlCache.find(function(oe){return oe.url===$});return le||(le={url:$,promise:null},cn.impl.urlCache.push(le)),le.promise===null&&(cn.impl.options.cacheBust&&($+=(/\?/.test($)?"&":"?")+new Date().getTime()),cn.impl.options.requestUrl&&/^http/.test($)?le.promise=cn.impl.options.requestUrl({url:$,method:"GET"}).then(oe=>new Promise(he=>{const G=new FileReader;G.onload=function(ne){he(ne.target.result)},G.readAsDataURL(new Blob([oe.arrayBuffer],{type:oe.headers["content-type"]}))})).catch(oe=>(console.error("cannot fetch resource: "+$+", error: "+oe),"")):le.promise=new Promise(function(oe){const he=cn.impl.options.httpTimeout,G=new XMLHttpRequest;if(G.onreadystatechange=pe,G.ontimeout=Ie,G.responseType="blob",G.timeout=he,cn.impl.options.useCredentials&&(G.withCredentials=!0),cn.impl.options.corsImg&&$.indexOf("http")===0&&$.indexOf(window.location.origin)===-1){const _e=(cn.impl.options.corsImg.method||"GET").toUpperCase()==="POST"?"POST":"GET";G.open(_e,(cn.impl.options.corsImg.url||"").replace("#{cors}",$),!0);let $e=!1;const Ue=cn.impl.options.corsImg.headers||{};Object.keys(Ue).forEach(function(yt){Ue[yt].indexOf("application/json")!==-1&&($e=!0),G.setRequestHeader(yt,Ue[yt])});const Ke=Oe(cn.impl.options.corsImg.data||"");Object.keys(Ke).forEach(function(yt){typeof Ke[yt]=="string"&&(Ke[yt]=Ke[yt].replace("#{cors}",$))}),G.send($e?JSON.stringify(Ke):Ke)}else G.open("GET",$,!0),G.send();let ne;if(cn.impl.options.imagePlaceholder){const _e=cn.impl.options.imagePlaceholder.split(/,/);_e&&_e[1]&&(ne=_e[1])}function pe(){if(G.readyState!==4)return;if(G.status>=300){ne?oe(ne):Ye(`cannot fetch resource: ${$}, status: ${G.status}`);return}const _e=new FileReader;_e.onloadend=function(){oe(_e.result)},_e.readAsDataURL(G.response)}function Ie(){ne?oe(ne):Ye(`timeout of ${he}ms occured while fetching resource: ${$}`)}function Oe(_e){try{return JSON.parse(JSON.stringify(_e))}catch{Ye("corsImg.data is missing or invalid");return}}function Ye(_e){console.error(_e),oe("")}})),le.promise}function W($){return $.replace(/([.*+?^${}()|[]\/\\])/g,"\\$1")}function Z($){return function(le){return new Promise(function(oe){setTimeout(function(){oe(le)},$)})}}function re($){const le=[],oe=$.length;for(let he=0;he<oe;he++)le.push($[he]);return le}function Q($){return $.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")}function ce($){const le=fe($,"width");if(!isNaN(le))return le;const oe=fe($,"border-left-width"),he=fe($,"border-right-width");return $.scrollWidth+oe+he}function ee($){const le=fe($,"height");if(!isNaN(le))return le;const oe=fe($,"border-top-width"),he=fe($,"border-bottom-width");return $.scrollHeight+oe+he}function fe($,le){if($.nodeType===nS){let oe=sv($).getPropertyValue(le);if(oe.slice(-2)==="px")return oe=oe.slice(0,-2),parseFloat(oe)}return NaN}}function NO(){const e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:o,shouldProcess:t,impl:{readUrls:n,inline:r}};function t(i){return i.search(e)!==-1}function n(i){const a=[];let u;for(;(u=e.exec(i))!==null;)a.push(u[1]);return a.filter(function(d){return!Vt.isDataUrl(d)})}function r(i,a,u,d){return Promise.resolve(a).then(function(m){return u?Vt.resolveUrl(m,u):m}).then(d||Vt.getAndEncode).then(function(m){return i.replace(f(a),`$1${m}$3`)});function f(m){return new RegExp(`(url\\(['"]?)(${Vt.escape(m)})(['"]?\\))`,"g")}}function o(i,a,u){if(d())return Promise.resolve(i);return Promise.resolve(i).then(n).then(function(f){let m=Promise.resolve(i);return f.forEach(function(g){m=m.then(function(v){return r(v,g,a,u)})}),m});function d(){return!t(i)}}}function AO(){return{resolveAll:e,impl:{readAll:t}};function e(){return t().then(function(n){return Promise.all(n.map(function(r){return r.resolve()}))}).then(function(n){return n.join(`
`)})}function t(){return Promise.resolve(Vt.asArray(document.styleSheets)).then(r).then(n).then(function(i){return i.map(o)});function n(i){return i.filter(function(a){return a.type===CSSRule.FONT_FACE_RULE}).filter(function(a){return Cv.shouldProcess(a.style.getPropertyValue("src"))})}function r(i){const a=[];return i.forEach(function(u){if(Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(u),"cssRules"))try{Vt.asArray(u.cssRules||[]).forEach(a.push.bind(a))}catch(d){console.error(`domtoimage: Error while reading CSS rules from ${u.href}`,d.toString())}}),a}function o(i){return{resolve:function(){const u=(i.parentStyleSheet||{}).href;return Cv.inlineAll(i.cssText,u)},src:function(){return i.style.getPropertyValue("src")}}}}}function FO(){return{inlineAll:t,impl:{newImage:e}};function e(n){return{inline:r};function r(o){return Vt.isDataUrl(n.src)?Promise.resolve():Promise.resolve(n.src).then(o||Vt.getAndEncode).then(function(i){return new Promise(function(a){n.onload=a,n.onerror=a,n.src=i})})}}function t(n){if(!Vt.isElement(n))return Promise.resolve(n);return r(n).then(function(){return Vt.isHTMLImageElement(n)?e(n).inline():Promise.all(Vt.asArray(n.childNodes).map(function(o){return t(o)}))});function r(o){const a=["background","background-image"].map(function(u){const d=o.style.getPropertyValue(u),f=o.style.getPropertyPriority(u);return d?Cv.inlineAll(d).then(function(m){o.style.setProperty(u,m,f)}):Promise.resolve()});return Promise.all(a).then(function(){return o})}}}function PO(e,t,n,r){const o=["background-clip"].indexOf(t)>=0;r?(e.setProperty(t,n,r),o&&e.setProperty(`-webkit-${t}`,n,r)):(e.setProperty(t,n),o&&e.setProperty(`-webkit-${t}`,n))}function OO(e,t,n,r,o){const i=cn.impl.options.copyDefaultStyles?LO(e,t):{},a=o.style;Vt.asArray(n).forEach(function(u){const d=n.getPropertyValue(u),f=i[u],m=r?r.getPropertyValue(u):void 0;if(d!==f||r&&d!==m){const g=n.getPropertyPriority(u);PO(a,u,d,g)}})}let Ly=null,lv={};const jO=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"];function LO(e,t){const n=u(t),r=d(n);if(lv[r])return lv[r];const o=RO(),i=f(o.document,n),a=m(o,i);return g(i),lv[r]=a,a;function u(v){const b=[];do{if(v.nodeType===nS){const S=v.tagName;if(b.push(S),jO.includes(S))break}v=v.parentNode}while(v);return b}function d(v){return e.styleCaching==="relaxed"?v.filter((b,S,T)=>S===0||S===T.length-1).join(">"):v.join(">")}function f(v,b){let S=v.body;do{const T=b.pop(),I=v.createElement(T);S.appendChild(I),S=I}while(b.length>0);return S.textContent="​",S}function m(v,b){const S={},T=v.getComputedStyle(b);return Vt.asArray(T).forEach(function(I){S[I]=I==="width"||I==="height"?"auto":T.getPropertyValue(I)}),S}function g(v){do{const b=v.parentElement;b!==null&&b.removeChild(v),v=b}while(v&&v.tagName!=="BODY")}}function RO(){if(ra)return ra.contentWindow;const e=document.characterSet||"UTF-8",t=document.doctype,n=t?`<!DOCTYPE ${r(t.name)} ${r(t.publicId)} ${r(t.systemId)}`.trim()+">":"";return ra=document.createElement("iframe"),ra.id="domtoimage-sandbox-"+Vt.uid(),ra.className="domtoimage-thino",ra.style.visibility="hidden",ra.style.position="fixed",document.body.appendChild(ra),o(ra,n,e,"domtoimage-sandbox");function r(i){if(i){const a=document.createElement("div");return a.innerText=i,a.innerHTML}else return""}function o(i,a,u,d){try{return i.contentWindow.document.write(`${a}<html><head><meta charset='${u}'><title>${d}</title></head><body></body></html>`),i.contentWindow}catch{}const f=document.createElement("meta");f.setAttribute("charset",u);try{const m=document.implementation.createHTMLDocument(d);m.head.appendChild(f);const g=a+m.documentElement.outerHTML;return i.setAttribute("srcdoc",g),i.contentWindow}catch{}return i.contentDocument.head.appendChild(f),i.contentDocument.title=d,i.contentWindow}}function _O(){ra&&(document.body.removeChild(ra),ra=null),Ly&&clearTimeout(Ly),Ly=setTimeout(()=>{Ly=null,lv={}},20*1e3)}async function BO(e,t,n){return await cn.toCanvas(e,{width:e.clientWidth,height:e.clientHeight,quality:1,scale:t?2:1,requestUrl:C.requestUrl,type:n})}const p0=async(e,t)=>(await BO(e,!0,"image/jpeg")).toDataURL(),x2=async e=>{e.startsWith("http")&&(e=await Dd(e));const t=e.split("base64,")[1],n=t0(t,"image/png");await DC(n),new C.Notice(E("Send to clipboard successfully"))},HO=async(e,t)=>{const n=await e.vault.adapter.exists(t);let r="";if(n)r=t;else{const u=e.metadataCache.getFirstLinkpathDest(t,"");if(!u){new C.Notice(E("File not exist"));return}r=u.path}const o=await e.vault.adapter.readBinary(r),i=new Uint8Array(o),a=new Blob([i],{type:"image/png"});await DC(a)},DC=async e=>{const t=new ClipboardItem({"image/png":e});await window.navigator.clipboard.write([t])},E2=1.1,C2=300,M2=20,YO=({destroy:e,imgUrl:t,filepath:n,otherIMGEls:r,currentIndex:o})=>{const i=F.useRef(null),[a,u]=F.useState(-1),d=Le.getState().dailyNotesState.app,[f,m]=F.useState(o),[g,v]=F.useState(t),b={close:F.useRef(null),previous:F.useRef(null),next:F.useRef(null),decrease:F.useRef(null),increase:F.useRef(null),zoom:F.useRef(null),copy:F.useRef(null)};F.useEffect(()=>{!n&&!t||(C.setIcon(b.close.current,"x"),b.previous.current&&C.setIcon(b.previous.current,"arrow-left"),b.next.current&&C.setIcon(b.next.current,"arrow-right"),C.setIcon(b.decrease.current,"zoom-out"),C.setIcon(b.increase.current,"zoom-in"),C.setIcon(b.zoom.current,"circle"),C.setIcon(b.copy.current,"clipboard"))},[b]),F.useEffect(()=>{lt.getImageSize(g).then(({width:L})=>{u(L!==0?40:0)})},[g]);const S=()=>{let L=f-1;L<0&&(L=r.length-1),m(L),v(r[L].src)},T=()=>{let L=f+1;L>=r.length&&(L=0),m(L),v(r[L].src)},I=()=>{e()},k=()=>{a>30&&u(a-10)},A=()=>{u(a+10)},R=L=>{L.target!==i.current&&L.target===i.current.parentElement&&I()},j=L=>{if(L.ctrlKey){L.preventDefault();const z=i.current,U=L.nativeEvent.offsetX,W=L.nativeEvent.offsetY,Z=U/z.clientWidth,re=W/z.clientHeight;let Q;L.deltaY>0?Q=a/E2:Q=a*E2,Q>C2?Q=C2:Q<M2&&(Q=M2);const ce=a;u(Q);const ee=L.currentTarget;ee.scrollLeft+=(Q-ce)*Z,ee.scrollTop+=(Q-ce)*re}else L.deltaX!==0&&(L.currentTarget.scrollLeft+=L.deltaX)},B=async()=>{if(g&&!n)await x2(t);else if(n){const z=r[f].parentElement.getAttribute("src");if(!z){await x2(g);return}await HO(d,z)}};return y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:b.close,className:"btn close-btn",onClick:I}),y.jsxs("div",{className:"img-container internal-embed image-embed is-loaded",onClick:R,onWheel:j,children:[y.jsx("img",{className:a<=0?"hidden":"",ref:i,height:a+"%",src:g}),y.jsx("span",{className:"loading-text "+(a===-1?"":"hidden"),children:E("Image is loading...")}),y.jsx("span",{className:"loading-text "+(a===0?"":"hidden"),children:E("😟 Cannot load image, image link maybe broken")})]}),y.jsxs("div",{className:"action-btns-container",children:[r&&(r==null?void 0:r.length)>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:b.previous,className:"btn",onClick:S}),y.jsx("button",{ref:b.next,className:"btn",onClick:T})]}),y.jsx("button",{ref:b.decrease,className:"btn",onClick:k}),y.jsx("button",{ref:b.increase,className:"btn",onClick:A}),y.jsx("button",{ref:b.zoom,className:"btn",onClick:()=>u(80)}),y.jsx("button",{ref:b.copy,className:"btn",onClick:B})]})]})};function m0({imgUrl:e,filepath:t,otherIMGEls:n,currentIndex:r}){s0({className:"preview-image-dialog"},YO,{...{imgUrl:e,otherIMGEls:n,currentIndex:r},filepath:t})}const UO=e=>{const{dailyNotesState:{app:t,view:n}}=F.useContext(Ot),{memo:r,handleMemoContentClick:o,handleMemoDoubleClick:i}=e,a=se.useRef(null),[u,d]=se.useState("");return F.useEffect(()=>{if(!a.current||a.current.hasChildNodes()&&r.content===u||!n||!t)return;d(r.content),a.current.hasChildNodes()&&a.current.empty(),(async()=>{var g,v;await C.MarkdownRenderer.render(t,r.content+`
`,a.current,r.path,n),(g=a.current)==null||g.toggleClass(["markdown-rendered"],!0);const m=(v=a.current)==null?void 0:v.querySelectorAll(".internal-link");m==null||m.forEach(b=>{const S=b,T=S.getAttribute("data-href");if(!T)return;t.metadataCache.getFirstLinkpathDest(T,r.path)||b.classList.add("is-unresolved"),S.addEventListener("mouseover",k=>{k.stopPropagation(),t.workspace.trigger("hover-link",{event:k,source:"thino",hoverParent:n.containerEl,targetEl:S,linktext:T,sourcePath:S.href})})})})()},[r.content,n,t]),y.jsx("div",{ref:a,className:"memo-content-text",onClick:f=>o(f,r),onDoubleClick:i,onContextMenu:f=>{f.preventDefault()}})},TC=F.memo(UO),zO=e=>{const[t,n]=F.useState({...e.memo,createdAtStr:lt.getDateTimeString(e.memo.createdAt)}),[r,o]=F.useState([]),[i,a]=F.useState([]);F.useEffect(()=>{(async()=>{try{const g=[],v=[...t.content.matchAll(hc)];for(const S of v)if(S&&S.length===3){const T=S[2],I=Re.getMemoById(T);I&&g.push({...I,createdAtStr:lt.getDateTimeString(I.createdAt),dateStr:lt.getDateString(I.createdAt)})}o([...g]);const b=await Re.getLinkedMemos(t.id);a(b.sort((S,T)=>lt.getTimeStampByDate(T.createdAt)-lt.getTimeStampByDate(S.createdAt)).map(S=>({...S,createdAtStr:lt.getDateTimeString(S.createdAt),dateStr:lt.getDateString(S.createdAt)})))}catch(g){console.error(g)}})()},[t.id]);const u=F.useCallback(async m=>{var v;const g=m.target;if(g.className==="memo-link-text"){const b=(v=g.dataset)==null?void 0:v.value,S=Re.getMemoById(b??"");if(S){const T={...S,createdAtStr:lt.getDateTimeString(S.createdAt)};o([]),a([]),n(T)}else new C.Notice(E("Thino not found")),g.classList.remove("memo-link-text")}},[]),d=F.useCallback(m=>{o([]),a([]),n({...m,createdAtStr:lt.getDateTimeString(m.createdAt)})},[t.id]),f=F.useCallback(()=>{e.destroy(),ft.setEditMemoId(t.id)},[t.id]);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"memo-card-container",children:[y.jsxs("div",{className:"header-container",children:[y.jsx("span",{className:"time-text",children:t.createdAtStr}),y.jsxs("div",{className:"btns-container",children:[y.jsx("button",{ref:m=>{m&&C.setIcon(m,"edit")},className:"btn edit-btn",onClick:f}),y.jsx("button",{ref:m=>{m&&C.setIcon(m,"x")},className:"btn close-btn",onClick:e.destroy})]})]}),y.jsx("div",{className:"memo-container",children:y.jsx("div",{className:"memo-content-text",children:y.jsx(TC,{memo:t,handleMemoContentClick:u,handleMemoDoubleClick:()=>{}})})}),y.jsx("div",{className:"layer-container"})]}),r.length>0?y.jsxs("div",{className:"linked-memos-wrapper",children:[y.jsxs("span",{className:"normal-text",children:[E("LINKED")," ",r.length," THINO"," "]}),r.map(m=>{const g=SD(Ab(m.content)).replaceAll(`
`," ");return y.jsxs("div",{className:"linked-memo-container",onClick:()=>d(m),children:[y.jsxs("span",{className:"time-text",children:[m.dateStr," "]}),g]},m.id)})]}):null,i.length>0?y.jsxs("div",{className:"linked-memos-wrapper",children:[y.jsxs("span",{className:"normal-text",children:[i.length," THINO ",E("LINK TO THE")," THINO"]}),i.map(m=>{const g=SD(Ab(m.content)).replaceAll(`
`," ");return y.jsxs("div",{className:"linked-memo-container",onClick:()=>d(m),children:[y.jsxs("span",{className:"time-text",children:[m.dateStr," "]}),g]},m.id)})]}):null]})};function Lh(e){s0({className:"memo-card-dialog"},zO,{memo:e})}function sc(e){return IC(e)?(e.nodeName||"").toLowerCase():"#document"}function aa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mc(e){var t;return(t=(IC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function IC(e){return e instanceof Node||e instanceof aa(e).Node}function Yo(e){return e instanceof Element||e instanceof aa(e).Element}function yl(e){return e instanceof HTMLElement||e instanceof aa(e).HTMLElement}function qb(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof aa(e).ShadowRoot}function hg(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=La(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function VO(e){return["table","td","th"].includes(sc(e))}function rS(e){const t=oS(),n=La(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function WO(e){let t=bh(e);for(;yl(t)&&!g0(t);){if(rS(t))return t;t=bh(t)}return null}function oS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function g0(e){return["html","body","#document"].includes(sc(e))}function La(e){return aa(e).getComputedStyle(e)}function y0(e){return Yo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function bh(e){if(sc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qb(e)&&e.host||mc(e);return qb(t)?t.host:t}function xC(e){const t=bh(e);return g0(t)?e.ownerDocument?e.ownerDocument.body:e.body:yl(t)&&hg(t)?t:xC(t)}function Gb(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=xC(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=aa(o);return i?t.concat(a,a.visualViewport||[],hg(o)?o:[],a.frameElement&&n?Gb(a.frameElement):[]):t.concat(o,Gb(o,[],n))}function uv(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&qb(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Jb(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Ry(e){return(e==null?void 0:e.ownerDocument)||document}function ZO(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Kb=Math.min,fh=Math.max,Mv=Math.round,lc=e=>({x:e,y:e}),$O={left:"right",right:"left",bottom:"top",top:"bottom"},qO={start:"end",end:"start"};function k2(e,t,n){return fh(e,Kb(t,n))}function v0(e,t){return typeof e=="function"?e(t):e}function Td(e){return e.split("-")[0]}function w0(e){return e.split("-")[1]}function EC(e){return e==="x"?"y":"x"}function CC(e){return e==="y"?"height":"width"}function b0(e){return["top","bottom"].includes(Td(e))?"y":"x"}function MC(e){return EC(b0(e))}function GO(e,t,n){n===void 0&&(n=!1);const r=w0(e),o=MC(e),i=CC(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=kv(a)),[a,kv(a)]}function JO(e){const t=kv(e);return[Qb(e),t,Qb(t)]}function Qb(e){return e.replace(/start|end/g,t=>qO[t])}function KO(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}function QO(e,t,n,r){const o=w0(e);let i=KO(Td(e),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(Qb)))),i}function kv(e){return e.replace(/left|right|bottom|top/g,t=>$O[t])}function XO(e){return{top:0,right:0,bottom:0,left:0,...e}}function ej(e){return typeof e!="number"?XO(e):{top:e,right:e,bottom:e,left:e}}function Nv(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function N2(e,t,n){let{reference:r,floating:o}=e;const i=b0(t),a=MC(t),u=CC(a),d=Td(t),f=i==="y",m=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,v=r[u]/2-o[u]/2;let b;switch(d){case"top":b={x:m,y:r.y-o.height};break;case"bottom":b={x:m,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:g};break;case"left":b={x:r.x-o.width,y:g};break;default:b={x:r.x,y:r.y}}switch(w0(t)){case"start":b[a]-=v*(n&&f?-1:1);break;case"end":b[a]+=v*(n&&f?-1:1);break}return b}const tj=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,u=i.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:g}=N2(f,r,d),v=r,b={},S=0;for(let T=0;T<u.length;T++){const{name:I,fn:k}=u[T],{x:A,y:R,data:j,reset:B}=await k({x:m,y:g,initialPlacement:r,placement:v,strategy:o,middlewareData:b,rects:f,platform:a,elements:{reference:e,floating:t}});m=A??m,g=R??g,b={...b,[I]:{...b[I],...j}},B&&S<=50&&(S++,typeof B=="object"&&(B.placement&&(v=B.placement),B.rects&&(f=B.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):B.rects),{x:m,y:g}=N2(f,v,d)),T=-1)}return{x:m,y:g,placement:v,strategy:o,middlewareData:b}};async function kC(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:a,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:b=0}=v0(t,e),S=ej(b),I=u[v?g==="floating"?"reference":"floating":g],k=Nv(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(I)))==null||n?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:f,rootBoundary:m,strategy:d})),A=g==="floating"?{...a.floating,x:r,y:o}:a.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),j=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},B=Nv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:R,strategy:d}):A);return{top:(k.top-B.top+S.top)/j.y,bottom:(B.bottom-k.bottom+S.bottom)/j.y,left:(k.left-B.left+S.left)/j.x,right:(B.right-k.right+S.right)/j.x}}const nj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:T=!0,...I}=v0(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const k=Td(o),A=Td(u)===u,R=await(d.isRTL==null?void 0:d.isRTL(f.floating)),j=v||(A||!T?[kv(u)]:JO(u));!v&&S!=="none"&&j.push(...QO(u,T,S,R));const B=[u,...j],L=await kC(t,I),z=[];let U=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&z.push(L[k]),g){const Q=GO(o,a,R);z.push(L[Q[0]],L[Q[1]])}if(U=[...U,{placement:o,overflows:z}],!z.every(Q=>Q<=0)){var W,Z;const Q=(((W=i.flip)==null?void 0:W.index)||0)+1,ce=B[Q];if(ce)return{data:{index:Q,overflows:U},reset:{placement:ce}};let ee=(Z=U.filter(fe=>fe.overflows[0]<=0).sort((fe,$)=>fe.overflows[1]-$.overflows[1])[0])==null?void 0:Z.placement;if(!ee)switch(b){case"bestFit":{var re;const fe=(re=U.map($=>[$.placement,$.overflows.filter(le=>le>0).reduce((le,oe)=>le+oe,0)]).sort(($,le)=>$[1]-le[1])[0])==null?void 0:re[0];fe&&(ee=fe);break}case"initialPlacement":ee=u;break}if(o!==ee)return{reset:{placement:ee}}}return{}}}};async function rj(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=Td(n),u=w0(n),d=b0(n)==="y",f=["left","top"].includes(a)?-1:1,m=i&&d?-1:1,g=v0(t,e);let{mainAxis:v,crossAxis:b,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return u&&typeof S=="number"&&(b=u==="end"?S*-1:S),d?{x:b*m,y:v*f}:{x:v*f,y:b*m}}const oj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:u}=t,d=await rj(t,e);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+d.x,y:i+d.y,data:{...d,placement:a}}}}},ij=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:u={fn:I=>{let{x:k,y:A}=I;return{x:k,y:A}}},...d}=v0(e,t),f={x:n,y:r},m=await kC(t,d),g=b0(Td(o)),v=EC(g);let b=f[v],S=f[g];if(i){const I=v==="y"?"top":"left",k=v==="y"?"bottom":"right",A=b+m[I],R=b-m[k];b=k2(A,b,R)}if(a){const I=g==="y"?"top":"left",k=g==="y"?"bottom":"right",A=S+m[I],R=S-m[k];S=k2(A,S,R)}const T=u.fn({...t,[v]:b,[g]:S});return{...T,data:{x:T.x-n,y:T.y-r}}}}};function NC(e){const t=La(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=yl(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,u=Mv(n)!==i||Mv(r)!==a;return u&&(n=i,r=a),{width:n,height:r,$:u}}function AC(e){return Yo(e)?e:e.contextElement}function hh(e){const t=AC(e);if(!yl(t))return lc(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=NC(t);let a=(i?Mv(n.width):n.width)/r,u=(i?Mv(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const aj=lc(0);function FC(e){const t=aa(e);return!oS()||!t.visualViewport?aj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sj(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==aa(e)?!1:t}function Pm(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=AC(e);let a=lc(1);t&&(r?Yo(r)&&(a=hh(r)):a=hh(e));const u=sj(i,n,r)?FC(i):lc(0);let d=(o.left+u.x)/a.x,f=(o.top+u.y)/a.y,m=o.width/a.x,g=o.height/a.y;if(i){const v=aa(i),b=r&&Yo(r)?aa(r):r;let S=v,T=S.frameElement;for(;T&&r&&b!==S;){const I=hh(T),k=T.getBoundingClientRect(),A=La(T),R=k.left+(T.clientLeft+parseFloat(A.paddingLeft))*I.x,j=k.top+(T.clientTop+parseFloat(A.paddingTop))*I.y;d*=I.x,f*=I.y,m*=I.x,g*=I.y,d+=R,f+=j,S=aa(T),T=S.frameElement}}return Nv({width:m,height:g,x:d,y:f})}const lj=[":popover-open",":modal"];function PC(e){return lj.some(t=>{try{return e.matches(t)}catch{return!1}})}function uj(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",a=mc(r),u=t?PC(t.floating):!1;if(r===a||u&&i)return n;let d={scrollLeft:0,scrollTop:0},f=lc(1);const m=lc(0),g=yl(r);if((g||!g&&!i)&&((sc(r)!=="body"||hg(a))&&(d=y0(r)),yl(r))){const v=Pm(r);f=hh(r),m.x=v.x+r.clientLeft,m.y=v.y+r.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x,y:n.y*f.y-d.scrollTop*f.y+m.y}}function cj(e){return Array.from(e.getClientRects())}function OC(e){return Pm(mc(e)).left+y0(e).scrollLeft}function dj(e){const t=mc(e),n=y0(e),r=e.ownerDocument.body,o=fh(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=fh(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+OC(e);const u=-n.scrollTop;return La(r).direction==="rtl"&&(a+=fh(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:u}}function fj(e,t){const n=aa(e),r=mc(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,u=0,d=0;if(o){i=o.width,a=o.height;const f=oS();(!f||f&&t==="fixed")&&(u=o.offsetLeft,d=o.offsetTop)}return{width:i,height:a,x:u,y:d}}function hj(e,t){const n=Pm(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=yl(e)?hh(e):lc(1),a=e.clientWidth*i.x,u=e.clientHeight*i.y,d=o*i.x,f=r*i.y;return{width:a,height:u,x:d,y:f}}function A2(e,t,n){let r;if(t==="viewport")r=fj(e,n);else if(t==="document")r=dj(mc(e));else if(Yo(t))r=hj(t,n);else{const o=FC(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Nv(r)}function jC(e,t){const n=bh(e);return n===t||!Yo(n)||g0(n)?!1:La(n).position==="fixed"||jC(n,t)}function pj(e,t){const n=t.get(e);if(n)return n;let r=Gb(e,[],!1).filter(u=>Yo(u)&&sc(u)!=="body"),o=null;const i=La(e).position==="fixed";let a=i?bh(e):e;for(;Yo(a)&&!g0(a);){const u=La(a),d=rS(a);!d&&u.position==="fixed"&&(o=null),(i?!d&&!o:!d&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||hg(a)&&!d&&jC(e,a))?r=r.filter(m=>m!==a):o=u,a=bh(a)}return t.set(e,r),r}function mj(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?pj(t,this._c):[].concat(n),r],u=a[0],d=a.reduce((f,m)=>{const g=A2(t,m,o);return f.top=fh(g.top,f.top),f.right=Kb(g.right,f.right),f.bottom=Kb(g.bottom,f.bottom),f.left=fh(g.left,f.left),f},A2(t,u,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function gj(e){const{width:t,height:n}=NC(e);return{width:t,height:n}}function yj(e,t,n){const r=yl(t),o=mc(t),i=n==="fixed",a=Pm(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const d=lc(0);if(r||!r&&!i)if((sc(t)!=="body"||hg(o))&&(u=y0(t)),r){const g=Pm(t,!0,i,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else o&&(d.x=OC(o));const f=a.left+u.scrollLeft-d.x,m=a.top+u.scrollTop-d.y;return{x:f,y:m,width:a.width,height:a.height}}function F2(e,t){return!yl(e)||La(e).position==="fixed"?null:t?t(e):e.offsetParent}function LC(e,t){const n=aa(e);if(!yl(e)||PC(e))return n;let r=F2(e,t);for(;r&&VO(r)&&La(r).position==="static";)r=F2(r,t);return r&&(sc(r)==="html"||sc(r)==="body"&&La(r).position==="static"&&!rS(r))?n:r||WO(e)||n}const vj=async function(e){const t=this.getOffsetParent||LC,n=this.getDimensions;return{reference:yj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function wj(e){return La(e).direction==="rtl"}const bj={convertOffsetParentRelativeRectToViewportRelativeRect:uj,getDocumentElement:mc,getClippingRect:mj,getOffsetParent:LC,getElementRects:vj,getClientRects:cj,getDimensions:gj,getScale:hh,isElement:Yo,isRTL:wj},Sj=ij,Dj=(e,t,n)=>{const r=new Map,o={platform:bj,...n},i={...o.platform,_c:r};return tj(e,t,{...o,platform:i})};var cv=typeof document<"u"?F.useLayoutEffect:F.useEffect;function Av(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Av(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Av(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function RC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function P2(e,t){const n=RC(e);return Math.round(t*n)/n}function O2(e){const t=F.useRef(e);return cv(()=>{t.current=e}),t}function Tj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[m,g]=F.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,b]=F.useState(r);Av(v,r)||b(r);const[S,T]=F.useState(null),[I,k]=F.useState(null),A=F.useCallback(le=>{le!==L.current&&(L.current=le,T(le))},[]),R=F.useCallback(le=>{le!==z.current&&(z.current=le,k(le))},[]),j=i||S,B=a||I,L=F.useRef(null),z=F.useRef(null),U=F.useRef(m),W=d!=null,Z=O2(d),re=O2(o),Q=F.useCallback(()=>{if(!L.current||!z.current)return;const le={placement:t,strategy:n,middleware:v};re.current&&(le.platform=re.current),Dj(L.current,z.current,le).then(oe=>{const he={...oe,isPositioned:!0};ce.current&&!Av(U.current,he)&&(U.current=he,a0.flushSync(()=>{g(he)}))})},[v,t,n,re]);cv(()=>{f===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,g(le=>({...le,isPositioned:!1})))},[f]);const ce=F.useRef(!1);cv(()=>(ce.current=!0,()=>{ce.current=!1}),[]),cv(()=>{if(j&&(L.current=j),B&&(z.current=B),j&&B){if(Z.current)return Z.current(j,B,Q);Q()}},[j,B,Q,Z,W]);const ee=F.useMemo(()=>({reference:L,floating:z,setReference:A,setFloating:R}),[A,R]),fe=F.useMemo(()=>({reference:j,floating:B}),[j,B]),$=F.useMemo(()=>{const le={position:n,left:0,top:0};if(!fe.floating)return le;const oe=P2(fe.floating,m.x),he=P2(fe.floating,m.y);return u?{...le,transform:"translate("+oe+"px, "+he+"px)",...RC(fe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:he}},[n,u,fe.floating,m.x,m.y]);return F.useMemo(()=>({...m,update:Q,refs:ee,elements:fe,floatingStyles:$}),[m,Q,ee,fe,$])}const _C={...$N},Ij=_C.useInsertionEffect,xj=Ij||(e=>e());function Ej(e){const t=F.useRef(()=>{});return xj(()=>{t.current=e}),F.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Sh=typeof document<"u"?F.useLayoutEffect:F.useEffect;let j2=!1,Cj=0;const L2=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Cj++;function Mj(){const[e,t]=F.useState(()=>j2?L2():void 0);return Sh(()=>{e==null&&t(L2())},[]),F.useEffect(()=>{j2=!0},[]),e}const kj=_C.useId,Nj=kj||Mj;function Aj(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Fj=F.createContext(null),Pj=F.createContext(null),BC=()=>{var e;return((e=F.useContext(Fj))==null?void 0:e.id)||null},HC=()=>F.useContext(Pj);function Oj(e){return"data-floating-ui-"+e}function R2(e){const t=F.useRef(e);return Sh(()=>{t.current=e}),t}const _2=Oj("safe-polygon");function Jw(e,t,n){return n&&!Jb(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function jj(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:a,floating:u},refs:d}=e,{enabled:f=!0,delay:m=0,handleClose:g=null,mouseOnly:v=!1,restMs:b=0,move:S=!0}=t,T=HC(),I=BC(),k=R2(g),A=R2(m),R=F.useRef(),j=F.useRef(),B=F.useRef(),L=F.useRef(),z=F.useRef(!0),U=F.useRef(!1),W=F.useRef(()=>{}),Z=F.useCallback(()=>{var ee;const fe=(ee=o.current.openEvent)==null?void 0:ee.type;return(fe==null?void 0:fe.includes("mouse"))&&fe!=="mousedown"},[o]);F.useEffect(()=>{if(!f)return;function ee(fe){let{open:$}=fe;$||(clearTimeout(j.current),clearTimeout(L.current),z.current=!0)}return i.on("openchange",ee),()=>{i.off("openchange",ee)}},[f,i]),F.useEffect(()=>{if(!f||!k.current||!n)return;function ee($){Z()&&r(!1,$,"hover")}const fe=Ry(u).documentElement;return fe.addEventListener("mouseleave",ee),()=>{fe.removeEventListener("mouseleave",ee)}},[u,n,r,f,k,Z]);const re=F.useCallback(function(ee,fe,$){fe===void 0&&(fe=!0),$===void 0&&($="hover");const le=Jw(A.current,"close",R.current);le&&!B.current?(clearTimeout(j.current),j.current=setTimeout(()=>r(!1,ee,$),le)):fe&&(clearTimeout(j.current),r(!1,ee,$))},[A,r]),Q=F.useCallback(()=>{W.current(),B.current=void 0},[]),ce=F.useCallback(()=>{if(U.current){const ee=Ry(d.floating.current).body;ee.style.pointerEvents="",ee.removeAttribute(_2),U.current=!1}},[d]);return F.useEffect(()=>{if(!f)return;function ee(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function fe(oe){if(clearTimeout(j.current),z.current=!1,v&&!Jb(R.current)||b>0&&Jw(A.current,"open")===0)return;const he=Jw(A.current,"open",R.current);he?j.current=setTimeout(()=>{r(!0,oe,"hover")},he):r(!0,oe,"hover")}function $(oe){if(ee())return;W.current();const he=Ry(u);if(clearTimeout(L.current),k.current){n||clearTimeout(j.current),B.current=k.current({...e,tree:T,x:oe.clientX,y:oe.clientY,onClose(){ce(),Q(),re(oe,!0,"safe-polygon")}});const ne=B.current;he.addEventListener("mousemove",ne),W.current=()=>{he.removeEventListener("mousemove",ne)};return}(R.current==="touch"?!uv(u,oe.relatedTarget):!0)&&re(oe)}function le(oe){ee()||k.current==null||k.current({...e,tree:T,x:oe.clientX,y:oe.clientY,onClose(){ce(),Q(),re(oe)}})(oe)}if(Yo(a)){const oe=a;return n&&oe.addEventListener("mouseleave",le),u==null||u.addEventListener("mouseleave",le),S&&oe.addEventListener("mousemove",fe,{once:!0}),oe.addEventListener("mouseenter",fe),oe.addEventListener("mouseleave",$),()=>{n&&oe.removeEventListener("mouseleave",le),u==null||u.removeEventListener("mouseleave",le),S&&oe.removeEventListener("mousemove",fe),oe.removeEventListener("mouseenter",fe),oe.removeEventListener("mouseleave",$)}}},[a,u,f,e,v,b,S,re,Q,ce,r,n,T,A,k,o]),Sh(()=>{var ee;if(f&&n&&(ee=k.current)!=null&&ee.__options.blockPointerEvents&&Z()){const $=Ry(u).body;if($.setAttribute(_2,""),$.style.pointerEvents="none",U.current=!0,Yo(a)&&u){var fe;const le=a,oe=T==null||(fe=T.nodesRef.current.find(he=>he.id===I))==null||(fe=fe.context)==null?void 0:fe.elements.floating;return oe&&(oe.style.pointerEvents=""),le.style.pointerEvents="auto",u.style.pointerEvents="auto",()=>{le.style.pointerEvents="",u.style.pointerEvents=""}}}},[f,n,I,u,a,T,k,Z]),Sh(()=>{n||(R.current=void 0,Q(),ce())},[n,Q,ce]),F.useEffect(()=>()=>{Q(),clearTimeout(j.current),clearTimeout(L.current),ce()},[f,a,Q,ce]),F.useMemo(()=>{if(!f)return{};function ee(fe){R.current=fe.pointerType}return{reference:{onPointerDown:ee,onPointerEnter:ee,onMouseMove(fe){function $(){z.current||r(!0,fe.nativeEvent,"hover")}v&&!Jb(R.current)||n||b===0||(clearTimeout(L.current),R.current==="touch"?$():L.current=setTimeout($,b))}},floating:{onMouseEnter(){clearTimeout(j.current)},onMouseLeave(fe){re(fe.nativeEvent,!1)}}}},[f,v,n,b,r,re])}function Lj(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(a=>{var u;return o.parentId===a.id&&((u=o.context)==null?void 0:u.open)})}),n=n.concat(r);return n}function Rj(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,a]=F.useState(null),[u,d]=F.useState(null),m=((t=e.elements)==null?void 0:t.reference)||i;Sh(()=>{m&&(T.current=m)},[m]);const g=Tj({...e,elements:{...e.elements,...u&&{reference:u}}}),v=HC(),b=BC()!=null,S=Ej((U,W,Z)=>{I.current.openEvent=U?W:void 0,k.emit("openchange",{open:U,event:W,reason:Z,nested:b}),r==null||r(U,W,Z)}),T=F.useRef(null),I=F.useRef({}),k=F.useState(()=>Aj())[0],A=Nj(),R=F.useCallback(U=>{const W=Yo(U)?{getBoundingClientRect:()=>U.getBoundingClientRect(),contextElement:U}:U;d(W),g.refs.setReference(W)},[g.refs]),j=F.useCallback(U=>{(Yo(U)||U===null)&&(T.current=U,a(U)),(Yo(g.refs.reference.current)||g.refs.reference.current===null||U!==null&&!Yo(U))&&g.refs.setReference(U)},[g.refs]),B=F.useMemo(()=>({...g.refs,setReference:j,setPositionReference:R,domReference:T}),[g.refs,j,R]),L=F.useMemo(()=>({...g.elements,domReference:m}),[g.elements,m]),z=F.useMemo(()=>({...g,refs:B,elements:L,dataRef:I,nodeId:o,floatingId:A,events:k,open:n,onOpenChange:S}),[g,o,A,k,n,S,B,L]);return Sh(()=>{const U=v==null?void 0:v.nodesRef.current.find(W=>W.id===o);U&&(U.context=z)}),F.useMemo(()=>({...g,context:z,refs:B,elements:L}),[g,B,L,z])}const B2="active",H2="selected";function Kw(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[B2]:a,[H2]:u,...d}=e;i=d}return{...n==="floating"&&{tabIndex:-1},...i,...t.map(a=>{const u=a?a[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((a,u)=>(u&&Object.entries(u).forEach(d=>{let[f,m]=d;if(!(o&&[B2,H2].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof m=="function"){var g;(g=r.get(f))==null||g.push(m),a[f]=function(){for(var v,b=arguments.length,S=new Array(b),T=0;T<b;T++)S[T]=arguments[T];return(v=r.get(f))==null?void 0:v.map(I=>I(...S)).find(I=>I!==void 0)}}}else a[f]=m}),a),{})}}function _j(e){e===void 0&&(e=[]);const t=e,n=F.useCallback(i=>Kw(i,e,"reference"),t),r=F.useCallback(i=>Kw(i,e,"floating"),t),o=F.useCallback(i=>Kw(i,e,"item"),e.map(i=>i==null?void 0:i.item));return F.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}function Y2(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let a=0,u=i-1;a<i;u=a++){const[d,f]=t[a]||[0,0],[m,g]=t[u]||[0,0];f>=r!=g>=r&&n<=(m-d)*(r-f)/(g-f)+d&&(o=!o)}return o}function Bj(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Hj(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,a=null,u=null,d=performance.now();function f(g,v){const b=performance.now(),S=b-d;if(a===null||u===null||S===0)return a=g,u=v,d=b,null;const T=g-a,I=v-u,A=Math.sqrt(T*T+I*I)/S;return a=g,u=v,d=b,A}const m=g=>{let{x:v,y:b,placement:S,elements:T,onClose:I,nodeId:k,tree:A}=g;return function(j){function B(){clearTimeout(o),I()}if(clearTimeout(o),!T.domReference||!T.floating||S==null||v==null||b==null)return;const{clientX:L,clientY:z}=j,U=[L,z],W=ZO(j),Z=j.type==="mouseleave",re=uv(T.floating,W),Q=uv(T.domReference,W),ce=T.domReference.getBoundingClientRect(),ee=T.floating.getBoundingClientRect(),fe=S.split("-")[0],$=v>ee.right-ee.width/2,le=b>ee.bottom-ee.height/2,oe=Bj(U,ce),he=ee.width>ce.width,G=ee.height>ce.height,ne=(he?ce:ee).left,pe=(he?ce:ee).right,Ie=(G?ce:ee).top,Oe=(G?ce:ee).bottom;if(re&&(i=!0,!Z))return;if(Q&&(i=!1),Q&&!Z){i=!0;return}if(Z&&Yo(j.relatedTarget)&&uv(T.floating,j.relatedTarget)||A&&Lj(A.nodesRef.current,k).some($e=>{let{context:Ue}=$e;return Ue==null?void 0:Ue.open}))return;if(fe==="top"&&b>=ce.bottom-1||fe==="bottom"&&b<=ce.top+1||fe==="left"&&v>=ce.right-1||fe==="right"&&v<=ce.left+1)return B();let Ye=[];switch(fe){case"top":Ye=[[ne,ce.top+1],[ne,ee.bottom-1],[pe,ee.bottom-1],[pe,ce.top+1]];break;case"bottom":Ye=[[ne,ee.top+1],[ne,ce.bottom-1],[pe,ce.bottom-1],[pe,ee.top+1]];break;case"left":Ye=[[ee.right-1,Oe],[ee.right-1,Ie],[ce.left+1,Ie],[ce.left+1,Oe]];break;case"right":Ye=[[ce.right-1,Oe],[ce.right-1,Ie],[ee.left+1,Ie],[ee.left+1,Oe]];break}function _e($e){let[Ue,Ke]=$e;switch(fe){case"top":{const yt=[he?Ue+t/2:$?Ue+t*4:Ue-t*4,Ke+t+1],Ce=[he?Ue-t/2:$?Ue+t*4:Ue-t*4,Ke+t+1],rt=[[ee.left,$||he?ee.bottom-t:ee.top],[ee.right,$?he?ee.bottom-t:ee.top:ee.bottom-t]];return[yt,Ce,...rt]}case"bottom":{const yt=[he?Ue+t/2:$?Ue+t*4:Ue-t*4,Ke-t],Ce=[he?Ue-t/2:$?Ue+t*4:Ue-t*4,Ke-t],rt=[[ee.left,$||he?ee.top+t:ee.bottom],[ee.right,$?he?ee.top+t:ee.bottom:ee.top+t]];return[yt,Ce,...rt]}case"left":{const yt=[Ue+t+1,G?Ke+t/2:le?Ke+t*4:Ke-t*4],Ce=[Ue+t+1,G?Ke-t/2:le?Ke+t*4:Ke-t*4];return[...[[le||G?ee.right-t:ee.left,ee.top],[le?G?ee.right-t:ee.left:ee.right-t,ee.bottom]],yt,Ce]}case"right":{const yt=[Ue-t,G?Ke+t/2:le?Ke+t*4:Ke-t*4],Ce=[Ue-t,G?Ke-t/2:le?Ke+t*4:Ke-t*4],rt=[[le||G?ee.left+t:ee.right,ee.top],[le?G?ee.left+t:ee.right:ee.left+t,ee.bottom]];return[yt,Ce,...rt]}}}if(!Y2([L,z],Ye)){if(i&&!oe)return B();if(!Z&&r){const $e=f(j.clientX,j.clientY);if($e!==null&&$e<.1)return B()}Y2([L,z],_e([v,b]))?!i&&r&&(o=window.setTimeout(B,40)):B()}}};return m.__options={blockPointerEvents:n},m}const Yj=F.forwardRef((e,t)=>{var ce;const{memo:n,handlePinMemoClick:r,handleFixMemoClick:o,handleSourceMemoClick:i,handleShowMemoStoryDialog:a,handleCopyMemoClick:u,handleEditMemoClick:d,handleGenMemoImageBtnClick:f,handleMarkMemoClick:m,handleArchiveMemo:g,handleDeleteMemoClick:v,handleSplitMemoClick:b}=e,S=Le.getState().dailyNotesState.settings,T=S.EnabledLocationList.find(ee=>ee.value==="MULTI"),[I,k]=ml(!1),A=F.useRef(null),R={pinRef:F.useRef(null),fixRef:F.useRef(null),typeRef:F.useRef(null),moreRef:F.useRef(null)},[j,B]=F.useState(!1),{refs:L,floatingStyles:z,context:U}=Rj({open:j,onOpenChange:B,placement:"bottom-end",middleware:[nj(),Sj(),oj({crossAxis:5,mainAxis:-5})]}),W=jj(U,{handleClose:Hj({requireIntent:!1})}),{getReferenceProps:Z,getFloatingProps:re}=_j([W]),Q={copy:F.useRef(null),read:F.useRef(null),mark:F.useRef(null),share:F.useRef(null),edit:F.useRef(null),source:F.useRef(null),archive:F.useRef(null),delete:F.useRef(null),split:F.useRef(null)};return F.useEffect(()=>{!A.current||!j||(C.setIcon(Q.copy.current,"copy"),C.setIcon(Q.read.current,"book-open"),C.setIcon(Q.mark.current,"bookmark"),C.setIcon(Q.share.current,"share-2"),C.setIcon(Q.edit.current,"pencil"),C.setIcon(Q.source.current,"home"),C.setIcon(Q.archive.current,"archive"),C.setIcon(Q.delete.current,"trash"),Q.split.current&&C.setIcon(Q.split.current,"separator-horizontal"))},[A,j]),F.useEffect(()=>{if(!R.typeRef)return;const ee=km.find(fe=>fe.title===n.sourceType);C.setIcon(R.typeRef.current,ee.icon),C.requireApiVersion("1.4.4")&&C.setTooltip(R.typeRef.current,n.path),R.fixRef&&(C.setIcon(R.fixRef.current,"shield-alert"),C.requireApiVersion("1.4.4")&&C.setTooltip(R.fixRef.current,"Update Thino property"))},[R.typeRef]),F.useEffect(()=>{R.pinRef&&(n.pinned?(C.setIcon(R.pinRef.current,"pin-off"),C.requireApiVersion("1.4.4")&&C.setTooltip(R.pinRef.current,E("UNPIN"))):(C.setIcon(R.pinRef.current,"pin"),C.requireApiVersion("1.4.4")&&C.setTooltip(R.pinRef.current,E("PIN"))))},[R.pinRef,n.pinned]),F.useImperativeHandle(t,()=>({toggleConfirm:ee=>k(ee),confirmStatus:I})),y.jsx("div",{ref:A,className:"memo-top-right-wrapper",children:y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:R.fixRef,className:`btn ${n.sourceType!=="MULTI"||n.id!==""?"hidden":""} fix-memo-btn`,onClick:()=>o(n)}),y.jsx("span",{ref:R.typeRef,className:`btn ${n.sourceType==="DAILY"?"hidden":""} source-type-btn`,onClick:()=>i(n)}),y.jsx("span",{ref:R.pinRef,className:`btn ${e.memo.pinned?"pinned-btn":"unpinned-btn"} pro`,onClick:r}),y.jsx("div",{ref:L.setReference,...Z(),children:y.jsx("span",{ref:ee=>{R.moreRef.current=ee,ee&&C.setIcon(ee,"more-horizontal")},className:"btn more-action-btn"})}),j&&y.jsx("div",{ref:L.setFloating,className:"more-action-btns-wrapper",style:z,...re(),children:y.jsxs("div",{className:"more-action-btns-container",children:[y.jsxs("div",{className:"more-action-btn-group more-action-menu-item",children:[y.jsx("span",{ref:Q.copy,className:"more-action-item-icon",onClick:u}),y.jsx("span",{ref:Q.edit,className:"more-action-item-icon",onClick:d}),y.jsx("span",{ref:Q.share,className:"more-action-item-icon",onClick:f})]}),y.jsx("hr",{className:"menu-hr"}),y.jsxs("div",{className:"more-action-menu-item",onClick:a,children:[y.jsx("span",{ref:Q.read,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",children:E("READ")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:Q.mark,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:m,children:E("MARK")})]}),((ce=/(^|\n)#{1,6}\s/g.exec(n.content))==null?void 0:ce.length)>1&&T&&y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:Q.split,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:b,children:E("SPLIT")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:Q.source,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:()=>i(n),children:E("SOURCE")})]}),y.jsx("hr",{className:"menu-hr"}),y.jsxs("div",{className:"more-action-menu-item archive-menu-item",children:[y.jsx("span",{ref:Q.archive,className:"more-action-item-icon"}),y.jsx("span",{className:"btn delete-btn",onClick:()=>g(n),children:E("ARCHIVE").toUpperCase()})]}),y.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[y.jsx("span",{ref:Q.delete,className:"more-action-item-icon"}),y.jsx("span",{className:`btn delete-btn ${I?"final-confirm":""}`,onClick:async ee=>{ee.stopPropagation(),ee.preventDefault(),await v(ee)},children:I?E("CONFIRM！"):S.DeleteThinoDirectly?E("DELETE"):E("Recycle bin").toUpperCase()})]}),y.jsx("hr",{className:"menu-hr"}),y.jsx("div",{className:"text-count-item more-action-menu-item",children:y.jsx("span",{className:"btn text-count-btn",children:lt.getWordCount(n.content.replace(/```[^\S\r\n]*[a-z]*\n.*?\n```/g,""))+` ${E("words")}`})})]})})]})})}),Uj=e=>{const{memo:t,handleMemoTypeToggle:n,handleShowMemoStoryDialog:r,settings:o}=e;return y.jsxs("div",{className:"memo-top-left-wrapper",children:[e.children,y.jsx("span",{title:t.createdAt,className:"time-text",onClick:r,children:t.createdAt}),y.jsx("div",{className:`btn memo-type-img ${o!=null&&o.ShowTaskLabel?"":"hidden"}`,onClick:n,children:t.thinoType!=="JOURNAL"&&y.jsx("input",{className:"task-list-item-checkbox",type:"checkbox",checked:t.thinoType!=="TASK-TODO","data-task":t.thinoType==="TASK-TODO"?"":t.thinoType==="TASK-DONE"?"x":t.thinoType.slice(5)})})]})};class zj extends C.SuggestModal{constructor(t,n){super(t),this.thino=n}sanitisedFileName(t){const n=u6;return t.replace(n,"").trim().slice(0,255)}ensureUniqueFileNames(t){const n=[];return t.map(o=>{const i=this.sanitisedFileName(o[0]),a=n.filter(u=>u==i);return n.push(i),a.length>=1?`${i}${a.length+1}`:i})}contentSplitByHeading(t,n){const r=t.split(`
`),o=new Array(n).join("#")+" ",i=new Array(n+1).join("#")+" ",a=[];let u=[];return r.forEach((d,f)=>{d.startsWith(i)?(u.length>0&&(a.push(u),u=[]),u.push(d)):u.length>0&&!d.startsWith(o)?u.push(d):u.length>0&&(a.push(u),u=[]),f===r.length-1&&u.length>0&&a.push(u)}),a}onChooseSuggestion(t,n){this.selectSuggestion(t,n)}renderSuggestion(t,n){n.setText(t.title)}getSuggestions(){return[{id:"splitByHeading1",title:E("Split by Heading 1")},{id:"splitByHeading2",title:E("Split by Heading 2")},{id:"splitByHeading3",title:E("Split by Heading 3")}]}async selectSuggestion(t,n){let r=[];if(t.id==="splitByHeading1"?r=this.contentSplitByHeading(this.thino.content,1):t.id==="splitByHeading2"?r=this.contentSplitByHeading(this.thino.content,2):t.id==="splitByHeading3"&&(r=this.contentSplitByHeading(this.thino.content,3)),r.length===0){new C.Notice("No headings found"),this.close();return}const o=this.ensureUniqueFileNames(r);for(const u of r){const d=r.indexOf(u),f=await Re.createThino({content:u.join(`
`),name:o[d],type:"MULTI",isList:!0});Re.pushMemo(f)}let i=this.thino.content;r.forEach((u,d)=>{i=i.replace(u.join(`
`),`[[${o[d]}]]`)});const a=await Re.updateMemo(this.thino.id,i);a&&Re.editMemo(a),this.close()}}const Vj=async(e,t,n)=>{const r=n.getAttribute("href"),o=n.className;if(o.contains("tag"))Wj(n.innerText.slice(1));else if(o.contains("internal-link")){const i=n.getAttribute("data-href"),a=Re.getMemoById(i??"");a?Lh(a):await e.workspace.openLinkText(i,i,!C.Platform.isMobile&&t.navigation!==!0)}else r&&window.open(r,"_blank")},Wj=e=>{const t=at.getState().query.tag;at.setTagQuery(t.contains(",")?t.split(",").includes(e)?t.split(",").filter(n=>n!==e).join(","):t+","+e:t===e?"":e)},Zj=(e,t)=>{const n=t==null?void 0:t.getAttribute("src"),r=t==null?void 0:t.parentElement.getAttribute("src"),o=[...(e==null?void 0:e.querySelectorAll("img"))||[]],i=o.indexOf(t);m0({imgUrl:n,filepath:n.startsWith("app")?r:void 0,otherIMGEls:o,currentIndex:i})},$j=e=>{var r;const t=(r=e.dataset)==null?void 0:r.value,n=Re.getMemoById(t??"");n?Lh(n):(new C.Notice("Thino Not Found"),e.classList.remove("memo-link-text"))},qj=async(e,t,n)=>{var i;const r=((i=n.parentElement.dataset)==null?void 0:i.task)==="x"?"DONE":"TODO",o=[...(t==null?void 0:t.querySelectorAll("li.task-list-item"))||[]];for(const a of o)if(a===n||a===n.closest("li.task-list-item")){const u=o.indexOf(a),d=e.content.split(/\n/),f=[];for(let S=0;S<d.length;S++)(d[S].trim().startsWith("- [ ]")||d[S].trim().startsWith("- [x]"))&&f.push(S);const m=f[u],v=d[m].replace(/- \[ \] |- \[x\] /g,r==="TODO"?"- [x] ":"- [ ] ");d[m]=v;const b=d.join(`
`).trim();if(e&&e.content!==b){const S=await Re.updateMemo(e.id,b);Re.editMemo(S)}}},Gj=e=>{const{globalState:{editMemoId:t},dailyNotesState:{app:n,view:r,settings:o,verifyState:i},locationState:{pathname:a}}=F.useContext(Ot),{memo:u,type:d="inline"}=e,f=F.useRef(null),m=F.useRef(null),[g,v]=F.useState(!1);F.useEffect(()=>{g&&setTimeout(()=>{ft.setEditMemoId(u.id)},100)},[g]),F.useEffect(()=>{(a==="/review"||a==="/daily")&&t!==u.id&&g&&v(!1)},[t]);const b=()=>{Lh(u)},S=()=>{if(o!=null&&o.UseButtonToShowEditor&&(o==null?void 0:o.DefaultEditorLocation)==="Bottom"){const $=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.hidden)");$&&$.trigger("click")}ft.setMarkMemoId(u.id)},T=async()=>{var oe;const $=!C.Platform.isDesktop&&await((oe=window.Capacitor)==null?void 0:oe.Plugins.Device.getId()),le=C.Platform.isDesktop?await er():$.identifier||$.uuid;if(!i||(i==null?void 0:i.appId)!==le){An();return}u.pinned?await Re.unpinMemoById(u.id):await Re.pinMemoById(u.id)},I=()=>{if(o!=null&&o.UseButtonToShowEditor&&(o==null?void 0:o.DefaultEditorLocation)==="Bottom"&&C.Platform.isMobile){const $=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.hidden)");$&&$.trigger("click")}(a==="/review"||a==="/daily")&&v(!0),a!=="/review"&&a!=="/daily"&&ft.setEditMemoId(u.id)},k=async $=>{$.sourceType==="MULTI"&&$.id.trim()===""&&await Re.updateMemoProperty($)},A=async $=>{await Re.openThinoByID($.id)},R=async $=>{try{const le=await Re.archiveMemo($);le&&Re.editMemo(le)}catch(le){console.error(le),new C.Notice(le.message)}},j=async($,le)=>{if(!le&&m.current&&!m.current.confirmStatus){m.current&&m.current.toggleConfirm();return}try{if(o.DeleteThinoDirectly)await Re.deleteMemoById(u.id);else{const oe=await Re.hideMemoById(u.id);oe&&Re.editMemo(oe)}}catch(oe){new C.Notice(oe.message)}ft.getState().editMemoId===u.id&&ft.setEditMemoId("")},B=()=>{if(m.current&&!m.current.confirmStatus){m.current&&m.current.toggleConfirm(!1);return}},L=()=>{sh(u)},z=async()=>{const $=await Re.updateMemo(u.id,u.content,u.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");$&&Re.editMemo($)},U=async $=>{$.stopPropagation(),navigator.clipboard.writeText(u.content).then(()=>{new C.Notice(E("COPY SUCCEED"))}).catch(()=>{new C.Notice(E("COPY FAILED"))})},W=async()=>{new zj(n,u).open()},Z=$=>{$&&$.target.tagName!=="INPUT"&&I()},re=async($,le)=>{$.preventDefault(),$.stopPropagation();const oe=$.target;if($.ctrlKey||$.metaKey){await A(le);return}if(oe.tagName==="A"){await Vj(n,r,oe);return}if(oe.tagName==="IMG"){Zj(f.current,oe);return}if(oe.tagName==="A"&&oe.getAttribute("href")){const he=oe.getAttribute("href");window.open(he,"_blank");return}if(oe.className==="memo-link-text"){$j(oe);return}if(oe.tagName==="INPUT"&&oe.hasClass("task-list-item-checkbox")){await qj(le,f.current,oe);return}},Q=$=>{const le=new C.Menu;le.dom.toggleClass("memo-context-menu",!0);const oe=window.getSelection();(oe==null?void 0:oe.toString().length)>0&&le.addItem(he=>{he.setIcon("copy").setTitle(E("Copy selected text")).onClick(()=>{navigator.clipboard.writeText(oe.toString()).then(()=>{new C.Notice(E("COPY SUCCEED"))}).catch(()=>{new C.Notice(E("COPY FAILED"))})})}).addSeparator(),le.addItem(he=>{he.setIcon("copy").setTitle(E("Copy thino").toLocaleUpperCase()).onClick(async G=>{await U(G),le.close()})}).addItem(he=>{he.setIcon("book-open").setTitle(E("READ")).onClick(b)}).addItem(he=>{he.setIcon(u.pinned?"pin-off":"pin").setTitle(u.pinned?E("UNPIN"):E("PIN")).onClick(T)}).addItem(he=>{he.setIcon("bookmark").setTitle(E("MARK")).onClick(S)}).addItem(he=>{he.setIcon("share-2").setTitle(E("SHARE")).onClick(L)}).addItem(he=>{he.setIcon("pencil").setTitle(E("EDIT")).onClick(I)}).addItem(he=>{he.setIcon("home").setTitle(E("SOURCE")).onClick(()=>A(u))}).addSeparator().addItem(he=>{he.setIcon("archive").setTitle(E("ARCHIVE").toLocaleUpperCase()).onClick(()=>R(u))}).addItem(he=>{he.setIcon("trash").setTitle(E("DELETE")).onClick(async G=>{await j(G,!0)})}),le.showAtMouseEvent($.nativeEvent)},ce=F.useMemo(()=>({memo:u,handlePinMemoClick:T,handleFixMemoClick:k,handleSourceMemoClick:A,handleArchiveMemo:R,handleDeleteMemoClick:j,handleGenMemoImageBtnClick:L,handleMarkMemoClick:S,handleEditMemoClick:I,handleCopyMemoClick:U,handleShowMemoStoryDialog:b,handleSplitMemoClick:W}),[u]),ee=F.useMemo(()=>({memo:u,handleMemoTypeToggle:z,handleShowMemoStoryDialog:b,settings:o}),[u,o]),fe=F.useMemo(()=>y.jsxs("div",{ref:f,className:`memo-wrapper ${u.pinned?"pinned":""}`,"data-source-type":u.sourceType,"data-thino-type":u.thinoType,"data-thino-id":u.id,onMouseLeave:B,onMouseOver:$=>{$.shiftKey&&($.stopPropagation(),n.workspace.trigger("hover-link",{event:$,source:"thino",hoverParent:r.containerEl,targetEl:f.current,linktext:u.path,sourcePath:u.path,state:{scroll:u.sourceType==="DAILY"?parseInt(u.id.slice(14)):0}}))},onContextMenu:Q,children:[g&&y.jsx(wd,{editorType:"inline"}),!g&&y.jsxs(y.Fragment,{children:[d==="inline"&&y.jsxs("div",{className:"memo-top-wrapper",draggable:!0,onDragStart:$=>{$.target.classList.add("dragging"),$.dataTransfer.setDragImage(f.current,0,0),$.dataTransfer.setData("text/plain",u.content)},onDragEnd:$=>{$.target.classList.remove("dragging")},children:[y.jsx(Uj,{...ee}),y.jsx(Yj,{ref:m,...ce})]}),y.jsx(TC,{memo:u,handleMemoContentClick:re,handleMemoDoubleClick:Z})]})]}),[u,g]);return y.jsx(y.Fragment,{children:fe})},Oi=F.memo(Gj);class ct extends C.Setting{constructor(n,r){super(n);De(this,"settingTab");De(this,"name","");De(this,"desc","");this.settingTab=r}setName(n){return super.setName(n),this.name=n,this}setDesc(n){return super.setDesc(n),this.desc=n,this}setTab(n){const r=typeof this.name=="string"?this.name:this.name.textContent||"",o=typeof this.desc=="string"?this.desc:this.desc.textContent||"";return this.settingTab.addSettingToMasterSettingsList(n,this.settingEl,r,o),this}}class Jj extends C.Modal{constructor(n,r,o,i,a){super(n);De(this,"plugin");De(this,"settingTab");De(this,"target",5);De(this,"cb");this.app=n,this.settingTab=r,this.plugin=o,this.target=i,this.cb=a}onOpen(){var u;const{contentEl:n}=this;(u=n.parentElement)==null||u.classList.add("memo-save-location-modal"),n.createEl("h3",{text:E("Thino Daily Target")});const r=n.createDiv("modal-setting");new ct(r,this.settingTab).setName(E("Target Thino Count")).addSlider(d=>{d.setDynamicTooltip().setValue(this.target).setLimits(1,30,1).onChange(async f=>{this.target=f})});const o=n.createDiv("button-group"),i=o.createEl("button",{text:E("Cancel")}),a=o.createEl("button",{text:E("Save")});a.onclick=async()=>{this.plugin.settings.MemoDailyTarget=this.target,this.settingTab.applySettingsUpdate(),this.cb(this.target),this.close()},i.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}const Kj=({allStat:e,todayTimeStamp:t,calendarType:n,handleCalendarTypeChange:r})=>{const{dailyNotesState:{app:o,settings:i},globalState:{manifest:a}}=F.useContext(Ot),[u,d]=F.useState(),[f,m]=F.useState(5),[g,v]=F.useState(0),[b,S]=F.useState(0),[T,I]=F.useState(i.HeatmapColorScheme||"default"),k=F.useRef(null),A=F.useRef(null);F.useEffect(()=>{i.HeatmapColorScheme&&I(i.HeatmapColorScheme)},[i.HeatmapColorScheme]),F.useEffect(()=>{let j,B=5;a&&o&&(j=o==null?void 0:o.plugins.getPlugin(a.id),B=j==null?void 0:j.settings.MemoDailyTarget,d(j)),m(B)},[a,o]),F.useEffect(()=>{const j=e.find(z=>z.timestamp===t),B=j?j.count:0;S(B);const L=Math.min(100,B/f*100);v(L)},[e,f]),F.useEffect(()=>{C.requireApiVersion("1.4.4")&&(C.setTooltip(A.current,g.toFixed(2)+"%"),C.setTooltip(k.current,E("Set daily target")+` (${b}/${f})`))},[g,b]),F.useEffect(()=>{k.current&&(k.current.hasChildNodes()||C.setIcon(k.current,"crosshair"),C.requireApiVersion("1.4.4")&&C.setTooltip(A.current,g+"%"))},[k,f]);const R=F.useCallback(()=>{if(!u)return;new Jj(o,u==null?void 0:u.settingTab,u,f,B=>{m(B)}).open()},[u,f]);return y.jsx(y.Fragment,{children:y.jsxs("div",{className:`usage-daily-progress-wrapper heatmap-${T}`,children:[y.jsx("div",{ref:A,className:"daily-progress-bar",children:y.jsx("div",{className:"daily-progress-bar-inner",style:{width:`${g}%`}})}),y.jsx("div",{ref:k,className:"daily-progress-target",onClick:R}),y.jsx("div",{ref:j=>{j&&C.setIcon(j,n==="basic"?"layout-grid":"calendar"),j&&C.setTooltip&&C.setTooltip(j,E("Switch calendar type"))},className:"switch-calendar-type-btn",onClick:()=>r&&r(n==="basic"?"heatmap":"basic")})]})})},Qj=e=>{const{className:t,view:n,datestamp:r,handleDateStampChange:o,handleDateItemClick:i,handleMonthChange:a,dailyStat:u}=e,d=C.moment().startOf("day").valueOf(),[f,m]=F.useState(lm(r)),[g,v]=F.useState(null);F.useEffect(()=>{m(lm(r))},[r]);const b=new Date(f),S=b.getDay(),T=[];for(let A=0;A<S;A++)T.push({date:0,datestamp:b.getTime()-fl*(7-A)});const I=Xj(f);for(let A=1;A<=I;A++)T.push({date:A,datestamp:b.getTime()+fl*(A-1)});const k=A=>{const R=b.getFullYear(),j=b.getMonth()+1;let B=0;j===1&&A===-1?B=new Date(`${R-1}/12/1`).getTime():j===12&&A===1?B=new Date(`${R+1}/1/1`).getTime():B=new Date(`${R}/${j+A}/1`).getTime(),m(lm(B)),a&&a(B)};return y.jsxs("div",{className:`heatmap-date-picker-wrapper ${t}`,children:[y.jsxs("div",{className:"date-picker-header",children:[y.jsx("span",{ref:A=>{A&&C.setIcon(A,"chevron-left")},className:"btn btn-text",onClick:()=>k(-1)}),y.jsxs("span",{className:"normal-text",children:[y.jsx(GE,{year:b.getFullYear().toString(),handleYearChange:A=>{m(lm(new Date(`${A}/${b.getMonth()+1}/1`).getTime()))}}),y.jsx(JE,{month:b.getMonth().toString(),handleMonthChange:A=>{m(lm(new Date(`${b.getFullYear()}/${parseInt(A)}/1`).getTime()))}})]}),y.jsx("span",{ref:A=>{A&&C.setIcon(A,"chevron-right")},className:"btn btn-text",onClick:()=>k(1)})]}),y.jsxs("div",{className:"date-picker-day-container",children:[y.jsx("div",{className:"date-picker-day-header",children:E("weekDaysShort").map(A=>y.jsx("span",{className:"day-item",children:A},A))}),y.jsx("div",{className:"date-picker-day-content",children:T.map(A=>{if(A.date===0)return y.jsx("span",{className:"day-item null",children:""},A.datestamp);const R=u.find(L=>L.timestamp===A.datestamp)||{count:0,timestamp:A.datestamp,list:0},j=R.count-R.list,B=R.list;return y.jsxs("span",{className:`day-item ${A.datestamp===d?"current":""} ${A.datestamp===g?"selected":""} ${Qw(R.count)}`,onClick:L=>{o(r,L.nativeEvent),v(A.datestamp===g?null:A.datestamp),i&&i(L,R)},onMouseOver:L=>{if(!R||!R.count)return;const z=new C.HoverPopover(n,L.currentTarget,100);YC(z,{d:A,list:B,task:j})},children:[y.jsx("span",{className:"day-item-text",children:A.date}),y.jsx(y.Fragment,{children:R&&R.count!==0&&y.jsxs("span",{className:"day-item-dots",children:[j>0&&y.jsx("div",{className:`day-item-dot thino-task-dot ${Qw(j)}`}),B>0&&y.jsx("div",{className:`day-item-dot thino-list-dot ${Qw(B)}`})]})})]},A.datestamp)})})]})]})};function YC(e,{d:t,list:n,task:r}){e.hoverEl.toggleClass("thino-hover-popover",!0);const o=e.hoverEl.createDiv({cls:"thino-hover-popover-content"});o.createDiv({cls:"thino-date-item",text:`${C.moment(t.datestamp).format("YYYY-MM-DD")}`});const i=o.createDiv({cls:"thino-task-item"});i.createSpan({cls:"thino-task-item-title-text",text:`${E("Task")}: `}),i.createSpan({cls:"thino-task-item-title-count",text:`${r}`});const a=o.createDiv({cls:"thino-list-item"});a.createSpan({cls:"thino-list-item-title-text",text:`${E("List")}: `}),a.createSpan({cls:"thino-list-item-title-count",text:`${n}`})}function Xj(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/fl}function lm(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}function Qw(e){return e<=0?"":e<=1?"stat-day-L1-bg":e<=2?"stat-day-L2-bg":e<=4?"stat-day-L3-bg":"stat-day-L4-bg"}const U2={width:12,height:7},z2=(e,t)=>{const n=[];for(let r=0;r<=e;r++)n.push({timestamp:parseInt(C.moment(t).add(r,"days").format("x")),count:0,list:0});return n},Om=({initThinos:e,basicType:t})=>{const n=parseInt(C.moment().endOf("day").format("x")),r=new Date(n).getDay()||7,o=parseInt(C.moment().startOf("day").format("x")),i=new Array(7-(r===7?1:r)).fill(0),a=(U2.width-1)*U2.height+r,u=parseInt(C.moment().startOf("day").subtract(a,"days").format("x")),d=C.moment().startOf("day").subtract(a,"days"),{memoState:{memos:f},dailyNotesState:{view:m,app:g,settings:v,verifyState:b}}=F.useContext(Ot),[S,T]=oi(t||t7(g||window.app)||"heatmap"),[I,k]=oi(C.moment().startOf("day").valueOf()),[A,R]=oi(v.HeatmapColorScheme||"default"),[j,B]=oi(z2(a,u)),[L,z]=oi(null),[U,W,Z]=oi(""),re=F.useRef(null);F.useEffect(()=>{const $=z2(a,u),le=(e||f).filter(oe=>!oe.deletedAt&&oe.rowStatus!=="ARCHIVED");for(const oe of le){const G=C.moment(oe.createdAt.replaceAll("/","-"),"YYYY-MM-DD HH:mm:ss").startOf("day").diff(d,"days");G>=0&&G<$.length&&($[G].count+=1,oe.thinoType==="JOURNAL"&&($[G].list+=1))}B([...$])},[f,e]),F.useEffect(()=>{v.HeatmapColorScheme&&R(v.HeatmapColorScheme)},[v.HeatmapColorScheme]);const Q=F.useCallback(($,le)=>{if(!le||!le.count)return;const oe=le.count-le.list,he=le.list,G={date:le.timestamp,datestamp:le.timestamp},ne=new C.HoverPopover(m,$.currentTarget,100);YC(ne,{d:G,list:he,task:oe})},[]),ce=()=>{T(S==="heatmap"?"basic":"heatmap"),e7(g,S==="heatmap"?"basic":"heatmap"),k(C.moment().startOf("day").valueOf())},ee=F.useCallback(async($,le)=>{if(le.count===0)return;const oe=at.getState().query.duration,he=oe==null?void 0:oe.from,G=oe==null?void 0:oe.to,ne=C.moment(he).diff(G,"day")==0;if(he===le.timestamp&&ne)at.setFromAndToQuery(0,0),z(null),W(null);else if(he!==le.timestamp&&he>0&&$.shiftKey){const pe=C.moment(le.timestamp).endOf("day").diff(G,"day");he===0&&$.shiftKey?W("from"):pe<0&&ne&&W("to"),C.moment(he).isBefore(le.timestamp)?Z.current==="to"?pe<0?at.setFromAndToQuery(le.timestamp,G):(at.setFromAndToQuery(parseInt(C.moment(G).startOf("day").format("x")),parseInt(C.moment(le.timestamp).endOf("day").format("x"))),W("from")):Z.current==="from"&&(pe<0,at.setFromAndToQuery(he,parseInt(C.moment(le.timestamp).endOf("day").format("x")))):Z.current==="to"?at.setFromAndToQuery(le.timestamp,G):Z.current==="from"&&(at.setFromAndToQuery(le.timestamp,parseInt(C.moment(he).endOf("day").format("x"))),W("to"))}else if(he===0&&$.shiftKey)at.setFromAndToQuery(le.timestamp,parseInt(C.moment().endOf("day").format("x")));else if(le.count>0&&($.ctrlKey||$.metaKey)){const{app:pe,dailyNotes:Ie}=vt.getState(),Oe=Xv(C.moment(le.timestamp),Ie);if(!C.Platform.isMobile)await pe.workspace.getLeaf(!0).openFile(Oe);else{let Ye=pe.workspace.activeLeaf;Ye===null&&(Ye=pe.workspace.getLeaf(!0)),Ye.openFile(Oe)}}else le.count>0&&!$.shiftKey&&!$.ctrlKey&&!$.metaKey&&(["/","/recycle"].includes(at.getState().pathname)||at.setPathname("/"),at.setFromAndToQuery(le.timestamp,lt.getTimeStampByDate(C.moment(le.timestamp+fl).subtract(1,"days").endOf("day").format("YYYY-MM-DD HH:mm:ss"))),z(le))},[]),fe=F.useMemo(()=>y.jsx(Qj,{className:`heatmap-${A}`,view:m,datestamp:I,dailyStat:j,handleMonthChange:$=>{k($)},handleDateStampChange:$=>{},handleDateItemClick:($,le)=>ee($,le)}),[JSON.stringify(j),m,I,A]);return y.jsxs(y.Fragment,{children:[S==="basic"&&fe,S==="heatmap"&&y.jsxs("div",{className:`usage-heat-map-wrapper heatmap-${A}`,ref:re,children:[y.jsxs("div",{className:"day-tip-text-container",children:[y.jsx("span",{className:"tip-text",children:E("weekDaysShort")[0]}),y.jsx("span",{className:"tip-text"}),y.jsx("span",{className:"tip-text",children:E("weekDaysShort")[2]}),y.jsx("span",{className:"tip-text"}),y.jsx("span",{className:"tip-text",children:E("weekDaysShort")[4]}),y.jsx("span",{className:"tip-text"}),y.jsx("span",{className:"tip-text",children:E("weekDaysShort")[6]})]}),y.jsxs("div",{className:"usage-heat-map",children:[j.map(($,le)=>{const oe=$.count,he=oe<=0?"":oe<=1?"stat-day-L1-bg":oe<=2?"stat-day-L2-bg":oe<=4?"stat-day-L3-bg":"stat-day-L4-bg";return y.jsx("span",{className:`stat-container ${he} ${L===$?"current":""} ${o===$.timestamp?"today":""}`,onMouseOver:G=>Q(G,$),onClick:G=>ee(G,$)},le)}),i.map(($,le)=>y.jsx("span",{className:"stat-container null"},le))]})]}),!t&&b&&y.jsx(Kj,{allStat:j,todayTimeStamp:o,calendarType:S,handleCalendarTypeChange:ce})]})};function e7(e,t){try{e==null||e.saveLocalStorage("calendarType",t)}catch(n){console.error(n)}}function t7(e){try{return(e==null?void 0:e.loadLocalStorage("calendarType"))||"heatmap"}catch(t){return console.error(t),"heatmap"}}const UC=({type:e,timestamp:t})=>{const{memoState:{memos:n}}=F.useContext(Ot),[r,o]=F.useState([]),i=se.useRef(null);return F.useEffect(()=>{if(e==="daily"){if(t){const u=n.filter(d=>C.moment(d.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(C.moment(t,"YYYY/MM/DD HH:mm:ss"),"day"));o(u);return}const a=n.filter(u=>C.moment(u.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(C.moment(),"day"));o(a)}else if(e==="latest"){const a=n.filter(f=>!f.deletedAt&&f.rowStatus!=="ARCHIVED"),u=a.filter(f=>f.pinned),d=a.filter(f=>!f.pinned).slice(0,5);o([...u,...d])}},[n]),F.useEffect(()=>{i.current&&(i.current.scrollTop=0)},[n]),r.length>0?y.jsx("div",{ref:i,className:"thino-list-container",children:r.map(a=>y.jsx(Oi,{memo:a}))}):y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:E("Here is No Memos.")})})},n7=(e,t)=>{Pa.createRoot(e).render(y.jsx(se.StrictMode,{children:y.jsx(Ra,{store:Le,context:Ot,children:y.jsx(r7,{plugin:t})})}))},r7=({plugin:e})=>y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"thino-error-code-block",children:E("Please open thino first")}),y.jsx("button",{className:"thino-open-view",onClick:()=>e.openMemos("center"),children:E("Open thino in center window")})]}),o7=(e,t)=>{Pa.createRoot(e).render(y.jsx(se.StrictMode,{children:y.jsx(Ra,{store:Le,context:Ot,children:y.jsx(i7,{yaml:t})})}))},i7=({yaml:e})=>{const t=Object.keys(e).filter(o=>e[o]),n=e.daily?e.daily:"",r=o=>{switch(o){case"editor":return V2;case"heatmap":return s7;case"calendar":return l7;case"daily":return c7;case"list":return d7;case"status":return u7;default:return V2}};return y.jsx(y.Fragment,{children:t.map(o=>y.jsx("div",{"data-embed-type":o,className:Gn("thino-embed-container",o==="editor"?"thino-editor-modal":""),children:o==="daily"?r(o)(n):r(o)()}))})};function V2(){return y.jsx(wd,{editorType:"inline"})}function a7(e,t){try{const n=Pa.createRoot(e);return n.render(y.jsx(se.StrictMode,{children:y.jsx(Ra,{store:Le,context:Ot,children:y.jsx(wd,{editorType:"inline",destroy:t})})})),n}catch(n){console.error(n)}}function s7(){return y.jsx(Om,{basicType:"heatmap"})}function l7(){return y.jsx(Om,{basicType:"basic"})}function u7(){return y.jsx(Z1,{statusType:"banner"})}function c7(e){return y.jsx(UC,{type:"daily",timestamp:e})}function d7(){return y.jsx(UC,{type:"latest"})}class zC extends C.Modal{constructor(n){super(n);De(this,"root")}onOpen(){const{contentEl:n,modalEl:r}=this;try{this.root=a7(n,this.close.bind(this)),r.toggleClass("thino-editor-modal",!0),setTimeout(()=>{var o;(o=n.querySelector("textarea"))==null||o.focus(),this.app.workspace.trigger("focus-on-textarea")},10)}catch(o){console.error(o)}}onClose(){this.root.unmount(),this.containerEl&&this.containerEl.empty()}}function f7(e,t){if(e==null)return{};var n=h7(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function h7(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Fv(){return Fv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fv.apply(this,arguments)}function W2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function um(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(n),!0).forEach(function(r){p7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m7={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},Xw=2;class Pv extends se.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||Xw,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||Xw});let r=1/0,o=n.default||Xw;for(let i in n){const a=parseInt(i);a>0&&t<=a&&a<r&&(r=a,o=n[i])}o=Math.max(1,parseInt(o)||1),this.state.columnCount!==o&&this.setState({columnCount:o})}itemsInColumns(){const t=this.state.columnCount,n=new Array(t),r=se.Children.toArray(this.props.children);for(let o=0;o<r.length;o++){const i=o%t;n[i]||(n[i]=[]),n[i].push(r[o])}return n}renderColumns(){const{column:t,columnAttrs:n={},columnClassName:r}=this.props,o=this.itemsInColumns(),i=`${100/o.length}%`;let a=r;a&&typeof a!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof a>"u"&&(a="my-masonry-grid_column"));const u=um(um(um({},t),n),{},{style:um(um({},n.style),{},{width:i}),className:a});return o.map((d,f)=>se.createElement("div",Fv({},u,{key:f}),d))}logDeprecated(t){console.error("[Masonry]",t)}render(){const t=this.props,{children:n,breakpointCols:r,columnClassName:o,columnAttrs:i,column:a,className:u}=t,d=f7(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let f=u;return typeof u!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof u>"u"&&(f="my-masonry-grid")),se.createElement("div",Fv({},d,{className:f}),this.renderColumns())}}Pv.defaultProps=m7;const Xb=e=>{F.useContext(Ot);const t=Le.getState().dailyNotesState.settings,{thinos:n,dayMark:r,dayMarkRange:o="day",thinoWrapper:i}=e,[a,u]=se.useState(!(t!=null&&t.hidePinnedGroup&&r==="PINNED")),d=se.useRef(null);F.useEffect(()=>{d&&C.setTooltip&&C.setTooltip(d.current,E("Click to expand or fold, Cmd+Click to show all thinos of the day"))},[d]);const f=m=>{if(C.Keymap.isModifier(m.nativeEvent,"Mod")){const g={day:"YYYY-MM-DD",week:"YYYY-[W]WW",month:"YYYY-MM",quarter:"YYYY-[Q]Q",year:"YYYY"},v=C.moment(r,g[o]);at.setFromAndToQuery(v.startOf(o).valueOf(),v.endOf(o).valueOf());return}u(!a)};return y.jsx(y.Fragment,{children:e.type==="list"?y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:d,className:`day-mark ${a?"":"folded"} PINNED`,onClick:f,children:y.jsxs("span",{className:"day-mark-text",children:[a?"▼ ":"▶ ",r==="PINNED"?r+" 📌":r]})},r),a&&n.map((m,g)=>i?y.jsx("div",{children:i({thino:m})},`${m.id}-${C.moment(m.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`):y.jsx(Oi,{memo:m},`${m.id}-${C.moment(m.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`))]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:d,className:`day-mark ${a?"":"folded"}`,onClick:f,children:y.jsxs("span",{className:"day-mark-text",children:[a?"▼ ":"▶ ",r==="PINNED"?r+" 📌":r]})},r),y.jsx(Pv,{breakpointCols:e.type==="waterfall"?3:1,className:`${e.type}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:a&&n.map((m,g)=>i?y.jsx("div",{children:i({thino:m})},`${m.id}-${C.moment(m.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`):y.jsx(Oi,{memo:m},`${m.id}-${C.moment(m.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`))})]})})};function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function g7(e,t){if(ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VC(e){var t=g7(e,"string");return ru(t)=="symbol"?t:String(t)}function hd(e,t,n){return t=VC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(n),!0).forEach(function(r){hd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S0(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function vl(e,t){if(e==null)return{};var n=S0(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VC(r.key),r)}}function uo(e,t,n){return t&&$2(e.prototype,t),n&&$2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ov(e){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ov(e)}function WC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WC=function(){return!!e})()}function ZC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y7(e,t){if(t&&(ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZC(e)}function si(e,t,n){return t=Ov(t),y7(e,WC()?Reflect.construct(t,n||[],Ov(e).constructor):t.apply(e,n))}function jv(e,t){return jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},jv(e,t)}function li(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jv(e,t)}function $C(e){if(Array.isArray(e))return e}function v7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,o=m}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw o}}return u}}function e1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iS(e,t){if(e){if(typeof e=="string")return e1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e1(e,t)}}function qC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ql(e,t){return $C(e)||v7(e,t)||iS(e,t)||qC()}function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}var w7=function(e,t,n,r,o,i,a,u){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,r,o,i,a,u],m=0;d=new Error(t.replace(/%s/g,function(){return f[m++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}},b7=w7;const jm=Zr(b7);var S7=function(){};function D7(e,t){var n={};return Object.keys(e).forEach(function(r){n[dv(r)]=S7}),n}function q2(e,t){return e[t]!==void 0}function dv(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function T7(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function I7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jv(e,t)}function GC(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function JC(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function KC(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}GC.__suppressDeprecationWarning=!0;JC.__suppressDeprecationWarning=!0;KC.__suppressDeprecationWarning=!0;function x7(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,o=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?o="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||r!==null||o!==null){var i=e.displayName||e.name,a=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=GC,t.componentWillReceiveProps=JC),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=KC;var u=t.componentDidUpdate;t.componentDidUpdate=function(f,m,g){var v=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:g;u.call(this,f,m,v)}}return e}var E7="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function QC(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",o=T7(e),i=Object.keys(t),a=i.map(dv);o||!n.length||jm(!1);var u=function(f){I7(m,f);function m(){for(var v,b=arguments.length,S=new Array(b),T=0;T<b;T++)S[T]=arguments[T];v=f.call.apply(f,[this].concat(S))||this,v.handlers=Object.create(null),i.forEach(function(k){var A=t[k],R=function(B){if(v.props[A]){var L;v._notifying=!0;for(var z=arguments.length,U=new Array(z>1?z-1:0),W=1;W<z;W++)U[W-1]=arguments[W];(L=v.props)[A].apply(L,[B].concat(U)),v._notifying=!1}v.unmounted||v.setState(function(Z){var re,Q=Z.values;return{values:gr(Object.create(null),Q,(re={},re[k]=B,re))}})};v.handlers[A]=R}),n.length&&(v.attachRef=function(k){v.inner=k});var I=Object.create(null);return i.forEach(function(k){I[k]=v.props[dv(k)]}),v.state={values:I,prevProps:{}},v}var g=m.prototype;return g.shouldComponentUpdate=function(){return!this._notifying},m.getDerivedStateFromProps=function(b,S){var T=S.values,I=S.prevProps,k={values:gr(Object.create(null),T),prevProps:{}};return i.forEach(function(A){k.prevProps[A]=b[A],!q2(b,A)&&q2(I,A)&&(k.values[A]=b[dv(A)])}),k},g.componentWillUnmount=function(){this.unmounted=!0},g.render=function(){var b=this,S=this.props,T=S.innerRef,I=S0(S,["innerRef"]);a.forEach(function(A){delete I[A]});var k={};return i.forEach(function(A){var R=b.props[A];k[A]=R!==void 0?R:b.state.values[A]}),se.createElement(e,gr({},I,k,this.handlers,{ref:T||this.attachRef}))},m}(se.Component);x7(u),u.displayName="Uncontrolled("+r+")",u.propTypes=gr({innerRef:function(){}},D7(t)),n.forEach(function(f){u.prototype[f]=function(){var g;return(g=this.inner)[f].apply(g,arguments)}});var d=u;return se.forwardRef&&(d=se.forwardRef(function(f,m){return se.createElement(u,gr({},f,{innerRef:m,__source:{fileName:E7,lineNumber:128},__self:this}))}),d.propTypes=u.propTypes),d.ControlledComponent=e,d.deferControlTo=function(f,m,g){return m===void 0&&(m={}),QC(f,gr({},t,m),g)},d}function XC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=XC(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Wr(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=XC(e))&&(r&&(r+=" "),r+=t);return r}var eM={exports:{}},eb,G2;function C7(){if(G2)return eb;G2=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return eb=e,eb}var tb,J2;function M7(){if(J2)return tb;J2=1;var e=C7();function t(){}function n(){}return n.resetWarningCache=t,tb=function(){function r(a,u,d,f,m,g){if(g!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function o(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},tb}eM.exports=M7()();var k7=eM.exports;const ke=Zr(k7);var Lv="milliseconds",Lm="seconds",Rm="minutes",_m="hours",Id="day",Dh="week",Bm="month",xd="year",Ed="decade",Cd="century",tM={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},N7={month:1,year:12,decade:10*12,century:100*12};function A7(e){return[31,F7(e),31,30,31,30,31,31,30,31,30,31]}function F7(e){return e%4===0&&e%100!==0||e%400===0?29:28}function ms(e,t,n){switch(e=new Date(e),n){case Lv:case Lm:case Rm:case _m:case Id:case Dh:return P7(e,t*tM[n]);case Bm:case xd:case Ed:case Cd:return O7(e,t*N7[n])}throw new TypeError('Invalid units: "'+n+'"')}function P7(e,t){var n=new Date(+e+t);return j7(e,n)}function O7(e,t){var n=e.getFullYear(),r=e.getMonth(),o=e.getDate(),i=n*12+r+t,a=Math.trunc(i/12),u=i%12,d=Math.min(o,A7(a)[u]),f=new Date(e);return f.setFullYear(a),f.setDate(1),f.setMonth(u),f.setDate(d),f}function j7(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),o=r-n;return new Date(+t+o*tM.minutes)}function Hm(e,t,n){return ms(e,-t,n)}function Io(e,t,n){switch(e=new Date(e),t){case Cd:case Ed:case xd:e=_v(e,0);case Bm:e=aM(e,1);case Dh:case Id:e=zm(e,0);case _m:e=Th(e,0);case Rm:e=Um(e,0);case Lm:e=Ym(e,0)}return t===Ed&&(e=Hm(e,Md(e)%10,"year")),t===Cd&&(e=Hm(e,Md(e)%100,"year")),t===Dh&&(e=sM(e,0,n)),e}function Rv(e,t,n){switch(e=new Date(e),e=Io(e,t,n),t){case Cd:case Ed:case xd:case Bm:case Dh:e=ms(e,1,t),e=Hm(e,1,Id),e.setHours(23,59,59,999);break;case Id:e.setHours(23,59,59,999);break;case _m:case Rm:case Lm:e=ms(e,1,t),e=Hm(e,1,Lv)}return e}var pg=_h(function(e,t){return e===t}),aS=_h(function(e,t){return e!==t}),D0=_h(function(e,t){return e>t}),mg=_h(function(e,t){return e>=t}),sS=_h(function(e,t){return e<t}),Rh=_h(function(e,t){return e<=t});function nM(){return new Date(Math.min.apply(Math,arguments))}function rM(){return new Date(Math.max.apply(Math,arguments))}function oM(e,t,n,r){return r=r||"day",(!t||mg(e,t,r))&&(!n||Rh(e,n,r))}var Ym=gc("Milliseconds"),Um=gc("Seconds"),Th=gc("Minutes"),zm=gc("Hours"),iM=gc("Day"),aM=gc("Date"),_v=gc("Month"),Md=gc("FullYear");function L7(e,t){return t===void 0?Md(Io(e,Ed)):ms(e,t+10,xd)}function R7(e,t){return t===void 0?Md(Io(e,Cd)):ms(e,t+100,xd)}function sM(e,t,n){var r=(iM(e)+7-(n||0))%7;return t===void 0?r:ms(e,t-r,Id)}function _7(e,t,n,r){var o,i,a;switch(n){case Lv:case Lm:case Rm:case _m:case Id:case Dh:o=t.getTime()-e.getTime();break;case Bm:case xd:case Ed:case Cd:o=(Md(t)-Md(e))*12+_v(t)-_v(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case Lv:i=1;break;case Lm:i=1e3;break;case Rm:i=1e3*60;break;case _m:i=1e3*60*60;break;case Id:i=1e3*60*60*24;break;case Dh:i=1e3*60*60*24*7;break;case Bm:i=1;break;case xd:i=12;break;case Ed:i=120;break;case Cd:i=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return a=o/i,r?a:Math.round(a)}function gc(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var o=new Date(n);return o["set"+e](r),t&&o["get"+e]()!=r&&(e==="Hours"||r>=t&&o.getHours()-n.getHours()<Math.floor(r/t))&&o["set"+e](r+t),o}}function _h(e){return function(t,n,r){return e(+Io(t,r),+Io(n,r))}}const K2=Object.freeze(Object.defineProperty({__proto__:null,add:ms,century:R7,date:aM,day:iM,decade:L7,diff:_7,endOf:Rv,eq:pg,gt:D0,gte:mg,hours:zm,inRange:oM,lt:sS,lte:Rh,max:rM,milliseconds:Ym,min:nM,minutes:Th,month:_v,neq:aS,seconds:Um,startOf:Io,subtract:Hm,weekday:sM,year:Md},Symbol.toStringTag,{value:"Module"}));function B7(e){if(Array.isArray(e))return e1(e)}function lM(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fv(e){return B7(e)||lM(e)||iS(e)||H7()}function Y7(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var uM=Y7;function U7(e,t){return e===t||e!==e&&t!==t}var gg=U7,z7=typeof zr=="object"&&zr&&zr.Object===Object&&zr,cM=z7,V7=cM,W7=typeof self=="object"&&self&&self.Object===Object&&self,Z7=V7||W7||Function("return this")(),wl=Z7,$7=wl,q7=$7.Symbol,Bh=q7,Q2=Bh,dM=Object.prototype,G7=dM.hasOwnProperty,J7=dM.toString,cm=Q2?Q2.toStringTag:void 0;function K7(e){var t=G7.call(e,cm),n=e[cm];try{e[cm]=void 0;var r=!0}catch{}var o=J7.call(e);return r&&(t?e[cm]=n:delete e[cm]),o}var Q7=K7,X7=Object.prototype,eL=X7.toString;function tL(e){return eL.call(e)}var nL=tL,X2=Bh,rL=Q7,oL=nL,iL="[object Null]",aL="[object Undefined]",eT=X2?X2.toStringTag:void 0;function sL(e){return e==null?e===void 0?aL:iL:eT&&eT in Object(e)?rL(e):oL(e)}var Hh=sL;function lL(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var uu=lL,uL=Hh,cL=uu,dL="[object AsyncFunction]",fL="[object Function]",hL="[object GeneratorFunction]",pL="[object Proxy]";function mL(e){if(!cL(e))return!1;var t=uL(e);return t==fL||t==hL||t==dL||t==pL}var lS=mL,gL=9007199254740991;function yL(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gL}var uS=yL,vL=lS,wL=uS;function bL(e){return e!=null&&wL(e.length)&&!vL(e)}var yg=bL,SL=9007199254740991,DL=/^(?:0|[1-9]\d*)$/;function TL(e,t){var n=typeof e;return t=t??SL,!!t&&(n=="number"||n!="symbol"&&DL.test(e))&&e>-1&&e%1==0&&e<t}var cS=TL,IL=gg,xL=yg,EL=cS,CL=uu;function ML(e,t,n){if(!CL(n))return!1;var r=typeof t;return(r=="number"?xL(n)&&EL(t,n.length):r=="string"&&t in n)?IL(n[t],e):!1}var T0=ML,kL=/\s/;function NL(e){for(var t=e.length;t--&&kL.test(e.charAt(t)););return t}var AL=NL,FL=AL,PL=/^\s+/;function OL(e){return e&&e.slice(0,FL(e)+1).replace(PL,"")}var jL=OL;function LL(e){return e!=null&&typeof e=="object"}var yc=LL,RL=Hh,_L=yc,BL="[object Symbol]";function HL(e){return typeof e=="symbol"||_L(e)&&RL(e)==BL}var vg=HL,YL=jL,tT=uu,UL=vg,nT=NaN,zL=/^[-+]0x[0-9a-f]+$/i,VL=/^0b[01]+$/i,WL=/^0o[0-7]+$/i,ZL=parseInt;function $L(e){if(typeof e=="number")return e;if(UL(e))return nT;if(tT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=tT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=YL(e);var n=VL.test(e);return n||WL.test(e)?ZL(e.slice(2),n?2:8):zL.test(e)?nT:+e}var qL=$L,GL=qL,rT=1/0,JL=17976931348623157e292;function KL(e){if(!e)return e===0?e:0;if(e=GL(e),e===rT||e===-rT){var t=e<0?-1:1;return t*JL}return e===e?e:0}var fM=KL,QL=fM;function XL(e){var t=QL(e),n=t%1;return t===t?n?t-n:t:0}var hM=XL,eR=uM,tR=T0,nR=hM,rR=Math.ceil,oR=Math.max;function iR(e,t,n){(n?tR(e,t,n):t===void 0)?t=1:t=oR(nR(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=Array(rR(r/t));o<r;)a[i++]=eR(e,o,o+=t);return a}var aR=iR;const sR=Zr(aR);function wg(e){return e&&e.ownerDocument||document}function lR(e){var t=wg(e);return t&&t.defaultView||window}function uR(e,t){return lR(e).getComputedStyle(e,t)}var cR=/([A-Z])/g;function dR(e){return e.replace(cR,"-$1").toLowerCase()}var fR=/^ms-/;function _y(e){return dR(e).replace(fR,"-ms-")}var hR=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function pR(e){return!!(e&&hR.test(e))}function ih(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(_y(t))||uR(e).getPropertyValue(_y(t));Object.keys(t).forEach(function(o){var i=t[o];!i&&i!==0?e.style.removeProperty(_y(o)):pR(o)?r+=o+"("+i+") ":n+=_y(o)+": "+i+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function Vm(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function mR(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function dS(e){return"window"in e&&e.window===e?e:mR(e)&&e.defaultView||!1}function pM(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,o){var i=dS(r);if(o===void 0)return i?i[e]:r[t];i?i.scrollTo(i[e],o):r[t]=o}return n}const mM=pM("pageXOffset"),gM=pM("pageYOffset");function bd(e){var t=wg(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!Vm(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+gM(r)-(r.clientTop||0),left:n.left+mM(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var gR=function(t){return!!t&&"offsetParent"in t};function yR(e){for(var t=wg(e),n=e&&e.offsetParent;gR(n)&&n.nodeName!=="HTML"&&ih(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var vR=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function yM(e,t){var n={top:0,left:0},r;if(ih(e,"position")==="fixed")r=e.getBoundingClientRect();else{var o=t||yR(e);r=bd(e),vR(o)!=="html"&&(n=bd(o));var i=String(ih(o,"borderTopWidth")||0);n.top+=parseInt(i,10)-gM(o)||0;var a=String(ih(o,"borderLeftWidth")||0);n.left+=parseInt(a,10)-mM(o)||0}var u=String(ih(e,"marginTop")||0),d=String(ih(e,"marginLeft")||0);return gr({},r,{top:r.top-n.top-(parseInt(u,10)||0),left:r.left-n.left-(parseInt(d,10)||0)})}const fS=!!(typeof window<"u"&&window.document&&window.document.createElement);var oT=new Date().getTime();function wR(e){var t=new Date().getTime(),n=Math.max(0,16-(t-oT)),r=setTimeout(e,n);return oT=t,r}var bR=["","webkit","moz","o","ms"],t1="clearTimeout",n1=wR,iT=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};fS&&bR.some(function(e){var t=iT(e,"request");return t in window&&(t1=iT(e,"cancel"),n1=function(r){return window[t](r)}),!!n1});var aT=function(t){typeof window[t1]=="function"&&window[t1](t)},vM=n1,nb;function SR(e,t){if(!nb){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;nb=function(i,a){return r.call(i,a)}}return nb(e,t)}var DR=Function.prototype.bind.call(Function.prototype.call,[].slice);function TR(e,t){return DR(e.querySelectorAll(t))}var r1=!1,o1=!1;try{var rb={get passive(){return r1=!0},get once(){return o1=r1=!0}};fS&&(window.addEventListener("test",rb,rb),window.removeEventListener("test",rb,!0))}catch{}function IR(e,t,n,r){if(r&&typeof r!="boolean"&&!o1){var o=r.once,i=r.capture,a=n;!o1&&o&&(a=n.__once||function u(d){this.removeEventListener(t,u,i),n.call(this,d)},n.__once=a),e.addEventListener(t,a,r1?r:i)}e.addEventListener(t,n,r)}function xR(e){const t=F.useRef(e);return F.useEffect(()=>{t.current=e},[e]),t}function sT(e){const t=xR(e);return F.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function lT(){return F.useState(null)}function ER(){const e=F.useRef(!0),t=F.useRef(()=>e.current);return F.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function CR(e){const t=ER();return[e[0],F.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var MR=hC({defaultModifiers:[uC,dC,oC,iC,cC,lC,fC,rC]}),uT=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},kR={name:"applyStyles",enabled:!1},NR={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,o=r.reference,i=r.popper;if("removeAttribute"in o){var a=(o.getAttribute("aria-describedby")||"").split(",").filter(function(u){return u.trim()!==i.id});a.length?o.setAttribute("aria-describedby",a.join(",")):o.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,o=r.elements,i=o.popper,a=o.reference,u=(n=i.getAttribute("role"))==null?void 0:n.toLowerCase();if(i.id&&u==="tooltip"&&"setAttribute"in a){var d=a.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(i.id)!==-1)return;a.setAttribute("aria-describedby",d?d+","+i.id:i.id)}}},AR=[];function FR(e,t,n){var r=n===void 0?{}:n,o=r.enabled,i=o===void 0?!0:o,a=r.placement,u=a===void 0?"bottom":a,d=r.strategy,f=d===void 0?"absolute":d,m=r.modifiers,g=m===void 0?AR:m,v=S0(r,["enabled","placement","strategy","modifiers"]),b=F.useRef(),S=F.useCallback(function(){var j;(j=b.current)==null||j.update()},[]),T=F.useCallback(function(){var j;(j=b.current)==null||j.forceUpdate()},[]),I=CR(F.useState({placement:u,update:S,forceUpdate:T,attributes:{},styles:{popper:uT(f),arrow:{}}})),k=I[0],A=I[1],R=F.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(B){var L=B.state,z={},U={};Object.keys(L.elements).forEach(function(W){z[W]=L.styles[W],U[W]=L.attributes[W]}),A({state:L,styles:z,attributes:U,update:S,forceUpdate:T,placement:L.placement})}}},[S,T,A]);return F.useEffect(function(){!b.current||!i||b.current.setOptions({placement:u,strategy:f,modifiers:[].concat(g,[R,kR])})},[f,u,R,i]),F.useEffect(function(){if(!(!i||e==null||t==null))return b.current=MR(e,t,gr({},v,{placement:u,strategy:f,modifiers:[].concat(g,[NR,R])})),function(){b.current!=null&&(b.current.destroy(),b.current=void 0,A(function(j){return gr({},j,{attributes:{},styles:{popper:uT(f)}})}))}},[i,e,t]),k}function PR(e,t,n,r){var o=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}function ym(e,t,n,r){return IR(e,t,n,r),function(){PR(e,t,n,r)}}function OR(e){return e&&"setState"in e?W1.findDOMNode(e):e??null}const jR=function(e){return wg(OR(e))};var LR=27,cT=function(){};function RR(e){return e.button===0}function _R(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var dT=function(t){return t&&("current"in t?t.current:t)};function BR(e,t,n){var r=n===void 0?{}:n,o=r.disabled,i=r.clickTrigger,a=i===void 0?"click":i,u=F.useRef(!1),d=t||cT,f=F.useCallback(function(v){var b,S=dT(e);tO(!!S,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),u.current=!S||_R(v)||!RR(v)||!!Vm(S,(b=v.composedPath==null?void 0:v.composedPath()[0])!=null?b:v.target)},[e]),m=sT(function(v){u.current||d(v)}),g=sT(function(v){v.keyCode===LR&&d(v)});F.useEffect(function(){if(!(o||e==null)){var v=window.event,b=jR(dT(e)),S=ym(b,a,f,!0),T=ym(b,a,function(A){if(A===v){v=void 0;return}m(A)}),I=ym(b,"keyup",function(A){if(A===v){v=void 0;return}g(A)}),k=[];return"ontouchstart"in b.documentElement&&(k=[].slice.call(b.body.children).map(function(A){return ym(A,"mousemove",cT)})),function(){S(),T(),I(),k.forEach(function(A){return A()})}}},[e,o,a,f,m,g])}function HR(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function YR(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function UR(e){var t,n,r,o,i=e.enabled,a=e.enableEvents,u=e.placement,d=e.flip,f=e.offset,m=e.fixed,g=e.containerPadding,v=e.arrowElement,b=e.popperConfig,S=b===void 0?{}:b,T=HR(S.modifiers);return gr({},S,{placement:u,enabled:i,strategy:m?"fixed":S.strategy,modifiers:YR(gr({},T,{eventListeners:{enabled:a},preventOverflow:gr({},T.preventOverflow,{options:g?gr({padding:g},(t=T.preventOverflow)==null?void 0:t.options):(n=T.preventOverflow)==null?void 0:n.options}),offset:{options:gr({offset:f},(r=T.offset)==null?void 0:r.options)},arrow:gr({},T.arrow,{enabled:!!v,options:gr({},(o=T.arrow)==null?void 0:o.options,{element:v})}),flip:gr({enabled:!!d},T.flip)}))})}function zR(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function VR(e,t){e.classList?e.classList.add(t):zR(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function fT(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function WR(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=fT(e.className,t):e.setAttribute("class",fT(e.className&&e.className.baseVal||"",t))}var By;function wM(e){if((!By&&By!==0||e)&&fS){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),By=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return By}var ob=function(t){var n;return typeof document>"u"?null:t==null?wg().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function hT(e,t){var n=F.useState(function(){return ob(e)}),r=n[0],o=n[1];if(!r){var i=ob(e);i&&o(i)}return F.useEffect(function(){t&&r&&t(r)},[t,r]),F.useEffect(function(){var a=ob(e);a!==r&&o(a)},[e,r]),r}const pT=e=>!e||typeof e=="function"?e:t=>{e.current=t};function ZR(e,t){const n=pT(e),r=pT(t);return o=>{n&&n(o),r&&r(o)}}function $R(e,t){return F.useMemo(()=>ZR(e,t),[e,t])}var hS=se.forwardRef(function(e,t){var n=e.flip,r=e.offset,o=e.placement,i=e.containerPadding,a=i===void 0?5:i,u=e.popperConfig,d=u===void 0?{}:u,f=e.transition,m=lT(),g=m[0],v=m[1],b=lT(),S=b[0],T=b[1],I=$R(v,t),k=hT(e.container),A=hT(e.target),R=F.useState(!e.show),j=R[0],B=R[1],L=FR(A,g,UR({placement:o,enableEvents:!!e.show,containerPadding:a||5,flip:n,offset:r,arrowElement:S,popperConfig:d})),z=L.styles,U=L.attributes,W=S0(L,["styles","attributes"]);e.show?j&&B(!1):!e.transition&&!j&&B(!0);var Z=function(){B(!0),e.onExited&&e.onExited.apply(e,arguments)},re=e.show||f&&!j;if(BR(g,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!re)return null;var Q=e.children(gr({},W,{show:!!e.show,props:gr({},U.popper,{style:z.popper,ref:I}),arrowProps:gr({},U.arrow,{style:z.arrow,ref:T})}));if(f){var ce=e.onExit,ee=e.onExiting,fe=e.onEnter,$=e.onEntering,le=e.onEntered;Q=se.createElement(f,{in:e.show,appear:!0,onExit:ce,onExiting:ee,onExited:Z,onEnter:fe,onEntering:$,onEntered:le},Q)}return k?W1.createPortal(Q,k):null});hS.displayName="Overlay";hS.propTypes={show:ke.bool,placement:ke.oneOf(q1),target:ke.any,container:ke.any,flip:ke.bool,children:ke.func.isRequired,containerPadding:ke.number,popperConfig:ke.object,rootClose:ke.bool,rootCloseEvent:ke.oneOf(["click","mousedown"]),rootCloseDisabled:ke.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(t.rootClose){var i;return(i=ke.func).isRequired.apply(i,[t].concat(r))}return ke.func.apply(ke,[t].concat(r))},transition:ke.elementType,onEnter:ke.func,onEntering:ke.func,onEntered:ke.func,onExit:ke.func,onExiting:ke.func,onExited:ke.func};const qR=hS;function GR(){this.__data__=[],this.size=0}var JR=GR,KR=gg;function QR(e,t){for(var n=e.length;n--;)if(KR(e[n][0],t))return n;return-1}var I0=QR,XR=I0,e_=Array.prototype,t_=e_.splice;function n_(e){var t=this.__data__,n=XR(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():t_.call(t,n,1),--this.size,!0}var r_=n_,o_=I0;function i_(e){var t=this.__data__,n=o_(t,e);return n<0?void 0:t[n][1]}var a_=i_,s_=I0;function l_(e){return s_(this.__data__,e)>-1}var u_=l_,c_=I0;function d_(e,t){var n=this.__data__,r=c_(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var f_=d_,h_=JR,p_=r_,m_=a_,g_=u_,y_=f_;function Yh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Yh.prototype.clear=h_;Yh.prototype.delete=p_;Yh.prototype.get=m_;Yh.prototype.has=g_;Yh.prototype.set=y_;var x0=Yh,v_=x0;function w_(){this.__data__=new v_,this.size=0}var b_=w_;function S_(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var D_=S_;function T_(e){return this.__data__.get(e)}var I_=T_;function x_(e){return this.__data__.has(e)}var E_=x_,C_=wl,M_=C_["__core-js_shared__"],k_=M_,ib=k_,mT=function(){var e=/[^.]+$/.exec(ib&&ib.keys&&ib.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function N_(e){return!!mT&&mT in e}var A_=N_,F_=Function.prototype,P_=F_.toString;function O_(e){if(e!=null){try{return P_.call(e)}catch{}try{return e+""}catch{}}return""}var bM=O_,j_=lS,L_=A_,R_=uu,__=bM,B_=/[\\^$.*+?()[\]{}|]/g,H_=/^\[object .+?Constructor\]$/,Y_=Function.prototype,U_=Object.prototype,z_=Y_.toString,V_=U_.hasOwnProperty,W_=RegExp("^"+z_.call(V_).replace(B_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Z_(e){if(!R_(e)||L_(e))return!1;var t=j_(e)?W_:H_;return t.test(__(e))}var $_=Z_;function q_(e,t){return e==null?void 0:e[t]}var G_=q_,J_=$_,K_=G_;function Q_(e,t){var n=K_(e,t);return J_(n)?n:void 0}var jd=Q_,X_=jd,eB=wl,tB=X_(eB,"Map"),pS=tB,nB=jd,rB=nB(Object,"create"),E0=rB,gT=E0;function oB(){this.__data__=gT?gT(null):{},this.size=0}var iB=oB;function aB(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var sB=aB,lB=E0,uB="__lodash_hash_undefined__",cB=Object.prototype,dB=cB.hasOwnProperty;function fB(e){var t=this.__data__;if(lB){var n=t[e];return n===uB?void 0:n}return dB.call(t,e)?t[e]:void 0}var hB=fB,pB=E0,mB=Object.prototype,gB=mB.hasOwnProperty;function yB(e){var t=this.__data__;return pB?t[e]!==void 0:gB.call(t,e)}var vB=yB,wB=E0,bB="__lodash_hash_undefined__";function SB(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=wB&&t===void 0?bB:t,this}var DB=SB,TB=iB,IB=sB,xB=hB,EB=vB,CB=DB;function Uh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Uh.prototype.clear=TB;Uh.prototype.delete=IB;Uh.prototype.get=xB;Uh.prototype.has=EB;Uh.prototype.set=CB;var MB=Uh,yT=MB,kB=x0,NB=pS;function AB(){this.size=0,this.__data__={hash:new yT,map:new(NB||kB),string:new yT}}var FB=AB;function PB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var OB=PB,jB=OB;function LB(e,t){var n=e.__data__;return jB(t)?n[typeof t=="string"?"string":"hash"]:n.map}var C0=LB,RB=C0;function _B(e){var t=RB(this,e).delete(e);return this.size-=t?1:0,t}var BB=_B,HB=C0;function YB(e){return HB(this,e).get(e)}var UB=YB,zB=C0;function VB(e){return zB(this,e).has(e)}var WB=VB,ZB=C0;function $B(e,t){var n=ZB(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var qB=$B,GB=FB,JB=BB,KB=UB,QB=WB,XB=qB;function zh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zh.prototype.clear=GB;zh.prototype.delete=JB;zh.prototype.get=KB;zh.prototype.has=QB;zh.prototype.set=XB;var mS=zh,eH=x0,tH=pS,nH=mS,rH=200;function oH(e,t){var n=this.__data__;if(n instanceof eH){var r=n.__data__;if(!tH||r.length<rH-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new nH(r)}return n.set(e,t),this.size=n.size,this}var iH=oH,aH=x0,sH=b_,lH=D_,uH=I_,cH=E_,dH=iH;function Vh(e){var t=this.__data__=new aH(e);this.size=t.size}Vh.prototype.clear=sH;Vh.prototype.delete=lH;Vh.prototype.get=uH;Vh.prototype.has=cH;Vh.prototype.set=dH;var gS=Vh,fH="__lodash_hash_undefined__";function hH(e){return this.__data__.set(e,fH),this}var pH=hH;function mH(e){return this.__data__.has(e)}var gH=mH,yH=mS,vH=pH,wH=gH;function Bv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new yH;++t<n;)this.add(e[t])}Bv.prototype.add=Bv.prototype.push=vH;Bv.prototype.has=wH;var bH=Bv;function SH(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var DH=SH;function TH(e,t){return e.has(t)}var IH=TH,xH=bH,EH=DH,CH=IH,MH=1,kH=2;function NH(e,t,n,r,o,i){var a=n&MH,u=e.length,d=t.length;if(u!=d&&!(a&&d>u))return!1;var f=i.get(e),m=i.get(t);if(f&&m)return f==t&&m==e;var g=-1,v=!0,b=n&kH?new xH:void 0;for(i.set(e,t),i.set(t,e);++g<u;){var S=e[g],T=t[g];if(r)var I=a?r(T,S,g,t,e,i):r(S,T,g,e,t,i);if(I!==void 0){if(I)continue;v=!1;break}if(b){if(!EH(t,function(k,A){if(!CH(b,A)&&(S===k||o(S,k,n,r,i)))return b.push(A)})){v=!1;break}}else if(!(S===T||o(S,T,n,r,i))){v=!1;break}}return i.delete(e),i.delete(t),v}var SM=NH,AH=wl,FH=AH.Uint8Array,DM=FH;function PH(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var OH=PH;function jH(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var LH=jH,vT=Bh,wT=DM,RH=gg,_H=SM,BH=OH,HH=LH,YH=1,UH=2,zH="[object Boolean]",VH="[object Date]",WH="[object Error]",ZH="[object Map]",$H="[object Number]",qH="[object RegExp]",GH="[object Set]",JH="[object String]",KH="[object Symbol]",QH="[object ArrayBuffer]",XH="[object DataView]",bT=vT?vT.prototype:void 0,ab=bT?bT.valueOf:void 0;function eY(e,t,n,r,o,i,a){switch(n){case XH:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case QH:return!(e.byteLength!=t.byteLength||!i(new wT(e),new wT(t)));case zH:case VH:case $H:return RH(+e,+t);case WH:return e.name==t.name&&e.message==t.message;case qH:case JH:return e==t+"";case ZH:var u=BH;case GH:var d=r&YH;if(u||(u=HH),e.size!=t.size&&!d)return!1;var f=a.get(e);if(f)return f==t;r|=UH,a.set(e,t);var m=_H(u(e),u(t),r,o,i,a);return a.delete(e),m;case KH:if(ab)return ab.call(e)==ab.call(t)}return!1}var tY=eY;function nY(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var yS=nY,rY=Array.isArray,_a=rY,oY=yS,iY=_a;function aY(e,t,n){var r=t(e);return iY(e)?r:oY(r,n(e))}var TM=aY;function sY(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}var lY=sY;function uY(){return[]}var IM=uY,cY=lY,dY=IM,fY=Object.prototype,hY=fY.propertyIsEnumerable,ST=Object.getOwnPropertySymbols,pY=ST?function(e){return e==null?[]:(e=Object(e),cY(ST(e),function(t){return hY.call(e,t)}))}:dY,vS=pY;function mY(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var gY=mY,yY=Hh,vY=yc,wY="[object Arguments]";function bY(e){return vY(e)&&yY(e)==wY}var SY=bY,DT=SY,DY=yc,xM=Object.prototype,TY=xM.hasOwnProperty,IY=xM.propertyIsEnumerable,xY=DT(function(){return arguments}())?DT:function(e){return DY(e)&&TY.call(e,"callee")&&!IY.call(e,"callee")},wS=xY,Hv={exports:{}};function EY(){return!1}var CY=EY;Hv.exports;(function(e,t){var n=wl,r=CY,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===o,u=a?n.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||r;e.exports=f})(Hv,Hv.exports);var M0=Hv.exports,MY=Hh,kY=uS,NY=yc,AY="[object Arguments]",FY="[object Array]",PY="[object Boolean]",OY="[object Date]",jY="[object Error]",LY="[object Function]",RY="[object Map]",_Y="[object Number]",BY="[object Object]",HY="[object RegExp]",YY="[object Set]",UY="[object String]",zY="[object WeakMap]",VY="[object ArrayBuffer]",WY="[object DataView]",ZY="[object Float32Array]",$Y="[object Float64Array]",qY="[object Int8Array]",GY="[object Int16Array]",JY="[object Int32Array]",KY="[object Uint8Array]",QY="[object Uint8ClampedArray]",XY="[object Uint16Array]",eU="[object Uint32Array]",Zn={};Zn[ZY]=Zn[$Y]=Zn[qY]=Zn[GY]=Zn[JY]=Zn[KY]=Zn[QY]=Zn[XY]=Zn[eU]=!0;Zn[AY]=Zn[FY]=Zn[VY]=Zn[PY]=Zn[WY]=Zn[OY]=Zn[jY]=Zn[LY]=Zn[RY]=Zn[_Y]=Zn[BY]=Zn[HY]=Zn[YY]=Zn[UY]=Zn[zY]=!1;function tU(e){return NY(e)&&kY(e.length)&&!!Zn[MY(e)]}var nU=tU;function rU(e){return function(t){return e(t)}}var k0=rU,Yv={exports:{}};Yv.exports;(function(e,t){var n=cM,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i&&n.process,u=function(){try{var d=o&&o.require&&o.require("util").types;return d||a&&a.binding&&a.binding("util")}catch{}}();e.exports=u})(Yv,Yv.exports);var bS=Yv.exports,oU=nU,iU=k0,TT=bS,IT=TT&&TT.isTypedArray,aU=IT?iU(IT):oU,SS=aU,sU=gY,lU=wS,uU=_a,cU=M0,dU=cS,fU=SS,hU=Object.prototype,pU=hU.hasOwnProperty;function mU(e,t){var n=uU(e),r=!n&&lU(e),o=!n&&!r&&cU(e),i=!n&&!r&&!o&&fU(e),a=n||r||o||i,u=a?sU(e.length,String):[],d=u.length;for(var f in e)(t||pU.call(e,f))&&!(a&&(f=="length"||o&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||dU(f,d)))&&u.push(f);return u}var EM=mU,gU=Object.prototype;function yU(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||gU;return e===n}var DS=yU;function vU(e,t){return function(n){return e(t(n))}}var CM=vU,wU=CM,bU=wU(Object.keys,Object),SU=bU,DU=DS,TU=SU,IU=Object.prototype,xU=IU.hasOwnProperty;function EU(e){if(!DU(e))return TU(e);var t=[];for(var n in Object(e))xU.call(e,n)&&n!="constructor"&&t.push(n);return t}var CU=EU,MU=EM,kU=CU,NU=yg;function AU(e){return NU(e)?MU(e):kU(e)}var bg=AU,FU=TM,PU=vS,OU=bg;function jU(e){return FU(e,OU,PU)}var MM=jU,xT=MM,LU=1,RU=Object.prototype,_U=RU.hasOwnProperty;function BU(e,t,n,r,o,i){var a=n&LU,u=xT(e),d=u.length,f=xT(t),m=f.length;if(d!=m&&!a)return!1;for(var g=d;g--;){var v=u[g];if(!(a?v in t:_U.call(t,v)))return!1}var b=i.get(e),S=i.get(t);if(b&&S)return b==t&&S==e;var T=!0;i.set(e,t),i.set(t,e);for(var I=a;++g<d;){v=u[g];var k=e[v],A=t[v];if(r)var R=a?r(A,k,v,t,e,i):r(k,A,v,e,t,i);if(!(R===void 0?k===A||o(k,A,n,r,i):R)){T=!1;break}I||(I=v=="constructor")}if(T&&!I){var j=e.constructor,B=t.constructor;j!=B&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof B=="function"&&B instanceof B)&&(T=!1)}return i.delete(e),i.delete(t),T}var HU=BU,YU=jd,UU=wl,zU=YU(UU,"DataView"),VU=zU,WU=jd,ZU=wl,$U=WU(ZU,"Promise"),qU=$U,GU=jd,JU=wl,KU=GU(JU,"Set"),QU=KU,XU=jd,ez=wl,tz=XU(ez,"WeakMap"),nz=tz,i1=VU,a1=pS,s1=qU,l1=QU,u1=nz,kM=Hh,Wh=bM,ET="[object Map]",rz="[object Object]",CT="[object Promise]",MT="[object Set]",kT="[object WeakMap]",NT="[object DataView]",oz=Wh(i1),iz=Wh(a1),az=Wh(s1),sz=Wh(l1),lz=Wh(u1),dd=kM;(i1&&dd(new i1(new ArrayBuffer(1)))!=NT||a1&&dd(new a1)!=ET||s1&&dd(s1.resolve())!=CT||l1&&dd(new l1)!=MT||u1&&dd(new u1)!=kT)&&(dd=function(e){var t=kM(e),n=t==rz?e.constructor:void 0,r=n?Wh(n):"";if(r)switch(r){case oz:return NT;case iz:return ET;case az:return CT;case sz:return MT;case lz:return kT}return t});var N0=dd,sb=gS,uz=SM,cz=tY,dz=HU,AT=N0,FT=_a,PT=M0,fz=SS,hz=1,OT="[object Arguments]",jT="[object Array]",Hy="[object Object]",pz=Object.prototype,LT=pz.hasOwnProperty;function mz(e,t,n,r,o,i){var a=FT(e),u=FT(t),d=a?jT:AT(e),f=u?jT:AT(t);d=d==OT?Hy:d,f=f==OT?Hy:f;var m=d==Hy,g=f==Hy,v=d==f;if(v&&PT(e)){if(!PT(t))return!1;a=!0,m=!1}if(v&&!m)return i||(i=new sb),a||fz(e)?uz(e,t,n,r,o,i):cz(e,t,d,n,r,o,i);if(!(n&hz)){var b=m&&LT.call(e,"__wrapped__"),S=g&&LT.call(t,"__wrapped__");if(b||S){var T=b?e.value():e,I=S?t.value():t;return i||(i=new sb),o(T,I,n,r,i)}}return v?(i||(i=new sb),dz(e,t,n,r,o,i)):!1}var gz=mz,yz=gz,RT=yc;function NM(e,t,n,r,o){return e===t?!0:e==null||t==null||!RT(e)&&!RT(t)?e!==e&&t!==t:yz(e,t,n,r,NM,o)}var TS=NM,vz=TS;function wz(e,t){return vz(e,t)}var bz=wz;const Sz=Zr(bz);function lb(e,t){var n=dS(e);return n?n.innerHeight:t?e.clientHeight:bd(e).height}function AM(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(SR(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function Dz(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var Tz=Dz,Iz=gS,xz=TS,Ez=1,Cz=2;function Mz(e,t,n,r){var o=n.length,i=o,a=!r;if(e==null)return!i;for(e=Object(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<i;){u=n[o];var d=u[0],f=e[d],m=u[1];if(a&&u[2]){if(f===void 0&&!(d in e))return!1}else{var g=new Iz;if(r)var v=r(f,m,d,e,t,g);if(!(v===void 0?xz(m,f,Ez|Cz,r,g):v))return!1}}return!0}var kz=Mz,Nz=uu;function Az(e){return e===e&&!Nz(e)}var FM=Az,Fz=FM,Pz=bg;function Oz(e){for(var t=Pz(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Fz(o)]}return t}var jz=Oz;function Lz(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var PM=Lz,Rz=kz,_z=jz,Bz=PM;function Hz(e){var t=_z(e);return t.length==1&&t[0][2]?Bz(t[0][0],t[0][1]):function(n){return n===e||Rz(n,e,t)}}var Yz=Hz,Uz=_a,zz=vg,Vz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wz=/^\w*$/;function Zz(e,t){if(Uz(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||zz(e)?!0:Wz.test(e)||!Vz.test(e)||t!=null&&e in Object(t)}var IS=Zz,OM=mS,$z="Expected a function";function xS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError($z);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(xS.Cache||OM),n}xS.Cache=OM;var qz=xS,Gz=qz,Jz=500;function Kz(e){var t=Gz(e,function(r){return n.size===Jz&&n.clear(),r}),n=t.cache;return t}var Qz=Kz,Xz=Qz,eV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tV=/\\(\\)?/g,nV=Xz(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(eV,function(n,r,o,i){t.push(o?i.replace(tV,"$1"):r||n)}),t}),rV=nV;function oV(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var ES=oV,_T=Bh,iV=ES,aV=_a,sV=vg,lV=1/0,BT=_T?_T.prototype:void 0,HT=BT?BT.toString:void 0;function jM(e){if(typeof e=="string")return e;if(aV(e))return iV(e,jM)+"";if(sV(e))return HT?HT.call(e):"";var t=e+"";return t=="0"&&1/e==-lV?"-0":t}var uV=jM,cV=uV;function dV(e){return e==null?"":cV(e)}var fV=dV,hV=_a,pV=IS,mV=rV,gV=fV;function yV(e,t){return hV(e)?e:pV(e,t)?[e]:mV(gV(e))}var A0=yV,vV=vg,wV=1/0;function bV(e){if(typeof e=="string"||vV(e))return e;var t=e+"";return t=="0"&&1/e==-wV?"-0":t}var Sg=bV,SV=A0,DV=Sg;function TV(e,t){t=SV(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[DV(t[n++])];return n&&n==r?e:void 0}var F0=TV,IV=F0;function xV(e,t,n){var r=e==null?void 0:IV(e,t);return r===void 0?n:r}var EV=xV;function CV(e,t){return e!=null&&t in Object(e)}var MV=CV,kV=A0,NV=wS,AV=_a,FV=cS,PV=uS,OV=Sg;function jV(e,t,n){t=kV(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=OV(t[r]);if(!(i=e!=null&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&PV(o)&&FV(a,o)&&(AV(e)||NV(e)))}var LV=jV,RV=MV,_V=LV;function BV(e,t){return e!=null&&_V(e,t,RV)}var HV=BV,YV=TS,UV=EV,zV=HV,VV=IS,WV=FM,ZV=PM,$V=Sg,qV=1,GV=2;function JV(e,t){return VV(e)&&WV(t)?ZV($V(e),t):function(n){var r=UV(n,e);return r===void 0&&r===t?zV(n,e):YV(t,r,qV|GV)}}var KV=JV;function QV(e){return e}var P0=QV;function XV(e){return function(t){return t==null?void 0:t[e]}}var eW=XV,tW=F0;function nW(e){return function(t){return tW(t,e)}}var rW=nW,oW=eW,iW=rW,aW=IS,sW=Sg;function lW(e){return aW(e)?oW(sW(e)):iW(e)}var uW=lW,cW=Yz,dW=KV,fW=P0,hW=_a,pW=uW;function mW(e){return typeof e=="function"?e:e==null?fW:typeof e=="object"?hW(e)?dW(e[0],e[1]):cW(e):pW(e)}var O0=mW,gW=Tz,yW=O0,vW=hM,wW=Math.max;function bW(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:vW(n);return o<0&&(o=wW(r+o,0)),gW(e,yW(t),o)}var SW=bW;const DW=Zr(SW);var TW=Math.ceil,IW=Math.max;function xW(e,t,n,r){for(var o=-1,i=IW(TW((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}var EW=xW,CW=EW,MW=T0,ub=fM;function kW(e){return function(t,n,r){return r&&typeof r!="number"&&MW(t,n,r)&&(n=r=void 0),t=ub(t),n===void 0?(n=t,t=0):n=ub(n),r=r===void 0?t<n?1:-1:ub(r),CW(t,n,r,e)}}var NW=kW,AW=NW,FW=AW(),PW=FW;const OW=Zr(PW);var YT=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function jW(e,t){return!!(e===t||YT(e)&&YT(t))}function LW(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!jW(e[n],t[n]))return!1;return!0}function LM(e,t){t===void 0&&(t=LW);var n=null;function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var a=e.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){n=null},r}var UT=Bh,RW=wS,_W=_a,zT=UT?UT.isConcatSpreadable:void 0;function BW(e){return _W(e)||RW(e)||!!(zT&&e&&e[zT])}var HW=BW,YW=yS,UW=HW;function RM(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=UW),o||(o=[]);++i<a;){var u=e[i];t>0&&n(u)?t>1?RM(u,t-1,n,r,o):YW(o,u):r||(o[o.length]=u)}return o}var _M=RM;function zW(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var d=a[e?u:++o];if(n(i[d],d,i)===!1)break}return t}}var VW=zW,WW=VW,ZW=WW(),$W=ZW,qW=$W,GW=bg;function JW(e,t){return e&&qW(e,t,GW)}var CS=JW,KW=yg;function QW(e,t){return function(n,r){if(n==null)return n;if(!KW(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}var XW=QW,eZ=CS,tZ=XW,nZ=tZ(eZ),rZ=nZ,oZ=rZ,iZ=yg;function aZ(e,t){var n=-1,r=iZ(e)?Array(e.length):[];return oZ(e,function(o,i,a){r[++n]=t(o,i,a)}),r}var sZ=aZ;function lZ(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var uZ=lZ,VT=vg;function cZ(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=VT(e),a=t!==void 0,u=t===null,d=t===t,f=VT(t);if(!u&&!f&&!i&&e>t||i&&a&&d&&!u&&!f||r&&a&&d||!n&&d||!o)return 1;if(!r&&!i&&!f&&e<t||f&&n&&o&&!r&&!i||u&&n&&o||!a&&o||!d)return-1}return 0}var dZ=cZ,fZ=dZ;function hZ(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,u=n.length;++r<a;){var d=fZ(o[r],i[r]);if(d){if(r>=u)return d;var f=n[r];return d*(f=="desc"?-1:1)}}return e.index-t.index}var pZ=hZ,cb=ES,mZ=F0,gZ=O0,yZ=sZ,vZ=uZ,wZ=k0,bZ=pZ,SZ=P0,DZ=_a;function TZ(e,t,n){t.length?t=cb(t,function(i){return DZ(i)?function(a){return mZ(a,i.length===1?i[0]:i)}:i}):t=[SZ];var r=-1;t=cb(t,wZ(gZ));var o=yZ(e,function(i,a,u){var d=cb(t,function(f){return f(i)});return{criteria:d,index:++r,value:i}});return vZ(o,function(i,a){return bZ(i,a,n)})}var IZ=TZ;function xZ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var EZ=xZ,CZ=EZ,WT=Math.max;function MZ(e,t,n){return t=WT(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=WT(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=r[o];return u[t]=n(a),CZ(e,this,u)}}var BM=MZ;function kZ(e){return function(){return e}}var NZ=kZ,AZ=jd,FZ=function(){try{var e=AZ(Object,"defineProperty");return e({},"",{}),e}catch{}}(),HM=FZ,PZ=NZ,ZT=HM,OZ=P0,jZ=ZT?function(e,t){return ZT(e,"toString",{configurable:!0,enumerable:!1,value:PZ(t),writable:!0})}:OZ,LZ=jZ,RZ=800,_Z=16,BZ=Date.now;function HZ(e){var t=0,n=0;return function(){var r=BZ(),o=_Z-(r-n);if(n=r,o>0){if(++t>=RZ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var YZ=HZ,UZ=LZ,zZ=YZ,VZ=zZ(UZ),YM=VZ,WZ=P0,ZZ=BM,$Z=YM;function qZ(e,t){return $Z(ZZ(e,t,WZ),e+"")}var UM=qZ,GZ=_M,JZ=IZ,KZ=UM,$T=T0,QZ=KZ(function(e,t){if(e==null)return[];var n=t.length;return n>1&&$T(e,t[0],t[1])?t=[]:n>2&&$T(t[0],t[1],t[2])&&(t=[t[0]]),JZ(e,GZ(t,1),[])}),XZ=QZ;const e$=Zr(XZ);function c1(e,t){var n=dS(e);return n?n.innerWidth:t?e.clientWidth:bd(e).width}function zM(e){return $C(e)||lM(e)||iS(e)||qC()}function t$(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var VM=t$,qT=HM;function n$(e,t,n){t=="__proto__"&&qT?qT(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var MS=n$,r$=MS,o$=gg,i$=Object.prototype,a$=i$.hasOwnProperty;function s$(e,t,n){var r=e[t];(!(a$.call(e,t)&&o$(r,n))||n===void 0&&!(t in e))&&r$(e,t,n)}var WM=s$,l$=WM,u$=MS;function c$(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var u=t[i],d=r?r(n[u],e[u],u,n,e):void 0;d===void 0&&(d=e[u]),o?u$(n,u,d):l$(n,u,d)}return n}var Dg=c$,d$=Dg,f$=bg;function h$(e,t){return e&&d$(t,f$(t),e)}var p$=h$;function m$(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var g$=m$,y$=uu,v$=DS,w$=g$,b$=Object.prototype,S$=b$.hasOwnProperty;function D$(e){if(!y$(e))return w$(e);var t=v$(e),n=[];for(var r in e)r=="constructor"&&(t||!S$.call(e,r))||n.push(r);return n}var T$=D$,I$=EM,x$=T$,E$=yg;function C$(e){return E$(e)?I$(e,!0):x$(e)}var j0=C$,M$=Dg,k$=j0;function N$(e,t){return e&&M$(t,k$(t),e)}var A$=N$,Uv={exports:{}};Uv.exports;(function(e,t){var n=wl,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i?n.Buffer:void 0,u=a?a.allocUnsafe:void 0;function d(f,m){if(m)return f.slice();var g=f.length,v=u?u(g):new f.constructor(g);return f.copy(v),v}e.exports=d})(Uv,Uv.exports);var F$=Uv.exports;function P$(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var O$=P$,j$=Dg,L$=vS;function R$(e,t){return j$(e,L$(e),t)}var _$=R$,B$=CM,H$=B$(Object.getPrototypeOf,Object),L0=H$,Y$=yS,U$=L0,z$=vS,V$=IM,W$=Object.getOwnPropertySymbols,Z$=W$?function(e){for(var t=[];e;)Y$(t,z$(e)),e=U$(e);return t}:V$,ZM=Z$,$$=Dg,q$=ZM;function G$(e,t){return $$(e,q$(e),t)}var J$=G$,K$=TM,Q$=ZM,X$=j0;function eq(e){return K$(e,X$,Q$)}var $M=eq,tq=Object.prototype,nq=tq.hasOwnProperty;function rq(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&nq.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var oq=rq,GT=DM;function iq(e){var t=new e.constructor(e.byteLength);return new GT(t).set(new GT(e)),t}var kS=iq,aq=kS;function sq(e,t){var n=t?aq(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var lq=sq,uq=/\w*$/;function cq(e){var t=new e.constructor(e.source,uq.exec(e));return t.lastIndex=e.lastIndex,t}var dq=cq,JT=Bh,KT=JT?JT.prototype:void 0,QT=KT?KT.valueOf:void 0;function fq(e){return QT?Object(QT.call(e)):{}}var hq=fq,pq=kS;function mq(e,t){var n=t?pq(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var gq=mq,yq=kS,vq=lq,wq=dq,bq=hq,Sq=gq,Dq="[object Boolean]",Tq="[object Date]",Iq="[object Map]",xq="[object Number]",Eq="[object RegExp]",Cq="[object Set]",Mq="[object String]",kq="[object Symbol]",Nq="[object ArrayBuffer]",Aq="[object DataView]",Fq="[object Float32Array]",Pq="[object Float64Array]",Oq="[object Int8Array]",jq="[object Int16Array]",Lq="[object Int32Array]",Rq="[object Uint8Array]",_q="[object Uint8ClampedArray]",Bq="[object Uint16Array]",Hq="[object Uint32Array]";function Yq(e,t,n){var r=e.constructor;switch(t){case Nq:return yq(e);case Dq:case Tq:return new r(+e);case Aq:return vq(e,n);case Fq:case Pq:case Oq:case jq:case Lq:case Rq:case _q:case Bq:case Hq:return Sq(e,n);case Iq:return new r;case xq:case Mq:return new r(e);case Eq:return wq(e);case Cq:return new r;case kq:return bq(e)}}var Uq=Yq,zq=uu,XT=Object.create,Vq=function(){function e(){}return function(t){if(!zq(t))return{};if(XT)return XT(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),qM=Vq,Wq=qM,Zq=L0,$q=DS;function qq(e){return typeof e.constructor=="function"&&!$q(e)?Wq(Zq(e)):{}}var Gq=qq,Jq=N0,Kq=yc,Qq="[object Map]";function Xq(e){return Kq(e)&&Jq(e)==Qq}var eG=Xq,tG=eG,nG=k0,eI=bS,tI=eI&&eI.isMap,rG=tI?nG(tI):tG,oG=rG,iG=N0,aG=yc,sG="[object Set]";function lG(e){return aG(e)&&iG(e)==sG}var uG=lG,cG=uG,dG=k0,nI=bS,rI=nI&&nI.isSet,fG=rI?dG(rI):cG,hG=fG,pG=gS,mG=VM,gG=WM,yG=p$,vG=A$,wG=F$,bG=O$,SG=_$,DG=J$,TG=MM,IG=$M,xG=N0,EG=oq,CG=Uq,MG=Gq,kG=_a,NG=M0,AG=oG,FG=uu,PG=hG,OG=bg,jG=j0,LG=1,RG=2,_G=4,GM="[object Arguments]",BG="[object Array]",HG="[object Boolean]",YG="[object Date]",UG="[object Error]",JM="[object Function]",zG="[object GeneratorFunction]",VG="[object Map]",WG="[object Number]",KM="[object Object]",ZG="[object RegExp]",$G="[object Set]",qG="[object String]",GG="[object Symbol]",JG="[object WeakMap]",KG="[object ArrayBuffer]",QG="[object DataView]",XG="[object Float32Array]",eJ="[object Float64Array]",tJ="[object Int8Array]",nJ="[object Int16Array]",rJ="[object Int32Array]",oJ="[object Uint8Array]",iJ="[object Uint8ClampedArray]",aJ="[object Uint16Array]",sJ="[object Uint32Array]",zn={};zn[GM]=zn[BG]=zn[KG]=zn[QG]=zn[HG]=zn[YG]=zn[XG]=zn[eJ]=zn[tJ]=zn[nJ]=zn[rJ]=zn[VG]=zn[WG]=zn[KM]=zn[ZG]=zn[$G]=zn[qG]=zn[GG]=zn[oJ]=zn[iJ]=zn[aJ]=zn[sJ]=!0;zn[UG]=zn[JM]=zn[JG]=!1;function hv(e,t,n,r,o,i){var a,u=t&LG,d=t&RG,f=t&_G;if(n&&(a=o?n(e,r,o,i):n(e)),a!==void 0)return a;if(!FG(e))return e;var m=kG(e);if(m){if(a=EG(e),!u)return bG(e,a)}else{var g=xG(e),v=g==JM||g==zG;if(NG(e))return wG(e,u);if(g==KM||g==GM||v&&!o){if(a=d||v?{}:MG(e),!u)return d?DG(e,vG(a,e)):SG(e,yG(a,e))}else{if(!zn[g])return o?e:{};a=CG(e,g,u)}}i||(i=new pG);var b=i.get(e);if(b)return b;i.set(e,a),PG(e)?e.forEach(function(I){a.add(hv(I,t,n,I,e,i))}):AG(e)&&e.forEach(function(I,k){a.set(k,hv(I,t,n,k,e,i))});var S=f?d?IG:TG:d?jG:OG,T=m?void 0:S(e);return mG(T||e,function(I,k){T&&(k=I,I=e[k]),gG(a,k,hv(I,t,n,k,e,i))}),a}var lJ=hv;function uJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var cJ=uJ,dJ=F0,fJ=uM;function hJ(e,t){return t.length<2?e:dJ(e,fJ(t,0,-1))}var pJ=hJ,mJ=A0,gJ=cJ,yJ=pJ,vJ=Sg;function wJ(e,t){return t=mJ(t,e),e=yJ(e,t),e==null||delete e[vJ(gJ(t))]}var bJ=wJ,SJ=Hh,DJ=L0,TJ=yc,IJ="[object Object]",xJ=Function.prototype,EJ=Object.prototype,QM=xJ.toString,CJ=EJ.hasOwnProperty,MJ=QM.call(Object);function kJ(e){if(!TJ(e)||SJ(e)!=IJ)return!1;var t=DJ(e);if(t===null)return!0;var n=CJ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&QM.call(n)==MJ}var NJ=kJ,AJ=NJ;function FJ(e){return AJ(e)?void 0:e}var PJ=FJ,OJ=_M;function jJ(e){var t=e==null?0:e.length;return t?OJ(e,1):[]}var LJ=jJ,RJ=LJ,_J=BM,BJ=YM;function HJ(e){return BJ(_J(e,void 0,RJ),e+"")}var YJ=HJ,UJ=ES,zJ=lJ,VJ=bJ,WJ=A0,ZJ=Dg,$J=PJ,qJ=YJ,GJ=$M,JJ=1,KJ=2,QJ=4,XJ=qJ(function(e,t){var n={};if(e==null)return n;var r=!1;t=UJ(t,function(i){return i=WJ(i,e),r||(r=i.length>1),i}),ZJ(e,GJ(e),n),r&&(n=zJ(n,JJ|KJ|QJ,$J));for(var o=t.length;o--;)VJ(n,t[o]);return n}),eK=XJ;const tK=Zr(eK);var nK=UM,rK=gg,oK=T0,iK=j0,XM=Object.prototype,aK=XM.hasOwnProperty,sK=nK(function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&oK(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=iK(i),u=-1,d=a.length;++u<d;){var f=a[u],m=e[f];(m===void 0||rK(m,XM[f])&&!aK.call(e,f))&&(e[f]=i[f])}return e}),lK=sK;const uK=Zr(lK);var cK=VM,dK=qM,fK=CS,hK=O0,pK=L0,mK=_a,gK=M0,yK=lS,vK=uu,wK=SS;function bK(e,t,n){var r=mK(e),o=r||gK(e)||wK(e);if(t=hK(t),n==null){var i=e&&e.constructor;o?n=r?new i:[]:vK(e)?n=yK(i)?dK(pK(e)):{}:n={}}return(o?cK:fK)(e,function(a,u,d){return t(n,a,u,d)}),n}var SK=bK;const DK=Zr(SK);var TK=MS,IK=CS,xK=O0;function EK(e,t){var n={};return t=xK(t),IK(e,function(r,o,i){TK(n,o,t(r,o,i))}),n}var CK=EK;const MK=Zr(CK);var kK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){return function(n,r,o){r.prototype.isBetween=function(i,a,u,d){var f=o(i),m=o(a),g=(d=d||"()")[0]==="(",v=d[1]===")";return(g?this.isAfter(f,u):!this.isBefore(f,u))&&(v?this.isBefore(m,u):!this.isAfter(m,u))||(g?this.isBefore(f,u):!this.isAfter(f,u))&&(v?this.isAfter(m,u):!this.isBefore(m,u))}}})})(kK);var NK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){return function(n,r){r.prototype.isSameOrAfter=function(o,i){return this.isSame(o,i)||this.isAfter(o,i)}}})})(NK);var AK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){return function(n,r){r.prototype.isSameOrBefore=function(o,i){return this.isSame(o,i)||this.isBefore(o,i)}}})})(AK);var FK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){return function(n,r,o){var i=r.prototype,a=function(g){return g&&(g.indexOf?g:g.s)},u=function(g,v,b,S,T){var I=g.name?g:g.$locale(),k=a(I[v]),A=a(I[b]),R=k||A.map(function(B){return B.slice(0,S)});if(!T)return R;var j=I.weekStart;return R.map(function(B,L){return R[(L+(j||0))%7]})},d=function(){return o.Ls[o.locale()]},f=function(g,v){return g.formats[v]||function(b){return b.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,T,I){return T||I.slice(1)})}(g.formats[v.toUpperCase()])},m=function(){var g=this;return{months:function(v){return v?v.format("MMMM"):u(g,"months")},monthsShort:function(v){return v?v.format("MMM"):u(g,"monthsShort","months",3)},firstDayOfWeek:function(){return g.$locale().weekStart||0},weekdays:function(v){return v?v.format("dddd"):u(g,"weekdays")},weekdaysMin:function(v){return v?v.format("dd"):u(g,"weekdaysMin","weekdays",2)},weekdaysShort:function(v){return v?v.format("ddd"):u(g,"weekdaysShort","weekdays",3)},longDateFormat:function(v){return f(g.$locale(),v)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return m.bind(this)()},o.localeData=function(){var g=d();return{firstDayOfWeek:function(){return g.weekStart||0},weekdays:function(){return o.weekdays()},weekdaysShort:function(){return o.weekdaysShort()},weekdaysMin:function(){return o.weekdaysMin()},months:function(){return o.months()},monthsShort:function(){return o.monthsShort()},longDateFormat:function(v){return f(g,v)},meridiem:g.meridiem,ordinal:g.ordinal}},o.months=function(){return u(d(),"months")},o.monthsShort=function(){return u(d(),"monthsShort","months",3)},o.weekdays=function(g){return u(d(),"weekdays",null,null,g)},o.weekdaysShort=function(g){return u(d(),"weekdaysShort","weekdays",3,g)},o.weekdaysMin=function(g){return u(d(),"weekdaysMin","weekdays",2,g)}}})})(FK);var PK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,o,i){var a=o.prototype,u=a.format;i.en.formats=n,a.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var f=this.$locale().formats,m=function(g,v){return g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(b,S,T){var I=T&&T.toUpperCase();return S||v[T]||n[T]||v[I].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,A,R){return A||R.slice(1)})})}(d,f===void 0?{}:f);return u.call(this,m)}}})})(PK);var OK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){return function(n,r,o){var i=function(a,u){if(!u||!u.length||u.length===1&&!u[0]||u.length===1&&Array.isArray(u[0])&&!u[0].length)return null;var d;u.length===1&&u[0].length>0&&(u=u[0]),d=(u=u.filter(function(m){return m}))[0];for(var f=1;f<u.length;f+=1)u[f].isValid()&&!u[f][a](d)||(d=u[f]);return d};o.max=function(){var a=[].slice.call(arguments,0);return i("isAfter",a)},o.min=function(){var a=[].slice.call(arguments,0);return i("isBefore",a)}}})})(OK);var jK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zr,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(i,a,u){var d=a.prototype;u.utc=function(T){var I={date:T,utc:!0,args:arguments};return new a(I)},d.utc=function(T){var I=u(this.toDate(),{locale:this.$L,utc:!0});return T?I.add(this.utcOffset(),n):I},d.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var f=d.parse;d.parse=function(T){T.utc&&(this.$u=!0),this.$utils().u(T.$offset)||(this.$offset=T.$offset),f.call(this,T)};var m=d.init;d.init=function(){if(this.$u){var T=this.$d;this.$y=T.getUTCFullYear(),this.$M=T.getUTCMonth(),this.$D=T.getUTCDate(),this.$W=T.getUTCDay(),this.$H=T.getUTCHours(),this.$m=T.getUTCMinutes(),this.$s=T.getUTCSeconds(),this.$ms=T.getUTCMilliseconds()}else m.call(this)};var g=d.utcOffset;d.utcOffset=function(T,I){var k=this.$utils().u;if(k(T))return this.$u?0:k(this.$offset)?g.call(this):this.$offset;if(typeof T=="string"&&(T=function(B){B===void 0&&(B="");var L=B.match(r);if(!L)return null;var z=(""+L[0]).match(o)||["-",0,0],U=z[0],W=60*+z[1]+ +z[2];return W===0?0:U==="+"?W:-W}(T),T===null))return this;var A=Math.abs(T)<=16?60*T:T,R=this;if(I)return R.$offset=A,R.$u=T===0,R;if(T!==0){var j=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(R=this.local().add(A+j,n)).$offset=A,R.$x.$localOffset=j}else R=this.utc();return R};var v=d.format;d.format=function(T){var I=T||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,I)},d.valueOf=function(){var T=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*T},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var b=d.toDate;d.toDate=function(T){return T==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():b.call(this)};var S=d.diff;d.diff=function(T,I,k){if(T&&this.$u===T.$u)return S.call(this,T,I,k);var A=this.local(),R=u(T).local();return S.call(A,R,I,k)}}})})(jK);function Kl(e){return e.children}var Pi={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},ii={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},oI=Object.keys(ii).map(function(e){return ii[e]});ke.oneOfType([ke.string,ke.func]);ke.any;ke.func;ke.oneOfType([ke.arrayOf(ke.oneOf(oI)),ke.objectOf(function(e,t){var n=oI.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return ke.elementType.apply(ke,[e,t].concat(o))})]);ke.oneOfType([ke.oneOf(["overlap","no-overlap"]),ke.func]);function Xn(e,t){e&&e.apply(null,[].concat(t))}var iI={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function e3(e,t){var n=Io(e,"month");return Io(n,"week",t.startOfWeek())}function t3(e,t){var n=Rv(e,"month");return Rv(n,"week",t.startOfWeek())}function LK(e,t){for(var n=e3(e,t),r=t3(e,t),o=[];Rh(n,r,"day");)o.push(n),n=ms(n,1,"day");return o}function RK(e,t){var n=Io(e,t);return pg(n,e)?n:ms(n,1,t)}function _K(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,o=[];Rh(r,t,n);)o.push(r),r=ms(r,1,n);return o}function BK(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Io(e,"day"),e=zm(e,zm(t)),e=Th(e,Th(t)),e=Um(e,Um(t)),Ym(e,Ym(t)))}function aI(e){return zm(e)===0&&Th(e)===0&&Um(e)===0&&Ym(e)===0}function HK(e,t,n,r){return n==="day"&&(n="date"),Math.abs(K2[n](e,void 0,r)-K2[n](t,void 0,r))}function NS(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Io(e,n)/iI[n]-+Io(t,n)/iI[n]))}var YK=ke.oneOfType([ke.string,ke.func]);function UK(e,t,n,r,o){var i=typeof r=="function"?r(n,o,e):t.call(e,n,r,o);return jm(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function zK(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function AS(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function VK(e,t){return NS(e,t,"minutes")+AS(e,t)}function WK(e){var t=Io(e,"day");return NS(t,e,"minutes")+AS(t,e)}function ZK(e,t){return sS(e,t,"day")}function $K(e,t,n){var r=pg(e,t,"minutes");return r?mg(t,n,"minutes"):D0(t,n,"minutes")}function d1(e,t){return HK(e,t,"day")}function qK(e){var t=e.evtA,n=t.start,r=t.end,o=t.allDay,i=e.evtB,a=i.start,u=i.end,d=i.allDay,f=+Io(n,"day")-+Io(a,"day"),m=d1(n,r),g=d1(a,u);return f||g-m||!!d-!!o||+n-+a||+r-+u}function GK(e){var t=e.event,n=t.start,r=t.end,o=e.range,i=o.start,a=o.end,u=Io(n,"day"),d=Rh(u,a,"day"),f=aS(u,r,"minutes"),m=f?D0(r,i,"minutes"):mg(r,i,"minutes");return d&&m}function JK(e,t){return pg(e,t,"day")}function KK(e,t){return aI(e)&&aI(t)}var QK=uo(function e(t){var n=this;lo(this,e),jm(typeof t.format=="function","date localizer `format(..)` must be a function"),jm(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||YK,this.formats=t.formats,this.format=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return UK.apply(void 0,[n,t.format].concat(o))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||BK,this.inRange=t.inRange||oM,this.lt=t.lt||sS,this.lte=t.lte||Rh,this.gt=t.gt||D0,this.gte=t.gte||mg,this.eq=t.eq||pg,this.neq=t.neq||aS,this.startOf=t.startOf||Io,this.endOf=t.endOf||Rv,this.add=t.add||ms,this.range=t.range||_K,this.diff=t.diff||NS,this.ceil=t.ceil||RK,this.min=t.min||nM,this.max=t.max||rM,this.minutes=t.minutes||Th,this.daySpan=t.daySpan||d1,this.firstVisibleDay=t.firstVisibleDay||e3,this.lastVisibleDay=t.lastVisibleDay||t3,this.visibleDays=t.visibleDays||LK,this.getSlotDate=t.getSlotDate||zK,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||AS,this.getTotalMin=t.getTotalMin||VK,this.getMinutesFromMidnight=t.getMinutesFromMidnight||WK,this.continuesPrior=t.continuesPrior||ZK,this.continuesAfter=t.continuesAfter||$K,this.sortEvents=t.sortEvents||qK,this.inEventRange=t.inEventRange||GK,this.isSameDate=t.isSameDate||JK,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||KK,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function XK(e,t,n,r){var o=Un(Un({},e.formats),n);return Un(Un({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(a,u){return e.format(a,o[u]||u,t)}})}var eQ={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function tQ(e){return Un(Un({},eQ),e)}function nQ(e){var t=e.ref,n=e.callback;F.useEffect(function(){var r=function(i){t.current&&!t.current.contains(i.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var rQ=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],n3=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.style,i=r.className,a=r.event,u=r.selected,d=r.isAllDay,f=r.onSelect,m=r.onDoubleClick,g=r.onKeyPress,v=r.localizer,b=r.continuesPrior,S=r.continuesAfter,T=r.accessors,I=r.getters,k=r.children,A=r.components,R=A.event,j=A.eventWrapper,B=r.slotStart,L=r.slotEnd,z=vl(r,rQ);delete z.resizable;var U=T.title(a),W=T.tooltip(a),Z=T.end(a),re=T.start(a),Q=T.allDay(a),ce=d||Q||v.diff(re,v.ceil(Z,"day"),"day")>1,ee=I.eventProp(a,re,Z,u),fe=se.createElement("div",{className:"rbc-event-content",title:W||void 0},R?se.createElement(R,{event:a,continuesPrior:b,continuesAfter:S,title:U,isAllDay:Q,localizer:v,slotStart:B,slotEnd:L}):U);return se.createElement(j,Object.assign({},this.props,{type:"date"}),se.createElement("div",Object.assign({},z,{style:Un(Un({},ee.style),o),className:Wr("rbc-event",i,ee.className,{"rbc-selected":u,"rbc-event-allday":ce,"rbc-event-continues-prior":b,"rbc-event-continues-after":S}),onClick:function(le){return f&&f(a,le)},onDoubleClick:function(le){return m&&m(a,le)},onKeyDown:function(le){return g&&g(a,le)}}),typeof k=="function"?k(fe):fe))}}]),t}(se.Component);function R0(e,t){return!e||t==null?!1:Sz(e,t)}function r3(e,t){var n=e.right-e.left,r=n/t;return r}function o3(e,t,n,r){var o=r3(e,r);return n?r-1-Math.floor((t-e.left)/o):Math.floor((t-e.left)/o)}function oQ(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function iQ(e,t,n,r,o){var i=-1,a=-1,u=r-1,d=r3(t,r),f=o3(t,n.x,o,r),m=t.top<n.y&&t.bottom>n.y,g=t.top<e.y&&t.bottom>e.y,v=e.y>t.bottom,b=t.top>e.y,S=n.top<t.top&&n.bottom>t.bottom;return S&&(i=0,a=u),m&&(b?(i=0,a=f):v&&(i=f,a=u)),g&&(i=a=o?u-Math.floor((e.x-t.left)/d):Math.floor((e.x-t.left)/d),m?f<i?i=f:a=f:e.y<n.y?a=u:i=0),{startIdx:i,endIdx:a}}function aQ(e){var t=e.target,n=e.offset,r=e.container,o=e.box,i=bd(t),a=i.top,u=i.left,d=i.width,f=i.height,m=bd(r),g=m.top,v=m.left,b=m.width,S=m.height,T=bd(o),I=T.width,k=T.height,A=g+S,R=v+b,j=a+k,B=u+I,L=n.x,z=n.y,U=j>A?a-k-z:a+z+f,W=B>R?u+L-I+d:u+L;return{topOffset:U,leftOffset:W}}function sQ(e){var t=e.containerRef,n=e.accessors,r=e.getters,o=e.selected,i=e.components,a=e.localizer,u=e.position,d=e.show,f=e.events,m=e.slotStart,g=e.slotEnd,v=e.onSelect,b=e.onDoubleClick,S=e.onKeyPress,T=e.handleDragStart,I=e.popperRef,k=e.target,A=e.offset;nQ({ref:I,callback:d}),F.useLayoutEffect(function(){var B=aQ({target:k,offset:A,container:t.current,box:I.current}),L=B.topOffset,z=B.leftOffset;I.current.style.top="".concat(L,"px"),I.current.style.left="".concat(z,"px")},[A.x,A.y,k]);var R=u.width,j={minWidth:R+R/2};return se.createElement("div",{style:j,className:"rbc-overlay",ref:I},se.createElement("div",{className:"rbc-overlay-header"},a.format(m,"dayHeaderFormat")),f.map(function(B,L){return se.createElement(n3,{key:L,type:"popup",localizer:a,event:B,getters:r,onSelect:v,accessors:n,components:i,onDoubleClick:b,onKeyPress:S,continuesPrior:a.lt(n.end(B),m,"day"),continuesAfter:a.gte(n.start(B),g,"day"),slotStart:m,slotEnd:g,selected:R0(B,o),draggable:!0,onDragStart:function(){return T(B)},onDragEnd:function(){return d()}})}))}var i3=se.forwardRef(function(e,t){return se.createElement(sQ,Object.assign({},e,{popperRef:t}))});i3.propTypes={accessors:ke.object.isRequired,getters:ke.object.isRequired,selected:ke.object,components:ke.object.isRequired,localizer:ke.object.isRequired,position:ke.object.isRequired,show:ke.func.isRequired,events:ke.array.isRequired,slotStart:ke.instanceOf(Date).isRequired,slotEnd:ke.instanceOf(Date),onSelect:ke.func,onDoubleClick:ke.func,onKeyPress:ke.func,handleDragStart:ke.func,style:ke.object,offset:ke.shape({x:ke.number,y:ke.number})};function lQ(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,o=e.overlay,i=e.accessors,a=e.localizer,u=e.components,d=e.getters,f=e.selected,m=e.handleSelectEvent,g=e.handleDoubleClickEvent,v=e.handleKeyPressEvent,b=e.handleDragStart,S=e.onHide,T=e.overlayDisplay,I=F.useRef(null);if(!o.position)return null;var k=r;isNaN(r)||(k={x:r,y:r});var A=o.position,R=o.events,j=o.date,B=o.end;return se.createElement(qR,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:S,target:o.target},function(L){var z=L.props;return se.createElement(i3,Object.assign({},z,{containerRef:t,ref:I,target:o.target,offset:k,accessors:i,getters:d,selected:f,components:u,localizer:a,position:A,show:T,events:R,slotStart:j,slotEnd:B,onSelect:m,onDoubleClick:g,onKeyPress:v,handleDragStart:b}))})}var FS=se.forwardRef(function(e,t){return se.createElement(lQ,Object.assign({},e,{containerRef:t}))});FS.propTypes={popupOffset:ke.oneOfType([ke.number,ke.shape({x:ke.number,y:ke.number})]),overlay:ke.shape({position:ke.object,events:ke.array,date:ke.instanceOf(Date),end:ke.instanceOf(Date)}),accessors:ke.object.isRequired,localizer:ke.object.isRequired,components:ke.object.isRequired,getters:ke.object.isRequired,selected:ke.object,handleSelectEvent:ke.func,handleDoubleClickEvent:ke.func,handleKeyPressEvent:ke.func,handleDragStart:ke.func,onHide:ke.func,overlayDisplay:ke.func};function Lo(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return ym(n,e,t,{passive:!1})}function uQ(e,t,n){return!e||Vm(e,document.elementFromPoint(t,n))}function cQ(e,t){var n=t.clientX,r=t.clientY,o=document.elementFromPoint(n,r);return AM(o,".rbc-event",e)}function dQ(e,t){var n=t.clientX,r=t.clientY,o=document.elementFromPoint(n,r);return AM(o,".rbc-show-more",e)}function zv(e,t){return!!cQ(e,t)}function fQ(e,t){return!!dQ(e,t)}function eh(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var sI=5,hQ=250,a3=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,o=r===void 0?!1:r,i=n.longPressThreshold,a=i===void 0?250:i,u=n.validContainers,d=u===void 0?[]:u;lo(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||o,this.longPressThreshold=a,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Lo("touchmove",function(){},window),this._removeKeyDownListener=Lo("keydown",this._keyListener),this._removeKeyUpListener=Lo("keyup",this._keyListener),this._removeDropFromOutsideListener=Lo("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Lo("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return uo(e,[{key:"on",value:function(n,r){var o=this._listeners[n]||(this._listeners[n]=[]);return o.push(r),{remove:function(){var a=o.indexOf(r);a!==-1&&o.splice(a,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a,u=this._listeners[n]||[];return u.forEach(function(d){a===void 0&&(a=d.apply(void 0,o))}),a}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:lI(r,kd(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var o=this,i=null,a=null,u=null,d=function(v){i=setTimeout(function(){m(),n(v)},o.longPressThreshold),a=Lo("touchmove",function(){return m()}),u=Lo("touchend",function(){return m()})},f=Lo("touchstart",d),m=function(){i&&clearTimeout(i),a&&a(),u&&u(),i=null,a=null,u=null};return r&&d(r),function(){m(),f()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=Lo("mousedown",function(i){n._removeInitialEventListener(),n._handleInitialEvent(i),n._removeInitialEventListener=Lo("mousedown",n._handleInitialEvent)}),o=Lo("touchstart",function(i){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,i)});this._removeInitialEventListener=function(){r(),o()}}},{key:"_dropFromOutsideListener",value:function(n){var r=eh(n),o=r.pageX,i=r.pageY,a=r.clientX,u=r.clientY;this.emit("dropFromOutside",{x:o,y:i,clientX:a,clientY:u}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=eh(n),o=r.pageX,i=r.pageY,a=r.clientX,u=r.clientY;this.emit("dragOverFromOutside",{x:o,y:i,clientX:a,clientY:u}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(!this.isDetached){var r=eh(n),o=r.clientX,i=r.clientY,a=r.pageX,u=r.pageY,d=this.container(),f,m;if(!(n.which===3||n.button===2||!uQ(d,o,i))){if(!this.globalMouse&&d&&!Vm(d,n.target)){var g=pQ(0),v=g.top,b=g.left,S=g.bottom,T=g.right;if(m=kd(d),f=lI({top:m.top-v,left:m.left-b,bottom:m.bottom+S,right:m.right+T},{top:u,left:a}),!f)return}var I=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:a,y:u,clientX:o,clientY:i});if(I!==!1)switch(n.type){case"mousedown":this._removeEndListener=Lo("mouseup",this._handleTerminatingEvent),this._onEscListener=Lo("keydown",this._handleTerminatingEvent),this._removeMoveListener=Lo("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Lo("touchend",this._handleTerminatingEvent),this._removeMoveListener=Lo("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,o=this.validContainers;return!o||!o.length||!r?!0:o.some(function(i){return!!r.closest(i)})}},{key:"_handleTerminatingEvent",value:function(n){var r=eh(n),o=r.pageX,i=r.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),!!this._initialEventData){var a=!this.container||Vm(this.container(),n.target),u=this._isWithinValidContainer(n),d=this._selectRect,f=this.isClick(o,i);return this._initialEventData=null,n.key==="Escape"||!u?this.emit("reset"):f&&a?this._handleClickEvent(n):f?this.emit("reset"):this.emit("select",d)}}},{key:"_handleClickEvent",value:function(n){var r=eh(n),o=r.pageX,i=r.pageY,a=r.clientX,u=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<hQ?(this._lastClickData=null,this.emit("doubleClick",{x:o,y:i,clientX:a,clientY:u})):(this._lastClickData={timestamp:d},this.emit("click",{x:o,y:i,clientX:a,clientY:u}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,o=r.x,i=r.y,a=eh(n),u=a.pageX,d=a.pageY,f=Math.abs(o-u),m=Math.abs(i-d),g=Math.min(u,o),v=Math.min(d,i),b=this.selecting;this.isClick(u,d)&&!b&&!(f||m)||(this.selecting=!0,this._selectRect={top:v,left:g,x:u,y:d,right:g+f,bottom:v+m},b||this.emit("selectStart",this._initialEventData),this.isClick(u,d)||this.emit("selecting",this._selectRect),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var o=this._initialEventData,i=o.x,a=o.y,u=o.isTouch;return!u&&Math.abs(n-i)<=sI&&Math.abs(r-a)<=sI}}]),e}();function pQ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ru(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function lI(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=kd(e),o=r.top,i=r.left,a=r.right,u=a===void 0?i:a,d=r.bottom,f=d===void 0?o:d,m=kd(t),g=m.top,v=m.left,b=m.right,S=b===void 0?v:b,T=m.bottom,I=T===void 0?g:T;return!(f-n<g||o+n>I||u-n<v||i+n>S)}function kd(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+uI("left"),r=t.top+uI("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function uI(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var mQ=function(e){li(t,e);function t(n,r){var o;return lo(this,t),o=si(this,t,[n,r]),o.state={selecting:!1},o.containerRef=F.createRef(),o}return uo(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,o=r.range,i=r.getNow,a=r.getters,u=r.date,d=r.components.dateCellWrapper,f=r.localizer,m=this.state,g=m.selecting,v=m.startIdx,b=m.endIdx,S=i();return se.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},o.map(function(T,I){var k=g&&I>=v&&I<=b,A=a.dayProp(T),R=A.className,j=A.style;return se.createElement(d,{key:I,value:T,range:o},se.createElement("div",{style:j,className:Wr("rbc-day-bg",R,k&&"rbc-selected-cell",f.isSameDate(T,S)&&"rbc-today",u&&f.neq(u,T,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,o=this.containerRef.current,i=this._selector=new a3(this.props.container,{longPressThreshold:this.props.longPressThreshold}),a=function(d,f){if(!zv(o,d)&&!fQ(o,d)){var m=kd(o),g=r.props,v=g.range,b=g.rtl;if(oQ(m,d)){var S=o3(m,d.x,b,v.length);r._selectSlot({startIdx:S,endIdx:S,action:f,box:d})}}r._initial={},r.setState({selecting:!1})};i.on("selecting",function(u){var d=r.props,f=d.range,m=d.rtl,g=-1,v=-1;if(r.state.selecting||(Xn(r.props.onSelectStart,[u]),r._initial={x:u.x,y:u.y}),i.isSelected(o)){var b=kd(o),S=iQ(r._initial,b,u,f.length,m);g=S.startIdx,v=S.endIdx}r.setState({selecting:!0,startIdx:g,endIdx:v})}),i.on("beforeSelect",function(u){if(r.props.selectable==="ignoreEvents")return!zv(r.containerRef.current,u)}),i.on("click",function(u){return a(u,"click")}),i.on("doubleClick",function(u){return a(u,"doubleClick")}),i.on("select",function(u){r._selectSlot(Un(Un({},r.state),{},{action:"select",bounds:u})),r._initial={},r.setState({selecting:!1}),Xn(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var o=r.endIdx,i=r.startIdx,a=r.action,u=r.bounds,d=r.box;o!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:o,action:a,bounds:u,box:d,resourceId:this.props.resourceId})}}]),t}(se.Component),cl={propTypes:{slotMetrics:ke.object.isRequired,selected:ke.object,isAllDay:ke.bool,accessors:ke.object.isRequired,localizer:ke.object.isRequired,components:ke.object.isRequired,getters:ke.object.isRequired,onSelect:ke.func,onDoubleClick:ke.func,onKeyPress:ke.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var o=t.accessors,i=t.getters,a=t.onSelect,u=t.onDoubleClick,d=t.onKeyPress,f=t.localizer,m=t.slotMetrics,g=t.components,v=t.resizable,b=m.continuesPrior(n),S=m.continuesAfter(n);return se.createElement(n3,{event:n,getters:i,localizer:f,accessors:o,components:g,onSelect:a,onDoubleClick:u,onKeyPress:d,continuesPrior:b,continuesAfter:S,slotStart:m.first,slotEnd:m.last,selected:R0(n,r),resizable:v})},renderSpan:function(t,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(n)/t*100+"%";return se.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},o)}},s3=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return uo(t,[{key:"render",value:function(){var r=this,o=this.props,i=o.segments,a=o.slotMetrics.slots,u=o.className,d=1;return se.createElement("div",{className:Wr(u,"rbc-row")},i.reduce(function(f,m,g){var v=m.event,b=m.left,S=m.right,T=m.span,I="_lvl_"+g,k=b-d,A=cl.renderEvent(r.props,v);return k&&f.push(cl.renderSpan(a,k,"".concat(I,"_gap"))),f.push(cl.renderSpan(a,T,I,A)),d=S+1,f},[]))}}]),t}(se.Component);s3.defaultProps=Un({},cl.defaultProps);function l3(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,o=e.localizer;return{first:t[0],last:o.add(t[t.length-1],1,r)}}function gQ(e,t,n,r){var o=l3({dateRange:t,localizer:r}),i=o.first,a=o.last,u=r.diff(i,a,"day"),d=r.max(r.startOf(n.start(e),"day"),i),f=r.min(r.ceil(n.end(e),"day"),a),m=DW(t,function(v){return r.isSameDate(v,d)}),g=r.diff(d,f,"day");return g=Math.min(g,u),g=Math.max(g-r.segmentOffset,1),{event:e,span:g,left:m+1,right:Math.max(m+g,1)}}function u3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,o,i=[],a=[];for(n=0;n<e.length;n++){for(o=e[n],r=0;r<i.length&&yQ(o,i[r]);r++);r>=t?a.push(o):(i[r]||(i[r]=[])).push(o)}for(n=0;n<i.length;n++)i[n].sort(function(u,d){return u.left-d.left});return{levels:i,extra:a}}function Wm(e,t,n,r,o){var i={start:r.start(e),end:r.end(e)},a={start:t,end:n};return o.inEventRange({event:i,range:a})}function yQ(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function vQ(e,t,n){var r=fv(e),o=[],i=[];r.forEach(function(d){var f=t.start(d),m=t.end(d);n.daySpan(f,m)>1?o.push(d):i.push(d)});var a=o.sort(function(d,f){return f1(d,f,t,n)}),u=i.sort(function(d,f){return f1(d,f,t,n)});return[].concat(fv(a),fv(u))}function f1(e,t,n,r){var o={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:o,evtB:i})}var c3=function(t,n){return t.left<=n&&t.right>=n},cI=function(t,n){return t.filter(function(r){return c3(r,n)}).map(function(r){return r.event})},d3=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return uo(t,[{key:"render",value:function(){for(var r=this.props,o=r.segments,i=r.slotMetrics.slots,a=u3(o).levels[0],u=1,d=1,f=[];u<=i;){var m="_lvl_"+u,g=a.filter(function(A){return c3(A,u)})[0]||{},v=g.event,b=g.left,S=g.right,T=g.span;if(!v){u++;continue}var I=Math.max(0,b-d);if(this.canRenderSlotEvent(b,T)){var k=cl.renderEvent(this.props,v);I&&f.push(cl.renderSpan(i,I,m+"_gap")),f.push(cl.renderSpan(i,T,m,k)),d=u=S+1}else I&&f.push(cl.renderSpan(i,I,m+"_gap")),f.push(cl.renderSpan(i,1,m,this.renderShowMore(o,u))),d=u+=1}return se.createElement("div",{className:"rbc-row"},f)}},{key:"canRenderSlotEvent",value:function(r,o){var i=this.props.segments;return OW(r,r+o).every(function(a){var u=cI(i,a).length;return u===1})}},{key:"renderShowMore",value:function(r,o){var i=this,a=this.props,u=a.localizer,d=a.slotMetrics,f=d.getEventsForSlot(o),m=cI(r,o),g=m.length;return g?se.createElement("button",{type:"button",key:"sm_"+o,className:Wr("rbc-button-link","rbc-show-more"),onClick:function(b){return i.showMore(o,b)}},u.messages.showMore(g,m,f)):!1}},{key:"showMore",value:function(r,o){o.preventDefault(),o.stopPropagation(),this.props.onShowMore(r,o.target)}}]),t}(se.Component);d3.defaultProps=Un({},cl.defaultProps);var wQ=function(t){var n=t.children;return se.createElement("div",{className:"rbc-row-content-scroll-container"},n)},bQ=function(t,n){return t.left<=n&&t.right>=n},SQ=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function f3(){return LM(function(e){for(var t=e.range,n=e.events,r=e.maxRows,o=e.minRows,i=e.accessors,a=e.localizer,u=l3({dateRange:t,localizer:a}),d=u.first,f=u.last,m=n.map(function(T){return gQ(T,t,i,a)}),g=u3(m,Math.max(r-1,1)),v=g.levels,b=g.extra,S=b.length>0?o-1:o;v.length<S;)v.push([]);return{first:d,last:f,levels:v,extra:b,range:t,slots:t.length,clone:function(I){var k=f3();return k(Un(Un({},e),I))},getDateForSlot:function(I){return t[I]},getSlotForDate:function(I){return t.find(function(k){return a.isSameDate(k,I)})},getEventsForSlot:function(I){return m.filter(function(k){return bQ(k,I)}).map(function(k){return k.event})},continuesPrior:function(I){return a.continuesPrior(i.start(I),d)},continuesAfter:function(I){var k=i.start(I),A=i.end(I);return a.continuesAfter(k,A,f)}}},SQ)}var Vv=function(e){li(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=si(this,t,[].concat(o)),n.handleSelectSlot=function(a){var u=n.props,d=u.range,f=u.onSelectSlot;f(d.slice(a.start,a.end+1),a)},n.handleShowMore=function(a,u){var d=n.props,f=d.range,m=d.onShowMore,g=n.slotMetrics(n.props),v=TR(n.containerRef.current,".rbc-row-bg")[0],b;v&&(b=v.children[a-1]);var S=g.getEventsForSlot(a);m(S,f[a-1],b,a,u)},n.getContainer=function(){var a=n.props.container;return a?a():n.containerRef.current},n.renderHeadingCell=function(a,u){var d=n.props,f=d.renderHeader,m=d.getNow,g=d.localizer;return f({date:a,key:"header_".concat(u),className:Wr("rbc-date-cell",g.isSameDate(a,m())&&"rbc-now")})},n.renderDummy=function(){var a=n.props,u=a.className,d=a.range,f=a.renderHeader,m=a.showAllEvents;return se.createElement("div",{className:u,ref:n.containerRef},se.createElement("div",{className:Wr("rbc-row-content",m&&"rbc-row-content-scrollable")},f&&se.createElement("div",{className:"rbc-row",ref:n.headingRowRef},d.map(n.renderHeadingCell)),se.createElement("div",{className:"rbc-row",ref:n.eventRowRef},se.createElement("div",{className:"rbc-row-segment"},se.createElement("div",{className:"rbc-event"},se.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=F.createRef(),n.headingRowRef=F.createRef(),n.eventRowRef=F.createRef(),n.slotMetrics=f3(),n}return uo(t,[{key:"getRowLimit",value:function(){var r,o=lb(this.eventRowRef.current),i=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?lb(this.headingRowRef.current):0,a=lb(this.containerRef.current)-i;return Math.max(Math.floor(a/o),1)}},{key:"render",value:function(){var r=this.props,o=r.date,i=r.rtl,a=r.range,u=r.className,d=r.selected,f=r.selectable,m=r.renderForMeasure,g=r.accessors,v=r.getters,b=r.components,S=r.getNow,T=r.renderHeader,I=r.onSelect,k=r.localizer,A=r.onSelectStart,R=r.onSelectEnd,j=r.onDoubleClick,B=r.onKeyPress,L=r.resourceId,z=r.longPressThreshold,U=r.isAllDay,W=r.resizable,Z=r.showAllEvents;if(m)return this.renderDummy();var re=this.slotMetrics(this.props),Q=re.levels,ce=re.extra,ee=Z?wQ:Kl,fe=b.weekWrapper,$={selected:d,accessors:g,getters:v,localizer:k,components:b,onSelect:I,onDoubleClick:j,onKeyPress:B,resourceId:L,slotMetrics:re,resizable:W};return se.createElement("div",{className:u,role:"rowgroup",ref:this.containerRef},se.createElement(mQ,{localizer:k,date:o,getNow:S,rtl:i,range:a,selectable:f,container:this.getContainer,getters:v,onSelectStart:A,onSelectEnd:R,onSelectSlot:this.handleSelectSlot,components:b,longPressThreshold:z,resourceId:L}),se.createElement("div",{className:Wr("rbc-row-content",Z&&"rbc-row-content-scrollable"),role:"row"},T&&se.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},a.map(this.renderHeadingCell)),se.createElement(ee,null,se.createElement(fe,Object.assign({isAllDay:U},$,{rtl:this.props.rtl}),Q.map(function(le,oe){return se.createElement(s3,Object.assign({key:oe,segments:le},$))}),!!ce.length&&se.createElement(d3,Object.assign({segments:ce,onShowMore:this.handleShowMore},$))))))}}]),t}(se.Component);Vv.defaultProps={minRows:0,maxRows:1/0};var h3=function(t){var n=t.label;return se.createElement("span",{role:"columnheader","aria-sort":"none"},n)},DQ=function(t){var n=t.label,r=t.drilldownView,o=t.onDrillDown;return r?se.createElement("button",{type:"button",className:"rbc-button-link",onClick:o,role:"cell"},n):se.createElement("span",null,n)},TQ=["date","className"],IQ=function(t,n,r,o,i){return t.filter(function(a){return Wm(a,n,r,o,i)})},_0=function(e){li(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=si(this,t,[].concat(o)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(a,u){var d=n.props,f=d.events,m=d.components,g=d.selectable,v=d.getNow,b=d.selected,S=d.date,T=d.localizer,I=d.longPressThreshold,k=d.accessors,A=d.getters,R=d.showAllEvents,j=n.state,B=j.needLimitMeasure,L=j.rowLimit,z=IQ(fv(f),a[0],a[a.length-1],k,T),U=vQ(z,k,T);return se.createElement(Vv,{key:u,ref:u===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:v,date:S,range:a,events:U,maxRows:R?1/0:L,selected:b,selectable:g,components:m,accessors:k,getters:A,localizer:T,renderHeader:n.readerDateHeading,renderForMeasure:B,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:I,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:R})},n.readerDateHeading=function(a){var u=a.date,d=a.className,f=vl(a,TQ),m=n.props,g=m.date,v=m.getDrilldownView,b=m.localizer,S=b.neq(u,g,"month"),T=b.isSameDate(u,g),I=v(u),k=b.format(u,"dateFormat"),A=n.props.components.dateHeader||DQ;return se.createElement("div",Object.assign({},f,{className:Wr(d,S&&"rbc-off-range",T&&"rbc-current"),role:"cell"}),se.createElement(A,{label:k,date:u,drilldownView:I,isOffRange:S,onDrillDown:function(j){return n.handleHeadingClick(u,I,j)}}))},n.handleSelectSlot=function(a,u){n._pendingSelection=n._pendingSelection.concat(a),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(u)})},n.handleHeadingClick=function(a,u,d){d.preventDefault(),n.clearSelection(),Xn(n.props.onDrillDown,[a,u])},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];Xn(n.props.onSelectEvent,u)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];Xn(n.props.onDoubleClickEvent,u)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];Xn(n.props.onKeyPressEvent,u)},n.handleShowMore=function(a,u,d,f,m){var g=n.props,v=g.popup,b=g.onDrillDown,S=g.onShowMore,T=g.getDrilldownView,I=g.doShowMoreDrillDown;if(n.clearSelection(),v){var k=yM(d,n.containerRef.current);n.setState({overlay:{date:u,events:a,position:k,target:m}})}else I&&Xn(b,[u,T(u)||ii.DAY]);Xn(S,[a,u,f])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=F.createRef(),n.slotRowRef=F.createRef(),n._bgRows=[],n._pendingSelection=[],n}return uo(t,[{key:"componentDidMount",value:function(){var r=this,o;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){o||vM(function(){o=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,o=r.date,i=r.localizer,a=r.className,u=i.visibleDays(o,i),d=sR(u,7);return this._weekCount=d.length,se.createElement("div",{className:Wr("rbc-month-view",a),role:"table","aria-label":"Month View",ref:this.containerRef},se.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var o=this.props,i=o.localizer,a=o.components,u=r[0],d=r[r.length-1],f=a.header||h3;return i.range(u,d,"day").map(function(m,g){return se.createElement("div",{key:"header_"+g,className:"rbc-header"},se.createElement(f,{date:m,localizer:i,label:i.format(m,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,o,i=this,a=(r=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&r!==void 0?r:{},u=this.props,d=u.accessors,f=u.localizer,m=u.components,g=u.getters,v=u.selected,b=u.popupOffset,S=u.handleDragStart,T=function(){return i.setState({overlay:null})};return se.createElement(FS,{overlay:a,accessors:d,localizer:f,components:m,getters:g,selected:v,popupOffset:b,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:T})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var o=this._pendingSelection.slice();this._pendingSelection=[],o.sort(function(u,d){return+u-+d});var i=new Date(o[0]),a=new Date(o[o.length-1]);a.setDate(o[o.length-1].getDate()+1),Xn(this.props.onSelectSlot,{slots:o,start:i,end:a,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,o){var i=r.date,a=r.localizer;return{date:i,needLimitMeasure:a.neq(i,o.date,"month")}}}]),t}(se.Component);_0.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),o=n.lastVisibleDay(e,n);return{start:r,end:o}};_0.navigate=function(e,t,n){var r=n.localizer;switch(t){case Pi.PREVIOUS:return r.add(e,-1,"month");case Pi.NEXT:return r.add(e,1,"month");default:return e}};_0.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var dI=function(t){var n=t.min,r=t.max,o=t.step,i=t.slots,a=t.localizer;return"".concat(+a.startOf(n,"minutes"))+"".concat(+a.startOf(r,"minutes"))+"".concat(o,"-").concat(i)};function PS(e){for(var t=e.min,n=e.max,r=e.step,o=e.timeslots,i=e.localizer,a=dI({start:t,end:n,step:r,timeslots:o,localizer:i}),u=1+i.getTotalMin(t,n),d=i.getMinutesFromMidnight(t),f=Math.ceil((u-1)/(r*o)),m=f*o,g=new Array(f),v=new Array(m),b=0;b<f;b++){g[b]=new Array(o);for(var S=0;S<o;S++){var T=b*o+S,I=T*r;v[T]=g[b][S]=i.getSlotDate(t,d,I)}}var k=v.length*r;v.push(i.getSlotDate(t,d,k));function A(R){var j=i.diff(t,R,"minutes")+i.getDstOffset(t,R);return Math.min(j,u)}return{groups:g,update:function(j){return dI(j)!==a?PS(j):this},dateIsInGroup:function(j,B){var L=g[B+1];return i.inRange(j,g[B][0],L?L[0]:n,"minutes")},nextSlot:function(j){var B=v[Math.min(v.indexOf(j)+1,v.length-1)];return B===j&&(B=i.add(j,r,"minutes")),B},closestSlotToPosition:function(j){var B=Math.min(v.length-1,Math.max(0,Math.floor(j*m)));return v[B]},closestSlotFromPoint:function(j,B){var L=Math.abs(B.top-B.bottom);return this.closestSlotToPosition((j.y-B.top)/L)},closestSlotFromDate:function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(j,t,"minutes"))return v[0];if(i.gt(j,n,"minutes"))return v[v.length-1];var L=i.diff(t,j,"minutes");return v[(L-L%r)/r+B]},startsBeforeDay:function(j){return i.lt(j,t,"day")},startsAfterDay:function(j){return i.gt(j,n,"day")},startsBefore:function(j){return i.lt(i.merge(t,j),t,"minutes")},startsAfter:function(j){return i.gt(i.merge(n,j),n,"minutes")},getRange:function(j,B,L,z){L||(j=i.min(n,i.max(t,j))),z||(B=i.min(n,i.max(t,B)));var U=A(j),W=A(B),Z=W>r*m&&!i.eq(n,B)?(U-r)/(r*m)*100:U/(r*m)*100;return{top:Z,height:W/(r*m)*100-Z,start:A(j),startDate:j,end:A(B),endDate:B}},getCurrentTimePosition:function(j){var B=A(j),L=B/(r*m)*100;return L}}}var xQ=function(){function e(t,n){var r=n.accessors,o=n.slotMetrics;lo(this,e);var i=o.getRange(r.start(t),r.end(t)),a=i.start,u=i.startDate,d=i.end,f=i.endDate,m=i.top,g=i.height;this.start=a,this.end=d,this.startMs=+u,this.endMs=+f,this.top=m,this.height=g,this.data=t}return uo(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(o,i){return Math.max(o,i.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var o=this.row.leaves,i=o.indexOf(this);return i===o.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,o=n.xOffset,i=n._width,a=r.indexOf(this)+1;return o+a*i}}]),e}();function EQ(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function CQ(e){for(var t=e$(e,["startMs",function(u){return-u.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var o=0;o<t.length;o++){var i=t[o];if(!(r.endMs>i.startMs)){if(o>0){var a=t.splice(o,1)[0];n.push(a)}break}}}return n}function p3(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,o=e.accessors,i=t.map(function(m){return new xQ(m,{slotMetrics:r,accessors:o})}),a=CQ(i),u=[],d=function(){var g=a[f],v=u.find(function(T){return T.end>g.start||Math.abs(g.start-T.start)<n});if(!v)return g.rows=[],u.push(g),1;g.container=v;for(var b=null,S=v.rows.length-1;!b&&S>=0;S--)EQ(v.rows[S],g,n)&&(b=v.rows[S]);b?(b.leaves.push(g),g.row=b):(g.leaves=[],v.rows.push(g))},f=0;f<a.length;f++)d();return a.map(function(m){return{event:m.data,style:{top:m.top,height:m.height,width:m.width,xOffset:Math.max(0,m.xOffset)}}})}function m3(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var o=m3(e.friends[r],t,n);t=t>o?t:o}return t}function MQ(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,o=e.accessors,i=p3({events:t,minimumStartDifference:n,slotMetrics:r,accessors:o});i.sort(function(fe,$){return fe=fe.style,$=$.style,fe.top!==$.top?fe.top>$.top?1:-1:fe.height!==$.height?fe.top+fe.height<$.top+$.height?1:-1:0});for(var a=0;a<i.length;++a)i[a].friends=[],delete i[a].style.left,delete i[a].style.left,delete i[a].idx,delete i[a].size;for(var u=0;u<i.length-1;++u)for(var d=i[u],f=d.style.top,m=d.style.top+d.style.height,g=u+1;g<i.length;++g){var v=i[g],b=v.style.top,S=v.style.top+v.style.height;(b>=f&&S<=m||S>f&&S<=m||b>=f&&b<m)&&(d.friends.push(v),v.friends.push(d))}for(var T=0;T<i.length;++T){for(var I=i[T],k=[],A=0;A<100;++A)k.push(1);for(var R=0;R<I.friends.length;++R)I.friends[R].idx!==void 0&&(k[I.friends[R].idx]=0);I.idx=k.indexOf(1)}for(var j=0;j<i.length;++j){var B=0;if(!i[j].size){var L=[],z=m3(i[j],0,L);B=100/(z+1),i[j].size=B;for(var U=0;U<L.length;++U)L[U].size=B}}for(var W=0;W<i.length;++W){var Z=i[W];Z.style.left=Z.idx*Z.size;for(var re=0,Q=0;Q<Z.friends.length;++Q){var ce=Z.friends[Q].idx;re=re>ce?re:ce}re<=Z.idx&&(Z.size=100-Z.idx*Z.size);var ee=Z.idx===0?0:3;Z.style.width="calc(".concat(Z.size,"% - ").concat(ee,"px)"),Z.style.height="calc(".concat(Z.style.height,"% - 2px)"),Z.style.xOffset="calc(".concat(Z.style.left,"% + ").concat(ee,"px)")}return i}var fI={overlap:p3,"no-overlap":MQ};function kQ(e){return!!(e&&e.constructor&&e.call&&e.apply)}function NQ(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in fI&&(n=fI[t]),kQ(n)?n.apply(this,arguments):[]}var g3=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.renderSlot,i=r.resource,a=r.group,u=r.getters,d=r.components,f=d===void 0?{}:d,m=f.timeSlotWrapper,g=m===void 0?Kl:m,v=u?u.slotGroupProp(a):{};return se.createElement("div",Object.assign({className:"rbc-timeslot-group"},v),a.map(function(b,S){var T=u?u.slotProp(b,i):{};return se.createElement(g,{key:S,value:b,resource:i},se.createElement("div",Object.assign({},T,{className:Wr("rbc-time-slot",T.className)}),o&&o(b,S)))}))}}]),t}(F.Component);function Yy(e){return typeof e=="string"?e:e+"%"}function AQ(e){var t=e.style,n=e.className,r=e.event,o=e.accessors,i=e.rtl,a=e.selected,u=e.label,d=e.continuesPrior,f=e.continuesAfter,m=e.getters,g=e.onClick,v=e.onDoubleClick,b=e.isBackgroundEvent,S=e.onKeyPress,T=e.components,I=T.event,k=T.eventWrapper,A=o.title(r),R=o.tooltip(r),j=o.end(r),B=o.start(r),L=m.eventProp(r,B,j,a),z=[se.createElement("div",{key:"1",className:"rbc-event-label"},u),se.createElement("div",{key:"2",className:"rbc-event-content"},I?se.createElement(I,{event:r,title:A}):A)],U=t.height,W=t.top,Z=t.width,re=t.xOffset,Q=Un(Un({},L.style),{},hd({top:Yy(W),height:Yy(U),width:Yy(Z)},i?"right":"left",Yy(re)));return se.createElement(k,Object.assign({type:"time"},e),se.createElement("div",{role:"button",tabIndex:0,onClick:g,onDoubleClick:v,style:Q,onKeyDown:S,title:R?(typeof u=="string"?u+": ":"")+R:void 0,className:Wr(b?"rbc-background-event":"rbc-event",n,L.className,{"rbc-selected":a,"rbc-event-continues-earlier":d,"rbc-event-continues-later":f})},z))}var FQ=function(t){var n=t.children,r=t.className,o=t.style,i=t.innerRef;return se.createElement("div",{className:r,style:o,ref:i},n)},PQ=se.forwardRef(function(e,t){return se.createElement(FQ,Object.assign({},e,{innerRef:t}))}),OQ=["dayProp"],jQ=["eventContainerWrapper"],y3=function(e){li(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=si(this,t,[].concat(o)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(a){var u=a.events,d=a.isBackgroundEvent,f=n.props,m=f.rtl,g=f.selected,v=f.accessors,b=f.localizer,S=f.getters,T=f.components,I=f.step,k=f.timeslots,A=f.dayLayoutAlgorithm,R=f.resizable,j=ZC(n),B=j.slotMetrics,L=b.messages,z=NQ({events:u,accessors:v,slotMetrics:B,minimumStartDifference:Math.ceil(I*k/2),dayLayoutAlgorithm:A});return z.map(function(U,W){var Z=U.event,re=U.style,Q=v.end(Z),ce=v.start(Z),ee="eventTimeRangeFormat",fe,$=B.startsBeforeDay(ce),le=B.startsAfterDay(Q);$?ee="eventTimeRangeEndFormat":le&&(ee="eventTimeRangeStartFormat"),$&&le?fe=L.allDay:fe=b.format({start:ce,end:Q},ee);var oe=$||B.startsBefore(ce),he=le||B.startsAfter(Q);return se.createElement(AQ,{style:re,event:Z,label:fe,key:"evt_"+W,getters:S,rtl:m,components:T,continuesPrior:oe,continuesAfter:he,accessors:v,resource:n.props.resource,selected:R0(Z,g),onClick:function(ne){return n._select(Un(Un(Un({},Z),n.props.resource&&{sourceResource:n.props.resource}),d&&{isBackgroundEvent:!0}),ne)},onDoubleClick:function(ne){return n._doubleClick(Z,ne)},isBackgroundEvent:d,onKeyPress:function(ne){return n._keyPress(Z,ne)},resizable:R})})},n._selectable=function(){var a=n.containerRef.current,u=n.props,d=u.longPressThreshold,f=u.localizer,m=n._selector=new a3(function(){return a},{longPressThreshold:d}),g=function(T){var I=n.props.onSelecting,k=n.state||{},A=v(T),R=A.startDate,j=A.endDate;I&&(f.eq(k.startDate,R,"minutes")&&f.eq(k.endDate,j,"minutes")||I({start:R,end:j,resourceId:n.props.resource})===!1)||(n.state.start!==A.start||n.state.end!==A.end||n.state.selecting!==A.selecting)&&n.setState(A)},v=function(T){var I=n.slotMetrics.closestSlotFromPoint(T,kd(a));n.state.selecting||(n._initialSlot=I);var k=n._initialSlot;f.lte(k,I)?I=n.slotMetrics.nextSlot(I):f.gt(k,I)&&(k=n.slotMetrics.nextSlot(k));var A=n.slotMetrics.getRange(f.min(k,I),f.max(k,I));return Un(Un({},A),{},{selecting:!0,top:"".concat(A.top,"%"),height:"".concat(A.height,"%")})},b=function(T,I){if(!zv(n.containerRef.current,T)){var k=v(T),A=k.startDate,R=k.endDate;n._selectSlot({startDate:A,endDate:R,action:I,box:T})}n.setState({selecting:!1})};m.on("selecting",g),m.on("selectStart",g),m.on("beforeSelect",function(S){if(n.props.selectable==="ignoreEvents")return!zv(n.containerRef.current,S)}),m.on("click",function(S){return b(S,"click")}),m.on("doubleClick",function(S){return b(S,"doubleClick")}),m.on("select",function(S){n.state.selecting&&(n._selectSlot(Un(Un({},n.state),{},{action:"select",bounds:S})),n.setState({selecting:!1}))}),m.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(a){for(var u=a.startDate,d=a.endDate,f=a.action,m=a.bounds,g=a.box,v=u,b=[];n.props.localizer.lte(v,d);)b.push(v),v=new Date(+v+n.props.step*60*1e3);Xn(n.props.onSelectSlot,{slots:b,start:u,end:d,resourceId:n.props.resource,action:f,bounds:m,box:g})},n._select=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];Xn(n.props.onSelectEvent,u)},n._doubleClick=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];Xn(n.props.onDoubleClickEvent,u)},n._keyPress=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];Xn(n.props.onKeyPressEvent,u)},n.slotMetrics=PS(n.props),n.containerRef=F.createRef(),n}return uo(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,o){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(this.props);var i=this.props,a=i.getNow,u=i.isNow,d=i.localizer,f=i.date,m=i.min,g=i.max,v=d.neq(r.getNow(),a(),"minutes");if(r.isNow!==u||v){if(this.clearTimeIndicatorInterval(),u){var b=!v&&d.eq(r.date,f,"minutes")&&o.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(b)}}else u&&(d.neq(r.min,m,"minutes")||d.neq(r.max,g,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!o&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,o=r.min,i=r.max,a=r.getNow,u=a();if(u>=o&&u<=i){var d=this.slotMetrics.getCurrentTimePosition(u);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,o=r.date,i=r.max,a=r.rtl,u=r.isNow,d=r.resource,f=r.accessors,m=r.localizer,g=r.getters,v=g.dayProp,b=vl(g,OQ),S=r.components,T=S.eventContainerWrapper,I=vl(S,jQ),k=this.slotMetrics,A=this.state,R=A.selecting,j=A.top,B=A.height,L=A.startDate,z=A.endDate,U={start:L,end:z},W=v(i),Z=W.className,re=W.style,Q=I.dayColumnWrapper||PQ;return se.createElement(Q,{ref:this.containerRef,date:o,style:re,className:Wr(Z,"rbc-day-slot","rbc-time-column",u&&"rbc-now",u&&"rbc-today",R&&"rbc-slot-selecting"),slotMetrics:k},k.groups.map(function(ce,ee){return se.createElement(g3,{key:ee,group:ce,resource:d,getters:b,components:I})}),se.createElement(T,{localizer:m,resource:d,accessors:f,getters:b,components:I,slotMetrics:k},se.createElement("div",{className:Wr("rbc-events-container",a&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),R&&se.createElement("div",{className:"rbc-slot-selection",style:{top:j,height:B}},se.createElement("span",null,m.format(U,"selectRangeFormat"))),u&&this.intervalTriggered&&se.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),t}(se.Component);y3.defaultProps={dragThroughEvents:!0,timeslots:2};function LQ(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var RQ=function(t){var n=t.min,r=t.max,o=t.timeslots,i=t.step,a=t.localizer,u=t.getNow,d=t.resource,f=t.components,m=t.getters,g=t.gutterRef,v=f.timeGutterWrapper,b=F.useMemo(function(){return LQ({min:n,max:r,localizer:a})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),a]),S=b.start,T=b.end,I=F.useState(PS({min:S,max:T,timeslots:o,step:i,localizer:a})),k=Ql(I,2),A=k[0],R=k[1];F.useEffect(function(){A&&R(A.update({min:S,max:T,timeslots:o,step:i,localizer:a}))},[S==null?void 0:S.toISOString(),T==null?void 0:T.toISOString(),o,i]);var j=F.useCallback(function(B,L){if(L)return null;var z=A.dateIsInGroup(u(),L);return se.createElement("span",{className:Wr("rbc-label",z&&"rbc-now")},a.format(B,"timeGutterFormat"))},[A,a,u]);return se.createElement(v,{slotMetrics:A},se.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:g},A.groups.map(function(B,L){return se.createElement(g3,{key:L,group:B,resource:d,components:f,renderSlot:j,getters:m})})))},_Q=se.forwardRef(function(e,t){return se.createElement(RQ,Object.assign({gutterRef:t},e))}),BQ=function(t){var n=t.label;return se.createElement(se.Fragment,null,n)},HQ=function(e){li(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=si(this,t,[].concat(o)),n.handleHeaderClick=function(a,u,d){d.preventDefault(),Xn(n.props.onDrillDown,[a,u])},n.renderRow=function(a){var u=n.props,d=u.events,f=u.rtl,m=u.selectable,g=u.getNow,v=u.range,b=u.getters,S=u.localizer,T=u.accessors,I=u.components,k=u.resizable,A=T.resourceId(a),R=a?d.filter(function(j){return T.resource(j)===A}):d;return se.createElement(Vv,{isAllDay:!0,rtl:f,getNow:g,minRows:2,maxRows:n.props.allDayMaxRows+1,range:v,events:R,resourceId:A,className:"rbc-allday-cell",selectable:m,selected:n.props.selected,components:I,accessors:T,getters:b,localizer:S,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:k})},n}return uo(t,[{key:"renderHeaderCells",value:function(r){var o=this,i=this.props,a=i.localizer,u=i.getDrilldownView,d=i.getNow,f=i.getters.dayProp,m=i.components.header,g=m===void 0?h3:m,v=d();return r.map(function(b,S){var T=u(b),I=a.format(b,"dayFormat"),k=f(b),A=k.className,R=k.style,j=se.createElement(g,{date:b,label:I,localizer:a});return se.createElement("div",{key:S,style:R,className:Wr("rbc-header",A,a.isSameDate(b,v)&&"rbc-today")},T?se.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(L){return o.handleHeaderClick(b,T,L)}},j):se.createElement("span",null,j))})}},{key:"render",value:function(){var r=this,o=this.props,i=o.width,a=o.rtl,u=o.resources,d=o.range,f=o.events,m=o.getNow,g=o.accessors,v=o.selectable,b=o.components,S=o.getters,T=o.scrollRef,I=o.localizer,k=o.isOverflowing,A=o.components,R=A.timeGutterHeader,j=A.resourceHeader,B=j===void 0?BQ:j,L=o.resizable,z={};k&&(z[a?"marginLeft":"marginRight"]="".concat(wM()-1,"px"));var U=u.groupEvents(f);return se.createElement("div",{style:z,ref:T,className:Wr("rbc-time-header",k&&"rbc-overflowing")},se.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},R&&se.createElement(R,null)),u.map(function(W,Z){var re=Ql(W,2),Q=re[0],ce=re[1];return se.createElement("div",{className:"rbc-time-header-content",key:Q||Z},ce&&se.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(Z)},se.createElement("div",{className:"rbc-header"},se.createElement(B,{index:Z,label:g.resourceTitle(ce),resource:ce}))),se.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),se.createElement(Vv,{isAllDay:!0,rtl:a,getNow:m,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:U.get(Q)||[],resourceId:ce&&Q,className:"rbc-allday-cell",selectable:v,selected:r.props.selected,components:b,accessors:g,getters:S,localizer:I,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:L}))}))}}]),t}(se.Component),db={};function YQ(e,t){return{map:function(r){return e?e.map(function(o,i){return r([t.resourceId(o),o],i)}):[r([db,null],0)]},groupEvents:function(r){var o=new Map;return e?(r.forEach(function(i){var a=t.resource(i)||db;if(Array.isArray(a))a.forEach(function(d){var f=o.get(d)||[];f.push(i),o.set(d,f)});else{var u=o.get(a)||[];u.push(i),o.set(a,u)}}),o):(o.set(db,r),o)}}}var Zh=function(e){li(t,e);function t(n){var r;return lo(this,t),r=si(this,t,[n]),r.handleScroll=function(o){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=o.target.scrollLeft)},r.handleResize=function(){aT(r.rafHandle),r.rafHandle=vM(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];Xn(r.props.onKeyPressEvent,i)},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];Xn(r.props.onSelectEvent,i)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];Xn(r.props.onDoubleClickEvent,i)},r.handleShowMore=function(o,i,a,u,d){var f=r.props,m=f.popup,g=f.onDrillDown,v=f.onShowMore,b=f.getDrilldownView,S=f.doShowMoreDrillDown;if(r.clearSelection(),m){var T=yM(a,r.containerRef.current);r.setState({overlay:{date:i,events:o,position:Un(Un({},T),{},{width:"200px"}),target:d}})}else S&&Xn(g,[i,b(i)||ii.DAY]);Xn(v,[o,i,u])},r.handleSelectAllDaySlot=function(o,i){var a=r.props.onSelectSlot,u=new Date(o[0]),d=new Date(o[o.length-1]);d.setDate(o[o.length-1].getDate()+1),Xn(a,{slots:o,start:u,end:d,action:i.action,resourceId:i.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var o=r.contentRef.current;if(o!=null&&o.scrollHeight){var i=o.scrollHeight>o.clientHeight;r.state.isOverflowing!==i&&(r._updatingOverflow=!0,r.setState({isOverflowing:i},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=LM(function(o,i){return YQ(o,i)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=se.createRef(),r.contentRef=se.createRef(),r.containerRef=se.createRef(),r._scrollRatio=null,r.gutterRef=F.createRef(),r}return uo(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),aT(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(r,o,i,a){var u=this,d=this.props,f=d.min,m=d.max,g=d.components,v=d.accessors,b=d.localizer,S=d.dayLayoutAlgorithm,T=this.memoizedResources(this.props.resources,v),I=T.groupEvents(o),k=T.groupEvents(i);return T.map(function(A,R){var j=Ql(A,2),B=j[0],L=j[1];return r.map(function(z,U){var W=(I.get(B)||[]).filter(function(re){return b.inRange(z,v.start(re),v.end(re),"day")}),Z=(k.get(B)||[]).filter(function(re){return b.inRange(z,v.start(re),v.end(re),"day")});return se.createElement(y3,Object.assign({},u.props,{localizer:b,min:b.merge(z,f),max:b.merge(z,m),resource:L&&B,components:g,isNow:b.isSameDate(z,a),key:R+"-"+U,date:z,events:W,backgroundEvents:Z,dayLayoutAlgorithm:S}))})})}},{key:"render",value:function(){var r,o=this.props,i=o.events,a=o.backgroundEvents,u=o.range,d=o.width,f=o.rtl,m=o.selected,g=o.getNow,v=o.resources,b=o.components,S=o.accessors,T=o.getters,I=o.localizer,k=o.min,A=o.max,R=o.showMultiDayTimes,j=o.longPressThreshold,B=o.resizable;d=d||this.state.gutterWidth;var L=u[0],z=u[u.length-1];this.slots=u.length;var U=[],W=[],Z=[];return i.forEach(function(re){if(Wm(re,L,z,S,I)){var Q=S.start(re),ce=S.end(re);S.allDay(re)||I.startAndEndAreDateOnly(Q,ce)||!R&&!I.isSameDate(Q,ce)?U.push(re):W.push(re)}}),a.forEach(function(re){Wm(re,L,z,S,I)&&Z.push(re)}),U.sort(function(re,Q){return f1(re,Q,S,I)}),se.createElement("div",{className:Wr("rbc-time-view",v&&"rbc-time-view-resources"),ref:this.containerRef},se.createElement(HQ,{range:u,events:U,width:d,rtl:f,getNow:g,localizer:I,selected:m,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(v,S),selectable:this.props.selectable,accessors:S,getters:T,components:b,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:j,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:B}),this.props.popup&&this.renderOverlay(),se.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},se.createElement(_Q,{date:L,ref:this.gutterRef,localizer:I,min:I.merge(L,k),max:I.merge(L,A),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:b,className:"rbc-time-gutter",getters:T}),this.renderEvents(u,W,Z,g())))}},{key:"renderOverlay",value:function(){var r,o,i=this,a=(r=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&r!==void 0?r:{},u=this.props,d=u.accessors,f=u.localizer,m=u.components,g=u.getters,v=u.selected,b=u.popupOffset,S=u.handleDragStart,T=function(){return i.setState({overlay:null})};return se.createElement(FS,{overlay:a,accessors:d,localizer:f,components:m,getters:g,selected:v,popupOffset:b,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:T})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var o,i=(o=r.gutterRef)!==null&&o!==void 0&&o.current?c1(r.gutterRef.current):void 0;i&&r.state.gutterWidth!==i&&r.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=r.min,i=r.max,a=r.scrollToTime,u=r.localizer,d=u.diff(u.merge(a,o),a,"milliseconds"),f=u.diff(o,i,"milliseconds");this._scrollRatio=d/f}}]),t}(F.Component);Zh.defaultProps={step:30,timeslots:2};var UQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],B0=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.date,i=r.localizer,a=r.min,u=a===void 0?i.startOf(new Date,"day"):a,d=r.max,f=d===void 0?i.endOf(new Date,"day"):d,m=r.scrollToTime,g=m===void 0?i.startOf(new Date,"day"):m,v=r.enableAutoScroll,b=v===void 0?!0:v,S=vl(r,UQ),T=t.range(o,{localizer:i});return se.createElement(Zh,Object.assign({},S,{range:T,eventOffset:10,localizer:i,min:u,max:f,scrollToTime:g,enableAutoScroll:b}))}}]),t}(se.Component);B0.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};B0.navigate=function(e,t,n){var r=n.localizer;switch(t){case Pi.PREVIOUS:return r.add(e,-1,"day");case Pi.NEXT:return r.add(e,1,"day");default:return e}};B0.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var zQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],uc=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.date,i=r.localizer,a=r.min,u=a===void 0?i.startOf(new Date,"day"):a,d=r.max,f=d===void 0?i.endOf(new Date,"day"):d,m=r.scrollToTime,g=m===void 0?i.startOf(new Date,"day"):m,v=r.enableAutoScroll,b=v===void 0?!0:v,S=vl(r,zQ),T=t.range(o,this.props);return se.createElement(Zh,Object.assign({},S,{range:T,eventOffset:15,localizer:i,min:u,max:f,scrollToTime:g,enableAutoScroll:b}))}}]),t}(se.Component);uc.defaultProps=Zh.defaultProps;uc.navigate=function(e,t,n){var r=n.localizer;switch(t){case Pi.PREVIOUS:return r.add(e,-1,"week");case Pi.NEXT:return r.add(e,1,"week");default:return e}};uc.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),o=n.startOf(e,"week",r),i=n.endOf(e,"week",r);return n.range(o,i)};uc.title=function(e,t){var n=t.localizer,r=uc.range(e,{localizer:n}),o=zM(r),i=o[0],a=o.slice(1);return n.format({start:i,end:a.pop()},"dayRangeHeaderFormat")};var VQ=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function OS(e,t){return uc.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var Tg=function(e){li(t,e);function t(){return lo(this,t),si(this,t,arguments)}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.date,i=r.localizer,a=r.min,u=a===void 0?i.startOf(new Date,"day"):a,d=r.max,f=d===void 0?i.endOf(new Date,"day"):d,m=r.scrollToTime,g=m===void 0?i.startOf(new Date,"day"):m,v=r.enableAutoScroll,b=v===void 0?!0:v,S=vl(r,VQ),T=OS(o,this.props);return se.createElement(Zh,Object.assign({},S,{range:T,eventOffset:15,localizer:i,min:u,max:f,scrollToTime:g,enableAutoScroll:b}))}}]),t}(se.Component);Tg.defaultProps=Zh.defaultProps;Tg.range=OS;Tg.navigate=uc.navigate;Tg.title=function(e,t){var n=t.localizer,r=OS(e,{localizer:n}),o=zM(r),i=o[0],a=o.slice(1);return n.format({start:i,end:a.pop()},"dayRangeHeaderFormat")};function cc(e){var t=e.accessors,n=e.components,r=e.date,o=e.events,i=e.getters,a=e.length,u=e.localizer,d=e.onDoubleClickEvent,f=e.onSelectEvent,m=e.selected,g=F.useRef(null),v=F.useRef(null),b=F.useRef(null),S=F.useRef(null),T=F.useRef(null);F.useEffect(function(){A()});var I=function(z,U,W){var Z=n.event,re=n.date;return U=U.filter(function(Q){return Wm(Q,u.startOf(z,"day"),u.endOf(z,"day"),t,u)}),U.map(function(Q,ce){var ee=t.title(Q),fe=t.end(Q),$=t.start(Q),le=i.eventProp(Q,$,fe,R0(Q,m)),oe=ce===0&&u.format(z,"agendaDateFormat"),he=ce===0?se.createElement("td",{rowSpan:U.length,className:"rbc-agenda-date-cell"},re?se.createElement(re,{day:z,label:oe}):oe):!1;return se.createElement("tr",{key:W+"_"+ce,className:le.className,style:le.style},he,se.createElement("td",{className:"rbc-agenda-time-cell"},k(z,Q)),se.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(ne){return f&&f(Q,ne)},onDoubleClick:function(ne){return d&&d(Q,ne)}},Z?se.createElement(Z,{event:Q,title:ee}):ee))},[])},k=function(z,U){var W="",Z=n.time,re=u.messages.allDay,Q=t.end(U),ce=t.start(U);return t.allDay(U)||(u.eq(ce,Q)?re=u.format(ce,"agendaTimeFormat"):u.isSameDate(ce,Q)?re=u.format({start:ce,end:Q},"agendaTimeRangeFormat"):u.isSameDate(z,ce)?re=u.format(ce,"agendaTimeFormat"):u.isSameDate(z,Q)&&(re=u.format(Q,"agendaTimeFormat"))),u.gt(z,ce,"day")&&(W="rbc-continues-prior"),u.lt(z,Q,"day")&&(W+=" rbc-continues-after"),se.createElement("span",{className:W.trim()},Z?se.createElement(Z,{event:U,day:z,label:re}):re)},A=function(){if(T.current){var z=g.current,U=T.current.firstChild;if(U){var W=S.current.scrollHeight>S.current.clientHeight,Z=[],re=Z;Z=[c1(U.children[0]),c1(U.children[1])],(re[0]!==Z[0]||re[1]!==Z[1])&&(v.current.style.width=Z[0]+"px",b.current.style.width=Z[1]+"px"),W?(VR(z,"rbc-header-overflowing"),z.style.marginRight=wM()+"px"):WR(z,"rbc-header-overflowing")}}},R=u.messages,j=u.add(r,a,"day"),B=u.range(r,j,"day");return o=o.filter(function(L){return Wm(L,u.startOf(r,"day"),u.endOf(j,"day"),t,u)}),o.sort(function(L,z){return+t.start(L)-+t.start(z)}),se.createElement("div",{className:"rbc-agenda-view"},o.length!==0?se.createElement(se.Fragment,null,se.createElement("table",{ref:g,className:"rbc-agenda-table"},se.createElement("thead",null,se.createElement("tr",null,se.createElement("th",{className:"rbc-header",ref:v},R.date),se.createElement("th",{className:"rbc-header",ref:b},R.time),se.createElement("th",{className:"rbc-header"},R.event)))),se.createElement("div",{className:"rbc-agenda-content",ref:S},se.createElement("table",{className:"rbc-agenda-table"},se.createElement("tbody",{ref:T},B.map(function(L,z){return I(L,o,z)}))))):se.createElement("span",{className:"rbc-agenda-empty"},R.noEventsInRange))}cc.defaultProps={length:30};cc.range=function(e,t){var n=t.length,r=n===void 0?cc.defaultProps.length:n,o=t.localizer,i=o.add(e,r,"day");return{start:e,end:i}};cc.navigate=function(e,t,n){var r=n.length,o=r===void 0?cc.defaultProps.length:r,i=n.localizer;switch(t){case Pi.PREVIOUS:return i.add(e,-o,"day");case Pi.NEXT:return i.add(e,o,"day");default:return e}};cc.title=function(e,t){var n=t.length,r=n===void 0?cc.defaultProps.length:n,o=t.localizer,i=o.add(e,r,"day");return o.format({start:e,end:i},"agendaHeaderFormat")};var pv=hd(hd(hd(hd(hd({},ii.MONTH,_0),ii.WEEK,uc),ii.WORK_WEEK,Tg),ii.DAY,B0),ii.AGENDA,cc),WQ=["action","date","today"];function ZQ(e,t){var n=t.action,r=t.date,o=t.today,i=vl(t,WQ);switch(e=typeof e=="string"?pv[e]:e,n){case Pi.TODAY:r=o||new Date;break;case Pi.DATE:break;default:jm(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,i)}return r}var $Q=function(e){li(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=si(this,t,[].concat(o)),n.navigate=function(a){n.props.onNavigate(a)},n.view=function(a){n.props.onView(a)},n}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.localizer.messages,i=r.label;return se.createElement("div",{className:"rbc-toolbar"},se.createElement("span",{className:"rbc-btn-group"},se.createElement("button",{type:"button",onClick:this.navigate.bind(null,Pi.TODAY)},o.today),se.createElement("button",{type:"button",onClick:this.navigate.bind(null,Pi.PREVIOUS)},o.previous),se.createElement("button",{type:"button",onClick:this.navigate.bind(null,Pi.NEXT)},o.next)),se.createElement("span",{className:"rbc-toolbar-label"},i),se.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(o)))}},{key:"viewNamesGroup",value:function(r){var o=this,i=this.props.views,a=this.props.view;if(i.length>1)return i.map(function(u){return se.createElement("button",{type:"button",key:u,className:Wr({"rbc-active":a===u}),onClick:o.view.bind(null,u)},r[u])})}}]),t}(se.Component);function qQ(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&ru(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var Qu=function(t){return function(n){return qQ(n,t)}},GQ=["view","date","getNow","onNavigate"],JQ=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function v3(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var o=Ql(r[n],2),i=o[0],a=o[1];a&&t.push(i)}return t}function KQ(e,t){var n=t.views,r=v3(n);return r.indexOf(e)!==-1}var w3=function(e){li(t,e);function t(){var n;lo(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=si(this,t,[].concat(o)),n.getViews=function(){var a=n.props.views;return Array.isArray(a)?DK(a,function(u,d){return u[d]=pv[d]},{}):ru(a)==="object"?MK(a,function(u,d){return u===!0?pv[d]:u}):pv},n.getView=function(){var a=n.getViews();return a[n.props.view]},n.getDrilldownView=function(a){var u=n.props,d=u.view,f=u.drilldownView,m=u.getDrilldownView;return m?m(a,d,Object.keys(n.getViews())):f},n.handleRangeChange=function(a,u,d){var f=n.props,m=f.onRangeChange,g=f.localizer;m&&u.range&&m(u.range(a,{localizer:g}),d)},n.handleNavigate=function(a,u){var d=n.props,f=d.view,m=d.date,g=d.getNow,v=d.onNavigate,b=vl(d,GQ),S=n.getView(),T=g();m=ZQ(S,Un(Un({},b),{},{action:a,date:u||m||T,today:T})),v(m,f,a),n.handleRangeChange(m,S)},n.handleViewChange=function(a){a!==n.props.view&&KQ(a,n.props)&&n.props.onView(a);var u=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),u[a],a)},n.handleSelectEvent=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];Xn(n.props.onSelectEvent,u)},n.handleDoubleClickEvent=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];Xn(n.props.onDoubleClickEvent,u)},n.handleKeyPressEvent=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];Xn(n.props.onKeyPressEvent,u)},n.handleSelectSlot=function(a){Xn(n.props.onSelectSlot,a)},n.handleDrillDown=function(a,u){var d=n.props.onDrillDown;if(d){d(a,u,n.drilldownView);return}u&&n.handleViewChange(u),n.handleNavigate(Pi.DATE,a)},n.state={context:t.getContext(n.props)},n}return uo(t,[{key:"render",value:function(){var r=this.props,o=r.view,i=r.toolbar,a=r.events,u=r.backgroundEvents,d=r.style,f=r.className,m=r.elementProps,g=r.date,v=r.getNow,b=r.length,S=r.showMultiDayTimes,T=r.onShowMore,I=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var k=vl(r,JQ);g=g||v();var A=this.getView(),R=this.state.context,j=R.accessors,B=R.components,L=R.getters,z=R.localizer,U=R.viewNames,W=B.toolbar||$Q,Z=A.title(g,{localizer:z,length:b});return se.createElement("div",Object.assign({},m,{className:Wr(f,"rbc-calendar",k.rtl&&"rbc-rtl"),style:d}),i&&se.createElement(W,{date:g,view:o,views:U,label:Z,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:z}),se.createElement(A,Object.assign({},k,{events:a,backgroundEvents:u,date:g,getNow:v,length:b,localizer:z,getters:L,components:B,accessors:j,showMultiDayTimes:S,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:T,doShowMoreDrillDown:I})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var o=r.startAccessor,i=r.endAccessor,a=r.allDayAccessor,u=r.tooltipAccessor,d=r.titleAccessor,f=r.resourceAccessor,m=r.resourceIdAccessor,g=r.resourceTitleAccessor,v=r.eventPropGetter,b=r.backgroundEventPropGetter,S=r.slotPropGetter,T=r.slotGroupPropGetter,I=r.dayPropGetter,k=r.view,A=r.views,R=r.localizer,j=r.culture,B=r.messages,L=B===void 0?{}:B,z=r.components,U=z===void 0?{}:z,W=r.formats,Z=W===void 0?{}:W,re=v3(A),Q=tQ(L);return{viewNames:re,localizer:XK(R,j,Z,Q),getters:{eventProp:function(){return v&&v.apply(void 0,arguments)||{}},backgroundEventProp:function(){return b&&b.apply(void 0,arguments)||{}},slotProp:function(){return S&&S.apply(void 0,arguments)||{}},slotGroupProp:function(){return T&&T.apply(void 0,arguments)||{}},dayProp:function(){return I&&I.apply(void 0,arguments)||{}}},components:uK(U[k]||{},tK(U,re),{eventWrapper:Kl,backgroundEventWrapper:Kl,eventContainerWrapper:Kl,dateCellWrapper:Kl,weekWrapper:Kl,timeSlotWrapper:Kl,timeGutterWrapper:Kl}),accessors:{start:Qu(o),end:Qu(i),allDay:Qu(a),tooltip:Qu(u),title:Qu(d),resource:Qu(f),resourceId:Qu(m),resourceTitle:Qu(g)}}}}]),t}(se.Component);w3.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:ii.MONTH,views:[ii.MONTH,ii.WEEK,ii.DAY,ii.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:ii.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var QQ=QC(w3,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),XQ=function(t,n,r){var o=t.start,i=t.end;return r.format(o,"MMMM DD",n)+" – "+r.format(i,r.eq(o,i,"month")?"DD":"MMMM DD",n)},eX=function(t,n,r){var o=t.start,i=t.end;return r.format(o,"L",n)+" – "+r.format(i,"L",n)},fb=function(t,n,r){var o=t.start,i=t.end;return r.format(o,"LT",n)+" – "+r.format(i,"LT",n)},tX=function(t,n,r){var o=t.start;return r.format(o,"LT",n)+" – "},nX=function(t,n,r){var o=t.end;return" – "+r.format(o,"LT",n)},rX={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:fb,eventTimeRangeFormat:fb,eventTimeRangeStartFormat:tX,eventTimeRangeEndFormat:nX,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:XQ,agendaHeaderFormat:eX,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:fb};function Xu(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function oX(e){var t=function(pe,Ie){return Ie?pe.locale(Ie):pe};function n(ne){return e(ne).toDate().getTimezoneOffset()}function r(ne,pe){var Ie,Oe,Ye=e(ne).local(),_e=e(pe).local();if(!e.tz)return Ye.toDate().getTimezoneOffset()-_e.toDate().getTimezoneOffset();var $e=(Ie=Ye==null||(Oe=Ye._z)===null||Oe===void 0?void 0:Oe.name)!==null&&Ie!==void 0?Ie:e.tz.guess(),Ue=e.tz.zone($e).utcOffset(+Ye),Ke=e.tz.zone($e).utcOffset(+_e);return Ue-Ke}function o(ne){var pe=e(ne).startOf("day");return r(pe,ne)}function i(ne,pe,Ie){var Oe=Xu(Ie),Ye=Oe?e(ne).startOf(Oe):e(ne),_e=Oe?e(pe).startOf(Oe):e(pe);return[Ye,_e,Oe]}function a(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,pe=arguments.length>1?arguments[1]:void 0,Ie=Xu(pe);return Ie?e(ne).startOf(Ie).toDate():e(ne).toDate()}function u(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,pe=arguments.length>1?arguments[1]:void 0,Ie=Xu(pe);return Ie?e(ne).endOf(Ie).toDate():e(ne).toDate()}function d(ne,pe,Ie){var Oe=i(ne,pe,Ie),Ye=Ql(Oe,3),_e=Ye[0],$e=Ye[1],Ue=Ye[2];return _e.isSame($e,Ue)}function f(ne,pe,Ie){return!d(ne,pe,Ie)}function m(ne,pe,Ie){var Oe=i(ne,pe,Ie),Ye=Ql(Oe,3),_e=Ye[0],$e=Ye[1],Ue=Ye[2];return _e.isAfter($e,Ue)}function g(ne,pe,Ie){var Oe=i(ne,pe,Ie),Ye=Ql(Oe,3),_e=Ye[0],$e=Ye[1],Ue=Ye[2];return _e.isBefore($e,Ue)}function v(ne,pe,Ie){var Oe=i(ne,pe,Ie),Ye=Ql(Oe,3),_e=Ye[0],$e=Ye[1],Ue=Ye[2];return _e.isSameOrBefore($e,Ue)}function b(ne,pe,Ie){var Oe=i(ne,pe,Ie),Ye=Ql(Oe,3),_e=Ye[0],$e=Ye[1],Ue=Ye[2];return _e.isSameOrBefore($e,Ue)}function S(ne,pe,Ie){var Oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",Ye=Xu(Oe),_e=e(ne),$e=e(pe),Ue=e(Ie);return _e.isBetween($e,Ue,Ye,"[]")}function T(ne,pe){var Ie=e(ne),Oe=e(pe),Ye=e.min(Ie,Oe);return Ye.toDate()}function I(ne,pe){var Ie=e(ne),Oe=e(pe),Ye=e.max(Ie,Oe);return Ye.toDate()}function k(ne,pe){if(!ne&&!pe)return null;var Ie=e(pe).format("HH:mm:ss"),Oe=e(ne).startOf("day").format("MM/DD/YYYY");return e("".concat(Oe," ").concat(Ie),"MM/DD/YYYY HH:mm:ss").toDate()}function A(ne,pe,Ie){var Oe=Xu(Ie);return e(ne).add(pe,Oe).toDate()}function R(ne,pe){for(var Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",Oe=Xu(Ie),Ye=e(ne).toDate(),_e=[];b(Ye,pe);)_e.push(Ye),Ye=A(Ye,1,Oe);return _e}function j(ne,pe){var Ie=Xu(pe),Oe=a(ne,Ie);return d(Oe,ne)?Oe:A(Oe,1,Ie)}function B(ne,pe){var Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",Oe=Xu(Ie),Ye=e(ne),_e=e(pe);return _e.diff(Ye,Oe)}function L(ne){var pe=e(ne);return pe.minutes()}function z(ne){var pe=ne?e.localeData(ne):e.localeData();return pe?pe.firstDayOfWeek():0}function U(ne){return e(ne).startOf("month").startOf("week").toDate()}function W(ne){return e(ne).endOf("month").endOf("week").toDate()}function Z(ne){for(var pe=U(ne),Ie=W(ne),Oe=[];b(pe,Ie);)Oe.push(pe),pe=A(pe,1,"d");return Oe}function re(ne,pe,Ie){return e(ne).startOf("day").minute(pe+Ie).toDate()}function Q(ne,pe){return B(ne,pe,"minutes")}function ce(ne){var pe=e(ne).startOf("day"),Ie=e(ne);return Ie.diff(pe,"minutes")+o(ne)}function ee(ne,pe){var Ie=e(ne),Oe=e(pe);return Ie.isBefore(Oe,"day")}function fe(ne,pe,Ie){var Oe=e(pe),Ye=e(Ie);return Oe.isSameOrAfter(Ye,"minutes")}function $(ne,pe){var Ie=e(ne),Oe=e(pe),Ye=e.duration(Oe.diff(Ie));return Ye.days()}function le(ne){var pe=ne.evtA,Ie=pe.start,Oe=pe.end,Ye=pe.allDay,_e=ne.evtB,$e=_e.start,Ue=_e.end,Ke=_e.allDay,yt=+a(Ie,"day")-+a($e,"day"),Ce=$(Ie,Oe),rt=$($e,Ue);return yt||rt-Ce||!!Ke-!!Ye||+Ie-+$e||+Oe-+Ue}function oe(ne){var pe=ne.event,Ie=pe.start,Oe=pe.end,Ye=ne.range,_e=Ye.start,$e=Ye.end,Ue=e(Ie).startOf("day"),Ke=e(Oe),yt=e(_e),Ce=e($e),rt=Ue.isSameOrBefore(Ce,"day"),st=!Ue.isSame(Ke,"minutes"),dt=st?Ke.isAfter(yt,"minutes"):Ke.isSameOrAfter(yt,"minutes");return rt&&dt}function he(ne,pe){var Ie=e(ne),Oe=e(pe);return Ie.isSame(Oe,"day")}function G(){var ne=new Date,pe=/-/.test(ne.toString())?"-":"",Ie=ne.getTimezoneOffset(),Oe=Number("".concat(pe).concat(Math.abs(Ie))),Ye=e().utcOffset();return Ye>Oe?1:0}return new QK({formats:rX,firstOfWeek:z,firstVisibleDay:U,lastVisibleDay:W,visibleDays:Z,format:function(pe,Ie,Oe){return t(e(pe),Oe).format(Ie)},lt:g,lte:b,gt:m,gte:v,eq:d,neq:f,merge:k,inRange:S,startOf:a,endOf:u,range:R,add:A,diff:B,ceil:j,min:T,max:I,minutes:L,getSlotDate:re,getTimezoneOffset:n,getDstOffset:r,getTotalMin:Q,getMinutesFromMidnight:ce,continuesPrior:ee,continuesAfter:fe,sortEvents:le,inEventRange:oe,isSameDate:he,daySpan:$,browserTZOffset:G})}function hI(e,t,n,r,o){const i={start:r.start(e),end:r.end(e)},a={start:t,end:n};return o.inEventRange({event:i,range:a})}function iX(e,t){return!e||t==null?!1:Ax.isEqual(e,t)}const uh={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};function ou({accessors:e,components:t,date:n,events:r,getters:o,length:i,localizer:a,onDoubleClickEvent:u,onSelectEvent:d,selected:f}){F.useRef(null);const m=F.useRef(null),g=F.useRef(null),v=F.useRef(null),b=F.useRef(null),[S,T]=F.useState(!1),[I,k]=F.useState(!1),A=(Z,re,Q)=>{const{event:ce,date:ee}=t;return re=re.filter(fe=>hI(fe,a.startOf(Z,"day"),a.endOf(Z,"day"),e,a)),re.map((fe,$)=>{const le=e.title(fe),oe=e.end(fe),he=e.start(fe),G=o.eventProp(fe,he,oe,iX(fe,f)),ne=$===0&&a.format(Z,"agendaDateFormat"),pe=$===0?y.jsx("td",{rowSpan:re.length,className:"rbc-agenda-date-cell",children:ee?y.jsx(ee,{day:Z,label:ne}):ne}):!1;return y.jsxs("tr",{className:G.className,style:G.style,children:[pe,y.jsx("td",{className:"rbc-agenda-time-cell",children:R(Z,fe)}),y.jsx("td",{className:"rbc-agenda-event-cell",onClick:Ie=>d&&d(fe,Ie),onDoubleClick:Ie=>u&&u(fe,Ie),children:ce?y.jsx(ce,{event:fe,title:le}):le})]},Q+"_"+$)},[])},R=(Z,re)=>{const Q=t.time;let ce="",ee=a.messages.allDay;const fe=e.end(re),$=e.start(re);return e.allDay(re)||(a.eq($,fe)?ee=a.format($,"agendaTimeFormat"):a.isSameDate($,fe)?ee=a.format({start:$,end:fe},"agendaTimeRangeFormat"):a.isSameDate(Z,$)?ee=a.format($,"agendaTimeFormat"):a.isSameDate(Z,fe)&&(ee=a.format(fe,"agendaTimeFormat"))),a.gt(Z,$,"day")&&(ce="rbc-continues-prior"),a.lt(Z,fe,"day")&&(ce+=" rbc-continues-after"),y.jsx("span",{className:ce.trim(),children:Q?y.jsx(Q,{event:re,day:Z,label:ee}):ee})},{messages:j}=a,B=a.add(n,-i/2,"day"),L=a.add(n,i/2,"day"),z=a.range(B,L,"day");S&&z.reverse(),r=r.filter(Z=>hI(Z,a.startOf(B,"day"),a.endOf(L,"day"),e,a)),r.sort((Z,re)=>+e.start(Z)-+e.start(re)),I&&r.reverse();const U=F.useCallback(()=>setTimeout(()=>{b.current&&p0(b.current).then(Z=>{new C.Notice(E("Image is generating..."));const re=vt.getState().settings.AutoSaveWhenOnMobile,Q=vt.getState().app.vault;if(re&&C.Platform.isMobile){const ce=Z.split("base64,")[1];t0(ce,"image/png").arrayBuffer().then(async fe=>{let $;const le="png",oe=su();for(const he in oe)if(oe[he]instanceof C.TFile){$=oe[he];break}$!==void 0&&await Q.createBinary(await Q.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,le,$),fe)})}m0({imgUrl:Z})}).catch(Z=>{console.error(Z)})},0),[b.current,z]),W=F.useCallback(Z=>{const re=new C.Menu;re.addItem(Q=>{Q.setIcon("share-2").setTitle(E("Share")).onClick(()=>{U()})}),re.showAtMouseEvent(Z.nativeEvent)},[b.current,z,U]);return y.jsx("div",{className:"rbc-agenda-view",children:r.length!==0?y.jsx(se.Fragment,{children:y.jsxs("table",{ref:b,className:"rbc-agenda-table",children:[y.jsx("thead",{onContextMenu:W,children:y.jsxs("tr",{children:[y.jsx("th",{className:"rbc-header",ref:m,onClick:()=>{T(!S)},children:j.date+(S?" 🔼":" 🔽")}),y.jsx("th",{className:"rbc-header",ref:g,onClick:()=>{k(!I)},children:j.time+(I?" 🔼":" 🔽")}),y.jsx("th",{className:"rbc-header",children:j.event})]})}),y.jsx("tbody",{ref:v,children:z.map((Z,re)=>A(Z,r,re))})]})}):y.jsx("span",{className:"rbc-agenda-empty",children:j.noEventsInRange})})}ou.propTypes={accessors:ke.object.isRequired,components:ke.object.isRequired,date:ke.instanceOf(Date),events:ke.array,getters:ke.object.isRequired,length:ke.number.isRequired,localizer:ke.object.isRequired,onSelectEvent:ke.func,onDoubleClickEvent:ke.func,selected:ke.object};ou.defaultProps={length:30};ou.range=(e,{length:t=ou.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),o=n.add(e,t/2,"day");return{customStart:r,customEnd:o}};ou.navigate=(e,t,{length:n=ou.defaultProps.length,localizer:r})=>{switch(t){case uh.PREVIOUS:return r.add(e,-n,"day");case uh.NEXT:return r.add(e,n,"day");default:return e}};ou.title=(e,{length:t=ou.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),o=n.add(e,t/2,"day");return n.format({start:r,end:o},"agendaHeaderFormat")};function aX(e,t){e.hoverEl.toggleClass("thino-hover-popover",!0);const n=ag(e.hoverEl);return n.render(y.jsx(Ra,{store:Le,context:Ot,children:y.jsx(Oi,{memo:t})})),n}function sX({event:e}){const t=e.resource,n=t.content.split(`
`)[0].slice(0,20),r=se.useRef(null),o=se.useRef(null),i=se.useRef(null);F.useEffect(()=>{if(o.current)return C.setIcon(o.current,"calendar"),()=>{r.current&&(r.current=null)}},[r]);const a=F.useCallback(d=>{i.current&&(i.current.unmount(),i.current=null),i.current=d},[]),u=F.useCallback(d=>{if(!r.current||!C.Keymap.isModifier(d.nativeEvent,"Mod"))return;const f=new C.HoverPopover(vt.getState().view,r.current,100),m=aX(f,t);a(m)},[r.current]);return y.jsxs("span",{className:"rbc-event-renderer","data-source-type":t.sourceType,"data-thino-type":t.thinoType,"data-thino-id":t.id,ref:r,"aria-label":t.path,onMouseOver:u,children:[y.jsx(lX,{event:e}),y.jsx("strong",{children:n})]})}const lX=({event:e})=>{const t=se.useRef(null),n=e.resource;F.useEffect(()=>{t.current&&C.setIcon(t.current,n.thinoType==="JOURNAL"?"calendar":n.thinoType==="TASK-TODO"?"square":"check-square")},[n==null?void 0:n.thinoType,t]);const r=F.useCallback(async o=>{o.stopPropagation(),o.preventDefault(),await(async()=>{const a=await Re.updateMemo(n.id,n.content,n.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");a&&Re.editMemo(a)})()},[n==null?void 0:n.thinoType,n==null?void 0:n.id,n==null?void 0:n.content]);return y.jsx(y.Fragment,{children:y.jsxs("span",{className:"rbc-event-icon-group",children:[y.jsx("span",{className:"rbc-event-icon",ref:t,onClick:r}),y.jsx("span",{className:Gn("rbc-event-time","hidden"),children:y.jsx("span",{className:"rbc-event-time-text",children:C.moment(e.start).format("HH:mm")})})]})})};function b3({views:e,view:t,messages:n,onView:r}){return e.map(o=>y.jsx("button",{type:"button",className:Gn({"rbc-active":t===o}),onClick:()=>r(o),children:n[o]},o))}b3.propTypes={messages:ke.object,onView:ke.func,view:ke.string,views:ke.array};function S3({date:e,label:t,localizer:{messages:n},onNavigate:r,onView:o,view:i,views:a}){const u={previous:F.useRef(null),today:F.useRef(null),next:F.useRef(null)};F.useEffect(()=>{u&&(C.setIcon(u.previous.current,"chevron-left"),C.setIcon(u.today.current,"dot"),C.setIcon(u.next.current,"chevron-right"))},[u]);const d=F.useMemo(()=>y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:u.previous,type:"button",onClick:()=>r(uh.PREVIOUS),"aria-label":n.previous,children:"<"}),y.jsx("button",{ref:u.today,type:"button",onClick:()=>r(uh.TODAY),"aria-label":n.today,children:"•"}),y.jsx("button",{ref:u.next,type:"button",onClick:()=>r(uh.NEXT),"aria-label":n.next,children:">"})]}),[n]);return y.jsxs("div",{className:"rbc-toolbar",children:[y.jsx("span",{className:Gn("rbc-btn-group","thino-view-custom-toolbar"),children:d}),y.jsx("span",{className:"rbc-toolbar-label",children:y.jsx(Ev,{type:"text",handleValueChange:f=>{r(uh.DATE,C.moment(f,"YYYY-MM-DD").format("YYYY-MM-DDTHH:mm:ssZ"))},defaultText:t+(i==="week"?C.moment(e.valueOf(),"x").format(" [W]WW"):""),defaultValue:C.moment(e.valueOf(),"x").valueOf()})}),y.jsx("span",{className:"rbc-btn-group",children:y.jsx(b3,{view:i,views:a,messages:n,onView:o})})]})}S3.propTypes={date:ke.instanceOf(Date),label:ke.string,localizer:ke.object,messages:ke.object,onNavigate:ke.func,onView:ke.func,view:ke.string,views:ke.array};function uX({event:e,children:t,showPopup:n,callRender:r,...o}){const i=F.useRef(null),a=F.useRef(null),u=F.useCallback(d=>{if(!d.isTrusted){r();return}a.current=d.nativeEvent.target,a.current&&(a.current.hasClass("rbc-event")||(a.current=a.current.closest(".rbc-event")),i.current!==null?(window.clearTimeout(i.current),i.current=null):i.current=window.setTimeout(()=>{n(e,a.current),i.current=null},250))},[e,n]);return y.jsx(y.Fragment,{children:y.jsx("div",{className:"rbc-event-wrapper","aria-describedby":"thino",onClick:u,children:t})})}const cX=oX(C.moment),dX=({event:e})=>{const t=e.resource;return y.jsx(y.Fragment,{children:y.jsx(Oi,{memo:t})})},fX=e=>{var Q;const{thinos:t}=e,[n,r]=se.useState([]),[o,i]=se.useState((app==null?void 0:app.loadLocalStorage("thino-calendar-view"))||"month"),[a,u]=se.useState(null),d=se.useRef(null),f=se.useRef(null),[m,g]=se.useState(!1),v=F.useRef(null),[b,S]=F.useState(new Date);F.useEffect(()=>()=>{d.current&&(d.current=null),f.current&&(f.current=null),v.current&&(v.current=null)},[]),F.useEffect(()=>{const ce=t.map(ee=>{const fe=C.moment(ee.createdAt,"YYYY/MM/DD HH:mm:ss"),$=fe.clone().add(1,"minute");return{title:ee.content,start:new Date(fe.format("YYYY-MM-DDTHH:mm:ss")),end:new Date($.format("YYYY-MM-DDTHH:mm:ss")),resource:ee}});r(ce)},[t]),F.useEffect(()=>{app==null||app.saveLocalStorage("thino-calendar-view",o)},[o]),F.useEffect(()=>{m&&u(t.find(ce=>ce.id===a.id))},[t]),F.useEffect(()=>{a&&v.current.update()},[a]),v.current=h0(d.current,f.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]});const T=F.useCallback(()=>{v.current.update(),v.current.update()},[]),I=F.useCallback((ce,ee)=>{u(null),j(),v.current.state.elements.reference=ee,u(ce.resource),B()},[]),k=F.useCallback(()=>{j(),u(null)},[]),A=F.useCallback((ce,ee,fe)=>{var $;if(R(ce),ee==="week"||ee==="day"){const le=d.current.find(".rbc-event-wrapper");if(d.current.closest(".memolist-wrapper"),le){($=le.children[0])==null||$.click();return}else{setTimeout(()=>{var he,G;const oe=d.current.find(".rbc-event-wrapper");(G=(he=oe==null?void 0:oe.children)==null?void 0:he[0])==null||G.click()},0);return}}},[]),R=F.useCallback(ce=>{S(ce)},[S]);ug(f,k);const j=F.useCallback(()=>{g(!1)},[g]),B=F.useCallback(()=>{v.current.update(),g(!0)},[g]),L=F.useCallback(ce=>{const ee=ce.resource;ft.setEditMemoId(ee.id)},[]),z=F.useCallback(ce=>{i(ce)},[i]),{components:U,views:W,messages:Z}=F.useMemo(()=>({components:{toolbar:S3,eventWrapper:ce=>y.jsx(uX,{...ce,callRender:T,showPopup:I}),agenda:{event:dX},event:sX},views:{month:!0,agenda:ou,week:!0,day:!0},messages:{month:E("Month"),day:E("Day"),next:E("Next"),previous:E("Previous"),today:E("Today"),agenda:E("Agenda"),week:E("Week"),yesterday:E("Yesterday"),tomorrow:E("Tomorrow"),noEventsInRange:E("No thinos in range"),date:E("date"),time:E("time"),event:E("event")}}),[]),re=F.useMemo(()=>({timeGutterFormat:(ce,ee,fe)=>fe.format(ce,"HH:mm",ee),agendaTimeRangeFormat:({start:ce,end:ee},fe,$)=>$.format(ce,"HH:mm",fe)+" — "+$.format(ee,"HH:mm",fe),agendaHeaderFormat:({start:ce,end:ee},fe,$)=>$.format(ce,"YYYY-MM-DD")+" — "+$.format(ee,"YYYY-MM-DD")}),[]);return y.jsxs("div",{ref:d,className:"calendar-view",children:[y.jsx(QQ,{date:b,messages:Z,components:U,localizer:cX,events:n,views:W,onView:z,onDoubleClickEvent:L,onNavigate:A,formats:re,defaultView:o,tooltipAccessor:null,startAccessor:"start",endAccessor:"end"}),y.jsx("div",{ref:f,style:(Q=v.current)==null?void 0:Q.styles.popper,className:Gn("thino-popup-container",m?"":"hidden"),children:a&&y.jsx(Oi,{memo:a})})]})};function ic(e,t){return typeof e=="function"?e(t):e}function la(e,t){return n=>{t.setState(r=>({...r,[e]:ic(n,r[e])}))}}function Wv(e){return e instanceof Function}function hX(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function pX(e,t){const n=[],r=o=>{o.forEach(i=>{n.push(i);const a=t(i);a!=null&&a.length&&r(a)})};return r(e),n}function Lt(e,t,n){let r=[],o;return i=>{let a;n.key&&n.debug&&(a=Date.now());const u=e(i);if(!(u.length!==r.length||u.some((m,g)=>r[g]!==m)))return o;r=u;let f;if(n.key&&n.debug&&(f=Date.now()),o=t(...u),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const m=Math.round((Date.now()-a)*100)/100,v=Math.round((Date.now()-f)*100)/100/16,b=(S,T)=>{for(S=String(S);S.length<T;)S=" "+S;return S}}return o}}function Rt(e,t,n,r){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[t]},key:!1,onChange:r}}function mX(e,t,n,r){var o,i;const u={...e._getDefaultColumnDef(),...t},d=u.accessorKey;let f=(o=(i=u.id)!=null?i:d?d.replace(".","_"):void 0)!=null?o:typeof u.header=="string"?u.header:void 0,m;if(u.accessorFn?m=u.accessorFn:d&&(d.includes(".")?m=v=>{let b=v;for(const T of d.split(".")){var S;b=(S=b)==null?void 0:S[T]}return b}:m=v=>v[u.accessorKey]),!f)throw new Error;let g={id:`${String(f)}`,accessorFn:m,parent:r,depth:n,columnDef:u,columns:[],getFlatColumns:Lt(()=>[!0],()=>{var v;return[g,...(v=g.columns)==null?void 0:v.flatMap(b=>b.getFlatColumns())]},Rt(e.options,"debugColumns")),getLeafColumns:Lt(()=>[e._getOrderColumnsFn()],v=>{var b;if((b=g.columns)!=null&&b.length){let S=g.columns.flatMap(T=>T.getLeafColumns());return v(S)}return[g]},Rt(e.options,"debugColumns"))};for(const v of e._features)v.createColumn==null||v.createColumn(g,e);return g}const Ro="debugHeaders";function pI(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],u=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(u),a.push(d)};return u(i),a},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(a=>{a.createHeader==null||a.createHeader(i,e)}),i}const gX={createTable:e=>{e.getHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var i,a;const u=(i=r==null?void 0:r.map(g=>n.find(v=>v.id===g)).filter(Boolean))!=null?i:[],d=(a=o==null?void 0:o.map(g=>n.find(v=>v.id===g)).filter(Boolean))!=null?a:[],f=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(o!=null&&o.includes(g.id)));return Uy(t,[...u,...f,...d],e)},Rt(e.options,Ro)),e.getCenterHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(o!=null&&o.includes(i.id))),Uy(t,n,e,"center")),Rt(e.options,Ro)),e.getLeftHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(a=>n.find(u=>u.id===a)).filter(Boolean))!=null?o:[];return Uy(t,i,e,"left")},Rt(e.options,Ro)),e.getRightHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(a=>n.find(u=>u.id===a)).filter(Boolean))!=null?o:[];return Uy(t,i,e,"right")},Rt(e.options,Ro)),e.getFooterGroups=Lt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ro)),e.getLeftFooterGroups=Lt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ro)),e.getCenterFooterGroups=Lt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ro)),e.getRightFooterGroups=Lt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ro)),e.getFlatHeaders=Lt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ro)),e.getLeftFlatHeaders=Lt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ro)),e.getCenterFlatHeaders=Lt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ro)),e.getRightFlatHeaders=Lt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ro)),e.getCenterLeafHeaders=Lt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Ro)),e.getLeftLeafHeaders=Lt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Ro)),e.getRightLeafHeaders=Lt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Ro)),e.getLeafHeaders=Lt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,i,a,u,d,f;return[...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(a=(u=n[0])==null?void 0:u.headers)!=null?a:[],...(d=(f=r[0])==null?void 0:f.headers)!=null?d:[]].map(m=>m.getLeafHeaders()).flat()},Rt(e.options,Ro))}};function Uy(e,t,n,r){var o,i;let a=0;const u=function(v,b){b===void 0&&(b=1),a=Math.max(a,b),v.filter(S=>S.getIsVisible()).forEach(S=>{var T;(T=S.columns)!=null&&T.length&&u(S.columns,b+1)},0)};u(e);let d=[];const f=(v,b)=>{const S={depth:b,id:[r,`${b}`].filter(Boolean).join("_"),headers:[]},T=[];v.forEach(I=>{const k=[...T].reverse()[0],A=I.column.depth===S.depth;let R,j=!1;if(A&&I.column.parent?R=I.column.parent:(R=I.column,j=!0),k&&(k==null?void 0:k.column)===R)k.subHeaders.push(I);else{const B=pI(n,R,{id:[r,b,R.id,I==null?void 0:I.id].filter(Boolean).join("_"),isPlaceholder:j,placeholderId:j?`${T.filter(L=>L.column===R).length}`:void 0,depth:b,index:T.length});B.subHeaders.push(I),T.push(B)}S.headers.push(I),I.headerGroup=S}),d.push(S),b>0&&f(T,b-1)},m=t.map((v,b)=>pI(n,v,{depth:a,index:b}));f(m,a-1),d.reverse();const g=v=>v.filter(S=>S.column.getIsVisible()).map(S=>{let T=0,I=0,k=[0];S.subHeaders&&S.subHeaders.length?(k=[],g(S.subHeaders).forEach(R=>{let{colSpan:j,rowSpan:B}=R;T+=j,k.push(B)})):T=1;const A=Math.min(...k);return I+=A,S.colSpan=T,S.rowSpan=I,{colSpan:T,rowSpan:I}});return g((o=(i=d[0])==null?void 0:i.headers)!=null?o:[]),d}const zy={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},hb=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),yX={getDefaultColumnDef:()=>zy,getInitialState:e=>({columnSizing:{},columnSizingInfo:hb(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:la("columnSizing",e),onColumnSizingInfoChange:la("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:zy.minSize,(r=i??e.columnDef.size)!=null?r:zy.size),(o=e.columnDef.maxSize)!=null?o:zy.maxSize)},e.getStart=Lt(n=>[n,Im(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,i)=>o+i.getSize(),0),Rt(t.options,"debugColumns")),e.getAfter=Lt(n=>[n,Im(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,i)=>o+i.getSize(),0),Rt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var i;n+=(i=o.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r==null?void 0:r.getCanResize();return i=>{if(!r||!o||(i.persist==null||i.persist(),pb(i)&&i.touches&&i.touches.length>1))return;const a=e.getSize(),u=e?e.getLeafHeaders().map(k=>[k.column.id,k.column.getSize()]):[[r.id,r.getSize()]],d=pb(i)?Math.round(i.touches[0].clientX):i.clientX,f={},m=(k,A)=>{typeof A=="number"&&(t.setColumnSizingInfo(R=>{var j,B;const L=t.options.columnResizeDirection==="rtl"?-1:1,z=(A-((j=R==null?void 0:R.startOffset)!=null?j:0))*L,U=Math.max(z/((B=R==null?void 0:R.startSize)!=null?B:0),-.999999);return R.columnSizingStart.forEach(W=>{let[Z,re]=W;f[Z]=Math.round(Math.max(re+re*U,0)*100)/100}),{...R,deltaOffset:z,deltaPercentage:U}}),(t.options.columnResizeMode==="onChange"||k==="end")&&t.setColumnSizing(R=>({...R,...f})))},g=k=>m("move",k),v=k=>{m("end",k),t.setColumnSizingInfo(A=>({...A,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=n||typeof document<"u"?document:null,S={moveHandler:k=>g(k.clientX),upHandler:k=>{b==null||b.removeEventListener("mousemove",S.moveHandler),b==null||b.removeEventListener("mouseup",S.upHandler),v(k.clientX)}},T={moveHandler:k=>(k.cancelable&&(k.preventDefault(),k.stopPropagation()),g(k.touches[0].clientX),!1),upHandler:k=>{var A;b==null||b.removeEventListener("touchmove",T.moveHandler),b==null||b.removeEventListener("touchend",T.upHandler),k.cancelable&&(k.preventDefault(),k.stopPropagation()),v((A=k.touches[0])==null?void 0:A.clientX)}},I=vX()?{passive:!1}:!1;pb(i)?(b==null||b.addEventListener("touchmove",T.moveHandler,I),b==null||b.addEventListener("touchend",T.upHandler,I)):(b==null||b.addEventListener("mousemove",S.moveHandler,I),b==null||b.addEventListener("mouseup",S.upHandler,I)),t.setColumnSizingInfo(k=>({...k,startOffset:d,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?hb():(n=e.initialState.columnSizingInfo)!=null?n:hb())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let Vy=null;function vX(){if(typeof Vy=="boolean")return Vy;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Vy=e,Vy}function pb(e){return e.type==="touchstart"}const wX={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:la("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,i;e.setExpanded(r?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const a=i.split(".");r=Math.max(r,a.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const i=r===!0?!0:!!(r!=null&&r[e.id]);let a={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(u=>{a[u]=!0}):a=r,n=(o=n)!=null?o:!i,!i&&n)return{...a,[e.id]:!0};if(i&&!n){const{[e.id]:u,...d}=a;return d}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},D3=(e,t,n)=>{var r;const o=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(o))};D3.autoRemove=e=>hs(e);const T3=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};T3.autoRemove=e=>hs(e);const I3=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};I3.autoRemove=e=>hs(e);const x3=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};x3.autoRemove=e=>hs(e)||!(e!=null&&e.length);const E3=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});E3.autoRemove=e=>hs(e)||!(e!=null&&e.length);const C3=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});C3.autoRemove=e=>hs(e)||!(e!=null&&e.length);const M3=(e,t,n)=>e.getValue(t)===n;M3.autoRemove=e=>hs(e);const k3=(e,t,n)=>e.getValue(t)==n;k3.autoRemove=e=>hs(e);const jS=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};jS.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,a=n===null||Number.isNaN(o)?1/0:o;if(i>a){const u=i;i=a,a=u}return[i,a]};jS.autoRemove=e=>hs(e)||hs(e[0])&&hs(e[1]);const Gl={includesString:D3,includesStringSensitive:T3,equalsString:I3,arrIncludes:x3,arrIncludesAll:E3,arrIncludesSome:C3,equals:M3,weakEquals:k3,inNumberRange:jS};function hs(e){return e==null||e===""}const bX={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:la("columnFilters",e),onGlobalFilterChange:la("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Gl.includesString:typeof r=="number"?Gl.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Gl.equals:Array.isArray(r)?Gl.arrIncludes:Gl.weakEquals},e.getFilterFn=()=>{var n,r;return Wv(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Gl[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,r,o,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),i=r==null?void 0:r.find(m=>m.id===e.id),a=ic(n,i?i.value:void 0);if(mI(o,a,e)){var u;return(u=r==null?void 0:r.filter(m=>m.id!==e.id))!=null?u:[]}const d={id:e.id,value:a};if(i){var f;return(f=r==null?void 0:r.map(m=>m.id===e.id?d:m))!=null?f:[]}return r!=null&&r.length?[...r,d]:[d]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Gl.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Wv(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Gl[r]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var i;return(i=ic(t,o))==null?void 0:i.filter(a=>{const u=n.find(d=>d.id===a.id);if(u){const d=u.getFilterFn();if(mI(d,a.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function mI(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const SX=(e,t,n)=>n.reduce((r,o)=>{const i=o.getValue(e);return r+(typeof i=="number"?i:0)},0),DX=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},TX=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},IX=(e,t,n)=>{let r,o;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r===void 0?a>=a&&(r=o=a):(r>a&&(r=a),o<a&&(o=a)))}),[r,o]},xX=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},EX=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!hX(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((i,a)=>i-a);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},CX=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),MX=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,kX=(e,t)=>t.length,mb={sum:SX,min:DX,max:TX,extent:IX,mean:xX,median:EX,unique:CX,uniqueCount:MX,count:kX},NX={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:la("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r,o,i;return(n=(r=(o=(i=e.columnDef.enableGrouping)!=null?i:!0)!=null?o:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return mb.sum;if(Object.prototype.toString.call(r)==="[object Date]")return mb.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Wv(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:mb[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function AX(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(a=>a.id===i)).filter(Boolean),...r]}const FX={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:la("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Lt(n=>[Im(t,n)],n=>n.findIndex(r=>r.id===e.id),Rt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Im(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=Im(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Lt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let i=[];if(!(t!=null&&t.length))i=o;else{const a=[...t],u=[...o];for(;u.length&&a.length;){const d=a.shift(),f=u.findIndex(m=>m.id===d);f>-1&&i.push(u.splice(f,1)[0])}i=[...i,...u]}return AX(i,n,r)},Rt(e.options,"debugTable"))}},h1=0,p1=10,gb=()=>({pageIndex:h1,pageSize:p1}),PX={getInitialState:e=>({...e,pagination:{...gb(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:la("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=i=>ic(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?gb():(o=e.initialState.pagination)!=null?o:gb())},e.setPageIndex=r=>{e.setPagination(o=>{let i=ic(r,o.pageIndex);const a=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,a)),{...o,pageIndex:i}})},e.resetPageIndex=r=>{var o,i;e.setPageIndex(r?h1:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?o:h1)},e.resetPageSize=r=>{var o,i;e.setPageSize(r?p1:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?o:p1)},e.setPageSize=r=>{e.setPagination(o=>{const i=Math.max(1,ic(r,o.pageSize)),a=o.pageSize*o.pageIndex,u=Math.floor(a/i);return{...o,pageIndex:u,pageSize:i}})},e.setPageCount=r=>e.setPagination(o=>{var i;let a=ic(r,(i=e.options.pageCount)!=null?i:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...o,pageCount:a}}),e.getPageOptions=Lt(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((i,a)=>a)),o},Rt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},yb=()=>({left:[],right:[]}),vb=()=>({top:[],bottom:[]}),OX={getInitialState:e=>({columnPinning:yb(),rowPinning:vb(),...e}),getDefaultOptions:e=>({onColumnPinningChange:la("columnPinning",e),onRowPinningChange:la("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var i,a;if(n==="right"){var u,d;return{left:((u=o==null?void 0:o.left)!=null?u:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((d=o==null?void 0:o.right)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var f,m;return{left:[...((f=o==null?void 0:o.left)!=null?f:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((m=o==null?void 0:o.right)!=null?m:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((i=o==null?void 0:o.left)!=null?i:[]).filter(g=>!(r!=null&&r.includes(g))),right:((a=o==null?void 0:o.right)!=null?a:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,i,a;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((i=(a=t.options.enableColumnPinning)!=null?a:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(u=>u.id),{left:r,right:o}=t.getState().columnPinning,i=n.some(u=>r==null?void 0:r.includes(u)),a=n.some(u=>o==null?void 0:o.includes(u));return i?"left":a?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,r,o)=>{const i=r?e.getLeafRows().map(d=>{let{id:f}=d;return f}):[],a=o?e.getParentRows().map(d=>{let{id:f}=d;return f}):[],u=new Set([...a,e.id,...i]);t.setRowPinning(d=>{var f,m;if(n==="bottom"){var g,v;return{top:((g=d==null?void 0:d.top)!=null?g:[]).filter(T=>!(u!=null&&u.has(T))),bottom:[...((v=d==null?void 0:d.bottom)!=null?v:[]).filter(T=>!(u!=null&&u.has(T))),...Array.from(u)]}}if(n==="top"){var b,S;return{top:[...((b=d==null?void 0:d.top)!=null?b:[]).filter(T=>!(u!=null&&u.has(T))),...Array.from(u)],bottom:((S=d==null?void 0:d.bottom)!=null?S:[]).filter(T=>!(u!=null&&u.has(T)))}}return{top:((f=d==null?void 0:d.top)!=null?f:[]).filter(T=>!(u!=null&&u.has(T))),bottom:((m=d==null?void 0:d.bottom)!=null?m:[]).filter(T=>!(u!=null&&u.has(T)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,i=n.some(u=>r==null?void 0:r.includes(u)),a=n.some(u=>o==null?void 0:o.includes(u));return i?"top":a?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const i=(n=t._getPinnedRows(o))==null?void 0:n.map(a=>{let{id:u}=a;return u});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1},e.getCenterVisibleCells=Lt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const i=[...r??[],...o??[]];return n.filter(a=>!i.includes(a.column.id))},Rt(t.options,"debugRows")),e.getLeftVisibleCells=Lt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(a=>a.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),Rt(t.options,"debugRows")),e.getRightVisibleCells=Lt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(a=>a.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),Rt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?yb():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:yb())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,i;return!!((o=r.left)!=null&&o.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Lt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),Rt(e.options,"debugColumns")),e.getRightLeafColumns=Lt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),Rt(e.options,"debugColumns")),e.getCenterLeafColumns=Lt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(i=>!o.includes(i.id))},Rt(e.options,"debugColumns")),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?vb():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:vb())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,i;return!!((o=r.top)!=null&&o.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=Lt(t=>[e.getRowModel().rows,e.getState().rowPinning[t],t],(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(a=>{const u=e.getRow(a,!0);return u.getIsAllParentsExpanded()?u:null}):(n??[]).map(a=>t.find(u=>u.id===a))).filter(Boolean).map(a=>({...a,position:r}))},Rt(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=Lt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(i=>!o.has(i.id))},Rt(e.options,"debugRows"))}},jX={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:la("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):o.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(i=>{m1(o,i.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Lt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?wb(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getFilteredSelectedRowModel=Lt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?wb(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getGroupedSelectedRowModel=Lt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?wb(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(i=>{var a;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return i;const u={...i};return m1(u,e.id,n,(a=r==null?void 0:r.selectChildren)!=null?a:!0,t),u})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return LS(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return g1(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return g1(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},m1=(e,t,n,r,o)=>{var i;const a=o.getRow(t,!0);n?(a.getCanMultiSelect()||Object.keys(e).forEach(u=>delete e[u]),a.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=a.subRows)!=null&&i.length&&a.getCanSelectSubRows()&&a.subRows.forEach(u=>m1(e,u.id,n,r,o))};function wb(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(a,u){return a.map(d=>{var f;const m=LS(d,n);if(m&&(r.push(d),o[d.id]=d),(f=d.subRows)!=null&&f.length&&(d={...d,subRows:i(d.subRows)}),m)return d}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function LS(e,t){var n;return(n=t[e.id])!=null?n:!1}function g1(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,i=!1;return e.subRows.forEach(a=>{if(!(i&&!o)&&(a.getCanSelect()&&(LS(a,t)?i=!0:o=!1),a.subRows&&a.subRows.length)){const u=g1(a,t);u==="all"?i=!0:(u==="some"&&(i=!0),o=!1)}}),o?"all":i?"some":!1}const y1=/([0-9]+)/gm,LX=(e,t,n)=>N3(dc(e.getValue(n)).toLowerCase(),dc(t.getValue(n)).toLowerCase()),RX=(e,t,n)=>N3(dc(e.getValue(n)),dc(t.getValue(n))),_X=(e,t,n)=>RS(dc(e.getValue(n)).toLowerCase(),dc(t.getValue(n)).toLowerCase()),BX=(e,t,n)=>RS(dc(e.getValue(n)),dc(t.getValue(n))),HX=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},YX=(e,t,n)=>RS(e.getValue(n),t.getValue(n));function RS(e,t){return e===t?0:e>t?1:-1}function dc(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function N3(e,t){const n=e.split(y1).filter(Boolean),r=t.split(y1).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),i=r.shift(),a=parseInt(o,10),u=parseInt(i,10),d=[a,u].sort();if(isNaN(d[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(d[1]))return isNaN(a)?-1:1;if(a>u)return 1;if(u>a)return-1}return n.length-r.length}const ah={alphanumeric:LX,alphanumericCaseSensitive:RX,text:_X,textCaseSensitive:BX,datetime:HX,basic:YX},UX={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:la("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const i=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return ah.datetime;if(typeof i=="string"&&(r=!0,i.split(y1).length>1))return ah.alphanumeric}return r?ah.text:ah.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Wv(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:ah[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(a=>{const u=a==null?void 0:a.find(b=>b.id===e.id),d=a==null?void 0:a.findIndex(b=>b.id===e.id);let f=[],m,g=i?n:o==="desc";if(a!=null&&a.length&&e.getCanMultiSort()&&r?u?m="toggle":m="add":a!=null&&a.length&&d!==a.length-1?m="replace":u?m="toggle":m="replace",m==="toggle"&&(i||o||(m="remove")),m==="add"){var v;f=[...a,{id:e.id,desc:g}],f.splice(0,f.length-((v=t.options.maxMultiSortColCount)!=null?v:Number.MAX_SAFE_INTEGER))}else m==="toggle"?f=a.map(b=>b.id===e.id?{...b,desc:g}:b):m==="remove"?f=a.filter(b=>b.id!==e.id):f=[{id:e.id,desc:g}];return f})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const i=e.getFirstSortDir(),a=e.getIsSorted();return a?a!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:a==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},zX={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:la("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Lt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Rt(t.options,"debugRows")),e.getVisibleCells=Lt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],Rt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Lt(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),Rt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Im(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const gI=[gX,zX,FX,OX,bX,UX,NX,wX,PX,jX,yX];function VX(e){var t;e.debugAll||e.debugTable;let n={_features:gI};const r=n._features.reduce((m,g)=>Object.assign(m,g.getDefaultOptions==null?void 0:g.getDefaultOptions(n)),{}),o=m=>n.options.mergeOptions?n.options.mergeOptions(r,m):{...r,...m};let a={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(m=>{var g;a=(g=m.getInitialState==null?void 0:m.getInitialState(a))!=null?g:a});const u=[];let d=!1;const f={_features:gI,options:{...r,...e},initialState:a,_queue:m=>{u.push(m),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{n.setState(n.initialState)},setOptions:m=>{const g=ic(m,n.options);n.options=o(g)},getState:()=>n.options.state,setState:m=>{n.options.onStateChange==null||n.options.onStateChange(m)},_getRowId:(m,g,v)=>{var b;return(b=n.options.getRowId==null?void 0:n.options.getRowId(m,g,v))!=null?b:`${v?[v.id,g].join("."):g}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(m,g)=>{let v=(g?n.getPrePaginationRowModel():n.getRowModel()).rowsById[m];if(!v&&(v=n.getCoreRowModel().rowsById[m],!v))throw new Error;return v},_getDefaultColumnDef:Lt(()=>[n.options.defaultColumn],m=>{var g;return m=(g=m)!=null?g:{},{header:v=>{const b=v.header.column.columnDef;return b.accessorKey?b.accessorKey:b.accessorFn?b.id:null},cell:v=>{var b,S;return(b=(S=v.renderValue())==null||S.toString==null?void 0:S.toString())!=null?b:null},...n._features.reduce((v,b)=>Object.assign(v,b.getDefaultColumnDef==null?void 0:b.getDefaultColumnDef()),{}),...m}},Rt(e,"debugColumns")),_getColumnDefs:()=>n.options.columns,getAllColumns:Lt(()=>[n._getColumnDefs()],m=>{const g=function(v,b,S){return S===void 0&&(S=0),v.map(T=>{const I=mX(n,T,S,b),k=T;return I.columns=k.columns?g(k.columns,I,S+1):[],I})};return g(m)},Rt(e,"debugColumns")),getAllFlatColumns:Lt(()=>[n.getAllColumns()],m=>m.flatMap(g=>g.getFlatColumns()),Rt(e,"debugColumns")),_getAllFlatColumnsById:Lt(()=>[n.getAllFlatColumns()],m=>m.reduce((g,v)=>(g[v.id]=v,g),{}),Rt(e,"debugColumns")),getAllLeafColumns:Lt(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(m,g)=>{let v=m.flatMap(b=>b.getLeafColumns());return g(v)},Rt(e,"debugColumns")),getColumn:m=>n._getAllFlatColumnsById()[m]};Object.assign(n,f);for(let m=0;m<n._features.length;m++){const g=n._features[m];g==null||g.createTable==null||g.createTable(n)}return n}function WX(e,t,n,r){const o=()=>{var a;return(a=i.getValue())!=null?a:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:Lt(()=>[e,n,t,i],(a,u,d,f)=>({table:a,column:u,row:d,cell:f,getValue:f.getValue,renderValue:f.renderValue}),Rt(e.options,"debugCells"))};return e._features.forEach(a=>{a.createCell==null||a.createCell(i,n,t,e)},{}),i}const _S=(e,t,n,r,o,i,a)=>{let u={id:t,index:r,original:n,depth:o,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(u._valuesCache.hasOwnProperty(d))return u._valuesCache[d];const f=e.getColumn(d);if(f!=null&&f.accessorFn)return u._valuesCache[d]=f.accessorFn(u.original,r),u._valuesCache[d]},getUniqueValues:d=>{if(u._uniqueValuesCache.hasOwnProperty(d))return u._uniqueValuesCache[d];const f=e.getColumn(d);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(u._uniqueValuesCache[d]=f.columnDef.getUniqueValues(u.original,r),u._uniqueValuesCache[d]):(u._uniqueValuesCache[d]=[u.getValue(d)],u._uniqueValuesCache[d])},renderValue:d=>{var f;return(f=u.getValue(d))!=null?f:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>pX(u.subRows,d=>d.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let d=[],f=u;for(;;){const m=f.getParentRow();if(!m)break;d.push(m),f=m}return d.reverse()},getAllCells:Lt(()=>[e.getAllLeafColumns()],d=>d.map(f=>WX(e,u,f,f.id)),Rt(e.options,"debugRows")),_getAllCellsByColumnId:Lt(()=>[u.getAllCells()],d=>d.reduce((f,m)=>(f[m.column.id]=m,f),{}),Rt(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const f=e._features[d];f==null||f.createRow==null||f.createRow(u,e)}return u};function ZX(){return e=>Lt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,i,a){i===void 0&&(i=0);const u=[];for(let f=0;f<o.length;f++){const m=_S(e,e._getRowId(o[f],f,a),o[f],f,i,void 0,a==null?void 0:a.id);if(n.flatRows.push(m),n.rowsById[m.id]=m,u.push(m),e.options.getSubRows){var d;m.originalSubRows=e.options.getSubRows(o[f],f),(d=m.originalSubRows)!=null&&d.length&&(m.subRows=r(m.originalSubRows,i+1,m))}}return u};return n.rows=r(t),n},Rt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function A3(e,t,n){return n.options.filterFromLeafRows?$X(e,t,n):qX(e,t,n)}function $X(e,t,n){var r;const o=[],i={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(d,f){f===void 0&&(f=0);const m=[];for(let v=0;v<d.length;v++){var g;let b=d[v];const S=_S(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(S.columnFilters=b.columnFilters,(g=b.subRows)!=null&&g.length&&f<a){if(S.subRows=u(b.subRows,f+1),b=S,t(b)&&!S.subRows.length){m.push(b),i[b.id]=b,o.push(b);continue}if(t(b)||S.subRows.length){m.push(b),i[b.id]=b,o.push(b);continue}}else b=S,t(b)&&(m.push(b),i[b.id]=b,o.push(b))}return m};return{rows:u(e),flatRows:o,rowsById:i}}function qX(e,t,n){var r;const o=[],i={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(d,f){f===void 0&&(f=0);const m=[];for(let v=0;v<d.length;v++){let b=d[v];if(t(b)){var g;if((g=b.subRows)!=null&&g.length&&f<a){const T=_S(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);T.subRows=u(b.subRows,f+1),b=T}m.push(b),o.push(b),i[b.id]=b}}return m};return{rows:u(e),flatRows:o,rowsById:i}}function GX(){return e=>Lt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let v=0;v<t.flatRows.length;v++)t.flatRows[v].columnFilters={},t.flatRows[v].columnFiltersMeta={};return t}const o=[],i=[];(n??[]).forEach(v=>{var b;const S=e.getColumn(v.id);if(!S)return;const T=S.getFilterFn();T&&o.push({id:v.id,filterFn:T,resolvedValue:(b=T.resolveFilterValue==null?void 0:T.resolveFilterValue(v.value))!=null?b:v.value})});const a=n.map(v=>v.id),u=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(v=>v.getCanGlobalFilter());r&&u&&d.length&&(a.push("__global__"),d.forEach(v=>{var b;i.push({id:v.id,filterFn:u,resolvedValue:(b=u.resolveFilterValue==null?void 0:u.resolveFilterValue(r))!=null?b:r})}));let f,m;for(let v=0;v<t.flatRows.length;v++){const b=t.flatRows[v];if(b.columnFilters={},o.length)for(let S=0;S<o.length;S++){f=o[S];const T=f.id;b.columnFilters[T]=f.filterFn(b,T,f.resolvedValue,I=>{b.columnFiltersMeta[T]=I})}if(i.length){for(let S=0;S<i.length;S++){m=i[S];const T=m.id;if(m.filterFn(b,T,m.resolvedValue,I=>{b.columnFiltersMeta[T]=I})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const g=v=>{for(let b=0;b<a.length;b++)if(v.columnFilters[a[b]]===!1)return!1;return!0};return A3(t.rows,g,e)},Rt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function JX(){return(e,t)=>Lt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,o)=>{if(!n.rows.length||!(r!=null&&r.length)&&!o)return n;const i=[...r.map(u=>u.id).filter(u=>u!==t),o?"__global__":void 0].filter(Boolean),a=u=>{for(let d=0;d<i.length;d++)if(u.columnFilters[i[d]]===!1)return!1;return!0};return A3(n.rows,a,e)},Rt(e.options,"debugTable"))}function KX(){return(e,t)=>Lt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let i=0;i<n.flatRows.length;i++){const a=n.flatRows[i].getUniqueValues(t);for(let u=0;u<a.length;u++){const d=a[u];if(r.has(d)){var o;r.set(d,((o=r.get(d))!=null?o:0)+1)}else r.set(d,1)}}return r},Rt(e.options,"debugTable"))}function QX(){return(e,t)=>Lt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{var r;if(!n)return;const o=(r=n.flatRows[0])==null?void 0:r.getUniqueValues(t);if(typeof o>"u")return;let i=[o,o];for(let a=0;a<n.flatRows.length;a++){const u=n.flatRows[a].getUniqueValues(t);for(let d=0;d<u.length;d++){const f=u[d];f<i[0]?i[0]=f:f>i[1]&&(i[1]=f)}}return i},Rt(e.options,"debugTable"))}function XX(){return e=>Lt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],i=r.filter(d=>{var f;return(f=e.getColumn(d.id))==null?void 0:f.getCanSort()}),a={};i.forEach(d=>{const f=e.getColumn(d.id);f&&(a[d.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const u=d=>{const f=d.map(m=>({...m}));return f.sort((m,g)=>{for(let b=0;b<i.length;b+=1){var v;const S=i[b],T=a[S.id],I=(v=S==null?void 0:S.desc)!=null?v:!1;let k=0;if(T.sortUndefined){const A=m.getValue(S.id),R=g.getValue(S.id),j=A===void 0,B=R===void 0;(j||B)&&(k=j&&B?0:j?T.sortUndefined:-T.sortUndefined)}if(k===0&&(k=T.sortingFn(m,g,S.id)),k!==0)return I&&(k*=-1),T.invertSorting&&(k*=-1),k}return m.index-g.index}),f.forEach(m=>{var g;o.push(m),(g=m.subRows)!=null&&g.length&&(m.subRows=u(m.subRows))}),f};return{rows:u(n.rows),flatRows:o,rowsById:n.rowsById}},Rt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function eee(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function tee(e){return t=>Lt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:i}=n;let{rows:a,flatRows:u,rowsById:d}=r;const f=o*i,m=f+o;a=a.slice(f,m);let g;t.options.paginateExpandedRows?g={rows:a,flatRows:u,rowsById:d}:g=eee({rows:a,flatRows:u,rowsById:d}),g.flatRows=[];const v=b=>{g.flatRows.push(b),b.subRows.length&&b.subRows.forEach(v)};return g.rows.forEach(v),g},Rt(t.options,"debugTable"))}function yI(e,t){return e?nee(e)?F.createElement(e,t):e:null}function nee(e){return ree(e)||typeof e=="function"||oee(e)}function ree(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function oee(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function iee(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=F.useState(()=>({current:VX(t)})),[r,o]=F.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:a=>{o(a),e.onStateChange==null||e.onStateChange(a)}})),n.current}const F3={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z"},aee=Object.keys(F3).join("|"),see=new RegExp(aee,"g");function lee(e){return e.replace(see,t=>F3[t])}const Ni={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function uee(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:Ni.MATCHES,!n.accessors){const a=vI(e,t,n);return{rankedValue:e,rank:a,accessorIndex:-1,accessorThreshold:n.threshold,passed:a>=n.threshold}}const o=pee(e,n.accessors),i={rankedValue:e,rank:Ni.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let a=0;a<o.length;a++){const u=o[a];let d=vI(u.itemValue,t,n);const{minRanking:f,maxRanking:m,threshold:g=n.threshold}=u.attributes;d<f&&d>=Ni.MATCHES?d=f:d>m&&(d=m),d=Math.min(d,m),d>=g&&d>i.rank&&(i.rank=d,i.passed=!0,i.accessorIndex=a,i.accessorThreshold=g,i.rankedValue=u.itemValue)}return i}function vI(e,t,n){return e=wI(e,n),t=wI(t,n),t.length>e.length?Ni.NO_MATCH:e===t?Ni.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?Ni.EQUAL:e.startsWith(t)?Ni.STARTS_WITH:e.includes(` ${t}`)?Ni.WORD_STARTS_WITH:e.includes(t)?Ni.CONTAINS:t.length===1?Ni.NO_MATCH:cee(e).includes(t)?Ni.ACRONYM:dee(e,t))}function cee(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(i=>{t+=i.substr(0,1)})}),t}function dee(e,t){let n=0,r=0;function o(d,f,m){for(let g=m,v=f.length;g<v;g++)if(f[g]===d)return n+=1,g+1;return-1}function i(d){const f=1/d,m=n/t.length;return Ni.MATCHES+m*f}const a=o(t[0],e,0);if(a<0)return Ni.NO_MATCH;r=a;for(let d=1,f=t.length;d<f;d++){const m=t[d];if(r=o(m,e,r),!(r>-1))return Ni.NO_MATCH}const u=r-a;return i(u)}function fee(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function wI(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=lee(e)),e}function hee(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function pee(e,t){const n=[];for(let r=0,o=t.length;r<o;r++){const i=t[r],a=mee(i),u=hee(e,i);for(let d=0,f=u.length;d<f;d++)n.push({itemValue:u[d],attributes:a})}return n}const bI={maxRanking:1/0,minRanking:-1/0};function mee(e){return typeof e=="function"?bI:{...bI,...e}}const gee=({thino:e})=>{const t=F.useRef(null);F.useEffect(()=>(t.current&&C.setIcon(t.current,"pin"),()=>{t.current&&(t.current=null)}),[t]);const n=F.useCallback(async()=>{e.pinned?await Re.unpinMemoById(e.id):await Re.pinMemoById(e.id)},[e]);return y.jsx("span",{ref:t,className:Gn("pinned-status",e.pinned?"pinned":"not-pinned"),onClick:n})},yee=({thino:e})=>{const t=F.useRef(null);F.useEffect(()=>(t.current&&C.setIcon(t.current,e.thinoType==="JOURNAL"?"calendar":"check-square"),()=>{t.current&&(t.current=null)}),[t,e==null?void 0:e.thinoType]);const n=F.useCallback(async()=>{if(e.thinoType==="JOURNAL")return;const r=await Re.updateMemo(e.id,e.content,e.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");r&&Re.editMemo(r)},[e]);return y.jsx(y.Fragment,{children:e.thinoType!=="JOURNAL"?y.jsx("input",{className:Gn("thino-type-status","task-list-item-checkbox"),type:"checkbox",checked:e.thinoType!=="TASK-TODO","data-task":e.thinoType==="TASK-TODO"?"":e.thinoType==="TASK-DONE"?"x":e.thinoType.slice(5),onClick:n}):y.jsx("span",{ref:t,className:"thino-type-status"})})},vee=({id:e,path:t})=>{const n=F.useRef(null);F.useEffect(()=>(n.current&&C.setIcon(n.current,"link"),()=>{n.current&&(n.current=null)}),[]);const r=F.useCallback(()=>{!e||!t||Re.openThinoByID(e)},[e,t]);return y.jsxs("span",{className:"source-thino",onClick:r,children:[y.jsx("span",{children:t}),y.jsx("span",{ref:n,className:"source-thino-icon"})]})},wee=({id:e,sourceType:t})=>{const n=F.useRef(null);F.useEffect(()=>{var o;return n.current&&C.setIcon(n.current,((o=km.find(i=>i.title===t))==null?void 0:o.icon)||"list"),()=>{n.current&&(n.current=null)}},[]);const r=F.useCallback(async()=>{e&&await Re.openThinoByID(e)},[e]);return y.jsx("span",{ref:n,className:"source-type-icon",onClick:r})},SI=(e,t,n,r)=>{const o=uee(e.getValue(t),n);return r({itemRank:o}),o.passed},DI=(e,t,n)=>{var o,i;let r=0;return e.columnFiltersMeta[n]&&(r=fee((o=e.columnFiltersMeta[n])==null?void 0:o.itemRank,(i=t.columnFiltersMeta[n])==null?void 0:i.itemRank)),r===0?ah.alphanumeric(e,t,n):r};function bee({thinos:e}){var m;se.useReducer(()=>({}),{})[1];const[t,n]=se.useState([]),[r,o]=se.useState(""),i=se.useMemo(()=>[{header:E("Basic Info"),footer:g=>g.column.id,columns:[{accessorKey:"createdAt",header:()=>y.jsx("span",{className:"create-at-header-cell",children:E("Created At")}),cell:g=>g.getValue(),footer:g=>g.column.id,enableColumnFilter:!1},{accessorFn:g=>g.content,id:"content",header:()=>y.jsx("span",{className:"thino-header-cell",children:E("Thino")}),cell:g=>y.jsx(Oi,{memo:g.row.original,type:"table"}),footer:g=>g.column.id,filterFn:"fuzzy",sortingFn:DI},{accessorFn:g=>g.thinoType,id:"thinoType",cell:g=>y.jsx(yee,{thino:g.row.original}),header:()=>y.jsx("span",{children:E("Thino Type")}),footer:g=>g.column.id},{accessorFn:g=>g.sourceType,id:"sourceType",cell:g=>y.jsx(wee,{id:g.row.original.id,sourceType:g.getValue()}),header:()=>y.jsx("span",{children:E("Source Type")}),footer:g=>g.column.id}]},{header:E("Additional Info"),footer:g=>g.column.id,columns:[{accessorKey:"pinned",header:()=>y.jsx("span",{children:E("Pinned Status")}),cell:g=>y.jsx(gee,{thino:g.row.original}),footer:g=>g.column.id,filterFn:"fuzzy",sortingFn:DI},{accessorKey:"rowStatus",header:()=>y.jsx("span",{children:E("Row status")}),cell:g=>y.jsx("span",{children:g.getValue()==="NORMAL"?"":g.getValue()}),footer:g=>g.column.id},{accessorKey:"path",header:()=>E("Path"),cell:g=>y.jsx(vee,{id:g.row.original.id,path:g.getValue()}),footer:g=>g.column.id}]}],[]),[a,u]=se.useState(()=>e),d=()=>u(g=>e);F.useEffect(()=>{d()},[e]);const f=iee({data:a,columns:i,filterFns:{fuzzy:SI},initialState:{pagination:{pageSize:20}},state:{columnFilters:t,globalFilter:r},onColumnFiltersChange:n,onGlobalFilterChange:o,globalFilterFn:SI,getCoreRowModel:ZX(),getFilteredRowModel:GX(),getSortedRowModel:XX(),getPaginationRowModel:tee(),getFacetedRowModel:JX(),getFacetedUniqueValues:KX(),getFacetedMinMaxValues:QX(),debugTable:!1,debugHeaders:!1,debugColumns:!1});return se.useEffect(()=>{var g,v;((g=f.getState().columnFilters[0])==null?void 0:g.id)==="createdAt"&&((v=f.getState().sorting[0])==null?void 0:v.id)!=="createdAt"&&f.setSorting([{id:"createdAt",desc:!1}])},[(m=f.getState().columnFilters[0])==null?void 0:m.id]),y.jsxs("div",{className:"table-view",children:[y.jsx("div",{children:y.jsx(mv,{value:r||"",onChange:g=>o(String(g)),className:"table-search-bar",placeholder:E("Search all columns...")})}),y.jsxs("table",{className:"thino-table",children:[y.jsx("thead",{children:f.getHeaderGroups().map(g=>y.jsx("tr",{children:g.headers.map(v=>y.jsx("th",{colSpan:v.colSpan,children:v.isPlaceholder?null:y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:Gn(v.column.getCanSort()?"filter-header":"","table-header",v.column.id==="content"?"content-header":""),onClick:v.column.getToggleSortingHandler(),children:[yI(v.column.columnDef.header,v.getContext()),{asc:" 🔼",desc:" 🔽"}[v.column.getIsSorted()]??null]}),v.column.getCanFilter()?y.jsx(Dee,{column:v.column,table:f}):null]})},v.id))},g.id))}),y.jsx("tbody",{children:f.getRowModel().rows.map(g=>y.jsx("tr",{className:Gn(g.getValue("pinned")?"pinned":""),children:g.getVisibleCells().map(v=>y.jsx("td",{children:yI(v.column.columnDef.cell,v.getContext())},v.id))},g.id))})]}),y.jsxs("div",{className:"table-nav-bar",children:[y.jsx("button",{className:"prev-start-btn",onClick:()=>f.setPageIndex(0),disabled:!f.getCanPreviousPage(),children:"<<"}),y.jsx("button",{className:"prev-btn",onClick:()=>f.previousPage(),disabled:!f.getCanPreviousPage(),children:"<"}),y.jsx("button",{className:"next-btn",onClick:()=>f.nextPage(),disabled:!f.getCanNextPage(),children:">"}),y.jsx("button",{className:"next-end-btn",onClick:()=>f.setPageIndex(f.getPageCount()-1),disabled:!f.getCanNextPage(),children:">>"}),y.jsxs("span",{className:"table-page-info",children:[y.jsx("div",{children:E("Page")}),y.jsxs("strong",{children:[f.getState().pagination.pageIndex+1," of ",f.getPageCount()]})]}),y.jsxs("span",{className:"table-page-jump",children:["| ",E("Go to page"),":",y.jsx("input",{type:"number",defaultValue:f.getState().pagination.pageIndex+1,onChange:g=>{const v=g.target.value?Number(g.target.value)-1:0;f.setPageIndex(v)},className:"jump-inputer"})]}),y.jsx("select",{value:f.getState().pagination.pageSize,onChange:g=>{f.setPageSize(Number(g.target.value))},children:[10,20,30,40,50].map(g=>y.jsxs("option",{value:g,children:[E("Show")," ",g," ",E("rows")]},g))})]})]})}const See=e=>e==="sourceType"?["ALL"]:["ALL","ALL-TASK"];function Dee({column:e,table:t}){var i,a,u,d,f,m,g,v,b;const n=(i=t.getPreFilteredRowModel().flatRows[0])==null?void 0:i.getValue(e.id),r=e.getFilterValue(),o=se.useMemo(()=>typeof n=="number"?[]:Array.from(e.getFacetedUniqueValues().keys()).sort(),[e.getFacetedUniqueValues()]);return typeof n=="number"?y.jsx("div",{children:y.jsxs("div",{className:"filter-input-group",children:[y.jsx(mv,{type:"number",min:Number(((a=e.getFacetedMinMaxValues())==null?void 0:a[0])??""),max:Number(((u=e.getFacetedMinMaxValues())==null?void 0:u[1])??""),value:(r==null?void 0:r[0])??"",onChange:S=>e.setFilterValue(T=>[S,T==null?void 0:T[1]]),placeholder:`Min ${(d=e.getFacetedMinMaxValues())!=null&&d[0]?`(${(f=e.getFacetedMinMaxValues())==null?void 0:f[0]})`:""}`,className:"filter-input-short"}),y.jsx(mv,{type:"number",min:Number(((m=e.getFacetedMinMaxValues())==null?void 0:m[0])??""),max:Number(((g=e.getFacetedMinMaxValues())==null?void 0:g[1])??""),value:(r==null?void 0:r[1])??"",onChange:S=>e.setFilterValue(T=>[T==null?void 0:T[0],S]),placeholder:`Max ${(v=e.getFacetedMinMaxValues())!=null&&v[1]?`(${(b=e.getFacetedMinMaxValues())==null?void 0:b[1]})`:""}`,className:"filter-input-short"})]})}):y.jsx(y.Fragment,{children:o.length>1?y.jsxs(y.Fragment,{children:[e.id!=="path"&&e.id!=="content"&&e.id!=="thinoType"&&e.id!=="sourceType"&&y.jsx("datalist",{id:e.id+"list",children:o.slice(0,5e3).map(S=>y.jsx("option",{value:S},S))}),e.id==="thinoType"||e.id==="sourceType"?y.jsx("select",{id:e.id,onChange:S=>e.setFilterValue(S.target.value==="ALL"?"":S.target.value==="ALL-TASK"?"TASK":S.target.value),children:[...See(e.id),...o].map(S=>y.jsx("option",{value:S,children:E(S)||S},S))}):"",e.id!=="thinoType"&&e.id!=="sourceType"?y.jsx(mv,{type:"text",value:r??"",onChange:S=>e.setFilterValue(S),placeholder:`Search... (${e.getFacetedUniqueValues().size})`,className:"filter-input-long",list:e.id+"list"}):""]}):""})}function mv({value:e,onChange:t,debounce:n=500,...r}){const[o,i]=se.useState(e);return se.useEffect(()=>{i(e)},[e]),se.useEffect(()=>{const a=setTimeout(()=>{t(o)},n);return()=>clearTimeout(a)},[o]),y.jsx("input",{...r,value:o,onChange:a=>i(a.target.value)})}const Tee=e=>{const{locationState:{query:t},globalState:{memoListView:n,manifest:r},dailyNotesState:{app:o,settings:i}}=F.useContext(Ot),{thinos:a}=e,[u,d]=se.useState(Zm(a,"day")),f=se.useRef(null),m=F.useRef([]),g=F.useRef(0);F.useEffect(()=>{d(Zm(a,"day"))},[a]),F.useEffect(()=>{var A,R;const S=a.filter(j=>j.pinned),T=a.filter(j=>!j.pinned),I=m.current.filter(j=>j.pinned)[0],k=m.current.filter(j=>!j.pinned)[0];if(I&&I.id!==((A=S[0])==null?void 0:A.id)||k&&k.id!==((R=T[0])==null?void 0:R.id)){const j=f.current.closest(".memolist-wrapper");j.scrollTop=j.scrollHeight}else{const j=f.current.closest(".memolist-wrapper");j.scrollTop=j.scrollHeight-g.current,m.current=a}},[a]),F.useEffect(()=>{if(!f.current)return;const S=f.current.closest(".memolist-wrapper");S.scrollTop=S.scrollHeight},[t]),F.useEffect(()=>{if(n==="chat"&&f.current){const S=f.current.closest(".memolist-wrapper");S.scrollTop=S.scrollHeight,g.current=S.scrollHeight-S.scrollTop,m.current=a,S.onscrollend=()=>{g.current=S.scrollHeight-S.scrollTop}}},[f.current]);const v=F.useCallback(()=>{o.setting.open(),o.setting.openTabById(r.id||"obsidian-memos")},[o]),b=F.useMemo(()=>y.jsx(y.Fragment,{children:Object.keys(u).map((S,T)=>y.jsx(y.Fragment,{children:y.jsx(Iee,{thinos:u[S],dayMark:S,handleOpenSettings:v},S+T)}))}),[u]);return y.jsx("div",{ref:f,className:Gn("chat-view",`${i==null?void 0:i.chatViewStyle}-style`),children:b})},Iee=({thinos:e,dayMark:t,handleOpenSettings:n})=>{const{dailyNotesState:{settings:r,app:o}}=F.useContext(Ot),[i,a]=se.useState(!0),u=se.useRef(null),[d,f]=se.useState(r==null?void 0:r.MomentsIcon);F.useEffect(()=>{if(!(r!=null&&r.MomentsIcon)||!o)return;const b=o.vault.adapter.getResourcePath(C.normalizePath(r.MomentsIcon));b&&!(r!=null&&r.MomentsIcon.startsWith("http"))?f(b):f(r==null?void 0:r.MomentsIcon)},[r==null?void 0:r.MomentsIcon]);const m=b=>{if(C.Keymap.isModifier(b.nativeEvent,"Mod")){const S=C.moment(t,"YYYY-MM-DD");at.setFromAndToQuery(S.startOf("day").valueOf(),S.endOf("day").valueOf());return}a(!i),u.current.scrollIntoView(!0)},g=b=>{Lh(b)},v=F.useMemo(()=>e.map((b,S)=>y.jsxs("div",{className:"thino-bubble right",children:[y.jsx(xee,{icon:d,handleOpenSettings:n}),y.jsx("div",{className:"wrap",children:y.jsx(Eee,{thino:b,handleClickTimeStamp:g},`${b.id}-${C.moment(b.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${S}`)})]},b.id+S)),[e,d]);return y.jsxs(y.Fragment,{children:[i&&v,y.jsx("div",{className:`thino-chat-day-mark day-mark ${i?"":"folded"}`,onClick:m,children:y.jsx("div",{className:"day-mark-bubble",children:(t==="PINNED"?t+" 📌":t)+(i?"":"...")})})]})},xee=({icon:e,handleOpenSettings:t})=>y.jsx("div",{ref:n=>{if(e){n==null||n.empty();return}e||n&&C.setIcon(n,"Memos")},className:"icon-img",style:{backgroundImage:`url("${e}")`}}),Eee=({thino:e,handleClickTimeStamp:t})=>{const n=F.useCallback(async()=>{if(e.thinoType==="JOURNAL")return;const i=await Re.updateMemo(e.id,e.content,e.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");i&&Re.editMemo(i)},[e]),r=F.useMemo(()=>y.jsxs("div",{className:"content",children:[y.jsx("div",{className:"time-stamp","data-date":C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),"data-time":C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss"),onClick:()=>{t(e)},children:C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss")}),y.jsx(Oi,{memo:e})]}),[e.content]),o=F.useMemo(()=>y.jsxs("div",{className:"content task",children:[y.jsx("div",{className:"task-inputer",children:y.jsx("input",{className:Gn("thino-type-status","task-list-item-checkbox"),type:"checkbox",checked:e.thinoType!=="TASK-TODO","data-task":e.thinoType==="TASK-TODO"?"":e.thinoType==="TASK-DONE"?"x":e.thinoType.slice(5),onClick:n})}),y.jsx("div",{className:"time-stamp","data-date":C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),"data-time":C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss"),onClick:()=>{t(e)},children:C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss")}),y.jsx(Oi,{memo:e})]}),[e.content,e.thinoType]);return e.thinoType==="JOURNAL"?r:o};function Cee(e){const t=e.filter(r=>r.pinned),n=e.filter(r=>!r.pinned);return[...t,...n]}function Zm(e,t){const n={},r={day:"YYYY-MM-DD ddd",week:"YYYY-[W]WW",month:"YYYY-MM",quarter:"YYYY-[Q]1",year:"YYYY"};for(const o of e){const i=C.moment(o.createdAt,"YYYY/MM/DD HH:mm:ss").format(r[t]);if(o.pinned){n.PINNED||(n.PINNED=[]),n.PINNED.push(o);continue}n[i]||(n[i]=[]),n[i].push(o)}return n}function Wy(e){const{tag:t,duration:n,type:r,text:o,filter:i}=e,a=Qt.getQueryById(i);return!(!!(t||n&&n.from<n.to||r||o||a)||a)}const Mee=({tempMemos:e,query:t,HideDoneTasks:n})=>{const r=e.filter(g=>g.rowStatus!=="ARCHIVED"&&!(g.deletedAt!==""&&g.deletedAt)),{tag:o,duration:i,type:a,text:u,filter:d}=t,f=Qt.getQueryById(d);return!!(o||i&&i.from<i.to||a||u||f)||f||n?r.filter(g=>{let v=!0;if(g.thinoType!==void 0&&n&&g.thinoType==="TASK-DONE"&&(v=!1),g.content.contains("comment:")&&(v=!1),f){const b=JSON.parse(f.querystring);Array.isArray(b)&&(v=jh(g,b))}if(o){const b=new Set;for(const S of Array.from(g.content.match(yr)||[])){const I=S.replace(yr,"$1").trim().split("/");let k="";for(const A of I)k+=A,b.add(k),k+="/"}for(const S of Array.from(g.content.match(Or)||[])){const I=S.replace(Or,"$1").trim().split("/");let k="";for(const A of I)k+=A,b.add(k),k+="/"}for(const S of Array.from(g.content.match(so)||[])){const I=S.replace(so,"$2").trim().split("/");let k="";for(const A of I)k+=A,b.add(k),k+="/"}b.has(o)||(v=!1)}return i&&i.from<i.to&&(lt.getTimeStampByDate(g.createdAt)<i.from||lt.getTimeStampByDate(g.createdAt)>i.to)&&(v=!1),a&&(a==="NOT_TAGGED"&&(g.content.match(yr)!==null||g.content.match(so)!==null||g.content.match(Or)!==null)||a==="LINKED"&&g.content.match(Fd)===null||a==="IMAGED"&&g.content.match(Pd)===null||a==="CONNECTED"&&g.content.match(hc)===null)&&(v=!1),u&&!g.content.toLowerCase().includes(u.toLowerCase())&&(v=!1),v}):r.filter(g=>!g.content.contains("comment:"))},kee=({updateThinos:e})=>{var ne;const{locationState:{query:t},memoState:{memos:n},globalState:{memoListView:r},dailyNotesState:{app:o,settings:i,verifyState:a,plugin:u}}=F.useContext(Ot),[d,f]=F.useState(!1),[m,g]=F.useState(!1),[v,b,S]=oi([]),[T,I]=F.useState([]),[k,A]=F.useState({}),[R,j]=F.useState((ne=window.app||o)==null?void 0:ne.loadLocalStorage("thinoListView")),[B,L]=F.useState((o==null?void 0:o.loadLocalStorage("showDayMark"))||!1),[z,U]=F.useState((o==null?void 0:o.loadLocalStorage("dayMarkRange"))||"day"),[W,Z,re]=oi([]),Q=F.useRef(0),ce=F.useRef(!1),ee=F.useRef(null),fe=F.useRef(null),$=F.useRef(null),le=F.useRef(null),oe=F.useRef(!1);F.useEffect(()=>{j(r),o&&o.saveLocalStorage("thinoListView",r),b(W.slice(0,v.length>20?Math.min(v.length,40):40))},[r]),F.useEffect(()=>()=>{fe.current&&(fe.current=null),$.current&&($.current=null),le.current&&(le.current=null)},[]),F.useLayoutEffect(()=>{if((n.length!==0||!o)&&oe.current===!0)return;const pe=Nee(o);!pe||pe.length===0||(Z(pe),I(pe),L((o==null?void 0:o.loadLocalStorage("showDayMark"))||!1),o!=null&&o.loadLocalStorage("showDayMark")&&A(Zm(pe,(o==null?void 0:o.loadLocalStorage("dayMarkRange"))||"day")))},[o]),F.useEffect(()=>{if(n.length===0&&!Re.initialized)return;f(!1);const pe=Cee(n),Ie=Mee({tempMemos:pe,query:t,HideDoneTasks:(i==null?void 0:i.HideDoneTasks)||!1});return oe.current=!0,e&&e(Ie),Z(Ie),()=>{oe.current=!1}},[n,t,i==null?void 0:i.HideDoneTasks]),F.useEffect(()=>{b(W.slice(0,v.length>20?Math.min(v.length,40):40))},[W]),F.useEffect(()=>{var pe;v.length<40&&((pe=$.current)==null||pe.click())},[W]),F.useEffect(()=>{(Wy(t)&&v.length<W.length||v.length<W.length&&!Wy(t))&&g(!1),(Wy(t)&&v.length===n.length&&n.length>0||!Wy(t)&&v.length===W.length&&W.length>0)&&g(!0),Aee(v||[],o),I(v),o==null||o.saveLocalStorage("showDayMark",i==null?void 0:i.showDayMark),o==null||o.saveLocalStorage("dayMarkRange",i==null?void 0:i.dayMarkRange),L((i==null?void 0:i.showDayMark)||!1),U((i==null?void 0:i.dayMarkRange)||"day"),i!=null&&i.showDayMark&&A(Zm(v,i==null?void 0:i.dayMarkRange))},[v,i==null?void 0:i.showDayMark,i==null?void 0:i.dayMarkRange]),F.useEffect(()=>{if(!fe.current)return;const pe=async()=>{ce.current||(Q.current++,await he(),Q.current>=1&&(ce.current=!0,setTimeout(()=>{Q.current=0,ce.current=!1},3e3)))};v.length<40&&pe();const Ie=new IntersectionObserver(([Oe])=>{if(Oe.isIntersecting){if(m)return;pe()}else Q.current=0,ce.current=!1});return fe!=null&&fe.current&&Ie.observe(fe.current),()=>{fe!=null&&fe.current&&Ie.unobserve(fe.current)}},[d,m,fe.current]),F.useEffect(()=>{var pe;(pe=le.current)==null||pe.scrollTo({top:0})},[t]);const he=async()=>{try{if(re.current.length>S.current.length){f(!0);const pe=Math.min(S.current.length+40,re.current.length)-S.current.length,Ie=re.current.slice(S.current.length,S.current.length+pe);b(Oe=>[...Oe,...Ie]),f(!1),g(Ie.length<40)}}catch(pe){console.error(pe),new C.Notice(pe.response.data.message)}},G=F.useMemo(()=>y.jsx("div",{ref:fe,className:Gn("status-text-container",R==="calendar"||R==="table"?"hidden":""),children:y.jsx("p",{className:"status-text",children:d?E("Fetching data..."):m?W.length===0?E("Noooop!"):E("All Data is Loaded 🎉"):y.jsx(y.Fragment,{children:y.jsx("span",{ref:$,className:"cursor-pointer hover:text-green-600",onClick:he,children:E("fetch more")})})})}),[R,he,W,d,m,fe]);return y.jsxs("div",{className:`memolist-wrapper ${m?"completed":""}`,ref:le,children:[R==="chat"&&G,y.jsxs("div",{ref:ee,className:"memolist-container",children:[R==="chat"&&y.jsx(Tee,{thinos:T}),R==="calendar"&&y.jsx(fX,{thinos:W}),R==="table"&&y.jsx(bee,{thinos:W}),R==="moments"&&y.jsx(Pee,{thinos:T}),R==="list"&&y.jsx(Pv,{breakpointCols:1,className:`${R}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:B?y.jsx(y.Fragment,{children:Object.keys(k).map(pe=>y.jsx(Xb,{type:"list",thinos:k[pe],dayMark:pe,dayMarkRange:z},pe))}):T.map((pe,Ie)=>y.jsx(Oi,{memo:pe},`${pe.id}-${C.moment(pe.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${Ie}`))}),R==="waterfall"&&y.jsx(y.Fragment,{children:B&&Object.keys(k).length>0?Object.keys(k).map(pe=>y.jsx(Xb,{type:"waterfall",thinos:k[pe],dayMark:pe,dayMarkRange:z},pe)):y.jsx(Pv,{breakpointCols:3,className:`${R}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:T.map((pe,Ie)=>y.jsx(Oi,{memo:pe},`${pe.id}-${C.moment(pe.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${Ie}`))})})]}),R!=="chat"&&G]})};function P3(e){return`memosListCache:${e}`}function Nee(e){var t;try{const n=P3(e==null?void 0:e.appId),r=Vr.get([n])[n];return r?((t=JSON.parse(r))==null?void 0:t.memos)||[]:[]}catch(n){return console.error(n),[]}}function Aee(e,t){try{if(!e)return;const n=e==null?void 0:e.slice(0,100),r=P3(t==null?void 0:t.appId);Vr.set({[r]:JSON.stringify({memos:n})})}catch(n){console.error(n)}}const Fee=({userIcon:e})=>y.jsx("div",{className:"moments-view-user-icon",ref:t=>{if(e){t==null||t.empty();return}e||t&&C.setIcon(t,"Memos")},style:{backgroundImage:`url("${e}")`}}),v1="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHZpZXdCb3g9IjAgMCAxNDQwIDU2MCI+PGcgbWFzaz0idXJsKCZxdW90OyNTdmdqc01hc2sxMDgwJnF1b3Q7KSIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjE0NDAiIGhlaWdodD0iNTYwIiB4PSIwIiB5PSIwIiBmaWxsPSIjMGUyYTQ3Ij48L3JlY3Q+PHVzZSB4bGluazpocmVmPSIjU3ZnanNTeW1ib2wxMDg3IiB4PSIwIiB5PSIwIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1N5bWJvbDEwODciIHg9IjcyMCIgeT0iMCI+PC91c2U+PC9nPjxkZWZzPjxtYXNrIGlkPSJTdmdqc01hc2sxMDgwIj48cmVjdCB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48L21hc2s+PHBhdGggZD0iTS0xIDAgYTEgMSAwIDEgMCAyIDAgYTEgMSAwIDEgMCAtMiAweiIgaWQ9IlN2Z2pzUGF0aDEwODIiPjwvcGF0aD48cGF0aCBkPSJNLTMgMCBhMyAzIDAgMSAwIDYgMCBhMyAzIDAgMSAwIC02IDB6IiBpZD0iU3ZnanNQYXRoMTA4NiI+PC9wYXRoPjxwYXRoIGQ9Ik0tNSAwIGE1IDUgMCAxIDAgMTAgMCBhNSA1IDAgMSAwIC0xMCAweiIgaWQ9IlN2Z2pzUGF0aDEwODMiPjwvcGF0aD48cGF0aCBkPSJNMiAtMiBMLTIgMnoiIGlkPSJTdmdqc1BhdGgxMDg0Ij48L3BhdGg+PHBhdGggZD0iTTYgLTYgTC02IDZ6IiBpZD0iU3ZnanNQYXRoMTA4MSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMCAtMzAgTC0zMCAzMHoiIGlkPSJTdmdqc1BhdGgxMDg1Ij48L3BhdGg+PC9kZWZzPjxzeW1ib2wgaWQ9IlN2Z2pzU3ltYm9sMTA4NyI+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSI5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI5MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iOTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iOTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjkwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjE1MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMTUwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjIxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjIxMCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIyMTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjIxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIyMTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMjEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyMTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyMTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMjcwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMjcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMjcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjI3MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjMzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjMzMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMzMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjM5MCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzOTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzkwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjM5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzOTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjM5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIzOTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzOTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iNDUwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI0NTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjQ1MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iNDUwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjQ1MCIgeT0iNDUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI0NTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1MTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1MTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjUxMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjU3MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI1NzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNTcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjU3MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjU3MCIgeT0iNTEwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjYzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2MzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNjMwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjYzMCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNjMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iNTEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2MzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjY5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjY5MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI2OTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjY5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNjkwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjY5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNjkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2OTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjY5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48L3N5bWJvbD48L3N2Zz4=",gv="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHZpZXdCb3g9IjAgMCAxNDQwIDU2MCI+PGcgbWFzaz0idXJsKCZxdW90OyNTdmdqc01hc2sxMDgwJnF1b3Q7KSIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjE0NDAiIGhlaWdodD0iNTYwIiB4PSIwIiB5PSIwIiBmaWxsPSJyZ2JhKDIzMSwgMjM4LCAyNDUsIDEpIj48L3JlY3Q+PHVzZSB4bGluazpocmVmPSIjU3ZnanNTeW1ib2wxMDg3IiB4PSIwIiB5PSIwIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1N5bWJvbDEwODciIHg9IjcyMCIgeT0iMCI+PC91c2U+PC9nPjxkZWZzPjxtYXNrIGlkPSJTdmdqc01hc2sxMDgwIj48cmVjdCB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48L21hc2s+PHBhdGggZD0iTS0xIDAgYTEgMSAwIDEgMCAyIDAgYTEgMSAwIDEgMCAtMiAweiIgaWQ9IlN2Z2pzUGF0aDEwODUiPjwvcGF0aD48cGF0aCBkPSJNLTMgMCBhMyAzIDAgMSAwIDYgMCBhMyAzIDAgMSAwIC02IDB6IiBpZD0iU3ZnanNQYXRoMTA4MyI+PC9wYXRoPjxwYXRoIGQ9Ik0tNSAwIGE1IDUgMCAxIDAgMTAgMCBhNSA1IDAgMSAwIC0xMCAweiIgaWQ9IlN2Z2pzUGF0aDEwODYiPjwvcGF0aD48cGF0aCBkPSJNMiAtMiBMLTIgMnoiIGlkPSJTdmdqc1BhdGgxMDg0Ij48L3BhdGg+PHBhdGggZD0iTTYgLTYgTC02IDZ6IiBpZD0iU3ZnanNQYXRoMTA4MSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMCAtMzAgTC0zMCAzMHoiIGlkPSJTdmdqc1BhdGgxMDgyIj48L3BhdGg+PC9kZWZzPjxzeW1ib2wgaWQ9IlN2Z2pzU3ltYm9sMTA4NyI+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjMwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIzMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iOTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI5MCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjkwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iOTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iOTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMTUwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIxNTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIxNTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIxNTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIxNTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjE1MCIgeT0iNTEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMjEwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIyMTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjIxMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMjEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMjEwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyMTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyMTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIyMTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyNzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjI3MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMjcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyNzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjMzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzMwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMzMwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMzkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIzOTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjM5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjM5MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjM5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzkwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzkwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNDUwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSI0NTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNDUwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNDUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI1MTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjUxMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTEwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTEwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTEwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTEwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1NzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjU3MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTcwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTcwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI1NzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI1NzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjYzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjY5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2OTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2OTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2OTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2OTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48L3N5bWJvbD48L3N2Zz4=",Pee=e=>{const{globalState:{memoListView:t,markMemoId:n,manifest:r,editMemoId:o},dailyNotesState:{app:i,settings:a}}=F.useContext(Ot),{thinos:u}=e,d=se.useRef(null),f=se.useRef(null),[m,g]=se.useState(!1),[v,b]=F.useState({}),[S,T]=F.useState((i==null?void 0:i.loadLocalStorage("dayMarkRange"))||"day"),[I,k]=se.useState(a==null?void 0:a.MomentsIcon);F.useEffect(()=>{if(!(a!=null&&a.MomentsIcon)||!i)return;const R=i.vault.adapter.getResourcePath(C.normalizePath(a.MomentsIcon));R&&!(a!=null&&a.MomentsIcon.startsWith("http"))?k(R):k(a==null?void 0:a.MomentsIcon)},[a==null?void 0:a.MomentsIcon,i]),F.useEffect(()=>{a!=null&&a.showDayMark&&b(Zm(u,(i==null?void 0:i.loadLocalStorage("dayMarkRange"))||"day"))},[u]),F.useEffect(()=>{d.current.closest(".workspace-window")&&g(!0)},[d.current]),F.useEffect(()=>{n&&g(!0)},[n]),F.useEffect(()=>{o?(g(!0),setTimeout(()=>{i.workspace.trigger("focus-on-textarea")},200)):g(!1)},[o]),F.useEffect(()=>{f.current&&(!m&&C.setIcon(f.current,"camera"),m&&C.setIcon(f.current,"camera-off"))},[f.current,m]);const A=F.useCallback(()=>{i.setting.open(),i.setting.openTabById(r.id||"obsidian-memos")},[i]);return y.jsxs("div",{ref:d,className:Gn("moments-view",m?"show-editor":""),children:[y.jsxs("div",{className:"moments-view-background-wrapper",children:[y.jsx(Oee,{}),y.jsx("div",{ref:f,className:"moments-show-editor-btn",onClick:()=>{o&&m||((m||o)&&g(!m),!m&&!o&&new zC(i).open())}}),y.jsxs("div",{className:"moments-view-background-overlay",children:[y.jsxs("div",{className:"moments-view-user-info",children:[y.jsx("div",{className:"moments-view-user-name",children:a==null?void 0:a.UserName}),y.jsx(Fee,{userIcon:I})]}),y.jsx("div",{className:"moments-view-user-idea",children:a.MomentsQuote||" "})]})]}),a!=null&&a.showDayMark?v&&Object.keys(v).length>0&&Object.keys(v).map((R,j)=>y.jsx(Xb,{type:"list",thinos:v[R],dayMark:R,dayMarkRange:S,thinoWrapper:B=>y.jsx(TI,{thino:B.thino,handleOpenSettings:A},B.thino.createdAt+j)},R)):u.map((R,j)=>y.jsx(TI,{thino:R,handleOpenSettings:A},R.createdAt+j))]})},Oee=()=>{const{dailyNotesState:{app:e,view:t,settings:n}}=F.useContext(Ot),[r,o]=F.useState((n==null?void 0:n.MomentsBackgroundImage)||gv);return F.useEffect(()=>{if(!(n!=null&&n.MomentsBackgroundImage)||!e){o(document.body.hasClass("theme-dark")?v1:gv);return}const i=e.vault.adapter.getResourcePath(C.normalizePath(n.MomentsBackgroundImage));i&&!(n!=null&&n.MomentsBackgroundImage.startsWith("http"))?o(i):o(n==null?void 0:n.MomentsBackgroundImage)},[n==null?void 0:n.MomentsBackgroundImage,e]),F.useEffect(()=>{t&&t.registerEvent(t.app.workspace.on("css-change",()=>{o(document.body.hasClass("theme-dark")&&!(n!=null&&n.MomentsBackgroundImage)?v1:!document.body.hasClass("theme-dark")&&!(n!=null&&n.MomentsBackgroundImage)?gv:n==null?void 0:n.MomentsBackgroundImage)}))},[t]),y.jsx("div",{className:"moments-view-background",style:{backgroundImage:`url("${r}")`}})},jee=e=>{const{icon:t}=e,n=F.useCallback(()=>{app.setting.open(),app.setting.openTabById(manifest.id||"obsidian-memos")},[]);return y.jsx("div",{className:"thino-moment-icon",ref:r=>{if(t){r==null||r.empty();return}t||r&&C.setIcon(r,"Memos")},style:{backgroundImage:`url("${t}")`},onClick:n})},TI=e=>{const{dailyNotesState:{settings:t,app:n}}=F.useContext(Ot),r=F.useRef(null),o=F.useRef(null),{thino:i}=e,[a,u]=F.useState("");return F.useEffect(()=>{if(!(t!=null&&t.MomentsIcon)||!n)return;const d=n.vault.adapter.getResourcePath(C.normalizePath(t.MomentsIcon));d&&!(t!=null&&t.MomentsIcon.startsWith("http"))?u(d):u(t==null?void 0:t.MomentsIcon)},[t==null?void 0:t.MomentsIcon,n]),F.useEffect(()=>{r.current&&C.setIcon(r.current,"more-horizontal")},[r.current]),y.jsxs("div",{className:"thino-moment-wrapper",children:[y.jsx(jee,{icon:a}),y.jsxs("div",{ref:o,className:"thino-moment-container",children:[y.jsx("div",{className:"thino-moment-user-name",children:t==null?void 0:t.UserName}),y.jsx("div",{className:"thino-moment-user-content",children:y.jsx(Oi,{memo:i})})]})]})},Lee='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="1146.31828" height="801.00361" viewBox="0 0 1146.31828 801.00361" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M1050.69918,514.5082a456.24913,456.24913,0,0,1-37.38013-261.87c3.6001-23.1,9.44006-46.85,24.43018-64.79,14.38989-17.23,39.34985-27.37,60.0299-19.29-13.56994-29.61-47.76-46.5-80.59-47.33-34.09-.86-66.92,12.5-97.25,28.1-30.33,15.6-59.65,33.81006-92.21,43.99-53.5,16.72-111.91,10.34-165.5-6.09-53.58-16.44-103.62-42.47-154.62-65.71-51.01-23.24-104.17-44.03-160.01-48.91-55.84-4.87-115.25,7.89-157.24,45.01s-61.87,101.28-38.27,152.11c14.25,30.7,42.22,54.32,52.04,86.7,12.32,40.65-7.08,83.96-30.41,119.45-23.34,35.49-51.8,69.58-60.47,111.16-8.01,38.38,2.72,78.02,24.05,111.38a197.34468,197.34468,0,0,0,35.74,41.61c43.09,37.91,98.77,58.15,154.17,73.13,200.27,54.17,416.13,49.29,613.75-13.88,34.99-11.18,69.95-24.43,99.32-46.48,19.16-14.38,35.83-33.02,46.39-54.35a114.10574,114.10574,0,0,0,11.13-36.18005C1104.43917,610.17819,1072.9692,562.05819,1050.69918,514.5082Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><g opacity="0.17"><path d="M890.75032,246.45145c9.64171-4.20394-9.91163-6.65119-32.09585-7.45582s-49.02061-.76011-63.19756-3.04875c-13.71114-2.21343-12.7009-6.14907-13.85427-9.71489s-6.42446-7.222-27.81928-8.0147c-26.6607-.98774-70.62581,2.81434-90.75171.53173-18.78121-2.13011-7.61723-8.81182-35.00344-9.06755-15.63837-.146-35.7849,2.05682-53.18577,2.58844-16.33647.49909-28.42216-.53441-36.90357-1.924s-14.38875-3.15126-23.93413-4.37864c-25.06068-3.2224-74.09133-2.13925-117.853,1.99071s-81.27344,10.89816-102.42889,17.60175-27.00029,13.30376-22.07239,18.90071c3.14674,3.574,11.19915,6.91585,30.73235,8.352,36.53555,2.68621,101.58387-1.9375,139.33713.50645,21.0415,1.36213,30.3764,4.73924,48.83812,6.58716,19.83407,1.98528,48.86935,2.09051,77.39656,2.04341,59.39721-.09807,120.3137-.70829,182.42994-1.82747,25.94486-.46745,53.13-1.0752,80.73761-3.30289s55.76623-6.52591,61.59076-10.5553" transform="translate(-26.84086 -49.49819)" fill="#fff"/></g><path d="M1099.25911,172.04818c-.46-1.18-.96-2.35-1.48-3.49.84.33,1.68006.69,2.51,1.08Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><path d="M648.74482,314.5843c-7.66935-12.68445-16.75721-26.22767-30.98955-30.36953-16.482-4.7965-33.41319,4.73193-47.77473,14.13453a1392.15692,1392.15692,0,0,0-123.89338,91.28311l.04331.49239q46.22556-3.18781,92.451-6.37555c22.26532-1.53546,45.29557-3.2827,64.97195-13.8156,7.46652-3.99683,14.74475-9.33579,23.20555-9.70782,10.51175-.46217,19.67733,6.87923,26.8802,14.54931,42.60732,45.371,54.937,114.7541,102.73817,154.61592A1516.99458,1516.99458,0,0,0,648.74482,314.5843Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M910.64576,699.4127c-4.71168-5.94958-6.63691-7.343-11.28457-13.34761Q842.5968,612.64872,792.65327,534.27272q-33.92353-53.23005-64.48275-108.50439-14.54863-26.27808-28.29961-52.96872-10.67043-20.6952-20.8646-41.63793c-1.94357-3.98781-3.83209-7.99393-5.71122-12.00922-4.42788-9.44232-8.7734-18.93047-13.43942-28.24449-5.31687-10.61571-11.78905-21.74485-21.55259-28.877a29.4049,29.4049,0,0,0-15.31855-5.89457c-7.948-.51337-15.28185,2.76854-22.17569,6.35294-50.43858,26.301-97.65921,59.27589-140.36959,96.79771A730.77781,730.77781,0,0,0,346.39748,485.87843c-1.008,1.43927-3.39163.06418-2.37419-1.38422q6.00935-8.49818,12.25681-16.81288A734.81742,734.81742,0,0,1,543.87972,292.6956q18.24825-11.82579,37.18269-22.54245c6.36206-3.60275,12.75188-7.15967,19.25136-10.49653,6.37147-3.27274,13.13684-6.21547,20.41563-6.32547,24.77011-.385,37.5954,27.667,46.40506,46.54248q4.15283,8.9106,8.40636,17.76626,16.07481,33.62106,33.38729,66.628,10.68453,20.379,21.83683,40.51955,34.7071,62.71816,73.77854,122.897c34.5059,53.1429,68.73651,100.08874,108.04586,149.78473C913.67124,698.84433,911.73706,700.80615,910.64576,699.4127Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M457.9912,345.4352c-1.43911-1.60428-2.86926-3.20856-4.31777-4.81284-11.42244-12.63259-23.6788-25.11847-39.3644-32.36067a57.11021,57.11021,0,0,0-23.92678-5.54622c-8.56213.02753-16.93178,2.27348-24.84307,5.41792-3.74034,1.49428-7.39831,3.19021-11.00078,4.99614-4.11634,2.07182-8.15927,4.28118-12.1834,6.50883q-11.33112,6.27044-22.36816,13.0909-21.9606,13.5722-42.54565,29.21623-10.67111,8.11311-20.90175,16.75788-9.51557,8.03052-18.64618,16.492c-1.30168,1.20091-3.24526-.74255-1.94358-1.94347,1.60428-1.49428,3.22692-2.97938,4.84955-4.44612q6.87549-6.21547,13.9712-12.19258,12.93921-10.91827,26.54851-20.99312,21.16295-15.67614,43.78289-29.2254,11.3036-6.76547,22.91829-12.9626c2.33793-1.24674,4.70317-2.466,7.09571-3.6211a113.11435,113.11435,0,0,1,16.86778-6.86631,60.00626,60.00626,0,0,1,25.476-2.50266,66.32725,66.32725,0,0,1,23.50512,8.1314c15.40091,8.60812,27.34573,21.919,38.97005,34.90916C461.10844,344.80265,459.17382,346.75529,457.9912,345.4352Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M773.55166,476.34216l36.90462-13.498,18.32327-6.70182c5.96758-2.18267,11.92082-4.66747,18.08989-6.23037a28.53868,28.53868,0,0,1,16.37355.20862,37.73731,37.73731,0,0,1,12.771,7.91667,103.63871,103.63871,0,0,1,10.47488,11.18642c3.98932,4.79426,7.9197,9.63878,11.86772,14.46706q24.44135,29.89093,48.56306,60.04134,24.12118,30.14991,47.91981,60.556,23.85681,30.48042,47.38548,61.21573,2.8823,3.76519,5.75967,7.53415c1.0598,1.38809,3.44948.01962,2.37471-1.38807q-23.70225-31.04441-47.73491-61.83464-24.09177-30.86383-48.51646-61.46586-24.42423-30.60142-49.17854-60.93744-6.167-7.5576-12.35444-15.09858c-3.47954-4.24072-6.91984-8.52718-10.73629-12.47426-7.00538-7.24516-15.75772-13.64794-26.23437-13.82167-6.15972-.10214-12.121,1.85248-17.844,3.92288-6.16967,2.232-12.32455,4.50571-18.48632,6.7594L782.11123,470.2921l-9.29068,3.39811c-1.64874.603-.9365,3.26189.73111,2.65195Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M409.45248,324.15733c-18.75411-9.63866-42.77137-7.75087-60.00507,4.29119A855.84532,855.84532,0,0,1,446.818,351.17434C433.53537,343.3904,423.14521,331.19475,409.45248,324.15733Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M349.26282,328.41534,345.6524,331.35c1.22123-1.02713,2.4908-1.99013,3.795-2.90144C349.3858,328.43789,349.32442,328.426,349.26282,328.41534Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M874.62436,476.477c-3.63279-4.42206-7.56046-9.05222-12.99421-10.84836l-5.07308.20009a575.43629,575.43629,0,0,0,153.26729,175.22056Q942.22437,558.76317,874.62436,476.477Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M1086.66915,698.4482c-10.56006,21.33-27.23,39.97-46.39,54.35-29.37,22.05-64.33,35.3-99.32,46.48-197.62,63.17-413.48,68.05-613.75,13.88-55.4-14.98-111.08-35.22-154.17-73.13a197.34468,197.34468,0,0,1-35.74-41.61c57.35-31.52,126.86-43.4,193.19-41.95,95.09,2.08,187.96,27.46,282.16,40.59a1102.669,1102.669,0,0,0,334.04-4.6c38.31994-6.43,77.98-14.84,115.49-4.66A95.14954,95.14954,0,0,1,1086.66915,698.4482Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><circle cx="179.31828" cy="51" r="51" fill="#ccc"/><path d="M362.30892,97.84042C348.81185,83.6816,333.13643,70.765,314.57961,63.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557A64.90832,64.90832,0,0,1,232.6863,78.8348a74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46711,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,361.647,100.3475,1.5139,1.5139,0,0,0,362.30892,97.84042Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><path d="M208.57961,131.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557,64.90832,64.90832,0,0,1-22.05231,8.22681,74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46712,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,255.647,168.3475a1.5139,1.5139,0,0,0,.66193-2.50708C242.81185,151.6816,227.13643,138.765,208.57961,131.93948Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><polygon points="1047.411 588.142 1074.576 567.518 1087.816 580.759 1043.563 611.042 1047.411 588.142" fill="#2f2e41"/><path d="M1048.91635,694.42781H955.99269l3.25907-10.55987,0,0c20.1993-7.31227,8.85333-23.02957,28.06751-32.63666,46.9968-23.4984,65.19118-93.62006,58.30932-121.33935l30.798-1.30221S1118.95877,649.37476,1048.91635,694.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M1128.24653,644.78888a15.61893,15.61893,0,0,1-20.18272.37759l-.0604-.04961-.00207-.07767a14.96483,14.96483,0,0,0-.6-3.81936,10.69077,10.69077,0,0,1-.38818,2.64366l-.07784.28991-.20873-.21549c-.18027-.18589-.35474-.37472-.51859-.561a15.75088,15.75088,0,0,1-2.399-3.63269,45.91623,45.91623,0,0,0-12.74-15.87972,22.29237,22.29237,0,0,1-2.6727-2.57172,22.03415,22.03415,0,0,1,27.66955-33.56911l.13767.0806-.07148.1425a11.47756,11.47756,0,0,1-2.04788,2.954,14.96829,14.96829,0,0,0,3.15395-2.27865l.10006-.09436.11337.07818a22.12793,22.12793,0,0,1,4.0294,3.5867l.12844.14726a9.83643,9.83643,0,0,0,7.28375,3.36123,15.614,15.614,0,0,1,15.11947,18.29291l-.01769.10315-.10034.0304a13.39866,13.39866,0,0,1-5.45694.68088,15.22208,15.22208,0,0,0,4.86061,1.2174l.21654.01718-.06874.20619a15.6035,15.6035,0,0,1-4.50339,6.79l-.05928.05187-.06294.05509a15.3329,15.3329,0,0,0-5.297,10.64272A15.73345,15.73345,0,0,1,1128.24653,644.78888Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M1131.089,639.76934a15.57418,15.57418,0,0,1-.1756,1.67894,15.78521,15.78521,0,0,0,2.53772-7.82047c.02071-.42637.06546-.8511.12549-1.27393A14.8141,14.8141,0,0,0,1131.089,639.76934Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1136.00331,620.789a15.19815,15.19815,0,0,0,3.88418,1.09822,15.63,15.63,0,0,0,1.42322-1.73647A13.24363,13.24363,0,0,1,1136.00331,620.789Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1141.72736,615.66082a15.70907,15.70907,0,0,1-.11112,4.05194,15.52908,15.52908,0,0,0,1.75758-3.62455l.06874-.2062-.21655-.01718A15.09472,15.09472,0,0,1,1141.72736,615.66082Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1140.28241,600.83967a15.65079,15.65079,0,0,0-11.46149-5.29958,9.83649,9.83649,0,0,1-7.28378-3.36124l-.12843-.14726a22.12785,22.12785,0,0,0-4.02939-3.58669l-.11338-.07817-.10005.09434a14.9676,14.9676,0,0,1-3.154,2.27865,11.47832,11.47832,0,0,0,2.04794-2.954l.07146-.1425-.13766-.08059a22.01777,22.01777,0,0,0-32.62113,14.2542,22.02182,22.02182,0,0,1,30.259-8.11268l.13765.08059-.07145.1425a11.47814,11.47814,0,0,1-2.04794,2.954,14.96754,14.96754,0,0,0,3.154-2.27865l.10006-.09434.11338.07817a22.12857,22.12857,0,0,1,4.02939,3.5867l.12843.14725a9.83643,9.83643,0,0,0,7.28377,3.36124,15.61675,15.61675,0,0,1,15.10347,12.83488,18.92714,18.92714,0,0,0,2.26005-.55l.10034-.03039.01776-.10314A15.554,15.554,0,0,0,1140.28241,600.83967Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1173.15913,536.54065a50.29141,50.29141,0,0,1-42.007,49.59965l-.2484.04053-.19219-.16016a48.18565,48.18565,0,0,0-10.51008-6.67159,34.42316,34.42316,0,0,1,5.5662,6.56047l.53537.80469-.96485.04641c-.8328.04053-1.66038.0608-2.45919.0608a50.71554,50.71554,0,0,1-13.88445-1.92513c-20.51748-5.83748-42.55022-6.83567-65.48571-2.96711a71.77856,71.77856,0,0,1-11.90147.993A70.94787,70.94787,0,0,1,1009.287,444.63723l.48765-.16146.19251.47589a36.95659,36.95659,0,0,1,2.787,11.23306,48.19635,48.19635,0,0,0,1.19789-12.47116l-.01536-.44255.43013-.10786a71.24939,71.24939,0,0,1,17.24051-2.1147l.62918.00262a31.67228,31.67228,0,0,0,23.616-10.46237,50.27568,50.27568,0,0,1,76.38016,2.34611l.2118.26213-.1399.30723c-2.93769,6.47484-6.13818,11.19189-9.95836,14.64143a49.01343,49.01343,0,0,0,13.27978-9.16282l.502-.487.35234.60466A50.24214,50.24214,0,0,1,1143.32,464.4278l-.00065.25363c-.00065.08956-.00065.17977-.00065.26932,0,13.61317,5.26419,26.51577,14.46689,35.43934A50.66021,50.66021,0,0,1,1173.15913,536.54065Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M1111.68868,417.71713a35.519,35.519,0,0,1-6.33509,7.77159,48.88929,48.88929,0,0,0,9.89823-6.1865Q1113.50228,418.44038,1111.68868,417.71713Z" transform="translate(-26.84086 -49.49819)"/><path d="M1140.79293,477.73323a50.48191,50.48191,0,0,1,7.22981,8.80775,51.39288,51.39288,0,0,1-4.70405-21.59022c0-.08957,0-.17978.00065-.26932l.00064-.25364a50.24245,50.24245,0,0,0-6.83956-25.32735l-.35235-.60468-.50207.487a49.12616,49.12616,0,0,1-9.17043,6.983A48.97185,48.97185,0,0,0,1140.79293,477.73323Z" transform="translate(-26.84086 -49.49819)"/><path d="M1126.32733,441.77093l-.00065.25364c-.00064.08954-.00064.17975-.00064.26931,0,.49355.00894.98585.02272,1.47739a52.3648,52.3648,0,0,0,5.95587-10.26709l.13985-.30725-.21176-.26212a50.68811,50.68811,0,0,0-9.096-8.79733A50.35621,50.35621,0,0,1,1126.32733,441.77093Z" transform="translate(-26.84086 -49.49819)"/><path d="M1157.78559,500.3901a45.45934,45.45934,0,0,1-6.40838-7.79666,50.2297,50.2297,0,0,1-37.21772,70.89l-.24841.04054-.19217-.16016a48.188,48.188,0,0,0-10.5101-6.67159,34.42262,34.42262,0,0,1,5.56617,6.56046l.5354.80471-.96482.0464c-.83286.04054-1.66041.0608-2.4592.0608a50.71549,50.71549,0,0,1-13.88448-1.92514c-20.51749-5.83747-42.55022-6.83566-65.4857-2.9671a71.7793,71.7793,0,0,1-11.90145.993,70.62389,70.62389,0,0,1-47.12-17.969,71.01118,71.01118,0,0,0,64.1127,40.6259,71.77947,71.77947,0,0,0,11.90145-.99294c22.93547-3.86857,44.96821-2.87037,65.4857,2.96709a50.71543,50.71543,0,0,0,13.88448,1.92514c.79878,0,1.62634-.02026,2.45919-.0608l.96483-.0464-.5354-.80471a34.42263,34.42263,0,0,0-5.56618-6.56045,48.18774,48.18774,0,0,1,10.51011,6.67159l.19217.16016.24841-.04055a50.25392,50.25392,0,0,0,26.63344-85.75019Z" transform="translate(-26.84086 -49.49819)"/></g><polygon points="134.035 560.973 97.223 533.025 79.28 550.968 139.25 592.007 134.035 560.973" fill="#2f2e41"/><path d="M195.21,687.42781h125.9266L316.72,673.11747l0,0c-27.37332-9.9093-11.99769-31.20879-38.036-44.228-63.68827-31.84414-88.3446-126.87035-79.01856-164.43447l-41.73625-1.76471S100.29113,626.37364,195.21,687.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M80.55365,605.25219a20.7786,20.7786,0,0,0-7.17833-14.42261c-.0283-.02489-.05681-.05-.08529-.07465l-.08034-.0703a21.14539,21.14539,0,0,1-6.10283-9.20148l-.09315-.27942.29345-.02329a20.6283,20.6283,0,0,0,6.58691-1.64977,18.15726,18.15726,0,0,1-7.395-.9227l-.136-.0412-.024-.13979a21.15953,21.15953,0,0,1,20.48932-24.78985,13.32987,13.32987,0,0,0,9.87066-4.555l.17406-.19956a29.9868,29.9868,0,0,1,5.46049-4.86055l.15364-.106.13559.12786a20.2845,20.2845,0,0,0,4.27411,3.088,15.554,15.554,0,0,1-2.77519-4.00312l-.09688-.19312.18657-.10923A29.85984,29.85984,0,0,1,141.70818,588.318a30.209,30.209,0,0,1-3.62195,3.48511,62.224,62.224,0,0,0-17.26483,21.51959,21.34447,21.34447,0,0,1-3.251,4.92289c-.222.25244-.45848.50834-.70277.76026l-.28286.292-.10549-.39287a14.48742,14.48742,0,0,1-.526-3.58259,20.27961,20.27961,0,0,0-.813,5.17585l-.00281.10525-.08185.06724a21.15037,21.15037,0,0,1-34.50192-15.41853Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M83.85266,613.35673a21.10374,21.10374,0,0,0,.238,2.27524,21.39156,21.39156,0,0,1-3.439-10.598c-.02806-.57781-.08871-1.15339-.17006-1.72639A20.07562,20.07562,0,0,1,83.85266,613.35673Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M77.193,587.63524a20.59681,20.59681,0,0,1-5.2637,1.48826,21.18029,21.18029,0,0,1-1.92868-2.3532A17.94731,17.94731,0,0,0,77.193,587.63524Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M69.436,580.68579a21.28893,21.28893,0,0,0,.1506,5.491,21.04389,21.04389,0,0,1-2.3818-4.91186l-.09316-.27943.29346-.02329A20.4517,20.4517,0,0,0,69.436,580.68579Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M71.39415,560.60073a21.20931,21.20931,0,0,1,15.53218-7.18179,13.33,13.33,0,0,0,9.87069-4.555l.174-.19955a29.98717,29.98717,0,0,1,5.46048-4.86056l.15364-.10593.13559.12785a20.28377,20.28377,0,0,0,4.27415,3.08794,15.55474,15.55474,0,0,1-2.77529-4.00312l-.09683-.19312.18655-.10921A29.83764,29.83764,0,0,1,148.51627,561.925a29.84315,29.84315,0,0,0-41.00585-10.994l-.18655.10921.09683.19311a15.5548,15.5548,0,0,0,2.77529,4.00313,20.28412,20.28412,0,0,1-4.27415-3.08794l-.13559-.12786-.15364.10594a29.98711,29.98711,0,0,0-5.46048,4.86055l-.174.19956a13.33,13.33,0,0,1-9.87069,4.555A21.16316,21.16316,0,0,0,69.65975,579.135a25.64845,25.64845,0,0,1-3.06273-.74529l-.136-.04118-.02407-.13978A21.07824,21.07824,0,0,1,71.39415,560.60073Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M47.67454,424.47529c12.47114-12.09289,19.605-29.578,19.605-48.026,0-.12136,0-.24361-.00089-.365l-.00088-.34372a68.08611,68.08611,0,0,1,9.26876-34.32266l.47748-.81942.68034.66a66.42122,66.42122,0,0,0,17.99625,12.41711c-5.177-4.67469-9.51414-11.06706-13.4952-19.8415l-.18957-.41636.287-.35523a68.13168,68.13168,0,0,1,103.50749-3.17935,42.9211,42.9211,0,0,0,32.00348,14.1782l.85264-.00355a96.55467,96.55467,0,0,1,23.36369,2.86576l.58289.14617-.02081.59973a65.31307,65.31307,0,0,0,1.62334,16.90044,50.08227,50.08227,0,0,1,3.77686-15.22262l.26089-.64491.66085.21881a96.14585,96.14585,0,0,1-30.24771,187.39848A97.27192,97.27192,0,0,1,202.538,534.974c-31.0813-5.24253-60.93923-3.88982-88.74374,4.02092a68.72787,68.72787,0,0,1-18.81567,2.60886c-1.08252,0-2.204-.02747-3.33261-.08239l-1.30753-.0629L91.064,540.368a46.64968,46.64968,0,0,1,7.5431-8.8905,65.29981,65.29981,0,0,0-14.24286,9.0411l-.26045.217-.33662-.05492A68.10219,68.10219,0,0,1,47.67454,424.47529Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M110.14328,312.44a48.13438,48.13438,0,0,0,8.58508,10.53176,66.25283,66.25283,0,0,1-13.4137-8.38371Q107.68556,313.42016,110.14328,312.44Z" transform="translate(-26.84086 -49.49819)"/><path d="M70.70231,393.77157a68.411,68.411,0,0,0-9.79756,11.93592,69.64577,69.64577,0,0,0,6.37475-29.25825c0-.12137,0-.24362-.00088-.365l-.00087-.34372a68.08661,68.08661,0,0,1,9.26871-34.32266l.4775-.81944.68039.66a66.5738,66.5738,0,0,0,12.42741,9.46305C88.97194,367.31049,82.046,382.77189,70.70231,393.77157Z" transform="translate(-26.84086 -49.49819)"/><path d="M90.30555,345.03683l.00087.34372c.00088.12134.00088.24359.00088.365,0,.66884-.01212,1.336-.0308,2.0021A70.9624,70.9624,0,0,1,82.20534,333.834l-.18953-.41637.287-.35522a68.69044,68.69044,0,0,1,12.32659-11.92181A68.24086,68.24086,0,0,0,90.30555,345.03683Z" transform="translate(-26.84086 -49.49819)"/><path d="M47.67451,424.4753a61.60525,61.60525,0,0,0,8.6844-10.56575,68.06938,68.06938,0,0,0,50.436,96.06741l.33664.05494.26042-.217a65.30253,65.30253,0,0,1,14.24289-9.04108,46.64767,46.64767,0,0,0-7.54306,8.89047l-.72556,1.09052,1.3075.06287c1.12865.05494,2.25012.08239,3.33261.08239a68.72762,68.72762,0,0,0,18.81572-2.60886c27.80451-7.91072,57.66244-9.26344,88.74372-4.0209a97.27262,97.27262,0,0,0,16.12839,1.3456,95.7069,95.7069,0,0,0,63.8553-24.35094,96.23165,96.23165,0,0,1-86.88309,55.05467A97.27245,97.27245,0,0,1,202.538,534.974c-31.08129-5.24254-60.93922-3.88982-88.74373,4.0209a68.72763,68.72763,0,0,1-18.81572,2.60887c-1.08249,0-2.204-.02746-3.33261-.0824l-1.30749-.06287L91.064,540.368a46.64834,46.64834,0,0,1,7.54306-8.89047,65.30253,65.30253,0,0,0-14.24289,9.04108l-.26042.217-.33663-.05494A68.10219,68.10219,0,0,1,47.67451,424.4753Z" transform="translate(-26.84086 -49.49819)"/></g><circle cx="460.31828" cy="185" r="5" fill="#fff"/><circle cx="834.31828" cy="305" r="3" fill="#fff"/><circle cx="892.31828" cy="170" r="3" fill="#fff"/><circle cx="355.31828" cy="80" r="3" fill="#fff"/><circle cx="325.31828" cy="201" r="3" fill="#fff"/><circle cx="179.31828" cy="170" r="3" fill="#fff"/><circle cx="696.31828" cy="195" r="3" fill="#fff"/><circle cx="1003.31828" cy="98" r="3" fill="#fff"/><path d="M328.95929,413.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C339.30268,425.75443,332.75886,420.59829,328.95929,413.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M910.95929,612.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C921.30268,624.75443,914.75886,619.59829,910.95929,612.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M591.95929,449.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C602.30268,461.75443,595.75886,456.59829,591.95929,449.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M287.95929,565.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C298.30268,577.75443,291.75886,572.59829,287.95929,565.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M249.95929,651.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C260.30268,663.75443,253.75886,658.59829,249.95929,651.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><rect x="843.31828" y="68" width="11" height="589" fill="#3f3d56"/><rect x="813.31828" y="20" width="72" height="72" rx="35.99996" fill="#ff6582"/><path d="M418.64263,424.1385c0,11.47771,12.51572,21.67823,23.99344,21.67823s17.571-10.20052,17.571-21.67823a20.78224,20.78224,0,0,0-41.56448,0Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="398.471 484.489 437.067 483.005 439.294 442.925 394.76 442.925 398.471 484.489" fill="#ffb8b8"/><path d="M400.81364,561.4928a6.18231,6.18231,0,0,0-.36494-9.4728l7.00739-20.82235-11.03775,2.917-4.96213,19.32605a6.21581,6.21581,0,0,0,9.35743,8.05215Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><circle cx="415.75835" cy="381.62478" r="14.69804" fill="#ffb8b8"/><path d="M442.96047,429.64379l-10.73253-.28426a1.504,1.504,0,0,1-1.28014-.78738l-3.58787-6.65514a1.49783,1.49783,0,0,1,.39563-1.89138L441.79818,409.047a1.49679,1.49679,0,0,1,1.25618-.28037l11.34184,2.58422a1.499,1.499,0,0,1,1.1066,1.04314l4.4413,15.29492a1.49935,1.49935,0,0,1-1.51389,1.916l-5.5602-.27779a1.50724,1.50724,0,0,1-1.34747-1.0276l-.23052-.69867a.17342.17342,0,0,0-.338.05439,1.49974,1.49974,0,0,1-1.57346,1.4977l-1.84088-.09194a1.4954,1.4954,0,0,1-1.396-1.205l-.79385-3.99256a.1732.1732,0,0,0-.34188.01359l-.51866,4.442a1.492,1.492,0,0,1-1.48734,1.32546Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M432.2515,449.58079l19.00323.25331,6.18481,7.85346,9.95684,2.3481,2.5878,14.95427c1.29375,7.47624-.07979,12.21089-3.88076,18.77751l0,0-.45522,12.91771.503.91426a2.09364,2.09364,0,0,1-.63119,2.72267h0a4.27726,4.27726,0,0,1,.11752,2.81491l-.24528.81046s-.70783,5.66261-40.83239-.29293a3.95632,3.95632,0,0,1-3.34345-3.3986h0a2.95406,2.95406,0,0,1-.547-3.4038l.08175-.16348-.412-.48529a3.177,3.177,0,0,1-.1608-3.90659h0l-5.76652-41.25217,11.91192-3.71Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M419.16862,464.99288l-4.75684-3.94828s-4.22952,1.25013-7.18334,9.58077-13.08957,71.52656-13.08957,71.52656l11.87557-5.93778,16.8392-46.43085Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M524.81946,532.274a6.18228,6.18228,0,0,1-7.09116-6.29147l-20.54147-7.79242,9.257-6.682,18.08733,8.42424a6.21581,6.21581,0,0,1,.28831,12.34162Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><path d="M461.88061,464.63253l3.22471-5.27425s4.40655-.18456,9.89528,6.74353c2.81373,3.55161,21.04874,34.01719,21.04874,34.01719l16.86311,14.05546-13.80628,4.93081-16.27169-6.90314-18.244-30.078Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="435.555 666.81 444.739 666.81 449.108 631.385 435.553 631.386 435.555 666.81" fill="#ffb6b6"/><polygon points="355.157 661.099 364.044 663.415 377.208 630.238 364.091 626.819 355.157 661.099" fill="#ffb6b6"/><path d="M460.11787,711.77763l14.51826-.86655v6.22026l13.80293,9.53279a3.88541,3.88541,0,0,1-2.20782,7.08274H468.9467l-2.97925-6.15279-1.16325,6.15279h-6.517Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M380.13111,705.42858l14.2674,2.8235-1.569,6.01913,10.95211,12.70615a3.88541,3.88541,0,0,1-3.923,6.29683L383.133,728.91441l-1.331-6.70531-2.67759,5.66043-6.30624-1.64381Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M383.1248,688.31931l26.92081-55.33021,2.11353-65.49091C406.33233,556.677,423.491,532.805,423.491,532.805v-9.24491l41.91852,7.90812v0a201.21489,201.21489,0,0,1,12.26151,73.06026L475.982,694.04734h.52987a3.31527,3.31527,0,1,1,0,6.63053H459.9355a3.31527,3.31527,0,1,1,0-6.63053h.4274L448.4631,580.16351l-13.83654,56.19881L401.189,688.1066a3.3069,3.3069,0,0,1-.26524,6.60379H384.34739a3.31182,3.31182,0,0,1-1.22259-6.39108Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M382.75841,426.29647c6.19395-6.05935,10.09279-14.02773,15.22255-21.01108,5.1296-6.98327,12.35472-13.3824,21.01083-13.77026a13.03786,13.03786,0,0,1,8.16579,2.129,8.30541,8.30541,0,0,1,3.60455,7.36741c.9138-2.56674,4.99718-3.1453,6.588-.93331,1.59062,2.21191-.25722,5.89893-2.98115,5.94838l-.2671-1.05666a18.24877,18.24877,0,0,1-11.80141,7.83613,2.9783,2.9783,0,0,1-3.35526-3.85425C409.59087,410.80666,412.56052,428.25234,407,436s-21.45259,6.99551-30.82907,8.7353c-9.05466,1.68-17.85857-3.34756-25.69931-8.178A38.2715,38.2715,0,0,0,382.75841,426.29647Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M732.68989,636.90373,704.47275,624.455V613.75265l10.0561-.05651a7.46918,7.46918,0,0,0,7.044-5.10714l7.06437-21.19305a7.46924,7.46924,0,0,0-7.086-9.83122H704.47275v-9.959H725.913a7.46925,7.46925,0,0,0,7.27937-5.79584l4.865-21.16286a7.46923,7.46923,0,0,0-7.27937-9.14265H704.47275v-2.48975a4.97949,4.97949,0,0,0-9.959,0v2.48975H518.1566v-2.48975a4.9795,4.9795,0,0,0-9.959,0v2.48975H487.2868a7.46923,7.46923,0,0,0-7.27937,9.14265l4.865,21.16286a7.46925,7.46925,0,0,0,7.27937,5.79584H508.1976v9.959H496.51328a7.46923,7.46923,0,0,0-7.10927,9.76l7.21041,22.37711a7.46925,7.46925,0,0,0,7.15123,5.17837l4.432-.0249V624.455l-22.82269,12.44874a7.46922,7.46922,0,0,0-7.46924,7.46922v0a7.46925,7.46925,0,0,0,7.46924,7.46925H508.1976v54.77446a4.9795,4.9795,0,0,0,9.959,0V651.84222H694.51376v54.77446a4.97949,4.97949,0,0,0,9.959,0V651.84222h28.21714a7.46925,7.46925,0,0,0,7.46925-7.46925v0A7.46922,7.46922,0,0,0,732.68989,636.90373Zm-214.53329-69.298H694.51376v9.959H518.1566Zm0,56.84925v-9.65563l176.35716-.99076V624.455Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/></svg>',Ree='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="855.93958" height="630.06608" viewBox="0 0 855.93958 630.06608" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M935.43234,472.55767c-3.73,43.08-22.51,84.71-49.3,119.14q-1.68,2.16-3.4,4.28-3.87,4.77-7.94,9.36-4.98,5.655-10.25,11.05005-4.29,4.43994-8.78,8.68994-3.465,3.315-7.01,6.5c-28.43,25.69-61.09,46.89-94.74,65.43005-65.67,36.17-137.65,63.56995-212.52,67.56-74.86,3.98-153.01-17.46-207.91-68.52-73.99-68.81-94.63995-183.58-64.6-280.05,19.98-64.18,60.76-122.24,116.26-160.16,55.02-37.59,124.43-54.51,190.12-43.44995,52.44-31.87006,121.09-32.48,178.1-8.89,30.42,12.59,57.72,31.31,81.67,53.93a339.34337,339.34337,0,0,1,30.72,33.23q1.455,1.785,2.88,3.6,5.97,7.545,11.55,15.4,8.01,11.265,15.21,23.03c1.32,2.16,2.63,4.33,3.91,6.52.86,1.47,1.73,2.95,2.58,4.44a.29776.29776,0,0,1,.04.1c13.31,23.41,24.19,48.39,29.86005,74.5,1,4.62,1.84,9.26,2.49,13.94v.01q.855,5.955,1.29,11.97A176.97711,176.97711,0,0,1,935.43234,472.55767Z" transform="translate(-172.03021 -134.96696)" fill="#3f3d56"/><path d="M740.07386,537.68412,591.61233,414.00627,735.84027,542.638a3.44161,3.44161,0,1,0,4.23359-4.95386Z" transform="translate(-172.03021 -134.96696)" fill="#f0f0f0" opacity="0.3"/><circle cx="227.58212" cy="250.78071" r="89" fill="#f2f2f2"/><path d="M478.61233,379.74767a80.99369,80.99369,0,0,1-81,81,81.57161,81.57161,0,0,1-27.8-4.9,81.05489,81.05489,0,1,1,108.8-76.1Z" transform="translate(-172.03021 -134.96696)" fill="#fff"/><circle cx="211.58212" cy="217.78071" r="25" fill="#e4e4e4"/><path d="M475.45236,357.27764a25.00115,25.00115,0,0,1-27.6-41.08A81.05279,81.05279,0,0,1,475.45236,357.27764Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="252.58212" cy="271.78071" r="9" fill="#e4e4e4"/><path d="M387.61233,457.74767a9.04581,9.04581,0,0,1-.31,2.34,79.52774,79.52774,0,0,1-17.49-4.24,9.00157,9.00157,0,0,1,17.8,1.9Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><path d="M334.61233,375.74767a18.002,18.002,0,0,1-16.8,17.96,81.54773,81.54773,0,0,1,1.76-35.71A18.00026,18.00026,0,0,1,334.61233,375.74767Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="606.45653" cy="208.48305" r="3.70234" fill="#6c63ff"/><circle cx="572.30231" cy="119.94851" r="2.16307" fill="#f0f0f0"/><circle cx="225.30231" cy="543.94851" r="2.16307" fill="#f0f0f0"/><circle cx="584.58144" cy="331.59402" r="2.16307" fill="#f0f0f0"/><circle cx="305.45653" cy="350.48305" r="3.70234" fill="#6c63ff"/><circle cx="171.45653" cy="416.48305" r="17.48305" fill="#6c63ff"/><circle cx="267.30231" cy="435.94851" r="2.16307" fill="#f0f0f0"/><circle cx="487.30231" cy="97.94851" r="2.16307" fill="#f0f0f0"/><circle cx="358.30231" cy="558.94851" r="2.16307" fill="#f0f0f0"/><circle cx="326.30231" cy="117.94851" r="2.16307" fill="#f0f0f0"/><circle cx="382.30231" cy="222.94851" r="2.16307" fill="#f0f0f0"/><circle cx="296.58144" cy="480.59402" r="2.16307" fill="#f0f0f0"/><circle cx="549.58144" cy="494.59402" r="2.16307" fill="#f0f0f0"/><circle cx="437.58144" cy="368.59402" r="2.16307" fill="#f0f0f0"/><circle cx="494.58144" cy="222.59402" r="2.16307" fill="#f0f0f0"/><circle cx="598.21204" cy="292.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="150.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="445.65473" r="4.28889" fill="#ff6584"/><path d="M863.45236,605.33764a7.694,7.694,0,0,0-7.39,5.58,7.3896,7.3896,0,0,0-.3,2.12v12.04q4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.68118,667.89806q-19.36816,0-42.45654-1.46386c-79.61377-5.05567-182.7378-22.63282-290.376-49.49219-107.6377-26.85938-206.93018-59.79395-279.58545-92.73438-35.39258-16.04687-62.55615-31.23632-80.73535-45.14746-19.24707-14.72705-27.666-27.564-25.02393-38.15283,5.148-20.62891,50.731-25.14209,88.064-25.29541l.01269,3c-51.26806.21045-81.51367,8.38672-85.16552,23.022-4.65186,18.64014,33.28662,47.74073,104.08691,79.84131,72.49561,32.86817,171.60547,65.73926,279.07324,92.55664,107.46729,26.81641,210.40137,44.36328,289.83985,49.40821,77.57861,4.92773,124.74316-2.9375,129.39453-21.57813,3.86181-15.47656-21.59815-38.27539-71.68946-64.19824l1.37891-2.66406c36.397,18.83593,78.64551,45.85156,73.22168,67.58886-2.64258,10.58887-16.10547,17.96485-40.01514,21.92285C927.0762,666.7672,910.33548,667.89806,890.68118,667.89806Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="714.58212" cy="208.78071" r="100.5" fill="#fff"/><path d="M886.61233,241.74767a102,102,0,1,0,102,102A101.635,101.635,0,0,0,886.61233,241.74767Zm0,201a99,99,0,1,1,99-99A98.61767,98.61767,0,0,1,886.61233,442.74767Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M798.417,367.81847a2.00078,2.00078,0,0,1-1.957-1.59765,97.66924,97.66924,0,0,1,22.34082-83.13526,2,2,0,0,1,2.98633,2.66114A93.59682,93.59682,0,0,0,800.378,365.41515a2.00228,2.00228,0,0,1-1.96094,2.40332Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><circle cx="714.51924" cy="238.27373" r="63.87702" fill="#6c63ff"/><path d="M866.24805,397.35666c-4.14062-.115-9.29385-.25869-13.26384-3.15874a10.18618,10.18618,0,0,1-4.00806-7.60607,6.85213,6.85213,0,0,1,2.33007-5.62763c2.07352-1.75216,5.10139-2.16313,8.36441-1.2042l-3.38076-24.7061,2.48174-.34,3.97444,29.04518-2.07245-.951c-2.4027-1.10205-5.70088-1.66285-7.7504.06911a4.40263,4.40263,0,0,0-1.44375,3.62659,7.69887,7.69887,0,0,0,2.98246,5.67107c3.08949,2.25668,7.19708,2.54779,11.85585,2.678Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><rect x="658.49493" y="222.21767" width="13.49133" height="2.50498" fill="#2f2e41"/><rect x="701.07961" y="222.21765" width="13.49133" height="2.50498" fill="#2f2e41"/><path d="M889.23233,452.90765h-57.9a8.14716,8.14716,0,0,0-8.13995,8.14v128.33a47.66955,47.66955,0,0,0,25.56,42.19995q3.555-3.18,7.01-6.5,4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005,4.08006-4.59,7.94-9.36,1.725-2.115,3.4-4.28c26.79-34.43,45.57-76.06,49.3-119.14A64.04854,64.04854,0,0,0,889.23233,452.90765Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M891.34231,479.68767a14.61136,14.61136,0,0,0-10.43-4.17,14.465,14.465,0,0,0-9.16,3.36005,13.12263,13.12263,0,0,0-1.17,1.07l-47.38995,48.6-34.37,35.25a6.80061,6.80061,0,0,0-1.28,1.8,7.29573,7.29573,0,0,0-.77,3.32,7.16751,7.16751,0,0,0,2.18006,5.07l1.35,1.32,9.8,9.55.01-.01a7.29073,7.29073,0,0,0,4.66,1.63,7.167,7.167,0,0,0,5.07-2.18l1.59-1.62,11.38-11.67.38-.39,68.41-70.16a14.69128,14.69128,0,0,0-.26-20.77Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.86152,343.44c2.1124-4.46658-.05349-9.23761-3.76378-12.09072-4.67557-3.59539-10.7221-3.00085-16.04008-1.29905-5.82238,1.8632-11.51366,5.21608-17.80383,5.02337a11.13058,11.13058,0,0,1-10.24407-7.27764c-3.3687-8.639.43561-18.29488,6.29971-24.84681a34.26766,34.26766,0,0,1,26.544-11.586,34.64989,34.64989,0,0,1,28.068,16.9026,1.54079,1.54079,0,0,0,2.05229.53813,36.88225,36.88225,0,0,1,28.39377-.71432,36.28984,36.28984,0,0,1,22.58042,34.49188c-.05,1.93122,2.95005,1.9301,3,0a39.89155,39.89155,0,0,0-10.59928-27.81249,38.71871,38.71871,0,0,0-27.56681-12.16772,39.33641,39.33641,0,0,0-17.32226,3.61223l2.05229.53813a37.69886,37.69886,0,0,0-25.0988-17.728,36.48542,36.48542,0,0,0-29.42384,7.32772c-7.70165,6.02707-13.53849,15.38016-13.17519,25.41071.15721,4.34047,1.44713,8.796,4.4606,12.03051,3.85981,4.14287,9.62229,4.85944,14.94631,3.798,7.07554-1.41071,13.53533-6.06449,20.91133-5.92113a10.21164,10.21164,0,0,1,7.6417,3.4453c1.62455,1.83335,2.6042,4.47042,1.49716,6.81122-.82094,1.73585,1.76463,3.26026,2.59041,1.51416Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M412.09426,704.32287c-35.59912.001-68.69433-1.22071-98.32226-3.68555-38.72656-3.22266-69.41455-8.40332-91.21045-15.39648-23.07666-7.40528-35.31934-16.667-36.38818-27.52832-2.083-21.15821,39.334-40.72461,74.44531-53.41309l1.01953,2.82227c-48.2168,17.42382-73.957,35.28613-72.47949,50.29785,1.88183,19.11914,47.39209,33.78125,124.86181,40.22754,79.3252,6.60058,183.71729,4.26172,293.94727-6.58985,110.23-10.84863,213.07568-28.90625,289.59131-50.8457,74.72607-21.42578,116.50488-44.67969,114.623-63.79883-1.5625-15.874-33.20264-28.793-89.0918-36.3789l.40332-2.97266c40.60986,5.51172,89.47949,16.76172,91.67383,39.05762,1.06933,10.86132-9.1333,22.332-30.32276,34.09375-20.01465,11.10937-49.10351,22.17285-86.45849,32.88281-76.68506,21.98828-179.71973,40.08105-290.12451,50.94824C539.00247,700.86,472.01663,704.32287,412.09426,704.32287Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="838.45653" cy="434.48305" r="17.48305" fill="#6c63ff"/><circle cx="331.45653" cy="17.48305" r="17.48305" fill="#e6e6e6"/><circle cx="19.45653" cy="433.48305" r="17.48305" fill="#e6e6e6"/><circle cx="127.45653" cy="108.48305" r="10.70234" fill="#ff6584"/><circle cx="77.45653" cy="514.48305" r="10.70234" fill="#ff6584"/><circle cx="807.45653" cy="339.48305" r="10.70234" fill="#ff6584"/><circle cx="645.45653" cy="598.48305" r="17.48305" fill="#e6e6e6"/></svg>',II=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),o=new Uint8Array(r);for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return new Blob([r],{type:t})},xI=async e=>{const{vault:t}=vt.getState().app,n=await t.adapter.readBinary(e),r=new Uint8Array(n),o=new Blob([r],{type:"image/png"});return new Promise(i=>{const a=new FileReader;a.onloadend=()=>{const u=a.result;i(u)},a.readAsDataURL(o)})},_ee=async e=>{var n,r;const t=e.find(".thino-user-icon");if(!(t&&!/(http|app|base64)/.test((n=t==null?void 0:t.style)==null?void 0:n.backgroundImage))&&t&&(r=t==null?void 0:t.style)!=null&&r.backgroundImage){const o=await gm(t);t.style.backgroundImage=`url("${o}")`}},BS=async e=>{const t=e.findAll("img");for(const n of t)if(n.src.startsWith("http://localhost")){const r=await Dd(n.getAttribute("path")||C.normalizePath(n==null?void 0:n.parentElement.getAttribute("src")));n.src=r}else{const r=await wO(n);n.src=r}},Bee=async e=>{const{app:t,settings:n}=vt.getState();let r,o;const i=document.body.hasClass("theme-light"),a=i?e==="modern"?n==null?void 0:n.DefaultLightBackgroundImage:n==null?void 0:n.DefaultLightBackgroundImageForClean:e==="modern"?n==null?void 0:n.DefaultDarkBackgroundImage:n==null?void 0:n.DefaultDarkBackgroundImageForClean,u=await t.vault.adapter.exists(a)&&/\.(png|svg|jpg|jpeg)/g.test(a),d=a==null?void 0:a.startsWith("http");switch(e){case"clean":u||d?(o=a,r=d?await Dd(a):await xI(o)):r=i?gv:v1;break;case"minimal":break;case"modern":default:u||d?(o=a,r=d?await Dd(a):await xI(o)):r="data:image/svg+xml;base64,"+btoa(i?Lee:Ree);break}switch(e){case"modern":{const f=document.querySelector(".dialog-wrapper .memo-background .property-image");f.style.backgroundImage="url('"+r+"')";break}case"clean":{const f=document.querySelector(".dialog-wrapper .memo-container.clean .memo-background .property-image");f&&(f.style.backgroundImage="url('"+r+"')");break}case"minimal":break;default:{const f=document.querySelector(".dialog-wrapper .memo-background .property-image");f.style.backgroundImage="url('"+r+"')"}}return r},Hee=e=>{const{memo:t,destroy:n}=e,{memos:r}=Le.getState().memoState,{view:o,app:i,settings:a}=Le.getState().dailyNotesState,u={...t,createdAtStr:lt.getDateTimeString(t.createdAt)},[d,f]=F.useState(!1),[m,g]=F.useState(u.content),[v,b]=F.useState(!1),S=F.useRef(null),T=F.useRef(null),I=F.useRef(null),[k,A]=F.useState(e.style||"modern"),[R,j]=F.useState(""),B=F.useRef(null),L=F.useRef(null),[z,U]=se.useState(a==null?void 0:a.MomentsIcon);F.useEffect(()=>{if(!(a!=null&&a.MomentsIcon)||!i)return;const le=i.vault.adapter.getResourcePath(C.normalizePath(a.MomentsIcon));le&&!(a!=null&&a.MomentsIcon.startsWith("http"))?U(le):U(a==null?void 0:a.MomentsIcon)},[a==null?void 0:a.MomentsIcon,i]);let W,Z;r.length&&(W=r.length>0?r[r.length-1]:null,W?Z=r?Math.ceil((Date.now()-lt.getTimeStampByDate(W==null?void 0:W.createdAt))/1e3/3600/24)+1:0:Z=0),a==null||a.ShareFooterEnd.replace("{UserName}",a==null?void 0:a.UserName);const re=a==null?void 0:a.ShareFooterStart.replace("{ThinoNum}",r.length.toString()).replace("{UsedDay}",Z.toString());F.useEffect(()=>{!S.current||!T.current||(C.setIcon(S.current,"copy"),C.setIcon(T.current,"x"))},[S,T]),F.useEffect(()=>{I.current&&C.setIcon(I.current,"file-down")},[I]),F.useEffect(()=>{C.setIcon(S.current,v?"loader":"copy"),S.current.disabled=v,S.current.toggleClass("copying",v)},[v]),F.useEffect(()=>{if(!L.current||!o&&!e.view||d)return;g(t.content),L.current.hasChildNodes()&&L.current.empty();async function le(){var oe;(oe=L.current)==null||oe.toggleClass(["markdown-rendered"],!0),await C.MarkdownRenderer.render(i,t.content+`
`,L.current,t.path,o||e.view)}le(),setTimeout(async()=>{await Q()},Cx)},[B,L,u,k]);const Q=async()=>{B.current&&(await _ee(B.current),await BS(B.current),Bee(k).then(le=>{le&&setTimeout(()=>{p0(B.current).then(oe=>{j(oe),f(!0)}).catch(()=>{})},600)}))},ce=()=>{n()},ee=F.useCallback(le=>{b(le)},[v]),fe=async()=>{const{vault:le}=Le.getState().dailyNotesState.app,oe=B.current.querySelector(".memo-shortcut-img");if(!oe)return;const he=oe==null?void 0:oe.getAttribute("src").split("base64,")[1],G=II(he,"image/png");let ne;G.arrayBuffer().then(async pe=>{const Ie="png",Oe=su();for(const Ye in Oe)if(Oe[Ye]instanceof C.TFile){ne=Oe[Ye];break}if(ne!==void 0){const Ye=await le.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,Ie,ne);await le.createBinary(Ye,pe),new C.Notice(E("Save image successfully"))}})},$=async()=>{ee(!0);const le=B.current.querySelector(".memo-shortcut-img");if(!le)return;const oe=le==null?void 0:le.getAttribute("src").split("base64,")[1],he=II(oe,"image/png");if(!he){new C.Notice(E("Copy to clipboard failed"));return}const G=new ClipboardItem({"image/png":he});window.navigator.clipboard.write([G]).then(()=>{setTimeout(()=>{ee(!1)},500)}),new C.Notice(E("Copy to clipboard successfully"))};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:Gn("dialog-header-container"),children:[y.jsxs("p",{className:"title-text",children:[y.jsx("span",{className:"icon-text",children:"🥰"}),E("Share Memo Image")]}),y.jsxs("div",{className:"btn-group",children:[C.Platform.isMobile&&y.jsx("button",{ref:I,className:"btn download-btn",onClick:fe}),y.jsx("button",{ref:S,className:"btn copy-btn",onClick:$}),y.jsx("button",{ref:T,className:"btn close-btn",onClick:ce})]})]}),y.jsxs("div",{className:Gn("dialog-content-container",k),children:[y.jsx("div",{className:`tip-words-container ${R?"finish":"loading"}`,children:y.jsx("p",{className:"tip-text",children:E(R?"↗Click the button to save":"Image is generating...")})}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Default sharing style")}),y.jsx("div",{className:"setting-item-description",children:E("Set the default style for sharing thino, 'Modern' by default.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:k,onChange:async le=>{le.currentTarget.value!==k&&(f(!1),j(""),A(le.currentTarget.value),await Q())},children:[y.jsx("option",{value:"modern",children:E("Modern")}),y.jsx("option",{value:"clean",children:E("Clean")}),y.jsx("option",{value:"minimal",children:E("Minimal")}),y.jsx("option",{value:"gradient",children:E("Gradient")})]})})]}),y.jsxs("div",{className:Gn("memo-container",k),ref:B,children:[y.jsx(Aa,{when:R!=="",children:y.jsx("img",{className:"memo-shortcut-img",onClick:$,src:R})}),y.jsxs("div",{className:"memo-background",children:[y.jsx("div",{className:"property-image",style:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),y.jsx("span",{className:"background-container"}),y.jsxs("div",{className:"thino-user-header",children:[y.jsx("div",{className:"thino-user-icon",ref:le=>{if(a!=null&&a.MomentsIcon){le==null||le.empty();return}a!=null&&a.MomentsIcon||le&&C.setIcon(le,"Memos")},style:{backgroundImage:`url("${z}")`}}),y.jsxs("div",{className:"thino-user-info",children:[y.jsx("div",{className:"thino-user-name",children:a==null?void 0:a.UserName}),(a==null?void 0:a.MomentsQuote)&&y.jsx("div",{className:"thino-user-quote",children:a==null?void 0:a.MomentsQuote})]})]}),y.jsx("div",{ref:L,className:"memo-content-text"}),y.jsx("div",{className:"thino-time-footer",children:u.createdAt}),y.jsxs("div",{className:"watermark-container",children:[y.jsxs("span",{className:"normal-text footer-start",children:[y.jsx("div",{className:"property-social-icons"}),y.jsx("span",{className:"name-text",children:re})]}),y.jsx("span",{className:"normal-text footer-end",children:y.jsx("span",{className:"name-text",children:"THINO"})})]})]})]})]})]})};function sh(e,t,n){s0({className:"share-memo-image-dialog"},Hee,{memo:e,style:t,view:n})}const th=async()=>{var r;const{verifyState:e}=vt.getState(),t=!C.Platform.isDesktop&&await((r=window.Capacitor)==null?void 0:r.Plugins.Device.getId()),n=C.Platform.isDesktop?await er():t.identifier||t.uuid;return e&&(e==null?void 0:e.appId)===n},Yee=async(e,t)=>{if(!(t!=="chat"&&t!=="moments")){if(t==="moments"){const n=e.querySelectorAll(".thino-moment-icon"),r=e.find(".moments-view-user-icon"),o=e.find(".moments-view-background");for(const i of n){const a=await gm(i);i.style.backgroundImage=`url(${a})`}if(r){const i=await gm(r);r.style.backgroundImage=`url(${i})`}if(o){const i=await gm(o);o.style.backgroundImage=`url(${i})`}}else if(t==="chat"){const n=e.querySelectorAll(".icon-img");for(const r of n){const o=await gm(r);r.style.backgroundImage=`url(${o})`}}}};class nh extends C.Modal{constructor(t,n,r){super(t),this.title=n,this.cb=r}onOpen(){super.onOpen(),this.containerEl.toggleClass("thino-bulk-action-dialog",!0),this.titleEl.setText(this.title+E("Confirm?")),this.contentEl.createEl("button",{text:E("Confirm?").replace(/\?|？/,"")}).onclick=()=>{this.cb("confirm"),this.close()},this.contentEl.createEl("button",{text:E("Cancel")}).onclick=()=>{this.cb("cancel"),this.close()}}onClose(){super.onClose()}}class Uee extends C.Modal{constructor(n,r){super(n);De(this,"root");this.thinos=r}onOpen(){super.onOpen(),this.containerEl.toggleClass(["thino-bulk-action-dialog","tag-actions"],!0),this.root=Pa.createRoot(this.contentEl),this.root.render(y.jsx(Ra,{store:Le,context:Ot,children:y.jsx(yO,{app:this.app,closeDialog:this.close.bind(this),thinos:this.thinos})}))}onClose(){var n;super.onClose(),(n=this.root)==null||n.unmount()}}const Ig=({thinosCount:e,thinos:t})=>{const{globalState:{memoListView:n},locationState:{query:r,pathname:o},dailyNotesState:{settings:i,app:a}}=F.useContext(Ot),{tag:u,duration:d,type:f,text:m,filter:g}=r,v=Qt.getQueryById(g),b=!!(u||d&&d.from<d.to||f||m||v),S=F.useRef(null);F.useEffect(()=>{S&&C.setIcon(S.current,"more-horizontal")},[S]);const T=async()=>{if(!((t==null?void 0:t.length)>0))return;const U=sO(t),W=uO(U);await lt.copyTextToClipboard(W),new C.Notice(E("Copied to clipboard Successfully"))},I=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await th()){An();return}const U=[...t],W=i.DeleteThinoDirectly;try{for(const Z of U)if(W)await Re.deleteMemoById(Z.id);else{const re=await Re.hideMemoById(Z.id);re&&Re.editMemo(re)}at.clearQuery()}catch(Z){console.error("error",Z),new C.Notice(Z.message)}},k=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await th()){An();return}const U=[...t];try{for(const W of U)await Re.deleteMemoById(W.id);at.clearQuery(),new C.Notice(E("DELETE SUCCEED"))}catch(W){console.error("error",W),new C.Notice(W.message)}},A=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await th()){An();return}const U=[...t];try{const W=await Re.unarchiveThinoBulk(U);for(const Z of W)Z&&Re.editMemo(Z);new C.Notice(E("RESTORE SUCCEED")),at.clearQuery()}catch(W){console.error("error",W),new C.Notice(W.message)}},R=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await th()){An();return}const U=[...t],W=vt.getState().settings.startSync;try{for(const Z of U){const re=await Re.restoreMemoById(Z.id),Q=vt.getState().app,ce=Q==null?void 0:Q.loadLocalStorage("tokenForSync");re&&re.webId&&ce&&W&&await Rx(re.webId),re&&Re.editMemo(re)}at.clearQuery(),new C.Notice(E("RESTORE SUCCEED"))}catch(Z){new C.Notice(Z.message)}},j=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await th()){An();return}const U=[...t];try{const W=await Re.archiveThinoBulk(U);for(const Z of W)Z&&Re.editMemo(Z);at.clearQuery()}catch(W){console.error("error",W),new C.Notice(W.message)}},B=async()=>{if((t==null?void 0:t.length)>0){if(!await th()){An();return}new Uee(a,t).open()}},L=async U=>{setTimeout(async()=>{if(new C.Notice(E("Image is generating...")),!U){new C.Notice(E("No content to generate."));return}await Yee(U,n),await BS(U),document.body.hasClass("theme-dark"),p0(U).then(W=>{if(i!=null&&i.AutoSaveWhenOnMobile&&C.Platform.isMobile){const Z=W.split("base64,")[1];t0(Z,"image/png").arrayBuffer().then(async Q=>{let ce;const ee="png",fe=su();for(const $ in fe)if(fe[$]instanceof C.TFile){ce=fe[$];break}ce!==void 0&&await a.vault.createBinary(await vault.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,ee,ce),Q)})}m0({imgUrl:W}),new C.Notice(E("Image generated successfully.")),U.hasClass("share-image")?U.toggleClass("share-image",!1):U.closest(".share-image").toggleClass("share-image",!1)}).catch(W=>{console.error(W)})},0)},z=U=>{const W=new C.Menu;switch(W.addItem(Z=>{Z.setTitle(E("Copy filtered thinos")).setIcon("copy").onClick(async()=>{await T()})}),W.addItem(Z=>{Z.setTitle(E("Share filtered thinos as image")).setIcon("image").onClick(async()=>{const re=document.querySelector(".memolist-container");re.toggleClass("share-image",!0);try{if(n==="calendar"){if(re.find(".rbc-agenda-table")){const Q=re.find(".rbc-agenda-table");await L(Q)}if(re.find(".rbc-month-view")){const Q=re.find(".rbc-month-view");await L(Q)}}else if(n==="table"){if(re.find(".thino-table")){const Q=re.find(".thino-table");await L(Q)}}else await L(re)}catch(Q){console.error(Q),new C.Notice(E("Failed to generate image.")),re.toggleClass("share-image",!1)}})}),W.addSeparator(),o){case"/":W.addItem(Z=>{Z.setTitle(E("Bulk tag operation")).setIcon("hash").onClick(async()=>{await B()})}).addItem(Z=>{Z.setTitle(E("Bulk archive")).setIcon("archive").onClick(async()=>{new nh(a,E("ARCHIVE"),async re=>{re==="confirm"&&await j()}).open()})}).addItem(Z=>{Z.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new nh(a,E("DELETE"),async re=>{re==="confirm"&&await I()}).open()})});break;case"/archive":W.addItem(Z=>{Z.setTitle(E("Bulk restore")).setIcon("archive").onClick(async()=>{new nh(a,E("RESTORE"),async re=>{re==="confirm"&&await A()}).open()})}).addItem(Z=>{Z.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new nh(a,E("DELETE"),async re=>{re==="confirm"&&await I()}).open()})});break;case"/recycle":W.addItem(Z=>{Z.setTitle(E("Bulk restore")).setIcon("archive-restore").onClick(async()=>{new nh(a,E("RESTORE"),async re=>{re==="confirm"&&await R()}).open()})}).addItem(Z=>{Z.setTitle(E("Bulk delete")).setIcon("trash").onClick(async()=>{new nh(a,E("DELETE"),async re=>{re==="confirm"&&await k()}).open()})});break}W.showAtMouseEvent(U.nativeEvent)};return y.jsxs("div",{className:`filter-query-container ${b?"":"hidden"}`,children:[y.jsxs("div",{className:"filter-query",children:[y.jsx("span",{className:"tip-text",children:E("FILTER")}),y.jsxs("div",{"data-filter-type":"query",className:"filter-item-container "+(v?"":"hidden"),onClick:()=>{at.setMemoFilter("")},children:[y.jsx("span",{className:"icon-text",children:"🔖"})," ",v==null?void 0:v.title]}),y.jsxs("div",{"data-filter-type":"tag",className:"filter-item-container "+(u?"":"hidden"),onClick:()=>{at.setTagQuery("")},children:[y.jsx("span",{className:"icon-text",children:"🏷️"})," ",u]}),y.jsxs("div",{"data-filter-type":"type",className:"filter-item-container "+(f?"":"hidden"),onClick:()=>{at.setMemoTypeQuery("")},children:[y.jsx("span",{className:"icon-text",children:"📦"})," ",t5(f)]}),d&&d.from<d.to&&y.jsxs("div",{"data-filter-type":"date",className:"filter-item-container",children:[y.jsxs("div",{className:"day-picker-component-group",children:[y.jsx("span",{className:"icon-text",children:"🗓️"})," ",y.jsx(Ev,{type:"text",startOrEnd:"start",defaultValue:C.moment(d.from,"x").valueOf(),handleValueChange:U=>{const W=C.moment(d.to,"x"),Z=C.moment(U,"x"),re=Z.isAfter(W)||Z.isSame(W);at.setFromAndToQuery(re?W.startOf("day").valueOf():C.moment(U,"x").startOf("day").valueOf(),d.to)}}),y.jsx("span",{children:E("to")}),y.jsx(Ev,{type:"text",startOrEnd:"end",defaultValue:C.moment(d.to,"x").add(1,"days").valueOf(),handleValueChange:U=>{const W=C.moment(d.from,"x"),Z=C.moment(U,"x"),re=Z.isBefore(W)||Z.isSame(W),Q=C.moment(U,"x").endOf("day").valueOf();at.setFromAndToQuery(d.from,re?W.endOf("day").valueOf():Q)}})]}),y.jsx("div",{ref:U=>U&&C.setIcon(U,"x"),className:"btn close-btn",onClick:()=>{at.setFromAndToQuery(0,0)}})]}),y.jsxs("div",{className:"filter-item-container "+(m?"":"hidden"),onClick:()=>{at.setTextQuery("")},children:[y.jsx("span",{className:"icon-text",children:"🔍"})," ",m]})]}),y.jsxs("div",{className:"thino-filter-items",children:[e&&y.jsx("div",{className:"thinos-count",children:`${e?`${e} Thinos `:""}`}),y.jsx("div",{ref:S,className:"btn memo-action-menu",onClick:z})]})]})},pd=async e=>{const{app:t,settings:n}=vt.getState();if(!n.startSync||!(t!=null&&t.loadLocalStorage("tokenForSync")))return;const r=await K6(e);if(!r||r.length===0)return;r.sort((a,u)=>C.moment(a.createdAt,"YYYY/MM/DD HH:mm:ss").isAfter(C.moment(u.createdAt,"YYYY/MM/DD HH:mm:ss"))?1:-1);const o=r.filter(a=>!a.deleted),i=r.filter(a=>a.deleted);for(let a=0;a<o.length;a++){const u=o[a],d=await Re.createOrPatchThinoFromWeb(u);d&&Re.pushMemo(d)}for(let a=0;a<i.length;a++){const u=i[a],d=Re.getMemoByWebId(u.id);d&&await Re.deleteMemoById(d.id,"local")}Re.updateTagsState(),Wee(t)};function zee(){const{settings:e,app:t,view:n}=vt.getState(),{globalState:{loaded:r,memoListView:o}}=F.useContext(Ot),i=C.Platform.isMobile&&e.DefaultEditorLocation==="Bottom",a=se.useRef(null),[u,d]=se.useState([]);F.useEffect(()=>{if(!t||!r||!n||!(t==null?void 0:t.loadLocalStorage("tokenForSync"))||!e.startSync)return;a.current=window.setInterval(async()=>{const v=w1(t);await pd(v)},3e4),n.registerInterval(a.current);const g=w1(t);return pd(g),()=>{a.current&&window.clearInterval(a.current)}},[n,t,r,e.startSync]);const f=[y.jsx(Ig,{thinosCount:u.length,thinos:u},"filter"),y.jsx(kee,{updateThinos:m=>{d(m)}},"list")];return y.jsx(y.Fragment,{children:o==="chat"?y.jsx(y.Fragment,{children:[y.jsx(yv,{syncThino:pd},"header"),...f.reverse(),y.jsx(wd,{className:"mod-editor-bottom",editorType:"inline"},"editor")]}):y.jsx(y.Fragment,{children:i?[y.jsx(yv,{syncThino:pd},"header"),...f,y.jsx(wd,{className:"mod-editor-bottom",editorType:"block"},"editor")]:[y.jsx(yv,{syncThino:pd},"header"),y.jsx(wd,{editorType:"block"},"editor"),...f]})})}function Vee(e){try{e!=null&&e.saveLocalStorage&&(e==null||e.saveLocalStorage("thinoLastUpdated",C.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x")))}catch(t){console.error(t)}}function w1(e){try{const t=(e==null?void 0:e.loadLocalStorage)&&(e==null?void 0:e.loadLocalStorage("thinoLastUpdated"));return t||C.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x")}catch(t){return console.error(t),C.moment().format("x")}}function Wee(e){try{e!=null&&e.saveLocalStorage&&(e==null||e.saveLocalStorage("thinoLastUpdated",C.moment().format("x")))}catch(t){console.error(t)}}function $h(e=!0){const[t,n]=F.useState({isLoading:e,isFailed:!1,isSucceed:!1,isPending:!1});return{...t,setLoading:()=>{n({...t,isLoading:!0,isFailed:!1,isPending:!1,isSucceed:!1})},setFinish:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!1,isSucceed:!0})},setError:()=>{n({...t,isLoading:!1,isFailed:!0,isPending:!1,isSucceed:!1})},setPending:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!0,isSucceed:!1})}}}const Zee={text:E("SELECT"),value:""},$ee=e=>{const{className:t,dataSource:n,handleValueChanged:r,value:o}=e,[i,a]=ml(!1),u=F.useRef(null);let d=Zee;for(const g of n)if(g.value===o){d=g;break}F.useEffect(()=>{if(i){const g=v=>{var b;(b=u.current)!=null&&b.contains(v.target)||a(!1)};window.addEventListener("click",g,{capture:!0,once:!0})}},[i]);const f=g=>{r&&r(g.value),a(!1)},m=g=>{g.stopPropagation(),a()};return y.jsxs("div",{className:`selector-wrapper ${t||""}`,ref:u,children:[y.jsxs("div",{className:`current-value-container ${i?"active":""}`,onClick:m,children:[y.jsx("span",{className:"value-text",children:d.text}),y.jsx("span",{ref:g=>{g&&C.setIcon(g,"chevron-right")},className:"btn arrow-text"})]}),y.jsx("div",{className:`items-wrapper ${i?"":"hidden"}`,children:n.map(g=>y.jsx("div",{className:`item-container ${g.value===o?"selected":""}`,onClick:()=>{f(g)},children:g.text},g.value))})]})},rh=F.memo($ee),HS=e=>{const{destroy:t,queryId:n,type:r="dialog"}=e,[o,i]=F.useState(""),[a,u]=F.useState(r!=="dialog"?[s2()]:[]),d=$h(!1),[f,m]=F.useState(!1),[g,v]=ml(!1),b=Re.getState().memos.filter(L=>!(L.deletedAt!==""&&L.deletedAt)).filter(L=>jh(L,a)).length;F.useEffect(()=>{S()},[n]);const S=()=>{const L=Qt.getQueryById(n??"");if(L){i(L.title);const z=JSON.parse(L.querystring);return Array.isArray(z)&&u(z),L}},T=L=>{const z=L.target.value;i(z)},I=async()=>{if(!o)return new C.Notice(E("TITLE CANNOT BE NULL!")),null;if(a.length===0)return new C.Notice(E("FILTER CANNOT BE NULL!")),null;if(a.length===1&&a[a.length-1].value.value==="")return new C.Notice(E("Please finish the last filter setting first")),null;let L;try{n&&!n.startsWith("Filter [Temp] ")?(L=await Qt.updateQuery(n,o,JSON.stringify(a)),Qt.editQuery(L),await Qt.getMyAllQueries()):(L=await Qt.createQuery(o,JSON.stringify(a)),Qt.pushQuery(L),await Qt.getMyAllQueries())}catch(z){new C.Notice(z.message)}return L},k=async()=>{switch(r){case"modal":case"inline":if(a.length===0){new C.Notice(E("FILTER CANNOT BE NULL!"));return}if(a.length===1&&a[a.length-1].value.value===""){new C.Notice(E("Please finish the last filter setting first"));return}try{const L=Qt.getQueryById(n??"");if(L&&JSON.stringify(a)===L.querystring){at.setMemoFilter(L.id),t();return}const z=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(a));Qt.pushQuery(z),at.setMemoFilter(z.id)}catch(L){new C.Notice(L.message)}t();break;case"dialog":try{if(!await I())return}catch(L){console.error(L),new C.Notice(L.message)}t();break}},A=()=>{if(a.length===0){new C.Notice(E("FILTER CANNOT BE NULL!"));return}if(f){at.setMemoFilter(""),m(!1);return}const L=Qt.getQueryById(n??"");if(L&&JSON.stringify(a)===L.querystring){at.setMemoFilter(L.id);return}const z=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(a));Qt.pushQuery(z),at.setMemoFilter(z.id),e.setPreview&&e.setPreview(z.id),m(!0)},R=()=>{if(a.length>0&&a[a.length-1].value.value===""){new C.Notice(E("Please finish the last filter setting first"));return}u([...a,s2()])},j=F.useCallback((L,z)=>{u(U=>{const W=[...U];return W[L]=z,W})},[]),B=F.useCallback(L=>{u(z=>z.filter((W,Z)=>Z!==L))},[]);return y.jsxs(y.Fragment,{children:[r==="dialog"&&y.jsxs("div",{className:"dialog-header-container",children:[y.jsxs("span",{className:"title-text",children:[y.jsx("span",{className:"icon-text",children:"🔖"}),E(n?"EDIT QUERY":"CREATE QUERY")]}),y.jsx("button",{ref:L=>{L&&C.setIcon(L,"x")},className:"btn close-btn",onClick:t})]}),y.jsxs("div",{className:"dialog-content-container",children:[(r==="dialog"||g)&&y.jsxs("div",{className:"form-item-container input-form-container",children:[y.jsx("span",{className:"normal-text",children:E("TITLE")}),y.jsx("input",{className:"title-input",type:"text",value:o,onChange:T})]}),y.jsxs("div",{className:"form-item-container filter-form-container",children:[y.jsx("span",{className:"normal-text",children:E("FILTER")}),y.jsxs("div",{className:"filters-wrapper",children:[a.map((L,z)=>y.jsx(Gee,{index:z,filter:L,handleFilterChange:j,handleFilterRemove:B},z)),y.jsx("div",{className:"create-filter-btn",onClick:R,children:E("ADD FILTER TERMS")})]})]})]}),y.jsx("div",{className:"dialog-footer-container",children:y.jsxs("div",{className:"btns-container",children:[(r==="inline"||r==="modal")&&y.jsx("button",{className:`btn ${g?"mod-cta":"save-btn"}`,onClick:async()=>{if(!g)v();else{const L=await I();v(!1),t(),L&&at.setMemoFilter(L.id)}},children:E(g?"Set and save":"Save")}),y.jsxs("div",{className:"btns-group-container",children:[y.jsxs("span",{className:`tip-text ${a.length===0&&"hidden"}`,children:[E("MATCH")," Thino ",y.jsx("strong",{children:b})," ",E("TIMES")]}),y.jsx(y.Fragment,{children:r==="inline"&&y.jsx("button",{className:"btn mod-cta",onClick:A,children:E("Preview")})}),y.jsx("button",{className:`btn save-btn ${d.isLoading?"requesting":""}`,onClick:k,children:E(r==="inline"||r==="modal"?"Filter":n?"EDIT":"Save")})]})]})})]})},qee=e=>{const{index:t,filter:n,handleFilterChange:r,handleFilterRemove:o}=e,{type:i}=n,a=F.useRef(null),u=F.useRef(null),d=F.useRef(n),f=F.useRef(i);F.useEffect(()=>{d.current=e.filter},[n]),F.useEffect(()=>{if(a.current)return i==="TAG"&&!u.current&&(f.current=i,u.current=new tS(a.current,b)),()=>{u.current&&(u.current.destroy(),u.current=null)}},[a,i]);const m=F.useCallback(I=>{["AND","OR"].includes(I)&&r(t,{...n,relation:I})},[n]),g=F.useCallback(async I=>{var k;if(n.type!==I){const{verifyState:A}=vt.getState(),R=!C.Platform.isDesktop&&await((k=window.Capacitor)==null?void 0:k.Plugins.Device.getId()),j=C.Platform.isDesktop?await er():R.identifier||R.uuid,B=A&&(A==null?void 0:A.appId)===j;if(I==="SOURCE"&&!B){An();return}const L=Object.values(ec[I].operators);r(t,{...n,type:I,value:{operator:L[0].value,value:""}})}},[n]),v=F.useCallback(I=>{r(t,{...n,value:{...n.value,operator:I}})},[n]),b=F.useCallback(I=>{r(t,{...d.current,value:{...d.current.value,value:I}})},[n]),S=()=>{o(t)},T={TYPE:y.jsx(rh,{className:"value-selector",dataSource:ec.TYPE.values,value:n.value.value,handleValueChanged:b}),LIST:y.jsx(rh,{className:"value-selector",dataSource:ec.LIST.values,value:n.value.value,handleValueChanged:b}),SOURCE:y.jsx(rh,{className:"value-selector",dataSource:ec.SOURCE.values,value:n.value.value,handleValueChanged:b}),TAG:y.jsx("input",{type:"text",id:Math.random().toString(36).substring(7),className:"value-inputer",ref:a,value:n.value.value,onChange:I=>{b(I.target.value)}}),TEXT:y.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:I=>{b(I.target.value)}}),DATE:y.jsxs("div",{className:"date-inputer",children:[y.jsx(Ev,{type:"icon",handleValueChange:b}),y.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:I=>{b(I.target.value)}})]})};return y.jsxs("div",{className:"memo-filter-input-wrapper",children:[t>0&&y.jsx(rh,{className:"relation-selector",dataSource:e5,value:n.relation,handleValueChanged:m}),y.jsx(rh,{className:"type-selector",dataSource:Object.values(ec),value:n.type,handleValueChanged:g}),y.jsxs(y.Fragment,{children:[Object.keys(ec).includes(i)&&y.jsx(rh,{className:"operator-selector",dataSource:Object.values(ec[i].operators),value:n.value.operator,handleValueChanged:v}),T[i]]}),y.jsx("div",{ref:I=>{I&&C.setIcon(I,"x")},className:"btn remove-btn",onClick:S})]})},Gee=F.memo(qee);function b1(e){s0({className:"create-query-dialog"},HS,{queryId:e})}const YS=e=>{var b,S;const{dailyNotesState:{app:t,verifyState:n},locationState:{query:r}}=F.useContext(Ot),o=se.useRef(null),[i,a]=se.useState(!1),u=se.useRef(null),[d,f]=se.useState(""),m=h0(o.current,u.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,10]}}]});F.useEffect(()=>{i&&m.update&&(m==null||m.update())},[i]),F.useEffect(()=>{o&&C.setIcon(o.current,"filter")},[o]);const g=async()=>{var k;const T=!C.Platform.isDesktop&&await((k=window.Capacitor)==null?void 0:k.Plugins.Device.getId()),I=C.Platform.isDesktop?await er():T.identifier||T.uuid;return!n||(n==null?void 0:n.appId)!==I?(An(),!1):!0};return ug(u,()=>{a(!1),d&&at.getState().query.filter===d&&at.setMemoFilter("")}),y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"thino-inline-filter-wrapper pro",ref:o,onClick:async()=>{await g()&&(C.Platform.isDesktop?(a(!i),await(m==null?void 0:m.update())):new Jee(vt.getState().app,r.filter,I=>{f(I)}).open())}}),y.jsx("div",{ref:u,className:`thino-inline-filter-container ${i?"":"hidden"}`,style:m.styles.popper,children:i&&y.jsx(HS,{type:"inline",queryId:(b=r.filter)!=null&&b.startsWith("Filter [Temp] ")&&!((S=r.filter)!=null&&S.includes("Filter [Temp]"))?"":r.filter,destroy:()=>{a(!1)},setPreview:T=>{f(T)}})})]})};class Jee extends C.Modal{constructor(n,r,o){super(n);De(this,"root");De(this,"setPreview");this.filter=r,this.setPreview=o}onOpen(){var r,o;const{contentEl:n}=this;this.root=ag(n),this.root.render(y.jsx(Ra,{store:Le,context:Ot,children:y.jsx("div",{className:"thino-inline-filter-container",children:y.jsx(HS,{type:"modal",queryId:(r=this.filter)!=null&&r.startsWith("Filter [Temp] ")&&!((o=this.filter)!=null&&o.includes("Filter [Temp]"))?"":this.filter,destroy:()=>{this.close()},setPreview:i=>{this.setPreview(i)}})})}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const O3=()=>{const{dailyNotesState:{app:e},globalState:{isMobileView:t,showSiderbarInMobileView:n}}=F.useContext(Ot),[r]=F.useState(se.createRef());F.useEffect(()=>{if(!r.current)return;const i=r.current;C.setIcon(i,"refresh-cw")},[r.current]);const o=F.useCallback(async()=>{if(!(t&&n)){if(pd){const i=w1(e);await pd(i)}await Re.fetchAllMemos()}},[]);return y.jsx("span",{className:"refresh-icon",ref:r,onClick:()=>{o(),r&&r.current.firstElementChild.toggleClass("rotate-hidden",!0),setTimeout(()=>{r&&r.current.firstElementChild.toggleClass("rotate-hidden",!1)},1e3)}})},yv=()=>{const{locationState:{query:{filter:e}},globalState:{isMobileView:t},queryState:{queries:n}}=F.useContext(Ot),[r,o]=F.useState("THINO");F.useEffect(()=>{const a=Qt.getQueryById(e);o(a?a.title:"THINO")},[e,n]);const i=F.useCallback(a=>{a.stopPropagation(),ft.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"section-header-container memos-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(Aa,{when:t,children:y.jsx("button",{ref:a=>{a&&C.setIcon(a,"menu")},className:"btn action-btn clickable-icon",onClick:i})}),y.jsx("span",{className:"normal-text",children:r}),y.jsx(O3,{})]}),y.jsxs("div",{className:"memos-header-search-section",children:[y.jsx(f5,{}),y.jsx(d5,{}),y.jsx(YS,{}),y.jsx(sg,{})]})]})},Kee=()=>{const{dailyNotesState:{settings:e,app:t,verifyState:n},globalState:{manifest:r,showSiderbarInMobileView:o,isMobileView:i}}=F.useContext(Ot),[a,u]=F.useState("Memos"),[d,f]=F.useState(!1),[m,g]=F.useState("");F.useEffect(()=>{if(!(e!=null&&e.MomentsIcon)||!t)return;const S=t.vault.adapter.getResourcePath(C.normalizePath(e.MomentsIcon));S&&!(e!=null&&e.MomentsIcon.startsWith("http"))?g(S):g(e==null?void 0:e.MomentsIcon)},[e==null?void 0:e.MomentsIcon,t]),F.useEffect(()=>{e&&u(e.UserName)},[e]);const v=F.useCallback(()=>{at.pushHistory("/"),at.clearQuery()},[]),b=()=>{const S=document.querySelector(".memos-sidebar-wrapper"),T=document.querySelector(".menu-btns-popup");T.style.top=70-S.scrollTop+"px",f(!0)};return y.jsxs("div",{className:"user-banner-container",children:[y.jsxs("div",{className:"userinfo-header-container",children:[y.jsxs("div",{className:"userinfo-container",onClick:()=>{t.setting.open(),t.setting.openTabById(r.id||"obsidian-memos")},children:[y.jsx("div",{ref:S=>{if(m){S==null||S.empty();return}m||S&&C.setIcon(S,"Memos")},className:"thino-user-icon",style:{backgroundImage:`url("${m}")`}}),y.jsxs("div",{className:"thino-user-info",children:[y.jsxs("span",{className:"username-container",children:[y.jsx("span",{"aria-label":a==="MEMO 😉"?"THINO 😉":a||"THINO",className:"username-text",onClick:v,children:a==="MEMO 😉"?"THINO 😉":a||"THINO"}),y.jsx("span",{className:`user-pro-badge ${n?"activated":""}`,onClick:()=>{t.setting.open(),t.setting.openTabById(r.id||"obsidian-memos")},children:"PRO"})]}),(e==null?void 0:e.MomentsQuote)&&y.jsx("span",{className:"thino-user-quote",children:e==null?void 0:e.MomentsQuote})]})]}),y.jsxs("span",{className:"btn-group",children:[(e==null?void 0:e.DefaultThemeForThino)==="modern"&&!i&&y.jsx(O3,{}),y.jsx("span",{ref:S=>{S&&S.hasChildNodes()||S&&C.setIcon(S,"more-horizontal")},className:"btn action-btn menu-popup-btn",onClick:b}),o&&y.jsx("span",{ref:S=>{S&&S.hasChildNodes()||S&&C.setIcon(S,"x")},className:"btn action-btn",onClick:()=>{ft.setShowSiderbarInMobileView(!1)}})]}),y.jsx(GF,{shownStatus:d,setShownStatus:f})]}),y.jsx(Z1,{statusType:"banner"})]})},EI=()=>{const{queryState:{queries:e},dailyNotesState:{app:t},locationState:{query:{filter:n}}}=F.useContext(Ot),r=$h(),[o,i]=F.useState([]);return F.useEffect(()=>{const a=e.filter(u=>{var d,f;return!((d=u.id)!=null&&d.toString().startsWith("Filter [Temp]"))&&!((f=u.id)!=null&&f.toString().includes("Filter [Temp]"))}).sort((u,d)=>{if(d.pinnedAt&&!u.pinnedAt)return 1;if(u.pinnedAt&&!d.pinnedAt)return-1;const f=lt.getTimeStampByDate(u.pinnedAt||u.createdAt);return lt.getTimeStampByDate(d.pinnedAt||d.createdAt)-f});i(a)},[e]),F.useEffect(()=>{Qt.getMyAllQueries().catch(()=>{}).finally(()=>{r.setFinish()})},[t]),y.jsxs("div",{className:"queries-wrapper",children:[y.jsxs("span",{className:"title-text",children:[y.jsx("span",{className:"normal-text",children:E("QUERY")}),y.jsx("span",{ref:a=>{a&&C.setIcon(a,"plus")},className:"btn create-query-btn",onClick:()=>b1()})]}),y.jsx(Aa,{when:r.isSucceed&&o.length===0,children:y.jsx("div",{className:"create-query-btn-container",children:y.jsx("span",{className:"btn",onClick:()=>b1(),children:E("CREATE FILTER")})})}),y.jsx("div",{className:"queries-container",children:o.map(a=>y.jsx(Qee,{query:a,isActive:a.id===n},`${a.id}-${C.moment(a.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}`))})]})},Qee=e=>{const{query:t,isActive:n}=e,[r,o]=ml(!1),[i,a]=ml(!1),u=()=>{at.setMemoFilter(n?"":t.id)},d=T=>{T.stopPropagation(),o()},f=()=>{o(!1)},m=async T=>{if(T.stopPropagation(),i)try{await Qt.deleteQuery(t.id)}catch(I){new C.Notice(I.message)}else a()},g=T=>{T.stopPropagation(),b1(t.id)},v=async T=>{T.stopPropagation();try{t.pinnedAt?await Qt.unpinQuery(t.id):await Qt.pinQuery(t.id),Qt.editQuery({...t,pinnedAt:t.pinnedAt?"":lt.getDateTimeString(Date.now())})}catch(I){console.error(I)}},b=()=>{a(!1)},S=F.useMemo(()=>y.jsxs("div",{className:"action-btns-container",children:[y.jsxs("span",{className:"btn",onClick:v,children:[y.jsx("span",{ref:T=>{T&&C.setIcon(T,t.pinnedAt?"pin-off":"pin")},className:"icon-text"}),y.jsx("span",{className:"normal-text",children:t.pinnedAt?E("UNPIN"):E("PIN")})]}),y.jsxs("span",{className:"btn",onClick:g,children:[y.jsx("span",{ref:T=>{T&&!T.hasChildNodes()&&C.setIcon(T,"edit")},className:"icon-text"}),y.jsx("span",{className:"normal-text",children:E("EDIT")})]}),y.jsxs("span",{className:`btn delete-btn ${i?"final-confirm":""}`,onClick:m,onMouseLeave:b,children:[y.jsx("span",{ref:T=>{T&&!T.hasChildNodes()&&C.setIcon(T,"trash-2")},className:"icon-text"}),y.jsx("span",{className:"normal-text",children:E(i?"CONFIRM！":"DELETE")})]})]}),[t.pinnedAt,i]);return y.jsx(y.Fragment,{children:y.jsxs("div",{className:`query-item-container ${n?"active":""}`,onClick:u,children:[y.jsxs("div",{className:"query-text-container",children:[y.jsx("span",{ref:T=>{T&&!T.hasChildNodes()&&C.setIcon(T,"filter")},className:"icon-text"}),y.jsxs("span",{className:"query-text",children:[t.title,t.pinnedAt&&" 📌"]})]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:T=>{T&&!T.hasChildNodes()&&C.setIcon(T,"more-horizontal")},className:"btn action-btn toggle-btn",onClick:d}),y.jsx("div",{className:`action-btns-wrapper ${r?"":"hidden"}`,onMouseLeave:f,children:S})]})]})})},CI=()=>{var v,b;const{locationState:{query:{tag:e,filter:t}},dailyNotesState:{app:n},memoState:{tags:r,tagsNum:o,memos:i}}=F.useContext(Ot),a=t&&((v=t==null?void 0:t.toString())==null?void 0:v.startsWith("Filter [Temp] "))&&Qt.getQueryById(t),[u,d]=F.useState([]),[f,m]=F.useState(((b=n||app)==null?void 0:b.loadLocalStorage("thino-tag-sort-order"))||"alphabetical");F.useEffect(()=>{var T;const S=(T=n||app)==null?void 0:T.loadLocalStorage("thino-temp-tags");d(S||[])},[]),F.useEffect(()=>{Re.updateTagsState()},[i]),F.useEffect(()=>{const S=Array.from(r).sort(),T={subTags:[]};for(const I of S){const k=I.split("/");let A=T,R="";for(let j=0;j<k.length;j++){const B=k[j];R+=j===0?B:"/"+B;let L=A.subTags.find(z=>z.text===R);if(L||(L={key:B,text:R,count:o[R]||0,subTags:[],parent:A},A.subTags.push(L)),j===k.length-1){let z=L.parent;for(;z;)z.count||(z.count=0),z.count+=o[R]||0,z=z.parent}A=L}}d(T.subTags)},[r]),F.useEffect(()=>{var S;Re.initialized&&((S=n||app)==null||S.saveLocalStorage("thino-temp-tags",u))},[u]);const g=S=>{S.stopPropagation();const T=new C.Menu;for(const I of["alphabetical","alphabeticalReverse","byCount","byCountReverse"])T.addItem(k=>{k.setTitle(E(I)).onClick(()=>{m(I),n==null||n.saveLocalStorage("thino-tag-sort-order",I)}).setChecked(f===I)}),I==="alphabeticalReverse"&&T.addSeparator();T.showAtMouseEvent(S.nativeEvent)};return y.jsxs("div",{className:"tags-wrapper",children:[y.jsxs("div",{className:"tags-header title-text",children:[y.jsx("span",{className:"normal-text",children:E("Frequently Used Tags")}),y.jsx("span",{ref:S=>{S&&C.setIcon(S,"arrow-down-narrow-wide")},className:"tags-sort-btn",onClick:g})]}),y.jsxs("div",{className:"tags-container",children:[u.sort(Xee(f)).map((S,T)=>y.jsx(j3,{tag:S,tagQuery:e,filterQuery:a},S.text+"-"+T)),y.jsx(Aa,{when:u.length<5&&Re.initialized,children:y.jsxs("span",{className:"tag-tip-container",children:[E("Input")," ",y.jsxs("span",{className:"code-text",children:[E("#Tag")," "]}),E("to create tag"),"..."]})})]})]})},j3=e=>{const{tag:t,tagQuery:n,filterQuery:r}=e,o=n===t.text||r&&JSON.parse(r.querystring).find(m=>m.type==="TAG"&&m.value.value===t.text),i=t.subTags.length>0,[a,u]=ml(!1),d=async m=>{var g;if(m.ctrlKey||m.metaKey){const{verifyState:v}=vt.getState(),b=!C.Platform.isDesktop&&await((g=window.Capacitor)==null?void 0:g.Plugins.Device.getId()),S=C.Platform.isDesktop?await er():b.identifier||b.uuid;if(!(v&&(v==null?void 0:v.appId)===S)){An();return}const I=at.getState().query.filter;if(I&&(I!=null&&I.startsWith("Filter [Temp] "))){const A=Qt.getQueryById(I).querystring,R=JSON.parse(A);let j;if(R.some(B=>B.type==="TAG"&&B.value.value===t.text)){if(j=R.filter(L=>L.value.value!==t.text),j.length===0){at.setMemoFilter("");return}const B=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{...j[0],relation:"AND"},...j.slice(1)]));Qt.pushQuery(B),at.setMemoFilter(B.id)}else{j=[...R,{type:"TAG",value:{value:t.text,operator:"CONTAIN"},relation:"OR"}];const B=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(j));Qt.pushQuery(B),at.setMemoFilter(B.id)}}else if(n){at.setTagQuery("");const k=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{type:"TAG",value:{value:n,operator:"CONTAIN"},relation:"AND"},{type:"TAG",value:{value:t.text,operator:"CONTAIN"},relation:"OR"}]));Qt.pushQuery(k),at.setMemoFilter(k.id)}else if(!n){const k=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{type:"TAG",value:{value:t.text,operator:"CONTAIN"},relation:"AND"}]));Qt.pushQuery(k),at.setMemoFilter(k.id)}lt.copyTextToClipboard(`#${t.text} `),["/","/recycle","/archive","/daily"].includes(at.getState().pathname)||at.setPathname("/");return}if(o){if(at.setTagQuery(""),r){const b=JSON.parse(r.querystring).filter(T=>T.value.value!==t.text);if(b.length===0){at.setMemoFilter("");return}const S=Qt.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify([{...b[0],relation:"AND"},...b.slice(1)]));Qt.pushQuery(S),at.setMemoFilter(S.id)}}else await lt.copyTextToClipboard(`#${t.text} `),["/","/recycle","/archive","/daily"].includes(at.getState().pathname)||at.setPathname("/"),at.setTagQuery(t.text)},f=m=>{m.stopPropagation(),u()};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:`tag-item-container ${o?"active":""}`,onClick:d,children:[y.jsxs("div",{className:"tag-text-container",children:[y.jsx("span",{ref:m=>{m&&C.setIcon(m,"hash")},className:"btn tag-btn"}),y.jsx("span",{className:"tag-text",children:t.key})]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{className:"tag-count",children:t.count}),i?y.jsx("span",{ref:m=>{m&&C.setIcon(m,"chevron-right")},className:`btn action-btn toggle-btn ${a?"shown":""}`,onClick:f}):null]})]}),i?y.jsx("div",{className:`subtags-container ${a?"":"hidden"}`,children:t.subTags.map((m,g)=>y.jsx(j3,{tag:m,tagQuery:n},m.text+"-"+g))}):null]})},MI=new Intl.Collator(void 0,{usage:"sort",sensitivity:"base",numeric:!0}).compare,bb={alphabetical:(e,t)=>MI(e.text,t.text),alphabeticalReverse:(e,t)=>-MI(e.text,t.text),byCount:(e,t)=>t.count-e.count,byCountReverse:(e,t)=>e.count-t.count},Xee=(e="byCount")=>bb.hasOwnProperty(e)?bb[e]:bb.alphabetical,kI=()=>{const{dailyNotesState:{app:e,settings:t,verifyState:n}}=F.useContext(Ot),r=[{name:E("Random Review"),path:"/review",iconID:"star"},{name:E("ARCHIVE"),path:"/archive",iconID:"archive"},{name:E("Recycle bin"),path:"/recycle",iconID:"recycle"}],o=F.useRef([]);return F.useEffect(()=>{o.current.forEach((i,a)=>{i&&C.setIcon(i,r[a].iconID)})},[t,o]),y.jsx(y.Fragment,{children:y.jsx("div",{className:"path-entry-wrapper",children:r.map((i,a)=>y.jsx(y.Fragment,{children:y.jsxs("div",{className:`path-entry-container ${at.getState().pathname===i.path?"active":""} ${t.DeleteThinoDirectly&&i.path==="/recycle"?"hidden":""} ${i.path==="/review"&&"pro"}`,onClick:async()=>{var f;const u=!C.Platform.isDesktop&&await((f=window.Capacitor)==null?void 0:f.Plugins.Device.getId()),d=C.Platform.isDesktop?await er():u.identifier||u.uuid;if(!n&&(n==null?void 0:n.appId)!==d&&i.path==="/review"){An();return}if(at.setPathname(i.path),i.path==="/review"&&at.getState().pathname==="/review"){e.workspace.trigger("refresh-review-memos");return}at.clearQuery()},children:[y.jsx("span",{ref:u=>o.current[a]=u,className:"path-entry-icon"}),y.jsx("span",{className:"path-entry-text",children:i.name})]},a)}))})})},NI=e=>{const{dailyNotesState:{settings:t},locationState:n,globalState:{isMobileView:r,showSiderbarInMobileView:o}}=F.useContext(Ot),i=F.useRef(null),a=F.useMemo(()=>u=>{var f,m,g;const d=ft.getState().showSiderbarInMobileView;if(!d){window.removeEventListener("click",a,{capture:!0});return}(f=i.current)!=null&&f.contains(u.target)||(g=(m=i.current)==null?void 0:m.parentNode)!=null&&g.contains(u.target)&&(d&&u.stopPropagation(),ft.setShowSiderbarInMobileView(!1),window.removeEventListener("click",a,{capture:!0}))},[]);return F.useEffect(()=>{ft.setShowSiderbarInMobileView(!1)},[n]),F.useEffect(()=>{o?document.body.classList.add(DD):document.body.classList.remove(DD)},[o]),F.useEffect(()=>{r&&o&&window.addEventListener("click",a,{capture:!0})},[r,o]),y.jsxs("aside",{className:Gn("memos-sidebar-wrapper",e.className),ref:i,children:[e.children,y.jsx(Kee,{}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="right"?y.jsx(Om,{}):null:y.jsx(Om,{}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="left"?y.jsxs(y.Fragment,{children:[y.jsx(kI,{}),y.jsx(EI,{}),y.jsx(Z1,{statusType:"sidebar"})]}):null:y.jsxs(y.Fragment,{children:[y.jsx(kI,{}),y.jsx(EI,{})]}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="right"?y.jsx(y.Fragment,{children:y.jsx(CI,{})}):null:y.jsx(y.Fragment,{children:y.jsx(CI,{})})]})},ete=()=>{const{dailyNotesState:{settings:e}}=F.useContext(Ot),[t,n]=se.useState(""),r=o=>{n(o.target.value)};return y.jsx("div",{className:"locked-screen-wrapper",children:y.jsxs("div",{className:"locked-screen-content",children:[y.jsx("div",{className:"locked-screen-header",children:y.jsx("div",{className:"locked-screen-header-title",children:E("Locked")})}),y.jsx("div",{className:"locked-screen-body",children:y.jsxs("div",{className:"locked-screen-body-content",children:[y.jsxs("div",{className:"locked-screen-body-content-text",children:[y.jsx("div",{className:"locked-screen-body-content-text-title",children:E("Thino is locked")}),y.jsx("div",{className:"locked-screen-body-content-text-desc",children:E("Please unlock Thino by input password")})]}),y.jsxs("div",{className:"locked-screen-body-content-inputer",children:[y.jsx("input",{onKeyDown:o=>{o.key==="Enter"&&((e==null?void 0:e.password)===t?ft.setLocked(!1):new C.Notice(E("Password is incorrect")))},onChange:r,value:t,type:"password",className:"locked-screen-body-content-input"}),y.jsx("button",{className:"locked-screen-body-content-btn",onClick:()=>{(e==null?void 0:e.password)===t?ft.setLocked(!1):new C.Notice(E("Password is incorrect"))},children:E("Unlock")})]})]})})]})})};class fd extends yC{fuzzySearchItemsOptimized(t,n){const r=C.prepareFuzzySearch(t);return n.map(o=>{const i=r(o.path);return i?{item:o,match:i,score:i.score}:null}).sort((o,i)=>(i==null?void 0:i.score)-(o==null?void 0:o.score)).filter(Boolean)}getSuggestions(t){const r=app.vault.getFiles().filter(i=>["png","jpg","jpeg","gif"].includes(i.extension)),o=t.toLowerCase();return this.fuzzySearchItemsOptimized(o,r).map(i=>i.item)}renderSuggestion(t,n){var i;const r=t.basename,o=((i=t.parent)==null?void 0:i.path)||"";n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:r}),n.createSpan({cls:"suggestion-path",text:o})}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}}const tte=e=>{const{dailyNotesState:{settings:t,app:n,plugin:r},globalState:{manifest:o}}=F.useContext(Ot),[i,a]=se.useState(0),[u,d]=se.useState(""),f=se.useRef(null),m=se.useRef(null),[g,v]=se.useState({enabled:!1,path:"",format:""});F.useEffect(()=>{if(i===2&&(t!=null&&t.EnabledLocationList.find(I=>I.value==="DAILY")))if(!Mm())v({enabled:!1,path:"",format:""});else{const I=oc().folder,k=oc().format;v({enabled:!0,path:I,format:k})}},[i]),F.useEffect(()=>{if(!(t!=null&&t.MomentsIcon)||!n){d("");return}const I=n.vault.adapter.getResourcePath(C.normalizePath(t.MomentsIcon));I&&!(t!=null&&t.MomentsIcon.startsWith("http"))?d(I):d(t==null?void 0:t.MomentsIcon)},[t==null?void 0:t.MomentsIcon,n]),F.useEffect(()=>{m&&(m.current=null)},[i]),F.useEffect(()=>{f.current&&(m.current||(m.current=new fd(f.current)))},[f.current]);const b=(I,k)=>{let A=r;A||(A=n.plugins.getPlugin("obsidian-memos")),A.settingTab.updateSettings(I,k)},S=F.useMemo(()=>{switch(i){case 0:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:E("Get started with Thino")}),y.jsx("p",{children:E("Set up your user info for Thino.")})]});case 1:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:E("Set theme for Thino")}),y.jsx("p",{children:E("Choose a theme for Thino.")})]});case 2:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:E("Go with daily note plugin")}),y.jsx("p",{children:E("If you are using the Thino basic version, enabling the daily note plugin is required. Configure its settings to work effectively with it.")})]});case 3:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:E("Set preferences for using Thino")}),y.jsx("p",{children:E("Adjust settings that influence your user experience with Thino.")})]});case 4:return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:E("Congrats! All settings done")}),y.jsx("p",{children:E("Go and enjoy Thino")})]})}},[i]),T=()=>{switch(i){case 0:return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"thino-user-preview-wrapper",children:y.jsxs("div",{className:"userinfo-container",onClick:()=>{n.setting.open(),n.setting.openTabById(o.id||"obsidian-memos")},children:[y.jsx("div",{ref:I=>{if(t!=null&&t.MomentsIcon){I==null||I.empty();return}t!=null&&t.MomentsIcon||I&&C.setIcon(I,"Memos")},className:"thino-user-icon",style:{backgroundImage:`url("${u}")`}}),y.jsxs("div",{className:"thino-user-info",children:[y.jsx("span",{className:"username-container",children:y.jsx("span",{"aria-label":(t==null?void 0:t.UserName)==="MEMO 😉"?"THINO 😉":(t==null?void 0:t.UserName)||"THINO",className:"username-text",children:(t==null?void 0:t.UserName)==="MEMO 😉"?"THINO 😉":(t==null?void 0:t.UserName)||"THINO"})}),(t==null?void 0:t.MomentsQuote)&&y.jsx("span",{className:"thino-user-quote",children:t==null?void 0:t.MomentsQuote})]})]})}),y.jsxs("div",{className:"thino-user-info-wrapper",children:[y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("User name")}),y.jsx("div",{className:"setting-item-description",children:E("Set your user name here. 'Memos 😏' By default")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"Thino 😏",defaultValue:t==null?void 0:t.UserName,onInput:I=>b("UserName",I.currentTarget.value)})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("User quote")}),y.jsx("div",{className:"setting-item-description",children:E("Set user quote for thino")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"Share thino with the world",defaultValue:t==null?void 0:t.MomentsQuote,onInput:I=>b("MomentsQuote",I.currentTarget.value)})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("User icon")}),y.jsx("div",{className:"setting-item-description",children:E("Set user icon for thino. You can input http/https link or file path in vault.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",ref:f,placeholder:"Input url or file path",defaultValue:t==null?void 0:t.MomentsIcon,onInput:I=>b("MomentsIcon",I.currentTarget.value)})})]})]})]});case 1:return y.jsx(y.Fragment,{children:y.jsxs("div",{className:Gn("theme-selector-group","selected"),children:[y.jsxs("div",{className:Gn("theme-selector",(t==null?void 0:t.DefaultThemeForThino)==="modern"?"selected":""),onClick:()=>b("DefaultThemeForThino","modern"),children:[y.jsxs("div",{className:"theme-selector-header-component",children:[y.jsx("div",{className:"theme-selector-header",children:E("Modern")}),y.jsx("div",{className:"theme-selector-description",children:E("A modern theme for Thino with a three-column layout and some unique features.")})]}),y.jsxs("div",{className:"theme-selector-content",children:[y.jsx("div",{className:"left-column column-component"}),y.jsx("div",{className:"center-column column-component"}),y.jsx("div",{className:"right-column column-component"})]}),y.jsx("div",{className:"theme-selector-footer",children:y.jsx("button",{className:"mod-cta",disabled:(t==null?void 0:t.DefaultThemeForThino)==="modern",onClick:()=>b("DefaultThemeForThino","modern"),children:(t==null?void 0:t.DefaultThemeForThino)==="modern"?E("Selected"):E("Select")})})]}),y.jsxs("div",{className:Gn("theme-selector",(t==null?void 0:t.DefaultThemeForThino)==="classic"?"selected":""),onClick:()=>b("DefaultThemeForThino","classic"),children:[y.jsxs("div",{className:"theme-selector-header-component",children:[y.jsx("div",{className:"theme-selector-header",children:E("Classic")}),y.jsx("div",{className:"theme-selector-description",children:E("A classic theme for Thino with a two-column layout")})]}),y.jsxs("div",{className:"theme-selector-content",children:[y.jsx("div",{className:"left-column column-component"}),y.jsx("div",{className:"center-column column-component"})]}),y.jsx("div",{className:"theme-selector-footer",children:y.jsx("button",{className:"mod-cta",disabled:(t==null?void 0:t.DefaultThemeForThino)==="classic",onClick:()=>b("DefaultThemeForThino","classic"),children:(t==null?void 0:t.DefaultThemeForThino)==="classic"?E("Selected"):E("Select")})})]})]})});case 2:return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"daily-note-plugin-status",children:[y.jsxs("div",{className:"daily-note-plugin-status-header",children:[y.jsx("div",{className:"plugin-status-header",children:E("Daily note plugin")}),y.jsx("div",{className:"plugin-status-description",children:E("Enable daily note plugin")})]}),y.jsx("div",{className:"daily-note-plugin-status-content",children:g.enabled&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"daily-note-format",children:[y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Daily note name format")}),y.jsx("div",{className:"setting-item-description",children:E("Set daily note name format")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"YYYY-MM-DD",defaultValue:g.format,onInput:I=>{v({...g,format:I.currentTarget.value.trim()});try{const k=n.internalPlugins.getPluginById("daily-notes");k.instance.options={...k.instance.options,format:I.currentTarget.value.trim()},k.saveData({...k.instance.options,format:I.currentTarget.value.trim()})}catch(k){console.error(k)}}})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Daily notes folder")}),y.jsx("div",{className:"setting-item-description",children:E("Set daily notes folder")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"YYYY-MM-DD",defaultValue:g.path,onInput:I=>{v({...g,path:I.currentTarget.value.trim()});try{const k=n.internalPlugins.getPluginById("daily-notes");k.instance.options={...k.instance.options,folder:I.currentTarget.value.trim()},k.saveData({...k.instance.options,folder:I.currentTarget.value.trim()})}catch(k){console.error(k)}}})})]})]})})}),y.jsxs("div",{className:"daily-note-plugin-status-footer",children:[!g.enabled&&y.jsx("div",{className:"notice-click",children:E("Click to enable =>")}),y.jsx("button",{className:"mod-cta",disabled:g.enabled,onClick:()=>{if(!g.enabled){n.internalPlugins.getPluginById("daily-notes").enable();const I=oc().folder,k=oc().format;v({enabled:!0,format:k,path:I})}},children:g.enabled?E("Enabled"):E("Enable")})]})]}),y.jsxs("div",{className:"thino-daily-settings-wrapper",children:[y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Default time prefix")}),y.jsx("div",{className:"setting-item-description",children:E("Set default time prefix for thino in daily notes.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.DefaultTimePrefix,onChange:I=>b("DefaultTimePrefix",I.currentTarget.value),children:[y.jsx("option",{value:"HH:mm",children:"HH:mm"}),y.jsx("option",{value:"HH:mm:ss",children:"HH:mm:ss"})]})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Set thino insert place")}),y.jsx("div",{className:"setting-item-description",children:E("Set where to insert thino content")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.InsertType,onChange:I=>b("InsertType",I.currentTarget.value),children:[y.jsx("option",{value:"end",children:E("End of the diary")}),y.jsx("option",{value:"custom",children:E("Custom location")})]})})]}),(t==null?void 0:t.InsertType)==="custom"&&y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Insert after heading")}),y.jsx("div",{className:"setting-item-description",children:E("If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"# Heading",defaultValue:t==null?void 0:t.InsertAfter,onInput:I=>b("InsertAfter",I.currentTarget.value)})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Set process target")}),y.jsx("div",{className:"setting-item-description",children:E("You can set whole diary or only part of it")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.ProcessContentTarget,onChange:I=>b("ProcessContentTarget",I.currentTarget.value),children:[y.jsx("option",{value:"custom",children:E("Custom")}),y.jsx("option",{value:"whole",children:E("Whole diary")})]})})]}),(t==null?void 0:t.ProcessContentTarget)==="custom"&&y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Process Memos below")}),y.jsx("div",{className:"setting-item-description",children:E("If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsx("input",{type:"text",placeholder:"# Heading",defaultValue:t==null?void 0:t.ProcessEntriesBelow,onInput:I=>b("ProcessEntriesBelow",I.currentTarget.value)})})]})]})]});case 3:return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"thino-custom-settings-wrapper",children:[y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Default prefix when save thino")}),y.jsx("div",{className:"setting-item-description",children:E("Set the default prefix when create memo, 'List' by default.")})]}),y.jsx("div",{className:"setting-item-control",children:y.jsxs("select",{className:"dropdown",defaultValue:t==null?void 0:t.DefaultPrefix,onChange:I=>b("DefaultPrefix",I.currentTarget.value),children:[y.jsx("option",{value:"List",children:E("List")}),y.jsx("option",{value:"Task",children:E("Task")})]})})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Use Tags In Vault")}),y.jsx("div",{className:"setting-item-description",children:E("Use tags in vault rather than only in Memos. False by default.")})]}),y.jsx("div",{className:"setting-item-control",ref:I=>{I&&(I.hasChildNodes()||new C.ToggleComponent(I).setValue((t==null?void 0:t.UseVaultTags)===void 0?!1:t==null?void 0:t.UseVaultTags).onChange(k=>{b("UseVaultTags",k)}))}})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-info",children:[y.jsx("div",{className:"setting-item-name",children:E("Delete Thino Directly")}),y.jsx("div",{className:"setting-item-description",children:E("When delete thino directly, it will not be moved to trash. False by default.")})]}),y.jsx("div",{className:"setting-item-control",ref:I=>{I&&(I.hasChildNodes()||new C.ToggleComponent(I).setValue((t==null?void 0:t.DeleteThinoDirectly)===void 0?!1:t==null?void 0:t.DeleteThinoDirectly).onChange(k=>{b("DeleteThinoDirectly",k)}))}})]})]})});case 4:return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"thino-congrats",children:[y.jsxs("div",{className:"final-congrats-text",children:[y.jsx("p",{className:"ready-use",children:E("Thino is ready to use. ")}),y.jsx("p",{className:"start-to-use",children:E("You can start using Thino now. If you want to know more about Thino Pro, click the button below.")})]}),y.jsxs("div",{className:"next-btns-group",children:[y.jsx("button",{onClick:()=>{const I=localStorage.getItem("language");I&&(I==="zh"||I==="zh-TW")?window.open("https://pkmer.cn/products/thino"):window.open("https://thino.pkmer.net/en/#price")},children:E("About Thino Pro")}),y.jsx("button",{className:"mod-cta",onClick:()=>{b("FirstLoaded",!1),ft.getState().isMobileView?(setTimeout(()=>{ft.setShowSiderbarInMobileView(!0)},500),setTimeout(()=>{ft.setExitSteps(!0)},1e3)):setTimeout(()=>{ft.setExitSteps(!0)},800)},children:E("Start Thino")})]})]})})}};return y.jsx(y.Fragment,{children:y.jsx("div",{className:"onboarding-view-container",children:y.jsx("div",{className:"onboarding-view-wrapper",children:y.jsxs("div",{"data-onboarding-step":i,className:"onboarding-view-content",children:[y.jsxs("div",{className:"onboarding-step-count",children:[i+1,"/5"]}),y.jsxs("div",{className:"onboarding-view-details",children:[y.jsxs("div",{className:"details-content",children:[y.jsx("div",{className:"onboarding-header-group",children:S}),y.jsx(y.Fragment,{children:y.jsx("div",{className:"onboarding-form",children:T()})})]}),y.jsxs("div",{className:"details-footer",children:[y.jsx("div",{className:"skip-btn",children:i!==4&&y.jsx("button",{onClick:()=>{b("FirstLoaded",!1)},children:E("Skip and start Thino")})}),y.jsxs("div",{className:"navigate-btns-group",children:[i!==0&&y.jsx("button",{onClick:()=>a(i-1),children:E("Back to previous step")}),i!==4&&y.jsx("button",{className:"mod-cta",onClick:()=>a(i+1),children:E("Next step")}),i===4&&y.jsx("button",{className:"details-settings-btn",onClick:()=>{n.setting.open(),n.setting.openTabById(o.id||"obsidian-memos")},children:E("Details settings")})]})]})]})]})})})})};function Zv(e){return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function Fn(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(f){try{d(r.next(f))}catch(m){i(m)}}function u(f){try{d(r.throw(f))}catch(m){i(m)}}function d(f){var m;f.done?o(f.value):(m=f.value,m instanceof n?m:new n(function(g){g(m)})).then(a,u)}d((r=r.apply(e,t||[])).next())})}function Pn(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function u(d){return function(f){return function(m){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,m[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&m[0]?r.return:m[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,m[1])).done)return o;switch(r=0,o&&(m=[2&m[0],o.value]),m[0]){case 0:case 1:o=m;break;case 4:return a.label++,{value:m[1],done:!1};case 5:a.label++,r=m[1],m=[0];continue;case 7:m=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!((o=o.length>0&&o[o.length-1])||m[0]!==6&&m[0]!==2)){a=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){a.label=m[1];break}if(m[0]===6&&a.label<o[1]){a.label=o[1],o=m;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(m);break}o[2]&&a.ops.pop(),a.trys.pop();continue}m=t.call(e,a)}catch(g){m=[6,g],r=0}finally{n=o=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([d,f])}}}function AI(e,t,n){var r,o=((r={})[e]=t,r.path="/",r.expires=void 0,r);if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o.expires=i.toUTCString()}var a=[];for(var u in o)a.push("".concat(u,"=").concat(o[u]));return document.cookie=a.join("; "),L3(e)}function L3(e){return(t={},document.cookie.split(";").forEach(function(n){var r=n.split("="),o=r[0],i=r[1];t[o.trim()]=i}),t)[e];var t}function nte(e,t){t?AI(e._options.dontShowAgainCookie,"true",e._options.dontShowAgainCookieDays):AI(e._options.dontShowAgainCookie,"",-1)}var Zy,S1=(Zy={},function(e,t){return t===void 0&&(t="introjs-stamp"),Zy[t]=Zy[t]||0,e[t]===void 0&&(e[t]=Zy[t]++),e[t]}),pl=new(function(){function e(){this.events_key="introjs_event"}return e.prototype._id=function(t,n,r){return t+S1(n)+(r?"_".concat(S1(r)):"")},e.prototype.on=function(t,n,r,o,i){var a=this._id(n,r,o),u=function(d){return r(o||t,d||window.event)};"addEventListener"in t?t.addEventListener(n,u,i):"attachEvent"in t&&t.attachEvent("on".concat(n),u),t[this.events_key]=t[this.events_key]||{},t[this.events_key][a]=u},e.prototype.off=function(t,n,r,o,i){var a=this._id(n,r,o),u=t[this.events_key]&&t[this.events_key][a];u&&("removeEventListener"in t?t.removeEventListener(n,u,i):"detachEvent"in t&&t.detachEvent("on".concat(n),u),t[this.events_key][a]=null)},e}()),$n=function(e){return typeof e=="function"};function dl(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";n.match(t)||e.setAttribute("class","".concat(n," ").concat(t))}else if(e.classList!==void 0)for(var r=0,o=t.split(" ");r<o.length;r++){var i=o[r];e.classList.add(i)}else e.className.match(t)||(e.className+=" ".concat(t))}function US(e,t){var n="";return"currentStyle"in e?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function FI(e,t){if(e){var n=function(r){var o=window.getComputedStyle(r),i=o.position==="absolute",a=/(auto|scroll)/;if(o.position==="fixed")return document.body;for(var u=r;u=u.parentElement;)if(o=window.getComputedStyle(u),(!i||o.position!=="static")&&a.test(o.overflow+o.overflowY+o.overflowX))return u;return document.body}(t);n!==document.body&&(n.scrollTop=t.offsetTop-n.offsetTop)}}function zS(){if(window.innerWidth!==void 0)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function PI(e,t,n,r,o){var i;if(t!=="off"&&e&&(i=t==="tooltip"?o.getBoundingClientRect():r.getBoundingClientRect(),!function(u){var d=u.getBoundingClientRect();return d.top>=0&&d.left>=0&&d.bottom+80<=window.innerHeight&&d.right<=window.innerWidth}(r))){var a=zS().height;i.bottom-(i.bottom-i.top)<0||r.clientHeight>a?window.scrollBy(0,i.top-(a/2-i.height/2)-n):window.scrollBy(0,i.top-(a/2-i.height/2)+n)}}function xm(e){e.setAttribute("role","button"),e.tabIndex=0}function H0(e){var t=e.parentElement;return!(!t||t.nodeName==="HTML")&&(US(e,"position")==="fixed"||H0(t))}function Ih(e,t){var n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft;t=t||n;var a=e.getBoundingClientRect(),u=t.getBoundingClientRect(),d=US(t,"position"),f={width:a.width,height:a.height};return t.tagName.toLowerCase()!=="body"&&d==="relative"||d==="sticky"?Object.assign(f,{top:a.top-u.top,left:a.left-u.left}):H0(e)?Object.assign(f,{top:a.top,left:a.left}):Object.assign(f,{top:a.top+o,left:a.left+i})}function VS(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";e.setAttribute("class",n.replace(t,"").replace(/^\s+|\s+$/g,""))}else e.className=e.className.replace(t,"").replace(/^\s+|\s+$/g,"")}function fc(e,t){var n="";if(e.style.cssText&&(n+=e.style.cssText),typeof t=="string")n+=t;else for(var r in t)n+="".concat(r,":").concat(t[r],";");e.style.cssText=n}function Xl(e,t,n){if(n&&t){var r=Ih(t.element,e._targetElement),o=e._options.helperElementPadding;t.element instanceof Element&&H0(t.element)?dl(n,"introjs-fixedTooltip"):VS(n,"introjs-fixedTooltip"),t.position==="floating"&&(o=0),fc(n,{width:"".concat(r.width+o,"px"),height:"".concat(r.height+o,"px"),top:"".concat(r.top-o/2,"px"),left:"".concat(r.left-o/2,"px")})}}function $y(e,t,n,r,o){return e.left+t+n.width>r.width?(o.style.left="".concat(r.width-n.width-e.left,"px"),!1):(o.style.left="".concat(t,"px"),!0)}function qy(e,t,n,r){return e.left+e.width-t-n.width<0?(r.style.left="".concat(-e.left,"px"),!1):(r.style.right="".concat(t,"px"),!0)}function tl(e,t){e.includes(t)&&e.splice(e.indexOf(t),1)}function rte(e,t,n,r){var o=e.slice(),i=zS(),a=Ih(n).height+10,u=Ih(n).width+20,d=t.getBoundingClientRect(),f="floating";if(d.bottom+a>i.height&&tl(o,"bottom"),d.top-a<0&&tl(o,"top"),d.right+u>i.width&&tl(o,"right"),d.left-u<0&&tl(o,"left"),r&&(r=r.split("-")[0]),o.length&&(f=o[0],o.includes(r)&&(f=r)),f==="top"||f==="bottom"){var m=void 0,g=[];f==="top"?(m="top-middle-aligned",g=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(m="bottom-middle-aligned",g=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),f=function(v,b,S,T){var I=b/2,k=Math.min(S,window.screen.width);return k-v<b&&(tl(T,"top-left-aligned"),tl(T,"bottom-left-aligned")),(v<I||k-v<I)&&(tl(T,"top-middle-aligned"),tl(T,"bottom-middle-aligned")),v<b&&(tl(T,"top-right-aligned"),tl(T,"bottom-right-aligned")),T.length?T[0]:null}(d.left,u,i.width,g)||m}return f}function $v(e,t,n,r,o){if(o===void 0&&(o=!1),t){var i,a,u,d,f="";n.style.top="",n.style.right="",n.style.bottom="",n.style.left="",n.style.marginLeft="",n.style.marginTop="",r.style.display="inherit",f=typeof t.tooltipClass=="string"?t.tooltipClass:e._options.tooltipClass,n.className=["introjs-tooltip",f].filter(Boolean).join(" "),n.setAttribute("role","dialog"),(d=t.position)!=="floating"&&e._options.autoPosition&&(d=rte(e._options.positionPrecedence,t.element,n,d)),a=Ih(t.element),i=Ih(n),u=zS(),dl(n,"introjs-".concat(d));var m=a.width/2-i.width/2;switch(d){case"top-right-aligned":r.className="introjs-arrow bottom-right";var g=0;qy(a,g,i,n),n.style.bottom="".concat(a.height+20,"px");break;case"top-middle-aligned":r.className="introjs-arrow bottom-middle",o&&(m+=5),qy(a,m,i,n)&&(n.style.right="",$y(a,m,i,u,n)),n.style.bottom="".concat(a.height+20,"px");break;case"top-left-aligned":case"top":r.className="introjs-arrow bottom",$y(a,o?0:15,i,u,n),n.style.bottom="".concat(a.height+20,"px");break;case"right":n.style.left="".concat(a.width+20,"px"),a.top+i.height>u.height?(r.className="introjs-arrow left-bottom",n.style.top="-".concat(i.height-a.height-20,"px")):r.className="introjs-arrow left";break;case"left":o||e._options.showStepNumbers!==!0||(n.style.top="15px"),a.top+i.height>u.height?(n.style.top="-".concat(i.height-a.height-20,"px"),r.className="introjs-arrow right-bottom"):r.className="introjs-arrow right",n.style.right="".concat(a.width+20,"px");break;case"floating":r.style.display="none",n.style.left="50%",n.style.top="50%",n.style.marginLeft="-".concat(i.width/2,"px"),n.style.marginTop="-".concat(i.height/2,"px");break;case"bottom-right-aligned":r.className="introjs-arrow top-right",qy(a,g=0,i,n),n.style.top="".concat(a.height+20,"px");break;case"bottom-middle-aligned":r.className="introjs-arrow top-middle",o&&(m+=5),qy(a,m,i,n)&&(n.style.right="",$y(a,m,i,u,n)),n.style.top="".concat(a.height+20,"px");break;default:r.className="introjs-arrow top",$y(a,0,i,u,n),n.style.top="".concat(a.height+20,"px")}}}function R3(){for(var e=0,t=Array.from(document.querySelectorAll(".introjs-showElement"));e<t.length;e++)VS(t[e],/introjs-[a-zA-Z]+/g)}function yn(e,t){var n=document.createElement(e);t=t||{};var r=/^(?:role|data-|aria-)/;for(var o in t){var i=t[o];o==="style"&&typeof i!="function"?fc(n,i):typeof i=="string"&&o.match(r)?n.setAttribute(o,i):n[o]=i}return n}function OI(e,t,n){if(n===void 0&&(n=!1),n){var r=t.style.opacity||"1";fc(t,{opacity:"0"}),window.setTimeout(function(){fc(t,{opacity:r})},10)}e.appendChild(t)}function _3(e,t){return(e+1)/t*100}function B3(e,t){var n=yn("div",{className:"introjs-bullets"});e._options.showBullets===!1&&(n.style.display="none");var r=yn("ul");r.setAttribute("role","tablist");for(var o=function(){var f=this.getAttribute("data-step-number");f!=null&&e.goToStep(parseInt(f,10))},i=0;i<e._introItems.length;i++){var a=e._introItems[i].step,u=yn("li"),d=yn("a");u.setAttribute("role","presentation"),d.setAttribute("role","tab"),d.onclick=o,i===t.step-1&&(d.className="active"),xm(d),d.innerHTML="&nbsp;",d.setAttribute("data-step-number",a.toString()),u.appendChild(d),r.appendChild(u)}return n.appendChild(r),n}function H3(e,t,n){var r=e.querySelector(".introjs-progress .introjs-progressbar");if(r){var o=_3(t,n);r.style.cssText="width:".concat(o,"%;"),r.setAttribute("aria-valuenow",o.toString())}}function Y3(e,t){return Fn(this,void 0,void 0,function(){var n,r,o,i,a,u,d,f,m,g,v,b,S,T,I,k,A,R,j,B,L,z,U,W,Z=this;return Pn(this,function(re){switch(re.label){case 0:return $n(e._introChangeCallback)?[4,e._introChangeCallback.call(e,t.element)]:[3,2];case 1:re.sent(),re.label=2;case 2:return n=document.querySelector(".introjs-helperLayer"),r=document.querySelector(".introjs-tooltipReferenceLayer"),o="introjs-helperLayer",typeof t.highlightClass=="string"&&(o+=" ".concat(t.highlightClass)),typeof e._options.highlightClass=="string"&&(o+=" ".concat(e._options.highlightClass)),n!==null&&r!==null?(d=r.querySelector(".introjs-helperNumberLayer"),f=r.querySelector(".introjs-tooltiptext"),m=r.querySelector(".introjs-tooltip-title"),g=r.querySelector(".introjs-arrow"),v=r.querySelector(".introjs-tooltip"),u=r.querySelector(".introjs-skipbutton"),a=r.querySelector(".introjs-prevbutton"),i=r.querySelector(".introjs-nextbutton"),n.className=o,v.style.opacity="0",v.style.display="none",FI(e._options.scrollToElement,t.element),Xl(e,t,n),Xl(e,t,r),R3(),e._lastShowElementTimer&&window.clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=window.setTimeout(function(){d!==null&&(d.innerHTML="".concat(t.step," ").concat(e._options.stepNumbersOfLabel," ").concat(e._introItems.length)),f.innerHTML=t.intro||"",m.innerHTML=t.title||"",v.style.display="block",$v(e,t,v,g),function(Q,ce,ee){if(Q){var fe=ce.querySelector(".introjs-bullets li > a.active"),$=ce.querySelector('.introjs-bullets li > a[data-step-number="'.concat(ee.step,'"]'));fe&&$&&(fe.className="",$.className="active")}}(e._options.showBullets,r,t),H3(r,e._currentStep,e._introItems.length),v.style.opacity="1",(i!=null&&/introjs-donebutton/gi.test(i.className)||i!=null)&&i.focus(),PI(e._options.scrollToElement,t.scrollTo,e._options.scrollPadding,t.element,f)},350)):(b=yn("div",{className:o}),S=yn("div",{className:"introjs-tooltipReferenceLayer"}),T=yn("div",{className:"introjs-arrow"}),I=yn("div",{className:"introjs-tooltip"}),k=yn("div",{className:"introjs-tooltiptext"}),A=yn("div",{className:"introjs-tooltip-header"}),R=yn("h1",{className:"introjs-tooltip-title"}),j=yn("div"),fc(b,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(e._options.overlayOpacity.toString(),") 0 0 0 5000px")}),FI(e._options.scrollToElement,t.element),Xl(e,t,b),Xl(e,t,S),OI(e._targetElement,b,!0),OI(e._targetElement,S),k.innerHTML=t.intro,R.innerHTML=t.title,j.className="introjs-tooltipbuttons",e._options.showButtons===!1&&(j.style.display="none"),A.appendChild(R),I.appendChild(A),I.appendChild(k),e._options.dontShowAgain&&(B=yn("div",{className:"introjs-dontShowAgain"}),(L=yn("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(Q){e.setDontShowAgain(Q.target.checked)},(z=yn("label",{htmlFor:"introjs-dontShowAgain"})).innerText=e._options.dontShowAgainLabel,B.appendChild(L),B.appendChild(z),I.appendChild(B)),I.appendChild(B3(e,t)),I.appendChild(function(Q){var ce=yn("div");ce.className="introjs-progress",Q._options.showProgress===!1&&(ce.style.display="none");var ee=yn("div",{className:"introjs-progressbar"});Q._options.progressBarAdditionalClass&&(ee.className+=" "+Q._options.progressBarAdditionalClass);var fe=_3(Q._currentStep,Q._introItems.length);return ee.setAttribute("role","progress"),ee.setAttribute("aria-valuemin","0"),ee.setAttribute("aria-valuemax","100"),ee.setAttribute("aria-valuenow",fe.toString()),ee.style.cssText="width:".concat(fe,"%;"),ce.appendChild(ee),ce}(e)),U=yn("div"),e._options.showStepNumbers===!0&&(U.className="introjs-helperNumberLayer",U.innerHTML="".concat(t.step," ").concat(e._options.stepNumbersOfLabel," ").concat(e._introItems.length),I.appendChild(U)),I.appendChild(T),S.appendChild(I),(i=yn("a")).onclick=function(){return Fn(Z,void 0,void 0,function(){return Pn(this,function(Q){switch(Q.label){case 0:return e._introItems.length-1===e._currentStep?[3,2]:[4,Nd(e)];case 1:return Q.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(i.className)?$n(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"done")]:[3,4]:[3,6];case 3:Q.sent(),Q.label=4;case 4:return[4,Ad(e,e._targetElement)];case 5:Q.sent(),Q.label=6;case 6:return[2]}})})},xm(i),i.innerHTML=e._options.nextLabel,(a=yn("a")).onclick=function(){return Fn(Z,void 0,void 0,function(){return Pn(this,function(Q){switch(Q.label){case 0:return e._currentStep>0?[4,qv(e)]:[3,2];case 1:Q.sent(),Q.label=2;case 2:return[2]}})})},xm(a),a.innerHTML=e._options.prevLabel,xm(u=yn("a",{className:"introjs-skipbutton"})),u.innerHTML=e._options.skipLabel,u.onclick=function(){return Fn(Z,void 0,void 0,function(){return Pn(this,function(Q){switch(Q.label){case 0:return e._introItems.length-1===e._currentStep&&$n(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"skip")]:[3,2];case 1:Q.sent(),Q.label=2;case 2:return $n(e._introSkipCallback)?[4,e._introSkipCallback.call(e,e._currentStep)]:[3,4];case 3:Q.sent(),Q.label=4;case 4:return[4,Ad(e,e._targetElement)];case 5:return Q.sent(),[2]}})})},A.appendChild(u),e._introItems.length>1&&j.appendChild(a),j.appendChild(i),I.appendChild(j),$v(e,t,I,T),PI(e._options.scrollToElement,t.scrollTo,e._options.scrollPadding,t.element,I)),(W=e._targetElement.querySelector(".introjs-disableInteraction"))&&W.parentNode&&W.parentNode.removeChild(W),t.disableInteraction&&function(Q,ce){var ee=document.querySelector(".introjs-disableInteraction");ee===null&&(ee=yn("div",{className:"introjs-disableInteraction"}),Q._targetElement.appendChild(ee)),Xl(Q,ce,ee)}(e,t),e._currentStep===0&&e._introItems.length>1?(i!=null&&(i.className="".concat(e._options.buttonClass," introjs-nextbutton"),i.innerHTML=e._options.nextLabel),e._options.hidePrev===!0?(a!=null&&(a.className="".concat(e._options.buttonClass," introjs-prevbutton introjs-hidden")),i!=null&&dl(i,"introjs-fullbutton")):a!=null&&(a.className="".concat(e._options.buttonClass," introjs-prevbutton introjs-disabled"))):e._introItems.length-1===e._currentStep||e._introItems.length===1?(a!=null&&(a.className="".concat(e._options.buttonClass," introjs-prevbutton")),e._options.hideNext===!0?(i!=null&&(i.className="".concat(e._options.buttonClass," introjs-nextbutton introjs-hidden")),a!=null&&dl(a,"introjs-fullbutton")):i!=null&&(e._options.nextToDone===!0?(i.innerHTML=e._options.doneLabel,dl(i,"".concat(e._options.buttonClass," introjs-nextbutton introjs-donebutton"))):i.className="".concat(e._options.buttonClass," introjs-nextbutton introjs-disabled"))):(a!=null&&(a.className="".concat(e._options.buttonClass," introjs-prevbutton")),i!=null&&(i.className="".concat(e._options.buttonClass," introjs-nextbutton"),i.innerHTML=e._options.nextLabel)),a!=null&&a.setAttribute("role","button"),i!=null&&i.setAttribute("role","button"),u!=null&&u.setAttribute("role","button"),i!=null&&i.focus(),function(Q){dl(Q,"introjs-showElement");var ce=US(Q,"position");ce!=="absolute"&&ce!=="relative"&&ce!=="sticky"&&ce!=="fixed"&&dl(Q,"introjs-relativePosition")}(t.element),$n(e._introAfterChangeCallback)?[4,e._introAfterChangeCallback.call(e,t.element)]:[3,4];case 3:re.sent(),re.label=4;case 4:return[2]}})})}function ote(e,t){return Fn(this,void 0,void 0,function(){return Pn(this,function(n){switch(n.label){case 0:return e._currentStep=t-2,e._introItems===void 0?[3,2]:[4,Nd(e)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function ite(e,t){return Fn(this,void 0,void 0,function(){return Pn(this,function(n){switch(n.label){case 0:return e._currentStepNumber=t,e._introItems===void 0?[3,2]:[4,Nd(e)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function Nd(e){return Fn(this,void 0,void 0,function(){var t,n,r;return Pn(this,function(o){switch(o.label){case 0:if(e._direction="forward",e._currentStepNumber!==void 0)for(t=0;t<e._introItems.length;t++)e._introItems[t].step===e._currentStepNumber&&(e._currentStep=t-1,e._currentStepNumber=void 0);return e._currentStep===-1?e._currentStep=0:++e._currentStep,n=e._introItems[e._currentStep],r=!0,$n(e._introBeforeChangeCallback)?[4,e._introBeforeChangeCallback.call(e,n&&n.element,e._currentStep,e._direction)]:[3,2];case 1:r=o.sent(),o.label=2;case 2:return r===!1?(--e._currentStep,[2,!1]):e._introItems.length<=e._currentStep?$n(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"end")]:[3,4]:[3,6];case 3:o.sent(),o.label=4;case 4:return[4,Ad(e,e._targetElement)];case 5:return o.sent(),[2,!1];case 6:return[4,Y3(e,n)];case 7:return o.sent(),[2,!0]}})})}function qv(e){return Fn(this,void 0,void 0,function(){var t,n;return Pn(this,function(r){switch(r.label){case 0:return e._direction="backward",e._currentStep<=0?[2,!1]:(--e._currentStep,t=e._introItems[e._currentStep],n=!0,$n(e._introBeforeChangeCallback)?[4,e._introBeforeChangeCallback.call(e,t&&t.element,e._currentStep,e._direction)]:[3,2]);case 1:n=r.sent(),r.label=2;case 2:return n===!1?(++e._currentStep,[2,!1]):[4,Y3(e,t)];case 3:return r.sent(),[2,!0]}})})}function U3(e,t){return Fn(this,void 0,void 0,function(){var n,r;return Pn(this,function(o){switch(o.label){case 0:return(n=t.code===void 0?t.which:t.code)===null&&(n=t.charCode===null?t.keyCode:t.charCode),n!=="Escape"&&n!==27||e._options.exitOnEsc!==!0?[3,2]:[4,Ad(e,e._targetElement)];case 1:return o.sent(),[3,16];case 2:return n!=="ArrowLeft"&&n!==37?[3,4]:[4,qv(e)];case 3:return o.sent(),[3,16];case 4:return n!=="ArrowRight"&&n!==39?[3,6]:[4,Nd(e)];case 5:return o.sent(),[3,16];case 6:return n!=="Enter"&&n!=="NumpadEnter"&&n!==13?[3,16]:(r=t.target||t.srcElement)&&r.className.match("introjs-prevbutton")?[4,qv(e)]:[3,8];case 7:return o.sent(),[3,15];case 8:return r&&r.className.match("introjs-skipbutton")?e._introItems.length-1===e._currentStep&&$n(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"skip")]:[3,10]:[3,12];case 9:o.sent(),o.label=10;case 10:return[4,Ad(e,e._targetElement)];case 11:return o.sent(),[3,15];case 12:return r&&r.getAttribute("data-step-number")?(r.click(),[3,15]):[3,13];case 13:return[4,Nd(e)];case 14:o.sent(),o.label=15;case 15:t.preventDefault?t.preventDefault():t.returnValue=!1,o.label=16;case 16:return[2]}})})}function WS(e){if(e===null||Zv(e)!=="object"||"nodeType"in e)return e;var t={};for(var n in e)"jQuery"in window&&e[n]instanceof window.jQuery?t[n]=e[n]:t[n]=WS(e[n]);return t}function qh(e){var t=document.querySelector(".introjs-hints");return t?Array.from(t.querySelectorAll(e)):[]}function ZS(e,t){return Fn(this,void 0,void 0,function(){var n;return Pn(this,function(r){switch(r.label){case 0:return n=qh('.introjs-hint[data-step="'.concat(t,'"]'))[0],Y0(),n&&dl(n,"introjs-hidehint"),$n(e._hintCloseCallback)?[4,e._hintCloseCallback.call(e,t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}function ate(e){return Fn(this,void 0,void 0,function(){var t,n,r,o,i;return Pn(this,function(a){switch(a.label){case 0:t=qh(".introjs-hint"),n=0,r=t,a.label=1;case 1:return n<r.length?(o=r[n],(i=o.getAttribute("data-step"))?[4,ZS(e,parseInt(i,10))]:[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function ste(e){return Fn(this,void 0,void 0,function(){var t,n,r,o,i;return Pn(this,function(a){switch(a.label){case 0:if(!(t=qh(".introjs-hint"))||!t.length)return[3,1];for(n=0,r=t;n<r.length;n++)o=r[n],(i=o.getAttribute("data-step"))&&z3(parseInt(i,10));return[3,3];case 1:return[4,Z3(e,e._targetElement)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function z3(e){var t=qh('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&VS(t,/introjs-hidehint/g)}function jI(e){var t=qh('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&t.parentNode&&t.parentNode.removeChild(t)}function lte(e){return Fn(this,void 0,void 0,function(){var t,n,r,o,i,a,u;return Pn(this,function(d){switch(d.label){case 0:for((t=document.querySelector(".introjs-hints"))===null&&(t=yn("div",{className:"introjs-hints"})),n=function(v){return function(b){var S=b||window.event;S&&S.stopPropagation&&S.stopPropagation(),S&&S.cancelBubble!==null&&(S.cancelBubble=!0),W3(e,v)}},r=0;r<e._hintItems.length;r++){if(o=e._hintItems[r],document.querySelector('.introjs-hint[data-step="'.concat(r,'"]')))return[2];xm(i=yn("a",{className:"introjs-hint"})),i.onclick=n(r),o.hintAnimation||dl(i,"introjs-hint-no-anim"),H0(o.element)&&dl(i,"introjs-fixedhint"),a=yn("div",{className:"introjs-hint-dot"}),u=yn("div",{className:"introjs-hint-pulse"}),i.appendChild(a),i.appendChild(u),i.setAttribute("data-step",r.toString()),o.hintTargetElement=o.element,o.element=i,V3(o.hintPosition,i,o.hintTargetElement),t.appendChild(i)}return document.body.appendChild(t),$n(e._hintsAddedCallback)?[4,e._hintsAddedCallback.call(e)]:[3,2];case 1:d.sent(),d.label=2;case 2:return e._options.hintAutoRefreshInterval>=0&&(e._hintsAutoRefreshFunction=(f=function(){return U0(e)},m=e._options.hintAutoRefreshInterval,function(){for(var v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];window.clearTimeout(g),g=window.setTimeout(function(){f(v)},m)}),pl.on(window,"scroll",e._hintsAutoRefreshFunction,e,!0)),[2]}var f,m,g})})}function V3(e,t,n){if(n!==void 0){var r=Ih(n),o=20,i=20;switch(e){default:case"top-left":t.style.left="".concat(r.left,"px"),t.style.top="".concat(r.top,"px");break;case"top-right":t.style.left="".concat(r.left+r.width-o,"px"),t.style.top="".concat(r.top,"px");break;case"bottom-left":t.style.left="".concat(r.left,"px"),t.style.top="".concat(r.top+r.height-i,"px");break;case"bottom-right":t.style.left="".concat(r.left+r.width-o,"px"),t.style.top="".concat(r.top+r.height-i,"px");break;case"middle-left":t.style.left="".concat(r.left,"px"),t.style.top="".concat(r.top+(r.height-i)/2,"px");break;case"middle-right":t.style.left="".concat(r.left+r.width-o,"px"),t.style.top="".concat(r.top+(r.height-i)/2,"px");break;case"middle-middle":t.style.left="".concat(r.left+(r.width-o)/2,"px"),t.style.top="".concat(r.top+(r.height-i)/2,"px");break;case"bottom-middle":t.style.left="".concat(r.left+(r.width-o)/2,"px"),t.style.top="".concat(r.top+r.height-i,"px");break;case"top-middle":t.style.left="".concat(r.left+(r.width-o)/2,"px"),t.style.top="".concat(r.top,"px")}}}function W3(e,t){return Fn(this,void 0,void 0,function(){var n,r,o,i,a,u,d,f,m,g,v;return Pn(this,function(b){switch(b.label){case 0:return n=document.querySelector('.introjs-hint[data-step="'.concat(t,'"]')),r=e._hintItems[t],$n(e._hintClickCallback)?[4,e._hintClickCallback.call(e,n,r,t)]:[3,2];case 1:b.sent(),b.label=2;case 2:return(o=Y0())!==void 0&&parseInt(o,10)===t||(i=yn("div",{className:"introjs-tooltip"}),a=yn("div"),u=yn("div"),d=yn("div"),i.onclick=function(S){S.stopPropagation?S.stopPropagation():S.cancelBubble=!0},a.className="introjs-tooltiptext",(f=yn("p")).innerHTML=r.hint||"",a.appendChild(f),e._options.hintShowButton&&((m=yn("a")).className=e._options.buttonClass,m.setAttribute("role","button"),m.innerHTML=e._options.hintButtonLabel,m.onclick=function(){return ZS(e,t)},a.appendChild(m)),u.className="introjs-arrow",i.appendChild(u),i.appendChild(a),g=n.getAttribute("data-step")||"",e._currentStep=parseInt(g,10),v=e._hintItems[e._currentStep],d.className="introjs-tooltipReferenceLayer introjs-hintReference",d.setAttribute("data-step",g),Xl(e,v,d),d.appendChild(i),document.body.appendChild(d),$v(e,v,i,u,!0)),[2]}})})}function Y0(){var e=document.querySelector(".introjs-hintReference");if(e&&e.parentNode){var t=e.getAttribute("data-step");return t?(e.parentNode.removeChild(e),t):void 0}}function Z3(e,t){return Fn(this,void 0,void 0,function(){var n,r,o,i,a,u,d,f,m,g;return Pn(this,function(v){switch(v.label){case 0:if(e._hintItems=[],e._options.hints&&e._options.hints.length>0)for(n=0,r=e._options.hints;n<r.length;n++)o=r[n],typeof(i=WS(o)).element=="string"&&(i.element=document.querySelector(i.element)),i.hintPosition=i.hintPosition||e._options.hintPosition,i.hintAnimation=i.hintAnimation||e._options.hintAnimation,i.element!==null&&e._hintItems.push(i);else{if(!(a=Array.from(t.querySelectorAll("*[data-hint]")))||!a.length)return[2,!1];for(u=0,d=a;u<d.length;u++)f=d[u],m=f.getAttribute("data-hint-animation"),g=e._options.hintAnimation,m&&(g=m==="true"),e._hintItems.push({element:f,hint:f.getAttribute("data-hint")||"",hintPosition:f.getAttribute("data-hint-position")||e._options.hintPosition,hintAnimation:g,tooltipClass:f.getAttribute("data-tooltip-class")||void 0,position:f.getAttribute("data-position")||e._options.tooltipPosition})}return[4,lte(e)];case 1:return v.sent(),pl.on(document,"click",Y0,e,!1),pl.on(window,"resize",U0,e,!0),[2,!0]}})})}function U0(e){for(var t=0,n=e._hintItems;t<n.length;t++){var r=n[t],o=r.hintTargetElement;V3(r.hintPosition,r.element,o)}}function $3(e,t){var n=Array.from(t.querySelectorAll("*[data-intro]")),r=[];if(e._options.steps&&e._options.steps.length)for(var o=0,i=e._options.steps;o<i.length;o++){var a=WS(v=i[o]);if(a.step=r.length+1,a.title=a.title||"",typeof a.element=="string"&&(a.element=document.querySelector(a.element)||void 0),a.element===void 0||a.element===null){var u=document.querySelector(".introjsFloatingElement");u===null&&(u=yn("div",{className:"introjsFloatingElement"}),document.body.appendChild(u)),a.element=u,a.position="floating"}a.position=a.position||e._options.tooltipPosition,a.scrollTo=a.scrollTo||e._options.scrollTo,a.disableInteraction===void 0&&(a.disableInteraction=e._options.disableInteraction),a.element!==null&&r.push(a)}else{var d=void 0;if(n.length<1)return[];for(var f=0,m=n;f<m.length;f++){var g=m[f];if((!e._options.group||g.getAttribute("data-intro-group")===e._options.group)&&g.style.display!=="none"){var v=parseInt(g.getAttribute("data-step")||"",10);d=e._options.disableInteraction,g.hasAttribute("data-disable-interaction")&&(d=!!g.getAttribute("data-disable-interaction")),v>0&&(r[v-1]={step:v,element:g,title:g.getAttribute("data-title")||"",intro:g.getAttribute("data-intro")||"",tooltipClass:g.getAttribute("data-tooltip-class")||void 0,highlightClass:g.getAttribute("data-highlight-class")||void 0,position:g.getAttribute("data-position")||e._options.tooltipPosition,scrollTo:g.getAttribute("data-scroll-to")||e._options.scrollTo,disableInteraction:d})}}for(var b=0,S=0,T=n;S<T.length;S++)if(g=T[S],(!e._options.group||g.getAttribute("data-intro-group")===e._options.group)&&g.getAttribute("data-step")===null){for(;r[b]!==void 0;)b++;d=g.hasAttribute("data-disable-interaction")?!!g.getAttribute("data-disable-interaction"):e._options.disableInteraction,r[b]={element:g,title:g.getAttribute("data-title")||"",intro:g.getAttribute("data-intro")||"",step:b+1,tooltipClass:g.getAttribute("data-tooltip-class")||void 0,highlightClass:g.getAttribute("data-highlight-class")||void 0,position:g.getAttribute("data-position")||e._options.tooltipPosition,scrollTo:g.getAttribute("data-scroll-to")||e._options.scrollTo,disableInteraction:d}}}for(var I=[],k=0;k<r.length;k++)r[k]&&I.push(r[k]);return(r=I).sort(function(A,R){return A.step-R.step}),r}function q3(e,t){var n=e._currentStep;if(n!=null&&n!=-1){var r=e._introItems[n],o=document.querySelector(".introjs-tooltipReferenceLayer"),i=document.querySelector(".introjs-helperLayer"),a=document.querySelector(".introjs-disableInteraction");Xl(e,r,i),Xl(e,r,o),Xl(e,r,a),t&&(e._introItems=$3(e,e._targetElement),function(f,m){if(f._options.showBullets){var g=document.querySelector(".introjs-bullets");g&&g.parentNode&&g.parentNode.replaceChild(B3(f,m),g)}}(e,r),H3(o,n,e._introItems.length));var u=document.querySelector(".introjs-arrow"),d=document.querySelector(".introjs-tooltip");return d&&u&&$v(e,e._introItems[n],d,u),U0(e),e}}function G3(e){q3(e)}function dm(e,t){if(t===void 0&&(t=!1),e&&e.parentElement){var n=e.parentElement;t?(fc(e,{opacity:"0"}),window.setTimeout(function(){try{n.removeChild(e)}catch{}},500)):n.removeChild(e)}}function Ad(e,t,n){return n===void 0&&(n=!1),Fn(this,void 0,void 0,function(){var r,o,i,a;return Pn(this,function(u){switch(u.label){case 0:return r=!0,e._introBeforeExitCallback===void 0?[3,2]:[4,e._introBeforeExitCallback.call(e,t)];case 1:r=u.sent(),u.label=2;case 2:if(!n&&r===!1)return[2];if((o=Array.from(t.querySelectorAll(".introjs-overlay")))&&o.length)for(i=0,a=o;i<a.length;i++)dm(a[i]);return dm(t.querySelector(".introjs-helperLayer"),!0),dm(t.querySelector(".introjs-tooltipReferenceLayer")),dm(t.querySelector(".introjs-disableInteraction")),dm(document.querySelector(".introjsFloatingElement")),R3(),pl.off(window,"keydown",U3,e,!0),pl.off(window,"resize",G3,e,!0),$n(e._introExitCallback)?[4,e._introExitCallback.call(e)]:[3,4];case 3:u.sent(),u.label=4;case 4:return e._currentStep=-1,[2]}})})}function ute(e,t){return Fn(this,void 0,void 0,function(){var n;return Pn(this,function(r){switch(r.label){case 0:return e.isActive()?$n(e._introStartCallback)?[4,e._introStartCallback.call(e,t)]:[3,2]:[2,!1];case 1:r.sent(),r.label=2;case 2:return(n=$3(e,t)).length===0?[2,!1]:(e._introItems=n,function(o,i){var a=this,u=yn("div",{className:"introjs-overlay"});fc(u,{top:0,bottom:0,left:0,right:0,position:"fixed"}),i.appendChild(u),o._options.exitOnOverlayClick===!0&&(fc(u,{cursor:"pointer"}),u.onclick=function(){return Fn(a,void 0,void 0,function(){return Pn(this,function(d){switch(d.label){case 0:return[4,Ad(o,i)];case 1:return d.sent(),[2]}})})})}(e,t),[4,Nd(e)]);case 3:r.sent(),t.addEventListener,e._options.keyboardNavigation&&pl.on(window,"keydown",U3,e,!0),pl.on(window,"resize",G3,e,!0),r.label=4;case 4:return[2,!1]}})})}function LI(e,t,n){return e[t]=n,e}var Sb=function(){function e(t){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=t,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"×",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return e.prototype.isActive=function(){return(!this._options.dontShowAgain||(t=L3(this._options.dontShowAgainCookie))===""||t!=="true")&&this._options.isActive;var t},e.prototype.clone=function(){return new e(this._targetElement)},e.prototype.setOption=function(t,n){return this._options=LI(this._options,t,n),this},e.prototype.setOptions=function(t){return this._options=function(n,r){for(var o=0,i=Object.entries(r);o<i.length;o++){var a=i[o];n=LI(n,a[0],a[1])}return n}(this._options,t),this},e.prototype.start=function(){return Fn(this,void 0,void 0,function(){return Pn(this,function(t){switch(t.label){case 0:return[4,ute(this,this._targetElement)];case 1:return t.sent(),[2,this]}})})},e.prototype.goToStep=function(t){return Fn(this,void 0,void 0,function(){return Pn(this,function(n){switch(n.label){case 0:return[4,ote(this,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.addStep=function(t){return this._options.steps||(this._options.steps=[]),this._options.steps.push(t),this},e.prototype.addSteps=function(t){if(!t.length)return this;for(var n=0;n<t.length;n++)this.addStep(t[n]);return this},e.prototype.goToStepNumber=function(t){return Fn(this,void 0,void 0,function(){return Pn(this,function(n){switch(n.label){case 0:return[4,ite(this,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.nextStep=function(){return Fn(this,void 0,void 0,function(){return Pn(this,function(t){switch(t.label){case 0:return[4,Nd(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.previousStep=function(){return Fn(this,void 0,void 0,function(){return Pn(this,function(t){switch(t.label){case 0:return[4,qv(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.currentStep=function(){return this._currentStep},e.prototype.exit=function(t){return Fn(this,void 0,void 0,function(){return Pn(this,function(n){switch(n.label){case 0:return[4,Ad(this,this._targetElement,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.refresh=function(t){return q3(this,t),this},e.prototype.setDontShowAgain=function(t){return nte(this,t),this},e.prototype.onbeforechange=function(t){if(!$n(t))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},e.prototype.onchange=function(t){if(!$n(t))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},e.prototype.onafterchange=function(t){if(!$n(t))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},e.prototype.oncomplete=function(t){if(!$n(t))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},e.prototype.onhintsadded=function(t){if(!$n(t))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this},e.prototype.onhintclick=function(t){if(!$n(t))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this},e.prototype.onhintclose=function(t){if(!$n(t))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this},e.prototype.onstart=function(t){if(!$n(t))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=t,this},e.prototype.onexit=function(t){if(!$n(t))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this},e.prototype.onskip=function(t){if(!$n(t))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=t,this},e.prototype.onbeforeexit=function(t){if(!$n(t))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=t,this},e.prototype.addHints=function(){return Fn(this,void 0,void 0,function(){return Pn(this,function(t){switch(t.label){case 0:return[4,Z3(this,this._targetElement)];case 1:return t.sent(),[2,this]}})})},e.prototype.hideHint=function(t){return Fn(this,void 0,void 0,function(){return Pn(this,function(n){switch(n.label){case 0:return[4,ZS(this,t)];case 1:return n.sent(),[2,this]}})})},e.prototype.hideHints=function(){return Fn(this,void 0,void 0,function(){return Pn(this,function(t){switch(t.label){case 0:return[4,ate(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.showHint=function(t){return z3(t),this},e.prototype.showHints=function(){return Fn(this,void 0,void 0,function(){return Pn(this,function(t){switch(t.label){case 0:return[4,ste(this)];case 1:return t.sent(),[2,this]}})})},e.prototype.removeHints=function(){return function(t){for(var n=0,r=qh(".introjs-hint");n<r.length;n++){var o=r[n].getAttribute("data-step");o&&jI(parseInt(o,10))}pl.off(document,"click",Y0,t,!1),pl.off(window,"resize",U0,t,!0),t._hintsAutoRefreshFunction&&pl.off(window,"scroll",t._hintsAutoRefreshFunction,t,!0)}(this),this},e.prototype.removeHint=function(t){return jI(t),this},e.prototype.showHintDialog=function(t){return Fn(this,void 0,void 0,function(){return Pn(this,function(n){switch(n.label){case 0:return[4,W3(this,t)];case 1:return n.sent(),[2,this]}})})},e}(),Gv=function e(t){var n;if(Zv(t)==="object")n=new Sb(t);else if(typeof t=="string"){var r=document.querySelector(t);if(!r)throw new Error("There is no element with given selector.");n=new Sb(r)}else n=new Sb(document.body);return e.instances[S1(n,"introjs-instance")]=n,n};Gv.version="7.2.0",Gv.instances={};var ud={},RI;function cte(){if(RI)return ud;RI=1;var e=F;function t(M){for(var H="https://reactjs.org/docs/error-decoder.html?invariant="+M,K=1;K<arguments.length;K++)H+="&args[]="+encodeURIComponent(arguments[K]);return"Minified React error #"+M+"; visit "+H+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=Object.prototype.hasOwnProperty,r=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o={},i={};function a(M){return n.call(i,M)?!0:n.call(o,M)?!1:r.test(M)?i[M]=!0:(o[M]=!0,!1)}function u(M,H,K,ae,Ne,Te,ze){this.acceptsBooleans=H===2||H===3||H===4,this.attributeName=ae,this.attributeNamespace=Ne,this.mustUseProperty=K,this.propertyName=M,this.type=H,this.sanitizeURL=Te,this.removeEmptyString=ze}var d={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(M){d[M]=new u(M,0,!1,M,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(M){var H=M[0];d[H]=new u(H,1,!1,M[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(M){d[M]=new u(M,2,!1,M.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(M){d[M]=new u(M,2,!1,M,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(M){d[M]=new u(M,3,!1,M.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(M){d[M]=new u(M,3,!0,M,null,!1,!1)}),["capture","download"].forEach(function(M){d[M]=new u(M,4,!1,M,null,!1,!1)}),["cols","rows","size","span"].forEach(function(M){d[M]=new u(M,6,!1,M,null,!1,!1)}),["rowSpan","start"].forEach(function(M){d[M]=new u(M,5,!1,M.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function m(M){return M[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(M){var H=M.replace(f,m);d[H]=new u(H,1,!1,M,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(M){var H=M.replace(f,m);d[H]=new u(H,1,!1,M,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(M){var H=M.replace(f,m);d[H]=new u(H,1,!1,M,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(M){d[M]=new u(M,1,!1,M.toLowerCase(),null,!1,!1)}),d.xlinkHref=new u("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(M){d[M]=new u(M,1,!1,M.toLowerCase(),null,!0,!0)});var g={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v=["Webkit","ms","Moz","O"];Object.keys(g).forEach(function(M){v.forEach(function(H){H=H+M.charAt(0).toUpperCase()+M.substring(1),g[H]=g[M]})});var b=/["'&<>]/;function S(M){if(typeof M=="boolean"||typeof M=="number")return""+M;M=""+M;var H=b.exec(M);if(H){var K="",ae,Ne=0;for(ae=H.index;ae<M.length;ae++){switch(M.charCodeAt(ae)){case 34:H="&quot;";break;case 38:H="&amp;";break;case 39:H="&#x27;";break;case 60:H="&lt;";break;case 62:H="&gt;";break;default:continue}Ne!==ae&&(K+=M.substring(Ne,ae)),Ne=ae+1,K+=H}M=Ne!==ae?K+M.substring(Ne,ae):K}return M}var T=/([A-Z])/g,I=/^ms-/,k=Array.isArray;function A(M,H){return{insertionMode:M,selectedValue:H}}function R(M,H,K){switch(H){case"select":return A(1,K.value!=null?K.value:K.defaultValue);case"svg":return A(2,null);case"math":return A(3,null);case"foreignObject":return A(1,null);case"table":return A(4,null);case"thead":case"tbody":case"tfoot":return A(5,null);case"colgroup":return A(7,null);case"tr":return A(6,null)}return 4<=M.insertionMode||M.insertionMode===0?A(1,null):M}var j=new Map;function B(M,H,K){if(typeof K!="object")throw Error(t(62));H=!0;for(var ae in K)if(n.call(K,ae)){var Ne=K[ae];if(Ne!=null&&typeof Ne!="boolean"&&Ne!==""){if(ae.indexOf("--")===0){var Te=S(ae);Ne=S((""+Ne).trim())}else{Te=ae;var ze=j.get(Te);ze!==void 0||(ze=S(Te.replace(T,"-$1").toLowerCase().replace(I,"-ms-")),j.set(Te,ze)),Te=ze,Ne=typeof Ne=="number"?Ne===0||n.call(g,ae)?""+Ne:Ne+"px":S((""+Ne).trim())}H?(H=!1,M.push(' style="',Te,":",Ne)):M.push(";",Te,":",Ne)}}H||M.push('"')}function L(M,H,K,ae){switch(K){case"style":B(M,H,ae);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<K.length)||K[0]!=="o"&&K[0]!=="O"||K[1]!=="n"&&K[1]!=="N"){if(H=d.hasOwnProperty(K)?d[K]:null,H!==null){switch(typeof ae){case"function":case"symbol":return;case"boolean":if(!H.acceptsBooleans)return}switch(K=H.attributeName,H.type){case 3:ae&&M.push(" ",K,'=""');break;case 4:ae===!0?M.push(" ",K,'=""'):ae!==!1&&M.push(" ",K,'="',S(ae),'"');break;case 5:isNaN(ae)||M.push(" ",K,'="',S(ae),'"');break;case 6:!isNaN(ae)&&1<=ae&&M.push(" ",K,'="',S(ae),'"');break;default:H.sanitizeURL&&(ae=""+ae),M.push(" ",K,'="',S(ae),'"')}}else if(a(K)){switch(typeof ae){case"function":case"symbol":return;case"boolean":if(H=K.toLowerCase().slice(0,5),H!=="data-"&&H!=="aria-")return}M.push(" ",K,'="',S(ae),'"')}}}function z(M,H,K){if(H!=null){if(K!=null)throw Error(t(60));if(typeof H!="object"||!("__html"in H))throw Error(t(61));H=H.__html,H!=null&&M.push(""+H)}}function U(M){var H="";return e.Children.forEach(M,function(K){K!=null&&(H+=K)}),H}function W(M,H,K,ae){M.push(Q(K));var Ne=K=null,Te;for(Te in H)if(n.call(H,Te)){var ze=H[Te];if(ze!=null)switch(Te){case"children":K=ze;break;case"dangerouslySetInnerHTML":Ne=ze;break;default:L(M,ae,Te,ze)}}return M.push(">"),z(M,Ne,K),typeof K=="string"?(M.push(S(K)),null):K}var Z=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,re=new Map;function Q(M){var H=re.get(M);if(H===void 0){if(!Z.test(M))throw Error(t(65,M));H="<"+M,re.set(M,H)}return H}function ce(M,H,K,ae,Ne){switch(H){case"select":M.push(Q("select"));var Te=null,ze=null;for(zt in K)if(n.call(K,zt)){var ot=K[zt];if(ot!=null)switch(zt){case"children":Te=ot;break;case"dangerouslySetInnerHTML":ze=ot;break;case"defaultValue":case"value":break;default:L(M,ae,zt,ot)}}return M.push(">"),z(M,ze,Te),Te;case"option":ze=Ne.selectedValue,M.push(Q("option"));var ut=ot=null,Nt=null,zt=null;for(Te in K)if(n.call(K,Te)){var Tn=K[Te];if(Tn!=null)switch(Te){case"children":ot=Tn;break;case"selected":Nt=Tn;break;case"dangerouslySetInnerHTML":zt=Tn;break;case"value":ut=Tn;default:L(M,ae,Te,Tn)}}if(ze!=null)if(K=ut!==null?""+ut:U(ot),k(ze)){for(ae=0;ae<ze.length;ae++)if(""+ze[ae]===K){M.push(' selected=""');break}}else""+ze===K&&M.push(' selected=""');else Nt&&M.push(' selected=""');return M.push(">"),z(M,zt,ot),ot;case"textarea":M.push(Q("textarea")),zt=ze=Te=null;for(ot in K)if(n.call(K,ot)&&(ut=K[ot],ut!=null))switch(ot){case"children":zt=ut;break;case"value":Te=ut;break;case"defaultValue":ze=ut;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:L(M,ae,ot,ut)}if(Te===null&&ze!==null&&(Te=ze),M.push(">"),zt!=null){if(Te!=null)throw Error(t(92));if(k(zt)&&1<zt.length)throw Error(t(93));Te=""+zt}return typeof Te=="string"&&Te[0]===`
`&&M.push(`
`),Te!==null&&M.push(S(""+Te)),null;case"input":M.push(Q("input")),ut=zt=ot=Te=null;for(ze in K)if(n.call(K,ze)&&(Nt=K[ze],Nt!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":ut=Nt;break;case"defaultValue":ot=Nt;break;case"checked":zt=Nt;break;case"value":Te=Nt;break;default:L(M,ae,ze,Nt)}return zt!==null?L(M,ae,"checked",zt):ut!==null&&L(M,ae,"checked",ut),Te!==null?L(M,ae,"value",Te):ot!==null&&L(M,ae,"value",ot),M.push("/>"),null;case"menuitem":M.push(Q("menuitem"));for(var Co in K)if(n.call(K,Co)&&(Te=K[Co],Te!=null))switch(Co){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:L(M,ae,Co,Te)}return M.push(">"),null;case"title":M.push(Q("title")),Te=null;for(Tn in K)if(n.call(K,Tn)&&(ze=K[Tn],ze!=null))switch(Tn){case"children":Te=ze;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:L(M,ae,Tn,ze)}return M.push(">"),Te;case"listing":case"pre":M.push(Q(H)),ze=Te=null;for(ut in K)if(n.call(K,ut)&&(ot=K[ut],ot!=null))switch(ut){case"children":Te=ot;break;case"dangerouslySetInnerHTML":ze=ot;break;default:L(M,ae,ut,ot)}if(M.push(">"),ze!=null){if(Te!=null)throw Error(t(60));if(typeof ze!="object"||!("__html"in ze))throw Error(t(61));K=ze.__html,K!=null&&(typeof K=="string"&&0<K.length&&K[0]===`
`?M.push(`
`,K):M.push(""+K))}return typeof Te=="string"&&Te[0]===`
`&&M.push(`
`),Te;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":M.push(Q(H));for(var mo in K)if(n.call(K,mo)&&(Te=K[mo],Te!=null))switch(mo){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,H));default:L(M,ae,mo,Te)}return M.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return W(M,K,H,ae);case"html":return Ne.insertionMode===0&&M.push("<!DOCTYPE html>"),W(M,K,H,ae);default:if(H.indexOf("-")===-1&&typeof K.is!="string")return W(M,K,H,ae);M.push(Q(H)),ze=Te=null;for(Nt in K)if(n.call(K,Nt)&&(ot=K[Nt],ot!=null))switch(Nt){case"children":Te=ot;break;case"dangerouslySetInnerHTML":ze=ot;break;case"style":B(M,ae,ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:a(Nt)&&typeof ot!="function"&&typeof ot!="symbol"&&M.push(" ",Nt,'="',S(ot),'"')}return M.push(">"),z(M,ze,Te),Te}}function ee(M,H,K){if(M.push('<!--$?--><template id="'),K===null)throw Error(t(395));return M.push(K),M.push('"></template>')}function fe(M,H,K,ae){switch(K.insertionMode){case 0:case 1:return M.push('<div hidden id="'),M.push(H.segmentPrefix),H=ae.toString(16),M.push(H),M.push('">');case 2:return M.push('<svg aria-hidden="true" style="display:none" id="'),M.push(H.segmentPrefix),H=ae.toString(16),M.push(H),M.push('">');case 3:return M.push('<math aria-hidden="true" style="display:none" id="'),M.push(H.segmentPrefix),H=ae.toString(16),M.push(H),M.push('">');case 4:return M.push('<table hidden id="'),M.push(H.segmentPrefix),H=ae.toString(16),M.push(H),M.push('">');case 5:return M.push('<table hidden><tbody id="'),M.push(H.segmentPrefix),H=ae.toString(16),M.push(H),M.push('">');case 6:return M.push('<table hidden><tr id="'),M.push(H.segmentPrefix),H=ae.toString(16),M.push(H),M.push('">');case 7:return M.push('<table hidden><colgroup id="'),M.push(H.segmentPrefix),H=ae.toString(16),M.push(H),M.push('">');default:throw Error(t(397))}}function $(M,H){switch(H.insertionMode){case 0:case 1:return M.push("</div>");case 2:return M.push("</svg>");case 3:return M.push("</math>");case 4:return M.push("</table>");case 5:return M.push("</tbody></table>");case 6:return M.push("</tr></table>");case 7:return M.push("</colgroup></table>");default:throw Error(t(397))}}var le=/[<\u2028\u2029]/g;function oe(M){return JSON.stringify(M).replace(le,function(H){switch(H){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function he(M,H){return H=H===void 0?"":H,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:H+"P:",segmentPrefix:H+"S:",boundaryPrefix:H+"B:",idPrefix:H,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:M}}function G(M,H,K,ae){return K.generateStaticMarkup?(M.push(S(H)),!1):(H===""?M=ae:(ae&&M.push("<!-- -->"),M.push(S(H)),M=!0),M)}var ne=Object.assign,pe=Symbol.for("react.element"),Ie=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),Ye=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),$e=Symbol.for("react.provider"),Ue=Symbol.for("react.context"),Ke=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),rt=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),dt=Symbol.for("react.scope"),It=Symbol.for("react.debug_trace_mode"),Et=Symbol.for("react.legacy_hidden"),_t=Symbol.for("react.default_value"),Ut=Symbol.iterator;function vn(M){if(M==null)return null;if(typeof M=="function")return M.displayName||M.name||null;if(typeof M=="string")return M;switch(M){case Oe:return"Fragment";case Ie:return"Portal";case _e:return"Profiler";case Ye:return"StrictMode";case yt:return"Suspense";case Ce:return"SuspenseList"}if(typeof M=="object")switch(M.$$typeof){case Ue:return(M.displayName||"Context")+".Consumer";case $e:return(M._context.displayName||"Context")+".Provider";case Ke:var H=M.render;return M=M.displayName,M||(M=H.displayName||H.name||"",M=M!==""?"ForwardRef("+M+")":"ForwardRef"),M;case rt:return H=M.displayName||null,H!==null?H:vn(M.type)||"Memo";case st:H=M._payload,M=M._init;try{return vn(M(H))}catch{}}return null}var $t={};function tn(M,H){if(M=M.contextTypes,!M)return $t;var K={},ae;for(ae in M)K[ae]=H[ae];return K}var rn=null;function Xt(M,H){if(M!==H){M.context._currentValue2=M.parentValue,M=M.parent;var K=H.parent;if(M===null){if(K!==null)throw Error(t(401))}else{if(K===null)throw Error(t(401));Xt(M,K)}H.context._currentValue2=H.value}}function Ln(M){M.context._currentValue2=M.parentValue,M=M.parent,M!==null&&Ln(M)}function lr(M){var H=M.parent;H!==null&&lr(H),M.context._currentValue2=M.value}function $r(M,H){if(M.context._currentValue2=M.parentValue,M=M.parent,M===null)throw Error(t(402));M.depth===H.depth?Xt(M,H):$r(M,H)}function tr(M,H){var K=H.parent;if(K===null)throw Error(t(402));M.depth===K.depth?Xt(M,K):tr(M,K),H.context._currentValue2=H.value}function nr(M){var H=rn;H!==M&&(H===null?lr(M):M===null?Ln(H):H.depth===M.depth?Xt(H,M):H.depth>M.depth?$r(H,M):tr(H,M),rn=M)}var ji={isMounted:function(){return!1},enqueueSetState:function(M,H){M=M._reactInternals,M.queue!==null&&M.queue.push(H)},enqueueReplaceState:function(M,H){M=M._reactInternals,M.replace=!0,M.queue=[H]},enqueueForceUpdate:function(){}};function xo(M,H,K,ae){var Ne=M.state!==void 0?M.state:null;M.updater=ji,M.props=K,M.state=Ne;var Te={queue:[],replace:!1};M._reactInternals=Te;var ze=H.contextType;if(M.context=typeof ze=="object"&&ze!==null?ze._currentValue2:ae,ze=H.getDerivedStateFromProps,typeof ze=="function"&&(ze=ze(K,Ne),Ne=ze==null?Ne:ne({},Ne,ze),M.state=Ne),typeof H.getDerivedStateFromProps!="function"&&typeof M.getSnapshotBeforeUpdate!="function"&&(typeof M.UNSAFE_componentWillMount=="function"||typeof M.componentWillMount=="function"))if(H=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),H!==M.state&&ji.enqueueReplaceState(M,M.state,null),Te.queue!==null&&0<Te.queue.length)if(H=Te.queue,ze=Te.replace,Te.queue=null,Te.replace=!1,ze&&H.length===1)M.state=H[0];else{for(Te=ze?H[0]:M.state,Ne=!0,ze=ze?1:0;ze<H.length;ze++){var ot=H[ze];ot=typeof ot=="function"?ot.call(M,Te,K,ae):ot,ot!=null&&(Ne?(Ne=!1,Te=ne({},Te,ot)):ne(Te,ot))}M.state=Te}else Te.queue=null}var Uo={id:1,overflow:""};function Li(M,H,K){var ae=M.id;M=M.overflow;var Ne=32-Eo(ae)-1;ae&=~(1<<Ne),K+=1;var Te=32-Eo(H)+Ne;if(30<Te){var ze=Ne-Ne%5;return Te=(ae&(1<<ze)-1).toString(32),ae>>=ze,Ne-=ze,{id:1<<32-Eo(H)+Ne|K<<Ne|ae,overflow:Te+M}}return{id:1<<Te|K<<Ne|ae,overflow:M}}var Eo=Math.clz32?Math.clz32:ui,Ri=Math.log,ua=Math.LN2;function ui(M){return M>>>=0,M===0?32:31-(Ri(M)/ua|0)|0}function _i(M,H){return M===H&&(M!==0||1/M===1/H)||M!==M&&H!==H}var te=typeof Object.is=="function"?Object.is:_i,ge=null,Ae=null,Be=null,He=null,et=!1,tt=!1,kt=0,Kt=null,On=0;function wn(){if(ge===null)throw Error(t(321));return ge}function jr(){if(0<On)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Rn(){return He===null?Be===null?(et=!1,Be=He=jr()):(et=!0,He=Be):He.next===null?(et=!1,He=He.next=jr()):(et=!0,He=He.next),He}function rr(){Ae=ge=null,tt=!1,Be=null,On=0,He=Kt=null}function Lr(M,H){return typeof H=="function"?H(M):H}function ca(M,H,K){if(ge=wn(),He=Rn(),et){var ae=He.queue;if(H=ae.dispatch,Kt!==null&&(K=Kt.get(ae),K!==void 0)){Kt.delete(ae),ae=He.memoizedState;do ae=M(ae,K.action),K=K.next;while(K!==null);return He.memoizedState=ae,[ae,H]}return[He.memoizedState,H]}return M=M===Lr?typeof H=="function"?H():H:K!==void 0?K(H):H,He.memoizedState=M,M=He.queue={last:null,dispatch:null},M=M.dispatch=co.bind(null,ge,M),[He.memoizedState,M]}function bn(M,H){if(ge=wn(),He=Rn(),H=H===void 0?null:H,He!==null){var K=He.memoizedState;if(K!==null&&H!==null){var ae=K[1];e:if(ae===null)ae=!1;else{for(var Ne=0;Ne<ae.length&&Ne<H.length;Ne++)if(!te(H[Ne],ae[Ne])){ae=!1;break e}ae=!0}if(ae)return K[0]}}return M=M(),He.memoizedState=[M,H],M}function co(M,H,K){if(25<=On)throw Error(t(301));if(M===ge)if(tt=!0,M={action:K,next:null},Kt===null&&(Kt=new Map),K=Kt.get(H),K===void 0)Kt.set(H,M);else{for(H=K;H.next!==null;)H=H.next;H.next=M}}function fo(){throw Error(t(394))}function Cr(){}var zo={readContext:function(M){return M._currentValue2},useContext:function(M){return wn(),M._currentValue2},useMemo:bn,useReducer:ca,useRef:function(M){ge=wn(),He=Rn();var H=He.memoizedState;return H===null?(M={current:M},He.memoizedState=M):H},useState:function(M){return ca(Lr,M)},useInsertionEffect:Cr,useLayoutEffect:function(){},useCallback:function(M,H){return bn(function(){return M},H)},useImperativeHandle:Cr,useEffect:Cr,useDebugValue:Cr,useDeferredValue:function(M){return wn(),M},useTransition:function(){return wn(),[!1,fo]},useId:function(){var M=Ae.treeContext,H=M.overflow;M=M.id,M=(M&~(1<<32-Eo(M)-1)).toString(32)+H;var K=ho;if(K===null)throw Error(t(404));return H=kt++,M=":"+K.idPrefix+"R"+M,0<H&&(M+="H"+H.toString(32)),M+":"},useMutableSource:function(M,H){return wn(),H(M._source)},useSyncExternalStore:function(M,H,K){if(K===void 0)throw Error(t(407));return K()}},ho=null,bl=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Bi(M){return console.error(M),null}function Hi(){}function cu(M,H,K,ae,Ne,Te,ze,ot,ut){var Nt=[],zt=new Set;return H={destination:null,responseState:H,progressiveChunkSize:ae===void 0?12800:ae,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:zt,pingedTasks:Nt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:Ne===void 0?Bi:Ne,onAllReady:Te===void 0?Hi:Te,onShellReady:ze===void 0?Hi:ze,onShellError:ot===void 0?Hi:ot,onFatalError:ut===void 0?Hi:ut},K=Ba(H,0,null,K,!1,!1),K.parentFlushed=!0,M=Sl(H,M,null,K,zt,$t,null,Uo),Nt.push(M),H}function Sl(M,H,K,ae,Ne,Te,ze,ot){M.allPendingTasks++,K===null?M.pendingRootTasks++:K.pendingTasks++;var ut={node:H,ping:function(){var Nt=M.pingedTasks;Nt.push(ut),Nt.length===1&&po(M)},blockedBoundary:K,blockedSegment:ae,abortSet:Ne,legacyContext:Te,context:ze,treeContext:ot};return Ne.add(ut),ut}function Ba(M,H,K,ae,Ne,Te){return{status:0,id:-1,index:H,parentFlushed:!1,chunks:[],children:[],formatContext:ae,boundary:K,lastPushedText:Ne,textEmbedded:Te}}function da(M,H){if(M=M.onError(H),M!=null&&typeof M!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof M+'" instead');return M}function Ha(M,H){var K=M.onShellError;K(H),K=M.onFatalError,K(H),M.destination!==null?(M.status=2,M.destination.destroy(H)):(M.status=1,M.fatalError=H)}function Dl(M,H,K,ae,Ne){for(ge={},Ae=H,kt=0,M=K(ae,Ne);tt;)tt=!1,kt=0,On+=1,He=null,M=K(ae,Ne);return rr(),M}function Ya(M,H,K,ae){var Ne=K.render(),Te=ae.childContextTypes;if(Te!=null){var ze=H.legacyContext;if(typeof K.getChildContext!="function")ae=ze;else{K=K.getChildContext();for(var ot in K)if(!(ot in Te))throw Error(t(108,vn(ae)||"Unknown",ot));ae=ne({},ze,K)}H.legacyContext=ae,Rr(M,H,Ne),H.legacyContext=ze}else Rr(M,H,Ne)}function du(M,H){if(M&&M.defaultProps){H=ne({},H),M=M.defaultProps;for(var K in M)H[K]===void 0&&(H[K]=M[K]);return H}return H}function Sn(M,H,K,ae,Ne){if(typeof K=="function")if(K.prototype&&K.prototype.isReactComponent){Ne=tn(K,H.legacyContext);var Te=K.contextType;Te=new K(ae,typeof Te=="object"&&Te!==null?Te._currentValue2:Ne),xo(Te,K,ae,Ne),Ya(M,H,Te,K)}else{Te=tn(K,H.legacyContext),Ne=Dl(M,H,K,ae,Te);var ze=kt!==0;if(typeof Ne=="object"&&Ne!==null&&typeof Ne.render=="function"&&Ne.$$typeof===void 0)xo(Ne,K,ae,Te),Ya(M,H,Ne,K);else if(ze){ae=H.treeContext,H.treeContext=Li(ae,1,0);try{Rr(M,H,Ne)}finally{H.treeContext=ae}}else Rr(M,H,Ne)}else if(typeof K=="string"){switch(Ne=H.blockedSegment,Te=ce(Ne.chunks,K,ae,M.responseState,Ne.formatContext),Ne.lastPushedText=!1,ze=Ne.formatContext,Ne.formatContext=R(ze,K,ae),vs(M,H,Te),Ne.formatContext=ze,K){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:Ne.chunks.push("</",K,">")}Ne.lastPushedText=!1}else{switch(K){case Et:case It:case Ye:case _e:case Oe:Rr(M,H,ae.children);return;case Ce:Rr(M,H,ae.children);return;case dt:throw Error(t(343));case yt:e:{K=H.blockedBoundary,Ne=H.blockedSegment,Te=ae.fallback,ae=ae.children,ze=new Set;var ot={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:ze,errorDigest:null},ut=Ba(M,Ne.chunks.length,ot,Ne.formatContext,!1,!1);Ne.children.push(ut),Ne.lastPushedText=!1;var Nt=Ba(M,0,null,Ne.formatContext,!1,!1);Nt.parentFlushed=!0,H.blockedBoundary=ot,H.blockedSegment=Nt;try{if(vs(M,H,ae),M.responseState.generateStaticMarkup||Nt.lastPushedText&&Nt.textEmbedded&&Nt.chunks.push("<!-- -->"),Nt.status=1,ci(ot,Nt),ot.pendingTasks===0)break e}catch(zt){Nt.status=4,ot.forceClientRender=!0,ot.errorDigest=da(M,zt)}finally{H.blockedBoundary=K,H.blockedSegment=Ne}H=Sl(M,Te,K,ut,ze,H.legacyContext,H.context,H.treeContext),M.pingedTasks.push(H)}return}if(typeof K=="object"&&K!==null)switch(K.$$typeof){case Ke:if(ae=Dl(M,H,K.render,ae,Ne),kt!==0){K=H.treeContext,H.treeContext=Li(K,1,0);try{Rr(M,H,ae)}finally{H.treeContext=K}}else Rr(M,H,ae);return;case rt:K=K.type,ae=du(K,ae),Sn(M,H,K,ae,Ne);return;case $e:if(Ne=ae.children,K=K._context,ae=ae.value,Te=K._currentValue2,K._currentValue2=ae,ze=rn,rn=ae={parent:ze,depth:ze===null?0:ze.depth+1,context:K,parentValue:Te,value:ae},H.context=ae,Rr(M,H,Ne),M=rn,M===null)throw Error(t(403));ae=M.parentValue,M.context._currentValue2=ae===_t?M.context._defaultValue:ae,M=rn=M.parent,H.context=M;return;case Ue:ae=ae.children,ae=ae(K._currentValue2),Rr(M,H,ae);return;case st:Ne=K._init,K=Ne(K._payload),ae=du(K,ae),Sn(M,H,K,ae,void 0);return}throw Error(t(130,K==null?K:typeof K,""))}}function Rr(M,H,K){if(H.node=K,typeof K=="object"&&K!==null){switch(K.$$typeof){case pe:Sn(M,H,K.type,K.props,K.ref);return;case Ie:throw Error(t(257));case st:var ae=K._init;K=ae(K._payload),Rr(M,H,K);return}if(k(K)){ys(M,H,K);return}if(K===null||typeof K!="object"?ae=null:(ae=Ut&&K[Ut]||K["@@iterator"],ae=typeof ae=="function"?ae:null),ae&&(ae=ae.call(K))){if(K=ae.next(),!K.done){var Ne=[];do Ne.push(K.value),K=ae.next();while(!K.done);ys(M,H,Ne)}return}throw M=Object.prototype.toString.call(K),Error(t(31,M==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":M))}typeof K=="string"?(ae=H.blockedSegment,ae.lastPushedText=G(H.blockedSegment.chunks,K,M.responseState,ae.lastPushedText)):typeof K=="number"&&(ae=H.blockedSegment,ae.lastPushedText=G(H.blockedSegment.chunks,""+K,M.responseState,ae.lastPushedText))}function ys(M,H,K){for(var ae=K.length,Ne=0;Ne<ae;Ne++){var Te=H.treeContext;H.treeContext=Li(Te,ae,Ne);try{vs(M,H,K[Ne])}finally{H.treeContext=Te}}}function vs(M,H,K){var ae=H.blockedSegment.formatContext,Ne=H.legacyContext,Te=H.context;try{return Rr(M,H,K)}catch(ut){if(rr(),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"){K=ut;var ze=H.blockedSegment,ot=Ba(M,ze.chunks.length,null,ze.formatContext,ze.lastPushedText,!0);ze.children.push(ot),ze.lastPushedText=!1,M=Sl(M,H.node,H.blockedBoundary,ot,H.abortSet,H.legacyContext,H.context,H.treeContext).ping,K.then(M,M),H.blockedSegment.formatContext=ae,H.legacyContext=Ne,H.context=Te,nr(Te)}else throw H.blockedSegment.formatContext=ae,H.legacyContext=Ne,H.context=Te,nr(Te),ut}}function Yi(M){var H=M.blockedBoundary;M=M.blockedSegment,M.status=3,Vo(this,H,M)}function Tl(M,H,K){var ae=M.blockedBoundary;M.blockedSegment.status=3,ae===null?(H.allPendingTasks--,H.status!==2&&(H.status=2,H.destination!==null&&H.destination.push(null))):(ae.pendingTasks--,ae.forceClientRender||(ae.forceClientRender=!0,M=K===void 0?Error(t(432)):K,ae.errorDigest=H.onError(M),ae.parentFlushed&&H.clientRenderedBoundaries.push(ae)),ae.fallbackAbortableTasks.forEach(function(Ne){return Tl(Ne,H,K)}),ae.fallbackAbortableTasks.clear(),H.allPendingTasks--,H.allPendingTasks===0&&(ae=H.onAllReady,ae()))}function ci(M,H){if(H.chunks.length===0&&H.children.length===1&&H.children[0].boundary===null){var K=H.children[0];K.id=H.id,K.parentFlushed=!0,K.status===1&&ci(M,K)}else M.completedSegments.push(H)}function Vo(M,H,K){if(H===null){if(K.parentFlushed){if(M.completedRootSegment!==null)throw Error(t(389));M.completedRootSegment=K}M.pendingRootTasks--,M.pendingRootTasks===0&&(M.onShellError=Hi,H=M.onShellReady,H())}else H.pendingTasks--,H.forceClientRender||(H.pendingTasks===0?(K.parentFlushed&&K.status===1&&ci(H,K),H.parentFlushed&&M.completedBoundaries.push(H),H.fallbackAbortableTasks.forEach(Yi,M),H.fallbackAbortableTasks.clear()):K.parentFlushed&&K.status===1&&(ci(H,K),H.completedSegments.length===1&&H.parentFlushed&&M.partialBoundaries.push(H)));M.allPendingTasks--,M.allPendingTasks===0&&(M=M.onAllReady,M())}function po(M){if(M.status!==2){var H=rn,K=bl.current;bl.current=zo;var ae=ho;ho=M.responseState;try{var Ne=M.pingedTasks,Te;for(Te=0;Te<Ne.length;Te++){var ze=Ne[Te],ot=M,ut=ze.blockedSegment;if(ut.status===0){nr(ze.context);try{Rr(ot,ze,ze.node),ot.responseState.generateStaticMarkup||ut.lastPushedText&&ut.textEmbedded&&ut.chunks.push("<!-- -->"),ze.abortSet.delete(ze),ut.status=1,Vo(ot,ze.blockedBoundary,ut)}catch(_r){if(rr(),typeof _r=="object"&&_r!==null&&typeof _r.then=="function"){var Nt=ze.ping;_r.then(Nt,Nt)}else{ze.abortSet.delete(ze),ut.status=4;var zt=ze.blockedBoundary,Tn=_r,Co=da(ot,Tn);if(zt===null?Ha(ot,Tn):(zt.pendingTasks--,zt.forceClientRender||(zt.forceClientRender=!0,zt.errorDigest=Co,zt.parentFlushed&&ot.clientRenderedBoundaries.push(zt))),ot.allPendingTasks--,ot.allPendingTasks===0){var mo=ot.onAllReady;mo()}}}}}Ne.splice(0,Te),M.destination!==null&&Wo(M,M.destination)}catch(_r){da(M,_r),Ha(M,_r)}finally{ho=ae,bl.current=K,K===zo&&nr(H)}}}function Ua(M,H,K){switch(K.parentFlushed=!0,K.status){case 0:var ae=K.id=M.nextSegmentId++;return K.lastPushedText=!1,K.textEmbedded=!1,M=M.responseState,H.push('<template id="'),H.push(M.placeholderPrefix),M=ae.toString(16),H.push(M),H.push('"></template>');case 1:K.status=2;var Ne=!0;ae=K.chunks;var Te=0;K=K.children;for(var ze=0;ze<K.length;ze++){for(Ne=K[ze];Te<Ne.index;Te++)H.push(ae[Te]);Ne=vr(M,H,Ne)}for(;Te<ae.length-1;Te++)H.push(ae[Te]);return Te<ae.length&&(Ne=H.push(ae[Te])),Ne;default:throw Error(t(390))}}function vr(M,H,K){var ae=K.boundary;if(ae===null)return Ua(M,H,K);if(ae.parentFlushed=!0,ae.forceClientRender)return M.responseState.generateStaticMarkup||(ae=ae.errorDigest,H.push("<!--$!-->"),H.push("<template"),ae&&(H.push(' data-dgst="'),ae=S(ae),H.push(ae),H.push('"')),H.push("></template>")),Ua(M,H,K),M=M.responseState.generateStaticMarkup?!0:H.push("<!--/$-->"),M;if(0<ae.pendingTasks){ae.rootSegmentID=M.nextSegmentId++,0<ae.completedSegments.length&&M.partialBoundaries.push(ae);var Ne=M.responseState,Te=Ne.nextSuspenseID++;return Ne=Ne.boundaryPrefix+Te.toString(16),ae=ae.id=Ne,ee(H,M.responseState,ae),Ua(M,H,K),H.push("<!--/$-->")}if(ae.byteSize>M.progressiveChunkSize)return ae.rootSegmentID=M.nextSegmentId++,M.completedBoundaries.push(ae),ee(H,M.responseState,ae.id),Ua(M,H,K),H.push("<!--/$-->");if(M.responseState.generateStaticMarkup||H.push("<!--$-->"),K=ae.completedSegments,K.length!==1)throw Error(t(391));return vr(M,H,K[0]),M=M.responseState.generateStaticMarkup?!0:H.push("<!--/$-->"),M}function ws(M,H,K){return fe(H,M.responseState,K.formatContext,K.id),vr(M,H,K),$(H,K.formatContext)}function bs(M,H,K){for(var ae=K.completedSegments,Ne=0;Ne<ae.length;Ne++)Ss(M,H,K,ae[Ne]);if(ae.length=0,M=M.responseState,ae=K.id,K=K.rootSegmentID,H.push(M.startInlineScript),M.sentCompleteBoundaryFunction?H.push('$RC("'):(M.sentCompleteBoundaryFunction=!0,H.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),ae===null)throw Error(t(395));return K=K.toString(16),H.push(ae),H.push('","'),H.push(M.segmentPrefix),H.push(K),H.push('")<\/script>')}function Ss(M,H,K,ae){if(ae.status===2)return!0;var Ne=ae.id;if(Ne===-1){if((ae.id=K.rootSegmentID)===-1)throw Error(t(392));return ws(M,H,ae)}return ws(M,H,ae),M=M.responseState,H.push(M.startInlineScript),M.sentCompleteSegmentFunction?H.push('$RS("'):(M.sentCompleteSegmentFunction=!0,H.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),H.push(M.segmentPrefix),Ne=Ne.toString(16),H.push(Ne),H.push('","'),H.push(M.placeholderPrefix),H.push(Ne),H.push('")<\/script>')}function Wo(M,H){try{var K=M.completedRootSegment;if(K!==null&&M.pendingRootTasks===0){vr(M,H,K),M.completedRootSegment=null;var ae=M.responseState.bootstrapChunks;for(K=0;K<ae.length-1;K++)H.push(ae[K]);K<ae.length&&H.push(ae[K])}var Ne=M.clientRenderedBoundaries,Te;for(Te=0;Te<Ne.length;Te++){var ze=Ne[Te];ae=H;var ot=M.responseState,ut=ze.id,Nt=ze.errorDigest,zt=ze.errorMessage,Tn=ze.errorComponentStack;if(ae.push(ot.startInlineScript),ot.sentClientRenderFunction?ae.push('$RX("'):(ot.sentClientRenderFunction=!0,ae.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),ut===null)throw Error(t(395));if(ae.push(ut),ae.push('"'),Nt||zt||Tn){ae.push(",");var Co=oe(Nt||"");ae.push(Co)}if(zt||Tn){ae.push(",");var mo=oe(zt||"");ae.push(mo)}if(Tn){ae.push(",");var _r=oe(Tn);ae.push(_r)}if(!ae.push(")<\/script>")){M.destination=null,Te++,Ne.splice(0,Te);return}}Ne.splice(0,Te);var di=M.completedBoundaries;for(Te=0;Te<di.length;Te++)if(!bs(M,H,di[Te])){M.destination=null,Te++,di.splice(0,Te);return}di.splice(0,Te);var go=M.partialBoundaries;for(Te=0;Te<go.length;Te++){var Mo=go[Te];e:{Ne=M,ze=H;var qr=Mo.completedSegments;for(ot=0;ot<qr.length;ot++)if(!Ss(Ne,ze,Mo,qr[ot])){ot++,qr.splice(0,ot);var $o=!1;break e}qr.splice(0,ot),$o=!0}if(!$o){M.destination=null,Te++,go.splice(0,Te);return}}go.splice(0,Te);var yo=M.completedBoundaries;for(Te=0;Te<yo.length;Te++)if(!bs(M,H,yo[Te])){M.destination=null,Te++,yo.splice(0,Te);return}yo.splice(0,Te)}finally{M.allPendingTasks===0&&M.pingedTasks.length===0&&M.clientRenderedBoundaries.length===0&&M.completedBoundaries.length===0&&H.push(null)}}function za(M,H){try{var K=M.abortableTasks;K.forEach(function(ae){return Tl(ae,M,H)}),K.clear(),M.destination!==null&&Wo(M,M.destination)}catch(ae){da(M,ae),Ha(M,ae)}}function Ui(){}function Zo(M,H,K,ae){var Ne=!1,Te=null,ze="",ot={push:function(Nt){return Nt!==null&&(ze+=Nt),!0},destroy:function(Nt){Ne=!0,Te=Nt}},ut=!1;if(M=cu(M,he(K,H?H.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Ui,void 0,function(){ut=!0},void 0,void 0),po(M),za(M,ae),M.status===1)M.status=2,ot.destroy(M.fatalError);else if(M.status!==2&&M.destination===null){M.destination=ot;try{Wo(M,ot)}catch(Nt){da(M,Nt),Ha(M,Nt)}}if(Ne)throw Te;if(!ut)throw Error(t(426));return ze}return ud.renderToNodeStream=function(){throw Error(t(207))},ud.renderToStaticMarkup=function(M,H){return Zo(M,H,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},ud.renderToStaticNodeStream=function(){throw Error(t(208))},ud.renderToString=function(M,H){return Zo(M,H,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},ud.version="18.2.0",ud}var Gy={},_I;function dte(){if(_I)return Gy;_I=1;var e=F;function t(N){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+N,q=1;q<arguments.length;q++)_+="&args[]="+encodeURIComponent(arguments[q]);return"Minified React error #"+N+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=null,r=0;function o(N,_){if(_.length!==0)if(512<_.length)0<r&&(N.enqueue(new Uint8Array(n.buffer,0,r)),n=new Uint8Array(512),r=0),N.enqueue(_);else{var q=n.length-r;q<_.length&&(q===0?N.enqueue(n):(n.set(_.subarray(0,q),r),N.enqueue(n),_=_.subarray(q)),n=new Uint8Array(512),r=0),n.set(_,r),r+=_.length}}function i(N,_){return o(N,_),!0}function a(N){n&&0<r&&(N.enqueue(new Uint8Array(n.buffer,0,r)),n=null,r=0)}var u=new TextEncoder;function d(N){return u.encode(N)}function f(N){return u.encode(N)}function m(N,_){typeof N.error=="function"?N.error(_):N.close()}var g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},S={};function T(N){return g.call(S,N)?!0:g.call(b,N)?!1:v.test(N)?S[N]=!0:(b[N]=!0,!1)}function I(N,_,q,ie,Fe,xe,We){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=ie,this.attributeNamespace=Fe,this.mustUseProperty=q,this.propertyName=N,this.type=_,this.sanitizeURL=xe,this.removeEmptyString=We}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(N){k[N]=new I(N,0,!1,N,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(N){var _=N[0];k[_]=new I(_,1,!1,N[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(N){k[N]=new I(N,2,!1,N.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(N){k[N]=new I(N,2,!1,N,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(N){k[N]=new I(N,3,!1,N.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(N){k[N]=new I(N,3,!0,N,null,!1,!1)}),["capture","download"].forEach(function(N){k[N]=new I(N,4,!1,N,null,!1,!1)}),["cols","rows","size","span"].forEach(function(N){k[N]=new I(N,6,!1,N,null,!1,!1)}),["rowSpan","start"].forEach(function(N){k[N]=new I(N,5,!1,N.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function R(N){return N[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(N){var _=N.replace(A,R);k[_]=new I(_,1,!1,N,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(N){var _=N.replace(A,R);k[_]=new I(_,1,!1,N,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(N){var _=N.replace(A,R);k[_]=new I(_,1,!1,N,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(N){k[N]=new I(N,1,!1,N.toLowerCase(),null,!1,!1)}),k.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(N){k[N]=new I(N,1,!1,N.toLowerCase(),null,!0,!0)});var j={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B=["Webkit","ms","Moz","O"];Object.keys(j).forEach(function(N){B.forEach(function(_){_=_+N.charAt(0).toUpperCase()+N.substring(1),j[_]=j[N]})});var L=/["'&<>]/;function z(N){if(typeof N=="boolean"||typeof N=="number")return""+N;N=""+N;var _=L.exec(N);if(_){var q="",ie,Fe=0;for(ie=_.index;ie<N.length;ie++){switch(N.charCodeAt(ie)){case 34:_="&quot;";break;case 38:_="&amp;";break;case 39:_="&#x27;";break;case 60:_="&lt;";break;case 62:_="&gt;";break;default:continue}Fe!==ie&&(q+=N.substring(Fe,ie)),Fe=ie+1,q+=_}N=Fe!==ie?q+N.substring(Fe,ie):q}return N}var U=/([A-Z])/g,W=/^ms-/,Z=Array.isArray,re=f("<script>"),Q=f("<\/script>"),ce=f('<script src="'),ee=f('<script type="module" src="'),fe=f('" async=""><\/script>'),$=/(<\/|<)(s)(cript)/gi;function le(N,_,q,ie){return _+(q==="s"?"\\u0073":"\\u0053")+ie}function oe(N,_,q,ie,Fe){N=N===void 0?"":N,_=_===void 0?re:f('<script nonce="'+z(_)+'">');var xe=[];if(q!==void 0&&xe.push(_,d((""+q).replace($,le)),Q),ie!==void 0)for(q=0;q<ie.length;q++)xe.push(ce,d(z(ie[q])),fe);if(Fe!==void 0)for(ie=0;ie<Fe.length;ie++)xe.push(ee,d(z(Fe[ie])),fe);return{bootstrapChunks:xe,startInlineScript:_,placeholderPrefix:f(N+"P:"),segmentPrefix:f(N+"S:"),boundaryPrefix:N+"B:",idPrefix:N,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function he(N,_){return{insertionMode:N,selectedValue:_}}function G(N){return he(N==="http://www.w3.org/2000/svg"?2:N==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function ne(N,_,q){switch(_){case"select":return he(1,q.value!=null?q.value:q.defaultValue);case"svg":return he(2,null);case"math":return he(3,null);case"foreignObject":return he(1,null);case"table":return he(4,null);case"thead":case"tbody":case"tfoot":return he(5,null);case"colgroup":return he(7,null);case"tr":return he(6,null)}return 4<=N.insertionMode||N.insertionMode===0?he(1,null):N}var pe=f("<!-- -->");function Ie(N,_,q,ie){return _===""?ie:(ie&&N.push(pe),N.push(d(z(_))),!0)}var Oe=new Map,Ye=f(' style="'),_e=f(":"),$e=f(";");function Ue(N,_,q){if(typeof q!="object")throw Error(t(62));_=!0;for(var ie in q)if(g.call(q,ie)){var Fe=q[ie];if(Fe!=null&&typeof Fe!="boolean"&&Fe!==""){if(ie.indexOf("--")===0){var xe=d(z(ie));Fe=d(z((""+Fe).trim()))}else{xe=ie;var We=Oe.get(xe);We!==void 0||(We=f(z(xe.replace(U,"-$1").toLowerCase().replace(W,"-ms-"))),Oe.set(xe,We)),xe=We,Fe=typeof Fe=="number"?Fe===0||g.call(j,ie)?d(""+Fe):d(Fe+"px"):d(z((""+Fe).trim()))}_?(_=!1,N.push(Ye,xe,_e,Fe)):N.push($e,xe,_e,Fe)}}_||N.push(Ce)}var Ke=f(" "),yt=f('="'),Ce=f('"'),rt=f('=""');function st(N,_,q,ie){switch(q){case"style":Ue(N,_,ie);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<q.length)||q[0]!=="o"&&q[0]!=="O"||q[1]!=="n"&&q[1]!=="N"){if(_=k.hasOwnProperty(q)?k[q]:null,_!==null){switch(typeof ie){case"function":case"symbol":return;case"boolean":if(!_.acceptsBooleans)return}switch(q=d(_.attributeName),_.type){case 3:ie&&N.push(Ke,q,rt);break;case 4:ie===!0?N.push(Ke,q,rt):ie!==!1&&N.push(Ke,q,yt,d(z(ie)),Ce);break;case 5:isNaN(ie)||N.push(Ke,q,yt,d(z(ie)),Ce);break;case 6:!isNaN(ie)&&1<=ie&&N.push(Ke,q,yt,d(z(ie)),Ce);break;default:_.sanitizeURL&&(ie=""+ie),N.push(Ke,q,yt,d(z(ie)),Ce)}}else if(T(q)){switch(typeof ie){case"function":case"symbol":return;case"boolean":if(_=q.toLowerCase().slice(0,5),_!=="data-"&&_!=="aria-")return}N.push(Ke,d(q),yt,d(z(ie)),Ce)}}}var dt=f(">"),It=f("/>");function Et(N,_,q){if(_!=null){if(q!=null)throw Error(t(60));if(typeof _!="object"||!("__html"in _))throw Error(t(61));_=_.__html,_!=null&&N.push(d(""+_))}}function _t(N){var _="";return e.Children.forEach(N,function(q){q!=null&&(_+=q)}),_}var Ut=f(' selected=""');function vn(N,_,q,ie){N.push(Xt(q));var Fe=q=null,xe;for(xe in _)if(g.call(_,xe)){var We=_[xe];if(We!=null)switch(xe){case"children":q=We;break;case"dangerouslySetInnerHTML":Fe=We;break;default:st(N,ie,xe,We)}}return N.push(dt),Et(N,Fe,q),typeof q=="string"?(N.push(d(z(q))),null):q}var $t=f(`
`),tn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,rn=new Map;function Xt(N){var _=rn.get(N);if(_===void 0){if(!tn.test(N))throw Error(t(65,N));_=f("<"+N),rn.set(N,_)}return _}var Ln=f("<!DOCTYPE html>");function lr(N,_,q,ie,Fe){switch(_){case"select":N.push(Xt("select"));var xe=null,We=null;for(jt in q)if(g.call(q,jt)){var nt=q[jt];if(nt!=null)switch(jt){case"children":xe=nt;break;case"dangerouslySetInnerHTML":We=nt;break;case"defaultValue":case"value":break;default:st(N,ie,jt,nt)}}return N.push(dt),Et(N,We,xe),xe;case"option":We=Fe.selectedValue,N.push(Xt("option"));var Dt=nt=null,Wt=null,jt=null;for(xe in q)if(g.call(q,xe)){var Cn=q[xe];if(Cn!=null)switch(xe){case"children":nt=Cn;break;case"selected":Wt=Cn;break;case"dangerouslySetInnerHTML":jt=Cn;break;case"value":Dt=Cn;default:st(N,ie,xe,Cn)}}if(We!=null)if(q=Dt!==null?""+Dt:_t(nt),Z(We)){for(ie=0;ie<We.length;ie++)if(""+We[ie]===q){N.push(Ut);break}}else""+We===q&&N.push(Ut);else Wt&&N.push(Ut);return N.push(dt),Et(N,jt,nt),nt;case"textarea":N.push(Xt("textarea")),jt=We=xe=null;for(nt in q)if(g.call(q,nt)&&(Dt=q[nt],Dt!=null))switch(nt){case"children":jt=Dt;break;case"value":xe=Dt;break;case"defaultValue":We=Dt;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:st(N,ie,nt,Dt)}if(xe===null&&We!==null&&(xe=We),N.push(dt),jt!=null){if(xe!=null)throw Error(t(92));if(Z(jt)&&1<jt.length)throw Error(t(93));xe=""+jt}return typeof xe=="string"&&xe[0]===`
`&&N.push($t),xe!==null&&N.push(d(z(""+xe))),null;case"input":N.push(Xt("input")),Dt=jt=nt=xe=null;for(We in q)if(g.call(q,We)&&(Wt=q[We],Wt!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":Dt=Wt;break;case"defaultValue":nt=Wt;break;case"checked":jt=Wt;break;case"value":xe=Wt;break;default:st(N,ie,We,Wt)}return jt!==null?st(N,ie,"checked",jt):Dt!==null&&st(N,ie,"checked",Dt),xe!==null?st(N,ie,"value",xe):nt!==null&&st(N,ie,"value",nt),N.push(It),null;case"menuitem":N.push(Xt("menuitem"));for(var Hr in q)if(g.call(q,Hr)&&(xe=q[Hr],xe!=null))switch(Hr){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:st(N,ie,Hr,xe)}return N.push(dt),null;case"title":N.push(Xt("title")),xe=null;for(Cn in q)if(g.call(q,Cn)&&(We=q[Cn],We!=null))switch(Cn){case"children":xe=We;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:st(N,ie,Cn,We)}return N.push(dt),xe;case"listing":case"pre":N.push(Xt(_)),We=xe=null;for(Dt in q)if(g.call(q,Dt)&&(nt=q[Dt],nt!=null))switch(Dt){case"children":xe=nt;break;case"dangerouslySetInnerHTML":We=nt;break;default:st(N,ie,Dt,nt)}if(N.push(dt),We!=null){if(xe!=null)throw Error(t(60));if(typeof We!="object"||!("__html"in We))throw Error(t(61));q=We.__html,q!=null&&(typeof q=="string"&&0<q.length&&q[0]===`
`?N.push($t,d(q)):N.push(d(""+q)))}return typeof xe=="string"&&xe[0]===`
`&&N.push($t),xe;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":N.push(Xt(_));for(var ko in q)if(g.call(q,ko)&&(xe=q[ko],xe!=null))switch(ko){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,_));default:st(N,ie,ko,xe)}return N.push(It),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return vn(N,q,_,ie);case"html":return Fe.insertionMode===0&&N.push(Ln),vn(N,q,_,ie);default:if(_.indexOf("-")===-1&&typeof q.is!="string")return vn(N,q,_,ie);N.push(Xt(_)),We=xe=null;for(Wt in q)if(g.call(q,Wt)&&(nt=q[Wt],nt!=null))switch(Wt){case"children":xe=nt;break;case"dangerouslySetInnerHTML":We=nt;break;case"style":Ue(N,ie,nt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:T(Wt)&&typeof nt!="function"&&typeof nt!="symbol"&&N.push(Ke,d(Wt),yt,d(z(nt)),Ce)}return N.push(dt),Et(N,We,xe),xe}}var $r=f("</"),tr=f(">"),nr=f('<template id="'),ji=f('"></template>'),xo=f("<!--$-->"),Uo=f('<!--$?--><template id="'),Li=f('"></template>'),Eo=f("<!--$!-->"),Ri=f("<!--/$-->"),ua=f("<template"),ui=f('"'),_i=f(' data-dgst="');f(' data-msg="'),f(' data-stck="');var te=f("></template>");function ge(N,_,q){if(o(N,Uo),q===null)throw Error(t(395));return o(N,q),i(N,Li)}var Ae=f('<div hidden id="'),Be=f('">'),He=f("</div>"),et=f('<svg aria-hidden="true" style="display:none" id="'),tt=f('">'),kt=f("</svg>"),Kt=f('<math aria-hidden="true" style="display:none" id="'),On=f('">'),wn=f("</math>"),jr=f('<table hidden id="'),Rn=f('">'),rr=f("</table>"),Lr=f('<table hidden><tbody id="'),ca=f('">'),bn=f("</tbody></table>"),co=f('<table hidden><tr id="'),fo=f('">'),Cr=f("</tr></table>"),zo=f('<table hidden><colgroup id="'),ho=f('">'),bl=f("</colgroup></table>");function Bi(N,_,q,ie){switch(q.insertionMode){case 0:case 1:return o(N,Ae),o(N,_.segmentPrefix),o(N,d(ie.toString(16))),i(N,Be);case 2:return o(N,et),o(N,_.segmentPrefix),o(N,d(ie.toString(16))),i(N,tt);case 3:return o(N,Kt),o(N,_.segmentPrefix),o(N,d(ie.toString(16))),i(N,On);case 4:return o(N,jr),o(N,_.segmentPrefix),o(N,d(ie.toString(16))),i(N,Rn);case 5:return o(N,Lr),o(N,_.segmentPrefix),o(N,d(ie.toString(16))),i(N,ca);case 6:return o(N,co),o(N,_.segmentPrefix),o(N,d(ie.toString(16))),i(N,fo);case 7:return o(N,zo),o(N,_.segmentPrefix),o(N,d(ie.toString(16))),i(N,ho);default:throw Error(t(397))}}function Hi(N,_){switch(_.insertionMode){case 0:case 1:return i(N,He);case 2:return i(N,kt);case 3:return i(N,wn);case 4:return i(N,rr);case 5:return i(N,bn);case 6:return i(N,Cr);case 7:return i(N,bl);default:throw Error(t(397))}}var cu=f('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Sl=f('$RS("'),Ba=f('","'),da=f('")<\/script>'),Ha=f('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Dl=f('$RC("'),Ya=f('","'),du=f('")<\/script>'),Sn=f('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Rr=f('$RX("'),ys=f('"'),vs=f(")<\/script>"),Yi=f(","),Tl=/[<\u2028\u2029]/g;function ci(N){return JSON.stringify(N).replace(Tl,function(_){switch(_){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Vo=Object.assign,po=Symbol.for("react.element"),Ua=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),ws=Symbol.for("react.strict_mode"),bs=Symbol.for("react.profiler"),Ss=Symbol.for("react.provider"),Wo=Symbol.for("react.context"),za=Symbol.for("react.forward_ref"),Ui=Symbol.for("react.suspense"),Zo=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),K=Symbol.for("react.scope"),ae=Symbol.for("react.debug_trace_mode"),Ne=Symbol.for("react.legacy_hidden"),Te=Symbol.for("react.default_value"),ze=Symbol.iterator;function ot(N){if(N==null)return null;if(typeof N=="function")return N.displayName||N.name||null;if(typeof N=="string")return N;switch(N){case vr:return"Fragment";case Ua:return"Portal";case bs:return"Profiler";case ws:return"StrictMode";case Ui:return"Suspense";case Zo:return"SuspenseList"}if(typeof N=="object")switch(N.$$typeof){case Wo:return(N.displayName||"Context")+".Consumer";case Ss:return(N._context.displayName||"Context")+".Provider";case za:var _=N.render;return N=N.displayName,N||(N=_.displayName||_.name||"",N=N!==""?"ForwardRef("+N+")":"ForwardRef"),N;case M:return _=N.displayName||null,_!==null?_:ot(N.type)||"Memo";case H:_=N._payload,N=N._init;try{return ot(N(_))}catch{}}return null}var ut={};function Nt(N,_){if(N=N.contextTypes,!N)return ut;var q={},ie;for(ie in N)q[ie]=_[ie];return q}var zt=null;function Tn(N,_){if(N!==_){N.context._currentValue=N.parentValue,N=N.parent;var q=_.parent;if(N===null){if(q!==null)throw Error(t(401))}else{if(q===null)throw Error(t(401));Tn(N,q)}_.context._currentValue=_.value}}function Co(N){N.context._currentValue=N.parentValue,N=N.parent,N!==null&&Co(N)}function mo(N){var _=N.parent;_!==null&&mo(_),N.context._currentValue=N.value}function _r(N,_){if(N.context._currentValue=N.parentValue,N=N.parent,N===null)throw Error(t(402));N.depth===_.depth?Tn(N,_):_r(N,_)}function di(N,_){var q=_.parent;if(q===null)throw Error(t(402));N.depth===q.depth?Tn(N,q):di(N,q),_.context._currentValue=_.value}function go(N){var _=zt;_!==N&&(_===null?mo(N):N===null?Co(_):_.depth===N.depth?Tn(_,N):_.depth>N.depth?_r(_,N):di(_,N),zt=N)}var Mo={isMounted:function(){return!1},enqueueSetState:function(N,_){N=N._reactInternals,N.queue!==null&&N.queue.push(_)},enqueueReplaceState:function(N,_){N=N._reactInternals,N.replace=!0,N.queue=[_]},enqueueForceUpdate:function(){}};function qr(N,_,q,ie){var Fe=N.state!==void 0?N.state:null;N.updater=Mo,N.props=q,N.state=Fe;var xe={queue:[],replace:!1};N._reactInternals=xe;var We=_.contextType;if(N.context=typeof We=="object"&&We!==null?We._currentValue:ie,We=_.getDerivedStateFromProps,typeof We=="function"&&(We=We(q,Fe),Fe=We==null?Fe:Vo({},Fe,We),N.state=Fe),typeof _.getDerivedStateFromProps!="function"&&typeof N.getSnapshotBeforeUpdate!="function"&&(typeof N.UNSAFE_componentWillMount=="function"||typeof N.componentWillMount=="function"))if(_=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),_!==N.state&&Mo.enqueueReplaceState(N,N.state,null),xe.queue!==null&&0<xe.queue.length)if(_=xe.queue,We=xe.replace,xe.queue=null,xe.replace=!1,We&&_.length===1)N.state=_[0];else{for(xe=We?_[0]:N.state,Fe=!0,We=We?1:0;We<_.length;We++){var nt=_[We];nt=typeof nt=="function"?nt.call(N,xe,q,ie):nt,nt!=null&&(Fe?(Fe=!1,xe=Vo({},xe,nt)):Vo(xe,nt))}N.state=xe}else xe.queue=null}var $o={id:1,overflow:""};function yo(N,_,q){var ie=N.id;N=N.overflow;var Fe=32-fa(ie)-1;ie&=~(1<<Fe),q+=1;var xe=32-fa(_)+Fe;if(30<xe){var We=Fe-Fe%5;return xe=(ie&(1<<We)-1).toString(32),ie>>=We,Fe-=We,{id:1<<32-fa(_)+Fe|q<<Fe|ie,overflow:xe+N}}return{id:1<<xe|q<<Fe|ie,overflow:N}}var fa=Math.clz32?Math.clz32:Ld,ha=Math.log,Jh=Math.LN2;function Ld(N){return N>>>=0,N===0?32:31-(ha(N)/Jh|0)|0}function Va(N,_){return N===_&&(N!==0||1/N===1/_)||N!==N&&_!==_}var Kh=typeof Object.is=="function"?Object.is:Va,fi=null,Ds=null,Il=null,En=null,on=!1,an=!1,hi=0,qo=null,fu=0;function Wa(){if(fi===null)throw Error(t(321));return fi}function hu(){if(0<fu)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Ts(){return En===null?Il===null?(on=!1,Il=En=hu()):(on=!0,En=Il):En.next===null?(on=!1,En=En.next=hu()):(on=!0,En=En.next),En}function Is(){Ds=fi=null,an=!1,Il=null,fu=0,En=qo=null}function bc(N,_){return typeof _=="function"?_(N):_}function Nn(N,_,q){if(fi=Wa(),En=Ts(),on){var ie=En.queue;if(_=ie.dispatch,qo!==null&&(q=qo.get(ie),q!==void 0)){qo.delete(ie),ie=En.memoizedState;do ie=N(ie,q.action),q=q.next;while(q!==null);return En.memoizedState=ie,[ie,_]}return[En.memoizedState,_]}return N=N===bc?typeof _=="function"?_():_:q!==void 0?q(_):_,En.memoizedState=N,N=En.queue={last:null,dispatch:null},N=N.dispatch=pi.bind(null,fi,N),[En.memoizedState,N]}function xs(N,_){if(fi=Wa(),En=Ts(),_=_===void 0?null:_,En!==null){var q=En.memoizedState;if(q!==null&&_!==null){var ie=q[1];e:if(ie===null)ie=!1;else{for(var Fe=0;Fe<ie.length&&Fe<_.length;Fe++)if(!Kh(_[Fe],ie[Fe])){ie=!1;break e}ie=!0}if(ie)return q[0]}}return N=N(),En.memoizedState=[N,_],N}function pi(N,_,q){if(25<=fu)throw Error(t(301));if(N===fi)if(an=!0,N={action:q,next:null},qo===null&&(qo=new Map),q=qo.get(_),q===void 0)qo.set(_,N);else{for(_=q;_.next!==null;)_=_.next;_.next=N}}function Sc(){throw Error(t(394))}function zi(){}var Mr={readContext:function(N){return N._currentValue},useContext:function(N){return Wa(),N._currentValue},useMemo:xs,useReducer:Nn,useRef:function(N){fi=Wa(),En=Ts();var _=En.memoizedState;return _===null?(N={current:N},En.memoizedState=N):_},useState:function(N){return Nn(bc,N)},useInsertionEffect:zi,useLayoutEffect:function(){},useCallback:function(N,_){return xs(function(){return N},_)},useImperativeHandle:zi,useEffect:zi,useDebugValue:zi,useDeferredValue:function(N){return Wa(),N},useTransition:function(){return Wa(),[!1,Sc]},useId:function(){var N=Ds.treeContext,_=N.overflow;N=N.id,N=(N&~(1<<32-fa(N)-1)).toString(32)+_;var q=Es;if(q===null)throw Error(t(404));return _=hi++,N=":"+q.idPrefix+"R"+N,0<_&&(N+="H"+_.toString(32)),N+":"},useMutableSource:function(N,_){return Wa(),_(N._source)},useSyncExternalStore:function(N,_,q){if(q===void 0)throw Error(t(407));return q()}},Es=null,kr=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Za(N){return console.error(N),null}function pa(){}function Cs(N,_,q,ie,Fe,xe,We,nt,Dt){var Wt=[],jt=new Set;return _={destination:null,responseState:_,progressiveChunkSize:ie===void 0?12800:ie,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:jt,pingedTasks:Wt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:Fe===void 0?Za:Fe,onAllReady:xe===void 0?pa:xe,onShellReady:We===void 0?pa:We,onShellError:nt===void 0?pa:nt,onFatalError:Dt===void 0?pa:Dt},q=ur(_,0,null,q,!1,!1),q.parentFlushed=!0,N=pu(_,N,null,q,jt,ut,null,$o),Wt.push(N),_}function pu(N,_,q,ie,Fe,xe,We,nt){N.allPendingTasks++,q===null?N.pendingRootTasks++:q.pendingTasks++;var Dt={node:_,ping:function(){var Wt=N.pingedTasks;Wt.push(Dt),Wt.length===1&&Tc(N)},blockedBoundary:q,blockedSegment:ie,abortSet:Fe,legacyContext:xe,context:We,treeContext:nt};return Fe.add(Dt),Dt}function ur(N,_,q,ie,Fe,xe){return{status:0,id:-1,index:_,parentFlushed:!1,chunks:[],children:[],formatContext:ie,boundary:q,lastPushedText:Fe,textEmbedded:xe}}function $a(N,_){if(N=N.onError(_),N!=null&&typeof N!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof N+'" instead');return N}function or(N,_){var q=N.onShellError;q(_),q=N.onFatalError,q(_),N.destination!==null?(N.status=2,m(N.destination,_)):(N.status=1,N.fatalError=_)}function xl(N,_,q,ie,Fe){for(fi={},Ds=_,hi=0,N=q(ie,Fe);an;)an=!1,hi=0,fu+=1,En=null,N=q(ie,Fe);return Is(),N}function mu(N,_,q,ie){var Fe=q.render(),xe=ie.childContextTypes;if(xe!=null){var We=_.legacyContext;if(typeof q.getChildContext!="function")ie=We;else{q=q.getChildContext();for(var nt in q)if(!(nt in xe))throw Error(t(108,ot(ie)||"Unknown",nt));ie=Vo({},We,q)}_.legacyContext=ie,Br(N,_,Fe),_.legacyContext=We}else Br(N,_,Fe)}function Vi(N,_){if(N&&N.defaultProps){_=Vo({},_),N=N.defaultProps;for(var q in N)_[q]===void 0&&(_[q]=N[q]);return _}return _}function Ms(N,_,q,ie,Fe){if(typeof q=="function")if(q.prototype&&q.prototype.isReactComponent){Fe=Nt(q,_.legacyContext);var xe=q.contextType;xe=new q(ie,typeof xe=="object"&&xe!==null?xe._currentValue:Fe),qr(xe,q,ie,Fe),mu(N,_,xe,q)}else{xe=Nt(q,_.legacyContext),Fe=xl(N,_,q,ie,xe);var We=hi!==0;if(typeof Fe=="object"&&Fe!==null&&typeof Fe.render=="function"&&Fe.$$typeof===void 0)qr(Fe,q,ie,xe),mu(N,_,Fe,q);else if(We){ie=_.treeContext,_.treeContext=yo(ie,1,0);try{Br(N,_,Fe)}finally{_.treeContext=ie}}else Br(N,_,Fe)}else if(typeof q=="string"){switch(Fe=_.blockedSegment,xe=lr(Fe.chunks,q,ie,N.responseState,Fe.formatContext),Fe.lastPushedText=!1,We=Fe.formatContext,Fe.formatContext=ne(We,q,ie),mi(N,_,xe),Fe.formatContext=We,q){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:Fe.chunks.push($r,d(q),tr)}Fe.lastPushedText=!1}else{switch(q){case Ne:case ae:case ws:case bs:case vr:Br(N,_,ie.children);return;case Zo:Br(N,_,ie.children);return;case K:throw Error(t(343));case Ui:e:{q=_.blockedBoundary,Fe=_.blockedSegment,xe=ie.fallback,ie=ie.children,We=new Set;var nt={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:We,errorDigest:null},Dt=ur(N,Fe.chunks.length,nt,Fe.formatContext,!1,!1);Fe.children.push(Dt),Fe.lastPushedText=!1;var Wt=ur(N,0,null,Fe.formatContext,!1,!1);Wt.parentFlushed=!0,_.blockedBoundary=nt,_.blockedSegment=Wt;try{if(mi(N,_,ie),Wt.lastPushedText&&Wt.textEmbedded&&Wt.chunks.push(pe),Wt.status=1,ks(nt,Wt),nt.pendingTasks===0)break e}catch(jt){Wt.status=4,nt.forceClientRender=!0,nt.errorDigest=$a(N,jt)}finally{_.blockedBoundary=q,_.blockedSegment=Fe}_=pu(N,xe,q,Dt,We,_.legacyContext,_.context,_.treeContext),N.pingedTasks.push(_)}return}if(typeof q=="object"&&q!==null)switch(q.$$typeof){case za:if(ie=xl(N,_,q.render,ie,Fe),hi!==0){q=_.treeContext,_.treeContext=yo(q,1,0);try{Br(N,_,ie)}finally{_.treeContext=q}}else Br(N,_,ie);return;case M:q=q.type,ie=Vi(q,ie),Ms(N,_,q,ie,Fe);return;case Ss:if(Fe=ie.children,q=q._context,ie=ie.value,xe=q._currentValue,q._currentValue=ie,We=zt,zt=ie={parent:We,depth:We===null?0:We.depth+1,context:q,parentValue:xe,value:ie},_.context=ie,Br(N,_,Fe),N=zt,N===null)throw Error(t(403));ie=N.parentValue,N.context._currentValue=ie===Te?N.context._defaultValue:ie,N=zt=N.parent,_.context=N;return;case Wo:ie=ie.children,ie=ie(q._currentValue),Br(N,_,ie);return;case H:Fe=q._init,q=Fe(q._payload),ie=Vi(q,ie),Ms(N,_,q,ie,void 0);return}throw Error(t(130,q==null?q:typeof q,""))}}function Br(N,_,q){if(_.node=q,typeof q=="object"&&q!==null){switch(q.$$typeof){case po:Ms(N,_,q.type,q.props,q.ref);return;case Ua:throw Error(t(257));case H:var ie=q._init;q=ie(q._payload),Br(N,_,q);return}if(Z(q)){In(N,_,q);return}if(q===null||typeof q!="object"?ie=null:(ie=ze&&q[ze]||q["@@iterator"],ie=typeof ie=="function"?ie:null),ie&&(ie=ie.call(q))){if(q=ie.next(),!q.done){var Fe=[];do Fe.push(q.value),q=ie.next();while(!q.done);In(N,_,Fe)}return}throw N=Object.prototype.toString.call(q),Error(t(31,N==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":N))}typeof q=="string"?(ie=_.blockedSegment,ie.lastPushedText=Ie(_.blockedSegment.chunks,q,N.responseState,ie.lastPushedText)):typeof q=="number"&&(ie=_.blockedSegment,ie.lastPushedText=Ie(_.blockedSegment.chunks,""+q,N.responseState,ie.lastPushedText))}function In(N,_,q){for(var ie=q.length,Fe=0;Fe<ie;Fe++){var xe=_.treeContext;_.treeContext=yo(xe,ie,Fe);try{mi(N,_,q[Fe])}finally{_.treeContext=xe}}}function mi(N,_,q){var ie=_.blockedSegment.formatContext,Fe=_.legacyContext,xe=_.context;try{return Br(N,_,q)}catch(Dt){if(Is(),typeof Dt=="object"&&Dt!==null&&typeof Dt.then=="function"){q=Dt;var We=_.blockedSegment,nt=ur(N,We.chunks.length,null,We.formatContext,We.lastPushedText,!0);We.children.push(nt),We.lastPushedText=!1,N=pu(N,_.node,_.blockedBoundary,nt,_.abortSet,_.legacyContext,_.context,_.treeContext).ping,q.then(N,N),_.blockedSegment.formatContext=ie,_.legacyContext=Fe,_.context=xe,go(xe)}else throw _.blockedSegment.formatContext=ie,_.legacyContext=Fe,_.context=xe,go(xe),Dt}}function Dc(N){var _=N.blockedBoundary;N=N.blockedSegment,N.status=3,_d(this,_,N)}function Rd(N,_,q){var ie=N.blockedBoundary;N.blockedSegment.status=3,ie===null?(_.allPendingTasks--,_.status!==2&&(_.status=2,_.destination!==null&&_.destination.close())):(ie.pendingTasks--,ie.forceClientRender||(ie.forceClientRender=!0,N=q===void 0?Error(t(432)):q,ie.errorDigest=_.onError(N),ie.parentFlushed&&_.clientRenderedBoundaries.push(ie)),ie.fallbackAbortableTasks.forEach(function(Fe){return Rd(Fe,_,q)}),ie.fallbackAbortableTasks.clear(),_.allPendingTasks--,_.allPendingTasks===0&&(ie=_.onAllReady,ie()))}function ks(N,_){if(_.chunks.length===0&&_.children.length===1&&_.children[0].boundary===null){var q=_.children[0];q.id=_.id,q.parentFlushed=!0,q.status===1&&ks(N,q)}else N.completedSegments.push(_)}function _d(N,_,q){if(_===null){if(q.parentFlushed){if(N.completedRootSegment!==null)throw Error(t(389));N.completedRootSegment=q}N.pendingRootTasks--,N.pendingRootTasks===0&&(N.onShellError=pa,_=N.onShellReady,_())}else _.pendingTasks--,_.forceClientRender||(_.pendingTasks===0?(q.parentFlushed&&q.status===1&&ks(_,q),_.parentFlushed&&N.completedBoundaries.push(_),_.fallbackAbortableTasks.forEach(Dc,N),_.fallbackAbortableTasks.clear()):q.parentFlushed&&q.status===1&&(ks(_,q),_.completedSegments.length===1&&_.parentFlushed&&N.partialBoundaries.push(_)));N.allPendingTasks--,N.allPendingTasks===0&&(N=N.onAllReady,N())}function Tc(N){if(N.status!==2){var _=zt,q=kr.current;kr.current=Mr;var ie=Es;Es=N.responseState;try{var Fe=N.pingedTasks,xe;for(xe=0;xe<Fe.length;xe++){var We=Fe[xe],nt=N,Dt=We.blockedSegment;if(Dt.status===0){go(We.context);try{Br(nt,We,We.node),Dt.lastPushedText&&Dt.textEmbedded&&Dt.chunks.push(pe),We.abortSet.delete(We),Dt.status=1,_d(nt,We.blockedBoundary,Dt)}catch(No){if(Is(),typeof No=="object"&&No!==null&&typeof No.then=="function"){var Wt=We.ping;No.then(Wt,Wt)}else{We.abortSet.delete(We),Dt.status=4;var jt=We.blockedBoundary,Cn=No,Hr=$a(nt,Cn);if(jt===null?or(nt,Cn):(jt.pendingTasks--,jt.forceClientRender||(jt.forceClientRender=!0,jt.errorDigest=Hr,jt.parentFlushed&&nt.clientRenderedBoundaries.push(jt))),nt.allPendingTasks--,nt.allPendingTasks===0){var ko=nt.onAllReady;ko()}}}}}Fe.splice(0,xe),N.destination!==null&&vu(N,N.destination)}catch(No){$a(N,No),or(N,No)}finally{Es=ie,kr.current=q,q===Mr&&go(_)}}}function gu(N,_,q){switch(q.parentFlushed=!0,q.status){case 0:var ie=q.id=N.nextSegmentId++;return q.lastPushedText=!1,q.textEmbedded=!1,N=N.responseState,o(_,nr),o(_,N.placeholderPrefix),N=d(ie.toString(16)),o(_,N),i(_,ji);case 1:q.status=2;var Fe=!0;ie=q.chunks;var xe=0;q=q.children;for(var We=0;We<q.length;We++){for(Fe=q[We];xe<Fe.index;xe++)o(_,ie[xe]);Fe=El(N,_,Fe)}for(;xe<ie.length-1;xe++)o(_,ie[xe]);return xe<ie.length&&(Fe=i(_,ie[xe])),Fe;default:throw Error(t(390))}}function El(N,_,q){var ie=q.boundary;if(ie===null)return gu(N,_,q);if(ie.parentFlushed=!0,ie.forceClientRender)ie=ie.errorDigest,i(_,Eo),o(_,ua),ie&&(o(_,_i),o(_,d(z(ie))),o(_,ui)),i(_,te),gu(N,_,q);else if(0<ie.pendingTasks){ie.rootSegmentID=N.nextSegmentId++,0<ie.completedSegments.length&&N.partialBoundaries.push(ie);var Fe=N.responseState,xe=Fe.nextSuspenseID++;Fe=f(Fe.boundaryPrefix+xe.toString(16)),ie=ie.id=Fe,ge(_,N.responseState,ie),gu(N,_,q)}else if(ie.byteSize>N.progressiveChunkSize)ie.rootSegmentID=N.nextSegmentId++,N.completedBoundaries.push(ie),ge(_,N.responseState,ie.id),gu(N,_,q);else{if(i(_,xo),q=ie.completedSegments,q.length!==1)throw Error(t(391));El(N,_,q[0])}return i(_,Ri)}function Cl(N,_,q){return Bi(_,N.responseState,q.formatContext,q.id),El(N,_,q),Hi(_,q.formatContext)}function qa(N,_,q){for(var ie=q.completedSegments,Fe=0;Fe<ie.length;Fe++)yu(N,_,q,ie[Fe]);if(ie.length=0,N=N.responseState,ie=q.id,q=q.rootSegmentID,o(_,N.startInlineScript),N.sentCompleteBoundaryFunction?o(_,Dl):(N.sentCompleteBoundaryFunction=!0,o(_,Ha)),ie===null)throw Error(t(395));return q=d(q.toString(16)),o(_,ie),o(_,Ya),o(_,N.segmentPrefix),o(_,q),i(_,du)}function yu(N,_,q,ie){if(ie.status===2)return!0;var Fe=ie.id;if(Fe===-1){if((ie.id=q.rootSegmentID)===-1)throw Error(t(392));return Cl(N,_,ie)}return Cl(N,_,ie),N=N.responseState,o(_,N.startInlineScript),N.sentCompleteSegmentFunction?o(_,Sl):(N.sentCompleteSegmentFunction=!0,o(_,cu)),o(_,N.segmentPrefix),Fe=d(Fe.toString(16)),o(_,Fe),o(_,Ba),o(_,N.placeholderPrefix),o(_,Fe),i(_,da)}function vu(N,_){n=new Uint8Array(512),r=0;try{var q=N.completedRootSegment;if(q!==null&&N.pendingRootTasks===0){El(N,_,q),N.completedRootSegment=null;var ie=N.responseState.bootstrapChunks;for(q=0;q<ie.length-1;q++)o(_,ie[q]);q<ie.length&&i(_,ie[q])}var Fe=N.clientRenderedBoundaries,xe;for(xe=0;xe<Fe.length;xe++){var We=Fe[xe];ie=_;var nt=N.responseState,Dt=We.id,Wt=We.errorDigest,jt=We.errorMessage,Cn=We.errorComponentStack;if(o(ie,nt.startInlineScript),nt.sentClientRenderFunction?o(ie,Rr):(nt.sentClientRenderFunction=!0,o(ie,Sn)),Dt===null)throw Error(t(395));o(ie,Dt),o(ie,ys),(Wt||jt||Cn)&&(o(ie,Yi),o(ie,d(ci(Wt||"")))),(jt||Cn)&&(o(ie,Yi),o(ie,d(ci(jt||"")))),Cn&&(o(ie,Yi),o(ie,d(ci(Cn)))),i(ie,vs)}Fe.splice(0,xe);var Hr=N.completedBoundaries;for(xe=0;xe<Hr.length;xe++)qa(N,_,Hr[xe]);Hr.splice(0,xe),a(_),n=new Uint8Array(512),r=0;var ko=N.partialBoundaries;for(xe=0;xe<ko.length;xe++){var No=ko[xe];e:{Fe=N,We=_;var Ml=No.completedSegments;for(nt=0;nt<Ml.length;nt++)if(!yu(Fe,We,No,Ml[nt])){nt++,Ml.splice(0,nt);var xc=!1;break e}Ml.splice(0,nt),xc=!0}if(!xc){N.destination=null,xe++,ko.splice(0,xe);return}}ko.splice(0,xe);var ma=N.completedBoundaries;for(xe=0;xe<ma.length;xe++)qa(N,_,ma[xe]);ma.splice(0,xe)}finally{a(_),N.allPendingTasks===0&&N.pingedTasks.length===0&&N.clientRenderedBoundaries.length===0&&N.completedBoundaries.length===0&&_.close()}}function Ic(N,_){try{var q=N.abortableTasks;q.forEach(function(ie){return Rd(ie,N,_)}),q.clear(),N.destination!==null&&vu(N,N.destination)}catch(ie){$a(N,ie),or(N,ie)}}return Gy.renderToReadableStream=function(N,_){return new Promise(function(q,ie){var Fe,xe,We=new Promise(function(jt,Cn){xe=jt,Fe=Cn}),nt=Cs(N,oe(_?_.identifierPrefix:void 0,_?_.nonce:void 0,_?_.bootstrapScriptContent:void 0,_?_.bootstrapScripts:void 0,_?_.bootstrapModules:void 0),G(_?_.namespaceURI:void 0),_?_.progressiveChunkSize:void 0,_?_.onError:void 0,xe,function(){var jt=new ReadableStream({type:"bytes",pull:function(Cn){if(nt.status===1)nt.status=2,m(Cn,nt.fatalError);else if(nt.status!==2&&nt.destination===null){nt.destination=Cn;try{vu(nt,Cn)}catch(Hr){$a(nt,Hr),or(nt,Hr)}}},cancel:function(){Ic(nt)}},{highWaterMark:0});jt.allReady=We,q(jt)},function(jt){We.catch(function(){}),ie(jt)},Fe);if(_&&_.signal){var Dt=_.signal,Wt=function(){Ic(nt,Dt.reason),Dt.removeEventListener("abort",Wt)};Dt.addEventListener("abort",Wt)}Tc(nt)})},Gy.version="18.2.0",Gy}var Gh,J3;Gh=cte();J3=dte();Gh.version;Gh.renderToString;var fte=Gh.renderToStaticMarkup;Gh.renderToNodeStream;Gh.renderToStaticNodeStream;J3.renderToReadableStream;const K3=ke.oneOf(["top","right","bottom","left","bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned","top-left-aligned","top-middle-aligned","top-right-aligned","auto"]),Q3=ke.oneOf(["top-middle","top-left","top-right","bottom-left","bottom-right","bottom-middle","middle-left","middle-right","middle-middle"]),X3=ke.shape({nextLabel:ke.string,prevLabel:ke.string,skipLabel:ke.string,doneLabel:ke.string,hidePrev:ke.bool,hideNext:ke.bool,tooltipPosition:K3,tooltipClass:ke.string,highlightClass:ke.string,exitOnEsc:ke.bool,exitOnOverlayClick:ke.bool,showStepNumbers:ke.bool,keyboardNavigation:ke.bool,showButtons:ke.bool,showBullets:ke.bool,showProgress:ke.bool,scrollToElement:ke.bool,overlayOpacity:ke.number,scrollPadding:ke.number,positionPrecedence:ke.arrayOf(ke.string),disableInteraction:ke.bool,hintPosition:Q3,hintButtonLabel:ke.string,hintAnimation:ke.bool}),ek={hidePrev:!0,hideNext:!0};function tk(){return typeof window>"u"}class D1 extends F.Component{constructor(n){super(n);De(this,"onExit",()=>{const{onExit:n}=this.props;this.isVisible=!1,n(this.introJs._currentStep)});De(this,"onBeforeExit",()=>{const{onBeforeExit:n}=this.props;return n?n(this.introJs._currentStep):!0});De(this,"onBeforeChange",n=>{if(!this.isVisible)return!0;const{onBeforeChange:r,onPreventChange:o}=this.props;if(r){const i=r(this.introJs._currentStep,n);return i===!1&&o&&setTimeout(()=>{o(this.introJs._currentStep)},0),i}return!0});De(this,"onAfterChange",n=>{if(!this.isVisible)return;const{onAfterChange:r}=this.props;r&&r(this.introJs._currentStep,n)});De(this,"onChange",n=>{if(!this.isVisible)return;const{onChange:r}=this.props;r&&r(this.introJs._currentStep,n)});De(this,"onComplete",()=>{const{onComplete:n}=this.props;n&&n()});De(this,"updateStepElement",n=>{const r=document.querySelector(this.introJs._options.steps[n].element);r&&(this.introJs._introItems[n].element=r,this.introJs._introItems[n].position=this.introJs._options.steps[n].position||"auto")});this.introJs=null,this.isConfigured=!1,this.isVisible=!1,this.installIntroJs()}componentDidMount(){this.props.enabled&&(this.configureIntroJs(),this.renderSteps())}componentDidUpdate(n){const{enabled:r,steps:o,options:i}=this.props;(!this.isConfigured||n.steps!==o||n.options!==i)&&(this.configureIntroJs(),this.renderSteps()),n.enabled!==r&&this.renderSteps()}componentWillUnmount(){this.introJs.exit()}installIntroJs(){tk()||(this.introJs=Gv(),this.introJs.onexit(this.onExit),this.introJs.onbeforeexit(this.onBeforeExit),this.introJs.onbeforechange(this.onBeforeChange),this.introJs.onafterchange(this.onAfterChange),this.introJs.onchange(this.onChange),this.introJs.oncomplete(this.onComplete))}configureIntroJs(){const{options:n,steps:r}=this.props,o=r.map(i=>F.isValidElement(i.intro)?{...i,intro:fte(i.intro)}:i);this.introJs.setOptions({...n,steps:o}),this.isConfigured=!0}renderSteps(){const{enabled:n,initialStep:r,steps:o,onStart:i}=this.props;n&&o.length>0&&!this.isVisible?(this.introJs.start(),this.isVisible=!0,this.introJs.goToStepNumber(r+1),i&&i(this.introJs._currentStep)):!n&&this.isVisible&&(this.isVisible=!1,this.introJs.exit())}render(){return null}}De(D1,"propTypes",{enabled:ke.bool,initialStep:ke.number.isRequired,steps:ke.arrayOf(ke.shape({element:ke.oneOfType([ke.string,typeof Element>"u"?ke.any:ke.instanceOf(Element)]),intro:ke.node.isRequired,position:K3,tooltipClass:ke.string,highlightClass:ke.string})).isRequired,onStart:ke.func,onExit:ke.func.isRequired,onBeforeExit:ke.func,onBeforeChange:ke.func,onAfterChange:ke.func,onChange:ke.func,onPreventChange:ke.func,onComplete:ke.func,options:X3}),De(D1,"defaultProps",{enabled:!1,onStart:null,onBeforeExit:null,onBeforeChange:null,onAfterChange:null,onChange:null,onPreventChange:null,onComplete:null,options:ek});class BI extends F.Component{constructor(t){super(t),this.introJs=null,this.isConfigured=!1,this.installIntroJs()}componentDidMount(){this.props.enabled&&(this.configureIntroJs(),this.renderHints())}componentDidUpdate(t){const{enabled:n,hints:r,options:o}=this.props;(!this.isConfigured||t.hints!==r||t.options!==o)&&(this.configureIntroJs(),this.renderHints()),t.enabled!==n&&this.renderHints()}componentWillUnmount(){this.introJs.hideHints()}installIntroJs(){if(tk())return;this.introJs=Gv();const{onClick:t,onClose:n}=this.props;t&&this.introJs.onhintclick(t),n&&this.introJs.onhintclose(n)}configureIntroJs(){const{options:t,hints:n}=this.props;this.introJs.removeHints(),this.introJs.setOptions({...t,hints:n}),this.isConfigured=!0}renderHints(){const{enabled:t,hints:n}=this.props;t&&n.length>0?this.introJs.showHints():t||this.introJs.hideHints()}render(){return null}}De(BI,"propTypes",{enabled:ke.bool,hints:ke.arrayOf(ke.shape({element:ke.string.isRequired,hint:ke.string.isRequired,hintPosition:Q3})).isRequired,onClick:ke.func,onClose:ke.func,options:X3}),De(BI,"defaultProps",{enabled:!1,onClick:null,onClose:null,options:ek});const hte=[{element:".left-sidebar",intro:E("This is Thino's sidebar. Navigate to different path or select query filter.")},{element:".user-banner-container",intro:E("Click here and go to settings page.")},{element:".path-entry-wrapper",intro:E("Click here and go to different path.")},{element:".queries-wrapper",intro:E("Select or create query filter here.")},{element:".status-text-container.sidebar",intro:E("See the status of Thinos here.")+E("It is not available on small view")},{element:".heatmap-default",intro:E("See your time status of thinos here.")},{element:".tags-wrapper",intro:E("See your tags here. Tags will be shown when thino contains tags.")},{element:".section-header-container.memos-header-container",intro:E("Search your thino quickly here.")},{element:".memo-editor-wrapper",intro:E("Edit or create your thino here.")},{element:".memolist-wrapper",intro:E("See your thinos here.")}],pte=[{element:".memos-sidebar-wrapper.left-sidebar",intro:E("This is Thino's sidebar. Navigate to different path or select query filter.")},{element:".user-banner-container",intro:E("Click here and go to settings page.")},{element:".heatmap-default",intro:E("See your time status of thinos here.")},{element:".path-entry-wrapper",intro:E("Click here and go to different path.")},{element:".queries-wrapper",intro:E("Select or create query filter here.")},{element:".tags-wrapper",intro:E("See your tags here. Tags will be shown when thino contains tags.")},{element:".section-header-container.memos-header-container",intro:E("Search your thino quickly here.")},{element:".memo-editor-wrapper",intro:E("Edit or create your thino here.")},{element:".memolist-wrapper",intro:E("See your thinos here.")}],mte={nextLabel:E("Next"),prevLabel:E("Previous"),doneLabel:E("Done"),hideNext:!1};function gte(){var v;const{dailyNotesState:{settings:e,verifyState:t},locationState:{pathname:n},globalState:{isMobileView:r,memoListView:o,globalEditorShown:i,locked:a,exited:u}}=F.useContext(Ot),d=F.useRef(null),f=F.useRef(null),m=e?e.FirstLoaded:(v=app.plugins.getPlugin("obsidian-memos").settings)==null?void 0:v.FirstLoaded;F.useEffect(()=>{if(!e.needVerify){ft.setLocked(!1);return}ft.setLocked(!0)},[e==null?void 0:e.needVerify]),F.useEffect(()=>{if(!f.current)return;(async()=>{var I;const S=!C.Platform.isDesktop&&await((I=window.Capacitor)==null?void 0:I.Plugins.Device.getId()),T=C.Platform.isDesktop?await er():S.identifier||S.uuid;!t||(t==null?void 0:t.appId)!==T?f.current.toggleClass("hide-pro",!0):f.current.toggleClass("hide-pro",!1)})()},[t,f.current]);const g=()=>{ft.setExitSteps(!1)};return y.jsxs(y.Fragment,{children:[m&&y.jsx(tte,{}),y.jsx(D1,{ref:d,enabled:u,steps:(e==null?void 0:e.DefaultThemeForThino)==="modern"?hte:pte,initialStep:0,onExit:g,options:mte,onBeforeChange:b=>{(r&&(e==null?void 0:e.DefaultThemeForThino)==="classic"&&b===6||r&&(e==null?void 0:e.DefaultThemeForThino)==="modern"&&b===7)&&ft.setShowSiderbarInMobileView(!1)}}),a&&!m&&y.jsx(ete,{}),!a&&!m&&i&&y.jsx(wd,{editorType:"block"}),!a&&!m&&!i&&y.jsx("section",{ref:f,id:"page-wrapper","data-path":n,className:Gn(`memos-${n==="/"?o:"list"}-view`,(e==null?void 0:e.DefaultThemeForThino)==="modern"?"modern":"classic"),children:y.jsxs(y.Fragment,{children:[y.jsx(NI,{sidebarPosition:"left",className:"left-sidebar"}),y.jsx("main",{className:"content-wrapper",children:Fte(n)}),(e==null?void 0:e.DefaultThemeForThino)==="modern"&&!r?y.jsx(NI,{sidebarPosition:"right",className:"right-sidebar"}):null]})})]})}const yte={"*":y.jsx(gte,{})},vte=e=>{const{memo:t,handleDeletedMemoAction:n}=e,{dailyNotesState:r}=F.useContext(Ot),o={...t,createdAtStr:lt.getDateTimeString(t.createdAt),deletedAtStr:lt.getDateTimeString(t.deletedAt||t.createdAt)},i=se.useRef(null),a=se.useRef(null),[u,d]=se.useState(""),[f,m]=ml(!1),g={restore:F.useRef(null),delete:F.useRef(null),source:F.useRef(null)};F.useEffect(()=>{a&&(C.setIcon(g.restore.current,"archive-restore"),C.setIcon(g.delete.current,"trash"),C.setIcon(g.source.current,"home"))},[a]),F.useEffect(()=>{if(!i.current||!a.current||i.current.hasChildNodes()&&t.content===u||!r.view)return;const I=r.view;d(t.content),i.current.hasChildNodes()&&i.current.empty();async function k(){var R;await C.MarkdownRenderer.render(r.app,t.content+`
`,i.current,t.path,I);const A=(R=i.current)==null?void 0:R.querySelectorAll(".internal-link");A==null||A.forEach(j=>{const B=j,L=B.getAttribute("data-href");if(!L)return;r.app.metadataCache.getFirstLinkpathDest(L,t.path)||j.classList.add("is-unresolved"),B.addEventListener("mouseover",U=>{U.stopPropagation(),r.app.workspace.trigger("hover-link",{event:U,source:"thino",hoverParent:I.containerEl,targetEl:B,linktext:L,sourcePath:B.href})})})}k()},[t.content,a]);const v=async()=>{if(f)try{await Re.deleteMemoById(o.id),n(o.id)}catch(I){new C.Notice(I.message)}else m()},b=async()=>{switch(o.sourceType){case"DAILY":await Y1(o.id,o.path);break;case"CANVAS":await z1(o.id,o.path);break;case"MULTI":await H1(o.path);break;case"FILE":await U1(o.id,o.path);break}},S=async()=>{try{const I=await Re.restoreMemoById(o.id),k=r.app,A=k==null?void 0:k.loadLocalStorage("tokenForSync");I&&I.webId&&A&&r.settings.startSync&&await Rx(I.webId),I&&Re.editMemo(I),n(o.id),new C.Notice(E("RESTORE SUCCEED"))}catch(I){new C.Notice(I.message)}},T=()=>{f&&m(!1)};return y.jsxs("div",{ref:a,className:`memo-wrapper ${"memos-"+o.id}`,onMouseLeave:T,children:[y.jsxs("div",{className:"memo-top-wrapper",children:[y.jsxs("span",{className:"time-text",children:[E("DELETE AT")," ",o.deletedAtStr]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:I=>{I&&C.setIcon(I,"more-horizontal")},className:"btn more-action-btn"}),y.jsx("div",{className:"more-action-btns-wrapper",children:y.jsxs("div",{className:"more-action-btns-container",children:[y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:g.restore,className:"more-action-item-icon"}),y.jsx("span",{className:"btn restore-btn",onClick:S,children:E("RESTORE")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:g.source,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:b,children:E("SOURCE")})]}),y.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[y.jsx("span",{ref:g.delete,className:"more-action-item-icon"}),y.jsx("span",{className:`btn delete-btn ${f?"final-confirm":""}`,onClick:v,children:E(f?"CONFIRM！":"DELETE")})]})]})})]})]}),y.jsx("div",{ref:i,className:"memo-content-text",onContextMenu:I=>{I.preventDefault(),I.stopPropagation()}})]})},wte=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:o,type:i,text:a,filter:u}=t,d=Qt.getQueryById(u);return!!(r||o&&o.from<o.to||i||a||d)||d||n?e.filter(m=>{let g=!0;if(m.thinoType!==void 0&&n&&m.thinoType==="TASK-DONE"&&(g=!1),m.content.contains("comment:")&&(g=!1),d){const v=JSON.parse(d.querystring);Array.isArray(v)&&(g=jh(m,v))}if(r){const v=new Set;for(const b of Array.from(m.content.match(yr)||[])){const T=b.replace(yr,"$1").trim().split("/");let I="";for(const k of T)I+=k,v.add(I),I+="/"}for(const b of Array.from(m.content.match(Or)||[])){const T=b.replace(Or,"$1").trim().split("/");let I="";for(const k of T)I+=k,v.add(I),I+="/"}for(const b of Array.from(m.content.match(so)||[])){const T=b.replace(so,"$2").trim().split("/");let I="";for(const k of T)I+=k,v.add(I),I+="/"}v.has(r)||(g=!1)}return o&&o.from<o.to&&(lt.getTimeStampByDate(m.createdAt)<o.from||lt.getTimeStampByDate(m.createdAt)>o.to)&&(g=!1),i&&(i==="NOT_TAGGED"&&(m.content.match(yr)!==null||m.content.match(so)!==null||m.content.match(Or)!==null)||i==="LINKED"&&m.content.match(Fd)===null||i==="IMAGED"&&m.content.match(Pd)===null||i==="CONNECTED"&&m.content.match(hc)===null)&&(g=!1),a&&!m.content.toLowerCase().includes(a.toLowerCase())&&(g=!1),g}):e.filter(m=>!m.content.contains("comment:"))},bte=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=F.useContext(Ot),r=$h(),[o,i]=F.useState([]),a=se.useRef(null);F.useEffect(()=>{const f=wte({memos:n.filter(m=>m.deletedAt!==""&&m.deletedAt),query:e,HideDoneTasks:!1});i(f),r.setFinish()},[n,a.current,e]);const u=F.useCallback(f=>{i(m=>m.filter(g=>g.id!==f))},[]),d=F.useCallback(()=>{ft.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"memo-trash-wrapper",ref:a,children:[y.jsxs("div",{className:"section-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(Aa,{when:t,children:y.jsx("button",{ref:f=>{f&&C.setIcon(f,"menu")},className:"btn action-btn clickable-icon",onClick:d})}),y.jsxs("span",{className:"go-home-btn",onClick:()=>{at.clearQuery(),at.setPathname("/")},children:["🏠 ",E("Return To Home Page")]})]}),y.jsx(sg,{})]}),y.jsx(Ig,{thinosCount:o.length,thinos:o}),r.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:E("Fetching data...")})}):o.length===0?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:E("Here is No Memos.")})}):y.jsx("div",{className:"deleted-memos-container",children:o.map(f=>y.jsx(vte,{memo:f,handleDeletedMemoAction:u},`${f.id}-${f.updatedAt}`))})]})},Jy="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='currentColor'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M19%203H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2zm0%2016H5V5h14v14zM17.99%209l-1.41-1.42-6.59%206.59-2.58-2.57-1.42%201.41%204%203.99z'/%3e%3c/svg%3e",Ky="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='currentColor'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0V0z'/%3e%3cpath%20d='M19%205v14H5V5h14m0-2H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2z'/%3e%3c/svg%3e",Ste=()=>{const{globalState:e}=F.useContext(Ot),{useTinyUndoHistoryCache:t,shouldHideImageUrl:n,shouldSplitMemoWord:r,shouldUseMarkdownParser:o}=e,i=`👋 你好呀～欢迎使用memos!
* ✨ **开源项目**；
* 😋 精美且细节的视觉样式；
* 📑 体验优良的交互逻辑；`,a=()=>{ft.setAppSetting({useTinyUndoHistoryCache:!t})},u=()=>{ft.setAppSetting({shouldSplitMemoWord:!r})},d=()=>{ft.setAppSetting({shouldHideImageUrl:!n})},f=()=>{ft.setAppSetting({shouldUseMarkdownParser:!o})},m=async()=>{const g=Re.getState().memos.map(S=>({...S})),v=JSON.stringify(g),b=document.createElement("a");b.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(v)),b.setAttribute("download","data.json"),b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"section-container preferences-section-container",children:[y.jsx("p",{className:"title-text",children:"Memo 显示相关"}),y.jsx("div",{className:"demo-content-container memo-content-text",dangerouslySetInnerHTML:{__html:Ab(i)}}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:u,children:[y.jsx("span",{className:"normal-text",children:"中英文内容自动间隔"}),y.jsx("img",{className:"icon-img",src:r?Jy:Ky})]}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:f,children:[y.jsx("span",{className:"normal-text",children:"部分 markdown 格式解析"}),y.jsx("img",{className:"icon-img",src:o?Jy:Ky})]}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:d,children:[y.jsx("span",{className:"normal-text",children:"隐藏图片链接地址"}),y.jsx("img",{className:"icon-img",src:n?Jy:Ky})]})]}),y.jsxs("div",{className:"section-container preferences-section-container",children:[y.jsx("p",{className:"title-text",children:"编辑器"}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:a,children:[y.jsxs("span",{className:"normal-text",children:["启用"," ",y.jsx("a",{target:"_blank",href:"https://github.com/boojack/tiny-undo",onClick:g=>g.stopPropagation(),rel:"noreferrer",children:"tiny-undo"})]}),y.jsx("img",{className:"icon-img",src:t?Jy:Ky})]})]}),y.jsxs("div",{className:"section-container hidden",children:[y.jsx("p",{className:"title-text",children:"其他"}),y.jsx("div",{className:"btn-container",children:y.jsx("button",{className:"btn export-btn",onClick:m,children:"导出数据(JSON)"})})]})]})},Dte=()=>{const{globalState:{isMobileView:e}}=F.useContext(Ot);F.useEffect(()=>{Re.fetchAllMemos()},[]);const t=F.useCallback(()=>{ft.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"preference-wrapper",children:[y.jsx("div",{className:"section-header-container",children:y.jsxs("div",{className:"title-text",children:[y.jsx(Aa,{when:e,children:y.jsx("button",{className:"action-btn",onClick:t})}),y.jsx("span",{className:"normal-text",children:"账号与设置"})]})}),y.jsx("div",{className:"sections-wrapper",children:y.jsx(Ste,{})})]})},Tte=e=>{const{dailyNotesState:{app:t,settings:n,view:r}}=F.useContext(Ot),{memo:o,handleUnarchivedMemoAction:i}=e,a=se.useRef(null),u=se.useRef(null),[d,f]=se.useState(""),m={...o,createdAtStr:lt.getDateTimeString(o.createdAt),deletedAtStr:lt.getDateTimeString(o.deletedAt||o.createdAt)},[g,v]=ml(!1),b={restore:F.useRef(null),delete:F.useRef(null),source:F.useRef(null)};F.useEffect(()=>{u&&(C.setIcon(b.restore.current,"archive-restore"),C.setIcon(b.delete.current,"trash"),C.setIcon(b.source.current,"home"))},[u]),F.useEffect(()=>{if(!a.current||!u.current||a.current.hasChildNodes()&&o.content===d||!r)return;f(o.content),a.current.hasChildNodes()&&a.current.empty();async function A(){var j,B;(j=a.current)==null||j.toggleClass(["markdown-rendered"],!0),await C.MarkdownRenderer.render(t,o.content+`
`,a.current,o.path,r);const R=(B=a.current)==null?void 0:B.querySelectorAll(".internal-link");R==null||R.forEach(L=>{const z=L,U=z.getAttribute("data-href");if(!U)return;t.metadataCache.getFirstLinkpathDest(U,o.path)||L.classList.add("is-unresolved"),z.addEventListener("mouseover",Z=>{Z.stopPropagation(),t.workspace.trigger("hover-link",{event:Z,source:"thino",hoverParent:r.containerEl,targetEl:z,linktext:U,sourcePath:z.href})})})}A()},[o.content,u]);const S=async()=>{switch(m.sourceType){case"DAILY":await Y1(m.id,m.path);break;case"CANVAS":await z1(m.id,m.path);break;case"MULTI":await H1(m.path);break;case"FILE":await U1(m.id,m.path);break}},T=async()=>{if(g)try{if(n.DeleteThinoDirectly)await Re.deleteMemoById(m.id);else{const A=await Re.hideMemoById(m.id);A&&Re.editMemo(A)}}catch(A){new C.Notice(A.message)}else v()},I=async()=>{try{const A=await Re.unarchiveMemo(m);A&&Re.editMemo(A),i(m.id),new C.Notice(E("RESTORE SUCCEED"))}catch(A){new C.Notice(A.message)}},k=()=>{g&&v(!1)};return y.jsxs("div",{ref:u,className:`memo-wrapper ${"memos-"+m.id}`,onMouseLeave:k,children:[y.jsxs("div",{className:"memo-top-wrapper",children:[y.jsxs("span",{className:"time-text",children:[E("ARCHIVED AT")," ",m.updatedAt]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:A=>{A&&C.setIcon(A,"more-horizontal")},className:"btn more-action-btn"}),y.jsx("div",{className:"more-action-btns-wrapper",children:y.jsxs("div",{className:"more-action-btns-container",children:[y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:b.restore,className:"more-action-item-icon"}),y.jsx("span",{className:"btn restore-btn",onClick:I,children:E("RESTORE")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:b.source,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:S,children:E("SOURCE")})]}),y.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[y.jsx("span",{ref:b.delete,className:"more-action-item-icon"}),y.jsx("span",{className:`btn delete-btn ${g?"final-confirm":""}`,onClick:T,children:E(g?"CONFIRM！":"DELETE")})]})]})})]})]}),y.jsx("div",{ref:a,className:"memo-content-text"})]})},Ite=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:o,type:i,text:a,filter:u}=t,d=Qt.getQueryById(u);return!!(r||o&&o.from<o.to||i||a||d)||d||n?e.filter(m=>{let g=!0;if(m.thinoType!==void 0&&n&&m.thinoType==="TASK-DONE"&&(g=!1),m.content.contains("comment:")&&(g=!1),d){const v=JSON.parse(d.querystring);Array.isArray(v)&&(g=jh(m,v))}if(r){const v=new Set;for(const b of Array.from(m.content.match(yr)||[])){const T=b.replace(yr,"$1").trim().split("/");let I="";for(const k of T)I+=k,v.add(I),I+="/"}for(const b of Array.from(m.content.match(Or)||[])){const T=b.replace(Or,"$1").trim().split("/");let I="";for(const k of T)I+=k,v.add(I),I+="/"}for(const b of Array.from(m.content.match(so)||[])){const T=b.replace(so,"$2").trim().split("/");let I="";for(const k of T)I+=k,v.add(I),I+="/"}v.has(r)||(g=!1)}return o&&o.from<o.to&&(lt.getTimeStampByDate(m.createdAt)<o.from||lt.getTimeStampByDate(m.createdAt)>o.to)&&(g=!1),i&&(i==="NOT_TAGGED"&&(m.content.match(yr)!==null||m.content.match(so)!==null||m.content.match(Or)!==null)||i==="LINKED"&&m.content.match(Fd)===null||i==="IMAGED"&&m.content.match(Pd)===null||i==="CONNECTED"&&m.content.match(hc)===null)&&(g=!1),a&&!m.content.toLowerCase().includes(a.toLowerCase())&&(g=!1),g}):e.filter(m=>!m.content.contains("comment:"))},xte=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=F.useContext(Ot),r=$h(),[o,i]=F.useState([]),a=se.useRef(null);F.useEffect(()=>{const m=Ite({memos:n.filter(g=>g.rowStatus==="ARCHIVED"&&g.deletedAt===""),query:e,HideDoneTasks:!1});i(m),r.setFinish()},[n,a.current,e]);const u=F.useCallback(m=>{i(g=>g.filter(v=>v.id!==m))},[]),d=F.useCallback(m=>{i(g=>g.filter(v=>v.id!==m))},[]),f=F.useCallback(()=>{ft.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"memo-trash-wrapper",ref:a,children:[y.jsxs("div",{className:"section-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(Aa,{when:t,children:y.jsx("button",{ref:m=>{m&&C.setIcon(m,"menu")},className:"btn action-btn clickable-icon",onClick:f})}),y.jsxs("span",{className:"go-home-btn",onClick:()=>{at.clearQuery(),at.setPathname("/")},children:["🏠 ",E("Return To Home Page")]})]}),y.jsx(sg,{})]}),y.jsx(Ig,{thinosCount:o.length,thinos:o}),r.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("p",{className:"tip-text",children:E("Fetching data...")})}):o.length===0?y.jsx("div",{className:"tip-text-container",children:y.jsx("p",{className:"tip-text",children:E("Here is No Memos.")})}):y.jsx("div",{className:"deleted-memos-container",children:o.map(m=>y.jsx(Tte,{memo:m,handleUnarchivedMemoAction:d,handleDeletedMemoAction:u},`${m.id}-${m.updatedAt}`))})]})},Ete=()=>{const{dailyNotesState:{app:e},locationState:{query:t},globalState:{isMobileView:n,changedByMemos:r},memoState:{memos:o}}=F.useContext(Ot),i=$h(),[a,u]=F.useState([]),[d,f]=F.useState([]),m=se.useRef(null),g=se.useRef(null),[v,b]=F.useState(!1),[S,T]=F.useState([]),I=se.useRef([]),k=F.useCallback(({memos:j,query:B,HideDoneTasks:L})=>{const{tag:z,duration:U,type:W,text:Z,filter:re}=B,Q=Qt.getQueryById(re);return!!(z||U&&U.from<U.to||W||Z||Q)||Q||L?j.filter(ee=>{let fe=!0;if(ee.thinoType!==void 0&&L&&ee.thinoType==="TASK-DONE"&&(fe=!1),ee.content.contains("comment:")&&(fe=!1),Q){const $=JSON.parse(Q.querystring);Array.isArray($)&&(fe=jh(ee,$))}if(z){const $=new Set;for(const le of Array.from(ee.content.match(yr)||[])){const he=le.replace(yr,"$1").trim().split("/");let G="";for(const ne of he)G+=ne,$.add(G),G+="/"}for(const le of Array.from(ee.content.match(Or)||[])){const he=le.replace(Or,"$1").trim().split("/");let G="";for(const ne of he)G+=ne,$.add(G),G+="/"}for(const le of Array.from(ee.content.match(so)||[])){const he=le.replace(so,"$2").trim().split("/");let G="";for(const ne of he)G+=ne,$.add(G),G+="/"}$.has(z)||(fe=!1)}return U&&U.from<U.to&&(lt.getTimeStampByDate(ee.createdAt)<U.from||lt.getTimeStampByDate(ee.createdAt)>U.to)&&(fe=!1),W&&(W==="NOT_TAGGED"&&(ee.content.match(yr)!==null||ee.content.match(Or)!==null)||W==="LINKED"&&ee.content.match(Fd)===null||W==="IMAGED"&&ee.content.match(Pd)===null||W==="CONNECTED"&&ee.content.match(hc)===null)&&(fe=!1),Z&&!ee.content.toLowerCase().includes(Z.toLowerCase())&&(fe=!1),fe}):j},[]);F.useEffect(()=>{g.current&&(C.setIcon(g.current,"refresh-cw"),e.workspace.on("refresh-review-memos",R))},[g]),F.useEffect(()=>{if(!v)return;if(t){const L=[...k({memos:o,query:t,HideDoneTasks:!1})].sort(()=>Math.random()-Math.random()).slice(0,10);u(L),b(!1);return}const j=[...S].sort(()=>Math.random()-Math.random()).slice(0,10);u(j),b(!1)},[v]),F.useEffect(()=>{if(!(S.length>0))return;const j=[...S].sort(()=>Math.random()-Math.random()).slice(0,10);u(j),b(!1)},[S]),F.useEffect(()=>{m.current&&(T(k({memos:o,query:t,HideDoneTasks:!1}).filter(j=>j.rowStatus!=="ARCHIVED"&&!(j.deletedAt!==""&&j.deletedAt))),i.setFinish(),at.clearQuery())},[o,m.current]),F.useEffect(()=>{if(r&&I.current.length>0){const j=S.filter(L=>I.current.includes(L.id)),B=I.current.map(L=>j.find(z=>z.id===L)).filter(L=>L!==void 0);f(B);return}I.current=a.map(j=>j.id),f(a)},[a]),F.useEffect(()=>{if(a.length===0)return;const j=k({memos:a,query:t,HideDoneTasks:!1});f(j)},[t]);const A=F.useCallback(()=>{ft.setShowSiderbarInMobileView(!0)},[]),R=()=>{b(!0)};return y.jsxs("div",{className:"memo-review-wrapper",ref:m,children:[y.jsx("div",{className:"section-header-container",children:y.jsxs("div",{className:"title-wrapper",children:[y.jsxs("div",{className:"title-btns-left-wrapper",children:[y.jsx(Aa,{when:n,children:y.jsx("button",{ref:j=>{j&&C.setIcon(j,"menu")},className:"btn action-btn clickable-icon",onClick:A})}),y.jsx("span",{ref:g,onClick:R,className:"refresh-icon"})]}),y.jsx("div",{className:"title-btns-right-wrapper",children:y.jsxs("span",{className:"go-home-btn",onClick:()=>{at.setPathname("/")},children:["🏠 ",E("Return To Home Page")]})})]})}),y.jsx(Ig,{}),i.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:E("Fetching data...")})}):o.length===0?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:E("Here is No Memos.")})}):y.jsx("div",{className:"review-memos-container",children:d.map(j=>y.jsx(Oi,{memo:j},`${j==null?void 0:j.id}-${j.createdAt}`))})]})},nk=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:o,type:i,text:a,filter:u}=t,d=Qt.getQueryById(u);return!!(r||o&&o.from<o.to||i||a||d)||d||n?e.filter(m=>{let g=!0;if(m.thinoType!==void 0&&n&&m.thinoType==="TASK-DONE"&&(g=!1),m.content.contains("comment:")&&(g=!1),d){const v=JSON.parse(d.querystring);Array.isArray(v)&&(g=jh(m,v))}if(r){const v=new Set;for(const b of Array.from(m.content.match(yr)||[])){const T=b.replace(yr,"$1").trim().split("/");let I="";for(const k of T)I+=k,v.add(I),I+="/"}for(const b of Array.from(m.content.match(Or)||[])){const T=b.replace(Or,"$1").trim().split("/");let I="";for(const k of T)I+=k,v.add(I),I+="/"}for(const b of Array.from(m.content.match(so)||[])){const T=b.replace(so,"$2").trim().split("/");let I="";for(const k of T)I+=k,v.add(I),I+="/"}v.has(r)||(g=!1)}return o&&o.from<o.to&&(lt.getTimeStampByDate(m.createdAt)<o.from||lt.getTimeStampByDate(m.createdAt)>o.to)&&(g=!1),i&&(i==="NOT_TAGGED"&&(m.content.match(yr)!==null||m.content.match(so)!==null||m.content.match(Or)!==null)||i==="LINKED"&&m.content.match(Fd)===null||i==="IMAGED"&&m.content.match(Pd)===null||i==="CONNECTED"&&m.content.match(hc)===null)&&(g=!1),a&&!m.content.toLowerCase().includes(a.toLowerCase())&&(g=!1),g}):e.filter(m=>!m.content.contains("comment:"))},Cte=F.forwardRef((e,t)=>{const{currentDate:n,setCurrentDateStamp:r}=e,[o,i]=F.useState(!1),a=lt.getDateStampByDate(lt.getDateString(n)),u=F.useRef(null);F.useEffect(()=>{u.current&&(!o&&C.setIcon(u.current,"more-horizontal"),o&&C.setIcon(u.current,"x"))},[u.current,o]);const d=f=>{r(f)};return F.useImperativeHandle(t,()=>({closeDatePicker:()=>{i(!1)}})),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"date-card-container",children:[y.jsxs("div",{className:"date-container-details",children:[y.jsxs("div",{className:"details-text",children:[C.moment(a,"x").format("dddd"),y.jsx("div",{className:"date-text",children:C.moment(a,"x").format("MMM")+C.moment(a,"x").format("DD")})]}),y.jsx("div",{className:"details-logo-text",children:E("Daily Memos")})]}),y.jsxs("div",{className:"date-container-info",children:[y.jsxs("div",{className:"date-container-info-text",children:["Week ",y.jsx("div",{className:"week-text",children:C.moment(a,"x").format("ww")}),"of ",y.jsx("div",{className:"year-text",children:C.moment(a,"x").format("YYYY")})]}),y.jsx("div",{ref:u,onClick:()=>i(!o)})]})]}),y.jsx(d0,{className:`date-picker ${o?"":"hidden"}`,datestamp:a,handleDateStampChange:d})]})}),Mte=({thino:e})=>{const t=F.useCallback(()=>{Lh(e)},[]);return y.jsxs("div",{className:"daily-thino-wrapper",children:[y.jsx("div",{className:"time-wrapper",onClick:t,children:y.jsx("span",{className:"normal-text",children:C.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm")})}),y.jsx("div",{className:"daily-thino-container",children:y.jsx(Oi,{memo:e})})]})},kte=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n},dailyNotesState:{settings:r,app:o}}=F.useContext(Ot),i=$h(),[a,u]=F.useState([]),[d,f]=F.useState(lt.getDateStampByDate(lt.getDateString(C.moment().format("YYYY-MM-DD HH:mm:ss")))),m=F.useRef(),g=F.useRef(null),v=se.useRef(null),b=F.useRef(null),[S,T]=F.useState(!1);F.useEffect(()=>{e.duration&&e.duration.from&&e.duration.to&&f(e.duration.from)},[e.duration]),F.useEffect(()=>{b.current&&(C.setIcon&&b&&!S&&C.setIcon(b.current,"share"),C.setIcon&&b&&S&&C.setIcon(b.current,"chrome"))},[b.current,S]),F.useEffect(()=>{const R=nk({memos:n,query:e,HideDoneTasks:!1}).filter(j=>lt.getTimeStampByDate(j.createdAt)>=d&&lt.getTimeStampByDate(j.createdAt)<d+fl).filter(j=>j.deletedAt==="").sort((j,B)=>lt.getTimeStampByDate(j.createdAt)-lt.getTimeStampByDate(B.createdAt));u(R),i.setFinish()},[n,d,v.current,e]);const I=F.useCallback(()=>{ft.setShowSiderbarInMobileView(!0)},[]),k=async()=>{var A;m.current&&((A=m==null?void 0:m.current)==null||A.closeDatePicker()),T(!0),setTimeout(async()=>{if(!g.current){T(!1);return}await BS(g.current),p0(g.current).then(R=>{if(r!=null&&r.AutoSaveWhenOnMobile&&C.Platform.isMobile){const j=R.split("base64,")[1];t0(j,"image/png").arrayBuffer().then(async L=>{let z;const U="png",W=su();for(const Z in W)if(W[Z]instanceof C.TFile){z=W[Z];break}z!==void 0&&await o.vault.createBinary(await vault.getAvailablePathForAttachments(`Pasted Image ${C.moment().format("YYYYMMDDHHmmss")}`,U,z),L)})}m0({imgUrl:R}),T(!1)}).catch(()=>{T(!1)})},0)};return y.jsxs("div",{className:"daily-thinos-list-wrapper",ref:v,children:[y.jsxs("div",{className:"section-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(Aa,{when:t,children:y.jsx("button",{ref:A=>{A&&C.setIcon(A,"menu")},className:"btn action-btn clickable-icon",onClick:I})}),y.jsxs("span",{className:"go-home-btn",onClick:()=>{at.clearQuery(),at.setPathname("/")},children:["🏠 ",E("Return To Home Page")]})]}),y.jsxs("div",{className:"header-right-section",children:[y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:A=>{C.setIcon&&A&&C.setIcon(A,"chevron-left")},className:"btn btn-text",onClick:()=>f(A=>A-fl)}),y.jsx("span",{ref:A=>{C.setIcon&&A&&C.setIcon(A,"chevron-right")},className:"btn btn-text",onClick:()=>f(A=>A+fl)}),y.jsx("span",{ref:b,className:Gn("btn btn-text share-btn",S?"generating":""),onClick:k})]}),y.jsx(YS,{}),y.jsx(sg,{})]})]}),y.jsx(Ig,{thinosCount:a.length,thinos:a}),y.jsx("div",{className:"daily-thinos-view-wrapper",children:y.jsxs("div",{ref:g,className:"daily-thinos-view-container",children:[y.jsx(Cte,{ref:m,currentDate:new Date(d),setCurrentDateStamp:f}),i.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("p",{className:"tip-text",children:E("Fetching data...")})}):a.length===0?y.jsx("div",{className:"tip-container",children:y.jsx("p",{className:"tip-text",children:E("Noooop!")})}):y.jsx("div",{className:"daily-thinos-list-container",children:a.map(A=>y.jsx(Mte,{thino:A},`${A.id}-${A.updatedAt}`))})]})})]})},Nte={"/recycle":y.jsx(bte,{}),"/setting":y.jsx(Dte,{}),"/archive":y.jsx(xte,{}),"/review":y.jsx(Ete,{}),"/daily":y.jsx(kte,{}),"*":y.jsx(zee,{})},rk=e=>t=>{for(const n of Object.keys(e))if(n===t)return e[n];return e["*"]},Ate=rk(yte),Fte=rk(Nte);function Pte({app:e}){const{locationState:{pathname:t},dailyNotesState:{settings:n}}=F.useContext(Ot);return F.useEffect(()=>{Re.fetchAllMemos()},[]),!Mm()&&!e.plugins.getPlugin("periodic-notes")&&(n!=null&&n.EnabledLocationList.find(r=>r.value==="DAILY"))&&new C.Notice(E("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),!Mm()&&(n!=null&&n.EnabledLocationList.find(r=>r.value==="DAILY"))&&!f6()&&new C.Notice(E("Your daily note folder is not set correctly, please check your settings")),y.jsx(Ra,{store:Le,context:Ot,children:Ate(t)})}function Ote(e){const t=e.view.canvas;if(!t||!e.view.file.path.endsWith(".thino.canvas")||t.thinoBtn)return;const n=t.wrapperEl.createDiv({cls:"thino-canvas-menu-btn"}),r=ag(n);r.render(y.jsx(se.StrictMode,{children:y.jsx(Ra,{store:Le,context:Ot,children:y.jsx(jte,{leaf:e})})})),t.thinoBtn=r,vt.getState().view.appendRoot({root:r,canvas:t})}function jte({leaf:e}){const{memoState:{memos:t},locationState:{query:n}}=F.useContext(Ot),r=se.useRef(null),o=se.useRef(null),[i,a]=se.useState(!1),[u,d]=se.useState([]),[f,m]=se.useState([]),{tag:g,duration:v,type:b,text:S,filter:T}=n,I=Qt.getQueryById(T),k=!!(g||v&&v.from<v.to||b||S||I);return F.useEffect(()=>{o.current&&C.setIcon(o.current,"eraser")},[o.current]),F.useEffect(()=>{r.current&&C.setIcon(r.current,"Memos")},[r.current]),F.useEffect(()=>{const A=e.view.file.path;d(t.filter(R=>R.sourceType==="CANVAS"&&R.path===A))},[t]),F.useEffect(()=>{if(u.length===0||!n)return;const A=nk({memos:u,query:n,HideDoneTasks:!1});m(A)},[n,u]),F.useEffect(()=>{if(!n)return;const A=new Set(f.map(j=>j.id)),R=Array.from(e.view.canvas.nodes.values());R.forEach(j=>{j.nodeEl.toggleVisibility(!0),e.view.canvas.getEdgesForNode(j).forEach(B=>{var L,z,U;(L=B.lineGroupEl)==null||L.toggleClass("hidden",!1),(z=B.lineStartGroupEl)==null||z.toggleClass("hidden",!1),(U=B.lineEndGroupEl)==null||U.toggleClass("hidden",!1)})}),R.filter(j=>!A.has(j.id)).forEach(j=>{j.nodeEl.toggleVisibility(!1),e.view.canvas.getEdgesForNode(j).forEach(B=>{var L,z,U;(L=B.lineGroupEl)==null||L.toggleClass("hidden",!0),(z=B.lineStartGroupEl)==null||z.toggleClass("hidden",!0),(U=B.lineEndGroupEl)==null||U.toggleClass("hidden",!0)})})},[f]),y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:r,className:"btn-container",onClick:()=>a(!i)}),i&&y.jsxs("div",{className:"thino-canvas-menu",children:[y.jsxs("div",{className:"thino-canvas-filter-group",children:[y.jsx(YS,{}),y.jsx(sg,{}),k&&y.jsx("div",{ref:o,className:"clear-query",onClick:()=>{at.clearQuery()}})]}),y.jsx(Om,{initThinos:f})]})]})}const Bo="thino_view";class Lte extends C.EditorSuggest{constructor(n,r){super(n);De(this,"root");De(this,"editor");De(this,"cursor");De(this,"plugin");this.plugin=r,this.suggestEl.toggleClass("thino-date-selector",!0)}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const o=(i=r.parentElement)==null?void 0:i.parentElement;return(o==null?void 0:o.classList.contains("common-editor-inputer"))||!1}onTrigger(n,r){const i=r.getLine(n.line)[n.ch-1];return this.checkInMemosView(r)&&i==="@"?(this.cursor=n,this.editor=r,C.Platform.isMobile?(new gC(this.app,"text",a=>{this.selectSuggestion(parseInt(a),new MouseEvent("click"))}).open(),null):{start:{line:n.line,ch:n.ch-1},end:n,query:""}):null}getSuggestions(){return[parseInt(C.moment().startOf("day").format("x"))]}renderSuggestion(n,r){r.empty(),this.root=Pa.createRoot(r),this.root.render(y.jsx(se.StrictMode,{children:y.jsx(d0,{className:"editor-date-picker",datestamp:n,handleDateStampChange:this.selectSuggestion.bind(this)})}))}selectSuggestion(n,r){var u,d,f;if(r instanceof KeyboardEvent||r instanceof PointerEvent&&!r.target.closest(".day-item"))return;const o=(u=this.app.workspace.getLeavesOfType("thino_view")[0])==null?void 0:u.view;(d=o==null?void 0:o.contentEl.find(".action-btn.list-or-task.list"))==null||d.click();let i="",a="";switch(this.plugin.settings.InsertDateFormat){case"Dataview":i="[due::",a="]";break;case"Tasks":i="📆";break}this.editor.replaceRange(i+C.moment(n).format("YYYY-MM-DD")+a,{line:this.cursor.line,ch:this.cursor.ch-1},this.cursor),(f=this.root)==null||f.unmount(),this.close()}}class Rte extends C.EditorSuggest{constructor(n,r){super(n);De(this,"root");De(this,"editor");De(this,"cursor");De(this,"plugin");De(this,"memos",[]);this.plugin=r,this.memos=Re.getState().memos.filter(o=>!o.deletedAt&&o.rowStatus!=="ARCHIVED")}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const o=(i=r.parentElement)==null?void 0:i.parentElement;return(o==null?void 0:o.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const o=C.prepareFuzzySearch(n);return r.map(i=>{const a=o(i.content);return a?{item:i,match:a}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r))return null;const i=r.getLine(n.line).slice(0,n.ch);if(i.lastIndexOf("~")===-1)return null;const a=i.slice(i.lastIndexOf("~")+1,n.ch);if(i[i.lastIndexOf("~")-1]!==" "&&i.lastIndexOf("~")!==0)return null;const u=a.trim();return this.memos=Re.getState().memos.filter(d=>!d.deletedAt&&d.rowStatus!=="ARCHIVED"),{start:{line:n.line,ch:n.ch-u.length},end:n,query:u}}getSuggestions(n){return n.query?this.fuzzySearchItemsOptimized(n.query,this.memos).sort((o,i)=>i.match.score-o.match.score).map(o=>o.item).map(o=>({time:o.createdAt,id:o.id,content:o.content})):this.memos.map(o=>({time:o.createdAt,id:o.id,content:o.content}))}renderSuggestion(n,r){r.toggleClass("thino-suggestion",!0),r.createEl("div",{cls:"thino-suggestion-time",text:n.time}),r.createEl("div",{cls:"thino-suggestion-container"}).createEl("div",{cls:"thino-suggestion-content",text:n.content})}selectSuggestion(n){const r=n.id;this.context.editor.replaceRange("MARK: [@THINO]("+r+")",{line:this.context.end.line,ch:this.context.start.ch-1},this.context.end)}}class _te{constructor(){De(this,"path","/fake-file-that-generated-for-thino.png");De(this,"basename","fake-file-that-generated-for-thino");De(this,"extension","png");De(this,"deleted",!1);De(this,"name","fake-file-that-generated-for-thino.png");De(this,"parent",null);De(this,"stat");De(this,"vault",null)}static[Symbol.hasInstance](t){return t instanceof C.TFile}setPath(t){}getNewPathAfterRename(t){}getShortName(){}cache(t){}updateCacheLimit(){}}class ac extends C.ItemView{constructor(n,r){super(n);De(this,"scope",new C.Scope(this.app.scope));De(this,"root");De(this,"mobileHeaderRoot");De(this,"plugin");De(this,"memosComponent");De(this,"rootList",[]);De(this,"editor",null);De(this,"navigation",!1);De(this,"file",this.app.vault.getMarkdownFiles()[0]||new _te);De(this,"handleUpdateInstance",n=>{this.editor=n.editor});De(this,"updateCacheDebounced",C.debounce(async n=>{this.app.vault.getFileByPath(n.path)&&await Re.updateMemosInFile(n)},1e3));this.plugin=r,this.registerScope()}getDisplayText(){return"Thino"}getIcon(){return"Memos"}getViewType(){return Bo}getMode(){return"source"}canToggleBacklinks(){return!1}registerScope(){const{scope:n}=this;n.register(["Mod"],"Enter",()=>{}),n.register([],"i",r=>{const o=r.target;o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.hasClass("cm-line")||o.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-textarea"))}),n.register(["Mod"],"f",r=>{const o=r.target;o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.hasClass("cm-line")||o.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"o",r=>{const o=r.target;o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.hasClass("cm-line")||o.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"Escape",()=>{setTimeout(()=>{this.plugin.app.workspace.trigger("blur-on-memos")},20)})}async onFileDeleted(n){var d,f,m;const r=lh(n,"day"),o=n.path.contains(".thino")&&n.path.contains(".canvas"),i=n.path.contains(".thino")&&n.path.contains(".md"),a=((d=this.plugin.settings)==null?void 0:d.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",u=(m=((f=n.parent)==null?void 0:f.path)||n.path)==null?void 0:m.contains(a==null?void 0:a.trim());(r||o&&this.plugin.settings.EnabledLocationList.find(g=>g.value==="CANVAS"))&&(await Re.removeMemosInFile(n),Re.updateTagsState()),u&&this.plugin.settings.EnabledLocationList.find(g=>g.value==="MULTI")&&(await Re.removeMemosInFile(n,a),Re.updateTagsState()),i&&this.plugin.settings.EnabledLocationList.find(g=>g.value==="FILE")&&(await Re.removeMemosInFile(n),Re.updateTagsState())}async onFileModified(n){var d;if(ft.getState().changedByMemos){ft.setChangedByMemos(!1);return}const r=lh(n,"day"),o=n.path.contains(".thino")&&n.path.contains(".canvas"),i=n.path.contains(".thino")&&n.path.contains(".md"),a=((d=this.plugin.settings)==null?void 0:d.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",u=n.parent.path.contains(a==null?void 0:a.trim());if(r||o&&this.plugin.settings.EnabledLocationList.find(f=>f.value==="CANVAS")){await Re.updateMemosInFile(n),Re.updateTagsState();return}u&&this.plugin.settings.EnabledLocationList.find(f=>f.value==="MULTI")&&(await Re.updateMemosInFile(n,a),Re.updateTagsState()),i&&this.plugin.settings.EnabledLocationList.find(f=>f.value==="FILE")&&(await Re.updateMemosInFile(n),Re.updateTagsState())}async onFileCreated(n){var r;if(this.app.workspace.layoutReady&&this.root){const o=lh(n,"day"),i=n.path.contains(".thino")&&n.path.contains(".canvas"),a=n.path.contains(".thino")&&n.path.contains(".md"),u=((r=this.plugin.settings)==null?void 0:r.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",d=n.parent.path.contains(u==null?void 0:u.trim());if(o){await vt.updateDailyNotes(n,!1),await Re.updateMemosInFile(n),Re.updateTagsState();return}if(i&&this.plugin.settings.EnabledLocationList.find(f=>f.value==="CANVAS")){await Re.updateMemosInFile(n),Re.updateTagsState();return}d&&this.plugin.settings.EnabledLocationList.find(f=>f.value==="MULTI")&&(await Re.updateMemosInFile(n,u),Re.updateTagsState()),a&&this.plugin.settings.EnabledLocationList.find(f=>f.value==="FILE")&&(await Re.updateMemosInFile(n),Re.updateTagsState())}}async onFileRenamed(n,r){n instanceof C.TFile&&(await Re.removeThinosByPath(r),await this.onFileCreated(n))}async onResize(){var r;super.onResize();const n=this.leaf;if(n&&n.height!==0){if(n.view.containerEl.toggleClass("tiny-view",n.width<600),n.view.containerEl.toggleClass("waterfall-small-group",n.width<1300),n.width>950){n.view.containerEl.classList.toggle("mobile-view",!1),ft.setIsMobileView(n.width<=950);return}if((r=this.plugin.settings)!=null&&r.ShowLeftSideBar&&!C.Platform.isMobile)return;n.view.containerEl.classList.toggle("mobile-view",!0),ft.setIsMobileView(n.width<=950)}}appendToHeader(){const n=this.leaf.view.titleContainerEl;n&&(this.mobileHeaderRoot=Pa.createRoot(n),this.mobileHeaderRoot.render(y.jsx(se.StrictMode,{children:y.jsx(Ra,{store:Le,context:Ot,children:y.jsx(yv,{})})})))}appendRoot({root:n,canvas:r}){this.rootList.push({root:n,canvas:r})}async onOpen(){this.navigation=this.plugin.settings.navigation,await this.onResize(),this.onFileCreated=this.onFileCreated.bind(this),this.onFileDeleted=this.onFileDeleted.bind(this),this.onFileModified=this.onFileModified.bind(this),C.Platform.isTablet&&document.body.toggleClass("is-tablet",!0),C.Platform.isMobile&&!C.Platform.isTablet&&this.appendToHeader(),this.registerEvent(this.app.vault.on("create",this.onFileCreated)),this.registerEvent(this.app.vault.on("delete",this.onFileDeleted)),this.registerEvent(this.app.vault.on("modify",C.debounce(this.onFileModified,2e3,!0))),this.registerEvent(this.app.vault.on("rename",this.onFileRenamed.bind(this))),this.registerEvent(this.app.workspace.on("active-leaf-change",n=>{n.view.getViewType()==="canvas"&&Ote(n)})),this.registerEvent(this.app.metadataCache.on("changed",(n,r,o)=>{lh(n,"day")&&this.updateCacheDebounced(n)}));try{this.root=Pa.createRoot(this.contentEl),vt.setView(this),this.root.render(y.jsx(se.StrictMode,{children:y.jsx(Pte,{app:this.plugin.app})}))}catch(n){console.error(n)}}onunload(){var n;super.onunload(),this.root.unmount(),(n=this.mobileHeaderRoot)==null||n.unmount(),this.rootList.forEach(r=>{var o,i,a;(o=r==null?void 0:r.root)==null||o.unmount(),(i=r==null?void 0:r.canvas)!=null&&i.thinoBtn&&(r.canvas.thinoBtn=void 0),(a=r==null?void 0:r.canvas)!=null&&a.wrapperEl.find(".thino-canvas-menu-btn")&&r.canvas.wrapperEl.find(".thino-canvas-menu-btn").detach()})}}const HI={Memos:'<svg t="1641348507339" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2120" width="100" height="100"><path d="M126.692653 478.099639l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356 0 18.992434 15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297C161.116003 493.523561 145.706067 478.099639 126.692653 478.099639zM244.662333 243.526943c13.742566-13.110184 14.310011-34.948836 1.185841-48.706388l-62.644762-65.668806c-13.128167-13.762547-34.974811-14.229091-48.717377-1.118906s-14.261059 34.911872-1.132893 48.674419l62.644762 65.668806C209.123074 256.13262 230.919767 256.637127 244.662333 243.526943zM543.066631 957.422083l-60.603757 0c-18.654764 0-33.794964 15.147193-33.794964 33.862898 0 18.661757 15.1402 32.71502 33.794964 32.71502l60.603757 0c18.654764 0 33.794964-14.053262 33.794964-32.71502C576.861595 972.568277 561.721395 957.422083 543.066631 957.422083zM988.076617 479.050709l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356s15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297S1007.09003 479.050709 988.076617 479.050709zM512.268737 192.765564c-172.737143 0-312.75527 150.079292-312.75527 322.746503 0 125.630192 74.080583 233.957298 180.936128 283.703669l0 84.51838c0 16.762614 15.410935 31.35435 34.42335 31.35435 0.598415 0 1.193833-0.014985 1.785255-0.042958 0.618395 0.026974 1.239788 0.042958 1.867175 0.042958l187.479731 0c5.905227 0 11.455802-1.220807 16.288078-3.477601 12.231044-4.657447 20.795671-15.383962 20.795671-27.87575l0-84.052835c107.391021-49.534578 181.935151-158.147405 181.935151-284.168214C825.024007 342.843857 684.997888 192.765564 512.268737 192.765564zM574.863548 742.713968l0 80.17063c0 3.159911-0.221783 5.976158-0.642372 8.496694l0 19.092336-124.910895 0 0-17.71768c-0.423586-2.856208-0.642372-6.123015-0.642372-9.870351l0-80.443363c-99.204024-27.75387-171.970892-118.821847-171.970892-226.930167 0-130.094827 105.4689-245.507007 235.571719-245.507007s235.563727 115.41218 235.563727 245.507007C747.832465 623.984031 674.578074 715.293772 574.863548 742.713968zM895.407204 129.328576c-13.429872-13.429872-35.233558-13.439862-48.677416 0.004995l-64.174267 64.175266c-13.448853 13.448853-13.443858 35.257534-0.013986 48.687406 13.429872 13.429872 35.281511 13.477825 48.730364 0.028972l64.175266-64.175266C908.889025 164.605092 908.837076 142.758448 895.407204 129.328576zM511.796199 159.617967c18.992434 0 34.417356-15.410935 34.417356-34.42335l0-90.757281c0-19.019408-15.423923-34.437336-34.417356-34.437336-18.992434 0-34.477297 15.416929-34.477297 34.437336l0 90.757281C477.317903 144.208031 492.802766 159.617967 511.796199 159.617967z" fill="currentColor" p-id="2121"></path></svg>'};function Bte(){Object.keys(HI).forEach(e=>{C.addIcon(e,HI[e])})}const $S=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;const YI=typeof TextEncoder=="function"?new TextEncoder:void 0,Hte="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",vm=Array.prototype.slice.call(Hte);(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(vm);const nl=String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);const Yte=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Ute=e=>{let t,n,r,o,i="";const a=e.length%3;for(let u=0;u<e.length;){if((n=e.charCodeAt(u++))>255||(r=e.charCodeAt(u++))>255||(o=e.charCodeAt(u++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,i+=vm[t>>18&63]+vm[t>>12&63]+vm[t>>6&63]+vm[t&63]}return a?i.slice(0,a-3)+"===".substring(a):i},ok=typeof btoa=="function"?e=>btoa(e):$S?e=>Buffer.from(e,"binary").toString("base64"):Ute,zte=$S?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,o=e.length;r<o;r+=4096)n.push(nl.apply(null,e.subarray(r,r+4096)));return ok(n.join(""))},Vte=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?nl(192|t>>>6)+nl(128|t&63):nl(224|t>>>12&15)+nl(128|t>>>6&63)+nl(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return nl(240|t>>>18&7)+nl(128|t>>>12&63)+nl(128|t>>>6&63)+nl(128|t&63)}},Wte=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Zte=e=>e.replace(Wte,Vte),UI=$S?e=>Buffer.from(e,"utf8").toString("base64"):YI?e=>zte(YI.encode(e)):e=>ok(Zte(e)),$te=(e,t=!1)=>t?Yte(UI(e)):UI(e),Db=C.Platform.isDesktop&&require("os"),ik=async()=>{var r,o;let e="";if(C.Platform.isDesktop)e=await er();else{const i=await((r=window.Capacitor)==null?void 0:r.Plugins.Device.getId());e=i.identifier||i.uuid}let t;if(Db)t=JSON.stringify({hostname:Db.hostname(),platform:Db.platform(),machineid:e});else{const i=await((o=window.Capacitor)==null?void 0:o.Plugins.Device.getInfo()),a=i==null?void 0:i.model,u=i==null?void 0:i.platform;t=JSON.stringify({hostname:a||("mobile"+C.Platform.isMobile?Math.random().toString(36).substring(7):""),platform:u||"mobile",machineid:e})}return $te(t)},qte=async()=>{var t;let e="";if(C.Platform.isDesktop)e=await er();else{const n=await((t=window.Capacitor)==null?void 0:t.Plugins.Device.getId());e=n.identifier||n.uuid}return e},Gte={General:"chef-hat",Thino:"Memos",Interface:"brush",Share:"share-2",Advanced:"cog"},ak=[{value:"DAILY",target:"ProcessEntriesBelow",insert:"InsertAfter"},{value:"CANVAS",target:"MemoDefaultCanvasPath"},{value:"MULTI",target:"MemoDefaultMultiFilePath"},{value:"FILE",target:"MemoDefaultSingleFilePath"}],rl={FirstLoaded:!0,StartDate:"Sunday",InsertAfter:"",UserName:"THINO 😉",ProcessEntriesBelow:"",Language:"en",SaveMemoButtonLabel:"NOTE",SaveMemoButtonIcon:"",ShareFooterStart:"{ThinoNum} Thino {UsedDay} Day",ShareFooterEnd:"✍️ by {UserName}",DefaultPrefix:"List",DefaultTimePrefix:"HH:mm",UseDailyOrPeriodic:"Daily",InsertDateFormat:"Tasks",DefaultEditorLocation:"Top",UseButtonToShowEditor:!1,FocusOnEditor:!0,OpenDailyMemosWithMemos:!0,HideDoneTasks:!1,ShowTaskLabel:!1,MobileAndDesktop:"All",OpenMemosAutomatically:!1,ShowTime:!0,ShowDate:!0,AddBlankLineWhenDate:!1,AutoSaveWhenOnMobile:!1,DeleteFileName:"delete",QueryFileName:"query",UseVaultTags:!1,SetCustomBackgroundImage:!1,SetCustomMemoFooter:!1,DefaultLightBackgroundImage:"",DefaultDarkBackgroundImage:"",DefaultLightBackgroundImageForClean:"",DefaultDarkBackgroundImageForClean:"",DefaultMemoComposition:"{TIME} {CONTENT}",CommentOnMemos:!1,CommentsInOriginalNotes:!1,FetchMemosMark:"#memo",FetchMemosFromNote:!1,ShowCommentOnMemos:!1,ShowLeftSideBar:!1,MemoListView:"list",MemoSaveLocation:"DAILY",MemoOtherSaveLocation:{MemoDefaultCanvasPath:"basic.thino.canvas",MemoDefaultMultiFilePath:"Thino",MemoDefaultSingleFilePath:"basic.thino.md"},MemoDailyTarget:5,HeatmapColorScheme:"default",EnabledHttpApi:!1,HttpApiIpType:"localhost",HttpApiPort:"43999",AutoDownloadImage:!1,EditorType:"obsidian",EnabledLocationList:ak,DeleteThinoDirectly:!1,CaptureKey:{EnableCaptureKey:!1,OpenThinoGlobally:"CommandOrControl+Shift+T",ShowNearMouse:!1},startSync:!1,tokenForVerify:{},saveThinoType:"FILE",showDayMark:!1,dayMarkRange:"day",navigation:!1,password:"",needVerify:!1,addTagAutomatically:!1,addTagPosition:"End",addTagWithNewline:!1,chatViewStyle:"default",MomentsBackgroundImage:"https://images.pexels.com/photos/531767/pexels-photo-531767.jpeg",MomentsIcon:"https://images.pexels.com/photos/256514/pexels-photo-256514.jpeg",MomentsQuote:"Share your thino with the world",DefaultThemeForThino:"modern",LastUpdatedVersion:"0.0.0",ShareToThinoWithText:!1,ShareToThinoWithTextAppend:"",ShareToThinoWithTextPrepend:"",ShareToThinoWithTextNewline:"none",hidePinnedGroup:!1,DifferentInsertTarget:!1,InsertAfterForTask:"",ProcessContentTarget:"custom",InsertType:"custom",ShareAppendType:"preset",SharePrependType:"preset",SetFileNameAfterCreate:!1};function Jte({plugin:e}){const{dailyNotesState:{verifyState:t}}=F.useContext(Ot),[n,r]=F.useState(!1),[o,i]=F.useState(!1),[a,u]=F.useState(""),[d,f]=F.useState("");F.useEffect(()=>{qte().then(v=>{f(v)})},[]);const m=async()=>{var T;const v=a,b=!C.Platform.isDesktop&&await((T=window.Capacitor)==null?void 0:T.Plugins.Device.getId()),S=C.Platform.isDesktop?await er():b.identifier||b.uuid;v&&(e.settingTab.updateSettings("tokenForVerify",{...e.settings.tokenForVerify,[S]:v}),e.verify().then(I=>{I&&(r(!0),ft.setRefresh(!0),setTimeout(()=>{e.settingTab.display()},200),e.registerToolbarCheck()),new C.Notice(E(I?"Verify successfully":"Failed to verify"))}).catch(I=>{new C.Notice(E("Failed to verify"))}))},g=async v=>{u(v)};return y.jsx("div",{className:"thino-verify-component",children:t?y.jsxs("div",{className:"thino-verify-content verified",children:[y.jsx("div",{className:"thino-verified-text",children:E("You have verified your account. Congrats!")}),y.jsx("div",{className:"thino-description-link",children:y.jsxs("p",{children:[E("If you have any questions, please contact us."),y.jsx("span",{className:"thino-url",onClick:()=>{const v=localStorage.getItem("language");v&&(v==="zh"||v==="zh-TW")?window.open("https://pkmer.cn"):window.open("https://thino.pkmer.net/en/")},children:"@ PKMer"})]})})]}):y.jsxs("div",{className:"thino-verify-content",children:[y.jsxs("div",{className:"thino-description-link",children:[E("You can buy a license from")+"->",y.jsxs("span",{className:"thino-url",onClick:()=>{const v=localStorage.getItem("language");v&&(v==="zh"||v==="zh-TW")?window.open("https://pkmer.cn/products/thino"):window.open("https://thino.pkmer.net/en/#price")},children:[" ","PKMer"]})]}),y.jsx("textarea",{className:"thino-verify-textarea",value:a,onChange:v=>g(v.target.value),placeholder:E("Input activation code here")}),y.jsxs("div",{className:"thino-button-container",children:[y.jsxs("div",{className:"thino-button-group",children:[y.jsx("button",{onClick:async()=>{try{const v=await ik();await navigator.clipboard.writeText(v),i(!0)}catch(v){console.error(v),new C.Notice("Failed to copy id");return}new C.Notice(E("Copied to clipboard Successfully"))},children:E("Copy Thino id")}),y.jsx("button",{onClick:()=>{if(!o){new C.Notice(E("Please copy Thino id first"));return}const v=localStorage.getItem("language");v&&(v==="zh"||v==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&getCode"):window.open("https://pkmer.net/en/userprofile/#tab-21&getCode"),r(!0)},children:E("Get activation code")}),a&&y.jsx(y.Fragment,{children:y.jsx("button",{onClick:async()=>{await m()},children:E("Verify")})})]}),n?y.jsx("p",{children:E("After you verify your account, please refresh this page.")}):""]}),y.jsxs("div",{className:"thino-description-link",children:[E("If you have any questions, please contact us."),y.jsx("span",{className:"thino-url",onClick:()=>{const v=localStorage.getItem("language");v&&(v==="zh"||v==="zh-TW")?window.open("https://pkmer.cn"):window.open("https://thino.pkmer.net/en/")},children:"@ PKMer"})]})]})})}class Kte extends C.PluginSettingTab{constructor(n,r){super(n,r);De(this,"plugin");De(this,"applyDebounceTimer",0);De(this,"tabContent",new Map);De(this,"selectedTab","General");De(this,"search");De(this,"searchSettingInfo",new Map);De(this,"searchZeroState");De(this,"navigateEl");De(this,"passwordMatched",!1);De(this,"root");De(this,"debounceApplySettingsUpdate",C.debounce(async()=>{await this.plugin.saveSettings()},100,!0));De(this,"debounceDisplay",C.debounce(async()=>{await this.display()},300,!0));this.plugin=r}updateSettings(n,r){this.plugin.settings={...this.plugin.settings,[n]:r},this.applySettingsUpdate()}applySettingsUpdate(){this.debounceApplySettingsUpdate(),Re.updateTagsState()}async hide(){var n;(n=this.root)==null||n.unmount(),this.passwordMatched=!1}async display(){var n;await this.plugin.loadSettings(),this.root&&((n=this.root)==null||n.unmount()),this.containerEl.empty(),this.containerEl.toggleClass("memos-settings",!0),C.Platform.isMobile&&this.containerEl.toggleClass("memos-mobile",!0),this.generateSettingsTitle(),this.addTabHeader()}generateSettingsTitle(){const n=this.containerEl.createDiv("memos-setting-title");n.createEl("h2",{text:"Thino"}),this.generateSearchBar(n)}addTabHeader(){const n=this.containerEl.createEl("nav",{cls:"memos-setting-header"});this.navigateEl=n.createDiv("memos-setting-tab-group");const r=this.containerEl.createDiv("memos-setting-content");this.updateOldData(),this.createTabAndContent("General",this.navigateEl,r,(o,i)=>this.generateGeneralSettings(i,o)),this.createTabAndContent("Thino",this.navigateEl,r,(o,i)=>this.generateMemosSettings(i,o)),this.createTabAndContent("Interface",this.navigateEl,r,(o,i)=>this.generateThemeSettings(i,o)),this.createTabAndContent("Share",this.navigateEl,r,(o,i)=>this.generateShareSettings(i,o)),this.createTabAndContent("Advanced",this.navigateEl,r,(o,i)=>this.generateAdvancedSettings(i,o)),this.createSearchZeroState(r)}updateOldData(){this.plugin.settings.UserName.startsWith("MEMO ")&&(this.plugin.settings.UserName="THINO 😉"),this.plugin.settings.ShareFooterStart.contains("{Memo")&&(this.plugin.settings.ShareFooterStart=this.plugin.settings.ShareFooterStart.replace("{MemosNum}","{ThinoNum}").replace("memos","thino")),this.applySettingsUpdate()}generateSearchBar(n){const r=new C.Setting(n);r.settingEl.style.border="none",r.addSearch(o=>{this.search=o}),this.search.setPlaceholder(E("Search all settings")),this.search.inputEl.oninput=()=>{for(const o of this.tabContent){const i=o[1];i.navButton.removeClass("memos-navigation-item-selected"),i.content.show(),i.heading.show();const a=this.search.getValue();this.selectedTab==""&&a.trim()!=""&&this.searchSettings(a.toLowerCase()),this.selectedTab=""}this.navigateEl.addClass("memos-setting-searching")},this.search.inputEl.onblur=()=>{this.navigateEl.removeClass("memos-setting-searching")},this.search.onChange(o=>{var i;if(o===""){this.triggerTabChange((i=this.tabContent.get("General"))==null?void 0:i.navButton,"General");return}this.searchSettings(o.toLowerCase())})}triggerTabChange(n,r){if(this.selectedTab==r)return;n.toggleClass("memos-navigation-item-selected",!0);const o=this.tabContent.get(r);if((o==null?void 0:o.content).show(),this.selectedTab!=""){const i=this.tabContent.get(this.selectedTab);i==null||i.navButton.removeClass("memos-navigation-item-selected"),(i==null?void 0:i.content).hide()}else{this.searchZeroState.hide();for(const i of this.searchSettingInfo)for(const a of i[1])a.containerEl.show();for(const i of this.tabContent){const a=i[1];a.heading.hide(),r!==i[0]&&a.content.hide()}}this.selectedTab=r}createTabAndContent(n,r,o,i){const a=this.selectedTab===n,u=r.createDiv("memos-navigation-item");u.toggleClass("memos-desktop",!0),C.setIcon(u.createEl("div",{cls:"memos-navigation-item-icon"}),Gte[n]),u.createSpan({text:E(n)}),u.onclick=()=>{this.triggerTabChange(u,n)};const d=o.createDiv("memos-tab-settings"),f=d.createEl("h2",{cls:"memos-setting-heading",text:n+" Settings"});f.hide(),d.id=n.toLowerCase().replace(" ","-"),a?u.addClass("memos-navigation-item-selected"):d.hide(),i&&i(d,n),this.tabContent.set(n,{content:d,heading:f,navButton:u})}searchSettings(n){var i;const r=new Set,o=(a,u)=>{a.show(),r.has(u)||r.add(u)};for(const a of this.searchSettingInfo){const u=a[0],d=a[1];for(const f of d)if(n.trim()===""||(i=f.alias)!=null&&i.includes(n)||f.description.includes(n)||f.name.includes(n))o(f.containerEl,u);else if(f.options&&f.options.length>0)for(const m of f.options){if(m.description.toLowerCase().includes(n)||m.name.toLowerCase().includes(n)){o(f.containerEl,u);break}else if(m.options){for(const g of m.options)if(g.description.toLowerCase().includes(n)||g.value.toLowerCase().includes(n)){o(f.containerEl,u);break}}f.containerEl.hide()}else f.containerEl.hide()}for(const a of this.tabContent)r.has(a[0])?a[1].heading.show():a[1].heading.hide();r.size===0?this.searchZeroState.show():this.searchZeroState.hide()}addSettingToMasterSettingsList(n,r,o="",i="",a=[],u=""){var f;const d={containerEl:r,name:o.toLowerCase(),description:i.toLowerCase(),options:a,alias:u};this.searchSettingInfo.has(n)?(f=this.searchSettingInfo.get(n))==null||f.push(d):this.searchSettingInfo.set(n,[d])}createSearchZeroState(n){this.searchZeroState=n.createDiv(),this.searchZeroState.hide(),this.searchZeroState.createEl(C.Platform.isMobile?"h3":"h2",{text:"No settings match search"}).style.textAlign="center"}generateGeneralSettings(n,r){this.customHeading(n,r)}async generateThemeSettings(n,r){var d;const o=vt.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),a=C.Platform.isDesktop?await er():i.identifier||i.uuid,u=o&&(o==null?void 0:o.appId)===a;await this.customNameAndTheme(n,r,u)}async generateMemosSettings(n,r){var d;const o=vt.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),a=C.Platform.isDesktop?await er():i.identifier||i.uuid,u=o&&(o==null?void 0:o.appId)===a;this.setPasswordSettings(n,r),this.addMemoSettings(n,r),this.customFileNameSettings(n,r,u),this.addThinoProSettings(n,r,u)}async generateShareSettings(n,r){var d;const o=vt.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),a=C.Platform.isDesktop?await er():i.identifier||i.uuid,u=o&&(o==null?void 0:o.appId)===a;new ct(r,this).setHeading().setTab(n).setName(E("Copy filtered results")),this.copyMemosSettings(n,r),new ct(r,this).setHeading().setTab(n).setName(E("Share image")),this.shareMemosSettings(n,r),C.Platform.isMobile&&this.shareToThinosSettings(n,r,u)}async generateAdvancedSettings(n,r){var d;this.saveDataSettings(n,r),this.fetchDataSettings(n,r),this.navigationSettings(n,r);const o=vt.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),a=C.Platform.isDesktop?await er():i.identifier||i.uuid,u=o&&(o==null?void 0:o.appId)===a;this.setGlobalSettings(n,r,u)}async customNameAndTheme(n,r,o){new ct(r,this).setName(E("Theme for Thino")).setDesc(E("Set the theme for Thino")).setTab(n).addDropdown(async a=>{a.addOption("modern","Modern"),a.addOption("classic","Classic"),a.setValue(this.plugin.settings.DefaultThemeForThino).onChange(async u=>{this.plugin.settings.DefaultThemeForThino=u,this.applySettingsUpdate()})}),new ct(r,this).setTab(n).setHeading().setName(E("Interface Details"));let i;new ct(r,this).setName(E("Heatmap Color Scheme")).setDesc(E("Set different color scheme for heatmap.")).setTab(n).addDropdown(async a=>{i=a,i.addOption("default",E("Default")),i.addOption("gray",E("Gray")),i.addOption("grass",E("Grass")),i.addOption("flame",E("Flame")),i.addOption("olive",E("Olive")),i.addOption("ice",E("Ice")),i.addOption("magenta",E("Magenta")),i.setValue(this.plugin.settings.HeatmapColorScheme).onChange(async u=>{this.plugin.settings.HeatmapColorScheme=u,this.applySettingsUpdate()})}),new ct(r,this).setName(E("Show Tasks Label")).setDesc(E("Show tasks label near the time text. False by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowTaskLabel).onChange(async u=>{this.plugin.settings.ShowTaskLabel=u,this.applySettingsUpdate()})),new ct(r,this).setName(E("Save Memo button label")).setDesc(E("The text shown on the save Memo button in the UI. 'NOTEIT' by default.")).setTab(n).addText(a=>a.setPlaceholder(rl.SaveMemoButtonLabel).setValue(this.plugin.settings.SaveMemoButtonLabel).onChange(async u=>{this.plugin.settings.SaveMemoButtonLabel=u,this.applySettingsUpdate()})),C.Platform.isDesktop&&new ct(r,this).setName(E("Always Show Leaf Sidebar on PC")).setDesc(E("Show left sidebar on PC even when the leaf width is less than 875px. False by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowLeftSideBar).onChange(async u=>{this.plugin.settings.ShowLeftSideBar=u,this.applySettingsUpdate()})),await this.getEditorLocation(r,n),new ct(r,this).setHeading().setTab(n).setName("💎 "+E("Pro features")),this.addThinoDailyMarkSettings(n,r,o),new ct(r,this).setName(E("Chat view style")).setDesc(E("Set the style of chat view")).setTab(n).addDropdown(async a=>{i=a,i.addOption("default","Default"),i.addOption("fluent","Fluent"),i.addOption("inline","Inline"),i.setValue(this.plugin.settings.chatViewStyle).onChange(async u=>{if(!o){An();return}this.plugin.settings.chatViewStyle=u,this.applySettingsUpdate()})}),this.addThinoMomentsSettings(n,r,o)}addThinoDailyMarkSettings(n,r,o){let i;new ct(r,this).setName(E("Show day mark in thino list")).setDesc(E("Show day mark on the top of daily range thino. False by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.showDayMark).onChange(async u=>{if(!o){An();return}this.plugin.settings.showDayMark=u,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.showDayMark&&(new ct(r,this).setName(E("Day mark range")).setDesc(E("Set the range of day mark. Day by default.")).setTab(n).addDropdown(async a=>{i=a,i.addOption("day","day"),i.addOption("week","week"),i.addOption("month","month"),i.addOption("quarter","quarter"),i.addOption("year","year"),i.setValue(this.plugin.settings.dayMarkRange).onChange(async u=>{this.plugin.settings.dayMarkRange=u,this.applySettingsUpdate()})}),new ct(r,this).setName(E("Hide pinned group")).setDesc(E("Hide pinned group in thino list. False by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.hidePinnedGroup).onChange(async u=>{if(!o){An();return}this.plugin.settings.hidePinnedGroup=u,this.applySettingsUpdate()})))}addThinoMomentsSettings(n,r,o){new ct(r,this).setTab(n).setName(E("Background image for moments view")).setDesc(E("Set the background image for moments view")).addText(i=>{new fd(i.inputEl),i.setPlaceholder("URL").setValue(this.plugin.settings.MomentsBackgroundImage).onChange(async a=>{o&&(this.plugin.settings.MomentsBackgroundImage=a,this.applySettingsUpdate())})})}async getEditorLocation(n,r){let o;C.Platform.isMobile&&(new ct(n,this).setName(E("Default editor position on mobile")).setDesc(E("Set the default editor position on Mobile, 'Top' by default.")).setTab(r).addDropdown(async i=>{o=i,o.addOption("Top",E("Top")),o.addOption("Bottom",E("Bottom")),o.setValue(this.plugin.settings.DefaultEditorLocation).onChange(async a=>{this.plugin.settings.DefaultEditorLocation=a,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})}),this.plugin.settings.DefaultEditorLocation!=="Top"&&new ct(n,this).setName(E("Use button to show editor on mobile")).setDesc(E("Set a float button to call editor on mobile. Only when editor located at the bottom works.")).setTab(r).addToggle(i=>i.setValue(this.plugin.settings.UseButtonToShowEditor).onChange(async a=>{this.plugin.settings.UseButtonToShowEditor=a,this.applySettingsUpdate()})))}customHeading(n,r){new ct(r,this).setHeading().setName(E("User info")).setTab(n),new ct(r,this).setName(E("User name")).setDesc(E("Set your user name here. 'Memos 😏' By default")).setTab(n).addText(v=>v.setPlaceholder(rl.UserName).setValue(this.plugin.settings.UserName).onChange(async b=>{this.plugin.settings.UserName=b,this.applySettingsUpdate()})),new ct(r,this).setTab(n).setName(E("User icon")).setDesc(E("Set user icon for thino. You can input http/https link or file path in vault.")).addText(v=>{new fd(v.inputEl),v.setPlaceholder("URL").setValue(this.plugin.settings.MomentsIcon).onChange(async b=>{this.plugin.settings.MomentsIcon=b,this.applySettingsUpdate()})}),new ct(r,this).setTab(n).setName(E("User quote")).setDesc(E("Set user quote for thino")).addText(v=>v.setPlaceholder("Input anything here").setValue(this.plugin.settings.MomentsQuote).onChange(async b=>{this.plugin.settings.MomentsQuote=b,this.applySettingsUpdate()}));let o=!1;const i=document.createDocumentFragment();i.createEl("span",{text:E("Connect to PKMer Sync, you can check it in ")});const a=localStorage.getItem("language");let u;a&&a==="zh"?u="https://pkmer.cn/products/UserProfile/#tab-21&activateSync":u="https://thino.pkmer.net/en/",i.createEl("a",{text:E("PKMer Sync"),attr:{href:u}}),new ct(r,this).setHeading().setName(E("Pro verification status")).setTab(n);const d=document.createDocumentFragment(),f=d.createEl("div",{cls:"thino-activation"}),m=new ct(r,this).setName(E("Activate Pro Version")).setDesc(d).setTab(n);m.settingEl.toggleClass("thino-activation-setting",!0),m.nameEl.toggleClass("thino-activation-title",!0),this.root=Pa.createRoot(f),this.root.render(y.jsx(Ra,{store:Le,context:Ot,children:y.jsx(Jte,{plugin:this.plugin})}));let g=!1;new ct(r,this).setName(E("Deactivate")).setTab(n).addButton(v=>{v.setWarning().setButtonText(E("Remove")).onClick(async()=>{var T;if(!g){v.setButtonText(E("Confirm?")),g=!0;return}g=!1;const b=!C.Platform.isDesktop&&await((T=window.Capacitor)==null?void 0:T.Plugins.Device.getId()),S=C.Platform.isDesktop?await er():b.identifier||b.uuid;this.plugin.settings.tokenForVerify[S]&&(delete this.plugin.settings.tokenForVerify[S],await this.plugin.saveSettings(),new C.Notice(E("Remove successfully"))),await this.plugin.verify(),ft.setRefresh(!0),setTimeout(()=>{this.display()},20)})}),(a==="zh"||a==="zh-TW")&&new ct(r,this).setHeading().setName(E("Sync service")).setTab(n),(a==="zh"||a==="zh-TW")&&new ct(r,this).setName(E("Sync Thino via PKMer")).setDesc(i).setTab(n).addButton(v=>{var S;const b=(S=this.plugin.app)==null?void 0:S.loadLocalStorage("tokenForSync");v.setButtonText(E(b?"Unlink":"Link")).onClick(async()=>{var T;if(!b){const I=localStorage.getItem("language");I&&(I==="zh"||I==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&activateSync"):window.open("https://thino.pkmer.net/en/");return}if(!o){v.setButtonText(E("Confirm?")),o=!0;return}o=!1,b&&((T=this.plugin.app)==null||T.saveLocalStorage("tokenForSync",""),new C.Notice(E("Remove successfully"))),ft.setRefresh(!0),setTimeout(()=>{this.display()},20)})}),(a==="zh"||a==="zh-TW")&&this.showSyncStatus(r,n)}showSyncStatus(n,r){var i;(i=this.plugin.app)!=null&&i.loadLocalStorage("tokenForSync")&&(new ct(n,this).setName(E("Save thino type when sync local")).setDesc(E("Set the default save thino type when sync local, FILE by default.")).setTab(r).addDropdown(async a=>{a.addOption("DAILY",E("DAILY")),a.addOption("FILE",E("FILE")),a.setValue(this.plugin.settings.saveThinoType).onChange(async u=>{this.plugin.settings.saveThinoType=u,this.applySettingsUpdate()})}),new ct(n,this).setName(E("Sync Status")).setDesc(E("Start or stop sync")).setTab(r).addButton(a=>{a.setButtonText(this.plugin.settings.startSync?E("Stop"):E("Start")).onClick(async()=>{this.plugin.settings.startSync=!this.plugin.settings.startSync,await this.plugin.saveSettings(),ft.setRefresh(!0),new C.Notice(this.plugin.settings.startSync?E("Start sync successfully"):E("Stop sync successfully")),setTimeout(()=>{this.display()},200)})}))}addMemoSettings(n,r){new ct(r,this).setName(E("Open Memos when obsidian opens")).setDesc(E("When enable this, Memos will open when Obsidian opens. False by default.")).setTab(n).addDropdown(i=>{i.addOption("Desktop","Desktop"),i.addOption("Mobile","Mobile"),i.addOption("All","All"),i.setValue(this.plugin.settings.MobileAndDesktop).onChange(async a=>{this.plugin.settings.MobileAndDesktop=a,this.applySettingsUpdate()})}).addToggle(i=>i.setValue(this.plugin.settings.OpenMemosAutomatically).onChange(async a=>{this.plugin.settings.OpenMemosAutomatically=a,this.applySettingsUpdate()})),new ct(r,this).setHeading().setTab(n).setName(E("Editor")),new ct(r,this).setName(E("Use Tags In Vault")).setDesc(E("Use tags in vault rather than only in Memos. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.UseVaultTags).onChange(async a=>{this.plugin.settings.UseVaultTags=a,this.applySettingsUpdate()}));let o;new ct(r,this).setName(E("Default insert date format")).setDesc(E("Set the default date format when insert date by @, 'Tasks' by default.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("Tasks","Tasks"),o.addOption("Dataview","Dataview"),o.setValue(this.plugin.settings.InsertDateFormat).onChange(async a=>{this.plugin.settings.InsertDateFormat=a,this.applySettingsUpdate()})}),new ct(r,this).setHeading().setTab(n).setName(E("Daily notes")),new ct(r,this).setName(E("Default prefix when save thino")).setDesc(E("Set the default prefix when create memo, 'List' by default.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("List",E("List")),o.addOption("Task",E("Task")),o.setValue(this.plugin.settings.DefaultPrefix).onChange(async a=>{this.plugin.settings.DefaultPrefix=a,this.applySettingsUpdate()})}),this.plugin.settings.EnabledLocationList.some(i=>i.value==="DAILY")&&new ct(r,this).setName(E("Default time prefix for thino in daily notes")).setDesc(E("Set default time prefix for thino in daily notes.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("HH:mm","HH:mm"),o.addOption("HH:mm:ss","HH:mm:ss"),o.setValue(this.plugin.settings.DefaultTimePrefix).onChange(async a=>{this.plugin.settings.DefaultTimePrefix=a,this.applySettingsUpdate()})})}addThinoProSettings(n,r,o){new ct(r,this).setHeading().setTab(n).setName("💎 "+E("Pro features")),new ct(r,this).setName(E("Default save type")).setDesc(E('Set the default save type for thino. "DAILY" by default')).setTab(n).addDropdown(async i=>{for(const a of this.plugin.settings.EnabledLocationList)i.addOption(a.value,E(a.value));i.setValue(this.plugin.settings.MemoSaveLocation||this.plugin.settings.EnabledLocationList[0].value).onChange(async a=>{if(!o){An();return}this.plugin.settings.MemoSaveLocation=a,this.applySettingsUpdate()})}),new ct(r,this).setName(E("Add tag automatically")).setDesc(E("Add tag to the end or beginning of the thino content when creating a thino and filtering tags")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.addTagAutomatically).onChange(async a=>{if(!o){An();return}this.plugin.settings.addTagAutomatically=a,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.addTagAutomatically&&(new ct(r,this).setName(E("Add tag position")).setDesc(E("Set the position of the tag when adding tag automatically")).setTab(n).addDropdown(async i=>{i.addOption("End",E("End")),i.addOption("Beginning",E("Beginning")),i.setValue(this.plugin.settings.addTagPosition).onChange(async a=>{this.plugin.settings.addTagPosition=a,this.applySettingsUpdate()})}),new ct(r,this).setName(E("Add tag with new line")).setDesc(E("Add tag with new line when adding tag automatically")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.addTagWithNewline).onChange(async a=>{this.plugin.settings.addTagWithNewline=a,this.applySettingsUpdate()})))}memosCommentSettings(n,r){new ct(r,this).setName(E("Allow Comments On Memos")).setDesc(E("You can comment on memos. False by default")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.CommentOnMemos).onChange(async i=>{this.plugin.settings.CommentOnMemos=i,this.applySettingsUpdate(),this.display()})),this.plugin.settings.CommentOnMemos&&(new ct(r,this).setName(E("Always Show Memo Comments")).setDesc(E("Always show memo comments on memos. False by default")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.ShowCommentOnMemos).onChange(async i=>{this.plugin.settings.ShowCommentOnMemos=i,this.applySettingsUpdate()})),new ct(r,this).setName(E("Comments In Original DailyNotes/Notes")).setDesc(E("You should install Dataview Plugin ver 0.5.9 or later to use this feature.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.CommentsInOriginalNotes).onChange(async i=>{this.plugin.settings.CommentsInOriginalNotes=i,this.applySettingsUpdate()})))}shareToThinosSettings(n,r,o){new ct(r,this).setHeading().setTab(n).setName("💎 "+E("Pro features")),new ct(r,this).setTab(n).setName(E("Append/prepend text when share to Thino")).addToggle(i=>{i.setValue(this.plugin.settings.ShareToThinoWithText).onChange(async a=>{if(!o){An();return}this.plugin.settings.ShareToThinoWithText=a,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.ShareToThinoWithText&&(new ct(r,this).setTab(n).setName(E("Prepend Text Action")).addDropdown(i=>{i.addOption("none",E("None")),i.addOption("preset",E("Preset")),i.addOption("input",E("Input")),i.addOption("selectTags",E("Select Tags")),i.setValue(this.plugin.settings.SharePrependType).onChange(async a=>{this.plugin.settings.SharePrependType=a,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.SharePrependType==="preset"&&new ct(r,this).setTab(n).setName(E("Prepend text when share to Thino")).addText(i=>{i.setPlaceholder(E("Input anything here")).setValue(this.plugin.settings.ShareToThinoWithTextPrepend).onChange(async a=>{this.plugin.settings.ShareToThinoWithTextPrepend=a,this.applySettingsUpdate()})}),new ct(r,this).setTab(n).setName(E("Append Text Action")).addDropdown(i=>{i.addOption("none",E("None")),i.addOption("preset",E("Preset")),i.addOption("input",E("Input")),i.addOption("selectTags",E("Select Tags")),i.setValue(this.plugin.settings.ShareAppendType).onChange(async a=>{this.plugin.settings.ShareAppendType=a,this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.ShareAppendType==="preset"&&new ct(r,this).setTab(n).setName(E("Append text when share to Thino")).addText(i=>{i.setPlaceholder(E("Input anything here")).setValue(this.plugin.settings.ShareToThinoWithTextAppend).onChange(async a=>{this.plugin.settings.ShareToThinoWithTextAppend=a,this.applySettingsUpdate()})}),new ct(r,this).setTab(n).setName(E("Add newline when append/prepend text")).addDropdown(async i=>{i.addOption("prepend",E("Prepend")),i.addOption("append",E("Append")),i.addOption("both",E("Both")),i.addOption("none",E("None")),i.setValue(this.plugin.settings.ShareToThinoWithTextNewline).onChange(async a=>{this.plugin.settings.ShareToThinoWithTextNewline=a,this.applySettingsUpdate()})}))}copyMemosSettings(n,r){new ct(r,this).setName(E("Show Time When Copy Results")).setDesc(E("Show time when you copy results, like 12:00. Copy time by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.ShowTime).onChange(async i=>{this.plugin.settings.ShowTime=i,this.applySettingsUpdate()})),new ct(r,this).setName(E("Show Date When Copy Results")).setDesc(E("Show date when you copy results, like [[2022-01-01]]. Copy date by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.ShowDate).onChange(async i=>{this.plugin.settings.ShowDate=i,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.ShowDate&&new ct(r,this).setName(E("Add Blank Line Between Different Date")).setDesc(E("Add blank line when copy result with date. No blank line by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.AddBlankLineWhenDate).onChange(async i=>{this.plugin.settings.AddBlankLineWhenDate=i,this.applySettingsUpdate()}))}shareMemosSettings(n,r){this.customMemoFooter(n,r),new ct(r,this).setName(E("Custom Background Image")).setDesc(E("Set custom background image.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.SetCustomBackgroundImage).onChange(async i=>{this.plugin.settings.SetCustomBackgroundImage=i,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomBackgroundImage&&(new ct(r,this).setName(E("Background Image in Light Theme")+` [${E("Modern")}]`).setDesc(E('Set background image in light theme. Set something like "Daily/one.png"')).setTab(n).addText(o=>{new fd(o.inputEl),o.setPlaceholder(rl.DefaultLightBackgroundImage).setValue(this.plugin.settings.DefaultLightBackgroundImage).onChange(async i=>{this.plugin.settings.DefaultLightBackgroundImage=i,this.applySettingsUpdate()})}),new ct(r,this).setName(E("Background Image in Dark Theme")+` [${E("Modern")}]`).setDesc(E('Set background image in dark theme. Set something like "Daily/one.png"')).setTab(n).addText(o=>{new fd(o.inputEl),o.setPlaceholder(rl.DefaultDarkBackgroundImage).setValue(this.plugin.settings.DefaultDarkBackgroundImage).onChange(async i=>{this.plugin.settings.DefaultDarkBackgroundImage=i,this.applySettingsUpdate()})}),new ct(r,this).setName(E("Background Image in Light Theme")+` [${E("Clean")}]`).setDesc(E('Set background image in light theme. Set something like "Daily/one.png"')).setTab(n).addText(o=>{new fd(o.inputEl),o.setPlaceholder(rl.DefaultLightBackgroundImageForClean).setValue(this.plugin.settings.DefaultLightBackgroundImageForClean).onChange(async i=>{this.plugin.settings.DefaultLightBackgroundImageForClean=i,this.applySettingsUpdate()})}),new ct(r,this).setName(E("Background Image in Dark Theme")+` [${E("Clean")}]`).setDesc(E('Set background image in dark theme. Set something like "Daily/one.png"')).setTab(n).addText(o=>{new fd(o.inputEl),o.setPlaceholder(rl.DefaultDarkBackgroundImageForClean).setValue(this.plugin.settings.DefaultDarkBackgroundImageForClean).onChange(async i=>{this.plugin.settings.DefaultDarkBackgroundImageForClean=i,this.applySettingsUpdate()})}))}customMemoFooter(n,r){new ct(r,this).setName(E("Custom Memo Footer")).setDesc(E("Set custom memo footer.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.SetCustomMemoFooter).onChange(async i=>{this.plugin.settings.SetCustomMemoFooter=i,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomMemoFooter&&new ct(r,this).setName(E("Share Memos Image Footer Start")).setDesc(E("Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default")).setTab(n).addText(o=>o.setPlaceholder(rl.ShareFooterStart).setValue(this.plugin.settings.ShareFooterStart).onChange(async i=>{this.plugin.settings.ShareFooterStart=i,this.applySettingsUpdate()}))}saveDataSettings(n,r){let o;new ct(r,this).setName(E("Default Editor Mode")).setDesc(E("Live-Preview Mode OR Source Mode.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("obsidian",E("Live-preview")),o.addOption("memos",E("Source")),o.setValue(this.plugin.settings.EditorType).onChange(async a=>{this.plugin.settings.EditorType=a,this.applySettingsUpdate()})}),new ct(r,this).setName(E("Delete Thino Directly")).setDesc(E("When delete thino directly, it will not be moved to trash. False by default.")).setTab(n).addToggle(i=>{i.setValue(this.plugin.settings.DeleteThinoDirectly).onChange(async a=>{this.plugin.settings.DeleteThinoDirectly=a,this.applySettingsUpdate()})})}async initHttpServer(n,r){var d;const o=vt.getState().verifyState,i=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),a=C.Platform.isDesktop?await er():i.identifier||i.uuid,u=o&&(o==null?void 0:o.appId)===a;new ct(n,this).setName(E("Enable Local Http Server")).setTab(r).setDisabled(!u).addToggle(f=>f.setValue(this.plugin.settings.EnabledHttpApi).onChange(async m=>{if(!u){An();return}this.plugin.settings.EnabledHttpApi=m,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.settings.EnabledHttpApi?this.plugin.initServer():this.plugin.stopServer(),this.display()},100)})),this.plugin.settings.EnabledHttpApi&&(new ct(n,this).setName(E("Memos Http Server Port")).setDesc(E("Set memos http server port to listen. '43999' by default")).setTab(r).addText(f=>f.setPlaceholder(rl.HttpApiPort).setValue(this.plugin.settings.HttpApiPort).onChange(async m=>{if(!u){An();return}this.plugin.settings.HttpApiPort=m,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})),new ct(n,this).setName(E("Auto Download Image")).setDesc(E("Auto download image when save to thino. 'false' by default")).setTab(r).setDisabled(!u).addToggle(f=>{f.setValue(this.plugin.settings.AutoDownloadImage).onChange(async m=>{if(!u){An();return}this.plugin.settings.AutoDownloadImage=m,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}),new ct(n,this).setName(E("Thino Http IP Type")).setDesc(E("Set Thino http server ip to listen. 'localhost' by default")).setTab(r).addDropdown(f=>{f.addOption("localhost","localhost"),f.addOption("127.0.0.1","127.0.0.1"),f.setValue(this.plugin.settings.HttpApiIpType).onChange(async m=>{if(!o||(o==null?void 0:o.appId)!==a){An();return}this.plugin.settings.HttpApiIpType=m,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}))}fetchDataSettings(n,r){let o;new ct(r,this).setName(E("Use which plugin's default configuration")).setDesc(E("Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.")).setTab(n).addDropdown(async i=>{o=i,o.addOption("Daily",E("Daily")),o.addOption("Periodic","Periodic"),o.setValue(this.plugin.settings.UseDailyOrPeriodic).onChange(async a=>{this.plugin.settings.UseDailyOrPeriodic=a,this.applySettingsUpdate()})})}navigationSettings(n,r){new ct(r,this).setName(E("Open link directly in Thino view")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.navigation).onChange(async i=>{this.plugin.settings.navigation=i,this.applySettingsUpdate()}))}setPasswordSettings(n,r){new ct(r,this).setName(E("Need password to unlock Thino")).setTab(n).addToggle(o=>{this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched&&(o.toggleEl.onclick=i=>{this.passwordMatched||(i.preventDefault(),new zI(this.app,this,this.plugin,a=>{o.setDisabled(!a),this.passwordMatched=a,this.debounceDisplay()}).open(),new C.Notice(E("Please input your password to change password settings")))}),o.setDisabled(this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched).setValue(this.plugin.settings.needVerify).onChange(async i=>{this.plugin.settings.needVerify=i,i&&(this.passwordMatched=!1),this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.needVerify&&new ct(r,this).setName(E("Password to lock Thino")).setTab(n).addText(o=>{this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched&&(o.inputEl.onclick=i=>{this.passwordMatched||(i.preventDefault(),new zI(this.app,this,this.plugin,a=>{o.inputEl.readOnly=!a,this.passwordMatched=a,this.debounceDisplay()}).open(),new C.Notice(E("Please input your password to change password settings")))}),o.inputEl.readOnly=this.plugin.settings.password&&this.plugin.settings.needVerify&&!this.passwordMatched,o.inputEl.oncopy=()=>!1,o.inputEl.type="password",o.setValue(this.plugin.settings.password).onChange(async i=>{this.plugin.settings.password=i,this.applySettingsUpdate()})})}setGlobalSettings(n,r,o){new ct(r,this).setHeading().setTab(n).setName("💎 "+E("Pro features")),this.initHttpServer(r,n),new ct(r,this).setName(E("Enable opening thino globally")).setDesc(E("Enable opening thino globally. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.CaptureKey.EnableCaptureKey).onChange(async a=>{if(!o){An();return}this.plugin.settings.CaptureKey.EnableCaptureKey=a,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.CaptureKey.EnableCaptureKey&&(new ct(r,this).setName(E("Key for opening thino globally")).setDesc(E("Set key for opening thino globally. CTRL + SHIFT + T by default.")).setTab(n).addText(i=>i.setPlaceholder(rl.CaptureKey.OpenThinoGlobally).setValue(this.plugin.settings.CaptureKey.OpenThinoGlobally).onChange(async a=>{if(!o){An();return}this.plugin.settings.CaptureKey.OpenThinoGlobally=a,this.applySettingsUpdate()})),new ct(r,this).setName(E("Show thino near mouse")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.CaptureKey.ShowNearMouse).onChange(async a=>{if(!o){An();return}this.plugin.settings.CaptureKey.ShowNearMouse=a,this.applySettingsUpdate()})))}checkInList(n){return this.plugin.settings.EnabledLocationList.find(r=>r.value===n)!==void 0}customFileNameSettings(n,r,o){var d;const i=document.createDocumentFragment(),a=i.createEl("div",{cls:"memo-save-location-desc"});for(const f of ak){const m=a.createEl("div",{cls:`memo-save-location-desc-item ${f.value}`}),g=m.createEl("span",{cls:"memo-save-location-desc-item-icon"});C.setIcon(g,((d=km.find(I=>I.title===f.value))==null?void 0:d.icon)||""),m.createEl("span",{cls:"memo-save-location-desc-item-desc",text:`${E(f.value)}`});const v=m.createEl("span",{cls:"memo-save-location-desc-item-toggle"}),b=m.createEl("span",{cls:"memo-save-location-desc-item-setting"});f.value!=="DAILY"&&m.createEl("span",{cls:["memo-save-location-desc-item-pro","user-pro-badge"],text:"PRO"}),new C.ToggleComponent(v).setValue(this.checkInList(f.value)).onChange(async I=>{if(!o){An();return}I?(await Re.updateTypeMemos(f.value),this.plugin.settings.EnabledLocationList=[...this.plugin.settings.EnabledLocationList,f]):(await Re.removeTypeMemos(f.value),this.plugin.settings.EnabledLocationList=this.plugin.settings.EnabledLocationList.filter(k=>k.value!==f.value)),this.plugin.settings.EnabledLocationList.length===1&&(this.plugin.settings.MemoSaveLocation=f.value),this.applySettingsUpdate(),setTimeout(()=>{this.display()},500)}).setDisabled(this.plugin.settings.EnabledLocationList.length===1&&this.checkInList(f.value)),new C.ExtraButtonComponent(b).setIcon("settings").onClick(()=>{new Qte(this.app,this,this.plugin,f,o).open()})}const u=new ct(r,this).setName(E("Save type for Thino")).setDesc(i).setTab(n);u.settingEl.toggleClass("memo-save-location-setting",!0),u.nameEl.toggleClass("memo-save-location-title",!0)}}class Qte extends C.Modal{constructor(n,r,o,i,a){super(n);De(this,"plugin");De(this,"settingTab");De(this,"LocationList");De(this,"target","");De(this,"insertTarget","");De(this,"verified");De(this,"updateValue",C.debounce(n=>{this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target=n.trim()===""?"basic":n.trim():this.target=n.trim()===""&&this.LocationList.value==="MULTI"?"Memos":n.trim()},400,!0));De(this,"debounceDisplay",C.debounce(()=>this.display(),400,!0));this.verified=a,this.app=n,this.settingTab=r,this.plugin=o,this.LocationList=i,this.target=i.target!=="ProcessEntriesBelow"?o.settings.MemoOtherSaveLocation[i.target]:o.settings[i.target],this.insertTarget=o.settings.InsertAfter}onOpen(){this.display()}async display(){var d;const{contentEl:n}=this;this.contentEl.empty(),(d=n.parentElement)==null||d.classList.add("memo-save-location-modal"),this.titleEl.toggleClass("modal-title",!0),this.titleEl.setText(E("Save type for Thino")+` [${E(this.LocationList.value)}]`),(this.LocationList.value==="FILE"||this.LocationList.value==="CANVAS")&&n.createDiv("modal-desc",f=>{f.setText(E('You can set folder name with file name like "folder/file"'))}),this.LocationList.value==="MULTI"&&n.createDiv("modal-desc",f=>{f.setText(E('You can set folder name like "folder1/folder2/folder3" to create sub-folder'))}),this.LocationList.value==="DAILY"&&n.createDiv("modal-desc",f=>{f.setText(E('You can set target heading like "# Heading" to control data location'))});const r=n.createDiv("modal-setting"),o=this.LocationList.value==="DAILY"?E("Process Memos below"):this.LocationList.value==="MULTI"?E("Set the folder name"):E("Set the filename");if(this.LocationList.value==="DAILY"&&(new ct(r,this.settingTab).setName(E("Set thino insert place")).setDesc(E("Set where to insert thino content")).addDropdown(async f=>{f.addOption("end",E("End of the diary")),f.addOption("custom",E("Custom location")),f.setValue(this.plugin.settings.InsertType).onChange(async m=>{this.plugin.settings.InsertType=m,this.settingTab.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.InsertType==="custom"&&await this.addDailySettings(r),new ct(r,this.settingTab).setName(E("Set process target")).setDesc(E("You can set whole diary or only part of it")).addDropdown(async f=>{f.addOption("custom",E("Custom")),f.addOption("whole",E("Whole diary")),f.setValue(this.plugin.settings.ProcessContentTarget).onChange(async m=>{this.plugin.settings.ProcessContentTarget=m,this.settingTab.applySettingsUpdate(),this.debounceDisplay()})})),this.LocationList.value!=="DAILY"||this.plugin.settings.ProcessContentTarget!=="whole"){const f=new ct(r,this.settingTab).setName(o).addText(m=>m.setPlaceholder(this.LocationList.value==="DAILY"?E("# Heading"):E("Set the filename for current location file")).setValue(this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target.replace(/\.thino\.(canvas|md)/g,""):this.target).onChange(async g=>{const v=this.LocationList.value==="CANVAS"?".thino.canvas":this.LocationList.value==="FILE"?".thino.md":"";this.updateValue(g.replace(/\.thino\.(canvas|md)/g,"")+v)}));this.LocationList.value==="DAILY"&&f.setDesc(E("If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.")),this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"&&f.controlEl.createEl("span",{text:`${this.LocationList.value==="FILE"?".thino.md":".thino.canvas"}`})}this.LocationList.value==="MULTI"&&new ct(r,this.settingTab).setName(E("Set file name after create thino")).setDesc(E("You can set file name after create thino. A input box will show when you create thino.")).addToggle(f=>{f.setValue(this.plugin.settings.SetFileNameAfterCreate).onChange(async m=>{this.plugin.settings.SetFileNameAfterCreate=m,this.settingTab.applySettingsUpdate()})});const i=n.createDiv("button-group"),a=i.createEl("button",{text:E("Cancel")}),u=i.createEl("button",{text:E("Save")});u.onclick=async()=>{if(!this.verified&&this.LocationList.value!=="DAILY"){this.close(),An();return}this.LocationList.target!=="ProcessEntriesBelow"?this.plugin.settings.MemoOtherSaveLocation[this.LocationList.target]=this.target:this.plugin.settings[this.LocationList.target]=this.target,this.LocationList.value==="MULTI"&&lt.checkDailyInMulti(this.plugin.settings),this.LocationList.target==="ProcessEntriesBelow"&&(this.plugin.settings.InsertAfter=this.insertTarget),this.settingTab.applySettingsUpdate(),setTimeout(()=>{Re.updateTypeMemos(this.LocationList.value)},1e3),this.close()},a.onclick=async()=>{this.close()}}async addDailySettings(n){var d,f,m,g;const r=vt.getState().verifyState,o=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),i=C.Platform.isDesktop?await er():o.identifier||o.uuid,a=r&&(r==null?void 0:r.appId)===i,u=((f=this.plugin.settings)!=null&&f.DifferentInsertTarget?`[${E("List")}] `:"")+E("Insert after heading");new ct(n,this.settingTab).setName(u).setDesc(E("If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")).addText(v=>v.setPlaceholder(E("# Heading")).setValue(this.insertTarget).onChange(async b=>{this.insertTarget=b})),(m=this.plugin.settings)!=null&&m.DifferentInsertTarget&&new ct(n,this.settingTab).setName(((g=this.plugin.settings)!=null&&g.DifferentInsertTarget?`[${E("Task")}] `:"")+E("Insert after heading")).setDesc(E("Set the heading for the task type of thino, by default the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")).addText(v=>{v.setPlaceholder(E("# Heading")).setValue(this.plugin.settings.InsertAfterForTask).onChange(async b=>{this.plugin.settings.InsertAfterForTask=b,this.settingTab.applySettingsUpdate()})}),new ct(n,this.settingTab).setName(E("Different insert target for different type")).setDesc(E("Toggle this to set different insert target for different type of thino, like task or list type of thino")).addToggle(v=>v.setValue(this.plugin.settings.DifferentInsertTarget).onChange(async b=>{if(!a){An();return}this.plugin.settings.DifferentInsertTarget=b,this.settingTab.applySettingsUpdate(),this.debounceDisplay()}))}onClose(){const{contentEl:n}=this;n.empty()}}class zI extends C.Modal{constructor(n,r,o,i){super(n);De(this,"plugin");De(this,"settingTab");this.cb=i,this.app=n,this.settingTab=r,this.plugin=o}onOpen(){var d;const{contentEl:n}=this;(d=n.parentElement)==null||d.classList.add("memo-save-location-modal"),this.titleEl.toggleClass("modal-title",!0),this.titleEl.setText(E("Password for Thino")),n.createDiv("modal-desc",f=>{f.setText(E("Please input your password to change password settings"))});const r=n.createDiv("modal-setting"),o=new ct(r,this.settingTab).setName(E("Password")).addText(f=>{f.setPlaceholder(E("Please input your password")).inputEl.type="password"}),i=n.createDiv("button-group"),a=i.createEl("button",{text:E("Cancel")}),u=i.createEl("button",{cls:"thino-password-confirm-btn",text:E("Confirm?").replace(/(\?|？)/g,"")});u.onclick=async()=>{var f;o.controlEl.querySelector("input").value===this.plugin.settings.password?((f=this.cb)==null||f.call(this,!0),this.close()):new C.Notice(E("Password is incorrect"))},a.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}function z0(e){return e.split("-")[0]}function sk(e){return e.split("-")[1]}function qS(e){return["top","bottom"].includes(z0(e))?"x":"y"}function lk(e){return e==="y"?"height":"width"}function VI(e){let{reference:t,floating:n,placement:r}=e;const o=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2;let a;switch(z0(r)){case"top":a={x:o,y:t.y-n.height};break;case"bottom":a={x:o,y:t.y+t.height};break;case"right":a={x:t.x+t.width,y:i};break;case"left":a={x:t.x-n.width,y:i};break;default:a={x:t.x,y:t.y}}const u=qS(r),d=lk(u);switch(sk(r)){case"start":a[u]=a[u]-(t[d]/2-n[d]/2);break;case"end":a[u]=a[u]+(t[d]/2-n[d]/2);break}return a}const Xte=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n;let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=VI({...u,placement:r}),m=r,g={};for(let v=0;v<i.length;v++){const{name:b,fn:S}=i[v],{x:T,y:I,data:k,reset:A}=await S({x:d,y:f,initialPlacement:r,placement:m,strategy:o,middlewareData:g,rects:u,platform:a,elements:{reference:e,floating:t}});if(d=T??d,f=I??f,g={...g,[b]:k??{}},A){typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(u=A.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):A.rects),{x:d,y:f}=VI({...u,placement:m})),v=-1;continue}}return{x:d,y:f,placement:m,strategy:o,middlewareData:g}};function ene(e){return{top:0,right:0,bottom:0,left:0,...e}}function tne(e){return typeof e!="number"?ene(e):{top:e,right:e,bottom:e,left:e}}function T1(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function I1(e,t){t===void 0&&(t={});const{x:n,y:r,platform:o,rects:i,elements:a,strategy:u}=e,{boundary:d="clippingParents",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:v=0}=t,b=tne(v),T=a[g?m==="floating"?"reference":"floating":m],I=await o.getClippingClientRect({element:await o.isElement(T)?T:T.contextElement||await o.getDocumentElement({element:a.floating}),boundary:d,rootBoundary:f}),k=T1(await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:m==="floating"?{...i.floating,x:n,y:r}:i.reference,offsetParent:await o.getOffsetParent({element:a.floating}),strategy:u}));return{top:I.top-k.top+b.top,bottom:k.bottom-I.bottom+b.bottom,left:I.left-k.left+b.left,right:k.right-I.right+b.right}}const nne={left:"right",right:"left",bottom:"top",top:"bottom"};function Jv(e){return e.replace(/left|right|bottom|top/g,t=>nne[t])}function rne(e,t){const n=sk(e)==="start",r=qS(e),o=lk(r);let i=r==="x"?n?"right":"left":n?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Jv(i)),{main:i,cross:Jv(i)}}const one={start:"end",end:"start"};function WI(e){return e.replace(/start|end/g,t=>one[t])}function ine(e){const t=Jv(e);return[WI(e),t,WI(t)]}const ane=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:u}=t;if((n=i.flip)!=null&&n.skip)return{};const{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",flipAlignment:v=!0,...b}=e,S=z0(o),I=m||(S===u||!v?[Jv(u)]:ine(u)),k=[u,...I],A=await I1(t,b),R=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&R.push(A[S]),f){const{main:U,cross:W}=rne(o,a);R.push(A[U],A[W])}if(j=[...j,{placement:o,overflows:R}],!R.every(U=>U<=0)){var B,L;const U=((B=(L=i.flip)==null?void 0:L.index)!=null?B:0)+1,W=k[U];if(W)return{data:{index:U,overflows:j},reset:{placement:W}};let Z="bottom";switch(g){case"bestFit":{var z;const re=(z=j.slice().sort((Q,ce)=>Q.overflows.filter(ee=>ee>0).reduce((ee,fe)=>ee+fe,0)-ce.overflows.filter(ee=>ee>0).reduce((ee,fe)=>ee+fe,0))[0])==null?void 0:z.placement;re&&(Z=re);break}case"initialPlacement":Z=u;break}return{data:{skip:!0},reset:{placement:Z}}}return{}}}};function sne(e){let{placement:t,rects:n,value:r}=e;const o=z0(t),i=["left","top"].includes(o)?-1:1,a=typeof r=="function"?r({...n,placement:t}):r,{mainAxis:u,crossAxis:d}=typeof a=="number"?{mainAxis:a,crossAxis:0}:{mainAxis:0,crossAxis:0,...a};return qS(o)==="x"?{x:d,y:u*i}:{x:u*i,y:d}}const lne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(t){const{x:n,y:r,placement:o,rects:i}=t,a=sne({placement:o,rects:i,value:e});return{x:n+a.x,y:r+a.y,data:a}}}};function GS(e){return(e==null?void 0:e.toString())==="[object Window]"}function vc(e){if(e==null)return window;if(!GS(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function V0(e){return vc(e).getComputedStyle(e)}function iu(e){return GS(e)?"":e?(e.nodeName||"").toLowerCase():""}function au(e){return e instanceof vc(e).HTMLElement}function Kv(e){return e instanceof vc(e).Element}function une(e){return e instanceof vc(e).Node}function uk(e){const t=vc(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function W0(e){const{overflow:t,overflowX:n,overflowY:r}=V0(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function cne(e){return["table","td","th"].includes(iu(e))}function ck(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=V0(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}const ZI=Math.min,Em=Math.max,Qv=Math.round;function xh(e,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect();let r=1,o=1;return t&&au(e)&&(r=e.offsetWidth>0&&Qv(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Qv(n.height)/e.offsetHeight||1),{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function wc(e){return((une(e)?e.ownerDocument:e.document)||window.document).documentElement}function Z0(e){return GS(e)?{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function dk(e){return xh(wc(e)).left+Z0(e).scrollLeft}function dne(e){const t=xh(e);return Qv(t.width)!==e.offsetWidth||Qv(t.height)!==e.offsetHeight}function fne(e,t,n){const r=au(t),o=wc(t),i=xh(e,r&&dne(t));let a={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(r||!r&&n!=="fixed")if((iu(t)!=="body"||W0(o))&&(a=Z0(t)),au(t)){const d=xh(t,!0);u.x=d.x+t.clientLeft,u.y=d.y+t.clientTop}else o&&(u.x=dk(o));return{x:i.left+a.scrollLeft-u.x,y:i.top+a.scrollTop-u.y,width:i.width,height:i.height}}function $0(e){return iu(e)==="html"?e:e.assignedSlot||e.parentNode||(uk(e)?e.host:null)||wc(e)}function $I(e){return!au(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function hne(e){let t=$0(e);for(;au(t)&&!["html","body"].includes(iu(t));){if(ck(t))return t;t=t.parentNode}return null}function x1(e){const t=vc(e);let n=$I(e);for(;n&&cne(n)&&getComputedStyle(n).position==="static";)n=$I(n);return n&&(iu(n)==="html"||iu(n)==="body"&&getComputedStyle(n).position==="static"&&!ck(n))?t:n||hne(e)||t}function qI(e){return{width:e.offsetWidth,height:e.offsetHeight}}function pne(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=au(n),i=wc(n);if(n===i)return t;let a={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if((o||!o&&r!=="fixed")&&((iu(n)!=="body"||W0(i))&&(a=Z0(n)),au(n))){const d=xh(n,!0);u.x=d.x+n.clientLeft,u.y=d.y+n.clientTop}return{...t,x:t.x-a.scrollLeft+u.x,y:t.y-a.scrollTop+u.y}}function mne(e){const t=vc(e),n=wc(e),r=t.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,u=0;return r&&(o=r.width,i=r.height,Math.abs(t.innerWidth/r.scale-r.width)<.01&&(a=r.offsetLeft,u=r.offsetTop)),{width:o,height:i,x:a,y:u}}function gne(e){var t;const n=wc(e),r=Z0(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=Em(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Em(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let u=-r.scrollLeft+dk(e);const d=-r.scrollTop;return V0(o||n).direction==="rtl"&&(u+=Em(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:u,y:d}}function fk(e){return["html","body","#document"].includes(iu(e))?e.ownerDocument.body:au(e)&&W0(e)?e:fk($0(e))}function hk(e,t){var n;t===void 0&&(t=[]);const r=fk(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=vc(r),a=o?[i].concat(i.visualViewport||[],W0(r)?r:[]):r,u=t.concat(a);return o?u:u.concat(hk($0(a)))}function yne(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&uk(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function vne(e){const t=xh(e),n=t.top+e.clientTop,r=t.left+e.clientLeft;return{top:n,left:r,x:r,y:n,right:r+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function GI(e,t){return t==="viewport"?T1(mne(e)):Kv(t)?vne(t):T1(gne(wc(e)))}function wne(e){const t=hk($0(e)),r=["absolute","fixed"].includes(V0(e).position)&&au(e)?x1(e):e;return Kv(r)?t.filter(o=>Kv(o)&&yne(o,r)&&iu(o)!=="body"):[]}function bne(e){let{element:t,boundary:n,rootBoundary:r}=e;const i=[...n==="clippingParents"?wne(t):[].concat(n),r],a=i[0],u=i.reduce((d,f)=>{const m=GI(t,f);return d.top=Em(m.top,d.top),d.right=ZI(m.right,d.right),d.bottom=ZI(m.bottom,d.bottom),d.left=Em(m.left,d.left),d},GI(t,a));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}const Sne={getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:fne(t,x1(n),r),floating:{...qI(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:e=>pne(e),getOffsetParent:e=>{let{element:t}=e;return x1(t)},isElement:e=>Kv(e),getDocumentElement:e=>{let{element:t}=e;return wc(t)},getClippingClientRect:e=>bne(e),getDimensions:e=>{let{element:t}=e;return qI(t)},getClientRects:e=>{let{element:t}=e;return t.getClientRects()}},Dne=(e,t,n)=>Xte(e,t,{platform:Sne,...n});var Tne=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n};const Ine=Zr(Tne),Tb=Cm.Facet.define({combine:e=>{var t,n;return{defaultPlacement:((t=e.find(r=>r.defaultPlacement))==null?void 0:t.defaultPlacement)||"top",padding:((n=e.find(r=>r.padding))==null?void 0:n.padding)||8}}}),pk=e=>e.split("-")[0],xne=e=>e==="x"?"y":"x",Ene=e=>["top","bottom"].includes(pk(e))?"x":"y",fm=(e,t,n)=>Math.max(e,Math.min(t,n)),Cne=(e,t)=>Object.fromEntries(Object.entries(e).map(([n,r],o)=>[n,t(r,n,o)])),Mne=e=>e===void 0?e:typeof e=="number"?-e:Cne(e,t=>t!==void 0?-t:t),kne=(e={})=>({name:"shift",fn:async t=>{const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:u=({x:I,y:k})=>({x:I,y:k}),editorMenu:d,...f}=e,m={x:n,y:r},g=await I1(t,f),v=Ene(pk(o)),b=xne(v);let S=m[v],T=m[b];if(i){const I=v==="y"?"top":"left",k=v==="y"?"bottom":"right",A=S+g[I],R=S-g[k];if(d){const j=await I1(t,{...f,boundary:d.dom,padding:Mne(f.padding)});if((b==="y"?["top","bottom"]:["left","right"]).every(L=>j[L]<=0)){const L=t.rects.floating.width,z=S+j[I]-L,U=S-j[k]+L,W=Math.abs(g[I]-j[I]),Z=Math.abs(g[k]-j[k]);W>=L||Z<W?S=fm(A,S,z):S=fm(U,S,R)}else S=fm(A,S,R)}else S=fm(A,S,R)}if(a){const I=b==="y"?"top":"left",k=b==="y"?"bottom":"right",A=T+g[I],R=T-g[k];T=fm(A,T,R)}return u({...t,[v]:S,[b]:T})}}),Nne="thino-mini-toolbar",Ane=(e=0,t=0)=>({width:0,height:0,top:t,left:e,bottom:t,right:e,x:e,y:t}),Fne=(e,t)=>{if(!e)return null;const n=Math.min(e.left,(t==null?void 0:t.left)??e.left),r=Math.max(e.right,(t==null?void 0:t.right)??e.right),o=Math.max(e.bottom,(t==null?void 0:t.bottom)??e.bottom)-Math.min(e.top,(t==null?void 0:t.top)??e.top),i=Math.min(e.top,(t==null?void 0:t.top)??e.top),a=i+o,u={left:n,right:r,top:i,bottom:a,width:0,height:o,x:i,y:n};return t&&(u.width=Math.abs(r-n)),u},Pne=Ane();class One{constructor(t){De(this,"containerEl");De(this,"virtualEl");De(this,"toolbar",null);De(this,"isThinoView");De(this,"tooltipInfo");De(this,"inView",!0);De(this,"defaultPlacement");De(this,"editorMenu");De(this,"cachedRefRect",null);De(this,"readFromDOM",()=>{if(this.tooltipInfo){const{start:t}=this.tooltipInfo;let{end:n}=this.tooltipInfo;n&&t===n&&(n=void 0);const r=this.view.coordsAtPos(t);let o=n?this.view.coordsAtPos(n):null;if(r&&o&&r.top!==o.top){const a=this.view.contentDOM.getBoundingClientRect();o={left:a.right,right:a.right,top:r.top,bottom:r.bottom}}const i=Fne(r,o);i&&(this.cachedRefRect=i,this.computePosition(i))}});this.view=t,this.containerEl=this.view.dom.parentElement,this.defaultPlacement=this.view.state.facet(Tb).defaultPlacement,this.tooltipInfo=t.state.facet(E1),this.virtualEl={rect:Pne,getBoundingClientRect(){return this.rect}},this.maybeMeasure(),this.editorMenu={currMenu:null,evtRef:t.state.field(C.editorInfoField)},this.isThinoView=this.checkThinoView()}get workspace(){return this.view.state.field(C.editorInfoField).app.workspace}checkThinoView(){return this.view.state.field(C.editorInfoField)&&this.view.state.field(C.editorInfoField)instanceof ac}shouldRemoveToolbar(t){const n=t??this.tooltipInfo;return!(n!=null&&n.end||this.editorMenu.currMenu)}onEditorMenuOpen(t){this.editorMenu.currMenu||(this.editorMenu.currMenu=t,this.cachedRefRect?this.computePosition(this.cachedRefRect):this.maybeMeasure(),!C.Platform.isMacOS&&this.tooltipInfo&&(this.createToolbar(),this.maybeMeasure()))}onEditorMenuClose(t){this.editorMenu.currMenu===t&&(this.editorMenu.currMenu=null),!C.Platform.isMacOS&&this.toolbar&&this.shouldRemoveToolbar()&&this.removeToolbar()}createToolbar(t){const n=t??this.tooltipInfo;if(!n)return;this.removeToolbar();const r=n.create(this.containerEl),o=this.view.state.field(C.editorInfoField);if(!o||!(o!=null&&o.editor))return;const i=o.editor.offsetToPos(n.start),a=n.end?o.editor.offsetToPos(n.end):i;this.workspace.trigger(Nne,r,{from:i,to:a},o.editor,o),this.toolbar=r}removeToolbar(){this.toolbar&&(this.toolbar.hide(),this.toolbar=null)}update(t){if(!this.isThinoView)return;const n=t.state.facet(E1),r=n!==this.tooltipInfo&&!Ine(n,this.tooltipInfo);r&&(this.tooltipInfo=n,this.shouldRemoveToolbar()?this.removeToolbar():n&&!this.toolbar&&this.createToolbar(n));const o=r||t.geometryChanged,i=t.state.facet(Tb);i.defaultPlacement!=this.defaultPlacement&&(i.defaultPlacement=this.defaultPlacement),o&&this.maybeMeasure()}destroy(){this.editorMenu.currMenu=null,this.removeToolbar(),this.toolbar=null,this.view.state.field(C.editorInfoField).app.workspace.offref(this.editorMenu.evtRef)}async computePosition(t){if(!this.toolbar)return;this.virtualEl.rect=t;const{padding:n}=this.view.state.facet(Tb),{x:r,y:o}=await Dne(this.virtualEl,this.toolbar.dom,{placement:this.defaultPlacement,middleware:[lne({mainAxis:5}),ane({padding:n,boundary:this.view.scrollDOM}),kne({padding:n,boundary:this.view.scrollDOM,editorMenu:this.editorMenu.currMenu})]});Object.assign(this.toolbar.dom.style,{top:"0",left:"0",transform:`translate(${Math.round(r)}px,${Math.round(o)}px)`})}maybeMeasure(){this.view.inView&&this.toolbar&&this.view.requestMeasure({read:this.readFromDOM}),this.inView!=this.view.inView&&(this.inView=this.view.inView,this.inView||this.removeToolbar())}}const jne=ul.ViewPlugin.fromClass(One,{eventHandlers:{scroll(){this.maybeMeasure()}}}),E1=Cm.Facet.define({enables:[jne],combine:e=>e.filter(t=>t!=null).first()??null}),Lne=e=>{const t=Yne(e);t&&window.navigator.clipboard.writeText(t==null?void 0:t.getSelection())},Rne=e=>{e.commands.executeCommandById("editor:toggle-bold",e)},_ne=e=>{e.commands.executeCommandById("editor:toggle-strikethrough",e)},Bne=e=>{e.commands.executeCommandById("editor:toggle-highlight",e)},Hne=e=>{e.commands.executeCommandById("editor:toggle-italics",e)},Yne=e=>{const{editor:t}=e.field(C.editorInfoField);return t},JI=(e,t)=>{const n=e.selection.ranges[0];if(!n)return null;const{anchor:r,head:o,empty:i}=n,[a,u]=[r,o].sort();return{start:a,end:i?void 0:u,create:f=>new Wne(f).addSmallButton(g=>g.setClass("clickable-icon").setIcon("copy").onClick(()=>Lne(e))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("bold").onClick(()=>Rne(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("italic").onClick(()=>Hne(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("strikethrough").onClick(()=>_ne(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("highlighter").onClick(()=>Bne(t)))}},Une=e=>Cm.StateField.define({create:t=>JI(t,e),update:(t,n)=>!n.docChanged&&!n.selection?t:JI(n.state,e),provide:t=>E1.from(t)}),zne=e=>[Une(e)];class Vne extends C.BaseComponent{constructor(n){super();De(this,"button");De(this,"disabled",!1);De(this,"dropdownOptions",[]);De(this,"menu");De(this,"menuOpened",!1);this.button=new C.ButtonComponent(n)}setDisabled(n){return this.button.setDisabled(n),this.disabled=n,this}setIcon(n){return this.button.setIcon(n),this}setClass(n){return this.button.setClass(n),this}setDropdownText(n){var d;const r=this.button.buttonEl.createDiv("mini-toolbar-text"),o=this.button.buttonEl.createDiv("mini-toolbar-icon-with-text");C.setIcon(o,"chevron-down");const i=(d=n.doc.lineAt(n.selection.ranges[0].from))==null?void 0:d.from,a=jw.syntaxTree(n).resolveInner(i+1),u=a.type.prop(jw.tokenClassNodeProp);return r.setText(this.detectFormat(u,a)||"Text"),this}setDropdownIcon(){const n=this.button.buttonEl.createDiv("mini-toolbar-highlight-icon"),r=this.button.buttonEl.createDiv("mini-toolbar-icon-with-icon");return C.setIcon(n,"highlighter"),C.setIcon(r,"chevron-down"),this}detectFormat(n,r){var o;if(!n)return"Text";if(n.includes("strong"))return"Bold";if(n.includes("em"))return"Italic";if(n.includes("strikethrough"))return"Strike";if(n.contains("hmd-codeblock"))return"CodeBlock";if(n.contains("hmd-inline-code"))return"Code";if(n.contains("formatting-header")){const i=n.match(/header-\d{1,}/);if(i)return"Heading "+i[0].slice(-1)}if(n.contains("formatting-list")||n.contains("hmd-list-indent")){if(r!=null&&r.parent){const i=(o=r.parent)==null?void 0:o.type.prop(jw.lineClassNodeProp);if(i!=null&&i.contains("HyperMD-task-line"))return"To-do list"}if(n.contains("formatting-list-ol"))return"Numbered list";if(n.contains("formatting-list-ul"))return"Bulleted list"}}setTooltip(n){return this.button.setTooltip(n),this}setOptionsList(n){return this.dropdownOptions=n,this}onClick(n){return this.dropdownOptions.length>0?(this.button.onClick(r=>this.showEditMenu(r)),this):(this.button.onClick(n),this)}showEditMenu(n){var a,u;if(this.menuOpened=!this.menuOpened,!this.menuOpened)return;this.menu=new C.Menu,this.menu.onHide(()=>{this.menuOpened=!1});const r=n.currentTarget,o=(a=n.currentTarget)==null?void 0:a.getBoundingClientRect(),i={x:o.left-6,y:o.bottom+6};for(let d=0;d<((u=this.dropdownOptions)==null?void 0:u.length);d++)this.menu.addItem(f=>{f.setIcon("zap").setTitle(this.dropdownOptions[d]).onClick(()=>{})});this.menu.setParentElement(r).showAtPosition(i)}then(n){return n(this),this}}class Wne extends C.Component{constructor(n){super();De(this,"dom");De(this,"smallBtnContainer");De(this,"unloading",!1);this.dom=n==null?void 0:n.createDiv({cls:"cm-mini-toolbar"},r=>r.style.position="absolute"),this.smallBtnContainer=this.dom}addSmallButton(n){return n(new Vne(this.smallBtnContainer)),this}hide(){return this.unload(),this.unloading?this:(this.unloading=!0,this.dom.detach(),this.unloading=!1,this)}}const Zne=ul.Decoration.line({attributes:{"data-ph":E("What do you think now...")},class:"thino-editor-placeholder"}),$ne=Cm.StateField.define({create(){return ul.Decoration.none},update(e,t){const n=t.state.field(C.editorInfoField);if(!(n!=null&&n.view)&&!((n==null?void 0:n.view)instanceof ac))return e;const r=new Cm.RangeSetBuilder,o=t.state.doc.toString(),i=t.state.doc.lineAt(0);return(o==null?void 0:o.length)==0&&r.add(i.from,i.from,Zne),r.finish()},provide:e=>ul.EditorView.decorations.from(e)});function mk(e){return`userId:${e}`}function qne(e,t){return`expiryDate:${t}:${e}`}function Gne(e){try{const t=mk(e==null?void 0:e.appId);return Vr.get([t])[t]||""}catch(t){return console.error(t),""}}function Jne(e,t){try{const n=mk(t==null?void 0:t.appId);return Vr.set({[n]:e}),{userId:e,key:n}}catch(n){console.error(n)}}function Kne(e,t){try{const n=qne(Gne(t),t==null?void 0:t.appId);Vr.set({[n]:e})}catch(n){console.error(n)}}const Qne=lt.grabImageFromUrl,Xne=require("http"),ere=require("url");function tre(e){const t=e.indexOf(";base64,"),n=e.substring(5,t),r=e.substr(t+8),o=atob(r),i=new ArrayBuffer(o.length),a=new Uint8Array(i);for(let d=0;d<o.length;d++)a[d]=o.charCodeAt(d);return new Blob([i],{type:n})}const KI=async e=>{const{type:t}=e;if(t.startsWith("image"))try{return`${await V1.upload(e)}`}catch(n){new C.Notice(n)}};function nre(e){const t=Xne.createServer(async function(n,r){r.setHeader("Access-Control-Allow-Origin","*"),r.setHeader("Access-Control-Allow-Methods","GET, HEAD, POST, OPTIONS, PUT, PATCH, DELETE"),r.setHeader("Access-Control-Allow-Headers","Access-Control-Allow-Headers, Origin, Authorization,Accept,x-client-id, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, hypothesis-client-version"),r.setHeader("Access-Control-Allow-Credentials","true");try{if(n.url){const o=ere.parse(n.url,!0);if(o.pathname==="/create"&&n.method==="POST"){let i="";n.on("data",a=>{i+=a}),n.on("end",async()=>{const a=JSON.parse(i),{text:u,isList:d,type:f,imageList:m}=a;let g=u;if(!g){r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thino:null,link:null}));return}new RegExp(/(<([^>]+)>)/g).test(u)&&(g=C.htmlToMarkdown(u));let b=[];const S=[];if(e.AutoDownloadImage){const I=g.match(Pd)||[];if(I.length>0){for(const k of I)try{const A=await Qne(k);if(A.size===0)continue;const R=new File([A],"image.png",{type:"image/png"}),j=await KI(R);S.push({oldUrl:k,newUrl:j})}catch(A){console.error(A)}S.forEach(k=>{g=g.replace(k.oldUrl,k.newUrl)}),m&&m.length>0&&(b=await Promise.all(m.map(async k=>{const A=tre(k);return new File([A],"image.png",{type:"image/png"})})));for(const k of b){const A=await KI(k);g+=`
${A}`}}}const T=await Re.createThino({content:g,isList:d,type:f});T&&(Re.pushMemo(T),at.clearQuery()),r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thino:T,link:`obsidian://thino?openId=${T.id}`}))})}else if(o.pathname==="/search"&&n.method==="GET"){const i=o.query,{keyword:a}=i,u=Re.getThinoViaKeyword(a);r.statusCode=200,r.setHeader("Content-Type","application/json");const d=JSON.stringify({status:"success",thinos:u});r.end(d)}else r.statusCode=404,r.end()}}catch(o){console.error(o),r.statusCode=500,r.end({status:"error",message:o.message})}});return{listen(n,r){try{t.listen({port:parseInt(r),host:n})}catch(o){console.error(o),new C.Notice(E("Thino - Failed to start HTTP server, please check the port is available."))}new C.Notice(`${E("Thino - Started HTTP server on port")} ${r}`)},close(){t.close(),new C.Notice(E("Thino - Terminated HTTP server"))}}}const{clipboard:Qn}=C.Platform.isDesktop?require("electron"):"";class rre{constructor(){De(this,"eventListeners");this.eventListeners={}}on(t,n){this.eventListeners[t]=this.eventListeners[t]||[],this.eventListeners[t].push(n)}once(t,n){n.$emitOnce=!0,this.on(t,n)}removeListener(t,n){if(this.eventListeners[t]){const r=this.eventListeners[t].findIndex(o=>o===n);r>=0&&this.eventListeners[t].splice(r,1)}}removeAllListeners(t){this.eventListeners[t]&&(this.eventListeners[t].length=0)}emit(t,...n){this.eventListeners[t]&&this.eventListeners[t].forEach(r=>{r.call(this,...n),r.$emitOnce&&this.removeListener(t,r)})}}const oh=new rre;let hm=null,QI=Qn==null?void 0:Qn.readText(),XI=Qn==null?void 0:Qn.readImage();Qn&&(Qn.on=(e,t)=>(oh.on(e,t),Qn),Qn.once=(e,t)=>(oh.once(e,t),Qn),Qn.off=(e,t)=>(t?oh.removeListener(e,t):oh.removeAllListeners(e),Qn),Qn.startWatching=()=>(hm||(hm=setInterval(()=>{ore(QI,QI=Qn==null?void 0:Qn.readText())&&oh.emit("text-changed"),ire(XI,XI=Qn==null?void 0:Qn.readImage())&&oh.emit("image-changed")},500)),Qn),Qn.stopWatching=()=>(hm&&clearInterval(hm),hm=null,Qn));function ore(e,t){return t&&e!==t}function ire(e,t){return!t.isEmpty()&&e.toDataURL()!==t.toDataURL()}var ax;const Ib=(ax=require("electron"))==null?void 0:ax.remote;var sx,lx;const ex=(lx=(sx=require("electron"))==null?void 0:sx.remote)==null?void 0:lx.screen;class are{constructor(t,n){De(this,"isRegisted");De(this,"leaf");De(this,"clipboard");De(this,"isScreenTop",!1);De(this,"currentSplitWindow");De(this,"intervalNum");De(this,"allowsCopy",!1);De(this,"plugin");De(this,"actionEl",null);this.app=t,this.plugin=n,this.isRegisted=!1,this.leaf=null,this.clipboard=Qn}async onload(){C.Platform.isDesktop&&(this.initGlobalCopyEvents(),await this.registerAllShortcuts(),this.registerEvents())}registerEvents(){this.plugin.registerEvent(this.app.workspace.on("quit",()=>{Ib.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally)}))}initGlobalCopyEvents(){this.plugin.addCommand({id:"init-global-copy-events",name:E("Global copy"),callback:()=>{this.allowsCopy=!this.allowsCopy,!this.allowsCopy&&this.clipboard.stopWatching(),this.allowsCopy&&this.clipboard.startWatching(),this.leaf&&this.allowsCopy&&(this.actionEl=this.leaf.view.addAction("clipboard-x","Stop global copying",()=>{var t;this.allowsCopy=!1,this.clipboard.stopWatching(),(t=this.actionEl)==null||t.remove()}))}})}onunload(){this.isRegisted&&(Ib.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally),this.clipboard.off("text-changed"),this.clipboard.off("image-changed"),this.clipboard.stopWatching(),this.leaf&&this.leaf.detach())}getCurrentLeaf(){var n;return this.leaf?this.app.workspace.getLeavesOfType("thino_view").length>0&&!!this.app.workspace.getLeafById(this.leaf.id)?!0:((n=this.leaf)==null||n.detach(),this.currentSplitWindow.close(),this.currentSplitWindow=null,this.leaf=null,this.isScreenTop=!1,!1):!1}async registerAllShortcuts(){Ib.globalShortcut.register(this.plugin.settings.CaptureKey.OpenThinoGlobally,()=>{this.getCurrentLeaf()?this.showThinoView():this.openThinoView()}),this.isRegisted=!0}showThinoView(){var r,o,i,a;const t=ex.getCursorScreenPoint(),n=(a=(i=(o=(r=this.leaf)==null?void 0:r.parent)==null?void 0:o.parent)==null?void 0:i.win)==null?void 0:a.electronWindow;if(n){if(n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),this.leaf.view.containerEl.toggleClass("thino-float-window",!0),n.isMinimized()&&n.restore(),n.focus(),this.plugin.settings.CaptureKey.ShowNearMouse){const{width:u,height:d}=n.getBounds();n.setBounds({x:t.x,y:t.y,width:u,height:d})}if(this.app.workspace.trigger("focus-on-textarea"),this.isScreenTop){this.isScreenTop=!1,setTimeout(()=>{n.setAlwaysOnTop(!1,"screen")},200);return}this.isScreenTop=!0}}openThinoView(){var i,a,u,d,f;this.leaf=this.app.workspace.openPopoutLeaf({size:{width:400,height:400}});const t=this.leaf;this.leaf.view.containerEl.toggleClass("thino-float-window",!0),this.leaf.setViewState({type:"thino_view"}),setTimeout(()=>{t.view.containerEl.classList.toggle("mobile-view",!0)},0),this.currentSplitWindow=(a=(i=this.leaf)==null?void 0:i.parent)==null?void 0:a.parent;const n=(f=(d=(u=this.leaf)==null?void 0:u.parent)==null?void 0:d.parent)==null?void 0:f.win.electronWindow;if(!n)return;n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),this.isScreenTop=!0;const r=this.app,o=m=>{var b,S,T;const g=ex.getCursorScreenPoint(),v=(T=(S=(b=t==null?void 0:t.parent)==null?void 0:b.parent)==null?void 0:S.win)==null?void 0:T.electronWindow;if(v){if(v.isMinimized()&&v.restore(),!this.isScreenTop&&this.plugin.settings.CaptureKey.ShowNearMouse){const{width:I,height:k}=v.getBounds();v.setBounds({x:g.x,y:g.y-200,width:I,height:k})}v.setAlwaysOnTop(!0,"screen"),r.workspace.trigger("focus-on-textarea"),r.workspace.trigger("send-to-thino",m,t)}};this.clipboard.on("text-changed",()=>{const m=this.clipboard.readText();o(m)}).on("image-changed",()=>{const m=this.clipboard.readImage();o(m)})}}class tx extends C.EditorSuggest{constructor(n,r){super(n);De(this,"root");De(this,"editor");De(this,"cursor");De(this,"plugin");De(this,"tags");De(this,"type","customTag");De(this,"HASHTAG_REGEX",/(^|\s)#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]*$/g);this.plugin=r}checkSettings(){return this.plugin.settings.UseVaultTags}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const o=(i=r.parentElement)==null?void 0:i.parentElement;return(o==null?void 0:o.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const o=C.prepareFuzzySearch(n);return r.map(a=>{const u=o(a);return u?{item:a,match:u}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r)||this.checkSettings())return null;this.tags=Re.getState().tags,this.cursor=n,this.editor=r;const o=n.line,i=r.getLine(o),a=i.substr(0,n.ch);if(a.match(this.HASHTAG_REGEX)&&i.substr(n.ch,1)!=="#"){const u=a.lastIndexOf("#"),d=a.substr(u+1);return{start:{line:o,ch:u},end:{line:o,ch:n.ch},query:d}}return null}getSuggestions(n){return this.fuzzySearchItemsOptimized(n.query,this.tags).map(r=>r.item).sort((r,o)=>r.localeCompare(o))||[]}renderSuggestion(n,r){r.setText(n)}selectSuggestion(n){if(this.context){const r=this.context.editor,o=this.context.start,i=this.context.end;r.transaction({changes:[{from:o,to:i,text:"#"+n+" "}]}),setTimeout(function(){return r.focus()})}this.close()}}const JS=crypto,gk=e=>e instanceof CryptoKey,Qy=new TextEncoder,KS=new TextDecoder;function sre(...e){const t=e.reduce((o,{length:i})=>o+i,0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}const lre=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},xb=e=>{let t=e;t instanceof Uint8Array&&(t=KS.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return lre(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class q0 extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class ure extends q0{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class G0 extends q0{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class To extends q0{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class cre extends q0{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}function Jl(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Xy(e,t){return e.name===t}function Eb(e){return parseInt(e.name.slice(4),10)}function dre(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function fre(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();n+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw new TypeError(n)}}function hre(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!Xy(e.algorithm,"HMAC"))throw Jl("HMAC");const r=parseInt(t.slice(2),10);if(Eb(e.algorithm.hash)!==r)throw Jl(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Xy(e.algorithm,"RSASSA-PKCS1-v1_5"))throw Jl("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(Eb(e.algorithm.hash)!==r)throw Jl(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Xy(e.algorithm,"RSA-PSS"))throw Jl("RSA-PSS");const r=parseInt(t.slice(2),10);if(Eb(e.algorithm.hash)!==r)throw Jl(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw Jl("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!Xy(e.algorithm,"ECDSA"))throw Jl("ECDSA");const r=dre(t);if(e.algorithm.namedCurve!==r)throw Jl(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}fre(e,n)}function yk(e,t,...n){var r;if(n.length>2){const o=n.pop();e+=`one of type ${n.join(", ")}, or ${o}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const nx=(e,...t)=>yk("Key must be ",e,...t);function vk(e,t,...n){return yk(`Key for the ${e} algorithm must be `,t,...n)}const wk=e=>gk(e),ll=["CryptoKey"],pre=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const o=Object.keys(r);if(!n||n.size===0){n=new Set(o);continue}for(const i of o){if(n.has(i))return!1;n.add(i)}}return!0};function mre(e){return typeof e=="object"&&e!==null}function rx(e){if(!mre(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const gre=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},tc=(e,t,n=0)=>{n===0&&(t.unshift(t.length),t.unshift(6));const r=e.indexOf(t[0],n);if(r===-1)return!1;const o=e.subarray(r,r+t.length);return o.length!==t.length?!1:o.every((i,a)=>i===t[a])||tc(e,t,r+1)},ox=e=>{switch(!0){case tc(e,[42,134,72,206,61,3,1,7]):return"P-256";case tc(e,[43,129,4,0,34]):return"P-384";case tc(e,[43,129,4,0,35]):return"P-521";case tc(e,[43,101,110]):return"X25519";case tc(e,[43,101,111]):return"X448";case tc(e,[43,101,112]):return"Ed25519";case tc(e,[43,101,113]):return"Ed448";default:throw new G0("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},yre=async(e,t,n,r,o)=>{let i,a;const u=new Uint8Array(atob(n.replace(e,"")).split("").map(f=>f.charCodeAt(0))),d=t==="spki";switch(r){case"PS256":case"PS384":case"PS512":i={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`},a=d?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":i={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`},a=d?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":i={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`},a=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":i={name:"ECDSA",namedCurve:"P-256"},a=d?["verify"]:["sign"];break;case"ES384":i={name:"ECDSA",namedCurve:"P-384"},a=d?["verify"]:["sign"];break;case"ES512":i={name:"ECDSA",namedCurve:"P-521"},a=d?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const f=ox(u);i=f.startsWith("P-")?{name:"ECDH",namedCurve:f}:{name:f},a=d?[]:["deriveBits"];break}case"EdDSA":i={name:ox(u)},a=d?["verify"]:["sign"];break;default:throw new G0('Invalid or unsupported "alg" (Algorithm) value')}return JS.subtle.importKey(t,u,i,(o==null?void 0:o.extractable)??!1,a)},vre=(e,t,n)=>yre(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,n);async function wre(e,t,n){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return vre(e,t,n)}const bre=(e,t)=>{if(!(t instanceof Uint8Array)){if(!wk(t))throw new TypeError(vk(e,t,...ll,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${ll.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},Sre=(e,t,n)=>{if(!wk(t))throw new TypeError(vk(e,t,...ll));if(t.type==="secret")throw new TypeError(`${ll.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&t.type==="public")throw new TypeError(`${ll.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&t.type==="public")throw new TypeError(`${ll.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&n==="verify"&&t.type==="private")throw new TypeError(`${ll.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&n==="encrypt"&&t.type==="private")throw new TypeError(`${ll.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},Dre=(e,t,n)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?bre(e,t):Sre(e,t,n)};function Tre(e,t,n,r,o){if(o.crit!==void 0&&r.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(a=>typeof a!="string"||a.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let i;n!==void 0?i=new Map([...Object.entries(n),...t.entries()]):i=t;for(const a of r.crit){if(!i.has(a))throw new G0(`Extension Header Parameter "${a}" is not recognized`);if(o[a]===void 0)throw new e(`Extension Header Parameter "${a}" is missing`);if(i.get(a)&&r[a]===void 0)throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(r.crit)}const Ire=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};function xre(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new G0(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function Ere(e,t,n){if(gk(t))return hre(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(nx(t,...ll));return JS.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(nx(t,...ll,"Uint8Array"))}const Cre=async(e,t,n,r)=>{const o=await Ere(e,t,"verify");gre(e,o);const i=xre(e,o.algorithm);try{return await JS.subtle.verify(i,o,n,r)}catch{return!1}};async function Mre(e,t,n){if(!rx(e))throw new To("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new To('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new To("JWS Protected Header incorrect type");if(e.payload===void 0)throw new To("JWS Payload missing");if(typeof e.signature!="string")throw new To("JWS Signature missing or incorrect type");if(e.header!==void 0&&!rx(e.header))throw new To("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const T=xb(e.protected);r=JSON.parse(KS.decode(T))}catch{throw new To("JWS Protected Header is invalid")}if(!pre(r,e.header))throw new To("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...r,...e.header},i=Tre(To,new Map([["b64",!0]]),n==null?void 0:n.crit,r,o);let a=!0;if(i.has("b64")&&(a=r.b64,typeof a!="boolean"))throw new To('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:u}=o;if(typeof u!="string"||!u)throw new To('JWS "alg" (Algorithm) Header Parameter missing or invalid');const d=n&&Ire("algorithms",n.algorithms);if(d&&!d.has(u))throw new ure('"alg" (Algorithm) Header Parameter value not allowed');if(a){if(typeof e.payload!="string")throw new To("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new To("JWS Payload must be a string or an Uint8Array instance");let f=!1;typeof t=="function"&&(t=await t(r,e),f=!0),Dre(u,t,"verify");const m=sre(Qy.encode(e.protected??""),Qy.encode("."),typeof e.payload=="string"?Qy.encode(e.payload):e.payload);let g;try{g=xb(e.signature)}catch{throw new To("Failed to base64url decode the signature")}if(!await Cre(u,t,g,m))throw new cre;let b;if(a)try{b=xb(e.payload)}catch{throw new To("Failed to base64url decode the payload")}else typeof e.payload=="string"?b=Qy.encode(e.payload):b=e.payload;const S={payload:b};return e.protected!==void 0&&(S.protectedHeader=r),e.header!==void 0&&(S.unprotectedHeader=e.header),f?{...S,key:t}:S}async function kre(e,t,n){if(e instanceof Uint8Array&&(e=KS.decode(e)),typeof e!="string")throw new To("Compact JWS must be a string or Uint8Array");const{0:r,1:o,2:i,length:a}=e.split(".");if(a!==3)throw new To("Invalid Compact JWS");const u=await Mre({payload:o,protected:r,signature:i},t,n),d={payload:u.payload,protectedHeader:u.protectedHeader};return typeof t=="function"?{...d,key:u.key}:d}const Nre={webId:"globe-2",pinned:"pin",archived:"archive",visibility:"eye",deleted:"trash"};class Are extends ul.WidgetType{constructor(n,r,o,i,a){super();De(this,"error",!1);this.view=n,this.plugin=r,this.target=o,this.type=i,this.to=a}eq(n){return this.target===n.target}toDOM(){const n=createSpan();return n.toggleClass("thino-inline-widget",!0),C.setIcon(n,Nre[this.type]||"help-circle"),C.setTooltip&&C.setTooltip(n,this.target),n}}function Fre(e){class t{constructor(o){De(this,"view");De(this,"match",new ul.MatchDecorator({regexp:/\[(webId|pinned|archived|visibility|deleted)::([^\]]+)\]/g,decorate:(o,i,a,u,d)=>{this.shouldRender(d,i,a)&&o(i,a,ul.Decoration.replace({widget:new Are(d,e,u[0],u[1],a)}))}}));De(this,"decorations",ul.Decoration.none);this.view=o,this.updateDecorations(o)}update(o){this.updateDecorations(o.view,o)}destroy(){this.decorations=ul.Decoration.none}updateDecorations(o,i){!i||this.decorations.size===0?this.decorations=this.match.createDeco(o):this.decorations=this.match.updateDeco(i,this.decorations)}isLivePreview(o){return o.field(C.editorLivePreviewField)}shouldRender(o,i,a){return!o.state.selection.ranges.some(d=>d.from<=i?d.to>=i:d.from<=a)&&this.isLivePreview(o.state)}}const n={decorations:r=>r.decorations.update({filter:(o,i,a)=>{const u=a.spec.widget;return u&&u.error?!1:o===i||!r.view.state.selection.ranges.filter(d=>{const f=d.from,m=d.to;return f<=o?m>=o:f<=i}).length}})};return ul.ViewPlugin.fromClass(t,n)}const Pre=e=>e.ctrlKey!==void 0||e.metaKey!==void 0||e.shiftKey!==void 0||e.altKey!==void 0,ev=()=>{new C.Notice(E("Open Memos Successfully"))},tv=[{id:"open-thino-in-left-sidebar",shortName:E("Left sidebar"),name:E("Open thino in left sidebar"),icon:"arrow-left",location:"left",cb:ev,modKeys:"shift"},{id:"open-thino-in-right-sidebar",shortName:E("Right sidebar"),name:E("Open thino in right sidebar"),icon:"arrow-right",location:"right",cb:ev,modKeys:["ctrl","meta"]},{id:"open-thino-in-float",shortName:E("Float window"),name:E("Open thino in float window"),icon:"layout",location:"float",cb:ev,modKeys:"alt"},{id:"open-thino-in-center",shortName:E("Center window"),name:E("Open thino in center window"),icon:"tv-2",location:"center",cb:ev,modKeys:void 0}];function ix(e,t,n){return new Promise((r,o)=>{let i="",a="";const u=d=>new Promise((f,m)=>{const g=t.ShareToThinoWithTextNewline===d||t.ShareToThinoWithTextNewline==="both"?`
`:" ";switch(t[d==="prepend"?"SharePrependType":"ShareAppendType"]){case"none":f();break;case"preset":t.ShareToThinoWithText&&(d==="prepend"?i=t.ShareToThinoWithTextPrepend+g:a=g+t.ShareToThinoWithTextAppend),f();break;case"input":{const v="Thino "+E(d==="prepend"?"Prepend text":"Append text");new bk(e,v,b=>{d==="prepend"?i=b.trim()+(b.trim()?g:""):a=(b.trim()?g:"")+b,f()}).open();break}case"selectTags":new mO(e,v=>{const b=v.length>0?v.map(S=>"#"+S).join(" "):"";d==="prepend"?i=b.trim()+(b.trim()?g:""):a=(b.trim()?g:"")+b.trim(),f()}).open();break;default:m(new Error("Invalid configuration type."))}});Promise.all([u("append"),u("prepend")]).then(()=>n(i,a)).then(()=>r()).catch(o)})}class Ore extends C.Plugin{constructor(){super(...arguments);De(this,"settings");De(this,"settingTab");De(this,"triggerBySelf",!1);De(this,"updatedID","");De(this,"debounceTimer",0);De(this,"apiHttpServer",null);De(this,"captureService",null);De(this,"loaded",!1)}async onload(){await this.loadSettings(),Bte(),this.registerRibbon(),await this.verify();try{await this.checkVersionAndShowChangeLog()}catch(n){console.error(n)}this.settingTab=new Kte(this.app,this),this.addSettingTab(this.settingTab),this.initApp(),this.initEditor(),this.initURIHandler(),this.registerMobileEvent(),this.registerCommands(),this.registerCanvasNodeMemos(),this.registerHoverEvent(),this.registerLinkOpen(),this.registerCodeBlocks(),this.registerEditorContextMenu(),this.registerEditorSuggest(new Lte(this.app,this)),this.registerEditorExtension([$ne]),this.app.workspace.onLayoutReady(this.onLayoutReady.bind(this)),this.registerView(Bo,n=>new ac(n,this))}async loadSettings(){this.settings=Object.assign({},rl,await this.loadData()),vt.setSettings(this.settings)}async saveSettings(){await this.saveData(this.settings),vt.setSettings(this.settings)}onunload(){var r;this.app.workspace.detachLeavesOfType(Bo),Re.clearMemos(),Le.dispatch({type:"CLEAR_MEMOS",payload:null}),Le.dispatch({type:"CLEAR_FILES",payload:null}),Le.dispatch({type:"CLEAR_VIEW",payload:null});const n=document.body.find(".dialog-wrapper");n&&((r=n.parentElement)==null||r.detach()),this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null),this.captureService&&this.captureService.onunload(),new C.Notice(E("Close Memos Successfully"))}initEditor(){const n=()=>{const r=this.app.embedRegistry;if(!r)return!1;const o=r.embedByExtension.md,i=createEl("div"),a=o({app:this.app,containerEl:i},null,null);if(a.editable=!0,a.set(""),a.showEditor(),!a.editMode)return!1;const u=Object.getPrototypeOf(Object.getPrototypeOf(a.editMode));return vt.setEditor(u),i.detach(),!0};this.app.workspace.onLayoutReady(()=>{n()||this.app.workspace.onLayoutReady(()=>{setTimeout(()=>{n()},100)})}),this.register(Sm(C.MetadataCache.prototype,{getFileCache:r=>function(o){return!(o!=null&&o.path)&&!o?null:r.call(this,o)}}))}initApp(){vt.setApp(this.app)}initURIHandler(){this.registerObsidianProtocolHandler("thino",async n=>{var a,u,d;if(!n)return;if(n.userid)try{const f=n.userid;Jne(f,this.app),Kne(C.moment().add(30,"days").valueOf(),this.app),ft.setRefresh(!0)}catch(f){console.error(f),new C.Notice(E("Failed to verify"))}if(n.token)try{const f=n.token;(a=this.app)==null||a.saveLocalStorage("tokenForSync",f),setTimeout(()=>{this.app.setting.open(),this.app.setting.openTabById(this.manifest.id||"obsidian-memos"),this.settingTab.display()},200),new C.Notice(E("Saved sync token successfully"))}catch(f){console.error(f),new C.Notice(E("Failed to save"))}if(n.copyToken){this.app.setting.open(),this.app.setting.openTabById(this.manifest.id??"obsidian-memos");const f=await ik();await navigator.clipboard.writeText(f),new C.Notice(E("Copied app id successfully"))}const r=(u=vt.getState())==null?void 0:u.verifyState,o=!C.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),i=C.Platform.isDesktop?await er():o.identifier||o.uuid;if(!(!r||(r==null?void 0:r.appId)!==i)){if(n.content){const f=n.type,m=decodeURI(n.content)!==n.content?decodeURI(n.content):n.content,g=n.task,v=await Re.createThino({content:m,type:f,isList:!!g});if(!v)return;Re.pushMemo(v),at.clearQuery()}n.openId&&await Re.openThinoByID(n.openId)}})}initGlobalManifest(){ft.setPluginManifest(this.manifest)}stopServer(){this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null)}async initServer(){var i,a;if(C.Platform.isMobile||!this.settings.EnabledHttpApi)return;const n=(i=vt.getState())==null?void 0:i.verifyState,r=!C.Platform.isDesktop&&await((a=window.Capacitor)==null?void 0:a.Plugins.Device.getId()),o=C.Platform.isDesktop?await er():r.identifier||r.uuid;!n||(n==null?void 0:n.appId)!==o||(this.apiHttpServer=nre(this.settings),this.initServerPort())}initServerPort(){this.apiHttpServer&&this.settings.EnabledHttpApi&&this.apiHttpServer.listen(this.settings.HttpApiIpType,this.settings.HttpApiPort)}async initCaptureService(){var i,a;if(C.Platform.isMobile||!this.settings.CaptureKey.EnableCaptureKey)return;const n=(i=vt.getState())==null?void 0:i.verifyState,r=!C.Platform.isDesktop&&await((a=window.Capacitor)==null?void 0:a.Plugins.Device.getId()),o=C.Platform.isDesktop?await er():r.identifier||r.uuid;!n||(n==null?void 0:n.appId)!==o||(this.captureService=new are(this.app,this),await this.captureService.onload())}registerMobileEvent(){C.Platform.isMobile&&(this.registerEvent(this.app.workspace.on("receive-text-menu",(n,r)=>{n.addItem(o=>{o.setSection("options").setIcon("popup-open").setTitle(E("Insert as Memo")).onClick(async()=>{let i=r;try{await ix(this.app,this.settings,async(a,u)=>{i=a+i+u;const d=await Re.createThino({content:i,type:this.settings.MemoSaveLocation||"DAILY",isList:!0});Re.pushMemo(d)})}catch(a){console.error("Configuration failed:",a);return}})})})),this.registerEvent(this.app.workspace.on("receive-files-menu",(n,r)=>{n.addItem(o=>{o.setIcon("popup-open").setTitle(E("Insert file as memo content")).onClick(async()=>{let a=r.map(u=>this.app.fileManager.generateMarkdownLink(u,u.path)).join(`
`);try{await ix(this.app,this.settings,async(u,d)=>{a=u+a+d;const f=await Re.createThino({content:a,type:this.settings.MemoSaveLocation||"DAILY",isList:!0});Re.pushMemo(f)})}catch(u){console.error("Configuration failed:",u);return}})})})))}registerCommands(){tv.forEach(n=>{this.addCommand({id:n.id,name:n.name,callback:()=>this.openMemos(n.location,n.cb),hotkeys:[]})}),["Modern","Clean","Minimal","Gradient"].forEach(n=>{this.addCommand({id:`share-thino-via-${n.toLowerCase()}`,name:E("Share thino")+` [${E(n)}]`,editorCallback:(r,o)=>{const i=r.getSelection();if(i.length===0)return;const a={id:`temp-${Date.now()}`,content:i,createdAt:C.moment().format("YYYY-MM-DD HH:mm:ss"),updatedAt:C.moment().format("YYYY-MM-DD HH:mm:ss"),deletedAt:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",thinoType:"JOURNAL",hasId:"",linkId:"",resourceList:[],creatorName:"thino",sourceType:"DAILY",path:o.file.path};sh(a,n.toLowerCase(),o)}})}),this.addCommand({id:"insert-task",name:E("Insert task"),checkCallback:n=>{const r=this.app.plugins.getPlugin("obsidian-tasks-plugin"),o=this.app.workspace.getLeavesOfType("thino_view").first();if(r&&o)return n||this.app.plugins.plugins["obsidian-tasks-plugin"].apiV1.createTaskLineModal().then(a=>{this.app.workspace.trigger("send-to-thino",a,o)}),!0}}),this.addCommand({id:"show-thino-editor",name:E("Show thino editor"),checkCallback:n=>{if(Re.initialized&&vt.initialized){if(!n){if(!vt.getState().view){new C.Notice(E("Please open thino first"));return}new zC(this.app).open()}return!0}}}),this.addCommand({id:"lock-thino",name:E("Lock thino"),checkCallback:n=>{if(this.app.workspace.getActiveViewOfType(ac)&&this.settings.needVerify)return n||ft.setLocked(!0),!0}}),this.addCommand({id:"copy-debug-info",name:E("Copy debug info"),callback:()=>{try{const n=this.app.internalPlugins.plugins["daily-notes"];let r;r={settings:{...this.settings,tokenForVerify:"***"},manifest:this.manifest,platform:C.Platform.resourcePathPrefix},n&&(r={...r,dailyNotePluginInfo:{options:n.instance.options}}),navigator.clipboard.writeText(`\`\`\`json
${JSON.stringify(r,null,2)}
\`\`\``),new C.Notice(E("Debug info copied to clipboard"))}catch(n){console.error(n)}}}),this.addCommand({id:"insert-editor",name:E("Insert editor"),checkCallback:n=>{const r=this.app.workspace.getActiveViewOfType(C.MarkdownView);if(r&&r.getViewType()==="markdown")return n||r.editor.replaceSelection("\n```thino\n{\n  editor: false\n}\n```\n"),!0}}),this.addCommand({id:"toggle-minimal-thino",name:E("Toggle minimal mode"),callback:()=>{const n=document.body.hasClass("minimal-thino");document.body.toggleClass("minimal-thino",!n)}}),this.addCommand({id:"focus-on-thino-editor",name:E("Focus on thino editor"),callback:()=>this.focusOnEditor(),hotkeys:[]}),this.addCommand({id:"reinit-thino-sync",name:E("ReSync web thinos to local"),callback:()=>{Vee(this.app)}}),this.addCommand({id:"init-thino-sync",name:E("Sync local thinos to web"),callback:async()=>{var r;if(!((r=this.app)==null?void 0:r.loadLocalStorage("tokenForSync"))){new C.Notice(E("Please input token first"));return}if(!this.settings.startSync){new C.Notice(E("Please enable sync first"));return}try{await Re.initSync()}catch(o){console.error(o),new C.Notice(E("Init Failed"))}}}),this.addCommand({id:"show-daily-thino",name:E("Show daily thino"),callback:()=>this.openDailyMemo(),hotkeys:[]}),this.addCommand({id:"focus-on-search-bar",name:E("Focus on search bar"),callback:()=>this.searchIt(),hotkeys:[]}),this.addCommand({id:"show-thino-in-popover",name:E("Show-thino in popover(Hover editor)"),callback:()=>this.showInPopover(),hotkeys:[]})}async onLayoutReady(){await this.initServer(),this.initGlobalManifest(),await this.initMemos(),this.autoOpenMemos(),this.registerThinoWidget(),await this.registerToolbarCheck(),await this.initCaptureService(),vt.setPlugin(this);const n=this.app.workspace.editorSuggest.suggests.findIndex(r=>r.type==="customTag");n!==-1?(this.app.workspace.editorSuggest.suggests.splice(n,1),this.app.workspace.editorSuggest.suggests.unshift(new tx(this.app,this))):this.app.workspace.editorSuggest.suggests.unshift(new tx(this.app,this))}async initMemos(){try{await this.initDailyNotes()}catch(n){console.error(n)}vt.getState(),Re.getState(),await Re.fetchAllMemos()}async initDailyNotes(){this.settings.EnabledLocationList.find(n=>n.value==="DAILY")&&await vt.fechLocalDailyNotes()}registerCanvasNodeMemos(){if(!C.requireApiVersion("1.2.0")||!this.settings.EnabledLocationList.find(i=>i.value==="CANVAS"))return;const n=i=>{clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>{setTimeout(async()=>{const a=i.canvas.getData(),u=a.nodes.find(d=>d.id===i.id);if(u&&(r(u),i.canvas.setData(a),Re.getMemoById(i.id))){const f=await Re.updateMemo(i.id,u.text,u.thinoType);Re.editMemo(f)}i.canvas.requestSave(!0)},0)},800)},r=i=>{i.createdAt||(i.createdAt=C.moment().format("YYYY-MM-DD HH:mm:ss")),i.updatedAt=C.moment().format("YYYY-MM-DD HH:mm:ss"),i.deletedAt=i.deletedAt?i.deletedAt:"",i.pinned=i.pinned?i.pinned:!1,i.visibility=i.visibility?i.visibility:"PUBLIC",i.rowStatus=i.rowStatus?i.rowStatus:"NORMAL",i.thinoType=i.thinoType?i.thinoType:"JOURNAL",i.hasId=i.hasId?i.hasId:"",i.linkId=i.linkId?i.linkId:"",i.resourceList=[]},o=()=>{var v,b;const i=(v=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:v.view;if(!i||!(i==null?void 0:i.canvas))return!1;const u=((b=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:b.view).canvas.nodes.values(),f=Array.from(u).filter(S=>S.text!==void 0);if(!f||f.length===0)return!1;const m=f[0].child;if(!m)return!1;const g=Sm(m.constructor.prototype,{save:S=>function(...T){S.call(this,...T),this.node.isEditing&&n(this.node)}});return this.register(g),!0};this.app.workspace.onLayoutReady(()=>{if(!o()){const i=this.app.workspace.on("layout-change",()=>{o()&&this.app.workspace.offref(i)});this.registerEvent(i)}})}registerLinkOpen(){Sm(C.Workspace.prototype,{openLinkText:n=>async function(...r){const o=Re.getState().memos;if(o.find(i=>i.id===r[0]||i.id===r[1])){const i=o.find(a=>a.id===r[0]||a.id===r[1]);if(i){Lh(i);return}}await n.call(this,...r)}})}registerHoverEvent(){this.registerHoverLinkSource("thino",{defaultMod:!0,display:"Thino"})}registerCodeBlocks(){this.registerMarkdownCodeBlockProcessor("thino",async(n,r)=>{var o;if(n){if(!((o=this.app.workspace.getLeavesOfType("thino_view"))!=null&&o.length)){r.toggleClass(["thino-editor-codeblock","view-error"],!0),n7(r,this);return}if(n){const i=C.parseYaml(n);o7(r,i)}}})}registerEditorContextMenu(){this.registerEvent(this.app.workspace.on("editor-menu",(n,r,o)=>{const i=r.getSelection();if(i.length===0)return;const a={id:`temp-${Date.now()}`,content:i,createdAt:C.moment().format("YYYY-MM-DD HH:mm:ss"),updatedAt:C.moment().format("YYYY-MM-DD HH:mm:ss"),deletedAt:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",thinoType:"JOURNAL",hasId:"",linkId:"",resourceList:[],creatorName:"thino",sourceType:"DAILY",path:o.file.path},u=(d,f)=>{d.addItem(m=>{m.setSection("selection").setTitle(f+E("Modern")).setIcon("palette").onClick(async()=>{sh(a,"modern",o)})}).addItem(m=>{m.setSection("selection").setTitle(f+E("Clean")).setIcon("palette").onClick(async()=>{sh(a,"clean",o)})}).addItem(m=>{m.setSection("selection").setTitle(f+E("Minimal")).setIcon("palette").onClick(async()=>{sh(a,"minimal",o)})}).addItem(m=>{m.setSection("selection").setTitle(E("Gradient")).setIcon("palette").onClick(async()=>{sh(a,"gradient",o)})})};C.Platform.isDesktop&&n.addItem(d=>{const f=d.setIcon("Memos").setSection("selection").setTitle(E("Thino share")).setSubmenu();u(f,"")}),C.Platform.isMobile&&u(n,E("Thino share")+" ")}))}registerRibbon(){this.addRibbonIcon("Memos",E("ribbonIconTitle"),async n=>{if(n.button===2){n.preventDefault();const r=new C.Menu;tv.forEach(o=>{r.addItem(i=>{i.setTitle(o.shortName).setIcon(o.icon).onClick(async()=>{await this.openMemos(o.location,o.cb)})})}),r.showAtMouseEvent(n);return}for(let r=0;r<tv.length;r++){const o=tv[r];if(!o.modKeys){await this.openMemos(o.location,o.cb);break}if(!Pre(n))continue;const i=a=>n[`${a}Key`];if(typeof o.modKeys=="string"&&i(o.modKeys)||Array.isArray(o.modKeys)&&o.modKeys.some(i)){await this.openMemos(o.location,o.cb);break}}})}registerThinoWidget(){this.registerEditorExtension([Fre(this)])}async registerToolbarCheck(){var i,a;if(this.loaded)return;const n=(i=vt.getState())==null?void 0:i.verifyState,r=!C.Platform.isDesktop&&await((a=window.Capacitor)==null?void 0:a.Plugins.Device.getId()),o=C.Platform.isDesktop?await er():r.identifier||r.uuid;!n||(n==null?void 0:n.appId)!==o||(this.registerEditorExtension([zne(this.app)]),this.registerEditorSuggest(new Rte(this.app,this)),this.loaded=!0)}async verify(){var o;let n="";if(C.Platform.isDesktop)n=await er();else{const i=await((o=window.Capacitor.Plugins.Device)==null?void 0:o.getId());if(!i)return;n=i.identifier||i.uuid}async function r(i){if(!i)return vt.setVerifyState(null),!1;const d=await wre(`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAr+i4MLzI40gGFHl7gdRH
UL1mH0NcWEs1/IBYDDbc9ALbvUGwDaUcVIKke+b+F4T7qISexyGd5qV0s1vNYeCk
iCTq4w3+CFDurIFYAgQYTcV6K5pL8Bpb79FEclsTnAcKgiuzKBxPZ1djKxbgnmFj
+PE+EcmX+JJK9hG1O8X+YFJoPJWl225eCoysONickiI7Ndwu9YLR8pIUb1VMyJSy
cMR87z466Nc5Hx2QhwyuiiQYL3Ru4WkNF3AVWgqeOlhBDybFFwDaV7OOMTiYtH46
3iKx6azEVS8W/gYfrW+hKp2VziPPw3oxouP/wCes/4qRlXkwyjSwtfLtpE4Rsa4+
swIDAQAB
-----END PUBLIC KEY-----`,"RS256");try{const{payload:f}=await kre(i,d),m=JSON.parse(new TextDecoder().decode(f));return!m||m.iss!=="pkmer"||m.type!=="thino"||m.appId!==n?!1:(vt.setVerifyState(m),!0)}catch(f){console.error(f)}}return await r(this.settings.tokenForVerify[n])}async checkVersionAndShowChangeLog(){const n=this.manifest.version,r=this.settings.LastUpdatedVersion;n!==r&&(this.settings.LastUpdatedVersion=n,await this.saveSettings(),this.showChangeLog())}showChangeLog(){new QS(this.app,this.manifest.version).open()}autoOpenMemos(){this.app.workspace.getLeavesOfType(Bo).length>0||this.settings.MobileAndDesktop==="Mobile"&&C.Platform.isDesktop||this.settings.MobileAndDesktop==="Desktop"&&C.Platform.isMobile||this.settings.OpenMemosAutomatically&&this.openMemos()}async openDailyMemo(){if(this.app.workspace.getLeavesOfType(Bo).length>0){at.setPathname("/daily");return}await this.openMemos(),at.setPathname("/daily")}async openMemos(n="center",r){const o=this.app.workspace;if(o.getLeavesOfType(Bo).length>0){const u=o.getLeavesOfType(Bo)[0];o.setActiveLeaf(u),o.revealLeaf(u);return}o.detachLeavesOfType(Bo);let i;switch(n){case"left":i=o.getLeftLeaf(!1);break;case"right":i=o.getRightLeaf(!1);break;case"float":i=o.getLeaf("window");break;default:i=o.getLeaf(!0);break}i&&(await i.setViewState({type:Bo}),o.revealLeaf(i));const a=i.view.containerEl.querySelector("textarea");a&&a.focus(),r==null||r()}async searchIt(){const n=this.app.workspace,r=n.getLeavesOfType(Bo);if(!(r.length>0)){await this.openMemos(),this.app.workspace.trigger("focus-on-searchbar");return}const o=r[0];n.revealLeaf(o),this.app.workspace.trigger("focus-on-searchbar")}async focusOnEditor(){if(!(this.app.workspace.getLeavesOfType(Bo).length>0)){await this.openMemos();return}this.app.workspace.trigger("focus-on-textarea")}changeStatus(){const n=this.app.workspace,r=n.getLeavesOfType(Bo);if(!(r.length>0)){new C.Notice(E("Please Open Memos First"));return}const o=r[0];n.setActiveLeaf(o),o.view.containerEl.querySelector(".list-or-task").click()}async showInPopover(){var i,a,u;const n=this.app.workspace;if(n.detachLeavesOfType(Bo),!this.app.plugins.getPlugin("obsidian-hover-editor")){new C.Notice(E("Please install obsidian-hover-editor plugin first"));return}const o=await((i=this.app.plugins.getPlugin("obsidian-hover-editor"))==null?void 0:i.spawnPopover());o&&(await o.setViewState({type:Bo}),n.revealLeaf(o),o.view.containerEl.classList.add("mobile-view"),(a=this.settings)!=null&&a.FocusOnEditor&&o.view.containerEl.querySelector("textarea")!==void 0&&((u=o.view.containerEl.querySelector("textarea"))==null||u.focus()))}}class QS extends C.Modal{constructor(n,r){super(n);De(this,"component");this.version=r}async onOpen(){const{contentEl:n}=this;this.containerEl.toggleClass("thino-changelog-modal",!0),n.createEl("h2",{text:E("Thino update info"),cls:"thino-changelog-title"}).createDiv({cls:"thino-changelog-version",text:`${this.version}`});try{n.createEl("h3",{text:E("Latest version")});const o=n.createDiv("current-change-log");n.createEl("hr"),n.createEl("h3",{text:E("Previous version")});const i=n.createDiv("prev-change-log"),u=await C.requestUrl("https://raw.githubusercontent.com/Quorafind/Obsidian-Thino/main/CHANGELOG.md");this.component=new C.Component;const[d,f]=this.getLatestVersionContent(u.text);let m=d,g=f;try{const v=localStorage.getItem("language"),b=v&&(v==="zh"||v==="zh-TW");m=b?d.replaceAll("> [!tips]+","> [!tips]-").replaceAll("> [!note]-","> [!note]+"):d,g=b?f.replaceAll("> [!tips]+","> [!tips]-").replaceAll("> [!note]-","> [!note]+"):f}catch(v){console.error(v)}await C.MarkdownRenderer.render(this.app,m,o,"",this.component),await C.MarkdownRenderer.render(this.app,g,i,"",this.component)}catch(o){console.error(o),n.createEl("p",{text:E("Failed to load changelog")}),n.createEl("a",{text:E("View online"),attr:{href:"https://raw.githubusercontent.com/Quorafind/Obsidian-Thino/main/CHANGELOG.md",target:"_blank"}})}}getLatestVersionContent(n){const r=/^# .+/gm,o=[...n.matchAll(r)];if(o.length===0)return[n,""];const i=o[0].index||0;let a=n.length;o.length>1&&(a=o[1].index||n.length);const u=n.substring(i,a).trim(),d=n.substring(a).trim();return[u,d]}onClose(){var r;const{contentEl:n}=this;n.empty(),(r=this.component)==null||r.unload()}}class bk extends C.Modal{constructor(n,r,o){super(n);De(this,"inputEl");De(this,"callback");this.title=r,this.callback=o}onOpen(){const{contentEl:n}=this;this.setTitle(this.title),this.containerEl.toggleClass(["thino-input-dialog","thino-bulk-action-dialog","tag-actions"],!0),this.inputEl=n.createEl("input",{attr:{type:"text"}}),this.inputEl.focus(),new C.Setting(n).addButton(r=>{r.setButtonText(E("OK")).onClick(()=>{this.close()})})}onClose(){this.contentEl.empty(),this.callback(this.inputEl.value)}}exports.ChangeLogModal=QS;exports.InputModal=bk;exports.default=Ore;
