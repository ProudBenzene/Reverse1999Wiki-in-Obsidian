/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function setAttributes(element, attributes) {
    for (let key in attributes) {
        element.setAttribute(key, attributes[key]);
    }
}

class CreateSnippetModal extends obsidian.Modal {
    constructor(app, plugin) {
        super(app);
        this.app = app;
        this.plugin = plugin;
        this.onOpen = () => this.display(true);
    }
    display(focus) {
        return __awaiter(this, void 0, void 0, function* () {
            const { contentEl } = this;
            const customCss = this.app.customCss;
            contentEl.empty();
            contentEl.setAttribute("style", "margin-top: 0px");
            const title = document.createElement("h1");
            title.setText("Create a CSS Snippet");
            contentEl.appendChild(title);
            const fileTitleSetting = new obsidian.Setting(contentEl);
            const fileTitleValue = new obsidian.TextComponent(fileTitleSetting.controlEl);
            fileTitleSetting
                .setName("CSS Snippet Title")
                .setDesc("Write the title for this CSS snippet file.");
            const cssStylesSetting = new obsidian.Setting(contentEl);
            // avoiding having to reference this specific modal - add style in code
            cssStylesSetting.settingEl.setAttribute("style", "display: grid; grid-template-columns: 1fr;");
            const cssStylesValue = new obsidian.TextAreaComponent(cssStylesSetting.controlEl);
            setAttributes(cssStylesValue.inputEl, {
                style: "margin-top: 12px; width: 100%;  height: 32vh;",
                class: "ms-css-editor",
            });
            cssStylesSetting
                .setName("CSS Snippet Styles")
                .setDesc("Add in styling for this CSS snippet file.");
            cssStylesValue.setValue(this.plugin.settings.stylingTemplate);
            const doAdd = () => __awaiter(this, void 0, void 0, function* () {
                let fileName = fileTitleValue.getValue();
                let fileContents = cssStylesValue.getValue();
                let snippetPath = customCss.getSnippetPath(fileName);
                if (fileName) {
                    if (!customCss.snippets.includes(fileName)) {
                        yield app.vault.create(`${customCss.getSnippetsFolder()}/${fileName}.css`, fileContents);
                        console.log(`%c"${fileName}.css" has been created!`, "color: Violet");
                        if (this.plugin.settings.snippetEnabledStatus)
                            customCss.setCssEnabledStatus(fileName, true);
                        if (this.plugin.settings.openSnippetFile)
                            this.app.openWithDefaultApp(snippetPath);
                        customCss.requestLoadSnippets();
                        this.close();
                    }
                    else
                        new obsidian.Notice(`"${fileName}.css" already exists.`);
                }
                else
                    new obsidian.Notice("Missing name for file");
            });
            const saveButton = new obsidian.ButtonComponent(contentEl)
                .setButtonText("Create Snippet")
                .onClick(doAdd);
            saveButton.buttonEl.addClass("wg-button");
            fileTitleValue.inputEl.focus();
        });
    }
    onClose() {
        const { contentEl } = this;
        contentEl.empty();
    }
}

function snippetsMenu(app, plugin, settings) {
    const windowX = window.innerWidth;
    const windowY = window.innerHeight;
    const menuExists = document.querySelector(".menu.MySnippets-statusbar-menu");
    if (!menuExists) {
        const menu = new obsidian.Menu();
        menu.setUseNativeMenu(false);
        const menuDom = menu.dom;
        menuDom.addClass("MySnippets-statusbar-menu");
        if (settings.aestheticStyle) {
            menuDom.setAttribute("style", "background-color: transparent; backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);");
        }
        const customCss = app.customCss;
        const currentSnippets = customCss.snippets;
        const snippetsFolder = customCss.getSnippetsFolder();
        currentSnippets.forEach((snippet) => {
            const snippetPath = customCss.getSnippetPath(snippet);
            menu.addItem((snippetElement) => {
                snippetElement.setTitle(snippet);
                const snippetElementDom = snippetElement.dom;
                const toggleComponent = new obsidian.ToggleComponent(snippetElementDom);
                const buttonComponent = new obsidian.ButtonComponent(snippetElementDom);
                function changeSnippetStatus() {
                    const isEnabled = customCss.enabledSnippets.has(snippet);
                    customCss.setCssEnabledStatus(snippet, !isEnabled);
                }
                toggleComponent
                    .setValue(customCss.enabledSnippets.has(snippet))
                    .onChange(changeSnippetStatus);
                buttonComponent
                    .setIcon("ms-snippet")
                    .setClass("MS-OpenSnippet")
                    .setTooltip(`Open snippet`)
                    .onClick((e) => {
                    app.openWithDefaultApp(snippetPath);
                });
                snippetElement.onClick((e) => {
                    e.preventDefault();
                    e.stopImmediatePropagation();
                });
            });
        });
        menu.addSeparator();
        menu.addItem((actions) => {
            actions.setIcon(null);
            actions.setTitle("Actions");
            const actionsDom = actions.dom;
            setAttributes(actions.titleEl, { style: "font-weight: 700" });
            const reloadButton = new obsidian.ButtonComponent(actionsDom);
            const folderButton = new obsidian.ButtonComponent(actionsDom);
            const addButton = new obsidian.ButtonComponent(actionsDom);
            setAttributes(reloadButton.buttonEl, { style: "margin-right: 3px" });
            setAttributes(addButton.buttonEl, { style: "margin-left: 3px" });
            reloadButton
                .setIcon("ms-reload")
                .setClass("MySnippetsButton")
                .setClass("MS-Reload")
                .setTooltip("Reload snippets")
                .onClick((e) => {
                customCss.requestLoadSnippets();
                new obsidian.Notice("Snippets reloaded");
            });
            folderButton
                .setIcon("ms-folder")
                .setClass("MySnippetsButton")
                .setClass("MS-Folder")
                .setTooltip("Open snippets folder")
                .onClick((e) => {
                app.openWithDefaultApp(snippetsFolder);
            });
            addButton
                .setIcon("ms-add")
                .setClass("MySnippetsButton")
                .setClass("MS-Folder")
                .setTooltip("Create new snippet")
                .onClick((e) => {
                new CreateSnippetModal(app, plugin).open();
            });
        });
        menu.showAtPosition({
            x: windowX - 15,
            y: windowY - 37,
        });
    }
}

const icons = {
    "art-fill": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M20 14c-.092.064-2 2.083-2 3.5c0 1.494.949 2.448 2 2.5c.906.044 2-.891 2-2.5c0-1.5-1.908-3.436-2-3.5zM9.586 20c.378.378.88.586 1.414.586s1.036-.208 1.414-.586l7-7l-.707-.707L11 4.586L8.707 2.293L7.293 3.707L9.586 6L4 11.586c-.378.378-.586.88-.586 1.414s.208 1.036.586 1.414L9.586 20zM11 7.414L16.586 13H5.414L11 7.414z" fill="currentColor"/></svg>`,
    "art-brush": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2H7c-1.103 0-2 .897-2 2v3c0 1.103.897 2 2 2h11c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM7 7V4h11l.002 3H7z" fill="currentColor"/><path d="M13 15v-2c0-1.103-.897-2-2-2H4V5c-1.103 0-2 .897-2 2v4c0 1.103.897 2 2 2h7v2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z" fill="currentColor"/></svg>`,
    "ms-create-file": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><g class="icon-tabler" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 4l-2 14.5l-6 2l-6-2L4 4z"/><path d="M8.5 8h7L11 12h4l-.5 3.5l-2.5.75l-2.5-.75l-.1-.5"/></g></svg>`,
    "pantone-line": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M5.764 8l-.295-.73a1 1 0 0 1 .553-1.302l9.272-3.746a1 1 0 0 1 1.301.552l5.62 13.908a1 1 0 0 1-.553 1.302L12.39 21.73a1 1 0 0 1-1.302-.553L11 20.96V21H7a1 1 0 0 1-1-1v-.27l-3.35-1.353a1 1 0 0 1-.552-1.302L5.764 8zM8 19h2.209L8 13.533V19zm-2-6.244l-1.673 4.141L6 17.608v-4.852zm1.698-5.309l4.87 12.054l7.418-2.997l-4.87-12.053l-7.418 2.996zm2.978 2.033a1 1 0 1 1-.749-1.855a1 1 0 0 1 .75 1.855z" fill="currentColor"/></svg>`,
    "ms-code": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><g fill="none"><path d="M20 21H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2zM4 7v12h16V7H4zm10.707 9.707l-1.413-1.413L15.586 13l-2.293-2.293l1.414-1.414L18.414 13l-3.706 3.706l-.001.001zm-5.414 0L5.586 13l3.707-3.707l1.414 1.414L8.414 13l2.292 2.293l-1.413 1.413v.001z" fill="currentColor"/></g></svg>`,
    "ms-reload": `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path d="M6 4h15a1 1 0 0 1 1 1v7h-2V6H6v3L1 5l5-4v3zm12 16H3a1 1 0 0 1-1-1v-7h2v6h14v-3l5 4l-5 4v-3z" fill="white"/></svg>`,
    "ms-folder": `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="white" d="M20 5h-8.586L9.707 3.293A.997.997 0 0 0 9 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zM4 19V7h16l.002 12H4z"></path></svg>`,
    "ms-snippet": `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path d="M7.375 16.781l1.25-1.562L4.601 12l4.024-3.219l-1.25-1.562l-5 4a1 1 0 0 0 0 1.562l5 4zm9.25-9.562l-1.25 1.562L19.399 12l-4.024 3.219l1.25 1.562l5-4a1 1 0 0 0 0-1.562l-5-4zm-1.649-4.003l-4 18l-1.953-.434l4-18z" fill="white"/></svg>`,
    "ms-add": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="white" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4z" fill="white"/><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10s10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8s8 3.589 8 8s-3.589 8-8 8z" fill="white"/></svg>`,
    "ms-save": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="white" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M5 21h14a2 2 0 0 0 2-2V8a1 1 0 0 0-.29-.71l-4-4A1 1 0 0 0 16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zm10-2H9v-5h6zM13 7h-2V5h2zM5 5h2v4h8V5h.59L19 8.41V19h-2v-5a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v5H5z" fill="white"/></svg>`,
    "ms-delete": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="white" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z" fill="white"/><path d="M9 10h2v8H9zm4 0h2v8h-2z" fill="white"/></svg>`,
    "ms-css-file": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M 6 2 C 4.895 2 4 2.895 4 4 L 4 9 L 3 9 C 1.895 9 1 9.895 1 11 L 1 16 C 1 17.105 1.895 18 3 18 L 4 18 L 4 20 C 4 21.105 4.895 22 6 22 L 18 22 C 19.105 22 20 21.105 20 20 L 20 7.828125 C 20 7.298125 19.789062 6.7890625 19.414062 6.4140625 L 15.585938 2.5859375 C 15.210937 2.2109375 14.701875 2 14.171875 2 L 6 2 z M 6 4 L 14 4 L 14 7 C 14 7.552 14.448 8 15 8 L 18 8 L 18 20 L 6 20 L 6 18 L 15 18 C 16.105 18 17 17.105 17 16 L 17 11 C 17 9.895 16.105 9 15 9 L 6 9 L 6 4 z M 5 11 C 6.105 11 7 11.895 7 13 L 6 13 C 6 12.449 5.551 12 5 12 C 4.449 12 4 12.449 4 13 L 4 14 C 4 14.551 4.449 15 5 15 C 5.551 15 6 14.551 6 14 L 7 14 C 7 15.105 6.105 16 5 16 C 3.895 16 3 15.105 3 14 L 3 13 C 3 11.895 3.895 11 5 11 z M 9.6445312 11.001953 C 11.067531 11.042953 11.154297 12.284859 11.154297 12.505859 L 10.1875 12.505859 C 10.1875 12.402859 10.204906 11.806641 9.6289062 11.806641 C 9.4539062 11.806641 9.0598438 11.884187 9.0898438 12.367188 C 9.1188437 12.808188 9.7035469 13.018406 9.8105469 13.066406 C 10.034547 13.148406 11.141391 13.642391 11.150391 14.650391 C 11.152391 14.864391 11.097062 15.985 9.6640625 16 C 8.1050625 16.017 8 14.675438 8 14.398438 L 8.9746094 14.398438 C 8.9746094 14.545438 8.9870625 15.256172 9.6640625 15.201172 C 10.071063 15.167172 10.159828 14.87425 10.173828 14.65625 C 10.195828 14.29025 9.8465625 14.070578 9.4765625 13.892578 C 8.9565625 13.642578 8.1341406 13.335328 8.1191406 12.361328 C 8.1061406 11.484328 8.7505312 10.976953 9.6445312 11.001953 z M 13.490234 11.001953 C 14.913234 11.042953 15 12.284859 15 12.505859 L 14.03125 12.505859 C 14.03125 12.402859 14.048656 11.806641 13.472656 11.806641 C 13.297656 11.806641 12.905547 11.884187 12.935547 12.367188 C 12.964547 12.808188 13.547297 13.018406 13.654297 13.066406 C 13.878297 13.148406 14.987094 13.642391 14.996094 14.650391 C 14.998094 14.864391 14.942766 15.985 13.509766 16 C 11.950766 16.017 11.845703 14.675437 11.845703 14.398438 L 12.820312 14.398438 C 12.820312 14.545438 12.832766 15.256172 13.509766 15.201172 C 13.916766 15.167172 14.005531 14.87425 14.019531 14.65625 C 14.041531 14.29025 13.692266 14.070578 13.322266 13.892578 C 12.802266 13.642578 11.979844 13.335328 11.964844 12.361328 C 11.951844 11.484328 12.596234 10.976953 13.490234 11.001953 z" fill="currentColor"/></svg>`,
};
function addIcons() {
    Object.keys(icons).forEach((key) => {
        obsidian.addIcon(key, icons[key]);
    });
}

class MySnippetsSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        const { containerEl } = this;
        containerEl.empty();
        containerEl.createEl("h1", { text: "MySnippets" });
        containerEl.createEl("p", { text: "Created by " }).createEl("a", {
            text: "Chetachi 👩🏽‍💻",
            href: "https://github.com/chetachiezikeuzor",
        });
        containerEl.createEl("h2", { text: "Plugin Settings" });
        new obsidian.Setting(containerEl)
            .setName("Glass menu effect")
            .setDesc("Choose to change the background from the secondary background color of your theme to a glass background.")
            .addToggle((toggle) => {
            toggle
                .setValue(this.plugin.settings.aestheticStyle)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.aestheticStyle = value;
                this.plugin.saveSettings();
            }));
        });
        new obsidian.Setting(containerEl)
            .setName("Auto open new snippet")
            .setDesc("Choose whether or not to open CSS snippet files immeditaley after creating them. It will open in your default app.")
            .addToggle((toggle) => {
            toggle
                .setValue(this.plugin.settings.openSnippetFile)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.openSnippetFile = value;
                this.plugin.saveSettings();
            }));
        });
        new obsidian.Setting(containerEl)
            .setName("Set new snippet status")
            .setDesc("Choose whether or not to have newly created CSS snippet files toggled on automatically upon creation.")
            .addToggle((toggle) => {
            toggle
                .setValue(this.plugin.settings.snippetEnabledStatus)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.snippetEnabledStatus = value;
                this.plugin.saveSettings();
            }));
        });
        const stylingTemplateSetting = new obsidian.Setting(containerEl);
        stylingTemplateSetting.settingEl.setAttribute("style", "display: grid; grid-template-columns: 1fr;");
        stylingTemplateSetting
            .setName("CSS snippet template")
            .setDesc("Set default CSS styling as a template for new CSS files you choose to create.");
        const stylingTemplateContent = new obsidian.TextAreaComponent(stylingTemplateSetting.controlEl);
        setAttributes(stylingTemplateContent.inputEl, {
            style: "margin-top: 12px; width: 100%;  height: 32vh;",
            class: "ms-css-editor",
        });
        stylingTemplateContent
            .setValue(this.plugin.settings.stylingTemplate)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.stylingTemplate = value;
            this.plugin.saveSettings();
        }));
        const msDonationDiv = containerEl.createEl("div", {
            cls: "msDonationSection",
        });
        const donateText = createEl("p");
        donateText.appendText("If you like this Plugin and are considering donating to support continued development, use the buttons below!");
        msDonationDiv.appendChild(donateText);
        msDonationDiv.appendChild(paypalButton("https://paypal.me/chelseaezikeuzor"));
        msDonationDiv.appendChild(buyMeACoffeeButton("https://www.buymeacoffee.com/chetachi"));
        msDonationDiv.appendChild(kofiButton("https://ko-fi.com/chetachi"));
    }
}
const buyMeACoffeeButton = (link) => {
    const a = createEl("a");
    a.setAttribute("href", link);
    a.addClass("buymeacoffee-chetachi-img");
    a.innerHTML = `<img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=chetachi&button_colour=e3e7ef&font_colour=262626&font_family=Poppins&outline_colour=262626&coffee_colour=ff0000" height="42px"> `;
    return a;
};
const paypalButton = (link) => {
    const a = createEl("a");
    a.setAttribute("href", link);
    a.addClass("buymeacoffee-chetachi-img");
    a.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="150" height="40">
  <path fill="#253B80" d="M46.211 6.749h-6.839a.95.95 0 0 0-.939.802l-2.766 17.537a.57.57 0 0 0 .564.658h3.265a.95.95 0 0 0 .939-.803l.746-4.73a.95.95 0 0 1 .938-.803h2.165c4.505 0 7.105-2.18 7.784-6.5.306-1.89.013-3.375-.872-4.415-.972-1.142-2.696-1.746-4.985-1.746zM47 13.154c-.374 2.454-2.249 2.454-4.062 2.454h-1.032l.724-4.583a.57.57 0 0 1 .563-.481h.473c1.235 0 2.4 0 3.002.704.359.42.469 1.044.332 1.906zM66.654 13.075h-3.275a.57.57 0 0 0-.563.481l-.145.916-.229-.332c-.709-1.029-2.29-1.373-3.868-1.373-3.619 0-6.71 2.741-7.312 6.586-.313 1.918.132 3.752 1.22 5.031.998 1.176 2.426 1.666 4.125 1.666 2.916 0 4.533-1.875 4.533-1.875l-.146.91a.57.57 0 0 0 .562.66h2.95a.95.95 0 0 0 .939-.803l1.77-11.209a.568.568 0 0 0-.561-.658zm-4.565 6.374c-.316 1.871-1.801 3.127-3.695 3.127-.951 0-1.711-.305-2.199-.883-.484-.574-.668-1.391-.514-2.301.295-1.855 1.805-3.152 3.67-3.152.93 0 1.686.309 2.184.892.499.589.697 1.411.554 2.317zM84.096 13.075h-3.291a.954.954 0 0 0-.787.417l-4.539 6.686-1.924-6.425a.953.953 0 0 0-.912-.678h-3.234a.57.57 0 0 0-.541.754l3.625 10.638-3.408 4.811a.57.57 0 0 0 .465.9h3.287a.949.949 0 0 0 .781-.408l10.946-15.8a.57.57 0 0 0-.468-.895z"></path>
  <path fill="#179BD7" d="M94.992 6.749h-6.84a.95.95 0 0 0-.938.802l-2.766 17.537a.569.569 0 0 0 .562.658h3.51a.665.665 0 0 0 .656-.562l.785-4.971a.95.95 0 0 1 .938-.803h2.164c4.506 0 7.105-2.18 7.785-6.5.307-1.89.012-3.375-.873-4.415-.971-1.142-2.694-1.746-4.983-1.746zm.789 6.405c-.373 2.454-2.248 2.454-4.062 2.454h-1.031l.725-4.583a.568.568 0 0 1 .562-.481h.473c1.234 0 2.4 0 3.002.704.359.42.468 1.044.331 1.906zM115.434 13.075h-3.273a.567.567 0 0 0-.562.481l-.145.916-.23-.332c-.709-1.029-2.289-1.373-3.867-1.373-3.619 0-6.709 2.741-7.311 6.586-.312 1.918.131 3.752 1.219 5.031 1 1.176 2.426 1.666 4.125 1.666 2.916 0 4.533-1.875 4.533-1.875l-.146.91a.57.57 0 0 0 .564.66h2.949a.95.95 0 0 0 .938-.803l1.771-11.209a.571.571 0 0 0-.565-.658zm-4.565 6.374c-.314 1.871-1.801 3.127-3.695 3.127-.949 0-1.711-.305-2.199-.883-.484-.574-.666-1.391-.514-2.301.297-1.855 1.805-3.152 3.67-3.152.93 0 1.686.309 2.184.892.501.589.699 1.411.554 2.317zM119.295 7.23l-2.807 17.858a.569.569 0 0 0 .562.658h2.822c.469 0 .867-.34.939-.803l2.768-17.536a.57.57 0 0 0-.562-.659h-3.16a.571.571 0 0 0-.562.482z"></path>
  <path fill="#253B80" d="M7.266 29.154l.523-3.322-1.165-.027H1.061L4.927 1.292a.316.316 0 0 1 .314-.268h9.38c3.114 0 5.263.648 6.385 1.927.526.6.861 1.227 1.023 1.917.17.724.173 1.589.007 2.644l-.012.077v.676l.526.298a3.69 3.69 0 0 1 1.065.812c.45.513.741 1.165.864 1.938.127.795.085 1.741-.123 2.812-.24 1.232-.628 2.305-1.152 3.183a6.547 6.547 0 0 1-1.825 2c-.696.494-1.523.869-2.458 1.109-.906.236-1.939.355-3.072.355h-.73c-.522 0-1.029.188-1.427.525a2.21 2.21 0 0 0-.744 1.328l-.055.299-.924 5.855-.042.215c-.011.068-.03.102-.058.125a.155.155 0 0 1-.096.035H7.266z"></path>
  <path fill="#179BD7" d="M23.048 7.667c-.028.179-.06.362-.096.55-1.237 6.351-5.469 8.545-10.874 8.545H9.326c-.661 0-1.218.48-1.321 1.132L6.596 26.83l-.399 2.533a.704.704 0 0 0 .695.814h4.881c.578 0 1.069-.42 1.16-.99l.048-.248.919-5.832.059-.32c.09-.572.582-.992 1.16-.992h.73c4.729 0 8.431-1.92 9.513-7.476.452-2.321.218-4.259-.978-5.622a4.667 4.667 0 0 0-1.336-1.03z"></path>
  <path fill="#222D65" d="M21.754 7.151a9.757 9.757 0 0 0-1.203-.267 15.284 15.284 0 0 0-2.426-.177h-7.352a1.172 1.172 0 0 0-1.159.992L8.05 17.605l-.045.289a1.336 1.336 0 0 1 1.321-1.132h2.752c5.405 0 9.637-2.195 10.874-8.545.037-.188.068-.371.096-.55a6.594 6.594 0 0 0-1.017-.429 9.045 9.045 0 0 0-.277-.087z"></path>
  <path fill="#253B80" d="M9.614 7.699a1.169 1.169 0 0 1 1.159-.991h7.352c.871 0 1.684.057 2.426.177a9.757 9.757 0 0 1 1.481.353c.365.121.704.264 1.017.429.368-2.347-.003-3.945-1.272-5.392C20.378.682 17.853 0 14.622 0h-9.38c-.66 0-1.223.48-1.325 1.133L.01 25.898a.806.806 0 0 0 .795.932h5.791l1.454-9.225 1.564-9.906z"></path>
  </svg>`;
    return a;
};
const kofiButton = (link) => {
    const a = createEl("a");
    a.setAttribute("href", link);
    a.addClass("buymeacoffee-chetachi-img");
    a.innerHTML = `<img src="https://raw.githubusercontent.com/chetachiezikeuzor/MySnippets-Plugin/master/assets/kofi_color.svg" height="50">`;
    return a;
};

const DEFAULT_SETTINGS = {
    aestheticStyle: false,
    snippetViewPosition: "left",
    openSnippetFile: true,
    stylingTemplate: "",
    snippetEnabledStatus: false,
};

class MySnippetsPlugin extends obsidian.Plugin {
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            console.log(`MySnippets v${this.manifest.version} loaded`);
            addIcons();
            yield this.loadSettings();
            this.addSettingTab(new MySnippetsSettingTab(this.app, this));
            this.app.workspace.onLayoutReady(() => {
                setTimeout(() => {
                    this.setupSnippetsStatusBarIcon();
                });
            });
        });
    }
    setupSnippetsStatusBarIcon() {
        this.statusBarIcon = this.addStatusBarItem();
        this.statusBarIcon.addClass("MiniSettings-statusbar-button");
        this.statusBarIcon.addClass("mod-clickable");
        setAttributes(this.statusBarIcon, {
            "aria-label": "Configure Snippets",
            "aria-label-position": "top",
        });
        obsidian.setIcon(this.statusBarIcon, "pantone-line");
        this.statusBarIcon.addEventListener("click", () => {
            snippetsMenu(this.app, this, this.settings);
        });
        this.addCommand({
            id: `open-snippets-menu`,
            name: `Open snippets in status bar`,
            icon: `pantone-line`,
            callback: () => __awaiter(this, void 0, void 0, function* () {
                snippetsMenu(this.app, this, this.settings);
            }),
        });
        this.addCommand({
            id: `open-snippets-create`,
            name: `Create new CSS snippet`,
            icon: `ms-css-file`,
            callback: () => __awaiter(this, void 0, void 0, function* () {
                new CreateSnippetModal(this.app, this).open();
            }),
        });
    }
    onunload() {
        console.log("MySnippets unloaded");
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
}

module.exports = MySnippetsPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsInNyYy91dGlsL3NldEF0dHJpYnV0ZXMudHMiLCJzcmMvbW9kYWwvY3JlYXRlU25pcHBldE1vZGFsLnRzIiwic3JjL3VpL3NuaXBwZXRzTWVudS50cyIsInNyYy9pY29ucy9jdXN0b21JY29ucy50cyIsInNyYy9zZXR0aW5ncy9zZXR0aW5nc1RhYi50cyIsInNyYy9zZXR0aW5ncy9zZXR0aW5nc0RhdGEudHMiLCJzcmMvcGx1Z2luL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQ6IGFueSwgYXR0cmlidXRlczogYW55KSB7XG4gIGZvciAobGV0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBNb2RhbCxcbiAgU2V0dGluZyxcbiAgVGV4dENvbXBvbmVudCxcbiAgQnV0dG9uQ29tcG9uZW50LFxuICBUZXh0QXJlYUNvbXBvbmVudCxcbiAgTm90aWNlLFxufSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIE15U25pcHBldHNQbHVnaW4gZnJvbSBcIi4uL3BsdWdpbi9tYWluXCI7XG5pbXBvcnQgeyBzZXRBdHRyaWJ1dGVzIH0gZnJvbSBcInNyYy91dGlsL3NldEF0dHJpYnV0ZXNcIjtcbmltcG9ydCB7IEVuaGFuY2VkQXBwIH0gZnJvbSBcInNyYy9zZXR0aW5ncy90eXBlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENyZWF0ZVNuaXBwZXRNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgcGF0aDogc3RyaW5nO1xuICBwbHVnaW46IE15U25pcHBldHNQbHVnaW47XG4gIG15U25pcHBldHNFbDogSFRNTERpdkVsZW1lbnQ7XG4gIGFwcDogRW5oYW5jZWRBcHA7XG5cbiAgY29uc3RydWN0b3IoYXBwOiBFbmhhbmNlZEFwcCwgcGx1Z2luOiBNeVNuaXBwZXRzUGx1Z2luKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLm9uT3BlbiA9ICgpID0+IHRoaXMuZGlzcGxheSh0cnVlKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZGlzcGxheShmb2N1cz86IGJvb2xlYW4pIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb25zdCBjdXN0b21Dc3MgPSB0aGlzLmFwcC5jdXN0b21Dc3M7XG5cbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICBjb250ZW50RWwuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJtYXJnaW4tdG9wOiAwcHhcIik7XG5cbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICB0aXRsZS5zZXRUZXh0KFwiQ3JlYXRlIGEgQ1NTIFNuaXBwZXRcIik7XG4gICAgY29udGVudEVsLmFwcGVuZENoaWxkKHRpdGxlKTtcblxuICAgIGNvbnN0IGZpbGVUaXRsZVNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50RWwpO1xuICAgIGNvbnN0IGZpbGVUaXRsZVZhbHVlID0gbmV3IFRleHRDb21wb25lbnQoZmlsZVRpdGxlU2V0dGluZy5jb250cm9sRWwpO1xuICAgIGZpbGVUaXRsZVNldHRpbmdcbiAgICAgIC5zZXROYW1lKFwiQ1NTIFNuaXBwZXQgVGl0bGVcIilcbiAgICAgIC5zZXREZXNjKFwiV3JpdGUgdGhlIHRpdGxlIGZvciB0aGlzIENTUyBzbmlwcGV0IGZpbGUuXCIpO1xuXG4gICAgY29uc3QgY3NzU3R5bGVzU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnRFbCk7XG5cbiAgICAvLyBhdm9pZGluZyBoYXZpbmcgdG8gcmVmZXJlbmNlIHRoaXMgc3BlY2lmaWMgbW9kYWwgLSBhZGQgc3R5bGUgaW4gY29kZVxuICAgIGNzc1N0eWxlc1NldHRpbmcuc2V0dGluZ0VsLnNldEF0dHJpYnV0ZShcbiAgICAgIFwic3R5bGVcIixcbiAgICAgIFwiZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XCJcbiAgICApO1xuICAgIGNvbnN0IGNzc1N0eWxlc1ZhbHVlID0gbmV3IFRleHRBcmVhQ29tcG9uZW50KGNzc1N0eWxlc1NldHRpbmcuY29udHJvbEVsKTtcbiAgICBzZXRBdHRyaWJ1dGVzKGNzc1N0eWxlc1ZhbHVlLmlucHV0RWwsIHtcbiAgICAgIHN0eWxlOiBcIm1hcmdpbi10b3A6IDEycHg7IHdpZHRoOiAxMDAlOyAgaGVpZ2h0OiAzMnZoO1wiLFxuICAgICAgY2xhc3M6IFwibXMtY3NzLWVkaXRvclwiLFxuICAgIH0pO1xuICAgIGNzc1N0eWxlc1NldHRpbmdcbiAgICAgIC5zZXROYW1lKFwiQ1NTIFNuaXBwZXQgU3R5bGVzXCIpXG4gICAgICAuc2V0RGVzYyhcIkFkZCBpbiBzdHlsaW5nIGZvciB0aGlzIENTUyBzbmlwcGV0IGZpbGUuXCIpO1xuICAgIGNzc1N0eWxlc1ZhbHVlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnN0eWxpbmdUZW1wbGF0ZSk7XG5cbiAgICBjb25zdCBkb0FkZCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBmaWxlTmFtZSA9IGZpbGVUaXRsZVZhbHVlLmdldFZhbHVlKCk7XG4gICAgICBsZXQgZmlsZUNvbnRlbnRzID0gY3NzU3R5bGVzVmFsdWUuZ2V0VmFsdWUoKTtcbiAgICAgIGxldCBzbmlwcGV0UGF0aCA9IGN1c3RvbUNzcy5nZXRTbmlwcGV0UGF0aChmaWxlTmFtZSk7XG4gICAgICBpZiAoZmlsZU5hbWUpIHtcbiAgICAgICAgaWYgKCFjdXN0b21Dc3Muc25pcHBldHMuaW5jbHVkZXMoZmlsZU5hbWUpKSB7XG4gICAgICAgICAgYXdhaXQgYXBwLnZhdWx0LmNyZWF0ZShcbiAgICAgICAgICAgIGAke2N1c3RvbUNzcy5nZXRTbmlwcGV0c0ZvbGRlcigpfS8ke2ZpbGVOYW1lfS5jc3NgLFxuICAgICAgICAgICAgZmlsZUNvbnRlbnRzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgJWNcIiR7ZmlsZU5hbWV9LmNzc1wiIGhhcyBiZWVuIGNyZWF0ZWQhYCwgXCJjb2xvcjogVmlvbGV0XCIpO1xuICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zbmlwcGV0RW5hYmxlZFN0YXR1cylcbiAgICAgICAgICAgIGN1c3RvbUNzcy5zZXRDc3NFbmFibGVkU3RhdHVzKGZpbGVOYW1lLCB0cnVlKTtcblxuICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuU25pcHBldEZpbGUpXG4gICAgICAgICAgICB0aGlzLmFwcC5vcGVuV2l0aERlZmF1bHRBcHAoc25pcHBldFBhdGgpO1xuXG4gICAgICAgICAgY3VzdG9tQ3NzLnJlcXVlc3RMb2FkU25pcHBldHMoKTtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSBuZXcgTm90aWNlKGBcIiR7ZmlsZU5hbWV9LmNzc1wiIGFscmVhZHkgZXhpc3RzLmApO1xuICAgICAgfSBlbHNlIG5ldyBOb3RpY2UoXCJNaXNzaW5nIG5hbWUgZm9yIGZpbGVcIik7XG4gICAgfTtcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudChjb250ZW50RWwpXG4gICAgICAuc2V0QnV0dG9uVGV4dChcIkNyZWF0ZSBTbmlwcGV0XCIpXG4gICAgICAub25DbGljayhkb0FkZCk7XG4gICAgc2F2ZUJ1dHRvbi5idXR0b25FbC5hZGRDbGFzcyhcIndnLWJ1dHRvblwiKTtcbiAgICBmaWxlVGl0bGVWYWx1ZS5pbnB1dEVsLmZvY3VzKCk7XG4gIH1cblxuICBvbkNsb3NlKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICB9XG59XG4iLCJpbXBvcnQgdHlwZSBNeVNuaXBwZXRzUGx1Z2luIGZyb20gXCJzcmMvcGx1Z2luL21haW5cIjtcbmltcG9ydCB7IE1lbnUsIFRvZ2dsZUNvbXBvbmVudCwgQnV0dG9uQ29tcG9uZW50LCBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IHNldEF0dHJpYnV0ZXMgfSBmcm9tIFwic3JjL3V0aWwvc2V0QXR0cmlidXRlc1wiO1xuaW1wb3J0IHsgTXlTbmlwcGV0c1NldHRpbmdzIH0gZnJvbSBcInNyYy9zZXR0aW5ncy9zZXR0aW5nc0RhdGFcIjtcbmltcG9ydCBDcmVhdGVTbmlwcGV0TW9kYWwgZnJvbSBcInNyYy9tb2RhbC9jcmVhdGVTbmlwcGV0TW9kYWxcIjtcbmltcG9ydCB7IEVuaGFuY2VkQXBwLCBFbmhhbmNlZE1lbnUsIEVuaGFuY2VkTWVudUl0ZW0gfSBmcm9tIFwic3JjL3NldHRpbmdzL3R5cGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc25pcHBldHNNZW51KFxuICBhcHA6IEVuaGFuY2VkQXBwLFxuICBwbHVnaW46IE15U25pcHBldHNQbHVnaW4sXG4gIHNldHRpbmdzOiBNeVNuaXBwZXRzU2V0dGluZ3Ncbikge1xuICBjb25zdCB3aW5kb3dYID0gd2luZG93LmlubmVyV2lkdGg7XG4gIGNvbnN0IHdpbmRvd1kgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIGNvbnN0IG1lbnVFeGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnUuTXlTbmlwcGV0cy1zdGF0dXNiYXItbWVudVwiKTtcblxuICBpZiAoIW1lbnVFeGlzdHMpIHtcbiAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoKSBhcyB1bmtub3duIGFzIEVuaGFuY2VkTWVudTtcblxuICAgIG1lbnUuc2V0VXNlTmF0aXZlTWVudShmYWxzZSk7XG5cbiAgICBjb25zdCBtZW51RG9tID0gKG1lbnUgYXMgYW55KS5kb20gYXMgSFRNTEVsZW1lbnQ7XG4gICAgbWVudURvbS5hZGRDbGFzcyhcIk15U25pcHBldHMtc3RhdHVzYmFyLW1lbnVcIik7XG5cbiAgICBpZiAoc2V0dGluZ3MuYWVzdGhldGljU3R5bGUpIHtcbiAgICAgIG1lbnVEb20uc2V0QXR0cmlidXRlKFxuICAgICAgICBcInN0eWxlXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpOyAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpO1wiXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjdXN0b21Dc3MgPSBhcHAuY3VzdG9tQ3NzO1xuICAgIGNvbnN0IGN1cnJlbnRTbmlwcGV0cyA9IGN1c3RvbUNzcy5zbmlwcGV0cztcbiAgICBjb25zdCBzbmlwcGV0c0ZvbGRlciA9IGN1c3RvbUNzcy5nZXRTbmlwcGV0c0ZvbGRlcigpO1xuXG4gICAgY3VycmVudFNuaXBwZXRzLmZvckVhY2goKHNuaXBwZXQ6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3Qgc25pcHBldFBhdGggPSBjdXN0b21Dc3MuZ2V0U25pcHBldFBhdGgoc25pcHBldCk7XG5cbiAgICAgIG1lbnUuYWRkSXRlbSgoc25pcHBldEVsZW1lbnQpID0+IHtcbiAgICAgICAgc25pcHBldEVsZW1lbnQuc2V0VGl0bGUoc25pcHBldCk7XG5cbiAgICAgICAgY29uc3Qgc25pcHBldEVsZW1lbnREb20gPSAoc25pcHBldEVsZW1lbnQgYXMgYW55KS5kb20gYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHRvZ2dsZUNvbXBvbmVudCA9IG5ldyBUb2dnbGVDb21wb25lbnQoc25pcHBldEVsZW1lbnREb20pO1xuICAgICAgICBjb25zdCBidXR0b25Db21wb25lbnQgPSBuZXcgQnV0dG9uQ29tcG9uZW50KHNuaXBwZXRFbGVtZW50RG9tKTtcblxuICAgICAgICBmdW5jdGlvbiBjaGFuZ2VTbmlwcGV0U3RhdHVzKCkge1xuICAgICAgICAgIGNvbnN0IGlzRW5hYmxlZCA9IGN1c3RvbUNzcy5lbmFibGVkU25pcHBldHMuaGFzKHNuaXBwZXQpO1xuICAgICAgICAgIGN1c3RvbUNzcy5zZXRDc3NFbmFibGVkU3RhdHVzKHNuaXBwZXQsICFpc0VuYWJsZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9nZ2xlQ29tcG9uZW50XG4gICAgICAgICAgLnNldFZhbHVlKGN1c3RvbUNzcy5lbmFibGVkU25pcHBldHMuaGFzKHNuaXBwZXQpKVxuICAgICAgICAgIC5vbkNoYW5nZShjaGFuZ2VTbmlwcGV0U3RhdHVzKTtcblxuICAgICAgICBidXR0b25Db21wb25lbnRcbiAgICAgICAgICAuc2V0SWNvbihcIm1zLXNuaXBwZXRcIilcbiAgICAgICAgICAuc2V0Q2xhc3MoXCJNUy1PcGVuU25pcHBldFwiKVxuICAgICAgICAgIC5zZXRUb29sdGlwKGBPcGVuIHNuaXBwZXRgKVxuXG4gICAgICAgICAgLm9uQ2xpY2soKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgYXBwLm9wZW5XaXRoRGVmYXVsdEFwcChzbmlwcGV0UGF0aCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgc25pcHBldEVsZW1lbnQub25DbGljaygoZTogYW55KSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBtZW51LmFkZFNlcGFyYXRvcigpO1xuXG4gICAgbWVudS5hZGRJdGVtKChhY3Rpb25zOiBFbmhhbmNlZE1lbnVJdGVtKSA9PiB7XG4gICAgICBhY3Rpb25zLnNldEljb24obnVsbCk7XG4gICAgICBhY3Rpb25zLnNldFRpdGxlKFwiQWN0aW9uc1wiKTtcbiAgICAgIGNvbnN0IGFjdGlvbnNEb20gPSAoYWN0aW9ucyBhcyBhbnkpLmRvbSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIHNldEF0dHJpYnV0ZXMoYWN0aW9ucy50aXRsZUVsLCB7IHN0eWxlOiBcImZvbnQtd2VpZ2h0OiA3MDBcIiB9KTtcblxuICAgICAgY29uc3QgcmVsb2FkQnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudChhY3Rpb25zRG9tKTtcbiAgICAgIGNvbnN0IGZvbGRlckJ1dHRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQoYWN0aW9uc0RvbSk7XG4gICAgICBjb25zdCBhZGRCdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KGFjdGlvbnNEb20pO1xuXG4gICAgICBzZXRBdHRyaWJ1dGVzKHJlbG9hZEJ1dHRvbi5idXR0b25FbCwgeyBzdHlsZTogXCJtYXJnaW4tcmlnaHQ6IDNweFwiIH0pO1xuICAgICAgc2V0QXR0cmlidXRlcyhhZGRCdXR0b24uYnV0dG9uRWwsIHsgc3R5bGU6IFwibWFyZ2luLWxlZnQ6IDNweFwiIH0pO1xuXG4gICAgICByZWxvYWRCdXR0b25cbiAgICAgICAgLnNldEljb24oXCJtcy1yZWxvYWRcIilcbiAgICAgICAgLnNldENsYXNzKFwiTXlTbmlwcGV0c0J1dHRvblwiKVxuICAgICAgICAuc2V0Q2xhc3MoXCJNUy1SZWxvYWRcIilcbiAgICAgICAgLnNldFRvb2x0aXAoXCJSZWxvYWQgc25pcHBldHNcIilcbiAgICAgICAgLm9uQ2xpY2soKGU6IGFueSkgPT4ge1xuICAgICAgICAgIGN1c3RvbUNzcy5yZXF1ZXN0TG9hZFNuaXBwZXRzKCk7XG4gICAgICAgICAgbmV3IE5vdGljZShcIlNuaXBwZXRzIHJlbG9hZGVkXCIpO1xuICAgICAgICB9KTtcbiAgICAgIGZvbGRlckJ1dHRvblxuICAgICAgICAuc2V0SWNvbihcIm1zLWZvbGRlclwiKVxuICAgICAgICAuc2V0Q2xhc3MoXCJNeVNuaXBwZXRzQnV0dG9uXCIpXG4gICAgICAgIC5zZXRDbGFzcyhcIk1TLUZvbGRlclwiKVxuICAgICAgICAuc2V0VG9vbHRpcChcIk9wZW4gc25pcHBldHMgZm9sZGVyXCIpXG4gICAgICAgIC5vbkNsaWNrKChlOiBhbnkpID0+IHtcbiAgICAgICAgICBhcHAub3BlbldpdGhEZWZhdWx0QXBwKHNuaXBwZXRzRm9sZGVyKTtcbiAgICAgICAgfSk7XG4gICAgICBhZGRCdXR0b25cbiAgICAgICAgLnNldEljb24oXCJtcy1hZGRcIilcbiAgICAgICAgLnNldENsYXNzKFwiTXlTbmlwcGV0c0J1dHRvblwiKVxuICAgICAgICAuc2V0Q2xhc3MoXCJNUy1Gb2xkZXJcIilcbiAgICAgICAgLnNldFRvb2x0aXAoXCJDcmVhdGUgbmV3IHNuaXBwZXRcIilcbiAgICAgICAgLm9uQ2xpY2soKGU6IGFueSkgPT4ge1xuICAgICAgICAgIG5ldyBDcmVhdGVTbmlwcGV0TW9kYWwoYXBwLCBwbHVnaW4pLm9wZW4oKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBtZW51LnNob3dBdFBvc2l0aW9uKHtcbiAgICAgIHg6IHdpbmRvd1ggLSAxNSxcbiAgICAgIHk6IHdpbmRvd1kgLSAzNyxcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgYWRkSWNvbiB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5leHBvcnQgY29uc3QgaWNvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gIFwiYXJ0LWZpbGxcIjogYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIwXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk0yMCAxNGMtLjA5Mi4wNjQtMiAyLjA4My0yIDMuNWMwIDEuNDk0Ljk0OSAyLjQ0OCAyIDIuNWMuOTA2LjA0NCAyLS44OTEgMi0yLjVjMC0xLjUtMS45MDgtMy40MzYtMi0zLjV6TTkuNTg2IDIwYy4zNzguMzc4Ljg4LjU4NiAxLjQxNC41ODZzMS4wMzYtLjIwOCAxLjQxNC0uNTg2bDctN2wtLjcwNy0uNzA3TDExIDQuNTg2TDguNzA3IDIuMjkzTDcuMjkzIDMuNzA3TDkuNTg2IDZMNCAxMS41ODZjLS4zNzguMzc4LS41ODYuODgtLjU4NiAxLjQxNHMuMjA4IDEuMDM2LjU4NiAxLjQxNEw5LjU4NiAyMHpNMTEgNy40MTRMMTYuNTg2IDEzSDUuNDE0TDExIDcuNDE0elwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIi8+PC9zdmc+YCxcbiAgXCJhcnQtYnJ1c2hcIjogYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIwXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk0xOCAySDdjLTEuMTAzIDAtMiAuODk3LTIgMnYzYzAgMS4xMDMuODk3IDIgMiAyaDExYzEuMTAzIDAgMi0uODk3IDItMlY0YzAtMS4xMDMtLjg5Ny0yLTItMnpNNyA3VjRoMTFsLjAwMiAzSDd6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiLz48cGF0aCBkPVwiTTEzIDE1di0yYzAtMS4xMDMtLjg5Ny0yLTItMkg0VjVjLTEuMTAzIDAtMiAuODk3LTIgMnY0YzAgMS4xMDMuODk3IDIgMiAyaDd2MmExIDEgMCAwIDAtMSAxdjVhMSAxIDAgMCAwIDEgMWgyYTEgMSAwIDAgMCAxLTF2LTVhMSAxIDAgMCAwLTEtMXpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPjwvc3ZnPmAsXG4gIFwibXMtY3JlYXRlLWZpbGVcIjogYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIwXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PGcgY2xhc3M9XCJpY29uLXRhYmxlclwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMjAgNGwtMiAxNC41bC02IDJsLTYtMkw0IDR6XCIvPjxwYXRoIGQ9XCJNOC41IDhoN0wxMSAxMmg0bC0uNSAzLjVsLTIuNS43NWwtMi41LS43NWwtLjEtLjVcIi8+PC9nPjwvc3ZnPmAsXG4gIFwicGFudG9uZS1saW5lXCI6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNNS43NjQgOGwtLjI5NS0uNzNhMSAxIDAgMCAxIC41NTMtMS4zMDJsOS4yNzItMy43NDZhMSAxIDAgMCAxIDEuMzAxLjU1Mmw1LjYyIDEzLjkwOGExIDEgMCAwIDEtLjU1MyAxLjMwMkwxMi4zOSAyMS43M2ExIDEgMCAwIDEtMS4zMDItLjU1M0wxMSAyMC45NlYyMUg3YTEgMSAwIDAgMS0xLTF2LS4yN2wtMy4zNS0xLjM1M2ExIDEgMCAwIDEtLjU1Mi0xLjMwMkw1Ljc2NCA4ek04IDE5aDIuMjA5TDggMTMuNTMzVjE5em0tMi02LjI0NGwtMS42NzMgNC4xNDFMNiAxNy42MDh2LTQuODUyem0xLjY5OC01LjMwOWw0Ljg3IDEyLjA1NGw3LjQxOC0yLjk5N2wtNC44Ny0xMi4wNTNsLTcuNDE4IDIuOTk2em0yLjk3OCAyLjAzM2ExIDEgMCAxIDEtLjc0OS0xLjg1NWExIDEgMCAwIDEgLjc1IDEuODU1elwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIi8+PC9zdmc+YCxcbiAgXCJtcy1jb2RlXCI6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxnIGZpbGw9XCJub25lXCI+PHBhdGggZD1cIk0yMCAyMUg0YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDE2YTIgMiAwIDAgMSAyIDJ2MTRhMiAyIDAgMCAxLTIgMnpNNCA3djEyaDE2VjdINHptMTAuNzA3IDkuNzA3bC0xLjQxMy0xLjQxM0wxNS41ODYgMTNsLTIuMjkzLTIuMjkzbDEuNDE0LTEuNDE0TDE4LjQxNCAxM2wtMy43MDYgMy43MDZsLS4wMDEuMDAxem0tNS40MTQgMEw1LjU4NiAxM2wzLjcwNy0zLjcwN2wxLjQxNCAxLjQxNEw4LjQxNCAxM2wyLjI5MiAyLjI5M2wtMS40MTMgMS40MTN2LjAwMXpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPjwvZz48L3N2Zz5gLFxuICBcIm1zLXJlbG9hZFwiOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk02IDRoMTVhMSAxIDAgMCAxIDEgMXY3aC0yVjZINnYzTDEgNWw1LTR2M3ptMTIgMTZIM2ExIDEgMCAwIDEtMS0xdi03aDJ2NmgxNHYtM2w1IDRsLTUgNHYtM3pcIiBmaWxsPVwid2hpdGVcIi8+PC9zdmc+YCxcbiAgXCJtcy1mb2xkZXJcIjogYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGZpbGw9XCJ3aGl0ZVwiIGQ9XCJNMjAgNWgtOC41ODZMOS43MDcgMy4yOTNBLjk5Ny45OTcgMCAwIDAgOSAzSDRjLTEuMTAzIDAtMiAuODk3LTIgMnYxNGMwIDEuMTAzLjg5NyAyIDIgMmgxNmMxLjEwMyAwIDItLjg5NyAyLTJWN2MwLTEuMTAzLS44OTctMi0yLTJ6TTQgMTlWN2gxNmwuMDAyIDEySDR6XCI+PC9wYXRoPjwvc3ZnPmAsXG4gIFwibXMtc25pcHBldFwiOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk03LjM3NSAxNi43ODFsMS4yNS0xLjU2Mkw0LjYwMSAxMmw0LjAyNC0zLjIxOWwtMS4yNS0xLjU2MmwtNSA0YTEgMSAwIDAgMCAwIDEuNTYybDUgNHptOS4yNS05LjU2MmwtMS4yNSAxLjU2MkwxOS4zOTkgMTJsLTQuMDI0IDMuMjE5bDEuMjUgMS41NjJsNS00YTEgMSAwIDAgMCAwLTEuNTYybC01LTR6bS0xLjY0OS00LjAwM2wtNCAxOGwtMS45NTMtLjQzNGw0LTE4elwiIGZpbGw9XCJ3aGl0ZVwiLz48L3N2Zz5gLFxuICBcIm1zLWFkZFwiOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cIndoaXRlXCIgc3Ryb2tlLXdpZHRoPVwiMFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMTMgN2gtMnY0SDd2Mmg0djRoMnYtNGg0di0yaC00elwiIGZpbGw9XCJ3aGl0ZVwiLz48cGF0aCBkPVwiTTEyIDJDNi40ODYgMiAyIDYuNDg2IDIgMTJzNC40ODYgMTAgMTAgMTBzMTAtNC40ODYgMTAtMTBTMTcuNTE0IDIgMTIgMnptMCAxOGMtNC40MTEgMC04LTMuNTg5LTgtOHMzLjU4OS04IDgtOHM4IDMuNTg5IDggOHMtMy41ODkgOC04IDh6XCIgZmlsbD1cIndoaXRlXCIvPjwvc3ZnPmAsXG4gIFwibXMtc2F2ZVwiOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cIndoaXRlXCIgc3Ryb2tlLXdpZHRoPVwiMFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNNSAyMWgxNGEyIDIgMCAwIDAgMi0yVjhhMSAxIDAgMCAwLS4yOS0uNzFsLTQtNEExIDEgMCAwIDAgMTYgM0g1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMnptMTAtMkg5di01aDZ6TTEzIDdoLTJWNWgyek01IDVoMnY0aDhWNWguNTlMMTkgOC40MVYxOWgtMnYtNWEyIDIgMCAwIDAtMi0ySDlhMiAyIDAgMCAwLTIgMnY1SDV6XCIgZmlsbD1cIndoaXRlXCIvPjwvc3ZnPmAsXG4gIFwibXMtZGVsZXRlXCI6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwid2hpdGVcIiBzdHJva2Utd2lkdGg9XCIwXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk01IDIwYTIgMiAwIDAgMCAyIDJoMTBhMiAyIDAgMCAwIDItMlY4aDJWNmgtNFY0YTIgMiAwIDAgMC0yLTJIOWEyIDIgMCAwIDAtMiAydjJIM3YyaDJ6TTkgNGg2djJIOXpNOCA4aDl2MTJIN1Y4elwiIGZpbGw9XCJ3aGl0ZVwiLz48cGF0aCBkPVwiTTkgMTBoMnY4SDl6bTQgMGgydjhoLTJ6XCIgZmlsbD1cIndoaXRlXCIvPjwvc3ZnPmAsXG4gIFwibXMtY3NzLWZpbGVcIjogYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIwXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk0gNiAyIEMgNC44OTUgMiA0IDIuODk1IDQgNCBMIDQgOSBMIDMgOSBDIDEuODk1IDkgMSA5Ljg5NSAxIDExIEwgMSAxNiBDIDEgMTcuMTA1IDEuODk1IDE4IDMgMTggTCA0IDE4IEwgNCAyMCBDIDQgMjEuMTA1IDQuODk1IDIyIDYgMjIgTCAxOCAyMiBDIDE5LjEwNSAyMiAyMCAyMS4xMDUgMjAgMjAgTCAyMCA3LjgyODEyNSBDIDIwIDcuMjk4MTI1IDE5Ljc4OTA2MiA2Ljc4OTA2MjUgMTkuNDE0MDYyIDYuNDE0MDYyNSBMIDE1LjU4NTkzOCAyLjU4NTkzNzUgQyAxNS4yMTA5MzcgMi4yMTA5Mzc1IDE0LjcwMTg3NSAyIDE0LjE3MTg3NSAyIEwgNiAyIHogTSA2IDQgTCAxNCA0IEwgMTQgNyBDIDE0IDcuNTUyIDE0LjQ0OCA4IDE1IDggTCAxOCA4IEwgMTggMjAgTCA2IDIwIEwgNiAxOCBMIDE1IDE4IEMgMTYuMTA1IDE4IDE3IDE3LjEwNSAxNyAxNiBMIDE3IDExIEMgMTcgOS44OTUgMTYuMTA1IDkgMTUgOSBMIDYgOSBMIDYgNCB6IE0gNSAxMSBDIDYuMTA1IDExIDcgMTEuODk1IDcgMTMgTCA2IDEzIEMgNiAxMi40NDkgNS41NTEgMTIgNSAxMiBDIDQuNDQ5IDEyIDQgMTIuNDQ5IDQgMTMgTCA0IDE0IEMgNCAxNC41NTEgNC40NDkgMTUgNSAxNSBDIDUuNTUxIDE1IDYgMTQuNTUxIDYgMTQgTCA3IDE0IEMgNyAxNS4xMDUgNi4xMDUgMTYgNSAxNiBDIDMuODk1IDE2IDMgMTUuMTA1IDMgMTQgTCAzIDEzIEMgMyAxMS44OTUgMy44OTUgMTEgNSAxMSB6IE0gOS42NDQ1MzEyIDExLjAwMTk1MyBDIDExLjA2NzUzMSAxMS4wNDI5NTMgMTEuMTU0Mjk3IDEyLjI4NDg1OSAxMS4xNTQyOTcgMTIuNTA1ODU5IEwgMTAuMTg3NSAxMi41MDU4NTkgQyAxMC4xODc1IDEyLjQwMjg1OSAxMC4yMDQ5MDYgMTEuODA2NjQxIDkuNjI4OTA2MiAxMS44MDY2NDEgQyA5LjQ1MzkwNjIgMTEuODA2NjQxIDkuMDU5ODQzOCAxMS44ODQxODcgOS4wODk4NDM4IDEyLjM2NzE4OCBDIDkuMTE4ODQzNyAxMi44MDgxODggOS43MDM1NDY5IDEzLjAxODQwNiA5LjgxMDU0NjkgMTMuMDY2NDA2IEMgMTAuMDM0NTQ3IDEzLjE0ODQwNiAxMS4xNDEzOTEgMTMuNjQyMzkxIDExLjE1MDM5MSAxNC42NTAzOTEgQyAxMS4xNTIzOTEgMTQuODY0MzkxIDExLjA5NzA2MiAxNS45ODUgOS42NjQwNjI1IDE2IEMgOC4xMDUwNjI1IDE2LjAxNyA4IDE0LjY3NTQzOCA4IDE0LjM5ODQzOCBMIDguOTc0NjA5NCAxNC4zOTg0MzggQyA4Ljk3NDYwOTQgMTQuNTQ1NDM4IDguOTg3MDYyNSAxNS4yNTYxNzIgOS42NjQwNjI1IDE1LjIwMTE3MiBDIDEwLjA3MTA2MyAxNS4xNjcxNzIgMTAuMTU5ODI4IDE0Ljg3NDI1IDEwLjE3MzgyOCAxNC42NTYyNSBDIDEwLjE5NTgyOCAxNC4yOTAyNSA5Ljg0NjU2MjUgMTQuMDcwNTc4IDkuNDc2NTYyNSAxMy44OTI1NzggQyA4Ljk1NjU2MjUgMTMuNjQyNTc4IDguMTM0MTQwNiAxMy4zMzUzMjggOC4xMTkxNDA2IDEyLjM2MTMyOCBDIDguMTA2MTQwNiAxMS40ODQzMjggOC43NTA1MzEyIDEwLjk3Njk1MyA5LjY0NDUzMTIgMTEuMDAxOTUzIHogTSAxMy40OTAyMzQgMTEuMDAxOTUzIEMgMTQuOTEzMjM0IDExLjA0Mjk1MyAxNSAxMi4yODQ4NTkgMTUgMTIuNTA1ODU5IEwgMTQuMDMxMjUgMTIuNTA1ODU5IEMgMTQuMDMxMjUgMTIuNDAyODU5IDE0LjA0ODY1NiAxMS44MDY2NDEgMTMuNDcyNjU2IDExLjgwNjY0MSBDIDEzLjI5NzY1NiAxMS44MDY2NDEgMTIuOTA1NTQ3IDExLjg4NDE4NyAxMi45MzU1NDcgMTIuMzY3MTg4IEMgMTIuOTY0NTQ3IDEyLjgwODE4OCAxMy41NDcyOTcgMTMuMDE4NDA2IDEzLjY1NDI5NyAxMy4wNjY0MDYgQyAxMy44NzgyOTcgMTMuMTQ4NDA2IDE0Ljk4NzA5NCAxMy42NDIzOTEgMTQuOTk2MDk0IDE0LjY1MDM5MSBDIDE0Ljk5ODA5NCAxNC44NjQzOTEgMTQuOTQyNzY2IDE1Ljk4NSAxMy41MDk3NjYgMTYgQyAxMS45NTA3NjYgMTYuMDE3IDExLjg0NTcwMyAxNC42NzU0MzcgMTEuODQ1NzAzIDE0LjM5ODQzOCBMIDEyLjgyMDMxMiAxNC4zOTg0MzggQyAxMi44MjAzMTIgMTQuNTQ1NDM4IDEyLjgzMjc2NiAxNS4yNTYxNzIgMTMuNTA5NzY2IDE1LjIwMTE3MiBDIDEzLjkxNjc2NiAxNS4xNjcxNzIgMTQuMDA1NTMxIDE0Ljg3NDI1IDE0LjAxOTUzMSAxNC42NTYyNSBDIDE0LjA0MTUzMSAxNC4yOTAyNSAxMy42OTIyNjYgMTQuMDcwNTc4IDEzLjMyMjI2NiAxMy44OTI1NzggQyAxMi44MDIyNjYgMTMuNjQyNTc4IDExLjk3OTg0NCAxMy4zMzUzMjggMTEuOTY0ODQ0IDEyLjM2MTMyOCBDIDExLjk1MTg0NCAxMS40ODQzMjggMTIuNTk2MjM0IDEwLjk3Njk1MyAxMy40OTAyMzQgMTEuMDAxOTUzIHpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPjwvc3ZnPmAsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkSWNvbnMoKSB7XG4gIE9iamVjdC5rZXlzKGljb25zKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBhZGRJY29uKGtleSwgaWNvbnNba2V5XSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHR5cGUgTXlTbmlwcGV0c1BsdWdpbiBmcm9tIFwic3JjL3BsdWdpbi9tYWluXCI7XG5pbXBvcnQgeyBBcHAsIFNldHRpbmcsIFBsdWdpblNldHRpbmdUYWIsIFRleHRBcmVhQ29tcG9uZW50IH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBzZXRBdHRyaWJ1dGVzIH0gZnJvbSBcInNyYy91dGlsL3NldEF0dHJpYnV0ZXNcIjtcblxuZXhwb3J0IGNsYXNzIE15U25pcHBldHNTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogTXlTbmlwcGV0c1BsdWdpbjtcbiAgYXBwZW5kTWV0aG9kOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTXlTbmlwcGV0c1BsdWdpbikge1xuICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgfVxuXG4gIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcbiAgICBjb250YWluZXJFbC5lbXB0eSgpO1xuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDFcIiwgeyB0ZXh0OiBcIk15U25pcHBldHNcIiB9KTtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwgeyB0ZXh0OiBcIkNyZWF0ZWQgYnkgXCIgfSkuY3JlYXRlRWwoXCJhXCIsIHtcbiAgICAgIHRleHQ6IFwiQ2hldGFjaGkg8J+RqfCfj73igI3wn5K7XCIsXG4gICAgICBocmVmOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9jaGV0YWNoaWV6aWtldXpvclwiLFxuICAgIH0pO1xuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIlBsdWdpbiBTZXR0aW5nc1wiIH0pO1xuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJHbGFzcyBtZW51IGVmZmVjdFwiKVxuICAgICAgLnNldERlc2MoXG4gICAgICAgIFwiQ2hvb3NlIHRvIGNoYW5nZSB0aGUgYmFja2dyb3VuZCBmcm9tIHRoZSBzZWNvbmRhcnkgYmFja2dyb3VuZCBjb2xvciBvZiB5b3VyIHRoZW1lIHRvIGEgZ2xhc3MgYmFja2dyb3VuZC5cIlxuICAgICAgKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZXN0aGV0aWNTdHlsZSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZXN0aGV0aWNTdHlsZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJBdXRvIG9wZW4gbmV3IHNuaXBwZXRcIilcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICBcIkNob29zZSB3aGV0aGVyIG9yIG5vdCB0byBvcGVuIENTUyBzbmlwcGV0IGZpbGVzIGltbWVkaXRhbGV5IGFmdGVyIGNyZWF0aW5nIHRoZW0uIEl0IHdpbGwgb3BlbiBpbiB5b3VyIGRlZmF1bHQgYXBwLlwiXG4gICAgICApXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5TbmlwcGV0RmlsZSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuU25pcHBldEZpbGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIlNldCBuZXcgc25pcHBldCBzdGF0dXNcIilcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICBcIkNob29zZSB3aGV0aGVyIG9yIG5vdCB0byBoYXZlIG5ld2x5IGNyZWF0ZWQgQ1NTIHNuaXBwZXQgZmlsZXMgdG9nZ2xlZCBvbiBhdXRvbWF0aWNhbGx5IHVwb24gY3JlYXRpb24uXCJcbiAgICAgIClcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc25pcHBldEVuYWJsZWRTdGF0dXMpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc25pcHBldEVuYWJsZWRTdGF0dXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCBzdHlsaW5nVGVtcGxhdGVTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpO1xuICAgIHN0eWxpbmdUZW1wbGF0ZVNldHRpbmcuc2V0dGluZ0VsLnNldEF0dHJpYnV0ZShcbiAgICAgIFwic3R5bGVcIixcbiAgICAgIFwiZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XCJcbiAgICApO1xuICAgIHN0eWxpbmdUZW1wbGF0ZVNldHRpbmdcbiAgICAgIC5zZXROYW1lKFwiQ1NTIHNuaXBwZXQgdGVtcGxhdGVcIilcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICBcIlNldCBkZWZhdWx0IENTUyBzdHlsaW5nIGFzIGEgdGVtcGxhdGUgZm9yIG5ldyBDU1MgZmlsZXMgeW91IGNob29zZSB0byBjcmVhdGUuXCJcbiAgICAgICk7XG5cbiAgICBjb25zdCBzdHlsaW5nVGVtcGxhdGVDb250ZW50ID0gbmV3IFRleHRBcmVhQ29tcG9uZW50KFxuICAgICAgc3R5bGluZ1RlbXBsYXRlU2V0dGluZy5jb250cm9sRWxcbiAgICApO1xuICAgIHNldEF0dHJpYnV0ZXMoc3R5bGluZ1RlbXBsYXRlQ29udGVudC5pbnB1dEVsLCB7XG4gICAgICBzdHlsZTogXCJtYXJnaW4tdG9wOiAxMnB4OyB3aWR0aDogMTAwJTsgIGhlaWdodDogMzJ2aDtcIixcbiAgICAgIGNsYXNzOiBcIm1zLWNzcy1lZGl0b3JcIixcbiAgICB9KTtcbiAgICBzdHlsaW5nVGVtcGxhdGVDb250ZW50XG5cbiAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zdHlsaW5nVGVtcGxhdGUpXG4gICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnN0eWxpbmdUZW1wbGF0ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgbXNEb25hdGlvbkRpdiA9IGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiZGl2XCIsIHtcbiAgICAgIGNsczogXCJtc0RvbmF0aW9uU2VjdGlvblwiLFxuICAgIH0pO1xuXG4gICAgY29uc3QgZG9uYXRlVGV4dCA9IGNyZWF0ZUVsKFwicFwiKTtcbiAgICBkb25hdGVUZXh0LmFwcGVuZFRleHQoXG4gICAgICBcIklmIHlvdSBsaWtlIHRoaXMgUGx1Z2luIGFuZCBhcmUgY29uc2lkZXJpbmcgZG9uYXRpbmcgdG8gc3VwcG9ydCBjb250aW51ZWQgZGV2ZWxvcG1lbnQsIHVzZSB0aGUgYnV0dG9ucyBiZWxvdyFcIlxuICAgICk7XG4gICAgbXNEb25hdGlvbkRpdi5hcHBlbmRDaGlsZChkb25hdGVUZXh0KTtcbiAgICBtc0RvbmF0aW9uRGl2LmFwcGVuZENoaWxkKFxuICAgICAgcGF5cGFsQnV0dG9uKFwiaHR0cHM6Ly9wYXlwYWwubWUvY2hlbHNlYWV6aWtldXpvclwiKVxuICAgICk7XG4gICAgbXNEb25hdGlvbkRpdi5hcHBlbmRDaGlsZChcbiAgICAgIGJ1eU1lQUNvZmZlZUJ1dHRvbihcImh0dHBzOi8vd3d3LmJ1eW1lYWNvZmZlZS5jb20vY2hldGFjaGlcIilcbiAgICApO1xuICAgIG1zRG9uYXRpb25EaXYuYXBwZW5kQ2hpbGQoa29maUJ1dHRvbihcImh0dHBzOi8va28tZmkuY29tL2NoZXRhY2hpXCIpKTtcbiAgfVxufVxuXG5jb25zdCBidXlNZUFDb2ZmZWVCdXR0b24gPSAobGluazogc3RyaW5nKTogSFRNTEVsZW1lbnQgPT4ge1xuICBjb25zdCBhID0gY3JlYXRlRWwoXCJhXCIpO1xuICBhLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgbGluayk7XG4gIGEuYWRkQ2xhc3MoXCJidXltZWFjb2ZmZWUtY2hldGFjaGktaW1nXCIpO1xuICBhLmlubmVySFRNTCA9IGA8aW1nIHNyYz1cImh0dHBzOi8vaW1nLmJ1eW1lYWNvZmZlZS5jb20vYnV0dG9uLWFwaS8/dGV4dD1CdXkgbWUgYSBjb2ZmZWUmZW1vamk9JnNsdWc9Y2hldGFjaGkmYnV0dG9uX2NvbG91cj1lM2U3ZWYmZm9udF9jb2xvdXI9MjYyNjI2JmZvbnRfZmFtaWx5PVBvcHBpbnMmb3V0bGluZV9jb2xvdXI9MjYyNjI2JmNvZmZlZV9jb2xvdXI9ZmYwMDAwXCIgaGVpZ2h0PVwiNDJweFwiPiBgO1xuICByZXR1cm4gYTtcbn07XG5cbmNvbnN0IHBheXBhbEJ1dHRvbiA9IChsaW5rOiBzdHJpbmcpOiBIVE1MRWxlbWVudCA9PiB7XG4gIGNvbnN0IGEgPSBjcmVhdGVFbChcImFcIik7XG4gIGEuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBsaW5rKTtcbiAgYS5hZGRDbGFzcyhcImJ1eW1lYWNvZmZlZS1jaGV0YWNoaS1pbWdcIik7XG4gIGEuaW5uZXJIVE1MID0gYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTUwXCIgaGVpZ2h0PVwiNDBcIj5cbiAgPHBhdGggZmlsbD1cIiMyNTNCODBcIiBkPVwiTTQ2LjIxMSA2Ljc0OWgtNi44MzlhLjk1Ljk1IDAgMCAwLS45MzkuODAybC0yLjc2NiAxNy41MzdhLjU3LjU3IDAgMCAwIC41NjQuNjU4aDMuMjY1YS45NS45NSAwIDAgMCAuOTM5LS44MDNsLjc0Ni00LjczYS45NS45NSAwIDAgMSAuOTM4LS44MDNoMi4xNjVjNC41MDUgMCA3LjEwNS0yLjE4IDcuNzg0LTYuNS4zMDYtMS44OS4wMTMtMy4zNzUtLjg3Mi00LjQxNS0uOTcyLTEuMTQyLTIuNjk2LTEuNzQ2LTQuOTg1LTEuNzQ2ek00NyAxMy4xNTRjLS4zNzQgMi40NTQtMi4yNDkgMi40NTQtNC4wNjIgMi40NTRoLTEuMDMybC43MjQtNC41ODNhLjU3LjU3IDAgMCAxIC41NjMtLjQ4MWguNDczYzEuMjM1IDAgMi40IDAgMy4wMDIuNzA0LjM1OS40Mi40NjkgMS4wNDQuMzMyIDEuOTA2ek02Ni42NTQgMTMuMDc1aC0zLjI3NWEuNTcuNTcgMCAwIDAtLjU2My40ODFsLS4xNDUuOTE2LS4yMjktLjMzMmMtLjcwOS0xLjAyOS0yLjI5LTEuMzczLTMuODY4LTEuMzczLTMuNjE5IDAtNi43MSAyLjc0MS03LjMxMiA2LjU4Ni0uMzEzIDEuOTE4LjEzMiAzLjc1MiAxLjIyIDUuMDMxLjk5OCAxLjE3NiAyLjQyNiAxLjY2NiA0LjEyNSAxLjY2NiAyLjkxNiAwIDQuNTMzLTEuODc1IDQuNTMzLTEuODc1bC0uMTQ2LjkxYS41Ny41NyAwIDAgMCAuNTYyLjY2aDIuOTVhLjk1Ljk1IDAgMCAwIC45MzktLjgwM2wxLjc3LTExLjIwOWEuNTY4LjU2OCAwIDAgMC0uNTYxLS42NTh6bS00LjU2NSA2LjM3NGMtLjMxNiAxLjg3MS0xLjgwMSAzLjEyNy0zLjY5NSAzLjEyNy0uOTUxIDAtMS43MTEtLjMwNS0yLjE5OS0uODgzLS40ODQtLjU3NC0uNjY4LTEuMzkxLS41MTQtMi4zMDEuMjk1LTEuODU1IDEuODA1LTMuMTUyIDMuNjctMy4xNTIuOTMgMCAxLjY4Ni4zMDkgMi4xODQuODkyLjQ5OS41ODkuNjk3IDEuNDExLjU1NCAyLjMxN3pNODQuMDk2IDEzLjA3NWgtMy4yOTFhLjk1NC45NTQgMCAwIDAtLjc4Ny40MTdsLTQuNTM5IDYuNjg2LTEuOTI0LTYuNDI1YS45NTMuOTUzIDAgMCAwLS45MTItLjY3OGgtMy4yMzRhLjU3LjU3IDAgMCAwLS41NDEuNzU0bDMuNjI1IDEwLjYzOC0zLjQwOCA0LjgxMWEuNTcuNTcgMCAwIDAgLjQ2NS45aDMuMjg3YS45NDkuOTQ5IDAgMCAwIC43ODEtLjQwOGwxMC45NDYtMTUuOGEuNTcuNTcgMCAwIDAtLjQ2OC0uODk1elwiPjwvcGF0aD5cbiAgPHBhdGggZmlsbD1cIiMxNzlCRDdcIiBkPVwiTTk0Ljk5MiA2Ljc0OWgtNi44NGEuOTUuOTUgMCAwIDAtLjkzOC44MDJsLTIuNzY2IDE3LjUzN2EuNTY5LjU2OSAwIDAgMCAuNTYyLjY1OGgzLjUxYS42NjUuNjY1IDAgMCAwIC42NTYtLjU2MmwuNzg1LTQuOTcxYS45NS45NSAwIDAgMSAuOTM4LS44MDNoMi4xNjRjNC41MDYgMCA3LjEwNS0yLjE4IDcuNzg1LTYuNS4zMDctMS44OS4wMTItMy4zNzUtLjg3My00LjQxNS0uOTcxLTEuMTQyLTIuNjk0LTEuNzQ2LTQuOTgzLTEuNzQ2em0uNzg5IDYuNDA1Yy0uMzczIDIuNDU0LTIuMjQ4IDIuNDU0LTQuMDYyIDIuNDU0aC0xLjAzMWwuNzI1LTQuNTgzYS41NjguNTY4IDAgMCAxIC41NjItLjQ4MWguNDczYzEuMjM0IDAgMi40IDAgMy4wMDIuNzA0LjM1OS40Mi40NjggMS4wNDQuMzMxIDEuOTA2ek0xMTUuNDM0IDEzLjA3NWgtMy4yNzNhLjU2Ny41NjcgMCAwIDAtLjU2Mi40ODFsLS4xNDUuOTE2LS4yMy0uMzMyYy0uNzA5LTEuMDI5LTIuMjg5LTEuMzczLTMuODY3LTEuMzczLTMuNjE5IDAtNi43MDkgMi43NDEtNy4zMTEgNi41ODYtLjMxMiAxLjkxOC4xMzEgMy43NTIgMS4yMTkgNS4wMzEgMSAxLjE3NiAyLjQyNiAxLjY2NiA0LjEyNSAxLjY2NiAyLjkxNiAwIDQuNTMzLTEuODc1IDQuNTMzLTEuODc1bC0uMTQ2LjkxYS41Ny41NyAwIDAgMCAuNTY0LjY2aDIuOTQ5YS45NS45NSAwIDAgMCAuOTM4LS44MDNsMS43NzEtMTEuMjA5YS41NzEuNTcxIDAgMCAwLS41NjUtLjY1OHptLTQuNTY1IDYuMzc0Yy0uMzE0IDEuODcxLTEuODAxIDMuMTI3LTMuNjk1IDMuMTI3LS45NDkgMC0xLjcxMS0uMzA1LTIuMTk5LS44ODMtLjQ4NC0uNTc0LS42NjYtMS4zOTEtLjUxNC0yLjMwMS4yOTctMS44NTUgMS44MDUtMy4xNTIgMy42Ny0zLjE1Mi45MyAwIDEuNjg2LjMwOSAyLjE4NC44OTIuNTAxLjU4OS42OTkgMS40MTEuNTU0IDIuMzE3ek0xMTkuMjk1IDcuMjNsLTIuODA3IDE3Ljg1OGEuNTY5LjU2OSAwIDAgMCAuNTYyLjY1OGgyLjgyMmMuNDY5IDAgLjg2Ny0uMzQuOTM5LS44MDNsMi43NjgtMTcuNTM2YS41Ny41NyAwIDAgMC0uNTYyLS42NTloLTMuMTZhLjU3MS41NzEgMCAwIDAtLjU2Mi40ODJ6XCI+PC9wYXRoPlxuICA8cGF0aCBmaWxsPVwiIzI1M0I4MFwiIGQ9XCJNNy4yNjYgMjkuMTU0bC41MjMtMy4zMjItMS4xNjUtLjAyN0gxLjA2MUw0LjkyNyAxLjI5MmEuMzE2LjMxNiAwIDAgMSAuMzE0LS4yNjhoOS4zOGMzLjExNCAwIDUuMjYzLjY0OCA2LjM4NSAxLjkyNy41MjYuNi44NjEgMS4yMjcgMS4wMjMgMS45MTcuMTcuNzI0LjE3MyAxLjU4OS4wMDcgMi42NDRsLS4wMTIuMDc3di42NzZsLjUyNi4yOThhMy42OSAzLjY5IDAgMCAxIDEuMDY1LjgxMmMuNDUuNTEzLjc0MSAxLjE2NS44NjQgMS45MzguMTI3Ljc5NS4wODUgMS43NDEtLjEyMyAyLjgxMi0uMjQgMS4yMzItLjYyOCAyLjMwNS0xLjE1MiAzLjE4M2E2LjU0NyA2LjU0NyAwIDAgMS0xLjgyNSAyYy0uNjk2LjQ5NC0xLjUyMy44NjktMi40NTggMS4xMDktLjkwNi4yMzYtMS45MzkuMzU1LTMuMDcyLjM1NWgtLjczYy0uNTIyIDAtMS4wMjkuMTg4LTEuNDI3LjUyNWEyLjIxIDIuMjEgMCAwIDAtLjc0NCAxLjMyOGwtLjA1NS4yOTktLjkyNCA1Ljg1NS0uMDQyLjIxNWMtLjAxMS4wNjgtLjAzLjEwMi0uMDU4LjEyNWEuMTU1LjE1NSAwIDAgMS0uMDk2LjAzNUg3LjI2NnpcIj48L3BhdGg+XG4gIDxwYXRoIGZpbGw9XCIjMTc5QkQ3XCIgZD1cIk0yMy4wNDggNy42NjdjLS4wMjguMTc5LS4wNi4zNjItLjA5Ni41NS0xLjIzNyA2LjM1MS01LjQ2OSA4LjU0NS0xMC44NzQgOC41NDVIOS4zMjZjLS42NjEgMC0xLjIxOC40OC0xLjMyMSAxLjEzMkw2LjU5NiAyNi44M2wtLjM5OSAyLjUzM2EuNzA0LjcwNCAwIDAgMCAuNjk1LjgxNGg0Ljg4MWMuNTc4IDAgMS4wNjktLjQyIDEuMTYtLjk5bC4wNDgtLjI0OC45MTktNS44MzIuMDU5LS4zMmMuMDktLjU3Mi41ODItLjk5MiAxLjE2LS45OTJoLjczYzQuNzI5IDAgOC40MzEtMS45MiA5LjUxMy03LjQ3Ni40NTItMi4zMjEuMjE4LTQuMjU5LS45NzgtNS42MjJhNC42NjcgNC42NjcgMCAwIDAtMS4zMzYtMS4wM3pcIj48L3BhdGg+XG4gIDxwYXRoIGZpbGw9XCIjMjIyRDY1XCIgZD1cIk0yMS43NTQgNy4xNTFhOS43NTcgOS43NTcgMCAwIDAtMS4yMDMtLjI2NyAxNS4yODQgMTUuMjg0IDAgMCAwLTIuNDI2LS4xNzdoLTcuMzUyYTEuMTcyIDEuMTcyIDAgMCAwLTEuMTU5Ljk5Mkw4LjA1IDE3LjYwNWwtLjA0NS4yODlhMS4zMzYgMS4zMzYgMCAwIDEgMS4zMjEtMS4xMzJoMi43NTJjNS40MDUgMCA5LjYzNy0yLjE5NSAxMC44NzQtOC41NDUuMDM3LS4xODguMDY4LS4zNzEuMDk2LS41NWE2LjU5NCA2LjU5NCAwIDAgMC0xLjAxNy0uNDI5IDkuMDQ1IDkuMDQ1IDAgMCAwLS4yNzctLjA4N3pcIj48L3BhdGg+XG4gIDxwYXRoIGZpbGw9XCIjMjUzQjgwXCIgZD1cIk05LjYxNCA3LjY5OWExLjE2OSAxLjE2OSAwIDAgMSAxLjE1OS0uOTkxaDcuMzUyYy44NzEgMCAxLjY4NC4wNTcgMi40MjYuMTc3YTkuNzU3IDkuNzU3IDAgMCAxIDEuNDgxLjM1M2MuMzY1LjEyMS43MDQuMjY0IDEuMDE3LjQyOS4zNjgtMi4zNDctLjAwMy0zLjk0NS0xLjI3Mi01LjM5MkMyMC4zNzguNjgyIDE3Ljg1MyAwIDE0LjYyMiAwaC05LjM4Yy0uNjYgMC0xLjIyMy40OC0xLjMyNSAxLjEzM0wuMDEgMjUuODk4YS44MDYuODA2IDAgMCAwIC43OTUuOTMyaDUuNzkxbDEuNDU0LTkuMjI1IDEuNTY0LTkuOTA2elwiPjwvcGF0aD5cbiAgPC9zdmc+YDtcbiAgcmV0dXJuIGE7XG59O1xuXG5jb25zdCBrb2ZpQnV0dG9uID0gKGxpbms6IHN0cmluZyk6IEhUTUxFbGVtZW50ID0+IHtcbiAgY29uc3QgYSA9IGNyZWF0ZUVsKFwiYVwiKTtcbiAgYS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGxpbmspO1xuICBhLmFkZENsYXNzKFwiYnV5bWVhY29mZmVlLWNoZXRhY2hpLWltZ1wiKTtcbiAgYS5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vY2hldGFjaGllemlrZXV6b3IvTXlTbmlwcGV0cy1QbHVnaW4vbWFzdGVyL2Fzc2V0cy9rb2ZpX2NvbG9yLnN2Z1wiIGhlaWdodD1cIjUwXCI+YDtcbiAgcmV0dXJuIGE7XG59O1xuIiwiZXhwb3J0IGNvbnN0IFNOSVBQRVRfVklFV19TSURFID0gW1wicmlnaHRcIiwgXCJsZWZ0XCJdO1xuXG5leHBvcnQgaW50ZXJmYWNlIE15U25pcHBldHNTZXR0aW5ncyB7XG4gIGFlc3RoZXRpY1N0eWxlOiBib29sZWFuO1xuICBzbmlwcGV0Vmlld1Bvc2l0aW9uOiBzdHJpbmc7XG4gIG9wZW5TbmlwcGV0RmlsZTogYm9vbGVhbjtcbiAgc3R5bGluZ1RlbXBsYXRlOiBzdHJpbmc7XG4gIHNuaXBwZXRFbmFibGVkU3RhdHVzOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTXlTbmlwcGV0c1NldHRpbmdzID0ge1xuICBhZXN0aGV0aWNTdHlsZTogZmFsc2UsXG4gIHNuaXBwZXRWaWV3UG9zaXRpb246IFwibGVmdFwiLFxuICBvcGVuU25pcHBldEZpbGU6IHRydWUsXG4gIHN0eWxpbmdUZW1wbGF0ZTogXCJcIixcbiAgc25pcHBldEVuYWJsZWRTdGF0dXM6IGZhbHNlLFxufTtcbiIsImltcG9ydCB7IFBsdWdpbiwgc2V0SWNvbiB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBzZXRBdHRyaWJ1dGVzIH0gZnJvbSBcInNyYy91dGlsL3NldEF0dHJpYnV0ZXNcIjtcclxuaW1wb3J0IHNuaXBwZXRzTWVudSBmcm9tIFwic3JjL3VpL3NuaXBwZXRzTWVudVwiO1xyXG5pbXBvcnQgeyBhZGRJY29ucyB9IGZyb20gXCJzcmMvaWNvbnMvY3VzdG9tSWNvbnNcIjtcclxuaW1wb3J0IHsgTXlTbmlwcGV0c1NldHRpbmdUYWIgfSBmcm9tIFwic3JjL3NldHRpbmdzL3NldHRpbmdzVGFiXCI7XHJcbmltcG9ydCB7XHJcbiAgTXlTbmlwcGV0c1NldHRpbmdzLFxyXG4gIERFRkFVTFRfU0VUVElOR1MsXHJcbn0gZnJvbSBcInNyYy9zZXR0aW5ncy9zZXR0aW5nc0RhdGFcIjtcclxuaW1wb3J0IENyZWF0ZVNuaXBwZXRNb2RhbCBmcm9tIFwic3JjL21vZGFsL2NyZWF0ZVNuaXBwZXRNb2RhbFwiO1xyXG5pbXBvcnQgeyBFbmhhbmNlZEFwcCB9IGZyb20gXCJzcmMvc2V0dGluZ3MvdHlwZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlTbmlwcGV0c1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcbiAgc2V0dGluZ3M6IE15U25pcHBldHNTZXR0aW5ncztcclxuICBzdGF0dXNCYXJJY29uOiBIVE1MRWxlbWVudDtcclxuICBhcHA6IEVuaGFuY2VkQXBwO1xyXG5cclxuICBhc3luYyBvbmxvYWQoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgTXlTbmlwcGV0cyB2JHt0aGlzLm1hbmlmZXN0LnZlcnNpb259IGxvYWRlZGApO1xyXG4gICAgYWRkSWNvbnMoKTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgTXlTbmlwcGV0c1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXR1cFNuaXBwZXRzU3RhdHVzQmFySWNvbigpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0dXBTbmlwcGV0c1N0YXR1c0Jhckljb24oKSB7XHJcbiAgICB0aGlzLnN0YXR1c0Jhckljb24gPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcclxuICAgIHRoaXMuc3RhdHVzQmFySWNvbi5hZGRDbGFzcyhcIk1pbmlTZXR0aW5ncy1zdGF0dXNiYXItYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5zdGF0dXNCYXJJY29uLmFkZENsYXNzKFwibW9kLWNsaWNrYWJsZVwiKTtcclxuXHJcbiAgICBzZXRBdHRyaWJ1dGVzKHRoaXMuc3RhdHVzQmFySWNvbiwge1xyXG4gICAgICBcImFyaWEtbGFiZWxcIjogXCJDb25maWd1cmUgU25pcHBldHNcIixcclxuICAgICAgXCJhcmlhLWxhYmVsLXBvc2l0aW9uXCI6IFwidG9wXCIsXHJcbiAgICB9KTtcclxuICAgIHNldEljb24odGhpcy5zdGF0dXNCYXJJY29uLCBcInBhbnRvbmUtbGluZVwiKTtcclxuXHJcbiAgICB0aGlzLnN0YXR1c0Jhckljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgc25pcHBldHNNZW51KHRoaXMuYXBwLCB0aGlzLCB0aGlzLnNldHRpbmdzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiBgb3Blbi1zbmlwcGV0cy1tZW51YCxcclxuICAgICAgbmFtZTogYE9wZW4gc25pcHBldHMgaW4gc3RhdHVzIGJhcmAsXHJcbiAgICAgIGljb246IGBwYW50b25lLWxpbmVgLFxyXG4gICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHNuaXBwZXRzTWVudSh0aGlzLmFwcCwgdGhpcywgdGhpcy5zZXR0aW5ncyk7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiBgb3Blbi1zbmlwcGV0cy1jcmVhdGVgLFxyXG4gICAgICBuYW1lOiBgQ3JlYXRlIG5ldyBDU1Mgc25pcHBldGAsXHJcbiAgICAgIGljb246IGBtcy1jc3MtZmlsZWAsXHJcbiAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgbmV3IENyZWF0ZVNuaXBwZXRNb2RhbCh0aGlzLmFwcCwgdGhpcykub3BlbigpO1xyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvbnVubG9hZCgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiTXlTbmlwcGV0cyB1bmxvYWRlZFwiKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk1vZGFsIiwiU2V0dGluZyIsIlRleHRDb21wb25lbnQiLCJUZXh0QXJlYUNvbXBvbmVudCIsIk5vdGljZSIsIkJ1dHRvbkNvbXBvbmVudCIsIk1lbnUiLCJUb2dnbGVDb21wb25lbnQiLCJhZGRJY29uIiwiUGx1Z2luU2V0dGluZ1RhYiIsIlBsdWdpbiIsInNldEljb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1REE7QUFDTyxTQUFTLFNBQVMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUU7QUFDN0QsSUFBSSxTQUFTLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxPQUFPLEtBQUssWUFBWSxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLFVBQVUsT0FBTyxFQUFFLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7QUFDaEgsSUFBSSxPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxVQUFVLE9BQU8sRUFBRSxNQUFNLEVBQUU7QUFDL0QsUUFBUSxTQUFTLFNBQVMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO0FBQ25HLFFBQVEsU0FBUyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO0FBQ3RHLFFBQVEsU0FBUyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsTUFBTSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUFFO0FBQ3RILFFBQVEsSUFBSSxDQUFDLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLFVBQVUsSUFBSSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0FBQzlFLEtB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
