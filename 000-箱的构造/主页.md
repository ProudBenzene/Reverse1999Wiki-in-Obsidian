---
aliases:
  - HomePage
tags: 
cssclasses:
  - myhome
  - hide-metadata
  - cards
  - 行列标题底色模式
banner: "[[assets/主页.assets/国际服开服.jpg]]"
banner_x: 0.542
banner_y: 0.879
---
> [!dictum] 
> ```dataviewjs
> let files = dv.pages('"000-箱的构造/箱中memos" and #金句').file;
> if (files.length === 0) {
>   dv.paragraph("没有找到任何文件");
> } else {
>   let randomFile = files[Math.floor(Math.random() * files.length)];
>   let fileContent = await app.vault.readRaw(dv.page(randomFile.path).file.path)
>   let lines = fileContent.split('\n');
>   if (lines.length < 10) {
>     dv.paragraph("选中的文件没有足够的行");
>   } else {
>     let line1 = lines[9];
>     if (line1.startsWith("#金句")) {
>       let sentence = "——" + line1.substring(4);
>       dv.span("<center>" + sentence + "</center>");
>     }
>   }
> }

>[!noborder|banner]  &nbsp;
> ```dataviewjs
let ftMd = dv.pages("").file.sort(t => t.cday)[0]
let total = parseInt([new Date() - ftMd.ctime] / (60*60*24*1000))
let nofold = '!"000-箱的构造/插件" and !"000-箱的构造/templates" and !"000-箱的构造/script" and !"assets"'
let allFile = dv.pages(nofold).file
let rolefile = dv.pages('"100-UTTU人物合辑" and !"100-UTTU人物合辑/100-UTTU人物合辑.md" and !"100-UTTU人物合辑/维尔汀｜Vertin.md"').file
let psyfile = dv.pages('"200-相从心生" and !"200-相从心生/200-相从心生.md"').file
let totalRole = "共收录 =="+rolefile.length+"== 位箱中伙伴"
let totalPsy = " =="+psyfile.length+"== 篇心相档案"
let totalTag = "有 =="+allFile.etags.distinct().length+"== 个相关标签"
let greet = '<%+ tp.date.now("A好，今天是YYYY年M月Do dddd") %>。'
dv.paragraph(greet + "第一张档案记录于*"+ new Date(ftMd.ctime).toLocaleDateString("zh-CN", { year: 'numeric', month: '2-digit', day: '2-digit' })+"*，到今天已有=="+total+"==天；"+totalRole+"、"+totalPsy+"，"+totalTag+"。")

```dataviewjs
let ftMd = dv.pages("").file.sort(t => t.cday)[0]
let total = parseInt([new Date() - ftMd.ctime] / (60*60*24*1000))
let nofold = '!"000-箱的构造/插件" and !"000-箱的构造/templates" and !"000-箱的构造/script" and !"assets"'
let allFile = dv.pages(nofold).file
let rolefile = dv.pages('"100-UTTU人物合辑" and !"100-UTTU人物合辑/100-UTTU人物合辑.md" and !"100-UTTU人物合辑/维尔汀｜Vertin.md"').file
let psyfile = dv.pages('"200-相从心生" and !"200-相从心生/200-相从心生.md"').file
let totalRole = "共收录 =="+rolefile.length+"== 位箱中伙伴"
let totalPsy = "共撰写 =="+psyfile.length+"== 篇心相档案"
let totalTag = "有 =="+allFile.etags.distinct().length+"== 个相关标签" 
const progressrole = `<progress value="${Math.round((rolefile.length / 76) * 100)}" max="100" class="nyan-cat"></progress>`
const progresspsy = `<progress value="${Math.round((psyfile.length / 52) * 100)}" max="100" class="nyan-cat"></progress>`
const percentagerole = `${Math.round((rolefile.length / 76) * 100)} %`
const percentagepsy = `${Math.round((psyfile.length / 52) * 100)} %`

dv.span(`
> [!note]+ 撰写进度
     ==角色档案==撰写进度：${progressrole}    **${percentagerole}**
      ==心相档案==撰写进度：${progresspsy}    **${percentagepsy}**
`)

```

